{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Welcome to MkDocs"},{"location":"index.html#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"index.html#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"index.html#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"01%E3%80%81html.html","text":"\u4e00\u3001HTML HTML(HyperText Markup Language)\u524d\u8a00 \u8f6f\u4ef6\u67b6\u6784 B/S \u200b Browser/Server \u7f51\u7ad9 C/S \u200b Client/Server QQ HTML\u7684\u7b80\u4ecb\u3001\u53d1\u5c55\u53f2\uff1a \u4e07\u7ef4\u7f51\u8054\u76df\uff08W3C\uff09\u7ef4\u62a4\u3002\u5305\u542bHTML\u5185\u5bb9\u7684\u6587\u4ef6\u6700\u5e38\u7528\u7684\u6269\u5c55\u540d\u662f.html\uff0c\u4f46\u662f\u50cfDOS\u8fd9\u6837\u7684\u65e7\u64cd\u4f5c\u7cfb\u7edf\u9650\u5236\u6269\u5c55\u540d\u4e3a\u6700\u591a3\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5.htm\u6269\u5c55\u540d\u4e5f\u88ab\u4f7f\u7528\u3002\u867d\u7136\u73b0\u5728\u4f7f\u7528\u7684\u6bd4\u8f83\u5c11\u4e00\u4e9b\u4e86\uff0c\u4f46\u662f.htm\u6269\u5c55\u540d\u4ecd\u65e7\u666e\u904d\u88ab\u652f\u6301\u3002 \u7f51\u7ad9\uff1a \u628a\u6240\u6709\u7684\u7f51\u7ad9\u8d44\u6e90\u6587\u4ef6\uff08HTML,CSS,JS,\u56fe\u7247,\u89c6\u9891\u7b49\uff09\u6574\u5408\u5230\u4e00\u8d77(\u7684\u4e00\u4e2a\u6587\u4ef6\u5939) \u7f16\u7a0b\u8bed\u8a00\uff1a\u89e3\u91ca\u578b\u548c\u7f16\u8bd1\u578b \u89e3\u91ca\u578b\uff1aHTML\u3001PHP\u3001Javascript\uff0cPython \u7f16\u8bd1\u578b\u8bed\u8a00\uff1aC\u3001C++\u3001Java WEB\u524d\u7aef\uff1aHTML+CSS+JavaScript HTML\uff1a\u7ed3\u6784\u6807\u51c6\uff0c\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\uff0c\u8d1f\u8d23\u901a\u8fc7\u6807\u7b7e\u6765\u8868\u8fbe\u7f51\u9875\u7684\u9875\u9762\u7ed3\u6784\u3002 css\uff1a\u5916\u89c2\u6807\u51c6\uff0c\u5c42\u53e0\u6837\u5f0f\u8868\u6807\u8bb0\u8bed\u8a00\uff0c\u8d1f\u8d23\u901a\u8fc7\u5c5e\u6027\u6807\u8bb0\u6765\u8868\u8fbe\u7f51\u9875\u7684\u5916\u89c2\u6548\u679c\u3002 \u4e00\u3001\u4ec0\u4e48\u662fHTML\uff1f \u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00 \u200b (1) \u6807\u7b7e \u4e5f\u53eb\u505a \u6807\u8bb0 \u200b (2) html\u662f\u7531\u6807\u7b7e/\u6807\u8bb0 \u548c\u5185\u5bb9\u7ec4\u6210\u7684 \u200b (3) \u6807\u7b7e \u662f\u7531 \u6807\u7b7e\u540d\u79f0 \u548c\u5c5e\u6027\u7ec4\u6210\u7684 \u5b9e\u4f8b\uff1a <\u4eba \u80a4\u8272=\u201c\u9ec4\u8272\u201d \u773c\u955c=\"\u5f88\u5927\"></\u4eba> \u6269\u5c55\uff1a \u4f7f\u7528\u534f\u8bae\u4e3a http\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae \u666e\u901a\u6587\u672c\uff1a\u6587\u5b57\u5185\u5bb9 \u8d85\u6587\u672c\uff1a\u89c6\u9891\u3001\u97f3\u9891\u3001\u56fe\u7247\u3001\u6587\u5b57... \u4e8c\u3001HTML\u7684\u4e3b\u4f53\u6807\u7b7e \u5b9e\u4f8b <!DOCTYPE html> #H5\u7684\u5934 \u58f0\u660e\u6587\u6863\u7c7b\u578b \u4e3ahtml <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/TDT/xhtml1-strit.dtd\"> #\u4e4b\u524d\u7684\u5934\u6587\u4ef6 \u73b0\u5728\u4e0d\u7528 <html> <head> <title>\u6807\u9898\u5185\u5bb9</title> <meta charset=\"UTF-8\"> #\u8bbe\u7f6e\u5b57\u7b26\u96c6 </head> <body> \u653ehtml\u7684\u4e3b\u4f53\u6807\u7b7e </body> </html> html:\u6587\u4ef6\u662f\u7f51\u9875\uff0c\u6d4f\u89c8\u5668\u52a0\u8f7d\u7f51\u9875\uff0c\u5c31\u53ef\u4ee5\u6d4f\u89c8 head:\u5934\u90e8\u5206\uff0c\u7f51\u9875\u603b\u4f53\u4fe1\u606f title:\u7f51\u9875\u6807\u9898 meta\uff1a\u7f51\u9875\u4e3b\u4f53\u4fe1\u606f\uff0c\u4f1a\u6839\u636ename(author/description/keywords) link:\u5f15\u5165\u5916\u90e8\u6587\u4ef6 style\uff1a\u5199\u5165CSS script\uff1a\u5199\u5165JS body:\u8eab\u4f53\u90e8\u5206\uff0c\u7f51\u9875\u5185\u5bb9 \u4e09\u3001HTML\u7684\u6807\u7b7e \u6807\u7b7e\u5206\u4e3a\uff1a\u5355\u6807\u7b7e/\u5355\u6807\u8bb0 \u5982\uff1a\\ /\\ \u53cc\u6807\u7b7e/\u53cc\u6807\u8bb0 \u5982: \\ \\ 1\u3001 \u6587\u672c\u6807\u7b7e <div></div> \u5757\u6807\u7b7e \u4f5c\u7528\u662f\u8bbe\u5b9a\u5b57\u3001\u753b\u3001\u8868\u683c\u7b49\u7684\u6446\u653e\u4f4d\u7f6e <p></p> \u6bb5\u843d\u6807\u7b7e \u81ea\u6210\u4e00\u6bb5 \u4f1a\u5c06\u4e0a\u4e0b\u7684\u6587\u5b57 \u548c\u5b83\u4fdd\u6301\u4e00\u5b9a\u7684\u8ddd\u79bb <h1>-</h6> \u6807\u9898\u6807\u7b7e \u5b57\u4f53\u52a0\u7c97 \u81ea\u5360\u4e00\u884c \u6ce8\u610f\uff1a \u5efa\u8bae\u4e00\u4e2a\u9875\u9762h1\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21 2\u3001 \u56fe\u7247\u6807\u7b7e <img /> \u5728\u7f51\u9875\u4e2d\u63d2\u5165\u4e00\u5f20\u56fe\u7247 \u5c5e\u6027\uff1a src\uff1a \u56fe\u7247\u540d\u53caurl\u5730\u5740 (\u5fc5\u987b\u5c5e\u6027) alt: \u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u65f6\u7684\u63d0\u793a\u4fe1\u606f title\uff1a\u6587\u5b57\u63d0\u793a\u5c5e\u6027 width\uff1a\u56fe\u7247\u5bbd\u5ea6 height\uff1a\u56fe\u7247\u9ad8\u5ea6 \u5b9e\u4f8b: <img src=\"\u56fe\u7247\u5730\u5740\" title=\"\u6587\u5b57\u63d0\u793a\" alt=\"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u663e\u793a\u5f97\u4fe1\u606f\" width=\"\u5bbd\" height=\"\u9ad8\" border=\"\u8fb9\u6846\" /> \u6ce8\u610f\uff1a \u5982\u679c\u5bbd\u548c\u9ad8 \u53ea\u7ed9\u4e00\u4e2a \u90a3\u4e48\u4e3a\u7b49\u6bd4\u7f29\u653e \u5982\u679c\u4fe9\u4e2a\u90fd\u7ed9 \u90a3\u4e48\u4f1a\u6309\u7167 \u4f60\u6240\u7ed9\u7684\u5bbd\u548c\u9ad8\u6765\u663e\u793a 3\u3001\u8def\u5f84 \u76f8\u5bf9\u8def\u5f84 ./ \u5f53\u524d ../ \u4e0a\u4e00\u7ea7 \u7edd\u5bf9\u8def\u5f84 \u4e00\u4e2a\u56fa\u5b9a\u5f97\u94fe\u63a5\u5730\u5740(\u5982\u57df\u540d) \u4ece\u6839\u78c1\u76d8 \u4e00\u76f4\u5230\u4f60\u7684\u6587\u4ef6\u5f97\u8def\u5f84 file\u534f\u8bae \u6253\u5f00\u672c\u5730\u78c1\u76d8\u6587\u4ef6\u5f97\u534f\u8bae\uff08\u8bd5\u4e00\u4e0b\u706b\u72d0\uff09 4\u3001 \u8d85\u94fe\u63a5 \\ \u70b9\u51fb\u663e\u793a\u5f97\u5185\u5bb9\\ \u5c5e\u6027\uff1a href\u5fc5\u987b\uff0c\u6307\u7684\u662f\u94fe\u63a5\u8df3\u8f6c\u5730\u5740 target: \u200b _blank \u65b0\u5efa\u7a97\u53e3\u5f97\u5f62\u5f0f\u6765\u6253\u5f00 \u200b _self \u672c\u7a97\u53e3\u6765\u6253\u5f00(\u9ed8\u8ba4) title\uff1a\u6587\u5b57\u63d0\u793a\u5c5e\u6027\uff08\u8be6\u60c5\uff09 5\u3001 \u5217\u8868 \u65e0\u5e8f\u5217\u8868 ```html ``` \u6709\u5e8f\u5217\u8868 ```html ``` \u81ea\u5b9a\u4e49\u5217\u8868 ```html \u5217\u8868\u5934 \u5217\u8868\u5185\u5bb9 ``` 6\u3001 HTML\u6ce8\u91ca \u591a\u884c\u6ce8\u91ca\uff1a \u6ce8\u91ca\u7684\u4f5c\u7528\uff1a \u4ee3\u7801\u7684\u8c03\u8bd5 \u89e3\u91ca\u8bf4\u660e \u56db\u3001iframe 1\u3001\u5b9a\u4e49\u548c\u7528\u6cd5 iframe \u5143\u7d20\u4f1a\u521b\u5efa\u5305\u542b\u53e6\u5916\u4e00\u4e2a\u6587\u6863\u7684\u5185\u8054\u6846\u67b6\uff08\u5373\u884c\u5185\u6846\u67b6\uff09\u3002 2\u3001\u4f7f\u7528 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> </head> <body> <iframe src=\"http://mediaplay.kksmg.com/2022/07/25/h264_720p_600k_39038-DFTVHD-20220725175000-4800-310117-600k_mp4.mp4\"></iframe> <p>\u4e00\u4e9b\u8001\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 iframe\u3002</p> <p>\u5982\u679c\u5f97\u4e0d\u5230\u652f\u6301\uff0ciframe \u662f\u4e0d\u53ef\u89c1\u7684\u3002</p> </body> </html> ## \u4e94 TABLE\u8868\u683c table\u8868\u683c 1\u3001\u5c5e\u6027\uff1a width \u5bbd height \u9ad8 border \u8fb9\u6846 rowspan\u5408\u5e76\u884c colspan\u5408\u5e76\u5217 2\u3001\u6807\u7b7e\uff1a caption \u8868\u683c\u6807\u9898 tr \u884c\u6807\u7b7e th \u5217\u5934\u6807\u7b7e td \u5217\u6807\u7b7e \u5b9e\u4f8b\uff1a ```html \u6211\u662f\u8868\u683c\u7684\u6807\u9898 \u6211\u662f\u8868\u5934 \u6211\u662f\u8868\u5934 \u6211\u662f\u8868\u5934 \u6211\u662f\u5355\u5143\u683c \u6211\u662f\u5355\u5143\u683c \u6211\u662f\u5355\u5143\u683c ``` ## \u516d FORM\u8868\u5355 \u6807\u7b7e\uff1a <form></form> 1\u3001 form\u5c5e\u6027 action \u63d0\u4ea4\u7684\u5730\u5740 method \u63d0\u4ea4\u7684\u65b9\u5f0f get (1) \u9ed8\u8ba4\u4e0d\u5199 \u4e3aget\u4f20\u53c2 url\u5730\u5740\u680f\u53ef\u89c1 (2) \u957f\u5ea6\u53d7\u9650\u5236 \uff08IE\u6d4f\u89c8\u56682k\u706b\u72d08k\uff09 (3) \u76f8\u5bf9\u4e0d\u5b89\u5168 post (1) url\u5730\u5740\u680f\u4e0d\u53ef\u89c1 \u957f\u5ea6\u9ed8\u8ba4\u4e0d\u53d7\u9650\u5236 (2) \u76f8\u5bf9\u5b89\u5168 2\u3001input \u6807\u7b7e <input> \u8868\u5355\u9879\u6807\u7b7einput\u5b9a\u4e49\u8f93\u5165\u5b57\u6bb5\uff0c\u7528\u6237\u53ef\u5728\u5176\u4e2d\u8f93\u5165\u6570\u636e\u3002\u5728 HTML 5 \u4e2d\uff0ctype \u5c5e\u6027\u6709\u5f88\u591a\u65b0\u7684\u503c\u3002 \u5177\u4f53\u5728\u4e0b\u9762\u6709\u8be6\u89e3\uff1a \u5982\uff1a <input type=\"text\" name=\"username\"> 3\u3001 select \u6807\u7b7e\u521b\u5efa\u4e0b\u62c9\u5217\u8868\u3002 \u5c5e\u6027\uff1a name\u5c5e\u6027:\u5b9a\u4e49\u540d\u79f0,\u7528\u4e8e\u5b58\u50a8\u4e0b\u62c9\u503c\u7684 \u5185\u5d4c\u6807\u7b7e\uff1a <option> \u4e0b\u62c9\u9009\u62e9\u9879\u6807\u7b7e,\u7528\u4e8e\u5d4c\u5165\u5230 <select> \u6807\u7b7e\u4e2d\u4f7f\u7528\u7684; \u5c5e\u6027\uff1a value\u5c5e\u6027:\u4e0b\u62c9\u9879\u7684\u503c selected\u5c5e\u6027:\u9ed8\u8ba4\u4e0b\u62c9\u6307\u5b9a\u9879. 4\u3001 textarea \u591a\u884c\u7684\u6587\u672c\u8f93\u5165\u533a\u57df \u5c5e\u6027\uff1a \\ name :\u5b9a\u4e49\u540d\u79f0,\u7528\u4e8e\u5b58\u50a8\u6587\u672c\u533a\u57df\u4e2d\u7684\u503c\u3002 cols \uff1a\u89c4\u5b9a\u6587\u672c\u533a\u5185\u53ef\u89c1\u7684\u5217\u6570\u3002 rows \uff1a\u89c4\u5b9a\u6587\u672c\u533a\u5185\u53ef\u89c1\u7684\u884c\u6570\u3002 5\u3001input \u6807\u7b7e type\u5c5e\u6027:\u8868\u793a\u8868\u5355\u9879\u7684\u7c7b\u578b: \u503c\u5982\u4e0b: text:\u5355\u884c\u6587\u672c\u6846 password:\u5bc6\u7801\u8f93\u5165\u6846 checkbox:\u591a\u9009\u6846 \u6ce8\u610f\u8981\u63d0\u4f9bvalue\u503c radio:\u5355\u9009\u6846 \u6ce8\u610f\u8981\u63d0\u4f9bvalue\u503c file:\u6587\u4ef6\u4e0a\u4f20\u9009\u62e9\u6846 button:\u666e\u901a\u6309\u94ae submit:\u63d0\u4ea4\u6309\u94ae reset:\u91cd\u7f6e\u6309\u94ae, \u8fd8\u539f\u5230\u5f00\u59cb(\u7b2c\u4e00\u6b21\u6253\u5f00\u65f6)\u7684\u6548\u679c \u4e03\u3001HTML\u4e2dHEAD\u5934\u90e8\u8bbe\u7f6e \u8bbe\u7f6e\u7f51\u9875\u7f16\u7801\uff1a <meta charset=\"utf-8\"/> \u7f51\u9875\u6807\u9898\uff1a <title>\u672c\u7f51\u9875\u6807\u9898</title> \u5bfc\u5165CSS\u6587\u4ef6\uff1a <link type=\"text/css\" rel=\"stylesheet\" href=\".css\"/> CSS\u4ee3\u7801\uff1a <style type=\"text/css\">\u5d4c\u5165css\u6837\u5f0f\u4ee3\u7801</style> JS\u6587\u4ef6\u6216\u4ee3\u7801\uff1a <script >\u3002\u3002\u3002</script>","title":"\u4e00\u3001HTML"},{"location":"01%E3%80%81html.html#html","text":"","title":"\u4e00\u3001HTML"},{"location":"01%E3%80%81html.html#htmlhypertext-markup-language","text":"\u8f6f\u4ef6\u67b6\u6784 B/S \u200b Browser/Server \u7f51\u7ad9 C/S \u200b Client/Server QQ HTML\u7684\u7b80\u4ecb\u3001\u53d1\u5c55\u53f2\uff1a \u4e07\u7ef4\u7f51\u8054\u76df\uff08W3C\uff09\u7ef4\u62a4\u3002\u5305\u542bHTML\u5185\u5bb9\u7684\u6587\u4ef6\u6700\u5e38\u7528\u7684\u6269\u5c55\u540d\u662f.html\uff0c\u4f46\u662f\u50cfDOS\u8fd9\u6837\u7684\u65e7\u64cd\u4f5c\u7cfb\u7edf\u9650\u5236\u6269\u5c55\u540d\u4e3a\u6700\u591a3\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5.htm\u6269\u5c55\u540d\u4e5f\u88ab\u4f7f\u7528\u3002\u867d\u7136\u73b0\u5728\u4f7f\u7528\u7684\u6bd4\u8f83\u5c11\u4e00\u4e9b\u4e86\uff0c\u4f46\u662f.htm\u6269\u5c55\u540d\u4ecd\u65e7\u666e\u904d\u88ab\u652f\u6301\u3002 \u7f51\u7ad9\uff1a \u628a\u6240\u6709\u7684\u7f51\u7ad9\u8d44\u6e90\u6587\u4ef6\uff08HTML,CSS,JS,\u56fe\u7247,\u89c6\u9891\u7b49\uff09\u6574\u5408\u5230\u4e00\u8d77(\u7684\u4e00\u4e2a\u6587\u4ef6\u5939) \u7f16\u7a0b\u8bed\u8a00\uff1a\u89e3\u91ca\u578b\u548c\u7f16\u8bd1\u578b \u89e3\u91ca\u578b\uff1aHTML\u3001PHP\u3001Javascript\uff0cPython \u7f16\u8bd1\u578b\u8bed\u8a00\uff1aC\u3001C++\u3001Java WEB\u524d\u7aef\uff1aHTML+CSS+JavaScript HTML\uff1a\u7ed3\u6784\u6807\u51c6\uff0c\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\uff0c\u8d1f\u8d23\u901a\u8fc7\u6807\u7b7e\u6765\u8868\u8fbe\u7f51\u9875\u7684\u9875\u9762\u7ed3\u6784\u3002 css\uff1a\u5916\u89c2\u6807\u51c6\uff0c\u5c42\u53e0\u6837\u5f0f\u8868\u6807\u8bb0\u8bed\u8a00\uff0c\u8d1f\u8d23\u901a\u8fc7\u5c5e\u6027\u6807\u8bb0\u6765\u8868\u8fbe\u7f51\u9875\u7684\u5916\u89c2\u6548\u679c\u3002","title":"HTML(HyperText Markup Language)\u524d\u8a00"},{"location":"01%E3%80%81html.html#html_1","text":"\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00 \u200b (1) \u6807\u7b7e \u4e5f\u53eb\u505a \u6807\u8bb0 \u200b (2) html\u662f\u7531\u6807\u7b7e/\u6807\u8bb0 \u548c\u5185\u5bb9\u7ec4\u6210\u7684 \u200b (3) \u6807\u7b7e \u662f\u7531 \u6807\u7b7e\u540d\u79f0 \u548c\u5c5e\u6027\u7ec4\u6210\u7684 \u5b9e\u4f8b\uff1a <\u4eba \u80a4\u8272=\u201c\u9ec4\u8272\u201d \u773c\u955c=\"\u5f88\u5927\"></\u4eba> \u6269\u5c55\uff1a \u4f7f\u7528\u534f\u8bae\u4e3a http\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae \u666e\u901a\u6587\u672c\uff1a\u6587\u5b57\u5185\u5bb9 \u8d85\u6587\u672c\uff1a\u89c6\u9891\u3001\u97f3\u9891\u3001\u56fe\u7247\u3001\u6587\u5b57...","title":"\u4e00\u3001\u4ec0\u4e48\u662fHTML\uff1f"},{"location":"01%E3%80%81html.html#html_2","text":"\u5b9e\u4f8b <!DOCTYPE html> #H5\u7684\u5934 \u58f0\u660e\u6587\u6863\u7c7b\u578b \u4e3ahtml <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/TDT/xhtml1-strit.dtd\"> #\u4e4b\u524d\u7684\u5934\u6587\u4ef6 \u73b0\u5728\u4e0d\u7528 <html> <head> <title>\u6807\u9898\u5185\u5bb9</title> <meta charset=\"UTF-8\"> #\u8bbe\u7f6e\u5b57\u7b26\u96c6 </head> <body> \u653ehtml\u7684\u4e3b\u4f53\u6807\u7b7e </body> </html> html:\u6587\u4ef6\u662f\u7f51\u9875\uff0c\u6d4f\u89c8\u5668\u52a0\u8f7d\u7f51\u9875\uff0c\u5c31\u53ef\u4ee5\u6d4f\u89c8 head:\u5934\u90e8\u5206\uff0c\u7f51\u9875\u603b\u4f53\u4fe1\u606f title:\u7f51\u9875\u6807\u9898 meta\uff1a\u7f51\u9875\u4e3b\u4f53\u4fe1\u606f\uff0c\u4f1a\u6839\u636ename(author/description/keywords) link:\u5f15\u5165\u5916\u90e8\u6587\u4ef6 style\uff1a\u5199\u5165CSS script\uff1a\u5199\u5165JS body:\u8eab\u4f53\u90e8\u5206\uff0c\u7f51\u9875\u5185\u5bb9","title":"\u4e8c\u3001HTML\u7684\u4e3b\u4f53\u6807\u7b7e"},{"location":"01%E3%80%81html.html#html_3","text":"\u6807\u7b7e\u5206\u4e3a\uff1a\u5355\u6807\u7b7e/\u5355\u6807\u8bb0 \u5982\uff1a\\ /\\ \u53cc\u6807\u7b7e/\u53cc\u6807\u8bb0 \u5982: \\ \\","title":"\u4e09\u3001HTML\u7684\u6807\u7b7e"},{"location":"01%E3%80%81html.html#1","text":"<div></div> \u5757\u6807\u7b7e \u4f5c\u7528\u662f\u8bbe\u5b9a\u5b57\u3001\u753b\u3001\u8868\u683c\u7b49\u7684\u6446\u653e\u4f4d\u7f6e <p></p> \u6bb5\u843d\u6807\u7b7e \u81ea\u6210\u4e00\u6bb5 \u4f1a\u5c06\u4e0a\u4e0b\u7684\u6587\u5b57 \u548c\u5b83\u4fdd\u6301\u4e00\u5b9a\u7684\u8ddd\u79bb <h1>-</h6> \u6807\u9898\u6807\u7b7e \u5b57\u4f53\u52a0\u7c97 \u81ea\u5360\u4e00\u884c \u6ce8\u610f\uff1a \u5efa\u8bae\u4e00\u4e2a\u9875\u9762h1\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21","title":"1\u3001 \u6587\u672c\u6807\u7b7e"},{"location":"01%E3%80%81html.html#2","text":"<img /> \u5728\u7f51\u9875\u4e2d\u63d2\u5165\u4e00\u5f20\u56fe\u7247 \u5c5e\u6027\uff1a src\uff1a \u56fe\u7247\u540d\u53caurl\u5730\u5740 (\u5fc5\u987b\u5c5e\u6027) alt: \u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u65f6\u7684\u63d0\u793a\u4fe1\u606f title\uff1a\u6587\u5b57\u63d0\u793a\u5c5e\u6027 width\uff1a\u56fe\u7247\u5bbd\u5ea6 height\uff1a\u56fe\u7247\u9ad8\u5ea6 \u5b9e\u4f8b: <img src=\"\u56fe\u7247\u5730\u5740\" title=\"\u6587\u5b57\u63d0\u793a\" alt=\"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u663e\u793a\u5f97\u4fe1\u606f\" width=\"\u5bbd\" height=\"\u9ad8\" border=\"\u8fb9\u6846\" /> \u6ce8\u610f\uff1a \u5982\u679c\u5bbd\u548c\u9ad8 \u53ea\u7ed9\u4e00\u4e2a \u90a3\u4e48\u4e3a\u7b49\u6bd4\u7f29\u653e \u5982\u679c\u4fe9\u4e2a\u90fd\u7ed9 \u90a3\u4e48\u4f1a\u6309\u7167 \u4f60\u6240\u7ed9\u7684\u5bbd\u548c\u9ad8\u6765\u663e\u793a","title":"2\u3001 \u56fe\u7247\u6807\u7b7e"},{"location":"01%E3%80%81html.html#3","text":"\u76f8\u5bf9\u8def\u5f84 ./ \u5f53\u524d ../ \u4e0a\u4e00\u7ea7 \u7edd\u5bf9\u8def\u5f84 \u4e00\u4e2a\u56fa\u5b9a\u5f97\u94fe\u63a5\u5730\u5740(\u5982\u57df\u540d) \u4ece\u6839\u78c1\u76d8 \u4e00\u76f4\u5230\u4f60\u7684\u6587\u4ef6\u5f97\u8def\u5f84 file\u534f\u8bae \u6253\u5f00\u672c\u5730\u78c1\u76d8\u6587\u4ef6\u5f97\u534f\u8bae\uff08\u8bd5\u4e00\u4e0b\u706b\u72d0\uff09","title":"3\u3001\u8def\u5f84"},{"location":"01%E3%80%81html.html#4","text":"\\ \u70b9\u51fb\u663e\u793a\u5f97\u5185\u5bb9\\ \u5c5e\u6027\uff1a href\u5fc5\u987b\uff0c\u6307\u7684\u662f\u94fe\u63a5\u8df3\u8f6c\u5730\u5740 target: \u200b _blank \u65b0\u5efa\u7a97\u53e3\u5f97\u5f62\u5f0f\u6765\u6253\u5f00 \u200b _self \u672c\u7a97\u53e3\u6765\u6253\u5f00(\u9ed8\u8ba4) title\uff1a\u6587\u5b57\u63d0\u793a\u5c5e\u6027\uff08\u8be6\u60c5\uff09","title":"4\u3001 \u8d85\u94fe\u63a5"},{"location":"01%E3%80%81html.html#5","text":"","title":"5\u3001 \u5217\u8868"},{"location":"01%E3%80%81html.html#_1","text":"```html ```","title":"\u65e0\u5e8f\u5217\u8868"},{"location":"01%E3%80%81html.html#_2","text":"```html ```","title":"\u6709\u5e8f\u5217\u8868"},{"location":"01%E3%80%81html.html#_3","text":"```html \u5217\u8868\u5934 \u5217\u8868\u5185\u5bb9 ```","title":"\u81ea\u5b9a\u4e49\u5217\u8868"},{"location":"01%E3%80%81html.html#6-html","text":"\u591a\u884c\u6ce8\u91ca\uff1a \u6ce8\u91ca\u7684\u4f5c\u7528\uff1a \u4ee3\u7801\u7684\u8c03\u8bd5 \u89e3\u91ca\u8bf4\u660e","title":"6\u3001 HTML\u6ce8\u91ca"},{"location":"01%E3%80%81html.html#iframe","text":"","title":"\u56db\u3001iframe"},{"location":"01%E3%80%81html.html#1_1","text":"iframe \u5143\u7d20\u4f1a\u521b\u5efa\u5305\u542b\u53e6\u5916\u4e00\u4e2a\u6587\u6863\u7684\u5185\u8054\u6846\u67b6\uff08\u5373\u884c\u5185\u6846\u67b6\uff09\u3002","title":"1\u3001\u5b9a\u4e49\u548c\u7528\u6cd5"},{"location":"01%E3%80%81html.html#2_1","text":"<!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> </head> <body> <iframe src=\"http://mediaplay.kksmg.com/2022/07/25/h264_720p_600k_39038-DFTVHD-20220725175000-4800-310117-600k_mp4.mp4\"></iframe> <p>\u4e00\u4e9b\u8001\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 iframe\u3002</p> <p>\u5982\u679c\u5f97\u4e0d\u5230\u652f\u6301\uff0ciframe \u662f\u4e0d\u53ef\u89c1\u7684\u3002</p> </body> </html> ## \u4e94 TABLE\u8868\u683c table\u8868\u683c","title":"2\u3001\u4f7f\u7528"},{"location":"01%E3%80%81html.html#1_2","text":"width \u5bbd height \u9ad8 border \u8fb9\u6846 rowspan\u5408\u5e76\u884c colspan\u5408\u5e76\u5217","title":"1\u3001\u5c5e\u6027\uff1a"},{"location":"01%E3%80%81html.html#2_2","text":"caption \u8868\u683c\u6807\u9898 tr \u884c\u6807\u7b7e th \u5217\u5934\u6807\u7b7e td \u5217\u6807\u7b7e \u5b9e\u4f8b\uff1a ```html \u6211\u662f\u8868\u683c\u7684\u6807\u9898 \u6211\u662f\u8868\u5934 \u6211\u662f\u8868\u5934 \u6211\u662f\u8868\u5934 \u6211\u662f\u5355\u5143\u683c \u6211\u662f\u5355\u5143\u683c \u6211\u662f\u5355\u5143\u683c ``` ## \u516d FORM\u8868\u5355 \u6807\u7b7e\uff1a <form></form>","title":"2\u3001\u6807\u7b7e\uff1a"},{"location":"01%E3%80%81html.html#1-form","text":"action \u63d0\u4ea4\u7684\u5730\u5740 method \u63d0\u4ea4\u7684\u65b9\u5f0f get (1) \u9ed8\u8ba4\u4e0d\u5199 \u4e3aget\u4f20\u53c2 url\u5730\u5740\u680f\u53ef\u89c1 (2) \u957f\u5ea6\u53d7\u9650\u5236 \uff08IE\u6d4f\u89c8\u56682k\u706b\u72d08k\uff09 (3) \u76f8\u5bf9\u4e0d\u5b89\u5168 post (1) url\u5730\u5740\u680f\u4e0d\u53ef\u89c1 \u957f\u5ea6\u9ed8\u8ba4\u4e0d\u53d7\u9650\u5236 (2) \u76f8\u5bf9\u5b89\u5168","title":"1\u3001 form\u5c5e\u6027"},{"location":"01%E3%80%81html.html#2input","text":"<input> \u8868\u5355\u9879\u6807\u7b7einput\u5b9a\u4e49\u8f93\u5165\u5b57\u6bb5\uff0c\u7528\u6237\u53ef\u5728\u5176\u4e2d\u8f93\u5165\u6570\u636e\u3002\u5728 HTML 5 \u4e2d\uff0ctype \u5c5e\u6027\u6709\u5f88\u591a\u65b0\u7684\u503c\u3002 \u5177\u4f53\u5728\u4e0b\u9762\u6709\u8be6\u89e3\uff1a \u5982\uff1a <input type=\"text\" name=\"username\">","title":"2\u3001input \u6807\u7b7e"},{"location":"01%E3%80%81html.html#3-select","text":"\u5c5e\u6027\uff1a name\u5c5e\u6027:\u5b9a\u4e49\u540d\u79f0,\u7528\u4e8e\u5b58\u50a8\u4e0b\u62c9\u503c\u7684","title":"3\u3001 select \u6807\u7b7e\u521b\u5efa\u4e0b\u62c9\u5217\u8868\u3002"},{"location":"01%E3%80%81html.html#_4","text":"<option> \u4e0b\u62c9\u9009\u62e9\u9879\u6807\u7b7e,\u7528\u4e8e\u5d4c\u5165\u5230 <select> \u6807\u7b7e\u4e2d\u4f7f\u7528\u7684;","title":"\u5185\u5d4c\u6807\u7b7e\uff1a"},{"location":"01%E3%80%81html.html#_5","text":"value\u5c5e\u6027:\u4e0b\u62c9\u9879\u7684\u503c selected\u5c5e\u6027:\u9ed8\u8ba4\u4e0b\u62c9\u6307\u5b9a\u9879.","title":"\u5c5e\u6027\uff1a"},{"location":"01%E3%80%81html.html#4-textarea","text":"\u5c5e\u6027\uff1a \\ name :\u5b9a\u4e49\u540d\u79f0,\u7528\u4e8e\u5b58\u50a8\u6587\u672c\u533a\u57df\u4e2d\u7684\u503c\u3002 cols \uff1a\u89c4\u5b9a\u6587\u672c\u533a\u5185\u53ef\u89c1\u7684\u5217\u6570\u3002 rows \uff1a\u89c4\u5b9a\u6587\u672c\u533a\u5185\u53ef\u89c1\u7684\u884c\u6570\u3002","title":"4\u3001 textarea \u591a\u884c\u7684\u6587\u672c\u8f93\u5165\u533a\u57df"},{"location":"01%E3%80%81html.html#5input","text":"type\u5c5e\u6027:\u8868\u793a\u8868\u5355\u9879\u7684\u7c7b\u578b: \u503c\u5982\u4e0b: text:\u5355\u884c\u6587\u672c\u6846 password:\u5bc6\u7801\u8f93\u5165\u6846 checkbox:\u591a\u9009\u6846 \u6ce8\u610f\u8981\u63d0\u4f9bvalue\u503c radio:\u5355\u9009\u6846 \u6ce8\u610f\u8981\u63d0\u4f9bvalue\u503c file:\u6587\u4ef6\u4e0a\u4f20\u9009\u62e9\u6846 button:\u666e\u901a\u6309\u94ae submit:\u63d0\u4ea4\u6309\u94ae reset:\u91cd\u7f6e\u6309\u94ae, \u8fd8\u539f\u5230\u5f00\u59cb(\u7b2c\u4e00\u6b21\u6253\u5f00\u65f6)\u7684\u6548\u679c","title":"5\u3001input \u6807\u7b7e"},{"location":"01%E3%80%81html.html#htmlhead","text":"\u8bbe\u7f6e\u7f51\u9875\u7f16\u7801\uff1a <meta charset=\"utf-8\"/> \u7f51\u9875\u6807\u9898\uff1a <title>\u672c\u7f51\u9875\u6807\u9898</title> \u5bfc\u5165CSS\u6587\u4ef6\uff1a <link type=\"text/css\" rel=\"stylesheet\" href=\".css\"/> CSS\u4ee3\u7801\uff1a <style type=\"text/css\">\u5d4c\u5165css\u6837\u5f0f\u4ee3\u7801</style> JS\u6587\u4ef6\u6216\u4ee3\u7801\uff1a <script >\u3002\u3002\u3002</script>","title":"\u4e03\u3001HTML\u4e2dHEAD\u5934\u90e8\u8bbe\u7f6e"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html","text":"\u4e8c\u3001CSS\u5c42\u53e0\u6837\u5f0f\u8868 \u4e00\u3001css\u7684\u8bed\u6cd5 \u4ec0\u4e48\u662fcss\uff1f \u5c42\u53e0\u6837\u5f0f\u8868 \u547d\u540d\u89c4\u5219\uff1a \u4f7f\u7528\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u548c\u51cf\u53f7\u6784\u6210\uff0c\u4e0d\u8981\u4ee5\u6570\u5b57\u5f00\u5934 \u683c\u5f0f\uff1a \u9009\u62e9\u5668{\u5c5e\u6027:\u503c;\u5c5e\u6027:\u503c;\u5c5e\u6027:\u503c;....} \u5176\u4e2d\u9009\u62e9\u5668\u4e5f\u53eb\u9009\u62e9\u7b26 CSS\u4e2d\u6ce8\u91ca css /* ... */ \u4e8c\u3001\u5728HTML\u4e2d\u5982\u4f55\u4f7f\u7528css\u6837\u5f0f\uff08html\u4e2d\u5d4c\u5165css\u7684\u65b9\u5f0f\uff09 1\u3001\u5185\u8054\u65b9\u5f0f\uff08\u884c\u5185\u6837\u5f0f\uff09 \u5c31\u662f\u5728HTML\u7684\u6807\u7b7e\u4e2d\u4f7f\u7528style\u5c5e\u6027\u6765\u8bbe\u7f6ecss\u6837\u5f0f \u683c\u5f0f\uff1a <html\u6807\u7b7e style=\"\u5c5e\u6027:\u503c;\u5c5e\u6027:\u503c;....\">\u88ab\u4fee\u9970\u7684\u5185\u5bb9</html\u6807\u7b7e> <p style=\"color:blue;font-family:\u96b6\u4e66\">\u5728HTML\u4e2d\u5982\u4f55\u4f7f\u7528css\u6837\u5f0f</p> \u7279\u70b9\uff1a\u4ec5\u4f5c\u7528\u4e8e\u672c\u6807\u7b7e 2\u3001\u5185\u90e8\u65b9\u5f0f\uff08\u5185\u5d4c\u6837\u5f0f\uff09 \u5c31\u662f\u5728head\u6807\u7b7e\u4e2d\u4f7f\u7528 <style type=\"text/css\">....</style> \u6807\u7b7e\u6765\u8bbe\u7f6ecss\u6837\u5f0f \u683c\u5f0f\uff1a <style type=\"text/css\"> ....css\u6837\u5f0f\u4ee3\u7801 </style> \u7279\u70b9\uff1a \u4f5c\u7528\u4e8e\u5f53\u524d\u6574\u4e2a\u9875\u9762 3\u3001\u5916\u90e8\u5bfc\u5165\u65b9\u5f0f\uff08\u5916\u90e8\u94fe\u5165\uff09 \uff08\u63a8\u8350\uff09\u5c31\u662f\u5728head\u6807\u7b7e\u4e2d\u4f7f\u7528 <link/> \u6807\u7b7e\u5bfc\u5165\u4e00\u4e2acss\u6587\u4ef6\uff0c\u5728\u4f5c\u7528\u4e8e\u672c\u9875\u9762\uff0c\u5b9e\u73b0css\u6837\u5f0f\u8bbe\u7f6e \u683c\u5f0f\uff1a Css <link href=\"\u6587\u4ef6\u540d.css\" type=\"text/css\" rel=\"stylesheet\"/> \u7279\u70b9\uff1a\u4f5c\u7528\u4e8e\u6574\u4e2a\u7f51\u7ad9 \u4e09\u3001**css2\u7684\u9009\u62e9\u7b26\uff1a 1\u3001html\u9009\u62e9\u7b26\uff08\u6807\u7b7e\u9009\u62e9\u5668\uff09 \u5c31\u662f\u628ahtml\u6807\u7b7e\u4f5c\u4e3a\u9009\u62e9\u7b26\u4f7f\u7528 \u5982 p{....} \u7f51\u9875\u4e2d\u6240\u6709p\u6807\u7b7e\u91c7\u7528\u6b64\u6837\u5f0f h2{....} \u7f51\u9875\u4e2d\u6240\u6709h2\u6807\u7b7e\u91c7\u7528\u6b64\u6837\u5f0f 2\u3001class\u7c7b\u9009\u62e9\u7b26 (\u4f7f\u7528\u70b9.\u5c06\u81ea\u5b9a\u4e49\u540d\uff08\u7c7b\u540d\uff09\u6765\u5b9a\u4e49\u7684\u9009\u62e9\u7b26)\uff08\u7c7b\u9009\u62e9\u5668P\uff09 \u5b9a\u4e49\uff1a .\u7c7b\u540d{\u6837\u5f0f....} \u533f\u540d\u7c7b \u5176\u4ed6\u9009\u62e9\u7b26\u540d.\u7c7b\u540d{\u6837\u5f0f....} \u4f7f\u7528\uff1a <html\u6807\u7b7e class=\"\u7c7b\u540d\">...</html\u6807\u7b7e> .mc{color:blue;} / \u51e1\u662fclass\u5c5e\u6027\u503c\u4e3amc\u7684\u90fd\u91c7\u7528\u6b64\u6837\u5f0f / p .ps{color:green;} / \u53ea\u6709p\u6807\u7b7e\u4e2dclass\u5c5e\u6027\u503c\u4e3aps\u7684\u624d\u91c7\u7528\u6b64\u6837\u5f0f / \u6ce8\u610f\uff1a\u7c7b\u9009\u62e9\u7b26\u53ef\u4ee5\u5728\u7f51\u9875\u4e2d\u91cd\u590d\u4f7f\u7528 3\u3001Id\u9009\u62e9\u7b26(ID\u9009\u62e9\u5668) \u5b9a\u4e49\uff1a #id\u540d{\u6837\u5f0f.....} \u4f7f\u7528\uff1a <html\u6807\u7b7e id=\"id\u540d\">...</html\u6807\u7b7e> \u6ce8\u610f\uff1aid\u9009\u62e9\u7b26\u53ea\u5728\u7f51\u9875\u4e2d\u4f7f\u7528\u4e00\u6b21 \u9009\u62e9\u7b26\u7684\u4f18\u5148\u7ea7\uff1a\u4ece\u5927\u5230\u5c0f [ID\u9009\u62e9\u7b26]->[class\u9009\u62e9\u7b26]->[html\u9009\u62e9\u7b26]->[html\u5c5e\u6027] 4\u3001\u5173\u8054\u9009\u62e9\u7b26\uff08\u5305\u542b\u9009\u62e9\u7b26\uff09 \u683c\u5f0f\uff1a \u9009\u62e9\u7b261 \u9009\u62e9\u7b262 \u9009\u62e9\u7b263 ...{\u6837\u5f0f....} \u4f8b\u5982\uff1a table a{....} /*table\u6807\u7b7e\u91cc\u7684a\u6807\u7b7e\u624d\u91c7\u7528\u6b64\u6837\u5f0f*/ h1 p{color:red} /*\u53ea\u6709h1\u6807\u7b7e\u4e2d\u7684p\u6807\u7b7e\u624d\u91c7\u7528\u6b64\u6837\u5f0f*/ 5\u3001\u7ec4\u5408\u9009\u62e9\u7b26\uff08\u9009\u62e9\u7b26\u7ec4\uff09 \u683c\u5f0f\uff1a \u9009\u62e9\u7b261,\u9009\u62e9\u7b262,\u9009\u62e9\u7b263 ...{\u6837\u5f0f....} h3,h4,h5{color:green;} /*h3\u3001h4\u548ch5\u90fd\u91c7\u7528\u6b64\u6837\u5f0f*/ \u56db\u3001 CSS3\u4e2d\u7684\u9009\u62e9\u5668 \u5173\u7cfb\u9009\u62e9\u5668\uff1a div>p \u9009\u62e9\u6240\u6709\u4f5c\u4e3adiv\u5143\u7d20\u7684\u5b50\u5143\u7d20p div+p \u9009\u62e9\u7d27\u8d34\u5728div\u5143\u7d20\u4e4b\u540ep\u5143\u7d20 div~p \u9009\u62e9div\u5143\u7d20\u540e\u9762\u7684\u6240\u6709\u5144\u5f1f\u5143\u7d20p \u5c5e\u6027\u9009\u62e9\u5668\uff1a [attribute]\u9009\u62e9\u5177\u6709attribute\u5c5e\u6027\u7684\u5143\u7d20\u3002 [attribute=value]\u9009\u62e9\u5177\u6709attribute\u5c5e\u6027\u4e14\u5c5e\u6027\u503c\u7b49\u4e8evalue\u7684\u5143\u7d20\u3002 \u4e94\u3001CSS\u4e2d\u5e38\u7528\u7684\u5c5e\u6027\uff1a 1\u3001color\u989c\u8272\u5c5e\u6027\uff1a color \u82f1\u6587\u5355\u8bcd {color:red;} 2\u3001\u5b57\u4f53\u5c5e\u6027\uff1a font font font-size: \u5b57\u4f53\u5927\u5c0f\uff1a20px\uff0c60%\u57fa\u4e8e\u7236\u5bf9\u8c61\u7684\u767e\u5206\u6bd4\u53d6\u503c font-family\uff1a \u5b57\u4f53\uff1a\u5b8b\u4f53\uff0cArial *font-weight\uff1a \u5b57\u4f53\u52a0\u7c97 \uff1abold 3\u3001\u6587\u672c\u5c5e\u6027\uff1a text-align: \u6587\u672c\u7684\u4f4d\u7f6e\uff1aleft center right text-decoration: \u5b57\u4f53\u753b\u7ebf\uff1anone\u65e0\u3001underline\u4e0b\u753b\u7ebf\uff0cline-through\u8d2f\u7a7f\u7ebf line-height\uff1a\u884c\u9ad8 color\uff1a \u5b57\u4f53\u989c\u8272 5\u3001\u80cc\u666f\u5c5e\u6027\uff1abackground *background-color: \u80cc\u666f\u989c\u8272 *background-image: \u80cc\u666f\u56fe\u7247","title":"\u4e8c\u3001CSS\u5c42\u53e0\u6837\u5f0f\u8868"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#css","text":"","title":"\u4e8c\u3001CSS\u5c42\u53e0\u6837\u5f0f\u8868"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#css_1","text":"\u4ec0\u4e48\u662fcss\uff1f \u5c42\u53e0\u6837\u5f0f\u8868 \u547d\u540d\u89c4\u5219\uff1a \u4f7f\u7528\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u548c\u51cf\u53f7\u6784\u6210\uff0c\u4e0d\u8981\u4ee5\u6570\u5b57\u5f00\u5934 \u683c\u5f0f\uff1a \u9009\u62e9\u5668{\u5c5e\u6027:\u503c;\u5c5e\u6027:\u503c;\u5c5e\u6027:\u503c;....} \u5176\u4e2d\u9009\u62e9\u5668\u4e5f\u53eb\u9009\u62e9\u7b26 CSS\u4e2d\u6ce8\u91ca css /* ... */","title":"\u4e00\u3001css\u7684\u8bed\u6cd5"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#htmlcsshtmlcss","text":"","title":"\u4e8c\u3001\u5728HTML\u4e2d\u5982\u4f55\u4f7f\u7528css\u6837\u5f0f\uff08html\u4e2d\u5d4c\u5165css\u7684\u65b9\u5f0f\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#1","text":"\u5c31\u662f\u5728HTML\u7684\u6807\u7b7e\u4e2d\u4f7f\u7528style\u5c5e\u6027\u6765\u8bbe\u7f6ecss\u6837\u5f0f \u683c\u5f0f\uff1a <html\u6807\u7b7e style=\"\u5c5e\u6027:\u503c;\u5c5e\u6027:\u503c;....\">\u88ab\u4fee\u9970\u7684\u5185\u5bb9</html\u6807\u7b7e> <p style=\"color:blue;font-family:\u96b6\u4e66\">\u5728HTML\u4e2d\u5982\u4f55\u4f7f\u7528css\u6837\u5f0f</p> \u7279\u70b9\uff1a\u4ec5\u4f5c\u7528\u4e8e\u672c\u6807\u7b7e","title":"1\u3001\u5185\u8054\u65b9\u5f0f\uff08\u884c\u5185\u6837\u5f0f\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#2","text":"\u5c31\u662f\u5728head\u6807\u7b7e\u4e2d\u4f7f\u7528 <style type=\"text/css\">....</style> \u6807\u7b7e\u6765\u8bbe\u7f6ecss\u6837\u5f0f \u683c\u5f0f\uff1a <style type=\"text/css\"> ....css\u6837\u5f0f\u4ee3\u7801 </style> \u7279\u70b9\uff1a \u4f5c\u7528\u4e8e\u5f53\u524d\u6574\u4e2a\u9875\u9762","title":"2\u3001\u5185\u90e8\u65b9\u5f0f\uff08\u5185\u5d4c\u6837\u5f0f\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#3","text":"\uff08\u63a8\u8350\uff09\u5c31\u662f\u5728head\u6807\u7b7e\u4e2d\u4f7f\u7528 <link/> \u6807\u7b7e\u5bfc\u5165\u4e00\u4e2acss\u6587\u4ef6\uff0c\u5728\u4f5c\u7528\u4e8e\u672c\u9875\u9762\uff0c\u5b9e\u73b0css\u6837\u5f0f\u8bbe\u7f6e \u683c\u5f0f\uff1a Css <link href=\"\u6587\u4ef6\u540d.css\" type=\"text/css\" rel=\"stylesheet\"/> \u7279\u70b9\uff1a\u4f5c\u7528\u4e8e\u6574\u4e2a\u7f51\u7ad9","title":"3\u3001\u5916\u90e8\u5bfc\u5165\u65b9\u5f0f\uff08\u5916\u90e8\u94fe\u5165\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#css2","text":"","title":"\u4e09\u3001**css2\u7684\u9009\u62e9\u7b26\uff1a"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#1html","text":"\u5c31\u662f\u628ahtml\u6807\u7b7e\u4f5c\u4e3a\u9009\u62e9\u7b26\u4f7f\u7528 \u5982 p{....} \u7f51\u9875\u4e2d\u6240\u6709p\u6807\u7b7e\u91c7\u7528\u6b64\u6837\u5f0f h2{....} \u7f51\u9875\u4e2d\u6240\u6709h2\u6807\u7b7e\u91c7\u7528\u6b64\u6837\u5f0f","title":"1\u3001html\u9009\u62e9\u7b26\uff08\u6807\u7b7e\u9009\u62e9\u5668\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#2class-p","text":"\u5b9a\u4e49\uff1a .\u7c7b\u540d{\u6837\u5f0f....} \u533f\u540d\u7c7b \u5176\u4ed6\u9009\u62e9\u7b26\u540d.\u7c7b\u540d{\u6837\u5f0f....} \u4f7f\u7528\uff1a <html\u6807\u7b7e class=\"\u7c7b\u540d\">...</html\u6807\u7b7e> .mc{color:blue;} / \u51e1\u662fclass\u5c5e\u6027\u503c\u4e3amc\u7684\u90fd\u91c7\u7528\u6b64\u6837\u5f0f / p .ps{color:green;} / \u53ea\u6709p\u6807\u7b7e\u4e2dclass\u5c5e\u6027\u503c\u4e3aps\u7684\u624d\u91c7\u7528\u6b64\u6837\u5f0f / \u6ce8\u610f\uff1a\u7c7b\u9009\u62e9\u7b26\u53ef\u4ee5\u5728\u7f51\u9875\u4e2d\u91cd\u590d\u4f7f\u7528","title":"2\u3001class\u7c7b\u9009\u62e9\u7b26 (\u4f7f\u7528\u70b9.\u5c06\u81ea\u5b9a\u4e49\u540d\uff08\u7c7b\u540d\uff09\u6765\u5b9a\u4e49\u7684\u9009\u62e9\u7b26)\uff08\u7c7b\u9009\u62e9\u5668P\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#3idid","text":"\u5b9a\u4e49\uff1a #id\u540d{\u6837\u5f0f.....} \u4f7f\u7528\uff1a <html\u6807\u7b7e id=\"id\u540d\">...</html\u6807\u7b7e> \u6ce8\u610f\uff1aid\u9009\u62e9\u7b26\u53ea\u5728\u7f51\u9875\u4e2d\u4f7f\u7528\u4e00\u6b21 \u9009\u62e9\u7b26\u7684\u4f18\u5148\u7ea7\uff1a\u4ece\u5927\u5230\u5c0f [ID\u9009\u62e9\u7b26]->[class\u9009\u62e9\u7b26]->[html\u9009\u62e9\u7b26]->[html\u5c5e\u6027]","title":"3\u3001Id\u9009\u62e9\u7b26(ID\u9009\u62e9\u5668)"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#4","text":"\u683c\u5f0f\uff1a \u9009\u62e9\u7b261 \u9009\u62e9\u7b262 \u9009\u62e9\u7b263 ...{\u6837\u5f0f....} \u4f8b\u5982\uff1a table a{....} /*table\u6807\u7b7e\u91cc\u7684a\u6807\u7b7e\u624d\u91c7\u7528\u6b64\u6837\u5f0f*/ h1 p{color:red} /*\u53ea\u6709h1\u6807\u7b7e\u4e2d\u7684p\u6807\u7b7e\u624d\u91c7\u7528\u6b64\u6837\u5f0f*/","title":"4\u3001\u5173\u8054\u9009\u62e9\u7b26\uff08\u5305\u542b\u9009\u62e9\u7b26\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#5","text":"\u683c\u5f0f\uff1a \u9009\u62e9\u7b261,\u9009\u62e9\u7b262,\u9009\u62e9\u7b263 ...{\u6837\u5f0f....} h3,h4,h5{color:green;} /*h3\u3001h4\u548ch5\u90fd\u91c7\u7528\u6b64\u6837\u5f0f*/","title":"5\u3001\u7ec4\u5408\u9009\u62e9\u7b26\uff08\u9009\u62e9\u7b26\u7ec4\uff09"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#css3","text":"","title":"\u56db\u3001 CSS3\u4e2d\u7684\u9009\u62e9\u5668"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#_1","text":"div>p \u9009\u62e9\u6240\u6709\u4f5c\u4e3adiv\u5143\u7d20\u7684\u5b50\u5143\u7d20p div+p \u9009\u62e9\u7d27\u8d34\u5728div\u5143\u7d20\u4e4b\u540ep\u5143\u7d20 div~p \u9009\u62e9div\u5143\u7d20\u540e\u9762\u7684\u6240\u6709\u5144\u5f1f\u5143\u7d20p","title":"\u5173\u7cfb\u9009\u62e9\u5668\uff1a"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#_2","text":"[attribute]\u9009\u62e9\u5177\u6709attribute\u5c5e\u6027\u7684\u5143\u7d20\u3002 [attribute=value]\u9009\u62e9\u5177\u6709attribute\u5c5e\u6027\u4e14\u5c5e\u6027\u503c\u7b49\u4e8evalue\u7684\u5143\u7d20\u3002","title":"\u5c5e\u6027\u9009\u62e9\u5668\uff1a"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#css_2","text":"","title":"\u4e94\u3001CSS\u4e2d\u5e38\u7528\u7684\u5c5e\u6027\uff1a"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#1color","text":"color \u82f1\u6587\u5355\u8bcd {color:red;}","title":"1\u3001color\u989c\u8272\u5c5e\u6027\uff1a"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#2-font","text":"font font-size: \u5b57\u4f53\u5927\u5c0f\uff1a20px\uff0c60%\u57fa\u4e8e\u7236\u5bf9\u8c61\u7684\u767e\u5206\u6bd4\u53d6\u503c font-family\uff1a \u5b57\u4f53\uff1a\u5b8b\u4f53\uff0cArial *font-weight\uff1a \u5b57\u4f53\u52a0\u7c97 \uff1abold","title":"2\u3001\u5b57\u4f53\u5c5e\u6027\uff1a font"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#3_1","text":"text-align: \u6587\u672c\u7684\u4f4d\u7f6e\uff1aleft center right text-decoration: \u5b57\u4f53\u753b\u7ebf\uff1anone\u65e0\u3001underline\u4e0b\u753b\u7ebf\uff0cline-through\u8d2f\u7a7f\u7ebf line-height\uff1a\u884c\u9ad8 color\uff1a \u5b57\u4f53\u989c\u8272","title":"3\u3001\u6587\u672c\u5c5e\u6027\uff1a"},{"location":"02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html#5background","text":"*background-color: \u80cc\u666f\u989c\u8272 *background-image: \u80cc\u666f\u56fe\u7247","title":"5\u3001\u80cc\u666f\u5c5e\u6027\uff1abackground"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html","text":"\u4e09\u3001\u6b63\u5219 \u4e00\u3001\u6b63\u5219\u57fa\u7840 1\u3001\u4e3a\u4ec0\u4e48\u4f7f\u7528\u6b63\u5219 \u9700\u6c42 \u6293\u53d6bs4\u548cxpath\u90fd\u65e0\u6cd5\u8fdb\u884c\u6293\u53d6\u7684\u6570\u636e\uff0c\u6bd4\u5982jsonp \u89e3\u51b3 \u4f7f\u7528\u6b63\u5219\u8fdb\u884c\u83b7\u53d6 \u4ee3\u7801 ```python import json data = 'geetest_1706090168784({ \"gt\": \"019924a82c70bb123aae90d483087f94\", \"challenge\": \"507751fb388e4d6d1c399eee2c675ebah1\", \"id\": \"a507751fb388e4d6d1c399eee2c675eba\", \"s\": \"47576432\", \"so\": 0, \"i18n_labels\": { \"cancel\": \"\\u53d6\\u6d88\", }, \"gct_path\": \"/static/js/gct.b71a9027509bc6bcfef9fc6a196424f5.js\" })'' result = re.match('geetest_\\d+((.*?))', data).groups()[0] last_data = json.loads(result) ``` 2\u3001\u6b63\u5219\u4e0ere\u6a21\u5757\u7b80\u4ecb \u6982\u8ff0\uff1a \u6b63\u5219\u8868\u8fbe\u5f0f \uff0c\u53c8\u79f0\u89c4\u5219\u8868\u8fbe\u5f0f \u6b63\u5219\u8868\u8fbe\u5f0f(regular expression)\u63cf\u8ff0\u4e86\u4e00\u79cd\u5b57\u7b26\u4e32\u5339\u914d\u7684\u6a21\u5f0f\uff08pattern\uff09 \u6b63\u5219\u5339\u914d\u662f\u4e00\u4e2a \u6a21\u7cca\u7684\u5339\u914d(\u4e0d\u662f\u7cbe\u786e\u5339\u914d) re\uff1a python\u81ea1.5\u7248\u672c\u5f00\u59cb\u589e\u52a0\u4e86re\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86perl\u98ce\u683c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\uff0cre\u6a21\u5757\u662fpython\u8bed\u8a00\u62e5\u6709\u4e86\u6240\u6709\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u529f\u80fd \u5982\u4e0b\u56db\u4e2a\u65b9\u6cd5\u7ecf\u5e38\u4f7f\u7528 match() search() findall() finditer() \u4e8c\u3001\u6b63\u5219\u8868\u8fbe\u5f0f 1\u3001\u5339\u914d\u5355\u4e2a\u5b57\u7b26\u4e0e\u6570\u5b57 \u5339\u914d \u8bf4\u660e . \u5339\u914d\u9664\u6362\u884c\u7b26\u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26\uff0c\u5f53flags\u88ab\u8bbe\u7f6e\u4e3are.S\u65f6\uff0c\u53ef\u4ee5\u5339\u914d\u5305\u542b\u6362\u884c\u7b26\u4ee5\u5185\u7684\u6240\u6709\u5b57\u7b26\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u5e76\u4e14\u8fd8\u5339\u914d\u6240\u6709\u5b57\u7b26\u9700\u8981[.\\n] [] \u91cc\u9762\u662f\u5b57\u7b26\u96c6\u5408\uff0c\u5339\u914d[]\u91cc\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26 [0123456789] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u5b57\u7b26 [0-9] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u5b57\u7b26 [a-z] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [A-Z] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u5927\u5199\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [A-Za-z] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [A-Za-z0-9] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u6216\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [^lucky] []\u91cc\u7684^\u79f0\u4e3a\u8131\u5b57\u7b26\uff0c\u8868\u793a\u975e\uff0c\u5339\u914d\u4e0d\u5728[]\u5185\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26 ^[lucky] \u4ee5[]\u91cc\u7684\u67d0\u4e2a\u5b57\u7b26\u4f5c\u4e3a\u5f00\u5934 \\d \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e[0-9] \\D \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u975e\u6570\u5b57\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^0-9] \\w \u5339\u914d\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001\u6570\u5b57\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e[0-9A-Za-z_] \\W \u5339\u914d\u975e\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001\u6570\u5b57\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^0-9A-Za-z_] \\s \u5339\u914d\u7a7a\u767d\u7b26(\u7a7a\u683c\u3001\u6362\u9875\u3001\u6362\u884c\u3001\u56de\u8f66\u3001\u5236\u8868)\uff0c\u76f8\u5f53\u4e8e[ \\f\\n\\r\\t] \\S \u5339\u914d\u975e\u7a7a\u767d\u7b26(\u7a7a\u683c\u3001\u6362\u9875\u3001\u6362\u884c\u3001\u56de\u8f66\u3001\u5236\u8868)\uff0c\u76f8\u5f53\u4e8e [^ \\f\\n\\r\\t] 2\u3001\u5339\u914d\u951a\u5b57\u7b26 \u951a\u5b57\u7b26:\u7528\u6765\u5224\u5b9a\u662f\u5426\u6309\u7167\u89c4\u5b9a\u5f00\u59cb\u6216\u8005\u7ed3\u5c3e \u5339\u914d \u8bf4\u660e ^ \u884c\u9996\u5339\u914d\uff0c\u548c[]\u91cc\u7684^\u4e0d\u662f\u4e00\u4e2a\u610f\u601d $ \u884c\u5c3e\u5339\u914d \\A \u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\uff0c\u548c^\u7684\u533a\u522b\u662f\\A\u53ea\u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32\u7684\u5f00\u5934\uff0c\u5373\u4f7f\u5728re.M\u6a21\u5f0f\u4e0b\u4e5f\u4e0d\u4f1a\u5339\u914d\u5176\u4ed6\u884c\u7684\u884c\u9996 \\Z \u5339\u914d\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\uff0c\u548c$\u7684\u533a\u522b\u662f\\Z\u53ea\u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\uff0c\u5373\u4f7f\u5728re.M\u6a21\u5f0f\u4e0b\u4e5f\u4e0d\u4f1a\u5339\u914d\u5176\u4ed6\u884c\u7684\u884c\u5c3e 3\u3001\u9650\u5b9a\u7b26 \u9650\u5b9a\u7b26\u7528\u6765\u6307\u5b9a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4e00\u4e2a\u7ed9\u5b9a\u7ec4\u4ef6\u5fc5\u987b\u8981\u51fa\u73b0\u591a\u5c11\u6b21\u624d\u80fd\u6ee1\u8db3\u5339\u914d\u3002\u6709 * \u6216 + \u6216 ? \u6216 {n} \u6216 {n,} \u6216 {n,m} \u51716\u79cd\u3002 \u5339\u914d \u8bf4\u660e (xyz) \u5339\u914d\u62ec\u53f7\u5185\u7684xyz\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u53bb\u5339\u914d \u4e00\u4e2a\u5355\u5143 \u5b50\u5b58\u50a8 x? \u5339\u914d0\u4e2a\u6216\u80051\u4e2ax\uff0c\u975e\u8d2a\u5a6a\u5339\u914d x* \u5339\u914d0\u4e2a\u6216\u4efb\u610f\u591a\u4e2ax x+ \u5339\u914d\u81f3\u5c11\u4e00\u4e2ax x{n} \u786e\u5b9a\u5339\u914dn\u4e2ax\uff0cn\u662f\u975e\u8d1f\u6570 x{n,} \u81f3\u5c11\u5339\u914dn\u4e2ax x{n,m} \u5339\u914d\u81f3\u5c11n\u4e2a\u6700\u591am\u4e2ax x|y |\u8868\u793a\u6216\u7684\u610f\u601d\uff0c\u5339\u914dx\u6216y \u793a\u4f8b 1.[] #\u4ee3\u8868\u539f\u5b50\u8868 \u5b58\u50a8\u8868\u8fbe\u5f0f \u5b57\u7b26\u96c6\u5408\u3002\u5339\u914d\u6240\u5305\u542b\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26 [a] #\u5339\u914d\u4e00\u4e2a\u5b57\u6bcda [abc] #\u5339\u914d\u5b57\u6bcda/b/c [a-z] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u5c0f\u5199\u5b57\u6bcd [AaBb] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u5927\u5c0f\u5199\u5b57\u6bcda/b [a-zA-Z] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u5b57\u6bcd [0-9] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u6570\u5b57 [a-zA-Z0-9] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u6570\u5b57\u6216\u5b57\u6bcd 2. ^ #\u4ee5\u4ec0\u4e48\u5f00\u5934 \u5728\u539f\u5b50\u8868\u5916\u5f00\u5934 \u4ee5\u4ec0\u4e48...\u5f00\u5934 \u5728\u539f\u5b50\u8868\u5185 \u53d6\u53cd \u76f8\u5f53\u4e8e \\A [^a-z] #\u5c0f\u5199\u5b57\u6bcd\u4ee5\u5916\u7684\u5b57\u7b26 ^a[a-zA-Z] #\u5339\u914d \u4ee5\u5b57\u6bcda\u5f00\u5934\u7684\u4fe9\u4f4d\u5b57\u6bcd ^[a-zA-Z] #\u4ee5\u4efb\u610f\u4e00\u4f4d\u5b57\u6bcd\u5f00\u5934\u7684\u5b57\u7b26 3. $ #\u4ee5...\u7ed3\u5c3e ^\u548c $ \u642d\u914d\u6765\u4f7f\u7528\u7684 \u8fd9\u6837\u624d\u80fd\u591f\u771f\u6b63\u7684\u53bb\u9650\u5236\u4f60\u5339\u914d\u7684\u5185\u5bb9\u548c\u957f\u5ea6 \u76f8\u5f53\u4e8e\\Z ^1[3-8][0-9]{9}$ #\u5339\u914d\u624b\u673a\u53f7 ^1[38][0-9]{9}$ #\u5339\u914d\u624b\u673a\u53f7 4.{m} #\u8868\u793a\u524d\u9762\u7684\u6570\u91cfm\u4e2a \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528 [a][a][a] #\u5339\u914d3\u4e2aa a{3} [a-zA-Z]{3} #\u5339\u914d\u4efb\u610f3\u4f4d\u5b57\u6bcd ^[a-zA-Z]{3} #\u5339\u914d\u4efb\u610f3\u4f4d\u5b57\u6bcd\u4f5c\u4e3a\u5f00\u5934\u7684\u5b57\u7b26\u4e32 ^[a-zA-Z]{3}[0-9]{8}$ 5.{m,n} #\u8868\u793a\u524d\u9762\u7684\u6570\u91cfm-n\u4e2a \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528 ^[1-9][0-9]{4,10}$#\u5339\u914dQQ\u53f7 6.{m,} #\u8868\u793a\u524d\u9762\u7684\u6570\u91cf\u81f3\u5c11m\u4e2a \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528 7. ? # \u53ef\u6709\u53ef\u65e0 \u5339\u914d\u524d\u9762\u7684\u5b50\u8868\u8fbe\u5f0f\u96f6\u6b21\u6216\u4e00\u6b21\uff0c\u6216\u6307\u660e\u4e00\u4e2a\u975e\u8d2a\u5a6a\u9650\u5b9a\u7b26\u3002\u8981\u5339\u914d ? \u5b57\u7b26\uff0c\u8bf7\u4f7f\u7528 \\? [1-9][0-9]? [1-9][0-9]{0,1} -?[1-9] #\u4e00\u4f4d\u6574\u6570 8. . #\u5339\u914d\u6362\u884c\u7b26\\n\u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26 9. * #\u5339\u914d\u524d\u9762\u5b57\u7b26\u4efb\u610f\u6b21{0,} 10. .* #\u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u4efb\u610f\u5b57\u7b26\u4efb\u610f\u6b21 \uff08\u8d2a\u5a6a\u6a21\u5f0f\uff09 11. .*? #\u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u4efb\u610f\u5b57\u7b26\u4efb\u610f\u6b21 (\u975e\u8d2a\u5a6a\u6a21\u5f0f) 12. + #\u8868\u793a\u5339\u914d\u6570\u91cf \u6700\u5c11 1\u6b21 {1,} 13. .+ #\u8868\u793a\u5339\u914d\u6362\u884c\u7b26 \u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26 \u81f3\u5c11\u4e00\u6b21 \uff08\u8d2a\u5a6a\u6a21\u5f0f\uff09 14. .+? #\u8868\u793a\u5339\u914d\u6362\u884c\u7b26 \u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26 \u81f3\u5c11\u4e00\u6b21 \uff08\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff09 15. () #1.\u4e00\u4e2a\u5355\u5143 2.\u5b50\u5b58\u50a8 (?P<\u8d77\u522b\u540d>) (?:pattern) #\u53ea\u505a\u4e3a\u4e00\u4e2a\u5355\u5143\u4f7f\u7528 \u800c\u4e0d\u662f\u4f5c\u4e3a\u5b50\u5b58\u50a8 (?=pattern) #\u8fd4\u56de\u4e0d\u5305\u542b\u62ec\u53f7\u91cc\u9762\u7684\u503c re.findall(\"Windows(?=95|98|NT|2000)\",'WindowsNT')#Windows (?!pattern) #\u4e0e\u4e0a\u9762\u7684\u76f8\u53cd \u53ea\u8981\u540e\u9762\u7684\u4e0d\u60f3\u7b49 \u5c31\u4f1a\u5c06\u524d\u9762\u7684\u5185\u5bb9\u5339\u914d\u8fd4\u56de 16. | #\u8868\u793a\u6216 [ab] \u7b49\u540c\u4e8e \uff08a|b) # \u5339\u914d\u5b57\u6bcda\u6216\u8005b res = re.search('(?P<qq>^[1-9][0-9]{4,10}$)|(?P<phone>^1[3-8][0-9]{9}$)', '1833904571') # \u624b\u673a\u53f7\u7801\u6216qq\u53f7\u7801 \u5e38\u7528\u7ec4\u5408 [.*?] [\\s\\S] 4\u3001\u7ec3\u4e60 ^[a-zA-Z0-9_]{1,}$ \u6240\u6709\u5305\u542b\u4e00\u4e2a\u4ee5\u4e0a\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7684\u5b57\u7b26\u4e32 ^[a-zA-Z0-9_]+$ \u6240\u6709\u5305\u542b\u4e00\u4e2a\u4ee5\u4e0a\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7684\u5b57\u7b26\u4e32 ^\\-{0,1}[0-9]{1,}$ \u6240\u6709\u7684\u6574\u6570 ^[1-9][0-9]{0,}$ \u6240\u6709\u7684\u6b63\u6574\u6570 ^[-]?[0-9]+\\.?[0-9]+$ \u6240\u6709\u7684\u6d6e\u70b9\u6570 ^\\-?[0-9]+\\.?[0-9]*$ \u6240\u6709\u7684\u6d6e\u70b9\u6570 ^[1-9][0-9]*$ \u6240\u6709\u7684\u6b63\u6574\u6570 ^\\-?[0-9]+$ \u6240\u6709\u7684\u6574\u6570 ^\\-?[0-9]{1,}\\.?[0-9]{1,}$ \u4ee5\u4e0a\u6b63\u8d1f\u6574\u6570\u6d6e\u70b9\u6570\u7684\u7b80\u5199 \u4e09\u3001re\u6a21\u5757\u4e2d\u5e38\u7528\u51fd\u6570 \u901a\u7528flags\uff08\u4fee\u6b63\u7b26\uff09 \u503c \u8bf4\u660e re.I \u662f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f re.L \u505a\u672c\u5730\u5316\u8bc6\u522b\u5339\u914d re.M \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd\u5230^\u548c$ re.S \u4f7f.\u5339\u914d\u5305\u62ec\u6362\u884c\u7b26\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26 re.U \u6839\u636eUnicode\u5b57\u7b26\u96c6\u89e3\u6790\u5b57\u7b26\uff0c\u5f71\u54cd\\w\u3001\\W\u3001\\b\u3001\\B re.X \u901a\u8fc7\u7ed9\u4e88\u6211\u4eec\u529f\u80fd\u7075\u6d3b\u7684\u683c\u5f0f\u4ee5\u4fbf\u66f4\u597d\u7684\u7406\u89e3\u6b63\u5219\u8868\u8fbe\u5f0f \u901a\u7528\u51fd\u6570 \u83b7\u53d6\u5339\u914d\u7ed3\u679c \u4f7f\u7528group()\u65b9\u6cd5 \u83b7\u53d6\u5230\u5339\u914d\u7684\u503c groups() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6240\u6709\u5c0f\u7ec4\u5b57\u7b26\u4e32\u7684\u5143\u7ec4(\u4e5f\u5c31\u662f\u81ea\u5b58\u50a8\u7684\u503c)\uff0c\u4ece 1 \u5230 \u6240\u542b\u7684\u5c0f\u7ec4\u53f7\u3002 \u83b7\u53d6\u5339\u914d\u540e\u7684\u7d22\u5f15\u4f4d\u7f6e obj.span() 1\u3001match()\u51fd\u6570 \u539f\u578b def match(pattern, string, flags=0) \u529f\u80fd \u5339\u914d\u6210\u529f\u8fd4\u56de \u5339\u914d\u7684\u5bf9\u8c61 \u5339\u914d\u5931\u8d25 \u8fd4\u56de None \u83b7\u53d6\u5339\u914d\u7ed3\u679c \u4f7f\u7528group()\u65b9\u6cd5 \u83b7\u53d6\u5230\u5339\u914d\u7684\u503c groups() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6240\u6709\u5c0f\u7ec4\u5b57\u7b26\u4e32\u7684\u5143\u7ec4\uff0c\u4ece 1 \u5230 \u6240\u542b\u7684\u5c0f\u7ec4\u53f7\u3002 \u83b7\u53d6\u5339\u914d\u540e\u7684\u7d22\u5f15\u4f4d\u7f6e obj.span() \u6ce8\u610f\uff1a\u4ece\u7b2c\u4e00\u4f4d\u5f00\u59cb\u5339\u914d \u53ea\u5339\u914d\u4e00\u6b21 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u4ee3\u7801 ```python import re res = re.match('\\d{2}','123') print(res.group()) print(res.span()) #\u7ed9\u5f53\u524d\u5339\u914d\u5230\u7684\u7ed3\u679c\u8d77\u522b\u540d s = '3G4HFD567' re.match(\"(?P \\d+)\",s) print(x.group(0)) print(x.group('value')) ``` 2\u3001searce()\u51fd\u6570 \u539f\u578b def search(pattern, string, flags=0) \u529f\u80fd \u626b\u63cf\u6574\u4e2a\u5b57\u7b26\u4e32string\uff0c\u5e76\u8fd4\u56de\u7b2c\u4e00\u4e2apattern\u6a21\u5f0f\u6210\u529f\u7684\u5339\u914d \u5339\u914d\u5931\u8d25 \u8fd4\u56de None \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u6ce8\u610f\uff1a \u53ea\u8981\u5b57\u7b26\u4e32\u5305\u542b\u5c31\u53ef\u4ee5 \u53ea\u5339\u914d\u4e00\u6b21 \u793a\u4f8b ```python import re res = re.search('[a-z]', '131A3ab889s') print(res) print(res.span()) print(res.group() ``` \u6ce8\u610f \u4e0esearch\u7684\u533a\u522b \u76f8\u540c\u70b9\uff1a \u90fd\u53ea\u5339\u914d\u4e00\u6b21 \u4e0d\u540c\u70b9\uff1a search\u662f\u5728\u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\u4e2d \u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5185\u5bb9\u5c31\u53ef\u4ee5 match \u5fc5\u987b\u7b2c\u4e00\u4f4d\u5c31\u5f00\u59cb\u5339\u914d \u5426\u5219\u5339\u914d\u5931\u8d25 3\u3001findall()\u51fd\u6570\uff08\u8fd4\u56de\u5217\u8868\uff09 \u539f\u578b def findall(pattern, string, flags=0) \u529f\u80fd \u626b\u63cf\u6574\u4e2a\u5b57\u7b26\u4e32string\uff0c\u5e76\u8fd4\u56de\u6240\u6709\u5339\u914d\u7684pattern\u6a21\u5f0f\u7ed3\u679c\u7684\u5b57\u7b26\u4e32\u5217\u8868 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u793a\u4f8b ```python myStr = \"\"\" \u767e\u5ea6 \u6dd8\u5b9d \u7535 \u5f71\u7f51\u7ad9 \u6211\u662f\u503e\u659c1 \u6211\u662f\u503e\u659c2 \u6211\u662f\u503e\u659c2 \"\"\" # html\u91cc\u662f\u4e0d\u533a\u5206\u5927\u5c0f\u5199 # \uff081\uff09\u7ed9\u6b63\u5219\u91cc\u9762\u5339\u914d\u7684 \u52a0\u4e0a\u5706\u62ec\u53f7 \u4f1a\u5c06\u62ec\u53f7\u91cc\u9762\u7684\u5185\u5bb9\u8fdb\u884c \u5355\u72ec\u7684\u8fd4\u56de res = re.findall(\"( (.*?) )\",myStr) #[(' \u767e\u5ea6 ', 'baidu', '\u767e\u5ea6')] # \u62ec\u53f7\u7684\u533a\u522b res = re.findall(\" .*? \",myStr) #[' \u767e\u5ea6 '] #(2) \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u7684\u5339\u914d res = re.findall(\" . ? \",myStr,re.I) #[' \u767e\u5ea6 ', ' \u6dd8\u5b9d '] res = re.findall(\"<[aA] href=\\\"http://www.. ?.com\\\">.*?</[aA]>\",myStr) #[' \u767e\u5ea6 '] # (3) \u4f7f.\u652f\u6301\u6362\u884c\u5339\u914d res = re.findall(\" .*? \",myStr,re.S) # # (4) \u652f\u6301\u6362\u884c \u652f\u6301\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u5339\u914d res = re.findall(\" .*? \",myStr,re.S|re.I) # print(res) ``` \u8d2a\u5a6a\u4e0e\u975e\u8d2a\u5a6a\u6a21\u5f0f ```html Chapter 1 - \u4ecb\u7ecd\u6b63\u5219\u8868\u8fbe\u5f0f ``` \u8d2a\u5a6a\uff1a \u4e0b\u9762\u7684\u8868\u8fbe\u5f0f\u5339\u914d\u4ece\u5f00\u59cb\u5c0f\u4e8e\u7b26\u53f7 (<) \u5230\u5173\u95ed H1 \u6807\u8bb0\u7684\u5927\u4e8e\u7b26\u53f7 (>) \u4e4b\u95f4\u7684\u6240\u6709\u5185\u5bb9\u3002 html /<.*>/ \u975e\u8d2a\u5a6a\uff1a \u5982\u679c\u60a8\u53ea\u9700\u8981\u5339\u914d\u5f00\u59cb\u548c\u7ed3\u675f H1 \u6807\u7b7e\uff0c\u4e0b\u9762\u7684\u975e\u8d2a\u5a6a\u8868\u8fbe\u5f0f\u53ea\u5339\u914d \u3002 python /<.*?>/ \u5982\u679c\u53ea\u60f3\u5339\u914d\u5f00\u59cb\u7684 H1 \u6807\u7b7e\uff0c\u8868\u8fbe\u5f0f\u5219\u662f\uff1a python /<\\w+?> 4\u3001finditer()\u51fd\u6570 \u539f\u578b def finditer(pattern, string, flags=0) \u529f\u80fd \u4e0efindall()\u7c7b\u4f3c\uff0c\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u4ee3\u7801 ```python import re res = re.finditer('\\w', '12hsakda1') print(res) print(next(res)) for i in res: print(i) ``` 5\u3001split()\u51fd\u6570 \u4f5c\u7528\uff1a\u5207\u5272\u5b57\u7b26\u4e32 \u539f\u578b\uff1a def split(patter, string, maxsplit=0, flags=0) \u53c2\u6570 pattern \u6b63\u5219\u8868\u8fbe\u5f0f string \u8981\u62c6\u5206\u7684\u5b57\u7b26\u4e32 maxsplit \u6700\u5927\u62c6\u5206\u6b21\u6570 \u9ed8\u8ba4\u62c6\u5206\u5168\u90e8 flags \u4fee\u6b63\u7b26 \u793a\u4f8b python import re myStr = \"asdas\\rd&a\\ts12d\\n*a3sd@a_1sd\" #\u901a\u8fc7\u7279\u6b8a\u5b57\u7b26 \u5bf9\u5176\u8fdb\u884c\u62c6\u5206 \u6210\u5217\u8868 res = re.split(\"[^a-z]\",myStr) res = re.split(\"\\W\",myStr) 6\u3001sub()/subn()\u51fd\u6570 \u4f5c\u7528\uff1a\u5b57\u7b26\u4e32\u66ff\u6362 \u8bf4\u660e \u5728\u76ee\u6807\u5b57\u7b26\u4e32string\u4e2d\u67e5\u627e\u5339\u914d\u7684pattern\u6a21\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u518d\u628a\u5b83\u4eec\u66ff\u6362\u6210\u6307\u5b9arepl\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u6307\u5b9a\u6700\u591a\u66ff\u6362count\u6b21\uff0c\u5426\u5219\u66ff\u6362\u6240\u6709 \u539f\u578b def sub(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c def subn(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c\u548c\u6b21\u6570 \u53c2\u6570 pattern : \u6b63\u5219\u4e2d\u7684\u6a21\u5f0f\u5b57\u7b26\u4e32\u3002 repl : \u66ff\u6362\u7684\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4e3a\u4e00\u4e2a\u51fd\u6570\u3002 string : \u8981\u88ab\u67e5\u627e\u66ff\u6362\u7684\u539f\u59cb\u5b57\u7b26\u4e32\u3002 count : \u6a21\u5f0f\u5339\u914d\u540e\u66ff\u6362\u7684\u6700\u5927\u6b21\u6570\uff0c\u9ed8\u8ba4 0 \u8868\u793a\u66ff\u6362\u6240\u6709\u7684\u5339\u914d\u3002 flags \u4fee\u6b63\u7b26 \u533a\u522b a\u3001sub\u8fd4\u56de\u4e00\u4e2a\u66ff\u4ee3\u540e\u7684\u5b57\u7b26\u4e32 b\u3001subn\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\uff0c\u5143\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e3a\u66ff\u6362\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u5143\u7d20\u4e3a\u66ff\u6362\u7684\u6b21\u6570 \u793a\u4f8b ```python import re # \u5c06\u5339\u914d\u7684\u6570\u5b57\u4e58\u4e8e 2 def double(matched): value = int(matched.group('value')) return str(value * 2) s = 'A23G4HFD567' print(re.sub('(?P \\d+)', double, s)) ``` \u8fdb\u9636 ```python myStr = \"2017/10/1\" #10-1-2017 res = re.search(\"[0-9]{4}/[0-9]{2}/[0-9]\",myStr) myStr = \" \u52a0\u7c971 \u503e\u659c3 \u52a0\u7c972 \" # html = ' \u6211\u662fb\u6807\u7b7e \u6211\u662f\u52a0\u7c97\u6807\u7b7e ' # \u5c06b\u6807\u7b7e\u6362\u6210i\u6807\u7b7e #\u7528\u5230\u4e86\u62ec\u53f7\u7684\u5b50\u5b58\u50a8 \u901a\u8fc7\\1-\\n\u8fdb\u884c\u53d6\u503c \\1-\\n\u7684\u987a\u5e8f \u5c31\u662f\u4f60()\u7684\u987a\u5e8f res = re.sub(\" \", \" \", html) res = re.sub(\" (.*?) \", \" \\1 \", html) print(res) # 2021/08/26 \u66ff\u6362\u6210 08-26-2021 print(re.sub('(\\d{4})/(\\d{2})/(\\d{2})','\\2-\\3-\\1', '2021/08/26')) ``` 7\u3001\u4fee\u6b63\u7b26 \u4f5c\u7528 \u5bf9\u6b63\u5219\u8fdb\u884c\u4fee\u6b63 \u4f7f\u7528 search/match/findall/sub/subn/finditer \u7b49\u51fd\u6570 flags\u53c2\u6570\u7684\u4f7f\u7528 \u4fee\u6b63\u7b26 re.I \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u5339\u914d re.M \u591a\u884c\u5339\u914d \u5f71\u54cd\u5230^ \u548c $ \u7684\u529f\u80fd re.S \u4f7f.\u53ef\u4ee5\u5339\u914d\u6362\u884c\u7b26 \u5339\u914d\u4efb\u610f\u5b57\u7b26 \u4f7f\u7528 re.I python print(re.findall('[a-z]','AaBb')) print(re.findall('[a-z]','AaBb', flags=re.I)) re.M python myStr = \"\"\"asadasdd1\\nbsadasdd2\\ncsadasdd3\"\"\" print(re.findall('^[a-z]',myStr, )) print(re.findall('\\A[a-z]',myStr)) print(re.findall('\\d$',myStr)) print(re.findall('\\d\\Z',myStr)) # re.M print(re.findall('^[a-z]',myStr, flags=re.M)) print(re.findall('\\A[a-z]',myStr, flags=re.M)) print(re.findall('\\d$',myStr, flags=re.M)) print(re.findall('\\d\\Z',myStr, flags=re.M)) re.S python print(re.findall('<b>.*?</b>','<b>b\u6807\u7b7e</b>')) print(re.findall('<b>.*?</b>','<b>b\u6807\\n\u7b7e</b>', flags=re.S)) \u56db\u3001\u6b63\u5219\u9ad8\u7ea7 1\u3001\u5206\u7ec4&\u8d77\u540d\u79f0 \u6982\u5ff5 \u5904\u7406\u7b80\u5355\u7684\u5224\u65ad\u662f\u5426\u5339\u914d\u4e4b\u5916\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u8fd8\u6709\u63d0\u53d6\u5b50\u4e32\u7684\u529f\u80fd\uff0c\u7528()\u8868\u793a\u7684\u5c31\u662f\u8981\u63d0\u53d6\u7684\u5206\u7ec4 \u4ee3\u7801 python #\u7ed9\u5f53\u524d\u5339\u914d\u5230\u7684\u7ed3\u679c\u8d77\u522b\u540d s = '3G4HFD567' re.match(\"(?P<value>\\d+)\",s) print(x.group(0)) print(x.group('value')) \u8bf4\u660e \u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u5b9a\u4e49\u4e86\u7ec4\uff0c\u5c31\u53ef\u4ee5\u5728Match\u5bf9\u8c61\u4e0a\u7528group()\u65b9\u6cd5\u63d0\u53d6\u51fa\u5b50\u4e32\u6765 group(0)\u6c38\u8fdc\u662f\u539f\u59cb\u5b57\u7b26\u4e32\uff0cgroup(1)\u3001group(2)\u2026\u2026\u8868\u793a\u7b2c1\u30012\u3001\u2026\u2026\u4e2a\u5b50\u4e32 2\u3001\u7f16\u8bd1 \u6982\u5ff5 \u5f53\u5728python\u4e2d\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u65f6\uff0cre\u6a21\u5757\u4f1a\u505a\u4e24\u4ef6\u4e8b\uff0c\u4e00\u4ef6\u662f\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u8868\u8fbe\u5f0f\u7684\u5b57\u7b26\u4e32\u672c\u8eab\u4e0d\u5408\u6cd5\uff0c\u4f1a\u62a5\u9519\u3002\u53e6\u4e00\u4ef6\u662f\u7528\u7f16\u8bd1\u597d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u63d0\u53d6\u5339\u914d\u5b57\u7b26\u4e32 \u7f16\u8bd1\u4f18\u70b9 \u5982\u679c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u8981\u4f7f\u7528\u51e0\u5343\u904d\uff0c\u6bcf\u4e00\u6b21\u90fd\u4f1a\u7f16\u8bd1\uff0c\u51fa\u4e8e\u6548\u7387\u7684\u8003\u8651\u8fdb\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7f16\u8bd1\uff0c\u5c31\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u7f16\u8bd1\u4e86\uff0c\u8282\u7701\u4e86\u7f16\u8bd1\u7684\u65f6\u95f4\uff0c\u4ece\u800c\u63d0\u5347\u6548\u7387 compile()\u51fd\u6570 \u539f\u578b def compile(pattern, flags=0) \u4f5c\u7528 \u5c06pattern\u6a21\u5f0f\u7f16\u8bd1\u6210\u6b63\u5219\u5bf9\u8c61 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f flags \u503c \u8bf4\u660e re.I \u662f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f re.M \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd\u5230^\u548c$ re.S \u4f7f.\u5339\u914d\u5305\u62ec\u6362\u884c\u7b26\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26 \u8fd4\u56de\u503c \u7f16\u8bd1\u597d\u7684\u6b63\u5219\u5bf9\u8c61 \u793a\u4f8b ```python import re re_phone = re.compile(r\"(0\\d{2,3}-\\d{7,8})\") print(re_phone, type(re_phone)) ``` \u7f16\u8bd1\u540e\u5176\u4ed6\u65b9\u6cd5\u7684\u4f7f\u7528 \u539f\u578b def match(self, string, pos=0, endpos=-1) def search(self, string, pos=0, endpos=-1) def findall(self, string, pos=0, endpos=-1) def finditer(self, string, pos=0, endpos=-1) \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e string \u5f85\u5339\u914d\u7684\u5b57\u7b26\u4e32 pos \u4ecestring\u5b57\u7b26\u4e32pos\u4e0b\u6807\u5f00\u59cb endpos \u7ed3\u675f\u4e0b\u6807 \u793a\u4f8b python s1 = \"lucky's phone is 010-88888888\" s2 = \"kaige's phone is 010-99999999\" ret1 = re_phone.search(s1) print(ret1, ret1.group(1)) ret2 = re_phone.search(s2) print(ret2, ret2.group(1)) 3\u3001\u8d2a\u5a6a\u4e0e\u975e\u8d2a\u5a6a \u8d2a\u5a6a\u6a21\u5f0f \u8d2a\u5a6a\u6982\u5ff5\uff1a\u5339\u914d\u5c3d\u53ef\u80fd\u591a\u7684\u5b57\u7b26 .+ \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u81f3\u5c11\u4e00\u6b21 .* \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u4efb\u610f\u6b21 \u5b9e\u4f8b python res = re.search('<b>.+</b>', '<b></b><b>b\u6807\u7b7e</b>') res = re.search('<b>.*</b>', '<b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b>') \u975e\u8d2a\u5a6a\u6a21\u5f0f \u975e\u8d2a\u5a6a\u6982\u5ff5\uff1a\u5c3d\u53ef\u80fd\u5c11\u7684\u5339\u914d\u79f0\u4e3a\u975e\u8d2a\u5a6a\u5339\u914d\uff0c*?\u3001+?\u5373\u53ef .+? \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u81f3\u5c11\u4e00\u6b21 \u62d2\u7edd\u8d2a\u5a6a .*? \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u4efb\u610f\u6b21 \u62d2\u7edd\u8d2a\u5a6a \u5b9e\u4f8b python res = re.search('<b>.+?</b>', '<b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b>') res = re.search('<b>.*?</b>', '<b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b>')","title":"\u4e09\u3001\u6b63\u5219"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#_1","text":"","title":"\u4e09\u3001\u6b63\u5219"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#_2","text":"","title":"\u4e00\u3001\u6b63\u5219\u57fa\u7840"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#1","text":"\u9700\u6c42 \u6293\u53d6bs4\u548cxpath\u90fd\u65e0\u6cd5\u8fdb\u884c\u6293\u53d6\u7684\u6570\u636e\uff0c\u6bd4\u5982jsonp \u89e3\u51b3 \u4f7f\u7528\u6b63\u5219\u8fdb\u884c\u83b7\u53d6 \u4ee3\u7801 ```python import json data = 'geetest_1706090168784({ \"gt\": \"019924a82c70bb123aae90d483087f94\", \"challenge\": \"507751fb388e4d6d1c399eee2c675ebah1\", \"id\": \"a507751fb388e4d6d1c399eee2c675eba\", \"s\": \"47576432\", \"so\": 0, \"i18n_labels\": { \"cancel\": \"\\u53d6\\u6d88\", }, \"gct_path\": \"/static/js/gct.b71a9027509bc6bcfef9fc6a196424f5.js\" })'' result = re.match('geetest_\\d+((.*?))', data).groups()[0] last_data = json.loads(result) ```","title":"1\u3001\u4e3a\u4ec0\u4e48\u4f7f\u7528\u6b63\u5219"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#2re","text":"\u6982\u8ff0\uff1a \u6b63\u5219\u8868\u8fbe\u5f0f \uff0c\u53c8\u79f0\u89c4\u5219\u8868\u8fbe\u5f0f \u6b63\u5219\u8868\u8fbe\u5f0f(regular expression)\u63cf\u8ff0\u4e86\u4e00\u79cd\u5b57\u7b26\u4e32\u5339\u914d\u7684\u6a21\u5f0f\uff08pattern\uff09 \u6b63\u5219\u5339\u914d\u662f\u4e00\u4e2a \u6a21\u7cca\u7684\u5339\u914d(\u4e0d\u662f\u7cbe\u786e\u5339\u914d) re\uff1a python\u81ea1.5\u7248\u672c\u5f00\u59cb\u589e\u52a0\u4e86re\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86perl\u98ce\u683c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\uff0cre\u6a21\u5757\u662fpython\u8bed\u8a00\u62e5\u6709\u4e86\u6240\u6709\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u529f\u80fd \u5982\u4e0b\u56db\u4e2a\u65b9\u6cd5\u7ecf\u5e38\u4f7f\u7528 match() search() findall() finditer()","title":"2\u3001\u6b63\u5219\u4e0ere\u6a21\u5757\u7b80\u4ecb"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#_3","text":"","title":"\u4e8c\u3001\u6b63\u5219\u8868\u8fbe\u5f0f"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#1_1","text":"\u5339\u914d \u8bf4\u660e . \u5339\u914d\u9664\u6362\u884c\u7b26\u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26\uff0c\u5f53flags\u88ab\u8bbe\u7f6e\u4e3are.S\u65f6\uff0c\u53ef\u4ee5\u5339\u914d\u5305\u542b\u6362\u884c\u7b26\u4ee5\u5185\u7684\u6240\u6709\u5b57\u7b26\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u5e76\u4e14\u8fd8\u5339\u914d\u6240\u6709\u5b57\u7b26\u9700\u8981[.\\n] [] \u91cc\u9762\u662f\u5b57\u7b26\u96c6\u5408\uff0c\u5339\u914d[]\u91cc\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26 [0123456789] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u5b57\u7b26 [0-9] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u5b57\u7b26 [a-z] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [A-Z] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u5927\u5199\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [A-Za-z] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [A-Za-z0-9] \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u6216\u82f1\u6587\u5b57\u6bcd\u5b57\u7b26 [^lucky] []\u91cc\u7684^\u79f0\u4e3a\u8131\u5b57\u7b26\uff0c\u8868\u793a\u975e\uff0c\u5339\u914d\u4e0d\u5728[]\u5185\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26 ^[lucky] \u4ee5[]\u91cc\u7684\u67d0\u4e2a\u5b57\u7b26\u4f5c\u4e3a\u5f00\u5934 \\d \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u6570\u5b57\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e[0-9] \\D \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u975e\u6570\u5b57\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^0-9] \\w \u5339\u914d\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001\u6570\u5b57\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e[0-9A-Za-z_] \\W \u5339\u914d\u975e\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001\u6570\u5b57\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^0-9A-Za-z_] \\s \u5339\u914d\u7a7a\u767d\u7b26(\u7a7a\u683c\u3001\u6362\u9875\u3001\u6362\u884c\u3001\u56de\u8f66\u3001\u5236\u8868)\uff0c\u76f8\u5f53\u4e8e[ \\f\\n\\r\\t] \\S \u5339\u914d\u975e\u7a7a\u767d\u7b26(\u7a7a\u683c\u3001\u6362\u9875\u3001\u6362\u884c\u3001\u56de\u8f66\u3001\u5236\u8868)\uff0c\u76f8\u5f53\u4e8e [^ \\f\\n\\r\\t]","title":"1\u3001\u5339\u914d\u5355\u4e2a\u5b57\u7b26\u4e0e\u6570\u5b57"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#2","text":"\u951a\u5b57\u7b26:\u7528\u6765\u5224\u5b9a\u662f\u5426\u6309\u7167\u89c4\u5b9a\u5f00\u59cb\u6216\u8005\u7ed3\u5c3e \u5339\u914d \u8bf4\u660e ^ \u884c\u9996\u5339\u914d\uff0c\u548c[]\u91cc\u7684^\u4e0d\u662f\u4e00\u4e2a\u610f\u601d $ \u884c\u5c3e\u5339\u914d \\A \u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\uff0c\u548c^\u7684\u533a\u522b\u662f\\A\u53ea\u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32\u7684\u5f00\u5934\uff0c\u5373\u4f7f\u5728re.M\u6a21\u5f0f\u4e0b\u4e5f\u4e0d\u4f1a\u5339\u914d\u5176\u4ed6\u884c\u7684\u884c\u9996 \\Z \u5339\u914d\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\uff0c\u548c$\u7684\u533a\u522b\u662f\\Z\u53ea\u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\uff0c\u5373\u4f7f\u5728re.M\u6a21\u5f0f\u4e0b\u4e5f\u4e0d\u4f1a\u5339\u914d\u5176\u4ed6\u884c\u7684\u884c\u5c3e","title":"2\u3001\u5339\u914d\u951a\u5b57\u7b26"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#3","text":"\u9650\u5b9a\u7b26\u7528\u6765\u6307\u5b9a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4e00\u4e2a\u7ed9\u5b9a\u7ec4\u4ef6\u5fc5\u987b\u8981\u51fa\u73b0\u591a\u5c11\u6b21\u624d\u80fd\u6ee1\u8db3\u5339\u914d\u3002\u6709 * \u6216 + \u6216 ? \u6216 {n} \u6216 {n,} \u6216 {n,m} \u51716\u79cd\u3002 \u5339\u914d \u8bf4\u660e (xyz) \u5339\u914d\u62ec\u53f7\u5185\u7684xyz\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u53bb\u5339\u914d \u4e00\u4e2a\u5355\u5143 \u5b50\u5b58\u50a8 x? \u5339\u914d0\u4e2a\u6216\u80051\u4e2ax\uff0c\u975e\u8d2a\u5a6a\u5339\u914d x* \u5339\u914d0\u4e2a\u6216\u4efb\u610f\u591a\u4e2ax x+ \u5339\u914d\u81f3\u5c11\u4e00\u4e2ax x{n} \u786e\u5b9a\u5339\u914dn\u4e2ax\uff0cn\u662f\u975e\u8d1f\u6570 x{n,} \u81f3\u5c11\u5339\u914dn\u4e2ax x{n,m} \u5339\u914d\u81f3\u5c11n\u4e2a\u6700\u591am\u4e2ax x|y |\u8868\u793a\u6216\u7684\u610f\u601d\uff0c\u5339\u914dx\u6216y \u793a\u4f8b 1.[] #\u4ee3\u8868\u539f\u5b50\u8868 \u5b58\u50a8\u8868\u8fbe\u5f0f \u5b57\u7b26\u96c6\u5408\u3002\u5339\u914d\u6240\u5305\u542b\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26 [a] #\u5339\u914d\u4e00\u4e2a\u5b57\u6bcda [abc] #\u5339\u914d\u5b57\u6bcda/b/c [a-z] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u5c0f\u5199\u5b57\u6bcd [AaBb] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u5927\u5c0f\u5199\u5b57\u6bcda/b [a-zA-Z] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u5b57\u6bcd [0-9] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u6570\u5b57 [a-zA-Z0-9] #\u5339\u914d\u4efb\u610f\u4e00\u4f4d\u6570\u5b57\u6216\u5b57\u6bcd 2. ^ #\u4ee5\u4ec0\u4e48\u5f00\u5934 \u5728\u539f\u5b50\u8868\u5916\u5f00\u5934 \u4ee5\u4ec0\u4e48...\u5f00\u5934 \u5728\u539f\u5b50\u8868\u5185 \u53d6\u53cd \u76f8\u5f53\u4e8e \\A [^a-z] #\u5c0f\u5199\u5b57\u6bcd\u4ee5\u5916\u7684\u5b57\u7b26 ^a[a-zA-Z] #\u5339\u914d \u4ee5\u5b57\u6bcda\u5f00\u5934\u7684\u4fe9\u4f4d\u5b57\u6bcd ^[a-zA-Z] #\u4ee5\u4efb\u610f\u4e00\u4f4d\u5b57\u6bcd\u5f00\u5934\u7684\u5b57\u7b26 3. $ #\u4ee5...\u7ed3\u5c3e ^\u548c $ \u642d\u914d\u6765\u4f7f\u7528\u7684 \u8fd9\u6837\u624d\u80fd\u591f\u771f\u6b63\u7684\u53bb\u9650\u5236\u4f60\u5339\u914d\u7684\u5185\u5bb9\u548c\u957f\u5ea6 \u76f8\u5f53\u4e8e\\Z ^1[3-8][0-9]{9}$ #\u5339\u914d\u624b\u673a\u53f7 ^1[38][0-9]{9}$ #\u5339\u914d\u624b\u673a\u53f7 4.{m} #\u8868\u793a\u524d\u9762\u7684\u6570\u91cfm\u4e2a \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528 [a][a][a] #\u5339\u914d3\u4e2aa a{3} [a-zA-Z]{3} #\u5339\u914d\u4efb\u610f3\u4f4d\u5b57\u6bcd ^[a-zA-Z]{3} #\u5339\u914d\u4efb\u610f3\u4f4d\u5b57\u6bcd\u4f5c\u4e3a\u5f00\u5934\u7684\u5b57\u7b26\u4e32 ^[a-zA-Z]{3}[0-9]{8}$ 5.{m,n} #\u8868\u793a\u524d\u9762\u7684\u6570\u91cfm-n\u4e2a \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528 ^[1-9][0-9]{4,10}$#\u5339\u914dQQ\u53f7 6.{m,} #\u8868\u793a\u524d\u9762\u7684\u6570\u91cf\u81f3\u5c11m\u4e2a \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528 7. ? # \u53ef\u6709\u53ef\u65e0 \u5339\u914d\u524d\u9762\u7684\u5b50\u8868\u8fbe\u5f0f\u96f6\u6b21\u6216\u4e00\u6b21\uff0c\u6216\u6307\u660e\u4e00\u4e2a\u975e\u8d2a\u5a6a\u9650\u5b9a\u7b26\u3002\u8981\u5339\u914d ? \u5b57\u7b26\uff0c\u8bf7\u4f7f\u7528 \\? [1-9][0-9]? [1-9][0-9]{0,1} -?[1-9] #\u4e00\u4f4d\u6574\u6570 8. . #\u5339\u914d\u6362\u884c\u7b26\\n\u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26 9. * #\u5339\u914d\u524d\u9762\u5b57\u7b26\u4efb\u610f\u6b21{0,} 10. .* #\u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u4efb\u610f\u5b57\u7b26\u4efb\u610f\u6b21 \uff08\u8d2a\u5a6a\u6a21\u5f0f\uff09 11. .*? #\u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u4efb\u610f\u5b57\u7b26\u4efb\u610f\u6b21 (\u975e\u8d2a\u5a6a\u6a21\u5f0f) 12. + #\u8868\u793a\u5339\u914d\u6570\u91cf \u6700\u5c11 1\u6b21 {1,} 13. .+ #\u8868\u793a\u5339\u914d\u6362\u884c\u7b26 \u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26 \u81f3\u5c11\u4e00\u6b21 \uff08\u8d2a\u5a6a\u6a21\u5f0f\uff09 14. .+? #\u8868\u793a\u5339\u914d\u6362\u884c\u7b26 \u4ee5\u5916\u7684\u4efb\u610f\u5b57\u7b26 \u81f3\u5c11\u4e00\u6b21 \uff08\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff09 15. () #1.\u4e00\u4e2a\u5355\u5143 2.\u5b50\u5b58\u50a8 (?P<\u8d77\u522b\u540d>) (?:pattern) #\u53ea\u505a\u4e3a\u4e00\u4e2a\u5355\u5143\u4f7f\u7528 \u800c\u4e0d\u662f\u4f5c\u4e3a\u5b50\u5b58\u50a8 (?=pattern) #\u8fd4\u56de\u4e0d\u5305\u542b\u62ec\u53f7\u91cc\u9762\u7684\u503c re.findall(\"Windows(?=95|98|NT|2000)\",'WindowsNT')#Windows (?!pattern) #\u4e0e\u4e0a\u9762\u7684\u76f8\u53cd \u53ea\u8981\u540e\u9762\u7684\u4e0d\u60f3\u7b49 \u5c31\u4f1a\u5c06\u524d\u9762\u7684\u5185\u5bb9\u5339\u914d\u8fd4\u56de 16. | #\u8868\u793a\u6216 [ab] \u7b49\u540c\u4e8e \uff08a|b) # \u5339\u914d\u5b57\u6bcda\u6216\u8005b res = re.search('(?P<qq>^[1-9][0-9]{4,10}$)|(?P<phone>^1[3-8][0-9]{9}$)', '1833904571') # \u624b\u673a\u53f7\u7801\u6216qq\u53f7\u7801 \u5e38\u7528\u7ec4\u5408 [.*?] [\\s\\S]","title":"3\u3001\u9650\u5b9a\u7b26"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#4","text":"^[a-zA-Z0-9_]{1,}$ \u6240\u6709\u5305\u542b\u4e00\u4e2a\u4ee5\u4e0a\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7684\u5b57\u7b26\u4e32 ^[a-zA-Z0-9_]+$ \u6240\u6709\u5305\u542b\u4e00\u4e2a\u4ee5\u4e0a\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7684\u5b57\u7b26\u4e32 ^\\-{0,1}[0-9]{1,}$ \u6240\u6709\u7684\u6574\u6570 ^[1-9][0-9]{0,}$ \u6240\u6709\u7684\u6b63\u6574\u6570 ^[-]?[0-9]+\\.?[0-9]+$ \u6240\u6709\u7684\u6d6e\u70b9\u6570 ^\\-?[0-9]+\\.?[0-9]*$ \u6240\u6709\u7684\u6d6e\u70b9\u6570 ^[1-9][0-9]*$ \u6240\u6709\u7684\u6b63\u6574\u6570 ^\\-?[0-9]+$ \u6240\u6709\u7684\u6574\u6570 ^\\-?[0-9]{1,}\\.?[0-9]{1,}$ \u4ee5\u4e0a\u6b63\u8d1f\u6574\u6570\u6d6e\u70b9\u6570\u7684\u7b80\u5199","title":"4\u3001\u7ec3\u4e60"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#re","text":"\u901a\u7528flags\uff08\u4fee\u6b63\u7b26\uff09 \u503c \u8bf4\u660e re.I \u662f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f re.L \u505a\u672c\u5730\u5316\u8bc6\u522b\u5339\u914d re.M \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd\u5230^\u548c$ re.S \u4f7f.\u5339\u914d\u5305\u62ec\u6362\u884c\u7b26\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26 re.U \u6839\u636eUnicode\u5b57\u7b26\u96c6\u89e3\u6790\u5b57\u7b26\uff0c\u5f71\u54cd\\w\u3001\\W\u3001\\b\u3001\\B re.X \u901a\u8fc7\u7ed9\u4e88\u6211\u4eec\u529f\u80fd\u7075\u6d3b\u7684\u683c\u5f0f\u4ee5\u4fbf\u66f4\u597d\u7684\u7406\u89e3\u6b63\u5219\u8868\u8fbe\u5f0f \u901a\u7528\u51fd\u6570 \u83b7\u53d6\u5339\u914d\u7ed3\u679c \u4f7f\u7528group()\u65b9\u6cd5 \u83b7\u53d6\u5230\u5339\u914d\u7684\u503c groups() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6240\u6709\u5c0f\u7ec4\u5b57\u7b26\u4e32\u7684\u5143\u7ec4(\u4e5f\u5c31\u662f\u81ea\u5b58\u50a8\u7684\u503c)\uff0c\u4ece 1 \u5230 \u6240\u542b\u7684\u5c0f\u7ec4\u53f7\u3002 \u83b7\u53d6\u5339\u914d\u540e\u7684\u7d22\u5f15\u4f4d\u7f6e obj.span()","title":"\u4e09\u3001re\u6a21\u5757\u4e2d\u5e38\u7528\u51fd\u6570"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#1match","text":"\u539f\u578b def match(pattern, string, flags=0) \u529f\u80fd \u5339\u914d\u6210\u529f\u8fd4\u56de \u5339\u914d\u7684\u5bf9\u8c61 \u5339\u914d\u5931\u8d25 \u8fd4\u56de None \u83b7\u53d6\u5339\u914d\u7ed3\u679c \u4f7f\u7528group()\u65b9\u6cd5 \u83b7\u53d6\u5230\u5339\u914d\u7684\u503c groups() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6240\u6709\u5c0f\u7ec4\u5b57\u7b26\u4e32\u7684\u5143\u7ec4\uff0c\u4ece 1 \u5230 \u6240\u542b\u7684\u5c0f\u7ec4\u53f7\u3002 \u83b7\u53d6\u5339\u914d\u540e\u7684\u7d22\u5f15\u4f4d\u7f6e obj.span() \u6ce8\u610f\uff1a\u4ece\u7b2c\u4e00\u4f4d\u5f00\u59cb\u5339\u914d \u53ea\u5339\u914d\u4e00\u6b21 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u4ee3\u7801 ```python import re res = re.match('\\d{2}','123') print(res.group()) print(res.span()) #\u7ed9\u5f53\u524d\u5339\u914d\u5230\u7684\u7ed3\u679c\u8d77\u522b\u540d s = '3G4HFD567' re.match(\"(?P \\d+)\",s) print(x.group(0)) print(x.group('value')) ```","title":"1\u3001match()\u51fd\u6570"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#2searce","text":"\u539f\u578b def search(pattern, string, flags=0) \u529f\u80fd \u626b\u63cf\u6574\u4e2a\u5b57\u7b26\u4e32string\uff0c\u5e76\u8fd4\u56de\u7b2c\u4e00\u4e2apattern\u6a21\u5f0f\u6210\u529f\u7684\u5339\u914d \u5339\u914d\u5931\u8d25 \u8fd4\u56de None \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u6ce8\u610f\uff1a \u53ea\u8981\u5b57\u7b26\u4e32\u5305\u542b\u5c31\u53ef\u4ee5 \u53ea\u5339\u914d\u4e00\u6b21 \u793a\u4f8b ```python import re res = re.search('[a-z]', '131A3ab889s') print(res) print(res.span()) print(res.group() ``` \u6ce8\u610f \u4e0esearch\u7684\u533a\u522b \u76f8\u540c\u70b9\uff1a \u90fd\u53ea\u5339\u914d\u4e00\u6b21 \u4e0d\u540c\u70b9\uff1a search\u662f\u5728\u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\u4e2d \u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5185\u5bb9\u5c31\u53ef\u4ee5 match \u5fc5\u987b\u7b2c\u4e00\u4f4d\u5c31\u5f00\u59cb\u5339\u914d \u5426\u5219\u5339\u914d\u5931\u8d25","title":"2\u3001searce()\u51fd\u6570"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#3findall","text":"\u539f\u578b def findall(pattern, string, flags=0) \u529f\u80fd \u626b\u63cf\u6574\u4e2a\u5b57\u7b26\u4e32string\uff0c\u5e76\u8fd4\u56de\u6240\u6709\u5339\u914d\u7684pattern\u6a21\u5f0f\u7ed3\u679c\u7684\u5b57\u7b26\u4e32\u5217\u8868 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u793a\u4f8b ```python myStr = \"\"\" \u767e\u5ea6 \u6dd8\u5b9d \u7535 \u5f71\u7f51\u7ad9 \u6211\u662f\u503e\u659c1 \u6211\u662f\u503e\u659c2 \u6211\u662f\u503e\u659c2 \"\"\" # html\u91cc\u662f\u4e0d\u533a\u5206\u5927\u5c0f\u5199 # \uff081\uff09\u7ed9\u6b63\u5219\u91cc\u9762\u5339\u914d\u7684 \u52a0\u4e0a\u5706\u62ec\u53f7 \u4f1a\u5c06\u62ec\u53f7\u91cc\u9762\u7684\u5185\u5bb9\u8fdb\u884c \u5355\u72ec\u7684\u8fd4\u56de res = re.findall(\"( (.*?) )\",myStr) #[(' \u767e\u5ea6 ', 'baidu', '\u767e\u5ea6')] # \u62ec\u53f7\u7684\u533a\u522b res = re.findall(\" .*? \",myStr) #[' \u767e\u5ea6 '] #(2) \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u7684\u5339\u914d res = re.findall(\" . ? \",myStr,re.I) #[' \u767e\u5ea6 ', ' \u6dd8\u5b9d '] res = re.findall(\"<[aA] href=\\\"http://www.. ?.com\\\">.*?</[aA]>\",myStr) #[' \u767e\u5ea6 '] # (3) \u4f7f.\u652f\u6301\u6362\u884c\u5339\u914d res = re.findall(\" .*? \",myStr,re.S) # # (4) \u652f\u6301\u6362\u884c \u652f\u6301\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u5339\u914d res = re.findall(\" .*? \",myStr,re.S|re.I) # print(res) ``` \u8d2a\u5a6a\u4e0e\u975e\u8d2a\u5a6a\u6a21\u5f0f ```html","title":"3\u3001findall()\u51fd\u6570\uff08\u8fd4\u56de\u5217\u8868\uff09"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#4finditer","text":"\u539f\u578b def finditer(pattern, string, flags=0) \u529f\u80fd \u4e0efindall()\u7c7b\u4f3c\uff0c\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) string \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32 flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f \u4ee3\u7801 ```python import re res = re.finditer('\\w', '12hsakda1') print(res) print(next(res)) for i in res: print(i) ```","title":"4\u3001finditer()\u51fd\u6570"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#5split","text":"\u4f5c\u7528\uff1a\u5207\u5272\u5b57\u7b26\u4e32 \u539f\u578b\uff1a def split(patter, string, maxsplit=0, flags=0) \u53c2\u6570 pattern \u6b63\u5219\u8868\u8fbe\u5f0f string \u8981\u62c6\u5206\u7684\u5b57\u7b26\u4e32 maxsplit \u6700\u5927\u62c6\u5206\u6b21\u6570 \u9ed8\u8ba4\u62c6\u5206\u5168\u90e8 flags \u4fee\u6b63\u7b26 \u793a\u4f8b python import re myStr = \"asdas\\rd&a\\ts12d\\n*a3sd@a_1sd\" #\u901a\u8fc7\u7279\u6b8a\u5b57\u7b26 \u5bf9\u5176\u8fdb\u884c\u62c6\u5206 \u6210\u5217\u8868 res = re.split(\"[^a-z]\",myStr) res = re.split(\"\\W\",myStr)","title":"5\u3001split()\u51fd\u6570"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#6subsubn","text":"\u4f5c\u7528\uff1a\u5b57\u7b26\u4e32\u66ff\u6362 \u8bf4\u660e \u5728\u76ee\u6807\u5b57\u7b26\u4e32string\u4e2d\u67e5\u627e\u5339\u914d\u7684pattern\u6a21\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u518d\u628a\u5b83\u4eec\u66ff\u6362\u6210\u6307\u5b9arepl\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u6307\u5b9a\u6700\u591a\u66ff\u6362count\u6b21\uff0c\u5426\u5219\u66ff\u6362\u6240\u6709 \u539f\u578b def sub(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c def subn(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c\u548c\u6b21\u6570 \u53c2\u6570 pattern : \u6b63\u5219\u4e2d\u7684\u6a21\u5f0f\u5b57\u7b26\u4e32\u3002 repl : \u66ff\u6362\u7684\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4e3a\u4e00\u4e2a\u51fd\u6570\u3002 string : \u8981\u88ab\u67e5\u627e\u66ff\u6362\u7684\u539f\u59cb\u5b57\u7b26\u4e32\u3002 count : \u6a21\u5f0f\u5339\u914d\u540e\u66ff\u6362\u7684\u6700\u5927\u6b21\u6570\uff0c\u9ed8\u8ba4 0 \u8868\u793a\u66ff\u6362\u6240\u6709\u7684\u5339\u914d\u3002 flags \u4fee\u6b63\u7b26 \u533a\u522b a\u3001sub\u8fd4\u56de\u4e00\u4e2a\u66ff\u4ee3\u540e\u7684\u5b57\u7b26\u4e32 b\u3001subn\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\uff0c\u5143\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e3a\u66ff\u6362\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u5143\u7d20\u4e3a\u66ff\u6362\u7684\u6b21\u6570 \u793a\u4f8b ```python import re # \u5c06\u5339\u914d\u7684\u6570\u5b57\u4e58\u4e8e 2 def double(matched): value = int(matched.group('value')) return str(value * 2) s = 'A23G4HFD567' print(re.sub('(?P \\d+)', double, s)) ``` \u8fdb\u9636 ```python myStr = \"2017/10/1\" #10-1-2017 res = re.search(\"[0-9]{4}/[0-9]{2}/[0-9]\",myStr) myStr = \" \u52a0\u7c971 \u503e\u659c3 \u52a0\u7c972 \" # html = ' \u6211\u662fb\u6807\u7b7e \u6211\u662f\u52a0\u7c97\u6807\u7b7e ' # \u5c06b\u6807\u7b7e\u6362\u6210i\u6807\u7b7e #\u7528\u5230\u4e86\u62ec\u53f7\u7684\u5b50\u5b58\u50a8 \u901a\u8fc7\\1-\\n\u8fdb\u884c\u53d6\u503c \\1-\\n\u7684\u987a\u5e8f \u5c31\u662f\u4f60()\u7684\u987a\u5e8f res = re.sub(\" \", \" \", html) res = re.sub(\" (.*?) \", \" \\1 \", html) print(res) # 2021/08/26 \u66ff\u6362\u6210 08-26-2021 print(re.sub('(\\d{4})/(\\d{2})/(\\d{2})','\\2-\\3-\\1', '2021/08/26')) ```","title":"6\u3001sub()/subn()\u51fd\u6570"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#7","text":"\u4f5c\u7528 \u5bf9\u6b63\u5219\u8fdb\u884c\u4fee\u6b63 \u4f7f\u7528 search/match/findall/sub/subn/finditer \u7b49\u51fd\u6570 flags\u53c2\u6570\u7684\u4f7f\u7528 \u4fee\u6b63\u7b26 re.I \u4e0d\u533a\u5206\u5927\u5c0f\u5199\u5339\u914d re.M \u591a\u884c\u5339\u914d \u5f71\u54cd\u5230^ \u548c $ \u7684\u529f\u80fd re.S \u4f7f.\u53ef\u4ee5\u5339\u914d\u6362\u884c\u7b26 \u5339\u914d\u4efb\u610f\u5b57\u7b26 \u4f7f\u7528 re.I python print(re.findall('[a-z]','AaBb')) print(re.findall('[a-z]','AaBb', flags=re.I)) re.M python myStr = \"\"\"asadasdd1\\nbsadasdd2\\ncsadasdd3\"\"\" print(re.findall('^[a-z]',myStr, )) print(re.findall('\\A[a-z]',myStr)) print(re.findall('\\d$',myStr)) print(re.findall('\\d\\Z',myStr)) # re.M print(re.findall('^[a-z]',myStr, flags=re.M)) print(re.findall('\\A[a-z]',myStr, flags=re.M)) print(re.findall('\\d$',myStr, flags=re.M)) print(re.findall('\\d\\Z',myStr, flags=re.M)) re.S python print(re.findall('<b>.*?</b>','<b>b\u6807\u7b7e</b>')) print(re.findall('<b>.*?</b>','<b>b\u6807\\n\u7b7e</b>', flags=re.S))","title":"7\u3001\u4fee\u6b63\u7b26"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#_4","text":"","title":"\u56db\u3001\u6b63\u5219\u9ad8\u7ea7"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#1_2","text":"\u6982\u5ff5 \u5904\u7406\u7b80\u5355\u7684\u5224\u65ad\u662f\u5426\u5339\u914d\u4e4b\u5916\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u8fd8\u6709\u63d0\u53d6\u5b50\u4e32\u7684\u529f\u80fd\uff0c\u7528()\u8868\u793a\u7684\u5c31\u662f\u8981\u63d0\u53d6\u7684\u5206\u7ec4 \u4ee3\u7801 python #\u7ed9\u5f53\u524d\u5339\u914d\u5230\u7684\u7ed3\u679c\u8d77\u522b\u540d s = '3G4HFD567' re.match(\"(?P<value>\\d+)\",s) print(x.group(0)) print(x.group('value')) \u8bf4\u660e \u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u5b9a\u4e49\u4e86\u7ec4\uff0c\u5c31\u53ef\u4ee5\u5728Match\u5bf9\u8c61\u4e0a\u7528group()\u65b9\u6cd5\u63d0\u53d6\u51fa\u5b50\u4e32\u6765 group(0)\u6c38\u8fdc\u662f\u539f\u59cb\u5b57\u7b26\u4e32\uff0cgroup(1)\u3001group(2)\u2026\u2026\u8868\u793a\u7b2c1\u30012\u3001\u2026\u2026\u4e2a\u5b50\u4e32","title":"1\u3001\u5206\u7ec4&amp;\u8d77\u540d\u79f0"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#2_1","text":"\u6982\u5ff5 \u5f53\u5728python\u4e2d\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u65f6\uff0cre\u6a21\u5757\u4f1a\u505a\u4e24\u4ef6\u4e8b\uff0c\u4e00\u4ef6\u662f\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u8868\u8fbe\u5f0f\u7684\u5b57\u7b26\u4e32\u672c\u8eab\u4e0d\u5408\u6cd5\uff0c\u4f1a\u62a5\u9519\u3002\u53e6\u4e00\u4ef6\u662f\u7528\u7f16\u8bd1\u597d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u63d0\u53d6\u5339\u914d\u5b57\u7b26\u4e32 \u7f16\u8bd1\u4f18\u70b9 \u5982\u679c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u8981\u4f7f\u7528\u51e0\u5343\u904d\uff0c\u6bcf\u4e00\u6b21\u90fd\u4f1a\u7f16\u8bd1\uff0c\u51fa\u4e8e\u6548\u7387\u7684\u8003\u8651\u8fdb\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7f16\u8bd1\uff0c\u5c31\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u7f16\u8bd1\u4e86\uff0c\u8282\u7701\u4e86\u7f16\u8bd1\u7684\u65f6\u95f4\uff0c\u4ece\u800c\u63d0\u5347\u6548\u7387 compile()\u51fd\u6570 \u539f\u578b def compile(pattern, flags=0) \u4f5c\u7528 \u5c06pattern\u6a21\u5f0f\u7f16\u8bd1\u6210\u6b63\u5219\u5bf9\u8c61 \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e pattern \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f(\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f) flags \u6807\u8bc6\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f flags \u503c \u8bf4\u660e re.I \u662f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f re.M \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd\u5230^\u548c$ re.S \u4f7f.\u5339\u914d\u5305\u62ec\u6362\u884c\u7b26\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26 \u8fd4\u56de\u503c \u7f16\u8bd1\u597d\u7684\u6b63\u5219\u5bf9\u8c61 \u793a\u4f8b ```python import re re_phone = re.compile(r\"(0\\d{2,3}-\\d{7,8})\") print(re_phone, type(re_phone)) ``` \u7f16\u8bd1\u540e\u5176\u4ed6\u65b9\u6cd5\u7684\u4f7f\u7528 \u539f\u578b def match(self, string, pos=0, endpos=-1) def search(self, string, pos=0, endpos=-1) def findall(self, string, pos=0, endpos=-1) def finditer(self, string, pos=0, endpos=-1) \u53c2\u6570 \u53c2\u6570 \u8bf4\u660e string \u5f85\u5339\u914d\u7684\u5b57\u7b26\u4e32 pos \u4ecestring\u5b57\u7b26\u4e32pos\u4e0b\u6807\u5f00\u59cb endpos \u7ed3\u675f\u4e0b\u6807 \u793a\u4f8b python s1 = \"lucky's phone is 010-88888888\" s2 = \"kaige's phone is 010-99999999\" ret1 = re_phone.search(s1) print(ret1, ret1.group(1)) ret2 = re_phone.search(s2) print(ret2, ret2.group(1))","title":"2\u3001\u7f16\u8bd1"},{"location":"03%E3%80%81%E6%AD%A3%E5%88%99.html#3_1","text":"\u8d2a\u5a6a\u6a21\u5f0f \u8d2a\u5a6a\u6982\u5ff5\uff1a\u5339\u914d\u5c3d\u53ef\u80fd\u591a\u7684\u5b57\u7b26 .+ \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u81f3\u5c11\u4e00\u6b21 .* \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u4efb\u610f\u6b21 \u5b9e\u4f8b python res = re.search('<b>.+</b>', '<b></b><b>b\u6807\u7b7e</b>') res = re.search('<b>.*</b>', '<b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b>') \u975e\u8d2a\u5a6a\u6a21\u5f0f \u975e\u8d2a\u5a6a\u6982\u5ff5\uff1a\u5c3d\u53ef\u80fd\u5c11\u7684\u5339\u914d\u79f0\u4e3a\u975e\u8d2a\u5a6a\u5339\u914d\uff0c*?\u3001+?\u5373\u53ef .+? \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u81f3\u5c11\u4e00\u6b21 \u62d2\u7edd\u8d2a\u5a6a .*? \u5339\u914d\u6362\u884c\u7b26\u4ee5\u5916\u7684\u5b57\u7b26\u4efb\u610f\u6b21 \u62d2\u7edd\u8d2a\u5a6a \u5b9e\u4f8b python res = re.search('<b>.+?</b>', '<b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b>') res = re.search('<b>.*?</b>', '<b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b><b>b\u6807\u7b7e</b>')","title":"3\u3001\u8d2a\u5a6a\u4e0e\u975e\u8d2a\u5a6a"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html","text":"\u56db\u3001beautifulsoup \u4e00\u3001beautifulsoup\u7684\u7b80\u5355\u4f7f\u7528 \u7b80\u5355\u6765\u8bf4\uff0cBeautiful Soup\u662fpython\u7684\u4e00\u4e2a\u5e93\uff0c\u6700\u4e3b\u8981\u7684\u529f\u80fd\u662f\u4ece\u7f51\u9875\u6293\u53d6\u6570\u636e\u3002\u5b98\u65b9\u89e3\u91ca\u5982\u4e0b\uff1a Beautiful Soup\u63d0\u4f9b\u4e00\u4e9b\u7b80\u5355\u7684\u3001python\u5f0f\u7684\u51fd\u6570\u7528\u6765\u5904\u7406\u5bfc\u822a\u3001\u641c\u7d22\u3001\u4fee\u6539\u5206\u6790\u6811\u7b49\u529f\u80fd\u3002 \u5b83\u662f\u4e00\u4e2a\u5de5\u5177\u7bb1\uff0c\u901a\u8fc7\u89e3\u6790\u6587\u6863\u4e3a\u7528\u6237\u63d0\u4f9b\u9700\u8981\u6293\u53d6\u7684\u6570\u636e\uff0c\u56e0\u4e3a\u7b80\u5355\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u591a\u5c11\u4ee3\u7801\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u3002 1\u3001\u5b89\u88c5 pip3 install beautifulsoup4 1.1\u89e3\u6790\u5668 Beautiful Soup\u652f\u6301Python\u6807\u51c6\u5e93\u4e2d\u7684HTML\u89e3\u6790\u5668,\u8fd8\u652f\u6301\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684\u89e3\u6790\u5668\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u5b89\u88c5\u5b83\uff0c\u5219 Python \u4f1a\u4f7f\u7528 Python\u9ed8\u8ba4\u7684\u89e3\u6790\u5668\uff0clxml \u89e3\u6790\u5668\u66f4\u52a0\u5f3a\u5927\uff0c\u901f\u5ea6\u66f4\u5feb\uff0c\u63a8\u8350\u5b89\u88c5\u3002 pip3 install lxml \u53e6\u4e00\u4e2a\u53ef\u4f9b\u9009\u62e9\u7684\u89e3\u6790\u5668\u662f\u7eafPython\u5b9e\u73b0\u7684 html5lib , html5lib\u7684\u89e3\u6790\u65b9\u5f0f\u4e0e\u6d4f\u89c8\u5668\u76f8\u540c,\u53ef\u4ee5\u9009\u62e9\u4e0b\u5217\u65b9\u6cd5\u6765\u5b89\u88c5html5lib: pip install html5lib 1.2\u89e3\u6790\u5668\u5bf9\u6bd4 \u5b98\u7f51\u6587\u6863 2\u3001\u5feb\u901f\u5f00\u59cb \u4e0b\u9762\u7684\u4e00\u6bb5HTML\u4ee3\u7801\u5c06\u4f5c\u4e3a\u4f8b\u5b50\u88ab\u591a\u6b21\u7528\u5230.\u8fd9\u662f \u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u7684 \u7684\u4e00\u6bb5\u5185\u5bb9(\u4ee5\u540e\u5185\u5bb9\u4e2d\u7b80\u79f0\u4e3a \u7231\u4e3d\u4e1d \u7684\u6587\u6863): html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" \u4f7f\u7528BeautifulSoup\u89e3\u6790\u8fd9\u6bb5\u4ee3\u7801,\u80fd\u591f\u5f97\u5230\u4e00\u4e2a BeautifulSoup \u7684\u5bf9\u8c61,\u5e76\u80fd\u6309\u7167\u6807\u51c6\u7684\u7f29\u8fdb\u683c\u5f0f\u7684\u7ed3\u6784\u8f93\u51fa: from bs4 import BeautifulSoup soup = BeautifulSoup(html_doc, 'html.parser') print(soup.prettify()) \u5339\u914d\u4ee3\u7801 <html> <head> <title> The Dormouse's story </title> </head> <body> <p class=\"title\"> <b> The Dormouse's story </b> </p> <p class=\"story\"> Once upon a time there were three little sisters; and their names were <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\"> Elsie </a> , <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\"> Lacie </a> and <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\"> Tillie </a> ; and they lived at the bottom of a well. </p> <p class=\"story\"> ... </p> </body> </html> \u51e0\u4e2a\u7b80\u5355\u7684\u6d4f\u89c8\u7ed3\u6784\u5316\u6570\u636e\u7684\u65b9\u6cd5: soup.title # \u83b7\u53d6\u6807\u7b7etitle # <title>The Dormouse's story</title> soup.title.name # \u83b7\u53d6\u6807\u7b7e\u540d\u79f0 # 'title' soup.title.string # \u83b7\u53d6\u6807\u7b7etitle\u5185\u7684\u5185\u5bb9 # 'The Dormouse's story' soup.title.parent # \u83b7\u53d6\u7236\u7ea7\u6807\u7b7e soup.title.parent.name # \u83b7\u53d6\u7236\u7ea7\u6807\u7b7e\u540d\u79f0 # 'head' soup.p # <p class=\"title\"><b>The Dormouse's story</b></p> soup.p['class'] # \u83b7\u53d6p\u7684class\u5c5e\u6027\u503c # 'title' soup.a # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> soup.find_all('a') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.find(id=\"link3\") # \u83b7\u53d6id\u4e3alink3\u7684\u6807\u7b7e # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> \u4ece\u6587\u6863\u4e2d\u627e\u5230\u6240\u6709\\ \u6807\u7b7e\u7684\u94fe\u63a5: for link in soup.find_all('a'): print(link.get('href')) # http://example.com/elsie # http://example.com/lacie # http://example.com/tillie \u4ece\u6587\u6863\u4e2d\u83b7\u53d6\u6240\u6709\u6587\u5b57\u5185\u5bb9: print(soup.get_text()) 3\u3001\u5982\u4f55\u4f7f\u7528 \u5c06\u4e00\u6bb5\u6587\u6863\u4f20\u5165BeautifulSoup \u7684\u6784\u9020\u65b9\u6cd5,\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u6587\u6863\u7684\u5bf9\u8c61, \u53ef\u4ee5\u4f20\u5165\u4e00\u6bb5\u5b57\u7b26\u4e32\u6216\u4e00\u4e2a\u6587\u4ef6\u53e5\u67c4. from bs4 import BeautifulSoup soup = BeautifulSoup(open(\"index.html\")) soup = BeautifulSoup(\"<html>data</html>\") \u7136\u540e,Beautiful Soup\u9009\u62e9\u6700\u5408\u9002\u7684\u89e3\u6790\u5668\u6765\u89e3\u6790\u8fd9\u6bb5\u6587\u6863,\u5982\u679c\u624b\u52a8\u6307\u5b9a\u89e3\u6790\u5668\u90a3\u4e48Beautiful Soup\u4f1a\u9009\u62e9\u6307\u5b9a\u7684\u89e3\u6790\u5668\u6765\u89e3\u6790\u6587\u6863\u3002 4\u3001\u5bf9\u8c61\u7684\u79cd\u7c7b Beautiful Soup\u5c06\u590d\u6742HTML\u6587\u6863\u8f6c\u6362\u6210\u4e00\u4e2a\u590d\u6742\u7684\u6811\u5f62\u7ed3\u6784,\u6bcf\u4e2a\u8282\u70b9\u90fd\u662fPython\u5bf9\u8c61,\u6240\u6709\u5bf9\u8c61\u53ef\u4ee5\u5f52\u7eb3\u4e3a\u79cd Tag , NavigableString , BeautifulSoup , Comment . 4.1 Tag \u901a\u4fd7\u70b9\u8bb2\u5c31\u662f HTML \u4e2d\u7684\u4e00\u4e2a\u4e2a\u6807\u7b7e\uff0cTag \u5bf9\u8c61\u4e0eXML\u6216HTML\u539f\u751f\u6587\u6863\u4e2d\u7684tag\u76f8\u540c: soup = BeautifulSoup('<b class=\"boldest\">Extremely bold</b>') tag = soup.b type(tag) # <class 'bs4.element.Tag'> 4.1.2 tag\u7684\u540d\u5b57 soup\u5bf9\u8c61\u518d\u4ee5\u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u7684html_doc\u4e3a\u4f8b\uff0c\u64cd\u4f5c\u6587\u6863\u6811\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u544a\u8bc9\u5b83\u4f60\u60f3\u83b7\u53d6\u7684tag\u7684name.\u5982\u679c\u60f3\u83b7\u53d6 \u6807\u7b7e,\u53ea\u8981\u7528 soup.head : soup.head # <head><title>The Dormouse's story</title></head> soup.title # <title>The Dormouse's story</title> \u8fd9\u662f\u4e2a\u83b7\u53d6tag\u7684\u5c0f\u7a8d\u95e8,\u53ef\u4ee5\u5728\u6587\u6863\u6811\u7684tag\u4e2d\u591a\u6b21\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5.\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u83b7\u53d6\\ \u6807\u7b7e\u4e2d\u7684\u7b2c\u4e00\u4e2a\\ \u6807\u7b7e: soup.body.b # <b>The Dormouse's story</b> \u901a\u8fc7\u70b9\u53d6\u5c5e\u6027\u7684\u65b9\u5f0f\u53ea\u80fd\u83b7\u5f97\u5f53\u524d\u540d\u5b57\u7684\u7b2c\u4e00\u4e2atag: soup.a # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> \u5982\u679c\u60f3\u8981\u5f97\u5230\u6240\u6709\u7684\\ \u6807\u7b7e,\u6216\u662f\u901a\u8fc7\u540d\u5b57\u5f97\u5230\u6bd4\u4e00\u4e2atag\u66f4\u591a\u7684\u5185\u5bb9\u7684\u65f6\u5019,\u5c31\u9700\u8981\u7528\u5230 Searching the tree \u4e2d\u63cf\u8ff0\u7684\u65b9\u6cd5,\u6bd4\u5982: find_all() soup.find_all('a') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] \u6211\u4eec\u53ef\u4ee5\u5229\u7528 soup\u52a0\u6807\u7b7e\u540d\u8f7b\u677e\u5730\u83b7\u53d6\u8fd9\u4e9b\u6807\u7b7e\u7684\u5185\u5bb9\uff0c\u6ce8\u610f\uff0c\u5b83\u67e5\u627e\u7684\u662f\u5728\u6240\u6709\u5185\u5bb9\u4e2d\u7684\u7b2c\u4e00\u4e2a\u7b26\u5408\u8981\u6c42\u7684\u6807\u7b7e\u3002 4.1.3 name\u548cattributes\u5c5e\u6027 Tag\u6709\u5f88\u591a\u65b9\u6cd5\u548c\u5c5e\u6027,\u73b0\u5728\u4ecb\u7ecd\u4e00\u4e0btag\u4e2d\u6700\u91cd\u8981\u7684\u5c5e\u6027: name\u548cattributes \u6bcf\u4e2atag\u90fd\u6709\u81ea\u5df1\u7684\u540d\u5b57,\u901a\u8fc7 .name \u6765\u83b7\u53d6: tag.name # 'b' tag['class'] # 'boldest' tag.attrs # {'class': 'boldest'} tag\u7684\u5c5e\u6027\u53ef\u4ee5\u88ab\u6dfb\u52a0,\u5220\u9664\u6216\u4fee\u6539. \u518d\u8bf4\u4e00\u6b21, tag\u7684\u5c5e\u6027\u64cd\u4f5c\u65b9\u6cd5\u4e0e\u5b57\u5178\u4e00\u6837 tag['class'] = 'verybold' tag['id'] = 1 tag # <blockquote class=\"verybold\" id=\"1\">Extremely bold</blockquote> del tag['class'] del tag['id'] tag # <blockquote>Extremely bold</blockquote> tag['class'] # KeyError: 'class' print(tag.get('class')) # None 4.4 NavigableString(\u5b57\u7b26\u4e32) \u65e2\u7136\u6211\u4eec\u5df2\u7ecf\u5f97\u5230\u4e86\u6807\u7b7e\u7684\u5185\u5bb9\uff0c\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u8981\u60f3\u83b7\u53d6\u6807\u7b7e\u5185\u90e8\u7684\u6587\u5b57\u600e\u4e48\u529e\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u7528 .string \u5373\u53ef. \u5b57\u7b26\u4e32\u5e38\u88ab\u5305\u542b\u5728tag\u5185.Beautiful Soup\u7528 NavigableString \u7c7b\u6765\u5305\u88c5tag\u4e2d\u7684\u5b57\u7b26\u4e32\uff0c\u901a\u8fc7 unicode() \u65b9\u6cd5\u53ef\u4ee5\u76f4\u63a5\u5c06 NavigableString \u5bf9\u8c61\u8f6c\u6362\u6210Unicode\u5b57\u7b26\u4e32: tag.string # 'Extremely bold' type(tag.string) # <class 'bs4.element.NavigableString'> tag\u4e2d\u5305\u542b\u7684\u5b57\u7b26\u4e32\u4e0d\u80fd\u7f16\u8f91,\u4f46\u662f\u53ef\u4ee5\u88ab\u66ff\u6362\u6210\u5176\u5b83\u7684\u5b57\u7b26\u4e32,\u7528 replace_with() \u65b9\u6cd5: tag.string.replace_with(\"No longer bold\") tag # <blockquote>No longer bold</blockquote> 4.5 BeautifulSoup BeautifulSoup \u5bf9\u8c61\u8868\u793a\u7684\u662f\u4e00\u4e2a\u6587\u6863\u7684\u5168\u90e8\u5185\u5bb9.\u5927\u90e8\u5206\u65f6\u5019,\u53ef\u4ee5\u628a\u5b83\u5f53\u4f5c Tag \u5bf9\u8c61\uff0c\u662f\u4e00\u4e2a\u7279\u6b8a\u7684 Tag\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u83b7\u53d6\u5b83\u7684\u7c7b\u578b\uff0c\u540d\u79f0\uff0c\u4ee5\u53ca\u5c5e\u6027\u3002 print(type(soup.name)) # <class 'str'> print(soup.name) # [document] print(soup.attrs) # {} \u7a7a\u5b57\u5178 4.6 Comment html_doc='<a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\"><!-- Elsie --></a>' soup = BeautifulSoup(html_doc, 'html.parser') print(soup.a.string) # Elsie print(type(soup.a.string)) # <class 'bs4.element.Comment'> a \u6807\u7b7e\u91cc\u7684\u5185\u5bb9\u5b9e\u9645\u4e0a\u662f\u6ce8\u91ca\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u5229\u7528 .string \u6765\u8f93\u51fa\u5b83\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u53d1\u73b0\u5b83\u5df2\u7ecf\u628a\u6ce8\u91ca\u7b26\u53f7\u53bb\u6389\u4e86\uff0c\u6240\u4ee5\u8fd9\u53ef\u80fd\u4f1a\u7ed9\u6211\u4eec\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\u3002 \u4e8c\u3001beautifulsoup\u7684\u904d\u5386\u6587\u6863\u6811 \u8fd8\u62ff\u201d\u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u201d\u7684\u6587\u6863\u6765\u505a\u4f8b\u5b50: html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" from bs4 import BeautifulSoup soup = BeautifulSoup(html_doc, 'html.parser') \u901a\u8fc7\u8fd9\u6bb5\u4f8b\u5b50\u6765\u6f14\u793a\u600e\u6837\u4ece\u6587\u6863\u7684\u4e00\u6bb5\u5185\u5bb9\u627e\u5230\u53e6\u4e00\u6bb5\u5185\u5bb9 1\u3001\u5b50\u8282\u70b9 \u4e00\u4e2aTag\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u5b57\u7b26\u4e32\u6216\u5176\u5b83\u7684Tag,\u8fd9\u4e9b\u90fd\u662f\u8fd9\u4e2aTag\u7684\u5b50\u8282\u70b9.Beautiful Soup\u63d0\u4f9b\u4e86\u8bb8\u591a\u64cd\u4f5c\u548c\u904d\u5386\u5b50\u8282\u70b9\u7684\u5c5e\u6027. \u6ce8\u610f: Beautiful Soup\u4e2d\u5b57\u7b26\u4e32\u8282\u70b9\u4e0d\u652f\u6301\u8fd9\u4e9b\u5c5e\u6027,\u56e0\u4e3a\u5b57\u7b26\u4e32\u6ca1\u6709\u5b50\u8282\u70b9\u3002 1.1 .contents \u548c .children tag\u7684 .contents \u5c5e\u6027\u53ef\u4ee5\u5c06tag\u7684\u5b50\u8282\u70b9\u4ee5\u5217\u8868\u7684\u65b9\u5f0f\u8f93\u51fa: head_tag = soup.head head_tag # <head><title>The Dormouse's story</title></head> head_tag.contents [<title>The Dormouse's story</title>] title_tag = head_tag.contents[0] title_tag # <title>The Dormouse's story</title> title_tag.contents # [u'The Dormouse's story'] \u5b57\u7b26\u4e32\u6ca1\u6709 .contents \u5c5e\u6027,\u56e0\u4e3a\u5b57\u7b26\u4e32\u6ca1\u6709\u5b50\u8282\u70b9: text = title_tag.contents[0] text.contents # AttributeError: 'NavigableString' object has no attribute 'contents' .children\u5b83\u8fd4\u56de\u7684\u4e0d\u662f\u4e00\u4e2a list\uff0c\u4e0d\u8fc7\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u904d\u5386\u83b7\u53d6\u6240\u6709\u5b50\u8282\u70b9\u3002\u6211\u4eec\u6253\u5370\u8f93\u51fa .children \u770b\u4e00\u4e0b\uff0c\u53ef\u4ee5\u53d1\u73b0\u5b83\u662f\u4e00\u4e2a list \u751f\u6210\u5668\u5bf9\u8c61 \u901a\u8fc7tag\u7684 .children \u751f\u6210\u5668,\u53ef\u4ee5\u5bf9tag\u7684\u5b50\u8282\u70b9\u8fdb\u884c\u5faa\u73af: print(title_tag.children) # <list_iterator object at 0x101b78860> print(type(title_tag.children)) # <class 'list_iterator'> for child in title_tag.children: print(child) # The Dormouse's story 1.2 .descendants .contents \u548c .children \u5c5e\u6027\u4ec5\u5305\u542btag\u7684\u76f4\u63a5\u5b50\u8282\u70b9.\u4f8b\u5982,\\ \u6807\u7b7e\u53ea\u6709\u4e00\u4e2a\u76f4\u63a5\u5b50\u8282\u70b9\\ head_tag.contents # [<title>The Dormouse's story</title>] \u4f46\u662f\\ \u6807\u7b7e\u4e5f\u5305\u542b\u4e00\u4e2a\u5b50\u8282\u70b9:\u5b57\u7b26\u4e32 \u201cThe Dormouse\u2019s story\u201d,\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b57\u7b26\u4e32 \u201cThe Dormouse\u2019s story\u201d\u4e5f\u5c5e\u4e8e\\ \u6807\u7b7e\u7684\u5b50\u5b59\u8282\u70b9. .descendants \u5c5e\u6027\u53ef\u4ee5\u5bf9\u6240\u6709tag\u7684\u5b50\u5b59\u8282\u70b9\u8fdb\u884c\u9012\u5f52\u5faa\u73af \u3002 for child in head_tag.descendants: print(child) # <title>The Dormouse's story</title> # The Dormouse's story \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d, \\ \u6807\u7b7e\u53ea\u6709\u4e00\u4e2a\u5b50\u8282\u70b9,\u4f46\u662f\u67092\u4e2a\u5b50\u5b59\u8282\u70b9:\\ \u8282\u70b9\u548c\\ \u7684\u5b50\u8282\u70b9, BeautifulSoup \u6709\u4e00\u4e2a\u76f4\u63a5\u5b50\u8282\u70b9(\\ \u8282\u70b9),\u5374\u6709\u5f88\u591a\u5b50\u5b59\u8282\u70b9: len(list(soup.children)) # 1 len(list(soup.descendants)) # 25 2\u3001 \u8282\u70b9\u5185\u5bb9 2.1 .string \u5982\u679ctag\u53ea\u6709\u4e00\u4e2a NavigableString \u7c7b\u578b\u5b50\u8282\u70b9,\u90a3\u4e48\u8fd9\u4e2atag\u53ef\u4ee5\u4f7f\u7528 .string \u5f97\u5230\u5b50\u8282\u70b9\u3002\u5982\u679c\u4e00\u4e2atag\u4ec5\u6709\u4e00\u4e2a\u5b50\u8282\u70b9,\u90a3\u4e48\u8fd9\u4e2atag\u4e5f\u53ef\u4ee5\u4f7f\u7528 .string \u65b9\u6cd5,\u8f93\u51fa\u7ed3\u679c\u4e0e\u5f53\u524d\u552f\u4e00\u5b50\u8282\u70b9\u7684 .string \u7ed3\u679c\u76f8\u540c\u3002 \u901a\u4fd7\u70b9\u8bf4\u5c31\u662f\uff1a\u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u91cc\u9762\u6ca1\u6709\u6807\u7b7e\u4e86\uff0c\u90a3\u4e48 .string \u5c31\u4f1a\u8fd4\u56de\u6807\u7b7e\u91cc\u9762\u7684\u5185\u5bb9\u3002\u5982\u679c\u6807\u7b7e\u91cc\u9762\u53ea\u6709\u552f\u4e00\u7684\u4e00\u4e2a\u6807\u7b7e\u4e86\uff0c\u90a3\u4e48 .string \u4e5f\u4f1a\u8fd4\u56de\u6700\u91cc\u9762\u7684\u5185\u5bb9\u3002\u4f8b\u5982\uff1a print (soup.head.string) #The Dormouse's story # <title><b>The Dormouse's story</b></title> print (soup.title.string) #The Dormouse's story \u5982\u679ctag\u5305\u542b\u4e86\u591a\u4e2a\u5b50\u8282\u70b9,tag\u5c31\u65e0\u6cd5\u786e\u5b9a\uff0cstring \u65b9\u6cd5\u5e94\u8be5\u8c03\u7528\u54ea\u4e2a\u5b50\u8282\u70b9\u7684\u5185\u5bb9, .string \u7684\u8f93\u51fa\u7ed3\u679c\u662f None print (soup.html.string) #None 2.2 .text \u5982\u679ctag\u5305\u542b\u4e86\u591a\u4e2a\u5b50\u8282\u70b9, text\u5219\u4f1a\u8fd4\u56de\u5185\u90e8\u6240\u6709\u6587\u672c\u5185\u5bb9 print (soup.html.text) \u6ce8\u610f\uff1a strings\u548ctext\u90fd\u53ef\u4ee5\u8fd4\u56de\u6240\u6709\u6587\u672c\u5185\u5bb9 \u533a\u522b\uff1atext\u8fd4\u56de\u5185\u5bb9\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b strings\u4e3a\u751f\u6210\u5668generator 3\u3001 \u591a\u4e2a\u5185\u5bb9 .strings .stripped_strings \u5c5e\u6027 3.1 .strings \u83b7\u53d6\u591a\u4e2a\u5185\u5bb9\uff0c\u4e0d\u8fc7\u9700\u8981\u904d\u5386\u83b7\u53d6\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a for string in soup.strings: print(repr(string)) ''' '\\n' \"The Dormouse's story\" '\\n' '\\n' \"The Dormouse's story\" '\\n' 'Once upon a time there were three little sisters; and their names were\\n' 'Elsie' ',\\n' 'Lacie' ' and\\n' 'Tillie' ';\\nand they lived at the bottom of a well.' '\\n' '...' '\\n' ''' 3.2 .stripped_strings \u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u4e2d\u53ef\u80fd\u5305\u542b\u4e86\u5f88\u591a\u7a7a\u683c\u6216\u7a7a\u884c,\u4f7f\u7528 .stripped_strings \u53ef\u4ee5\u53bb\u9664\u591a\u4f59\u7a7a\u767d\u5185\u5bb9 for string in soup.stripped_strings: print(repr(string)) ''' \"The Dormouse's story\" \"The Dormouse's story\" 'Once upon a time there were three little sisters; and their names were' 'Elsie' ',' 'Lacie' 'and' 'Tillie' ';\\nand they lived at the bottom of a well.' '...' ''' 4\u3001 \u7236\u8282\u70b9 \u7ee7\u7eed\u5206\u6790\u6587\u6863\u6811,\u6bcf\u4e2atag\u6216\u5b57\u7b26\u4e32\u90fd\u6709\u7236\u8282\u70b9:\u88ab\u5305\u542b\u5728\u67d0\u4e2atag\u4e2d 4.1 .parent \u901a\u8fc7 .parent \u5c5e\u6027\u6765\u83b7\u53d6\u67d0\u4e2a\u5143\u7d20\u7684\u7236\u8282\u70b9.\u5728\u4f8b\u5b50\u201c\u7231\u4e3d\u4e1d\u201d\u7684\u6587\u6863\u4e2d,\\ \u6807\u7b7e\u662f\\ \u6807\u7b7e\u7684\u7236\u8282\u70b9: title_tag = soup.title title_tag # <title>The Dormouse's story</title> title_tag.parent # <head><title>The Dormouse's story</title></head> \u6587\u6863\u7684\u9876\u5c42\u8282\u70b9\u6bd4\u5982\\ \u7684\u7236\u8282\u70b9\u662f BeautifulSoup \u5bf9\u8c61: html_tag = soup.html type(html_tag.parent) # <class 'bs4.BeautifulSoup'> 4.2 .parents \u901a\u8fc7\u5143\u7d20\u7684 .parents \u5c5e\u6027\u53ef\u4ee5\u9012\u5f52\u5f97\u5230\u5143\u7d20\u7684\u6240\u6709\u7236\u8f88\u8282\u70b9,\u4e0b\u9762\u7684\u4f8b\u5b50\u4f7f\u7528\u4e86 .parents \u65b9\u6cd5\u904d\u5386\u4e86\\ \u6807\u7b7e\u5230\u6839\u8282\u70b9\u7684\u6240\u6709\u8282\u70b9. link = soup.a link # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> for parent in link.parents: if parent is None: print(parent) else: print(parent.name) # p # body # html # [document] # None 5\u3001 \u5144\u5f1f\u8282\u70b9 sibling_soup = BeautifulSoup(\"<a><b>text1</b><c>text2</c></b></a>\", 'lxml') 5.1 .next_sibling \u548c .previous_sibling \u5144\u5f1f\u8282\u70b9\u53ef\u4ee5\u7406\u89e3\u4e3a\u548c\u672c\u8282\u70b9\u5904\u5728\u7edf\u4e00\u7ea7\u7684\u8282\u70b9\uff0c.next_sibling \u5c5e\u6027\u83b7\u53d6\u4e86\u8be5\u8282\u70b9\u7684\u4e0b\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\uff0c.previous_sibling \u5219\u4e0e\u4e4b\u76f8\u53cd\uff0c\u5982\u679c\u8282\u70b9\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de None \u5728\u6587\u6863\u6811\u4e2d,\u4f7f\u7528 .next_sibling \u548c .previous_sibling \u5c5e\u6027\u6765\u67e5\u8be2\u5144\u5f1f\u8282\u70b9: sibling_soup.b.next_sibling # <c>text2</c> sibling_soup.c.previous_sibling # <b>text1</b> \u6ce8\u610f\uff1a\u5b9e\u9645\u6587\u6863\u4e2d\u7684tag\u7684 .next_sibling \u548c .previous_sibling \u5c5e\u6027\u901a\u5e38\u662f\u5b57\u7b26\u4e32\u6216\u7a7a\u767d\uff0c\u56e0\u4e3a\u7a7a\u767d\u6216\u8005\u6362\u884c\u4e5f\u53ef\u4ee5\u88ab\u89c6\u4f5c\u4e00\u4e2a\u8282\u70b9\uff0c\u6240\u4ee5\u5f97\u5230\u7684\u7ed3\u679c\u53ef\u80fd\u662f\u7a7a\u767d\u6216\u8005\u6362\u884c \u5b9e\u9645\u6587\u6863\u4e2d\u7684tag\u7684 .next_sibling \u548c .previous_sibling \u5c5e\u6027\u901a\u5e38\u662f\u5b57\u7b26\u4e32\u6216\u7a7a\u767d. \u770b\u770b\u201c\u7231\u4e3d\u4e1d\u201d\u6587\u6863: <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a> <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a> \u5982\u679c\u4ee5\u4e3a\u7b2c\u4e00\u4e2a\\ \u6807\u7b7e\u7684 .next_sibling \u7ed3\u679c\u662f\u7b2c\u4e8c\u4e2a\\ \u6807\u7b7e,\u90a3\u5c31\u9519\u4e86,\u771f\u5b9e\u7ed3\u679c\u662f\u7b2c\u4e00\u4e2a\\ \u6807\u7b7e\u548c\u7b2c\u4e8c\u4e2a\\ \u6807\u7b7e\u4e4b\u95f4\u7684\u987f\u53f7\u548c\u6362\u884c\u7b26: link = soup.a link # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> link.next_sibling # u',\\n' \u7b2c\u4e8c\u4e2a\\ \u6807\u7b7e\u662f\u987f\u53f7\u7684 .next_sibling \u5c5e\u6027: link.next_sibling.next_sibling # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> 6\u3001 \u5168\u90e8\u5144\u5f1f\u8282\u70b9 .next_siblings .previous_siblings \u5c5e\u6027 \u901a\u8fc7 .next_siblings \u548c .previous_siblings \u5c5e\u6027\u53ef\u4ee5\u5bf9\u5f53\u524d\u8282\u70b9\u7684\u5144\u5f1f\u8282\u70b9\u8fed\u4ee3\u8f93\u51fa for sibling in soup.a.next_siblings: print(repr(sibling)) ''' ',\\n' <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> ' and\\n' <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ';\\nand they lived at the bottom of a well.' ''' 7\u3001 \u524d\u540e\u8282\u70b9 *.next_element .previous_element \u5c5e\u6027* \u4e0e .next_sibling .previous_sibling \u4e0d\u540c\uff0c\u5b83\u5e76\u4e0d\u662f\u9488\u5bf9\u4e8e\u5144\u5f1f\u8282\u70b9\uff0c\u800c\u662f\u5728\u6240\u6709\u8282\u70b9\uff0c\u4e0d\u5206\u5c42\u6b21 \u6bd4\u5982 head \u8282\u70b9\u4e3a <head><title>The Dormouse's story</title></head> \u90a3\u4e48\u5b83\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u4fbf\u662f title\uff0c\u5b83\u662f\u4e0d\u5206\u5c42\u6b21\u5173\u7cfb\u7684 print(soup.head.next_element) #<title>The Dormouse's story</title> 8\u3001 \u6240\u6709\u524d\u540e\u8282\u70b9 *.next_elements .previous_elements \u5c5e\u6027* \u901a\u8fc7 .next_elements \u548c .previous_elements \u7684\u8fed\u4ee3\u5668\u5c31\u53ef\u4ee5\u5411\u524d\u6216\u5411\u540e\u8bbf\u95ee\u6587\u6863\u7684\u89e3\u6790\u5185\u5bb9,\u5c31\u597d\u50cf\u6587\u6863\u6b63\u5728\u88ab\u89e3\u6790\u4e00\u6837 for i in soup.a.next_elements: print(repr(i)) ''' 'Elsie' ',\\n' <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> 'Lacie' ' and\\n' <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> 'Tillie' ';\\nand they lived at the bottom of a well.' '\\n' <p class=\"story\">...</p> '...' '\\n' ''' \u4ee5\u4e0a\u662f\u904d\u5386\u6587\u6863\u6811\u7684\u57fa\u672c\u7528\u6cd5\u3002 \u4e09\u3001beautifulsoup\u7684\u641c\u7d22\u6587\u6863\u6811 1\u3001find_all find_all( name , attrs , recursive , string , **kwargs ) find_all() \u65b9\u6cd5\u641c\u7d22\u5f53\u524dtag\u7684\u6240\u6709tag\u5b50\u8282\u70b9,\u5e76\u5224\u65ad\u662f\u5426\u7b26\u5408\u8fc7\u6ee4\u5668\u7684\u6761\u4ef6: soup.find_all(\"title\") # [<title>The Dormouse's story</title>] soup.find_all(\"p\", \"title\") # [<p class=\"title\"><b>The Dormouse's story</b></p>] soup.find_all(\"a\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.find_all(id=\"link2\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] import re soup.find(string=re.compile(\"sisters\")) # u'Once upon a time there were three little sisters; and their names were\\n' \u6709\u51e0\u4e2a\u65b9\u6cd5\u5f88\u76f8\u4f3c,\u8fd8\u6709\u51e0\u4e2a\u65b9\u6cd5\u662f\u65b0\u7684,\u53c2\u6570\u4e2d\u7684 string \u548c id \u662f\u4ec0\u4e48\u542b\u4e49? \u4e3a\u4ec0\u4e48 find_all(\"p\", \"title\") \u8fd4\u56de\u7684\u662fCSS Class\u4e3a\u201dtitle\u201d\u7684 \u6807\u7b7e? \u6211\u4eec\u6765\u4ed4\u7ec6\u770b\u4e00\u4e0b find_all() \u7684\u53c2\u6570. 1.1 name \u53c2\u6570 name \u53c2\u6570\u53ef\u4ee5\u67e5\u627e\u6240\u6709\u540d\u5b57\u4e3a name \u7684tag,\u5b57\u7b26\u4e32\u5bf9\u8c61\u4f1a\u88ab\u81ea\u52a8\u5ffd\u7565\u6389. \u7b80\u5355\u7684\u7528\u6cd5\u5982\u4e0b: soup.find_all(\"title\") # [<title>The Dormouse's story</title>] \u641c\u7d22 name \u53c2\u6570\u7684\u503c\u53ef\u4ee5\u4f7f\u4efb\u4e00\u7c7b\u578b\u7684 \u8fc7\u6ee4\u5668 ,\u5b57\u7b26\u7a9c,\u6b63\u5219\u8868\u8fbe\u5f0f,\u5217\u8868,\u65b9\u6cd5\u6216\u662f True . <1> \u4f20\u5b57\u7b26\u4e32 \u6700\u7b80\u5355\u7684\u8fc7\u6ee4\u5668\u662f\u5b57\u7b26\u4e32.\u5728\u641c\u7d22\u65b9\u6cd5\u4e2d\u4f20\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570,Beautiful Soup\u4f1a\u67e5\u627e\u4e0e\u5b57\u7b26\u4e32\u5b8c\u6574\u5339\u914d\u7684\u5185\u5bb9,\u4e0b\u9762\u7684\u4f8b\u5b50\u7528\u4e8e\u67e5\u627e\u6587\u6863\u4e2d\u6240\u6709\u7684 \u6807\u7b7e soup.find_all('b') # [<b>The Dormouse's story</b>] <2> \u4f20\u6b63\u5219\u8868\u8fbe\u5f0f \u5982\u679c\u4f20\u5165\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570,Beautiful Soup\u4f1a\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 match() \u6765\u5339\u914d\u5185\u5bb9.\u4e0b\u9762\u4f8b\u5b50\u4e2d\u627e\u51fa\u6240\u6709\u4ee5b\u5f00\u5934\u7684\u6807\u7b7e,\u8fd9\u8868\u793a\\ \u548c\\ \u6807\u7b7e\u90fd\u5e94\u8be5\u88ab\u627e\u5230 import re for tag in soup.find_all(re.compile(\"^b\")): print(tag.name) # body # b <3> \u4f20\u5217\u8868 \u5982\u679c\u4f20\u5165\u5217\u8868\u53c2\u6570,Beautiful Soup\u4f1a\u5c06\u4e0e\u5217\u8868\u4e2d\u4efb\u4e00\u5143\u7d20\u5339\u914d\u7684\u5185\u5bb9\u8fd4\u56de.\u4e0b\u9762\u4ee3\u7801\u627e\u5230\u6587\u6863\u4e2d\u6240\u6709\\ \u6807\u7b7e\u548c\\ \u6807\u7b7e soup.find_all([\"a\", \"b\"]) # [<b>The Dormouse's story</b>, # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] <4> \u4f20 True True \u53ef\u4ee5\u5339\u914d\u4efb\u4f55\u503c,\u4e0b\u9762\u4ee3\u7801\u67e5\u627e\u5230\u6240\u6709\u7684tag,\u4f46\u662f\u4e0d\u4f1a\u8fd4\u56de\u5b57\u7b26\u4e32\u8282\u70b9 for tag in soup.find_all(True): print(tag.name) ''' html head title body p b p a a a p ''' \u6ce8\u610f\uff1a print(list(soup.strings)) \u4f1a\u8fd4\u56de\u6240\u6709\u7684\u8282\u70b9 \u5305\u62ec\u5b57\u7b26\u4e32\u8282\u70b9 <5> \u4f20\u65b9\u6cd5 \u5982\u679c\u6ca1\u6709\u5408\u9002\u8fc7\u6ee4\u5668,\u90a3\u4e48\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5,\u65b9\u6cd5\u53ea\u63a5\u53d7\u4e00\u4e2a\u5143\u7d20\u53c2\u6570,\u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de True \u8868\u793a\u5f53\u524d\u5143\u7d20\u5339\u914d\u5e76\u4e14\u88ab\u627e\u5230,\u5982\u679c\u4e0d\u662f\u5219\u53cd\u56de False \u4e0b\u9762\u65b9\u6cd5\u6821\u9a8c\u4e86\u5f53\u524d\u5143\u7d20,\u5982\u679c\u65e2\u5305\u542b class \u5c5e\u6027\u53c8\u5305\u542b id \u5c5e\u6027,\u90a3\u4e48\u5c06\u8fd4\u56de True : def has_class_but_no_id(tag): return tag.has_attr('class') and tag.has_attr('id') \u5c06\u8fd9\u4e2a\u65b9\u6cd5\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165 find_all() \u65b9\u6cd5,\u5c06\u5f97\u5230\u6240\u6709 \u6807\u7b7e: print(soup.find_all(has_class_but_no_id)) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] ''' 1.2 keyword \u53c2\u6570 \u5982\u679c\u4e00\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u53c2\u6570\u4e0d\u662f\u641c\u7d22\u5185\u7f6e\u7684\u53c2\u6570\u540d,\u641c\u7d22\u65f6\u4f1a\u628a\u8be5\u53c2\u6570\u5f53\u4f5c\u6307\u5b9a\u540d\u5b57tag\u7684\u5c5e\u6027\u6765\u641c\u7d22,\u5982\u679c\u5305\u542b\u4e00\u4e2a\u540d\u5b57\u4e3a id \u7684\u53c2\u6570,Beautiful Soup\u4f1a\u641c\u7d22\u6bcf\u4e2atag\u7684\u201did\u201d\u5c5e\u6027. soup.find_all(id='link2') # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] import re print(soup.find_all(href=re.compile(\"elsie\"))) # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] \u641c\u7d22\u6307\u5b9a\u540d\u5b57\u7684\u5c5e\u6027\u65f6\u53ef\u4ee5\u4f7f\u7528\u7684\u53c2\u6570\u503c\u5305\u62ec \u5b57\u7b26\u4e32 , \u6b63\u5219\u8868\u8fbe\u5f0f , \u5217\u8868, True . \u4e0b\u9762\u7684\u4f8b\u5b50\u5728\u6587\u6863\u6811\u4e2d\u67e5\u627e\u6240\u6709\u5305\u542b id \u5c5e\u6027\u7684tag,\u65e0\u8bba id \u7684\u503c\u662f\u4ec0\u4e48: soup.find_all(id=True) # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] \u4f7f\u7528\u591a\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u53c2\u6570\u53ef\u4ee5\u540c\u65f6\u8fc7\u6ee4tag\u7684\u591a\u4e2a\u5c5e\u6027: soup.find_all(href=re.compile(\"elsie\"), id='link1') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">three</a>] \u5728\u8fd9\u91cc\u6211\u4eec\u60f3\u7528 class \u8fc7\u6ee4\uff0c\u4e0d\u8fc7 class \u662f python \u7684\u5173\u952e\u8bcd\uff0c\u8fd9\u600e\u4e48\u529e\uff1f\u52a0\u4e2a\u4e0b\u5212\u7ebf\u5c31\u53ef\u4ee5 print(soup.find_all(\"a\", class_=\"sister\")) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ] ''' \u901a\u8fc7 find_all() \u65b9\u6cd5\u7684 attrs \u53c2\u6570\u5b9a\u4e49\u4e00\u4e2a\u5b57\u5178\u53c2\u6570\u6765\u641c\u7d22\u5305\u542b\u7279\u6b8a\u5c5e\u6027\u7684tag: data_soup.find_all(attrs={\"data-foo\": \"value\"}) # [<div data-foo=\"value\">foo!</div>] \u6ce8\u610f\uff1a\u5982\u4f55\u67e5\u770b\u6761\u4ef6id\u548cclass\u540c\u65f6\u5b58\u5728\u65f6\u7684\u5199\u6cd5 print(soup.find_all('b', class_=\"story\", id=\"x\")) print(soup.find_all('b', attrs={\"class\":\"story\", \"id\":\"x\"})) 1.3 text \u53c2\u6570 \u901a\u8fc7 text \u53c2\u6570\u53ef\u4ee5\u641c\u641c\u6587\u6863\u4e2d\u7684\u5b57\u7b26\u4e32\u5185\u5bb9.\u4e0e name \u53c2\u6570\u7684\u53ef\u9009\u503c\u4e00\u6837, text \u53c2\u6570\u63a5\u53d7 \u5b57\u7b26\u4e32 , \u6b63\u5219\u8868\u8fbe\u5f0f , \u5217\u8868, True import re print(soup.find_all(text=\"Elsie\")) # ['Elsie'] print(soup.find_all(text=[\"Tillie\", \"Elsie\", \"Lacie\"])) # ['Elsie', 'Lacie', 'Tillie'] # \u53ea\u8981\u5305\u542bDormouse\u5c31\u53ef\u4ee5 print(soup.find_all(text=re.compile(\"Dormouse\"))) # [\"The Dormouse's story\", \"The Dormouse's story\"] 1.4 limit \u53c2\u6570 find_all() \u65b9\u6cd5\u8fd4\u56de\u5168\u90e8\u7684\u641c\u7d22\u7ed3\u6784,\u5982\u679c\u6587\u6863\u6811\u5f88\u5927\u90a3\u4e48\u641c\u7d22\u4f1a\u5f88\u6162.\u5982\u679c\u6211\u4eec\u4e0d\u9700\u8981\u5168\u90e8\u7ed3\u679c,\u53ef\u4ee5\u4f7f\u7528 limit \u53c2\u6570\u9650\u5236\u8fd4\u56de\u7ed3\u679c\u7684\u6570\u91cf.\u6548\u679c\u4e0eSQL\u4e2d\u7684limit\u5173\u952e\u5b57\u7c7b\u4f3c,\u5f53\u641c\u7d22\u5230\u7684\u7ed3\u679c\u6570\u91cf\u8fbe\u5230 limit \u7684\u9650\u5236\u65f6,\u5c31\u505c\u6b62\u641c\u7d22\u8fd4\u56de\u7ed3\u679c. print(soup.find_all(\"a\",limit=2)) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] ''' 1.5 recursive \u53c2\u6570 \u8c03\u7528tag\u7684 find_all() \u65b9\u6cd5\u65f6,Beautiful Soup\u4f1a\u68c0\u7d22\u5f53\u524dtag\u7684\u6240\u6709\u5b50\u5b59\u8282\u70b9,\u5982\u679c\u53ea\u60f3\u641c\u7d22tag\u7684\u76f4\u63a5\u5b50\u8282\u70b9,\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570 recursive=False . print(soup.html.find_all(\"title\")) # [<title>The Dormouse's story</title>] print(soup.html.find_all(\"title\",recursive=False)) # [] 2\u3001find() find( name , attrs , recursive , string , **kwargs ) find_all() \u65b9\u6cd5\u5c06\u8fd4\u56de\u6587\u6863\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709tag,\u5c3d\u7ba1\u6709\u65f6\u5019\u6211\u4eec\u53ea\u60f3\u5f97\u5230\u4e00\u4e2a\u7ed3\u679c.\u6bd4\u5982\u6587\u6863\u4e2d\u53ea\u6709\u4e00\u4e2a\\ \u6807\u7b7e,\u90a3\u4e48\u4f7f\u7528 find_all() \u65b9\u6cd5\u6765\u67e5\u627e\\ \u6807\u7b7e\u5c31\u4e0d\u592a\u5408\u9002, \u4f7f\u7528 find_all \u65b9\u6cd5\u5e76\u8bbe\u7f6e limit=1 \u53c2\u6570\u4e0d\u5982\u76f4\u63a5\u4f7f\u7528 find() \u65b9\u6cd5.\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\u662f\u7b49\u4ef7\u7684: soup.find_all('title', limit=1) # [<title>The Dormouse's story</title>] soup.find('title') # <title>The Dormouse's story</title> \u552f\u4e00\u7684\u533a\u522b\u662f find_all() \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u503c\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u7684\u5217\u8868,\u800c find() \u65b9\u6cd5\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c. find_all() \u65b9\u6cd5\u6ca1\u6709\u627e\u5230\u76ee\u6807\u662f\u8fd4\u56de\u7a7a\u5217\u8868, find() \u65b9\u6cd5\u627e\u4e0d\u5230\u76ee\u6807\u65f6,\u8fd4\u56de None . print(soup.find(\"nosuchtag\")) # None soup.head.title \u662f tag\u7684\u540d\u5b57 \u65b9\u6cd5\u7684\u7b80\u5199.\u8fd9\u4e2a\u7b80\u5199\u7684\u539f\u7406\u5c31\u662f\u591a\u6b21\u8c03\u7528\u5f53\u524dtag\u7684 find() \u65b9\u6cd5: soup.head.title # <title>The Dormouse's story</title> soup.find(\"head\").find(\"title\") # <title>The Dormouse's story</title> 3\u3001find_parents() \u548c find_parent() a_string = soup.find(text=\"Lacie\") print(a_string) # Lacie print(a_string.find_parent()) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(a_string.find_parents()) print(a_string.find_parent(\"p\")) ''' <p class=\"story\"> Once upon a time there were three little sisters; and their names were <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> and <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well. </p> ''' 4\u3001find_next_siblings() \u548c find_next_sibling() find_next_siblings( name , attrs , recursive , string , **kwargs )` `find_next_sibling( name , attrs , recursive , string , **kwargs ) \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_siblings \u5c5e\u6027\u5bf9\u5f53tag\u7684\u6240\u6709\u540e\u9762\u89e3\u6790\u7684\u5144\u5f1ftag\u8282\u70b9\u8fdb\u884c\u8fed\u4ee3, find_next_siblings() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u5144\u5f1f\u8282\u70b9, find_next_sibling() \u53ea\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u7b2c\u4e00\u4e2atag\u8282\u70b9. first_link = soup.a print(first_link.find_next_sibling(\"a\")) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(first_link.find_next_siblings(\"a\")) ''' [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ] ''' find_previous_siblings() \u548c find_previous_sibling()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_next_sibling\u548cfind_next_siblings\u3002 5\u3001find_all_next() \u548c find_next() find_all_next( name , attrs , recursive , string , **kwargs )` `find_next( name , attrs , recursive , string , **kwargs ) \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_elements \u5c5e\u6027\u5bf9\u5f53\u524dtag\u7684\u4e4b\u540e\u7684tag\u548c\u5b57\u7b26\u4e32\u8fdb\u884c\u8fed\u4ee3, find_all_next() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9, find_next() \u65b9\u6cd5\u8fd4\u56de\u7b2c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9:\u3000\u3000 first_link = soup.a print(first_link.find_all_next(string=True)) # ['Elsie', ',\\n', 'Lacie', ' and\\n', 'Tillie', ';\\nand they lived at the bottom of a well.', '\\n', '...', '\\n'] print(first_link.find_next(string=True)) # Elsie find_all_previous() \u548c find_previous()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_all_next() \u548c find_next()\u3002 \u56db\u3001beautifulsoup\u7684css\u9009\u62e9\u5668 \u6211\u4eec\u5728\u5199 CSS \u65f6\uff0c\u6807\u7b7e\u540d\u4e0d\u52a0\u4efb\u4f55\u4fee\u9970\uff0c\u7c7b\u540d\u524d\u52a0\u70b9\uff0cid\u540d\u524d\u52a0 #\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u4e5f\u53ef\u4ee5\u5229\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u6765\u7b5b\u9009\u5143\u7d20\uff0c\u7528\u5230\u7684\u65b9\u6cd5\u662f soup.select()\uff0c \u8fd4\u56de\u7c7b\u578b\u662f list 1\u3001\u901a\u8fc7\u6807\u7b7e\u540d\u67e5\u627e print(soup.select(\"title\")) #[<title>The Dormouse's story</title>] print(soup.select(\"b\")) #[<b>The Dormouse's story</b>] 2\u3001\u901a\u8fc7\u7c7b\u540d\u67e5\u627e print(soup.select(\".sister\")) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] ''' 3\u3001\u540d\u67e5\u627e print(soup.select(\"#link1\")) # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] 4\u3001\u7ec4\u5408\u67e5\u627e \u7ec4\u5408\u67e5\u627e\u5373\u548c\u5199 class \u6587\u4ef6\u65f6\uff0c\u6807\u7b7e\u540d\u4e0e\u7c7b\u540d\u3001id\u540d\u8fdb\u884c\u7684\u7ec4\u5408\u539f\u7406\u662f\u4e00\u6837\u7684\uff0c\u4f8b\u5982\u67e5\u627e p \u6807\u7b7e\u4e2d\uff0cid \u7b49\u4e8e link1\u7684\u5185\u5bb9\uff0c\u4e8c\u8005\u9700\u8981\u7528\u7a7a\u683c\u5206\u5f00 print(soup.select(\"p #link2\")) #[<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] \u76f4\u63a5\u5b50\u6807\u7b7e\u67e5\u627e print(soup.select(\"p > #link2\")) # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] \u67e5\u627e\u65e2\u6709class\u4e5f\u6709id\u9009\u62e9\u5668\u7684\u6807\u7b7e a_string = soup.select(\".story#test\") \u67e5\u627e\u6709\u591a\u4e2aclass\u9009\u62e9\u5668\u7684\u6807\u7b7e a_string = soup.select(\".story.test\") \u67e5\u627e\u6709\u591a\u4e2aclass\u9009\u62e9\u5668\u548c\u4e00\u4e2aid\u9009\u62e9\u5668\u7684\u6807\u7b7e a_string = soup.select(\".story.test#book\") 5\u3001\u5c5e\u6027\u67e5\u627e \u67e5\u627e\u65f6\u8fd8\u53ef\u4ee5\u52a0\u5165\u5c5e\u6027\u5143\u7d20\uff0c\u5c5e\u6027\u9700\u8981\u7528\u4e2d\u62ec\u53f7\u62ec\u8d77\u6765\uff0c\u6ce8\u610f\u5c5e\u6027\u548c\u6807\u7b7e\u5c5e\u4e8e\u540c\u4e00\u8282\u70b9\uff0c\u6240\u4ee5\u4e2d\u95f4\u4e0d\u80fd\u52a0\u7a7a\u683c\uff0c\u5426\u5219\u4f1a\u65e0\u6cd5\u5339\u914d\u5230\u3002 print(soup.select(\"a[href='http://example.com/tillie']\")) #[<a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] select \u65b9\u6cd5\u8fd4\u56de\u7684\u7ed3\u679c\u90fd\u662f\u5217\u8868\u5f62\u5f0f\uff0c\u53ef\u4ee5\u904d\u5386\u5f62\u5f0f\u8f93\u51fa\uff0c\u7136\u540e\u7528 get_text() \u65b9\u6cd5\u6765\u83b7\u53d6\u5b83\u7684\u5185\u5bb9\uff1a for title in soup.select('a'): print (title.get_text()) ''' Elsie Lacie Tillie ''' 6\u3001\u4f7f\u7528\u6216\u6761\u4ef6 \u4f7f\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u9009\u62e9\u5668\u5b9e\u73b0\u6216\u6761\u4ef6 html = \"\"\" <html> <body> <div class=\"foo\">Div 1</div> <div class=\"bar\">Div 2</div> <div class=\"baz\">Div 3</div> </body> </html> \"\"\" soup = BeautifulSoup(html, 'html.parser') divs = soup.select('.foo, .bar') \u8c46\u74e3\u7f51\u6539\u5199 from bs4 import BeautifulSoup soup = BeautifulSoup(s, 'html.parser') s=soup.find_all(class_=\"item\") for item in s: print(item.find(class_=\"pic\").a.get(\"href\")) print(item.find(class_=\"pic\").em.string) print(item.find(class_=\"info\").contents[1].a.span.string) print(item.find(class_=\"info\").contents[3].contents[3].contents[3].string) print(item.find(class_=\"info\").contents[3].contents[3].contents[7].string)","title":"\u56db\u3001beautifulsoup"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#beautifulsoup","text":"","title":"\u56db\u3001beautifulsoup"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#beautifulsoup_1","text":"\u7b80\u5355\u6765\u8bf4\uff0cBeautiful Soup\u662fpython\u7684\u4e00\u4e2a\u5e93\uff0c\u6700\u4e3b\u8981\u7684\u529f\u80fd\u662f\u4ece\u7f51\u9875\u6293\u53d6\u6570\u636e\u3002\u5b98\u65b9\u89e3\u91ca\u5982\u4e0b\uff1a Beautiful Soup\u63d0\u4f9b\u4e00\u4e9b\u7b80\u5355\u7684\u3001python\u5f0f\u7684\u51fd\u6570\u7528\u6765\u5904\u7406\u5bfc\u822a\u3001\u641c\u7d22\u3001\u4fee\u6539\u5206\u6790\u6811\u7b49\u529f\u80fd\u3002 \u5b83\u662f\u4e00\u4e2a\u5de5\u5177\u7bb1\uff0c\u901a\u8fc7\u89e3\u6790\u6587\u6863\u4e3a\u7528\u6237\u63d0\u4f9b\u9700\u8981\u6293\u53d6\u7684\u6570\u636e\uff0c\u56e0\u4e3a\u7b80\u5355\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u591a\u5c11\u4ee3\u7801\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u3002","title":"\u4e00\u3001beautifulsoup\u7684\u7b80\u5355\u4f7f\u7528"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#1","text":"pip3 install beautifulsoup4","title":"1\u3001\u5b89\u88c5"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#11","text":"Beautiful Soup\u652f\u6301Python\u6807\u51c6\u5e93\u4e2d\u7684HTML\u89e3\u6790\u5668,\u8fd8\u652f\u6301\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684\u89e3\u6790\u5668\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u5b89\u88c5\u5b83\uff0c\u5219 Python \u4f1a\u4f7f\u7528 Python\u9ed8\u8ba4\u7684\u89e3\u6790\u5668\uff0clxml \u89e3\u6790\u5668\u66f4\u52a0\u5f3a\u5927\uff0c\u901f\u5ea6\u66f4\u5feb\uff0c\u63a8\u8350\u5b89\u88c5\u3002 pip3 install lxml \u53e6\u4e00\u4e2a\u53ef\u4f9b\u9009\u62e9\u7684\u89e3\u6790\u5668\u662f\u7eafPython\u5b9e\u73b0\u7684 html5lib , html5lib\u7684\u89e3\u6790\u65b9\u5f0f\u4e0e\u6d4f\u89c8\u5668\u76f8\u540c,\u53ef\u4ee5\u9009\u62e9\u4e0b\u5217\u65b9\u6cd5\u6765\u5b89\u88c5html5lib: pip install html5lib","title":"1.1\u89e3\u6790\u5668"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#12","text":"\u5b98\u7f51\u6587\u6863","title":"1.2\u89e3\u6790\u5668\u5bf9\u6bd4"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#2","text":"\u4e0b\u9762\u7684\u4e00\u6bb5HTML\u4ee3\u7801\u5c06\u4f5c\u4e3a\u4f8b\u5b50\u88ab\u591a\u6b21\u7528\u5230.\u8fd9\u662f \u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u7684 \u7684\u4e00\u6bb5\u5185\u5bb9(\u4ee5\u540e\u5185\u5bb9\u4e2d\u7b80\u79f0\u4e3a \u7231\u4e3d\u4e1d \u7684\u6587\u6863): html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" \u4f7f\u7528BeautifulSoup\u89e3\u6790\u8fd9\u6bb5\u4ee3\u7801,\u80fd\u591f\u5f97\u5230\u4e00\u4e2a BeautifulSoup \u7684\u5bf9\u8c61,\u5e76\u80fd\u6309\u7167\u6807\u51c6\u7684\u7f29\u8fdb\u683c\u5f0f\u7684\u7ed3\u6784\u8f93\u51fa: from bs4 import BeautifulSoup soup = BeautifulSoup(html_doc, 'html.parser') print(soup.prettify()) \u5339\u914d\u4ee3\u7801 <html> <head> <title> The Dormouse's story </title> </head> <body> <p class=\"title\"> <b> The Dormouse's story </b> </p> <p class=\"story\"> Once upon a time there were three little sisters; and their names were <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\"> Elsie </a> , <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\"> Lacie </a> and <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\"> Tillie </a> ; and they lived at the bottom of a well. </p> <p class=\"story\"> ... </p> </body> </html> \u51e0\u4e2a\u7b80\u5355\u7684\u6d4f\u89c8\u7ed3\u6784\u5316\u6570\u636e\u7684\u65b9\u6cd5: soup.title # \u83b7\u53d6\u6807\u7b7etitle # <title>The Dormouse's story</title> soup.title.name # \u83b7\u53d6\u6807\u7b7e\u540d\u79f0 # 'title' soup.title.string # \u83b7\u53d6\u6807\u7b7etitle\u5185\u7684\u5185\u5bb9 # 'The Dormouse's story' soup.title.parent # \u83b7\u53d6\u7236\u7ea7\u6807\u7b7e soup.title.parent.name # \u83b7\u53d6\u7236\u7ea7\u6807\u7b7e\u540d\u79f0 # 'head' soup.p # <p class=\"title\"><b>The Dormouse's story</b></p> soup.p['class'] # \u83b7\u53d6p\u7684class\u5c5e\u6027\u503c # 'title' soup.a # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> soup.find_all('a') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.find(id=\"link3\") # \u83b7\u53d6id\u4e3alink3\u7684\u6807\u7b7e # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> \u4ece\u6587\u6863\u4e2d\u627e\u5230\u6240\u6709\\ \u6807\u7b7e\u7684\u94fe\u63a5: for link in soup.find_all('a'): print(link.get('href')) # http://example.com/elsie # http://example.com/lacie # http://example.com/tillie \u4ece\u6587\u6863\u4e2d\u83b7\u53d6\u6240\u6709\u6587\u5b57\u5185\u5bb9: print(soup.get_text())","title":"2\u3001\u5feb\u901f\u5f00\u59cb"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#3","text":"\u5c06\u4e00\u6bb5\u6587\u6863\u4f20\u5165BeautifulSoup \u7684\u6784\u9020\u65b9\u6cd5,\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u6587\u6863\u7684\u5bf9\u8c61, \u53ef\u4ee5\u4f20\u5165\u4e00\u6bb5\u5b57\u7b26\u4e32\u6216\u4e00\u4e2a\u6587\u4ef6\u53e5\u67c4. from bs4 import BeautifulSoup soup = BeautifulSoup(open(\"index.html\")) soup = BeautifulSoup(\"<html>data</html>\") \u7136\u540e,Beautiful Soup\u9009\u62e9\u6700\u5408\u9002\u7684\u89e3\u6790\u5668\u6765\u89e3\u6790\u8fd9\u6bb5\u6587\u6863,\u5982\u679c\u624b\u52a8\u6307\u5b9a\u89e3\u6790\u5668\u90a3\u4e48Beautiful Soup\u4f1a\u9009\u62e9\u6307\u5b9a\u7684\u89e3\u6790\u5668\u6765\u89e3\u6790\u6587\u6863\u3002","title":"3\u3001\u5982\u4f55\u4f7f\u7528"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#4","text":"Beautiful Soup\u5c06\u590d\u6742HTML\u6587\u6863\u8f6c\u6362\u6210\u4e00\u4e2a\u590d\u6742\u7684\u6811\u5f62\u7ed3\u6784,\u6bcf\u4e2a\u8282\u70b9\u90fd\u662fPython\u5bf9\u8c61,\u6240\u6709\u5bf9\u8c61\u53ef\u4ee5\u5f52\u7eb3\u4e3a\u79cd Tag , NavigableString , BeautifulSoup , Comment .","title":"4\u3001\u5bf9\u8c61\u7684\u79cd\u7c7b"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#41-tag","text":"\u901a\u4fd7\u70b9\u8bb2\u5c31\u662f HTML \u4e2d\u7684\u4e00\u4e2a\u4e2a\u6807\u7b7e\uff0cTag \u5bf9\u8c61\u4e0eXML\u6216HTML\u539f\u751f\u6587\u6863\u4e2d\u7684tag\u76f8\u540c: soup = BeautifulSoup('<b class=\"boldest\">Extremely bold</b>') tag = soup.b type(tag) # <class 'bs4.element.Tag'>","title":"4.1 Tag"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#412-tag","text":"soup\u5bf9\u8c61\u518d\u4ee5\u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u7684html_doc\u4e3a\u4f8b\uff0c\u64cd\u4f5c\u6587\u6863\u6811\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u544a\u8bc9\u5b83\u4f60\u60f3\u83b7\u53d6\u7684tag\u7684name.\u5982\u679c\u60f3\u83b7\u53d6 \u6807\u7b7e,\u53ea\u8981\u7528 soup.head : soup.head # <head><title>The Dormouse's story</title></head> soup.title # <title>The Dormouse's story</title> \u8fd9\u662f\u4e2a\u83b7\u53d6tag\u7684\u5c0f\u7a8d\u95e8,\u53ef\u4ee5\u5728\u6587\u6863\u6811\u7684tag\u4e2d\u591a\u6b21\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5.\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u83b7\u53d6\\ \u6807\u7b7e\u4e2d\u7684\u7b2c\u4e00\u4e2a\\ \u6807\u7b7e: soup.body.b # <b>The Dormouse's story</b> \u901a\u8fc7\u70b9\u53d6\u5c5e\u6027\u7684\u65b9\u5f0f\u53ea\u80fd\u83b7\u5f97\u5f53\u524d\u540d\u5b57\u7684\u7b2c\u4e00\u4e2atag: soup.a # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> \u5982\u679c\u60f3\u8981\u5f97\u5230\u6240\u6709\u7684\\ \u6807\u7b7e,\u6216\u662f\u901a\u8fc7\u540d\u5b57\u5f97\u5230\u6bd4\u4e00\u4e2atag\u66f4\u591a\u7684\u5185\u5bb9\u7684\u65f6\u5019,\u5c31\u9700\u8981\u7528\u5230 Searching the tree \u4e2d\u63cf\u8ff0\u7684\u65b9\u6cd5,\u6bd4\u5982: find_all() soup.find_all('a') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] \u6211\u4eec\u53ef\u4ee5\u5229\u7528 soup\u52a0\u6807\u7b7e\u540d\u8f7b\u677e\u5730\u83b7\u53d6\u8fd9\u4e9b\u6807\u7b7e\u7684\u5185\u5bb9\uff0c\u6ce8\u610f\uff0c\u5b83\u67e5\u627e\u7684\u662f\u5728\u6240\u6709\u5185\u5bb9\u4e2d\u7684\u7b2c\u4e00\u4e2a\u7b26\u5408\u8981\u6c42\u7684\u6807\u7b7e\u3002","title":"4.1.2 tag\u7684\u540d\u5b57"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#413-nameattributes","text":"Tag\u6709\u5f88\u591a\u65b9\u6cd5\u548c\u5c5e\u6027,\u73b0\u5728\u4ecb\u7ecd\u4e00\u4e0btag\u4e2d\u6700\u91cd\u8981\u7684\u5c5e\u6027: name\u548cattributes \u6bcf\u4e2atag\u90fd\u6709\u81ea\u5df1\u7684\u540d\u5b57,\u901a\u8fc7 .name \u6765\u83b7\u53d6: tag.name # 'b' tag['class'] # 'boldest' tag.attrs # {'class': 'boldest'} tag\u7684\u5c5e\u6027\u53ef\u4ee5\u88ab\u6dfb\u52a0,\u5220\u9664\u6216\u4fee\u6539. \u518d\u8bf4\u4e00\u6b21, tag\u7684\u5c5e\u6027\u64cd\u4f5c\u65b9\u6cd5\u4e0e\u5b57\u5178\u4e00\u6837 tag['class'] = 'verybold' tag['id'] = 1 tag # <blockquote class=\"verybold\" id=\"1\">Extremely bold</blockquote> del tag['class'] del tag['id'] tag # <blockquote>Extremely bold</blockquote> tag['class'] # KeyError: 'class' print(tag.get('class')) # None","title":"4.1.3 name\u548cattributes\u5c5e\u6027"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#44-navigablestring","text":"\u65e2\u7136\u6211\u4eec\u5df2\u7ecf\u5f97\u5230\u4e86\u6807\u7b7e\u7684\u5185\u5bb9\uff0c\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u8981\u60f3\u83b7\u53d6\u6807\u7b7e\u5185\u90e8\u7684\u6587\u5b57\u600e\u4e48\u529e\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u7528 .string \u5373\u53ef. \u5b57\u7b26\u4e32\u5e38\u88ab\u5305\u542b\u5728tag\u5185.Beautiful Soup\u7528 NavigableString \u7c7b\u6765\u5305\u88c5tag\u4e2d\u7684\u5b57\u7b26\u4e32\uff0c\u901a\u8fc7 unicode() \u65b9\u6cd5\u53ef\u4ee5\u76f4\u63a5\u5c06 NavigableString \u5bf9\u8c61\u8f6c\u6362\u6210Unicode\u5b57\u7b26\u4e32: tag.string # 'Extremely bold' type(tag.string) # <class 'bs4.element.NavigableString'> tag\u4e2d\u5305\u542b\u7684\u5b57\u7b26\u4e32\u4e0d\u80fd\u7f16\u8f91,\u4f46\u662f\u53ef\u4ee5\u88ab\u66ff\u6362\u6210\u5176\u5b83\u7684\u5b57\u7b26\u4e32,\u7528 replace_with() \u65b9\u6cd5: tag.string.replace_with(\"No longer bold\") tag # <blockquote>No longer bold</blockquote>","title":"4.4 NavigableString(\u5b57\u7b26\u4e32)"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#45-beautifulsoup","text":"BeautifulSoup \u5bf9\u8c61\u8868\u793a\u7684\u662f\u4e00\u4e2a\u6587\u6863\u7684\u5168\u90e8\u5185\u5bb9.\u5927\u90e8\u5206\u65f6\u5019,\u53ef\u4ee5\u628a\u5b83\u5f53\u4f5c Tag \u5bf9\u8c61\uff0c\u662f\u4e00\u4e2a\u7279\u6b8a\u7684 Tag\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u83b7\u53d6\u5b83\u7684\u7c7b\u578b\uff0c\u540d\u79f0\uff0c\u4ee5\u53ca\u5c5e\u6027\u3002 print(type(soup.name)) # <class 'str'> print(soup.name) # [document] print(soup.attrs) # {} \u7a7a\u5b57\u5178","title":"4.5 BeautifulSoup"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#46-comment","text":"html_doc='<a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\"><!-- Elsie --></a>' soup = BeautifulSoup(html_doc, 'html.parser') print(soup.a.string) # Elsie print(type(soup.a.string)) # <class 'bs4.element.Comment'> a \u6807\u7b7e\u91cc\u7684\u5185\u5bb9\u5b9e\u9645\u4e0a\u662f\u6ce8\u91ca\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u5229\u7528 .string \u6765\u8f93\u51fa\u5b83\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u53d1\u73b0\u5b83\u5df2\u7ecf\u628a\u6ce8\u91ca\u7b26\u53f7\u53bb\u6389\u4e86\uff0c\u6240\u4ee5\u8fd9\u53ef\u80fd\u4f1a\u7ed9\u6211\u4eec\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\u3002","title":"4.6 Comment"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#beautifulsoup_2","text":"\u8fd8\u62ff\u201d\u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u201d\u7684\u6587\u6863\u6765\u505a\u4f8b\u5b50: html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" from bs4 import BeautifulSoup soup = BeautifulSoup(html_doc, 'html.parser') \u901a\u8fc7\u8fd9\u6bb5\u4f8b\u5b50\u6765\u6f14\u793a\u600e\u6837\u4ece\u6587\u6863\u7684\u4e00\u6bb5\u5185\u5bb9\u627e\u5230\u53e6\u4e00\u6bb5\u5185\u5bb9","title":"\u4e8c\u3001beautifulsoup\u7684\u904d\u5386\u6587\u6863\u6811"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#1_1","text":"\u4e00\u4e2aTag\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u5b57\u7b26\u4e32\u6216\u5176\u5b83\u7684Tag,\u8fd9\u4e9b\u90fd\u662f\u8fd9\u4e2aTag\u7684\u5b50\u8282\u70b9.Beautiful Soup\u63d0\u4f9b\u4e86\u8bb8\u591a\u64cd\u4f5c\u548c\u904d\u5386\u5b50\u8282\u70b9\u7684\u5c5e\u6027. \u6ce8\u610f: Beautiful Soup\u4e2d\u5b57\u7b26\u4e32\u8282\u70b9\u4e0d\u652f\u6301\u8fd9\u4e9b\u5c5e\u6027,\u56e0\u4e3a\u5b57\u7b26\u4e32\u6ca1\u6709\u5b50\u8282\u70b9\u3002","title":"1\u3001\u5b50\u8282\u70b9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#11-contents-children","text":"tag\u7684 .contents \u5c5e\u6027\u53ef\u4ee5\u5c06tag\u7684\u5b50\u8282\u70b9\u4ee5\u5217\u8868\u7684\u65b9\u5f0f\u8f93\u51fa: head_tag = soup.head head_tag # <head><title>The Dormouse's story</title></head> head_tag.contents [<title>The Dormouse's story</title>] title_tag = head_tag.contents[0] title_tag # <title>The Dormouse's story</title> title_tag.contents # [u'The Dormouse's story'] \u5b57\u7b26\u4e32\u6ca1\u6709 .contents \u5c5e\u6027,\u56e0\u4e3a\u5b57\u7b26\u4e32\u6ca1\u6709\u5b50\u8282\u70b9: text = title_tag.contents[0] text.contents # AttributeError: 'NavigableString' object has no attribute 'contents' .children\u5b83\u8fd4\u56de\u7684\u4e0d\u662f\u4e00\u4e2a list\uff0c\u4e0d\u8fc7\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u904d\u5386\u83b7\u53d6\u6240\u6709\u5b50\u8282\u70b9\u3002\u6211\u4eec\u6253\u5370\u8f93\u51fa .children \u770b\u4e00\u4e0b\uff0c\u53ef\u4ee5\u53d1\u73b0\u5b83\u662f\u4e00\u4e2a list \u751f\u6210\u5668\u5bf9\u8c61 \u901a\u8fc7tag\u7684 .children \u751f\u6210\u5668,\u53ef\u4ee5\u5bf9tag\u7684\u5b50\u8282\u70b9\u8fdb\u884c\u5faa\u73af: print(title_tag.children) # <list_iterator object at 0x101b78860> print(type(title_tag.children)) # <class 'list_iterator'> for child in title_tag.children: print(child) # The Dormouse's story","title":"1.1 .contents \u548c .children"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#12-descendants","text":".contents \u548c .children \u5c5e\u6027\u4ec5\u5305\u542btag\u7684\u76f4\u63a5\u5b50\u8282\u70b9.\u4f8b\u5982,\\ \u6807\u7b7e\u53ea\u6709\u4e00\u4e2a\u76f4\u63a5\u5b50\u8282\u70b9\\ head_tag.contents # [<title>The Dormouse's story</title>] \u4f46\u662f\\ \u6807\u7b7e\u4e5f\u5305\u542b\u4e00\u4e2a\u5b50\u8282\u70b9:\u5b57\u7b26\u4e32 \u201cThe Dormouse\u2019s story\u201d,\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b57\u7b26\u4e32 \u201cThe Dormouse\u2019s story\u201d\u4e5f\u5c5e\u4e8e\\ \u6807\u7b7e\u7684\u5b50\u5b59\u8282\u70b9. .descendants \u5c5e\u6027\u53ef\u4ee5\u5bf9\u6240\u6709tag\u7684\u5b50\u5b59\u8282\u70b9\u8fdb\u884c\u9012\u5f52\u5faa\u73af \u3002 for child in head_tag.descendants: print(child) # <title>The Dormouse's story</title> # The Dormouse's story \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d, \\ \u6807\u7b7e\u53ea\u6709\u4e00\u4e2a\u5b50\u8282\u70b9,\u4f46\u662f\u67092\u4e2a\u5b50\u5b59\u8282\u70b9:\\ \u8282\u70b9\u548c\\ \u7684\u5b50\u8282\u70b9, BeautifulSoup \u6709\u4e00\u4e2a\u76f4\u63a5\u5b50\u8282\u70b9(\\ \u8282\u70b9),\u5374\u6709\u5f88\u591a\u5b50\u5b59\u8282\u70b9: len(list(soup.children)) # 1 len(list(soup.descendants)) # 25","title":"1.2 .descendants"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#2_1","text":"","title":"2\u3001 \u8282\u70b9\u5185\u5bb9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#21-string","text":"\u5982\u679ctag\u53ea\u6709\u4e00\u4e2a NavigableString \u7c7b\u578b\u5b50\u8282\u70b9,\u90a3\u4e48\u8fd9\u4e2atag\u53ef\u4ee5\u4f7f\u7528 .string \u5f97\u5230\u5b50\u8282\u70b9\u3002\u5982\u679c\u4e00\u4e2atag\u4ec5\u6709\u4e00\u4e2a\u5b50\u8282\u70b9,\u90a3\u4e48\u8fd9\u4e2atag\u4e5f\u53ef\u4ee5\u4f7f\u7528 .string \u65b9\u6cd5,\u8f93\u51fa\u7ed3\u679c\u4e0e\u5f53\u524d\u552f\u4e00\u5b50\u8282\u70b9\u7684 .string \u7ed3\u679c\u76f8\u540c\u3002 \u901a\u4fd7\u70b9\u8bf4\u5c31\u662f\uff1a\u5982\u679c\u4e00\u4e2a\u6807\u7b7e\u91cc\u9762\u6ca1\u6709\u6807\u7b7e\u4e86\uff0c\u90a3\u4e48 .string \u5c31\u4f1a\u8fd4\u56de\u6807\u7b7e\u91cc\u9762\u7684\u5185\u5bb9\u3002\u5982\u679c\u6807\u7b7e\u91cc\u9762\u53ea\u6709\u552f\u4e00\u7684\u4e00\u4e2a\u6807\u7b7e\u4e86\uff0c\u90a3\u4e48 .string \u4e5f\u4f1a\u8fd4\u56de\u6700\u91cc\u9762\u7684\u5185\u5bb9\u3002\u4f8b\u5982\uff1a print (soup.head.string) #The Dormouse's story # <title><b>The Dormouse's story</b></title> print (soup.title.string) #The Dormouse's story \u5982\u679ctag\u5305\u542b\u4e86\u591a\u4e2a\u5b50\u8282\u70b9,tag\u5c31\u65e0\u6cd5\u786e\u5b9a\uff0cstring \u65b9\u6cd5\u5e94\u8be5\u8c03\u7528\u54ea\u4e2a\u5b50\u8282\u70b9\u7684\u5185\u5bb9, .string \u7684\u8f93\u51fa\u7ed3\u679c\u662f None print (soup.html.string) #None","title":"2.1 .string"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#22-text","text":"\u5982\u679ctag\u5305\u542b\u4e86\u591a\u4e2a\u5b50\u8282\u70b9, text\u5219\u4f1a\u8fd4\u56de\u5185\u90e8\u6240\u6709\u6587\u672c\u5185\u5bb9 print (soup.html.text) \u6ce8\u610f\uff1a strings\u548ctext\u90fd\u53ef\u4ee5\u8fd4\u56de\u6240\u6709\u6587\u672c\u5185\u5bb9 \u533a\u522b\uff1atext\u8fd4\u56de\u5185\u5bb9\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b strings\u4e3a\u751f\u6210\u5668generator","title":"2.2 .text"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#3_1","text":".strings .stripped_strings \u5c5e\u6027","title":"3\u3001 \u591a\u4e2a\u5185\u5bb9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#31strings","text":"\u83b7\u53d6\u591a\u4e2a\u5185\u5bb9\uff0c\u4e0d\u8fc7\u9700\u8981\u904d\u5386\u83b7\u53d6\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a for string in soup.strings: print(repr(string)) ''' '\\n' \"The Dormouse's story\" '\\n' '\\n' \"The Dormouse's story\" '\\n' 'Once upon a time there were three little sisters; and their names were\\n' 'Elsie' ',\\n' 'Lacie' ' and\\n' 'Tillie' ';\\nand they lived at the bottom of a well.' '\\n' '...' '\\n' '''","title":"3.1.strings"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#32-stripped_strings","text":"\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u4e2d\u53ef\u80fd\u5305\u542b\u4e86\u5f88\u591a\u7a7a\u683c\u6216\u7a7a\u884c,\u4f7f\u7528 .stripped_strings \u53ef\u4ee5\u53bb\u9664\u591a\u4f59\u7a7a\u767d\u5185\u5bb9 for string in soup.stripped_strings: print(repr(string)) ''' \"The Dormouse's story\" \"The Dormouse's story\" 'Once upon a time there were three little sisters; and their names were' 'Elsie' ',' 'Lacie' 'and' 'Tillie' ';\\nand they lived at the bottom of a well.' '...' '''","title":"3.2 .stripped_strings"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#4_1","text":"\u7ee7\u7eed\u5206\u6790\u6587\u6863\u6811,\u6bcf\u4e2atag\u6216\u5b57\u7b26\u4e32\u90fd\u6709\u7236\u8282\u70b9:\u88ab\u5305\u542b\u5728\u67d0\u4e2atag\u4e2d","title":"4\u3001 \u7236\u8282\u70b9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#41-parent","text":"\u901a\u8fc7 .parent \u5c5e\u6027\u6765\u83b7\u53d6\u67d0\u4e2a\u5143\u7d20\u7684\u7236\u8282\u70b9.\u5728\u4f8b\u5b50\u201c\u7231\u4e3d\u4e1d\u201d\u7684\u6587\u6863\u4e2d,\\ \u6807\u7b7e\u662f\\ \u6807\u7b7e\u7684\u7236\u8282\u70b9: title_tag = soup.title title_tag # <title>The Dormouse's story</title> title_tag.parent # <head><title>The Dormouse's story</title></head> \u6587\u6863\u7684\u9876\u5c42\u8282\u70b9\u6bd4\u5982\\ \u7684\u7236\u8282\u70b9\u662f BeautifulSoup \u5bf9\u8c61: html_tag = soup.html type(html_tag.parent) # <class 'bs4.BeautifulSoup'>","title":"4.1 .parent"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#42-parents","text":"\u901a\u8fc7\u5143\u7d20\u7684 .parents \u5c5e\u6027\u53ef\u4ee5\u9012\u5f52\u5f97\u5230\u5143\u7d20\u7684\u6240\u6709\u7236\u8f88\u8282\u70b9,\u4e0b\u9762\u7684\u4f8b\u5b50\u4f7f\u7528\u4e86 .parents \u65b9\u6cd5\u904d\u5386\u4e86\\ \u6807\u7b7e\u5230\u6839\u8282\u70b9\u7684\u6240\u6709\u8282\u70b9. link = soup.a link # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> for parent in link.parents: if parent is None: print(parent) else: print(parent.name) # p # body # html # [document] # None","title":"4.2 .parents"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#5","text":"sibling_soup = BeautifulSoup(\"<a><b>text1</b><c>text2</c></b></a>\", 'lxml')","title":"5\u3001 \u5144\u5f1f\u8282\u70b9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#51-next_sibling-previous_sibling","text":"\u5144\u5f1f\u8282\u70b9\u53ef\u4ee5\u7406\u89e3\u4e3a\u548c\u672c\u8282\u70b9\u5904\u5728\u7edf\u4e00\u7ea7\u7684\u8282\u70b9\uff0c.next_sibling \u5c5e\u6027\u83b7\u53d6\u4e86\u8be5\u8282\u70b9\u7684\u4e0b\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\uff0c.previous_sibling \u5219\u4e0e\u4e4b\u76f8\u53cd\uff0c\u5982\u679c\u8282\u70b9\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de None \u5728\u6587\u6863\u6811\u4e2d,\u4f7f\u7528 .next_sibling \u548c .previous_sibling \u5c5e\u6027\u6765\u67e5\u8be2\u5144\u5f1f\u8282\u70b9: sibling_soup.b.next_sibling # <c>text2</c> sibling_soup.c.previous_sibling # <b>text1</b> \u6ce8\u610f\uff1a\u5b9e\u9645\u6587\u6863\u4e2d\u7684tag\u7684 .next_sibling \u548c .previous_sibling \u5c5e\u6027\u901a\u5e38\u662f\u5b57\u7b26\u4e32\u6216\u7a7a\u767d\uff0c\u56e0\u4e3a\u7a7a\u767d\u6216\u8005\u6362\u884c\u4e5f\u53ef\u4ee5\u88ab\u89c6\u4f5c\u4e00\u4e2a\u8282\u70b9\uff0c\u6240\u4ee5\u5f97\u5230\u7684\u7ed3\u679c\u53ef\u80fd\u662f\u7a7a\u767d\u6216\u8005\u6362\u884c \u5b9e\u9645\u6587\u6863\u4e2d\u7684tag\u7684 .next_sibling \u548c .previous_sibling \u5c5e\u6027\u901a\u5e38\u662f\u5b57\u7b26\u4e32\u6216\u7a7a\u767d. \u770b\u770b\u201c\u7231\u4e3d\u4e1d\u201d\u6587\u6863: <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a> <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a> \u5982\u679c\u4ee5\u4e3a\u7b2c\u4e00\u4e2a\\ \u6807\u7b7e\u7684 .next_sibling \u7ed3\u679c\u662f\u7b2c\u4e8c\u4e2a\\ \u6807\u7b7e,\u90a3\u5c31\u9519\u4e86,\u771f\u5b9e\u7ed3\u679c\u662f\u7b2c\u4e00\u4e2a\\ \u6807\u7b7e\u548c\u7b2c\u4e8c\u4e2a\\ \u6807\u7b7e\u4e4b\u95f4\u7684\u987f\u53f7\u548c\u6362\u884c\u7b26: link = soup.a link # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a> link.next_sibling # u',\\n' \u7b2c\u4e8c\u4e2a\\ \u6807\u7b7e\u662f\u987f\u53f7\u7684 .next_sibling \u5c5e\u6027: link.next_sibling.next_sibling # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>","title":"5.1 .next_sibling \u548c .previous_sibling"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#6","text":".next_siblings .previous_siblings \u5c5e\u6027 \u901a\u8fc7 .next_siblings \u548c .previous_siblings \u5c5e\u6027\u53ef\u4ee5\u5bf9\u5f53\u524d\u8282\u70b9\u7684\u5144\u5f1f\u8282\u70b9\u8fed\u4ee3\u8f93\u51fa for sibling in soup.a.next_siblings: print(repr(sibling)) ''' ',\\n' <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> ' and\\n' <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ';\\nand they lived at the bottom of a well.' '''","title":"6\u3001\u5168\u90e8\u5144\u5f1f\u8282\u70b9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#7","text":"*.next_element .previous_element \u5c5e\u6027* \u4e0e .next_sibling .previous_sibling \u4e0d\u540c\uff0c\u5b83\u5e76\u4e0d\u662f\u9488\u5bf9\u4e8e\u5144\u5f1f\u8282\u70b9\uff0c\u800c\u662f\u5728\u6240\u6709\u8282\u70b9\uff0c\u4e0d\u5206\u5c42\u6b21 \u6bd4\u5982 head \u8282\u70b9\u4e3a <head><title>The Dormouse's story</title></head> \u90a3\u4e48\u5b83\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u4fbf\u662f title\uff0c\u5b83\u662f\u4e0d\u5206\u5c42\u6b21\u5173\u7cfb\u7684 print(soup.head.next_element) #<title>The Dormouse's story</title>","title":"7\u3001\u524d\u540e\u8282\u70b9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#8","text":"*.next_elements .previous_elements \u5c5e\u6027* \u901a\u8fc7 .next_elements \u548c .previous_elements \u7684\u8fed\u4ee3\u5668\u5c31\u53ef\u4ee5\u5411\u524d\u6216\u5411\u540e\u8bbf\u95ee\u6587\u6863\u7684\u89e3\u6790\u5185\u5bb9,\u5c31\u597d\u50cf\u6587\u6863\u6b63\u5728\u88ab\u89e3\u6790\u4e00\u6837 for i in soup.a.next_elements: print(repr(i)) ''' 'Elsie' ',\\n' <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> 'Lacie' ' and\\n' <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> 'Tillie' ';\\nand they lived at the bottom of a well.' '\\n' <p class=\"story\">...</p> '...' '\\n' ''' \u4ee5\u4e0a\u662f\u904d\u5386\u6587\u6863\u6811\u7684\u57fa\u672c\u7528\u6cd5\u3002","title":"8\u3001 \u6240\u6709\u524d\u540e\u8282\u70b9"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#beautifulsoup_3","text":"","title":"\u4e09\u3001beautifulsoup\u7684\u641c\u7d22\u6587\u6863\u6811"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#1find_all","text":"find_all( name , attrs , recursive , string , **kwargs ) find_all() \u65b9\u6cd5\u641c\u7d22\u5f53\u524dtag\u7684\u6240\u6709tag\u5b50\u8282\u70b9,\u5e76\u5224\u65ad\u662f\u5426\u7b26\u5408\u8fc7\u6ee4\u5668\u7684\u6761\u4ef6: soup.find_all(\"title\") # [<title>The Dormouse's story</title>] soup.find_all(\"p\", \"title\") # [<p class=\"title\"><b>The Dormouse's story</b></p>] soup.find_all(\"a\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.find_all(id=\"link2\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] import re soup.find(string=re.compile(\"sisters\")) # u'Once upon a time there were three little sisters; and their names were\\n' \u6709\u51e0\u4e2a\u65b9\u6cd5\u5f88\u76f8\u4f3c,\u8fd8\u6709\u51e0\u4e2a\u65b9\u6cd5\u662f\u65b0\u7684,\u53c2\u6570\u4e2d\u7684 string \u548c id \u662f\u4ec0\u4e48\u542b\u4e49? \u4e3a\u4ec0\u4e48 find_all(\"p\", \"title\") \u8fd4\u56de\u7684\u662fCSS Class\u4e3a\u201dtitle\u201d\u7684 \u6807\u7b7e? \u6211\u4eec\u6765\u4ed4\u7ec6\u770b\u4e00\u4e0b find_all() \u7684\u53c2\u6570.","title":"1\u3001find_all"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#11-name","text":"name \u53c2\u6570\u53ef\u4ee5\u67e5\u627e\u6240\u6709\u540d\u5b57\u4e3a name \u7684tag,\u5b57\u7b26\u4e32\u5bf9\u8c61\u4f1a\u88ab\u81ea\u52a8\u5ffd\u7565\u6389. \u7b80\u5355\u7684\u7528\u6cd5\u5982\u4e0b: soup.find_all(\"title\") # [<title>The Dormouse's story</title>] \u641c\u7d22 name \u53c2\u6570\u7684\u503c\u53ef\u4ee5\u4f7f\u4efb\u4e00\u7c7b\u578b\u7684 \u8fc7\u6ee4\u5668 ,\u5b57\u7b26\u7a9c,\u6b63\u5219\u8868\u8fbe\u5f0f,\u5217\u8868,\u65b9\u6cd5\u6216\u662f True . <1> \u4f20\u5b57\u7b26\u4e32 \u6700\u7b80\u5355\u7684\u8fc7\u6ee4\u5668\u662f\u5b57\u7b26\u4e32.\u5728\u641c\u7d22\u65b9\u6cd5\u4e2d\u4f20\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570,Beautiful Soup\u4f1a\u67e5\u627e\u4e0e\u5b57\u7b26\u4e32\u5b8c\u6574\u5339\u914d\u7684\u5185\u5bb9,\u4e0b\u9762\u7684\u4f8b\u5b50\u7528\u4e8e\u67e5\u627e\u6587\u6863\u4e2d\u6240\u6709\u7684 \u6807\u7b7e soup.find_all('b') # [<b>The Dormouse's story</b>] <2> \u4f20\u6b63\u5219\u8868\u8fbe\u5f0f \u5982\u679c\u4f20\u5165\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570,Beautiful Soup\u4f1a\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 match() \u6765\u5339\u914d\u5185\u5bb9.\u4e0b\u9762\u4f8b\u5b50\u4e2d\u627e\u51fa\u6240\u6709\u4ee5b\u5f00\u5934\u7684\u6807\u7b7e,\u8fd9\u8868\u793a\\ \u548c\\ \u6807\u7b7e\u90fd\u5e94\u8be5\u88ab\u627e\u5230 import re for tag in soup.find_all(re.compile(\"^b\")): print(tag.name) # body # b <3> \u4f20\u5217\u8868 \u5982\u679c\u4f20\u5165\u5217\u8868\u53c2\u6570,Beautiful Soup\u4f1a\u5c06\u4e0e\u5217\u8868\u4e2d\u4efb\u4e00\u5143\u7d20\u5339\u914d\u7684\u5185\u5bb9\u8fd4\u56de.\u4e0b\u9762\u4ee3\u7801\u627e\u5230\u6587\u6863\u4e2d\u6240\u6709\\ \u6807\u7b7e\u548c\\ \u6807\u7b7e soup.find_all([\"a\", \"b\"]) # [<b>The Dormouse's story</b>, # <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] <4> \u4f20 True True \u53ef\u4ee5\u5339\u914d\u4efb\u4f55\u503c,\u4e0b\u9762\u4ee3\u7801\u67e5\u627e\u5230\u6240\u6709\u7684tag,\u4f46\u662f\u4e0d\u4f1a\u8fd4\u56de\u5b57\u7b26\u4e32\u8282\u70b9 for tag in soup.find_all(True): print(tag.name) ''' html head title body p b p a a a p ''' \u6ce8\u610f\uff1a print(list(soup.strings)) \u4f1a\u8fd4\u56de\u6240\u6709\u7684\u8282\u70b9 \u5305\u62ec\u5b57\u7b26\u4e32\u8282\u70b9 <5> \u4f20\u65b9\u6cd5 \u5982\u679c\u6ca1\u6709\u5408\u9002\u8fc7\u6ee4\u5668,\u90a3\u4e48\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5,\u65b9\u6cd5\u53ea\u63a5\u53d7\u4e00\u4e2a\u5143\u7d20\u53c2\u6570,\u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de True \u8868\u793a\u5f53\u524d\u5143\u7d20\u5339\u914d\u5e76\u4e14\u88ab\u627e\u5230,\u5982\u679c\u4e0d\u662f\u5219\u53cd\u56de False \u4e0b\u9762\u65b9\u6cd5\u6821\u9a8c\u4e86\u5f53\u524d\u5143\u7d20,\u5982\u679c\u65e2\u5305\u542b class \u5c5e\u6027\u53c8\u5305\u542b id \u5c5e\u6027,\u90a3\u4e48\u5c06\u8fd4\u56de True : def has_class_but_no_id(tag): return tag.has_attr('class') and tag.has_attr('id') \u5c06\u8fd9\u4e2a\u65b9\u6cd5\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165 find_all() \u65b9\u6cd5,\u5c06\u5f97\u5230\u6240\u6709 \u6807\u7b7e: print(soup.find_all(has_class_but_no_id)) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] '''","title":"1.1 name \u53c2\u6570"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#12-keyword","text":"\u5982\u679c\u4e00\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u53c2\u6570\u4e0d\u662f\u641c\u7d22\u5185\u7f6e\u7684\u53c2\u6570\u540d,\u641c\u7d22\u65f6\u4f1a\u628a\u8be5\u53c2\u6570\u5f53\u4f5c\u6307\u5b9a\u540d\u5b57tag\u7684\u5c5e\u6027\u6765\u641c\u7d22,\u5982\u679c\u5305\u542b\u4e00\u4e2a\u540d\u5b57\u4e3a id \u7684\u53c2\u6570,Beautiful Soup\u4f1a\u641c\u7d22\u6bcf\u4e2atag\u7684\u201did\u201d\u5c5e\u6027. soup.find_all(id='link2') # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] import re print(soup.find_all(href=re.compile(\"elsie\"))) # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] \u641c\u7d22\u6307\u5b9a\u540d\u5b57\u7684\u5c5e\u6027\u65f6\u53ef\u4ee5\u4f7f\u7528\u7684\u53c2\u6570\u503c\u5305\u62ec \u5b57\u7b26\u4e32 , \u6b63\u5219\u8868\u8fbe\u5f0f , \u5217\u8868, True . \u4e0b\u9762\u7684\u4f8b\u5b50\u5728\u6587\u6863\u6811\u4e2d\u67e5\u627e\u6240\u6709\u5305\u542b id \u5c5e\u6027\u7684tag,\u65e0\u8bba id \u7684\u503c\u662f\u4ec0\u4e48: soup.find_all(id=True) # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] \u4f7f\u7528\u591a\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u53c2\u6570\u53ef\u4ee5\u540c\u65f6\u8fc7\u6ee4tag\u7684\u591a\u4e2a\u5c5e\u6027: soup.find_all(href=re.compile(\"elsie\"), id='link1') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">three</a>] \u5728\u8fd9\u91cc\u6211\u4eec\u60f3\u7528 class \u8fc7\u6ee4\uff0c\u4e0d\u8fc7 class \u662f python \u7684\u5173\u952e\u8bcd\uff0c\u8fd9\u600e\u4e48\u529e\uff1f\u52a0\u4e2a\u4e0b\u5212\u7ebf\u5c31\u53ef\u4ee5 print(soup.find_all(\"a\", class_=\"sister\")) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ] ''' \u901a\u8fc7 find_all() \u65b9\u6cd5\u7684 attrs \u53c2\u6570\u5b9a\u4e49\u4e00\u4e2a\u5b57\u5178\u53c2\u6570\u6765\u641c\u7d22\u5305\u542b\u7279\u6b8a\u5c5e\u6027\u7684tag: data_soup.find_all(attrs={\"data-foo\": \"value\"}) # [<div data-foo=\"value\">foo!</div>] \u6ce8\u610f\uff1a\u5982\u4f55\u67e5\u770b\u6761\u4ef6id\u548cclass\u540c\u65f6\u5b58\u5728\u65f6\u7684\u5199\u6cd5 print(soup.find_all('b', class_=\"story\", id=\"x\")) print(soup.find_all('b', attrs={\"class\":\"story\", \"id\":\"x\"}))","title":"1.2 keyword \u53c2\u6570"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#13-text","text":"\u901a\u8fc7 text \u53c2\u6570\u53ef\u4ee5\u641c\u641c\u6587\u6863\u4e2d\u7684\u5b57\u7b26\u4e32\u5185\u5bb9.\u4e0e name \u53c2\u6570\u7684\u53ef\u9009\u503c\u4e00\u6837, text \u53c2\u6570\u63a5\u53d7 \u5b57\u7b26\u4e32 , \u6b63\u5219\u8868\u8fbe\u5f0f , \u5217\u8868, True import re print(soup.find_all(text=\"Elsie\")) # ['Elsie'] print(soup.find_all(text=[\"Tillie\", \"Elsie\", \"Lacie\"])) # ['Elsie', 'Lacie', 'Tillie'] # \u53ea\u8981\u5305\u542bDormouse\u5c31\u53ef\u4ee5 print(soup.find_all(text=re.compile(\"Dormouse\"))) # [\"The Dormouse's story\", \"The Dormouse's story\"]","title":"1.3 text \u53c2\u6570"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#14-limit","text":"find_all() \u65b9\u6cd5\u8fd4\u56de\u5168\u90e8\u7684\u641c\u7d22\u7ed3\u6784,\u5982\u679c\u6587\u6863\u6811\u5f88\u5927\u90a3\u4e48\u641c\u7d22\u4f1a\u5f88\u6162.\u5982\u679c\u6211\u4eec\u4e0d\u9700\u8981\u5168\u90e8\u7ed3\u679c,\u53ef\u4ee5\u4f7f\u7528 limit \u53c2\u6570\u9650\u5236\u8fd4\u56de\u7ed3\u679c\u7684\u6570\u91cf.\u6548\u679c\u4e0eSQL\u4e2d\u7684limit\u5173\u952e\u5b57\u7c7b\u4f3c,\u5f53\u641c\u7d22\u5230\u7684\u7ed3\u679c\u6570\u91cf\u8fbe\u5230 limit \u7684\u9650\u5236\u65f6,\u5c31\u505c\u6b62\u641c\u7d22\u8fd4\u56de\u7ed3\u679c. print(soup.find_all(\"a\",limit=2)) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] '''","title":"1.4 limit \u53c2\u6570"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#15-recursive","text":"\u8c03\u7528tag\u7684 find_all() \u65b9\u6cd5\u65f6,Beautiful Soup\u4f1a\u68c0\u7d22\u5f53\u524dtag\u7684\u6240\u6709\u5b50\u5b59\u8282\u70b9,\u5982\u679c\u53ea\u60f3\u641c\u7d22tag\u7684\u76f4\u63a5\u5b50\u8282\u70b9,\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570 recursive=False . print(soup.html.find_all(\"title\")) # [<title>The Dormouse's story</title>] print(soup.html.find_all(\"title\",recursive=False)) # []","title":"1.5 recursive \u53c2\u6570"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#2find","text":"find( name , attrs , recursive , string , **kwargs ) find_all() \u65b9\u6cd5\u5c06\u8fd4\u56de\u6587\u6863\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709tag,\u5c3d\u7ba1\u6709\u65f6\u5019\u6211\u4eec\u53ea\u60f3\u5f97\u5230\u4e00\u4e2a\u7ed3\u679c.\u6bd4\u5982\u6587\u6863\u4e2d\u53ea\u6709\u4e00\u4e2a\\ \u6807\u7b7e,\u90a3\u4e48\u4f7f\u7528 find_all() \u65b9\u6cd5\u6765\u67e5\u627e\\ \u6807\u7b7e\u5c31\u4e0d\u592a\u5408\u9002, \u4f7f\u7528 find_all \u65b9\u6cd5\u5e76\u8bbe\u7f6e limit=1 \u53c2\u6570\u4e0d\u5982\u76f4\u63a5\u4f7f\u7528 find() \u65b9\u6cd5.\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\u662f\u7b49\u4ef7\u7684: soup.find_all('title', limit=1) # [<title>The Dormouse's story</title>] soup.find('title') # <title>The Dormouse's story</title> \u552f\u4e00\u7684\u533a\u522b\u662f find_all() \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u503c\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u7684\u5217\u8868,\u800c find() \u65b9\u6cd5\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c. find_all() \u65b9\u6cd5\u6ca1\u6709\u627e\u5230\u76ee\u6807\u662f\u8fd4\u56de\u7a7a\u5217\u8868, find() \u65b9\u6cd5\u627e\u4e0d\u5230\u76ee\u6807\u65f6,\u8fd4\u56de None . print(soup.find(\"nosuchtag\")) # None soup.head.title \u662f tag\u7684\u540d\u5b57 \u65b9\u6cd5\u7684\u7b80\u5199.\u8fd9\u4e2a\u7b80\u5199\u7684\u539f\u7406\u5c31\u662f\u591a\u6b21\u8c03\u7528\u5f53\u524dtag\u7684 find() \u65b9\u6cd5: soup.head.title # <title>The Dormouse's story</title> soup.find(\"head\").find(\"title\") # <title>The Dormouse's story</title>","title":"2\u3001find()"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#3find_parents-find_parent","text":"a_string = soup.find(text=\"Lacie\") print(a_string) # Lacie print(a_string.find_parent()) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(a_string.find_parents()) print(a_string.find_parent(\"p\")) ''' <p class=\"story\"> Once upon a time there were three little sisters; and their names were <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> and <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well. </p> '''","title":"3\u3001find_parents() \u548c find_parent()"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#4find_next_siblings-find_next_sibling","text":"find_next_siblings( name , attrs , recursive , string , **kwargs )` `find_next_sibling( name , attrs , recursive , string , **kwargs ) \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_siblings \u5c5e\u6027\u5bf9\u5f53tag\u7684\u6240\u6709\u540e\u9762\u89e3\u6790\u7684\u5144\u5f1ftag\u8282\u70b9\u8fdb\u884c\u8fed\u4ee3, find_next_siblings() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u5144\u5f1f\u8282\u70b9, find_next_sibling() \u53ea\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u7b2c\u4e00\u4e2atag\u8282\u70b9. first_link = soup.a print(first_link.find_next_sibling(\"a\")) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(first_link.find_next_siblings(\"a\")) ''' [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ] ''' find_previous_siblings() \u548c find_previous_sibling()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_next_sibling\u548cfind_next_siblings\u3002","title":"4\u3001find_next_siblings() \u548c find_next_sibling()"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#5find_all_next-find_next","text":"find_all_next( name , attrs , recursive , string , **kwargs )` `find_next( name , attrs , recursive , string , **kwargs ) \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_elements \u5c5e\u6027\u5bf9\u5f53\u524dtag\u7684\u4e4b\u540e\u7684tag\u548c\u5b57\u7b26\u4e32\u8fdb\u884c\u8fed\u4ee3, find_all_next() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9, find_next() \u65b9\u6cd5\u8fd4\u56de\u7b2c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9:\u3000\u3000 first_link = soup.a print(first_link.find_all_next(string=True)) # ['Elsie', ',\\n', 'Lacie', ' and\\n', 'Tillie', ';\\nand they lived at the bottom of a well.', '\\n', '...', '\\n'] print(first_link.find_next(string=True)) # Elsie find_all_previous() \u548c find_previous()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_all_next() \u548c find_next()\u3002","title":"5\u3001find_all_next() \u548c find_next()"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#beautifulsoupcss","text":"\u6211\u4eec\u5728\u5199 CSS \u65f6\uff0c\u6807\u7b7e\u540d\u4e0d\u52a0\u4efb\u4f55\u4fee\u9970\uff0c\u7c7b\u540d\u524d\u52a0\u70b9\uff0cid\u540d\u524d\u52a0 #\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u4e5f\u53ef\u4ee5\u5229\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u6765\u7b5b\u9009\u5143\u7d20\uff0c\u7528\u5230\u7684\u65b9\u6cd5\u662f soup.select()\uff0c \u8fd4\u56de\u7c7b\u578b\u662f list","title":"\u56db\u3001beautifulsoup\u7684css\u9009\u62e9\u5668"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#1_2","text":"print(soup.select(\"title\")) #[<title>The Dormouse's story</title>] print(soup.select(\"b\")) #[<b>The Dormouse's story</b>]","title":"1\u3001\u901a\u8fc7\u6807\u7b7e\u540d\u67e5\u627e"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#2_2","text":"print(soup.select(\".sister\")) ''' [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] '''","title":"2\u3001\u901a\u8fc7\u7c7b\u540d\u67e5\u627e"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#3_2","text":"print(soup.select(\"#link1\")) # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>]","title":"3\u3001\u540d\u67e5\u627e"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#4_2","text":"\u7ec4\u5408\u67e5\u627e\u5373\u548c\u5199 class \u6587\u4ef6\u65f6\uff0c\u6807\u7b7e\u540d\u4e0e\u7c7b\u540d\u3001id\u540d\u8fdb\u884c\u7684\u7ec4\u5408\u539f\u7406\u662f\u4e00\u6837\u7684\uff0c\u4f8b\u5982\u67e5\u627e p \u6807\u7b7e\u4e2d\uff0cid \u7b49\u4e8e link1\u7684\u5185\u5bb9\uff0c\u4e8c\u8005\u9700\u8981\u7528\u7a7a\u683c\u5206\u5f00 print(soup.select(\"p #link2\")) #[<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] \u76f4\u63a5\u5b50\u6807\u7b7e\u67e5\u627e print(soup.select(\"p > #link2\")) # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] \u67e5\u627e\u65e2\u6709class\u4e5f\u6709id\u9009\u62e9\u5668\u7684\u6807\u7b7e a_string = soup.select(\".story#test\") \u67e5\u627e\u6709\u591a\u4e2aclass\u9009\u62e9\u5668\u7684\u6807\u7b7e a_string = soup.select(\".story.test\") \u67e5\u627e\u6709\u591a\u4e2aclass\u9009\u62e9\u5668\u548c\u4e00\u4e2aid\u9009\u62e9\u5668\u7684\u6807\u7b7e a_string = soup.select(\".story.test#book\")","title":"4\u3001\u7ec4\u5408\u67e5\u627e"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#5_1","text":"\u67e5\u627e\u65f6\u8fd8\u53ef\u4ee5\u52a0\u5165\u5c5e\u6027\u5143\u7d20\uff0c\u5c5e\u6027\u9700\u8981\u7528\u4e2d\u62ec\u53f7\u62ec\u8d77\u6765\uff0c\u6ce8\u610f\u5c5e\u6027\u548c\u6807\u7b7e\u5c5e\u4e8e\u540c\u4e00\u8282\u70b9\uff0c\u6240\u4ee5\u4e2d\u95f4\u4e0d\u80fd\u52a0\u7a7a\u683c\uff0c\u5426\u5219\u4f1a\u65e0\u6cd5\u5339\u914d\u5230\u3002 print(soup.select(\"a[href='http://example.com/tillie']\")) #[<a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] select \u65b9\u6cd5\u8fd4\u56de\u7684\u7ed3\u679c\u90fd\u662f\u5217\u8868\u5f62\u5f0f\uff0c\u53ef\u4ee5\u904d\u5386\u5f62\u5f0f\u8f93\u51fa\uff0c\u7136\u540e\u7528 get_text() \u65b9\u6cd5\u6765\u83b7\u53d6\u5b83\u7684\u5185\u5bb9\uff1a for title in soup.select('a'): print (title.get_text()) ''' Elsie Lacie Tillie '''","title":"5\u3001\u5c5e\u6027\u67e5\u627e"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#6_1","text":"\u4f7f\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u9009\u62e9\u5668\u5b9e\u73b0\u6216\u6761\u4ef6 html = \"\"\" <html> <body> <div class=\"foo\">Div 1</div> <div class=\"bar\">Div 2</div> <div class=\"baz\">Div 3</div> </body> </html> \"\"\" soup = BeautifulSoup(html, 'html.parser') divs = soup.select('.foo, .bar')","title":"6\u3001\u4f7f\u7528\u6216\u6761\u4ef6"},{"location":"04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html#_1","text":"from bs4 import BeautifulSoup soup = BeautifulSoup(s, 'html.parser') s=soup.find_all(class_=\"item\") for item in s: print(item.find(class_=\"pic\").a.get(\"href\")) print(item.find(class_=\"pic\").em.string) print(item.find(class_=\"info\").contents[1].a.span.string) print(item.find(class_=\"info\").contents[3].contents[3].contents[3].string) print(item.find(class_=\"info\").contents[3].contents[3].contents[7].string)","title":"\u8c46\u74e3\u7f51\u6539\u5199"},{"location":"05%E3%80%81xpath.html","text":"\u4e94\u3001xpath 1\u3001xpath\u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b89\u88c5 \u5b89\u88c5lxml\u5e93 pip install lxml -i pip\u6e90 2\u3001\u89e3\u6790\u6d41\u7a0b\u4e0e\u4f7f\u7528 \u89e3\u6790\u6d41\u7a0b \u5b9e\u4f8b\u5316\u4e00\u4e2aetree\u7684\u5bf9\u8c61\uff0c\u628a\u5373\u5c06\u88ab\u89e3\u6790\u7684\u9875\u9762\u6e90\u7801\u52a0\u8f7d\u5230\u8be5\u5bf9\u8c61 \u8c03\u7528\u8be5\u5bf9\u8c61\u7684xpath\u65b9\u6cd5\u7ed3\u5408\u7740\u4e0d\u540c\u5f62\u5f0f\u7684xpath\u8868\u8fbe\u8fdb\u884c\u6807\u7b7e\u5b9a\u4f4d\u548c\u6570\u636e\u63d0\u53d6 \u4f7f\u7528 \u5bfc\u5165lxml.etree from lxml import etree etree.parse() \u89e3\u6790\u672c\u5730html\u6587\u4ef6 html_tree = etree.parse('XX.html') etree.HTML() \u89e3\u6790\u7f51\u7edc\u7684html\u5b57\u7b26\u4e32 html_tree = etree.HTML(rsponse.read().decode('utf-8') html_tree.xpath() \u4f7f\u7528xpath\u8def\u5f84\u67e5\u8be2\u4fe1\u606f\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868 \u6ce8\u610f\uff1a\u5982\u679clxml\u89e3\u6790\u672c\u5730HTML\u6587\u4ef6\u62a5\u9519\u53ef\u4ee5\u5b89\u88c5\u5982\u4e0b\u6dfb\u52a0\u53c2\u6570 parser = etree.HTMLParser(encoding=\"utf-8\") selector = etree.parse('./lol_1.html',parser=parser) result = etree.tostring(selector) 3\u3001xpath\u8bed\u6cd5 XPath \u662f\u4e00\u95e8\u5728 XML \u6587\u6863\u4e2d\u67e5\u627e\u4fe1\u606f\u7684\u8bed\u8a00\u3002XPath \u7528\u4e8e\u5728 XML \u6587\u6863\u4e2d\u901a\u8fc7\u5143\u7d20\u548c\u5c5e\u6027\u8fdb\u884c\u5bfc\u822a\u3002 \u8def\u5f84\u8868\u8fbe\u5f0f \u8868\u8fbe\u5f0f \u63cf\u8ff0 / \u4ece\u6839\u8282\u70b9\u9009\u53d6\u3002 // \u4ece\u5339\u914d\u9009\u62e9\u7684\u5f53\u524d\u8282\u70b9\u9009\u62e9\u6587\u6863\u4e2d\u7684\u8282\u70b9\uff0c\u800c\u4e0d\u8003\u8651\u5b83\u4eec\u7684\u4f4d\u7f6e\u3002 ./ \u5f53\u524d\u8282\u70b9\u518d\u6b21\u8fdb\u884cxpath @ \u9009\u53d6\u5c5e\u6027\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5df2\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /html \u9009\u53d6\u6839\u5143\u7d20 html\u3002\u6ce8\u91ca\uff1a\u5047\u5982\u8def\u5f84\u8d77\u59cb\u4e8e\u6b63\u659c\u6760( / )\uff0c\u5219\u6b64\u8def\u5f84\u59cb\u7ec8\u4ee3\u8868\u5230\u67d0\u5143\u7d20\u7684\u7edd\u5bf9\u8def\u5f84\uff01 //li \u9009\u53d6\u6240\u6709li \u5b50\u5143\u7d20\uff0c\u800c\u4e0d\u7ba1\u5b83\u4eec\u5728\u6587\u6863\u4e2d\u7684\u4f4d\u7f6e\u3002 //ul//li \u9009\u62e9\u5c5e\u4e8e ul\u5143\u7d20\u7684\u540e\u4ee3\u7684\u6240\u6709 li\u5143\u7d20\uff0c\u800c\u4e0d\u7ba1\u5b83\u4eec\u4f4d\u4e8e ul\u4e4b\u4e0b\u7684\u4ec0\u4e48\u4f4d\u7f6e\u3002 \u8282\u70b9\u5bf9\u8c61.xpath('./div') \u9009\u62e9\u5f53\u524d\u8282\u70b9\u5bf9\u8c61\u91cc\u9762\u7684\u7b2c\u4e00\u4e2adiv\u8282\u70b9 //@href \u9009\u53d6\u540d\u4e3a href \u7684\u6240\u6709\u5c5e\u6027\u3002 \u8c13\u8bed\uff08Predicates\uff09 \u8c13\u8bed\u7528\u6765\u67e5\u627e\u67d0\u4e2a\u7279\u5b9a\u7684\u8282\u70b9\u6216\u8005\u5305\u542b\u67d0\u4e2a\u6307\u5b9a\u7684\u503c\u7684\u8282\u70b9\u3002 \u8c13\u8bed\u88ab\u5d4c\u5728\u65b9\u62ec\u53f7\u4e2d\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u5e26\u6709\u8c13\u8bed\u7684\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/li[1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u6700\u540e\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()-1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u5012\u6570\u7b2c\u4e8c\u4e2a li\u5143\u7d20\u3002 //ul/li[position()<3] \u9009\u53d6\u6700\u524d\u9762\u7684\u4e24\u4e2a\u5c5e\u4e8e ul\u5143\u7d20\u7684\u5b50\u5143\u7d20\u7684 li\u5143\u7d20\u3002 //ul/li[position()>3] \u4ece\u7b2c\u4e09\u4e2a\u5f00\u59cb\u5339\u914dli\u5143\u7d20 //a[@title] \u9009\u53d6\u6240\u6709\u62e5\u6709\u540d\u4e3a title\u7684\u5c5e\u6027\u7684 a\u5143\u7d20\u3002 //a[@title='xx'] \u9009\u53d6\u6240\u6709 a\u5143\u7d20\uff0c\u4e14\u8fd9\u4e9b\u5143\u7d20\u62e5\u6709\u503c\u4e3a xx\u7684 title\u5c5e\u6027\u3002 //a[@title>10] > < >= <= != \u9009\u53d6 a\u5143\u7d20\u7684\u6240\u6709 title\u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 title\u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 10\u3002 /bookstore/book[price>35.00]/title \u9009\u53d6 bookstore \u5143\u7d20\u4e2d\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 price \u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 35.00\u3002 \u9009\u53d6\u672a\u77e5\u8282\u70b9 XPath \u901a\u914d\u7b26\u53ef\u7528\u6765\u9009\u53d6\u672a\u77e5\u7684 XML \u5143\u7d20\u3002 \u901a\u914d\u7b26 \u63cf\u8ff0 * \u5339\u914d\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u3002 @* \u5339\u914d\u4efb\u4f55\u5c5e\u6027\u8282\u70b9\u3002 node() \u5339\u914d\u4efb\u4f55\u7c7b\u578b\u7684\u8282\u70b9\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/* \u9009\u53d6 bookstore \u5143\u7d20\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002 //* \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 //title[@*] \u9009\u53d6\u6240\u6709\u5e26\u6709\u5c5e\u6027\u7684 title \u5143\u7d20\u3002 //node() \u83b7\u53d6\u6240\u6709\u8282\u70b9 \u9009\u53d6\u82e5\u5e72\u8def\u5f84 \u901a\u8fc7\u5728\u8def\u5f84\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\u201c|\u201d\u8fd0\u7b97\u7b26\uff0c\u60a8\u53ef\u4ee5\u9009\u53d6\u82e5\u5e72\u4e2a\u8def\u5f84\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c //book/title | //book/price \u9009\u53d6 book \u5143\u7d20\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 //title | //price \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 /bookstore/book/title | //price \u9009\u53d6\u5c5e\u4e8e bookstore \u5143\u7d20\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4ee5\u53ca\u6587\u6863\u4e2d\u6240\u6709\u7684 price \u5143\u7d20\u3002 \u903b\u8f91\u8fd0\u7b97 \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8ehead\u5e76\u4e14class\u5c5e\u6027\u7b49\u4e8es_down\u7684div\u6807\u7b7e python //div[@id=\"head\" and @class=\"s_down\"] \u67e5\u627e\u6240\u6709\u5177\u6709id\u5c5e\u6027\u548cclass\u5c5e\u6027\u7684div\u6807\u7b7e python //div[@id and @class] \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8ehead\u6216class\u5c5e\u6027\u7b49\u4e8es_down\u7684div\u6807\u7b7e python //div[@id=\"head\" or @class=\"s_down\"] \u5c5e\u6027\u4f7f\u7528not \u53cd\u5411\u53d6\u6570 \u5339\u914d\u8d85\u94fe\u63a5a class\u5c5e\u6027\u503c\u4e0d\u4e3acover\u7684\u6807\u7b7e python //a[not(@class=\"cover\")] \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 python //title | //price \u6ce8\u610f: \u201c|\u201d\u4e24\u8fb9\u5fc5\u987b\u662f\u5b8c\u6574\u7684xpath\u8def\u5f84 \u5c5e\u6027\u67e5\u8be2 \u67e5\u627e\u6240\u6709\u5305\u542bid\u5c5e\u6027\u7684div\u8282\u70b9 python //div[@id] \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8emaincontent\u7684div\u6807\u7b7e python //div[@id=\"maincontent\"] \u67e5\u627e\u6240\u6709\u7684class\u5c5e\u6027 python //@class //@attrName python //li[@name=\"xx\"]//text() # \u83b7\u53d6li\u6807\u7b7ename\u4e3axx\u7684\u91cc\u9762\u7684\u6587\u672c\u5185\u5bb9 \u83b7\u53d6\u7b2c\u51e0\u4e2a\u6807\u7b7e \u7d22\u5f15\u4ece1\u5f00\u59cb python tree.xpath('//li[1]/a/text()') # \u83b7\u53d6\u7b2c\u4e00\u4e2a tree.xpath('//li[last()]/a/text()') # \u83b7\u53d6\u6700\u540e\u4e00\u4e2a tree.xpath('//li[last()-1]/a/text()') # \u83b7\u53d6\u5012\u6570\u7b2c\u4e8c\u4e2a \u6a21\u7cca\u67e5\u8be2 \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u542bhe\u7684div\u6807\u7b7e python //div[contains(@id, \"he\")] \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u4ee5he\u5f00\u5934\u7684div\u6807\u7b7e python //div[starts-with(@id, \"he\")] \u5185\u5bb9\u67e5\u8be2 \u67e5\u627e\u6240\u6709div\u6807\u7b7e\u4e0b\u7684\u76f4\u63a5\u5b50\u8282\u70b9h1\u7684\u5185\u5bb9 python //div/h1/text() \u5c5e\u6027\u503c\u83b7\u53d6 python //div/a/@href \u83b7\u53d6a\u91cc\u9762\u7684href\u5c5e\u6027\u503c \u83b7\u53d6\u6240\u6709 python //* #\u83b7\u53d6\u6240\u6709 //*[@class=\"xx\"] #\u83b7\u53d6\u6240\u6709class\u4e3axx\u7684\u6807\u7b7e \u83b7\u53d6\u8282\u70b9\u5185\u5bb9\u8f6c\u6362\u6210\u5b57\u7b26\u4e32 python c = tree.xpath('//li/a')[0] result = etree.tostring(c, encoding='utf-8') print(result.decode('UTF-8'))","title":"\u4e94\u3001xpath"},{"location":"05%E3%80%81xpath.html#xpath","text":"","title":"\u4e94\u3001xpath"},{"location":"05%E3%80%81xpath.html#1xpath","text":"\u5b89\u88c5 \u5b89\u88c5lxml\u5e93 pip install lxml -i pip\u6e90","title":"1\u3001xpath\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"05%E3%80%81xpath.html#2","text":"\u89e3\u6790\u6d41\u7a0b \u5b9e\u4f8b\u5316\u4e00\u4e2aetree\u7684\u5bf9\u8c61\uff0c\u628a\u5373\u5c06\u88ab\u89e3\u6790\u7684\u9875\u9762\u6e90\u7801\u52a0\u8f7d\u5230\u8be5\u5bf9\u8c61 \u8c03\u7528\u8be5\u5bf9\u8c61\u7684xpath\u65b9\u6cd5\u7ed3\u5408\u7740\u4e0d\u540c\u5f62\u5f0f\u7684xpath\u8868\u8fbe\u8fdb\u884c\u6807\u7b7e\u5b9a\u4f4d\u548c\u6570\u636e\u63d0\u53d6 \u4f7f\u7528 \u5bfc\u5165lxml.etree from lxml import etree etree.parse() \u89e3\u6790\u672c\u5730html\u6587\u4ef6 html_tree = etree.parse('XX.html') etree.HTML() \u89e3\u6790\u7f51\u7edc\u7684html\u5b57\u7b26\u4e32 html_tree = etree.HTML(rsponse.read().decode('utf-8') html_tree.xpath() \u4f7f\u7528xpath\u8def\u5f84\u67e5\u8be2\u4fe1\u606f\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868 \u6ce8\u610f\uff1a\u5982\u679clxml\u89e3\u6790\u672c\u5730HTML\u6587\u4ef6\u62a5\u9519\u53ef\u4ee5\u5b89\u88c5\u5982\u4e0b\u6dfb\u52a0\u53c2\u6570 parser = etree.HTMLParser(encoding=\"utf-8\") selector = etree.parse('./lol_1.html',parser=parser) result = etree.tostring(selector)","title":"2\u3001\u89e3\u6790\u6d41\u7a0b\u4e0e\u4f7f\u7528"},{"location":"05%E3%80%81xpath.html#3xpath","text":"XPath \u662f\u4e00\u95e8\u5728 XML \u6587\u6863\u4e2d\u67e5\u627e\u4fe1\u606f\u7684\u8bed\u8a00\u3002XPath \u7528\u4e8e\u5728 XML \u6587\u6863\u4e2d\u901a\u8fc7\u5143\u7d20\u548c\u5c5e\u6027\u8fdb\u884c\u5bfc\u822a\u3002 \u8def\u5f84\u8868\u8fbe\u5f0f \u8868\u8fbe\u5f0f \u63cf\u8ff0 / \u4ece\u6839\u8282\u70b9\u9009\u53d6\u3002 // \u4ece\u5339\u914d\u9009\u62e9\u7684\u5f53\u524d\u8282\u70b9\u9009\u62e9\u6587\u6863\u4e2d\u7684\u8282\u70b9\uff0c\u800c\u4e0d\u8003\u8651\u5b83\u4eec\u7684\u4f4d\u7f6e\u3002 ./ \u5f53\u524d\u8282\u70b9\u518d\u6b21\u8fdb\u884cxpath @ \u9009\u53d6\u5c5e\u6027\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5df2\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /html \u9009\u53d6\u6839\u5143\u7d20 html\u3002\u6ce8\u91ca\uff1a\u5047\u5982\u8def\u5f84\u8d77\u59cb\u4e8e\u6b63\u659c\u6760( / )\uff0c\u5219\u6b64\u8def\u5f84\u59cb\u7ec8\u4ee3\u8868\u5230\u67d0\u5143\u7d20\u7684\u7edd\u5bf9\u8def\u5f84\uff01 //li \u9009\u53d6\u6240\u6709li \u5b50\u5143\u7d20\uff0c\u800c\u4e0d\u7ba1\u5b83\u4eec\u5728\u6587\u6863\u4e2d\u7684\u4f4d\u7f6e\u3002 //ul//li \u9009\u62e9\u5c5e\u4e8e ul\u5143\u7d20\u7684\u540e\u4ee3\u7684\u6240\u6709 li\u5143\u7d20\uff0c\u800c\u4e0d\u7ba1\u5b83\u4eec\u4f4d\u4e8e ul\u4e4b\u4e0b\u7684\u4ec0\u4e48\u4f4d\u7f6e\u3002 \u8282\u70b9\u5bf9\u8c61.xpath('./div') \u9009\u62e9\u5f53\u524d\u8282\u70b9\u5bf9\u8c61\u91cc\u9762\u7684\u7b2c\u4e00\u4e2adiv\u8282\u70b9 //@href \u9009\u53d6\u540d\u4e3a href \u7684\u6240\u6709\u5c5e\u6027\u3002 \u8c13\u8bed\uff08Predicates\uff09 \u8c13\u8bed\u7528\u6765\u67e5\u627e\u67d0\u4e2a\u7279\u5b9a\u7684\u8282\u70b9\u6216\u8005\u5305\u542b\u67d0\u4e2a\u6307\u5b9a\u7684\u503c\u7684\u8282\u70b9\u3002 \u8c13\u8bed\u88ab\u5d4c\u5728\u65b9\u62ec\u53f7\u4e2d\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u5e26\u6709\u8c13\u8bed\u7684\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/li[1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u6700\u540e\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()-1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u5012\u6570\u7b2c\u4e8c\u4e2a li\u5143\u7d20\u3002 //ul/li[position()<3] \u9009\u53d6\u6700\u524d\u9762\u7684\u4e24\u4e2a\u5c5e\u4e8e ul\u5143\u7d20\u7684\u5b50\u5143\u7d20\u7684 li\u5143\u7d20\u3002 //ul/li[position()>3] \u4ece\u7b2c\u4e09\u4e2a\u5f00\u59cb\u5339\u914dli\u5143\u7d20 //a[@title] \u9009\u53d6\u6240\u6709\u62e5\u6709\u540d\u4e3a title\u7684\u5c5e\u6027\u7684 a\u5143\u7d20\u3002 //a[@title='xx'] \u9009\u53d6\u6240\u6709 a\u5143\u7d20\uff0c\u4e14\u8fd9\u4e9b\u5143\u7d20\u62e5\u6709\u503c\u4e3a xx\u7684 title\u5c5e\u6027\u3002 //a[@title>10] > < >= <= != \u9009\u53d6 a\u5143\u7d20\u7684\u6240\u6709 title\u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 title\u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 10\u3002 /bookstore/book[price>35.00]/title \u9009\u53d6 bookstore \u5143\u7d20\u4e2d\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 price \u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 35.00\u3002 \u9009\u53d6\u672a\u77e5\u8282\u70b9 XPath \u901a\u914d\u7b26\u53ef\u7528\u6765\u9009\u53d6\u672a\u77e5\u7684 XML \u5143\u7d20\u3002 \u901a\u914d\u7b26 \u63cf\u8ff0 * \u5339\u914d\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u3002 @* \u5339\u914d\u4efb\u4f55\u5c5e\u6027\u8282\u70b9\u3002 node() \u5339\u914d\u4efb\u4f55\u7c7b\u578b\u7684\u8282\u70b9\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/* \u9009\u53d6 bookstore \u5143\u7d20\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002 //* \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 //title[@*] \u9009\u53d6\u6240\u6709\u5e26\u6709\u5c5e\u6027\u7684 title \u5143\u7d20\u3002 //node() \u83b7\u53d6\u6240\u6709\u8282\u70b9 \u9009\u53d6\u82e5\u5e72\u8def\u5f84 \u901a\u8fc7\u5728\u8def\u5f84\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\u201c|\u201d\u8fd0\u7b97\u7b26\uff0c\u60a8\u53ef\u4ee5\u9009\u53d6\u82e5\u5e72\u4e2a\u8def\u5f84\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c //book/title | //book/price \u9009\u53d6 book \u5143\u7d20\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 //title | //price \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 /bookstore/book/title | //price \u9009\u53d6\u5c5e\u4e8e bookstore \u5143\u7d20\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4ee5\u53ca\u6587\u6863\u4e2d\u6240\u6709\u7684 price \u5143\u7d20\u3002 \u903b\u8f91\u8fd0\u7b97 \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8ehead\u5e76\u4e14class\u5c5e\u6027\u7b49\u4e8es_down\u7684div\u6807\u7b7e python //div[@id=\"head\" and @class=\"s_down\"] \u67e5\u627e\u6240\u6709\u5177\u6709id\u5c5e\u6027\u548cclass\u5c5e\u6027\u7684div\u6807\u7b7e python //div[@id and @class] \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8ehead\u6216class\u5c5e\u6027\u7b49\u4e8es_down\u7684div\u6807\u7b7e python //div[@id=\"head\" or @class=\"s_down\"] \u5c5e\u6027\u4f7f\u7528not \u53cd\u5411\u53d6\u6570 \u5339\u914d\u8d85\u94fe\u63a5a class\u5c5e\u6027\u503c\u4e0d\u4e3acover\u7684\u6807\u7b7e python //a[not(@class=\"cover\")] \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 python //title | //price \u6ce8\u610f: \u201c|\u201d\u4e24\u8fb9\u5fc5\u987b\u662f\u5b8c\u6574\u7684xpath\u8def\u5f84 \u5c5e\u6027\u67e5\u8be2 \u67e5\u627e\u6240\u6709\u5305\u542bid\u5c5e\u6027\u7684div\u8282\u70b9 python //div[@id] \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8emaincontent\u7684div\u6807\u7b7e python //div[@id=\"maincontent\"] \u67e5\u627e\u6240\u6709\u7684class\u5c5e\u6027 python //@class //@attrName python //li[@name=\"xx\"]//text() # \u83b7\u53d6li\u6807\u7b7ename\u4e3axx\u7684\u91cc\u9762\u7684\u6587\u672c\u5185\u5bb9 \u83b7\u53d6\u7b2c\u51e0\u4e2a\u6807\u7b7e \u7d22\u5f15\u4ece1\u5f00\u59cb python tree.xpath('//li[1]/a/text()') # \u83b7\u53d6\u7b2c\u4e00\u4e2a tree.xpath('//li[last()]/a/text()') # \u83b7\u53d6\u6700\u540e\u4e00\u4e2a tree.xpath('//li[last()-1]/a/text()') # \u83b7\u53d6\u5012\u6570\u7b2c\u4e8c\u4e2a \u6a21\u7cca\u67e5\u8be2 \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u542bhe\u7684div\u6807\u7b7e python //div[contains(@id, \"he\")] \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u4ee5he\u5f00\u5934\u7684div\u6807\u7b7e python //div[starts-with(@id, \"he\")] \u5185\u5bb9\u67e5\u8be2 \u67e5\u627e\u6240\u6709div\u6807\u7b7e\u4e0b\u7684\u76f4\u63a5\u5b50\u8282\u70b9h1\u7684\u5185\u5bb9 python //div/h1/text() \u5c5e\u6027\u503c\u83b7\u53d6 python //div/a/@href \u83b7\u53d6a\u91cc\u9762\u7684href\u5c5e\u6027\u503c \u83b7\u53d6\u6240\u6709 python //* #\u83b7\u53d6\u6240\u6709 //*[@class=\"xx\"] #\u83b7\u53d6\u6240\u6709class\u4e3axx\u7684\u6807\u7b7e \u83b7\u53d6\u8282\u70b9\u5185\u5bb9\u8f6c\u6362\u6210\u5b57\u7b26\u4e32 python c = tree.xpath('//li/a')[0] result = etree.tostring(c, encoding='utf-8') print(result.decode('UTF-8'))","title":"3\u3001xpath\u8bed\u6cd5"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html","text":"\u516d\u3001\u722c\u866b\u5165\u95e8 \u4e00\u3001\u722c\u866b\u6982\u5ff5 1\u3001\u4ec0\u4e48\u662f\u722c\u866b\uff1f \u7a0b\u5e8f\u733f\uff1a\u5199\u7a0b\u5e8f\uff0c\u7136\u540e\u53bb\u4e92\u8054\u7f51\u4e0a\u6293\u53d6\u6570\u636e\u7684\u8fc7\u7a0b \u4e92\u8054\u7f51\uff1a\u7f51\uff0c\u6709\u597d\u591a\u7684a\u94fe\u63a5\u7ec4\u6210\u7684\uff0c\u7f51\u7684\u8282\u70b9\u5c31\u662f\u6bcf\u4e00\u4e2aa\u94fe\u63a5 url\uff08\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff09 2\u3001\u54ea\u4e9b\u8bed\u8a00\u53ef\u4ee5\u5b9e\u73b0\u722c\u866b\uff1f php\uff0c\u53ef\u4ee5\u505a\uff0c\u53f7\u79f0\u4e16\u754c\u4e0a\u6700\u4f18\u7f8e\u7684\u8bed\u8a00\uff0c\u591a\u8fdb\u7a0b\u3001\u591a\u7ebf\u7a0b\u652f\u6301\u7684\u4e0d\u597d java\uff0c\u4e5f\u53ef\u4ee5\u505a\u722c\u866b\uff0c\u4eba\u5bb6\u505a\u7684\u5f88\u597d\uff0c\u6700\u4e3b\u8981\u7684\u7ade\u4e89\u5bf9\u624b\uff0c\u4ee3\u7801\u81c3\u80bf\uff0c\u91cd\u6784\u6210\u672c\u5927 c\u3001c++\uff0c\u662f\u4f60\u80fd\u529b\u7684\u4f53\u73b0\uff0c\u4e0d\u662f\u826f\u597d\u7684\u9009\u62e9 python\uff0c\u4e16\u754c\u4e0a\u6700\u7f8e\u4e3d\u7684\u8bed\u8a00\uff0c\u8bed\u6cd5\u7b80\u5355\u3001\u4ee3\u7801\u4f18\u7f8e\uff0c\u5b66\u4e60\u6210\u672c\u4f4e\uff0c\u652f\u6301\u7684\u6a21\u5757\u591a\uff0c\u975e\u5e38\u5f3a\u5927\u7684\u6846\u67b6scrapy 3\u3001\u722c\u866b\u5206\u7c7b \u901a\u7528\u722c\u866b \u5b9e\u4f8b \u767e\u5ea6\u3001360\u3001google\u3001sougou\u7b49\u641c\u7d22\u5f15\u64ce \u5c06\u7f51\u4e0a\u7684\u6240\u6709\u6570\u636e\u8fdb\u884c\u722c\u53d6\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u540d\uff0c\u641c\u7d22\u4e4b\u540e\u4f1a\u6309\u6392\u540d\u5c55\u793a\u6570\u636e \u529f\u80fd \u8bbf\u95ee\u7f51\u9875->\u6293\u53d6\u6570\u636e->\u6570\u636e\u5b58\u50a8->\u6570\u636e\u5904\u7406->\u63d0\u4f9b\u68c0\u7d22\u670d\u52a1 \u6293\u53d6\u6d41\u7a0b \u7ed9\u5b9a\u4e00\u4e9b\u8d77\u59cb\u7684URL\uff0c\u653e\u5165\u5f85\u722c\u53d6\u961f\u5217 \u5f88\u591a\u7f51\u9875\u90fd\u6709\u53cb\u60c5\u94fe\u63a5\uff0c\u5982\u679c\u722c\u866b\u6f2b\u65e0\u76ee\u7684\u7684\u722c\u53d6\u6570\u636e\u4f1a\u722c\u5230\u5176\u4ed6\u7f51\u7ad9\uff0c\u4e0d\u540c\u7684\u7f51\u7ad9\u90fd\u4f1a\u5b58\u5728\u4e0d\u540c\u7684\u5916\u90e8\u94fe\u63a5\uff0c\u6240\u4ee5\u6709\u53ef\u80fd\u4f1a\u91cd\u590d\uff0c\u4ece\u961f\u5217\u4e2d\u83b7\u53d6\u53ef\u4ee5\u907f\u514d\u91cd\u590d\u7f51\u5740\u7684\u722c\u53d6 \u4ece\u961f\u5217\u4e2d\u83b7\u53d6url\u5bf9\u8c61\uff0c\u5f00\u59cb\u722c\u53d6\u6570\u636e \u5206\u6790\u7f51\u9875\uff0c\u83b7\u53d6\u7f51\u9875\u5185\u7684\u6240\u6709url\uff0c\u5165\u961f\uff0c\u7ee7\u7eed\u91cd\u590d\u6267\u884c\u7b2c\u4e8c\u6b65 \u641c\u7d22\u5f15\u64ce\u5982\u4f55\u83b7\u53d6\u65b0\u7f51\u7ad9\u94fe\u63a5 \u4e3b\u52a8\u7ed9\u641c\u7d22\u5f15\u64ce\u63d0\u4ea4url \u5728\u5176\u4ed6\u7f51\u7ad9\u4e2d\u8bbe\u7f6e\u53cb\u60c5\u94fe\u63a5 \u767e\u5ea6\u548cDNS\u670d\u52a1\u5546\u5408\u4f5c\uff0c\u53ea\u8981\u6709\u57df\u540d\uff0c\u5c31\u4f1a\u6536\u5f55\u65b0\u7f51\u7ad9 robots\u534f\u8bae \u4e00\u4e2a\u7ea6\u5b9a\u4fd7\u6210\u7684\u534f\u8bae\uff0c\u6dfb\u52a0robots.txt\u6587\u4ef6\uff0c\u6765\u8bf4\u660e\u672c\u7f51\u7ad9\u54ea\u4e9b\u5185\u5bb9\u4e0d\u53ef\u4ee5\u88ab\u6293\u53d6\uff0c\u8d77\u4e0d\u5230\u9650\u5236\u4f5c\u7528 \u81ea\u5df1\u5199\u7684\u722c\u866b\u65e0\u9700\u9075\u5b88 \u7f51\u7ad9\u6392\u540d(SEO) \u4e00\u822c\u516c\u53f8\u4f1a\u6709SEO\u4eba\u5458\u8d1f\u8d23\u81ea\u5df1\u5b98\u7f51\u7684\u7f51\u7ad9\u6392\u540d SEM \u6839\u636epagerank\u503c\u8fdb\u884c\u6392\u540d\uff08\u53c2\u8003\u4e2a\u7f51\u7ad9\u6d41\u91cf\u3001\u70b9\u51fb\u7387\u7b49\u6307\u6807\uff09 \u767e\u5ea6\u7ade\u4ef7\u6392\u540d\uff0c\u94b1\u591a\u5c31\u662f\u7238\u7238 \u7f3a\u70b9 \u6293\u53d6\u7684\u6570\u636e\u5927\u591a\u662f\u65e0\u7528\u7684 2.\u4e0d\u80fd\u6839\u636e\u7528\u6237\u7684\u9700\u6c42\u6765\u7cbe\u51c6\u83b7\u53d6\u6570\u636e \u805a\u7126\u722c\u866b \u529f\u80fd \u6839\u636e\u9700\u6c42\uff0c\u5b9e\u73b0\u722c\u866b\u7a0b\u5e8f\uff0c\u6293\u53d6\u9700\u8981\u7684\u6570\u636e \u539f\u7406 1.\u7f51\u9875\u90fd\u6709\u81ea\u5df1\u552f\u4e00\u7684url(\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff09 2.\u7f51\u9875\u90fd\u662fhtml\u7ec4\u6210 3.\u4f20\u8f93\u534f\u8bae\u90fd\u662fhttp\\https \u8bbe\u8ba1\u601d\u8def 1.\u786e\u5b9a\u8981\u722c\u53d6\u7684url \u5982\u4f55\u83b7\u53d6Url 2.\u6a21\u62df\u6d4f\u89c8\u5668\u901a\u8fc7http\u534f\u8bae\u8bbf\u95eeurl\uff0c\u83b7\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u7684html\u4ee3\u7801 \u5982\u4f55\u8bbf\u95ee 3.\u89e3\u6790html\u5b57\u7b26\u4e32\uff08\u6839\u636e\u4e00\u5b9a\u89c4\u5219\u63d0\u53d6\u9700\u8981\u7684\u6570\u636e\uff09 \u5982\u4f55\u89e3\u6790 \u589e\u91cf\u722c\u866b \u6570\u636e\u91cf\u5927\u7684\u95ee\u9898\u7684\u4e00\u822c\u89e3\u51b3\u601d\u8def \u4f18\u5316\u7cfb\u7edf\u7684\u80fd\u529b\uff0c\u5373\u6267\u884c\u6548\u7387\u63d0\u9ad8 \u5e76\u884c\u3001\u5206\u5e03\u5f0f\u3001\u96c6\u7fa4 \u63d0\u9ad8\u7cfb\u7edf\u7684\u5de5\u4f5c\u6548\u7387\uff0c\u5373\u964d\u4f4e\u8fd0\u7b97\u6210\u672c \u4f18\u5316\u7b97\u6cd5\u3001\u964d\u4f4e\u7b97\u6cd5\u590d\u6742\u5ea6 \u65f6\u95f4\u590d\u6742\u5ea6 \u7a7a\u95f4\u590d\u6742\u5ea6 \u601d\u8003\uff1a\u5982\u679c\u6570\u636e\u5e93\u4e2d\u67093\u4ebf\u6761\u6570\u636e\uff0c\u5982\u4f55\u89e3\u51b3\uff1f \u589e\u91cf\u722c\u866b\uff1a \u5c5e\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u5de5\u4f5c\u6548\u7387\u7684\u4e00\u79cd\u89e3\u51b3\u601d\u8def \u5373\uff1a\u5982\u679c\u7f51\u7ad9\u5185\u5bb9\u66f4\u65b0\uff0c\u518d\u6b21\u722c\u53d6\u65f6\u4e0d\u518d\u722c\u53d6\u91cd\u590d\u7684\u4fe1\u606f \u6982\u5ff5\uff1a\u7f51\u7ad9\u5185\u5bb9\u7684\u65b0\u589e\uff08\u5305\u62ec\u6570\u636e\u7684\u65b0\u589e\u548c\u9875\u9762\u7684\u65b0\u589e\uff09\u79f0\u4e4b\u4e3a\u589e\u91cf\u3002\u722c\u53d6\u8fc7\u7a0b\u79f0\u4e3a\u589e\u91cf\u722c\u866b\u3002 \u8bbe\u8ba1\u601d\u8def\uff08\u53bb\u91cd\uff09\uff1a \u5728\u53d1\u9001\u8bf7\u6c42\u524d\u5224\u65ad\u6b64url\u662f\u5426\u722c\u53d6\u8fc7 \u5728\u89e3\u6790\u5185\u5bb9\u540e\u5224\u65ad\u8fd9\u90e8\u5206\u5185\u5bb9\u662f\u5426\u722c\u53d6\u8fc7 \u5199\u5165\u5b58\u50a8\u7a7a\u95f4\u65f6\u5224\u65ad\u5185\u5bb9\u662f\u5426\u5b58\u5728 eg. \u4f7f\u7528hash\u503c\u751f\u6210\u6570\u636e\u6307\u7eb9\u6765\u53bb\u91cd\uff0c\u9ad8\u6548\uff0c\u8282\u7701\u65f6\u95f4 eg. \u4f7f\u7528Redis\u6570\u636e\u5e93\u7684\u96c6\u5408\u7c7b\u578b\u5b58\u50a8\u6570\u636e\uff0c\u5177\u6709\u65e0\u5e8f\u4e0d\u91cd\u590d\u7684\u7279\u70b9 4\u3001\u6df1\u5ea6\u4f18\u5148\u548c\u5e7f\u5ea6\u4f18\u5148 \u6df1\u5ea6\u4f18\u5148\uff1a \u6307\u7f51\u7edc\u722c\u866b\u4f1a\u4ece\u8d77\u59cb\u9875\u5f00\u59cb\uff0c\u4e00\u4e2a\u94fe\u63a5\u4e00\u4e2a\u94fe\u63a5\u8ddf\u8e2a\u4e0b\u53bb\uff0c\u5904\u7406\u5b8c\u8fd9\u6761\u7ebf\u8def\u4e4b\u540e\u518d\u8f6c\u5165\u4e0b\u4e00\u4e2a\u8d77\u59cb\u9875\uff0c\u7ee7\u7eed\u8ffd\u8e2a\u94fe\u63a5 \u8fd9\u91cc\u662f\u6df1\u5ea6\u4f18\u5148\uff0c\u6240\u4ee5\u8fd9\u91cc\u7684\u722c\u53d6\u7684\u987a\u5e8f\u5f0f\uff1a A-B-D-E-I-C-F-G-H (\u9012\u5f52\u5b9e\u73b0) \u57fa\u672c\u601d\u8def\u90fd\u662f\u6df1\u5ea6\u4f18\u5148\uff0c\u5305\u62ecscrapy \u5e7f\u5ea6\u4f18\u5148\uff1a \u4e5f\u53eb\u5bbd\u5ea6\u4f18\u5148\uff0c\u662f\u6307\u5c06\u65b0\u4e0b\u8f7d\u7f51\u9875\u53d1\u73b0\u7684\u94fe\u63a5\u76f4\u63a5\u63d2\u5165\u5230\u5f85\u6293\u53d6URL\u961f\u5217\u7684\u672b\u5c3e\uff0c\u4e5f\u5c31\u662f\u6307\u7f51\u7edc\u722c\u866b\u4f1a\u5148\u6293\u53d6\u8d77\u59cb\u9875\u4e2d\u7684\u6240\u6709\u7f51\u9875\uff0c\u7136\u540e\u5728\u9009\u62e9\u5176\u4e2d\u7684\u4e00\u4e2a\u8fde\u63a5\u7f51\u9875\uff0c\u7ee7\u7eed\u6293\u53d6\u5728\u6b64\u7f51\u9875\u4e2d\u94fe\u63a5\u7684\u6240\u6709\u7f51\u9875 \u8fd9\u4e2a\u56fe\u4e3a\u4f8b\u5b50\uff0c\u5e7f\u5ea6\u4f18\u5148\u7684\u722c\u53d6\u987a\u5e8f\u4e3a\uff1a A-B-C-D-E-F-G-H-I (\u961f\u5217\u5b9e\u73b0) \u4e8c\u3001\u6574\u4f53\u5185\u5bb9 1\u3001python\u8bed\u6cd5 2\u3001\u4f7f\u7528\u7684python\u5e93 urllib.request urllib.parse requests 3\u3001\u89e3\u6790\u5185\u5bb9 \u6b63\u5219\u8868\u8fbe\u5f0f xpath \u63a8\u8350\u4f7f\u7528xpath bs4 jsonpath 4\u3001\u91c7\u96c6\u52a8\u6001html \u56e0\u4e3a\u6240\u6709\u7684\u7f51\u7ad9\u90fd\u4e0d\u6b62\u5b58\u5728\u4e00\u4e2a\u8bf7\u6c42\uff08js.csss\u7b49\u52a8\u6001\u8bf7\u6c42\uff09\uff0c\u5982\u679c\u4ec5\u4ec5\u5bf9\u7f51\u7ad9\u9996\u9875\u53d1\u9001\u8bf7\u6c42\uff0c\u4f1a\u5bfc\u81f4\u7f51\u7ad9\u5185\u5bb9\u63a5\u53d7\u4e0d\u5168 \u89e3\u51b3\u65b9\u6848\uff1a\u6a21\u62df\u6d4f\u89c8\u5668\u8fdb\u884c\u8bbf\u95ee selenium+headless 5\u3001scrapy \u9ad8\u6027\u80fd\u5f02\u6b65\u7f51\u7edc\u722c\u866b\u6846\u67b6 6\u3001\u5206\u5e03\u5f0f\u722c\u866b scrapy-redis\u7ec4\u4ef6 \u5728scrapy\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u4e00\u5957\u7ec4\u4ef6\uff0c\u7ed3\u5408redis\u8fdb\u884c\u5b58\u50a8\u7b49\u529f\u80fd 7\u3001\u53cd\u722c\u866b\u7684\u4e00\u822c\u624b\u6bb5 \u722c\u866b\u9879\u76ee\u6700\u590d\u6742\u7684\u4e0d\u662f\u9875\u9762\u4fe1\u606f\u7684\u63d0\u53d6\uff0c\u53cd\u800c\u662f\u722c\u866b\u4e0e\u53cd\u722c\u866b\u3001\u53cd\u53cd\u722c\u866b\u7684\u535a\u5f08\u8fc7\u7a0b User-Agent \u6d4f\u89c8\u5668\u7684\u6807\u5fd7\u4fe1\u606f\uff0c\u4f1a\u901a\u8fc7\u8bf7\u6c42\u5934\u4f20\u9012\u7ed9\u670d\u52a1\u5668\uff0c\u7528\u4ee5\u8bf4\u660e\u8bbf\u95ee\u6570\u636e\u7684\u6d4f\u89c8\u5668\u4fe1\u606f \u53cd\u722c\u866b\uff1a\u5148\u68c0\u67e5\u662f\u5426\u6709UA\uff0c\u6216\u8005UA\u662f\u5426\u5408\u6cd5 \u4ee3\u7406IP \u897f\u6b21\u4ee3\u7406 \u9a8c\u8bc1\u7801\u8bbf\u95ee \u628a\u9a8c\u8bc1\u7801\u56fe\u7247\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7136\u540e\u624b\u52a8\u8f93\u5165 \u6253\u7801\u5e73\u53f0 \u52a8\u6001\u52a0\u8f7d\u7f51\u9875 \u6570\u636e\u52a0\u5bc6 \u5206\u6790js\u4ee3\u7801 \u722c\u866b-\u53cd\u722c\u866b-\u53cd\u53cd\u722c\u866b \u4e09\u3001web\u8bf7\u6c42\u5168\u8fc7\u7a0b\u5256\u6790(\u91cd\u70b9) 1\u3001\u6982\u8ff0 \u4e0a\u4e00\u5c0f\u8282\u6211\u4eec\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7f51\u9875\u7684\u6574\u4f53\u6293\u53d6\u5de5\u4f5c. \u90a3\u4e48\u672c\u5c0f\u8282, \u7ed9\u5404\u4f4d\u597d\u597d\u5256\u6790\u4e00\u4e0bweb\u8bf7\u6c42\u7684\u5168\u90e8\u8fc7\u7a0b, \u8fd9\u6837\u6709\u52a9\u4e8e\u540e\u9762\u6211\u4eec\u9047\u5230\u7684\u5404\u79cd\u5404\u6837\u7684\u7f51\u7ad9\u5c31\u6709\u4e86\u5165\u624b\u7684\u57fa\u672c\u51c6\u5219\u4e86. \u90a3\u4e48\u5230\u5e95\u6211\u4eec\u6d4f\u89c8\u5668\u5728\u8f93\u5165\u5b8c\u7f51\u5740\u5230\u6211\u4eec\u770b\u5230\u7f51\u9875\u7684\u6574\u4f53\u5185\u5bb9, \u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u7a76\u7adf\u53d1\u751f\u4e86\u4e9b\u4ec0\u4e48? \u8fd9\u91cc\u6211\u4eec\u4ee5\u767e\u5ea6\u4e3a\u4f8b. \u5728\u8bbf\u95ee\u767e\u5ea6\u7684\u65f6\u5019, \u6d4f\u89c8\u5668\u4f1a\u628a\u8fd9\u4e00\u6b21\u8bf7\u6c42\u53d1\u9001\u5230\u767e\u5ea6\u7684\u670d\u52a1\u5668(\u767e\u5ea6\u7684\u4e00\u53f0\u7535\u8111), \u7531\u670d\u52a1\u5668\u63a5\u6536\u5230\u8fd9\u4e2a\u8bf7\u6c42, \u7136\u540e\u52a0\u8f7d\u4e00\u4e9b\u6570\u636e. \u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668, \u518d\u7531\u6d4f\u89c8\u5668\u8fdb\u884c\u663e\u793a. \u542c\u8d77\u6765\u597d\u50cf\u662f\u4e2a\u5e9f\u8bdd...\u4f46\u662f\u8fd9\u91cc\u8574\u542b\u7740\u4e00\u4e2a\u6781\u4e3a\u91cd\u8981\u7684\u4e1c\u897f\u5728\u91cc\u9762, \u6ce8\u610f, \u767e\u5ea6\u7684\u670d\u52a1\u5668\u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668\u7684\u4e0d\u76f4\u63a5\u662f\u9875\u9762, \u800c\u662f\u9875\u9762\u6e90\u4ee3\u7801(\u7531html, css, js\u7ec4\u6210). \u7531\u6d4f\u89c8\u5668\u628a\u9875\u9762\u6e90\u4ee3\u7801\u8fdb\u884c\u6267\u884c, \u7136\u540e\u628a\u6267\u884c\u4e4b\u540e\u7684\u7ed3\u679c\u5c55\u793a\u7ed9\u7528\u6237. \u6240\u4ee5\u6211\u4eec\u80fd\u770b\u5230\u5728\u4e0a\u4e00\u8282\u7684\u5185\u5bb9\u4e2d,\u6211\u4eec\u62ff\u5230\u7684\u662f\u767e\u5ea6\u7684\u6e90\u4ee3\u7801(\u5c31\u662f\u90a3\u5806\u770b\u4e0d\u61c2\u7684\u9b3c\u4e1c\u897f). \u5177\u4f53\u8fc7\u7a0b\u5982\u56fe. \u63a5\u4e0b\u6765\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u4e8b\u60c5\u4e86. \u6240\u6709\u7684\u6570\u636e\u90fd\u5728\u9875\u9762\u6e90\u4ee3\u7801\u91cc\u4e48? \u975e\u4e5f~ \u8fd9\u91cc\u8981\u4ecb\u7ecd\u4e00\u4e2a\u65b0\u7684\u6982\u5ff5 \u90a3\u5c31\u662f\u9875\u9762\u6e32\u67d3\u6570\u636e\u7684\u8fc7\u7a0b, \u6211\u4eec\u5e38\u89c1\u7684\u9875\u9762\u6e32\u67d3\u8fc7\u7a0b\u6709\u4e24\u79cd, \u670d\u52a1\u5668\u6e32\u67d3, \u4f60\u9700\u8981\u7684\u6570\u636e\u76f4\u63a5\u5728\u9875\u9762\u6e90\u4ee3\u7801\u91cc\u80fd\u641c\u5230 \u8fd9\u4e2a\u6700\u5bb9\u6613\u7406\u89e3, \u4e5f\u662f\u6700\u7b80\u5355\u7684. \u542b\u4e49\u5462\u5c31\u662f\u6211\u4eec\u5728\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u7684\u65f6\u5019, \u670d\u52a1\u5668\u76f4\u63a5\u628a\u6570\u636e\u5168\u90e8\u5199\u5165\u5230html\u4e2d, \u6211\u4eec\u6d4f\u89c8\u5668\u5c31\u80fd\u76f4\u63a5\u62ff\u5230\u5e26\u6709\u6570\u636e\u7684html\u5185\u5bb9. \u6bd4\u5982, \u7531\u4e8e\u6570\u636e\u662f\u76f4\u63a5\u5199\u5728html\u4e2d\u7684, \u6240\u4ee5\u6211\u4eec\u80fd\u770b\u5230\u7684\u6570\u636e\u90fd\u5728\u9875\u9762\u6e90\u4ee3\u7801\u4e2d\u80fd\u627e\u7684\u5230\u7684. \u8fd9\u79cd\u7f51\u9875\u4e00\u822c\u90fd\u76f8\u5bf9\u6bd4\u8f83\u5bb9\u6613\u5c31\u80fd\u6293\u53d6\u5230\u9875\u9762\u5185\u5bb9. \u524d\u7aefJS\u6e32\u67d3, \u4f60\u9700\u8981\u7684\u6570\u636e\u5728\u9875\u9762\u6e90\u4ee3\u7801\u91cc\u641c\u4e0d\u5230 \u8fd9\u79cd\u5c31\u7a0d\u663e\u9ebb\u70e6\u4e86. \u8fd9\u79cd\u673a\u5236\u4e00\u822c\u662f\u7b2c\u4e00\u6b21\u8bf7\u6c42\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u5806HTML\u6846\u67b6\u7ed3\u6784. \u7136\u540e\u518d\u6b21\u8bf7\u6c42\u5230\u771f\u6b63\u4fdd\u5b58\u6570\u636e\u7684\u670d\u52a1\u5668, \u7531\u8fd9\u4e2a\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e, \u6700\u540e\u5728\u6d4f\u89c8\u5668\u4e0a\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u8f7d. \u5c31\u50cf\u8fd9\u6837: \u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u670d\u52a1\u5668\u90a3\u8fb9\u80fd\u7f13\u89e3\u538b\u529b. \u800c\u4e14\u5206\u5de5\u660e\u786e. \u6bd4\u8f83\u5bb9\u6613\u7ef4\u62a4. \u5178\u578b\u7684\u6709\u8fd9\u4e48\u4e00\u4e2a\u7f51\u9875 \u90a3\u6570\u636e\u662f\u4f55\u65f6\u52a0\u8f7d\u8fdb\u6765\u7684\u5462? \u5176\u5b9e\u5c31\u662f\u5728\u6211\u4eec\u8fdb\u884c\u9875\u9762\u5411\u4e0b\u6eda\u52a8\u7684\u65f6\u5019, jd\u5c31\u5728\u5077\u5077\u7684\u52a0\u8f7d\u6570\u636e\u4e86, \u6b64\u65f6\u60f3\u8981\u770b\u5230\u8fd9\u4e2a\u9875\u9762\u7684\u52a0\u8f7d\u5168\u8fc7\u7a0b, \u6211\u4eec\u5c31\u9700\u8981\u501f\u52a9\u6d4f\u89c8\u5668\u7684\u8c03\u8bd5\u5de5\u5177\u4e86(F12) \u770b\u5230\u4e86\u5427, \u9875\u9762\u4e0a\u770b\u5230\u7684\u5185\u5bb9\u5176\u5b9e\u662f\u540e\u52a0\u8f7d\u8fdb\u6765\u7684. OK, \u5728\u8fd9\u91cc\u6211\u4e0d\u662f\u8981\u8ddf\u5404\u4f4d\u8bb2jd\u6709\u591a\u725bB, \u4e5f\u4e0d\u662f\u8bf4\u8fd9\u4e24\u79cd\u65b9\u5f0f\u6709\u4ec0\u4e48\u4e0d\u540c, \u53ea\u662f\u60f3\u544a\u8bc9\u5404\u4f4d, \u6709\u4e9b\u65f6\u5019, \u6211\u4eec\u7684\u6570\u636e\u4e0d\u4e00\u5b9a\u90fd\u662f\u76f4\u63a5\u6765\u81ea\u4e8e\u9875\u9762\u6e90\u4ee3\u7801. \u5982\u679c\u4f60\u5728\u9875\u9762\u6e90\u4ee3\u7801\u4e2d\u627e\u4e0d\u5230\u4f60\u8981\u7684\u6570\u636e\u65f6, \u90a3\u5f88\u53ef\u80fd\u6570\u636e\u662f\u5b58\u653e\u5728\u53e6\u4e00\u4e2a\u8bf7\u6c42\u91cc. 1.\u4f60\u8981\u7684\u4e1c\u897f\u5728\u9875\u9762\u6e90\u4ee3\u7801. \u76f4\u63a5\u62ff`\u6e90\u4ee3\u7801`\u63d0\u53d6\u6570\u636e\u5373\u53ef 2.\u4f60\u8981\u7684\u4e1c\u897f\uff0c\u4e0d\u5728\u9875\u9762\u6e90\u4ee3\u7801, \u9700\u8981\u60f3\u529e\u6cd5\u627e\u5230\u771f\u6b63\u7684\u52a0\u8f7d\u6570\u636e\u7684\u90a3\u4e2a\u8bf7\u6c42. \u7136\u540e\u63d0\u53d6\u6570\u636e 2\u3001\u6700\u7b80\u5355\u7684web\u5e94\u7528\u7a0b\u5e8f \u30101\u3011http\u534f\u8bae\u7279\u6027 HTTP\u534f\u8bae\u662fHyper Text Transfer Protocol\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09\u7684\u7f29\u5199,\u662f\u7528\u4e8e\u4e07\u7ef4\u7f51\uff08WWW:World Wide Web \uff09\u670d\u52a1\u5668\u4e0e\u672c\u5730\u6d4f\u89c8\u5668\u4e4b\u95f4\u4f20\u8f93\u8d85\u6587\u672c\u7684\u4f20\u9001\u534f\u8bae\u3002HTTP\u662f\u4e00\u4e2a\u5c5e\u4e8e\u5e94\u7528\u5c42\u7684\u9762\u5411\u5bf9\u8c61\u7684\u534f\u8bae\uff0c\u7531\u4e8e\u5176\u7b80\u6377\u3001\u5feb\u901f\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u8d85\u5a92\u4f53\u4fe1\u606f\u7cfb\u7edf\u3002\u5b83\u4e8e1990\u5e74\u63d0\u51fa\uff0c\u7ecf\u8fc7\u51e0\u5e74\u7684\u4f7f\u7528\u4e0e\u53d1\u5c55\uff0c\u5f97\u5230\u4e0d\u65ad\u5730\u5b8c\u5584\u548c\u6269\u5c55\u3002HTTP\u534f\u8bae\u5de5\u4f5c\u4e8e\u5ba2\u6237\u7aef-\u670d\u52a1\u7aef\u67b6\u6784\u4e3a\u4e0a\u3002\u6d4f\u89c8\u5668\u4f5c\u4e3aHTTP\u5ba2\u6237\u7aef\u901a\u8fc7URL\u5411HTTP\u670d\u52a1\u7aef\u5373WEB\u670d\u52a1\u5668\u53d1\u9001\u6240\u6709\u8bf7\u6c42\u3002Web\u670d\u52a1\u5668\u6839\u636e\u63a5\u6536\u5230\u7684\u8bf7\u6c42\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u54cd\u5e94\u4fe1\u606f\u3002 \u57fa\u4e8eTCP/IP\u534f\u8bae \u57fa\u4e8e\u8bf7\u6c42\uff0d\u54cd\u5e94\u6a21\u5f0f \u65e0\u72b6\u6001\u4fdd\u5b58 \u77ed\u8fde\u63a5\u548c\u957f\u8fde\u63a5 HTTP1.0\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f\u77ed\u8fde\u63a5\u3002\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u6bcf\u8fdb\u884c\u4e00\u6b21HTTP\u64cd\u4f5c\uff0c\u5c31\u5efa\u7acb\u4e00\u6b21\u8fde\u63a5\uff0c\u4efb\u52a1\u7ed3\u675f\u5c31\u4e2d\u65ad\u8fde\u63a5\u3002 HTTP/1.1\u8d77\uff0c\u9ed8\u8ba4\u4f7f\u7528\u957f\u8fde\u63a5\u3002\u8981\u4f7f\u7528\u957f\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7684HTTP\u9996\u90e8\u7684Connection\u90fd\u8981\u8bbe\u7f6e\u4e3akeep-alive\uff0c\u624d\u80fd\u652f\u6301\u957f\u8fde\u63a5\u3002 HTTP\u957f\u8fde\u63a5\uff0c\u6307\u7684\u662f\u590d\u7528TCP\u8fde\u63a5\u3002\u591a\u4e2aHTTP\u8bf7\u6c42\u53ef\u4ee5\u590d\u7528\u540c\u4e00\u4e2aTCP\u8fde\u63a5\uff0c\u8fd9\u5c31\u8282\u7701\u4e86TCP\u8fde\u63a5\u5efa\u7acb\u548c\u65ad\u5f00\u7684\u6d88\u8017\u3002 \u30102\u3011http\u8bf7\u6c42\u534f\u8bae\u4e0e\u54cd\u5e94\u534f\u8bae http\u534f\u8bae\u5305\u542b\u7531\u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\u5230\u670d\u52a1\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u4e0e\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u5230\u6d4f\u89c8\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u3002\u7528\u4e8eHTTP\u534f\u8bae\u4ea4\u4e92\u7684\u4fe1\u88ab\u4e3aHTTP\u62a5\u6587\u3002\u8bf7\u6c42\u7aef(\u5ba2\u6237\u7aef)\u7684HTTP\u62a5\u6587 \u505a\u8bf7\u6c42\u62a5\u6587,\u54cd\u5e94\u7aef(\u670d\u52a1\u5668\u7aef)\u7684 \u505a\u54cd\u5e94\u62a5\u6587\u3002HTTP\u62a5\u6587\u672c\u8eab\u662f\u7531\u591a\u884c\u6570\u636e\u6784\u6210\u7684\u5b57\u6587\u672c\u3002 \u4e00\u4e2a\u5b8c\u6574\u7684URL\u5305\u62ec\uff1a\u534f\u8bae\u3001ip\u3001\u7aef\u53e3\u3001\u8def\u5f84\u3001\u53c2\u6570 \uff08lagou\u7f51\uff09 \u8bf7\u6c42\u65b9\u5f0f: get\u4e0epost\u8bf7\u6c42 \u8bf7\u6c42\u534f\u8bae\u683c\u5f0f\uff1a \u54cd\u5e94\u534f\u8bae\u683c\u5f0f\uff1a \u30103\u3011get\u8bf7\u6c42\u548cpost\u8bf7\u6c42 HTTP \u534f\u8bae\u662f\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\uff08\u5982\u6d4f\u89c8\u5668\uff09\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u7684\u534f\u8bae\u3002\u5b83\u5b9a\u4e49\u4e86\u591a\u79cd\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5176\u4e2d\u6700\u5e38\u7528\u7684\u4e24\u79cd\u662f GET \u548c POST \u8bf7\u6c42\u3002\u4ee5\u4e0b\u662f\u5bf9\u8fd9\u4e24\u79cd\u8bf7\u6c42\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff1a GET \u8bf7\u6c42 \u5b9a\u4e49 \uff1aGET \u8bf7\u6c42\u7528\u4e8e\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u3002\u5b83\u662f\u65e0\u526f\u4f5c\u7528\u7684\uff0c\u5373\u4e0d\u4f1a\u5bf9\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90\u4ea7\u751f\u6539\u53d8\u3002 \u7279\u70b9\uff1a \u53c2\u6570\u4f20\u9012 \uff1a\u8bf7\u6c42\u53c2\u6570\u901a\u5e38\u9644\u52a0\u5728 URL \u4e2d\uff0c\u901a\u8fc7 ? \u548c & \u5206\u9694\u3002\u4f8b\u5982\uff1a https://example.com/api?name=John&age=30 \u3002 \u9650\u5236 \uff1aURL \u7684\u957f\u5ea6\u6709\u9650\u5236\uff0c\u8fd9\u901a\u5e38\u53d6\u51b3\u4e8e\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\uff0c\u5b9e\u73b0\u4e0a\u5927\u7ea6\u4e3a 2000 \u5b57\u7b26\uff0c\u56e0\u6b64\u4e0d\u9002\u5408\u4f20\u9012\u5927\u91cf\u6570\u636e\u3002 \u5b89\u5168\u6027 \uff1a\u56e0\u4e3a\u53c2\u6570\u5728 URL \u4e2d\u660e\u6587\u663e\u793a\uff0c\u6240\u4ee5 GET \u8bf7\u6c42\u4e0d\u9002\u5408\u4f20\u9012\u654f\u611f\u4fe1\u606f\uff08\u5982\u5bc6\u7801\uff09\u3002 POST \u8bf7\u6c42 \u5b9a\u4e49 \uff1aPOST \u8bf7\u6c42\u7528\u4e8e\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff0c\u901a\u5e38\u7528\u4e8e\u521b\u5efa\u6216\u66f4\u65b0\u8d44\u6e90\u3002 \u7279\u70b9\uff1a \u53c2\u6570\u4f20\u9012 \uff1a\u8bf7\u6c42\u53c2\u6570\u5305\u542b\u5728\u8bf7\u6c42\u4f53\u4e2d\uff0c\u800c\u4e0d\u662f URL \u4e2d\u3002\u8fd9\u4f7f\u5f97\u53ef\u4ee5\u4f20\u9012\u5927\u91cf\u6570\u636e\u3002 \u7075\u6d3b\u6027 \uff1a\u53ef\u4ee5\u5904\u7406\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\uff0c\u6bd4\u5982 JSON\u3001XML\u3001\u8868\u5355\u6570\u636e\u7b49\u3002 \u5b89\u5168\u6027 \uff1a\u867d\u7136 POST \u8bf7\u6c42\u6bd4 GET \u8bf7\u6c42\u66f4\u5b89\u5168\uff08\u56e0\u4e3a\u6570\u636e\u4e0d\u66b4\u9732\u5728 URL \u4e2d\uff09\uff0c\u4f46\u4ecd\u9700\u901a\u8fc7 HTTPS \u8fdb\u884c\u52a0\u5bc6\uff0c\u4ee5\u4fdd\u62a4\u654f\u611f\u4fe1\u606f\u3002 \u30104\u3011\u54cd\u5e94html\u548cjson\u6570\u636e\u7c7b\u578b \u30105\u3011\u6d41\u7a0b \u56db\u3001\u6d4f\u89c8\u5668\u5de5\u5177\u7684\u4f7f\u7528(\u91cd\u70b9) Chrome\u662f\u4e00\u6b3e\u975e\u5e38\u4f18\u79c0\u7684\u6d4f\u89c8\u5668. \u4e0d\u4ec5\u4ec5\u4f53\u73b0\u5728\u7528\u6237\u4f7f\u7528\u4e0a. \u5bf9\u4e8e\u6211\u4eec\u5f00\u53d1\u4eba\u5458\u800c\u8a00\u4e5f\u662f\u975e\u5e38\u975e\u5e38\u597d\u7528\u7684. \u5bf9\u4e8e\u4e00\u540d\u722c\u866b\u5de5\u7a0b\u5e08\u800c\u8a00. \u6d4f\u89c8\u5668\u662f\u6700\u80fd\u76f4\u89c2\u7684\u770b\u5230\u7f51\u9875\u60c5\u51b5\u4ee5\u53ca\u7f51\u9875\u52a0\u8f7d\u5185\u5bb9\u7684\u5730\u65b9. \u6211\u4eec\u53ef\u4ee5\u6309\u4e0bF12\u6765\u67e5\u770b\u4e00\u4e9b\u666e\u901a\u7528\u6237\u5f88\u5c11\u80fd\u4f7f\u7528\u5230\u7684\u5de5\u5177. \u5176\u4e2d, \u6700\u91cd\u8981\u7684Elements, Console, Sources, Network. Elements\u662f\u6211\u4eec\u5b9e\u65f6\u7684\u7f51\u9875\u5185\u5bb9\u60c5\u51b5, \u6ce8\u610f, \u5f88\u591a\u5144\u5f1f\u5c24\u5176\u5230\u4e86\u540e\u671f. \u975e\u5e38\u5bb9\u6613\u6df7\u6dc6Elements\u4ee5\u53ca\u9875\u9762\u6e90\u4ee3\u7801\u4e4b\u95f4\u7684\u5173\u7cfb. \u6ce8\u610f, \u9875\u9762\u6e90\u4ee3\u7801\u662f\u6267\u884cjs\u811a\u672c\u4ee5\u53ca\u7528\u6237\u64cd\u4f5c\u4e4b\u524d\u7684\u670d\u52a1\u5668\u8fd4\u56de\u7ed9\u6211\u4eec\u6700\u539f\u59cb\u7684\u5185\u5bb9 Elements\u4e2d\u770b\u5230\u7684\u5185\u5bb9\u662fjs\u811a\u672c\u4ee5\u53ca\u7528\u6237\u64cd\u4f5c\u4e4b\u540e\u7684\u5f53\u65f6\u7684\u9875\u9762\u663e\u793a\u6548\u679c. \u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a, \u4e00\u4e2a\u662f\u8001\u5e08\u6279\u6539\u4e4b\u524d\u7684\u5377\u5b50, \u4e00\u4e2a\u662f\u8001\u5e08\u6279\u6539\u4e4b\u540e\u7684\u5377\u5b50. \u867d\u7136\u90fd\u662f\u5377\u5b50. \u4f46\u662f\u5185\u5bb9\u662f\u4e0d\u4e00\u6837\u7684. \u800c\u6211\u4eec\u76ee\u524d\u80fd\u591f\u62ff\u5230\u7684\u90fd\u662f\u9875\u9762\u6e90\u4ee3\u7801. \u4e5f\u5c31\u662f\u8001\u5e08\u6279\u6539\u4e4b\u524d\u7684\u6837\u5b50. \u8fd9\u4e00\u70b9\u8981\u683c\u5916\u6ce8\u610f. \u5728Elements\u4e2d\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5de6\u4e0a\u89d2\u7684\u5c0f\u7bad\u5934.\u53ef\u4ee5\u76f4\u89c2\u7684\u770b\u5230\u6d4f\u89c8\u5668\u4e2d\u6bcf\u4e00\u5757\u4f4d\u7f6e\u5bf9\u5e94\u7684\u5f53\u524dhtml\u72b6\u51b5. \u8fd8\u662f\u5f88\u8d34\u5fc3\u7684. \u7b2c\u4e8c\u4e2a\u7a97\u53e3, Console\u662f\u7528\u6765\u67e5\u770b\u7a0b\u5e8f\u5458\u7559\u4e0b\u7684\u4e00\u4e9b\u6253\u5370\u5185\u5bb9, \u4ee5\u53ca\u65e5\u5fd7\u5185\u5bb9\u7684. \u6211\u4eec\u53ef\u4ee5\u5728\u8fd9\u91cc\u8f93\u5165\u4e00\u4e9bjs\u4ee3\u7801\u81ea\u52a8\u6267\u884c. \u7b49\u54b1\u4eec\u540e\u9762\u8bb2\u89e3js\u9006\u5411\u7684\u65f6\u5019\u4f1a\u7528\u5230\u8fd9\u91cc. \u7b2c\u4e09\u4e2a\u7a97\u53e3, Source, \u8fd9\u91cc\u80fd\u770b\u5230\u8be5\u7f51\u9875\u6253\u5f00\u65f6\u52a0\u8f7d\u7684\u6240\u6709\u5185\u5bb9. \u5305\u62ec\u9875\u9762\u6e90\u4ee3\u7801. \u811a\u672c. \u6837\u5f0f, \u56fe\u7247\u7b49\u7b49\u5168\u90e8\u5185\u5bb9. \u7b2c\u56db\u4e2a\u7a97\u53e3, Network, \u6211\u4eec\u4e00\u822c\u4e60\u60ef\u79f0\u547c\u5b83\u4e3a\u6293\u5305\u5de5\u5177. \u5728\u8fd9\u91cc, \u6211\u4eec\u80fd\u770b\u5230\u5f53\u524d\u7f51\u9875\u52a0\u8f7d\u7684\u6240\u6709\u7f51\u8def\u7f51\u7edc\u8bf7\u6c42, \u4ee5\u53ca\u8bf7\u6c42\u7684\u8be6\u7ec6\u5185\u5bb9. \u8fd9\u4e00\u70b9\u5bf9\u6211\u4eec\u722c\u866b\u6765\u8bf4\u81f3\u5173\u91cd\u8981. \u5176\u4ed6\u66f4\u52a0\u5177\u4f53\u7684\u5185\u5bb9. \u968f\u7740\u54b1\u4eec\u5b66\u4e60\u7684\u5c55\u5f00. \u4f1a\u9010\u4e00\u8fdb\u884c\u8bb2\u89e3. \u4e94\u3001http\u534f\u8bae 1\u3001 \u4ec0\u4e48\u662f\u534f\u8bae\uff1f\u53cc\u65b9\u89c4\u5b9a\u7684\u4f20\u8f93\u5f62\u5f0f \u6982\u8ff0 \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff08HTTP\uff0cHyperText Transfer Protocol)\u662f\u4e92\u8054\u7f51\u4e0a\u5e94\u7528\u6700\u4e3a\u5e7f\u6cdb\u7684\u4e00\u79cd\u7f51\u7edc\u534f\u8bae\u3002\u6240\u6709\u7684WWW\u6587\u4ef6\u90fd\u5fc5\u987b\u9075\u5b88\u8fd9\u4e2a\u6807\u51c6 http\u534f\u8bae\uff1a\u7f51\u7ad9\u539f\u7406 \u5e94\u7528\u5c42\u7684\u534f\u8bae ftp(21) \u5e38\u89c1\u7aef\u53e3\u53f7 http(80) https(443) ssh(22) mysql(3306) redis(6379) mongo(27017) 2\u3001HTTPS\u548cHTTP\u7684\u4e3b\u8981\u533a\u522b https://www.cnblogs.com/wqhwe/p/5407468.html https\u534f\u8bae\u9700\u8981\u5230ca\u7533\u8bf7\u8bc1\u4e66\uff0c\u4e00\u822c\u514d\u8d39\u8bc1\u4e66\u8f83\u5c11\uff0c\u56e0\u800c\u9700\u8981\u4e00\u5b9a\u8d39\u7528\u3002 http\u662f\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff0c\u4fe1\u606f\u662f\u660e\u6587\u4f20\u8f93\uff0chttps\u5219\u662f\u5177\u6709\u5b89\u5168\u6027\u7684ssl\u52a0\u5bc6\u4f20\u8f93\u534f\u8bae\u3002 http\u548chttps\u4f7f\u7528\u7684\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u8fde\u63a5\u65b9\u5f0f\uff0c\u7528\u7684\u7aef\u53e3\u4e5f\u4e0d\u4e00\u6837\uff0c\u524d\u8005\u662f80\uff0c\u540e\u8005\u662f443\u3002 http\u7684\u8fde\u63a5\u5f88\u7b80\u5355\uff0c\u662f\u65e0\u72b6\u6001\u7684\uff1bHTTPS\u534f\u8bae\u662f\u7531SSL+HTTP\u534f\u8bae\u6784\u5efa\u7684\u53ef\u8fdb\u884c\u52a0\u5bc6\u4f20\u8f93\u3001\u8eab\u4efd\u8ba4\u8bc1\u7684\u7f51\u7edc\u534f\u8bae\uff0c\u6bd4http\u534f\u8bae\u5b89\u5168\u3002 3\u3001\u8bf7\u6c42\u5305\u542b http\u534f\u8bae\u8be6\u89e3 https://www.cnblogs.com/10158wsj/p/6762848.html \u5305\u542b \u8bf7\u6c42\u884c\u3001\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u5185\u5bb9 \u8bf7\u6c42\u884c\uff1a get\u3001post\uff0c\u4ee5\u53ca\u533a\u522b \u5e38\u89c1\u8bf7\u6c42\u5934\uff1a accept:\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5b83\u6240\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b Accept-Charset: \u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5b83\u652f\u6301\u54ea\u79cd\u5b57\u7b26\u96c6 Accept-Encoding\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u652f\u6301\u7684\u538b\u7f29\u683c\u5f0f Accept-Language\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5b83\u7684\u8bed\u8a00\u73af\u5883 Host\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u60f3\u8bbf\u95ee\u54ea\u53f0\u4e3b\u673a If-Modified-Since: \u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u7f13\u5b58\u6570\u636e\u7684\u65f6\u95f4 Referer\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u673a\u662f\u54ea\u4e2a\u9875\u9762\u6765\u7684 \u9632\u76d7\u94fe Connection\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u8bf7\u6c42\u5b8c\u540e\u662f\u65ad\u5f00\u94fe\u63a5\u8fd8\u662f\u4f55\u6301\u94fe\u63a5 X-Requested-With: XMLHttpRequest \u4ee3\u8868\u901a\u8fc7ajax\u65b9\u5f0f\u8fdb\u884c\u8bbf\u95ee http\u54cd\u5e94\u5934\u90e8\u4fe1\u606f Location: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u6765\u544a\u8bc9\u6d4f\u89c8\u5668\u8df3\u5230\u54ea\u91cc Server\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u670d\u52a1\u5668\u7684\u578b\u53f7 Content-Encoding\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\uff0c\u6570\u636e\u7684\u538b\u7f29\u683c\u5f0f Content-Length: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u56de\u9001\u6570\u636e\u7684\u957f\u5ea6 Content-Language: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u8bed\u8a00\u73af\u5883 Content-Type\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u56de\u9001\u6570\u636e\u7684\u7c7b\u578b Refresh\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u5b9a\u65f6\u5237\u65b0 Content-Disposition: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u4ee5\u4e0b\u8f7d\u65b9\u5f0f\u6253\u6570\u636e Transfer-Encoding\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u6570\u636e\u662f\u4ee5\u5206\u5757\u65b9\u5f0f\u56de\u9001\u7684 Expires: -1 \u63a7\u5236\u6d4f\u89c8\u5668\u4e0d\u8981\u7f13\u5b58 Cache-Control: no-cache Pragma: no-cache 4\u3001\u5e38\u89c1HTTP\u72b6\u6001\u7801 100\uff1a\u8fd9\u4e2a\u72b6\u6001\u7801\u662f\u544a\u8bc9\u5ba2\u6237\u7aef\u5e94\u8be5\u7ee7\u7eed\u53d1\u9001\u8bf7\u6c42\uff0c\u8fd9\u4e2a\u4e34\u65f6\u54cd\u5e94\u662f\u7528\u6765\u901a\u77e5\u5ba2\u6237\u7aef\u7684\uff0c\u90e8\u5206\u7684\u8bf7\u6c42\u670d\u52a1\u5668\u5df2\u7ecf\u63a5\u53d7\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u5e94\u7ee7\u7eed\u53d1\u9001\u6c42\u8bf7\u6c42\u7684\u5269\u4f59\u90e8\u5206\uff0c\u5982\u679c\u8bf7\u6c42\u5df2\u7ecf\u5b8c\u6210\uff0c\u5c31\u5ffd\u7565\u8fd9\u4e2a\u54cd\u5e94\uff0c\u800c\u4e14\u670d\u52a1\u5668\u4f1a\u5728\u8bf7\u6c42\u5b8c\u6210\u540e\u5411\u5ba2\u6237\u53d1\u9001\u4e00\u4e2a\u6700\u7ec8\u7684\u7ed3\u679c 200\uff1a\u8fd9\u4e2a\u662f\u6700\u5e38\u89c1\u7684http\u72b6\u6001\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u5df2\u7ecf\u6210\u529f\u63a5\u53d7\u8bf7\u6c42\uff0c\u5e76\u5c06\u8fd4\u56de\u5ba2\u6237\u7aef\u6240\u8bf7\u6c42\u7684\u6700\u7ec8\u7ed3\u679c 202\uff1a\u8868\u793a\u670d\u52a1\u5668\u5df2\u7ecf\u63a5\u53d7\u4e86\u8bf7\u6c42\uff0c\u4f46\u662f\u8fd8\u6ca1\u6709\u5904\u7406\uff0c\u800c\u4e14\u8fd9\u4e2a\u8bf7\u6c42\u6700\u7ec8\u4f1a\u4e0d\u4f1a\u5904\u7406\u8fd8\u4e0d\u786e\u5b9a 204\uff1a\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\uff0c\u4f46\u6ca1\u6709\u8fd4\u56de\u4efb\u4f55\u5b9e\u4f53\u5185\u5bb9 \uff0c\u53ef\u80fd\u4f1a\u8fd4\u56de\u65b0\u7684\u5934\u90e8\u5143\u4fe1\u606f 301\uff1a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u7f51\u9875\u5df2\u7ecf\u6c38\u4e45\u79fb\u52a8\u5230\u65b0\u7684\u4f4d\u7f6e\uff0c\u5f53\u94fe\u63a5\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u8fd4\u56de301\u4ee3\u7801\u544a\u8bc9\u5ba2\u6237\u7aef\u94fe\u63a5\u7684\u53d8\u5316\uff0c\u5ba2\u6237\u7aef\u4fdd\u5b58\u65b0\u7684\u94fe\u63a5\uff0c\u5e76\u5411\u65b0\u7684\u94fe\u63a5\u53d1\u51fa\u8bf7\u6c42\uff0c\u5df2\u8fd4\u56de\u8bf7\u6c42\u7ed3\u679c 404\uff1a\u8bf7\u6c42\u5931\u8d25\uff0c\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8d44\u6e90\u6ca1\u6709\u627e\u5230\u6216\u8005\u662f\u4e0d\u5b58\u5728 500\uff1a\u670d\u52a1\u5668\u9047\u5230\u672a\u77e5\u7684\u9519\u8bef\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5b8c\u6210\u5ba2\u6237\u7aef\u5f53\u524d\u7684\u8bf7\u6c42\u3002 503\uff1a\u670d\u52a1\u5668\u7531\u4e8e\u4e34\u65f6\u7684\u670d\u52a1\u5668\u8fc7\u8f7d\u6216\u8005\u662f\u7ef4\u62a4\uff0c\u65e0\u6cd5\u89e3\u51b3\u5f53\u524d\u7684\u8bf7\u6c42\uff0c\u4ee5\u4e0ahttp\u72b6\u6001\u7801\u662f\u670d\u52a1\u5668\u7ecf\u5e38\u8fd4\u56de\u7684\u72b6\u6001\u4ee3\u7801\uff0c\u7528\u6237\u53ea\u80fd\u901a\u8fc7\u6d4f\u89c8\u5668\u7684\u72b6\u6001\u4e86\u89e3\u670d\u52a1\u5668\u662f\u5426\u6b63\u5e38\u8fd0\u884c\uff0c\u4e00\u822c\u9664\u4e86\u9519\u8bef\u7684\u72b6\u6001\u7801\uff0c\u90fd\u4e0d\u4f1a\u770b\u5230\u670d\u52a1\u5668\u7684\u72b6\u6001\u7801\u7684\uff0c\u65b0SEOer\u4f60\u4eec\u4e86\u89e3\u5230\u4e86\u5417\uff1f\u5185\u5bb9\u7f16\u8f91\u6765\u81ea51\u7279\u8272\u8d2dSEO\u4f18\u5316\u4eba\u5458\uff0c\u60f3\u4e86\u89e3\u66f4\u8fc7\u72b6\u6001\u7801\u7684\u77e5\u8bc6\u53ef\u4ee5\u52a0\u6211\u597d\u53cb\uff0c\u4e00\u8d77\u76f8\u4e92\u4ea4\u6d41\u5b66\u4e60 \u516d\u3001\u722c\u866b\u51c6\u5907\u5de5\u4f5c 1\u3001 fiddler \u4e00\u4e2a\u7f51\u9875\u7684\u5448\u73b0\uff0c\u4e2d\u95f4\u4e0d\u6b62\u4e00\u6b21http\u8bf7\u6c42\uff0c\u5e73\u5747\u4e00\u4e2a\u7f51\u9875\u5dee\u4e0d\u591a10-15\u4e2ahttp\u8bf7\u6c42 \u914d\u7f6ehttps \u70b9\u51fbTools-->options--->https--->\u9009\u4e2d\u9762\u677f\u4e0b Capture Https CONNECTS Decrypt Https Traffic Ignore \u590d\u9009\u6846\u540e\uff0c\u5c06Fiddler\u91cd\u542f\u5373\u53ef fiddler\u754c\u9762\u4ecb\u7ecd Fiddler\u83dc\u5355\u680f \u5305\u62ec\u6355\u83b7http\u8bf7\u6c42\uff0c\u505c\u6b62\u6355\u83b7\u8bf7\u6c42\uff0c\u4fdd\u5b58http\u8bf7\u6c42\uff0c\u8f7d\u5165\u672c\u5730session\u3001\u8bbe\u7f6e\u6355\u83b7\u89c4\u5219\u7b49\u529f\u80fd Fiddler\u7684\u5de5\u5177\u680f \u5305\u62ecFiddler\u9488\u5bf9\u5f53\u524dview\u7684\u64cd\u4f5c\uff08\u6682\u505c\uff0c\u6e05\u9664session,decode\u6a21\u5f0f\u3001\u6e05\u9664\u7f13\u5b58\u7b49\uff09 Web Session\u9762\u677f \u4e3b\u8981\u662fFiddler\u6293\u53d6\u5230\u7684\u6bcf\u6761http\u8bf7\u6c42\uff08\u6bcf\u4e00\u6761\u79f0\u4e3a\u4e00\u4e2asession\uff09,\u4e3b\u8981\u5305\u542b\u4e86\u8bf7\u6c42\u7684url\uff0c\u534f\u8bae\uff0c\u72b6\u6001\u7801\uff0cbody\u7b49\u4fe1\u606f \u8be6\u60c5\u548c\u6570\u636e\u7edf\u8ba1\u677f \u9488\u5bf9\u6bcf\u6761http\u8bf7\u6c42\u7684\u5177\u4f53\u7edf\u8ba1\uff08\u4f8b\u5982\u53d1\u9001/\u63a5\u53d7\u5b57\u8282\u6570\uff0c\u53d1\u9001/\u63a5\u6536\u65f6\u95f4\uff0c\u8fd8\u6709\u7c97\u7565\u7edf\u8ba1\u4e16\u754c\u5404\u5730\u8bbf\u95ee\u8be5\u670d\u52a1\u5668\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff09\u548c\u6570\u636e\u5305\u5206\u6790\u3002\u5982inspector\u9762\u677f\u4e0b\uff0c\u63d0\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f Inspector \u63d0\u4f9b\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f,\u5206\u4e3a\u4e0a\u4e0b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e0a\u534a\u90e8\u5206\u662f\u8bf7\u6c42\u5934\u90e8\u5206\uff0c\u4e0b\u534a\u90e8\u5206\u662f\u54cd\u5e94\u5934\u90e8\u5206\u3002 ImageView\u6807\u7b7e JPG \u683c\u5f0f\u4f7f\u7528 ImageView \u5c31\u53ef\u4ee5\u770b\u5230\u56fe\u7247 TextView \u6807\u7b7e HTML/JS/CSS \u4f7f\u7528 TextView \u53ef\u4ee5\u770b\u5230\u54cd\u5e94\u7684\u5185\u5bb9\u3002\u9009\u62e9\u4e00\u6761Content-Type\u662ftext/html\u7684\u4f1a\u8bdd Raw\u6807\u7b7e Raw\u6807\u7b7e\u53ef\u4ee5\u67e5\u770b\u54cd\u5e94\u62a5\u6587\u548c\u54cd\u5e94\u6b63\u6587,\u4f46\u662f\u4e0d\u5305\u542b\u8bf7\u6c42\u62a5\u6587 Cookies\u6807\u7b7e Cookies\u6807\u7b7e\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42\u7684cookie\u548c\u54cd\u5e94\u7684set-cookie\u5934\u4fe1\u606f\u3002 WebForms post\u8bf7\u6c42\u6240\u6709\u8868\u5355\u6570\u636e Headers \u8bf7\u6c42\u5934\u548c\u54cd\u5e94\u5934\u4fe1\u606f Json\\XML Json\u6216XML\u683c\u5f0f\u7684\u6570\u636e Statistics\u9762\u677f HTTP\u8bf7\u6c42\u7684\u6027\u80fd\u548c\u5176\u4ed6\u6570\u636e\u5206\u6790 composer\u9762\u677f \u53ef\u4ee5\u6a21\u62df\u5411\u76f8\u5e94\u7684\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u7684\u8fc7\u7a0b Filters\u9762\u677f Filter\u6807\u7b7e\u5219\u53ef\u4ee5\u8bbe\u7f6eFiddler\u7684\u8fc7\u6ee4\u89c4\u5219\uff0c\u6765\u8fbe\u5230\u8fc7\u6ee4http\u8bf7\u6c42\u7684\u76ee\u7684\u3002\u6700\u7b80\u5355\u5982\uff1a\u8fc7\u6ee4\u5185\u7f51http\u8bf7\u6c42\u800c\u53ea\u6293\u53d6internet\u7684http\u8bf7\u6c42\uff0c\u6216\u5219\u8fc7\u6ee4\u76f8\u5e94\u57df\u540d\u7684http\u8bf7\u6c42\u3002Fiddler\u7684\u8fc7\u6ee4\u5668\u975e\u5e38\u5f3a\u5927\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9ahttp\u72b6\u6001\u7801\u7684\u8bf7\u6c42\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9a\u8bf7\u6c42\u7c7b\u578b\u7684http\u8bf7\u6c42\uff08\u5982css\u8bf7\u6c42\uff0cimage\u8bf7\u6c42\uff0cjs\u8bf7\u6c42\u7b49\uff09\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u8bf7\u6c42\u62a5\u6587\u5927\u4e8e\u6216\u5219\u5c0f\u4e8e\u6307\u5b9a\u5927\u5c0f\uff08byte\uff09\u7684\u8bf7\u6c42 \u5173\u95edfiddler \u5de6\u4e0a\u89d2File,\u53cd\u9009Capture Traffic WebSession\u8fc7\u6ee4\u529f\u80fd \u70b9\u51fb\u5de5\u5177\u680f\u4e2d\u7684X\u7b26\u53f7 WebSession\u9009\u62e9\u529f\u80fd \u5de6\u4e0b\u89d2\u7684\u9ed1\u8272\u5bf9\u8bdd\u6846 select json\\html\\image cls\u6e05\u9664\u6240\u6709\u8bf7\u6c42 ?xxx\u641c\u7d22 \u8c37\u6b4c\u6d4f\u89c8\u5668 mac \u9752\u82b1\u74f7 mac\u7248\u5b89\u88c5\uff1ahttp://www.cocoachina.com/apple/20170704/19729.html","title":"\u516d\u3001\u722c\u866b\u5165\u95e8"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#_1","text":"","title":"\u516d\u3001\u722c\u866b\u5165\u95e8"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#_2","text":"","title":"\u4e00\u3001\u722c\u866b\u6982\u5ff5"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#1","text":"\u7a0b\u5e8f\u733f\uff1a\u5199\u7a0b\u5e8f\uff0c\u7136\u540e\u53bb\u4e92\u8054\u7f51\u4e0a\u6293\u53d6\u6570\u636e\u7684\u8fc7\u7a0b \u4e92\u8054\u7f51\uff1a\u7f51\uff0c\u6709\u597d\u591a\u7684a\u94fe\u63a5\u7ec4\u6210\u7684\uff0c\u7f51\u7684\u8282\u70b9\u5c31\u662f\u6bcf\u4e00\u4e2aa\u94fe\u63a5 url\uff08\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff09","title":"1\u3001\u4ec0\u4e48\u662f\u722c\u866b\uff1f"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#2","text":"php\uff0c\u53ef\u4ee5\u505a\uff0c\u53f7\u79f0\u4e16\u754c\u4e0a\u6700\u4f18\u7f8e\u7684\u8bed\u8a00\uff0c\u591a\u8fdb\u7a0b\u3001\u591a\u7ebf\u7a0b\u652f\u6301\u7684\u4e0d\u597d java\uff0c\u4e5f\u53ef\u4ee5\u505a\u722c\u866b\uff0c\u4eba\u5bb6\u505a\u7684\u5f88\u597d\uff0c\u6700\u4e3b\u8981\u7684\u7ade\u4e89\u5bf9\u624b\uff0c\u4ee3\u7801\u81c3\u80bf\uff0c\u91cd\u6784\u6210\u672c\u5927 c\u3001c++\uff0c\u662f\u4f60\u80fd\u529b\u7684\u4f53\u73b0\uff0c\u4e0d\u662f\u826f\u597d\u7684\u9009\u62e9 python\uff0c\u4e16\u754c\u4e0a\u6700\u7f8e\u4e3d\u7684\u8bed\u8a00\uff0c\u8bed\u6cd5\u7b80\u5355\u3001\u4ee3\u7801\u4f18\u7f8e\uff0c\u5b66\u4e60\u6210\u672c\u4f4e\uff0c\u652f\u6301\u7684\u6a21\u5757\u591a\uff0c\u975e\u5e38\u5f3a\u5927\u7684\u6846\u67b6scrapy","title":"2\u3001\u54ea\u4e9b\u8bed\u8a00\u53ef\u4ee5\u5b9e\u73b0\u722c\u866b\uff1f"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#3","text":"\u901a\u7528\u722c\u866b \u5b9e\u4f8b \u767e\u5ea6\u3001360\u3001google\u3001sougou\u7b49\u641c\u7d22\u5f15\u64ce \u5c06\u7f51\u4e0a\u7684\u6240\u6709\u6570\u636e\u8fdb\u884c\u722c\u53d6\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u540d\uff0c\u641c\u7d22\u4e4b\u540e\u4f1a\u6309\u6392\u540d\u5c55\u793a\u6570\u636e \u529f\u80fd \u8bbf\u95ee\u7f51\u9875->\u6293\u53d6\u6570\u636e->\u6570\u636e\u5b58\u50a8->\u6570\u636e\u5904\u7406->\u63d0\u4f9b\u68c0\u7d22\u670d\u52a1 \u6293\u53d6\u6d41\u7a0b \u7ed9\u5b9a\u4e00\u4e9b\u8d77\u59cb\u7684URL\uff0c\u653e\u5165\u5f85\u722c\u53d6\u961f\u5217 \u5f88\u591a\u7f51\u9875\u90fd\u6709\u53cb\u60c5\u94fe\u63a5\uff0c\u5982\u679c\u722c\u866b\u6f2b\u65e0\u76ee\u7684\u7684\u722c\u53d6\u6570\u636e\u4f1a\u722c\u5230\u5176\u4ed6\u7f51\u7ad9\uff0c\u4e0d\u540c\u7684\u7f51\u7ad9\u90fd\u4f1a\u5b58\u5728\u4e0d\u540c\u7684\u5916\u90e8\u94fe\u63a5\uff0c\u6240\u4ee5\u6709\u53ef\u80fd\u4f1a\u91cd\u590d\uff0c\u4ece\u961f\u5217\u4e2d\u83b7\u53d6\u53ef\u4ee5\u907f\u514d\u91cd\u590d\u7f51\u5740\u7684\u722c\u53d6 \u4ece\u961f\u5217\u4e2d\u83b7\u53d6url\u5bf9\u8c61\uff0c\u5f00\u59cb\u722c\u53d6\u6570\u636e \u5206\u6790\u7f51\u9875\uff0c\u83b7\u53d6\u7f51\u9875\u5185\u7684\u6240\u6709url\uff0c\u5165\u961f\uff0c\u7ee7\u7eed\u91cd\u590d\u6267\u884c\u7b2c\u4e8c\u6b65 \u641c\u7d22\u5f15\u64ce\u5982\u4f55\u83b7\u53d6\u65b0\u7f51\u7ad9\u94fe\u63a5 \u4e3b\u52a8\u7ed9\u641c\u7d22\u5f15\u64ce\u63d0\u4ea4url \u5728\u5176\u4ed6\u7f51\u7ad9\u4e2d\u8bbe\u7f6e\u53cb\u60c5\u94fe\u63a5 \u767e\u5ea6\u548cDNS\u670d\u52a1\u5546\u5408\u4f5c\uff0c\u53ea\u8981\u6709\u57df\u540d\uff0c\u5c31\u4f1a\u6536\u5f55\u65b0\u7f51\u7ad9 robots\u534f\u8bae \u4e00\u4e2a\u7ea6\u5b9a\u4fd7\u6210\u7684\u534f\u8bae\uff0c\u6dfb\u52a0robots.txt\u6587\u4ef6\uff0c\u6765\u8bf4\u660e\u672c\u7f51\u7ad9\u54ea\u4e9b\u5185\u5bb9\u4e0d\u53ef\u4ee5\u88ab\u6293\u53d6\uff0c\u8d77\u4e0d\u5230\u9650\u5236\u4f5c\u7528 \u81ea\u5df1\u5199\u7684\u722c\u866b\u65e0\u9700\u9075\u5b88 \u7f51\u7ad9\u6392\u540d(SEO) \u4e00\u822c\u516c\u53f8\u4f1a\u6709SEO\u4eba\u5458\u8d1f\u8d23\u81ea\u5df1\u5b98\u7f51\u7684\u7f51\u7ad9\u6392\u540d SEM \u6839\u636epagerank\u503c\u8fdb\u884c\u6392\u540d\uff08\u53c2\u8003\u4e2a\u7f51\u7ad9\u6d41\u91cf\u3001\u70b9\u51fb\u7387\u7b49\u6307\u6807\uff09 \u767e\u5ea6\u7ade\u4ef7\u6392\u540d\uff0c\u94b1\u591a\u5c31\u662f\u7238\u7238 \u7f3a\u70b9 \u6293\u53d6\u7684\u6570\u636e\u5927\u591a\u662f\u65e0\u7528\u7684 2.\u4e0d\u80fd\u6839\u636e\u7528\u6237\u7684\u9700\u6c42\u6765\u7cbe\u51c6\u83b7\u53d6\u6570\u636e \u805a\u7126\u722c\u866b \u529f\u80fd \u6839\u636e\u9700\u6c42\uff0c\u5b9e\u73b0\u722c\u866b\u7a0b\u5e8f\uff0c\u6293\u53d6\u9700\u8981\u7684\u6570\u636e \u539f\u7406 1.\u7f51\u9875\u90fd\u6709\u81ea\u5df1\u552f\u4e00\u7684url(\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff09 2.\u7f51\u9875\u90fd\u662fhtml\u7ec4\u6210 3.\u4f20\u8f93\u534f\u8bae\u90fd\u662fhttp\\https \u8bbe\u8ba1\u601d\u8def 1.\u786e\u5b9a\u8981\u722c\u53d6\u7684url \u5982\u4f55\u83b7\u53d6Url 2.\u6a21\u62df\u6d4f\u89c8\u5668\u901a\u8fc7http\u534f\u8bae\u8bbf\u95eeurl\uff0c\u83b7\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u7684html\u4ee3\u7801 \u5982\u4f55\u8bbf\u95ee 3.\u89e3\u6790html\u5b57\u7b26\u4e32\uff08\u6839\u636e\u4e00\u5b9a\u89c4\u5219\u63d0\u53d6\u9700\u8981\u7684\u6570\u636e\uff09 \u5982\u4f55\u89e3\u6790 \u589e\u91cf\u722c\u866b \u6570\u636e\u91cf\u5927\u7684\u95ee\u9898\u7684\u4e00\u822c\u89e3\u51b3\u601d\u8def \u4f18\u5316\u7cfb\u7edf\u7684\u80fd\u529b\uff0c\u5373\u6267\u884c\u6548\u7387\u63d0\u9ad8 \u5e76\u884c\u3001\u5206\u5e03\u5f0f\u3001\u96c6\u7fa4 \u63d0\u9ad8\u7cfb\u7edf\u7684\u5de5\u4f5c\u6548\u7387\uff0c\u5373\u964d\u4f4e\u8fd0\u7b97\u6210\u672c \u4f18\u5316\u7b97\u6cd5\u3001\u964d\u4f4e\u7b97\u6cd5\u590d\u6742\u5ea6 \u65f6\u95f4\u590d\u6742\u5ea6 \u7a7a\u95f4\u590d\u6742\u5ea6 \u601d\u8003\uff1a\u5982\u679c\u6570\u636e\u5e93\u4e2d\u67093\u4ebf\u6761\u6570\u636e\uff0c\u5982\u4f55\u89e3\u51b3\uff1f \u589e\u91cf\u722c\u866b\uff1a \u5c5e\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u5de5\u4f5c\u6548\u7387\u7684\u4e00\u79cd\u89e3\u51b3\u601d\u8def \u5373\uff1a\u5982\u679c\u7f51\u7ad9\u5185\u5bb9\u66f4\u65b0\uff0c\u518d\u6b21\u722c\u53d6\u65f6\u4e0d\u518d\u722c\u53d6\u91cd\u590d\u7684\u4fe1\u606f \u6982\u5ff5\uff1a\u7f51\u7ad9\u5185\u5bb9\u7684\u65b0\u589e\uff08\u5305\u62ec\u6570\u636e\u7684\u65b0\u589e\u548c\u9875\u9762\u7684\u65b0\u589e\uff09\u79f0\u4e4b\u4e3a\u589e\u91cf\u3002\u722c\u53d6\u8fc7\u7a0b\u79f0\u4e3a\u589e\u91cf\u722c\u866b\u3002 \u8bbe\u8ba1\u601d\u8def\uff08\u53bb\u91cd\uff09\uff1a \u5728\u53d1\u9001\u8bf7\u6c42\u524d\u5224\u65ad\u6b64url\u662f\u5426\u722c\u53d6\u8fc7 \u5728\u89e3\u6790\u5185\u5bb9\u540e\u5224\u65ad\u8fd9\u90e8\u5206\u5185\u5bb9\u662f\u5426\u722c\u53d6\u8fc7 \u5199\u5165\u5b58\u50a8\u7a7a\u95f4\u65f6\u5224\u65ad\u5185\u5bb9\u662f\u5426\u5b58\u5728 eg. \u4f7f\u7528hash\u503c\u751f\u6210\u6570\u636e\u6307\u7eb9\u6765\u53bb\u91cd\uff0c\u9ad8\u6548\uff0c\u8282\u7701\u65f6\u95f4 eg. \u4f7f\u7528Redis\u6570\u636e\u5e93\u7684\u96c6\u5408\u7c7b\u578b\u5b58\u50a8\u6570\u636e\uff0c\u5177\u6709\u65e0\u5e8f\u4e0d\u91cd\u590d\u7684\u7279\u70b9","title":"3\u3001\u722c\u866b\u5206\u7c7b"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#4","text":"\u6df1\u5ea6\u4f18\u5148\uff1a \u6307\u7f51\u7edc\u722c\u866b\u4f1a\u4ece\u8d77\u59cb\u9875\u5f00\u59cb\uff0c\u4e00\u4e2a\u94fe\u63a5\u4e00\u4e2a\u94fe\u63a5\u8ddf\u8e2a\u4e0b\u53bb\uff0c\u5904\u7406\u5b8c\u8fd9\u6761\u7ebf\u8def\u4e4b\u540e\u518d\u8f6c\u5165\u4e0b\u4e00\u4e2a\u8d77\u59cb\u9875\uff0c\u7ee7\u7eed\u8ffd\u8e2a\u94fe\u63a5 \u8fd9\u91cc\u662f\u6df1\u5ea6\u4f18\u5148\uff0c\u6240\u4ee5\u8fd9\u91cc\u7684\u722c\u53d6\u7684\u987a\u5e8f\u5f0f\uff1a A-B-D-E-I-C-F-G-H (\u9012\u5f52\u5b9e\u73b0) \u57fa\u672c\u601d\u8def\u90fd\u662f\u6df1\u5ea6\u4f18\u5148\uff0c\u5305\u62ecscrapy \u5e7f\u5ea6\u4f18\u5148\uff1a \u4e5f\u53eb\u5bbd\u5ea6\u4f18\u5148\uff0c\u662f\u6307\u5c06\u65b0\u4e0b\u8f7d\u7f51\u9875\u53d1\u73b0\u7684\u94fe\u63a5\u76f4\u63a5\u63d2\u5165\u5230\u5f85\u6293\u53d6URL\u961f\u5217\u7684\u672b\u5c3e\uff0c\u4e5f\u5c31\u662f\u6307\u7f51\u7edc\u722c\u866b\u4f1a\u5148\u6293\u53d6\u8d77\u59cb\u9875\u4e2d\u7684\u6240\u6709\u7f51\u9875\uff0c\u7136\u540e\u5728\u9009\u62e9\u5176\u4e2d\u7684\u4e00\u4e2a\u8fde\u63a5\u7f51\u9875\uff0c\u7ee7\u7eed\u6293\u53d6\u5728\u6b64\u7f51\u9875\u4e2d\u94fe\u63a5\u7684\u6240\u6709\u7f51\u9875 \u8fd9\u4e2a\u56fe\u4e3a\u4f8b\u5b50\uff0c\u5e7f\u5ea6\u4f18\u5148\u7684\u722c\u53d6\u987a\u5e8f\u4e3a\uff1a A-B-C-D-E-F-G-H-I (\u961f\u5217\u5b9e\u73b0)","title":"4\u3001\u6df1\u5ea6\u4f18\u5148\u548c\u5e7f\u5ea6\u4f18\u5148"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#_3","text":"","title":"\u4e8c\u3001\u6574\u4f53\u5185\u5bb9"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#1python","text":"","title":"1\u3001python\u8bed\u6cd5"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#2python","text":"urllib.request urllib.parse requests","title":"2\u3001\u4f7f\u7528\u7684python\u5e93"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#3_1","text":"\u6b63\u5219\u8868\u8fbe\u5f0f xpath \u63a8\u8350\u4f7f\u7528xpath bs4 jsonpath","title":"3\u3001\u89e3\u6790\u5185\u5bb9"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#4html","text":"\u56e0\u4e3a\u6240\u6709\u7684\u7f51\u7ad9\u90fd\u4e0d\u6b62\u5b58\u5728\u4e00\u4e2a\u8bf7\u6c42\uff08js.csss\u7b49\u52a8\u6001\u8bf7\u6c42\uff09\uff0c\u5982\u679c\u4ec5\u4ec5\u5bf9\u7f51\u7ad9\u9996\u9875\u53d1\u9001\u8bf7\u6c42\uff0c\u4f1a\u5bfc\u81f4\u7f51\u7ad9\u5185\u5bb9\u63a5\u53d7\u4e0d\u5168 \u89e3\u51b3\u65b9\u6848\uff1a\u6a21\u62df\u6d4f\u89c8\u5668\u8fdb\u884c\u8bbf\u95ee selenium+headless","title":"4\u3001\u91c7\u96c6\u52a8\u6001html"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#5scrapy","text":"\u9ad8\u6027\u80fd\u5f02\u6b65\u7f51\u7edc\u722c\u866b\u6846\u67b6","title":"5\u3001scrapy"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#6","text":"scrapy-redis\u7ec4\u4ef6 \u5728scrapy\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u4e00\u5957\u7ec4\u4ef6\uff0c\u7ed3\u5408redis\u8fdb\u884c\u5b58\u50a8\u7b49\u529f\u80fd","title":"6\u3001\u5206\u5e03\u5f0f\u722c\u866b"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#7","text":"\u722c\u866b\u9879\u76ee\u6700\u590d\u6742\u7684\u4e0d\u662f\u9875\u9762\u4fe1\u606f\u7684\u63d0\u53d6\uff0c\u53cd\u800c\u662f\u722c\u866b\u4e0e\u53cd\u722c\u866b\u3001\u53cd\u53cd\u722c\u866b\u7684\u535a\u5f08\u8fc7\u7a0b User-Agent \u6d4f\u89c8\u5668\u7684\u6807\u5fd7\u4fe1\u606f\uff0c\u4f1a\u901a\u8fc7\u8bf7\u6c42\u5934\u4f20\u9012\u7ed9\u670d\u52a1\u5668\uff0c\u7528\u4ee5\u8bf4\u660e\u8bbf\u95ee\u6570\u636e\u7684\u6d4f\u89c8\u5668\u4fe1\u606f \u53cd\u722c\u866b\uff1a\u5148\u68c0\u67e5\u662f\u5426\u6709UA\uff0c\u6216\u8005UA\u662f\u5426\u5408\u6cd5 \u4ee3\u7406IP \u897f\u6b21\u4ee3\u7406 \u9a8c\u8bc1\u7801\u8bbf\u95ee \u628a\u9a8c\u8bc1\u7801\u56fe\u7247\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7136\u540e\u624b\u52a8\u8f93\u5165 \u6253\u7801\u5e73\u53f0 \u52a8\u6001\u52a0\u8f7d\u7f51\u9875 \u6570\u636e\u52a0\u5bc6 \u5206\u6790js\u4ee3\u7801 \u722c\u866b-\u53cd\u722c\u866b-\u53cd\u53cd\u722c\u866b","title":"7\u3001\u53cd\u722c\u866b\u7684\u4e00\u822c\u624b\u6bb5"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#web","text":"","title":"\u4e09\u3001web\u8bf7\u6c42\u5168\u8fc7\u7a0b\u5256\u6790(\u91cd\u70b9)"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#1_1","text":"\u4e0a\u4e00\u5c0f\u8282\u6211\u4eec\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7f51\u9875\u7684\u6574\u4f53\u6293\u53d6\u5de5\u4f5c. \u90a3\u4e48\u672c\u5c0f\u8282, \u7ed9\u5404\u4f4d\u597d\u597d\u5256\u6790\u4e00\u4e0bweb\u8bf7\u6c42\u7684\u5168\u90e8\u8fc7\u7a0b, \u8fd9\u6837\u6709\u52a9\u4e8e\u540e\u9762\u6211\u4eec\u9047\u5230\u7684\u5404\u79cd\u5404\u6837\u7684\u7f51\u7ad9\u5c31\u6709\u4e86\u5165\u624b\u7684\u57fa\u672c\u51c6\u5219\u4e86. \u90a3\u4e48\u5230\u5e95\u6211\u4eec\u6d4f\u89c8\u5668\u5728\u8f93\u5165\u5b8c\u7f51\u5740\u5230\u6211\u4eec\u770b\u5230\u7f51\u9875\u7684\u6574\u4f53\u5185\u5bb9, \u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u7a76\u7adf\u53d1\u751f\u4e86\u4e9b\u4ec0\u4e48? \u8fd9\u91cc\u6211\u4eec\u4ee5\u767e\u5ea6\u4e3a\u4f8b. \u5728\u8bbf\u95ee\u767e\u5ea6\u7684\u65f6\u5019, \u6d4f\u89c8\u5668\u4f1a\u628a\u8fd9\u4e00\u6b21\u8bf7\u6c42\u53d1\u9001\u5230\u767e\u5ea6\u7684\u670d\u52a1\u5668(\u767e\u5ea6\u7684\u4e00\u53f0\u7535\u8111), \u7531\u670d\u52a1\u5668\u63a5\u6536\u5230\u8fd9\u4e2a\u8bf7\u6c42, \u7136\u540e\u52a0\u8f7d\u4e00\u4e9b\u6570\u636e. \u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668, \u518d\u7531\u6d4f\u89c8\u5668\u8fdb\u884c\u663e\u793a. \u542c\u8d77\u6765\u597d\u50cf\u662f\u4e2a\u5e9f\u8bdd...\u4f46\u662f\u8fd9\u91cc\u8574\u542b\u7740\u4e00\u4e2a\u6781\u4e3a\u91cd\u8981\u7684\u4e1c\u897f\u5728\u91cc\u9762, \u6ce8\u610f, \u767e\u5ea6\u7684\u670d\u52a1\u5668\u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668\u7684\u4e0d\u76f4\u63a5\u662f\u9875\u9762, \u800c\u662f\u9875\u9762\u6e90\u4ee3\u7801(\u7531html, css, js\u7ec4\u6210). \u7531\u6d4f\u89c8\u5668\u628a\u9875\u9762\u6e90\u4ee3\u7801\u8fdb\u884c\u6267\u884c, \u7136\u540e\u628a\u6267\u884c\u4e4b\u540e\u7684\u7ed3\u679c\u5c55\u793a\u7ed9\u7528\u6237. \u6240\u4ee5\u6211\u4eec\u80fd\u770b\u5230\u5728\u4e0a\u4e00\u8282\u7684\u5185\u5bb9\u4e2d,\u6211\u4eec\u62ff\u5230\u7684\u662f\u767e\u5ea6\u7684\u6e90\u4ee3\u7801(\u5c31\u662f\u90a3\u5806\u770b\u4e0d\u61c2\u7684\u9b3c\u4e1c\u897f). \u5177\u4f53\u8fc7\u7a0b\u5982\u56fe. \u63a5\u4e0b\u6765\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u4e8b\u60c5\u4e86. \u6240\u6709\u7684\u6570\u636e\u90fd\u5728\u9875\u9762\u6e90\u4ee3\u7801\u91cc\u4e48? \u975e\u4e5f~ \u8fd9\u91cc\u8981\u4ecb\u7ecd\u4e00\u4e2a\u65b0\u7684\u6982\u5ff5 \u90a3\u5c31\u662f\u9875\u9762\u6e32\u67d3\u6570\u636e\u7684\u8fc7\u7a0b, \u6211\u4eec\u5e38\u89c1\u7684\u9875\u9762\u6e32\u67d3\u8fc7\u7a0b\u6709\u4e24\u79cd, \u670d\u52a1\u5668\u6e32\u67d3, \u4f60\u9700\u8981\u7684\u6570\u636e\u76f4\u63a5\u5728\u9875\u9762\u6e90\u4ee3\u7801\u91cc\u80fd\u641c\u5230 \u8fd9\u4e2a\u6700\u5bb9\u6613\u7406\u89e3, \u4e5f\u662f\u6700\u7b80\u5355\u7684. \u542b\u4e49\u5462\u5c31\u662f\u6211\u4eec\u5728\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u7684\u65f6\u5019, \u670d\u52a1\u5668\u76f4\u63a5\u628a\u6570\u636e\u5168\u90e8\u5199\u5165\u5230html\u4e2d, \u6211\u4eec\u6d4f\u89c8\u5668\u5c31\u80fd\u76f4\u63a5\u62ff\u5230\u5e26\u6709\u6570\u636e\u7684html\u5185\u5bb9. \u6bd4\u5982, \u7531\u4e8e\u6570\u636e\u662f\u76f4\u63a5\u5199\u5728html\u4e2d\u7684, \u6240\u4ee5\u6211\u4eec\u80fd\u770b\u5230\u7684\u6570\u636e\u90fd\u5728\u9875\u9762\u6e90\u4ee3\u7801\u4e2d\u80fd\u627e\u7684\u5230\u7684. \u8fd9\u79cd\u7f51\u9875\u4e00\u822c\u90fd\u76f8\u5bf9\u6bd4\u8f83\u5bb9\u6613\u5c31\u80fd\u6293\u53d6\u5230\u9875\u9762\u5185\u5bb9. \u524d\u7aefJS\u6e32\u67d3, \u4f60\u9700\u8981\u7684\u6570\u636e\u5728\u9875\u9762\u6e90\u4ee3\u7801\u91cc\u641c\u4e0d\u5230 \u8fd9\u79cd\u5c31\u7a0d\u663e\u9ebb\u70e6\u4e86. \u8fd9\u79cd\u673a\u5236\u4e00\u822c\u662f\u7b2c\u4e00\u6b21\u8bf7\u6c42\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u5806HTML\u6846\u67b6\u7ed3\u6784. \u7136\u540e\u518d\u6b21\u8bf7\u6c42\u5230\u771f\u6b63\u4fdd\u5b58\u6570\u636e\u7684\u670d\u52a1\u5668, \u7531\u8fd9\u4e2a\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e, \u6700\u540e\u5728\u6d4f\u89c8\u5668\u4e0a\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u8f7d. \u5c31\u50cf\u8fd9\u6837: \u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u670d\u52a1\u5668\u90a3\u8fb9\u80fd\u7f13\u89e3\u538b\u529b. \u800c\u4e14\u5206\u5de5\u660e\u786e. \u6bd4\u8f83\u5bb9\u6613\u7ef4\u62a4. \u5178\u578b\u7684\u6709\u8fd9\u4e48\u4e00\u4e2a\u7f51\u9875 \u90a3\u6570\u636e\u662f\u4f55\u65f6\u52a0\u8f7d\u8fdb\u6765\u7684\u5462? \u5176\u5b9e\u5c31\u662f\u5728\u6211\u4eec\u8fdb\u884c\u9875\u9762\u5411\u4e0b\u6eda\u52a8\u7684\u65f6\u5019, jd\u5c31\u5728\u5077\u5077\u7684\u52a0\u8f7d\u6570\u636e\u4e86, \u6b64\u65f6\u60f3\u8981\u770b\u5230\u8fd9\u4e2a\u9875\u9762\u7684\u52a0\u8f7d\u5168\u8fc7\u7a0b, \u6211\u4eec\u5c31\u9700\u8981\u501f\u52a9\u6d4f\u89c8\u5668\u7684\u8c03\u8bd5\u5de5\u5177\u4e86(F12) \u770b\u5230\u4e86\u5427, \u9875\u9762\u4e0a\u770b\u5230\u7684\u5185\u5bb9\u5176\u5b9e\u662f\u540e\u52a0\u8f7d\u8fdb\u6765\u7684. OK, \u5728\u8fd9\u91cc\u6211\u4e0d\u662f\u8981\u8ddf\u5404\u4f4d\u8bb2jd\u6709\u591a\u725bB, \u4e5f\u4e0d\u662f\u8bf4\u8fd9\u4e24\u79cd\u65b9\u5f0f\u6709\u4ec0\u4e48\u4e0d\u540c, \u53ea\u662f\u60f3\u544a\u8bc9\u5404\u4f4d, \u6709\u4e9b\u65f6\u5019, \u6211\u4eec\u7684\u6570\u636e\u4e0d\u4e00\u5b9a\u90fd\u662f\u76f4\u63a5\u6765\u81ea\u4e8e\u9875\u9762\u6e90\u4ee3\u7801. \u5982\u679c\u4f60\u5728\u9875\u9762\u6e90\u4ee3\u7801\u4e2d\u627e\u4e0d\u5230\u4f60\u8981\u7684\u6570\u636e\u65f6, \u90a3\u5f88\u53ef\u80fd\u6570\u636e\u662f\u5b58\u653e\u5728\u53e6\u4e00\u4e2a\u8bf7\u6c42\u91cc. 1.\u4f60\u8981\u7684\u4e1c\u897f\u5728\u9875\u9762\u6e90\u4ee3\u7801. \u76f4\u63a5\u62ff`\u6e90\u4ee3\u7801`\u63d0\u53d6\u6570\u636e\u5373\u53ef 2.\u4f60\u8981\u7684\u4e1c\u897f\uff0c\u4e0d\u5728\u9875\u9762\u6e90\u4ee3\u7801, \u9700\u8981\u60f3\u529e\u6cd5\u627e\u5230\u771f\u6b63\u7684\u52a0\u8f7d\u6570\u636e\u7684\u90a3\u4e2a\u8bf7\u6c42. \u7136\u540e\u63d0\u53d6\u6570\u636e","title":"1\u3001\u6982\u8ff0"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#2web","text":"","title":"2\u3001\u6700\u7b80\u5355\u7684web\u5e94\u7528\u7a0b\u5e8f"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#1http","text":"HTTP\u534f\u8bae\u662fHyper Text Transfer Protocol\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09\u7684\u7f29\u5199,\u662f\u7528\u4e8e\u4e07\u7ef4\u7f51\uff08WWW:World Wide Web \uff09\u670d\u52a1\u5668\u4e0e\u672c\u5730\u6d4f\u89c8\u5668\u4e4b\u95f4\u4f20\u8f93\u8d85\u6587\u672c\u7684\u4f20\u9001\u534f\u8bae\u3002HTTP\u662f\u4e00\u4e2a\u5c5e\u4e8e\u5e94\u7528\u5c42\u7684\u9762\u5411\u5bf9\u8c61\u7684\u534f\u8bae\uff0c\u7531\u4e8e\u5176\u7b80\u6377\u3001\u5feb\u901f\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u8d85\u5a92\u4f53\u4fe1\u606f\u7cfb\u7edf\u3002\u5b83\u4e8e1990\u5e74\u63d0\u51fa\uff0c\u7ecf\u8fc7\u51e0\u5e74\u7684\u4f7f\u7528\u4e0e\u53d1\u5c55\uff0c\u5f97\u5230\u4e0d\u65ad\u5730\u5b8c\u5584\u548c\u6269\u5c55\u3002HTTP\u534f\u8bae\u5de5\u4f5c\u4e8e\u5ba2\u6237\u7aef-\u670d\u52a1\u7aef\u67b6\u6784\u4e3a\u4e0a\u3002\u6d4f\u89c8\u5668\u4f5c\u4e3aHTTP\u5ba2\u6237\u7aef\u901a\u8fc7URL\u5411HTTP\u670d\u52a1\u7aef\u5373WEB\u670d\u52a1\u5668\u53d1\u9001\u6240\u6709\u8bf7\u6c42\u3002Web\u670d\u52a1\u5668\u6839\u636e\u63a5\u6536\u5230\u7684\u8bf7\u6c42\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u54cd\u5e94\u4fe1\u606f\u3002 \u57fa\u4e8eTCP/IP\u534f\u8bae \u57fa\u4e8e\u8bf7\u6c42\uff0d\u54cd\u5e94\u6a21\u5f0f \u65e0\u72b6\u6001\u4fdd\u5b58 \u77ed\u8fde\u63a5\u548c\u957f\u8fde\u63a5 HTTP1.0\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f\u77ed\u8fde\u63a5\u3002\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u6bcf\u8fdb\u884c\u4e00\u6b21HTTP\u64cd\u4f5c\uff0c\u5c31\u5efa\u7acb\u4e00\u6b21\u8fde\u63a5\uff0c\u4efb\u52a1\u7ed3\u675f\u5c31\u4e2d\u65ad\u8fde\u63a5\u3002 HTTP/1.1\u8d77\uff0c\u9ed8\u8ba4\u4f7f\u7528\u957f\u8fde\u63a5\u3002\u8981\u4f7f\u7528\u957f\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7684HTTP\u9996\u90e8\u7684Connection\u90fd\u8981\u8bbe\u7f6e\u4e3akeep-alive\uff0c\u624d\u80fd\u652f\u6301\u957f\u8fde\u63a5\u3002 HTTP\u957f\u8fde\u63a5\uff0c\u6307\u7684\u662f\u590d\u7528TCP\u8fde\u63a5\u3002\u591a\u4e2aHTTP\u8bf7\u6c42\u53ef\u4ee5\u590d\u7528\u540c\u4e00\u4e2aTCP\u8fde\u63a5\uff0c\u8fd9\u5c31\u8282\u7701\u4e86TCP\u8fde\u63a5\u5efa\u7acb\u548c\u65ad\u5f00\u7684\u6d88\u8017\u3002","title":"\u30101\u3011http\u534f\u8bae\u7279\u6027"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#2http","text":"http\u534f\u8bae\u5305\u542b\u7531\u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\u5230\u670d\u52a1\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u4e0e\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u5230\u6d4f\u89c8\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u3002\u7528\u4e8eHTTP\u534f\u8bae\u4ea4\u4e92\u7684\u4fe1\u88ab\u4e3aHTTP\u62a5\u6587\u3002\u8bf7\u6c42\u7aef(\u5ba2\u6237\u7aef)\u7684HTTP\u62a5\u6587 \u505a\u8bf7\u6c42\u62a5\u6587,\u54cd\u5e94\u7aef(\u670d\u52a1\u5668\u7aef)\u7684 \u505a\u54cd\u5e94\u62a5\u6587\u3002HTTP\u62a5\u6587\u672c\u8eab\u662f\u7531\u591a\u884c\u6570\u636e\u6784\u6210\u7684\u5b57\u6587\u672c\u3002 \u4e00\u4e2a\u5b8c\u6574\u7684URL\u5305\u62ec\uff1a\u534f\u8bae\u3001ip\u3001\u7aef\u53e3\u3001\u8def\u5f84\u3001\u53c2\u6570 \uff08lagou\u7f51\uff09 \u8bf7\u6c42\u65b9\u5f0f: get\u4e0epost\u8bf7\u6c42 \u8bf7\u6c42\u534f\u8bae\u683c\u5f0f\uff1a \u54cd\u5e94\u534f\u8bae\u683c\u5f0f\uff1a","title":"\u30102\u3011http\u8bf7\u6c42\u534f\u8bae\u4e0e\u54cd\u5e94\u534f\u8bae"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#3getpost","text":"HTTP \u534f\u8bae\u662f\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\uff08\u5982\u6d4f\u89c8\u5668\uff09\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u7684\u534f\u8bae\u3002\u5b83\u5b9a\u4e49\u4e86\u591a\u79cd\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5176\u4e2d\u6700\u5e38\u7528\u7684\u4e24\u79cd\u662f GET \u548c POST \u8bf7\u6c42\u3002\u4ee5\u4e0b\u662f\u5bf9\u8fd9\u4e24\u79cd\u8bf7\u6c42\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff1a GET \u8bf7\u6c42 \u5b9a\u4e49 \uff1aGET \u8bf7\u6c42\u7528\u4e8e\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u3002\u5b83\u662f\u65e0\u526f\u4f5c\u7528\u7684\uff0c\u5373\u4e0d\u4f1a\u5bf9\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90\u4ea7\u751f\u6539\u53d8\u3002 \u7279\u70b9\uff1a \u53c2\u6570\u4f20\u9012 \uff1a\u8bf7\u6c42\u53c2\u6570\u901a\u5e38\u9644\u52a0\u5728 URL \u4e2d\uff0c\u901a\u8fc7 ? \u548c & \u5206\u9694\u3002\u4f8b\u5982\uff1a https://example.com/api?name=John&age=30 \u3002 \u9650\u5236 \uff1aURL \u7684\u957f\u5ea6\u6709\u9650\u5236\uff0c\u8fd9\u901a\u5e38\u53d6\u51b3\u4e8e\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\uff0c\u5b9e\u73b0\u4e0a\u5927\u7ea6\u4e3a 2000 \u5b57\u7b26\uff0c\u56e0\u6b64\u4e0d\u9002\u5408\u4f20\u9012\u5927\u91cf\u6570\u636e\u3002 \u5b89\u5168\u6027 \uff1a\u56e0\u4e3a\u53c2\u6570\u5728 URL \u4e2d\u660e\u6587\u663e\u793a\uff0c\u6240\u4ee5 GET \u8bf7\u6c42\u4e0d\u9002\u5408\u4f20\u9012\u654f\u611f\u4fe1\u606f\uff08\u5982\u5bc6\u7801\uff09\u3002 POST \u8bf7\u6c42 \u5b9a\u4e49 \uff1aPOST \u8bf7\u6c42\u7528\u4e8e\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff0c\u901a\u5e38\u7528\u4e8e\u521b\u5efa\u6216\u66f4\u65b0\u8d44\u6e90\u3002 \u7279\u70b9\uff1a \u53c2\u6570\u4f20\u9012 \uff1a\u8bf7\u6c42\u53c2\u6570\u5305\u542b\u5728\u8bf7\u6c42\u4f53\u4e2d\uff0c\u800c\u4e0d\u662f URL \u4e2d\u3002\u8fd9\u4f7f\u5f97\u53ef\u4ee5\u4f20\u9012\u5927\u91cf\u6570\u636e\u3002 \u7075\u6d3b\u6027 \uff1a\u53ef\u4ee5\u5904\u7406\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\uff0c\u6bd4\u5982 JSON\u3001XML\u3001\u8868\u5355\u6570\u636e\u7b49\u3002 \u5b89\u5168\u6027 \uff1a\u867d\u7136 POST \u8bf7\u6c42\u6bd4 GET \u8bf7\u6c42\u66f4\u5b89\u5168\uff08\u56e0\u4e3a\u6570\u636e\u4e0d\u66b4\u9732\u5728 URL \u4e2d\uff09\uff0c\u4f46\u4ecd\u9700\u901a\u8fc7 HTTPS \u8fdb\u884c\u52a0\u5bc6\uff0c\u4ee5\u4fdd\u62a4\u654f\u611f\u4fe1\u606f\u3002","title":"\u30103\u3011get\u8bf7\u6c42\u548cpost\u8bf7\u6c42"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#4htmljson","text":"","title":"\u30104\u3011\u54cd\u5e94html\u548cjson\u6570\u636e\u7c7b\u578b"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#5","text":"","title":"\u30105\u3011\u6d41\u7a0b"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#_4","text":"Chrome\u662f\u4e00\u6b3e\u975e\u5e38\u4f18\u79c0\u7684\u6d4f\u89c8\u5668. \u4e0d\u4ec5\u4ec5\u4f53\u73b0\u5728\u7528\u6237\u4f7f\u7528\u4e0a. \u5bf9\u4e8e\u6211\u4eec\u5f00\u53d1\u4eba\u5458\u800c\u8a00\u4e5f\u662f\u975e\u5e38\u975e\u5e38\u597d\u7528\u7684. \u5bf9\u4e8e\u4e00\u540d\u722c\u866b\u5de5\u7a0b\u5e08\u800c\u8a00. \u6d4f\u89c8\u5668\u662f\u6700\u80fd\u76f4\u89c2\u7684\u770b\u5230\u7f51\u9875\u60c5\u51b5\u4ee5\u53ca\u7f51\u9875\u52a0\u8f7d\u5185\u5bb9\u7684\u5730\u65b9. \u6211\u4eec\u53ef\u4ee5\u6309\u4e0bF12\u6765\u67e5\u770b\u4e00\u4e9b\u666e\u901a\u7528\u6237\u5f88\u5c11\u80fd\u4f7f\u7528\u5230\u7684\u5de5\u5177. \u5176\u4e2d, \u6700\u91cd\u8981\u7684Elements, Console, Sources, Network. Elements\u662f\u6211\u4eec\u5b9e\u65f6\u7684\u7f51\u9875\u5185\u5bb9\u60c5\u51b5, \u6ce8\u610f, \u5f88\u591a\u5144\u5f1f\u5c24\u5176\u5230\u4e86\u540e\u671f. \u975e\u5e38\u5bb9\u6613\u6df7\u6dc6Elements\u4ee5\u53ca\u9875\u9762\u6e90\u4ee3\u7801\u4e4b\u95f4\u7684\u5173\u7cfb. \u6ce8\u610f, \u9875\u9762\u6e90\u4ee3\u7801\u662f\u6267\u884cjs\u811a\u672c\u4ee5\u53ca\u7528\u6237\u64cd\u4f5c\u4e4b\u524d\u7684\u670d\u52a1\u5668\u8fd4\u56de\u7ed9\u6211\u4eec\u6700\u539f\u59cb\u7684\u5185\u5bb9 Elements\u4e2d\u770b\u5230\u7684\u5185\u5bb9\u662fjs\u811a\u672c\u4ee5\u53ca\u7528\u6237\u64cd\u4f5c\u4e4b\u540e\u7684\u5f53\u65f6\u7684\u9875\u9762\u663e\u793a\u6548\u679c. \u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a, \u4e00\u4e2a\u662f\u8001\u5e08\u6279\u6539\u4e4b\u524d\u7684\u5377\u5b50, \u4e00\u4e2a\u662f\u8001\u5e08\u6279\u6539\u4e4b\u540e\u7684\u5377\u5b50. \u867d\u7136\u90fd\u662f\u5377\u5b50. \u4f46\u662f\u5185\u5bb9\u662f\u4e0d\u4e00\u6837\u7684. \u800c\u6211\u4eec\u76ee\u524d\u80fd\u591f\u62ff\u5230\u7684\u90fd\u662f\u9875\u9762\u6e90\u4ee3\u7801. \u4e5f\u5c31\u662f\u8001\u5e08\u6279\u6539\u4e4b\u524d\u7684\u6837\u5b50. \u8fd9\u4e00\u70b9\u8981\u683c\u5916\u6ce8\u610f. \u5728Elements\u4e2d\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5de6\u4e0a\u89d2\u7684\u5c0f\u7bad\u5934.\u53ef\u4ee5\u76f4\u89c2\u7684\u770b\u5230\u6d4f\u89c8\u5668\u4e2d\u6bcf\u4e00\u5757\u4f4d\u7f6e\u5bf9\u5e94\u7684\u5f53\u524dhtml\u72b6\u51b5. \u8fd8\u662f\u5f88\u8d34\u5fc3\u7684. \u7b2c\u4e8c\u4e2a\u7a97\u53e3, Console\u662f\u7528\u6765\u67e5\u770b\u7a0b\u5e8f\u5458\u7559\u4e0b\u7684\u4e00\u4e9b\u6253\u5370\u5185\u5bb9, \u4ee5\u53ca\u65e5\u5fd7\u5185\u5bb9\u7684. \u6211\u4eec\u53ef\u4ee5\u5728\u8fd9\u91cc\u8f93\u5165\u4e00\u4e9bjs\u4ee3\u7801\u81ea\u52a8\u6267\u884c. \u7b49\u54b1\u4eec\u540e\u9762\u8bb2\u89e3js\u9006\u5411\u7684\u65f6\u5019\u4f1a\u7528\u5230\u8fd9\u91cc. \u7b2c\u4e09\u4e2a\u7a97\u53e3, Source, \u8fd9\u91cc\u80fd\u770b\u5230\u8be5\u7f51\u9875\u6253\u5f00\u65f6\u52a0\u8f7d\u7684\u6240\u6709\u5185\u5bb9. \u5305\u62ec\u9875\u9762\u6e90\u4ee3\u7801. \u811a\u672c. \u6837\u5f0f, \u56fe\u7247\u7b49\u7b49\u5168\u90e8\u5185\u5bb9. \u7b2c\u56db\u4e2a\u7a97\u53e3, Network, \u6211\u4eec\u4e00\u822c\u4e60\u60ef\u79f0\u547c\u5b83\u4e3a\u6293\u5305\u5de5\u5177. \u5728\u8fd9\u91cc, \u6211\u4eec\u80fd\u770b\u5230\u5f53\u524d\u7f51\u9875\u52a0\u8f7d\u7684\u6240\u6709\u7f51\u8def\u7f51\u7edc\u8bf7\u6c42, \u4ee5\u53ca\u8bf7\u6c42\u7684\u8be6\u7ec6\u5185\u5bb9. \u8fd9\u4e00\u70b9\u5bf9\u6211\u4eec\u722c\u866b\u6765\u8bf4\u81f3\u5173\u91cd\u8981. \u5176\u4ed6\u66f4\u52a0\u5177\u4f53\u7684\u5185\u5bb9. \u968f\u7740\u54b1\u4eec\u5b66\u4e60\u7684\u5c55\u5f00. \u4f1a\u9010\u4e00\u8fdb\u884c\u8bb2\u89e3.","title":"\u56db\u3001\u6d4f\u89c8\u5668\u5de5\u5177\u7684\u4f7f\u7528(\u91cd\u70b9)"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#http","text":"","title":"\u4e94\u3001http\u534f\u8bae"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#1_2","text":"\u6982\u8ff0 \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff08HTTP\uff0cHyperText Transfer Protocol)\u662f\u4e92\u8054\u7f51\u4e0a\u5e94\u7528\u6700\u4e3a\u5e7f\u6cdb\u7684\u4e00\u79cd\u7f51\u7edc\u534f\u8bae\u3002\u6240\u6709\u7684WWW\u6587\u4ef6\u90fd\u5fc5\u987b\u9075\u5b88\u8fd9\u4e2a\u6807\u51c6 http\u534f\u8bae\uff1a\u7f51\u7ad9\u539f\u7406 \u5e94\u7528\u5c42\u7684\u534f\u8bae ftp(21) \u5e38\u89c1\u7aef\u53e3\u53f7 http(80) https(443) ssh(22) mysql(3306) redis(6379) mongo(27017)","title":"1\u3001 \u4ec0\u4e48\u662f\u534f\u8bae\uff1f\u53cc\u65b9\u89c4\u5b9a\u7684\u4f20\u8f93\u5f62\u5f0f"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#2httpshttp","text":"https://www.cnblogs.com/wqhwe/p/5407468.html https\u534f\u8bae\u9700\u8981\u5230ca\u7533\u8bf7\u8bc1\u4e66\uff0c\u4e00\u822c\u514d\u8d39\u8bc1\u4e66\u8f83\u5c11\uff0c\u56e0\u800c\u9700\u8981\u4e00\u5b9a\u8d39\u7528\u3002 http\u662f\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff0c\u4fe1\u606f\u662f\u660e\u6587\u4f20\u8f93\uff0chttps\u5219\u662f\u5177\u6709\u5b89\u5168\u6027\u7684ssl\u52a0\u5bc6\u4f20\u8f93\u534f\u8bae\u3002 http\u548chttps\u4f7f\u7528\u7684\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u8fde\u63a5\u65b9\u5f0f\uff0c\u7528\u7684\u7aef\u53e3\u4e5f\u4e0d\u4e00\u6837\uff0c\u524d\u8005\u662f80\uff0c\u540e\u8005\u662f443\u3002 http\u7684\u8fde\u63a5\u5f88\u7b80\u5355\uff0c\u662f\u65e0\u72b6\u6001\u7684\uff1bHTTPS\u534f\u8bae\u662f\u7531SSL+HTTP\u534f\u8bae\u6784\u5efa\u7684\u53ef\u8fdb\u884c\u52a0\u5bc6\u4f20\u8f93\u3001\u8eab\u4efd\u8ba4\u8bc1\u7684\u7f51\u7edc\u534f\u8bae\uff0c\u6bd4http\u534f\u8bae\u5b89\u5168\u3002","title":"2\u3001HTTPS\u548cHTTP\u7684\u4e3b\u8981\u533a\u522b"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#3_2","text":"http\u534f\u8bae\u8be6\u89e3 https://www.cnblogs.com/10158wsj/p/6762848.html \u5305\u542b \u8bf7\u6c42\u884c\u3001\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u5185\u5bb9 \u8bf7\u6c42\u884c\uff1a get\u3001post\uff0c\u4ee5\u53ca\u533a\u522b \u5e38\u89c1\u8bf7\u6c42\u5934\uff1a accept:\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5b83\u6240\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b Accept-Charset: \u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5b83\u652f\u6301\u54ea\u79cd\u5b57\u7b26\u96c6 Accept-Encoding\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u652f\u6301\u7684\u538b\u7f29\u683c\u5f0f Accept-Language\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5b83\u7684\u8bed\u8a00\u73af\u5883 Host\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u60f3\u8bbf\u95ee\u54ea\u53f0\u4e3b\u673a If-Modified-Since: \u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u7f13\u5b58\u6570\u636e\u7684\u65f6\u95f4 Referer\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u673a\u662f\u54ea\u4e2a\u9875\u9762\u6765\u7684 \u9632\u76d7\u94fe Connection\uff1a\u6d4f\u89c8\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u8bf7\u6c42\u5b8c\u540e\u662f\u65ad\u5f00\u94fe\u63a5\u8fd8\u662f\u4f55\u6301\u94fe\u63a5 X-Requested-With: XMLHttpRequest \u4ee3\u8868\u901a\u8fc7ajax\u65b9\u5f0f\u8fdb\u884c\u8bbf\u95ee http\u54cd\u5e94\u5934\u90e8\u4fe1\u606f Location: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u6765\u544a\u8bc9\u6d4f\u89c8\u5668\u8df3\u5230\u54ea\u91cc Server\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u670d\u52a1\u5668\u7684\u578b\u53f7 Content-Encoding\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\uff0c\u6570\u636e\u7684\u538b\u7f29\u683c\u5f0f Content-Length: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u56de\u9001\u6570\u636e\u7684\u957f\u5ea6 Content-Language: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u8bed\u8a00\u73af\u5883 Content-Type\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u56de\u9001\u6570\u636e\u7684\u7c7b\u578b Refresh\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u5b9a\u65f6\u5237\u65b0 Content-Disposition: \u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u4ee5\u4e0b\u8f7d\u65b9\u5f0f\u6253\u6570\u636e Transfer-Encoding\uff1a\u670d\u52a1\u5668\u901a\u8fc7\u8fd9\u4e2a\u5934\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u6570\u636e\u662f\u4ee5\u5206\u5757\u65b9\u5f0f\u56de\u9001\u7684 Expires: -1 \u63a7\u5236\u6d4f\u89c8\u5668\u4e0d\u8981\u7f13\u5b58 Cache-Control: no-cache Pragma: no-cache","title":"3\u3001\u8bf7\u6c42\u5305\u542b"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#4http","text":"100\uff1a\u8fd9\u4e2a\u72b6\u6001\u7801\u662f\u544a\u8bc9\u5ba2\u6237\u7aef\u5e94\u8be5\u7ee7\u7eed\u53d1\u9001\u8bf7\u6c42\uff0c\u8fd9\u4e2a\u4e34\u65f6\u54cd\u5e94\u662f\u7528\u6765\u901a\u77e5\u5ba2\u6237\u7aef\u7684\uff0c\u90e8\u5206\u7684\u8bf7\u6c42\u670d\u52a1\u5668\u5df2\u7ecf\u63a5\u53d7\uff0c\u4f46\u662f\u5ba2\u6237\u7aef\u5e94\u7ee7\u7eed\u53d1\u9001\u6c42\u8bf7\u6c42\u7684\u5269\u4f59\u90e8\u5206\uff0c\u5982\u679c\u8bf7\u6c42\u5df2\u7ecf\u5b8c\u6210\uff0c\u5c31\u5ffd\u7565\u8fd9\u4e2a\u54cd\u5e94\uff0c\u800c\u4e14\u670d\u52a1\u5668\u4f1a\u5728\u8bf7\u6c42\u5b8c\u6210\u540e\u5411\u5ba2\u6237\u53d1\u9001\u4e00\u4e2a\u6700\u7ec8\u7684\u7ed3\u679c 200\uff1a\u8fd9\u4e2a\u662f\u6700\u5e38\u89c1\u7684http\u72b6\u6001\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u5df2\u7ecf\u6210\u529f\u63a5\u53d7\u8bf7\u6c42\uff0c\u5e76\u5c06\u8fd4\u56de\u5ba2\u6237\u7aef\u6240\u8bf7\u6c42\u7684\u6700\u7ec8\u7ed3\u679c 202\uff1a\u8868\u793a\u670d\u52a1\u5668\u5df2\u7ecf\u63a5\u53d7\u4e86\u8bf7\u6c42\uff0c\u4f46\u662f\u8fd8\u6ca1\u6709\u5904\u7406\uff0c\u800c\u4e14\u8fd9\u4e2a\u8bf7\u6c42\u6700\u7ec8\u4f1a\u4e0d\u4f1a\u5904\u7406\u8fd8\u4e0d\u786e\u5b9a 204\uff1a\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u4e86\u8bf7\u6c42\uff0c\u4f46\u6ca1\u6709\u8fd4\u56de\u4efb\u4f55\u5b9e\u4f53\u5185\u5bb9 \uff0c\u53ef\u80fd\u4f1a\u8fd4\u56de\u65b0\u7684\u5934\u90e8\u5143\u4fe1\u606f 301\uff1a\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u7f51\u9875\u5df2\u7ecf\u6c38\u4e45\u79fb\u52a8\u5230\u65b0\u7684\u4f4d\u7f6e\uff0c\u5f53\u94fe\u63a5\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u8fd4\u56de301\u4ee3\u7801\u544a\u8bc9\u5ba2\u6237\u7aef\u94fe\u63a5\u7684\u53d8\u5316\uff0c\u5ba2\u6237\u7aef\u4fdd\u5b58\u65b0\u7684\u94fe\u63a5\uff0c\u5e76\u5411\u65b0\u7684\u94fe\u63a5\u53d1\u51fa\u8bf7\u6c42\uff0c\u5df2\u8fd4\u56de\u8bf7\u6c42\u7ed3\u679c 404\uff1a\u8bf7\u6c42\u5931\u8d25\uff0c\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u8d44\u6e90\u6ca1\u6709\u627e\u5230\u6216\u8005\u662f\u4e0d\u5b58\u5728 500\uff1a\u670d\u52a1\u5668\u9047\u5230\u672a\u77e5\u7684\u9519\u8bef\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5b8c\u6210\u5ba2\u6237\u7aef\u5f53\u524d\u7684\u8bf7\u6c42\u3002 503\uff1a\u670d\u52a1\u5668\u7531\u4e8e\u4e34\u65f6\u7684\u670d\u52a1\u5668\u8fc7\u8f7d\u6216\u8005\u662f\u7ef4\u62a4\uff0c\u65e0\u6cd5\u89e3\u51b3\u5f53\u524d\u7684\u8bf7\u6c42\uff0c\u4ee5\u4e0ahttp\u72b6\u6001\u7801\u662f\u670d\u52a1\u5668\u7ecf\u5e38\u8fd4\u56de\u7684\u72b6\u6001\u4ee3\u7801\uff0c\u7528\u6237\u53ea\u80fd\u901a\u8fc7\u6d4f\u89c8\u5668\u7684\u72b6\u6001\u4e86\u89e3\u670d\u52a1\u5668\u662f\u5426\u6b63\u5e38\u8fd0\u884c\uff0c\u4e00\u822c\u9664\u4e86\u9519\u8bef\u7684\u72b6\u6001\u7801\uff0c\u90fd\u4e0d\u4f1a\u770b\u5230\u670d\u52a1\u5668\u7684\u72b6\u6001\u7801\u7684\uff0c\u65b0SEOer\u4f60\u4eec\u4e86\u89e3\u5230\u4e86\u5417\uff1f\u5185\u5bb9\u7f16\u8f91\u6765\u81ea51\u7279\u8272\u8d2dSEO\u4f18\u5316\u4eba\u5458\uff0c\u60f3\u4e86\u89e3\u66f4\u8fc7\u72b6\u6001\u7801\u7684\u77e5\u8bc6\u53ef\u4ee5\u52a0\u6211\u597d\u53cb\uff0c\u4e00\u8d77\u76f8\u4e92\u4ea4\u6d41\u5b66\u4e60","title":"4\u3001\u5e38\u89c1HTTP\u72b6\u6001\u7801"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#_5","text":"","title":"\u516d\u3001\u722c\u866b\u51c6\u5907\u5de5\u4f5c"},{"location":"06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html#1-fiddler","text":"\u4e00\u4e2a\u7f51\u9875\u7684\u5448\u73b0\uff0c\u4e2d\u95f4\u4e0d\u6b62\u4e00\u6b21http\u8bf7\u6c42\uff0c\u5e73\u5747\u4e00\u4e2a\u7f51\u9875\u5dee\u4e0d\u591a10-15\u4e2ahttp\u8bf7\u6c42 \u914d\u7f6ehttps \u70b9\u51fbTools-->options--->https--->\u9009\u4e2d\u9762\u677f\u4e0b Capture Https CONNECTS Decrypt Https Traffic Ignore \u590d\u9009\u6846\u540e\uff0c\u5c06Fiddler\u91cd\u542f\u5373\u53ef fiddler\u754c\u9762\u4ecb\u7ecd Fiddler\u83dc\u5355\u680f \u5305\u62ec\u6355\u83b7http\u8bf7\u6c42\uff0c\u505c\u6b62\u6355\u83b7\u8bf7\u6c42\uff0c\u4fdd\u5b58http\u8bf7\u6c42\uff0c\u8f7d\u5165\u672c\u5730session\u3001\u8bbe\u7f6e\u6355\u83b7\u89c4\u5219\u7b49\u529f\u80fd Fiddler\u7684\u5de5\u5177\u680f \u5305\u62ecFiddler\u9488\u5bf9\u5f53\u524dview\u7684\u64cd\u4f5c\uff08\u6682\u505c\uff0c\u6e05\u9664session,decode\u6a21\u5f0f\u3001\u6e05\u9664\u7f13\u5b58\u7b49\uff09 Web Session\u9762\u677f \u4e3b\u8981\u662fFiddler\u6293\u53d6\u5230\u7684\u6bcf\u6761http\u8bf7\u6c42\uff08\u6bcf\u4e00\u6761\u79f0\u4e3a\u4e00\u4e2asession\uff09,\u4e3b\u8981\u5305\u542b\u4e86\u8bf7\u6c42\u7684url\uff0c\u534f\u8bae\uff0c\u72b6\u6001\u7801\uff0cbody\u7b49\u4fe1\u606f \u8be6\u60c5\u548c\u6570\u636e\u7edf\u8ba1\u677f \u9488\u5bf9\u6bcf\u6761http\u8bf7\u6c42\u7684\u5177\u4f53\u7edf\u8ba1\uff08\u4f8b\u5982\u53d1\u9001/\u63a5\u53d7\u5b57\u8282\u6570\uff0c\u53d1\u9001/\u63a5\u6536\u65f6\u95f4\uff0c\u8fd8\u6709\u7c97\u7565\u7edf\u8ba1\u4e16\u754c\u5404\u5730\u8bbf\u95ee\u8be5\u670d\u52a1\u5668\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff09\u548c\u6570\u636e\u5305\u5206\u6790\u3002\u5982inspector\u9762\u677f\u4e0b\uff0c\u63d0\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f Inspector \u63d0\u4f9b\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f,\u5206\u4e3a\u4e0a\u4e0b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e0a\u534a\u90e8\u5206\u662f\u8bf7\u6c42\u5934\u90e8\u5206\uff0c\u4e0b\u534a\u90e8\u5206\u662f\u54cd\u5e94\u5934\u90e8\u5206\u3002 ImageView\u6807\u7b7e JPG \u683c\u5f0f\u4f7f\u7528 ImageView \u5c31\u53ef\u4ee5\u770b\u5230\u56fe\u7247 TextView \u6807\u7b7e HTML/JS/CSS \u4f7f\u7528 TextView \u53ef\u4ee5\u770b\u5230\u54cd\u5e94\u7684\u5185\u5bb9\u3002\u9009\u62e9\u4e00\u6761Content-Type\u662ftext/html\u7684\u4f1a\u8bdd Raw\u6807\u7b7e Raw\u6807\u7b7e\u53ef\u4ee5\u67e5\u770b\u54cd\u5e94\u62a5\u6587\u548c\u54cd\u5e94\u6b63\u6587,\u4f46\u662f\u4e0d\u5305\u542b\u8bf7\u6c42\u62a5\u6587 Cookies\u6807\u7b7e Cookies\u6807\u7b7e\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42\u7684cookie\u548c\u54cd\u5e94\u7684set-cookie\u5934\u4fe1\u606f\u3002 WebForms post\u8bf7\u6c42\u6240\u6709\u8868\u5355\u6570\u636e Headers \u8bf7\u6c42\u5934\u548c\u54cd\u5e94\u5934\u4fe1\u606f Json\\XML Json\u6216XML\u683c\u5f0f\u7684\u6570\u636e Statistics\u9762\u677f HTTP\u8bf7\u6c42\u7684\u6027\u80fd\u548c\u5176\u4ed6\u6570\u636e\u5206\u6790 composer\u9762\u677f \u53ef\u4ee5\u6a21\u62df\u5411\u76f8\u5e94\u7684\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u7684\u8fc7\u7a0b Filters\u9762\u677f Filter\u6807\u7b7e\u5219\u53ef\u4ee5\u8bbe\u7f6eFiddler\u7684\u8fc7\u6ee4\u89c4\u5219\uff0c\u6765\u8fbe\u5230\u8fc7\u6ee4http\u8bf7\u6c42\u7684\u76ee\u7684\u3002\u6700\u7b80\u5355\u5982\uff1a\u8fc7\u6ee4\u5185\u7f51http\u8bf7\u6c42\u800c\u53ea\u6293\u53d6internet\u7684http\u8bf7\u6c42\uff0c\u6216\u5219\u8fc7\u6ee4\u76f8\u5e94\u57df\u540d\u7684http\u8bf7\u6c42\u3002Fiddler\u7684\u8fc7\u6ee4\u5668\u975e\u5e38\u5f3a\u5927\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9ahttp\u72b6\u6001\u7801\u7684\u8bf7\u6c42\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9a\u8bf7\u6c42\u7c7b\u578b\u7684http\u8bf7\u6c42\uff08\u5982css\u8bf7\u6c42\uff0cimage\u8bf7\u6c42\uff0cjs\u8bf7\u6c42\u7b49\uff09\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u8bf7\u6c42\u62a5\u6587\u5927\u4e8e\u6216\u5219\u5c0f\u4e8e\u6307\u5b9a\u5927\u5c0f\uff08byte\uff09\u7684\u8bf7\u6c42 \u5173\u95edfiddler \u5de6\u4e0a\u89d2File,\u53cd\u9009Capture Traffic WebSession\u8fc7\u6ee4\u529f\u80fd \u70b9\u51fb\u5de5\u5177\u680f\u4e2d\u7684X\u7b26\u53f7 WebSession\u9009\u62e9\u529f\u80fd \u5de6\u4e0b\u89d2\u7684\u9ed1\u8272\u5bf9\u8bdd\u6846 select json\\html\\image cls\u6e05\u9664\u6240\u6709\u8bf7\u6c42 ?xxx\u641c\u7d22 \u8c37\u6b4c\u6d4f\u89c8\u5668 mac \u9752\u82b1\u74f7 mac\u7248\u5b89\u88c5\uff1ahttp://www.cocoachina.com/apple/20170704/19729.html","title":"1\u3001 fiddler"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html","text":"\u4e03\u3001urllib\u4e0erequests \u4e00\u3001urllib\u7684\u5b66\u4e60 \u5b66\u4e60\u76ee\u6807 \u4e86\u89e3urllib\u7684\u57fa\u672c\u4f7f\u7528 1\u3001urllib\u4ecb\u7ecd \u9664\u4e86requests\u6a21\u5757\u53ef\u4ee5\u53d1\u9001\u8bf7\u6c42\u4e4b\u5916, urllib\u6a21\u5757\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u8bf7\u6c42\u7684\u53d1\u9001,\u53ea\u662f\u64cd\u4f5c\u65b9\u6cd5\u7565\u6709\u4e0d\u540c! urllib\u5728python\u4e2d\u5206\u4e3aurllib\u548curllib2\uff0c\u5728python3\u4e2d\u4e3aurllib \u4e0b\u9762\u4ee5python3\u7684urllib\u4e3a\u4f8b\u8fdb\u884c\u8bb2\u89e3 2\u3001urllib\u7684\u57fa\u672c\u65b9\u6cd5\u4ecb\u7ecd 2.1 urllib.Request \u6784\u9020\u7b80\u5355\u8bf7\u6c42 python import urllib #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(\"http://www.baidu.com\") #\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u54cd\u5e94 response = urllib.request.urlopen(request) \u4f20\u5165headers\u53c2\u6570 python import urllib #\u6784\u9020headers headers = {\"User-Agent\" : \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\"} #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(url, headers = headers) #\u53d1\u9001\u8bf7\u6c42 response = urllib.request.urlopen(request) \u4f20\u5165data\u53c2\u6570 \u5b9e\u73b0\u53d1\u9001post\u8bf7\u6c42 python #\u6784\u9020headers headers={\"User-Agent\": \"Mozilla....\"} #\u6784\u9020\u8bf7\u6c42\u4f53 formdata = { \"type\":\"AUTO\", \"i\":\"i love python\", \"doctype\":\"json\", } #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(url, data = data, headers = headers) #\u6784\u9020\u8bf7\u6c42 response = urllib.request.urlopen(request) print(response.read()) 2.2 response.read() \u83b7\u53d6\u54cd\u5e94\u7684html\u5b57\u7b26\u4e32,bytes\u7c7b\u578b #\u53d1\u9001\u8bf7\u6c42 response = urllib.request.urlopen(\"http://www.baidu.com\") #\u83b7\u53d6\u54cd\u5e94 response.read() 3\u3001urllib\u8bf7\u6c42\u767e\u5ea6\u9996\u9875\u7684\u5b8c\u6574\u4f8b\u5b50 # coding=utf-8 import urllib url = 'http://www.baidu.com' #\u6784\u9020headers headers = {\"User-Agent\" : \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\"} #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(url, headers = headers) #\u53d1\u9001\u8bf7\u6c42 response = urllib.request.urlopen(request) #\u83b7\u53d6html\u5b57\u7b26\u4e32 html_str = response.read().decode() print(html_str) 4\u3001\u5c0f\u7ed3 urllib.request\u4e2d\u5b9e\u73b0\u4e86\u6784\u9020\u8bf7\u6c42\u548c\u53d1\u9001\u8bf7\u6c42\u7684\u65b9\u6cd5 urllib.request.Request(url,headers,data)\u80fd\u591f\u6784\u9020\u8bf7\u6c42 urllib.request.urlopen\u80fd\u591f\u63a5\u53d7request\u8bf7\u6c42\u6216\u8005url\u5730\u5740\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94 response.read()\u80fd\u591f\u5b9e\u73b0\u83b7\u53d6\u54cd\u5e94\u4e2d\u7684bytes\u5b57\u7b26\u4e32 requests\u6a21\u5757\u7684\u5165\u95e8\u4f7f\u7528 \u4e00\u3001requests\u6a21\u5757\u7684\u5165\u95e8\u4f7f\u7528 \u5b66\u4e60\u76ee\u6807\uff1a \u4e86\u89e3 requests\u6a21\u5757\u7684\u4ecb\u7ecd \u638c\u63e1 requests\u7684\u57fa\u672c\u4f7f\u7528 \u638c\u63e1 response\u5e38\u89c1\u7684\u5c5e\u6027 \u638c\u63e1 requests.text\u548ccontent\u7684\u533a\u522b \u638c\u63e1 \u89e3\u51b3\u7f51\u9875\u7684\u89e3\u7801\u95ee\u9898 \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26headers\u7684\u8bf7\u6c42 \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26\u53c2\u6570\u7684get\u8bf7\u6c42 1\u3001\u4e3a\u4ec0\u4e48\u8981\u91cd\u70b9\u5b66\u4e60\brequests\u6a21\u5757\uff0c\u800c\u4e0d\u662furllib \u4f01\u4e1a\u4e2d\u7528\u7684\u6700\u591a\u7684\u5c31\u662frequests requests\u7684\u5e95\u5c42\u5b9e\u73b0\u5c31\u662furllib requests\u5728python2 \u548cpython3\u4e2d\u901a\u7528\uff0c\u65b9\u6cd5\u5b8c\u5168\u4e00\u6837 requests\u7b80\u5355\u6613\u7528 requests\u80fd\u591f\u81ea\u52a8\u5e2e\u52a9\u6211\u4eec\u89e3\u538b(gzip\u538b\u7f29\u7684\u7b49)\u54cd\u5e94\u5185\u5bb9 2\u3001requests\u7684\u4f5c\u7528 \u4f5c\u7528\uff1a\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\uff0c\u8fd4\u56de\u54cd\u5e94\u6570\u636e \u5b89\u88c5\uff1apip install requests 3\u3001requests\u6a21\u5757\u53d1\u9001\u7b80\u5355\u7684get\u8bf7\u6c42\u3001\u83b7\u53d6\u54cd\u5e94 \u9700\u6c42\uff1a\u901a\u8fc7requests\u5411\u767e\u5ea6\u9996\u9875\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u767e\u5ea6\u9996\u9875\u7684\u6570\u636e import requests # \u76ee\u6807url url = 'https://www.baidu.com' # \u5411\u76ee\u6807url\u53d1\u9001get\u8bf7\u6c42 response = requests.get(url) # \u6253\u5370\u54cd\u5e94\u5185\u5bb9 print(response.text) response\u7684\u5e38\u7528\u5c5e\u6027\uff1a response.text \u54cd\u5e94\u4f53 str\u7c7b\u578b response.encoding \u4eceHTTP\u3000header\u4e2d\u731c\u6d4b\u7684\u54cd\u5e94\u5185\u5bb9\u7684\u7f16\u7801\u65b9\u5f0f respones.content \u54cd\u5e94\u4f53 bytes\u7c7b\u578b response.status_code \u54cd\u5e94\u72b6\u6001\u7801 response.request.headers \u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u5934 response.request.get('Cookie ') \u83b7\u53d6\u8bf7\u6c42\u7684cookie response.headers \u54cd\u5e94\u5934 response.request._cookies \u54cd\u5e94\u5bf9\u5e94\u8bf7\u6c42\u7684cookie \u8fd4\u56de\u5bf9\u8c61 response.cookies \u54cd\u5e94\u7684cookie\uff08\u7ecf\u8fc7\u4e86set-cookie\u52a8\u4f5c\uff09 response.url \u83b7\u53d6\u8bbf\u95ee\u7684url response.json() \u83b7\u53d6json\u6570\u636e \u5f97\u5230\u5185\u5bb9\u4e3a\u5b57\u5178 (\u5982\u679c\u63a5\u53e3\u54cd\u5e94\u4f53\u7684\u683c\u5f0f\u662fjson\u683c\u5f0f\u65f6) response.ok \u5982\u679cstatus_code\u5c0f\u4e8e200\uff0cresponse.ok\u8fd4\u56deTrue\u3002 \u5982\u679cstatus_code\u5927\u4e8e200\uff0cresponse.ok\u8fd4\u56deFalse\u3002 \u601d\u8003\uff1atext\u662fresponse\u7684\u5c5e\u6027\u8fd8\u662f\u65b9\u6cd5\u5462\uff1f \u4e00\u822c\u6765\u8bf4\u540d\u8bcd\uff0c\u5f80\u5f80\u90fd\u662f\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u5bf9\u5e94\u7684\u52a8\u8bcd\u662f\u5bf9\u8c61\u7684\u65b9\u6cd5 3.1 response.text \u548cresponse.content\u7684\u533a\u522b response.text \u7c7b\u578b\uff1astr \u89e3\u7801\u7c7b\u578b\uff1a requests\u6a21\u5757\u81ea\u52a8\u6839\u636eHTTP \u5934\u90e8\u5bf9\u54cd\u5e94\u7684\u7f16\u7801\u4f5c\u51fa\u6709\u6839\u636e\u7684\u63a8\u6d4b\uff0c\u63a8\u6d4b\u7684\u6587\u672c\u7f16\u7801 \u5982\u4f55\u4fee\u6539\u7f16\u7801\u65b9\u5f0f\uff1a response.encoding=\"gbk/UTF-8\" response.content \u7c7b\u578b\uff1abytes \u89e3\u7801\u7c7b\u578b\uff1a \u6ca1\u6709\u6307\u5b9a \u5982\u4f55\u4fee\u6539\u7f16\u7801\u65b9\u5f0f\uff1a response.content.deocde(\"utf8\") \u83b7\u53d6\u7f51\u9875\u6e90\u7801\u7684\u901a\u7528\u65b9\u5f0f\uff1a response.content.decode() response.content.decode(\"GBK\") response.text \u4ee5\u4e0a\u4e09\u79cd\u65b9\u6cd5\u4ece\u524d\u5f80\u540e\u5c1d\u8bd5\uff0c\u80fd\u591f100%\u7684\u89e3\u51b3\u6240\u6709\u7f51\u9875\u89e3\u7801\u7684\u95ee\u9898 \u6240\u4ee5\uff1a\u66f4\u63a8\u8350\u4f7f\u7528 response.content.deocde() \u7684\u65b9\u5f0f\u83b7\u53d6\u54cd\u5e94\u7684html\u9875\u9762 3.2 \u7ec3\u4e60\uff1a\u628a\u7f51\u7edc\u4e0a\u7684\u56fe\u7247\u4fdd\u5b58\u5230\u672c\u5730 \u6211\u4eec\u6765\u628a www.baidu.com \u7684\u56fe\u7247\u4fdd\u5b58\u5230\u672c\u5730 \u601d\u8003\uff1a \u4ee5\u4ec0\u4e48\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6 \u4fdd\u5b58\u4ec0\u4e48\u683c\u5f0f\u7684\u5185\u5bb9 \u5206\u6790\uff1a \u56fe\u7247\u7684url: https://www.baidu.com/img/bd_logo1.png \u5229\u7528requests\u6a21\u5757\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u54cd\u5e94 \u4ee52\u8fdb\u5236\u5199\u5165\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\uff0c\u5e76\u5c06response\u54cd\u5e94\u7684\u4e8c\u8fdb\u5236\u5185\u5bb9\u5199\u5165 import requests # \u56fe\u7247\u7684url url = 'https://www.baidu.com/img/bd_logo1.png' # \u54cd\u5e94\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u56fe\u7247,\u5e76\u4e14\u662f\u4e8c\u8fdb\u5236\u7c7b\u578b response = requests.get(url) # print(response.content) # \u4ee5\u4e8c\u8fdb\u5236+\u5199\u5165\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6 with open('baidu.png', 'wb') as f: # \u5199\u5165response.content bytes\u4e8c\u8fdb\u5236\u7c7b\u578b f.write(response.content) 4\u3001\u53d1\u9001\u5e26header\u7684\u8bf7\u6c42 \u6211\u4eec\u5148\u5199\u4e00\u4e2a\u83b7\u53d6\u767e\u5ea6\u9996\u9875\u7684\u4ee3\u7801 import requests url = 'https://www.baidu.com' response = requests.get(url) print(response.content) # \u6253\u5370\u54cd\u5e94\u5bf9\u5e94\u8bf7\u6c42\u7684\u8bf7\u6c42\u5934\u4fe1\u606f print(response.request.headers) 4.1 \u601d\u8003 \u5bf9\u6bd4\u6d4f\u89c8\u5668\u4e0a\u767e\u5ea6\u9996\u9875\u7684\u7f51\u9875\u6e90\u7801\u548c\u4ee3\u7801\u4e2d\u7684\u767e\u5ea6\u9996\u9875\u7684\u6e90\u7801\uff0c\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f \u4ee3\u7801\u4e2d\u7684\u767e\u5ea6\u9996\u9875\u7684\u6e90\u7801\u975e\u5e38\u5c11\uff0c\u4e3a\u4ec0\u4e48\uff1f 4.2 \u4e3a\u4ec0\u4e48\u8bf7\u6c42\u9700\u8981\u5e26\u4e0aheader\uff1f \u6a21\u62df\u6d4f\u89c8\u5668\uff0c\u6b3a\u9a97\u670d\u52a1\u5668\uff0c\u83b7\u53d6\u548c\u6d4f\u89c8\u5668\u4e00\u81f4\u7684\u5185\u5bb9 4.3 header\u7684\u5f62\u5f0f\uff1a\u5b57\u5178 headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} 4.4 \u7528\u6cd5 requests.get(url, headers=headers) 4.5 \u5b8c\u6574\u7684\u4ee3\u7801 import requests url = 'https://www.baidu.com' headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} # \u5728\u8bf7\u6c42\u5934\u4e2d\u5e26\u4e0aUser-Agent\uff0c\u6a21\u62df\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42 response = requests.get(url, headers=headers) # print(response.content) # \u6253\u5370\u8bf7\u6c42\u5934\u4fe1\u606f print(response.request.headers) 5\u3001\u53d1\u9001\u5e26\u53c2\u6570\u7684\u8bf7\u6c42 \u6211\u4eec\u5728\u4f7f\u7528\u767e\u5ea6\u641c\u7d22\u7684\u65f6\u5019\u7ecf\u5e38\u53d1\u73b0url\u5730\u5740\u4e2d\u4f1a\u6709\u4e00\u4e2a ? \uff0c\u90a3\u4e48\u8be5\u95ee\u53f7\u540e\u8fb9\u7684\u5c31\u662f\u8bf7\u6c42\u53c2\u6570\uff0c\u53c8\u53eb\u505a\u67e5\u8be2\u5b57\u7b26\u4e32 5.1 \u4ec0\u4e48\u53eb\u505a\u8bf7\u6c42\u53c2\u6570\uff1a \u4f8b1\uff1a http://www.webkaka.com/tutorial/server/2015/021013/ \u4f8b2\uff1ahttps://www.baidu.com/s?wd=python&a=c \u4f8b1\u4e2d\u6ca1\u6709\u8bf7\u6c42\u53c2\u6570\uff01\u4f8b2\u4e2d?\u540e\u8fb9\u7684\u5c31\u662f\u8bf7\u6c42\u53c2\u6570 5.2 \u8bf7\u6c42\u53c2\u6570\u7684\u5f62\u5f0f\uff1a\u5b57\u5178 kw = {'wd':'\u957f\u57ce'} 5.3 \u8bf7\u6c42\u53c2\u6570\u7684\u7528\u6cd5 requests.get(url,params=kw) 5.4 \u5173\u4e8e\u53c2\u6570\u7684\u6ce8\u610f\u70b9 \u5728url\u5730\u5740\u4e2d\uff0c \u5f88\u591a\u53c2\u6570\u662f\u6ca1\u6709\u7528\u7684\uff0c\u6bd4\u5982\u767e\u5ea6\u641c\u7d22\u7684url\u5730\u5740\uff0c\u5176\u4e2d\u53c2\u6570\u53ea\u6709\u4e00\u4e2a\u5b57\u6bb5\u6709\u7528\uff0c\u5176\u4ed6\u7684\u90fd\u53ef\u4ee5\u5220\u9664 \u5982\u4f55\u786e\u5b9a\u90a3\u4e9b\u8bf7\u6c42\u53c2\u6570\u6709\u7528\u6216\u8005\u6ca1\u7528\uff1a\u6328\u4e2a\u5c1d\u8bd5\uff01 \u5bf9\u5e94\u7684,\u5728\u540e\u7eed\u7684\u722c\u866b\u4e2d\uff0c\u8d8a\u5230\u5f88\u591a\u53c2\u6570\u7684url\u5730\u5740\uff0c\u90fd\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664\u53c2\u6570 5.5 \u4e24\u79cd\u65b9\u5f0f\uff1a\u53d1\u9001\u5e26\u53c2\u6570\u7684\u8bf7\u6c42 \u5bf9 https://www.baidu.com/s?wd=python \u53d1\u8d77\u8bf7\u6c42\u53ef\u4ee5\u4f7f\u7528 requests.get(url, params=kw) \u7684\u65b9\u5f0f ```python # \u65b9\u5f0f\u4e00\uff1a\u5229\u7528params\u53c2\u6570\u53d1\u9001\u5e26\u53c2\u6570\u7684\u8bf7\u6c42 import requests headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} # \u8fd9\u662f\u76ee\u6807url # url = 'https://www.baidu.com/s?wd=python' # \u6700\u540e\u6709\u6ca1\u6709\u95ee\u53f7\u7ed3\u679c\u90fd\u4e00\u6837 url = 'https://www.baidu.com/s?' # \u8bf7\u6c42\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178 \u5373wd=python kw = {'wd': 'python'} # \u5e26\u4e0a\u8bf7\u6c42\u53c2\u6570\u53d1\u8d77\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94 response = requests.get(url, headers=headers, params=kw) # \u5f53\u6709\u591a\u4e2a\u8bf7\u6c42\u53c2\u6570\u65f6\uff0crequests\u63a5\u6536\u7684params\u53c2\u6570\u4e3a\u591a\u4e2a\u952e\u503c\u5bf9\u7684\u5b57\u5178\uff0c\u6bd4\u5982 '?wd=python&a=c'-->{'wd': 'python', 'a': 'c'} print(response.content) ``` \u4e5f\u53ef\u4ee5\u76f4\u63a5\u5bf9 https://www.baidu.com/s?wd=python \u5b8c\u6574\u7684url\u76f4\u63a5\u53d1\u9001\u8bf7\u6c42\uff0c\u4e0d\u4f7f\u7528params\u53c2\u6570 ```python # \u65b9\u5f0f\u4e8c\uff1a\u76f4\u63a5\u53d1\u9001\u5e26\u53c2\u6570\u7684url\u7684\u8bf7\u6c42 import requests headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} url = 'https://www.baidu.com/s?wd=python' # kw = {'wd': 'python'} # url\u4e2d\u5305\u542b\u4e86\u8bf7\u6c42\u53c2\u6570\uff0c\u6240\u4ee5\u6b64\u65f6\u65e0\u9700params response = requests.get(url, headers=headers) ``` 6\u3001\u4f5c\u4e1a 1.\u83b7\u53d6\u65b0\u6d6a\u9996\u9875\uff0c\u67e5\u770bresponse.text \u548cresponse.content.decode()\u7684\u533a\u522b 2.\u5b9e\u73b0\u4efb\u610f\u8d34\u5427\u7684\u722c\u866b\uff0c\u4fdd\u5b58\u7f51\u9875\u5230\u672c\u5730 7\u3001\u5c0f\u7ed3 requests\u6a21\u5757\u7684\u4ecb\u7ecd\uff1a\u80fd\u591f\u5e2e\u52a9\u6211\u4eec\u53d1\u8d77\u8bf7\u6c42\u83b7\u53d6\u54cd\u5e94 requests\u7684\u57fa\u672c\u4f7f\u7528\uff1a requests.get(url) \u4ee5\u53caresponse\u5e38\u89c1\u7684\u5c5e\u6027\uff1a response.text \u54cd\u5e94\u4f53 str\u7c7b\u578b respones.content \u54cd\u5e94\u4f53 bytes\u7c7b\u578b response.status_code \u54cd\u5e94\u72b6\u6001\u7801 response.request.headers \u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u5934 response.headers \u54cd\u5e94\u5934 response.request._cookies \u54cd\u5e94\u5bf9\u5e94\u8bf7\u6c42\u7684cookie response.cookies \u54cd\u5e94\u7684cookie\uff08\u7ecf\u8fc7\u4e86set-cookie\u52a8\u4f5c\uff09 \u638c\u63e1 requests.text\u548ccontent\u7684\u533a\u522b\uff1atext\u8fd4\u56destr\u7c7b\u578b\uff0ccontent\u8fd4\u56debytes\u7c7b\u578b \u638c\u63e1 \u89e3\u51b3\u7f51\u9875\u7684\u89e3\u7801\u95ee\u9898\uff1a response.content.decode() response.content.decode(\"GBK\") response.text \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26headers\u7684\u8bf7\u6c42\uff1a requests.get(url, headers={}) \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26\u53c2\u6570\u7684get\u8bf7\u6c42\uff1a requests.get(url, params={}) \u4e8c\u3001requests\u6a21\u5757\u7684\u6df1\u5165\u4f7f\u7528 \u5b66\u4e60\u76ee\u6807\uff1a \u80fd\u591f\u5e94\u7528requests\u53d1\u9001post\u8bf7\u6c42\u7684\u65b9\u6cd5 \u80fd\u591f\u5e94\u7528requests\u6a21\u5757\u4f7f\u7528\u4ee3\u7406\u7684\u65b9\u6cd5 \u4e86\u89e3\u4ee3\u7406ip\u7684\u5206\u7c7b 1\u3001\u4f7f\u7528requests\u53d1\u9001POST\u8bf7\u6c42 \u601d\u8003\uff1a\u54ea\u4e9b\u5730\u65b9\u6211\u4eec\u4f1a\u7528\u5230POST\u8bf7\u6c42\uff1f \u767b\u5f55\u6ce8\u518c\uff08 POST \u6bd4 GET \u66f4\u5b89\u5168\uff09 \u9700\u8981\u4f20\u8f93\u5927\u6587\u672c\u5185\u5bb9\u7684\u65f6\u5019\uff08 POST \u8bf7\u6c42\u5bf9\u6570\u636e\u957f\u5ea6\u6ca1\u6709\u8981\u6c42\uff09 \u6240\u4ee5\u540c\u6837\u7684\uff0c\u6211\u4eec\u7684\u722c\u866b\u4e5f\u9700\u8981\u5728\u8fd9\u4e24\u4e2a\u5730\u65b9\u56de\u53bb\u6a21\u62df\u6d4f\u89c8\u5668\u53d1\u9001post\u8bf7\u6c42 1.1 requests\u53d1\u9001post\u8bf7\u6c42\u8bed\u6cd5\uff1a \u7528\u6cd5\uff1a python response = requests.post(\"http://www.baidu.com/\", data = data, headers=headers) data \u7684\u5f62\u5f0f\uff1a\u5b57\u5178 1.2 POST\u8bf7\u6c42\u7ec3\u4e60 \u4e0b\u9762\u9762\u6211\u4eec\u901a\u8fc7\u91d1\u5c71\u7ffb\u8bd1\u7684\u4f8b\u5b50\u770b\u770bpost\u8bf7\u6c42\u5982\u4f55\u4f7f\u7528\uff1a \u5730\u5740\uff1ahttps://www.iciba.com/fy \u601d\u8def\u5206\u6790 \u6293\u5305\u786e\u5b9a\u8bf7\u6c42\u7684url\u5730\u5740 \u786e\u5b9a\u8bf7\u6c42\u7684\u53c2\u6570 \u786e\u5b9a\u8fd4\u56de\u6570\u636e\u7684\u4f4d\u7f6e \u6a21\u62df\u6d4f\u89c8\u5668\u83b7\u53d6\u6570\u636e ```python import requests import json headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} url = 'https://ifanyi.iciba.com/index.php?c=trans&m=fy&client=6&auth_user=key_ciba&sign=99730f3bf66b2582' data = { 'from': 'zh', 'to': 'en', 'q': 'lucky \u662f\u4e00\u4e2a\u5e05\u6c14\u7684\u8001\u5e08' } res = requests.post(url, headers=headers, data=data) # print(res.status_code) # \u8fd4\u56de\u7684\u662fjson\u5b57\u7b26\u4e32 \u9700\u8981\u5728\u8fdb\u884c\u8f6c\u6362\u4e3a\u5b57\u5178 data = json.loads(res.content.decode('UTF-8')) # print(type(data)) print(data) print(data['content']['out']) ``` 1.3 \u5c0f\u7ed3 \u5728\u6a21\u62df\u767b\u9646\u7b49\u573a\u666f\uff0c\u7ecf\u5e38\u9700\u8981\u53d1\u9001post\u8bf7\u6c42\uff0c\u76f4\u63a5\u4f7f\u7528 requests.post(url,data) \u5373\u53ef 2\u3001\u4f7f\u7528\u4ee3\u7406 2.1 \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u4ee3\u7406 \u8ba9\u670d\u52a1\u5668\u4ee5\u4e3a\u4e0d\u662f\u540c\u4e00\u4e2a\u5ba2\u6237\u7aef\u5728\u8bf7\u6c42 \u9632\u6b62\u6211\u4eec\u7684\u771f\u5b9e\u5730\u5740\u88ab\u6cc4\u9732\uff0c\u9632\u6b62\u88ab\u8ffd\u7a76 2.2 \u7406\u89e3\u4f7f\u7528\u4ee3\u7406\u7684\u8fc7\u7a0b 2.3 \u7406\u89e3\u6b63\u5411\u4ee3\u7406\u548c\u53cd\u5411\u4ee3\u7406\u7684\u533a\u522b \u901a\u8fc7\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff1a \u6b63\u5411\u4ee3\u7406\uff1a\u5bf9\u4e8e\u6d4f\u89c8\u5668\u77e5\u9053\u670d\u52a1\u5668\u7684\u771f\u5b9e\u5730\u5740\uff0c\u4f8b\u5982VPN \u53cd\u5411\u4ee3\u7406\uff1a\u6d4f\u89c8\u5668\u4e0d\u77e5\u9053\u670d\u52a1\u5668\u7684\u771f\u5b9e\u5730\u5740\uff0c\u4f8b\u5982nginx \u8be6\u7ec6\u8bb2\u89e3\uff1a \u6b63\u5411\u4ee3\u7406\u662f\u5ba2\u6237\u7aef\u4e0e\u6b63\u5411\u4ee3\u7406\u5ba2\u6237\u7aef\u5728\u540c\u4e00\u5c40\u57df\u7f51\uff0c\u5ba2\u6237\u7aef\u53d1\u51fa\u8bf7\u6c42\uff0c\u6b63\u5411\u4ee3\u7406 \u66ff\u4ee3\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u3002\u670d\u52a1\u5668\u4e0d\u77e5\u9053\u8c01\u662f\u771f\u6b63\u7684\u5ba2\u6237\u7aef\uff0c\u6b63\u5411\u4ee3\u7406\u9690\u85cf\u4e86\u771f\u5b9e\u7684\u8bf7\u6c42\u5ba2\u6237\u7aef\u3002 \u53cd\u5411\u4ee3\u7406\uff1a\u670d\u52a1\u5668\u4e0e\u53cd\u5411\u4ee3\u7406\u5728\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\uff0c\u5ba2\u670d\u7aef\u53d1\u51fa\u8bf7\u6c42\uff0c\u53cd\u5411\u4ee3\u7406\u63a5\u6536\u8bf7\u6c42 \uff0c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u4f1a\u628a\u6211\u4eec\u7684\u8bf7\u6c42\u5206\u8f6c\u53d1\u5230\u771f\u5b9e\u63d0\u4f9b\u670d\u52a1\u7684\u5404\u53f0\u670d\u52a1\u5668Nginx\u5c31\u662f\u6027\u80fd\u975e\u5e38\u597d\u7684\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7528\u6765\u505a\u8d1f\u8f7d\u5747\u8861 2.4 \u4ee3\u7406\u7684\u4f7f\u7528 \u7528\u6cd5\uff1a proxies[\u02c8pr\u0251ksiz] python requests.get(\"http://httpbin.org/ip\", proxies = proxies) proxies\u7684\u5f62\u5f0f\uff1a\u5b57\u5178 \u4f8b\u5982\uff1a json proxies = { \"http\": \"http://12.34.56.79:9527\", \"https\": \"https://12.34.56.79:9527\", } 2.5 \u4ee3\u7406IP\u7684\u5206\u7c7b \u6839\u636e\u4ee3\u7406ip\u7684\u533f\u540d\u7a0b\u5ea6\uff0c\u4ee3\u7406IP\u53ef\u4ee5\u5206\u4e3a\u4e0b\u9762\u56db\u7c7b\uff1a \u900f\u660e\u4ee3\u7406(Transparent Proxy)\uff1a\u900f\u660e\u4ee3\u7406\u7684\u610f\u601d\u662f\u5ba2\u6237\u7aef\u6839\u672c\u4e0d\u9700\u8981\u77e5\u9053\u6709\u4ee3\u7406\u670d\u52a1\u5668\u7684\u5b58\u5728\uff0c\u4f46\u662f\u5b83\u4f20\u9001\u7684\u4ecd\u7136\u662f\u771f\u5b9e\u7684IP\u3002\u4f7f\u7528\u900f\u660e\u4ee3\u7406\u65f6\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u662f\u53ef\u4ee5\u77e5\u9053\u4f60\u4f7f\u7528\u4e86\u4ee3\u7406\u7684\uff0c\u5e76\u4e14\u4ed6\u4eec\u4e5f\u77e5\u9053\u4f60\u7684\u771f\u5b9eIP\u3002\u4f60\u8981\u60f3\u9690\u85cf\u7684\u8bdd\uff0c\u4e0d\u8981\u7528\u8fd9\u4e2a\u3002\u900f\u660e\u4ee3\u7406\u4e3a\u4ec0\u4e48\u65e0\u6cd5\u9690\u85cf\u8eab\u4efd\u5462?\u56e0\u4e3a\u4ed6\u4eec\u5c06\u4f60\u7684\u771f\u5b9eIP\u53d1\u9001\u7ed9\u4e86\u5bf9\u65b9\u670d\u52a1\u5668\uff0c\u6240\u4ee5\u65e0\u6cd5\u8fbe\u5230\u4fdd\u62a4\u771f\u5b9e\u4fe1\u606f\u3002 \u533f\u540d\u4ee3\u7406(Anonymous Proxy)\uff1a\u533f\u540d\u4ee3\u7406\u9690\u85cf\u4e86\u60a8\u7684\u771f\u5b9eIP\uff0c\u4f46\u662f\u5411\u8bbf\u95ee\u5bf9\u8c61\u53ef\u4ee5\u68c0\u6d4b\u662f\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u8bbf\u95ee\u4ed6\u4eec\u7684\u3002\u4f1a\u6539\u53d8\u6211\u4eec\u7684\u8bf7\u6c42\u4fe1\u606f\uff0c\u670d\u52a1\u5668\u7aef\u6709\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u6211\u4eec\u4f7f\u7528\u4e86\u4ee3\u7406\u3002\u4e0d\u8fc7\u4f7f\u7528\u6b64\u79cd\u4ee3\u7406\u65f6\uff0c\u867d\u7136\u88ab\u8bbf\u95ee\u7684\u7f51\u7ad9\u4e0d\u80fd\u77e5\u9053\u4f60\u7684ip\u5730\u5740\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u77e5\u9053\u4f60\u5728\u4f7f\u7528\u4ee3\u7406\uff0c\u5f53\u7136\u67d0\u4e9b\u80fd\u591f\u4fa6\u6d4bip\u7684\u7f51\u9875\u4e5f\u662f\u53ef\u4ee5\u67e5\u5230\u4f60\u7684ip\u3002\uff08https://wenku.baidu.com/view/9bf7b5bd3a3567ec102de2bd960590c69fc3d8cf.html\uff09 \u9ad8\u533f\u4ee3\u7406(Elite proxy\u6216High Anonymity Proxy)\uff1a\u9ad8\u533f\u540d\u4ee3\u7406\u4e0d\u6539\u53d8\u5ba2\u6237\u673a\u7684\u8bf7\u6c42\uff0c\u8fd9\u6837\u5728\u670d\u52a1\u5668\u770b\u6765\u5c31\u50cf\u6709\u4e2a\u771f\u6b63\u7684\u5ba2\u6237\u6d4f\u89c8\u5668\u5728\u8bbf\u95ee\u5b83\uff0c\u8fd9\u65f6\u5ba2\u6237\u7684\u771f\u5b9eIP\u662f\u9690\u85cf\u7684\uff0c\u5b8c\u5168\u7528\u4ee3\u7406\u670d\u52a1\u5668\u7684\u4fe1\u606f\u66ff\u4ee3\u4e86\u60a8\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5c31\u8c61\u60a8\u5c31\u662f\u5b8c\u5168\u4f7f\u7528\u90a3\u53f0\u4ee3\u7406\u670d\u52a1\u5668\u76f4\u63a5\u8bbf\u95ee\u5bf9\u8c61\uff0c\u540c\u65f6\u670d\u52a1\u5668\u7aef\u4e0d\u4f1a\u8ba4\u4e3a\u6211\u4eec\u4f7f\u7528\u4e86\u4ee3\u7406\u3002IPDIEA\u8986\u76d6\u5168\u7403240\uff0b\u56fd\u5bb6\u5730\u533aip\u9ad8\u533f\u540d\u4ee3\u7406\u4e0d\u5fc5\u62c5\u5fc3\u88ab\u8ffd\u8e2a\u3002 \u5728\u4f7f\u7528\u7684\u4f7f\u7528\uff0c\u6beb\u65e0\u7591\u95ee\u4f7f\u7528\u9ad8\u533f\u4ee3\u7406\u6548\u679c\u6700\u597d \u4ece\u8bf7\u6c42\u4f7f\u7528\u7684\u534f\u8bae\u53ef\u4ee5\u5206\u4e3a\uff1a http\u4ee3\u7406 https\u4ee3\u7406 socket\u4ee3\u7406\u7b49 \u4e0d\u540c\u5206\u7c7b\u7684\u4ee3\u7406\uff0c\u5728\u4f7f\u7528\u7684\u65f6\u5019\u9700\u8981\u6839\u636e\u6293\u53d6\u7f51\u7ad9\u7684\u534f\u8bae\u6765\u9009\u62e9 2.6 \u4ee3\u7406IP\u4f7f\u7528\u7684\u6ce8\u610f\u70b9 \u53cd\u53cd\u722c \u4f7f\u7528\u4ee3\u7406ip\u662f\u975e\u5e38\u5fc5\u8981\u7684\u4e00\u79cd \u53cd\u53cd\u722c \u7684\u65b9\u5f0f \u4f46\u662f\u5373\u4f7f\u4f7f\u7528\u4e86\u4ee3\u7406ip\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u4efb\u7136\u4f1a\u6709\u5f88\u591a\u7684\u65b9\u5f0f\u6765\u68c0\u6d4b\u6211\u4eec\u662f\u5426\u662f\u4e00\u4e2a\u722c\u866b\uff0c\u6bd4\u5982\uff1a \u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u68c0\u6d4bIP\u8bbf\u95ee\u7684\u9891\u7387\uff0c\u8bbf\u95ee\u592a\u591a\u9891\u7e41\u4f1a\u5c4f\u853d \u68c0\u67e5Cookie\uff0cUser-Agent\uff0cReferer\u7b49header\u53c2\u6570\uff0c\u82e5\u6ca1\u6709\u5219\u5c4f\u853d \u670d\u52a1\u65b9\u8d2d\u4e70\u6240\u6709\u4ee3\u7406\u63d0\u4f9b\u5546\uff0c\u52a0\u5165\u5230\u53cd\u722c\u866b\u6570\u636e\u5e93\u91cc\uff0c\u82e5\u68c0\u6d4b\u662f\u4ee3\u7406\u5219\u5c4f\u853d \u6240\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5728\u4f7f\u7528\u4ee3\u7406ip\u7684\u65f6\u5019\u4f7f\u7528\u968f\u673a\u7684\u65b9\u5f0f\u8fdb\u884c\u9009\u62e9\u4f7f\u7528\uff0c\u4e0d\u8981\u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u4ee3\u7406ip \u4ee3\u7406ip\u6c60\u7684\u66f4\u65b0 \u8d2d\u4e70\u7684\u4ee3\u7406ip\u5f88\u591a\u65f6\u5019\u5927\u90e8\u5206(\u8d85\u8fc760%)\u53ef\u80fd\u90fd\u6ca1\u529e\u6cd5\u4f7f\u7528\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u901a\u8fc7\u7a0b\u5e8f\u53bb\u68c0\u6d4b\u54ea\u4e9b\u53ef\u7528\uff0c\u628a\u4e0d\u80fd\u7528\u7684\u5220\u9664\u6389\u3002 \u4ee3\u7406\u670d\u52a1\u5668\u5e73\u53f0\u7684\u4f7f\u7528\uff1a \u5f53\u7136\u8fd8\u6709\u5f88\u591a\u514d\u8d39\u7684\uff0c\u4f46\u662f\u5927\u591a\u90fd\u4e0d\u53ef\u7528\u9700\u8981\u81ea\u5df1\u5c1d\u8bd5 http://www.66ip.cn https://ip.jiangxianli.com/?page=1 https://www.zdaye.com https://www.kuaidaili.com/free 3\u3001\u914d\u7f6e \u6d4f\u89c8\u5668\u914d\u7f6e\u4ee3\u7406 \u53f3\u8fb9\u4e09\u70b9\\==> \u8bbe\u7f6e\\==> \u9ad8\u7ea7\\==> \u4ee3\u7406\\==> \u5c40\u57df\u7f51\u8bbe\u7f6e\\==> \u4e3aLAN\u4f7f\u7528\u4ee3\u7406==> \u8f93\u5165ip\u548c\u7aef\u53e3\u53f7\u5373\u53ef \u53c2\u8003\u7f51\u5740\uff1ahttps://jingyan.baidu.com/article/a681b0dece76407a1843468d.html \u4ee3\u7801\u914d\u7f6e urllib python handler = urllib.request.ProxyHandler({'http': '114.215.95.188:3128'}) opener = urllib.request.build_opener(handler) # \u540e\u7eed\u90fd\u4f7f\u7528opener.open\u65b9\u6cd5\u53bb\u53d1\u9001\u8bf7\u6c42\u5373\u53ef requests ```python # \u7528\u5230\u7684\u5e93 import requests # \u5199\u5165\u83b7\u53d6\u5230\u7684ip\u5730\u5740\u5230proxy # \u4e00\u4e2aip\u5730\u5740 proxy = { 'http':'http://221.178.232.130:8080' } \"\"\" # \u591a\u4e2aip\u5730\u5740 proxy = [ {'http':'http://221.178.232.130:8080'}, {'http':'http://221.178.232.130:8080'} ] import random proxy = random.choice(proxy) \"\"\" # \u4f7f\u7528\u4ee3\u7406 proxy = { 'http': 'http://58.20.184.187:9091' } # \u4e24\u79cd\u65b9\u5f0f\u90fd\u53ef\u4ee5 \"\"\" proxy = { 'http': '58.20.184.187:9091' } \"\"\" result = requests.get(\"http://httpbin.org/ip\", proxies=proxy) print(result.text) ``` 4\u3001\u5c0f\u7ed3 requests\u53d1\u9001post\u8bf7\u6c42\u4f7f\u7528requests.post\u65b9\u6cd5\uff0c\u5e26\u4e0a\u8bf7\u6c42\u4f53\uff0c\u5176\u4e2d\u8bf7\u6c42\u4f53\u9700\u8981\u65f6\u5b57\u5178\u7684\u5f62\u5f0f\uff0c\u4f20\u9012\u7ed9data\u53c2\u6570\u63a5\u6536 \u5728requests\u4e2d\u4f7f\u7528\u4ee3\u7406\uff0c\u9700\u8981\u51c6\u5907\u5b57\u5178\u5f62\u5f0f\u7684\u4ee3\u7406\uff0c\u4f20\u9012\u7ed9proxies\u53c2\u6570\u63a5\u6536 \u4e0d\u540c\u534f\u8bae\u7684url\u5730\u5740\uff0c\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684\u4ee3\u7406\u53bb\u8bf7\u6c42 \u4e09\u3001requests\u6a21\u5757\u5904\u7406cookie\u76f8\u5173\u7684\u8bf7\u6c42 \u5b66\u4e60\u76ee\u6807 \u638c\u63e1requests\u5904\u7406cookie\u7684\u4e09\u79cd\u65b9\u6cd5 1 \u722c\u866b\u4e2d\u4f7f\u7528cookie \u4e3a\u4e86\u80fd\u591f\u901a\u8fc7\u722c\u866b\u83b7\u53d6\u5230\u767b\u5f55\u540e\u7684\u9875\u9762\uff0c\u6216\u8005\u662f\u89e3\u51b3\u901a\u8fc7cookie\u7684\u53cd\u6252\uff0c\u9700\u8981\u4f7f\u7528request\u6765\u5904\u7406cookie\u76f8\u5173\u7684\u8bf7\u6c42 1.1 \u722c\u866b\u4e2d\u4f7f\u7528cookie\u7684\u5229\u5f0a \u5e26\u4e0acookie\u7684\u597d\u5904 \u80fd\u591f\u8bbf\u95ee\u767b\u5f55\u540e\u7684\u9875\u9762 \u80fd\u591f\u5b9e\u73b0\u90e8\u5206\u53cd\u53cd\u722c \u5e26\u4e0acookie\u7684\u574f\u5904 \u4e00\u5957cookie\u5f80\u5f80\u5bf9\u5e94\u7684\u662f\u4e00\u4e2a\u7528\u6237\u7684\u4fe1\u606f\uff0c\u8bf7\u6c42\u592a\u9891\u7e41\u6709\u66f4\u5927\u7684\u53ef\u80fd\u6027\u88ab\u5bf9\u65b9\u8bc6\u522b\u4e3a\u722c\u866b \u90a3\u4e48\u4e0a\u9762\u7684\u95ee\u9898\u5982\u4f55\u89e3\u51b3 ?\u4f7f\u7528\u591a\u4e2a\u8d26\u53f7 1.2 requests\u5904\u7406cookie\u7684\u65b9\u6cd5 \u4f7f\u7528requests\u5904\u7406cookie\u6709\u4e09\u79cd\u65b9\u6cd5\uff1a + cookie\u5b57\u7b26\u4e32\u653e\u5728headers\u4e2d + \u628acookie\u5b57\u5178\u653e\u4f20\u7ed9\u8bf7\u6c42\u65b9\u6cd5\u7684cookies\u53c2\u6570\u63a5\u6536 + \u4f7f\u7528requests\u63d0\u4f9b\u7684session\u6a21\u5757 2\u3001cookie\u6dfb\u52a0\u5728heades\u4e2d 2.1 headers\u4e2dcookie\u7684\u4f4d\u7f6e headers\u4e2d\u7684cookie\uff1a \u4f7f\u7528\u5206\u53f7(;)\u9694\u5f00 \u5206\u53f7\u4e24\u8fb9\u7684\u7c7b\u4f3ca=b\u5f62\u5f0f\u7684\u8868\u793a\u4e00\u6761cookie a=b\u4e2d\uff0ca\u8868\u793a\u952e\uff08name\uff09\uff0cb\u8868\u793a\u503c\uff08value\uff09 \u5728headers\u4e2d\u4ec5\u4ec5\u4f7f\u7528\u4e86cookie\u7684name\u548cvalue 2.2 cookie\u7684\u5177\u4f53\u7ec4\u6210\u7684\u5b57\u6bb5 \u7531\u4e8eheaders\u4e2d\u5bf9cookie\u4ec5\u4ec5\u4f7f\u7528\u5b83\u7684name\u548cvalue\uff0c\u6240\u4ee5\u5728\u4ee3\u7801\u4e2d\u6211\u4eec\u4ec5\u4ec5\u9700\u8981cookie\u7684name\u548cvalue\u5373\u53ef 2.3 \u5728headers\u4e2d\u4f7f\u7528cookie \u590d\u5236\u6d4f\u89c8\u5668\u4e2d\u7684cookie\u5230\u4ee3\u7801\u4e2d\u4f7f\u7528 headers = { \"User-Agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\", \"Cookie\":\" Pycharm-26c2d973=dbb9b300-2483-478f-9f5a-16ca4580177e; Hm_lvt_98b9d8c2fd6608d564bf2ac2ae642948=1512607763; Pycharm-26c2d974=f645329f-338e-486c-82c2-29e2a0205c74; _xsrf=2|d1a3d8ea|c5b07851cbce048bd5453846445de19d|1522379036\"} requests.get(url,headers=headers) \u6ce8\u610f\uff1a cookie\u6709\u8fc7\u671f\u65f6\u95f4 \uff0c\u6240\u4ee5\u76f4\u63a5\u590d\u5236\u6d4f\u89c8\u5668\u4e2d\u7684cookie\u53ef\u80fd\u610f\u5473\u7740\u4e0b\u4e00\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u884c\u7684\u65f6\u5019\u9700\u8981\u66ff\u6362\u4ee3\u7801\u4e2d\u7684cookie\uff0c\u5bf9\u5e94\u7684\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u7a0b\u5e8f\u4e13\u95e8\u6765\u83b7\u53d6cookie\u4f9b\u5176\u4ed6\u7a0b\u5e8f\u4f7f\u7528\uff1b\u5f53\u7136\u4e5f\u6709\u5f88\u591a\u7f51\u7ad9\u7684cookie\u8fc7\u671f\u65f6\u95f4\u5f88\u957f\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u76f4\u63a5\u590d\u5236cookie\u6765\u4f7f\u7528\u66f4\u52a0\u7b80\u5355 3\u3001\u4f7f\u7528cookies\u53c2\u6570\u63a5\u6536\u5b57\u5178\u5f62\u5f0f\u7684cookie cookies\u7684\u5f62\u5f0f\uff1a\u5b57\u5178 cookies = {\"cookie\u7684name\":\"cookie\u7684value\"} \u4f7f\u7528\u65b9\u6cd5\uff1a requests.get(url,headers=headers,cookies=cookie_dict} \u5b9e\u4f8b\uff08\u722c\u53d6\u96ea\u7403\u7f51\uff09 https://xueqiu.com/ \u5728\u7f51\u7edc\u4e2d\u627e\u5230\u5f53\u524d\u8bf7\u6c42\u7684\u7f51\u5740 \u70b9\u51fbcookies \u5c06\u5f53\u524d\u7684k,value\u590d\u5236\u5230\u4ee3\u7801\u4e2d python cookie_dict = { 'u': '1990923459', 'bid': '1f110dfd43538f4b8362dfcd21ffbb64_l27g4lfl', 'xq_is_login': '1', 'xq_r_token': '5dcbe83944f0b75325f91246061d4a2a01999367' } \u5b8c\u6574\u4ee3\u7801 ```python import requests # \u643a\u5e26cookie\u767b\u5f55\u96ea\u7403\u7f51 \u6293\u53d6\u5b8c\u5584\u4e2a\u4eba\u8d44\u6599\u9875\u9762 headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36', 'Referer': 'https://xueqiu.com/u/1990923459', 'Host': 'xueqiu.com', } url = 'https://xueqiu.com/users/connectnew?redirect=/setting/user' cookie_dict = { 'u': '1990923459', 'bid': '1f110dfd43538f4b8362dfcd21ffbb64_l27g4lfl', 'xq_is_login': '1', 'xq_r_token': '5dcbe83944f0b75325f91246061d4a2a01999367' } res = requests.get(url, headers=headers, cookies=cookie_dict) with open('\u96ea\u7403\u7f51.html', 'w') as f: f.write(res.content.decode('UTF-8')) print(res.content.decode('UTF-8')) ``` \u6210\u679c 4\u3001\u4f7f\u7528requests.session\u5904\u7406cookie \u524d\u9762\u4f7f\u7528\u624b\u52a8\u7684\u65b9\u5f0f\u4f7f\u7528cookie\uff0c\u90a3\u4e48\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\u5728requets\u4e2d\u5904\u7406cookie\u5462\uff1f requests \u63d0\u4f9b\u4e86\u4e00\u4e2a\u53eb\u505asession\u7c7b\uff0c\u6765\u5b9e\u73b0\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684 \u4f1a\u8bdd\u4fdd\u6301 \u4f1a\u8bdd\u4fdd\u6301\u6709\u4e24\u4e2a\u5185\u6db5\uff1a \u4fdd\u5b58cookie\uff0c\u4e0b\u4e00\u6b21\u8bf7\u6c42\u4f1a\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie \u5b9e\u73b0\u548c\u670d\u52a1\u7aef\u7684\u957f\u8fde\u63a5\uff0c\u52a0\u5feb\u8bf7\u6c42\u901f\u5ea6 4.1 \u4f7f\u7528\u65b9\u6cd5 session = requests.session() response = session.get(url,headers) session\u5b9e\u4f8b\u5728\u8bf7\u6c42\u4e86\u4e00\u4e2a\u7f51\u7ad9\u540e\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u8bbe\u7f6e\u5728\u672c\u5730\u7684cookie\u4f1a\u4fdd\u5b58\u5728session\u4e2d\uff0c\u4e0b\u4e00\u6b21\u518d\u4f7f\u7528session\u8bf7\u6c42\u5bf9\u65b9\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u4f1a\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie 4.2 \u4f7f\u7528\u4ee3\u7406 poixes = {'http': '61.150.96.27:368801'} req = sess.get(url,headers=headers, proxies=poixes) \u5b9e\u4f8b from lxml import etree import requests url = 'https://xueqiu.com/statuses/hot/listV2.json?since_id=-1&max_id=364193&size=15' # \u624b\u52a8\u643a\u5e26cookie\u8fdb\u884c\u8bf7\u6c42 headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15', } sess = requests.Session() #\u521b\u5efa\u4e86\u4e00\u4e2asession\u5bf9\u8c61 #\u5c1d\u8bd5\u57fa\u4e8esess\u53d1\u8d77\u8bf7\u6c42\u52a8\u6001\u6355\u83b7cookie main_url = 'https://xueqiu.com/' sess.get(main_url,headers=headers) poixes = {'http': '61.150.96.27:368801'} req = sess.get(url,headers=headers, proxies=poixes) #\u643a\u5e26\u4e86cookie\u8fdb\u884c\u8bf7\u6c42\u53d1\u9001 for i in req.json()['items']: print(i['original_status']['description']) 4.3 \u8bbe\u7f6e adapters[\u0259\u02c8d\u00e6pt\u0259rz] # \u9891\u7e41\u8bf7\u6c42\u67d0\u4e2a\u7f51\u5740\u5076\u5c14\u4f1a\u62a5\u9519\u8bf7\u6c42\u8d85\u65f6\uff0c\u53ef\u91c7\u7528\u4e0b\u9762\u65b9\u5f0f\u964d\u4f4e\u5931\u8d25\u7387\uff0c\u8bbe\u7f6e\u91cd\u8bd5\u6b21\u6570\u4e3a5\uff0c\u4f1a\u8bdd\u8bbe\u7f6e\u4e3a\u4e0d\u7ef4\u6301\u8fde\u63a5. requests.adapters.DEFAULT_RETRIES = 5 # \u8bbe\u7f6e\u8fde\u63a5\u6d3b\u8dc3\u72b6\u6001\u4e3aFalse s = requests.session() s.keep_alive = False from lxml import etree import requests url = 'https://xueqiu.com/statuses/hot/listV2.json?since_id=-1&max_id=364193&size=15' # \u624b\u52a8\u643a\u5e26cookie\u8fdb\u884c\u8bf7\u6c42 headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15', } # \u9891\u7e41\u8bf7\u6c42\u67d0\u4e2a\u7f51\u5740\u5076\u5c14\u4f1a\u62a5\u9519\u8bf7\u6c42\u8d85\u65f6\uff0c\u53ef\u91c7\u7528\u4e0b\u9762\u65b9\u5f0f\u964d\u4f4e\u5931\u8d25\u7387\uff0c\u8bbe\u7f6e\u91cd\u8bd5\u6b21\u6570\u4e3a5\uff0c\u4f1a\u8bdd\u8bbe\u7f6e\u4e3a\u4e0d\u7ef4\u6301\u8fde\u63a5. requests.adapters.DEFAULT_RETRIES = 5 sess = requests.Session() #\u521b\u5efa\u4e86\u4e00\u4e2asession\u5bf9\u8c61 sess.keep_alive = False #\u5c1d\u8bd5\u57fa\u4e8esess\u53d1\u8d77\u8bf7\u6c42\u52a8\u6001\u6355\u83b7cookie main_url = 'https://xueqiu.com/' sess.get(main_url,headers=headers) poixes = {'http': '61.150.96.27:368801'} req = sess.get(url,headers=headers, proxies=poixes) #\u643a\u5e26\u4e86cookie\u8fdb\u884c\u8bf7\u6c42\u53d1\u9001 for i in req.json()['items']: print(i['original_status']['description']) \u6ce8\u610f\uff1a\u5982\u679c\u722c\u53d6\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0a\u914d\u7f6e HTTPConnectionPool(host='172.19.5.101', port=8085): Max retries exceeded with url: <url >(Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x006DB1F0>, 'Connection to <server ip> timed out. (connect timeout=10)')) \u57fa\u672c\u4e0a\u610f\u601d\u5c31\u662f\u53d1\u51fa\u7684\u7f51\u7edc\u8bf7\u6c42\u6bd4\u8f83\u9891\u7e41\uff0crequests\u5185\u7f6e\u7684urllibs3\u4e0d\u80fd\u53ca\u65f6\u7684\u4e3a\u6211\u4eec\u65ad\u5f00\u8fde\u63a5\uff0c\u4e8e\u662f\u5c31\u6709\u4e86\u4ee5\u4e0a\u62a5\u9519\u3002 \u4ee3\u7801\u7684\u57fa\u672c\u610f\u601d\u5c31\u662f\u65ad\u5f00\u8fde\u63a5\u3001\u589e\u52a0\u91cd\u8bd5\u6b21\u6570\u3002 4.4 \u52a8\u624b\u7ec3\u4e60\uff1a\u6a21\u62df\u767b\u9646 17k\u5c0f\u8bf4\u7f51 https://passport.17k.com/ \u53e4\u8bd7\u6587\uff1ahttps://so.gushiwen.cn \u6253\u7801\u5e73\u53f0 \u56fe\u9274 http://www.ttshitu.com/ \u601d\u8def\u5206\u6790 \u51c6\u5907url\u5730\u5740\u548c\u8bf7\u6c42\u53c2\u6570 \u6784\u9020session\u53d1\u9001post\u8bf7\u6c42 \u4f7f\u7528session\u8bf7\u6c42\u4e2a\u4eba\u4e3b\u9875\uff0c\u89c2\u5bdf\u662f\u5426\u8bf7\u6c42\u6210\u529f 5\u3001\u5c0f\u7ed3 cookie\u5b57\u7b26\u4e32\u53ef\u4ee5\u653e\u5728headers\u5b57\u5178\u4e2d\uff0c\u952e\u4e3aCookie\uff0c\u503c\u4e3acookie\u5b57\u7b26\u4e32 \u53ef\u4ee5\u628acookie\u5b57\u7b26\u4e32\u8f6c\u5316\u4e3a\u5b57\u5178\uff0c\u4f7f\u7528\u8bf7\u6c42\u65b9\u6cd5\u7684cookies\u53c2\u6570\u63a5\u6536 \u4f7f\u7528requests\u63d0\u4f9b\u7684session\u6a21\u5757\uff0c\u80fd\u591f\u81ea\u52a8\u5b9e\u73b0cookie\u7684\u5904\u7406\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u65f6\u5019\u643a\u5e26cookie\uff0c\u83b7\u53d6\u54cd\u5e94\u7684\u65f6\u5019\u4fdd\u5b58cookie \u56db\u3001requests\u6a21\u5757\u7684\u5176\u4ed6\u65b9\u6cd5 \u5b66\u4e60\u76ee\u6807 \u638c\u63e1requests\u4e2dcookirJar\u7684\u5904\u7406\u65b9\u6cd5 \u638c\u63e1requests\u89e3\u51b3https\u8bc1\u4e66\u9519\u8bef\u7684\u95ee\u9898 \u638c\u63e1requests\u4e2d\u8d85\u65f6\u53c2\u6570\u7684\u4f7f\u7528 \u638c\u63e1retrying\u6a21\u5757\u7684\u4f7f\u7528 1\u3001requests\u4e2dcookirJar\u7684\u5904\u7406\u65b9\u6cd5 \u4f7f\u7528request\u83b7\u53d6\u7684resposne\u5bf9\u8c61\uff0c\u5177\u6709cookies\u5c5e\u6027\uff0c\u80fd\u591f\u83b7\u53d6\u5bf9\u65b9\u670d\u52a1\u5668\u8bbe\u7f6e\u5728\u672c\u5730\u7684cookie\uff0c\u4f46\u662f\u5982\u4f55\u4f7f\u7528\u8fd9\u4e9bcookie\u5462\uff1f 1.1 \u65b9\u6cd5\u4ecb\u7ecd response.cookies\u662fCookieJar\u7c7b\u578b \u4f7f\u7528requests.utils.dict_from_cookiejar\uff0c\u80fd\u591f\u5b9e\u73b0\u628acookiejar\u5bf9\u8c61\u8f6c\u5316\u4e3a\u5b57\u5178 1.2 \u65b9\u6cd5\u5c55\u793a import requests url = \"http://www.baidu.com\" #\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6resposne response = requests.get(url) print(type(response.cookies)) #\u4f7f\u7528\u65b9\u6cd5\u4ececookiejar\u4e2d\u63d0\u53d6\u6570\u636e \u7b49\u540c\u4e8e dict(response.cookies) cookies = requests.utils.dict_from_cookiejar(response.cookies) print(cookies) \u8f93\u51fa\u4e3a: <class 'requests.cookies.RequestsCookieJar'> {'BDORZ': '27315'} \u6ce8\u610f\uff1a \u5728\u524d\u9762\u7684requests\u7684session\u7c7b\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u5904\u7406cookie\u7684\u4efb\u4f55\u7ec6\u8282\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0\u65b9\u6cd5\u6765\u89e3\u51b3 2\u3001requests\u5904\u7406\u8bc1\u4e66\u9519\u8bef \u7ecf\u5e38\u6211\u4eec\u5728\u7f51\u4e0a\u51b2\u6d6a\u65f6\uff0c\u7ecf\u5e38\u80fd\u591f\u770b\u5230\u4e0b\u9762\u7684\u63d0\u793a\uff1a \u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u7684\u539f\u56e0\u662f\uff1assl\u7684\u8bc1\u4e66\u4e0d\u5b89\u5168\u5bfc\u81f4 2.1 \u4ee3\u7801\u4e2d\u53d1\u8d77\u8bf7\u6c42\u7684\u6548\u679c \u90a3\u4e48\u5982\u679c\u5728\u4ee3\u7801\u4e2d\u8bf7\u6c42\u4f1a\u600e\u4e48\u6837\u5462\uff1f import requests url = \"https://www.12306.cn/mormhweb/\" response = requests.get(url) \u8fd4\u56de\u8bc1\u4e66\u9519\u8bef\uff0c\u5982\u4e0b\uff1a ssl.CertificateError ... 2.2 \u89e3\u51b3\u65b9\u6848 \u4e3a\u4e86\u5728\u4ee3\u7801\u4e2d\u80fd\u591f\u6b63\u5e38\u7684\u8bf7\u6c42\uff0c\u6211\u4eec\u4fee\u6539\u6dfb\u52a0\u4e00\u4e2a\u53c2\u6570 import requests url = \"https://www.12306.cn/mormhweb/\" response = requests.get(url,verify=False) 3\u3001\u8d85\u65f6\u53c2\u6570\u7684\u4f7f\u7528 \u5728\u5e73\u65f6\u7f51\u4e0a\u51b2\u6d6a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u4f1a\u9047\u5230\u7f51\u7edc\u6ce2\u52a8\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u4e00\u4e2a\u8bf7\u6c42\u7b49\u4e86\u5f88\u4e45\u53ef\u80fd\u4efb\u7136\u6ca1\u6709\u7ed3\u679c \u5728\u722c\u866b\u4e2d\uff0c\u4e00\u4e2a\u8bf7\u6c42\u5f88\u4e45\u6ca1\u6709\u7ed3\u679c\uff0c\u5c31\u4f1a\u8ba9\u6574\u4e2a\u9879\u76ee\u7684\u6548\u7387\u53d8\u5f97\u975e\u5e38\u4f4e\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u9700\u8981\u5bf9\u8bf7\u6c42\u8fdb\u884c\u5f3a\u5236\u8981\u6c42\uff0c\u8ba9\u4ed6\u5fc5\u987b\u5728\u7279\u5b9a\u7684\u65f6\u95f4\u5185\u8fd4\u56de\u7ed3\u679c\uff0c\u5426\u5219\u5c31\u62a5\u9519 3.1 \u8d85\u65f6\u53c2\u6570\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a response = requests.get(url,timeout=3) \u901a\u8fc7\u6dfb\u52a0timeout\u53c2\u6570\uff0c\u80fd\u591f\u4fdd\u8bc1\u57283\u79d2\u949f\u5185\u8fd4\u56de\u54cd\u5e94\uff0c\u5426\u5219\u4f1a\u62a5\u9519 \u6ce8\u610f\uff1a \u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u80fd\u591f\u62ff\u6765\u68c0\u6d4b\u4ee3\u7406ip\u7684\u8d28\u91cf\uff0c\u5982\u679c\u4e00\u4e2a\u4ee3\u7406ip\u5728\u5f88\u957f\u65f6\u95f4\u6ca1\u6709\u54cd\u5e94\uff0c\u90a3\u4e48\u6dfb\u52a0\u8d85\u65f6\u4e4b\u540e\u4e5f\u4f1a\u62a5\u9519\uff0c\u5bf9\u5e94\u7684\u8fd9\u4e2aip\u5c31\u53ef\u4ee5\u4ece\u4ee3\u7406ip\u6c60\u4e2d\u5220\u9664 4\u3001retrying\u6a21\u5757\u7684\u4f7f\u7528 \u4f7f\u7528\u8d85\u65f6\u53c2\u6570\u80fd\u591f\u52a0\u5feb\u6211\u4eec\u6574\u4f53\u7684\u8bf7\u6c42\u901f\u5ea6\uff0c\u4f46\u662f\u5728\u6b63\u5e38\u7684\u7f51\u9875\u6d4f\u89c8\u8fc7\u6210\u529f\uff0c\u5982\u679c\u53d1\u751f\u901f\u5ea6\u5f88\u6162\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4f1a\u505a\u7684\u9009\u62e9\u662f \u5237\u65b0\u9875\u9762 \uff0c\u90a3\u4e48\u5728\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u662f\u5426\u4e5f\u53ef\u4ee5\u5237\u65b0\u8bf7\u6c42\u5462\uff1f \u5bf9\u5e94\u7684\uff0cretrying\u6a21\u5757\u5c31\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3 4.1 retrying\u6a21\u5757\u7684\u4f7f\u7528 retrying\u6a21\u5757\u7684\u5730\u5740\uff1ahttps://pypi.org/project/retrying/ pip install retrying retrying \u6a21\u5757\u7684\u4f7f\u7528 \u4f7f\u7528retrying\u6a21\u5757\u63d0\u4f9b\u7684retry\u6a21\u5757 \u901a\u8fc7\u88c5\u9970\u5668\u7684\u65b9\u5f0f\u4f7f\u7528\uff0c\u8ba9\u88ab\u88c5\u9970\u7684\u51fd\u6570\u53cd\u590d\u6267\u884c retry\u4e2d\u53ef\u4ee5\u4f20\u5165\u53c2\u6570 stop_max_attempt_number ,\u8ba9\u51fd\u6570\u62a5\u9519\u540e\u7ee7\u7eed\u91cd\u65b0\u6267\u884c\uff0c\u8fbe\u5230\u6700\u5927\u6267\u884c\u6b21\u6570\u7684\u4e0a\u9650\uff0c\u5982\u679c\u6bcf\u6b21\u90fd\u62a5\u9519\uff0c\u6574\u4e2a\u51fd\u6570\u62a5\u9519\uff0c\u5982\u679c\u4e2d\u95f4\u6709\u4e00\u4e2a\u6210\u529f\uff0c\u7a0b\u5e8f\u7ee7\u7eed\u5f80\u540e\u6267\u884c 4.2 retrying\u548crequests\u7684\u7b80\u5355\u5c01\u88c5 \u5b9e\u73b0\u4e00\u4e2a\u53d1\u9001\u8bf7\u6c42\u7684\u51fd\u6570\uff0c\u6bcf\u6b21\u722c\u866b\u4e2d\u76f4\u63a5\u8c03\u7528\u8be5\u51fd\u6570\u5373\u53ef\u5b9e\u73b0\u53d1\u9001\u8bf7\u6c42\uff0c\u5728\u5176\u4e2d \u4f7f\u7528timeout\u5b9e\u73b0\u8d85\u65f6\u62a5\u9519 \u4f7f\u7528retrying\u6a21\u5757\u5b9e\u73b0\u91cd\u8bd5 \u4ee3\u7801\u53c2\u8003: # parse.py import requests from retrying import retry headers = {} #\u6700\u5927\u91cd\u8bd53\u6b21\uff0c3\u6b21\u5168\u90e8\u62a5\u9519\uff0c\u624d\u4f1a\u62a5\u9519 @retry(stop_max_attempt_number=3) def _parse_url(url): #\u8d85\u65f6\u7684\u65f6\u5019\u56de\u62a5\u9519\u5e76\u91cd\u8bd5 response = requests.get(url, headers=headers, timeout=3) #\u72b6\u6001\u7801\u4e0d\u662f200\uff0c\u4e5f\u4f1a\u62a5\u9519\u5e76\u91cd\u8bd5 assert response.status_code == 200 return response def parse_url(url): try: #\u8fdb\u884c\u5f02\u5e38\u6355\u83b7 response = _parse_url(url) except Exception as e: print(e) #\u62a5\u9519\u8fd4\u56deNone response = None return response stop_max_attempt_number\uff1a\u6700\u5927\u91cd\u8bd5\u6b21\u6570\uff0c\u8d85\u8fc7\u8be5\u6b21\u6570\u5c31\u505c\u6b62\u91cd\u8bd5 \u6beb\u79d2 stop_max_delay\uff1a\u6700\u5927\u5ef6\u8fdf\u65f6\u95f4\uff08\u6267\u884c\u8fd9\u4e2a\u65b9\u6cd5\u91cd\u8bd5\u7684\u603b\u65f6\u95f4\uff09\uff0c\u8d85\u8fc7\u8be5\u65f6\u95f4\u5c31\u505c\u6b62\u6beb\u79d2 wait_fixed\uff1a\u4e24\u6b21retrying\u4e4b\u95f4\u7684\u7b49\u5f85\u65f6\u95f4\u6beb\u79d2 wait_random_min\u548cwait_random_max\uff1a\u7528\u968f\u673a\u7684\u65b9\u5f0f\u4ea7\u751f\u4e24\u6b21retrying\u4e4b\u95f4\u7684\u7b49\u5f85\u65f6\u95f4\u6beb\u79d2 wait_incrementing_start\u548cwait_incrementing_increment\uff1a\u6bcf\u8c03\u7528\u4e00\u6b21\u589e\u52a0\u56fa\u5b9a\u65f6\u957f\u6beb\u79d2 wait_exponential_multiplier\u548cwait_exponential_max\uff1a\u4ee5\u6307\u6570\u7684\u5f62\u5f0f\u4ea7\u751f\u4e24\u6b21retrying\u4e4b\u95f4\u7684\u7b49\u5f85\u65f6\u95f4\uff0c\u4ea7\u751f\u7684\u503c\u4e3a2^previous_attempt_number * wait_exponential_multiplier\uff0cprevious_attempt_number\u662f\u524d\u9762\u5df2\u7ecfretry\u7684\u6b21\u6570\uff0c\u5982\u679c\u4ea7\u751f\u7684\u8fd9\u4e2a\u503c\u8d85\u8fc7\u4e86wait_exponential_max\u7684\u5927\u5c0f\uff0c\u90a3\u4e48\u4e4b\u540e\u4e24\u4e2aretrying\u4e4b\u95f4\u7684\u505c\u7559\u503c\u90fd\u4e3await_exponential_max\u3002 5\u3001fake_useragent\u6a21\u5757 \u4f5c\u7528\uff1a\u968f\u673a\u8fd4\u56deUser-Agent \u5b89\u88c5\uff1a pip install fake_useragent \u4f7f\u7528\uff1a from fake_useragent import UserAgent # \u6307\u5b9a\u6d4f\u89c8\u5668\u540d\u79f0 ua = UserAgent() print(ua.ie) print(ua.firefox) print(ua.chrome) \u6ce8\u610f\uff1a\u5982\u679c\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u62a5\u5982\u4e0b\u9519\u8bef fake_useragent Maximum amount of retries reached... \u89e3\u51b3\uff1a \u200b \u7b2c\u4e00\u6b65 \u51c6\u5907\u9700\u8981\u7684 json \u6587\u4ef6\uff1a \u200b \u521b\u5efa\u4e00\u4e2a json \u6587\u4ef6\u6216\u8005\u76f4\u63a5\u4e0b\u8f7d\u9700\u8981\u7684 json \u6587\u4ef6\uff0cjson \u6587\u4ef6\u7684\u5185\u5bb9\uff08\u4e0b\u8f7d\u8fde\u63a5\uff09\u6211\u653e\u5230\u6587\u7ae0\u5e95\u90e8\u53ef\u4ee5\u901a\u8fc7\u590d\u5236\u81ea\u5df1\u5199\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u6587\u4ef6\u4f7f\u7528\uff1b \u51c6\u5907\u597d json \u6587\u4ef6\u540e\u5c06 json \u6587\u4ef6\u653e\u5230\u4e0e fake.py \u6587\u4ef6\u540c\u4e00\u6587\u4ef6\u5939\u91cc\u9762\uff08\u5982\u4e0a\u56fe\uff09\uff1b\u6587\u4ef6\u4f4d\u7f6e\u627e\u5230\u65b9\u6cd5\uff1a Ctrl \u70b9\u51fb UserAgent \u2192 \u70b9\u51fb\u6587\u4ef6\u53f3\u952e \u2192 \u6253\u5f00\u4e8e \u6587\u4ef6\u8def\u5f84 \uff08\u6216\u8005Ctrl + Alt +F12\uff09 \u2192 \u70b9\u51fb fake.py \u6587\u4ef6 \u7b2c\u4e8c\u6b65 \u6539\u5199\u51fd\u6570\u4ee3\u7801\uff1a \u627e\u5230 FakeUserAgent \u7c7b\u51fd\u6570\uff0c \u5c06\u51fd\u6570\u7684 init \u91cc\u9762\u7684 path \u503c\u8fdb\u884c\u66f4\u6539 \u6dfb\u52a0\u4e00\u4e2a\u53d8\u91cf\uff0c\u5c06\u53d8\u91cf\u8d4b\u503c\u7ed9 path\uff1b\u503c\u5fc5\u987b\u662f\u7edd\u5bf9\u8def\u5f84\uff1b\u5199\u6b7b\u4e0d\u80fd\u6539\u5373\u53ef\u3002 User-agent.json {\"browsers\": {\"chrome\": [\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML like Gecko) Chrome/44.0.2403.155 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.1 Safari/537.36\", \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2226.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.4; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2225.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2225.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2224.3 Safari/537.36\", \"Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.93 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2062.124 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2049.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 4.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2049.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.67 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.67 Safari/537.36\", \"Mozilla/5.0 (X11; OpenBSD i386) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1944.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.3319.102 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.2309.372 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.2117.157 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.47 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1866.237 Safari/537.36\", \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.137 Safari/4E423F\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.116 Safari/537.36 Mozilla/5.0 (iPad; U; CPU OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B334b Safari/531.21.10\", \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.517 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1667.0 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1664.3 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1664.3 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.16 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1623.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.17 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.62 Safari/537.36\", \"Mozilla/5.0 (X11; CrOS i686 4319.74.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.2 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1468.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1467.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1464.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1500.55 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.90 Safari/537.36\", \"Mozilla/5.0 (X11; NetBSD) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.116 Safari/537.36\", \"Mozilla/5.0 (X11; CrOS i686 3912.101.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.116 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.60 Safari/537.17\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1309.0 Safari/537.17\"], \"internetexplorer\": [\"Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko\", \"Mozilla/5.0 (compatible, MSIE 11, Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko\", \"Mozilla/5.0 (compatible; MSIE 10.6; Windows NT 6.1; Trident/5.0; InfoPath.2; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 2.0.50727) 3gpp-gba UNTRUSTED/1.0\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 7.0; InfoPath.3; .NET CLR 3.1.40767; Trident/6.0; en-IN)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/5.0)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/4.0; InfoPath.2; SV1; .NET CLR 2.0.50727; WOW64)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Macintosh; Intel Mac OS X 10_7_3; Trident/6.0)\", \"Mozilla/4.0 (Compatible; MSIE 8.0; Windows NT 5.2; Trident/6.0)\", \"Mozilla/4.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/5.0)\", \"Mozilla/1.22 (compatible; MSIE 10.0; Windows 3.1)\", \"Mozilla/5.0 (Windows; U; MSIE 9.0; WIndows NT 9.0; en-US))\", \"Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 7.1; Trident/5.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; Media Center PC 6.0; InfoPath.3; MS-RTC LM 8; Zune 4.7)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; Media Center PC 6.0; InfoPath.3; MS-RTC LM 8; Zune 4.7\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Zune 4.0; InfoPath.3; MS-RTC LM 8; .NET4.0C; .NET4.0E)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; chromeframe/12.0.742.112)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 2.0.50727; SLCC2; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Zune 4.0; Tablet PC 2.0; InfoPath.3; .NET4.0C; .NET4.0E)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; yie8)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.2; .NET CLR 1.1.4322; .NET4.0C; Tablet PC 2.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; FunWebProducts)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; chromeframe/13.0.782.215)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; chromeframe/11.0.696.57)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0) chromeframe/10.0.648.205\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/4.0; GTB7.4; InfoPath.1; SV1; .NET CLR 2.8.52393; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.0; Trident/5.0; chromeframe/11.0.696.57)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.0; Trident/4.0; GTB7.4; InfoPath.3; SV1; .NET CLR 3.1.76908; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; GTB7.4; InfoPath.2; SV1; .NET CLR 3.3.69573; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; InfoPath.1; SV1; .NET CLR 3.8.36217; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; .NET CLR 2.7.58687; SLCC2; Media Center PC 5.0; Zune 3.4; Tablet PC 3.6; InfoPath.3)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.2; Trident/4.0; Media Center PC 4.0; SLCC1; .NET CLR 3.0.04320)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 1.1.4322)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; InfoPath.2; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 2.0.50727)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; SLCC1; .NET CLR 1.1.4322)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.0; Trident/4.0; InfoPath.1; SV1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 3.0.04506.30)\", \"Mozilla/5.0 (compatible; MSIE 7.0; Windows NT 5.0; Trident/4.0; FBSMTWB; .NET CLR 2.0.34861; .NET CLR 3.0.3746.3218; .NET CLR 3.5.33652; msn OptimizedIE8;ENUS)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.2; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; Media Center PC 6.0; InfoPath.2; MS-RTC LM 8)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; Media Center PC 6.0; InfoPath.2; MS-RTC LM 8\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; Media Center PC 6.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; InfoPath.3; .NET4.0C; .NET4.0E; .NET CLR 3.5.30729; .NET CLR 3.0.30729; MS-RTC LM 8)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; InfoPath.2)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Zune 3.0)\"], \"firefox\": [\"Mozilla/5.0 (X11; Linux i686; rv:64.0) Gecko/20100101 Firefox/64.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:64.0) Gecko/20100101 Firefox/64.0\", \"Mozilla/5.0 (X11; Linux i586; rv:63.0) Gecko/20100101 Firefox/63.0\", \"Mozilla/5.0 (Windows NT 6.2; WOW64; rv:63.0) Gecko/20100101 Firefox/63.0\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.10; rv:62.0) Gecko/20100101 Firefox/62.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:10.0) Gecko/20100101 Firefox/62.0\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.13; ko; rv:1.9.1b2) Gecko/20081201 Firefox/60.0\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Firefox/58.0.1\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:54.0) Gecko/20100101 Firefox/58.0\", \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:52.59.12) Gecko/20160044 Firefox/52.59.12\", \"Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9a1) Gecko/20060814 Firefox/51.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:46.0) Gecko/20120121 Firefox/46.0\", \"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:45.66.18) Gecko/20177177 Firefox/45.66.18\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1\", \"Mozilla/5.0 (Windows NT 6.3; rv:36.0) Gecko/20100101 Firefox/36.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:33.0) Gecko/20100101 Firefox/33.0\", \"Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20130401 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:28.0) Gecko/20100101 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:29.0) Gecko/20120101 Firefox/29.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/29.0\", \"Mozilla/5.0 (X11; OpenBSD amd64; rv:28.0) Gecko/20100101 Firefox/28.0\", \"Mozilla/5.0 (X11; Linux x86_64; rv:28.0) Gecko/20100101 Firefox/28.0\", \"Mozilla/5.0 (Windows NT 6.1; rv:27.3) Gecko/20130101 Firefox/27.3\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64; rv:27.0) Gecko/20121011 Firefox/27.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:20.0) Gecko/20121202 Firefox/26.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/25.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:25.0) Gecko/20100101 Firefox/25.0\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:24.0) Gecko/20100101 Firefox/24.0\", \"Mozilla/5.0 (Windows NT 6.0; WOW64; rv:24.0) Gecko/20100101 Firefox/24.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:24.0) Gecko/20100101 Firefox/24.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:22.0) Gecko/20130405 Firefox/23.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20130406 Firefox/23.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:23.0) Gecko/20131011 Firefox/23.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:22.0) Gecko/20130405 Firefox/22.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:22.0) Gecko/20130328 Firefox/22.0\", \"Mozilla/5.0 (Windows NT 6.1; rv:22.0) Gecko/20130405 Firefox/22.0\", \"Mozilla/5.0 (Microsoft Windows NT 6.2.9200.0); rv:22.0) Gecko/20130405 Firefox/22.0\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64; rv:16.0.1) Gecko/20121011 Firefox/21.0.1\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:16.0.1) Gecko/20121011 Firefox/21.0.1\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64; rv:21.0.0) Gecko/20121011 Firefox/21.0.0\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:21.0) Gecko/20130331 Firefox/21.0\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:21.0) Gecko/20100101 Firefox/21.0\", \"Mozilla/5.0 (X11; Linux i686; rv:21.0) Gecko/20100101 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.2; WOW64; rv:21.0) Gecko/20130514 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:21.0) Gecko/20130326 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:21.0) Gecko/20130401 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:21.0) Gecko/20130331 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:21.0) Gecko/20130330 Firefox/21.0\"], \"safari\": [\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3) AppleWebKit/537.75.14 (KHTML, like Gecko) Version/7.0.3 Safari/7046A194A\", \"Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5355d Safari/8536.25\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/537.13+ (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.3 Safari/534.53.10\", \"Mozilla/5.0 (iPad; CPU OS 5_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko ) Version/5.1 Mobile/9B176 Safari/7534.48.3\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; de-at) AppleWebKit/533.21.1 (KHTML, like Gecko) Version/5.0.5 Safari/533.21.1\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; da-dk) AppleWebKit/533.21.1 (KHTML, like Gecko) Version/5.0.5 Safari/533.21.1\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; tr-TR) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; ko-KR) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; fr-FR) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; cs-CZ) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; ja-JP) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10_5_8; zh-cn) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10_5_8; ja-jp) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; ja-jp) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; zh-cn) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; sv-se) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; ko-kr) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; ja-jp) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; it-it) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; fr-fr) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; es-es) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-us) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-gb) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; de-de) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; sv-SE) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; ja-JP) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; de-DE) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; hu-HU) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; de-DE) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ja-JP) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; it-IT) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; en-us) AppleWebKit/534.16+ (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; fr-ch) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_5; de-de) AppleWebKit/534.15+ (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_5; ar) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Android 2.2; Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; zh-HK) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; tr-TR) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; nb-NO) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; fr-FR) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-TW) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_8; zh-cn) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\"], \"opera\": [\"Opera/9.80 (X11; Linux i686; Ubuntu/14.10) Presto/2.12.388 Version/12.16\", \"Opera/9.80 (Macintosh; Intel Mac OS X 10.14.1) Presto/2.12.388 Version/12.16\", \"Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14\", \"Mozilla/5.0 (Windows NT 6.0; rv:2.0) Gecko/20100101 Firefox/4.0 Opera 12.14\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.0) Opera 12.14\", \"Opera/12.80 (Windows NT 5.1; U; en) Presto/2.10.289 Version/12.02\", \"Opera/9.80 (Windows NT 6.1; U; es-ES) Presto/2.9.181 Version/12.00\", \"Opera/9.80 (Windows NT 5.1; U; zh-sg) Presto/2.9.181 Version/12.00\", \"Opera/12.0(Windows NT 5.2;U;en)Presto/22.9.168 Version/12.00\", \"Opera/12.0(Windows NT 5.1;U;en)Presto/22.9.168 Version/12.00\", \"Mozilla/5.0 (Windows NT 5.1) Gecko/20100101 Firefox/14.0 Opera/12.0\", \"Opera/9.80 (Windows NT 6.1; WOW64; U; pt) Presto/2.10.229 Version/11.62\", \"Opera/9.80 (Windows NT 6.0; U; pl) Presto/2.10.229 Version/11.62\", \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52\", \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; de) Presto/2.9.168 Version/11.52\", \"Opera/9.80 (Windows NT 5.1; U; en) Presto/2.9.168 Version/11.51\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; de) Opera 11.51\", \"Opera/9.80 (X11; Linux x86_64; U; fr) Presto/2.9.168 Version/11.50\", \"Opera/9.80 (X11; Linux i686; U; hu) Presto/2.9.168 Version/11.50\", \"Opera/9.80 (X11; Linux i686; U; ru) Presto/2.8.131 Version/11.11\", \"Opera/9.80 (X11; Linux i686; U; es-ES) Presto/2.8.131 Version/11.11\", \"Mozilla/5.0 (Windows NT 5.1; U; en; rv:1.8.1) Gecko/20061208 Firefox/5.0 Opera 11.11\", \"Opera/9.80 (X11; Linux x86_64; U; bg) Presto/2.8.131 Version/11.10\", \"Opera/9.80 (Windows NT 6.0; U; en) Presto/2.8.99 Version/11.10\", \"Opera/9.80 (Windows NT 5.1; U; zh-tw) Presto/2.8.131 Version/11.10\", \"Opera/9.80 (Windows NT 6.1; Opera Tablet/15165; U; en) Presto/2.8.149 Version/11.1\", \"Opera/9.80 (X11; Linux x86_64; U; Ubuntu/10.10 (maverick); pl) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (X11; Linux i686; U; ja) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (X11; Linux i686; U; fr) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; zh-tw) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; zh-cn) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; sv) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; en-US) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; cs) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.0; U; pl) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 5.2; U; ru) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 5.1; U;) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 5.1; U; cs) Presto/2.7.62 Version/11.01\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101213 Opera/9.80 (Windows NT 6.1; U; zh-tw) Presto/2.7.62 Version/11.01\", \"Mozilla/5.0 (Windows NT 6.1; U; nl; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6 Opera 11.01\", \"Mozilla/5.0 (Windows NT 6.1; U; de; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6 Opera 11.01\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; de) Opera 11.01\", \"Opera/9.80 (X11; Linux x86_64; U; pl) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (X11; Linux i686; U; it) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; zh-cn) Presto/2.6.37 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; pl) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; ko) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; fi) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; en-GB) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1 x64; U; en) Presto/2.7.62 Version/11.00\"]}, \"randomize\": {\"0\": \"chrome\", \"1\": \"chrome\", \"2\": \"chrome\", \"3\": \"chrome\", \"4\": \"chrome\", \"5\": \"chrome\", \"6\": \"chrome\", \"7\": \"chrome\", \"8\": \"chrome\", \"9\": \"chrome\", \"10\": \"chrome\", \"11\": \"chrome\", \"12\": \"chrome\", \"13\": \"chrome\", \"14\": \"chrome\", \"15\": \"chrome\", \"16\": \"chrome\", \"17\": \"chrome\", \"18\": \"chrome\", \"19\": \"chrome\", \"20\": \"chrome\", \"21\": \"chrome\", \"22\": \"chrome\", \"23\": \"chrome\", \"24\": \"chrome\", \"25\": \"chrome\", \"26\": \"chrome\", \"27\": \"chrome\", \"28\": \"chrome\", \"29\": \"chrome\", \"30\": \"chrome\", \"31\": \"chrome\", \"32\": \"chrome\", \"33\": \"chrome\", \"34\": \"chrome\", \"35\": \"chrome\", \"36\": \"chrome\", \"37\": \"chrome\", \"38\": \"chrome\", \"39\": \"chrome\", \"40\": \"chrome\", \"41\": \"chrome\", \"42\": \"chrome\", \"43\": \"chrome\", \"44\": \"chrome\", \"45\": \"chrome\", \"46\": \"chrome\", \"47\": \"chrome\", \"48\": \"chrome\", \"49\": \"chrome\", \"50\": \"chrome\", \"51\": \"chrome\", \"52\": \"chrome\", \"53\": \"chrome\", \"54\": \"chrome\", \"55\": \"chrome\", \"56\": \"chrome\", \"57\": \"chrome\", \"58\": \"chrome\", \"59\": \"chrome\", \"60\": \"chrome\", \"61\": \"chrome\", \"62\": \"chrome\", \"63\": \"chrome\", \"64\": \"chrome\", \"65\": \"chrome\", \"66\": \"chrome\", \"67\": \"chrome\", \"68\": \"chrome\", \"69\": \"chrome\", \"70\": \"chrome\", \"71\": \"chrome\", \"72\": \"chrome\", \"73\": \"chrome\", \"74\": \"chrome\", \"75\": \"chrome\", \"76\": \"chrome\", \"77\": \"chrome\", \"78\": \"chrome\", \"79\": \"chrome\", \"80\": \"chrome\", \"81\": \"chrome\", \"82\": \"chrome\", \"83\": \"chrome\", \"84\": \"chrome\", \"85\": \"chrome\", \"86\": \"chrome\", \"87\": \"chrome\", \"88\": \"chrome\", \"89\": \"chrome\", \"90\": \"chrome\", \"91\": \"chrome\", \"92\": \"chrome\", \"93\": \"chrome\", \"94\": \"chrome\", \"95\": \"chrome\", \"96\": \"chrome\", \"97\": \"chrome\", \"98\": \"chrome\", \"99\": \"chrome\", \"100\": \"chrome\", \"101\": \"chrome\", \"102\": \"chrome\", \"103\": \"chrome\", \"104\": \"chrome\", \"105\": \"chrome\", \"106\": \"chrome\", \"107\": \"chrome\", \"108\": \"chrome\", \"109\": \"chrome\", \"110\": \"chrome\", \"111\": \"chrome\", \"112\": \"chrome\", \"113\": \"chrome\", \"114\": \"chrome\", \"115\": \"chrome\", \"116\": \"chrome\", \"117\": \"chrome\", \"118\": \"chrome\", \"119\": \"chrome\", \"120\": \"chrome\", \"121\": \"chrome\", \"122\": \"chrome\", \"123\": \"chrome\", \"124\": \"chrome\", \"125\": \"chrome\", \"126\": \"chrome\", \"127\": \"chrome\", \"128\": \"chrome\", \"129\": \"chrome\", \"130\": \"chrome\", \"131\": \"chrome\", \"132\": \"chrome\", \"133\": \"chrome\", \"134\": \"chrome\", \"135\": \"chrome\", \"136\": \"chrome\", \"137\": \"chrome\", \"138\": \"chrome\", \"139\": \"chrome\", \"140\": \"chrome\", \"141\": \"chrome\", \"142\": \"chrome\", \"143\": \"chrome\", \"144\": \"chrome\", \"145\": \"chrome\", \"146\": \"chrome\", \"147\": \"chrome\", \"148\": \"chrome\", \"149\": \"chrome\", \"150\": \"chrome\", \"151\": \"chrome\", \"152\": \"chrome\", \"153\": \"chrome\", \"154\": \"chrome\", \"155\": \"chrome\", \"156\": \"chrome\", \"157\": \"chrome\", \"158\": \"chrome\", \"159\": \"chrome\", \"160\": \"chrome\", \"161\": \"chrome\", \"162\": \"chrome\", \"163\": \"chrome\", \"164\": \"chrome\", \"165\": \"chrome\", \"166\": \"chrome\", \"167\": \"chrome\", \"168\": \"chrome\", \"169\": \"chrome\", \"170\": \"chrome\", \"171\": \"chrome\", \"172\": \"chrome\", \"173\": \"chrome\", \"174\": \"chrome\", \"175\": \"chrome\", \"176\": \"chrome\", \"177\": \"chrome\", \"178\": \"chrome\", \"179\": \"chrome\", \"180\": \"chrome\", \"181\": \"chrome\", \"182\": \"chrome\", \"183\": \"chrome\", \"184\": \"chrome\", \"185\": \"chrome\", \"186\": \"chrome\", \"187\": \"chrome\", \"188\": \"chrome\", \"189\": \"chrome\", \"190\": \"chrome\", \"191\": \"chrome\", \"192\": \"chrome\", \"193\": \"chrome\", \"194\": \"chrome\", \"195\": \"chrome\", \"196\": \"chrome\", \"197\": \"chrome\", \"198\": \"chrome\", \"199\": \"chrome\", \"200\": \"chrome\", \"201\": \"chrome\", \"202\": \"chrome\", \"203\": \"chrome\", \"204\": \"chrome\", \"205\": \"chrome\", \"206\": \"chrome\", \"207\": \"chrome\", \"208\": \"chrome\", \"209\": \"chrome\", \"210\": \"chrome\", \"211\": \"chrome\", \"212\": \"chrome\", \"213\": \"chrome\", \"214\": \"chrome\", \"215\": \"chrome\", \"216\": \"chrome\", \"217\": \"chrome\", \"218\": \"chrome\", \"219\": \"chrome\", \"220\": \"chrome\", \"221\": \"chrome\", \"222\": \"chrome\", \"223\": \"chrome\", \"224\": \"chrome\", \"225\": \"chrome\", \"226\": \"chrome\", \"227\": \"chrome\", \"228\": \"chrome\", \"229\": \"chrome\", \"230\": \"chrome\", \"231\": \"chrome\", \"232\": \"chrome\", \"233\": \"chrome\", \"234\": \"chrome\", \"235\": \"chrome\", \"236\": \"chrome\", \"237\": \"chrome\", \"238\": \"chrome\", \"239\": \"chrome\", \"240\": \"chrome\", \"241\": \"chrome\", \"242\": \"chrome\", \"243\": \"chrome\", \"244\": \"chrome\", \"245\": \"chrome\", \"246\": \"chrome\", \"247\": \"chrome\", \"248\": \"chrome\", \"249\": \"chrome\", \"250\": \"chrome\", \"251\": \"chrome\", \"252\": \"chrome\", \"253\": \"chrome\", \"254\": \"chrome\", \"255\": \"chrome\", \"256\": \"chrome\", \"257\": \"chrome\", \"258\": \"chrome\", \"259\": \"chrome\", \"260\": \"chrome\", \"261\": \"chrome\", \"262\": \"chrome\", \"263\": \"chrome\", \"264\": \"chrome\", \"265\": \"chrome\", \"266\": \"chrome\", \"267\": \"chrome\", \"268\": \"chrome\", \"269\": \"chrome\", \"270\": \"chrome\", \"271\": \"chrome\", \"272\": \"chrome\", \"273\": \"chrome\", \"274\": \"chrome\", \"275\": \"chrome\", \"276\": \"chrome\", \"277\": \"chrome\", \"278\": \"chrome\", \"279\": \"chrome\", \"280\": \"chrome\", \"281\": \"chrome\", \"282\": \"chrome\", \"283\": \"chrome\", \"284\": \"chrome\", \"285\": \"chrome\", \"286\": \"chrome\", \"287\": \"chrome\", \"288\": \"chrome\", \"289\": \"chrome\", \"290\": \"chrome\", \"291\": \"chrome\", \"292\": \"chrome\", \"293\": \"chrome\", \"294\": \"chrome\", \"295\": \"chrome\", \"296\": \"chrome\", \"297\": \"chrome\", \"298\": \"chrome\", \"299\": \"chrome\", \"300\": \"chrome\", \"301\": \"chrome\", \"302\": \"chrome\", \"303\": \"chrome\", \"304\": \"chrome\", \"305\": \"chrome\", \"306\": \"chrome\", \"307\": \"chrome\", \"308\": \"chrome\", \"309\": \"chrome\", \"310\": \"chrome\", \"311\": \"chrome\", \"312\": \"chrome\", \"313\": \"chrome\", \"314\": \"chrome\", \"315\": \"chrome\", \"316\": \"chrome\", \"317\": \"chrome\", \"318\": \"chrome\", \"319\": \"chrome\", \"320\": \"chrome\", \"321\": \"chrome\", \"322\": \"chrome\", \"323\": \"chrome\", \"324\": \"chrome\", \"325\": \"chrome\", \"326\": \"chrome\", \"327\": \"chrome\", \"328\": \"chrome\", \"329\": \"chrome\", \"330\": \"chrome\", \"331\": \"chrome\", \"332\": \"chrome\", \"333\": \"chrome\", \"334\": \"chrome\", \"335\": \"chrome\", \"336\": \"chrome\", \"337\": \"chrome\", \"338\": \"chrome\", \"339\": \"chrome\", \"340\": \"chrome\", \"341\": \"chrome\", \"342\": \"chrome\", \"343\": \"chrome\", \"344\": \"chrome\", \"345\": \"chrome\", \"346\": \"chrome\", \"347\": \"chrome\", \"348\": \"chrome\", \"349\": \"chrome\", \"350\": \"chrome\", \"351\": \"chrome\", \"352\": \"chrome\", \"353\": \"chrome\", \"354\": \"chrome\", \"355\": \"chrome\", \"356\": \"chrome\", \"357\": \"chrome\", \"358\": \"chrome\", \"359\": \"chrome\", \"360\": \"chrome\", \"361\": \"chrome\", \"362\": \"chrome\", \"363\": \"chrome\", \"364\": \"chrome\", \"365\": \"chrome\", \"366\": \"chrome\", \"367\": \"chrome\", \"368\": \"chrome\", \"369\": \"chrome\", \"370\": \"chrome\", \"371\": \"chrome\", \"372\": \"chrome\", \"373\": \"chrome\", \"374\": \"chrome\", \"375\": \"chrome\", \"376\": \"chrome\", \"377\": \"chrome\", \"378\": \"chrome\", \"379\": \"chrome\", \"380\": \"chrome\", \"381\": \"chrome\", \"382\": \"chrome\", \"383\": \"chrome\", \"384\": \"chrome\", \"385\": \"chrome\", \"386\": \"chrome\", \"387\": \"chrome\", \"388\": \"chrome\", \"389\": \"chrome\", \"390\": \"chrome\", \"391\": \"chrome\", \"392\": \"chrome\", \"393\": \"chrome\", \"394\": \"chrome\", \"395\": \"chrome\", \"396\": \"chrome\", \"397\": \"chrome\", \"398\": \"chrome\", \"399\": \"chrome\", \"400\": \"chrome\", \"401\": \"chrome\", \"402\": \"chrome\", \"403\": \"chrome\", \"404\": \"chrome\", \"405\": \"chrome\", \"406\": \"chrome\", \"407\": \"chrome\", \"408\": \"chrome\", \"409\": \"chrome\", \"410\": \"chrome\", \"411\": \"chrome\", \"412\": \"chrome\", \"413\": \"chrome\", \"414\": \"chrome\", \"415\": \"chrome\", \"416\": \"chrome\", \"417\": \"chrome\", \"418\": \"chrome\", \"419\": \"chrome\", \"420\": \"chrome\", \"421\": \"chrome\", \"422\": \"chrome\", \"423\": \"chrome\", \"424\": \"chrome\", \"425\": \"chrome\", \"426\": \"chrome\", \"427\": \"chrome\", \"428\": \"chrome\", \"429\": \"chrome\", \"430\": \"chrome\", \"431\": \"chrome\", \"432\": \"chrome\", \"433\": \"chrome\", \"434\": \"chrome\", \"435\": \"chrome\", \"436\": \"chrome\", \"437\": \"chrome\", \"438\": \"chrome\", \"439\": \"chrome\", \"440\": \"chrome\", \"441\": \"chrome\", \"442\": \"chrome\", \"443\": \"chrome\", \"444\": \"chrome\", \"445\": \"chrome\", \"446\": \"chrome\", \"447\": \"chrome\", \"448\": \"chrome\", \"449\": \"chrome\", \"450\": \"chrome\", \"451\": \"chrome\", \"452\": \"chrome\", \"453\": \"chrome\", \"454\": \"chrome\", \"455\": \"chrome\", \"456\": \"chrome\", \"457\": \"chrome\", \"458\": \"chrome\", \"459\": \"chrome\", \"460\": \"chrome\", \"461\": \"chrome\", \"462\": \"chrome\", \"463\": \"chrome\", \"464\": \"chrome\", \"465\": \"chrome\", \"466\": \"chrome\", \"467\": \"chrome\", \"468\": \"chrome\", \"469\": \"chrome\", \"470\": \"chrome\", \"471\": \"chrome\", \"472\": \"chrome\", \"473\": \"chrome\", \"474\": \"chrome\", \"475\": \"chrome\", \"476\": \"chrome\", \"477\": \"chrome\", \"478\": \"chrome\", \"479\": \"chrome\", \"480\": \"chrome\", \"481\": \"chrome\", \"482\": \"chrome\", \"483\": \"chrome\", \"484\": \"chrome\", \"485\": \"chrome\", \"486\": \"chrome\", \"487\": \"chrome\", \"488\": \"chrome\", \"489\": \"chrome\", \"490\": \"chrome\", \"491\": \"chrome\", \"492\": \"chrome\", \"493\": \"chrome\", \"494\": \"chrome\", \"495\": \"chrome\", \"496\": \"chrome\", \"497\": \"chrome\", \"498\": \"chrome\", \"499\": \"chrome\", \"500\": \"chrome\", \"501\": \"chrome\", \"502\": \"chrome\", \"503\": \"chrome\", \"504\": \"chrome\", \"505\": \"chrome\", \"506\": \"chrome\", \"507\": \"chrome\", \"508\": \"chrome\", \"509\": \"chrome\", \"510\": \"chrome\", \"511\": \"chrome\", \"512\": \"chrome\", \"513\": \"chrome\", \"514\": \"chrome\", \"515\": \"chrome\", \"516\": \"chrome\", \"517\": \"chrome\", \"518\": \"chrome\", \"519\": \"chrome\", \"520\": \"chrome\", \"521\": \"chrome\", \"522\": \"chrome\", \"523\": \"chrome\", \"524\": \"chrome\", \"525\": \"chrome\", \"526\": \"chrome\", \"527\": \"chrome\", \"528\": \"chrome\", \"529\": \"chrome\", \"530\": \"chrome\", \"531\": \"chrome\", \"532\": \"chrome\", \"533\": \"chrome\", \"534\": \"chrome\", \"535\": \"chrome\", \"536\": \"chrome\", \"537\": \"chrome\", \"538\": \"chrome\", \"539\": \"chrome\", \"540\": \"chrome\", \"541\": \"chrome\", \"542\": \"chrome\", \"543\": \"chrome\", \"544\": \"chrome\", \"545\": \"chrome\", \"546\": \"chrome\", \"547\": \"chrome\", \"548\": \"chrome\", \"549\": \"chrome\", \"550\": \"chrome\", \"551\": \"chrome\", \"552\": \"chrome\", \"553\": \"chrome\", \"554\": \"chrome\", \"555\": \"chrome\", \"556\": \"chrome\", \"557\": \"chrome\", \"558\": \"chrome\", \"559\": \"chrome\", \"560\": \"chrome\", \"561\": \"chrome\", \"562\": \"chrome\", \"563\": \"chrome\", \"564\": \"chrome\", \"565\": \"chrome\", \"566\": \"chrome\", \"567\": \"chrome\", \"568\": \"chrome\", \"569\": \"chrome\", \"570\": \"chrome\", \"571\": \"chrome\", \"572\": \"chrome\", \"573\": \"chrome\", \"574\": \"chrome\", \"575\": \"chrome\", \"576\": \"chrome\", \"577\": \"chrome\", \"578\": \"chrome\", \"579\": \"chrome\", \"580\": \"chrome\", \"581\": \"chrome\", \"582\": \"chrome\", \"583\": \"chrome\", \"584\": \"chrome\", \"585\": \"chrome\", \"586\": \"chrome\", \"587\": \"chrome\", \"588\": \"chrome\", \"589\": \"chrome\", \"590\": \"chrome\", \"591\": \"chrome\", \"592\": \"chrome\", \"593\": \"chrome\", \"594\": \"chrome\", \"595\": \"chrome\", \"596\": \"chrome\", \"597\": \"chrome\", \"598\": \"chrome\", \"599\": \"chrome\", \"600\": \"chrome\", \"601\": \"chrome\", \"602\": \"chrome\", \"603\": \"chrome\", \"604\": \"chrome\", \"605\": \"chrome\", \"606\": \"chrome\", \"607\": \"chrome\", \"608\": \"chrome\", \"609\": \"chrome\", \"610\": \"chrome\", \"611\": \"chrome\", \"612\": \"chrome\", \"613\": \"chrome\", \"614\": \"chrome\", \"615\": \"chrome\", \"616\": \"chrome\", \"617\": \"chrome\", \"618\": \"chrome\", \"619\": \"chrome\", \"620\": \"chrome\", \"621\": \"chrome\", \"622\": \"chrome\", \"623\": \"chrome\", \"624\": \"chrome\", \"625\": \"chrome\", \"626\": \"chrome\", \"627\": \"chrome\", \"628\": \"chrome\", \"629\": \"chrome\", \"630\": \"chrome\", \"631\": \"chrome\", \"632\": \"chrome\", \"633\": \"chrome\", \"634\": \"chrome\", \"635\": \"chrome\", \"636\": \"chrome\", \"637\": \"chrome\", \"638\": \"chrome\", \"639\": \"chrome\", \"640\": \"chrome\", \"641\": \"chrome\", \"642\": \"chrome\", \"643\": \"chrome\", \"644\": \"chrome\", \"645\": \"chrome\", \"646\": \"chrome\", \"647\": \"chrome\", \"648\": \"chrome\", \"649\": \"chrome\", \"650\": \"chrome\", \"651\": \"chrome\", \"652\": \"chrome\", \"653\": \"chrome\", \"654\": \"chrome\", \"655\": \"chrome\", \"656\": \"chrome\", \"657\": \"chrome\", \"658\": \"chrome\", \"659\": \"chrome\", \"660\": \"chrome\", \"661\": \"chrome\", \"662\": \"chrome\", \"663\": \"chrome\", \"664\": \"chrome\", \"665\": \"chrome\", \"666\": \"chrome\", \"667\": \"chrome\", \"668\": \"chrome\", \"669\": \"chrome\", \"670\": \"chrome\", \"671\": \"chrome\", \"672\": \"chrome\", \"673\": \"chrome\", \"674\": \"chrome\", \"675\": \"chrome\", \"676\": \"chrome\", \"677\": \"chrome\", \"678\": \"chrome\", \"679\": \"chrome\", \"680\": \"chrome\", \"681\": \"chrome\", \"682\": \"chrome\", \"683\": \"chrome\", \"684\": \"chrome\", \"685\": \"chrome\", \"686\": \"chrome\", \"687\": \"chrome\", \"688\": \"chrome\", \"689\": \"chrome\", \"690\": \"chrome\", \"691\": \"chrome\", \"692\": \"chrome\", \"693\": \"chrome\", \"694\": \"chrome\", \"695\": \"chrome\", \"696\": \"chrome\", \"697\": \"chrome\", \"698\": \"chrome\", \"699\": \"chrome\", \"700\": \"chrome\", \"701\": \"chrome\", \"702\": \"chrome\", \"703\": \"chrome\", \"704\": \"chrome\", \"705\": \"chrome\", \"706\": \"chrome\", \"707\": \"chrome\", \"708\": \"chrome\", \"709\": \"chrome\", \"710\": \"chrome\", \"711\": \"chrome\", \"712\": \"chrome\", \"713\": \"chrome\", \"714\": \"chrome\", \"715\": \"chrome\", \"716\": \"chrome\", \"717\": \"chrome\", \"718\": \"chrome\", \"719\": \"chrome\", \"720\": \"chrome\", \"721\": \"chrome\", \"722\": \"chrome\", \"723\": \"chrome\", \"724\": \"chrome\", \"725\": \"chrome\", \"726\": \"chrome\", \"727\": \"chrome\", \"728\": \"chrome\", \"729\": \"chrome\", \"730\": \"chrome\", \"731\": \"chrome\", \"732\": \"chrome\", \"733\": \"chrome\", \"734\": \"chrome\", \"735\": \"chrome\", \"736\": \"chrome\", \"737\": \"chrome\", \"738\": \"chrome\", \"739\": \"chrome\", \"740\": \"chrome\", \"741\": \"chrome\", \"742\": \"chrome\", \"743\": \"chrome\", \"744\": \"chrome\", \"745\": \"chrome\", \"746\": \"chrome\", \"747\": \"chrome\", \"748\": \"chrome\", \"749\": \"chrome\", \"750\": \"chrome\", \"751\": \"chrome\", \"752\": \"chrome\", \"753\": \"chrome\", \"754\": \"chrome\", \"755\": \"chrome\", \"756\": \"chrome\", \"757\": \"chrome\", \"758\": \"chrome\", \"759\": \"chrome\", \"760\": \"chrome\", \"761\": \"chrome\", \"762\": \"chrome\", \"763\": \"chrome\", \"764\": \"chrome\", \"765\": \"chrome\", \"766\": \"chrome\", \"767\": \"chrome\", \"768\": \"chrome\", \"769\": \"chrome\", \"770\": \"chrome\", \"771\": \"chrome\", \"772\": \"chrome\", \"773\": \"chrome\", \"774\": \"chrome\", \"775\": \"chrome\", \"776\": \"chrome\", \"777\": \"chrome\", \"778\": \"chrome\", \"779\": \"chrome\", \"780\": \"chrome\", \"781\": \"chrome\", \"782\": \"chrome\", \"783\": \"chrome\", \"784\": \"chrome\", \"785\": \"chrome\", \"786\": \"chrome\", \"787\": \"chrome\", \"788\": \"chrome\", \"789\": \"chrome\", \"790\": \"chrome\", \"791\": \"chrome\", \"792\": \"chrome\", \"793\": \"chrome\", \"794\": \"chrome\", \"795\": \"chrome\", \"796\": \"chrome\", \"797\": \"chrome\", \"798\": \"chrome\", \"799\": \"chrome\", \"800\": \"chrome\", \"801\": \"chrome\", \"802\": \"chrome\", \"803\": \"internetexplorer\", \"804\": \"internetexplorer\", \"805\": \"internetexplorer\", \"806\": \"internetexplorer\", \"807\": \"internetexplorer\", \"808\": \"internetexplorer\", \"809\": \"internetexplorer\", \"810\": \"internetexplorer\", \"811\": \"internetexplorer\", \"812\": \"internetexplorer\", \"813\": \"internetexplorer\", \"814\": \"internetexplorer\", \"815\": \"internetexplorer\", \"816\": \"internetexplorer\", \"817\": \"internetexplorer\", \"818\": \"internetexplorer\", \"819\": \"internetexplorer\", \"820\": \"internetexplorer\", \"821\": \"internetexplorer\", \"822\": \"internetexplorer\", \"823\": \"internetexplorer\", \"824\": \"internetexplorer\", \"825\": \"internetexplorer\", \"826\": \"internetexplorer\", \"827\": \"internetexplorer\", \"828\": \"internetexplorer\", \"829\": \"internetexplorer\", \"830\": \"internetexplorer\", \"831\": \"internetexplorer\", \"832\": \"internetexplorer\", \"833\": \"internetexplorer\", \"834\": \"internetexplorer\", \"835\": \"internetexplorer\", \"836\": \"internetexplorer\", \"837\": \"internetexplorer\", \"838\": \"internetexplorer\", \"839\": \"firefox\", \"840\": \"firefox\", \"841\": \"firefox\", \"842\": \"firefox\", \"843\": \"firefox\", \"844\": \"firefox\", \"845\": \"firefox\", \"846\": \"firefox\", \"847\": \"firefox\", \"848\": \"firefox\", \"849\": \"firefox\", \"850\": \"firefox\", \"851\": \"firefox\", \"852\": \"firefox\", \"853\": \"firefox\", \"854\": \"firefox\", \"855\": \"firefox\", \"856\": \"firefox\", \"857\": \"firefox\", \"858\": \"firefox\", \"859\": \"firefox\", \"860\": \"firefox\", \"861\": \"firefox\", \"862\": \"firefox\", \"863\": \"firefox\", \"864\": \"firefox\", \"865\": \"firefox\", \"866\": \"firefox\", \"867\": \"firefox\", \"868\": \"firefox\", \"869\": \"firefox\", \"870\": \"firefox\", \"871\": \"firefox\", \"872\": \"firefox\", \"873\": \"firefox\", \"874\": \"firefox\", \"875\": \"firefox\", \"876\": \"firefox\", \"877\": \"firefox\", \"878\": \"firefox\", \"879\": \"firefox\", \"880\": \"firefox\", \"881\": \"firefox\", \"882\": \"firefox\", \"883\": \"firefox\", \"884\": \"firefox\", \"885\": \"firefox\", \"886\": \"firefox\", \"887\": \"firefox\", \"888\": \"firefox\", \"889\": \"firefox\", \"890\": \"firefox\", \"891\": \"firefox\", \"892\": \"firefox\", \"893\": \"firefox\", \"894\": \"firefox\", \"895\": \"firefox\", \"896\": \"firefox\", \"897\": \"firefox\", \"898\": \"firefox\", \"899\": \"firefox\", \"900\": \"firefox\", \"901\": \"firefox\", \"902\": \"firefox\", \"903\": \"firefox\", \"904\": \"firefox\", \"905\": \"firefox\", \"906\": \"firefox\", \"907\": \"firefox\", \"908\": \"firefox\", \"909\": \"firefox\", \"910\": \"firefox\", \"911\": \"firefox\", \"912\": \"firefox\", \"913\": \"firefox\", \"914\": \"firefox\", \"915\": \"firefox\", \"916\": \"firefox\", \"917\": \"firefox\", \"918\": \"firefox\", \"919\": \"firefox\", \"920\": \"firefox\", \"921\": \"firefox\", \"922\": \"firefox\", \"923\": \"firefox\", \"924\": \"firefox\", \"925\": \"firefox\", \"926\": \"firefox\", \"927\": \"firefox\", \"928\": \"firefox\", \"929\": \"firefox\", \"930\": \"firefox\", \"931\": \"firefox\", \"932\": \"firefox\", \"933\": \"firefox\", \"934\": \"firefox\", \"935\": \"safari\", \"936\": \"safari\", \"937\": \"safari\", \"938\": \"safari\", \"939\": \"safari\", \"940\": \"safari\", \"941\": \"safari\", \"942\": \"safari\", \"943\": \"safari\", \"944\": \"safari\", \"945\": \"safari\", \"946\": \"safari\", \"947\": \"safari\", \"948\": \"safari\", \"949\": \"safari\", \"950\": \"safari\", \"951\": \"safari\", \"952\": \"safari\", \"953\": \"safari\", \"954\": \"safari\", \"955\": \"safari\", \"956\": \"safari\", \"957\": \"safari\", \"958\": \"safari\", \"959\": \"safari\", \"960\": \"safari\", \"961\": \"safari\", \"962\": \"safari\", \"963\": \"safari\", \"964\": \"safari\", \"965\": \"safari\", \"966\": \"safari\", \"967\": \"safari\", \"968\": \"opera\", \"969\": \"opera\", \"970\": \"opera\", \"971\": \"opera\", \"972\": \"opera\", \"973\": \"opera\", \"974\": \"opera\", \"975\": \"opera\", \"976\": \"opera\", \"977\": \"opera\", \"978\": \"opera\", \"979\": \"opera\", \"980\": \"opera\", \"981\": \"opera\", \"982\": \"opera\", \"983\": \"opera\", \"984\": \"opera\"}} 6\u3001\u6269\u5c55 1\u3001 **kwargs :\u63a7\u5236\u8bbf\u95ee\u7684\u53c2\u6570\uff0c\u5747\u4e3a\u53ef\u9009\u9879 params: \u5b57\u5178\u6216\u5b57\u8282\u5e8f\u5217\uff0c\u4f5c\u4e3a\u53c2\u6570\u589e\u52a0\u5230url\u4e2d data:\u5b57\u5178\uff0c\u5b57\u8282\u5e8f\u5217\u6216\u6587\u4ef6\u5bf9\u8c61,\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 json: JSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 headers: \u5b57\u5178, HTTP\u5b9a\u5236\u5934 cookie: \u5b57\u5178\u6216CooKiJar, Request\u4e2d\u7684cookie auth: \u5143\u7ec4\uff0c\u652f\u6301HTTP\u8ba4\u8bc1\u529f\u80fd files: \u5b57\u5178\u7c7b\u578b\uff0c\u4f20\u8f93\u6587\u4ef6 timeout: \u8bbe\u5b9a\u8d85\u65f6\u65f6\u95f4\uff0c\u79d2\u4e3a\u5355\u4f4d proxies [\u02c8pr\u0251ksiz] : \u5b57\u5178\u7c7b\u578b\uff0c\u8bbe\u5b9a\u8bbf\u95ee\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u589e\u52a0\u767b\u5f55\u8ba4\u8bc1 allow_redirects: True/False,\u9ed8\u8ba4\u4e3aTrue,\u91cd\u5b9a\u5411\u5f00\u5173 stream: True/False\uff0c\u9ed8\u8ba4\u4e3aTrue,\u83b7\u53d6\u5185\u5bb9\u7acb\u5373\u4e0b\u8f7d\u5f00\u5173 verify[\u02c8ver\u0259ti] : True/False\u9ed8\u8ba4Ture,\u8ba4\u8bc1ssl\u8bc1\u4e66\u5f00\u5173 cert [s\u025c\u02d0rt]: \u672c\u5730ssl\u8bc1\u4e66\u8def\u5f84 2\u3001\u53c2\u6570\u8be6\u89e3 params \u5b57\u5178\u6216\u5b57\u8282\u5e8f\u5217\uff0c\u4f5c\u4e3a\u53c2\u6570\u589e\u52a0\u5230url\u4e2d ```powershell payload = {'key1': 'one', 'key2': 'two'} r = requests.request('GET', 'http://python123.io/ws', params=payload) print(r.url) http://python123.io/ws?key1=one&key2=two ``` data \u5b57\u5178\uff0c\u5b57\u8282\u5e8f\u5217\u6216\u6587\u4ef6\u5bf9\u8c61,\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 python import requests payload = {'key1':'one', 'key2':'two'} url = 'http://httpbin.org/put' r = requests.put(url=url, data=payload) # or r = requests.put(url=url, data='ABCDEFG') #\u5b57\u7b26\u4e32 json JSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 python kv = {'name': 'youdi', 'role': 'king', 'rank': 'the one'} url = 'http://httpbin.org/post' r = requests.request(method='POST', url=url, json=kv) print(r.text) { \"args\": {}, \"data\": \"{\\\"role\\\": \\\"king\\\", \\\"rank\\\": \\\"the one\\\", \\\"name\\\": \\\"youdi\\\"}\", #json\u683c\u5f0f\uff0c\u5176\u5b9e\u5c31\u662f\u5b57\u7b26\u4e32 \"files\": {}, \"form\": {}, \"headers\": { \"Accept\": \"*/*\", \"Accept-Encoding\": \"gzip, deflate\", \"Connection\": \"close\", \"Content-Length\": \"52\", \"Content-Type\": \"application/json\", \"Host\": \"httpbin.org\", \"User-Agent\": \"python-requests/2.13.0\" }, \"json\": { \"name\": \"youdi\", \"rank\": \"the one\", \"role\": \"king\" }, \"origin\": \"183.60.175.16\", \"url\": \"http://httpbin.org/post\" } headers \u5b57\u5178, HTTP\u5b9a\u5236\u5934\u90e8\u4fe1\u606f\uff0c\u9690\u85cf\u722c\u866b\u4fe1\u606f\uff0c\u6a21\u62df\u6d4f\u89c8\u5668\u7684\u5934\u90e8\u4fe1\u606f ```python url = 'http://httpbin.org/post' r = requests.request('POST', url) # \u5934\u90e8\u4fe1\u606f r.request.headers # \u89c2\u5bdfUser-Agent {'Accept': ' / ', 'User-Agent': 'python-requests/2.13.0', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Content-Length': '0'} #\u52a0\u5165headers\u540e headers = { # \u6d4f\u89c8\u5668\u4ee3\u7406 \"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36\" } r = requests.request('POST', url, headers=headers) print(r.request.headers) {'Accept': ' / ', 'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Content-Length': '0'} ``` cookie \u5b57\u5178\u6216CooKiJar, Request\u4e2d\u7684cookie ```python import requests import urllib.parse url = 'http://www.baidu.com' headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15', } r = requests.request(method='GET', url=url, headers=headers) cookie = r.cookies print(r.request.headers) # print(r.text) print(cookie) print(requests.cookies.RequestsCookieJar) # \u83b7\u53d6cookie\u5b57\u5178 cookiedict = requests.utils.dict_from_cookiejar(cookie) url = 'https://www.baidu.com/s?wd=%E7%BE%8E%E5%A5%B3&rsv_spt=1&rsv_iqid=0xfde6582b00129a7b&issp=1&f=8&rsv_bp=1&rsv_idx=2&ie=utf-8&tn=baiduhome_pg&rsv_enter=1&rsv_dl=ib&rsv_sug3=5&rsv_sug1=4&rsv_sug7=100&rsv_sug2=0&rsv_btype=i&inputT=965&rsv_sug4=965'.format(urllib.parse.quote('\u8fea\u4e3d\u70ed\u5df4')) print(url) r_baidu = requests.request('GET', url=url, headers=headers, cookies=cookie) r.encoding = 'gbk' print(r_baidu.content) with open('baidu.html', 'wb') as f: f.write(r_baidu.content) ``` auth \u5143\u7ec4\uff0c\u652f\u6301HTTP\u8ba4\u8bc1\u529f\u80fd ```python import requests # \u6700\u7b80\u5355\u7684http\u9a8c\u8bc1 from requests.auth import HTTPBasicAuth r = requests.get('http://httpbin.org/auth', auth=HTTPBasicAuth('user', 'user')) # r = requests.get('http://httpbin.org/auth', auth=('user', 'user')) print(r.status_code) ``` files \u5b57\u5178\u7c7b\u578b\uff0c\u4f20\u8f93\u6587\u4ef6 python fs = {file: open('data.xls', 'rb')} # \u4f7f\u7528files\u53c2\u6570\u5c31\u53ef\u4ee5\u4e86 r = requests.request('POST','http://httpbin.org/post',files=fs) timesout \u8bbe\u5b9a\u8d85\u65f6\u65f6\u95f4\uff0c\u79d2\u4e3a\u5355\u4f4d ```python import requests from requests.exceptions import ReadTimeout try: # \u8bbe\u7f6e\u5fc5\u987b\u5728500ms\u5185\u6536\u5230\u54cd\u5e94\uff0c\u4e0d\u7136\u6216\u629b\u51faReadTimeout\u5f02\u5e38 response = requests.get(\"http://httpbin.org/get\", timeout=0.5) print(response.status_code) except ReadTimeout: print('Timeout') ``` proxies \u5b57\u5178\u7c7b\u578b\uff0c\u8bbe\u5b9a\u8bbf\u95ee\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u589e\u52a0\u767b\u5f55\u8ba4\u8bc1 ```python import requests #\u666e\u901a\u4ee3\u7406 proxies = { \"http\": \"http://127.0.0.1:1080\", \"https\": \"https://127.0.0.1:1080\", } # \u5f80\u8bf7\u6c42\u4e2d\u8bbe\u7f6e\u4ee3\u7406(proxies) r = requests.get(\"https://www.taobao.com\", proxies=proxies) print(r.status_code) # \u5e26\u6709\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u4ee3\u7406 proxies = { \"http\": \"http://user:password@127.0.0.1:9743/\", } r = requests.get(\"https://www.taobao.com\", proxies=proxies) print(r.status_code) # \u8bbe\u7f6esocks\u4ee3\u7406,\u7ffb\u5899\u5fc5\u5907 proxies = { 'http': 'socks5://127.0.0.1:1080', 'https': 'socks5://127.0.0.1:1080' } r = requests.get(\"https://www.google.com\", proxies=proxies) print(r.status_code) ``` allow_redirects True/False,\u9ed8\u8ba4\u4e3aTrue,\u91cd\u5b9a\u5411\u5f00\u5173 python r = requests.request('GET','http://httpbin.org/get',allow_redirects=False) stream True/False\uff0c\u9ed8\u8ba4\u4e3aTrue,\u83b7\u53d6\u5185\u5bb9\u7acb\u5373\u4e0b\u8f7d\u5f00\u5173 python r = requests.request('GET','http://httpbin.org/get/**.txt',stream=False) verity True/False\u9ed8\u8ba4Ture,\u8ba4\u8bc1ssl\u8bc1\u4e66\u5f00\u5173 ```python # \u65e0\u8bc1\u4e66\u8bbf\u95ee r = requests.get('https://www.12306.cn') # \u5728\u8bf7\u6c42https\u65f6\uff0crequest\u4f1a\u8fdb\u884c\u8bc1\u4e66\u7684\u9a8c\u8bc1\uff0c\u5982\u679c\u9a8c\u8bc1\u5931\u8d25\u5219\u4f1a\u629b\u51fa\u5f02\u5e38 print(r.status_code) # \u5173\u95ed\u9a8c\u8bc1\uff0c\u4f46\u662f\u4ecd\u7136\u4f1a\u62a5\u51fa\u8bc1\u4e66\u8b66\u544a r = requests.get('https://www.12306.cn',verify=False) print(r.status_code) # \u6d88\u9664\u5173\u95ed\u8bc1\u4e66\u9a8c\u8bc1\u7684\u8b66\u544a from requests.packages import urllib3 # \u5173\u95ed\u8b66\u544a urllib3.disable_warnings() r = requests.get('https://www.12306.cn',verify=False) print(r.status_code) ``` cert \u672c\u5730ssl\u8bc1\u4e66\u8def\u5f84 \u8bc1\u4e66\u4e0b\u8f7d\u65b9\u5f0f https://www.csdn.net/tags/NtzaYg5sMTM0NjMtYmxvZwO0O0OO0O0O.html python # \u8bbe\u7f6e\u672c\u5730\u8bc1\u4e66 r = requests.get('https://www.12306.cn', cert=('/home/youdi/Download/**.crt', '/hone/youdi/.ssh/**.key')) print(r.status_code) 7\u3001\u5c0f\u7ed3 requests.utils.dict_from_cookiejar\u80fd\u591f\u5b9e\u73b0cookiejar\u8f6c\u5316\u4e3a\u5b57\u5178 \u8bf7\u6c42\u65b9\u6cd5\u4e2d\u6dfb\u52a0verify=False\u80fd\u591f\u5b9e\u73b0\u8bf7\u6c42\u8fc7\u7a0b\u4e2d\u4e0d\u9a8c\u8bc1\u8bc1\u4e66 \u8bf7\u6c42\u65b9\u6cd5\u4e2d\u6dfb\u52a0timeout\u80fd\u591f\u5b9e\u73b0\u5f3a\u5236\u7a0b\u5e8f\u8fd4\u56de\u7ed3\u679c\u7684\u80fd\u591f\uff0c\u5426\u5219\u4f1a\u62a5\u9519 retrying\u6a21\u5757\u80fd\u591f\u5b9e\u73b0\u6355\u83b7\u51fd\u6570\u7684\u5f02\u5e38\uff0c\u53cd\u590d\u6267\u884c\u51fd\u6570\u7684\u6548\u679c\uff0c\u548ctimeout\u914d\u5408\u4f7f\u7528\uff0c\u80fd\u591f\u89e3\u51b3\u7f51\u7edc\u6ce2\u52a8\u5e26\u6765\u7684\u8bf7\u6c42\u4e0d\u6210\u529f\u7684\u95ee\u9898","title":"\u4e03\u3001urllib\u4e0erequests"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#urllibrequests","text":"","title":"\u4e03\u3001urllib\u4e0erequests"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#urllib","text":"","title":"\u4e00\u3001urllib\u7684\u5b66\u4e60"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_1","text":"\u4e86\u89e3urllib\u7684\u57fa\u672c\u4f7f\u7528","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#1urllib","text":"\u9664\u4e86requests\u6a21\u5757\u53ef\u4ee5\u53d1\u9001\u8bf7\u6c42\u4e4b\u5916, urllib\u6a21\u5757\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u8bf7\u6c42\u7684\u53d1\u9001,\u53ea\u662f\u64cd\u4f5c\u65b9\u6cd5\u7565\u6709\u4e0d\u540c! urllib\u5728python\u4e2d\u5206\u4e3aurllib\u548curllib2\uff0c\u5728python3\u4e2d\u4e3aurllib \u4e0b\u9762\u4ee5python3\u7684urllib\u4e3a\u4f8b\u8fdb\u884c\u8bb2\u89e3","title":"1\u3001urllib\u4ecb\u7ecd"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#2urllib","text":"","title":"2\u3001urllib\u7684\u57fa\u672c\u65b9\u6cd5\u4ecb\u7ecd"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#21-urllibrequest","text":"\u6784\u9020\u7b80\u5355\u8bf7\u6c42 python import urllib #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(\"http://www.baidu.com\") #\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u54cd\u5e94 response = urllib.request.urlopen(request) \u4f20\u5165headers\u53c2\u6570 python import urllib #\u6784\u9020headers headers = {\"User-Agent\" : \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\"} #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(url, headers = headers) #\u53d1\u9001\u8bf7\u6c42 response = urllib.request.urlopen(request) \u4f20\u5165data\u53c2\u6570 \u5b9e\u73b0\u53d1\u9001post\u8bf7\u6c42 python #\u6784\u9020headers headers={\"User-Agent\": \"Mozilla....\"} #\u6784\u9020\u8bf7\u6c42\u4f53 formdata = { \"type\":\"AUTO\", \"i\":\"i love python\", \"doctype\":\"json\", } #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(url, data = data, headers = headers) #\u6784\u9020\u8bf7\u6c42 response = urllib.request.urlopen(request) print(response.read())","title":"2.1 urllib.Request"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#22-responseread","text":"\u83b7\u53d6\u54cd\u5e94\u7684html\u5b57\u7b26\u4e32,bytes\u7c7b\u578b #\u53d1\u9001\u8bf7\u6c42 response = urllib.request.urlopen(\"http://www.baidu.com\") #\u83b7\u53d6\u54cd\u5e94 response.read()","title":"2.2 response.read()"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#3urllib","text":"# coding=utf-8 import urllib url = 'http://www.baidu.com' #\u6784\u9020headers headers = {\"User-Agent\" : \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\"} #\u6784\u9020\u8bf7\u6c42 request = urllib.request.Request(url, headers = headers) #\u53d1\u9001\u8bf7\u6c42 response = urllib.request.urlopen(request) #\u83b7\u53d6html\u5b57\u7b26\u4e32 html_str = response.read().decode() print(html_str)","title":"3\u3001urllib\u8bf7\u6c42\u767e\u5ea6\u9996\u9875\u7684\u5b8c\u6574\u4f8b\u5b50"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#4","text":"urllib.request\u4e2d\u5b9e\u73b0\u4e86\u6784\u9020\u8bf7\u6c42\u548c\u53d1\u9001\u8bf7\u6c42\u7684\u65b9\u6cd5 urllib.request.Request(url,headers,data)\u80fd\u591f\u6784\u9020\u8bf7\u6c42 urllib.request.urlopen\u80fd\u591f\u63a5\u53d7request\u8bf7\u6c42\u6216\u8005url\u5730\u5740\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94 response.read()\u80fd\u591f\u5b9e\u73b0\u83b7\u53d6\u54cd\u5e94\u4e2d\u7684bytes\u5b57\u7b26\u4e32","title":"4\u3001\u5c0f\u7ed3"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#requests","text":"","title":"requests\u6a21\u5757\u7684\u5165\u95e8\u4f7f\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#requests_1","text":"","title":"\u4e00\u3001requests\u6a21\u5757\u7684\u5165\u95e8\u4f7f\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_2","text":"\u4e86\u89e3 requests\u6a21\u5757\u7684\u4ecb\u7ecd \u638c\u63e1 requests\u7684\u57fa\u672c\u4f7f\u7528 \u638c\u63e1 response\u5e38\u89c1\u7684\u5c5e\u6027 \u638c\u63e1 requests.text\u548ccontent\u7684\u533a\u522b \u638c\u63e1 \u89e3\u51b3\u7f51\u9875\u7684\u89e3\u7801\u95ee\u9898 \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26headers\u7684\u8bf7\u6c42 \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26\u53c2\u6570\u7684get\u8bf7\u6c42","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#1requestsurllib","text":"\u4f01\u4e1a\u4e2d\u7528\u7684\u6700\u591a\u7684\u5c31\u662frequests requests\u7684\u5e95\u5c42\u5b9e\u73b0\u5c31\u662furllib requests\u5728python2 \u548cpython3\u4e2d\u901a\u7528\uff0c\u65b9\u6cd5\u5b8c\u5168\u4e00\u6837 requests\u7b80\u5355\u6613\u7528 requests\u80fd\u591f\u81ea\u52a8\u5e2e\u52a9\u6211\u4eec\u89e3\u538b(gzip\u538b\u7f29\u7684\u7b49)\u54cd\u5e94\u5185\u5bb9","title":"1\u3001\u4e3a\u4ec0\u4e48\u8981\u91cd\u70b9\u5b66\u4e60\brequests\u6a21\u5757\uff0c\u800c\u4e0d\u662furllib"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#2requests","text":"\u4f5c\u7528\uff1a\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\uff0c\u8fd4\u56de\u54cd\u5e94\u6570\u636e \u5b89\u88c5\uff1apip install requests","title":"2\u3001requests\u7684\u4f5c\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#3requestsget","text":"\u9700\u6c42\uff1a\u901a\u8fc7requests\u5411\u767e\u5ea6\u9996\u9875\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u767e\u5ea6\u9996\u9875\u7684\u6570\u636e import requests # \u76ee\u6807url url = 'https://www.baidu.com' # \u5411\u76ee\u6807url\u53d1\u9001get\u8bf7\u6c42 response = requests.get(url) # \u6253\u5370\u54cd\u5e94\u5185\u5bb9 print(response.text) response\u7684\u5e38\u7528\u5c5e\u6027\uff1a response.text \u54cd\u5e94\u4f53 str\u7c7b\u578b response.encoding \u4eceHTTP\u3000header\u4e2d\u731c\u6d4b\u7684\u54cd\u5e94\u5185\u5bb9\u7684\u7f16\u7801\u65b9\u5f0f respones.content \u54cd\u5e94\u4f53 bytes\u7c7b\u578b response.status_code \u54cd\u5e94\u72b6\u6001\u7801 response.request.headers \u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u5934 response.request.get('Cookie ') \u83b7\u53d6\u8bf7\u6c42\u7684cookie response.headers \u54cd\u5e94\u5934 response.request._cookies \u54cd\u5e94\u5bf9\u5e94\u8bf7\u6c42\u7684cookie \u8fd4\u56de\u5bf9\u8c61 response.cookies \u54cd\u5e94\u7684cookie\uff08\u7ecf\u8fc7\u4e86set-cookie\u52a8\u4f5c\uff09 response.url \u83b7\u53d6\u8bbf\u95ee\u7684url response.json() \u83b7\u53d6json\u6570\u636e \u5f97\u5230\u5185\u5bb9\u4e3a\u5b57\u5178 (\u5982\u679c\u63a5\u53e3\u54cd\u5e94\u4f53\u7684\u683c\u5f0f\u662fjson\u683c\u5f0f\u65f6) response.ok \u5982\u679cstatus_code\u5c0f\u4e8e200\uff0cresponse.ok\u8fd4\u56deTrue\u3002 \u5982\u679cstatus_code\u5927\u4e8e200\uff0cresponse.ok\u8fd4\u56deFalse\u3002 \u601d\u8003\uff1atext\u662fresponse\u7684\u5c5e\u6027\u8fd8\u662f\u65b9\u6cd5\u5462\uff1f \u4e00\u822c\u6765\u8bf4\u540d\u8bcd\uff0c\u5f80\u5f80\u90fd\u662f\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u5bf9\u5e94\u7684\u52a8\u8bcd\u662f\u5bf9\u8c61\u7684\u65b9\u6cd5","title":"3\u3001requests\u6a21\u5757\u53d1\u9001\u7b80\u5355\u7684get\u8bf7\u6c42\u3001\u83b7\u53d6\u54cd\u5e94"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#31-responsetext-responsecontent","text":"response.text \u7c7b\u578b\uff1astr \u89e3\u7801\u7c7b\u578b\uff1a requests\u6a21\u5757\u81ea\u52a8\u6839\u636eHTTP \u5934\u90e8\u5bf9\u54cd\u5e94\u7684\u7f16\u7801\u4f5c\u51fa\u6709\u6839\u636e\u7684\u63a8\u6d4b\uff0c\u63a8\u6d4b\u7684\u6587\u672c\u7f16\u7801 \u5982\u4f55\u4fee\u6539\u7f16\u7801\u65b9\u5f0f\uff1a response.encoding=\"gbk/UTF-8\" response.content \u7c7b\u578b\uff1abytes \u89e3\u7801\u7c7b\u578b\uff1a \u6ca1\u6709\u6307\u5b9a \u5982\u4f55\u4fee\u6539\u7f16\u7801\u65b9\u5f0f\uff1a response.content.deocde(\"utf8\") \u83b7\u53d6\u7f51\u9875\u6e90\u7801\u7684\u901a\u7528\u65b9\u5f0f\uff1a response.content.decode() response.content.decode(\"GBK\") response.text \u4ee5\u4e0a\u4e09\u79cd\u65b9\u6cd5\u4ece\u524d\u5f80\u540e\u5c1d\u8bd5\uff0c\u80fd\u591f100%\u7684\u89e3\u51b3\u6240\u6709\u7f51\u9875\u89e3\u7801\u7684\u95ee\u9898 \u6240\u4ee5\uff1a\u66f4\u63a8\u8350\u4f7f\u7528 response.content.deocde() \u7684\u65b9\u5f0f\u83b7\u53d6\u54cd\u5e94\u7684html\u9875\u9762","title":"3.1 response.text \u548cresponse.content\u7684\u533a\u522b"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#32","text":"\u6211\u4eec\u6765\u628a www.baidu.com \u7684\u56fe\u7247\u4fdd\u5b58\u5230\u672c\u5730 \u601d\u8003\uff1a \u4ee5\u4ec0\u4e48\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6 \u4fdd\u5b58\u4ec0\u4e48\u683c\u5f0f\u7684\u5185\u5bb9 \u5206\u6790\uff1a \u56fe\u7247\u7684url: https://www.baidu.com/img/bd_logo1.png \u5229\u7528requests\u6a21\u5757\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u54cd\u5e94 \u4ee52\u8fdb\u5236\u5199\u5165\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\uff0c\u5e76\u5c06response\u54cd\u5e94\u7684\u4e8c\u8fdb\u5236\u5185\u5bb9\u5199\u5165 import requests # \u56fe\u7247\u7684url url = 'https://www.baidu.com/img/bd_logo1.png' # \u54cd\u5e94\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u56fe\u7247,\u5e76\u4e14\u662f\u4e8c\u8fdb\u5236\u7c7b\u578b response = requests.get(url) # print(response.content) # \u4ee5\u4e8c\u8fdb\u5236+\u5199\u5165\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6 with open('baidu.png', 'wb') as f: # \u5199\u5165response.content bytes\u4e8c\u8fdb\u5236\u7c7b\u578b f.write(response.content)","title":"3.2 \u7ec3\u4e60\uff1a\u628a\u7f51\u7edc\u4e0a\u7684\u56fe\u7247\u4fdd\u5b58\u5230\u672c\u5730"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#4header","text":"\u6211\u4eec\u5148\u5199\u4e00\u4e2a\u83b7\u53d6\u767e\u5ea6\u9996\u9875\u7684\u4ee3\u7801 import requests url = 'https://www.baidu.com' response = requests.get(url) print(response.content) # \u6253\u5370\u54cd\u5e94\u5bf9\u5e94\u8bf7\u6c42\u7684\u8bf7\u6c42\u5934\u4fe1\u606f print(response.request.headers)","title":"4\u3001\u53d1\u9001\u5e26header\u7684\u8bf7\u6c42"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#41","text":"\u5bf9\u6bd4\u6d4f\u89c8\u5668\u4e0a\u767e\u5ea6\u9996\u9875\u7684\u7f51\u9875\u6e90\u7801\u548c\u4ee3\u7801\u4e2d\u7684\u767e\u5ea6\u9996\u9875\u7684\u6e90\u7801\uff0c\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f \u4ee3\u7801\u4e2d\u7684\u767e\u5ea6\u9996\u9875\u7684\u6e90\u7801\u975e\u5e38\u5c11\uff0c\u4e3a\u4ec0\u4e48\uff1f","title":"4.1 \u601d\u8003"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#42-header","text":"\u6a21\u62df\u6d4f\u89c8\u5668\uff0c\u6b3a\u9a97\u670d\u52a1\u5668\uff0c\u83b7\u53d6\u548c\u6d4f\u89c8\u5668\u4e00\u81f4\u7684\u5185\u5bb9","title":"4.2 \u4e3a\u4ec0\u4e48\u8bf7\u6c42\u9700\u8981\u5e26\u4e0aheader\uff1f"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#43-header","text":"headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"}","title":"4.3 header\u7684\u5f62\u5f0f\uff1a\u5b57\u5178"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#44","text":"requests.get(url, headers=headers)","title":"4.4 \u7528\u6cd5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#45","text":"import requests url = 'https://www.baidu.com' headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} # \u5728\u8bf7\u6c42\u5934\u4e2d\u5e26\u4e0aUser-Agent\uff0c\u6a21\u62df\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42 response = requests.get(url, headers=headers) # print(response.content) # \u6253\u5370\u8bf7\u6c42\u5934\u4fe1\u606f print(response.request.headers)","title":"4.5 \u5b8c\u6574\u7684\u4ee3\u7801"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#5","text":"\u6211\u4eec\u5728\u4f7f\u7528\u767e\u5ea6\u641c\u7d22\u7684\u65f6\u5019\u7ecf\u5e38\u53d1\u73b0url\u5730\u5740\u4e2d\u4f1a\u6709\u4e00\u4e2a ? \uff0c\u90a3\u4e48\u8be5\u95ee\u53f7\u540e\u8fb9\u7684\u5c31\u662f\u8bf7\u6c42\u53c2\u6570\uff0c\u53c8\u53eb\u505a\u67e5\u8be2\u5b57\u7b26\u4e32","title":"5\u3001\u53d1\u9001\u5e26\u53c2\u6570\u7684\u8bf7\u6c42"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#51","text":"\u4f8b1\uff1a http://www.webkaka.com/tutorial/server/2015/021013/ \u4f8b2\uff1ahttps://www.baidu.com/s?wd=python&a=c \u4f8b1\u4e2d\u6ca1\u6709\u8bf7\u6c42\u53c2\u6570\uff01\u4f8b2\u4e2d?\u540e\u8fb9\u7684\u5c31\u662f\u8bf7\u6c42\u53c2\u6570","title":"5.1 \u4ec0\u4e48\u53eb\u505a\u8bf7\u6c42\u53c2\u6570\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#52","text":"kw = {'wd':'\u957f\u57ce'}","title":"5.2 \u8bf7\u6c42\u53c2\u6570\u7684\u5f62\u5f0f\uff1a\u5b57\u5178"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#53","text":"requests.get(url,params=kw)","title":"5.3 \u8bf7\u6c42\u53c2\u6570\u7684\u7528\u6cd5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#54","text":"\u5728url\u5730\u5740\u4e2d\uff0c \u5f88\u591a\u53c2\u6570\u662f\u6ca1\u6709\u7528\u7684\uff0c\u6bd4\u5982\u767e\u5ea6\u641c\u7d22\u7684url\u5730\u5740\uff0c\u5176\u4e2d\u53c2\u6570\u53ea\u6709\u4e00\u4e2a\u5b57\u6bb5\u6709\u7528\uff0c\u5176\u4ed6\u7684\u90fd\u53ef\u4ee5\u5220\u9664 \u5982\u4f55\u786e\u5b9a\u90a3\u4e9b\u8bf7\u6c42\u53c2\u6570\u6709\u7528\u6216\u8005\u6ca1\u7528\uff1a\u6328\u4e2a\u5c1d\u8bd5\uff01 \u5bf9\u5e94\u7684,\u5728\u540e\u7eed\u7684\u722c\u866b\u4e2d\uff0c\u8d8a\u5230\u5f88\u591a\u53c2\u6570\u7684url\u5730\u5740\uff0c\u90fd\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664\u53c2\u6570","title":"5.4 \u5173\u4e8e\u53c2\u6570\u7684\u6ce8\u610f\u70b9"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#55","text":"\u5bf9 https://www.baidu.com/s?wd=python \u53d1\u8d77\u8bf7\u6c42\u53ef\u4ee5\u4f7f\u7528 requests.get(url, params=kw) \u7684\u65b9\u5f0f ```python # \u65b9\u5f0f\u4e00\uff1a\u5229\u7528params\u53c2\u6570\u53d1\u9001\u5e26\u53c2\u6570\u7684\u8bf7\u6c42 import requests headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} # \u8fd9\u662f\u76ee\u6807url # url = 'https://www.baidu.com/s?wd=python' # \u6700\u540e\u6709\u6ca1\u6709\u95ee\u53f7\u7ed3\u679c\u90fd\u4e00\u6837 url = 'https://www.baidu.com/s?' # \u8bf7\u6c42\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178 \u5373wd=python kw = {'wd': 'python'} # \u5e26\u4e0a\u8bf7\u6c42\u53c2\u6570\u53d1\u8d77\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94 response = requests.get(url, headers=headers, params=kw) # \u5f53\u6709\u591a\u4e2a\u8bf7\u6c42\u53c2\u6570\u65f6\uff0crequests\u63a5\u6536\u7684params\u53c2\u6570\u4e3a\u591a\u4e2a\u952e\u503c\u5bf9\u7684\u5b57\u5178\uff0c\u6bd4\u5982 '?wd=python&a=c'-->{'wd': 'python', 'a': 'c'} print(response.content) ``` \u4e5f\u53ef\u4ee5\u76f4\u63a5\u5bf9 https://www.baidu.com/s?wd=python \u5b8c\u6574\u7684url\u76f4\u63a5\u53d1\u9001\u8bf7\u6c42\uff0c\u4e0d\u4f7f\u7528params\u53c2\u6570 ```python # \u65b9\u5f0f\u4e8c\uff1a\u76f4\u63a5\u53d1\u9001\u5e26\u53c2\u6570\u7684url\u7684\u8bf7\u6c42 import requests headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} url = 'https://www.baidu.com/s?wd=python' # kw = {'wd': 'python'} # url\u4e2d\u5305\u542b\u4e86\u8bf7\u6c42\u53c2\u6570\uff0c\u6240\u4ee5\u6b64\u65f6\u65e0\u9700params response = requests.get(url, headers=headers) ```","title":"5.5 \u4e24\u79cd\u65b9\u5f0f\uff1a\u53d1\u9001\u5e26\u53c2\u6570\u7684\u8bf7\u6c42"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#6","text":"1.\u83b7\u53d6\u65b0\u6d6a\u9996\u9875\uff0c\u67e5\u770bresponse.text \u548cresponse.content.decode()\u7684\u533a\u522b 2.\u5b9e\u73b0\u4efb\u610f\u8d34\u5427\u7684\u722c\u866b\uff0c\u4fdd\u5b58\u7f51\u9875\u5230\u672c\u5730","title":"6\u3001\u4f5c\u4e1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#7","text":"requests\u6a21\u5757\u7684\u4ecb\u7ecd\uff1a\u80fd\u591f\u5e2e\u52a9\u6211\u4eec\u53d1\u8d77\u8bf7\u6c42\u83b7\u53d6\u54cd\u5e94 requests\u7684\u57fa\u672c\u4f7f\u7528\uff1a requests.get(url) \u4ee5\u53caresponse\u5e38\u89c1\u7684\u5c5e\u6027\uff1a response.text \u54cd\u5e94\u4f53 str\u7c7b\u578b respones.content \u54cd\u5e94\u4f53 bytes\u7c7b\u578b response.status_code \u54cd\u5e94\u72b6\u6001\u7801 response.request.headers \u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u5934 response.headers \u54cd\u5e94\u5934 response.request._cookies \u54cd\u5e94\u5bf9\u5e94\u8bf7\u6c42\u7684cookie response.cookies \u54cd\u5e94\u7684cookie\uff08\u7ecf\u8fc7\u4e86set-cookie\u52a8\u4f5c\uff09 \u638c\u63e1 requests.text\u548ccontent\u7684\u533a\u522b\uff1atext\u8fd4\u56destr\u7c7b\u578b\uff0ccontent\u8fd4\u56debytes\u7c7b\u578b \u638c\u63e1 \u89e3\u51b3\u7f51\u9875\u7684\u89e3\u7801\u95ee\u9898\uff1a response.content.decode() response.content.decode(\"GBK\") response.text \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26headers\u7684\u8bf7\u6c42\uff1a requests.get(url, headers={}) \u638c\u63e1 requests\u6a21\u5757\u53d1\u9001\u5e26\u53c2\u6570\u7684get\u8bf7\u6c42\uff1a requests.get(url, params={})","title":"7\u3001\u5c0f\u7ed3"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#requests_2","text":"","title":"\u4e8c\u3001requests\u6a21\u5757\u7684\u6df1\u5165\u4f7f\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_3","text":"\u80fd\u591f\u5e94\u7528requests\u53d1\u9001post\u8bf7\u6c42\u7684\u65b9\u6cd5 \u80fd\u591f\u5e94\u7528requests\u6a21\u5757\u4f7f\u7528\u4ee3\u7406\u7684\u65b9\u6cd5 \u4e86\u89e3\u4ee3\u7406ip\u7684\u5206\u7c7b","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#1requestspost","text":"\u601d\u8003\uff1a\u54ea\u4e9b\u5730\u65b9\u6211\u4eec\u4f1a\u7528\u5230POST\u8bf7\u6c42\uff1f \u767b\u5f55\u6ce8\u518c\uff08 POST \u6bd4 GET \u66f4\u5b89\u5168\uff09 \u9700\u8981\u4f20\u8f93\u5927\u6587\u672c\u5185\u5bb9\u7684\u65f6\u5019\uff08 POST \u8bf7\u6c42\u5bf9\u6570\u636e\u957f\u5ea6\u6ca1\u6709\u8981\u6c42\uff09 \u6240\u4ee5\u540c\u6837\u7684\uff0c\u6211\u4eec\u7684\u722c\u866b\u4e5f\u9700\u8981\u5728\u8fd9\u4e24\u4e2a\u5730\u65b9\u56de\u53bb\u6a21\u62df\u6d4f\u89c8\u5668\u53d1\u9001post\u8bf7\u6c42","title":"1\u3001\u4f7f\u7528requests\u53d1\u9001POST\u8bf7\u6c42"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#11-requestspost","text":"\u7528\u6cd5\uff1a python response = requests.post(\"http://www.baidu.com/\", data = data, headers=headers) data \u7684\u5f62\u5f0f\uff1a\u5b57\u5178","title":"1.1 requests\u53d1\u9001post\u8bf7\u6c42\u8bed\u6cd5\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#12-post","text":"\u4e0b\u9762\u9762\u6211\u4eec\u901a\u8fc7\u91d1\u5c71\u7ffb\u8bd1\u7684\u4f8b\u5b50\u770b\u770bpost\u8bf7\u6c42\u5982\u4f55\u4f7f\u7528\uff1a \u5730\u5740\uff1ahttps://www.iciba.com/fy","title":"1.2 POST\u8bf7\u6c42\u7ec3\u4e60"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_4","text":"\u6293\u5305\u786e\u5b9a\u8bf7\u6c42\u7684url\u5730\u5740 \u786e\u5b9a\u8bf7\u6c42\u7684\u53c2\u6570 \u786e\u5b9a\u8fd4\u56de\u6570\u636e\u7684\u4f4d\u7f6e \u6a21\u62df\u6d4f\u89c8\u5668\u83b7\u53d6\u6570\u636e ```python import requests import json headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\"} url = 'https://ifanyi.iciba.com/index.php?c=trans&m=fy&client=6&auth_user=key_ciba&sign=99730f3bf66b2582' data = { 'from': 'zh', 'to': 'en', 'q': 'lucky \u662f\u4e00\u4e2a\u5e05\u6c14\u7684\u8001\u5e08' } res = requests.post(url, headers=headers, data=data) # print(res.status_code) # \u8fd4\u56de\u7684\u662fjson\u5b57\u7b26\u4e32 \u9700\u8981\u5728\u8fdb\u884c\u8f6c\u6362\u4e3a\u5b57\u5178 data = json.loads(res.content.decode('UTF-8')) # print(type(data)) print(data) print(data['content']['out']) ```","title":"\u601d\u8def\u5206\u6790"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#13","text":"\u5728\u6a21\u62df\u767b\u9646\u7b49\u573a\u666f\uff0c\u7ecf\u5e38\u9700\u8981\u53d1\u9001post\u8bf7\u6c42\uff0c\u76f4\u63a5\u4f7f\u7528 requests.post(url,data) \u5373\u53ef","title":"1.3 \u5c0f\u7ed3"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#2","text":"","title":"2\u3001\u4f7f\u7528\u4ee3\u7406"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#21","text":"\u8ba9\u670d\u52a1\u5668\u4ee5\u4e3a\u4e0d\u662f\u540c\u4e00\u4e2a\u5ba2\u6237\u7aef\u5728\u8bf7\u6c42 \u9632\u6b62\u6211\u4eec\u7684\u771f\u5b9e\u5730\u5740\u88ab\u6cc4\u9732\uff0c\u9632\u6b62\u88ab\u8ffd\u7a76","title":"2.1 \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u4ee3\u7406"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#22","text":"","title":"2.2 \u7406\u89e3\u4f7f\u7528\u4ee3\u7406\u7684\u8fc7\u7a0b"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#23","text":"\u901a\u8fc7\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff1a \u6b63\u5411\u4ee3\u7406\uff1a\u5bf9\u4e8e\u6d4f\u89c8\u5668\u77e5\u9053\u670d\u52a1\u5668\u7684\u771f\u5b9e\u5730\u5740\uff0c\u4f8b\u5982VPN \u53cd\u5411\u4ee3\u7406\uff1a\u6d4f\u89c8\u5668\u4e0d\u77e5\u9053\u670d\u52a1\u5668\u7684\u771f\u5b9e\u5730\u5740\uff0c\u4f8b\u5982nginx \u8be6\u7ec6\u8bb2\u89e3\uff1a \u6b63\u5411\u4ee3\u7406\u662f\u5ba2\u6237\u7aef\u4e0e\u6b63\u5411\u4ee3\u7406\u5ba2\u6237\u7aef\u5728\u540c\u4e00\u5c40\u57df\u7f51\uff0c\u5ba2\u6237\u7aef\u53d1\u51fa\u8bf7\u6c42\uff0c\u6b63\u5411\u4ee3\u7406 \u66ff\u4ee3\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\u3002\u670d\u52a1\u5668\u4e0d\u77e5\u9053\u8c01\u662f\u771f\u6b63\u7684\u5ba2\u6237\u7aef\uff0c\u6b63\u5411\u4ee3\u7406\u9690\u85cf\u4e86\u771f\u5b9e\u7684\u8bf7\u6c42\u5ba2\u6237\u7aef\u3002 \u53cd\u5411\u4ee3\u7406\uff1a\u670d\u52a1\u5668\u4e0e\u53cd\u5411\u4ee3\u7406\u5728\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\uff0c\u5ba2\u670d\u7aef\u53d1\u51fa\u8bf7\u6c42\uff0c\u53cd\u5411\u4ee3\u7406\u63a5\u6536\u8bf7\u6c42 \uff0c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u4f1a\u628a\u6211\u4eec\u7684\u8bf7\u6c42\u5206\u8f6c\u53d1\u5230\u771f\u5b9e\u63d0\u4f9b\u670d\u52a1\u7684\u5404\u53f0\u670d\u52a1\u5668Nginx\u5c31\u662f\u6027\u80fd\u975e\u5e38\u597d\u7684\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u7528\u6765\u505a\u8d1f\u8f7d\u5747\u8861","title":"2.3 \u7406\u89e3\u6b63\u5411\u4ee3\u7406\u548c\u53cd\u5411\u4ee3\u7406\u7684\u533a\u522b"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#24","text":"\u7528\u6cd5\uff1a proxies[\u02c8pr\u0251ksiz] python requests.get(\"http://httpbin.org/ip\", proxies = proxies) proxies\u7684\u5f62\u5f0f\uff1a\u5b57\u5178 \u4f8b\u5982\uff1a json proxies = { \"http\": \"http://12.34.56.79:9527\", \"https\": \"https://12.34.56.79:9527\", }","title":"2.4 \u4ee3\u7406\u7684\u4f7f\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#25-ip","text":"\u6839\u636e\u4ee3\u7406ip\u7684\u533f\u540d\u7a0b\u5ea6\uff0c\u4ee3\u7406IP\u53ef\u4ee5\u5206\u4e3a\u4e0b\u9762\u56db\u7c7b\uff1a \u900f\u660e\u4ee3\u7406(Transparent Proxy)\uff1a\u900f\u660e\u4ee3\u7406\u7684\u610f\u601d\u662f\u5ba2\u6237\u7aef\u6839\u672c\u4e0d\u9700\u8981\u77e5\u9053\u6709\u4ee3\u7406\u670d\u52a1\u5668\u7684\u5b58\u5728\uff0c\u4f46\u662f\u5b83\u4f20\u9001\u7684\u4ecd\u7136\u662f\u771f\u5b9e\u7684IP\u3002\u4f7f\u7528\u900f\u660e\u4ee3\u7406\u65f6\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u662f\u53ef\u4ee5\u77e5\u9053\u4f60\u4f7f\u7528\u4e86\u4ee3\u7406\u7684\uff0c\u5e76\u4e14\u4ed6\u4eec\u4e5f\u77e5\u9053\u4f60\u7684\u771f\u5b9eIP\u3002\u4f60\u8981\u60f3\u9690\u85cf\u7684\u8bdd\uff0c\u4e0d\u8981\u7528\u8fd9\u4e2a\u3002\u900f\u660e\u4ee3\u7406\u4e3a\u4ec0\u4e48\u65e0\u6cd5\u9690\u85cf\u8eab\u4efd\u5462?\u56e0\u4e3a\u4ed6\u4eec\u5c06\u4f60\u7684\u771f\u5b9eIP\u53d1\u9001\u7ed9\u4e86\u5bf9\u65b9\u670d\u52a1\u5668\uff0c\u6240\u4ee5\u65e0\u6cd5\u8fbe\u5230\u4fdd\u62a4\u771f\u5b9e\u4fe1\u606f\u3002 \u533f\u540d\u4ee3\u7406(Anonymous Proxy)\uff1a\u533f\u540d\u4ee3\u7406\u9690\u85cf\u4e86\u60a8\u7684\u771f\u5b9eIP\uff0c\u4f46\u662f\u5411\u8bbf\u95ee\u5bf9\u8c61\u53ef\u4ee5\u68c0\u6d4b\u662f\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u8bbf\u95ee\u4ed6\u4eec\u7684\u3002\u4f1a\u6539\u53d8\u6211\u4eec\u7684\u8bf7\u6c42\u4fe1\u606f\uff0c\u670d\u52a1\u5668\u7aef\u6709\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u6211\u4eec\u4f7f\u7528\u4e86\u4ee3\u7406\u3002\u4e0d\u8fc7\u4f7f\u7528\u6b64\u79cd\u4ee3\u7406\u65f6\uff0c\u867d\u7136\u88ab\u8bbf\u95ee\u7684\u7f51\u7ad9\u4e0d\u80fd\u77e5\u9053\u4f60\u7684ip\u5730\u5740\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u77e5\u9053\u4f60\u5728\u4f7f\u7528\u4ee3\u7406\uff0c\u5f53\u7136\u67d0\u4e9b\u80fd\u591f\u4fa6\u6d4bip\u7684\u7f51\u9875\u4e5f\u662f\u53ef\u4ee5\u67e5\u5230\u4f60\u7684ip\u3002\uff08https://wenku.baidu.com/view/9bf7b5bd3a3567ec102de2bd960590c69fc3d8cf.html\uff09 \u9ad8\u533f\u4ee3\u7406(Elite proxy\u6216High Anonymity Proxy)\uff1a\u9ad8\u533f\u540d\u4ee3\u7406\u4e0d\u6539\u53d8\u5ba2\u6237\u673a\u7684\u8bf7\u6c42\uff0c\u8fd9\u6837\u5728\u670d\u52a1\u5668\u770b\u6765\u5c31\u50cf\u6709\u4e2a\u771f\u6b63\u7684\u5ba2\u6237\u6d4f\u89c8\u5668\u5728\u8bbf\u95ee\u5b83\uff0c\u8fd9\u65f6\u5ba2\u6237\u7684\u771f\u5b9eIP\u662f\u9690\u85cf\u7684\uff0c\u5b8c\u5168\u7528\u4ee3\u7406\u670d\u52a1\u5668\u7684\u4fe1\u606f\u66ff\u4ee3\u4e86\u60a8\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5c31\u8c61\u60a8\u5c31\u662f\u5b8c\u5168\u4f7f\u7528\u90a3\u53f0\u4ee3\u7406\u670d\u52a1\u5668\u76f4\u63a5\u8bbf\u95ee\u5bf9\u8c61\uff0c\u540c\u65f6\u670d\u52a1\u5668\u7aef\u4e0d\u4f1a\u8ba4\u4e3a\u6211\u4eec\u4f7f\u7528\u4e86\u4ee3\u7406\u3002IPDIEA\u8986\u76d6\u5168\u7403240\uff0b\u56fd\u5bb6\u5730\u533aip\u9ad8\u533f\u540d\u4ee3\u7406\u4e0d\u5fc5\u62c5\u5fc3\u88ab\u8ffd\u8e2a\u3002 \u5728\u4f7f\u7528\u7684\u4f7f\u7528\uff0c\u6beb\u65e0\u7591\u95ee\u4f7f\u7528\u9ad8\u533f\u4ee3\u7406\u6548\u679c\u6700\u597d \u4ece\u8bf7\u6c42\u4f7f\u7528\u7684\u534f\u8bae\u53ef\u4ee5\u5206\u4e3a\uff1a http\u4ee3\u7406 https\u4ee3\u7406 socket\u4ee3\u7406\u7b49 \u4e0d\u540c\u5206\u7c7b\u7684\u4ee3\u7406\uff0c\u5728\u4f7f\u7528\u7684\u65f6\u5019\u9700\u8981\u6839\u636e\u6293\u53d6\u7f51\u7ad9\u7684\u534f\u8bae\u6765\u9009\u62e9","title":"2.5 \u4ee3\u7406IP\u7684\u5206\u7c7b"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#26-ip","text":"\u53cd\u53cd\u722c \u4f7f\u7528\u4ee3\u7406ip\u662f\u975e\u5e38\u5fc5\u8981\u7684\u4e00\u79cd \u53cd\u53cd\u722c \u7684\u65b9\u5f0f \u4f46\u662f\u5373\u4f7f\u4f7f\u7528\u4e86\u4ee3\u7406ip\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u4efb\u7136\u4f1a\u6709\u5f88\u591a\u7684\u65b9\u5f0f\u6765\u68c0\u6d4b\u6211\u4eec\u662f\u5426\u662f\u4e00\u4e2a\u722c\u866b\uff0c\u6bd4\u5982\uff1a \u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u68c0\u6d4bIP\u8bbf\u95ee\u7684\u9891\u7387\uff0c\u8bbf\u95ee\u592a\u591a\u9891\u7e41\u4f1a\u5c4f\u853d \u68c0\u67e5Cookie\uff0cUser-Agent\uff0cReferer\u7b49header\u53c2\u6570\uff0c\u82e5\u6ca1\u6709\u5219\u5c4f\u853d \u670d\u52a1\u65b9\u8d2d\u4e70\u6240\u6709\u4ee3\u7406\u63d0\u4f9b\u5546\uff0c\u52a0\u5165\u5230\u53cd\u722c\u866b\u6570\u636e\u5e93\u91cc\uff0c\u82e5\u68c0\u6d4b\u662f\u4ee3\u7406\u5219\u5c4f\u853d \u6240\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5728\u4f7f\u7528\u4ee3\u7406ip\u7684\u65f6\u5019\u4f7f\u7528\u968f\u673a\u7684\u65b9\u5f0f\u8fdb\u884c\u9009\u62e9\u4f7f\u7528\uff0c\u4e0d\u8981\u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u4ee3\u7406ip \u4ee3\u7406ip\u6c60\u7684\u66f4\u65b0 \u8d2d\u4e70\u7684\u4ee3\u7406ip\u5f88\u591a\u65f6\u5019\u5927\u90e8\u5206(\u8d85\u8fc760%)\u53ef\u80fd\u90fd\u6ca1\u529e\u6cd5\u4f7f\u7528\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u901a\u8fc7\u7a0b\u5e8f\u53bb\u68c0\u6d4b\u54ea\u4e9b\u53ef\u7528\uff0c\u628a\u4e0d\u80fd\u7528\u7684\u5220\u9664\u6389\u3002 \u4ee3\u7406\u670d\u52a1\u5668\u5e73\u53f0\u7684\u4f7f\u7528\uff1a \u5f53\u7136\u8fd8\u6709\u5f88\u591a\u514d\u8d39\u7684\uff0c\u4f46\u662f\u5927\u591a\u90fd\u4e0d\u53ef\u7528\u9700\u8981\u81ea\u5df1\u5c1d\u8bd5 http://www.66ip.cn https://ip.jiangxianli.com/?page=1 https://www.zdaye.com https://www.kuaidaili.com/free","title":"2.6 \u4ee3\u7406IP\u4f7f\u7528\u7684\u6ce8\u610f\u70b9"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#3","text":"\u6d4f\u89c8\u5668\u914d\u7f6e\u4ee3\u7406 \u53f3\u8fb9\u4e09\u70b9\\==> \u8bbe\u7f6e\\==> \u9ad8\u7ea7\\==> \u4ee3\u7406\\==> \u5c40\u57df\u7f51\u8bbe\u7f6e\\==> \u4e3aLAN\u4f7f\u7528\u4ee3\u7406==> \u8f93\u5165ip\u548c\u7aef\u53e3\u53f7\u5373\u53ef \u53c2\u8003\u7f51\u5740\uff1ahttps://jingyan.baidu.com/article/a681b0dece76407a1843468d.html \u4ee3\u7801\u914d\u7f6e urllib python handler = urllib.request.ProxyHandler({'http': '114.215.95.188:3128'}) opener = urllib.request.build_opener(handler) # \u540e\u7eed\u90fd\u4f7f\u7528opener.open\u65b9\u6cd5\u53bb\u53d1\u9001\u8bf7\u6c42\u5373\u53ef requests ```python # \u7528\u5230\u7684\u5e93 import requests # \u5199\u5165\u83b7\u53d6\u5230\u7684ip\u5730\u5740\u5230proxy # \u4e00\u4e2aip\u5730\u5740 proxy = { 'http':'http://221.178.232.130:8080' } \"\"\" # \u591a\u4e2aip\u5730\u5740 proxy = [ {'http':'http://221.178.232.130:8080'}, {'http':'http://221.178.232.130:8080'} ] import random proxy = random.choice(proxy) \"\"\" # \u4f7f\u7528\u4ee3\u7406 proxy = { 'http': 'http://58.20.184.187:9091' } # \u4e24\u79cd\u65b9\u5f0f\u90fd\u53ef\u4ee5 \"\"\" proxy = { 'http': '58.20.184.187:9091' } \"\"\" result = requests.get(\"http://httpbin.org/ip\", proxies=proxy) print(result.text) ```","title":"3\u3001\u914d\u7f6e"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#4_1","text":"requests\u53d1\u9001post\u8bf7\u6c42\u4f7f\u7528requests.post\u65b9\u6cd5\uff0c\u5e26\u4e0a\u8bf7\u6c42\u4f53\uff0c\u5176\u4e2d\u8bf7\u6c42\u4f53\u9700\u8981\u65f6\u5b57\u5178\u7684\u5f62\u5f0f\uff0c\u4f20\u9012\u7ed9data\u53c2\u6570\u63a5\u6536 \u5728requests\u4e2d\u4f7f\u7528\u4ee3\u7406\uff0c\u9700\u8981\u51c6\u5907\u5b57\u5178\u5f62\u5f0f\u7684\u4ee3\u7406\uff0c\u4f20\u9012\u7ed9proxies\u53c2\u6570\u63a5\u6536 \u4e0d\u540c\u534f\u8bae\u7684url\u5730\u5740\uff0c\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u7684\u4ee3\u7406\u53bb\u8bf7\u6c42","title":"4\u3001\u5c0f\u7ed3"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#requestscookie","text":"\u5b66\u4e60\u76ee\u6807 \u638c\u63e1requests\u5904\u7406cookie\u7684\u4e09\u79cd\u65b9\u6cd5","title":"\u4e09\u3001requests\u6a21\u5757\u5904\u7406cookie\u76f8\u5173\u7684\u8bf7\u6c42"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#1-cookie","text":"\u4e3a\u4e86\u80fd\u591f\u901a\u8fc7\u722c\u866b\u83b7\u53d6\u5230\u767b\u5f55\u540e\u7684\u9875\u9762\uff0c\u6216\u8005\u662f\u89e3\u51b3\u901a\u8fc7cookie\u7684\u53cd\u6252\uff0c\u9700\u8981\u4f7f\u7528request\u6765\u5904\u7406cookie\u76f8\u5173\u7684\u8bf7\u6c42","title":"1 \u722c\u866b\u4e2d\u4f7f\u7528cookie"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#11-cookie","text":"\u5e26\u4e0acookie\u7684\u597d\u5904 \u80fd\u591f\u8bbf\u95ee\u767b\u5f55\u540e\u7684\u9875\u9762 \u80fd\u591f\u5b9e\u73b0\u90e8\u5206\u53cd\u53cd\u722c \u5e26\u4e0acookie\u7684\u574f\u5904 \u4e00\u5957cookie\u5f80\u5f80\u5bf9\u5e94\u7684\u662f\u4e00\u4e2a\u7528\u6237\u7684\u4fe1\u606f\uff0c\u8bf7\u6c42\u592a\u9891\u7e41\u6709\u66f4\u5927\u7684\u53ef\u80fd\u6027\u88ab\u5bf9\u65b9\u8bc6\u522b\u4e3a\u722c\u866b \u90a3\u4e48\u4e0a\u9762\u7684\u95ee\u9898\u5982\u4f55\u89e3\u51b3 ?\u4f7f\u7528\u591a\u4e2a\u8d26\u53f7","title":"1.1 \u722c\u866b\u4e2d\u4f7f\u7528cookie\u7684\u5229\u5f0a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#12-requestscookie","text":"\u4f7f\u7528requests\u5904\u7406cookie\u6709\u4e09\u79cd\u65b9\u6cd5\uff1a + cookie\u5b57\u7b26\u4e32\u653e\u5728headers\u4e2d + \u628acookie\u5b57\u5178\u653e\u4f20\u7ed9\u8bf7\u6c42\u65b9\u6cd5\u7684cookies\u53c2\u6570\u63a5\u6536 + \u4f7f\u7528requests\u63d0\u4f9b\u7684session\u6a21\u5757","title":"1.2 requests\u5904\u7406cookie\u7684\u65b9\u6cd5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#2cookieheades","text":"","title":"2\u3001cookie\u6dfb\u52a0\u5728heades\u4e2d"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#21-headerscookie","text":"headers\u4e2d\u7684cookie\uff1a \u4f7f\u7528\u5206\u53f7(;)\u9694\u5f00 \u5206\u53f7\u4e24\u8fb9\u7684\u7c7b\u4f3ca=b\u5f62\u5f0f\u7684\u8868\u793a\u4e00\u6761cookie a=b\u4e2d\uff0ca\u8868\u793a\u952e\uff08name\uff09\uff0cb\u8868\u793a\u503c\uff08value\uff09 \u5728headers\u4e2d\u4ec5\u4ec5\u4f7f\u7528\u4e86cookie\u7684name\u548cvalue","title":"2.1 headers\u4e2dcookie\u7684\u4f4d\u7f6e"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#22-cookie","text":"\u7531\u4e8eheaders\u4e2d\u5bf9cookie\u4ec5\u4ec5\u4f7f\u7528\u5b83\u7684name\u548cvalue\uff0c\u6240\u4ee5\u5728\u4ee3\u7801\u4e2d\u6211\u4eec\u4ec5\u4ec5\u9700\u8981cookie\u7684name\u548cvalue\u5373\u53ef","title":"2.2 cookie\u7684\u5177\u4f53\u7ec4\u6210\u7684\u5b57\u6bb5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#23-headerscookie","text":"\u590d\u5236\u6d4f\u89c8\u5668\u4e2d\u7684cookie\u5230\u4ee3\u7801\u4e2d\u4f7f\u7528 headers = { \"User-Agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\", \"Cookie\":\" Pycharm-26c2d973=dbb9b300-2483-478f-9f5a-16ca4580177e; Hm_lvt_98b9d8c2fd6608d564bf2ac2ae642948=1512607763; Pycharm-26c2d974=f645329f-338e-486c-82c2-29e2a0205c74; _xsrf=2|d1a3d8ea|c5b07851cbce048bd5453846445de19d|1522379036\"} requests.get(url,headers=headers)","title":"2.3 \u5728headers\u4e2d\u4f7f\u7528cookie"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_5","text":"cookie\u6709\u8fc7\u671f\u65f6\u95f4 \uff0c\u6240\u4ee5\u76f4\u63a5\u590d\u5236\u6d4f\u89c8\u5668\u4e2d\u7684cookie\u53ef\u80fd\u610f\u5473\u7740\u4e0b\u4e00\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u884c\u7684\u65f6\u5019\u9700\u8981\u66ff\u6362\u4ee3\u7801\u4e2d\u7684cookie\uff0c\u5bf9\u5e94\u7684\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u7a0b\u5e8f\u4e13\u95e8\u6765\u83b7\u53d6cookie\u4f9b\u5176\u4ed6\u7a0b\u5e8f\u4f7f\u7528\uff1b\u5f53\u7136\u4e5f\u6709\u5f88\u591a\u7f51\u7ad9\u7684cookie\u8fc7\u671f\u65f6\u95f4\u5f88\u957f\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u76f4\u63a5\u590d\u5236cookie\u6765\u4f7f\u7528\u66f4\u52a0\u7b80\u5355","title":"\u6ce8\u610f\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#3cookiescookie","text":"cookies\u7684\u5f62\u5f0f\uff1a\u5b57\u5178 cookies = {\"cookie\u7684name\":\"cookie\u7684value\"} \u4f7f\u7528\u65b9\u6cd5\uff1a requests.get(url,headers=headers,cookies=cookie_dict} \u5b9e\u4f8b\uff08\u722c\u53d6\u96ea\u7403\u7f51\uff09 https://xueqiu.com/ \u5728\u7f51\u7edc\u4e2d\u627e\u5230\u5f53\u524d\u8bf7\u6c42\u7684\u7f51\u5740 \u70b9\u51fbcookies \u5c06\u5f53\u524d\u7684k,value\u590d\u5236\u5230\u4ee3\u7801\u4e2d python cookie_dict = { 'u': '1990923459', 'bid': '1f110dfd43538f4b8362dfcd21ffbb64_l27g4lfl', 'xq_is_login': '1', 'xq_r_token': '5dcbe83944f0b75325f91246061d4a2a01999367' } \u5b8c\u6574\u4ee3\u7801 ```python import requests # \u643a\u5e26cookie\u767b\u5f55\u96ea\u7403\u7f51 \u6293\u53d6\u5b8c\u5584\u4e2a\u4eba\u8d44\u6599\u9875\u9762 headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36', 'Referer': 'https://xueqiu.com/u/1990923459', 'Host': 'xueqiu.com', } url = 'https://xueqiu.com/users/connectnew?redirect=/setting/user' cookie_dict = { 'u': '1990923459', 'bid': '1f110dfd43538f4b8362dfcd21ffbb64_l27g4lfl', 'xq_is_login': '1', 'xq_r_token': '5dcbe83944f0b75325f91246061d4a2a01999367' } res = requests.get(url, headers=headers, cookies=cookie_dict) with open('\u96ea\u7403\u7f51.html', 'w') as f: f.write(res.content.decode('UTF-8')) print(res.content.decode('UTF-8')) ``` \u6210\u679c","title":"3\u3001\u4f7f\u7528cookies\u53c2\u6570\u63a5\u6536\u5b57\u5178\u5f62\u5f0f\u7684cookie"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#4requestssessioncookie","text":"\u524d\u9762\u4f7f\u7528\u624b\u52a8\u7684\u65b9\u5f0f\u4f7f\u7528cookie\uff0c\u90a3\u4e48\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\u5728requets\u4e2d\u5904\u7406cookie\u5462\uff1f requests \u63d0\u4f9b\u4e86\u4e00\u4e2a\u53eb\u505asession\u7c7b\uff0c\u6765\u5b9e\u73b0\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684 \u4f1a\u8bdd\u4fdd\u6301 \u4f1a\u8bdd\u4fdd\u6301\u6709\u4e24\u4e2a\u5185\u6db5\uff1a \u4fdd\u5b58cookie\uff0c\u4e0b\u4e00\u6b21\u8bf7\u6c42\u4f1a\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie \u5b9e\u73b0\u548c\u670d\u52a1\u7aef\u7684\u957f\u8fde\u63a5\uff0c\u52a0\u5feb\u8bf7\u6c42\u901f\u5ea6","title":"4\u3001\u4f7f\u7528requests.session\u5904\u7406cookie"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#41_1","text":"session = requests.session() response = session.get(url,headers) session\u5b9e\u4f8b\u5728\u8bf7\u6c42\u4e86\u4e00\u4e2a\u7f51\u7ad9\u540e\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u8bbe\u7f6e\u5728\u672c\u5730\u7684cookie\u4f1a\u4fdd\u5b58\u5728session\u4e2d\uff0c\u4e0b\u4e00\u6b21\u518d\u4f7f\u7528session\u8bf7\u6c42\u5bf9\u65b9\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u4f1a\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie","title":"4.1 \u4f7f\u7528\u65b9\u6cd5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#42","text":"poixes = {'http': '61.150.96.27:368801'} req = sess.get(url,headers=headers, proxies=poixes) \u5b9e\u4f8b from lxml import etree import requests url = 'https://xueqiu.com/statuses/hot/listV2.json?since_id=-1&max_id=364193&size=15' # \u624b\u52a8\u643a\u5e26cookie\u8fdb\u884c\u8bf7\u6c42 headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15', } sess = requests.Session() #\u521b\u5efa\u4e86\u4e00\u4e2asession\u5bf9\u8c61 #\u5c1d\u8bd5\u57fa\u4e8esess\u53d1\u8d77\u8bf7\u6c42\u52a8\u6001\u6355\u83b7cookie main_url = 'https://xueqiu.com/' sess.get(main_url,headers=headers) poixes = {'http': '61.150.96.27:368801'} req = sess.get(url,headers=headers, proxies=poixes) #\u643a\u5e26\u4e86cookie\u8fdb\u884c\u8bf7\u6c42\u53d1\u9001 for i in req.json()['items']: print(i['original_status']['description'])","title":"4.2 \u4f7f\u7528\u4ee3\u7406"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#43","text":"adapters[\u0259\u02c8d\u00e6pt\u0259rz] # \u9891\u7e41\u8bf7\u6c42\u67d0\u4e2a\u7f51\u5740\u5076\u5c14\u4f1a\u62a5\u9519\u8bf7\u6c42\u8d85\u65f6\uff0c\u53ef\u91c7\u7528\u4e0b\u9762\u65b9\u5f0f\u964d\u4f4e\u5931\u8d25\u7387\uff0c\u8bbe\u7f6e\u91cd\u8bd5\u6b21\u6570\u4e3a5\uff0c\u4f1a\u8bdd\u8bbe\u7f6e\u4e3a\u4e0d\u7ef4\u6301\u8fde\u63a5. requests.adapters.DEFAULT_RETRIES = 5 # \u8bbe\u7f6e\u8fde\u63a5\u6d3b\u8dc3\u72b6\u6001\u4e3aFalse s = requests.session() s.keep_alive = False from lxml import etree import requests url = 'https://xueqiu.com/statuses/hot/listV2.json?since_id=-1&max_id=364193&size=15' # \u624b\u52a8\u643a\u5e26cookie\u8fdb\u884c\u8bf7\u6c42 headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15', } # \u9891\u7e41\u8bf7\u6c42\u67d0\u4e2a\u7f51\u5740\u5076\u5c14\u4f1a\u62a5\u9519\u8bf7\u6c42\u8d85\u65f6\uff0c\u53ef\u91c7\u7528\u4e0b\u9762\u65b9\u5f0f\u964d\u4f4e\u5931\u8d25\u7387\uff0c\u8bbe\u7f6e\u91cd\u8bd5\u6b21\u6570\u4e3a5\uff0c\u4f1a\u8bdd\u8bbe\u7f6e\u4e3a\u4e0d\u7ef4\u6301\u8fde\u63a5. requests.adapters.DEFAULT_RETRIES = 5 sess = requests.Session() #\u521b\u5efa\u4e86\u4e00\u4e2asession\u5bf9\u8c61 sess.keep_alive = False #\u5c1d\u8bd5\u57fa\u4e8esess\u53d1\u8d77\u8bf7\u6c42\u52a8\u6001\u6355\u83b7cookie main_url = 'https://xueqiu.com/' sess.get(main_url,headers=headers) poixes = {'http': '61.150.96.27:368801'} req = sess.get(url,headers=headers, proxies=poixes) #\u643a\u5e26\u4e86cookie\u8fdb\u884c\u8bf7\u6c42\u53d1\u9001 for i in req.json()['items']: print(i['original_status']['description']) \u6ce8\u610f\uff1a\u5982\u679c\u722c\u53d6\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0a\u914d\u7f6e HTTPConnectionPool(host='172.19.5.101', port=8085): Max retries exceeded with url: <url >(Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x006DB1F0>, 'Connection to <server ip> timed out. (connect timeout=10)')) \u57fa\u672c\u4e0a\u610f\u601d\u5c31\u662f\u53d1\u51fa\u7684\u7f51\u7edc\u8bf7\u6c42\u6bd4\u8f83\u9891\u7e41\uff0crequests\u5185\u7f6e\u7684urllibs3\u4e0d\u80fd\u53ca\u65f6\u7684\u4e3a\u6211\u4eec\u65ad\u5f00\u8fde\u63a5\uff0c\u4e8e\u662f\u5c31\u6709\u4e86\u4ee5\u4e0a\u62a5\u9519\u3002 \u4ee3\u7801\u7684\u57fa\u672c\u610f\u601d\u5c31\u662f\u65ad\u5f00\u8fde\u63a5\u3001\u589e\u52a0\u91cd\u8bd5\u6b21\u6570\u3002","title":"4.3 \u8bbe\u7f6e"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#44_1","text":"17k\u5c0f\u8bf4\u7f51 https://passport.17k.com/ \u53e4\u8bd7\u6587\uff1ahttps://so.gushiwen.cn \u6253\u7801\u5e73\u53f0 \u56fe\u9274 http://www.ttshitu.com/","title":"4.4 \u52a8\u624b\u7ec3\u4e60\uff1a\u6a21\u62df\u767b\u9646"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_6","text":"\u51c6\u5907url\u5730\u5740\u548c\u8bf7\u6c42\u53c2\u6570 \u6784\u9020session\u53d1\u9001post\u8bf7\u6c42 \u4f7f\u7528session\u8bf7\u6c42\u4e2a\u4eba\u4e3b\u9875\uff0c\u89c2\u5bdf\u662f\u5426\u8bf7\u6c42\u6210\u529f","title":"\u601d\u8def\u5206\u6790"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#5_1","text":"cookie\u5b57\u7b26\u4e32\u53ef\u4ee5\u653e\u5728headers\u5b57\u5178\u4e2d\uff0c\u952e\u4e3aCookie\uff0c\u503c\u4e3acookie\u5b57\u7b26\u4e32 \u53ef\u4ee5\u628acookie\u5b57\u7b26\u4e32\u8f6c\u5316\u4e3a\u5b57\u5178\uff0c\u4f7f\u7528\u8bf7\u6c42\u65b9\u6cd5\u7684cookies\u53c2\u6570\u63a5\u6536 \u4f7f\u7528requests\u63d0\u4f9b\u7684session\u6a21\u5757\uff0c\u80fd\u591f\u81ea\u52a8\u5b9e\u73b0cookie\u7684\u5904\u7406\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u65f6\u5019\u643a\u5e26cookie\uff0c\u83b7\u53d6\u54cd\u5e94\u7684\u65f6\u5019\u4fdd\u5b58cookie","title":"5\u3001\u5c0f\u7ed3"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#requests_3","text":"","title":"\u56db\u3001requests\u6a21\u5757\u7684\u5176\u4ed6\u65b9\u6cd5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_7","text":"\u638c\u63e1requests\u4e2dcookirJar\u7684\u5904\u7406\u65b9\u6cd5 \u638c\u63e1requests\u89e3\u51b3https\u8bc1\u4e66\u9519\u8bef\u7684\u95ee\u9898 \u638c\u63e1requests\u4e2d\u8d85\u65f6\u53c2\u6570\u7684\u4f7f\u7528 \u638c\u63e1retrying\u6a21\u5757\u7684\u4f7f\u7528","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#1requestscookirjar","text":"\u4f7f\u7528request\u83b7\u53d6\u7684resposne\u5bf9\u8c61\uff0c\u5177\u6709cookies\u5c5e\u6027\uff0c\u80fd\u591f\u83b7\u53d6\u5bf9\u65b9\u670d\u52a1\u5668\u8bbe\u7f6e\u5728\u672c\u5730\u7684cookie\uff0c\u4f46\u662f\u5982\u4f55\u4f7f\u7528\u8fd9\u4e9bcookie\u5462\uff1f","title":"1\u3001requests\u4e2dcookirJar\u7684\u5904\u7406\u65b9\u6cd5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#11","text":"response.cookies\u662fCookieJar\u7c7b\u578b \u4f7f\u7528requests.utils.dict_from_cookiejar\uff0c\u80fd\u591f\u5b9e\u73b0\u628acookiejar\u5bf9\u8c61\u8f6c\u5316\u4e3a\u5b57\u5178","title":"1.1 \u65b9\u6cd5\u4ecb\u7ecd"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#12","text":"import requests url = \"http://www.baidu.com\" #\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6resposne response = requests.get(url) print(type(response.cookies)) #\u4f7f\u7528\u65b9\u6cd5\u4ececookiejar\u4e2d\u63d0\u53d6\u6570\u636e \u7b49\u540c\u4e8e dict(response.cookies) cookies = requests.utils.dict_from_cookiejar(response.cookies) print(cookies) \u8f93\u51fa\u4e3a: <class 'requests.cookies.RequestsCookieJar'> {'BDORZ': '27315'}","title":"1.2 \u65b9\u6cd5\u5c55\u793a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_8","text":"\u5728\u524d\u9762\u7684requests\u7684session\u7c7b\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u5904\u7406cookie\u7684\u4efb\u4f55\u7ec6\u8282\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0\u65b9\u6cd5\u6765\u89e3\u51b3","title":"\u6ce8\u610f\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#2requests_1","text":"\u7ecf\u5e38\u6211\u4eec\u5728\u7f51\u4e0a\u51b2\u6d6a\u65f6\uff0c\u7ecf\u5e38\u80fd\u591f\u770b\u5230\u4e0b\u9762\u7684\u63d0\u793a\uff1a \u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u7684\u539f\u56e0\u662f\uff1assl\u7684\u8bc1\u4e66\u4e0d\u5b89\u5168\u5bfc\u81f4","title":"2\u3001requests\u5904\u7406\u8bc1\u4e66\u9519\u8bef"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#21_1","text":"\u90a3\u4e48\u5982\u679c\u5728\u4ee3\u7801\u4e2d\u8bf7\u6c42\u4f1a\u600e\u4e48\u6837\u5462\uff1f import requests url = \"https://www.12306.cn/mormhweb/\" response = requests.get(url) \u8fd4\u56de\u8bc1\u4e66\u9519\u8bef\uff0c\u5982\u4e0b\uff1a ssl.CertificateError ...","title":"2.1 \u4ee3\u7801\u4e2d\u53d1\u8d77\u8bf7\u6c42\u7684\u6548\u679c"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#22_1","text":"\u4e3a\u4e86\u5728\u4ee3\u7801\u4e2d\u80fd\u591f\u6b63\u5e38\u7684\u8bf7\u6c42\uff0c\u6211\u4eec\u4fee\u6539\u6dfb\u52a0\u4e00\u4e2a\u53c2\u6570 import requests url = \"https://www.12306.cn/mormhweb/\" response = requests.get(url,verify=False)","title":"2.2 \u89e3\u51b3\u65b9\u6848"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#3_1","text":"\u5728\u5e73\u65f6\u7f51\u4e0a\u51b2\u6d6a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u4f1a\u9047\u5230\u7f51\u7edc\u6ce2\u52a8\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u4e00\u4e2a\u8bf7\u6c42\u7b49\u4e86\u5f88\u4e45\u53ef\u80fd\u4efb\u7136\u6ca1\u6709\u7ed3\u679c \u5728\u722c\u866b\u4e2d\uff0c\u4e00\u4e2a\u8bf7\u6c42\u5f88\u4e45\u6ca1\u6709\u7ed3\u679c\uff0c\u5c31\u4f1a\u8ba9\u6574\u4e2a\u9879\u76ee\u7684\u6548\u7387\u53d8\u5f97\u975e\u5e38\u4f4e\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u9700\u8981\u5bf9\u8bf7\u6c42\u8fdb\u884c\u5f3a\u5236\u8981\u6c42\uff0c\u8ba9\u4ed6\u5fc5\u987b\u5728\u7279\u5b9a\u7684\u65f6\u95f4\u5185\u8fd4\u56de\u7ed3\u679c\uff0c\u5426\u5219\u5c31\u62a5\u9519","title":"3\u3001\u8d85\u65f6\u53c2\u6570\u7684\u4f7f\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#31","text":"response = requests.get(url,timeout=3) \u901a\u8fc7\u6dfb\u52a0timeout\u53c2\u6570\uff0c\u80fd\u591f\u4fdd\u8bc1\u57283\u79d2\u949f\u5185\u8fd4\u56de\u54cd\u5e94\uff0c\u5426\u5219\u4f1a\u62a5\u9519","title":"3.1 \u8d85\u65f6\u53c2\u6570\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#_9","text":"\u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u80fd\u591f\u62ff\u6765\u68c0\u6d4b\u4ee3\u7406ip\u7684\u8d28\u91cf\uff0c\u5982\u679c\u4e00\u4e2a\u4ee3\u7406ip\u5728\u5f88\u957f\u65f6\u95f4\u6ca1\u6709\u54cd\u5e94\uff0c\u90a3\u4e48\u6dfb\u52a0\u8d85\u65f6\u4e4b\u540e\u4e5f\u4f1a\u62a5\u9519\uff0c\u5bf9\u5e94\u7684\u8fd9\u4e2aip\u5c31\u53ef\u4ee5\u4ece\u4ee3\u7406ip\u6c60\u4e2d\u5220\u9664","title":"\u6ce8\u610f\uff1a"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#4retrying","text":"\u4f7f\u7528\u8d85\u65f6\u53c2\u6570\u80fd\u591f\u52a0\u5feb\u6211\u4eec\u6574\u4f53\u7684\u8bf7\u6c42\u901f\u5ea6\uff0c\u4f46\u662f\u5728\u6b63\u5e38\u7684\u7f51\u9875\u6d4f\u89c8\u8fc7\u6210\u529f\uff0c\u5982\u679c\u53d1\u751f\u901f\u5ea6\u5f88\u6162\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4f1a\u505a\u7684\u9009\u62e9\u662f \u5237\u65b0\u9875\u9762 \uff0c\u90a3\u4e48\u5728\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u662f\u5426\u4e5f\u53ef\u4ee5\u5237\u65b0\u8bf7\u6c42\u5462\uff1f \u5bf9\u5e94\u7684\uff0cretrying\u6a21\u5757\u5c31\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3","title":"4\u3001retrying\u6a21\u5757\u7684\u4f7f\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#41-retrying","text":"retrying\u6a21\u5757\u7684\u5730\u5740\uff1ahttps://pypi.org/project/retrying/ pip install retrying retrying \u6a21\u5757\u7684\u4f7f\u7528 \u4f7f\u7528retrying\u6a21\u5757\u63d0\u4f9b\u7684retry\u6a21\u5757 \u901a\u8fc7\u88c5\u9970\u5668\u7684\u65b9\u5f0f\u4f7f\u7528\uff0c\u8ba9\u88ab\u88c5\u9970\u7684\u51fd\u6570\u53cd\u590d\u6267\u884c retry\u4e2d\u53ef\u4ee5\u4f20\u5165\u53c2\u6570 stop_max_attempt_number ,\u8ba9\u51fd\u6570\u62a5\u9519\u540e\u7ee7\u7eed\u91cd\u65b0\u6267\u884c\uff0c\u8fbe\u5230\u6700\u5927\u6267\u884c\u6b21\u6570\u7684\u4e0a\u9650\uff0c\u5982\u679c\u6bcf\u6b21\u90fd\u62a5\u9519\uff0c\u6574\u4e2a\u51fd\u6570\u62a5\u9519\uff0c\u5982\u679c\u4e2d\u95f4\u6709\u4e00\u4e2a\u6210\u529f\uff0c\u7a0b\u5e8f\u7ee7\u7eed\u5f80\u540e\u6267\u884c","title":"4.1 retrying\u6a21\u5757\u7684\u4f7f\u7528"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#42-retryingrequests","text":"\u5b9e\u73b0\u4e00\u4e2a\u53d1\u9001\u8bf7\u6c42\u7684\u51fd\u6570\uff0c\u6bcf\u6b21\u722c\u866b\u4e2d\u76f4\u63a5\u8c03\u7528\u8be5\u51fd\u6570\u5373\u53ef\u5b9e\u73b0\u53d1\u9001\u8bf7\u6c42\uff0c\u5728\u5176\u4e2d \u4f7f\u7528timeout\u5b9e\u73b0\u8d85\u65f6\u62a5\u9519 \u4f7f\u7528retrying\u6a21\u5757\u5b9e\u73b0\u91cd\u8bd5 \u4ee3\u7801\u53c2\u8003: # parse.py import requests from retrying import retry headers = {} #\u6700\u5927\u91cd\u8bd53\u6b21\uff0c3\u6b21\u5168\u90e8\u62a5\u9519\uff0c\u624d\u4f1a\u62a5\u9519 @retry(stop_max_attempt_number=3) def _parse_url(url): #\u8d85\u65f6\u7684\u65f6\u5019\u56de\u62a5\u9519\u5e76\u91cd\u8bd5 response = requests.get(url, headers=headers, timeout=3) #\u72b6\u6001\u7801\u4e0d\u662f200\uff0c\u4e5f\u4f1a\u62a5\u9519\u5e76\u91cd\u8bd5 assert response.status_code == 200 return response def parse_url(url): try: #\u8fdb\u884c\u5f02\u5e38\u6355\u83b7 response = _parse_url(url) except Exception as e: print(e) #\u62a5\u9519\u8fd4\u56deNone response = None return response stop_max_attempt_number\uff1a\u6700\u5927\u91cd\u8bd5\u6b21\u6570\uff0c\u8d85\u8fc7\u8be5\u6b21\u6570\u5c31\u505c\u6b62\u91cd\u8bd5 \u6beb\u79d2 stop_max_delay\uff1a\u6700\u5927\u5ef6\u8fdf\u65f6\u95f4\uff08\u6267\u884c\u8fd9\u4e2a\u65b9\u6cd5\u91cd\u8bd5\u7684\u603b\u65f6\u95f4\uff09\uff0c\u8d85\u8fc7\u8be5\u65f6\u95f4\u5c31\u505c\u6b62\u6beb\u79d2 wait_fixed\uff1a\u4e24\u6b21retrying\u4e4b\u95f4\u7684\u7b49\u5f85\u65f6\u95f4\u6beb\u79d2 wait_random_min\u548cwait_random_max\uff1a\u7528\u968f\u673a\u7684\u65b9\u5f0f\u4ea7\u751f\u4e24\u6b21retrying\u4e4b\u95f4\u7684\u7b49\u5f85\u65f6\u95f4\u6beb\u79d2 wait_incrementing_start\u548cwait_incrementing_increment\uff1a\u6bcf\u8c03\u7528\u4e00\u6b21\u589e\u52a0\u56fa\u5b9a\u65f6\u957f\u6beb\u79d2 wait_exponential_multiplier\u548cwait_exponential_max\uff1a\u4ee5\u6307\u6570\u7684\u5f62\u5f0f\u4ea7\u751f\u4e24\u6b21retrying\u4e4b\u95f4\u7684\u7b49\u5f85\u65f6\u95f4\uff0c\u4ea7\u751f\u7684\u503c\u4e3a2^previous_attempt_number * wait_exponential_multiplier\uff0cprevious_attempt_number\u662f\u524d\u9762\u5df2\u7ecfretry\u7684\u6b21\u6570\uff0c\u5982\u679c\u4ea7\u751f\u7684\u8fd9\u4e2a\u503c\u8d85\u8fc7\u4e86wait_exponential_max\u7684\u5927\u5c0f\uff0c\u90a3\u4e48\u4e4b\u540e\u4e24\u4e2aretrying\u4e4b\u95f4\u7684\u505c\u7559\u503c\u90fd\u4e3await_exponential_max\u3002","title":"4.2 retrying\u548crequests\u7684\u7b80\u5355\u5c01\u88c5"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#5fake_useragent","text":"\u4f5c\u7528\uff1a\u968f\u673a\u8fd4\u56deUser-Agent \u5b89\u88c5\uff1a pip install fake_useragent \u4f7f\u7528\uff1a from fake_useragent import UserAgent # \u6307\u5b9a\u6d4f\u89c8\u5668\u540d\u79f0 ua = UserAgent() print(ua.ie) print(ua.firefox) print(ua.chrome) \u6ce8\u610f\uff1a\u5982\u679c\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u62a5\u5982\u4e0b\u9519\u8bef fake_useragent Maximum amount of retries reached... \u89e3\u51b3\uff1a \u200b \u7b2c\u4e00\u6b65 \u51c6\u5907\u9700\u8981\u7684 json \u6587\u4ef6\uff1a \u200b \u521b\u5efa\u4e00\u4e2a json \u6587\u4ef6\u6216\u8005\u76f4\u63a5\u4e0b\u8f7d\u9700\u8981\u7684 json \u6587\u4ef6\uff0cjson \u6587\u4ef6\u7684\u5185\u5bb9\uff08\u4e0b\u8f7d\u8fde\u63a5\uff09\u6211\u653e\u5230\u6587\u7ae0\u5e95\u90e8\u53ef\u4ee5\u901a\u8fc7\u590d\u5236\u81ea\u5df1\u5199\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u6587\u4ef6\u4f7f\u7528\uff1b \u51c6\u5907\u597d json \u6587\u4ef6\u540e\u5c06 json \u6587\u4ef6\u653e\u5230\u4e0e fake.py \u6587\u4ef6\u540c\u4e00\u6587\u4ef6\u5939\u91cc\u9762\uff08\u5982\u4e0a\u56fe\uff09\uff1b\u6587\u4ef6\u4f4d\u7f6e\u627e\u5230\u65b9\u6cd5\uff1a Ctrl \u70b9\u51fb UserAgent \u2192 \u70b9\u51fb\u6587\u4ef6\u53f3\u952e \u2192 \u6253\u5f00\u4e8e \u6587\u4ef6\u8def\u5f84 \uff08\u6216\u8005Ctrl + Alt +F12\uff09 \u2192 \u70b9\u51fb fake.py \u6587\u4ef6 \u7b2c\u4e8c\u6b65 \u6539\u5199\u51fd\u6570\u4ee3\u7801\uff1a \u627e\u5230 FakeUserAgent \u7c7b\u51fd\u6570\uff0c \u5c06\u51fd\u6570\u7684 init \u91cc\u9762\u7684 path \u503c\u8fdb\u884c\u66f4\u6539 \u6dfb\u52a0\u4e00\u4e2a\u53d8\u91cf\uff0c\u5c06\u53d8\u91cf\u8d4b\u503c\u7ed9 path\uff1b\u503c\u5fc5\u987b\u662f\u7edd\u5bf9\u8def\u5f84\uff1b\u5199\u6b7b\u4e0d\u80fd\u6539\u5373\u53ef\u3002 User-agent.json {\"browsers\": {\"chrome\": [\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML like Gecko) Chrome/44.0.2403.155 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.1 Safari/537.36\", \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2226.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.4; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2225.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2225.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2224.3 Safari/537.36\", \"Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.93 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2062.124 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2049.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 4.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2049.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.67 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.67 Safari/537.36\", \"Mozilla/5.0 (X11; OpenBSD i386) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1944.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.3319.102 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.2309.372 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.2117.157 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.47 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1866.237 Safari/537.36\", \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.137 Safari/4E423F\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.116 Safari/537.36 Mozilla/5.0 (iPad; U; CPU OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B334b Safari/531.21.10\", \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.517 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1667.0 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1664.3 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1664.3 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.16 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1623.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.17 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.62 Safari/537.36\", \"Mozilla/5.0 (X11; CrOS i686 4319.74.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.2 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1468.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1467.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1464.0 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1500.55 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.90 Safari/537.36\", \"Mozilla/5.0 (X11; NetBSD) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.116 Safari/537.36\", \"Mozilla/5.0 (X11; CrOS i686 3912.101.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.116 Safari/537.36\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.60 Safari/537.17\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1309.0 Safari/537.17\"], \"internetexplorer\": [\"Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko\", \"Mozilla/5.0 (compatible, MSIE 11, Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko\", \"Mozilla/5.0 (compatible; MSIE 10.6; Windows NT 6.1; Trident/5.0; InfoPath.2; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 2.0.50727) 3gpp-gba UNTRUSTED/1.0\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 7.0; InfoPath.3; .NET CLR 3.1.40767; Trident/6.0; en-IN)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/5.0)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/4.0; InfoPath.2; SV1; .NET CLR 2.0.50727; WOW64)\", \"Mozilla/5.0 (compatible; MSIE 10.0; Macintosh; Intel Mac OS X 10_7_3; Trident/6.0)\", \"Mozilla/4.0 (Compatible; MSIE 8.0; Windows NT 5.2; Trident/6.0)\", \"Mozilla/4.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/5.0)\", \"Mozilla/1.22 (compatible; MSIE 10.0; Windows 3.1)\", \"Mozilla/5.0 (Windows; U; MSIE 9.0; WIndows NT 9.0; en-US))\", \"Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 7.1; Trident/5.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; Media Center PC 6.0; InfoPath.3; MS-RTC LM 8; Zune 4.7)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; Media Center PC 6.0; InfoPath.3; MS-RTC LM 8; Zune 4.7\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Zune 4.0; InfoPath.3; MS-RTC LM 8; .NET4.0C; .NET4.0E)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; chromeframe/12.0.742.112)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 2.0.50727; SLCC2; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Zune 4.0; Tablet PC 2.0; InfoPath.3; .NET4.0C; .NET4.0E)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; yie8)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.2; .NET CLR 1.1.4322; .NET4.0C; Tablet PC 2.0)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; FunWebProducts)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; chromeframe/13.0.782.215)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; chromeframe/11.0.696.57)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0) chromeframe/10.0.648.205\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/4.0; GTB7.4; InfoPath.1; SV1; .NET CLR 2.8.52393; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.0; Trident/5.0; chromeframe/11.0.696.57)\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.0; Trident/4.0; GTB7.4; InfoPath.3; SV1; .NET CLR 3.1.76908; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; GTB7.4; InfoPath.2; SV1; .NET CLR 3.3.69573; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; InfoPath.1; SV1; .NET CLR 3.8.36217; WOW64; en-US)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; .NET CLR 2.7.58687; SLCC2; Media Center PC 5.0; Zune 3.4; Tablet PC 3.6; InfoPath.3)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.2; Trident/4.0; Media Center PC 4.0; SLCC1; .NET CLR 3.0.04320)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 1.1.4322)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; InfoPath.2; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 2.0.50727)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; SLCC1; .NET CLR 1.1.4322)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.0; Trident/4.0; InfoPath.1; SV1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 3.0.04506.30)\", \"Mozilla/5.0 (compatible; MSIE 7.0; Windows NT 5.0; Trident/4.0; FBSMTWB; .NET CLR 2.0.34861; .NET CLR 3.0.3746.3218; .NET CLR 3.5.33652; msn OptimizedIE8;ENUS)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.2; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; Media Center PC 6.0; InfoPath.2; MS-RTC LM 8)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; Media Center PC 6.0; InfoPath.2; MS-RTC LM 8\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; Media Center PC 6.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; InfoPath.3; .NET4.0C; .NET4.0E; .NET CLR 3.5.30729; .NET CLR 3.0.30729; MS-RTC LM 8)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; InfoPath.2)\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Zune 3.0)\"], \"firefox\": [\"Mozilla/5.0 (X11; Linux i686; rv:64.0) Gecko/20100101 Firefox/64.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:64.0) Gecko/20100101 Firefox/64.0\", \"Mozilla/5.0 (X11; Linux i586; rv:63.0) Gecko/20100101 Firefox/63.0\", \"Mozilla/5.0 (Windows NT 6.2; WOW64; rv:63.0) Gecko/20100101 Firefox/63.0\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.10; rv:62.0) Gecko/20100101 Firefox/62.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:10.0) Gecko/20100101 Firefox/62.0\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.13; ko; rv:1.9.1b2) Gecko/20081201 Firefox/60.0\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Firefox/58.0.1\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:54.0) Gecko/20100101 Firefox/58.0\", \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:52.59.12) Gecko/20160044 Firefox/52.59.12\", \"Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9a1) Gecko/20060814 Firefox/51.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:46.0) Gecko/20120121 Firefox/46.0\", \"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:45.66.18) Gecko/20177177 Firefox/45.66.18\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1\", \"Mozilla/5.0 (Windows NT 6.3; rv:36.0) Gecko/20100101 Firefox/36.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:33.0) Gecko/20100101 Firefox/33.0\", \"Mozilla/5.0 (X11; Linux i586; rv:31.0) Gecko/20100101 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20130401 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:28.0) Gecko/20100101 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Firefox/31.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:29.0) Gecko/20120101 Firefox/29.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/29.0\", \"Mozilla/5.0 (X11; OpenBSD amd64; rv:28.0) Gecko/20100101 Firefox/28.0\", \"Mozilla/5.0 (X11; Linux x86_64; rv:28.0) Gecko/20100101 Firefox/28.0\", \"Mozilla/5.0 (Windows NT 6.1; rv:27.3) Gecko/20130101 Firefox/27.3\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64; rv:27.0) Gecko/20121011 Firefox/27.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:20.0) Gecko/20121202 Firefox/26.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/25.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:25.0) Gecko/20100101 Firefox/25.0\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:24.0) Gecko/20100101 Firefox/24.0\", \"Mozilla/5.0 (Windows NT 6.0; WOW64; rv:24.0) Gecko/20100101 Firefox/24.0\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:24.0) Gecko/20100101 Firefox/24.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:22.0) Gecko/20130405 Firefox/23.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20130406 Firefox/23.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:23.0) Gecko/20131011 Firefox/23.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:22.0) Gecko/20130405 Firefox/22.0\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:22.0) Gecko/20130328 Firefox/22.0\", \"Mozilla/5.0 (Windows NT 6.1; rv:22.0) Gecko/20130405 Firefox/22.0\", \"Mozilla/5.0 (Microsoft Windows NT 6.2.9200.0); rv:22.0) Gecko/20130405 Firefox/22.0\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64; rv:16.0.1) Gecko/20121011 Firefox/21.0.1\", \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:16.0.1) Gecko/20121011 Firefox/21.0.1\", \"Mozilla/5.0 (Windows NT 6.2; Win64; x64; rv:21.0.0) Gecko/20121011 Firefox/21.0.0\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:21.0) Gecko/20130331 Firefox/21.0\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:21.0) Gecko/20100101 Firefox/21.0\", \"Mozilla/5.0 (X11; Linux i686; rv:21.0) Gecko/20100101 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.2; WOW64; rv:21.0) Gecko/20130514 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.2; rv:21.0) Gecko/20130326 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:21.0) Gecko/20130401 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:21.0) Gecko/20130331 Firefox/21.0\", \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:21.0) Gecko/20130330 Firefox/21.0\"], \"safari\": [\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3) AppleWebKit/537.75.14 (KHTML, like Gecko) Version/7.0.3 Safari/7046A194A\", \"Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5355d Safari/8536.25\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/537.13+ (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2\", \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/534.55.3 (KHTML, like Gecko) Version/5.1.3 Safari/534.53.10\", \"Mozilla/5.0 (iPad; CPU OS 5_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko ) Version/5.1 Mobile/9B176 Safari/7534.48.3\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_8; de-at) AppleWebKit/533.21.1 (KHTML, like Gecko) Version/5.0.5 Safari/533.21.1\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; da-dk) AppleWebKit/533.21.1 (KHTML, like Gecko) Version/5.0.5 Safari/533.21.1\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; tr-TR) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; ko-KR) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; fr-FR) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; cs-CZ) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; ja-JP) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10_5_8; zh-cn) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10_5_8; ja-jp) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; ja-jp) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; zh-cn) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; sv-se) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; ko-kr) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; ja-jp) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; it-it) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; fr-fr) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; es-es) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-us) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; en-gb) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; de-de) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; sv-SE) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; ja-JP) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; de-DE) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; hu-HU) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; de-DE) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ja-JP) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; it-IT) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_7; en-us) AppleWebKit/534.16+ (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_6; fr-ch) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_5; de-de) AppleWebKit/534.15+ (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_5; ar) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Android 2.2; Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; zh-HK) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; tr-TR) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; nb-NO) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; fr-FR) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-TW) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ru-RU) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\", \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_8; zh-cn) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5\"], \"opera\": [\"Opera/9.80 (X11; Linux i686; Ubuntu/14.10) Presto/2.12.388 Version/12.16\", \"Opera/9.80 (Macintosh; Intel Mac OS X 10.14.1) Presto/2.12.388 Version/12.16\", \"Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14\", \"Mozilla/5.0 (Windows NT 6.0; rv:2.0) Gecko/20100101 Firefox/4.0 Opera 12.14\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.0) Opera 12.14\", \"Opera/12.80 (Windows NT 5.1; U; en) Presto/2.10.289 Version/12.02\", \"Opera/9.80 (Windows NT 6.1; U; es-ES) Presto/2.9.181 Version/12.00\", \"Opera/9.80 (Windows NT 5.1; U; zh-sg) Presto/2.9.181 Version/12.00\", \"Opera/12.0(Windows NT 5.2;U;en)Presto/22.9.168 Version/12.00\", \"Opera/12.0(Windows NT 5.1;U;en)Presto/22.9.168 Version/12.00\", \"Mozilla/5.0 (Windows NT 5.1) Gecko/20100101 Firefox/14.0 Opera/12.0\", \"Opera/9.80 (Windows NT 6.1; WOW64; U; pt) Presto/2.10.229 Version/11.62\", \"Opera/9.80 (Windows NT 6.0; U; pl) Presto/2.10.229 Version/11.62\", \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; fr) Presto/2.9.168 Version/11.52\", \"Opera/9.80 (Macintosh; Intel Mac OS X 10.6.8; U; de) Presto/2.9.168 Version/11.52\", \"Opera/9.80 (Windows NT 5.1; U; en) Presto/2.9.168 Version/11.51\", \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; de) Opera 11.51\", \"Opera/9.80 (X11; Linux x86_64; U; fr) Presto/2.9.168 Version/11.50\", \"Opera/9.80 (X11; Linux i686; U; hu) Presto/2.9.168 Version/11.50\", \"Opera/9.80 (X11; Linux i686; U; ru) Presto/2.8.131 Version/11.11\", \"Opera/9.80 (X11; Linux i686; U; es-ES) Presto/2.8.131 Version/11.11\", \"Mozilla/5.0 (Windows NT 5.1; U; en; rv:1.8.1) Gecko/20061208 Firefox/5.0 Opera 11.11\", \"Opera/9.80 (X11; Linux x86_64; U; bg) Presto/2.8.131 Version/11.10\", \"Opera/9.80 (Windows NT 6.0; U; en) Presto/2.8.99 Version/11.10\", \"Opera/9.80 (Windows NT 5.1; U; zh-tw) Presto/2.8.131 Version/11.10\", \"Opera/9.80 (Windows NT 6.1; Opera Tablet/15165; U; en) Presto/2.8.149 Version/11.1\", \"Opera/9.80 (X11; Linux x86_64; U; Ubuntu/10.10 (maverick); pl) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (X11; Linux i686; U; ja) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (X11; Linux i686; U; fr) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; zh-tw) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; zh-cn) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; sv) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; en-US) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.1; U; cs) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 6.0; U; pl) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 5.2; U; ru) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 5.1; U;) Presto/2.7.62 Version/11.01\", \"Opera/9.80 (Windows NT 5.1; U; cs) Presto/2.7.62 Version/11.01\", \"Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101213 Opera/9.80 (Windows NT 6.1; U; zh-tw) Presto/2.7.62 Version/11.01\", \"Mozilla/5.0 (Windows NT 6.1; U; nl; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6 Opera 11.01\", \"Mozilla/5.0 (Windows NT 6.1; U; de; rv:1.9.1.6) Gecko/20091201 Firefox/3.5.6 Opera 11.01\", \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; de) Opera 11.01\", \"Opera/9.80 (X11; Linux x86_64; U; pl) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (X11; Linux i686; U; it) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; zh-cn) Presto/2.6.37 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; pl) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; ko) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; fi) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1; U; en-GB) Presto/2.7.62 Version/11.00\", \"Opera/9.80 (Windows NT 6.1 x64; U; en) Presto/2.7.62 Version/11.00\"]}, \"randomize\": {\"0\": \"chrome\", \"1\": \"chrome\", \"2\": \"chrome\", \"3\": \"chrome\", \"4\": \"chrome\", \"5\": \"chrome\", \"6\": \"chrome\", \"7\": \"chrome\", \"8\": \"chrome\", \"9\": \"chrome\", \"10\": \"chrome\", \"11\": \"chrome\", \"12\": \"chrome\", \"13\": \"chrome\", \"14\": \"chrome\", \"15\": \"chrome\", \"16\": \"chrome\", \"17\": \"chrome\", \"18\": \"chrome\", \"19\": \"chrome\", \"20\": \"chrome\", \"21\": \"chrome\", \"22\": \"chrome\", \"23\": \"chrome\", \"24\": \"chrome\", \"25\": \"chrome\", \"26\": \"chrome\", \"27\": \"chrome\", \"28\": \"chrome\", \"29\": \"chrome\", \"30\": \"chrome\", \"31\": \"chrome\", \"32\": \"chrome\", \"33\": \"chrome\", \"34\": \"chrome\", \"35\": \"chrome\", \"36\": \"chrome\", \"37\": \"chrome\", \"38\": \"chrome\", \"39\": \"chrome\", \"40\": \"chrome\", \"41\": \"chrome\", \"42\": \"chrome\", \"43\": \"chrome\", \"44\": \"chrome\", \"45\": \"chrome\", \"46\": \"chrome\", \"47\": \"chrome\", \"48\": \"chrome\", \"49\": \"chrome\", \"50\": \"chrome\", \"51\": \"chrome\", \"52\": \"chrome\", \"53\": \"chrome\", \"54\": \"chrome\", \"55\": \"chrome\", \"56\": \"chrome\", \"57\": \"chrome\", \"58\": \"chrome\", \"59\": \"chrome\", \"60\": \"chrome\", \"61\": \"chrome\", \"62\": \"chrome\", \"63\": \"chrome\", \"64\": \"chrome\", \"65\": \"chrome\", \"66\": \"chrome\", \"67\": \"chrome\", \"68\": \"chrome\", \"69\": \"chrome\", \"70\": \"chrome\", \"71\": \"chrome\", \"72\": \"chrome\", \"73\": \"chrome\", \"74\": \"chrome\", \"75\": \"chrome\", \"76\": \"chrome\", \"77\": \"chrome\", \"78\": \"chrome\", \"79\": \"chrome\", \"80\": \"chrome\", \"81\": \"chrome\", \"82\": \"chrome\", \"83\": \"chrome\", \"84\": \"chrome\", \"85\": \"chrome\", \"86\": \"chrome\", \"87\": \"chrome\", \"88\": \"chrome\", \"89\": \"chrome\", \"90\": \"chrome\", \"91\": \"chrome\", \"92\": \"chrome\", \"93\": \"chrome\", \"94\": \"chrome\", \"95\": \"chrome\", \"96\": \"chrome\", \"97\": \"chrome\", \"98\": \"chrome\", \"99\": \"chrome\", \"100\": \"chrome\", \"101\": \"chrome\", \"102\": \"chrome\", \"103\": \"chrome\", \"104\": \"chrome\", \"105\": \"chrome\", \"106\": \"chrome\", \"107\": \"chrome\", \"108\": \"chrome\", \"109\": \"chrome\", \"110\": \"chrome\", \"111\": \"chrome\", \"112\": \"chrome\", \"113\": \"chrome\", \"114\": \"chrome\", \"115\": \"chrome\", \"116\": \"chrome\", \"117\": \"chrome\", \"118\": \"chrome\", \"119\": \"chrome\", \"120\": \"chrome\", \"121\": \"chrome\", \"122\": \"chrome\", \"123\": \"chrome\", \"124\": \"chrome\", \"125\": \"chrome\", \"126\": \"chrome\", \"127\": \"chrome\", \"128\": \"chrome\", \"129\": \"chrome\", \"130\": \"chrome\", \"131\": \"chrome\", \"132\": \"chrome\", \"133\": \"chrome\", \"134\": \"chrome\", \"135\": \"chrome\", \"136\": \"chrome\", \"137\": \"chrome\", \"138\": \"chrome\", \"139\": \"chrome\", \"140\": \"chrome\", \"141\": \"chrome\", \"142\": \"chrome\", \"143\": \"chrome\", \"144\": \"chrome\", \"145\": \"chrome\", \"146\": \"chrome\", \"147\": \"chrome\", \"148\": \"chrome\", \"149\": \"chrome\", \"150\": \"chrome\", \"151\": \"chrome\", \"152\": \"chrome\", \"153\": \"chrome\", \"154\": \"chrome\", \"155\": \"chrome\", \"156\": \"chrome\", \"157\": \"chrome\", \"158\": \"chrome\", \"159\": \"chrome\", \"160\": \"chrome\", \"161\": \"chrome\", \"162\": \"chrome\", \"163\": \"chrome\", \"164\": \"chrome\", \"165\": \"chrome\", \"166\": \"chrome\", \"167\": \"chrome\", \"168\": \"chrome\", \"169\": \"chrome\", \"170\": \"chrome\", \"171\": \"chrome\", \"172\": \"chrome\", \"173\": \"chrome\", \"174\": \"chrome\", \"175\": \"chrome\", \"176\": \"chrome\", \"177\": \"chrome\", \"178\": \"chrome\", \"179\": \"chrome\", \"180\": \"chrome\", \"181\": \"chrome\", \"182\": \"chrome\", \"183\": \"chrome\", \"184\": \"chrome\", \"185\": \"chrome\", \"186\": \"chrome\", \"187\": \"chrome\", \"188\": \"chrome\", \"189\": \"chrome\", \"190\": \"chrome\", \"191\": \"chrome\", \"192\": \"chrome\", \"193\": \"chrome\", \"194\": \"chrome\", \"195\": \"chrome\", \"196\": \"chrome\", \"197\": \"chrome\", \"198\": \"chrome\", \"199\": \"chrome\", \"200\": \"chrome\", \"201\": \"chrome\", \"202\": \"chrome\", \"203\": \"chrome\", \"204\": \"chrome\", \"205\": \"chrome\", \"206\": \"chrome\", \"207\": \"chrome\", \"208\": \"chrome\", \"209\": \"chrome\", \"210\": \"chrome\", \"211\": \"chrome\", \"212\": \"chrome\", \"213\": \"chrome\", \"214\": \"chrome\", \"215\": \"chrome\", \"216\": \"chrome\", \"217\": \"chrome\", \"218\": \"chrome\", \"219\": \"chrome\", \"220\": \"chrome\", \"221\": \"chrome\", \"222\": \"chrome\", \"223\": \"chrome\", \"224\": \"chrome\", \"225\": \"chrome\", \"226\": \"chrome\", \"227\": \"chrome\", \"228\": \"chrome\", \"229\": \"chrome\", \"230\": \"chrome\", \"231\": \"chrome\", \"232\": \"chrome\", \"233\": \"chrome\", \"234\": \"chrome\", \"235\": \"chrome\", \"236\": \"chrome\", \"237\": \"chrome\", \"238\": \"chrome\", \"239\": \"chrome\", \"240\": \"chrome\", \"241\": \"chrome\", \"242\": \"chrome\", \"243\": \"chrome\", \"244\": \"chrome\", \"245\": \"chrome\", \"246\": \"chrome\", \"247\": \"chrome\", \"248\": \"chrome\", \"249\": \"chrome\", \"250\": \"chrome\", \"251\": \"chrome\", \"252\": \"chrome\", \"253\": \"chrome\", \"254\": \"chrome\", \"255\": \"chrome\", \"256\": \"chrome\", \"257\": \"chrome\", \"258\": \"chrome\", \"259\": \"chrome\", \"260\": \"chrome\", \"261\": \"chrome\", \"262\": \"chrome\", \"263\": \"chrome\", \"264\": \"chrome\", \"265\": \"chrome\", \"266\": \"chrome\", \"267\": \"chrome\", \"268\": \"chrome\", \"269\": \"chrome\", \"270\": \"chrome\", \"271\": \"chrome\", \"272\": \"chrome\", \"273\": \"chrome\", \"274\": \"chrome\", \"275\": \"chrome\", \"276\": \"chrome\", \"277\": \"chrome\", \"278\": \"chrome\", \"279\": \"chrome\", \"280\": \"chrome\", \"281\": \"chrome\", \"282\": \"chrome\", \"283\": \"chrome\", \"284\": \"chrome\", \"285\": \"chrome\", \"286\": \"chrome\", \"287\": \"chrome\", \"288\": \"chrome\", \"289\": \"chrome\", \"290\": \"chrome\", \"291\": \"chrome\", \"292\": \"chrome\", \"293\": \"chrome\", \"294\": \"chrome\", \"295\": \"chrome\", \"296\": \"chrome\", \"297\": \"chrome\", \"298\": \"chrome\", \"299\": \"chrome\", \"300\": \"chrome\", \"301\": \"chrome\", \"302\": \"chrome\", \"303\": \"chrome\", \"304\": \"chrome\", \"305\": \"chrome\", \"306\": \"chrome\", \"307\": \"chrome\", \"308\": \"chrome\", \"309\": \"chrome\", \"310\": \"chrome\", \"311\": \"chrome\", \"312\": \"chrome\", \"313\": \"chrome\", \"314\": \"chrome\", \"315\": \"chrome\", \"316\": \"chrome\", \"317\": \"chrome\", \"318\": \"chrome\", \"319\": \"chrome\", \"320\": \"chrome\", \"321\": \"chrome\", \"322\": \"chrome\", \"323\": \"chrome\", \"324\": \"chrome\", \"325\": \"chrome\", \"326\": \"chrome\", \"327\": \"chrome\", \"328\": \"chrome\", \"329\": \"chrome\", \"330\": \"chrome\", \"331\": \"chrome\", \"332\": \"chrome\", \"333\": \"chrome\", \"334\": \"chrome\", \"335\": \"chrome\", \"336\": \"chrome\", \"337\": \"chrome\", \"338\": \"chrome\", \"339\": \"chrome\", \"340\": \"chrome\", \"341\": \"chrome\", \"342\": \"chrome\", \"343\": \"chrome\", \"344\": \"chrome\", \"345\": \"chrome\", \"346\": \"chrome\", \"347\": \"chrome\", \"348\": \"chrome\", \"349\": \"chrome\", \"350\": \"chrome\", \"351\": \"chrome\", \"352\": \"chrome\", \"353\": \"chrome\", \"354\": \"chrome\", \"355\": \"chrome\", \"356\": \"chrome\", \"357\": \"chrome\", \"358\": \"chrome\", \"359\": \"chrome\", \"360\": \"chrome\", \"361\": \"chrome\", \"362\": \"chrome\", \"363\": \"chrome\", \"364\": \"chrome\", \"365\": \"chrome\", \"366\": \"chrome\", \"367\": \"chrome\", \"368\": \"chrome\", \"369\": \"chrome\", \"370\": \"chrome\", \"371\": \"chrome\", \"372\": \"chrome\", \"373\": \"chrome\", \"374\": \"chrome\", \"375\": \"chrome\", \"376\": \"chrome\", \"377\": \"chrome\", \"378\": \"chrome\", \"379\": \"chrome\", \"380\": \"chrome\", \"381\": \"chrome\", \"382\": \"chrome\", \"383\": \"chrome\", \"384\": \"chrome\", \"385\": \"chrome\", \"386\": \"chrome\", \"387\": \"chrome\", \"388\": \"chrome\", \"389\": \"chrome\", \"390\": \"chrome\", \"391\": \"chrome\", \"392\": \"chrome\", \"393\": \"chrome\", \"394\": \"chrome\", \"395\": \"chrome\", \"396\": \"chrome\", \"397\": \"chrome\", \"398\": \"chrome\", \"399\": \"chrome\", \"400\": \"chrome\", \"401\": \"chrome\", \"402\": \"chrome\", \"403\": \"chrome\", \"404\": \"chrome\", \"405\": \"chrome\", \"406\": \"chrome\", \"407\": \"chrome\", \"408\": \"chrome\", \"409\": \"chrome\", \"410\": \"chrome\", \"411\": \"chrome\", \"412\": \"chrome\", \"413\": \"chrome\", \"414\": \"chrome\", \"415\": \"chrome\", \"416\": \"chrome\", \"417\": \"chrome\", \"418\": \"chrome\", \"419\": \"chrome\", \"420\": \"chrome\", \"421\": \"chrome\", \"422\": \"chrome\", \"423\": \"chrome\", \"424\": \"chrome\", \"425\": \"chrome\", \"426\": \"chrome\", \"427\": \"chrome\", \"428\": \"chrome\", \"429\": \"chrome\", \"430\": \"chrome\", \"431\": \"chrome\", \"432\": \"chrome\", \"433\": \"chrome\", \"434\": \"chrome\", \"435\": \"chrome\", \"436\": \"chrome\", \"437\": \"chrome\", \"438\": \"chrome\", \"439\": \"chrome\", \"440\": \"chrome\", \"441\": \"chrome\", \"442\": \"chrome\", \"443\": \"chrome\", \"444\": \"chrome\", \"445\": \"chrome\", \"446\": \"chrome\", \"447\": \"chrome\", \"448\": \"chrome\", \"449\": \"chrome\", \"450\": \"chrome\", \"451\": \"chrome\", \"452\": \"chrome\", \"453\": \"chrome\", \"454\": \"chrome\", \"455\": \"chrome\", \"456\": \"chrome\", \"457\": \"chrome\", \"458\": \"chrome\", \"459\": \"chrome\", \"460\": \"chrome\", \"461\": \"chrome\", \"462\": \"chrome\", \"463\": \"chrome\", \"464\": \"chrome\", \"465\": \"chrome\", \"466\": \"chrome\", \"467\": \"chrome\", \"468\": \"chrome\", \"469\": \"chrome\", \"470\": \"chrome\", \"471\": \"chrome\", \"472\": \"chrome\", \"473\": \"chrome\", \"474\": \"chrome\", \"475\": \"chrome\", \"476\": \"chrome\", \"477\": \"chrome\", \"478\": \"chrome\", \"479\": \"chrome\", \"480\": \"chrome\", \"481\": \"chrome\", \"482\": \"chrome\", \"483\": \"chrome\", \"484\": \"chrome\", \"485\": \"chrome\", \"486\": \"chrome\", \"487\": \"chrome\", \"488\": \"chrome\", \"489\": \"chrome\", \"490\": \"chrome\", \"491\": \"chrome\", \"492\": \"chrome\", \"493\": \"chrome\", \"494\": \"chrome\", \"495\": \"chrome\", \"496\": \"chrome\", \"497\": \"chrome\", \"498\": \"chrome\", \"499\": \"chrome\", \"500\": \"chrome\", \"501\": \"chrome\", \"502\": \"chrome\", \"503\": \"chrome\", \"504\": \"chrome\", \"505\": \"chrome\", \"506\": \"chrome\", \"507\": \"chrome\", \"508\": \"chrome\", \"509\": \"chrome\", \"510\": \"chrome\", \"511\": \"chrome\", \"512\": \"chrome\", \"513\": \"chrome\", \"514\": \"chrome\", \"515\": \"chrome\", \"516\": \"chrome\", \"517\": \"chrome\", \"518\": \"chrome\", \"519\": \"chrome\", \"520\": \"chrome\", \"521\": \"chrome\", \"522\": \"chrome\", \"523\": \"chrome\", \"524\": \"chrome\", \"525\": \"chrome\", \"526\": \"chrome\", \"527\": \"chrome\", \"528\": \"chrome\", \"529\": \"chrome\", \"530\": \"chrome\", \"531\": \"chrome\", \"532\": \"chrome\", \"533\": \"chrome\", \"534\": \"chrome\", \"535\": \"chrome\", \"536\": \"chrome\", \"537\": \"chrome\", \"538\": \"chrome\", \"539\": \"chrome\", \"540\": \"chrome\", \"541\": \"chrome\", \"542\": \"chrome\", \"543\": \"chrome\", \"544\": \"chrome\", \"545\": \"chrome\", \"546\": \"chrome\", \"547\": \"chrome\", \"548\": \"chrome\", \"549\": \"chrome\", \"550\": \"chrome\", \"551\": \"chrome\", \"552\": \"chrome\", \"553\": \"chrome\", \"554\": \"chrome\", \"555\": \"chrome\", \"556\": \"chrome\", \"557\": \"chrome\", \"558\": \"chrome\", \"559\": \"chrome\", \"560\": \"chrome\", \"561\": \"chrome\", \"562\": \"chrome\", \"563\": \"chrome\", \"564\": \"chrome\", \"565\": \"chrome\", \"566\": \"chrome\", \"567\": \"chrome\", \"568\": \"chrome\", \"569\": \"chrome\", \"570\": \"chrome\", \"571\": \"chrome\", \"572\": \"chrome\", \"573\": \"chrome\", \"574\": \"chrome\", \"575\": \"chrome\", \"576\": \"chrome\", \"577\": \"chrome\", \"578\": \"chrome\", \"579\": \"chrome\", \"580\": \"chrome\", \"581\": \"chrome\", \"582\": \"chrome\", \"583\": \"chrome\", \"584\": \"chrome\", \"585\": \"chrome\", \"586\": \"chrome\", \"587\": \"chrome\", \"588\": \"chrome\", \"589\": \"chrome\", \"590\": \"chrome\", \"591\": \"chrome\", \"592\": \"chrome\", \"593\": \"chrome\", \"594\": \"chrome\", \"595\": \"chrome\", \"596\": \"chrome\", \"597\": \"chrome\", \"598\": \"chrome\", \"599\": \"chrome\", \"600\": \"chrome\", \"601\": \"chrome\", \"602\": \"chrome\", \"603\": \"chrome\", \"604\": \"chrome\", \"605\": \"chrome\", \"606\": \"chrome\", \"607\": \"chrome\", \"608\": \"chrome\", \"609\": \"chrome\", \"610\": \"chrome\", \"611\": \"chrome\", \"612\": \"chrome\", \"613\": \"chrome\", \"614\": \"chrome\", \"615\": \"chrome\", \"616\": \"chrome\", \"617\": \"chrome\", \"618\": \"chrome\", \"619\": \"chrome\", \"620\": \"chrome\", \"621\": \"chrome\", \"622\": \"chrome\", \"623\": \"chrome\", \"624\": \"chrome\", \"625\": \"chrome\", \"626\": \"chrome\", \"627\": \"chrome\", \"628\": \"chrome\", \"629\": \"chrome\", \"630\": \"chrome\", \"631\": \"chrome\", \"632\": \"chrome\", \"633\": \"chrome\", \"634\": \"chrome\", \"635\": \"chrome\", \"636\": \"chrome\", \"637\": \"chrome\", \"638\": \"chrome\", \"639\": \"chrome\", \"640\": \"chrome\", \"641\": \"chrome\", \"642\": \"chrome\", \"643\": \"chrome\", \"644\": \"chrome\", \"645\": \"chrome\", \"646\": \"chrome\", \"647\": \"chrome\", \"648\": \"chrome\", \"649\": \"chrome\", \"650\": \"chrome\", \"651\": \"chrome\", \"652\": \"chrome\", \"653\": \"chrome\", \"654\": \"chrome\", \"655\": \"chrome\", \"656\": \"chrome\", \"657\": \"chrome\", \"658\": \"chrome\", \"659\": \"chrome\", \"660\": \"chrome\", \"661\": \"chrome\", \"662\": \"chrome\", \"663\": \"chrome\", \"664\": \"chrome\", \"665\": \"chrome\", \"666\": \"chrome\", \"667\": \"chrome\", \"668\": \"chrome\", \"669\": \"chrome\", \"670\": \"chrome\", \"671\": \"chrome\", \"672\": \"chrome\", \"673\": \"chrome\", \"674\": \"chrome\", \"675\": \"chrome\", \"676\": \"chrome\", \"677\": \"chrome\", \"678\": \"chrome\", \"679\": \"chrome\", \"680\": \"chrome\", \"681\": \"chrome\", \"682\": \"chrome\", \"683\": \"chrome\", \"684\": \"chrome\", \"685\": \"chrome\", \"686\": \"chrome\", \"687\": \"chrome\", \"688\": \"chrome\", \"689\": \"chrome\", \"690\": \"chrome\", \"691\": \"chrome\", \"692\": \"chrome\", \"693\": \"chrome\", \"694\": \"chrome\", \"695\": \"chrome\", \"696\": \"chrome\", \"697\": \"chrome\", \"698\": \"chrome\", \"699\": \"chrome\", \"700\": \"chrome\", \"701\": \"chrome\", \"702\": \"chrome\", \"703\": \"chrome\", \"704\": \"chrome\", \"705\": \"chrome\", \"706\": \"chrome\", \"707\": \"chrome\", \"708\": \"chrome\", \"709\": \"chrome\", \"710\": \"chrome\", \"711\": \"chrome\", \"712\": \"chrome\", \"713\": \"chrome\", \"714\": \"chrome\", \"715\": \"chrome\", \"716\": \"chrome\", \"717\": \"chrome\", \"718\": \"chrome\", \"719\": \"chrome\", \"720\": \"chrome\", \"721\": \"chrome\", \"722\": \"chrome\", \"723\": \"chrome\", \"724\": \"chrome\", \"725\": \"chrome\", \"726\": \"chrome\", \"727\": \"chrome\", \"728\": \"chrome\", \"729\": \"chrome\", \"730\": \"chrome\", \"731\": \"chrome\", \"732\": \"chrome\", \"733\": \"chrome\", \"734\": \"chrome\", \"735\": \"chrome\", \"736\": \"chrome\", \"737\": \"chrome\", \"738\": \"chrome\", \"739\": \"chrome\", \"740\": \"chrome\", \"741\": \"chrome\", \"742\": \"chrome\", \"743\": \"chrome\", \"744\": \"chrome\", \"745\": \"chrome\", \"746\": \"chrome\", \"747\": \"chrome\", \"748\": \"chrome\", \"749\": \"chrome\", \"750\": \"chrome\", \"751\": \"chrome\", \"752\": \"chrome\", \"753\": \"chrome\", \"754\": \"chrome\", \"755\": \"chrome\", \"756\": \"chrome\", \"757\": \"chrome\", \"758\": \"chrome\", \"759\": \"chrome\", \"760\": \"chrome\", \"761\": \"chrome\", \"762\": \"chrome\", \"763\": \"chrome\", \"764\": \"chrome\", \"765\": \"chrome\", \"766\": \"chrome\", \"767\": \"chrome\", \"768\": \"chrome\", \"769\": \"chrome\", \"770\": \"chrome\", \"771\": \"chrome\", \"772\": \"chrome\", \"773\": \"chrome\", \"774\": \"chrome\", \"775\": \"chrome\", \"776\": \"chrome\", \"777\": \"chrome\", \"778\": \"chrome\", \"779\": \"chrome\", \"780\": \"chrome\", \"781\": \"chrome\", \"782\": \"chrome\", \"783\": \"chrome\", \"784\": \"chrome\", \"785\": \"chrome\", \"786\": \"chrome\", \"787\": \"chrome\", \"788\": \"chrome\", \"789\": \"chrome\", \"790\": \"chrome\", \"791\": \"chrome\", \"792\": \"chrome\", \"793\": \"chrome\", \"794\": \"chrome\", \"795\": \"chrome\", \"796\": \"chrome\", \"797\": \"chrome\", \"798\": \"chrome\", \"799\": \"chrome\", \"800\": \"chrome\", \"801\": \"chrome\", \"802\": \"chrome\", \"803\": \"internetexplorer\", \"804\": \"internetexplorer\", \"805\": \"internetexplorer\", \"806\": \"internetexplorer\", \"807\": \"internetexplorer\", \"808\": \"internetexplorer\", \"809\": \"internetexplorer\", \"810\": \"internetexplorer\", \"811\": \"internetexplorer\", \"812\": \"internetexplorer\", \"813\": \"internetexplorer\", \"814\": \"internetexplorer\", \"815\": \"internetexplorer\", \"816\": \"internetexplorer\", \"817\": \"internetexplorer\", \"818\": \"internetexplorer\", \"819\": \"internetexplorer\", \"820\": \"internetexplorer\", \"821\": \"internetexplorer\", \"822\": \"internetexplorer\", \"823\": \"internetexplorer\", \"824\": \"internetexplorer\", \"825\": \"internetexplorer\", \"826\": \"internetexplorer\", \"827\": \"internetexplorer\", \"828\": \"internetexplorer\", \"829\": \"internetexplorer\", \"830\": \"internetexplorer\", \"831\": \"internetexplorer\", \"832\": \"internetexplorer\", \"833\": \"internetexplorer\", \"834\": \"internetexplorer\", \"835\": \"internetexplorer\", \"836\": \"internetexplorer\", \"837\": \"internetexplorer\", \"838\": \"internetexplorer\", \"839\": \"firefox\", \"840\": \"firefox\", \"841\": \"firefox\", \"842\": \"firefox\", \"843\": \"firefox\", \"844\": \"firefox\", \"845\": \"firefox\", \"846\": \"firefox\", \"847\": \"firefox\", \"848\": \"firefox\", \"849\": \"firefox\", \"850\": \"firefox\", \"851\": \"firefox\", \"852\": \"firefox\", \"853\": \"firefox\", \"854\": \"firefox\", \"855\": \"firefox\", \"856\": \"firefox\", \"857\": \"firefox\", \"858\": \"firefox\", \"859\": \"firefox\", \"860\": \"firefox\", \"861\": \"firefox\", \"862\": \"firefox\", \"863\": \"firefox\", \"864\": \"firefox\", \"865\": \"firefox\", \"866\": \"firefox\", \"867\": \"firefox\", \"868\": \"firefox\", \"869\": \"firefox\", \"870\": \"firefox\", \"871\": \"firefox\", \"872\": \"firefox\", \"873\": \"firefox\", \"874\": \"firefox\", \"875\": \"firefox\", \"876\": \"firefox\", \"877\": \"firefox\", \"878\": \"firefox\", \"879\": \"firefox\", \"880\": \"firefox\", \"881\": \"firefox\", \"882\": \"firefox\", \"883\": \"firefox\", \"884\": \"firefox\", \"885\": \"firefox\", \"886\": \"firefox\", \"887\": \"firefox\", \"888\": \"firefox\", \"889\": \"firefox\", \"890\": \"firefox\", \"891\": \"firefox\", \"892\": \"firefox\", \"893\": \"firefox\", \"894\": \"firefox\", \"895\": \"firefox\", \"896\": \"firefox\", \"897\": \"firefox\", \"898\": \"firefox\", \"899\": \"firefox\", \"900\": \"firefox\", \"901\": \"firefox\", \"902\": \"firefox\", \"903\": \"firefox\", \"904\": \"firefox\", \"905\": \"firefox\", \"906\": \"firefox\", \"907\": \"firefox\", \"908\": \"firefox\", \"909\": \"firefox\", \"910\": \"firefox\", \"911\": \"firefox\", \"912\": \"firefox\", \"913\": \"firefox\", \"914\": \"firefox\", \"915\": \"firefox\", \"916\": \"firefox\", \"917\": \"firefox\", \"918\": \"firefox\", \"919\": \"firefox\", \"920\": \"firefox\", \"921\": \"firefox\", \"922\": \"firefox\", \"923\": \"firefox\", \"924\": \"firefox\", \"925\": \"firefox\", \"926\": \"firefox\", \"927\": \"firefox\", \"928\": \"firefox\", \"929\": \"firefox\", \"930\": \"firefox\", \"931\": \"firefox\", \"932\": \"firefox\", \"933\": \"firefox\", \"934\": \"firefox\", \"935\": \"safari\", \"936\": \"safari\", \"937\": \"safari\", \"938\": \"safari\", \"939\": \"safari\", \"940\": \"safari\", \"941\": \"safari\", \"942\": \"safari\", \"943\": \"safari\", \"944\": \"safari\", \"945\": \"safari\", \"946\": \"safari\", \"947\": \"safari\", \"948\": \"safari\", \"949\": \"safari\", \"950\": \"safari\", \"951\": \"safari\", \"952\": \"safari\", \"953\": \"safari\", \"954\": \"safari\", \"955\": \"safari\", \"956\": \"safari\", \"957\": \"safari\", \"958\": \"safari\", \"959\": \"safari\", \"960\": \"safari\", \"961\": \"safari\", \"962\": \"safari\", \"963\": \"safari\", \"964\": \"safari\", \"965\": \"safari\", \"966\": \"safari\", \"967\": \"safari\", \"968\": \"opera\", \"969\": \"opera\", \"970\": \"opera\", \"971\": \"opera\", \"972\": \"opera\", \"973\": \"opera\", \"974\": \"opera\", \"975\": \"opera\", \"976\": \"opera\", \"977\": \"opera\", \"978\": \"opera\", \"979\": \"opera\", \"980\": \"opera\", \"981\": \"opera\", \"982\": \"opera\", \"983\": \"opera\", \"984\": \"opera\"}}","title":"5\u3001fake_useragent\u6a21\u5757"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#6_1","text":"","title":"6\u3001\u6269\u5c55"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#1kwargs","text":"params: \u5b57\u5178\u6216\u5b57\u8282\u5e8f\u5217\uff0c\u4f5c\u4e3a\u53c2\u6570\u589e\u52a0\u5230url\u4e2d data:\u5b57\u5178\uff0c\u5b57\u8282\u5e8f\u5217\u6216\u6587\u4ef6\u5bf9\u8c61,\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 json: JSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 headers: \u5b57\u5178, HTTP\u5b9a\u5236\u5934 cookie: \u5b57\u5178\u6216CooKiJar, Request\u4e2d\u7684cookie auth: \u5143\u7ec4\uff0c\u652f\u6301HTTP\u8ba4\u8bc1\u529f\u80fd files: \u5b57\u5178\u7c7b\u578b\uff0c\u4f20\u8f93\u6587\u4ef6 timeout: \u8bbe\u5b9a\u8d85\u65f6\u65f6\u95f4\uff0c\u79d2\u4e3a\u5355\u4f4d proxies [\u02c8pr\u0251ksiz] : \u5b57\u5178\u7c7b\u578b\uff0c\u8bbe\u5b9a\u8bbf\u95ee\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u589e\u52a0\u767b\u5f55\u8ba4\u8bc1 allow_redirects: True/False,\u9ed8\u8ba4\u4e3aTrue,\u91cd\u5b9a\u5411\u5f00\u5173 stream: True/False\uff0c\u9ed8\u8ba4\u4e3aTrue,\u83b7\u53d6\u5185\u5bb9\u7acb\u5373\u4e0b\u8f7d\u5f00\u5173 verify[\u02c8ver\u0259ti] : True/False\u9ed8\u8ba4Ture,\u8ba4\u8bc1ssl\u8bc1\u4e66\u5f00\u5173 cert [s\u025c\u02d0rt]: \u672c\u5730ssl\u8bc1\u4e66\u8def\u5f84","title":"1\u3001**kwargs:\u63a7\u5236\u8bbf\u95ee\u7684\u53c2\u6570\uff0c\u5747\u4e3a\u53ef\u9009\u9879"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#2_1","text":"params \u5b57\u5178\u6216\u5b57\u8282\u5e8f\u5217\uff0c\u4f5c\u4e3a\u53c2\u6570\u589e\u52a0\u5230url\u4e2d ```powershell payload = {'key1': 'one', 'key2': 'two'} r = requests.request('GET', 'http://python123.io/ws', params=payload) print(r.url) http://python123.io/ws?key1=one&key2=two ``` data \u5b57\u5178\uff0c\u5b57\u8282\u5e8f\u5217\u6216\u6587\u4ef6\u5bf9\u8c61,\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 python import requests payload = {'key1':'one', 'key2':'two'} url = 'http://httpbin.org/put' r = requests.put(url=url, data=payload) # or r = requests.put(url=url, data='ABCDEFG') #\u5b57\u7b26\u4e32 json JSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u4f5c\u4e3aRequest\u7684\u5185\u5bb9 python kv = {'name': 'youdi', 'role': 'king', 'rank': 'the one'} url = 'http://httpbin.org/post' r = requests.request(method='POST', url=url, json=kv) print(r.text) { \"args\": {}, \"data\": \"{\\\"role\\\": \\\"king\\\", \\\"rank\\\": \\\"the one\\\", \\\"name\\\": \\\"youdi\\\"}\", #json\u683c\u5f0f\uff0c\u5176\u5b9e\u5c31\u662f\u5b57\u7b26\u4e32 \"files\": {}, \"form\": {}, \"headers\": { \"Accept\": \"*/*\", \"Accept-Encoding\": \"gzip, deflate\", \"Connection\": \"close\", \"Content-Length\": \"52\", \"Content-Type\": \"application/json\", \"Host\": \"httpbin.org\", \"User-Agent\": \"python-requests/2.13.0\" }, \"json\": { \"name\": \"youdi\", \"rank\": \"the one\", \"role\": \"king\" }, \"origin\": \"183.60.175.16\", \"url\": \"http://httpbin.org/post\" } headers \u5b57\u5178, HTTP\u5b9a\u5236\u5934\u90e8\u4fe1\u606f\uff0c\u9690\u85cf\u722c\u866b\u4fe1\u606f\uff0c\u6a21\u62df\u6d4f\u89c8\u5668\u7684\u5934\u90e8\u4fe1\u606f ```python url = 'http://httpbin.org/post' r = requests.request('POST', url) # \u5934\u90e8\u4fe1\u606f r.request.headers # \u89c2\u5bdfUser-Agent {'Accept': ' / ', 'User-Agent': 'python-requests/2.13.0', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Content-Length': '0'} #\u52a0\u5165headers\u540e headers = { # \u6d4f\u89c8\u5668\u4ee3\u7406 \"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36\" } r = requests.request('POST', url, headers=headers) print(r.request.headers) {'Accept': ' / ', 'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Content-Length': '0'} ``` cookie \u5b57\u5178\u6216CooKiJar, Request\u4e2d\u7684cookie ```python import requests import urllib.parse url = 'http://www.baidu.com' headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15', } r = requests.request(method='GET', url=url, headers=headers) cookie = r.cookies print(r.request.headers) # print(r.text) print(cookie) print(requests.cookies.RequestsCookieJar) # \u83b7\u53d6cookie\u5b57\u5178 cookiedict = requests.utils.dict_from_cookiejar(cookie) url = 'https://www.baidu.com/s?wd=%E7%BE%8E%E5%A5%B3&rsv_spt=1&rsv_iqid=0xfde6582b00129a7b&issp=1&f=8&rsv_bp=1&rsv_idx=2&ie=utf-8&tn=baiduhome_pg&rsv_enter=1&rsv_dl=ib&rsv_sug3=5&rsv_sug1=4&rsv_sug7=100&rsv_sug2=0&rsv_btype=i&inputT=965&rsv_sug4=965'.format(urllib.parse.quote('\u8fea\u4e3d\u70ed\u5df4')) print(url) r_baidu = requests.request('GET', url=url, headers=headers, cookies=cookie) r.encoding = 'gbk' print(r_baidu.content) with open('baidu.html', 'wb') as f: f.write(r_baidu.content) ``` auth \u5143\u7ec4\uff0c\u652f\u6301HTTP\u8ba4\u8bc1\u529f\u80fd ```python import requests # \u6700\u7b80\u5355\u7684http\u9a8c\u8bc1 from requests.auth import HTTPBasicAuth r = requests.get('http://httpbin.org/auth', auth=HTTPBasicAuth('user', 'user')) # r = requests.get('http://httpbin.org/auth', auth=('user', 'user')) print(r.status_code) ``` files \u5b57\u5178\u7c7b\u578b\uff0c\u4f20\u8f93\u6587\u4ef6 python fs = {file: open('data.xls', 'rb')} # \u4f7f\u7528files\u53c2\u6570\u5c31\u53ef\u4ee5\u4e86 r = requests.request('POST','http://httpbin.org/post',files=fs) timesout \u8bbe\u5b9a\u8d85\u65f6\u65f6\u95f4\uff0c\u79d2\u4e3a\u5355\u4f4d ```python import requests from requests.exceptions import ReadTimeout try: # \u8bbe\u7f6e\u5fc5\u987b\u5728500ms\u5185\u6536\u5230\u54cd\u5e94\uff0c\u4e0d\u7136\u6216\u629b\u51faReadTimeout\u5f02\u5e38 response = requests.get(\"http://httpbin.org/get\", timeout=0.5) print(response.status_code) except ReadTimeout: print('Timeout') ``` proxies \u5b57\u5178\u7c7b\u578b\uff0c\u8bbe\u5b9a\u8bbf\u95ee\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u589e\u52a0\u767b\u5f55\u8ba4\u8bc1 ```python import requests #\u666e\u901a\u4ee3\u7406 proxies = { \"http\": \"http://127.0.0.1:1080\", \"https\": \"https://127.0.0.1:1080\", } # \u5f80\u8bf7\u6c42\u4e2d\u8bbe\u7f6e\u4ee3\u7406(proxies) r = requests.get(\"https://www.taobao.com\", proxies=proxies) print(r.status_code) # \u5e26\u6709\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u4ee3\u7406 proxies = { \"http\": \"http://user:password@127.0.0.1:9743/\", } r = requests.get(\"https://www.taobao.com\", proxies=proxies) print(r.status_code) # \u8bbe\u7f6esocks\u4ee3\u7406,\u7ffb\u5899\u5fc5\u5907 proxies = { 'http': 'socks5://127.0.0.1:1080', 'https': 'socks5://127.0.0.1:1080' } r = requests.get(\"https://www.google.com\", proxies=proxies) print(r.status_code) ``` allow_redirects True/False,\u9ed8\u8ba4\u4e3aTrue,\u91cd\u5b9a\u5411\u5f00\u5173 python r = requests.request('GET','http://httpbin.org/get',allow_redirects=False) stream True/False\uff0c\u9ed8\u8ba4\u4e3aTrue,\u83b7\u53d6\u5185\u5bb9\u7acb\u5373\u4e0b\u8f7d\u5f00\u5173 python r = requests.request('GET','http://httpbin.org/get/**.txt',stream=False) verity True/False\u9ed8\u8ba4Ture,\u8ba4\u8bc1ssl\u8bc1\u4e66\u5f00\u5173 ```python # \u65e0\u8bc1\u4e66\u8bbf\u95ee r = requests.get('https://www.12306.cn') # \u5728\u8bf7\u6c42https\u65f6\uff0crequest\u4f1a\u8fdb\u884c\u8bc1\u4e66\u7684\u9a8c\u8bc1\uff0c\u5982\u679c\u9a8c\u8bc1\u5931\u8d25\u5219\u4f1a\u629b\u51fa\u5f02\u5e38 print(r.status_code) # \u5173\u95ed\u9a8c\u8bc1\uff0c\u4f46\u662f\u4ecd\u7136\u4f1a\u62a5\u51fa\u8bc1\u4e66\u8b66\u544a r = requests.get('https://www.12306.cn',verify=False) print(r.status_code) # \u6d88\u9664\u5173\u95ed\u8bc1\u4e66\u9a8c\u8bc1\u7684\u8b66\u544a from requests.packages import urllib3 # \u5173\u95ed\u8b66\u544a urllib3.disable_warnings() r = requests.get('https://www.12306.cn',verify=False) print(r.status_code) ``` cert \u672c\u5730ssl\u8bc1\u4e66\u8def\u5f84 \u8bc1\u4e66\u4e0b\u8f7d\u65b9\u5f0f https://www.csdn.net/tags/NtzaYg5sMTM0NjMtYmxvZwO0O0OO0O0O.html python # \u8bbe\u7f6e\u672c\u5730\u8bc1\u4e66 r = requests.get('https://www.12306.cn', cert=('/home/youdi/Download/**.crt', '/hone/youdi/.ssh/**.key')) print(r.status_code)","title":"2\u3001\u53c2\u6570\u8be6\u89e3"},{"location":"07%E3%80%81urllib%E4%B8%8Erequests.html#7_1","text":"requests.utils.dict_from_cookiejar\u80fd\u591f\u5b9e\u73b0cookiejar\u8f6c\u5316\u4e3a\u5b57\u5178 \u8bf7\u6c42\u65b9\u6cd5\u4e2d\u6dfb\u52a0verify=False\u80fd\u591f\u5b9e\u73b0\u8bf7\u6c42\u8fc7\u7a0b\u4e2d\u4e0d\u9a8c\u8bc1\u8bc1\u4e66 \u8bf7\u6c42\u65b9\u6cd5\u4e2d\u6dfb\u52a0timeout\u80fd\u591f\u5b9e\u73b0\u5f3a\u5236\u7a0b\u5e8f\u8fd4\u56de\u7ed3\u679c\u7684\u80fd\u591f\uff0c\u5426\u5219\u4f1a\u62a5\u9519 retrying\u6a21\u5757\u80fd\u591f\u5b9e\u73b0\u6355\u83b7\u51fd\u6570\u7684\u5f02\u5e38\uff0c\u53cd\u590d\u6267\u884c\u51fd\u6570\u7684\u6548\u679c\uff0c\u548ctimeout\u914d\u5408\u4f7f\u7528\uff0c\u80fd\u591f\u89e3\u51b3\u7f51\u7edc\u6ce2\u52a8\u5e26\u6765\u7684\u8bf7\u6c42\u4e0d\u6210\u529f\u7684\u95ee\u9898","title":"7\u3001\u5c0f\u7ed3"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html","text":"\u516b\u3001\u591a\u8fdb\u7a0b \u4e00\u3001\u591a\u4efb\u52a1\u539f\u7406 \u6982\u5ff5 \u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u6bd4\u5982Mac OS X\uff0cUNIX\uff0cLinux\uff0cWindows\u7b49\uff0c\u90fd\u662f\u652f\u6301\u201c\u591a\u4efb\u52a1\u201d\u7684\u64cd\u4f5c\u7cfb\u7edf \u4ec0\u4e48\u53eb\u591a\u4efb\u52a1\uff1f \u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u4efb\u52a1 \u5355\u6838CPU\u5b9e\u73b0\u591a\u4efb\u52a1\u539f\u7406 \u64cd\u4f5c\u7cfb\u7edf\u8f6e\u6d41\u8ba9\u5404\u4e2a\u4efb\u52a1\u4ea4\u66ff\u6267\u884c\uff0cQQ\u6267\u884c2us\uff08\u5fae\u79d2\uff09\uff0c\u5207\u6362\u5230\u5fae\u4fe1\uff0c\u5728\u6267\u884c2us\uff0c\u518d\u5207\u6362\u5230\u964c\u964c\uff0c\u6267\u884c2us\u2026\u2026\u3002\u8868\u9762\u662f\u770b\uff0c\u6bcf\u4e2a\u4efb\u52a1\u53cd\u590d\u6267\u884c\u4e0b\u53bb\uff0c\u4f46\u662fCPU\u8c03\u5ea6\u6267\u884c\u901f\u5ea6\u592a\u5feb\u4e86\uff0c\u5bfc\u81f4\u6211\u4eec\u611f\u89c9\u5c31\u50cf\u6240\u6709\u4efb\u52a1\u90fd\u5728\u540c\u65f6\u6267\u884c\u4e00\u6837 \u591a\u6838CPU\u5b9e\u73b0\u591a\u4efb\u52a1\u539f\u7406 \u200b \u771f\u6b63\u7684\u79c9\u6027\u6267\u884c\u591a\u4efb\u52a1\u53ea\u80fd\u5728\u591a\u6838CPU\u4e0a\u5b9e\u73b0\uff0c\u4f46\u662f\u7531\u4e8e\u4efb\u52a1\u6570\u91cf\u8fdc\u8fdc\u591a\u4e8eCPU\u7684\u6838\u5fc3\u6570\u91cf\uff0c\u6240\u4ee5\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e5f\u4f1a\u81ea\u52a8\u628a\u5f88\u591a\u4efb\u52a1\u8f6e\u6d41\u8c03\u5ea6\u5230\u6bcf\u4e2a\u6838\u5fc3\u4e0a\u6267\u884c \u5e76\u53d1\u4e0e\u5e76\u884c \u5e76\u53d1 CPU\u8c03\u5ea6\u6267\u884c\u901f\u5ea6\u592a\u5feb\u4e86,\u770b\u4e0a\u53bb\u4e00\u8d77\u6267\u884c\uff0c\u4efb\u52a1\u6570\u591a\u4e8eCPU\u6838\u5fc3\u6570 \u5e76\u884c \u771f\u6b63\u4e00\u8d77\u6267\u884c\uff0c\u4efb\u52a1\u6570\u5c0f\u4e8e\u7b49\u4e8eCPU\u6838\u5fc3\u6570 \u5e76\u53d1\u662f\u903b\u8f91\u4e0a\u7684\u540c\u65f6\u53d1\u751f\uff0c\u5e76\u884c\u66f4\u591a\u662f\u4fa7\u91cd\u4e8e\u7269\u7406\u4e0a\u7684\u540c\u65f6\u53d1\u751f\u3002 \u5b9e\u73b0\u591a\u4efb\u52a1\u7684\u65b9\u5f0f \u591a\u8fdb\u7a0b\u6a21\u5f0f \u542f\u52a8\u591a\u4e2a\u8fdb\u7a0b\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u867d\u7136\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4f46\u662f\u591a\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u4e00\u8d77\u6267\u884c\u591a\u4e2a\u4efb\u52a1 \u591a\u7ebf\u7a0b\u6a21\u5f0f \u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5728\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u90e8\u542f\u52a8\u591a\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u6837\u591a\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u4e00\u8d77\u6267\u884c\u591a\u4e2a\u4efb\u52a1 \u591a\u8fdb\u7a0b+\u591a\u7ebf\u7a0b \u542f\u52a8\u591a\u4e2a\u8fdb\u7a0b\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u518d\u542f\u52a8\u591a\u4e2a\u7ebf\u7a0b \u534f\u7a0b \u591a\u8fdb\u7a0b+\u534f\u7a0b \u4e8c\u3001\u8fdb\u7a0b 1\u3001\u6982\u5ff5 \u4ec0\u4e48\u662f\u8fdb\u7a0b\uff1f \u662f\u8ba1\u7b97\u673a\u4e2d\u7684\u7a0b\u5e8f\u5173\u4e8e\u67d0\u6570\u636e\u96c6\u5408\u4e0a\u7684\u4e00\u6b21\u8fd0\u884c\u6d3b\u52a8\uff0c\u662f\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ed3\u6784\u7684\u57fa\u7840\u3002 \u5bf9\u4e8e\u64cd\u4f5c\u7cfb\u7edf \u4e00\u4e2a\u4efb\u52a1\u5c31\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002\u6bd4\u65b9\u8bf4\u6253\u5f00\u6d4f\u89c8\u5668\u5c31\u662f\u542f\u52a8\u4e00\u4e2a\u6d4f\u89c8\u5668\u7684\u8fdb\u7a0b\uff0c\u5728\u6253\u5f00\u4e00\u4e2a\u8bb0\u4e8b\u672c\u5c31\u542f\u52a8\u4e00\u4e2a\u8bb0\u4e8b\u672c\u8fdb\u7a0b\uff0c\u5982\u679c\u6253\u5f00\u4e24\u4e2a\u8bb0\u4e8b\u672c\u5c31\u542f\u52a8\u4e24\u4e2a\u8bb0\u4e8b\u672c\u8fdb\u7a0b 2\u3001\u4f7f\u7528\u8fdb\u7a0b \u5355\u8fdb\u7a0b\u73b0\u8c61 \u9700\u8981\u7b49\u5f85\u4ee3\u7801\u6267\u884c\u5b8c\u540e\u518d\u6267\u884c\u4e0b\u4e00\u6bb5\u4ee3\u7801 ```python import time def run1(): while 1: print(\"lucky is a good man\") time.sleep(1) def run2(): while 1: print(\"lucky is a nice man\") time.sleep(1) if name == \" main \": run1() # \u4e0d\u4f1a\u6267\u884crun2()\u51fd\u6570\uff0c\u53ea\u6709\u4e0a\u9762\u7684run1()\u7ed3\u675f\u624d\u80fd\u6267\u884crun2() run2() ``` \u542f\u52a8\u8fdb\u7a0b\u5b9e\u73b0\u591a\u4efb\u52a1 multiprocessing\u6a21\u5757 \u8de8\u5e73\u53f0\u7684\u591a\u8fdb\u7a0b\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2aProcess\u7c7b\u7528\u6765\u793a\u4f8b\u5316\u4e00\u4e2a\u8fdb\u7a0b\u5bf9\u8c61 Process\u7c7b \u4f5c\u7528\uff1a\u521b\u5efa\u8fdb\u7a0b(\u5b50\u8fdb\u7a0b) __name__ \u8fd9\u662f Windows \u4e0a\u591a\u8fdb\u7a0b\u7684\u5b9e\u73b0\u95ee\u9898\u3002\u5728 Windows \u4e0a\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u81ea\u52a8 import \u542f\u52a8\u5b83\u7684\u8fd9\u4e2a\u6587\u4ef6\uff0c\u800c\u5728 import \u7684\u65f6\u5019\u662f\u4f1a\u6267\u884c\u8fd9\u4e9b\u8bed\u53e5\u7684\u3002\u5982\u679c\u4f60\u8fd9\u4e48\u5199\u7684\u8bdd\u5c31\u4f1a\u65e0\u9650\u9012\u5f52\u521b\u5efa\u5b50\u8fdb\u7a0b\u62a5\u9519\u3002\u6240\u4ee5\u5fc5\u987b\u628a\u521b\u5efa\u5b50\u8fdb\u7a0b\u7684\u90e8\u5206\u7528\u90a3\u4e2a if \u5224\u65ad\u4fdd\u62a4\u8d77\u6765\uff0cimport \u7684\u65f6\u5019 __name__ \u4e0d\u662f __main__ \uff0c\u5c31\u4e0d\u4f1a\u9012\u5f52\u8fd0\u884c\u4e86\u3002 \u53c2\u6570 \u8bf4\u660e target \u6307\u5b9a\u8fdb\u7a0b\u6267\u884c\u7684\u4efb\u52a1 args \u7ed9\u8fdb\u7a0b\u51fd\u6570\u4f20\u9012\u7684\u53c2\u6570\uff0c\u662f\u4e00\u4e2a\u5143\u7ec4 \u6ce8\u610f\uff1a\u6b64\u65f6\u8fdb\u7a0b\u88ab\u521b\u5efa\uff0c\u4f46\u662f\u4e0d\u4f1a\u542f\u52a8\u8fdb\u7a0b\u6267\u884c \u542f\u52a8\u8fdb\u7a0b\u5b9e\u73b0\u591a\u4efb\u52a1 from multiprocessing import Process \u521b\u5efa\u5b50\u8fdb\u7a0b P = Process(target=run,args=(\"nice\",),name='\u5f53\u524d\u8fdb\u7a0b\u540d\u79f0') target\u6307\u5b9a \u5b50\u8fdb\u7a0b\u8fd0\u884c\u7684\u51fd\u6570 args \u6307\u5b9a\u4f20\u9012\u7684\u53c2\u6570 , \u662f\u5143\u7ec4\u7c7b\u578b \u542f\u52a8\u8fdb\u7a0b\uff1aProcess\u5bf9\u8c61.start() \u83b7\u53d6\u8fdb\u7a0b\u4fe1\u606f os.getpid() \u83b7\u53d6\u5f53\u524d\u8fdb\u7a0bid\u53f7 os.getppid() \u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0bid\u53f7 multiprocessing.current_process().name \u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b\u540d\u79f0 \u7236\u5b50\u8fdb\u7a0b\u7684\u5148\u540e\u987a\u5e8f \u9ed8\u8ba4 \u7236\u8fdb\u7a0b\u7684\u7ed3\u675f\u4e0d\u80fd\u5f71\u54cd\u5b50\u7ebf\u7a0b \u8ba9\u7236\u8fdb\u7a0b\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\u518d\u6267\u884c\u7236\u8fdb\u7a0b p.join() \u963b\u585e\u5f53\u524d\u8fdb\u7a0b\uff0c\u76f4\u5230\u8c03\u7528join\u65b9\u6cd5\u7684\u90a3\u4e2a\u8fdb\u7a0b\u6267\u884c\u5b8c\uff0c\u518d\u7ee7\u7eed\u6267\u884c\u5f53\u524d\u8fdb\u7a0b\u3002 \u5168\u5c40\u53d8\u91cf\u5728\u8fc7\u4e2a\u8fdb\u7a0b\u4e2d\u4e0d\u80fd\u5171\u4eab \u6ce8\u610f: \u5728\u5b50\u7ebf\u7a0b\u4e2d\u4fee\u6539\u5168\u5c40\u53d8\u91cf\u65f6\u5bf9\u7236\u8fdb\u7a0b\u4e2d\u7684\u5168\u5c40\u53d8\u91cf\u6ca1\u6709\u5f71\u54cd \u793a\u4f8b\u4ee3\u7801 ```python import time from multiprocessing import Process def run1(name): while 1: print(\"%s is a good man\"%name) time.sleep(1) def run2(): while 1: print(\"lucky is a nice man\") time.sleep(1) if name == \" main \": # \u7a0b\u5e8f\u542f\u52a8\u65f6\u7684\u8fdb\u7a0b\u79f0\u4e3a\u4e3b\u8fdb\u7a0b(\u7236\u8fdb\u7a0b) # \u521b\u5efa\u8fdb\u7a0b\u5e76\u542f\u52a8 p = Process(target=run1, args=(\"lucky\",)) p.start() # \u4e3b\u8fdb\u7a0b\u6267\u884crun2()\u51fd\u6570 run2() ``` \u4e3b\u8fdb\u7a0b\u8d1f\u8d23\u8c03\u5ea6 \u4e3b\u8fdb\u7a0b\u4e3b\u8981\u505a\u7684\u662f\u8c03\u5ea6\u76f8\u5173\u7684\u5de5\u4f5c\uff0c\u4e00\u822c\u4e0d\u8d1f\u8d23\u5177\u4f53\u4e1a\u52a1\u903b\u8f91 ```python import time from multiprocessing import Process def run1(): for i in range(7): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if name == \" main \": t1 = time.time() # \u521b\u5efa\u4e24\u4e2a\u8fdb\u7a0b\u5206\u522b\u6267\u884crun1\u3001run2 p1 = Process(target=run1) p2 = Process(target=run2, args=(\"lucky\", \"cool\")) # \u542f\u52a8\u4e24\u4e2a\u8fdb\u7a0b p1.start() p2.start() # \u67e5\u770b\u8017\u65f6 t2 = time.time() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` \u7236\u5b50\u8fdb\u7a0b\u7684\u5148\u540e\u987a\u5e8f \u4e3b\u8fdb\u7a0b\u7684\u7ed3\u675f\u4e0d\u80fd\u5f71\u54cd\u5b50\u8fdb\u7a0b\uff0c\u6240\u4ee5\u53ef\u4ee5\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\u518d\u7ed3\u675f\u4e3b\u8fdb\u7a0b\uff0c\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\uff0c\u624d\u80fd\u7ee7\u7eed\u8fd0\u884c\u4e3b\u8fdb\u7a0b p.join() \u963b\u585e\u5f53\u524d\u8fdb\u7a0b\uff0c\u76f4\u5230\u8c03\u7528join\u65b9\u6cd5\u7684\u90a3\u4e2a\u8fdb\u7a0b\u6267\u884c\u5b8c\uff0c\u518d\u7ee7\u7eed\u6267\u884c\u5f53\u524d\u8fdb\u7a0b\u3002 ```python import time from multiprocessing import Process def run1(): for i in range(7): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if name == \" main \": t1 = time.time() p1 = Process(target=run1) p2 = Process(target=run2, args=(\"lucky\", \"cool\")) p1.start() p2.start() # \u4e3b\u8fdb\u7a0b\u7684\u7ed3\u675f\u4e0d\u80fd\u5f71\u54cd\u5b50\u8fdb\u7a0b\uff0c\u6240\u4ee5\u53ef\u4ee5\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\u518d\u7ed3\u675f\u4e3b\u8fdb\u7a0b # \u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\uff0c\u624d\u80fd\u7ee7\u7eed\u8fd0\u884c\u4e3b\u8fdb\u7a0b p1.join() p2.join() t2 = time.time() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` 3\u3001\u5168\u5c40\u53d8\u91cf\u5728\u591a\u4e2a\u5b50\u8fdb\u7a0b\u4e2d\u4e0d\u80fd\u5171\u4eab \u539f\u56e0: \u200b \u5728\u521b\u5efa\u5b50\u8fdb\u7a0b\u65f6\u5bf9\u5168\u5c40\u53d8\u91cf\u505a\u4e86\u4e00\u4e2a\u5907\u4efd,\u7236\u8fdb\u7a0b\u4e2dnum\u53d8\u91cf\u4e0e\u5b50\u7ebf\u7a0b\u4e2d\u7684num\u4e0d\u662f\u4e00\u4e2a\u53d8\u91cf from multiprocessing import Process #\u5168\u5c40\u53d8\u91cf\u5728\u8fdb\u7a0b\u4e2d \u4e0d\u80fd\u5171\u4eab num = 10 def run(): print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u5f00\u59cb\") global num num+=1 print(num) print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\") if __name__==\"__main__\": p = Process(target=run) p.start() p.join() print(num) \u5c1d\u8bd5\u5217\u8868\u662f\u5426\u80fd\u5171\u4eab from multiprocessing import Process #\u5168\u5c40\u53d8\u91cf\u5728\u8fdb\u7a0b\u4e2d \u4e0d\u80fd\u5171\u4eab mylist = [] def run(): print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u5f00\u59cb\") global mylist mylist.append(1) mylist.append(2) mylist.append(3) print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\") if __name__==\"__main__\": p = Process(target=run) p.start() p.join() print(mylist) 4\u3001\u542f\u52a8\u5927\u91cf\u5b50\u8fdb\u7a0b \u83b7\u53d6CPU\u6838\u5fc3\u6570 print('CPU number:' + str(multiprocessing.cpu_count())) \u5bfc\u5165 from multiprocesssing import Pool \u5f00\u542f\u5e76\u53d1\u6570 pp = Pool([\u53c2\u6570]) #\u5f00\u542f\u5e76\u53d1\u6570 \u9ed8\u8ba4\u662f\u4f60\u7684\u6838\u5fc3\u6570 \u521b\u5efa\u5b50\u8fdb\u7a0b,\u5e76\u653e\u5165\u8fdb\u7a0b\u6c60\u7ba1\u7406 apply_async\u4e3a\u975e\u963b\u585e\u6a21\u5f0f(\u5e76\u53d1\u6267\u884c) pp.apply_async(run,args=(i,)) #args\u53c2\u6570 \u53ef\u4ee5\u4e3a\u5143\u7ec4 \u6216\u8005\u662f\u5217\u8868[] \u5173\u95ed\u8fdb\u7a0b\u6c60 pp.close()\u5173\u95ed\u8fdb\u7a0b\u6c60 join() \u5728\u8c03\u7528join\u4e4b\u524d\u5fc5\u987b\u5148\u8c03\u7528close,\u8c03\u7528close\u4e4b\u540e\u5c31\u4e0d\u80fd\u518d\u7ee7\u7eed\u6dfb\u52a0\u65b0\u7684\u8fdb\u7a0b\u4e86 pp.join() \u8fdb\u7a0b\u6c60\u5bf9\u8c61\u8c03\u7528join\uff0c\u4f1a\u7b49\u5f85\u8fdb\u7a0b\u6c60\u4e2d\u6240\u6709\u7684\u5b50\u8fdb\u7a0b\u7ed3\u675f\u5b8c\u6bd5\u518d\u53bb\u6267\u884c\u7236\u8fdb\u7a0b \u5b9e\u4f8b ```python # Pool\u7c7b\uff1a\u8fdb\u7a0b\u6c60\u7c7b from multiprocessing import Pool import time import random import multiprocessing def run(index): print('CPU number:' + str(multiprocessing.cpu_count())) print(\"\u5b50\u8fdb\u7a0b %d \u542f\u52a8\"%(index)) t1 = time.time() time.sleep(random.random()* 5+2) t2 = time.time() print(\"\u5b50\u8fdb\u7a0b %d \u7ed3\u675f\uff0c\u8017\u65f6\uff1a%.2f\" % (index, t2-t1)) if name == \" main \": print(\"\u542f\u52a8\u4e3b\u8fdb\u7a0b\u2026\u2026\") # \u521b\u5efa\u8fdb\u7a0b\u6c60\u5bf9\u8c61 # \u7531\u4e8epool\u7684\u9ed8\u8ba4\u503c\u4e3aCPU\u7684\u6838\u5fc3\u6570\uff0c\u5047\u8bbe\u67094\u6838\u5fc3\uff0c\u81f3\u5c11\u9700\u89815\u4e2a\u5b50\u8fdb\u7a0b\u624d\u80fd\u770b\u5230\u6548\u679c # Pool()\u4e2d\u7684\u503c\u8868\u793a\u53ef\u4ee5\u540c\u65f6\u6267\u884c\u8fdb\u7a0b\u7684\u6570\u91cf pool = Pool(2) for i in range(1, 7): # \u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u5e76\u5c06\u5b50\u8fdb\u7a0b\u653e\u5230\u8fdb\u7a0b\u6c60\u4e2d\u7edf\u4e00\u7ba1\u7406 pool.apply_async(run, args=(i,)) # \u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f # \u5173\u95ed\u8fdb\u7a0b\u6c60\uff1a\u5728\u5173\u95ed\u540e\u5c31\u4e0d\u80fd\u518d\u5411\u8fdb\u7a0b\u6c60\u4e2d\u6dfb\u52a0\u8fdb\u7a0b\u4e86 # \u8fdb\u7a0b\u6c60\u5bf9\u8c61\u5728\u8c03\u7528join\u4e4b\u524d\u5fc5\u987b\u5148\u5173\u95ed\u8fdb\u7a0b\u6c60 pool.close() #pool\u5bf9\u8c61\u8c03\u7528join\uff0c\u4e3b\u8fdb\u7a0b\u4f1a\u7b49\u5f85\u8fdb\u7a0b\u6c60\u4e2d\u7684\u6240\u6709\u5b50\u8fdb\u7a0b\u7ed3\u675f\u624d\u4f1a\u7ee7\u7eed\u6267\u884c\u4e3b\u8fdb\u7a0b pool.join() print(\"\u7ed3\u675f\u4e3b\u8fdb\u7a0b\u2026\u2026\") ``` get\u65b9\u6cd5\uff1a\u83b7\u53d6\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c ```python from multiprocessing import Lock, Pool import time def function(index): print('Start process: ', index) time.sleep(2) print('End process', index) return index if name == ' main ': pool = Pool(processes=3) for i in range(4): result = pool.apply_async(function, (i,)) print(result.get()) #\u83b7\u53d6\u6bcf\u4e2a \u5b50\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c print(\"Started processes\") pool.close() pool.join() print(\"Subprocess done.\") ``` \u6ce8\u610f\uff1a\u8fd9\u6837\u6765\u83b7\u53d6\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c \u90a3\u4e48\u5c31\u4f1a\u53d8\u6210\u5355\u8fdb\u7a0b 5\u3001map\u65b9\u6cd5 \u6982\u8ff0 \u5982\u679c\u4f60\u73b0\u5728\u6709\u4e00\u5806\u6570\u636e\u8981\u5904\u7406\uff0c\u6bcf\u4e00\u9879\u90fd\u9700\u8981\u7ecf\u8fc7\u4e00\u4e2a\u65b9\u6cd5\u6765\u5904\u7406\uff0c\u90a3\u4e48map\u975e\u5e38\u9002\u5408 \u6bd4\u5982\u73b0\u5728\u4f60\u6709\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u4e86\u6240\u6709\u7684URL\uff0c\u800c\u73b0\u5728\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u65b9\u6cd5\u7528\u6765\u6293\u53d6\u6bcf\u4e2aURL\u5185\u5bb9\u5e76\u89e3\u6790\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u5728map\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u65b9\u6cd5\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165URL\u6570\u7ec4\u3002 \u6982\u8ff0 ```python from multiprocessing import Pool import requests from requests.exceptions import ConnectionError def scrape(url): try: print(requests.get(url)) except ConnectionError: print('Error Occured ', url) finally: print('URL', url, ' Scraped') if name == ' main ': pool = Pool(processes=3) urls = [ 'https://www.baidu.com', 'http://www.meituan.com/', 'http://blog.csdn.net/', 'http://xxxyxxx.net' ] pool.map(scrape, urls) ``` \u5728\u8fd9\u91cc\u521d\u59cb\u5316\u4e00\u4e2aPool\uff0c\u6307\u5b9a\u8fdb\u7a0b\u6570\u4e3a3\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u90a3\u4e48\u4f1a\u81ea\u52a8\u6839\u636eCPU\u5185\u6838\u6765\u5206\u914d\u8fdb\u7a0b\u6570\u3002 \u7136\u540e\u6709\u4e00\u4e2a\u94fe\u63a5\u5217\u8868\uff0cmap\u51fd\u6570\u53ef\u4ee5\u904d\u5386\u6bcf\u4e2aURL\uff0c\u7136\u540e\u5bf9\u5176\u5206\u522b\u6267\u884cscrape\u65b9\u6cd5\u3002 6\u3001\u5355\u8fdb\u7a0b\u4e0e\u591a\u8fdb\u7a0b\u590d\u5236\u6587\u4ef6\u5bf9\u6bd4 \u5355\u8fdb\u7a0b\u590d\u5236\u6587\u4ef6 ```python import time def copy_file(path, toPath): with open(path, \"rb\") as fp1: with open(toPath, \"wb\") as fp2: while 1: info = fp1.read(1024) if not info: break else: fp2.write(info) fp2.flush() if name == \" main \": t1 = time.time() for i in range(1, 5): path = r\"/Users/lucky/Desktop/file/%d.mp4\"%i toPath = r\"/Users/lucky/Desktop/file2/%d.mp4\"%i copy_file(path, toPath) t2 = time.time() print(\"\u5355\u8fdb\u7a0b\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` \u591a\u8fdb\u7a0b\u590d\u5236\u6587\u4ef6 ```python import time from multiprocessing import Pool import os def copy_file(path, toPath): with open(path, \"rb\") as fp1: with open(toPath, \"wb\") as fp2: while 1: info = fp1.read(1024) if not info: break else: fp2.write(info) fp2.flush() if name == \" main \": t1 = time.time() path = r\"/Users/xialigang/Desktop/\u89c6\u9891\" dstPath = r\"/Users/xialigang/Desktop/1\u89c6\u9891\" fileList = os.listdir(path) pool = Pool() for i in fileList: newPath1 = os.path.join(path, i) newPath2 = os.path.join(dstPath, i) pool.apply_async(copy_file, args=(newPath1, newPath2)) pool.close() pool.join() t2 = time.time() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` 7\u3001\u8fdb\u7a0b\u95f4\u901a\u4fe1 \u961f\u5217\u5171\u4eab \u5bfc\u5165 from multiprocessing import Queue \u4f7f\u7528 que = Queue() #\u521b\u5efa\u961f\u5217 que.put(\u6570\u636e) #\u538b\u5165\u6570\u636e que.get() #\u83b7\u53d6\u6570\u636e \u961f\u5217\u5e38\u7528\u51fd\u6570 Queue.empty() \u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u8fd4\u56deTrue, \u53cd\u4e4bFalse Queue.full() \u5982\u679c\u961f\u5217\u6ee1\u4e86\uff0c\u8fd4\u56deTrue,\u53cd\u4e4bFalse Queue.get([block[, timeout]]) \u83b7\u53d6\u961f\u5217\uff0ctimeout\u7b49\u5f85\u65f6\u95f4 Queue.get_nowait() \u76f8\u5f53Queue.get(False) Queue.put(item) \u963b\u585e\u5f0f\u5199\u5165\u961f\u5217\uff0ctimeout\u7b49\u5f85\u65f6\u95f4 Queue.put_nowait(item) \u76f8\u5f53Queue.put(item, False) \u7279\u70b9\uff1a\u5148\u8fdb\u5148\u51fa \u6ce8\u610f\uff1a get\u65b9\u6cd5\u6709\u4e24\u4e2a\u53c2\u6570\uff0cblocked\u548ctimeout\uff0c\u610f\u601d\u4e3a\u963b\u585e\u548c\u8d85\u65f6\u65f6\u95f4\u3002\u9ed8\u8ba4blocked\u662ftrue\uff0c\u5373\u963b\u585e\u5f0f\u3002 \u5f53\u4e00\u4e2a\u961f\u5217\u4e3a\u7a7a\u7684\u65f6\u5019\u5982\u679c\u518d\u7528get\u53d6\u5219\u4f1a\u963b\u585e\uff0c\u6240\u4ee5\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u5427blocked\u8bbe\u7f6e\u4e3afalse\uff0c\u5373\u975e\u963b\u585e\u5f0f\uff0c\u5b9e\u9645\u4e0a\u5b83\u5c31\u4f1a\u8c03\u7528get_nowait()\u65b9\u6cd5\uff0c\u6b64\u65f6\u8fd8\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u5728\u8fd9\u4e48\u957f\u7684\u65f6\u95f4\u5185\u8fd8\u6ca1\u6709\u53d6\u5230\u961f\u5217\u5143\u7d20\uff0c\u90a3\u5c31\u629b\u51faQueue.Empty\u5f02\u5e38\u3002 \u5f53\u4e00\u4e2a\u961f\u5217\u4e3a\u6ee1\u7684\u65f6\u5019\u5982\u679c\u518d\u7528put\u653e\u5219\u4f1a\u963b\u585e\uff0c\u6240\u4ee5\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u5427blocked\u8bbe\u7f6e\u4e3afalse\uff0c\u5373\u975e\u963b\u585e\u5f0f\uff0c\u5b9e\u9645\u4e0a\u5b83\u5c31\u4f1a\u8c03\u7528put_nowait()\u65b9\u6cd5\uff0c\u6b64\u65f6\u8fd8\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u5728\u8fd9\u4e48\u957f\u7684\u65f6\u95f4\u5185\u8fd8\u6ca1\u6709\u653e\u8fdb\u53bb\u5143\u7d20\uff0c\u90a3\u5c31\u629b\u51faQueue.Full\u5f02\u5e38\u3002 \u53e6\u5916\u961f\u5217\u4e2d\u5e38\u7528\u7684\u65b9\u6cd5 \u961f\u5217\u7684\u5927\u5c0f Queue.qsize() \u8fd4\u56de\u961f\u5217\u7684\u5927\u5c0f \uff0c\u4e0d\u8fc7\u5728 Mac OS \u4e0a\u6ca1\u6cd5\u8fd0\u884c\u3002 \u5b9e\u4f8b ```python import multiprocessing queque = multiprocessing.Queue() #\u521b\u5efa \u961f\u5217 #\u5982\u679c\u5728\u5b50\u8fdb\u7a0b \u548c\u4e3b\u8fdb\u7a0b \u4e4b\u95f4 \u90fd\u538b\u5165\u4e86\u6570\u636e \u90a3\u4e48\u5728\u4e3b\u8fdb\u7a0b \u548c \u5b50\u8fdb\u7a0b \u83b7\u53d6\u7684\u5c31\u662f \u5bf9\u65b9\u7684\u6570\u636e def fun(myque): # print(id(myque)) #\u83b7\u53d6\u5f53\u524d\u7684\u961f\u5217\u7684\u5b58\u50a8\u5730\u5740 \u4f9d\u7136\u662f\u62f7\u8d1d\u4e86\u4e00\u4efd myque.put(['a','b','c']) #\u5728\u5b50\u8fdb\u7a0b\u91cc\u9762\u538b\u5165\u6570\u636e # print(\"\u5b50\u8fdb\u7a0b\u83b7\u53d6\",myque.get())#\u83b7\u53d6\u961f\u5217\u91cc\u9762\u7684\u503c if name ==' main ': # print(id(queque)) queque.put([1,2,3,4,5]) #\u5c06\u5217\u8868\u538b\u5165\u961f\u5217 \u5982\u679c\u4e3b\u8fdb\u7a0b\u4e5f\u538b\u5165\u4e86\u6570\u636e \u90a3\u4e48\u5728\u4e3b\u8fdb\u7a0b\u53d6\u7684\u5c31\u662f\u5728\u4e3b\u8fdb\u7a0b\u538b\u5165\u7684\u6570\u636e \u800c\u4e0d\u662f\u5b50\u8fdb\u7a0b\u7684 p = multiprocessing.Process(target=fun,args=(queque,)) p.start() p.join() print(\"\u4e3b\u8fdb\u7a0b\u83b7\u53d6\",queque.get())#\u5728\u4e3b\u8fdb\u7a0b\u8fdb\u884c\u83b7\u53d6 print(\"\u4e3b\u8fdb\u7a0b\u83b7\u53d6\",queque.get())#\u5728\u4e3b\u8fdb\u7a0b\u8fdb\u884c\u83b7\u53d6 # print(\"\u4e3b\u8fdb\u7a0b\u83b7\u53d6\",queque.get(block=True, timeout=1))#\u5728\u4e3b\u8fdb\u7a0b\u8fdb\u884c\u83b7\u53d6 ``` \u5b57\u5178\u5171\u4eab \u5bfc\u5165 import multiprocess \u6982\u8ff0 Manager\u662f\u4e00\u4e2a\u8fdb\u7a0b\u95f4\u9ad8\u7ea7\u901a\u4fe1\u7684\u65b9\u6cd5 \u652f\u6301Python\u7684\u5b57\u5178\u548c\u5217\u8868\u7684\u6570\u636e\u7c7b\u578b \u521b\u5efa\u5b57\u5178 myDict = multiprocess.Manager().dict() \u5b9e\u4f8b ```python import multiprocessing def fun(mydict): # print(mylist) mydict['x'] = 'x' mydict['y'] = 'y' mydict['z'] = 'z' if name ==' main ': # Manager\u662f\u4e00\u79cd\u8f83\u4e3a\u9ad8\u7ea7\u7684\u591a\u8fdb\u7a0b\u901a\u4fe1\u65b9\u5f0f\uff0c\u5b83\u80fd\u652f\u6301Python\u652f\u6301\u7684\u7684\u4efb\u4f55\u6570\u636e\u7ed3\u6784\u3002 mydict = multiprocessing.Manager().dict() p = multiprocessing.Process(target=fun,args=(mydict,)) p.start() p.join() print(mydict) ``` \u5217\u8868\u5171\u4eab \u5bfc\u5165 import multiprocess \u521b\u5efa\u5217\u8868 myDict = multiprocess.Manager().list() \u5b9e\u4f8b(\u5b57\u5178\u4e0e\u5217\u8868\u5171\u4eab) ```python import multiprocessing def fun(List): # print(mylist) List.append('x') List.append('y') List.append('z') if name ==' main ': # Manager\u662f\u4e00\u79cd\u8f83\u4e3a\u9ad8\u7ea7\u7684\u591a\u8fdb\u7a0b\u901a\u4fe1\u65b9\u5f0f\uff0c\u5b83\u80fd\u652f\u6301Python\u652f\u6301\u7684\u7684\u4efb\u4f55\u6570\u636e\u7ed3\u6784\u3002 List = multiprocessing.Manager().list() p = multiprocessing.Process(target=fun,args=(List,)) p.start() p.join() print(List) ``` \u6ce8\u610f \u8fdb\u7a0b\u540d.terminate() \u5f3a\u884c\u7ec8\u6b62\u5b50\u8fdb\u7a0b deamon \u5728\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e2a\u5c5e\u6027\uff0c\u53eb\u505adeamon\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u7a0b\u90fd\u53ef\u4ee5\u5355\u72ec\u8bbe\u7f6e\u5b83\u7684\u5c5e\u6027\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3aTrue\uff0c\u5f53\u7236\u8fdb\u7a0b\u7ed3\u675f\u540e\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u81ea\u52a8\u88ab\u7ec8\u6b62\u3002 \u8fdb\u7a0b.daemon = True \u8bbe\u7f6e\u5728start()\u65b9\u6cd5\u4e4b\u524d python import multiprocessing import time def fun(): time.sleep(100) if __name__=='__main__': p = multiprocessing.Process(target=fun) p.daemon = True p.start() print('over') \u8fdb\u7a0b\u540d.terminate() \u5f3a\u884c\u7ec8\u6b62\u5b50\u8fdb\u7a0b Python import multiprocessing import time def fun(): time.sleep(100) if __name__=='__main__': p = multiprocessing.Process(target=fun) p.start() p.terminate() p.join() print('over') 8\u3001\u8fdb\u7a0b\u5b9e\u73b0\u751f\u4ea7\u8005\u6d88\u8d39\u8005 \u751f\u4ea7\u8005\u6d88\u8d39\u8005\u6a21\u578b\u63cf\u8ff0\uff1a \u751f\u4ea7\u8005\u662f\u6307\u751f\u4ea7\u6570\u636e\u7684\u4efb\u52a1\uff0c\u6d88\u8d39\u8005\u662f\u6307\u6d88\u8d39\u6570\u636e\u7684\u4efb\u52a1\u3002 \u5f53\u751f\u4ea7\u8005\u7684\u751f\u4ea7\u80fd\u529b\u8fdc\u5927\u4e8e\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u80fd\u529b\uff0c\u751f\u4ea7\u8005\u5c31\u9700\u8981\u7b49\u6d88\u8d39\u8005\u6d88\u8d39\u5b8c\u624d\u80fd\u7ee7\u7eed\u751f\u4ea7\u65b0\u7684\u6570\u636e\uff0c\u540c\u7406\uff0c\u5982\u679c\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u80fd\u529b\u8fdc\u5927\u4e8e\u751f\u4ea7\u8005\u7684\u751f\u4ea7\u80fd\u529b\uff0c\u6d88\u8d39\u8005\u5c31\u9700\u8981\u7b49\u751f\u4ea7\u8005\u751f\u4ea7\u5b8c\u6570\u636e\u624d\u80fd\u7ee7\u7eed\u6d88\u8d39\uff0c\u8fd9\u79cd\u7b49\u5f85\u4f1a\u9020\u6210\u6548\u7387\u7684\u4f4e\u4e0b\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u95ee\u9898\u5c31\u5f15\u5165\u4e86\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u6a21\u578b\u3002 \u751f\u4ea7\u8005/\u6d88\u8d39\u8005\u95ee\u9898\u53ef\u4ee5\u63cf\u8ff0\u4e3a\uff1a\u4e24\u4e2a\u6216\u8005\u66f4\u591a\u7684\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\u5171\u4eab\u540c\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u5176\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\u4f5c\u4e3a\u201c\u751f\u4ea7\u8005\u201d\u4f1a\u4e0d\u65ad\u5730\u5411\u7f13\u51b2\u533a\u4e2d\u6dfb\u52a0\u6570\u636e\uff0c\u53e6\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\u4f5c\u4e3a\u201c\u6d88\u8d39\u8005\u201d\u4ece\u7f13\u51b2\u533a\u4e2d\u53d6\u8d70\u6570\u636e\u3002 \u4ee3\u7801 ```python from multiprocessing import Process from multiprocessing import Queue import time def product(q): print(\"\u542f\u52a8\u751f\u4ea7\u5b50\u8fdb\u7a0b\u2026\u2026\") for data in [\"good\", \"nice\", \"cool\", \"handsome\"]: time.sleep(2) print(\"\u751f\u4ea7\u51fa\uff1a%s\"%data) # \u5c06\u751f\u4ea7\u7684\u6570\u636e\u5199\u5165\u961f\u5217 q.put(data) print(\"\u7ed3\u675f\u751f\u4ea7\u5b50\u8fdb\u7a0b\u2026\u2026\") def t(q): print(\"\u542f\u52a8\u6d88\u8d39\u5b50\u8fdb\u7a0b\u2026\u2026\") while 1: print(\"\u7b49\u5f85\u751f\u4ea7\u8005\u751f\u4ea7\u6570\u636e\") # \u83b7\u53d6\u751f\u4ea7\u8005\u751f\u4ea7\u7684\u6570\u636e\uff0c\u5982\u679c\u961f\u5217\u4e2d\u6ca1\u6709\u6570\u636e\u4f1a\u963b\u585e\uff0c\u7b49\u5f85\u961f\u5217\u4e2d\u6709\u6570\u636e\u518d\u83b7\u53d6 value = q.get() print(\"\u6d88\u8d39\u8005\u6d88\u8d39\u4e86%s\u6570\u636e\"%(value)) print(\"\u7ed3\u675f\u6d88\u8d39\u5b50\u8fdb\u7a0b\u2026\u2026\") if name == \" main \": q = Queue() p1 = Process(target=product, args=(q,)) p2 = Process(target=customer, args=(q,)) p1.start() p2.start() p1.join() # p2\u5b50\u8fdb\u7a0b\u91cc\u9762\u662f\u6b7b\u5faa\u73af\uff0c\u65e0\u6cd5\u7b49\u5f85\u5b83\u7684\u7ed3\u675f # p2.join() # \u5f3a\u5236\u7ed3\u675f\u5b50\u8fdb\u7a0b p2.terminate() print(\"\u4e3b\u8fdb\u7a0b\u7ed3\u675f\") ``` 9\u3001\u6848\u4f8b\uff08\u6293\u53d6\u6597\u56fe\uff09 from multiprocessing import Process,Queue from concurrent.futures import ThreadPoolExecutor from lxml import etree import time import requests headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.84 Safari/537.36\" } def get_img_src(url, q): \"\"\" \u8fdb\u7a0b1: \u8d1f\u8d23\u63d0\u53d6\u9875\u9762\u4e2d\u6240\u6709\u7684img\u7684\u4e0b\u8f7d\u5730\u5740 \u5c06\u56fe\u7247\u7684\u4e0b\u8f7d\u5730\u5740\u901a\u8fc7\u961f\u5217. \u4f20\u8f93\u7ed9\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u8fdb\u884c\u4e0b\u8f7d \"\"\" resp = requests.get(url, headers=headers) tree = etree.HTML(resp.text) srcs = tree.xpath(\"//li[@class='list-group-item']//img[@referrerpolicy='no-referrer']/@data-original\") for src in srcs: q.put(src.strip()) resp.close() def download_img(q): \"\"\" \u8fdb\u7a0b2: \u5c06\u56fe\u7247\u7684\u4e0b\u8f7d\u5730\u5740\u4ece\u961f\u5217\u4e2d\u63d0\u53d6\u51fa\u6765. \u8fdb\u884c\u4e0b\u8f7d. \"\"\" with ThreadPoolExecutor(20) as t: while 1: try: s = q.get(timeout=20) t.submit(donwload_one, s) except Exception as e: print(e) break def donwload_one(s): # \u5355\u7eaf\u7684\u4e0b\u8f7d\u529f\u80fd resp = requests.get(s, headers=headers) file_name = s.split(\"/\")[-1] # \u8bf7\u63d0\u524d\u521b\u5efa\u597dimg\u6587\u4ef6\u5939 with open(f\"img/{file_name}\", mode=\"wb\") as f: f.write(resp.content) print(\"\u4e00\u5f20\u56fe\u7247\u4e0b\u8f7d\u5b8c\u6bd5\", file_name) resp.close() if __name__ == '__main__': t1 = time.time() q = Queue() # \u4e24\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u4f7f\u7528\u540c\u4e00\u4e2a\u961f\u5217. \u5426\u5219\u6570\u636e\u4f20\u8f93\u4e0d\u4e86 p_list = [] for i in range(1, 11): url = f\"https://www.pkdoutu.com/photo/list/?page={i}\" p = Process(target=get_img_src, args=(url, q)) p_list.append(p) for p in p_list: p.start() p2 = Process(target=download_img, args=(q,)) p2.start() for p in p_list: p.join() p2.join() print((time.time()-t1)/60) # 0.49572664896647134","title":"\u516b\u3001\u591a\u8fdb\u7a0b"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#_1","text":"","title":"\u516b\u3001\u591a\u8fdb\u7a0b"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#_2","text":"\u6982\u5ff5 \u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u6bd4\u5982Mac OS X\uff0cUNIX\uff0cLinux\uff0cWindows\u7b49\uff0c\u90fd\u662f\u652f\u6301\u201c\u591a\u4efb\u52a1\u201d\u7684\u64cd\u4f5c\u7cfb\u7edf \u4ec0\u4e48\u53eb\u591a\u4efb\u52a1\uff1f \u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u4efb\u52a1 \u5355\u6838CPU\u5b9e\u73b0\u591a\u4efb\u52a1\u539f\u7406 \u64cd\u4f5c\u7cfb\u7edf\u8f6e\u6d41\u8ba9\u5404\u4e2a\u4efb\u52a1\u4ea4\u66ff\u6267\u884c\uff0cQQ\u6267\u884c2us\uff08\u5fae\u79d2\uff09\uff0c\u5207\u6362\u5230\u5fae\u4fe1\uff0c\u5728\u6267\u884c2us\uff0c\u518d\u5207\u6362\u5230\u964c\u964c\uff0c\u6267\u884c2us\u2026\u2026\u3002\u8868\u9762\u662f\u770b\uff0c\u6bcf\u4e2a\u4efb\u52a1\u53cd\u590d\u6267\u884c\u4e0b\u53bb\uff0c\u4f46\u662fCPU\u8c03\u5ea6\u6267\u884c\u901f\u5ea6\u592a\u5feb\u4e86\uff0c\u5bfc\u81f4\u6211\u4eec\u611f\u89c9\u5c31\u50cf\u6240\u6709\u4efb\u52a1\u90fd\u5728\u540c\u65f6\u6267\u884c\u4e00\u6837 \u591a\u6838CPU\u5b9e\u73b0\u591a\u4efb\u52a1\u539f\u7406 \u200b \u771f\u6b63\u7684\u79c9\u6027\u6267\u884c\u591a\u4efb\u52a1\u53ea\u80fd\u5728\u591a\u6838CPU\u4e0a\u5b9e\u73b0\uff0c\u4f46\u662f\u7531\u4e8e\u4efb\u52a1\u6570\u91cf\u8fdc\u8fdc\u591a\u4e8eCPU\u7684\u6838\u5fc3\u6570\u91cf\uff0c\u6240\u4ee5\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e5f\u4f1a\u81ea\u52a8\u628a\u5f88\u591a\u4efb\u52a1\u8f6e\u6d41\u8c03\u5ea6\u5230\u6bcf\u4e2a\u6838\u5fc3\u4e0a\u6267\u884c \u5e76\u53d1\u4e0e\u5e76\u884c \u5e76\u53d1 CPU\u8c03\u5ea6\u6267\u884c\u901f\u5ea6\u592a\u5feb\u4e86,\u770b\u4e0a\u53bb\u4e00\u8d77\u6267\u884c\uff0c\u4efb\u52a1\u6570\u591a\u4e8eCPU\u6838\u5fc3\u6570 \u5e76\u884c \u771f\u6b63\u4e00\u8d77\u6267\u884c\uff0c\u4efb\u52a1\u6570\u5c0f\u4e8e\u7b49\u4e8eCPU\u6838\u5fc3\u6570 \u5e76\u53d1\u662f\u903b\u8f91\u4e0a\u7684\u540c\u65f6\u53d1\u751f\uff0c\u5e76\u884c\u66f4\u591a\u662f\u4fa7\u91cd\u4e8e\u7269\u7406\u4e0a\u7684\u540c\u65f6\u53d1\u751f\u3002 \u5b9e\u73b0\u591a\u4efb\u52a1\u7684\u65b9\u5f0f \u591a\u8fdb\u7a0b\u6a21\u5f0f \u542f\u52a8\u591a\u4e2a\u8fdb\u7a0b\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u867d\u7136\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4f46\u662f\u591a\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u4e00\u8d77\u6267\u884c\u591a\u4e2a\u4efb\u52a1 \u591a\u7ebf\u7a0b\u6a21\u5f0f \u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5728\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u90e8\u542f\u52a8\u591a\u4e2a\u7ebf\u7a0b\uff0c\u8fd9\u6837\u591a\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u4e00\u8d77\u6267\u884c\u591a\u4e2a\u4efb\u52a1 \u591a\u8fdb\u7a0b+\u591a\u7ebf\u7a0b \u542f\u52a8\u591a\u4e2a\u8fdb\u7a0b\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u518d\u542f\u52a8\u591a\u4e2a\u7ebf\u7a0b \u534f\u7a0b \u591a\u8fdb\u7a0b+\u534f\u7a0b","title":"\u4e00\u3001\u591a\u4efb\u52a1\u539f\u7406"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#_3","text":"","title":"\u4e8c\u3001\u8fdb\u7a0b"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#1","text":"\u4ec0\u4e48\u662f\u8fdb\u7a0b\uff1f \u662f\u8ba1\u7b97\u673a\u4e2d\u7684\u7a0b\u5e8f\u5173\u4e8e\u67d0\u6570\u636e\u96c6\u5408\u4e0a\u7684\u4e00\u6b21\u8fd0\u884c\u6d3b\u52a8\uff0c\u662f\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ed3\u6784\u7684\u57fa\u7840\u3002 \u5bf9\u4e8e\u64cd\u4f5c\u7cfb\u7edf \u4e00\u4e2a\u4efb\u52a1\u5c31\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002\u6bd4\u65b9\u8bf4\u6253\u5f00\u6d4f\u89c8\u5668\u5c31\u662f\u542f\u52a8\u4e00\u4e2a\u6d4f\u89c8\u5668\u7684\u8fdb\u7a0b\uff0c\u5728\u6253\u5f00\u4e00\u4e2a\u8bb0\u4e8b\u672c\u5c31\u542f\u52a8\u4e00\u4e2a\u8bb0\u4e8b\u672c\u8fdb\u7a0b\uff0c\u5982\u679c\u6253\u5f00\u4e24\u4e2a\u8bb0\u4e8b\u672c\u5c31\u542f\u52a8\u4e24\u4e2a\u8bb0\u4e8b\u672c\u8fdb\u7a0b","title":"1\u3001\u6982\u5ff5"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#2","text":"\u5355\u8fdb\u7a0b\u73b0\u8c61 \u9700\u8981\u7b49\u5f85\u4ee3\u7801\u6267\u884c\u5b8c\u540e\u518d\u6267\u884c\u4e0b\u4e00\u6bb5\u4ee3\u7801 ```python import time def run1(): while 1: print(\"lucky is a good man\") time.sleep(1) def run2(): while 1: print(\"lucky is a nice man\") time.sleep(1) if name == \" main \": run1() # \u4e0d\u4f1a\u6267\u884crun2()\u51fd\u6570\uff0c\u53ea\u6709\u4e0a\u9762\u7684run1()\u7ed3\u675f\u624d\u80fd\u6267\u884crun2() run2() ``` \u542f\u52a8\u8fdb\u7a0b\u5b9e\u73b0\u591a\u4efb\u52a1 multiprocessing\u6a21\u5757 \u8de8\u5e73\u53f0\u7684\u591a\u8fdb\u7a0b\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2aProcess\u7c7b\u7528\u6765\u793a\u4f8b\u5316\u4e00\u4e2a\u8fdb\u7a0b\u5bf9\u8c61 Process\u7c7b \u4f5c\u7528\uff1a\u521b\u5efa\u8fdb\u7a0b(\u5b50\u8fdb\u7a0b) __name__ \u8fd9\u662f Windows \u4e0a\u591a\u8fdb\u7a0b\u7684\u5b9e\u73b0\u95ee\u9898\u3002\u5728 Windows \u4e0a\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u81ea\u52a8 import \u542f\u52a8\u5b83\u7684\u8fd9\u4e2a\u6587\u4ef6\uff0c\u800c\u5728 import \u7684\u65f6\u5019\u662f\u4f1a\u6267\u884c\u8fd9\u4e9b\u8bed\u53e5\u7684\u3002\u5982\u679c\u4f60\u8fd9\u4e48\u5199\u7684\u8bdd\u5c31\u4f1a\u65e0\u9650\u9012\u5f52\u521b\u5efa\u5b50\u8fdb\u7a0b\u62a5\u9519\u3002\u6240\u4ee5\u5fc5\u987b\u628a\u521b\u5efa\u5b50\u8fdb\u7a0b\u7684\u90e8\u5206\u7528\u90a3\u4e2a if \u5224\u65ad\u4fdd\u62a4\u8d77\u6765\uff0cimport \u7684\u65f6\u5019 __name__ \u4e0d\u662f __main__ \uff0c\u5c31\u4e0d\u4f1a\u9012\u5f52\u8fd0\u884c\u4e86\u3002 \u53c2\u6570 \u8bf4\u660e target \u6307\u5b9a\u8fdb\u7a0b\u6267\u884c\u7684\u4efb\u52a1 args \u7ed9\u8fdb\u7a0b\u51fd\u6570\u4f20\u9012\u7684\u53c2\u6570\uff0c\u662f\u4e00\u4e2a\u5143\u7ec4 \u6ce8\u610f\uff1a\u6b64\u65f6\u8fdb\u7a0b\u88ab\u521b\u5efa\uff0c\u4f46\u662f\u4e0d\u4f1a\u542f\u52a8\u8fdb\u7a0b\u6267\u884c \u542f\u52a8\u8fdb\u7a0b\u5b9e\u73b0\u591a\u4efb\u52a1 from multiprocessing import Process \u521b\u5efa\u5b50\u8fdb\u7a0b P = Process(target=run,args=(\"nice\",),name='\u5f53\u524d\u8fdb\u7a0b\u540d\u79f0') target\u6307\u5b9a \u5b50\u8fdb\u7a0b\u8fd0\u884c\u7684\u51fd\u6570 args \u6307\u5b9a\u4f20\u9012\u7684\u53c2\u6570 , \u662f\u5143\u7ec4\u7c7b\u578b \u542f\u52a8\u8fdb\u7a0b\uff1aProcess\u5bf9\u8c61.start() \u83b7\u53d6\u8fdb\u7a0b\u4fe1\u606f os.getpid() \u83b7\u53d6\u5f53\u524d\u8fdb\u7a0bid\u53f7 os.getppid() \u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0bid\u53f7 multiprocessing.current_process().name \u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b\u540d\u79f0 \u7236\u5b50\u8fdb\u7a0b\u7684\u5148\u540e\u987a\u5e8f \u9ed8\u8ba4 \u7236\u8fdb\u7a0b\u7684\u7ed3\u675f\u4e0d\u80fd\u5f71\u54cd\u5b50\u7ebf\u7a0b \u8ba9\u7236\u8fdb\u7a0b\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\u518d\u6267\u884c\u7236\u8fdb\u7a0b p.join() \u963b\u585e\u5f53\u524d\u8fdb\u7a0b\uff0c\u76f4\u5230\u8c03\u7528join\u65b9\u6cd5\u7684\u90a3\u4e2a\u8fdb\u7a0b\u6267\u884c\u5b8c\uff0c\u518d\u7ee7\u7eed\u6267\u884c\u5f53\u524d\u8fdb\u7a0b\u3002 \u5168\u5c40\u53d8\u91cf\u5728\u8fc7\u4e2a\u8fdb\u7a0b\u4e2d\u4e0d\u80fd\u5171\u4eab \u6ce8\u610f: \u5728\u5b50\u7ebf\u7a0b\u4e2d\u4fee\u6539\u5168\u5c40\u53d8\u91cf\u65f6\u5bf9\u7236\u8fdb\u7a0b\u4e2d\u7684\u5168\u5c40\u53d8\u91cf\u6ca1\u6709\u5f71\u54cd \u793a\u4f8b\u4ee3\u7801 ```python import time from multiprocessing import Process def run1(name): while 1: print(\"%s is a good man\"%name) time.sleep(1) def run2(): while 1: print(\"lucky is a nice man\") time.sleep(1) if name == \" main \": # \u7a0b\u5e8f\u542f\u52a8\u65f6\u7684\u8fdb\u7a0b\u79f0\u4e3a\u4e3b\u8fdb\u7a0b(\u7236\u8fdb\u7a0b) # \u521b\u5efa\u8fdb\u7a0b\u5e76\u542f\u52a8 p = Process(target=run1, args=(\"lucky\",)) p.start() # \u4e3b\u8fdb\u7a0b\u6267\u884crun2()\u51fd\u6570 run2() ``` \u4e3b\u8fdb\u7a0b\u8d1f\u8d23\u8c03\u5ea6 \u4e3b\u8fdb\u7a0b\u4e3b\u8981\u505a\u7684\u662f\u8c03\u5ea6\u76f8\u5173\u7684\u5de5\u4f5c\uff0c\u4e00\u822c\u4e0d\u8d1f\u8d23\u5177\u4f53\u4e1a\u52a1\u903b\u8f91 ```python import time from multiprocessing import Process def run1(): for i in range(7): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if name == \" main \": t1 = time.time() # \u521b\u5efa\u4e24\u4e2a\u8fdb\u7a0b\u5206\u522b\u6267\u884crun1\u3001run2 p1 = Process(target=run1) p2 = Process(target=run2, args=(\"lucky\", \"cool\")) # \u542f\u52a8\u4e24\u4e2a\u8fdb\u7a0b p1.start() p2.start() # \u67e5\u770b\u8017\u65f6 t2 = time.time() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` \u7236\u5b50\u8fdb\u7a0b\u7684\u5148\u540e\u987a\u5e8f \u4e3b\u8fdb\u7a0b\u7684\u7ed3\u675f\u4e0d\u80fd\u5f71\u54cd\u5b50\u8fdb\u7a0b\uff0c\u6240\u4ee5\u53ef\u4ee5\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\u518d\u7ed3\u675f\u4e3b\u8fdb\u7a0b\uff0c\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\uff0c\u624d\u80fd\u7ee7\u7eed\u8fd0\u884c\u4e3b\u8fdb\u7a0b p.join() \u963b\u585e\u5f53\u524d\u8fdb\u7a0b\uff0c\u76f4\u5230\u8c03\u7528join\u65b9\u6cd5\u7684\u90a3\u4e2a\u8fdb\u7a0b\u6267\u884c\u5b8c\uff0c\u518d\u7ee7\u7eed\u6267\u884c\u5f53\u524d\u8fdb\u7a0b\u3002 ```python import time from multiprocessing import Process def run1(): for i in range(7): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if name == \" main \": t1 = time.time() p1 = Process(target=run1) p2 = Process(target=run2, args=(\"lucky\", \"cool\")) p1.start() p2.start() # \u4e3b\u8fdb\u7a0b\u7684\u7ed3\u675f\u4e0d\u80fd\u5f71\u54cd\u5b50\u8fdb\u7a0b\uff0c\u6240\u4ee5\u53ef\u4ee5\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\u518d\u7ed3\u675f\u4e3b\u8fdb\u7a0b # \u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\uff0c\u624d\u80fd\u7ee7\u7eed\u8fd0\u884c\u4e3b\u8fdb\u7a0b p1.join() p2.join() t2 = time.time() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ```","title":"2\u3001\u4f7f\u7528\u8fdb\u7a0b"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#3","text":"\u539f\u56e0: \u200b \u5728\u521b\u5efa\u5b50\u8fdb\u7a0b\u65f6\u5bf9\u5168\u5c40\u53d8\u91cf\u505a\u4e86\u4e00\u4e2a\u5907\u4efd,\u7236\u8fdb\u7a0b\u4e2dnum\u53d8\u91cf\u4e0e\u5b50\u7ebf\u7a0b\u4e2d\u7684num\u4e0d\u662f\u4e00\u4e2a\u53d8\u91cf from multiprocessing import Process #\u5168\u5c40\u53d8\u91cf\u5728\u8fdb\u7a0b\u4e2d \u4e0d\u80fd\u5171\u4eab num = 10 def run(): print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u5f00\u59cb\") global num num+=1 print(num) print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\") if __name__==\"__main__\": p = Process(target=run) p.start() p.join() print(num) \u5c1d\u8bd5\u5217\u8868\u662f\u5426\u80fd\u5171\u4eab from multiprocessing import Process #\u5168\u5c40\u53d8\u91cf\u5728\u8fdb\u7a0b\u4e2d \u4e0d\u80fd\u5171\u4eab mylist = [] def run(): print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u5f00\u59cb\") global mylist mylist.append(1) mylist.append(2) mylist.append(3) print(\"\u6211\u662f\u5b50\u8fdb\u7a0b\u7684\u7ed3\u675f\") if __name__==\"__main__\": p = Process(target=run) p.start() p.join() print(mylist)","title":"3\u3001\u5168\u5c40\u53d8\u91cf\u5728\u591a\u4e2a\u5b50\u8fdb\u7a0b\u4e2d\u4e0d\u80fd\u5171\u4eab"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#4","text":"\u83b7\u53d6CPU\u6838\u5fc3\u6570 print('CPU number:' + str(multiprocessing.cpu_count())) \u5bfc\u5165 from multiprocesssing import Pool \u5f00\u542f\u5e76\u53d1\u6570 pp = Pool([\u53c2\u6570]) #\u5f00\u542f\u5e76\u53d1\u6570 \u9ed8\u8ba4\u662f\u4f60\u7684\u6838\u5fc3\u6570 \u521b\u5efa\u5b50\u8fdb\u7a0b,\u5e76\u653e\u5165\u8fdb\u7a0b\u6c60\u7ba1\u7406 apply_async\u4e3a\u975e\u963b\u585e\u6a21\u5f0f(\u5e76\u53d1\u6267\u884c) pp.apply_async(run,args=(i,)) #args\u53c2\u6570 \u53ef\u4ee5\u4e3a\u5143\u7ec4 \u6216\u8005\u662f\u5217\u8868[] \u5173\u95ed\u8fdb\u7a0b\u6c60 pp.close()\u5173\u95ed\u8fdb\u7a0b\u6c60 join() \u5728\u8c03\u7528join\u4e4b\u524d\u5fc5\u987b\u5148\u8c03\u7528close,\u8c03\u7528close\u4e4b\u540e\u5c31\u4e0d\u80fd\u518d\u7ee7\u7eed\u6dfb\u52a0\u65b0\u7684\u8fdb\u7a0b\u4e86 pp.join() \u8fdb\u7a0b\u6c60\u5bf9\u8c61\u8c03\u7528join\uff0c\u4f1a\u7b49\u5f85\u8fdb\u7a0b\u6c60\u4e2d\u6240\u6709\u7684\u5b50\u8fdb\u7a0b\u7ed3\u675f\u5b8c\u6bd5\u518d\u53bb\u6267\u884c\u7236\u8fdb\u7a0b \u5b9e\u4f8b ```python # Pool\u7c7b\uff1a\u8fdb\u7a0b\u6c60\u7c7b from multiprocessing import Pool import time import random import multiprocessing def run(index): print('CPU number:' + str(multiprocessing.cpu_count())) print(\"\u5b50\u8fdb\u7a0b %d \u542f\u52a8\"%(index)) t1 = time.time() time.sleep(random.random()* 5+2) t2 = time.time() print(\"\u5b50\u8fdb\u7a0b %d \u7ed3\u675f\uff0c\u8017\u65f6\uff1a%.2f\" % (index, t2-t1)) if name == \" main \": print(\"\u542f\u52a8\u4e3b\u8fdb\u7a0b\u2026\u2026\") # \u521b\u5efa\u8fdb\u7a0b\u6c60\u5bf9\u8c61 # \u7531\u4e8epool\u7684\u9ed8\u8ba4\u503c\u4e3aCPU\u7684\u6838\u5fc3\u6570\uff0c\u5047\u8bbe\u67094\u6838\u5fc3\uff0c\u81f3\u5c11\u9700\u89815\u4e2a\u5b50\u8fdb\u7a0b\u624d\u80fd\u770b\u5230\u6548\u679c # Pool()\u4e2d\u7684\u503c\u8868\u793a\u53ef\u4ee5\u540c\u65f6\u6267\u884c\u8fdb\u7a0b\u7684\u6570\u91cf pool = Pool(2) for i in range(1, 7): # \u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u5e76\u5c06\u5b50\u8fdb\u7a0b\u653e\u5230\u8fdb\u7a0b\u6c60\u4e2d\u7edf\u4e00\u7ba1\u7406 pool.apply_async(run, args=(i,)) # \u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f # \u5173\u95ed\u8fdb\u7a0b\u6c60\uff1a\u5728\u5173\u95ed\u540e\u5c31\u4e0d\u80fd\u518d\u5411\u8fdb\u7a0b\u6c60\u4e2d\u6dfb\u52a0\u8fdb\u7a0b\u4e86 # \u8fdb\u7a0b\u6c60\u5bf9\u8c61\u5728\u8c03\u7528join\u4e4b\u524d\u5fc5\u987b\u5148\u5173\u95ed\u8fdb\u7a0b\u6c60 pool.close() #pool\u5bf9\u8c61\u8c03\u7528join\uff0c\u4e3b\u8fdb\u7a0b\u4f1a\u7b49\u5f85\u8fdb\u7a0b\u6c60\u4e2d\u7684\u6240\u6709\u5b50\u8fdb\u7a0b\u7ed3\u675f\u624d\u4f1a\u7ee7\u7eed\u6267\u884c\u4e3b\u8fdb\u7a0b pool.join() print(\"\u7ed3\u675f\u4e3b\u8fdb\u7a0b\u2026\u2026\") ``` get\u65b9\u6cd5\uff1a\u83b7\u53d6\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c ```python from multiprocessing import Lock, Pool import time def function(index): print('Start process: ', index) time.sleep(2) print('End process', index) return index if name == ' main ': pool = Pool(processes=3) for i in range(4): result = pool.apply_async(function, (i,)) print(result.get()) #\u83b7\u53d6\u6bcf\u4e2a \u5b50\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c print(\"Started processes\") pool.close() pool.join() print(\"Subprocess done.\") ``` \u6ce8\u610f\uff1a\u8fd9\u6837\u6765\u83b7\u53d6\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c \u90a3\u4e48\u5c31\u4f1a\u53d8\u6210\u5355\u8fdb\u7a0b","title":"4\u3001\u542f\u52a8\u5927\u91cf\u5b50\u8fdb\u7a0b"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#5map","text":"\u6982\u8ff0 \u5982\u679c\u4f60\u73b0\u5728\u6709\u4e00\u5806\u6570\u636e\u8981\u5904\u7406\uff0c\u6bcf\u4e00\u9879\u90fd\u9700\u8981\u7ecf\u8fc7\u4e00\u4e2a\u65b9\u6cd5\u6765\u5904\u7406\uff0c\u90a3\u4e48map\u975e\u5e38\u9002\u5408 \u6bd4\u5982\u73b0\u5728\u4f60\u6709\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u4e86\u6240\u6709\u7684URL\uff0c\u800c\u73b0\u5728\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u65b9\u6cd5\u7528\u6765\u6293\u53d6\u6bcf\u4e2aURL\u5185\u5bb9\u5e76\u89e3\u6790\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u5728map\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u65b9\u6cd5\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165URL\u6570\u7ec4\u3002 \u6982\u8ff0 ```python from multiprocessing import Pool import requests from requests.exceptions import ConnectionError def scrape(url): try: print(requests.get(url)) except ConnectionError: print('Error Occured ', url) finally: print('URL', url, ' Scraped') if name == ' main ': pool = Pool(processes=3) urls = [ 'https://www.baidu.com', 'http://www.meituan.com/', 'http://blog.csdn.net/', 'http://xxxyxxx.net' ] pool.map(scrape, urls) ``` \u5728\u8fd9\u91cc\u521d\u59cb\u5316\u4e00\u4e2aPool\uff0c\u6307\u5b9a\u8fdb\u7a0b\u6570\u4e3a3\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u90a3\u4e48\u4f1a\u81ea\u52a8\u6839\u636eCPU\u5185\u6838\u6765\u5206\u914d\u8fdb\u7a0b\u6570\u3002 \u7136\u540e\u6709\u4e00\u4e2a\u94fe\u63a5\u5217\u8868\uff0cmap\u51fd\u6570\u53ef\u4ee5\u904d\u5386\u6bcf\u4e2aURL\uff0c\u7136\u540e\u5bf9\u5176\u5206\u522b\u6267\u884cscrape\u65b9\u6cd5\u3002","title":"5\u3001map\u65b9\u6cd5"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#6","text":"\u5355\u8fdb\u7a0b\u590d\u5236\u6587\u4ef6 ```python import time def copy_file(path, toPath): with open(path, \"rb\") as fp1: with open(toPath, \"wb\") as fp2: while 1: info = fp1.read(1024) if not info: break else: fp2.write(info) fp2.flush() if name == \" main \": t1 = time.time() for i in range(1, 5): path = r\"/Users/lucky/Desktop/file/%d.mp4\"%i toPath = r\"/Users/lucky/Desktop/file2/%d.mp4\"%i copy_file(path, toPath) t2 = time.time() print(\"\u5355\u8fdb\u7a0b\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` \u591a\u8fdb\u7a0b\u590d\u5236\u6587\u4ef6 ```python import time from multiprocessing import Pool import os def copy_file(path, toPath): with open(path, \"rb\") as fp1: with open(toPath, \"wb\") as fp2: while 1: info = fp1.read(1024) if not info: break else: fp2.write(info) fp2.flush() if name == \" main \": t1 = time.time() path = r\"/Users/xialigang/Desktop/\u89c6\u9891\" dstPath = r\"/Users/xialigang/Desktop/1\u89c6\u9891\" fileList = os.listdir(path) pool = Pool() for i in fileList: newPath1 = os.path.join(path, i) newPath2 = os.path.join(dstPath, i) pool.apply_async(copy_file, args=(newPath1, newPath2)) pool.close() pool.join() t2 = time.time() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ```","title":"6\u3001\u5355\u8fdb\u7a0b\u4e0e\u591a\u8fdb\u7a0b\u590d\u5236\u6587\u4ef6\u5bf9\u6bd4"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#7","text":"\u961f\u5217\u5171\u4eab \u5bfc\u5165 from multiprocessing import Queue \u4f7f\u7528 que = Queue() #\u521b\u5efa\u961f\u5217 que.put(\u6570\u636e) #\u538b\u5165\u6570\u636e que.get() #\u83b7\u53d6\u6570\u636e \u961f\u5217\u5e38\u7528\u51fd\u6570 Queue.empty() \u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u8fd4\u56deTrue, \u53cd\u4e4bFalse Queue.full() \u5982\u679c\u961f\u5217\u6ee1\u4e86\uff0c\u8fd4\u56deTrue,\u53cd\u4e4bFalse Queue.get([block[, timeout]]) \u83b7\u53d6\u961f\u5217\uff0ctimeout\u7b49\u5f85\u65f6\u95f4 Queue.get_nowait() \u76f8\u5f53Queue.get(False) Queue.put(item) \u963b\u585e\u5f0f\u5199\u5165\u961f\u5217\uff0ctimeout\u7b49\u5f85\u65f6\u95f4 Queue.put_nowait(item) \u76f8\u5f53Queue.put(item, False) \u7279\u70b9\uff1a\u5148\u8fdb\u5148\u51fa \u6ce8\u610f\uff1a get\u65b9\u6cd5\u6709\u4e24\u4e2a\u53c2\u6570\uff0cblocked\u548ctimeout\uff0c\u610f\u601d\u4e3a\u963b\u585e\u548c\u8d85\u65f6\u65f6\u95f4\u3002\u9ed8\u8ba4blocked\u662ftrue\uff0c\u5373\u963b\u585e\u5f0f\u3002 \u5f53\u4e00\u4e2a\u961f\u5217\u4e3a\u7a7a\u7684\u65f6\u5019\u5982\u679c\u518d\u7528get\u53d6\u5219\u4f1a\u963b\u585e\uff0c\u6240\u4ee5\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u5427blocked\u8bbe\u7f6e\u4e3afalse\uff0c\u5373\u975e\u963b\u585e\u5f0f\uff0c\u5b9e\u9645\u4e0a\u5b83\u5c31\u4f1a\u8c03\u7528get_nowait()\u65b9\u6cd5\uff0c\u6b64\u65f6\u8fd8\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u5728\u8fd9\u4e48\u957f\u7684\u65f6\u95f4\u5185\u8fd8\u6ca1\u6709\u53d6\u5230\u961f\u5217\u5143\u7d20\uff0c\u90a3\u5c31\u629b\u51faQueue.Empty\u5f02\u5e38\u3002 \u5f53\u4e00\u4e2a\u961f\u5217\u4e3a\u6ee1\u7684\u65f6\u5019\u5982\u679c\u518d\u7528put\u653e\u5219\u4f1a\u963b\u585e\uff0c\u6240\u4ee5\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u5427blocked\u8bbe\u7f6e\u4e3afalse\uff0c\u5373\u975e\u963b\u585e\u5f0f\uff0c\u5b9e\u9645\u4e0a\u5b83\u5c31\u4f1a\u8c03\u7528put_nowait()\u65b9\u6cd5\uff0c\u6b64\u65f6\u8fd8\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u5728\u8fd9\u4e48\u957f\u7684\u65f6\u95f4\u5185\u8fd8\u6ca1\u6709\u653e\u8fdb\u53bb\u5143\u7d20\uff0c\u90a3\u5c31\u629b\u51faQueue.Full\u5f02\u5e38\u3002 \u53e6\u5916\u961f\u5217\u4e2d\u5e38\u7528\u7684\u65b9\u6cd5 \u961f\u5217\u7684\u5927\u5c0f Queue.qsize() \u8fd4\u56de\u961f\u5217\u7684\u5927\u5c0f \uff0c\u4e0d\u8fc7\u5728 Mac OS \u4e0a\u6ca1\u6cd5\u8fd0\u884c\u3002 \u5b9e\u4f8b ```python import multiprocessing queque = multiprocessing.Queue() #\u521b\u5efa \u961f\u5217 #\u5982\u679c\u5728\u5b50\u8fdb\u7a0b \u548c\u4e3b\u8fdb\u7a0b \u4e4b\u95f4 \u90fd\u538b\u5165\u4e86\u6570\u636e \u90a3\u4e48\u5728\u4e3b\u8fdb\u7a0b \u548c \u5b50\u8fdb\u7a0b \u83b7\u53d6\u7684\u5c31\u662f \u5bf9\u65b9\u7684\u6570\u636e def fun(myque): # print(id(myque)) #\u83b7\u53d6\u5f53\u524d\u7684\u961f\u5217\u7684\u5b58\u50a8\u5730\u5740 \u4f9d\u7136\u662f\u62f7\u8d1d\u4e86\u4e00\u4efd myque.put(['a','b','c']) #\u5728\u5b50\u8fdb\u7a0b\u91cc\u9762\u538b\u5165\u6570\u636e # print(\"\u5b50\u8fdb\u7a0b\u83b7\u53d6\",myque.get())#\u83b7\u53d6\u961f\u5217\u91cc\u9762\u7684\u503c if name ==' main ': # print(id(queque)) queque.put([1,2,3,4,5]) #\u5c06\u5217\u8868\u538b\u5165\u961f\u5217 \u5982\u679c\u4e3b\u8fdb\u7a0b\u4e5f\u538b\u5165\u4e86\u6570\u636e \u90a3\u4e48\u5728\u4e3b\u8fdb\u7a0b\u53d6\u7684\u5c31\u662f\u5728\u4e3b\u8fdb\u7a0b\u538b\u5165\u7684\u6570\u636e \u800c\u4e0d\u662f\u5b50\u8fdb\u7a0b\u7684 p = multiprocessing.Process(target=fun,args=(queque,)) p.start() p.join() print(\"\u4e3b\u8fdb\u7a0b\u83b7\u53d6\",queque.get())#\u5728\u4e3b\u8fdb\u7a0b\u8fdb\u884c\u83b7\u53d6 print(\"\u4e3b\u8fdb\u7a0b\u83b7\u53d6\",queque.get())#\u5728\u4e3b\u8fdb\u7a0b\u8fdb\u884c\u83b7\u53d6 # print(\"\u4e3b\u8fdb\u7a0b\u83b7\u53d6\",queque.get(block=True, timeout=1))#\u5728\u4e3b\u8fdb\u7a0b\u8fdb\u884c\u83b7\u53d6 ``` \u5b57\u5178\u5171\u4eab \u5bfc\u5165 import multiprocess \u6982\u8ff0 Manager\u662f\u4e00\u4e2a\u8fdb\u7a0b\u95f4\u9ad8\u7ea7\u901a\u4fe1\u7684\u65b9\u6cd5 \u652f\u6301Python\u7684\u5b57\u5178\u548c\u5217\u8868\u7684\u6570\u636e\u7c7b\u578b \u521b\u5efa\u5b57\u5178 myDict = multiprocess.Manager().dict() \u5b9e\u4f8b ```python import multiprocessing def fun(mydict): # print(mylist) mydict['x'] = 'x' mydict['y'] = 'y' mydict['z'] = 'z' if name ==' main ': # Manager\u662f\u4e00\u79cd\u8f83\u4e3a\u9ad8\u7ea7\u7684\u591a\u8fdb\u7a0b\u901a\u4fe1\u65b9\u5f0f\uff0c\u5b83\u80fd\u652f\u6301Python\u652f\u6301\u7684\u7684\u4efb\u4f55\u6570\u636e\u7ed3\u6784\u3002 mydict = multiprocessing.Manager().dict() p = multiprocessing.Process(target=fun,args=(mydict,)) p.start() p.join() print(mydict) ``` \u5217\u8868\u5171\u4eab \u5bfc\u5165 import multiprocess \u521b\u5efa\u5217\u8868 myDict = multiprocess.Manager().list() \u5b9e\u4f8b(\u5b57\u5178\u4e0e\u5217\u8868\u5171\u4eab) ```python import multiprocessing def fun(List): # print(mylist) List.append('x') List.append('y') List.append('z') if name ==' main ': # Manager\u662f\u4e00\u79cd\u8f83\u4e3a\u9ad8\u7ea7\u7684\u591a\u8fdb\u7a0b\u901a\u4fe1\u65b9\u5f0f\uff0c\u5b83\u80fd\u652f\u6301Python\u652f\u6301\u7684\u7684\u4efb\u4f55\u6570\u636e\u7ed3\u6784\u3002 List = multiprocessing.Manager().list() p = multiprocessing.Process(target=fun,args=(List,)) p.start() p.join() print(List) ``` \u6ce8\u610f \u8fdb\u7a0b\u540d.terminate() \u5f3a\u884c\u7ec8\u6b62\u5b50\u8fdb\u7a0b deamon \u5728\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e2a\u5c5e\u6027\uff0c\u53eb\u505adeamon\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u7a0b\u90fd\u53ef\u4ee5\u5355\u72ec\u8bbe\u7f6e\u5b83\u7684\u5c5e\u6027\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3aTrue\uff0c\u5f53\u7236\u8fdb\u7a0b\u7ed3\u675f\u540e\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u81ea\u52a8\u88ab\u7ec8\u6b62\u3002 \u8fdb\u7a0b.daemon = True \u8bbe\u7f6e\u5728start()\u65b9\u6cd5\u4e4b\u524d python import multiprocessing import time def fun(): time.sleep(100) if __name__=='__main__': p = multiprocessing.Process(target=fun) p.daemon = True p.start() print('over') \u8fdb\u7a0b\u540d.terminate() \u5f3a\u884c\u7ec8\u6b62\u5b50\u8fdb\u7a0b Python import multiprocessing import time def fun(): time.sleep(100) if __name__=='__main__': p = multiprocessing.Process(target=fun) p.start() p.terminate() p.join() print('over')","title":"7\u3001\u8fdb\u7a0b\u95f4\u901a\u4fe1"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#8","text":"\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u6a21\u578b\u63cf\u8ff0\uff1a \u751f\u4ea7\u8005\u662f\u6307\u751f\u4ea7\u6570\u636e\u7684\u4efb\u52a1\uff0c\u6d88\u8d39\u8005\u662f\u6307\u6d88\u8d39\u6570\u636e\u7684\u4efb\u52a1\u3002 \u5f53\u751f\u4ea7\u8005\u7684\u751f\u4ea7\u80fd\u529b\u8fdc\u5927\u4e8e\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u80fd\u529b\uff0c\u751f\u4ea7\u8005\u5c31\u9700\u8981\u7b49\u6d88\u8d39\u8005\u6d88\u8d39\u5b8c\u624d\u80fd\u7ee7\u7eed\u751f\u4ea7\u65b0\u7684\u6570\u636e\uff0c\u540c\u7406\uff0c\u5982\u679c\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u80fd\u529b\u8fdc\u5927\u4e8e\u751f\u4ea7\u8005\u7684\u751f\u4ea7\u80fd\u529b\uff0c\u6d88\u8d39\u8005\u5c31\u9700\u8981\u7b49\u751f\u4ea7\u8005\u751f\u4ea7\u5b8c\u6570\u636e\u624d\u80fd\u7ee7\u7eed\u6d88\u8d39\uff0c\u8fd9\u79cd\u7b49\u5f85\u4f1a\u9020\u6210\u6548\u7387\u7684\u4f4e\u4e0b\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u95ee\u9898\u5c31\u5f15\u5165\u4e86\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u6a21\u578b\u3002 \u751f\u4ea7\u8005/\u6d88\u8d39\u8005\u95ee\u9898\u53ef\u4ee5\u63cf\u8ff0\u4e3a\uff1a\u4e24\u4e2a\u6216\u8005\u66f4\u591a\u7684\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\u5171\u4eab\u540c\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u5176\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\u4f5c\u4e3a\u201c\u751f\u4ea7\u8005\u201d\u4f1a\u4e0d\u65ad\u5730\u5411\u7f13\u51b2\u533a\u4e2d\u6dfb\u52a0\u6570\u636e\uff0c\u53e6\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u8fdb\u7a0b\uff08\u7ebf\u7a0b\uff09\u4f5c\u4e3a\u201c\u6d88\u8d39\u8005\u201d\u4ece\u7f13\u51b2\u533a\u4e2d\u53d6\u8d70\u6570\u636e\u3002 \u4ee3\u7801 ```python from multiprocessing import Process from multiprocessing import Queue import time def product(q): print(\"\u542f\u52a8\u751f\u4ea7\u5b50\u8fdb\u7a0b\u2026\u2026\") for data in [\"good\", \"nice\", \"cool\", \"handsome\"]: time.sleep(2) print(\"\u751f\u4ea7\u51fa\uff1a%s\"%data) # \u5c06\u751f\u4ea7\u7684\u6570\u636e\u5199\u5165\u961f\u5217 q.put(data) print(\"\u7ed3\u675f\u751f\u4ea7\u5b50\u8fdb\u7a0b\u2026\u2026\") def t(q): print(\"\u542f\u52a8\u6d88\u8d39\u5b50\u8fdb\u7a0b\u2026\u2026\") while 1: print(\"\u7b49\u5f85\u751f\u4ea7\u8005\u751f\u4ea7\u6570\u636e\") # \u83b7\u53d6\u751f\u4ea7\u8005\u751f\u4ea7\u7684\u6570\u636e\uff0c\u5982\u679c\u961f\u5217\u4e2d\u6ca1\u6709\u6570\u636e\u4f1a\u963b\u585e\uff0c\u7b49\u5f85\u961f\u5217\u4e2d\u6709\u6570\u636e\u518d\u83b7\u53d6 value = q.get() print(\"\u6d88\u8d39\u8005\u6d88\u8d39\u4e86%s\u6570\u636e\"%(value)) print(\"\u7ed3\u675f\u6d88\u8d39\u5b50\u8fdb\u7a0b\u2026\u2026\") if name == \" main \": q = Queue() p1 = Process(target=product, args=(q,)) p2 = Process(target=customer, args=(q,)) p1.start() p2.start() p1.join() # p2\u5b50\u8fdb\u7a0b\u91cc\u9762\u662f\u6b7b\u5faa\u73af\uff0c\u65e0\u6cd5\u7b49\u5f85\u5b83\u7684\u7ed3\u675f # p2.join() # \u5f3a\u5236\u7ed3\u675f\u5b50\u8fdb\u7a0b p2.terminate() print(\"\u4e3b\u8fdb\u7a0b\u7ed3\u675f\") ```","title":"8\u3001\u8fdb\u7a0b\u5b9e\u73b0\u751f\u4ea7\u8005\u6d88\u8d39\u8005"},{"location":"08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html#9","text":"from multiprocessing import Process,Queue from concurrent.futures import ThreadPoolExecutor from lxml import etree import time import requests headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.84 Safari/537.36\" } def get_img_src(url, q): \"\"\" \u8fdb\u7a0b1: \u8d1f\u8d23\u63d0\u53d6\u9875\u9762\u4e2d\u6240\u6709\u7684img\u7684\u4e0b\u8f7d\u5730\u5740 \u5c06\u56fe\u7247\u7684\u4e0b\u8f7d\u5730\u5740\u901a\u8fc7\u961f\u5217. \u4f20\u8f93\u7ed9\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u8fdb\u884c\u4e0b\u8f7d \"\"\" resp = requests.get(url, headers=headers) tree = etree.HTML(resp.text) srcs = tree.xpath(\"//li[@class='list-group-item']//img[@referrerpolicy='no-referrer']/@data-original\") for src in srcs: q.put(src.strip()) resp.close() def download_img(q): \"\"\" \u8fdb\u7a0b2: \u5c06\u56fe\u7247\u7684\u4e0b\u8f7d\u5730\u5740\u4ece\u961f\u5217\u4e2d\u63d0\u53d6\u51fa\u6765. \u8fdb\u884c\u4e0b\u8f7d. \"\"\" with ThreadPoolExecutor(20) as t: while 1: try: s = q.get(timeout=20) t.submit(donwload_one, s) except Exception as e: print(e) break def donwload_one(s): # \u5355\u7eaf\u7684\u4e0b\u8f7d\u529f\u80fd resp = requests.get(s, headers=headers) file_name = s.split(\"/\")[-1] # \u8bf7\u63d0\u524d\u521b\u5efa\u597dimg\u6587\u4ef6\u5939 with open(f\"img/{file_name}\", mode=\"wb\") as f: f.write(resp.content) print(\"\u4e00\u5f20\u56fe\u7247\u4e0b\u8f7d\u5b8c\u6bd5\", file_name) resp.close() if __name__ == '__main__': t1 = time.time() q = Queue() # \u4e24\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u4f7f\u7528\u540c\u4e00\u4e2a\u961f\u5217. \u5426\u5219\u6570\u636e\u4f20\u8f93\u4e0d\u4e86 p_list = [] for i in range(1, 11): url = f\"https://www.pkdoutu.com/photo/list/?page={i}\" p = Process(target=get_img_src, args=(url, q)) p_list.append(p) for p in p_list: p.start() p2 = Process(target=download_img, args=(q,)) p2.start() for p in p_list: p.join() p2.join() print((time.time()-t1)/60) # 0.49572664896647134","title":"9\u3001\u6848\u4f8b\uff08\u6293\u53d6\u6597\u56fe\uff09"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html","text":"\u4e5d\u3001\u7ebf\u7a0b \u4e00\u3001\u7ebf\u7a0b 1\u3001\u6982\u5ff5 \u7ebf\u7a0b \u5728\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u90e8\uff0c\u8981\u540c\u65f6\u5e72\u591a\u4ef6\u4e8b\uff0c\u5c31\u9700\u8981\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u201c\u5b50\u4efb\u52a1\u201d\uff0c\u6211\u4eec\u628a\u8fdb\u7a0b\u5185\u7684\u8fd9\u4e9b\u201c\u5b50\u4efb\u52a1\u201d\u53eb\u505a\u7ebf\u7a0b \u662f\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u8fdb\u884c\u8fd0\u7b97\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u5b83\u88ab\u5305\u542b\u5728\u8fdb\u7a0b\u4e4b\u4e2d\uff0c\u662f\u8fdb\u7a0b\u4e2d\u7684\u5b9e\u9645\u8fd0\u4f5c\u5355\u4f4d\u3002\u4e00\u6761\u7ebf\u7a0b\u6307\u7684\u662f\u8fdb\u7a0b\u4e2d\u4e00\u4e2a\u5355\u4e00\u987a\u5e8f\u7684\u63a7\u5236\u6d41\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u5e76\u53d1\u591a\u4e2a\u7ebf\u7a0b\uff0c\u6bcf\u6761\u7ebf\u7a0b\u5e76\u884c\u6267\u884c\u4e0d\u540c\u7684\u4efb\u52a1\u3002\u5728Unix System V\u53caSunOS\u4e2d\u4e5f\u88ab\u79f0\u4e3a\u8f7b\u91cf\u8fdb\u7a0b\uff08lightweight processes\uff09\uff0c\u4f46\u8f7b\u91cf\u8fdb\u7a0b\u66f4\u591a\u6307\u5185\u6838\u7ebf\u7a0b\uff08kernel thread\uff09\uff0c\u800c\u628a\u7528\u6237\u7ebf\u7a0b\uff08user thread\uff09\u79f0\u4e3a\u7ebf\u7a0b \u7ebf\u7a0b\u901a\u5e38\u53eb\u505a\u8f7b\u578b\u7684\u8fdb\u7a0b\u3002\u7ebf\u7a0b\u662f\u5171\u4eab\u5185\u5b58\u7a7a\u95f4\u7684\u5e76\u53d1\u6267\u884c\u7684\u591a\u4efb\u52a1\uff0c\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u90fd\u5171\u4eab\u4e00\u4e2a\u8fdb\u7a0b\u7684\u8d44\u6e90 \u7ebf\u7a0b\u662f\u6700\u5c0f\u7684\u6267\u884c\u5355\u5143\uff0c\u800c\u8fdb\u7a0b\u7531\u81f3\u5c11\u4e00\u4e2a\u7ebf\u7a0b\u7ec4\u6210\u3002\u5982\u4f55\u8c03\u5ea6\u8fdb\u7a0b\u548c\u7ebf\u7a0b\uff0c\u5b8c\u5168\u7531\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\uff0c\u7a0b\u5e8f\u81ea\u5df1\u4e0d\u80fd\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u6267\u884c\uff0c\u6267\u884c\u591a\u957f\u65f6\u95f4 \u591a\u7ebf\u7a0b \u662f\u6307\u4ece\u8f6f\u4ef6\u6216\u8005\u786c\u4ef6\u4e0a\u5b9e\u73b0\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u7684\u6280\u672f\u3002\u5177\u6709\u591a\u7ebf\u7a0b\u80fd\u529b\u7684\u8ba1\u7b97\u673a\u56e0\u6709\u786c\u4ef6\u652f\u6301\u800c\u80fd\u591f\u5728\u540c\u4e00\u65f6\u95f4\u6267\u884c\u591a\u4e8e\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u8fdb\u800c\u63d0\u5347\u6574\u4f53\u5904\u7406\u6027\u80fd\u3002\u5177\u6709\u8fd9\u79cd\u80fd\u529b\u7684\u7cfb\u7edf\u5305\u62ec\u5bf9\u79f0\u591a\u5904\u7406\u673a\u3001\u591a\u6838\u5fc3\u5904\u7406\u5668\u4ee5\u53ca\u82af\u7247\u7ea7\u591a\u5904\u7406\uff08Chip-level multithreading\uff09\u6216\u540c\u65f6\u591a\u7ebf\u7a0b\uff08Simultaneous multithreading\uff09\u5904\u7406\u5668\u3002 \u4e3b\u7ebf\u7a0b\uff1a \u200b \u4efb\u4f55\u8fdb\u7a0b\u90fd\u4f1a\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u4e3b\u7ebf\u7a0b \u5982\u679c\u4e3b\u7ebf\u7a0b\u6b7b\u6389 \u5b50\u7ebf\u4e5f\u7a0b\u4e5f\u6b7b\u6389 \u6240\u4ee5 \u5b50\u7ebf\u7a0b\u4f9d\u8d56\u4e8e\u4e3b\u7ebf\u7a0b GIL \u5176\u4ed6\u8bed\u8a00\uff0cCPU \u662f\u591a\u6838\u662f\u652f\u6301\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u3002\u4f46\u5728 Python \u4e2d\uff0c\u65e0\u8bba\u662f\u5355\u6838\u8fd8\u662f\u591a\u6838\uff0c\u540c\u65f6\u53ea\u80fd\u7531\u4e00\u4e2a\u7ebf\u7a0b\u5728\u6267\u884c\u3002\u5176\u6839\u6e90\u662f GIL \u7684\u5b58\u5728\u3002 GIL \u7684\u5168\u79f0\u662f Global Interpreter Lock(\u5168\u5c40\u89e3\u91ca\u5668\u9501)\uff0c\u6765\u6e90\u662f Python \u8bbe\u8ba1\u4e4b\u521d\u7684\u8003\u8651\uff0c\u4e3a\u4e86\u6570\u636e\u5b89\u5168\u6240\u505a\u7684\u51b3\u5b9a\u3002\u67d0\u4e2a\u7ebf\u7a0b\u60f3\u8981\u6267\u884c\uff0c\u5fc5\u987b\u5148\u62ff\u5230 GIL\uff0c\u6211\u4eec\u53ef\u4ee5\u628a GIL \u770b\u4f5c\u662f\u201c\u901a\u884c\u8bc1\u201d\uff0c\u5e76\u4e14\u5728\u4e00\u4e2a Python \u8fdb\u7a0b\u4e2d\uff0cGIL \u53ea\u6709\u4e00\u4e2a\u3002\u62ff\u4e0d\u5230\u901a\u884c\u8bc1\u7684\u7ebf\u7a0b\uff0c\u5c31\u4e0d\u5141\u8bb8\u8fdb\u5165 CPU \u6267\u884c\u3002 \u800c\u76ee\u524d Python \u7684\u89e3\u91ca\u5668\u6709\u591a\u79cd\uff0c\u4f8b\u5982\uff1a CPython \uff1aCPython \u662f\u7528C\u8bed\u8a00\u5b9e\u73b0\u7684 Python \u89e3\u91ca\u5668\u3002 \u4f5c\u4e3a\u5b98\u65b9\u5b9e\u73b0\uff0c\u5b83\u662f\u6700\u5e7f\u6cdb\u4f7f\u7528\u7684 Python \u89e3\u91ca\u5668\u3002 PyPy \uff1aPyPy \u662f\u7528RPython\u5b9e\u73b0\u7684\u89e3\u91ca\u5668\u3002RPython \u662f Python \u7684\u5b50\u96c6\uff0c \u5177\u6709\u9759\u6001\u7c7b\u578b\u3002\u8fd9\u4e2a\u89e3\u91ca\u5668\u7684\u7279\u70b9\u662f\u5373\u65f6\u7f16\u8bd1\uff0c\u652f\u6301\u591a\u91cd\u540e\u7aef\uff08C, CLI, JVM\uff09\u3002PyPy \u65e8\u5728\u63d0\u9ad8\u6027\u80fd\uff0c\u540c\u65f6\u4fdd\u6301\u6700\u5927\u517c\u5bb9\u6027\uff08\u53c2\u8003 CPython \u7684\u5b9e\u73b0\uff09\u3002 Jython \uff1aJython \u662f\u4e00\u4e2a\u5c06 Python \u4ee3\u7801\u7f16\u8bd1\u6210 Java \u5b57\u8282\u7801\u7684\u5b9e\u73b0\uff0c\u8fd0\u884c\u5728JVM (Java Virtual Machine) \u4e0a\u3002\u53e6\u5916\uff0c\u5b83\u53ef\u4ee5\u50cf\u662f\u7528 Python \u6a21\u5757\u4e00\u6837\uff0c\u5bfc\u5165 \u5e76\u4f7f\u7528\u4efb\u4f55Java\u7c7b\u3002 IronPython \uff1aIronPython \u662f\u4e00\u4e2a\u9488\u5bf9 .NET \u6846\u67b6\u7684 Python \u5b9e\u73b0\u3002\u5b83 \u53ef\u4ee5\u7528 Python \u548c .NET framewor k\u7684\u5e93\uff0c\u4e5f\u80fd\u5c06 Python \u4ee3\u7801\u66b4\u9732\u7ed9 .NET \u6846\u67b6\u4e2d\u7684\u5176\u4ed6\u8bed\u8a00\u3002 GIL \u53ea\u5728 CPython \u4e2d\u624d\u6709\uff0c\u800c\u5728 PyPy \u548c Jython \u4e2d\u662f\u6ca1\u6709 GIL \u7684\u3002 \u5728\u4f7f\u7528\u4e92\u65a5\u9501\u89e3\u51b3\u4ee3\u7801\u4e2d\u7684\u8d44\u6e90\u7ade\u4e89\u95ee\u9898\u65f6\uff0c\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u65f6\uff0c\u4f1a\u5c06\u5168\u5c40\u5171\u4eab\u7684\u8d44\u6e90\u4e0a\u9501\uff0c\u5f53\u7ebf\u7a0b\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5c06\u9501\u89e3\u5f00\uff0c\u91ca\u653e\u8d44\u6e90\uff0c\u5176\u4ed6\u7ebf\u7a0b\u624d\u80fd\u591f\u4f7f\u7528\u3002 \u6bcf\u6b21\u91ca\u653e GIL\u9501\uff0c\u7ebf\u7a0b\u8fdb\u884c\u9501\u7ade\u4e89\u3001\u5207\u6362\u7ebf\u7a0b\uff0c\u4f1a\u6d88\u8017\u8d44\u6e90\u3002\u8fd9\u5c31\u5bfc\u81f4\u6253\u5370\u7ebf\u7a0b\u6267\u884c\u65f6\u957f\uff0c\u4f1a\u53d1\u73b0\u8017\u65f6\u66f4\u957f\u7684\u539f\u56e0\u3002 \u5e76\u4e14\u7531\u4e8e GIL \u9501\u5b58\u5728\uff0cPython \u91cc\u4e00\u4e2a\u8fdb\u7a0b\u6c38\u8fdc\u53ea\u80fd\u540c\u65f6\u6267\u884c\u4e00\u4e2a\u7ebf\u7a0b(\u62ff\u5230 GIL \u7684\u7ebf\u7a0b\u624d\u80fd\u6267\u884c)\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5728\u591a\u6838CPU\u4e0a\uff0cPython \u7684\u591a\u7ebf\u7a0b\u6548\u7387\u5e76\u4e0d\u9ad8\u7684\u6839\u672c\u539f\u56e0\u3002 \u6a21\u5757 _thread\u6a21\u5757\uff1a\u4f4e\u7ea7\u6a21\u5757 threading\u6a21\u5757\uff1a\u9ad8\u7ea7\u6a21\u5757\uff0c\u5bf9_thread\u8fdb\u884c\u4e86\u5c01\u88c5 2\u3001\u4f7f\u7528_thread \u6a21\u5757 \u53bb\u521b\u5efa\u7ebf\u7a0b \u5bfc\u5165\u6a21\u5757 import _thread \u5f00\u542f\u7ebf\u7a0b _thread.start_new_thread(\u51fd\u6570\u540d,\u53c2\u6570) \u6ce8\u610f\uff1a \u53c2\u6570\u5fc5\u987b\u4e3a\u5143\u7ec4\u7c7b\u578b \u5982\u679c\u4e3b\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5 \u5b50\u7ebf\u7a0b\u5c31\u4f1a\u6b7b\u6389 \u5982\u679c\u7ebf\u7a0b\u4e0d\u9700\u8981\u4f20\u53c2\u6570\u7684\u65f6\u5019 \u4e5f\u5fc5\u987b\u4f20\u9012\u4e00\u4e2a\u7a7a\u5143\u7ec4\u5360\u4f4d \u5b9e\u4f8b ```python import win32api import _thread #\u5f15\u5165\u7ebf\u7a0b\u7684\u6a21\u5757 \u6bd4\u8f83\u8001\u7684\u6a21\u5757 \u65b0\u7684 threading def run(i): win32api.MessageBox(0,\"\u60a8\u7684{}\u53f7\u5927\u5b9d\u8d1d\u4e0a\u7ebf\u4e86\".format(i),\"\u6765\u81ea\u51e4\u59d0\u4ee5\u53ca\u9646\u6e90\u51ef\u7684\u95ee\u5019\",2) for i in range(5): _thread.start_new_thread(run,(i,)) #\u53d1\u8d77\u591a\u4e2a\u7ebf\u7a0b \u4f20\u53c2\u7684\u60c5\u51b5 \u53c2\u6570\u4e3a\u5143\u7ec4 # _thread.start_new_thread(run,()) #\u53d1\u8d77\u591a\u4e2a\u7ebf\u7a0b \u4e0d\u4f20\u53c2 \u9875\u9700\u8981\u4fe9\u4e2a\u53c2\u6570 \u7b2c\u4e8c\u4e2a\u4e3a\u7a7a\u5143\u7ec4 print('\u4f1a\u5148\u6267\u884c\u6211') #\u5982\u679c\u4e3b\u7ebf\u7a0b \u4e0d\u6b7b \u90a3\u4e48 \u6240\u6709\u7684\u6b21\u7ebf\u7a0b \u5c31\u90fd\u4f1a\u6b63\u5e38\u6267\u884c while True: pass ``` \u63d0\u9ad8\u6548\u7387 ```python import _thread import time def run(): for i in range(10): print(i,'------------') time.sleep(1) \"\"\" for i in range(5): #50\u79d2 run() \"\"\" for i in range(5): _thread.start_new_thread(run,()) #\u53d1\u8d77\u4e94\u4e2a\u7ebf\u7a0b\u53bb\u6267\u884c \u65f6\u95f4\u5927\u5927\u7f29\u77ed for i in range(10): #\u5faa\u73af10\u79d2 \u8ba1\u7b97 \u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5\u6240\u9700\u8981\u7684\u65f6\u95f4 \u7c7b\u4f3c\u4e0e\u4e00\u4e2a\u52ab\u505c time.sleep(1) print('xxxx') ``` 3\u3001threading\u521b\u5efa\u7ebf\u7a0b \u5bfc\u5165\u6a21\u5757 import threading threading\u521b\u5efa\u7ebf\u7a0b\u7684\u65b9\u5f0f myThread = threading.Thread(target=\u51fd\u6570\u540d[,args=(\u53c2\u6570,),name=\"\u4f60\u6307\u5b9a\u7684\u7ebf\u7a0b\u540d\u79f0\"]) \u53c2\u6570 target\uff1a\u6307\u5b9a\u7ebf\u7a0b\u6267\u884c\u7684\u51fd\u6570 name\uff1a\u6307\u5b9a\u5f53\u524d\u7ebf\u7a0b\u7684\u540d\u79f0 args\uff1a\u4f20\u9012\u4e2a\u5b50\u7ebf\u7a0b\u7684\u53c2\u6570 ,(\u5143\u7ec4\u5f62\u5f0f) \u5f00\u542f\u7ebf\u7a0b myThread.start() \u7ebf\u7a0b\u7b49\u5f85 myThread.join() \u8fd4\u56de\u5f53\u524d\u7ebf\u7a0b\u5bf9\u8c61 threading.current_thread() threading.currentThread() \u83b7\u53d6\u5f53\u524d\u7ebf\u7a0b\u7684\u540d\u79f0 threading.current_thread().name threading.currentThread().getName() \u8bbe\u7f6e\u7ebf\u7a0b\u540d setName() python Thread(target=fun).setName('name') \u8fd4\u56de\u4e3b\u7ebf\u7a0b\u5bf9\u8c61 threading.main_thread()\u3000\u3000 \u83b7\u53d6\u5f53\u524d\u6d3b\u7740\u7684\u6240\u6709\u7ebf\u7a0b\u603b\u6570\uff0c\u5305\u62ec\u4e3b\u7ebf\u7a0bmain threading.active_count() \u6216 threading.activeCount()\u3000 \u5224\u65ad\u7ebf\u7a0b\u662f\u4e0d\u662f\u6d3b\u7684\uff0c\u5373\u7ebf\u7a0b\u662f\u5426\u5df2\u7ecf\u7ed3\u675f Thread.is_alive() Thread.isAlive() \u7ebf\u7a0b\u5b88\u62a4 \u8bbe\u7f6e\u5b50\u7ebf\u7a0b\u662f\u5426\u968f\u4e3b\u7ebf\u7a0b\u4e00\u8d77\u7ed3\u675f \u6709\u4e00\u4e2a\u5e03\u5c14\u503c\u7684\u53c2\u6570\uff0c\u9ed8\u8ba4\u4e3aFalse\uff0c\u8be5\u65b9\u6cd5\u8bbe\u7f6e\u5b50\u7ebf\u7a0b\u662f\u5426\u968f\u4e3b\u7ebf\u7a0b\u4e00\u8d77\u7ed3\u675f True\u4e00\u8d77\u7ed3\u675f Thread.setDaemon(True) \u8fd8\u6709\u4e2a\u8981\u7279\u522b\u6ce8\u610f\u7684\uff1a\u5fc5\u987b\u5728start() \u65b9\u6cd5\u8c03\u7528\u4e4b\u524d\u8bbe\u7f6e python if __name__ == '__main__': t = Thread(target=fun, args=(1,)) t.setDaemon(True) t.start() print('over') \u83b7\u53d6\u5f53\u524d\u6240\u6709\u7684\u7ebf\u7a0b\u540d\u79f0 python threading.enumerate() # \u8fd4\u56de\u5f53\u524d\u5305\u542b\u6240\u6709\u7ebf\u7a0b\u7684\u5217\u8868 4\u3001\u542f\u52a8\u7ebf\u7a0b\u5b9e\u73b0\u591a\u4efb\u52a1 import time import threading def run1(): # \u83b7\u53d6\u7ebf\u7a0b\u540d\u5b57 print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\"%(threading.current_thread().name)) for i in range(5): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\" % (threading.current_thread().name)) for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if __name__ == \"__main__\": t1 = time.clock() # \u4e3b\u8fdb\u7a0b\u4e2d\u9ed8\u8ba4\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u79f0\u4e3a\u4e3b\u7ebf\u7a0b(\u7236\u7ebf\u7a0b) # \u4e3b\u7ebf\u7a0b\u4e00\u822c\u4f5c\u4e3a\u8c03\u5ea6\u800c\u5b58\u5728\uff0c\u4e0d\u5177\u4f53\u5b9e\u73b0\u4e1a\u52a1\u903b\u8f91 # \u521b\u5efa\u5b50\u7ebf\u7a0b # name\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u540d\u79f0\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u6309\u987a\u5e8f\u8bbe\u7f6e\u4e3aThread-n th1 = threading.Thread(target=run1, name=\"th1\") th2 = threading.Thread(target=run2, args=(\"lucky\", \"nice\")) #\u542f\u52a8 th1.start() th2.start() #\u7b49\u5f85\u5b50\u7ebf\u7a0b\u7ed3\u675f th1.join() th2.join() t2 = time.clock() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) 5\u3001\u7ebf\u7a0b\u95f4\u5171\u4eab\u6570\u636e \u6982\u8ff0 \u200b \u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u6700\u5927\u7684\u4e0d\u540c\u5728\u4e8e\uff0c\u591a\u8fdb\u7a0b\u4e2d\uff0c\u540c\u4e00\u4e2a\u53d8\u91cf\uff0c\u5404\u81ea\u6709\u4e00\u4efd\u62f7\u8d1d\u5b58\u5728\u6bcf\u4e2a\u8fdb\u7a0b\u4e2d\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002\u800c\u591a\u7ebf\u7a0b\u4e2d\uff0c\u6240\u6709\u53d8\u91cf\u90fd\u7531\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u3002\u6240\u4ee5\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\u90fd\u53ef\u4ee5\u88ab\u4efb\u610f\u4e00\u4e2a\u7ebf\u7a0b\u4fee\u6539\uff0c\u56e0\u6b64\uff0c\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u6570 \u636e\u6700\u5927\u7684\u5371\u9669\u5728\u4e8e\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u4fee\u6539\u4e00\u4e2a\u53d8\u91cf\uff0c\u5bb9\u6613\u628a\u5185\u5bb9\u6539\u4e71\u4e86\u3002 import time import threading money = 0 def run1(): global money money = 1 print(\"run1-----------\", money) print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\"%(threading.current_thread().name)) for i in range(5): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): print(\"run2-----------\", money) print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\" % (threading.current_thread().name)) for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if __name__ == \"__main__\": t1 = time.clock() th1 = threading.Thread(target=run1, name=\"th1\") th2 = threading.Thread(target=run2, args=(\"lucky\", \"nice\")) th1.start() th2.start() th1.join() th2.join() t2 = time.clock() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) print(\"main-----------\", money) 6\u3001Lock\u7ebf\u7a0b\u9501(\u591a\u7ebf\u7a0b\u5185\u5b58\u9519\u4e71\u95ee\u9898) \u6982\u8ff0 Lock\u9501\u662f\u7ebf\u7a0b\u6a21\u5757\u4e2d\u7684\u4e00\u4e2a\u7c7b\uff0c\u6709\u4e24\u4e2a\u4e3b\u8981\u65b9\u6cd5\uff1aacquire()\u548crelease() \u5f53\u8c03\u7528acquire()\u65b9\u6cd5\u65f6\uff0c\u5b83\u9501\u5b9a\u9501\u7684\u6267\u884c\u5e76\u963b\u585e\u9501\u7684\u6267\u884c\uff0c\u76f4\u5230\u5176\u4ed6\u7ebf\u7a0b\u8c03\u7528release()\u65b9\u6cd5\u5c06\u5176\u8bbe\u7f6e\u4e3a\u89e3\u9501\u72b6\u6001\u3002\u9501\u5e2e\u52a9\u6211\u4eec\u6709\u6548\u5730\u8bbf\u95ee\u7a0b\u5e8f\u4e2d\u7684\u5171\u4eab\u8d44\u6e90\uff0c\u4ee5\u9632\u6b62\u6570\u636e\u635f\u574f\uff0c\u5b83\u9075\u5faa\u4e92\u65a5\uff0c\u56e0\u4e3a\u4e00\u6b21\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u7279\u5b9a\u7684\u8d44\u6e90\u3002 \u4f5c\u7528 \u907f\u514d\u7ebf\u7a0b\u51b2\u7a81 \u9501\uff1a \u786e\u4fdd\u4e86\u8fd9\u6bb5\u4ee3\u7801\u53ea\u80fd\u7531\u4e00\u4e2a\u7ebf\u7a0b\u4ece\u5934\u5230\u5c3e\u7684\u5b8c\u6574\u6267\u884c\u963b\u6b62\u4e86\u591a\u7ebf\u7a0b\u7684\u5e76\u53d1\u6267\u884c,\u5305\u542b\u9501\u7684\u67d0\u6bb5\u4ee3\u7801\u5b9e\u9645\u4e0a\u53ea\u80fd\u4ee5\u5355\u7ebf\u7a0b\u6a21\u5f0f\u6267\u884c,\u6240\u4ee5\u6548\u7387\u5927\u5927\u7684\u964d\u4f4e\u4e86 \u7531\u4e8e\u53ef\u4ee5\u5b58\u5728\u591a\u4e2a\u9501,\u4e0d\u540c\u7ebf\u7a0b\u6301\u6709\u4e0d\u540c\u7684\u9501,\u5e76\u8bd5\u56fe\u83b7\u53d6\u5176\u4ed6\u7684\u9501, \u53ef\u80fd\u9020\u6210\u6b7b\u9501,\u5bfc\u81f4\u591a\u4e2a\u7ebf\u7a0b\u53ea\u80fd\u6302\u8d77,\u53ea\u80fd\u9760\u64cd\u4f5c\u7cfb\u7edf\u5f3a\u884c\u7ec8\u6b62 \u6ce8\u610f\uff1a \u5f53\u524d\u7ebf\u7a0b\u9501\u5b9a\u4ee5\u540e \u540e\u9762\u7684\u7ebf\u7a0b\u4f1a\u7b49\u5f85\uff08\u7ebf\u7a0b\u7b49\u5f85/\u7ebf\u7a0b\u963b\u585e\uff09 \u9700\u8981release \u89e3\u9501\u4ee5\u540e\u624d\u6b63\u5e38 \u4e0d\u80fd\u91cd\u590d\u9501\u5b9a \u5185\u5b58\u9519\u4e71\u5b9e\u4f8b ```python import threading import time i = 1 def fun1(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun1-----', i) def fun2(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun2----', i) t1 = threading.Thread(target=fun1) t2 = threading.Thread(target=fun2) t1.start() t2.start() t1.join() t2.join() print('mian----',i) ``` \u95ee\u9898\uff1a\u4e24\u4e2a\u7ebf\u7a0b\u5bf9\u540c\u4e00\u6570\u636e\u540c\u65f6\u8fdb\u884c\u8bfb\u5199\uff0c\u53ef\u80fd\u9020\u6210\u6570\u636e\u503c\u7684\u4e0d\u5bf9\uff0c\u6211\u4eec\u5fc5\u987b\u4fdd\u8bc1\u4e00\u4e2a\u7ebf\u7a0b\u5728\u4fee\u6539money\u65f6\u5176\u4ed6\u7684\u7ebf\u7a0b\u4e00\u5b9a\u4e0d\u80fd\u4fee\u6539\uff0c\u7ebf\u7a0b\u9501\u89e3\u51b3\u6570\u636e\u6df7\u4e71\u95ee\u9898 \u7ebf\u7a0b\u9501Lock\u4f7f\u7528\u65b9\u6cd5 python import threading # \u521b\u5efa\u4e00\u4e2a\u9501 lock = threading.Lock() lock.acquire() #\u8fdb\u884c\u9501\u5b9a \u9501\u5b9a\u6210\u529f\u8fd4\u56deTrue lock.release() #\u8fdb\u884c\u89e3\u9501 Lock\u9501\u7684\u4f7f\u7528: ```python import threading import time i = 1 def fun1(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun1-----', i) def fun2(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun2----', i) t1 = threading.Thread(target=fun1) t2 = threading.Thread(target=fun2) t1.start() t2.start() t1.join() t2.join() print('mian----',i) ``` \u5728\u4e0a\u9762\u7684\u7a0b\u5e8f\u4e2d,lock\u662f\u4e00\u4e2a\u9501\u5bf9\u8c61,\u5168\u5c40\u53d8\u91cfabce\u662f\u4e00\u4e2a\u5171\u4eab\u8d44\u6e90,sumOne()\u548csumTwo()\u51fd\u6570\u626e\u4f5c\u4e24\u4e2a\u7ebf\u7a0b,\u5728sumOne()\u51fd\u6570\u4e2d\u5171\u4eab\u8d44\u6e90abce\u9996\u5148\u88ab\u9501\u5b9a,\u7136\u540e\u589e\u52a0\u4e861,\u7136\u540eabce\u88ab\u91ca\u653e\u3002sumTwo()\u51fd\u6570\u6267\u884c\u7c7b\u4f3c\u64cd\u4f5c\u3002 \u4e24\u4e2a\u51fd\u6570sumOne()\u548csumTwo()\u4e0d\u80fd\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90abce\uff0c\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002 \u89e3\u51b3\u8d44\u6e90\u6df7\u4e71 ```python import threading Lock = threading.Lock() i = 1 def fun1(): global i if Lock.acquire(): # \u5224\u65ad\u662f\u5426\u4e0a\u9501 \u9501\u5b9a\u6210\u529f for x in range(1000000): i += x i -= x Lock.release() print('fun1-----', i) def fun2(): global i if Lock.acquire(): # \u5224\u65ad\u662f\u5426\u4e0a\u9501 \u9501\u5b9a\u6210\u529f for x in range(1000000): i += x i -= x Lock.release() print('fun2----', i) t1 = threading.Thread(target=fun1) t2 = threading.Thread(target=fun2) t1.start() t2.start() t1.join() t2.join() print('mian----',i) ``` \u7ebf\u7a0b\u9501\u7684\u7b80\u5199\uff08\u4e0d\u9700\u8981\u624b\u52a8\u89e3\u9501\uff09 with lock: \u4ee3\u7801\u6bb5 \u5b9e\u4f8b\uff08\u5c06\u4e0a\u9762\u4e0a\u9501\u7684\u4ee3\u7801\u6bb5\u66f4\u6539\u4e3a\uff09 python def run2(): for i in range(1000000): #\u7b80\u5199\uff0c\u529f\u80fd\u4e0e\u4e0a\u9762\u4e00\u81f4 with lock: ... \u7ed3\u679c\u4e00\u6837 7\u3001Timer\u5b9a\u65f6\u6267\u884c \u6982\u8ff0 Timer\u662fThread\u7684\u5b50\u7c7b\uff0c\u53ef\u4ee5\u6307\u5b9a\u65f6\u95f4\u95f4\u9694\u540e\u5728\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c \u4f7f\u7528 ```python import threading def go(): print(\"\u8d70\u6211\u4e86\") # t = threading.Timer(\u79d2\u6570,\u51fd\u6570\u540d) t = threading.Timer(3,go) t.start() print('\u6211\u662f\u4e3b\u7ebf\u7a0b\u7684\u4ee3\u7801') ``` 8\u3001threadpool\u7ebf\u7a0b\u6c60 \u542f\u52a8\u5927\u91cf\u7ebf\u7a0b \u5b89\u88c5 pip install threadpool \u4f7f\u7528 \u5f15\u5165threadpool\u6a21\u5757 import threadpool \u5b9a\u4e49\u7ebf\u7a0b\u51fd\u6570 \u521b\u5efa\u7ebf\u7a0b\u6c60 threadpool.ThreadPool() \u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570 pool = threadpool.ThreadPool(5) \u521b\u5efa\u9700\u8981\u7ebf\u7a0b\u6c60\u5904\u7406\u7684\u4efb\u52a1 equests = threadpool.makeRequests(go,name_list) \u5c06\u521b\u5efa\u7684\u591a\u4e2a\u4efb\u52a1put\u5230\u7ebf\u7a0b\u6c60\u4e2d,threadpool.putRequest for i in Requests: pool.putRequest(i) \u6216\uff1a [pool.putRequest(i) for i in requests] \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b \u6267\u884c\u5b8c\u6bd5 \u5728\u7ee7\u7eed\u5f80\u4e0b \u6267\u884c threadpool.wait() threadpool\u7ebf\u7a0b\u6c60\u7684\u4f7f\u7528 \u65b9\u5f0f\u4e00 ```python import time import threadpool \u7ebf\u7a0b\u6c60 \u7edf\u4e00\u7ba1\u7406 \u7ebf\u7a0b def go(str): print(\"hello\", str) time.sleep(2) name_list = [\"lucky\", \"\u5362yuan\u51ef\", \"\u59da\u9752\", \"\u5218\u4f73\u4fca\", \"\u4f55\u5fc5\u5586\"] pool = threadpool.ThreadPool(5) # \u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570 start = time.time() requests = threadpool.makeRequests(go, name_list) # \u8bbe\u7f6e\u53c2\u6570 \u8f6c\u6362\u6210\u7ebf\u7a0b\u6c60\u5bf9\u8c61 for i in requests: pool.putRequest(i) pool.wait() ``` \u65b9\u5f0f\u4e8c python ... [pool.putRequest(req) for req in requests] pool.wait() # \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b \u6267\u884c\u5b8c\u6bd5 \u5728\u7ee7\u7eed\u5f80\u4e0b \u6267\u884c print('\u8fd0\u884c\u7684\u79d2\u6570', time.time() - start) \u7ebf\u7a0b\u6c60\u591a\u4e2a\u53c2\u6570\u7684\u60c5\u51b5 \u5f53\u51fd\u6570\u6709\u591a\u4e2a\u53c2\u6570\u7684\u60c5\u51b5\uff0c\u51fd\u6570\u8c03\u7528\u65f6\u7b2c\u4e00\u4e2a\u89e3\u5305list\uff0c\u7b2c\u4e8c\u4e2a\u89e3\u5305dict\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fd9\u6837 ```python import threadpool def hello(m, n, o): \"\"\"\"\"\" print \"m = %s, n = %s, o = %s\"%(m, n, o) if name == ' main ': # \u65b9\u6cd51 lst_vars_1 = ['1', '2', '3'] lst_vars_2 = ['4', '5', '6'] func_var = [(lst_vars_1, None), (lst_vars_2, None)] # \u65b9\u6cd52 dict_vars_1 = {'m':'1', 'n':'2', 'o':'3'} dict_vars_2 = {'m':'4', 'n':'5', 'o':'6'} func_var = [(None, dict_vars_1), (None, dict_vars_2)] pool = threadpool.ThreadPool(2) requests = threadpool.makeRequests(hello, func_var) [pool.putRequest(req) for req in requests] pool.wait() ``` 9\u3001\u7ebf\u7a0b\u6c60ThreadPoolExecutor \u6a21 \u5757 concurrent.futures \u5bfc\u5165 Executor[\u026a\u0261\u02c8zekj\u0259t\u0259r] python from concurrent.futures import ThreadPoolExecutor \u65b9\u6cd5 submit(fun[, args]) \u4f20\u5165\u653e\u5165\u7ebf\u7a0b\u6c60\u7684\u51fd\u6570\u4ee5\u53ca\u4f20\u53c2 map(fun[, iterable_args]) \u7edf\u4e00\u7ba1\u7406 \u533a\u522b \uff1a submit\u4e0emap\u53c2\u6570\u4e0d\u540c submit\u6bcf\u6b21\u90fd\u9700\u8981\u63d0\u4ea4\u4e00\u4e2a\u76ee\u6807\u51fd\u6570\u548c\u5bf9\u5e94\u53c2\u6570 map\u53ea\u9700\u8981\u63d0\u4ea4\u4e00\u6b21\u76ee\u6807\u51fd\u6570 \u76ee\u6807\u51fd\u6570\u7684\u53c2\u6570 \u653e\u5728\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5217\u8868\u3001\u5b57\u5178...\uff09\u91cc\u5c31\u53ef\u4ee5 \u4f7f\u7528 ```python from concurrent.futures import ThreadPoolExecutor import time # import threadpool #\u7ebf\u7a0b\u6c60 \u7edf\u4e00\u7ba1\u7406 \u7ebf\u7a0b def go(str): print(\"hello\",str) time.sleep(2) name_list = [\"lucky\",\"\u5362yuan\u51ef\",\"\u59da\u9752\",\"\u5218\u4f73\u4fca\",\"\u4f55\u5fc5\u5586\"] pool = ThreadPoolExecutor(5) #\u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570 ``` \u7ebf\u7a0b\u6c60\u8fd0\u884c\u7684\u65b9\u5f0f \u65b9\u5f0f\u4e00 ```python \u9010\u4e00\u4f20\u53c2\u6254\u8fdb\u7ebf\u7a0b\u6c60 for i in name_list: pool.submit(go, i) ``` \u7b80\u5199 python all_task = [pool.submit(go, i) for i in name_list] \u65b9\u5f0f\u4e8c ```python \u7edf\u4e00\u653e\u5165\u8fdb\u7a0b\u6c60\u4f7f\u7528 pool.map(go, name_list) \u591a\u4e2a\u53c2\u6570 pool.map(go, name_list1, name_list2...) ``` map(fn, *iterables, timeout=None) fn\uff1a \u7b2c\u4e00\u4e2a\u53c2\u6570 fn \u662f\u9700\u8981\u7ebf\u7a0b\u6267\u884c\u7684\u51fd\u6570\uff1b iterables\uff1a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63a5\u53d7\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff1b timeout\uff1a \u7b2c\u4e09\u4e2a\u53c2\u6570 timeout \u8ddf wait() \u7684 timeout \u4e00\u6837\uff0c\u4f46\u7531\u4e8e map \u662f\u8fd4\u56de\u7ebf\u7a0b\u6267\u884c\u7684\u7ed3\u679c\uff0c\u5982\u679c timeout\u5c0f\u4e8e\u7ebf\u7a0b\u6267\u884c\u65f6\u95f4\u4f1a\u629b\u5f02\u5e38 TimeoutError\u3002 \u6ce8\u610f\uff1a \u4f7f\u7528 map \u65b9\u6cd5\uff0c\u65e0\u9700\u63d0\u524d\u4f7f\u7528 submit \u65b9\u6cd5\uff0cmap \u65b9\u6cd5\u4e0e python \u9ad8\u9636\u51fd\u6570 map \u7684\u542b\u4e49\u76f8\u540c\uff0c\u90fd\u662f\u5c06\u5e8f\u5217\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u6267\u884c\u540c\u4e00\u4e2a\u51fd\u6570\u3002 \u83b7\u53d6\u8fd4\u56de\u503c \u65b9\u5f0f\u4e00 ```python import random from concurrent.futures import ThreadPoolExecutor, as_completed import time import threadpool \u7ebf\u7a0b\u6c60 \u7edf\u4e00\u7ba1\u7406 \u7ebf\u7a0b def go(str): print(\"hello\", str) time.sleep(random.randint(1, 4)) return str name_list = [\"lucky\",\"\u5362yuan\u51ef\",\"\u59da\u9752\",\"\u5218\u4f73\u4fca\",\"\u4f55\u5fc5\u5586\"] pool = ThreadPoolExecutor(5) #\u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570 \u7edf\u4e00\u653e\u5165\u8fdb\u7a0b\u6c60\u4f7f\u7528 all_task = [pool.submit(go, i) for i in name_list] for future in as_completed(all_task): print(\"finish the task\") obj_data = future.result() print(\"obj_data is \", obj_data) ``` as_completed \u5f53\u5b50\u7ebf\u7a0b\u4e2d\u7684\u4efb\u52a1\u6267\u884c\u5b8c\u540e\uff0c\u4f7f\u7528 result() \u83b7\u53d6\u8fd4\u56de\u7ed3\u679c \u8be5\u65b9\u6cd5\u662f\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u5728\u6ca1\u6709\u4efb\u52a1\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u4f1a\u4e00\u76f4\u963b\u585e\uff0c\u9664\u975e\u8bbe\u7f6e\u4e86 timeout\u3002 \u5f53\u6709\u67d0\u4e2a\u4efb\u52a1\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u4f1ayield\u8fd9\u4e2a\u4efb\u52a1\uff0c\u5c31\u80fd\u6267\u884cfor\u5faa\u73af\u4e0b\u9762\u7684\u8bed\u53e5\uff0c\u7136\u540e\u7ee7\u7eed\u963b\u585e\u4f4f\uff0c\u5faa\u73af\u5230\u6240\u6709\u4efb\u52a1\u7ed3\u675f\uff0c\u540c\u65f6\uff0c\u5148\u5b8c\u6210\u7684\u4efb\u52a1\u4f1a\u5148\u8fd4\u56de\u7ed9\u4e3b\u7ebf\u7a0b \u65b9\u5f0f\u4e8c python for result in pool.map(go, name_list): print(\"task:{}\".format(result)) wait \u7b49\u5f85\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5 \u5728\u7ee7\u7eed\u5411\u4e0b\u6267\u884c ```python from concurrent.futures import ThreadPoolExecutor, wait import time # \u53c2\u6570times\u7528\u6765\u6a21\u62df\u4e0b\u8f7d\u7684\u65f6\u95f4 def down_video(times): time.sleep(times) print(\"down video {}s finished\".format(times)) return times executor = ThreadPoolExecutor(max_workers=2) # \u901a\u8fc7submit\u51fd\u6570\u63d0\u4ea4\u6267\u884c\u7684\u51fd\u6570\u5230\u7ebf\u7a0b\u6c60\u4e2d\uff0csubmit\u51fd\u6570\u7acb\u5373\u8fd4\u56de\uff0c\u4e0d\u963b\u585e task1 = executor.submit(down_video, 3) task2 = executor.submit(down_video, 1) # done\u65b9\u6cd5\u7528\u4e8e\u5224\u5b9a\u67d0\u4e2a\u4efb\u52a1\u662f\u5426\u5b8c\u6210 print(\"\u4efb\u52a11\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\uff1a\", task1.done()) # time.sleep(4) print(wait([task1, task2])) print('wait') print(\"\u4efb\u52a11\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\uff1a\", task1.done()) print(\"\u4efb\u52a11\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\uff1a\", task2.done()) # result\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6task\u7684\u6267\u884c\u7ed3\u679c print(task1.result()) ``` \u7ebf\u7a0b\u6c60\u4e0e\u7ebf\u7a0b\u5bf9\u6bd4 \u7ebf\u7a0b\u6c60\u662f\u5728\u7a0b\u5e8f\u8fd0\u884c\u5f00\u59cb\uff0c\u521b\u5efa\u597d\u7684n\u4e2a\u7ebf\u7a0b\uff0c\u5e76\u4e14\u8fd9n\u4e2a\u7ebf\u7a0b\u6302\u8d77\u7b49\u5f85\u4efb\u52a1\u7684\u5230\u6765\u3002\u800c\u591a\u7ebf\u7a0b\u662f\u5728\u4efb\u52a1\u5230\u6765\u5f97\u65f6\u5019\u8fdb\u884c\u521b\u5efa\uff0c\u7136\u540e\u6267\u884c\u4efb\u52a1\u3002 \u7ebf\u7a0b\u6c60\u4e2d\u7684\u7ebf\u7a0b\u6267\u884c\u5b8c\u4e4b\u540e\u4e0d\u4f1a\u56de\u6536\u7ebf\u7a0b\uff0c\u4f1a\u7ee7\u7eed\u5c06\u7ebf\u7a0b\u653e\u5728\u7b49\u5f85\u961f\u5217\u4e2d\uff1b\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u5728\u6bcf\u6b21\u4efb\u52a1\u5b8c\u6210\u4e4b\u540e\u4f1a\u56de\u6536\u8be5\u7ebf\u7a0b\u3002 \u7531\u4e8e\u7ebf\u7a0b\u6c60\u4e2d\u7ebf\u7a0b\u662f\u521b\u5efa\u597d\u7684\uff0c\u6240\u4ee5\u5728\u6548\u7387\u4e0a\u76f8\u5bf9\u4e8e\u591a\u7ebf\u7a0b\u4f1a\u9ad8\u5f88\u591a\u3002 \u7ebf\u7a0b\u6c60\u4e5f\u5728\u9ad8\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u6709\u7740\u8f83\u597d\u7684\u6027\u80fd\uff1b\u4e0d\u5bb9\u6613\u6302\u6389\u3002\u591a\u7ebf\u7a0b\u5728\u521b\u5efa\u7ebf\u7a0b\u6570\u8f83\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u5f88\u5bb9\u6613\u6302\u6389\u3002 10\u3001\u961f\u5217\u6a21\u5757queue \u5bfc\u5165\u961f\u5217\u6a21\u5757 import queue \u6982\u8ff0 queue\u662fpython\u6807\u51c6\u5e93\u4e2d\u7684\u7ebf\u7a0b\u5b89\u5168\u7684\u961f\u5217\uff08FIFO\uff09\u5b9e\u73b0,\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9002\u7528\u4e8e\u591a\u7ebf\u7a0b\u7f16\u7a0b\u7684\u5148\u8fdb\u5148\u51fa\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5373\u961f\u5217\uff0c\u7528\u6765\u5728\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7ebf\u7a0b\u4e4b\u95f4\u7684\u4fe1\u606f\u4f20\u9012 \u57fa\u672cFIFO\u961f\u5217 queue.Queue(maxsize=0) FIFO\u5373First in First Out,\u5148\u8fdb\u5148\u51fa\u3002Queue\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u672c\u7684FIFO\u5bb9\u5668\uff0c\u4f7f\u7528\u65b9\u6cd5\u5f88\u7b80\u5355, maxsize\u662f\u4e2a\u6574\u6570 \uff0c\u6307\u660e\u4e86\u961f\u5217\u4e2d\u80fd\u5b58\u653e\u7684\u6570\u636e\u4e2a\u6570\u7684\u4e0a\u9650\u3002\u4e00\u65e6\u8fbe\u5230\u4e0a\u9650\uff0c\u63d2\u5165\u4f1a\u5bfc\u81f4\u963b\u585e\uff0c\u76f4\u5230\u961f\u5217\u4e2d\u7684\u6570\u636e\u88ab\u6d88\u8d39\u6389\u3002\u5982\u679c maxsize\u5c0f\u4e8e\u6216\u8005\u7b49\u4e8e0 \uff0c\u961f\u5217\u5927\u5c0f\u6ca1\u6709\u9650\u5236\u3002 \u4e3e\u4e2a\u6817\u5b50\uff1a ```python import queue q = queue.Queue() for i in range(5): q.put(i) while not q.empty(): print q.get() ``` \u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5 task_done() \u200b \u610f\u5473\u7740\u4e4b\u524d\u5165\u961f\u7684\u4e00\u4e2a\u4efb\u52a1\u5df2\u7ecf\u5b8c\u6210\u3002\u7531\u961f\u5217\u7684\u6d88\u8d39\u8005\u7ebf\u7a0b\u8c03\u7528\u3002\u6bcf\u4e00\u4e2aget()\u8c03\u7528\u5f97\u5230\u4e00\u4e2a\u4efb\u52a1\uff0c\u63a5\u4e0b\u6765\u7684task_done()\u8c03\u7528\u544a\u8bc9\u961f\u5217\u8be5\u4efb\u52a1\u5df2\u7ecf\u5904\u7406\u5b8c\u6bd5\u3002 \u200b \u5982\u679c\u5f53\u524d\u4e00\u4e2ajoin()\u6b63\u5728\u963b\u585e\uff0c\u5b83\u5c06\u5728\u961f\u5217\u4e2d\u7684\u6240\u6709\u4efb\u52a1\u90fd\u5904\u7406\u5b8c\u65f6\u6062\u590d\u6267\u884c\uff08\u5373\u6bcf\u4e00\u4e2a\u7531put()\u8c03\u7528\u5165\u961f\u7684\u4efb\u52a1\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684task_done()\u8c03\u7528\uff09\u3002 join() \u200b \u963b\u585e\u8c03\u7528\u7ebf\u7a0b\uff0c\u76f4\u5230\u961f\u5217\u4e2d\u7684\u6240\u6709\u4efb\u52a1\u88ab\u5904\u7406\u6389\u3002 \u200b \u53ea\u8981\u6709\u6570\u636e\u88ab\u52a0\u5165\u961f\u5217\uff0c\u672a\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u5c31\u4f1a\u589e\u52a0\u3002\u5f53\u6d88\u8d39\u8005\u7ebf\u7a0b\u8c03\u7528task_done()\uff08\u610f\u5473\u7740\u6709\u6d88\u8d39\u8005\u53d6\u5f97\u4efb\u52a1\u5e76\u5b8c\u6210\u4efb\u52a1\uff09\uff0c\u672a\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u5c31\u4f1a\u51cf\u5c11\u3002\u5f53\u672a\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u964d\u52300\uff0cjoin()\u89e3\u9664\u963b\u585e\u3002 put(item[, block[, timeout]]) \u5c06item\u653e\u5165\u961f\u5217\u4e2d\u3002 \u5982\u679c\u53ef\u9009\u7684\u53c2\u6570block\u4e3aTrue\u4e14timeout\u4e3a\u7a7a\u5bf9\u8c61\uff08\u9ed8\u8ba4\u7684\u60c5\u51b5\uff0c\u963b\u585e\u8c03\u7528\uff0c\u65e0\u8d85\u65f6\uff09\u3002 \u5982\u679ctimeout\u662f\u4e2a\u6b63\u6574\u6570\uff0c\u963b\u585e\u8c03\u7528\u8fdb\u7a0b\u6700\u591atimeout\u79d2\uff0c\u5982\u679c\u4e00\u76f4\u65e0\u7a7a\u7a7a\u95f4\u53ef\u7528\uff0c\u629b\u51faFull\u5f02\u5e38\uff08\u5e26\u8d85\u65f6\u7684\u963b\u585e\u8c03\u7528\uff09\u3002 \u5982\u679cblock\u4e3aFalse\uff0c\u5982\u679c\u6709\u7a7a\u95f2\u7a7a\u95f4\u53ef\u7528\u5c06\u6570\u636e\u653e\u5165\u961f\u5217\uff0c\u5426\u5219\u7acb\u5373\u629b\u51faFull\u5f02\u5e38 \u5176\u975e\u963b\u585e\u7248\u672c\u4e3a put_nowait \u7b49\u540c\u4e8e put(item, False) get([block[, timeout]]) \u200b \u4ece\u961f\u5217\u4e2d\u79fb\u9664\u5e76\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\u3002block\u8ddftimeout\u53c2\u6570\u540c put \u65b9\u6cd5 \u200b \u5176\u975e\u963b\u585e\u65b9\u6cd5\u4e3a get_nowait() \u76f8\u5f53\u4e0e get(False) empty() \u200b \u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u8fd4\u56deTrue,\u53cd\u4e4b\u8fd4\u56deFalse 11\u3001\u7ebf\u7a0b\u751f\u4ea7\u8005\u4e0e\u6d88\u8d39\u8005 \u5b9e\u4f8b ```python import threading import queue import time import random #\u751f\u4ea7 class creatorThread(threading.Thread): def init (self,index,myqueue): threading.Thread. init (self) self.index=index #\u7d22\u5f15 self.myqueue=myqueue #\u961f\u5217 def run(self): while True: time.sleep(3) #\u4e09\u79d2\u751f\u4ea7\u4e00\u4e2a num=random.randint(1,1000000) #\u968f\u673a\u6570 self.myqueue.put(\"input \u751f\u4ea7\u8005\"+str(self.index)+\"\u7845\u80f6\u5a03\u5a03\"+str(num)) print(\"input \u751f\u4ea7\u8005\"+str(self.index)+\"\u7845\u80f6\u5a03\u5a03\"+str(num)) #\u6d88\u8d39 class buyerThread(threading.Thread): def init (self,index,myqueue): threading.Thread. init (self) self.index=index #\u7d22\u5f15 self.myqueue=myqueue #\u961f\u5217 def run(self): while True: time.sleep(1) item=self.myqueue.get()#\u6293\u53d6\u6570\u636e print(\"\u5ba2\u6237\",self.index,\"\u4e70\u5230\u7269\u54c1\",item) myqueue=queue.Queue(10) #0\u4ee3\u8868\u65e0\u9650\uff0c10\u6700\u5927\u5bb9\u91cf for i in range(3): creatorThread(i,myqueue).start() #\u751f\u4ea7\u8005 for i in range(8): buyerThread(i,myqueue).start() #\u6d88\u8d39\u8005 ``` 12\u3001\u6848\u4f8b http://www.boxofficecn.com/boxofficecn \u6211\u4eec\u6293\u53d6\u4ece1994\u5e74\u52302021\u5e74\u7684\u7535\u5f71\u7968\u623f. import requests from lxml import etree from concurrent.futures import ThreadPoolExecutor def get_page_source(url): resp = requests.get(url) resp.encoding = 'utf-8' return resp.text def parse_html(html): try: tree = etree.HTML(html) trs = tree.xpath(\"//table/tbody/tr\")[1:] result = [] for tr in trs: year = tr.xpath(\"./td[2]//text()\") year = year[0] if year else \"\" name = tr.xpath(\"./td[3]//text()\") name = name[0] if name else \"\" money = tr.xpath(\"./td[4]//text()\") money = money[0] if money else \"\" d = (year, name, money) if any(d): result.append(d) return result except Exception as e: print(e) # \u8c03bug\u4e13\u7528 def download_one(url, f): page_source = get_page_source(url) data = parse_html(page_source) for item in data: f.write(\",\".join(item)) f.write(\"\\n\") def main(): f = open(\"movie.csv\", mode=\"w\", encoding='utf-8') lst = [str(i) for i in range(1994, 2022)] with ThreadPoolExecutor(10) as t: # \u65b9\u6848\u4e00 # for year in lst: # url = f\"http://www.boxofficecn.com/boxoffice{year}\" # # download_one(url, f) # t.submit(download_one, url, f) # \u65b9\u6848\u4e8c t.map(download_one, (f\"http://www.boxofficecn.com/boxoffice{year}\" for year in lst), (f for i in range(len(lst)))) if __name__ == '__main__': main() \u4e8c\u3001\u8fdb\u7a0bVS\u7ebf\u7a0b \u591a\u4efb\u52a1\u7684\u5b9e\u73b0\u539f\u7406 \u9996\u5148\uff0c\u8981\u5b9e\u73b0\u591a\u4efb\u52a1\uff0c\u901a\u5e38\u6211\u4eec\u4f1a\u8bbe\u8ba1Master-Worker\u6a21\u5f0f\uff0cMaster\u8d1f\u8d23\u5206\u914d\u4efb\u52a1\uff0cWorker\u8d1f\u8d23\u6267\u884c\u4efb\u52a1\uff0c\u56e0\u6b64\uff0c\u591a\u4efb\u52a1\u73af\u5883\u4e0b\uff0c\u901a\u5e38\u662f\u4e00\u4e2aMaster\uff0c\u591a\u4e2aWorker\u3002 \u5982\u679c\u7528\u591a\u8fdb\u7a0b\u5b9e\u73b0Master-Worker\uff0c\u4e3b\u8fdb\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c31\u662fWorker\u3002 \u5982\u679c\u7528\u591a\u7ebf\u7a0b\u5b9e\u73b0Master-Worker\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u7ebf\u7a0b\u5c31\u662fWorker\u3002 \u591a\u8fdb\u7a0b \u4e3b\u8fdb\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c31\u662fWorker \u4f18\u70b9 \u7a33\u5b9a\u6027\u9ad8\uff1a\u591a\u8fdb\u7a0b\u6a21\u5f0f\u6700\u5927\u7684\u4f18\u70b9\u5c31\u662f\u7a33\u5b9a\u6027\u9ad8\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u5d29\u6e83\u4e86\uff0c\u4e0d\u4f1a\u5f71\u54cd\u4e3b\u8fdb\u7a0b\u548c\u5176\u4ed6\u5b50\u8fdb\u7a0b\u3002\uff08\u5f53\u7136\u4e3b\u8fdb\u7a0b\u6302\u4e86\u6240\u6709\u8fdb\u7a0b\u5c31\u5168\u6302\u4e86\uff0c\u4f46\u662fMaster\u8fdb\u7a0b\u53ea\u8d1f\u8d23\u5206\u914d\u4efb\u52a1\uff0c\u6302\u6389\u7684\u6982\u7387\u4f4e\uff09\u8457\u540d\u7684Apache\u6700\u65e9\u5c31\u662f\u91c7\u7528\u591a\u8fdb\u7a0b\u6a21\u5f0f\u3002 \u7f3a\u70b9 \u521b\u5efa\u8fdb\u7a0b\u7684\u4ee3\u4ef7\u5927\uff1a\u5728Unix/Linux\u7cfb\u7edf\u4e0b\uff0c\u7528fork\u8c03\u7528\u8fd8\u884c\uff0c\u5728Windows\u4e0b\u521b\u5efa\u8fdb\u7a0b\u5f00\u9500\u5de8\u5927 \u64cd\u4f5c\u7cfb\u7edf\u80fd\u540c\u65f6\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\u4e5f\u662f\u6709\u9650\u7684\uff1a\u5728\u5185\u5b58\u548cCPU\u7684\u9650\u5236\u4e0b\uff0c\u5982\u679c\u6709\u51e0\u5343\u4e2a\u8fdb\u7a0b\u540c\u65f6\u8fd0\u884c\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8fde\u8c03\u5ea6\u90fd\u4f1a\u6210\u95ee\u9898 \u591a\u7ebf\u7a0b \u4e3b\u7ebf\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u7ebf\u7a0b\u5c31\u662fWorker \u4f18\u70b9 \u591a\u7ebf\u7a0b\u6a21\u5f0f\u901a\u5e38\u6bd4\u591a\u8fdb\u7a0b\u5feb\u4e00\u70b9\uff0c\u4f46\u662f\u4e5f\u5feb\u4e0d\u5230\u54ea\u53bb \u5728Windows\u4e0b\uff0c\u591a\u7ebf\u7a0b\u7684\u6548\u7387\u6bd4\u591a\u8fdb\u7a0b\u8981\u9ad8 \u7f3a\u70b9 \u4efb\u4f55\u4e00\u4e2a\u7ebf\u7a0b\u6302\u6389\u90fd\u53ef\u80fd\u76f4\u63a5\u9020\u6210\u6574\u4e2a\u8fdb\u7a0b\u5d29\u6e83\uff1a\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5185\u5b58\u3002\u5728Windows\u4e0a\uff0c\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u7684\u4ee3\u7801\u51fa\u4e86\u95ee\u9898\uff0c\u4f60\u7ecf\u5e38\u53ef\u4ee5\u770b\u5230\u8fd9\u6837\u7684\u63d0\u793a\uff1a\u201c\u8be5\u7a0b\u5e8f\u6267\u884c\u4e86\u975e\u6cd5\u64cd\u4f5c\uff0c\u5373\u5c06\u5173\u95ed\u201d\uff0c\u5176\u5b9e\u5f80\u5f80\u662f\u67d0\u4e2a\u7ebf\u7a0b\u51fa\u4e86\u95ee\u9898\uff0c\u4f46\u662f\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5f3a\u5236\u7ed3\u675f\u6574\u4e2a\u8fdb\u7a0b \u8ba1\u7b97\u5bc6\u96c6\u578b vs IO\u5bc6\u96c6\u578b \u8ba1\u7b97\u5bc6\u96c6\u578b\uff08\u591a\u8fdb\u7a0b\u9002\u5408\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff09 \u8981\u8fdb\u884c\u5927\u91cf\u7684\u8ba1\u7b97\uff0c\u6d88\u8017CPU\u8d44\u6e90\uff0c\u6bd4\u5982\u8ba1\u7b97\u5706\u5468\u7387\u3001\u5bf9\u89c6\u9891\u8fdb\u884c\u9ad8\u6e05\u89e3\u7801\u7b49\u7b49\uff0c\u5168\u9760CPU\u7684\u8fd0\u7b97\u80fd\u529b\u3002\u8fd9\u79cd\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u867d\u7136\u4e5f\u53ef\u4ee5\u7528\u591a\u4efb\u52a1\u5b8c\u6210\uff0c\u4f46\u662f\u4efb\u52a1\u8d8a\u591a\uff0c\u82b1\u5728\u4efb\u52a1\u5207\u6362\u7684\u65f6\u95f4\u5c31\u8d8a\u591a\uff0cCPU\u6267\u884c\u4efb\u52a1\u7684\u6548\u7387\u5c31\u8d8a\u4f4e\uff0c\u6240\u4ee5\uff0c\u8981\u6700\u9ad8\u6548\u5730\u5229\u7528CPU\uff0c\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u540c\u65f6\u8fdb\u884c\u7684\u6570\u91cf\u5e94\u5f53\u7b49\u4e8eCPU\u7684\u6838\u5fc3\u6570 IO\u5bc6\u96c6\u578b \uff08\u7ebf\u7a0b\u9002\u5408IO\u5bc6\u96c6\u578b\u4efb\u52a1\uff09 \u6d89\u53ca\u5230\u7f51\u7edc\u3001\u78c1\u76d8IO\u7684\u4efb\u52a1\u90fd\u662fIO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u8fd9\u7c7b\u4efb\u52a1\u7684\u7279\u70b9\u662fCPU\u6d88\u8017\u5f88\u5c11\uff0c\u4efb\u52a1\u7684\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u5728\u7b49\u5f85IO\u64cd\u4f5c\u5b8c\u6210\uff08\u56e0\u4e3aIO\u7684\u901f\u5ea6\u8fdc\u8fdc\u4f4e\u4e8eCPU\u548c\u5185\u5b58\u7684\u901f\u5ea6\uff09\u3002\u5bf9\u4e8eIO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u4efb\u52a1\u8d8a\u591a\uff0cCPU\u6548\u7387\u8d8a\u9ad8\uff0c\u4f46\u4e5f\u6709\u4e00\u4e2a\u9650\u5ea6\u3002\u5e38\u89c1\u7684\u5927\u90e8\u5206\u4efb\u52a1\u90fd\u662fIO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u6bd4\u5982Web\u5e94\u7528 \u591a\u7ebf\u7a0b\u5b58\u5728GIL\u9501\uff0c\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u6761\u7ebf\u7a0b\u6267\u884c\uff1b\u5728\u591a\u8fdb\u7a0b\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u6709\u72ec\u7acb\u7684GIL\uff0c\u4e0d\u4f1a\u53d1\u751fGIL\u51b2\u7a81\uff1b\u4f46\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u722c\u866b\u5c5e\u4e8eIO\u5bc6\u96c6\u578b\uff0c\u591a\u8fdb\u7a0b\u9002\u7528\u4e8eCPU\u8ba1\u7b97\u5bc6\u96c6\u578b\uff0c\u6240\u4ee5\u7528\u65f6\u8f83\u957f\uff0c\u901f\u5ea6\u6162\u4e8e\u591a\u7ebf\u7a0b\u5e76\u53d1\u3002","title":"\u4e5d\u3001\u7ebf\u7a0b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_1","text":"","title":"\u4e5d\u3001\u7ebf\u7a0b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_2","text":"","title":"\u4e00\u3001\u7ebf\u7a0b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#1","text":"\u7ebf\u7a0b \u5728\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u90e8\uff0c\u8981\u540c\u65f6\u5e72\u591a\u4ef6\u4e8b\uff0c\u5c31\u9700\u8981\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u201c\u5b50\u4efb\u52a1\u201d\uff0c\u6211\u4eec\u628a\u8fdb\u7a0b\u5185\u7684\u8fd9\u4e9b\u201c\u5b50\u4efb\u52a1\u201d\u53eb\u505a\u7ebf\u7a0b \u662f\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u8fdb\u884c\u8fd0\u7b97\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u5b83\u88ab\u5305\u542b\u5728\u8fdb\u7a0b\u4e4b\u4e2d\uff0c\u662f\u8fdb\u7a0b\u4e2d\u7684\u5b9e\u9645\u8fd0\u4f5c\u5355\u4f4d\u3002\u4e00\u6761\u7ebf\u7a0b\u6307\u7684\u662f\u8fdb\u7a0b\u4e2d\u4e00\u4e2a\u5355\u4e00\u987a\u5e8f\u7684\u63a7\u5236\u6d41\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u5e76\u53d1\u591a\u4e2a\u7ebf\u7a0b\uff0c\u6bcf\u6761\u7ebf\u7a0b\u5e76\u884c\u6267\u884c\u4e0d\u540c\u7684\u4efb\u52a1\u3002\u5728Unix System V\u53caSunOS\u4e2d\u4e5f\u88ab\u79f0\u4e3a\u8f7b\u91cf\u8fdb\u7a0b\uff08lightweight processes\uff09\uff0c\u4f46\u8f7b\u91cf\u8fdb\u7a0b\u66f4\u591a\u6307\u5185\u6838\u7ebf\u7a0b\uff08kernel thread\uff09\uff0c\u800c\u628a\u7528\u6237\u7ebf\u7a0b\uff08user thread\uff09\u79f0\u4e3a\u7ebf\u7a0b \u7ebf\u7a0b\u901a\u5e38\u53eb\u505a\u8f7b\u578b\u7684\u8fdb\u7a0b\u3002\u7ebf\u7a0b\u662f\u5171\u4eab\u5185\u5b58\u7a7a\u95f4\u7684\u5e76\u53d1\u6267\u884c\u7684\u591a\u4efb\u52a1\uff0c\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u90fd\u5171\u4eab\u4e00\u4e2a\u8fdb\u7a0b\u7684\u8d44\u6e90 \u7ebf\u7a0b\u662f\u6700\u5c0f\u7684\u6267\u884c\u5355\u5143\uff0c\u800c\u8fdb\u7a0b\u7531\u81f3\u5c11\u4e00\u4e2a\u7ebf\u7a0b\u7ec4\u6210\u3002\u5982\u4f55\u8c03\u5ea6\u8fdb\u7a0b\u548c\u7ebf\u7a0b\uff0c\u5b8c\u5168\u7531\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\uff0c\u7a0b\u5e8f\u81ea\u5df1\u4e0d\u80fd\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u6267\u884c\uff0c\u6267\u884c\u591a\u957f\u65f6\u95f4 \u591a\u7ebf\u7a0b \u662f\u6307\u4ece\u8f6f\u4ef6\u6216\u8005\u786c\u4ef6\u4e0a\u5b9e\u73b0\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u7684\u6280\u672f\u3002\u5177\u6709\u591a\u7ebf\u7a0b\u80fd\u529b\u7684\u8ba1\u7b97\u673a\u56e0\u6709\u786c\u4ef6\u652f\u6301\u800c\u80fd\u591f\u5728\u540c\u4e00\u65f6\u95f4\u6267\u884c\u591a\u4e8e\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u8fdb\u800c\u63d0\u5347\u6574\u4f53\u5904\u7406\u6027\u80fd\u3002\u5177\u6709\u8fd9\u79cd\u80fd\u529b\u7684\u7cfb\u7edf\u5305\u62ec\u5bf9\u79f0\u591a\u5904\u7406\u673a\u3001\u591a\u6838\u5fc3\u5904\u7406\u5668\u4ee5\u53ca\u82af\u7247\u7ea7\u591a\u5904\u7406\uff08Chip-level multithreading\uff09\u6216\u540c\u65f6\u591a\u7ebf\u7a0b\uff08Simultaneous multithreading\uff09\u5904\u7406\u5668\u3002 \u4e3b\u7ebf\u7a0b\uff1a \u200b \u4efb\u4f55\u8fdb\u7a0b\u90fd\u4f1a\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u4e3b\u7ebf\u7a0b \u5982\u679c\u4e3b\u7ebf\u7a0b\u6b7b\u6389 \u5b50\u7ebf\u4e5f\u7a0b\u4e5f\u6b7b\u6389 \u6240\u4ee5 \u5b50\u7ebf\u7a0b\u4f9d\u8d56\u4e8e\u4e3b\u7ebf\u7a0b GIL \u5176\u4ed6\u8bed\u8a00\uff0cCPU \u662f\u591a\u6838\u662f\u652f\u6301\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u3002\u4f46\u5728 Python \u4e2d\uff0c\u65e0\u8bba\u662f\u5355\u6838\u8fd8\u662f\u591a\u6838\uff0c\u540c\u65f6\u53ea\u80fd\u7531\u4e00\u4e2a\u7ebf\u7a0b\u5728\u6267\u884c\u3002\u5176\u6839\u6e90\u662f GIL \u7684\u5b58\u5728\u3002 GIL \u7684\u5168\u79f0\u662f Global Interpreter Lock(\u5168\u5c40\u89e3\u91ca\u5668\u9501)\uff0c\u6765\u6e90\u662f Python \u8bbe\u8ba1\u4e4b\u521d\u7684\u8003\u8651\uff0c\u4e3a\u4e86\u6570\u636e\u5b89\u5168\u6240\u505a\u7684\u51b3\u5b9a\u3002\u67d0\u4e2a\u7ebf\u7a0b\u60f3\u8981\u6267\u884c\uff0c\u5fc5\u987b\u5148\u62ff\u5230 GIL\uff0c\u6211\u4eec\u53ef\u4ee5\u628a GIL \u770b\u4f5c\u662f\u201c\u901a\u884c\u8bc1\u201d\uff0c\u5e76\u4e14\u5728\u4e00\u4e2a Python \u8fdb\u7a0b\u4e2d\uff0cGIL \u53ea\u6709\u4e00\u4e2a\u3002\u62ff\u4e0d\u5230\u901a\u884c\u8bc1\u7684\u7ebf\u7a0b\uff0c\u5c31\u4e0d\u5141\u8bb8\u8fdb\u5165 CPU \u6267\u884c\u3002 \u800c\u76ee\u524d Python \u7684\u89e3\u91ca\u5668\u6709\u591a\u79cd\uff0c\u4f8b\u5982\uff1a CPython \uff1aCPython \u662f\u7528C\u8bed\u8a00\u5b9e\u73b0\u7684 Python \u89e3\u91ca\u5668\u3002 \u4f5c\u4e3a\u5b98\u65b9\u5b9e\u73b0\uff0c\u5b83\u662f\u6700\u5e7f\u6cdb\u4f7f\u7528\u7684 Python \u89e3\u91ca\u5668\u3002 PyPy \uff1aPyPy \u662f\u7528RPython\u5b9e\u73b0\u7684\u89e3\u91ca\u5668\u3002RPython \u662f Python \u7684\u5b50\u96c6\uff0c \u5177\u6709\u9759\u6001\u7c7b\u578b\u3002\u8fd9\u4e2a\u89e3\u91ca\u5668\u7684\u7279\u70b9\u662f\u5373\u65f6\u7f16\u8bd1\uff0c\u652f\u6301\u591a\u91cd\u540e\u7aef\uff08C, CLI, JVM\uff09\u3002PyPy \u65e8\u5728\u63d0\u9ad8\u6027\u80fd\uff0c\u540c\u65f6\u4fdd\u6301\u6700\u5927\u517c\u5bb9\u6027\uff08\u53c2\u8003 CPython \u7684\u5b9e\u73b0\uff09\u3002 Jython \uff1aJython \u662f\u4e00\u4e2a\u5c06 Python \u4ee3\u7801\u7f16\u8bd1\u6210 Java \u5b57\u8282\u7801\u7684\u5b9e\u73b0\uff0c\u8fd0\u884c\u5728JVM (Java Virtual Machine) \u4e0a\u3002\u53e6\u5916\uff0c\u5b83\u53ef\u4ee5\u50cf\u662f\u7528 Python \u6a21\u5757\u4e00\u6837\uff0c\u5bfc\u5165 \u5e76\u4f7f\u7528\u4efb\u4f55Java\u7c7b\u3002 IronPython \uff1aIronPython \u662f\u4e00\u4e2a\u9488\u5bf9 .NET \u6846\u67b6\u7684 Python \u5b9e\u73b0\u3002\u5b83 \u53ef\u4ee5\u7528 Python \u548c .NET framewor k\u7684\u5e93\uff0c\u4e5f\u80fd\u5c06 Python \u4ee3\u7801\u66b4\u9732\u7ed9 .NET \u6846\u67b6\u4e2d\u7684\u5176\u4ed6\u8bed\u8a00\u3002 GIL \u53ea\u5728 CPython \u4e2d\u624d\u6709\uff0c\u800c\u5728 PyPy \u548c Jython \u4e2d\u662f\u6ca1\u6709 GIL \u7684\u3002 \u5728\u4f7f\u7528\u4e92\u65a5\u9501\u89e3\u51b3\u4ee3\u7801\u4e2d\u7684\u8d44\u6e90\u7ade\u4e89\u95ee\u9898\u65f6\uff0c\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u65f6\uff0c\u4f1a\u5c06\u5168\u5c40\u5171\u4eab\u7684\u8d44\u6e90\u4e0a\u9501\uff0c\u5f53\u7ebf\u7a0b\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5c06\u9501\u89e3\u5f00\uff0c\u91ca\u653e\u8d44\u6e90\uff0c\u5176\u4ed6\u7ebf\u7a0b\u624d\u80fd\u591f\u4f7f\u7528\u3002 \u6bcf\u6b21\u91ca\u653e GIL\u9501\uff0c\u7ebf\u7a0b\u8fdb\u884c\u9501\u7ade\u4e89\u3001\u5207\u6362\u7ebf\u7a0b\uff0c\u4f1a\u6d88\u8017\u8d44\u6e90\u3002\u8fd9\u5c31\u5bfc\u81f4\u6253\u5370\u7ebf\u7a0b\u6267\u884c\u65f6\u957f\uff0c\u4f1a\u53d1\u73b0\u8017\u65f6\u66f4\u957f\u7684\u539f\u56e0\u3002 \u5e76\u4e14\u7531\u4e8e GIL \u9501\u5b58\u5728\uff0cPython \u91cc\u4e00\u4e2a\u8fdb\u7a0b\u6c38\u8fdc\u53ea\u80fd\u540c\u65f6\u6267\u884c\u4e00\u4e2a\u7ebf\u7a0b(\u62ff\u5230 GIL \u7684\u7ebf\u7a0b\u624d\u80fd\u6267\u884c)\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5728\u591a\u6838CPU\u4e0a\uff0cPython \u7684\u591a\u7ebf\u7a0b\u6548\u7387\u5e76\u4e0d\u9ad8\u7684\u6839\u672c\u539f\u56e0\u3002 \u6a21\u5757 _thread\u6a21\u5757\uff1a\u4f4e\u7ea7\u6a21\u5757 threading\u6a21\u5757\uff1a\u9ad8\u7ea7\u6a21\u5757\uff0c\u5bf9_thread\u8fdb\u884c\u4e86\u5c01\u88c5","title":"1\u3001\u6982\u5ff5"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#2_thread","text":"\u5bfc\u5165\u6a21\u5757 import _thread \u5f00\u542f\u7ebf\u7a0b _thread.start_new_thread(\u51fd\u6570\u540d,\u53c2\u6570) \u6ce8\u610f\uff1a \u53c2\u6570\u5fc5\u987b\u4e3a\u5143\u7ec4\u7c7b\u578b \u5982\u679c\u4e3b\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5 \u5b50\u7ebf\u7a0b\u5c31\u4f1a\u6b7b\u6389 \u5982\u679c\u7ebf\u7a0b\u4e0d\u9700\u8981\u4f20\u53c2\u6570\u7684\u65f6\u5019 \u4e5f\u5fc5\u987b\u4f20\u9012\u4e00\u4e2a\u7a7a\u5143\u7ec4\u5360\u4f4d \u5b9e\u4f8b ```python import win32api import _thread #\u5f15\u5165\u7ebf\u7a0b\u7684\u6a21\u5757 \u6bd4\u8f83\u8001\u7684\u6a21\u5757 \u65b0\u7684 threading def run(i): win32api.MessageBox(0,\"\u60a8\u7684{}\u53f7\u5927\u5b9d\u8d1d\u4e0a\u7ebf\u4e86\".format(i),\"\u6765\u81ea\u51e4\u59d0\u4ee5\u53ca\u9646\u6e90\u51ef\u7684\u95ee\u5019\",2) for i in range(5): _thread.start_new_thread(run,(i,)) #\u53d1\u8d77\u591a\u4e2a\u7ebf\u7a0b \u4f20\u53c2\u7684\u60c5\u51b5 \u53c2\u6570\u4e3a\u5143\u7ec4 # _thread.start_new_thread(run,()) #\u53d1\u8d77\u591a\u4e2a\u7ebf\u7a0b \u4e0d\u4f20\u53c2 \u9875\u9700\u8981\u4fe9\u4e2a\u53c2\u6570 \u7b2c\u4e8c\u4e2a\u4e3a\u7a7a\u5143\u7ec4 print('\u4f1a\u5148\u6267\u884c\u6211') #\u5982\u679c\u4e3b\u7ebf\u7a0b \u4e0d\u6b7b \u90a3\u4e48 \u6240\u6709\u7684\u6b21\u7ebf\u7a0b \u5c31\u90fd\u4f1a\u6b63\u5e38\u6267\u884c while True: pass ``` \u63d0\u9ad8\u6548\u7387 ```python import _thread import time def run(): for i in range(10): print(i,'------------') time.sleep(1) \"\"\" for i in range(5): #50\u79d2 run() \"\"\" for i in range(5): _thread.start_new_thread(run,()) #\u53d1\u8d77\u4e94\u4e2a\u7ebf\u7a0b\u53bb\u6267\u884c \u65f6\u95f4\u5927\u5927\u7f29\u77ed for i in range(10): #\u5faa\u73af10\u79d2 \u8ba1\u7b97 \u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5\u6240\u9700\u8981\u7684\u65f6\u95f4 \u7c7b\u4f3c\u4e0e\u4e00\u4e2a\u52ab\u505c time.sleep(1) print('xxxx') ```","title":"2\u3001\u4f7f\u7528_thread \u6a21\u5757 \u53bb\u521b\u5efa\u7ebf\u7a0b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#3threading","text":"\u5bfc\u5165\u6a21\u5757 import threading threading\u521b\u5efa\u7ebf\u7a0b\u7684\u65b9\u5f0f myThread = threading.Thread(target=\u51fd\u6570\u540d[,args=(\u53c2\u6570,),name=\"\u4f60\u6307\u5b9a\u7684\u7ebf\u7a0b\u540d\u79f0\"]) \u53c2\u6570 target\uff1a\u6307\u5b9a\u7ebf\u7a0b\u6267\u884c\u7684\u51fd\u6570 name\uff1a\u6307\u5b9a\u5f53\u524d\u7ebf\u7a0b\u7684\u540d\u79f0 args\uff1a\u4f20\u9012\u4e2a\u5b50\u7ebf\u7a0b\u7684\u53c2\u6570 ,(\u5143\u7ec4\u5f62\u5f0f) \u5f00\u542f\u7ebf\u7a0b myThread.start() \u7ebf\u7a0b\u7b49\u5f85 myThread.join() \u8fd4\u56de\u5f53\u524d\u7ebf\u7a0b\u5bf9\u8c61 threading.current_thread() threading.currentThread() \u83b7\u53d6\u5f53\u524d\u7ebf\u7a0b\u7684\u540d\u79f0 threading.current_thread().name threading.currentThread().getName() \u8bbe\u7f6e\u7ebf\u7a0b\u540d setName() python Thread(target=fun).setName('name') \u8fd4\u56de\u4e3b\u7ebf\u7a0b\u5bf9\u8c61 threading.main_thread()\u3000\u3000 \u83b7\u53d6\u5f53\u524d\u6d3b\u7740\u7684\u6240\u6709\u7ebf\u7a0b\u603b\u6570\uff0c\u5305\u62ec\u4e3b\u7ebf\u7a0bmain threading.active_count() \u6216 threading.activeCount()\u3000 \u5224\u65ad\u7ebf\u7a0b\u662f\u4e0d\u662f\u6d3b\u7684\uff0c\u5373\u7ebf\u7a0b\u662f\u5426\u5df2\u7ecf\u7ed3\u675f Thread.is_alive() Thread.isAlive() \u7ebf\u7a0b\u5b88\u62a4 \u8bbe\u7f6e\u5b50\u7ebf\u7a0b\u662f\u5426\u968f\u4e3b\u7ebf\u7a0b\u4e00\u8d77\u7ed3\u675f \u6709\u4e00\u4e2a\u5e03\u5c14\u503c\u7684\u53c2\u6570\uff0c\u9ed8\u8ba4\u4e3aFalse\uff0c\u8be5\u65b9\u6cd5\u8bbe\u7f6e\u5b50\u7ebf\u7a0b\u662f\u5426\u968f\u4e3b\u7ebf\u7a0b\u4e00\u8d77\u7ed3\u675f True\u4e00\u8d77\u7ed3\u675f Thread.setDaemon(True) \u8fd8\u6709\u4e2a\u8981\u7279\u522b\u6ce8\u610f\u7684\uff1a\u5fc5\u987b\u5728start() \u65b9\u6cd5\u8c03\u7528\u4e4b\u524d\u8bbe\u7f6e python if __name__ == '__main__': t = Thread(target=fun, args=(1,)) t.setDaemon(True) t.start() print('over') \u83b7\u53d6\u5f53\u524d\u6240\u6709\u7684\u7ebf\u7a0b\u540d\u79f0 python threading.enumerate() # \u8fd4\u56de\u5f53\u524d\u5305\u542b\u6240\u6709\u7ebf\u7a0b\u7684\u5217\u8868","title":"3\u3001threading\u521b\u5efa\u7ebf\u7a0b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#4","text":"import time import threading def run1(): # \u83b7\u53d6\u7ebf\u7a0b\u540d\u5b57 print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\"%(threading.current_thread().name)) for i in range(5): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\" % (threading.current_thread().name)) for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if __name__ == \"__main__\": t1 = time.clock() # \u4e3b\u8fdb\u7a0b\u4e2d\u9ed8\u8ba4\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u79f0\u4e3a\u4e3b\u7ebf\u7a0b(\u7236\u7ebf\u7a0b) # \u4e3b\u7ebf\u7a0b\u4e00\u822c\u4f5c\u4e3a\u8c03\u5ea6\u800c\u5b58\u5728\uff0c\u4e0d\u5177\u4f53\u5b9e\u73b0\u4e1a\u52a1\u903b\u8f91 # \u521b\u5efa\u5b50\u7ebf\u7a0b # name\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u540d\u79f0\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u6309\u987a\u5e8f\u8bbe\u7f6e\u4e3aThread-n th1 = threading.Thread(target=run1, name=\"th1\") th2 = threading.Thread(target=run2, args=(\"lucky\", \"nice\")) #\u542f\u52a8 th1.start() th2.start() #\u7b49\u5f85\u5b50\u7ebf\u7a0b\u7ed3\u675f th1.join() th2.join() t2 = time.clock() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1))","title":"4\u3001\u542f\u52a8\u7ebf\u7a0b\u5b9e\u73b0\u591a\u4efb\u52a1"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#5","text":"\u6982\u8ff0 \u200b \u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u6700\u5927\u7684\u4e0d\u540c\u5728\u4e8e\uff0c\u591a\u8fdb\u7a0b\u4e2d\uff0c\u540c\u4e00\u4e2a\u53d8\u91cf\uff0c\u5404\u81ea\u6709\u4e00\u4efd\u62f7\u8d1d\u5b58\u5728\u6bcf\u4e2a\u8fdb\u7a0b\u4e2d\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002\u800c\u591a\u7ebf\u7a0b\u4e2d\uff0c\u6240\u6709\u53d8\u91cf\u90fd\u7531\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u3002\u6240\u4ee5\uff0c\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\u90fd\u53ef\u4ee5\u88ab\u4efb\u610f\u4e00\u4e2a\u7ebf\u7a0b\u4fee\u6539\uff0c\u56e0\u6b64\uff0c\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u6570 \u636e\u6700\u5927\u7684\u5371\u9669\u5728\u4e8e\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u4fee\u6539\u4e00\u4e2a\u53d8\u91cf\uff0c\u5bb9\u6613\u628a\u5185\u5bb9\u6539\u4e71\u4e86\u3002 import time import threading money = 0 def run1(): global money money = 1 print(\"run1-----------\", money) print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\"%(threading.current_thread().name)) for i in range(5): print(\"lucky is a good man\") time.sleep(1) def run2(name, word): print(\"run2-----------\", money) print(\"\u542f\u52a8%s\u5b50\u7ebf\u7a0b\u2026\u2026\" % (threading.current_thread().name)) for i in range(5): print(\"%s is a %s man\"%(name, word)) time.sleep(1) if __name__ == \"__main__\": t1 = time.clock() th1 = threading.Thread(target=run1, name=\"th1\") th2 = threading.Thread(target=run2, args=(\"lucky\", \"nice\")) th1.start() th2.start() th1.join() th2.join() t2 = time.clock() print(\"\u8017\u65f6\uff1a%.2f\"%(t2-t1)) print(\"main-----------\", money)","title":"5\u3001\u7ebf\u7a0b\u95f4\u5171\u4eab\u6570\u636e"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#6lock","text":"\u6982\u8ff0 Lock\u9501\u662f\u7ebf\u7a0b\u6a21\u5757\u4e2d\u7684\u4e00\u4e2a\u7c7b\uff0c\u6709\u4e24\u4e2a\u4e3b\u8981\u65b9\u6cd5\uff1aacquire()\u548crelease() \u5f53\u8c03\u7528acquire()\u65b9\u6cd5\u65f6\uff0c\u5b83\u9501\u5b9a\u9501\u7684\u6267\u884c\u5e76\u963b\u585e\u9501\u7684\u6267\u884c\uff0c\u76f4\u5230\u5176\u4ed6\u7ebf\u7a0b\u8c03\u7528release()\u65b9\u6cd5\u5c06\u5176\u8bbe\u7f6e\u4e3a\u89e3\u9501\u72b6\u6001\u3002\u9501\u5e2e\u52a9\u6211\u4eec\u6709\u6548\u5730\u8bbf\u95ee\u7a0b\u5e8f\u4e2d\u7684\u5171\u4eab\u8d44\u6e90\uff0c\u4ee5\u9632\u6b62\u6570\u636e\u635f\u574f\uff0c\u5b83\u9075\u5faa\u4e92\u65a5\uff0c\u56e0\u4e3a\u4e00\u6b21\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u7279\u5b9a\u7684\u8d44\u6e90\u3002 \u4f5c\u7528 \u907f\u514d\u7ebf\u7a0b\u51b2\u7a81 \u9501\uff1a \u786e\u4fdd\u4e86\u8fd9\u6bb5\u4ee3\u7801\u53ea\u80fd\u7531\u4e00\u4e2a\u7ebf\u7a0b\u4ece\u5934\u5230\u5c3e\u7684\u5b8c\u6574\u6267\u884c\u963b\u6b62\u4e86\u591a\u7ebf\u7a0b\u7684\u5e76\u53d1\u6267\u884c,\u5305\u542b\u9501\u7684\u67d0\u6bb5\u4ee3\u7801\u5b9e\u9645\u4e0a\u53ea\u80fd\u4ee5\u5355\u7ebf\u7a0b\u6a21\u5f0f\u6267\u884c,\u6240\u4ee5\u6548\u7387\u5927\u5927\u7684\u964d\u4f4e\u4e86 \u7531\u4e8e\u53ef\u4ee5\u5b58\u5728\u591a\u4e2a\u9501,\u4e0d\u540c\u7ebf\u7a0b\u6301\u6709\u4e0d\u540c\u7684\u9501,\u5e76\u8bd5\u56fe\u83b7\u53d6\u5176\u4ed6\u7684\u9501, \u53ef\u80fd\u9020\u6210\u6b7b\u9501,\u5bfc\u81f4\u591a\u4e2a\u7ebf\u7a0b\u53ea\u80fd\u6302\u8d77,\u53ea\u80fd\u9760\u64cd\u4f5c\u7cfb\u7edf\u5f3a\u884c\u7ec8\u6b62 \u6ce8\u610f\uff1a \u5f53\u524d\u7ebf\u7a0b\u9501\u5b9a\u4ee5\u540e \u540e\u9762\u7684\u7ebf\u7a0b\u4f1a\u7b49\u5f85\uff08\u7ebf\u7a0b\u7b49\u5f85/\u7ebf\u7a0b\u963b\u585e\uff09 \u9700\u8981release \u89e3\u9501\u4ee5\u540e\u624d\u6b63\u5e38 \u4e0d\u80fd\u91cd\u590d\u9501\u5b9a \u5185\u5b58\u9519\u4e71\u5b9e\u4f8b ```python import threading import time i = 1 def fun1(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun1-----', i) def fun2(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun2----', i) t1 = threading.Thread(target=fun1) t2 = threading.Thread(target=fun2) t1.start() t2.start() t1.join() t2.join() print('mian----',i) ``` \u95ee\u9898\uff1a\u4e24\u4e2a\u7ebf\u7a0b\u5bf9\u540c\u4e00\u6570\u636e\u540c\u65f6\u8fdb\u884c\u8bfb\u5199\uff0c\u53ef\u80fd\u9020\u6210\u6570\u636e\u503c\u7684\u4e0d\u5bf9\uff0c\u6211\u4eec\u5fc5\u987b\u4fdd\u8bc1\u4e00\u4e2a\u7ebf\u7a0b\u5728\u4fee\u6539money\u65f6\u5176\u4ed6\u7684\u7ebf\u7a0b\u4e00\u5b9a\u4e0d\u80fd\u4fee\u6539\uff0c\u7ebf\u7a0b\u9501\u89e3\u51b3\u6570\u636e\u6df7\u4e71\u95ee\u9898 \u7ebf\u7a0b\u9501Lock\u4f7f\u7528\u65b9\u6cd5 python import threading # \u521b\u5efa\u4e00\u4e2a\u9501 lock = threading.Lock() lock.acquire() #\u8fdb\u884c\u9501\u5b9a \u9501\u5b9a\u6210\u529f\u8fd4\u56deTrue lock.release() #\u8fdb\u884c\u89e3\u9501 Lock\u9501\u7684\u4f7f\u7528: ```python import threading import time i = 1 def fun1(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun1-----', i) def fun2(): global i time.sleep(3) for x in range(1000000): i += x i -= x print('fun2----', i) t1 = threading.Thread(target=fun1) t2 = threading.Thread(target=fun2) t1.start() t2.start() t1.join() t2.join() print('mian----',i) ``` \u5728\u4e0a\u9762\u7684\u7a0b\u5e8f\u4e2d,lock\u662f\u4e00\u4e2a\u9501\u5bf9\u8c61,\u5168\u5c40\u53d8\u91cfabce\u662f\u4e00\u4e2a\u5171\u4eab\u8d44\u6e90,sumOne()\u548csumTwo()\u51fd\u6570\u626e\u4f5c\u4e24\u4e2a\u7ebf\u7a0b,\u5728sumOne()\u51fd\u6570\u4e2d\u5171\u4eab\u8d44\u6e90abce\u9996\u5148\u88ab\u9501\u5b9a,\u7136\u540e\u589e\u52a0\u4e861,\u7136\u540eabce\u88ab\u91ca\u653e\u3002sumTwo()\u51fd\u6570\u6267\u884c\u7c7b\u4f3c\u64cd\u4f5c\u3002 \u4e24\u4e2a\u51fd\u6570sumOne()\u548csumTwo()\u4e0d\u80fd\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90abce\uff0c\u4e00\u6b21\u53ea\u80fd\u4e00\u4e2a\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u3002 \u89e3\u51b3\u8d44\u6e90\u6df7\u4e71 ```python import threading Lock = threading.Lock() i = 1 def fun1(): global i if Lock.acquire(): # \u5224\u65ad\u662f\u5426\u4e0a\u9501 \u9501\u5b9a\u6210\u529f for x in range(1000000): i += x i -= x Lock.release() print('fun1-----', i) def fun2(): global i if Lock.acquire(): # \u5224\u65ad\u662f\u5426\u4e0a\u9501 \u9501\u5b9a\u6210\u529f for x in range(1000000): i += x i -= x Lock.release() print('fun2----', i) t1 = threading.Thread(target=fun1) t2 = threading.Thread(target=fun2) t1.start() t2.start() t1.join() t2.join() print('mian----',i) ``` \u7ebf\u7a0b\u9501\u7684\u7b80\u5199\uff08\u4e0d\u9700\u8981\u624b\u52a8\u89e3\u9501\uff09 with lock: \u4ee3\u7801\u6bb5 \u5b9e\u4f8b\uff08\u5c06\u4e0a\u9762\u4e0a\u9501\u7684\u4ee3\u7801\u6bb5\u66f4\u6539\u4e3a\uff09 python def run2(): for i in range(1000000): #\u7b80\u5199\uff0c\u529f\u80fd\u4e0e\u4e0a\u9762\u4e00\u81f4 with lock: ... \u7ed3\u679c\u4e00\u6837","title":"6\u3001Lock\u7ebf\u7a0b\u9501(\u591a\u7ebf\u7a0b\u5185\u5b58\u9519\u4e71\u95ee\u9898)"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#7timer","text":"\u6982\u8ff0 Timer\u662fThread\u7684\u5b50\u7c7b\uff0c\u53ef\u4ee5\u6307\u5b9a\u65f6\u95f4\u95f4\u9694\u540e\u5728\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c \u4f7f\u7528 ```python import threading def go(): print(\"\u8d70\u6211\u4e86\") # t = threading.Timer(\u79d2\u6570,\u51fd\u6570\u540d) t = threading.Timer(3,go) t.start() print('\u6211\u662f\u4e3b\u7ebf\u7a0b\u7684\u4ee3\u7801') ```","title":"7\u3001Timer\u5b9a\u65f6\u6267\u884c"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#8threadpool","text":"\u542f\u52a8\u5927\u91cf\u7ebf\u7a0b \u5b89\u88c5 pip install threadpool \u4f7f\u7528 \u5f15\u5165threadpool\u6a21\u5757 import threadpool \u5b9a\u4e49\u7ebf\u7a0b\u51fd\u6570 \u521b\u5efa\u7ebf\u7a0b\u6c60 threadpool.ThreadPool() \u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570 pool = threadpool.ThreadPool(5) \u521b\u5efa\u9700\u8981\u7ebf\u7a0b\u6c60\u5904\u7406\u7684\u4efb\u52a1 equests = threadpool.makeRequests(go,name_list) \u5c06\u521b\u5efa\u7684\u591a\u4e2a\u4efb\u52a1put\u5230\u7ebf\u7a0b\u6c60\u4e2d,threadpool.putRequest for i in Requests: pool.putRequest(i) \u6216\uff1a [pool.putRequest(i) for i in requests] \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b \u6267\u884c\u5b8c\u6bd5 \u5728\u7ee7\u7eed\u5f80\u4e0b \u6267\u884c threadpool.wait() threadpool\u7ebf\u7a0b\u6c60\u7684\u4f7f\u7528 \u65b9\u5f0f\u4e00 ```python import time import threadpool","title":"8\u3001threadpool\u7ebf\u7a0b\u6c60"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_3","text":"def go(str): print(\"hello\", str) time.sleep(2) name_list = [\"lucky\", \"\u5362yuan\u51ef\", \"\u59da\u9752\", \"\u5218\u4f73\u4fca\", \"\u4f55\u5fc5\u5586\"] pool = threadpool.ThreadPool(5) # \u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570 start = time.time() requests = threadpool.makeRequests(go, name_list) # \u8bbe\u7f6e\u53c2\u6570 \u8f6c\u6362\u6210\u7ebf\u7a0b\u6c60\u5bf9\u8c61 for i in requests: pool.putRequest(i) pool.wait() ``` \u65b9\u5f0f\u4e8c python ... [pool.putRequest(req) for req in requests] pool.wait() # \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b \u6267\u884c\u5b8c\u6bd5 \u5728\u7ee7\u7eed\u5f80\u4e0b \u6267\u884c print('\u8fd0\u884c\u7684\u79d2\u6570', time.time() - start) \u7ebf\u7a0b\u6c60\u591a\u4e2a\u53c2\u6570\u7684\u60c5\u51b5 \u5f53\u51fd\u6570\u6709\u591a\u4e2a\u53c2\u6570\u7684\u60c5\u51b5\uff0c\u51fd\u6570\u8c03\u7528\u65f6\u7b2c\u4e00\u4e2a\u89e3\u5305list\uff0c\u7b2c\u4e8c\u4e2a\u89e3\u5305dict\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fd9\u6837 ```python import threadpool def hello(m, n, o): \"\"\"\"\"\" print \"m = %s, n = %s, o = %s\"%(m, n, o) if name == ' main ': # \u65b9\u6cd51 lst_vars_1 = ['1', '2', '3'] lst_vars_2 = ['4', '5', '6'] func_var = [(lst_vars_1, None), (lst_vars_2, None)] # \u65b9\u6cd52 dict_vars_1 = {'m':'1', 'n':'2', 'o':'3'} dict_vars_2 = {'m':'4', 'n':'5', 'o':'6'} func_var = [(None, dict_vars_1), (None, dict_vars_2)] pool = threadpool.ThreadPool(2) requests = threadpool.makeRequests(hello, func_var) [pool.putRequest(req) for req in requests] pool.wait() ```","title":"\u7ebf\u7a0b\u6c60 \u7edf\u4e00\u7ba1\u7406 \u7ebf\u7a0b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#9threadpoolexecutor","text":"\u6a21 \u5757 concurrent.futures \u5bfc\u5165 Executor[\u026a\u0261\u02c8zekj\u0259t\u0259r] python from concurrent.futures import ThreadPoolExecutor \u65b9\u6cd5 submit(fun[, args]) \u4f20\u5165\u653e\u5165\u7ebf\u7a0b\u6c60\u7684\u51fd\u6570\u4ee5\u53ca\u4f20\u53c2 map(fun[, iterable_args]) \u7edf\u4e00\u7ba1\u7406 \u533a\u522b \uff1a submit\u4e0emap\u53c2\u6570\u4e0d\u540c submit\u6bcf\u6b21\u90fd\u9700\u8981\u63d0\u4ea4\u4e00\u4e2a\u76ee\u6807\u51fd\u6570\u548c\u5bf9\u5e94\u53c2\u6570 map\u53ea\u9700\u8981\u63d0\u4ea4\u4e00\u6b21\u76ee\u6807\u51fd\u6570 \u76ee\u6807\u51fd\u6570\u7684\u53c2\u6570 \u653e\u5728\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5217\u8868\u3001\u5b57\u5178...\uff09\u91cc\u5c31\u53ef\u4ee5 \u4f7f\u7528 ```python from concurrent.futures import ThreadPoolExecutor import time # import threadpool #\u7ebf\u7a0b\u6c60 \u7edf\u4e00\u7ba1\u7406 \u7ebf\u7a0b def go(str): print(\"hello\",str) time.sleep(2) name_list = [\"lucky\",\"\u5362yuan\u51ef\",\"\u59da\u9752\",\"\u5218\u4f73\u4fca\",\"\u4f55\u5fc5\u5586\"] pool = ThreadPoolExecutor(5) #\u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570 ``` \u7ebf\u7a0b\u6c60\u8fd0\u884c\u7684\u65b9\u5f0f \u65b9\u5f0f\u4e00 ```python","title":"9\u3001\u7ebf\u7a0b\u6c60ThreadPoolExecutor"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_4","text":"for i in name_list: pool.submit(go, i) ``` \u7b80\u5199 python all_task = [pool.submit(go, i) for i in name_list] \u65b9\u5f0f\u4e8c ```python","title":"\u9010\u4e00\u4f20\u53c2\u6254\u8fdb\u7ebf\u7a0b\u6c60"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_5","text":"pool.map(go, name_list)","title":"\u7edf\u4e00\u653e\u5165\u8fdb\u7a0b\u6c60\u4f7f\u7528"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_6","text":"","title":"\u591a\u4e2a\u53c2\u6570"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#poolmapgo-name_list1-name_list2","text":"``` map(fn, *iterables, timeout=None) fn\uff1a \u7b2c\u4e00\u4e2a\u53c2\u6570 fn \u662f\u9700\u8981\u7ebf\u7a0b\u6267\u884c\u7684\u51fd\u6570\uff1b iterables\uff1a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63a5\u53d7\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff1b timeout\uff1a \u7b2c\u4e09\u4e2a\u53c2\u6570 timeout \u8ddf wait() \u7684 timeout \u4e00\u6837\uff0c\u4f46\u7531\u4e8e map \u662f\u8fd4\u56de\u7ebf\u7a0b\u6267\u884c\u7684\u7ed3\u679c\uff0c\u5982\u679c timeout\u5c0f\u4e8e\u7ebf\u7a0b\u6267\u884c\u65f6\u95f4\u4f1a\u629b\u5f02\u5e38 TimeoutError\u3002 \u6ce8\u610f\uff1a \u4f7f\u7528 map \u65b9\u6cd5\uff0c\u65e0\u9700\u63d0\u524d\u4f7f\u7528 submit \u65b9\u6cd5\uff0cmap \u65b9\u6cd5\u4e0e python \u9ad8\u9636\u51fd\u6570 map \u7684\u542b\u4e49\u76f8\u540c\uff0c\u90fd\u662f\u5c06\u5e8f\u5217\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u6267\u884c\u540c\u4e00\u4e2a\u51fd\u6570\u3002 \u83b7\u53d6\u8fd4\u56de\u503c \u65b9\u5f0f\u4e00 ```python import random from concurrent.futures import ThreadPoolExecutor, as_completed import time","title":"pool.map(go, name_list1, name_list2...)"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#import-threadpool","text":"","title":"import threadpool"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_7","text":"def go(str): print(\"hello\", str) time.sleep(random.randint(1, 4)) return str name_list = [\"lucky\",\"\u5362yuan\u51ef\",\"\u59da\u9752\",\"\u5218\u4f73\u4fca\",\"\u4f55\u5fc5\u5586\"] pool = ThreadPoolExecutor(5) #\u63a7\u5236\u7ebf\u7a0b\u7684\u5e76\u53d1\u6570","title":"\u7ebf\u7a0b\u6c60 \u7edf\u4e00\u7ba1\u7406 \u7ebf\u7a0b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#_8","text":"all_task = [pool.submit(go, i) for i in name_list] for future in as_completed(all_task): print(\"finish the task\") obj_data = future.result() print(\"obj_data is \", obj_data) ``` as_completed \u5f53\u5b50\u7ebf\u7a0b\u4e2d\u7684\u4efb\u52a1\u6267\u884c\u5b8c\u540e\uff0c\u4f7f\u7528 result() \u83b7\u53d6\u8fd4\u56de\u7ed3\u679c \u8be5\u65b9\u6cd5\u662f\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u5728\u6ca1\u6709\u4efb\u52a1\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u4f1a\u4e00\u76f4\u963b\u585e\uff0c\u9664\u975e\u8bbe\u7f6e\u4e86 timeout\u3002 \u5f53\u6709\u67d0\u4e2a\u4efb\u52a1\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u4f1ayield\u8fd9\u4e2a\u4efb\u52a1\uff0c\u5c31\u80fd\u6267\u884cfor\u5faa\u73af\u4e0b\u9762\u7684\u8bed\u53e5\uff0c\u7136\u540e\u7ee7\u7eed\u963b\u585e\u4f4f\uff0c\u5faa\u73af\u5230\u6240\u6709\u4efb\u52a1\u7ed3\u675f\uff0c\u540c\u65f6\uff0c\u5148\u5b8c\u6210\u7684\u4efb\u52a1\u4f1a\u5148\u8fd4\u56de\u7ed9\u4e3b\u7ebf\u7a0b \u65b9\u5f0f\u4e8c python for result in pool.map(go, name_list): print(\"task:{}\".format(result)) wait \u7b49\u5f85\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5 \u5728\u7ee7\u7eed\u5411\u4e0b\u6267\u884c ```python from concurrent.futures import ThreadPoolExecutor, wait import time # \u53c2\u6570times\u7528\u6765\u6a21\u62df\u4e0b\u8f7d\u7684\u65f6\u95f4 def down_video(times): time.sleep(times) print(\"down video {}s finished\".format(times)) return times executor = ThreadPoolExecutor(max_workers=2) # \u901a\u8fc7submit\u51fd\u6570\u63d0\u4ea4\u6267\u884c\u7684\u51fd\u6570\u5230\u7ebf\u7a0b\u6c60\u4e2d\uff0csubmit\u51fd\u6570\u7acb\u5373\u8fd4\u56de\uff0c\u4e0d\u963b\u585e task1 = executor.submit(down_video, 3) task2 = executor.submit(down_video, 1) # done\u65b9\u6cd5\u7528\u4e8e\u5224\u5b9a\u67d0\u4e2a\u4efb\u52a1\u662f\u5426\u5b8c\u6210 print(\"\u4efb\u52a11\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\uff1a\", task1.done()) # time.sleep(4) print(wait([task1, task2])) print('wait') print(\"\u4efb\u52a11\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\uff1a\", task1.done()) print(\"\u4efb\u52a11\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\uff1a\", task2.done()) # result\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6task\u7684\u6267\u884c\u7ed3\u679c print(task1.result()) ``` \u7ebf\u7a0b\u6c60\u4e0e\u7ebf\u7a0b\u5bf9\u6bd4 \u7ebf\u7a0b\u6c60\u662f\u5728\u7a0b\u5e8f\u8fd0\u884c\u5f00\u59cb\uff0c\u521b\u5efa\u597d\u7684n\u4e2a\u7ebf\u7a0b\uff0c\u5e76\u4e14\u8fd9n\u4e2a\u7ebf\u7a0b\u6302\u8d77\u7b49\u5f85\u4efb\u52a1\u7684\u5230\u6765\u3002\u800c\u591a\u7ebf\u7a0b\u662f\u5728\u4efb\u52a1\u5230\u6765\u5f97\u65f6\u5019\u8fdb\u884c\u521b\u5efa\uff0c\u7136\u540e\u6267\u884c\u4efb\u52a1\u3002 \u7ebf\u7a0b\u6c60\u4e2d\u7684\u7ebf\u7a0b\u6267\u884c\u5b8c\u4e4b\u540e\u4e0d\u4f1a\u56de\u6536\u7ebf\u7a0b\uff0c\u4f1a\u7ee7\u7eed\u5c06\u7ebf\u7a0b\u653e\u5728\u7b49\u5f85\u961f\u5217\u4e2d\uff1b\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u5728\u6bcf\u6b21\u4efb\u52a1\u5b8c\u6210\u4e4b\u540e\u4f1a\u56de\u6536\u8be5\u7ebf\u7a0b\u3002 \u7531\u4e8e\u7ebf\u7a0b\u6c60\u4e2d\u7ebf\u7a0b\u662f\u521b\u5efa\u597d\u7684\uff0c\u6240\u4ee5\u5728\u6548\u7387\u4e0a\u76f8\u5bf9\u4e8e\u591a\u7ebf\u7a0b\u4f1a\u9ad8\u5f88\u591a\u3002 \u7ebf\u7a0b\u6c60\u4e5f\u5728\u9ad8\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u6709\u7740\u8f83\u597d\u7684\u6027\u80fd\uff1b\u4e0d\u5bb9\u6613\u6302\u6389\u3002\u591a\u7ebf\u7a0b\u5728\u521b\u5efa\u7ebf\u7a0b\u6570\u8f83\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u5f88\u5bb9\u6613\u6302\u6389\u3002","title":"\u7edf\u4e00\u653e\u5165\u8fdb\u7a0b\u6c60\u4f7f\u7528"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#10queue","text":"\u5bfc\u5165\u961f\u5217\u6a21\u5757 import queue \u6982\u8ff0 queue\u662fpython\u6807\u51c6\u5e93\u4e2d\u7684\u7ebf\u7a0b\u5b89\u5168\u7684\u961f\u5217\uff08FIFO\uff09\u5b9e\u73b0,\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9002\u7528\u4e8e\u591a\u7ebf\u7a0b\u7f16\u7a0b\u7684\u5148\u8fdb\u5148\u51fa\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5373\u961f\u5217\uff0c\u7528\u6765\u5728\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7ebf\u7a0b\u4e4b\u95f4\u7684\u4fe1\u606f\u4f20\u9012 \u57fa\u672cFIFO\u961f\u5217 queue.Queue(maxsize=0) FIFO\u5373First in First Out,\u5148\u8fdb\u5148\u51fa\u3002Queue\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u672c\u7684FIFO\u5bb9\u5668\uff0c\u4f7f\u7528\u65b9\u6cd5\u5f88\u7b80\u5355, maxsize\u662f\u4e2a\u6574\u6570 \uff0c\u6307\u660e\u4e86\u961f\u5217\u4e2d\u80fd\u5b58\u653e\u7684\u6570\u636e\u4e2a\u6570\u7684\u4e0a\u9650\u3002\u4e00\u65e6\u8fbe\u5230\u4e0a\u9650\uff0c\u63d2\u5165\u4f1a\u5bfc\u81f4\u963b\u585e\uff0c\u76f4\u5230\u961f\u5217\u4e2d\u7684\u6570\u636e\u88ab\u6d88\u8d39\u6389\u3002\u5982\u679c maxsize\u5c0f\u4e8e\u6216\u8005\u7b49\u4e8e0 \uff0c\u961f\u5217\u5927\u5c0f\u6ca1\u6709\u9650\u5236\u3002 \u4e3e\u4e2a\u6817\u5b50\uff1a ```python import queue q = queue.Queue() for i in range(5): q.put(i) while not q.empty(): print q.get() ``` \u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5 task_done() \u200b \u610f\u5473\u7740\u4e4b\u524d\u5165\u961f\u7684\u4e00\u4e2a\u4efb\u52a1\u5df2\u7ecf\u5b8c\u6210\u3002\u7531\u961f\u5217\u7684\u6d88\u8d39\u8005\u7ebf\u7a0b\u8c03\u7528\u3002\u6bcf\u4e00\u4e2aget()\u8c03\u7528\u5f97\u5230\u4e00\u4e2a\u4efb\u52a1\uff0c\u63a5\u4e0b\u6765\u7684task_done()\u8c03\u7528\u544a\u8bc9\u961f\u5217\u8be5\u4efb\u52a1\u5df2\u7ecf\u5904\u7406\u5b8c\u6bd5\u3002 \u200b \u5982\u679c\u5f53\u524d\u4e00\u4e2ajoin()\u6b63\u5728\u963b\u585e\uff0c\u5b83\u5c06\u5728\u961f\u5217\u4e2d\u7684\u6240\u6709\u4efb\u52a1\u90fd\u5904\u7406\u5b8c\u65f6\u6062\u590d\u6267\u884c\uff08\u5373\u6bcf\u4e00\u4e2a\u7531put()\u8c03\u7528\u5165\u961f\u7684\u4efb\u52a1\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684task_done()\u8c03\u7528\uff09\u3002 join() \u200b \u963b\u585e\u8c03\u7528\u7ebf\u7a0b\uff0c\u76f4\u5230\u961f\u5217\u4e2d\u7684\u6240\u6709\u4efb\u52a1\u88ab\u5904\u7406\u6389\u3002 \u200b \u53ea\u8981\u6709\u6570\u636e\u88ab\u52a0\u5165\u961f\u5217\uff0c\u672a\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u5c31\u4f1a\u589e\u52a0\u3002\u5f53\u6d88\u8d39\u8005\u7ebf\u7a0b\u8c03\u7528task_done()\uff08\u610f\u5473\u7740\u6709\u6d88\u8d39\u8005\u53d6\u5f97\u4efb\u52a1\u5e76\u5b8c\u6210\u4efb\u52a1\uff09\uff0c\u672a\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u5c31\u4f1a\u51cf\u5c11\u3002\u5f53\u672a\u5b8c\u6210\u7684\u4efb\u52a1\u6570\u964d\u52300\uff0cjoin()\u89e3\u9664\u963b\u585e\u3002 put(item[, block[, timeout]]) \u5c06item\u653e\u5165\u961f\u5217\u4e2d\u3002 \u5982\u679c\u53ef\u9009\u7684\u53c2\u6570block\u4e3aTrue\u4e14timeout\u4e3a\u7a7a\u5bf9\u8c61\uff08\u9ed8\u8ba4\u7684\u60c5\u51b5\uff0c\u963b\u585e\u8c03\u7528\uff0c\u65e0\u8d85\u65f6\uff09\u3002 \u5982\u679ctimeout\u662f\u4e2a\u6b63\u6574\u6570\uff0c\u963b\u585e\u8c03\u7528\u8fdb\u7a0b\u6700\u591atimeout\u79d2\uff0c\u5982\u679c\u4e00\u76f4\u65e0\u7a7a\u7a7a\u95f4\u53ef\u7528\uff0c\u629b\u51faFull\u5f02\u5e38\uff08\u5e26\u8d85\u65f6\u7684\u963b\u585e\u8c03\u7528\uff09\u3002 \u5982\u679cblock\u4e3aFalse\uff0c\u5982\u679c\u6709\u7a7a\u95f2\u7a7a\u95f4\u53ef\u7528\u5c06\u6570\u636e\u653e\u5165\u961f\u5217\uff0c\u5426\u5219\u7acb\u5373\u629b\u51faFull\u5f02\u5e38 \u5176\u975e\u963b\u585e\u7248\u672c\u4e3a put_nowait \u7b49\u540c\u4e8e put(item, False) get([block[, timeout]]) \u200b \u4ece\u961f\u5217\u4e2d\u79fb\u9664\u5e76\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\u3002block\u8ddftimeout\u53c2\u6570\u540c put \u65b9\u6cd5 \u200b \u5176\u975e\u963b\u585e\u65b9\u6cd5\u4e3a get_nowait() \u76f8\u5f53\u4e0e get(False) empty() \u200b \u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u8fd4\u56deTrue,\u53cd\u4e4b\u8fd4\u56deFalse","title":"10\u3001\u961f\u5217\u6a21\u5757queue"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#11","text":"\u5b9e\u4f8b ```python import threading import queue import time import random #\u751f\u4ea7 class creatorThread(threading.Thread): def init (self,index,myqueue): threading.Thread. init (self) self.index=index #\u7d22\u5f15 self.myqueue=myqueue #\u961f\u5217 def run(self): while True: time.sleep(3) #\u4e09\u79d2\u751f\u4ea7\u4e00\u4e2a num=random.randint(1,1000000) #\u968f\u673a\u6570 self.myqueue.put(\"input \u751f\u4ea7\u8005\"+str(self.index)+\"\u7845\u80f6\u5a03\u5a03\"+str(num)) print(\"input \u751f\u4ea7\u8005\"+str(self.index)+\"\u7845\u80f6\u5a03\u5a03\"+str(num)) #\u6d88\u8d39 class buyerThread(threading.Thread): def init (self,index,myqueue): threading.Thread. init (self) self.index=index #\u7d22\u5f15 self.myqueue=myqueue #\u961f\u5217 def run(self): while True: time.sleep(1) item=self.myqueue.get()#\u6293\u53d6\u6570\u636e print(\"\u5ba2\u6237\",self.index,\"\u4e70\u5230\u7269\u54c1\",item) myqueue=queue.Queue(10) #0\u4ee3\u8868\u65e0\u9650\uff0c10\u6700\u5927\u5bb9\u91cf for i in range(3): creatorThread(i,myqueue).start() #\u751f\u4ea7\u8005 for i in range(8): buyerThread(i,myqueue).start() #\u6d88\u8d39\u8005 ```","title":"11\u3001\u7ebf\u7a0b\u751f\u4ea7\u8005\u4e0e\u6d88\u8d39\u8005"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#12","text":"http://www.boxofficecn.com/boxofficecn \u6211\u4eec\u6293\u53d6\u4ece1994\u5e74\u52302021\u5e74\u7684\u7535\u5f71\u7968\u623f. import requests from lxml import etree from concurrent.futures import ThreadPoolExecutor def get_page_source(url): resp = requests.get(url) resp.encoding = 'utf-8' return resp.text def parse_html(html): try: tree = etree.HTML(html) trs = tree.xpath(\"//table/tbody/tr\")[1:] result = [] for tr in trs: year = tr.xpath(\"./td[2]//text()\") year = year[0] if year else \"\" name = tr.xpath(\"./td[3]//text()\") name = name[0] if name else \"\" money = tr.xpath(\"./td[4]//text()\") money = money[0] if money else \"\" d = (year, name, money) if any(d): result.append(d) return result except Exception as e: print(e) # \u8c03bug\u4e13\u7528 def download_one(url, f): page_source = get_page_source(url) data = parse_html(page_source) for item in data: f.write(\",\".join(item)) f.write(\"\\n\") def main(): f = open(\"movie.csv\", mode=\"w\", encoding='utf-8') lst = [str(i) for i in range(1994, 2022)] with ThreadPoolExecutor(10) as t: # \u65b9\u6848\u4e00 # for year in lst: # url = f\"http://www.boxofficecn.com/boxoffice{year}\" # # download_one(url, f) # t.submit(download_one, url, f) # \u65b9\u6848\u4e8c t.map(download_one, (f\"http://www.boxofficecn.com/boxoffice{year}\" for year in lst), (f for i in range(len(lst)))) if __name__ == '__main__': main()","title":"12\u3001\u6848\u4f8b"},{"location":"09%E3%80%81%E7%BA%BF%E7%A8%8B.html#vs","text":"\u591a\u4efb\u52a1\u7684\u5b9e\u73b0\u539f\u7406 \u9996\u5148\uff0c\u8981\u5b9e\u73b0\u591a\u4efb\u52a1\uff0c\u901a\u5e38\u6211\u4eec\u4f1a\u8bbe\u8ba1Master-Worker\u6a21\u5f0f\uff0cMaster\u8d1f\u8d23\u5206\u914d\u4efb\u52a1\uff0cWorker\u8d1f\u8d23\u6267\u884c\u4efb\u52a1\uff0c\u56e0\u6b64\uff0c\u591a\u4efb\u52a1\u73af\u5883\u4e0b\uff0c\u901a\u5e38\u662f\u4e00\u4e2aMaster\uff0c\u591a\u4e2aWorker\u3002 \u5982\u679c\u7528\u591a\u8fdb\u7a0b\u5b9e\u73b0Master-Worker\uff0c\u4e3b\u8fdb\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c31\u662fWorker\u3002 \u5982\u679c\u7528\u591a\u7ebf\u7a0b\u5b9e\u73b0Master-Worker\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u7ebf\u7a0b\u5c31\u662fWorker\u3002 \u591a\u8fdb\u7a0b \u4e3b\u8fdb\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c31\u662fWorker \u4f18\u70b9 \u7a33\u5b9a\u6027\u9ad8\uff1a\u591a\u8fdb\u7a0b\u6a21\u5f0f\u6700\u5927\u7684\u4f18\u70b9\u5c31\u662f\u7a33\u5b9a\u6027\u9ad8\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u5d29\u6e83\u4e86\uff0c\u4e0d\u4f1a\u5f71\u54cd\u4e3b\u8fdb\u7a0b\u548c\u5176\u4ed6\u5b50\u8fdb\u7a0b\u3002\uff08\u5f53\u7136\u4e3b\u8fdb\u7a0b\u6302\u4e86\u6240\u6709\u8fdb\u7a0b\u5c31\u5168\u6302\u4e86\uff0c\u4f46\u662fMaster\u8fdb\u7a0b\u53ea\u8d1f\u8d23\u5206\u914d\u4efb\u52a1\uff0c\u6302\u6389\u7684\u6982\u7387\u4f4e\uff09\u8457\u540d\u7684Apache\u6700\u65e9\u5c31\u662f\u91c7\u7528\u591a\u8fdb\u7a0b\u6a21\u5f0f\u3002 \u7f3a\u70b9 \u521b\u5efa\u8fdb\u7a0b\u7684\u4ee3\u4ef7\u5927\uff1a\u5728Unix/Linux\u7cfb\u7edf\u4e0b\uff0c\u7528fork\u8c03\u7528\u8fd8\u884c\uff0c\u5728Windows\u4e0b\u521b\u5efa\u8fdb\u7a0b\u5f00\u9500\u5de8\u5927 \u64cd\u4f5c\u7cfb\u7edf\u80fd\u540c\u65f6\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\u4e5f\u662f\u6709\u9650\u7684\uff1a\u5728\u5185\u5b58\u548cCPU\u7684\u9650\u5236\u4e0b\uff0c\u5982\u679c\u6709\u51e0\u5343\u4e2a\u8fdb\u7a0b\u540c\u65f6\u8fd0\u884c\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8fde\u8c03\u5ea6\u90fd\u4f1a\u6210\u95ee\u9898 \u591a\u7ebf\u7a0b \u4e3b\u7ebf\u7a0b\u5c31\u662fMaster\uff0c\u5176\u4ed6\u7ebf\u7a0b\u5c31\u662fWorker \u4f18\u70b9 \u591a\u7ebf\u7a0b\u6a21\u5f0f\u901a\u5e38\u6bd4\u591a\u8fdb\u7a0b\u5feb\u4e00\u70b9\uff0c\u4f46\u662f\u4e5f\u5feb\u4e0d\u5230\u54ea\u53bb \u5728Windows\u4e0b\uff0c\u591a\u7ebf\u7a0b\u7684\u6548\u7387\u6bd4\u591a\u8fdb\u7a0b\u8981\u9ad8 \u7f3a\u70b9 \u4efb\u4f55\u4e00\u4e2a\u7ebf\u7a0b\u6302\u6389\u90fd\u53ef\u80fd\u76f4\u63a5\u9020\u6210\u6574\u4e2a\u8fdb\u7a0b\u5d29\u6e83\uff1a\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5185\u5b58\u3002\u5728Windows\u4e0a\uff0c\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u7684\u4ee3\u7801\u51fa\u4e86\u95ee\u9898\uff0c\u4f60\u7ecf\u5e38\u53ef\u4ee5\u770b\u5230\u8fd9\u6837\u7684\u63d0\u793a\uff1a\u201c\u8be5\u7a0b\u5e8f\u6267\u884c\u4e86\u975e\u6cd5\u64cd\u4f5c\uff0c\u5373\u5c06\u5173\u95ed\u201d\uff0c\u5176\u5b9e\u5f80\u5f80\u662f\u67d0\u4e2a\u7ebf\u7a0b\u51fa\u4e86\u95ee\u9898\uff0c\u4f46\u662f\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5f3a\u5236\u7ed3\u675f\u6574\u4e2a\u8fdb\u7a0b \u8ba1\u7b97\u5bc6\u96c6\u578b vs IO\u5bc6\u96c6\u578b \u8ba1\u7b97\u5bc6\u96c6\u578b\uff08\u591a\u8fdb\u7a0b\u9002\u5408\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff09 \u8981\u8fdb\u884c\u5927\u91cf\u7684\u8ba1\u7b97\uff0c\u6d88\u8017CPU\u8d44\u6e90\uff0c\u6bd4\u5982\u8ba1\u7b97\u5706\u5468\u7387\u3001\u5bf9\u89c6\u9891\u8fdb\u884c\u9ad8\u6e05\u89e3\u7801\u7b49\u7b49\uff0c\u5168\u9760CPU\u7684\u8fd0\u7b97\u80fd\u529b\u3002\u8fd9\u79cd\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u867d\u7136\u4e5f\u53ef\u4ee5\u7528\u591a\u4efb\u52a1\u5b8c\u6210\uff0c\u4f46\u662f\u4efb\u52a1\u8d8a\u591a\uff0c\u82b1\u5728\u4efb\u52a1\u5207\u6362\u7684\u65f6\u95f4\u5c31\u8d8a\u591a\uff0cCPU\u6267\u884c\u4efb\u52a1\u7684\u6548\u7387\u5c31\u8d8a\u4f4e\uff0c\u6240\u4ee5\uff0c\u8981\u6700\u9ad8\u6548\u5730\u5229\u7528CPU\uff0c\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u540c\u65f6\u8fdb\u884c\u7684\u6570\u91cf\u5e94\u5f53\u7b49\u4e8eCPU\u7684\u6838\u5fc3\u6570 IO\u5bc6\u96c6\u578b \uff08\u7ebf\u7a0b\u9002\u5408IO\u5bc6\u96c6\u578b\u4efb\u52a1\uff09 \u6d89\u53ca\u5230\u7f51\u7edc\u3001\u78c1\u76d8IO\u7684\u4efb\u52a1\u90fd\u662fIO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u8fd9\u7c7b\u4efb\u52a1\u7684\u7279\u70b9\u662fCPU\u6d88\u8017\u5f88\u5c11\uff0c\u4efb\u52a1\u7684\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u5728\u7b49\u5f85IO\u64cd\u4f5c\u5b8c\u6210\uff08\u56e0\u4e3aIO\u7684\u901f\u5ea6\u8fdc\u8fdc\u4f4e\u4e8eCPU\u548c\u5185\u5b58\u7684\u901f\u5ea6\uff09\u3002\u5bf9\u4e8eIO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u4efb\u52a1\u8d8a\u591a\uff0cCPU\u6548\u7387\u8d8a\u9ad8\uff0c\u4f46\u4e5f\u6709\u4e00\u4e2a\u9650\u5ea6\u3002\u5e38\u89c1\u7684\u5927\u90e8\u5206\u4efb\u52a1\u90fd\u662fIO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u6bd4\u5982Web\u5e94\u7528 \u591a\u7ebf\u7a0b\u5b58\u5728GIL\u9501\uff0c\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u6761\u7ebf\u7a0b\u6267\u884c\uff1b\u5728\u591a\u8fdb\u7a0b\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u6709\u72ec\u7acb\u7684GIL\uff0c\u4e0d\u4f1a\u53d1\u751fGIL\u51b2\u7a81\uff1b\u4f46\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u722c\u866b\u5c5e\u4e8eIO\u5bc6\u96c6\u578b\uff0c\u591a\u8fdb\u7a0b\u9002\u7528\u4e8eCPU\u8ba1\u7b97\u5bc6\u96c6\u578b\uff0c\u6240\u4ee5\u7528\u65f6\u8f83\u957f\uff0c\u901f\u5ea6\u6162\u4e8e\u591a\u7ebf\u7a0b\u5e76\u53d1\u3002","title":"\u4e8c\u3001\u8fdb\u7a0bVS\u7ebf\u7a0b"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html","text":"\u5341\u3001\u643a\u7a0b \u4e00\u3001\u534f\u7a0b \u6982\u5ff5 \u534f\u7a0b \u53c8\u79f0\u5fae\u7ebf\u7a0b(\u7ea4\u7a0b)\uff0c\u662f\u4e00\u79cd\u7528\u6237\u6001\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b \u5b50\u7a0b\u5e8f \u5728\u6240\u6709\u7684\u8bed\u8a00\u4e2d\u90fd\u662f\u5c42\u7ea7\u8c03\u7528\u7684\uff0c\u6bd4\u5982A\u4e2d\u8c03\u7528B\uff0cB\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u8c03\u7528C\uff0cC\u6267\u884c\u5b8c\u8fd4\u56de\uff0cB\u6267\u884c\u5b8c\u8fd4\u56de\uff0c\u6700\u540e\u662fA\u6267\u884c\u5b8c\u6bd5\u3002\u8fd9\u662f\u901a\u8fc7\u6808\u5b9e\u73b0\u7684\uff0c\u4e00\u4e2a\u51fd\u6570\u5c31\u662f\u4e00\u4e2a\u6267\u884c\u7684\u5b50\u7a0b\u5e8f\uff0c\u5b50\u7a0b\u5e8f\u7684\u8c03\u7528\u603b\u662f\u6709\u4e00\u4e2a\u5165\u53e3\u3001\u4e00\u6b21\u8fd4\u56de\uff0c\u8c03\u7528\u7684\u987a\u5e8f\u662f\u660e\u786e\u7684 \u7406\u89e3\u534f\u7a0b \u666e\u901a\u7406\u89e3\uff1a\u7ebf\u7a0b\u662f\u7cfb\u7edf\u7ea7\u522b\u7684\uff0c\u5b83\u4eec\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u3002\u534f\u7a0b\u662f\u7a0b\u5e8f\u7ea7\u522b\uff0c\u7531\u7a0b\u5e8f\u5458\u6839\u636e\u9700\u6c42\u81ea\u5df1\u8c03\u5ea6\u3002\u6211\u4eec\u628a\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u7684\u4e00\u4e2a\u4e2a\u51fd\u6570\u79f0\u4e3a\u5b50\u7a0b\u5e8f\uff0c\u90a3\u4e48\u4e00\u4e2a\u5b50\u7a0b\u5e8f\u5728\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u4e2d\u65ad\u53bb\u6267\u884c\u522b\u7684\u5b50\u7a0b\u5e8f\uff0c\u8fd9\u5c31\u662f\u534f\u7a0b\u3002\u4e5f\u5c31\u662f\u8bf4\u540c\u4e00\u4e2a\u7ebf\u7a0b\u4e0b\u7684\u4e00\u6bb5\u4ee3\u78011\u6267\u884c\u6267\u884c\u7740\u5c31\u4e2d\u65ad\uff0c\u7136\u540e\u53bb\u6267\u884c\u53e6\u4e00\u6bb5\u4ee3\u78012\uff0c\u5f53\u518d\u6b21\u56de\u6765\u6267\u884c\u4ee3\u78011\u65f6\uff0c\u63a5\u7740\u4ece\u4e4b\u524d\u7684\u4e2d\u65ad\u7684\u4f4d\u7f6e\u7ee7\u7eed\u5411\u4e0b\u6267\u884c \u4e13\u4e1a\u7406\u89e3\uff1a\u534f\u7a0b\u62e5\u6709\u81ea\u5df1\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\uff0c\u534f\u7a0b\u5728\u8c03\u5ea6\u5207\u6362\u65f6\uff0c\u5c06\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u4fdd\u5b58\u5230\u5176\u4ed6\u7684\u5730\u65b9\uff0c\u5728\u5207\u6362\u56de\u6765\u65f6\uff0c\u6062\u590d\u5148\u524d\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u3002\u56e0\u6b64\uff0c\u534f\u7a0b\u80fd\u540e\u4fdd\u7559\u4e00\u6b21\u8c03\u7528\u7684\u72b6\u6001\uff0c\u6bcf\u6b21\u8fc7\u7a0b\u91cd\u5165\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u8fdb\u5165\u4e0a\u4e00\u6b21\u8c03\u7528\u7684\u72b6\u6001 \u4f18\u70b9 a\u3001\u6700\u5927\u7684\u4f18\u52bf\u5c31\u662f\u534f\u7a0b\u6781\u9ad8\u7684\u6267\u884c\u6548\u7387\u3002\u56e0\u4e3a\u5b50\u7a0b\u5e8f\u5207\u6362\u4e0d\u662f\u7ebf\u7a0b\u5207\u6362\uff0c\u800c\u662f\u7531\u7a0b\u5e8f\u81ea\u8eab\u63a7\u5236\uff0c\u56e0\u6b64\uff0c\u6ca1\u6709\u7ebf\u7a0b\u5207\u6362\u7684\u5f00\u9500\uff0c\u548c\u591a\u7ebf\u7a0b\u6bd4\uff0c\u7ebf\u7a0b\u6570\u91cf\u8d8a\u591a\uff0c\u534f\u7a0b\u7684\u6027\u80fd\u4f18\u52bf\u5c31\u8d8a\u660e\u663e\u3002 b\u3001\u4e0d\u9700\u8981\u591a\u7ebf\u7a0b\u7684\u9501\u673a\u5236\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4e5f\u4e0d\u5b58\u5728\u540c\u65f6\u5199\u53d8\u91cf\u51b2\u7a81\uff0c\u5728\u534f\u7a0b\u4e2d\u63a7\u5236\u5171\u4eab\u8d44\u6e90\u4e0d\u52a0\u9501\uff0c\u53ea\u9700\u8981\u5224\u65ad\u72b6\u6001\u5c31\u597d\u4e86\uff0c\u6240\u4ee5\u6267\u884c\u6548\u7387\u6bd4\u591a\u7ebf\u7a0b\u9ad8\u5f88\u591a\u3002 \u7f3a\u70b9 a\u3001\u65e0\u6cd5\u5229\u7528\u591a\u6838CPU\uff0c\u534f\u7a0b\u7684\u672c\u8d28\u662f\u5355\u4e2a\u7ebf\u7a0b\uff0c\u5b83\u4e0d\u80fd\u540c\u65f6\u5c06\u591a\u4e2aCPU\u7684\u591a\u4e2a\u6838\u5fc3\u4f7f\u7528\u4e0a\uff0c\u5931\u53bb\u4e86\u6807\u51c6\u7ebf\u7a0b\u4f7f\u7528\u591aCPU\u7684\u80fd\u529b\u3002\u534f\u7a0b\u9700\u8981\u548c\u8fdb\u7a0b\u5339\u914d\u4f7f\u7528\u624d\u80fd\u8fd0\u884c\u5728\u591a\u4e2aCPU\u4e0a\u3002\u4f46\u662f\u4e00\u822c\u4e0d\u9700\u8981\uff0c\u9664\u975e\u662fCPU\u8ba1\u7b97\u5bc6\u96c6\u578b\u7684\u5e94\u7528 b\u3001\u8fdb\u884c\u963b\u585e\u64cd\u4f5c(\u64cd\u4f5cIO)\u4f1a\u963b\u585e\u6574\u4e2a\u7a0b\u5e8f \u5b9e\u73b0 Python\u5bf9\u534f\u7a0b\u7684\u652f\u6301\u662f\u901a\u8fc7generator\u5b9e\u73b0\u7684\u3002 \u5728generator\u4e2d\uff0c\u6211\u4eec\u4e0d\u4f46\u53ef\u4ee5\u901a\u8fc7for\u5faa\u73af\u6765\u8fed\u4ee3\uff0c\u8fd8\u53ef\u4ee5\u4e0d\u65ad\u8c03\u7528next()\u51fd\u6570\u83b7\u53d6\u7531yield\u8bed\u53e5\u8fd4\u56de\u7684\u4e0b\u4e00\u4e2a\u503c\u3002 \u4f46\u662fPython\u7684yield\u4e0d\u4f46\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u5b83\u8fd8\u53ef\u4ee5\u63a5\u6536\u8c03\u7528\u8005\u53d1\u51fa\u7684\u53c2\u6570\u3002 \u6ce8\u610f \u542f\u52a8\u534f\u7a0b\u9700\u8981send(None)\u8fdb\u884c\u542f\u52a8 \u4ee3\u7801 python def run1(): print(1) print(2) print(3) print(4) def run2(): print(\"a\") print(\"b\") print(\"c\") print(\"d\") run1() run2() \u7ed3\u679c \u6b63\u5e38\u7ed3\u679c 1 2 3 4 a b c d \u534f\u7a0b\u5b9e\u73b0\u7684\u7ed3\u679c\uff08\u5047\u8bbe\uff09 python 1 a b 2 3 c 4 d \u4e8c\u3001\u540c\u6b65\u4e0e\u5f02\u6b65 1\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u7684\u6982\u5ff5 \u524d\u8a00 python\u7531\u4e8eGIL\uff08\u5168\u5c40\u9501\uff09\u7684\u5b58\u5728\uff0c\u4e0d\u80fd\u53d1\u6325\u591a\u6838\u7684\u4f18\u52bf\uff0c\u5176\u6027\u80fd\u4e00\u76f4\u9971\u53d7\u8bdf\u75c5\u3002\u7136\u800c\u5728IO\u5bc6\u96c6\u578b\u7684\u7f51\u7edc\u7f16\u7a0b\u91cc\uff0c\u5f02\u6b65\u5904\u7406\u6bd4\u540c\u6b65\u5904\u7406\u80fd\u63d0\u5347\u6210\u767e\u4e0a\u5343\u500d\u7684\u6548\u7387 IO\u5bc6\u96c6\u578b\u5c31\u662f\u78c1\u76d8\u7684\u8bfb\u53d6\u6570\u636e\u548c\u8f93\u51fa\u6570\u636e\u975e\u5e38\u5927\u7684\u65f6\u5019\u5c31\u662f\u5c5e\u4e8eIO\u5bc6\u96c6\u578b \u7531\u4e8eIO\u64cd\u4f5c\u7684\u8fd0\u884c\u65f6\u95f4\u8fdc\u8fdc\u5927\u4e8ecpu\u3001\u5185\u5b58\u8fd0\u884c\u65f6\u95f4\uff0c\u6240\u4ee5\u4efb\u52a1\u7684\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u662f\u5728\u7b49\u5f85IO\u64cd\u4f5c\u5b8c\u6210\uff0cIO\u7684\u7279\u70b9\u662fcpu\u6d88\u8017\u5c0f\uff0c\u6240\u4ee5\uff0cIO\u4efb\u52a1\u8d8a\u591a\uff0ccpu\u6548\u7387\u8d8a\u9ad8\uff0c\u5f53\u7136\u4e0d\u662f\u8d8a\u591a\u8d8a\u597d\uff0c\u6709\u4e00\u4e2a\u6781\u9650\u503c\u3002 \u540c\u6b65 \u6307\u5b8c\u6210\u4e8b\u52a1\u7684\u903b\u8f91\uff0c\u5148\u6267\u884c\u7b2c\u4e00\u4e2a\u4e8b\u52a1\uff0c\u5982\u679c\u963b\u585e\u4e86\uff0c\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u8fd9\u4e2a\u4e8b\u52a1\u5b8c\u6210\uff0c\u518d\u6267\u884c\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\uff0c\u987a\u5e8f\u6267\u884c \u5f02\u6b65 \u662f\u548c\u540c\u6b65\u76f8\u5bf9\u7684\uff0c\u5f02\u6b65\u662f\u6307\u5728\u5904\u7406\u8c03\u7528\u8fd9\u4e2a\u4e8b\u52a1\u7684\u4e4b\u540e\uff0c\u4e0d\u4f1a\u7b49\u5f85\u8fd9\u4e2a\u4e8b\u52a1\u7684\u5904\u7406\u7ed3\u679c\uff0c\u76f4\u63a5\u5904\u7406\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\u53bb\u4e86\uff0c\u901a\u8fc7\u72b6\u6001\u3001\u901a\u77e5\u3001\u56de\u8c03\u6765\u901a\u77e5\u8c03\u7528\u8005\u5904\u7406\u7ed3\u679c \u8bf4\u660e \u5047\u8bbe\u7528\u6237\u8bbf\u95ee\u4e00\u4e2a\u7f51\u7ad9\u5e76\u5f97\u5230\u54cd\u5e94\u7684\u65f6\u95f4\u4e3a5\u79d2\uff0c\u4f7f\u7528\u540c\u6b65\u601d\u60f3\u5219\u4e00\u5171\u9700\u898120\u79d2\u4ee5\u4e0a\uff0c\u90a3\u4e48\u4f7f\u7528\u5f02\u6b65\u601d\u60f3\u5219\u4e00\u5171\u9700\u89815\u79d2\u5de6\u53f3 \u89e3\u51b3\u65b9\u5f0f \u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u7684\u6a21\u578b\u867d\u7136\u89e3\u51b3\u4e86\u5e76\u53d1\u95ee\u9898\uff0c\u4f46\u662f\u7cfb\u7edf\u4e0d\u80fd\u65e0\u4e0a\u9650\u5730\u589e\u52a0\u7ebf\u7a0b\u3002\u7531\u4e8e\u7cfb\u7edf\u5207\u6362\u7ebf\u7a0b\u7684\u5f00\u9500\u4e5f\u5f88\u5927\uff0c\u6240\u4ee5\uff0c\u4e00\u65e6\u7ebf\u7a0b\u6570\u91cf\u8fc7\u591a\uff0cCPU\u7684\u65f6\u95f4\u5c31\u82b1\u5728\u7ebf\u7a0b\u5207\u6362\u4e0a\u4e86\uff0c\u771f\u6b63\u8fd0\u884c\u4ee3\u7801\u7684\u65f6\u95f4\u5c31\u5c11\u4e86\uff0c\u7ed3\u679c\u5bfc\u81f4\u6027\u80fd\u4e25\u91cd\u4e0b\u964d\u3002 \u7531\u4e8e\u6211\u4eec\u8981\u89e3\u51b3\u7684\u95ee\u9898\u662fCPU\u9ad8\u901f\u6267\u884c\u80fd\u529b\u548cIO\u8bbe\u5907\u7684\u9f9f\u901f\u4e25\u91cd\u4e0d\u5339\u914d\uff0c\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u53ea\u662f\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\u3002 \u5f02\u6b65\u7684\u597d\u5904 \u53e6\u4e00\u79cd\u89e3\u51b3IO\u95ee\u9898\u7684\u65b9\u6cd5\u662f\u5f02\u6b65IO\u3002\u5f53\u4ee3\u7801\u9700\u8981\u6267\u884c\u4e00\u4e2a\u8017\u65f6\u7684IO\u64cd\u4f5c\u65f6\uff0c\u5b83\u53ea\u53d1\u51faIO\u6307\u4ee4\uff0c\u5e76\u4e0d\u7b49\u5f85IO\u7ed3\u679c\uff0c\u7136\u540e\u5c31\u53bb\u6267\u884c\u5176\u4ed6\u4ee3\u7801\u4e86\u3002\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u5f53IO\u8fd4\u56de\u7ed3\u679c\u65f6\uff0c\u518d\u901a\u77e5CPU\u8fdb\u884c\u5904\u7406\u3002 \u5728\u201c\u53d1\u51faIO\u8bf7\u6c42\u201d\u5230\u6536\u5230\u201cIO\u5b8c\u6210\u201d\u7684\u8fd9\u6bb5\u65f6\u95f4\u91cc\uff0c\u540c\u6b65IO\u6a21\u578b\u4e0b\uff0c\u4e3b\u7ebf\u7a0b\u53ea\u80fd\u6302\u8d77\uff0c\u4f46\u5f02\u6b65IO\u6a21\u578b\u4e0b\uff0c\u4e3b\u7ebf\u7a0b\u5e76\u6ca1\u6709\u4f11\u606f\uff0c\u800c\u662f\u5728\u6d88\u606f\u5faa\u73af\u4e2d\u7ee7\u7eed\u5904\u7406\u5176\u4ed6\u6d88\u606f\u3002\u8fd9\u6837\uff0c\u5728\u5f02\u6b65IO\u6a21\u578b\u4e0b\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u591a\u4e2aIO\u8bf7\u6c42\uff0c\u5e76\u4e14\u6ca1\u6709\u5207\u6362\u7ebf\u7a0b\u7684\u64cd\u4f5c\u3002\u5bf9\u4e8e\u5927\u591a\u6570IO\u5bc6\u96c6\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f7f\u7528\u5f02\u6b65IO\u5c06\u5927\u5927\u63d0\u5347\u7cfb\u7edf\u7684\u591a\u4efb\u52a1\u5904\u7406\u80fd\u529b\u3002 2\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u4ee3\u7801 \u540c\u6b65 ```python import time def run(index): print(\"lucky is a good man\", index) time.sleep(2) print(\"lucky is a nice man\", index) for i in range(1, 5): run(i) ``` \u5f02\u6b65 \u8bf4\u660e\uff1a\u540e\u9762\u7684\u8bfe\u7a0b\u4e2d\u4f1a\u4f7f\u7528\u5230asyncio\u6a21\u5757\uff0c\u73b0\u5728\u7684\u76ee\u7684\u662f\u4f7f\u540c\u5b66\u4eec\u7406\u89e3\u5f02\u6b65\u601d\u60f3 ```python import time import asyncio async def run(i): print(\"lucky is a good man\", i) # \u6a21\u62df\u4e00\u4e2a\u8017\u65f6IO await asyncio.sleep(2) print(\"lucky is a nice man\", i) if name == \" main \": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in range(1, 5): coroutine = run(url) task = asyncio.ensure_future(coroutine) tasks.append(task) loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) ``` \u4e09\u3001asyncio\u6a21\u5757 1\u3001\u6982\u8ff0 asyncio\u6a21\u5757 \u662fpython3.4\u7248\u672c\u5f15\u5165\u7684\u6807\u51c6\u5e93\uff0c\u76f4\u63a5\u5185\u7f6e\u4e86\u5bf9\u5f02\u6b65IO\u7684\u64cd\u4f5c \u7f16\u7a0b\u6a21\u5f0f \u662f\u4e00\u4e2a\u6d88\u606f\u5faa\u73af\uff0c\u6211\u4eec\u4eceasyncio\u6a21\u5757\u4e2d\u76f4\u63a5\u83b7\u53d6\u4e00\u4e2aEventLoop\u7684\u5f15\u7528\uff0c\u7136\u540e\u628a\u9700\u8981\u6267\u884c\u7684\u534f\u7a0b\u6254\u5230EventLoop\u4e2d\u6267\u884c\uff0c\u5c31\u5b9e\u73b0\u4e86\u5f02\u6b65IO \u8bf4\u660e \u5230\u76ee\u524d\u4e3a\u6b62\u5b9e\u73b0\u534f\u7a0b\u7684\u4e0d\u4ec5\u4ec5\u53ea\u6709asyncio,tornado\u548cgevent\u90fd\u5b9e\u73b0\u4e86\u7c7b\u4f3c\u529f\u80fd \u5173\u952e\u5b57\u7684\u8bf4\u660e \u5173\u952e\u5b57 \u8bf4\u660e event_loop \u6d88\u606f\u5faa\u73af\uff0c\u7a0b\u5e8f\u5f00\u542f\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\uff0c\u628a\u4e00\u4e9b\u51fd\u6570\u6ce8\u518c\u5230\u4e8b\u4ef6\u5faa\u73af\u4e0a\uff0c\u5f53\u6ee1\u8db3\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u5019\uff0c\u8c03\u7528\u76f8\u5e94\u7684\u534f\u7a0b\u51fd\u6570 coroutine \u534f\u7a0b\u5bf9\u8c61\uff0c\u6307\u4e00\u4e2a\u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u5b83\u7684\u8c03\u7528\u4e0d\u4f1a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u800c\u662f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61\u3002\u534f\u7a0b\u5bf9\u8c61\u9700\u8981\u6ce8\u518c\u5230\u4e8b\u4ef6\u5faa\u73af\uff0c\u7531\u4e8b\u4ef6\u5faa\u73af\u8c03\u7528 task \u4efb\u52a1\uff0c\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a\u539f\u751f\u53ef\u4ee5\u6302\u8d77\u7684\u51fd\u6570\uff0c\u4efb\u52a1\u5219\u662f\u5bf9\u534f\u7a0b\u8fdb\u4e00\u6b65\u5c01\u88c5\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4efb\u52a1\u7684\u5404\u79cd\u72b6\u6001 future \u4ee3\u8868\u5c06\u6765\u6267\u884c\u6216\u6ca1\u6709\u6267\u884c\u7684\u4efb\u52a1\u7684\u7ed3\u679c\uff0c\u5b83\u548ctask\u4e0a\u6ca1\u6709\u672c\u8d28\u4e0a\u7684\u533a\u522b async/await python3.5\u7528\u4e8e\u5b9a\u4e49\u534f\u7a0b\u7684\u5173\u952e\u5b57\uff0casync\u5b9a\u4e49\u4e00\u4e2a\u534f\u7a0b\uff0cawait\u7528\u4e8e\u6302\u8d77\u963b\u585e\u7684\u5f02\u6b65\u8c03\u7528\u63a5\u53e3 2\u3001asyncio\u57fa\u672c\u4f7f\u7528 \u5b9a\u4e49\u4e00\u4e2a\u534f\u7a0b ```python import asyncio import time # \u901a\u8fc7async\u5173\u952e\u5b57\u5b9a\u4e49\u4e86\u4e00\u4e2a\u534f\u7a0b\uff0c\u534f\u7a0b\u662f\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\u7684\uff0c\u9700\u8981\u5c06\u534f\u7a0b\u653e\u5230\u6d88\u606f\u5faa\u73af\u4e2d async def run(x): print(\"waiting\uff1a%d\"%x) await asyncio.sleep(x) print(\"\u7ed3\u675frun\") #\u5f97\u5230\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61 coroutine = run(2) asyncio.run(coroutine) ``` \u7b49\u540c\u4e8e ```python import asyncio import time # \u901a\u8fc7async\u5173\u952e\u5b57\u5b9a\u4e49\u4e86\u4e00\u4e2a\u534f\u7a0b\uff0c\u534f\u7a0b\u662f\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\u7684\uff0c\u9700\u8981\u5c06\u534f\u7a0b\u653e\u5230\u6d88\u606f\u5faa\u73af\u4e2d async def run(x): print(\"waiting\uff1a%d\"%x) await asyncio.sleep(x) print(\"\u7ed3\u675frun\") #\u5f97\u5230\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61 coroutine = run(2) # \u521b\u5efa\u4e00\u4e2a\u6d88\u606f\u5faa\u73af loop = asyncio.get_event_loop() #\u5c06\u534f\u7a0b\u5bf9\u8c61\u52a0\u5165\u5230\u6d88\u606f\u5faa\u73af loop.run_until_complete(coroutine) ``` \u521b\u5efa\u4e00\u4e2a\u4efb\u52a1 ```python import asyncio import time async def run(x): print(\"waiting\uff1a%d\"%x) await asyncio.sleep(x) print(\"\u7ed3\u675frun\") coroutine = run(2) #\u521b\u5efa\u4efb\u52a1 task = asyncio.ensure_future(coroutine) loop = asyncio.get_event_loop() # \u5c06\u4efb\u52a1\u52a0\u5165\u5230\u6d88\u606f\u5faa\u73af loop.run_until_complete(task) ``` \u83b7\u53d6\u8fd4\u56de\u503c ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) # \u5411\u767e\u5ea6\u8981\u6570\u636e\uff0c\u7f51\u7edcIO await asyncio.sleep(5) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed9\u4f60\u6570\u636e\") return data # \u5b9a\u4e49\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 def call_back(future): print(\"call_back:\", future.result()) coroutine = run(\"\u767e\u5ea6\") # \u521b\u5efa\u4e00\u4e2a\u4efb\u52a1\u5bf9\u8c61 task = asyncio.ensure_future(coroutine) # \u7ed9\u4efb\u52a1\u6dfb\u52a0\u56de\u8c03\uff0c\u5728\u4efb\u52a1\u7ed3\u675f\u540e\u8c03\u7528\u56de\u8c03\u51fd\u6570 task.add_done_callback(call_back) loop = asyncio.get_event_loop() loop.run_until_complete(task) ``` \u963b\u585e\u548cawait async\u53ef\u4ee5\u5b9a\u4e49\u534f\u7a0b\uff0c\u4f7f\u7528await\u53ef\u4ee5\u9488\u5bf9\u8017\u65f6\u64cd\u4f5c\u8fdb\u884c\u6302\u8d77\uff0c\u5c31\u4e0e\u751f\u6210\u5668\u7684yield\u4e00\u6837\uff0c\u51fd\u6570\u4ea4\u51fa\u63a7\u5236\u6743\u3002\u534f\u7a0b\u9047\u5230await\uff0c\u6d88\u606f\u5faa\u73af\u4f1a\u6302\u8d77\u8be5\u534f\u7a0b\uff0c\u6267\u884c\u522b\u7684\u534f\u7a0b\uff0c\u76f4\u5230\u5176\u4ed6\u534f\u7a0b\u4e5f\u4f1a\u6302\u8d77\u6216\u8005\u6267\u884c\u5b8c\u6bd5\uff0c\u5728\u8fdb\u884c\u4e0b\u4e00\u6b21\u6267\u884c ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) # \u5411\u767e\u5ea6\u8981\u6570\u636e\uff0c\u7f51\u7edcIO await asyncio.sleep(5) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed9\u4f60\u6570\u636e\") return data # \u5b9a\u4e49\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff08\u4e0d\u9700\u8981\u624b\u52a8\u8c03\u7528\uff0c\u89e6\u53d1\u67d0\u79cd\u6761\u4ef6\u624d\u4f1a\u8c03\u7528\uff09 def call_back(future): print(\"call_back:\", future.result()) coroutine = run(\"\u767e\u5ea6\") task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) loop = asyncio.get_event_loop() loop.run_until_complete(task) print(\"-------over------\") ``` 3\u3001\u591a\u4efb\u52a1 \u540c\u6b65 \u540c\u65f6\u8bf7\u6c42\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"\u56db\u4e2a\u7f51\u7ad9\uff0c\u5047\u8bbe\u54cd\u5e94\u65f6\u957f\u5747\u4e3a2\u79d2 ```python import time def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) # \u5411\u767e\u5ea6\u8981\u6570\u636e\uff0c\u7f51\u7edcIO time.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data if name == \" main \": t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: print(run(url)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` \u5f02\u6b65 \u540c\u65f6\u8bf7\u6c42\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"\u56db\u4e2a\u7f51\u7ad9\uff0c\u5047\u8bbe\u54cd\u5e94\u65f6\u957f\u5747\u4e3a2\u79d2 \u4f7f\u7528ensure_future\u521b\u5efa\u591a\u4efb\u52a1 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) if name == \" main \": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 # asyncio.wait(tasks) \u5c06\u4efb\u52a1\u7684\u5217\u8868\u53c8\u53d8\u6210 <coroutine object wait at 0x7f80f43408c0> loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) ``` \u5c01\u88c5\u6210\u5f02\u6b65\u51fd\u6570 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 await asyncio.wait(tasks) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) if name == \" main \": loop = asyncio.get_event_loop() loop.run_until_complete(main()) ``` \u4f7f\u7528loop.create_task\u521b\u5efa\u591a\u4efb\u52a1 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) if name == \" main \": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) # task = asyncio.ensure_future(coroutine) task = loop.create_task(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) ``` \u5c01\u88c5\u6210\u5f02\u6b65\u51fd\u6570 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = loop.create_task(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 await asyncio.wait(tasks) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) if name == \" main \": loop = asyncio.get_event_loop() loop.run_until_complete(main()) ``` \u4f7f\u7528asyncio.create_task\u521b\u5efa\u591a\u4efb\u52a1 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.create_task(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 await asyncio.wait(tasks) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) if name == \" main \": # asyncio.run(main()) loop = asyncio.get_event_loop() loop.run_until_complete(main()) ``` 4\u3001Python:\u534f\u7a0b\u4e2dTask\u548cFuture\u7684\u7406\u89e3\u53ca\u4f7f\u7528 4.1\u3001Task \u6982\u5ff5\u53ca\u7528\u6cd5 Task\uff0c\u662f python \u4e2d\u4e0e\u4e8b\u4ef6\u5faa\u73af\u8fdb\u884c\u4ea4\u4e92\u7684\u4e00\u79cd\u4e3b\u8981\u65b9\u5f0f\u3002 \u200b \u521b\u5efa Task\uff0c\u610f\u601d\u5c31\u662f\u628a\u534f\u7a0b\u5c01\u88c5\u6210 Task \u5b9e\u4f8b\uff0c\u5e76\u8ffd\u8e2a\u534f\u7a0b\u7684 \u8fd0\u884c / \u5b8c\u6210\u72b6\u6001\uff0c\u7528\u4e8e\u672a\u6765\u83b7\u53d6\u534f\u7a0b\u7684\u7ed3\u679c\u3002 Task \u6838\u5fc3\u4f5c\u7528: \u5728\u4e8b\u4ef6\u5faa\u73af\u4e2d\u6dfb\u52a0\u591a\u4e2a\u5e76\u53d1\u4efb\u52a1; \u200b \u5177\u4f53\u6765\u8bf4\uff0c\u662f\u901a\u8fc7 asyncio.create_task() \u521b\u5efa Task\uff0c\u8ba9\u534f\u7a0b\u5bf9\u8c61\u52a0\u5165\u65f6\u4e8b\u4ef6\u5faa\u73af\u4e2d\uff0c\u7b49\u5f85\u88ab\u8c03\u5ea6\u6267\u884c\u3002 \u200b \u6ce8\u610f: Python 3.7 \u4ee5\u540e\u7684\u7248\u672c\u652f\u6301 asyncio.create_task() \uff0c\u5728\u6b64\u4e4b\u524d\u7684\u5199\u6cd5\u4e3a loop.create_task() \uff0c\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9700\u8981\u6ce8\u610f\u4ee3\u7801\u5199 \u6cd5\u5bf9\u4e0d\u540c\u7248\u672c python \u7684\u517c\u5bb9\u6027\u3002 \u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u534f\u7a0b\u5c01\u88c5\u4e3a Task \u540e\u4e0d\u4f1a\u7acb\u9a6c\u542f\u52a8\uff0c\u5f53\u67d0\u4e2a\u4ee3\u7801 await \u8fd9\u4e2a Task \u7684\u65f6\u5019\u624d\u4f1a\u88ab\u6267\u884c\u3002 \u200b \u5f53\u591a\u4e2a Task \u88ab\u52a0\u5165\u4e00\u4e2a task_list \u7684\u65f6\u5019\uff0c\u6dfb\u52a0 Task \u7684\u8fc7\u7a0b\u4e2d Task \u4e0d\u4f1a\u6267\u884c\uff0c\u5fc5\u987b\u8981\u7528 await asyncio.wait() \u6216 await asyncio.gather() \u5c06 Task \u5bf9\u8c61\u52a0\u5165\u4e8b\u4ef6\u5faa\u73af\u4e2d\u5f02\u6b65\u6267\u884c\u3002 \u4e00\u822c\u5728\u5f00\u53d1\u4e2d\uff0c\u5e38\u7528\u7684\u5199\u6cd5\u662f\u8fd9\u6837\u7684: \u200b -- \u5148\u521b\u5efa task_list \u7a7a\u5217\u8868; \u200b -- \u7136\u540e\u7528 asyncio.create_task() \u521b\u5efa Task; \u200b -- \u518d\u628a Task \u5bf9\u8c61\u52a0\u5165 task_list ; \u200b -- \u6700\u540e\u4f7f\u7528 await asyncio.wait \u6216 await asyncio.gather \u5c06 Task \u5bf9\u8c61\u52a0\u5165\u4e8b\u4ef6\u5faa\u73af\u4e2d\u5f02\u6b65\u6267\u884c\u3002 \u200b \u6ce8\u610f: \u521b\u5efa Task \u5bf9\u8c61\u65f6\uff0c\u9664\u4e86\u53ef\u4ee5\u4f7f\u7528 asyncio.create_task() \u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u6700\u4f4e\u5c42\u7ea7\u7684 loop.create_task() \u6216 asyncio.ensure_future() \uff0c\u4ed6\u4eec\u90fd\u53ef\u4ee5\u7528\u6765\u521b\u5efa Task \u5bf9\u8c61\uff0c\u5176\u4e2d\u5173\u4e8e ensure_future \u76f8\u5173\u5185\u5bb9\u672c\u6587\u63a5\u4e0b\u6765\u4f1a\u4e00\u8d77\u8bb2\u3002 Task \u7b80\u5355\u7528\u6cd5 import asyncio async def func(): print(1) await asyncio.sleep(2) print(2) return \"test\" async def main(): print(\"main start\") # python 3.7\u53ca\u4ee5\u4e0a\u7248\u672c\u7684\u5199\u6cd5 task1 = asyncio.create_task(func()) task2 = asyncio.create_task(func()) # python3.7\u4ee5\u524d\u7684\u5199\u6cd5 # task1 = asyncio.ensure_future(func()) # task2 = asyncio.ensure_future(func()) print(\"main end\") ret1 = await task1 ret2 = await task2 print(ret1, ret2) # python3.7\u4ee5\u540e\u7684\u5199\u6cd5 asyncio.run(main()) # python3.7\u4ee5\u524d\u7684\u5199\u6cd5 # loop = asyncio.get_event_loop() # loop.run_until_complete(main()) \"\"\" \u5728\u521b\u5efatask\u7684\u65f6\u5019\uff0c\u5c31\u5c06\u521b\u5efa\u597d\u7684task\u6dfb\u52a0\u5230\u4e86\u4e8b\u4ef6\u5faa\u73af\u5f53\u4e2d\uff0c\u6240\u4ee5\u8bf4\u5fc5\u987b\u5f97\u6709\u4e8b\u4ef6\u5faa\u73af\uff0c\u624d\u53ef\u4ee5\u521b\u5efatask\uff0c\u5426\u5219\u4f1a\u62a5\u9519 \"\"\" task\u7528\u6cd5\u5b9e\u4f8b ```python import asyncio import arrow def current_time(): ''' \u83b7\u53d6\u5f53\u524d\u65f6\u95f4 :return: ''' cur_time = arrow.now().to('Asia/Shanghai').format('YYYY-MM-DD HH:mm:ss') return cur_time async def func(sleep_time): func_name_suffix = sleep_time # \u4f7f\u7528 sleep_time (\u51fd\u6570 I/O \u7b49\u5f85\u65f6\u957f)\u4f5c\u4e3a\u51fd\u6570\u540d\u540e\u7f00\uff0c\u4ee5\u533a\u5206\u4efb\u52a1\u5bf9\u8c61 print(f\"[{current_time()}] \u6267\u884c\u5f02\u6b65\u51fd\u6570 {func. name }-{func_name_suffix}\") await asyncio.sleep(sleep_time) print(f\"[{current_time()}]\u51fd\u6570{func. name }-{func_name_suffix} \u6267\u884c\u5b8c\u6bd5\") return f\"\u3010[{current_time()}] \u5f97\u5230\u51fd\u6570 {func. name }-{func_name_suffix} \u6267\u884c\u7ed3\u679c\u3011\" async def run(): task_list = [] for i in range(5): task = asyncio.create_task(func(i)) task_list.append(task) done, pending = await asyncio.wait(task_list, timeout=None) for done_task in done: print((f\"[{current_time()}]\u5f97\u5230\u6267\u884c\u7ed3\u679c {done_task.result()}\")) def main(): loop = asyncio.get_event_loop() loop.run_until_complete(run()) if name == ' main ': main() ``` \u4ee3\u7801\u6267\u884c\u7ed3\u679c\u5982\u4e0b: ```python /usr/local/bin/python3.7 /Users/xialigang/PycharmProjects/\u722c\u866b/123.py [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-0 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-1 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-2 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-3 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-4 [2022-07-01 16:44:57]\u51fd\u6570func-0 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:44:58]\u51fd\u6570func-1 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:44:59]\u51fd\u6570func-2 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:45:00]\u51fd\u6570func-3 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:45:01]\u51fd\u6570func-4 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:44:59] \u5f97\u5230\u51fd\u6570 func-2 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:44:57] \u5f97\u5230\u51fd\u6570 func-0 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:45:00] \u5f97\u5230\u51fd\u6570 func-3 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:44:58] \u5f97\u5230\u51fd\u6570 func-1 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:45:01] \u5f97\u5230\u51fd\u6570 func-4 \u6267\u884c\u7ed3\u679c\u3011 Process finished with exit code 0 ``` 4.2\u3001Future \u6982\u5ff5\u89e3\u8bfb \u5728\u4ecb\u7ecd Future \u4e4b\u524d\u6709\u4e24\u70b9\u95ee\u9898\u9700\u8981\u5148\u8bf4\u660e: Future \u76f8\u8f83\u4e8e Task \u5c5e\u4e8e\u66f4\u5e95\u5c42\u7684\u6982\u5ff5\uff0c\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684\u5e76\u4e0d\u591a\uff0c\u8fd9\u91cc\u4ecb\u7ecd Future \u4e3b\u8981\u662f\u4e3a\u4e86\u52a0\u6df1\u5bf9\u4e8e Task \u7684\u7406\u89e3; \u8fd9\u91cc\u6307\u7684\u662f asyncio.Future \u800c\u4e0d\u662f coroutines.futures.Future \uff0c coroutines.futures.Future \u5e38\u7528\u4e8e \u591a\u8fdb\u7a0b\u3001\u591a\u7ebf\u7a0b\u5b9e\u73b0\u5e76\u53d1\u3002 Future\uff0c\u53c8\u79f0 \u672a\u6765\u5bf9\u8c61\u3001\u671f\u7a0b\u5bf9\u8c61\uff0c\u5176\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u5bb9\u5668\uff0c\u7528\u4e8e\u63a5\u53d7\u5f02\u6b65\u6267\u884c\u7684\u7ed3\u679c; \u6211\u4eec\u524d\u9762\u8bb2\u7684 Task \u662f\u7ee7\u627f\u81ea Future ! Furture \u5bf9\u8c61\u5185\u90e8\u5c01\u88c5\u4e86\u4e00\u4e2a _state \uff0c\u8fd9\u4e2a _state \u7ef4\u62a4\u7740\u56db\u79cd\u72b6\u6001:Pending\u3001Running\u3001Done\uff0cCancelled\uff0c\u5982\u679c\u53d8\u6210 Done \u5b8c\u6210\uff0c\u5c31 \u4e0d\u518d\u7b49\u5f85\uff0c\u800c\u662f\u5f80\u540e\u6267\u884c\uff0c\u8fd9\u56db\u79cd\u72b6\u6001\u7684\u5b58\u5728\u5176\u5b9e\u7c7b\u4f3c\u4e0e\u8fdb\u7a0b\u7684 \u8fd0\u884c\u6001\u3001\u5c31\u7eea\u6001\u3001\u963b\u585e\u6001\uff0c\u4e8b\u4ef6\u5faa\u73af\u51ed\u501f\u7740\u56db\u79cd\u72b6\u6001\u5bf9 Future\\\u534f\u7a0b\u5bf9\u8c61 \u8fdb \u884c\u8c03\u5ea6\u3002 \u5728\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u76f4\u63a5\u521b\u5efa Future \u9700\u8981\u4f7f\u7528 asyncio.ensure_future() \u51fd\u6570\uff0c\u4e0b\u9762\u662f ensure_future \u51fd\u6570\u7684\u6e90\u7801\uff0c\u4ed4\u7ec6\u9605\u8bfb\u6e90\u7801\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c ensure_future \u51fd\u6570\u6700\u540e\u8fd4\u56de\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a awaitable \u5bf9\u8c61\uff0c\u5373\u6ee1\u8db3 Awaitable \u534f\u8bae\u3002 \u6b63\u56e0\u4e3a ensure_future \u51fd\u6570\u6700\u540e\u8fd4\u56de\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a awaitable \u5bf9\u8c61\uff0c\u6240\u4ee5\u624d\u4fdd\u8bc1\u4e86\u7ee7\u627f\u81ea Future \u7684 Task \u662f awaitable \u7684\u3002 \u540c\u65f6\uff0c\u534f\u7a0b\u5bf9\u8c61\u4e00\u4f4d\u5185\u65e0\u6cd5\u81ea\u5df1\u6267\u884c\uff0c\u9700\u8981\u5c06\u5176\u6ce8\u518c\u5230\u4e8b\u4ef6\u5faa\u73af\u4e2d\u8f6c\u53d8\u4e3a\u4e00\u4e2a Task \u5bf9\u8c61\u624d\u4f1a\u88ab\u6267\u884c\uff0c\u6240\u4ee5\u534f\u7a0b\u5bf9\u8c61\u4e00\u5b9a\u7684\u3002 \u4e00\u822c\u53ea\u6709\u5728\u4e00\u5b9a\u8981\u786e\u4fdd\u9700\u8981\u521b\u5efa\u4e00\u4e2a awaitable \u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u4f7f\u7528 ensure_future \u51fd\u6570\u3002 5\u3001\u534f\u7a0b\u5d4c\u5957\u4e0e\u8fd4\u56de\u503c 5.1 \u534f\u7a0b\u5d4c\u5957 \u4f7f\u7528async\u53ef\u4ee5\u5b9a\u4e49\u534f\u7a0b\uff0c\u534f\u7a0b\u7528\u4e8e\u8017\u65f6\u7684io\u64cd\u4f5c\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c01\u88c5\u66f4\u591a\u7684io\u64cd\u4f5c\u8fc7\u7a0b\uff0c\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u5d4c\u5957\u7684\u534f\u7a0b\uff0c\u5373\u4e00\u4e2a\u534f\u7a0b\u4e2dawait\u4e86\u53e6\u5916\u4e00\u4e2a\u534f\u7a0b\uff0c\u5982\u6b64\u8fde\u63a5\u8d77\u6765 import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) if __name__ == \"__main__\": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 # asyncio.wait(tasks) \u5c06\u4efb\u52a1\u7684\u5217\u8868\u53c8\u53d8\u6210 <coroutine object wait at 0x7f80f43408c0> loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) 5.2 \u83b7\u53d6\u8fd4\u56de\u503c 5.2.1 wait\u5185\u90e8\u8fd4\u56de\u503c import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) #1\u3001\u53ef\u4ee5\u6ca1\u6709\u56de\u8c03\u51fd\u6570 dones, pendings = await asyncio.wait(tasks) #\u5904\u7406\u6570\u636e\uff0c\u7c7b\u4f3c\u56de\u8c03\uff0c\u5efa\u8bae\u4f7f\u7528\u56de\u8c03 for t in dones: print(\"\u6570\u636e\uff1a%s\"%(t.result())) if __name__ == \"__main__\": t1 = time.time() # loop = asyncio.get_event_loop() # loop.run_until_complete(main()) asyncio.run(main()) # \u7b49\u540c\u4e8e\u4e0a\u9762\u4e24\u884c\u4ee3\u7801 5.2.2 wait\u5916\u90e8\u8fd4\u56de\u503c import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) return await asyncio.wait(tasks) if __name__ == \"__main__\": t1 = time.time() # loop = asyncio.get_event_loop() # dones, pendings = loop.run_until_complete(main()) dones, pendings = asyncio.run(main()) # \u5904\u7406\u6570\u636e\uff0c\u7c7b\u4f3c\u56de\u8c03\uff0c\u5efa\u8bae\u4f7f\u7528\u56de\u8c03 for t in dones: print(\"\u6570\u636e\uff1a%s\"%(t.result())) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) 5.2.2 gather\u5185\u90e8\u83b7\u53d6\u8fd4\u56de\u503c import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) #2\u3001\u53ef\u4ee5\u6ca1\u6709\u56de\u8c03\u51fd\u6570 results = await asyncio.gather(*tasks) # \u5904\u7406\u6570\u636e\uff0c\u7c7b\u4f3c\u56de\u8c03\uff0c\u5efa\u8bae\u4f7f\u7528\u56de\u8c03 for result in results: print(\"\u6570\u636e\uff1a%s\"%(result)) if __name__ == \"__main__\": t1 = time.time() asyncio.run(main()) # \u7b49\u540c\u4e8e\u4e0a\u9762\u4e24\u884c\u4ee3\u7801 t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) 5.2.3 gather\u5916\u90e8\u83b7\u53d6\u8fd4\u56de\u503c import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) # 4\u3001\u6709\u65e0\u56de\u8c03\u51fd\u6570\u5747\u53ef\u4ee5 return await asyncio.gather(*tasks) if __name__ == \"__main__\": t1 = time.time() # loop = asyncio.get_event_loop() # results = loop.run_until_complete(main()) results = asyncio.run(main()) for result in results: print(\"\u6570\u636e\uff1a%s\"%(result)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) 5.3 asyncio.wait\u548casyncio.gather\u7684\u5f02\u540c \u5f02\u540c\u70b9\u7efc\u8ff0 \u76f8\u540c:\u4ece\u529f\u80fd\u4e0a\u770b\uff0c asyncio.wait \u548c asyncio.gather \u5b9e\u73b0\u7684\u6548\u679c\u662f\u76f8\u540c\u7684\uff0c\u90fd\u662f\u628a\u6240\u6709 Task \u4efb\u52a1\u7ed3\u679c\u6536\u96c6\u8d77\u6765\u3002 \u4e0d\u540c: asyncio.wait \u4f1a\u8fd4\u56de\u4e24\u4e2a\u503c: done \u548c pending \uff0c done \u4e3a\u5df2\u5b8c\u6210\u7684\u534f\u7a0b Task \uff0c pending \u4e3a\u8d85\u65f6\u672a\u5b8c\u6210\u7684\u534f\u7a0b Task \uff0c\u9700\u901a\u8fc7 future.result \u8c03\u7528 Task \u7684 result ;\u800c asyncio.gather \u8fd4\u56de\u7684\u662f\u6240\u6709\u5df2\u5b8c\u6210 Task \u7684 result \uff0c\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u8c03\u7528\u6216\u5176\u4ed6\u64cd\u4f5c\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u5168\u90e8\u7ed3\u679c\u3002 asyncio.wait \u7528\u6cd5: \u6700\u5e38\u89c1\u7684\u5199\u6cd5\u662f: await asyncio.wait(task_list) \u3002 import asyncio import arrow def current_time(): ''' \u83b7\u53d6\u5f53\u524d\u65f6\u95f4 :return: ''' cur_time = arrow.now().to('Asia/Shanghai').format('YYYY-MM-DD HH:mm:ss') return cur_time async def func(sleep_time): func_name_suffix = sleep_time # \u4f7f\u7528 sleep_time (\u51fd\u6570 I/O \u7b49\u5f85\u65f6\u957f)\u4f5c\u4e3a\u51fd\u6570\u540d\u540e\u7f00\uff0c\u4ee5\u533a\u5206\u4efb\u52a1\u5bf9\u8c61 print(f\"[{current_time()}] \u6267\u884c\u5f02\u6b65\u51fd\u6570 {func.name}-{func_name_suffix}\") await asyncio.sleep(sleep_time) print(f\"[{current_time()}]\u51fd\u6570{func.name}-{func_name_suffix} \u6267\u884c\u5b8c\u6bd5\") return f\"\u3010[{current_time()}] \u5f97\u5230\u51fd\u6570 {func.name}-{func_name_suffix} \u6267\u884c\u7ed3\u679c\u3011\" async def run(): task_list = [] for i in range(5): task = asyncio.create_task(func(i)) task_list.append(task) done, pending = await asyncio.wait(task_list, timeout=None) for done_task in done: print((f\"[{current_time()}]\u5f97\u5230\u6267\u884c\u7ed3\u679c {done_task.result()}\")) def main(): loop = asyncio.get_event_loop() loop.run_until_complete(run()) if __name__ == '__main__': main() \u4ee3\u7801\u6267\u884c\u7ed3\u679c\u5982\u4e0b: /usr/local/bin/python3.7 /Users/xialigang/PycharmProjects/\u722c\u866b/123.py [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-0 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-1 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-2 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-3 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-4 [2022-07-04 15:31:47]\u51fd\u6570func-0 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:48]\u51fd\u6570func-1 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:49]\u51fd\u6570func-2 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:50]\u51fd\u6570func-3 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:51]\u51fd\u6570func-4 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:49] \u5f97\u5230\u51fd\u6570 func-2 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:47] \u5f97\u5230\u51fd\u6570 func-0 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:50] \u5f97\u5230\u51fd\u6570 func-3 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:48] \u5f97\u5230\u51fd\u6570 func-1 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:51] \u5f97\u5230\u51fd\u6570 func-4 \u6267\u884c\u7ed3\u679c\u3011 Process finished with exit code 0 asyncio.gather \u7528\u6cd5: \u6700\u5e38\u89c1\u7684\u7528\u6cd5\u662f: await asyncio.gather(*task_list) \uff0c\u6ce8\u610f\u8fd9\u91cc task_list \u524d\u9762\u6709\u4e00\u4e2a * \u3002 import asyncio import arrow def current_time(): ''' \u83b7\u53d6\u5f53\u524d\u65f6\u95f4 :return: ''' cur_time = arrow.now().to('Asia/Shanghai').format('YYYY-MM-DD HH:mm:ss') return cur_time async def func(sleep_time): func_name_suffix = sleep_time # \u4f7f\u7528 sleep_time (\u51fd\u6570 I/O \u7b49\u5f85\u65f6\u957f)\u4f5c\u4e3a\u51fd\u6570\u540d\u540e\u7f00\uff0c\u4ee5\u533a\u5206\u4efb\u52a1\u5bf9\u8c61 print(f\"[{current_time()}] \u6267\u884c\u5f02\u6b65\u51fd\u6570 {func.__name__}-{func_name_suffix}\") await asyncio.sleep(sleep_time) print(f\"[{current_time()}]\u51fd\u6570{func.__name__}-{func_name_suffix} \u6267\u884c\u5b8c\u6bd5\") return f\"\u3010[{current_time()}] \u5f97\u5230\u51fd\u6570 {func.__name__}-{func_name_suffix} \u6267\u884c\u7ed3\u679c\u3011\" async def run(): task_list = [] for i in range(5): task = asyncio.create_task(func(i)) task_list.append(task) results = await asyncio.gather(*task_list) for result in results: print((f\"[{current_time()}]\u5f97\u5230\u6267\u884c\u7ed3\u679c {result}\")) def main(): loop = asyncio.get_event_loop() loop.run_until_complete(run()) if __name__ == '__main__': main() \u4ee3\u7801\u6267\u884c\u7ed3\u679c\u5982\u4e0b: /usr/local/bin/python3.7 /Users/xialigang/PycharmProjects/\u722c\u866b/123.py [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-0 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-1 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-2 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-3 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-4 [2022-07-04 15:33:24]\u51fd\u6570func-0 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:25]\u51fd\u6570func-1 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:26]\u51fd\u6570func-2 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:27]\u51fd\u6570func-3 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:28]\u51fd\u6570func-4 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:24] \u5f97\u5230\u51fd\u6570 func-0 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:25] \u5f97\u5230\u51fd\u6570 func-1 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:26] \u5f97\u5230\u51fd\u6570 func-2 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:27] \u5f97\u5230\u51fd\u6570 func-3 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:28] \u5f97\u5230\u51fd\u6570 func-4 \u6267\u884c\u7ed3\u679c\u3011 Process finished with exit code 0 6\u3001\u6d88\u606f\u5faa\u73af\u5728\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u542f\u52a8 \u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u7684\u4e8b\u4ef6\u5faa\u73af\u7528\u4e8e\u6ce8\u518c\u534f\u7a0b\uff0c\u800c\u6709\u7684\u534f\u7a0b\u9700\u8981\u52a8\u6001\u7684\u6dfb\u52a0\u5230\u4e8b\u4ef6\u5faa\u73af\u4e2d\u3002\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u4f7f\u7528\u591a\u7ebf\u7a0b\u3002\u5f53\u524d\u7ebf\u7a0b\u521b\u5efa\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\uff0c\u7136\u540e\u5728\u65b0\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5728\u65b0\u7ebf\u7a0b\u4e2d\u542f\u52a8\u4e8b\u4ef6\u5faa\u73af\u3002\u5f53\u524d\u7ebf\u7a0b\u4e0d\u4f1a\u88abblock import asyncio import threading import time def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) time.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed3\u675f\u8bf7\u6c42\") return data def start_loop(loop): # \u542f\u52a8\u6d88\u606f\u5faa\u73af asyncio.set_event_loop(loop) loop.run_forever() if __name__ == \"__main__\": # \u521b\u5efa\u6d88\u606f\u5faa\u73af(\u7c7b\u4f3c\u6b7b\u5faa\u73af) # \u6ce8\u610f\uff1a\u6b64\u65f6\u6d88\u606f\u5faa\u73af\u6ca1\u6709\u542f\u52a8 loop = asyncio.get_event_loop() threading.Thread(target=start_loop, args=(loop,)).start() t1 = time.time() # \u7ed9\u6d88\u606f\u5faa\u73af\u6dfb\u52a0\u4efb\u52a1 # loop.run_until_complete(create_tasks()) loop.call_soon_threadsafe(run, \"\u767e\u5ea6\") loop.call_soon_threadsafe(run, \"\u817e\u8baf\") t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) 7\u3001asyncio\u7ec8\u6781\u4f7f\u7528 \u4f7f\u7528\u5230\u534f\u7a0b\u5d4c\u5957\u4e0e\u6d88\u606f\u5faa\u73af\u5728\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u542f\u52a8\u76f8\u5173\u8054 import asyncio import threading async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed3\u675f\u8bf7\u6c42\") return data def call_back(future): print(\"call_back:\", future.result()) async def create_tasks(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) await asyncio.wait(tasks) def start_loop(loop): # \u542f\u52a8\u6d88\u606f\u5faa\u73af asyncio.set_event_loop(loop) loop.run_forever() if __name__ == \"__main__\": # \u521b\u5efa\u6d88\u606f\u5faa\u73af(\u7c7b\u4f3c\u6b7b\u5faa\u73af) # \u6ce8\u610f\uff1a\u6b64\u65f6\u6d88\u606f\u5faa\u73af\u6ca1\u6709\u542f\u52a8 loop = asyncio.get_event_loop() threading.Thread(target=start_loop, args=(loop,)).start() #\u7ed9\u6d88\u606f\u5faa\u73af\u6dfb\u52a0\u4efb\u52a1 asyncio.run_coroutine_threadsafe(create_tasks(), loop) # asyncio.run_coroutine_threadsafe(run(\"\u767e\u5ea6\"), loop) # asyncio.run_coroutine_threadsafe(run(\"\u817e\u8baf\"), loop) # asyncio.run_coroutine_threadsafe(run(\"\u963f\u91cc\"), loop) # asyncio.run_coroutine_threadsafe(run(\"\u65b0\u6d6a\"), loop) 8\u3001\u83b7\u53d6\u7f51\u9875\u4fe1\u606f import asyncio import threading async def run(url): print(\"\u5f00\u59cb\u52a0\u8f7d'%s'\u9875\u9762\u2026\u2026\" % (url)) # \u53d1\u8d77\u94fe\u63a5\uff0c\u8017\u65f6IO connet = asyncio.open_connection(url, 80) reader, writer = await connet # \u94fe\u63a5\u6210\u529f # \u53d1\u8d77\u8bf7\u6c42\uff0c\u8017\u65f6IO header = \"GET / HTTP/1.0\\r\\nHost: %s\\r\\n\\r\\n\"%(url) writer.write(header.encode(\"utf-8\")) await writer.drain() #\u63a5\u6536\u6570\u636e with open(url + \".html\", \"wb\") as fp: while True: line = await reader.readline() if line == b\"\\r\\n\": break else: fp.write(line) fp.flush() async def create_tasks(): tasks = [] for url in [\"www.baidu.html\", \"www.163.com\", \"www.sina.com.cn\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) tasks.append(task) await asyncio.wait(tasks) def start_loop(loop): asyncio.set_event_loop(loop) loop.run_forever() if __name__ == \"__main__\": loop = asyncio.get_event_loop() threading.Thread(target=start_loop, args=(loop,)).start() asyncio.run_coroutine_threadsafe(create_tasks(), loop) \u56db\u3001aiohttp \u5165\u95e8\u4f7f\u7528 \u5b98\u65b9\u63a8\u8350\u4f7f\u7528\u4e00\u4e2a\u5ba2\u6237\u7aef\u4f1a\u8bdd\u6765\u53d1\u8d77\u6240\u6709\u8bf7\u6c42\uff0c\u4f1a\u8bdd\u4e2d\u8bb0\u5f55\u4e86\u8bf7\u6c42\u7684cookie\uff0c\u4f46\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528aiohttp.request\u6765\u53d1\u9001\u8bf7\u6c42\u3002 \u5f53\u6211\u4eec\u4f7f\u7528 async def \u5c31\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\uff0c\u5f02\u6b65\u903b\u8f91\u7531asyncio\u63d0\u4f9b\u652f\u6301\u3002 async with aiohttp.ClientSession() as session \u4e3a\u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff0c\u5728\u8bf7\u6c42\u7ed3\u675f\u65f6\u6216\u8005\u53d1\u751f\u5f02\u5e38\u8bf7\u6c42\u65f6\u652f\u6301\u81ea\u52a8\u5173\u95ed\u5b9e\u4f8b\u5316\u7684\u5ba2\u6237\u7aef\u4f1a\u8bdd\u3002 import asyncio import aiohttp async def main(): async with aiohttp.ClientSession() as session: async with session.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text()) if __name__ == '__main__': # python3.7\u624d\u652f\u6301\u8fd9\u79cd\u5199\u6cd5\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u5165\u53e3\u51fd\u6570\uff0c\u4ee5debug\u6a21\u5f0f\u8fd0\u884c\u4e8b\u4ef6\u5faa\u73af asyncio.run(main(), debug=True) # python3.6\u53ca\u4ee5\u4e0b\u7248\u672c\u5199\u6cd5 event_loop = asyncio.get_event_loop() results = event_loop.run_until_complete(asyncio.gather(main())) event_loop.close() 1\u3001\u5b89\u88c5\u4e0e\u4f7f\u7528 pip install aiohttp 2\u3001\u7b80\u5355\u5b9e\u4f8b\u4f7f\u7528 aiohttp\u7684\u81ea\u6211\u4ecb\u7ecd\u4e2d\u5c31\u5305\u542b\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\uff0c\u6240\u4ee5\u6211\u4eec\u5206\u522b\u6765\u770b\u4e0b\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u7684\u7b80\u5355\u5b9e\u4f8b\u4ee3\u7801\u3002 \u5ba2\u6237\u7aef\uff1a import aiohttp import asyncio async def fetch(session, url): async with session.get(url) as response: return await response.text() async def main(): async with aiohttp.ClientSession() as session: html = await fetch(session, \"http://httpbin.org/headers\") print(html) asyncio.run(main()) \"\"\"\u8f93\u51fa\u7ed3\u679c\uff1a { \"headers\": { \"Accept\": \"*/*\", \"Accept-Encoding\": \"gzip, deflate\", \"Host\": \"httpbin.org\", \"User-Agent\": \"Python/3.7 aiohttp/3.6.2\" } } \"\"\" \u8fd9\u4e2a\u4ee3\u7801\u662f\u4e0d\u662f\u5f88\u7b80\u5355\uff0c\u4e00\u4e2a\u51fd\u6570\u7528\u6765\u53d1\u8d77\u8bf7\u6c42\uff0c\u53e6\u5916\u4e00\u4e2a\u51fd\u6570\u7528\u6765\u4e0b\u8f7d\u7f51\u9875\u3002 \u670d\u52a1\u5668\u7aef from aiohttp import web async def handle(request): name = request.match_info.get('name', \"Anonymous\") text = \"Hello, \" + name return web.Response(text=text) app = web.Application() app.add_routes([web.get('/', handle), web.get('/{name}', handle)]) if __name__ == '__main__': web.run_app(app) \u8fd0\u884c\u8fd9\u4e2a\u4ee3\u7801\uff0c\u7136\u540e\u8bbf\u95eehttp://127.0.0.1:8080\u5c31\u53ef\u4ee5\u770b\u5230\u4f60\u7684\u7f51\u7ad9\u4e86\uff0c\u5f88 \u57fa\u7840\u7684\u4e00\u4e2a\u7f51\u9875\uff0c\u4f60\u53ef\u4ee5\u5728\u540e\u9762\u8ddf\u4e0a\u4f60\u7684\u540d\u5b57\u3002 \u8fd9\u662f\u4e24\u4e2a\u7b80\u5355\u7684\u5173\u4e8eaiohttp\u7684\u4f7f\u7528\u793a\u4f8b\uff0c\u4e0b\u9762\u5feb\u901f\u5f00\u59cb\u3002 3\u3001\u5165\u95e8 \u7b80\u5355\u793a\u8303 \u9996\u5148\u662f\u5b66\u4e60\u5ba2\u6237\u7aef\uff0c\u4e5f\u5c31\u662f\u7528\u6765\u53d1\u9001http\u8bf7\u6c42\u7684\u7528\u6cd5\u3002\u9996\u5148\u770b\u4e00\u6bb5\u4ee3\u7801\uff0c\u4f1a\u5728\u4ee3\u7801\u4e2d\u8bb2\u8ff0\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff1a import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: async with session.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text()) asyncio.run(main()) \u4ee3\u7801\u89e3\u91ca\uff1a \u5728\u7f51\u7edc\u8bf7\u6c42\u4e2d\uff0c\u4e00\u4e2a\u8bf7\u6c42\u5c31\u662f\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u7136\u540e aiohttp \u4f7f\u7528\u7684\u662f ClientSession \u6765\u7ba1\u7406\u4f1a\u8bdd\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a\u91cd\u70b9\uff0c\u770b\u4e00\u4e0b ClientSession : class ClientSession: \"\"\"First-class interface for making HTTP requests.\"\"\" \u5728\u6e90\u7801\u4e2d\uff0c\u8fd9\u4e2a\u7c7b\u7684\u6ce8\u91ca\u662f\u4f7f\u7528HTTP\u8bf7\u6c42\u63a5\u53e3\u7684\u7b2c\u4e00\u4e2a\u7c7b\u3002\u7136\u540e\u4e0a\u9762\u7684\u4ee3\u7801\u5c31\u662f\u5b9e\u4f8b\u5316\u4e00\u4e2a ClientSession \u7c7b\u7136\u540e\u547d\u540d\u4e3asession\uff0c\u7136\u540e\u7528session\u53bb\u53d1\u9001\u8bf7\u6c42\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u5751\uff0c\u90a3\u5c31\u662f ClientSession.get() \u534f\u7a0b\u7684\u5fc5\u9700\u53c2\u6570\u53ea\u80fd\u662f str \u7c7b\u548c yarl.URL \u7684\u5b9e\u4f8b\u3002 \u5907\u6ce8\uff1ayarl \u6a21\u5757\u63d0\u4f9b\u4e86\u7528\u4e8eurl\u89e3\u6790\u548c\u66f4\u6539\u7684\u4fbf\u6377\u7684URL\u7c7b \u5f53\u7136\u8fd9\u53ea\u662fget\u8bf7\u6c42\uff0c\u5176\u4ed6\u7684post\u3001put\u90fd\u662f\u652f\u6301\u7684\uff1a session.put('http://httpbin.org/put', data=b'data') session.delete('http://httpbin.org/delete') session.head('http://httpbin.org/get') session.options('http://httpbin.org/get') session.patch('http://httpbin.org/patch', data=b'data') 4\u3001\u5728URL\u4e2d\u4f20\u9012\u53c2\u6570 \u6709\u65f6\u5019\u5728\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\u7684\u65f6\u5019\u9700\u8981\u9644\u52a0\u4e00\u4e9b\u53c2\u6570\u5230url\u4e2d\uff0c\u8fd9\u4e00\u70b9\u4e5f\u662f\u652f\u6301\u7684\u3002 import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: params = {'key1': 'value1', 'key2': 'value2'} async with session.get('http://httpbin.org/get', params=params) as resp: print(resp.url) expect = 'http://httpbin.org/get?key2=value2&key1=value1' assert str(resp.url) == expect \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 params \u53c2\u6570\u6765\u6307\u5b9a\u8981\u4f20\u9012\u7684\u53c2\u6570\uff0c \u540c\u65f6\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u952e\u5bf9\u5e94\u591a\u4e2a\u503c\u7684\u53c2\u6570\uff0c\u90a3\u4e48 MultiDict \u5c31\u5728\u8fd9\u4e2a\u65f6\u5019\u8d77\u4f5c\u7528\u4e86\u3002\u4f60\u53ef\u4ee5\u4f20\u9012\u4e24\u4e2a\u5143\u7956\u5217\u8868\u6765\u4f5c\u4e3a\u53c2\u6570\uff1a import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: params = [('key', 'value1'), ('key', 'value2')] async with session.get('http://httpbin.org/get', params=params) as r: expect = 'http://httpbin.org/get?key=value2&key=value1' # assert str(r.url) == expect print(r.url) asyncio.run(main()) 5\u3001\u8bfb\u53d6\u54cd\u5e94\u5185\u5bb9 \u6211\u4eec\u53ef\u4ee5\u8bfb\u53d6\u5230\u670d\u52a1\u5668\u7684\u54cd\u5e94\u72b6\u6001\u548c\u54cd\u5e94\u5185\u5bb9\uff0c\u8fd9\u4e5f\u662f\u4f7f\u7528\u8bf7\u6c42\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u90e8\u5206\u3002\u901a\u8fc7 status \u6765\u83b7\u53d6\u54cd\u5e94\u72b6\u6001\u7801\uff0c text() \u6765\u83b7\u53d6\u5230\u54cd\u5e94\u5185\u5bb9\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u4e4b\u8ba1\u6307\u660e\u7f16\u7801\u683c\u5f0f\u4e3a\u4f60\u60f3\u8981\u7684\u7f16\u7801\u683c\u5f0f\uff1a async def main(): async with aiohttp.ClientSession() as session: async with session.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text(encoding=utf-8)) \"\"\"\u8f93\u51fa\u7ed3\u679c\uff1a 200 <!doctype html> <html lang=\"zh-CN\"> <head> ...... \"\"\" 6\u3001\u975e\u6587\u672c\u5185\u5bb9\u683c\u5f0f \u5bf9\u4e8e\u7f51\u7edc\u8bf7\u6c42\uff0c\u6709\u65f6\u5019\u662f\u53bb\u8bbf\u95ee\u4e00\u5f20\u56fe\u7247\uff0c\u8fd9\u79cd\u8fd4\u56de\u503c\u662f\u4e8c\u8fdb\u5236\u7684\u4e5f\u662f\u53ef\u4ee5\u8bfb\u53d6\u5230\u7684\uff1a await resp.read() \u5c06 text() \u65b9\u6cd5\u6362\u6210 read() \u65b9\u6cd5\u5c31\u597d\u3002 7\u3001\u8bf7\u6c42\u7684\u81ea\u5b9a\u4e49 ClientResponse\uff08\u5ba2\u6237\u7aef\u54cd\u5e94\uff09 \u5bf9\u8c61\u542b\u6709request_info(\u8bf7\u6c42\u4fe1\u606f)\uff0c\u4e3b\u8981\u662f url \u548c headers \u4fe1\u606f\u3002 raise_for_status \u7ed3\u6784\u4f53\u4e0a\u7684\u4fe1\u606f\u4f1a\u88ab\u590d\u5236\u7ed9ClientResponseError\u5b9e\u4f8b\u3002 (1) \u81ea\u5b9a\u4e49Headers \u6709\u65f6\u5019\u505a\u8bf7\u6c42\u7684\u65f6\u5019\u9700\u8981\u81ea\u5b9a\u4e49headers\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u8ba9\u670d\u52a1\u5668\u8ba4\u4e3a\u6211\u4eec\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u3002\u7136\u540e\u5c31\u9700\u8981\u6211\u4eec\u81ea\u5df1\u6765\u5b9a\u4e49\u4e00\u4e2aheaders\uff1a headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) \" \"AppleWebKit/537.36 (KHTML, like Gecko)\" \" Chrome/78.0.3904.108 Safari/537.36\" } await session.post(url, headers=headers) (2) \u5982\u679c\u51fa\u73b0ssl\u9a8c\u8bc1\u5931\u8d25\u7684\u5904\u7406 import aiohttp import asyncio from aiohttp import TCPConnector async def main(): async with aiohttp.ClientSession(connector=TCPConnector(ssl=False)) as session: pass asyncio.run(main()) \u6216 r = await session.get('https://example.com', ssl=False) (3) \u81ea\u5b9a\u4e49cookie \u53d1\u9001\u4f60\u81ea\u5df1\u7684cookies\u7ed9\u670d\u52a1\u5668\uff0c\u4f60\u53ef\u4ee5\u4e3aClientSession\u5bf9\u8c61\u6307\u5b9acookies\u53c2\u6570: url = 'http://httpbin.org/cookies' cookies = {'cookies_are': 'working'} async with ClientSession(cookies=cookies) as session: async with session.get(url) as resp: assert await resp.json() == { \"cookies\": {\"cookies_are\": \"working\"}} (4) \u4f7f\u7528\u4ee3\u7406 \u6709\u65f6\u5019\u5728\u5199\u722c\u866b\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528\u5230\u4ee3\u7406\uff0c\u6240\u4ee5 aiohttp \u4e5f\u662f\u652f\u6301\u4f7f\u7528\u4ee3\u7406\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u53d1\u8d77\u8bf7\u6c42\u7684\u65f6\u5019\u4f7f\u7528\u4ee3\u7406\uff0c\u53ea\u9700\u8981\u4f7f\u7528\u5173\u952e\u5b57 proxy \u6765\u6307\u660e\u5c31\u597d\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u5f88\u96be\u53d7\u7684\u5730\u65b9\u5c31\u662f\u5b83\u53ea\u652f\u6301 http \u4ee3\u7406\uff0c\u4e0d\u652f\u6301 HTTPS \u4ee3\u7406\u3002\u4f7f\u7528\u8d77\u6765\u5927\u6982\u662f\u8fd9\u6837\uff1a \u4f7f\u7528\u65e0\u6388\u6743\u4ee3\u7406 async with aiohttp.ClientSession() as session: async with session.get(\"http://python.org\", proxy=\"http://proxy.com\") as resp: print(resp.status) \u4f7f\u7528\u8d77\u6765\u5927\u6982\u662f\u8fd9\u6837\uff0c\u7136\u540e\u4ee3\u7406\u8bb0\u5f97\u6539\u6210\u81ea\u5df1\u7684\u3002 \u4ee3\u7406\u6388\u6743\u7684\u4e24\u79cd\u65b9\u5f0f \u7b2c\u4e00\u79cd python async with aiohttp.ClientSession() as session: proxy_auth = aiohttp.BasicAuth('user', 'pass') async with session.get(\"http://python.org\", proxy=\"http://proxy.com\", proxy_auth=proxy_auth) as resp: print(resp.status) \u7b2c\u4e8c\u79cd python session.get(\"http://python.org\", proxy=\"http://user:pass@some.proxy.com\") (5) \u53d1\u9001post\u8bf7\u6c42 \u9664\u4e86\u5e38\u7528\u7684get\u548cpost\u8bf7\u6c42\u8fd8\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bf7\u6c42\u65b9\u5f0f\uff1a put: session.put('http://httpbin.org/put', data=b'data') delete: session.delete('http://httpbin.org/delete') head: session.head('http://httpbin.org/get') options: session.options('http://httpbin.org/get') patch: session.patch('http://httpbin.org/patch', data=b'data') import asyncio import aiohttp async def main(): data = b'x00Binary-datax00' # \u672a\u7ecf\u7f16\u7801\u7684\u6570\u636e\u901a\u8fc7bytes\u6570\u636e\u4e0a\u4f20 data = 'text' # \u4f20\u9012\u6587\u672c\u6570\u636e data = {'key': 'value'} # \u4f20\u9012form\u8868\u5355 async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', data=data) as resp: print(resp.status) print(await resp.text()) \u590d\u6742\u7684post\u8bf7\u6c42 async def main2(): pyload = {'key': 'value'} # \u4f20\u9012pyload async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', json=pyload) as resp: print(resp.status) print(await resp.text()) if __name__ == '__main__': asyncio.run(main()) asyncio.run(main2()) (6) \u54cd\u5e94\u548c\u72b6\u6001\u7801 \u7531\u4e8e\u83b7\u53d6\u54cd\u5e94\u5185\u5bb9\u662f\u4e00\u4e2a\u963b\u585e\u8017\u65f6\u8fc7\u7a0b\uff0c\u6240\u4ee5\u6211\u4eec\u4f7f\u7528await\u5b9e\u73b0\u534f\u7a0b\u5207\u6362 resp.history \u67e5\u770b\u91cd\u5b9a\u5411\u5386\u53f2 resp.headers \u83b7\u53d6\u54cd\u5e94\u5934 resp.cookies \u83b7\u53d6\u54cd\u5e94cookie resp.status \u83b7\u53d6\u54cd\u5e94\u72b6\u6001\u7801 resp.text(encoding='utf-8) \u83b7\u53d6\u54cd\u5e94\u6587\u672c resp.json() \u83b7\u53d6json\u54cd\u5e94\u6570\u636e resp.read() \u83b7\u53d6\u4e8c\u8fdb\u5236\u54cd\u5e94\u6570\u636e resp.content.read(100) \u83b7\u53d6\u6d41\u54cd\u5e94\uff0c\u6bcf\u6b21\u83b7\u53d6100\u4e2a\u5b57\u8282 import asyncio import aiohttp async def main(): params = {'key1': 'value1', 'key2': 'value2'} async with aiohttp.ClientSession() as sess: async with sess.get('http://httpbin.org/get', params=params) as resp: print(resp.status) # \u72b6\u6001\u7801 print(await resp.text(encoding='utf-8')) # \u6587\u672c\u54cd\u5e94\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u54cd\u5e94\u7f16\u7801\uff0c\u9ed8\u8ba4\u662futf-8 print(await resp.json()) # json\u54cd\u5e94 print(await resp.read()) # \u4e8c\u8fdb\u5236\u54cd\u5e94\uff0c\u9002\u7528\u4e8e\u4e0b\u8f7d\u56fe\u7247\u7b49 async def main2(): async with aiohttp.ClientSession() as sess: async with sess.get('https://api.github.com/events') as resp: print(resp.status) # \u72b6\u6001\u7801 print(await resp.content.read(100)) # \u6d41\u54cd\u5e94\uff0c\u9002\u7528\u4e8e\u5927\u6587\u4ef6\uff0c\u5206\u6b21\u8bfb\u53d6 # await\u751f\u6210\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u901a\u8fc7\u4e0d\u65ad\u5faa\u73af\u62ff\u5230\u6bcf\u4e00\u6b21100\u4e2a\u5b57\u8282\u7801 while True: chunk = await resp.content.read(100) print(chunk) if not chunk: break if __name__ == '__main__': asyncio.run(main()) asyncio.run(main2()) (7) \u5411\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u4f20\u6587\u4ef6 import asyncio import aiohttp async def main(): \"\"\"\u4f20\u9012\u6587\u4ef6\"\"\" files = {'file': open('report.xls', 'rb')} async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', data=files) as resp: print(resp.status) print(await resp.text()) async def main2(): \"\"\"\u5b9e\u4f8b\u5316FormData\u53ef\u4ee5\u6307\u5b9afilename\u548ccontent_type\"\"\" data = aiohttp.FormData() data.add_field('file', open('report.xls', 'rb'), filename='report.xls', content_type='application/vnd.ms-excel') async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', data=data) as resp: print(resp.status) print(await resp.text()) async def main3(): \"\"\"\u6d41\u5f0f\u4e0a\u4f20\u6587\u4ef6\"\"\" async with aiohttp.ClientSession() as sess: with open('report.xls', 'rb') as f: async with sess.post('http://httpbin.org/post', data=f) as resp: print(resp.status) print(await resp.text()) async def main4(): \"\"\"\u56e0\u4e3acontent\u5c5e\u6027\u662f StreamReader\uff08\u63d0\u4f9b\u5f02\u6b65\u8fed\u4ee3\u5668\u534f\u8bae\uff09\uff0c\u6240\u4ee5\u60a8\u53ef\u4ee5\u5c06get\u548cpost\u8bf7\u6c42\u94fe\u63a5\u5728\u4e00\u8d77\u3002python3.6\u53ca\u4ee5\u4e0a\u624d\u80fd\u4f7f\u7528\"\"\" async with aiohttp.ClientSession() as sess: async with sess.get('http://python.org') as resp: async with sess.post('http://httpbin.org/post', data=resp.content) as r: print(r.status) print(await r.text()) if __name__ == '__main__': asyncio.run(main()) asyncio.run(main2()) asyncio.run(main3()) asyncio.run(main4()) (9) \u8bbe\u7f6e\u8bf7\u6c42\u8d85\u65f6 ClientTimeout\u7c7b\u6709\u56db\u4e2a\u7c7b\u5c5e\u6027: total:\u6574\u4e2a\u64cd\u4f5c\u65f6\u95f4\u5305\u62ec\u8fde\u63a5\u5efa\u7acb\uff0c\u8bf7\u6c42\u53d1\u9001\u548c\u54cd\u5e94\u8bfb\u53d6\u3002 connect:\u8be5\u65f6\u95f4\u5305\u62ec\u5efa\u7acb\u65b0\u8fde\u63a5\u6216\u5728\u8d85\u8fc7\u6c60\u8fde\u63a5\u9650\u5236\u65f6\u7b49\u5f85\u6c60\u4e2d\u7684\u7a7a\u95f2\u8fde\u63a5\u7684\u8fde\u63a5\u3002 sock_connect:\u8fde\u63a5\u5230\u5bf9\u7b49\u70b9\u4ee5\u8fdb\u884c\u65b0\u8fde\u63a5\u7684\u8d85\u65f6\uff0c\u4e0d\u662f\u4ece\u6c60\u4e2d\u7ed9\u51fa\u7684\u3002 sock_read:\u4ece\u5bf9\u7b49\u4f53\u8bfb\u53d6\u65b0\u6570\u636e\u90e8\u5206\u4e4b\u95f4\u7684\u65f6\u95f4\u6bb5\u5185\u5141\u8bb8\u7684\u6700\u5927\u8d85\u65f6\u3002 import aiohttp import asyncio timeout = aiohttp.ClientTimeout(total=60) async def main(): async with aiohttp.ClientSession(timeout=timeout) as sess: async with sess.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text()) if __name__ == \"__main__\": asyncio.run(main()) 8\u3001aiofiles\u5f02\u6b65\u6a21\u5f0f 8.1 \u6982\u8ff0 \u5e73\u5e38\u4f7f\u7528\u7684file\u64cd\u4f5c\u6a21\u5f0f\u4e3a\u540c\u6b65\uff0c\u5e76\u4e14\u4e3a\u7ebf\u7a0b\u963b\u585e\u3002\u5f53\u7a0b\u5e8fI/O \u5e76\u53d1 \u6b21\u6570\u9ad8\u7684\u65f6\u5019\uff0cCPU\u88ab\u963b\u585e\uff0c\u5f62\u6210\u95f2\u7f6e\u3002 \u7ebf\u7a0b\u5f00\u542f\u6587\u4ef6\u8bfb\u53d6\u5f02\u6b65\u6a21\u5f0f \u7528\u7ebf\u7a0b\uff08Thread\uff09\u65b9\u5f0f\u6765\u89e3\u51b3\u3002\u786c\u76d8\u7f13\u5b58\u53ef\u4ee5\u88ab\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\uff0c\u56e0\u6b64\u901a\u8fc7\u4e0d\u540c\u7ebf\u7a0b\u8bbf\u95ee\u6587\u4ef6\u53ef\u4ee5\u90e8\u5206\u89e3\u51b3\u3002\u4f46\u6b64\u65b9\u6848\u6d89\u53ca\u7ebf\u7a0b\u5f00\u542f\u5173\u95ed\u7684\u5f00\u9500\uff0c\u800c\u4e14\u4e0d\u540c\u7ebf\u7a0b\u95f4\u6570\u636e\u4ea4\u4e92\u6bd4\u8f83\u9ebb\u70e6\u3002 from threading import Thread for file in list_file: tr = Thread(target=file.write, args=(data,)) tr.start() \u4f7f\u7528\u5df2\u7f16\u5199\u597d\u7684\u7b2c\u4e09\u65b9\u63d2\u4ef6-aiofiles\uff0c\u652f\u6301\u5f02\u6b65\u6a21\u5f0f \u4f7f\u7528aio\u63d2\u4ef6\u6765\u5f00\u542f\u6587\u4ef6\u7684\u975e\u963b\u585e\u5f02\u6b65\u6a21\u5f0f\u3002 8.2 \u5b89\u88c5\u65b9\u6cd5 pip install aiofiles \u8fd9\u4e2a\u63d2\u4ef6\u7684\u4f7f\u7528\u548cpython\u539f\u751fopen \u4e00\u81f4\uff0c\u800c\u4e14\u53ef\u4ee5\u652f\u6301\u5f02\u6b65\u8fed\u4ee3\uff1a 8.3 \u5b9e\u4f8b \u6253\u5f00\u6587\u4ef6 import aiofiles async with aiofiles.open('filename', mode='r') as f: contents = await f.read() print(contents) 'My file contents' \u8fed\u4ee3\uff0c import asyncio import aiofiles async def main(): async with aiofiles.open('filename') as f: async for line in f: print(line) if __name__ == '__main__': asyncio.run(main()) 9\u3001\u6293\u53d6\u9b3c\u5439\u706f\u6848\u4f8b \u5e76\u53d1\u63a7\u5236 semaphore\uff0c\u63a7\u5236\u5e76\u53d1 semaphore = asyncio.Semaphore(10) \u5b9e\u4f8b #!/usr/bin/python import asyncio import os import aiofiles import aiohttp import requests from bs4 import BeautifulSoup def get_page_source(web): headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36' } response = requests.get(web, headers=headers) response.encoding = 'utf-8' return response.text def parse_page_source(html): book_list = [] soup = BeautifulSoup(html, 'html.parser') a_list = soup.find_all('div', attrs={'class': 'mulu-list quanji'}) for a in a_list: a_list = a.find_all('a') for href in a_list: chapter_url = href['href'] book_list.append(chapter_url) return book_list def get_book_name(book_page): book_number = book_page.split('/')[-1].split('.')[0] book_chapter_name = book_page.split('/')[-2] return book_number, book_chapter_name async def aio_download_one(chapter_url, signal): number, c_name = get_book_name(chapter_url) for c in range(10): try: async with signal: async with aiohttp.ClientSession() as session: async with session.get(chapter_url) as resp: page_source = await resp.text() soup = BeautifulSoup(page_source, 'html.parser') chapter_name = soup.find('h1').text p_content = soup.find('div', attrs={'class': 'neirong'}).find_all('p') content = [p.text + '\\n' for p in p_content] chapter_content = '\\n'.join(content) if not os.path.exists(f'{book_name}/{c_name}'): os.makedirs(f'{book_name}/{c_name}') async with aiofiles.open(f'{book_name}/{c_name}/{number}_{chapter_name}.txt', mode=\"w\", encoding='utf-8') as f: await f.write(chapter_content) print(chapter_url, \"\u4e0b\u8f7d\u5b8c\u6bd5!\") return \"\" except Exception as e: print(e) print(chapter_url, \"\u4e0b\u8f7d\u5931\u8d25!, \u91cd\u65b0\u4e0b\u8f7d. \") return chapter_url async def aio_download(url_list): tasks = [] semaphore = asyncio.Semaphore(10) for h in url_list: tasks.append(asyncio.create_task(aio_download_one(h, semaphore))) await asyncio.wait(tasks) if __name__ == '__main__': url = 'https://www.51shucheng.net/daomu/guichuideng' book_name = '\u9b3c\u5439\u706f' if not os.path.exists(book_name): os.makedirs(book_name) source = get_page_source(url) href_list = parse_page_source(source) loop = asyncio.get_event_loop() loop.run_until_complete(aio_download(href_list)) loop.close() 10\u3001\u548casyncio\u7ed3\u5408\u4f7f\u7528\u722c\u53d6\u6848\u4f8b \u5176\u5b9eaiohttp\u6700\u9002\u5408\u7684\u4f34\u4fa3\u5c31\u662fasyncio\uff0c\u8fd9\u4e24\u4e2a\u7ed3\u5408\u8d77\u6765\u4f7f\u7528\u662f\u6700\u597d\u4e0d\u8fc7\u7684\u4e86\u3002\u7136\u540e\u8fd9\u91cc\u6211\u5c31\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u5b9e\u4f8b\u4ee3\u7801\u6765\u5bf9\u6bd4\u4e00\u4e0b\u3002\u540c\u6b65\u548c\u5f02\u6b65\u7684\u5dee\u522b\u3002 \u793a\u4f8b\u4ee3\u7801 \u793a\u4f8b\u7528\u8c46\u74e3\u7535\u5f71 lxml requests datetime asyncio aiohttp \u7136\u540e\u9700\u8981\u5927\u5bb6\u5b89\u88c5\u597d\u8fd9\u4e9b\u5e93\uff0c\u7136\u540e\u63d0\u53d6\u7f51\u9875\u5185\u5bb9\u4f7f\u7528\u7684\u662f xpath \u3002 (1) \u540c\u6b65 \u5176\u5b9e\u540c\u6b65\u5199\u4e86\u5f88\u591a\u6b21\u4e86\uff0c\u7136\u540e\u628a\u4e4b\u524d\u7684\u4ee3\u7801\u653e\u4e0a\u6765\u5c31\u597d\uff1a from datetime import datetime import requests from lxml import etree headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\" \"/537.36 (KHTML, like Gecko) \" \"Chrome/72.0.3626.121 Safari/537.36\"} def get_movie_url(): req_url = \"https://movie.douban.com/chart\" response = requests.get(url=req_url, headers=headers) html = etree.HTML(response.text) movies_url = html.xpath( \"//*[@id='content']/div/div[1]/div/div/table/tr/td/a/@href\") return movies_url def get_movie_content(movie_url): response = requests.get(movie_url, headers=headers) result = etree.HTML(response.text) movie = dict() name = result.xpath('//*[@id=\"content\"]/h1/span[1]//text()') author = result.xpath('//*[@id=\"info\"]/span[1]/span[2]//text()') movie[\"name\"] = name movie[\"author\"] = author return movie if __name__ == '__main__': start = datetime.now() movie_url_list = get_movie_url() movies = dict() for url in movie_url_list: movies[url] = get_movie_content(url) print(movies) print(\"\u540c\u6b65\u7528\u65f6\u4e3a\uff1a{}\".format(datetime.now() - start)) \u770b\u4e00\u4e0b\u540c\u6b65\u7684\u7ed3\u679c\uff1a {'https://movie.douban.com/subject/35372415/': {'name': ['\u5957\u88c5 The Outfit'], 'author': ['\u683c\u62c9\u6c49\u59c6\u00b7\u6469\u5c14']}, 'https://movie.douban.com/subject/35284253/': {'name': ['\u9752\u6625\u53d8\u5f62\u8bb0 Turning Red'], 'author': ['\u77f3\u4e4b\u4e88']}, 'https://movie.douban.com/subject/35774719/': {'name': ['\u661f\u671f\u56db A Thursday'], 'author': ['\u6bd5\u67e5\u5fb7\u00b7\u6c49\u5df4\u5854']}, 'https://movie.douban.com/subject/35788143/': {'name': ['\u7834\u788e\u592a\u9633\u4e4b\u5fc3'], 'author': ['\u6bd5\u8d63']}, 'https://movie.douban.com/subject/27203644/': {'name': ['\u5c3c\u7f57\u6cb3\u4e0a\u7684\u60e8\u6848 Death on the Nile'], 'author': ['\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3']}, 'https://movie.douban.com/subject/35240920/': {'name': ['X'], 'author': ['\u7f07\u00b7\u5a01\u65af\u7279']}, 'https://movie.douban.com/subject/33442722/': {'name': ['\u627f\u5305\u5546 The Contractor'], 'author': ['\u5854\u91cc\u514b\u00b7\u8428\u5229\u8d6b']}, 'https://movie.douban.com/subject/35206186/': {'name': ['\u8be1\u626f \u8a6d\u626f'], 'author': ['\u8bb8\u5bcc\u7fd4']}, 'https://movie.douban.com/subject/34994748/': {'name': ['\u767b\u5c71\u5bb6 The Alpinist'], 'author': ['\u5f7c\u5f97\u00b7\u83ab\u8482\u9ed8', ' / ', '\u5c3c\u514b\u00b7\u7f57\u68ee']}} \u540c\u6b65\u7528\u65f6\u4e3a\uff1a0:00:06.967015 (2) \u5f02\u6b65 \u5f02\u6b65\u4e5f\u5f88\u7b80\u5355\uff0c\u5173\u4e8e\u5f02\u6b65\u7684\u6587\u7ae0\u6211\u8fd8\u5728\u6574\u7406\uff0c\u56e0\u4e3a\u6d89\u53ca\u5230\u592a\u591a\u7684\u4e1c\u897f\u4e86\u3002\u5148\u770b\u8fd9\u4e2a\u722c\u866b\u4ee3\u7801\uff1a import asyncio from datetime import datetime from aiohttp import TCPConnector import aiohttp from lxml import etree headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\" \"/537.36 (KHTML, like Gecko) \" \"Chrome/72.0.3626.121 Safari/537.36\"} async def get_movie_url(): req_url = \"https://movie.douban.com/chart\" async with aiohttp.ClientSession(connector=TCPConnector(ssl=False), headers=headers) as session: async with session.get(url=req_url, headers=headers) as response: result = await response.text() result = etree.HTML(result) return result.xpath(\"//*[@id='content']/div/div[1]/div/div/table/tr/td/a/@href\") async def get_movie_content(movie_url): async with aiohttp.ClientSession(connector=TCPConnector(ssl=False), headers=headers) as session: async with session.get(url=movie_url, headers=headers) as response: result = await response.text() result = etree.HTML(result) movie = dict() name = result.xpath('//*[@id=\"content\"]/h1/span[1]//text()') author = result.xpath('//*[@id=\"info\"]/span[1]/span[2]//text()') movie[\"name\"] = name movie[\"author\"] = author return movie if __name__ == '__main__': start = datetime.now() loop = asyncio.get_event_loop() movie_url_list = loop.run_until_complete(get_movie_url()) tasks = [get_movie_content(url) for url in movie_url_list] movies = loop.run_until_complete(asyncio.gather(*tasks)) print(movies) print(\"\u5f02\u6b65\u7528\u65f6\u4e3a\uff1a{}\".format(datetime.now() - start)) \u770b\u4e00\u4e0b\u7ed3\u679c\uff0c\u4f60\u5c31\u77e5\u9053\u5dee\u8ddd\u4e86\uff1a [{'name': ['\u5957\u88c5 The Outfit'], 'author': ['\u683c\u62c9\u6c49\u59c6\u00b7\u6469\u5c14']}, {'name': ['\u9752\u6625\u53d8\u5f62\u8bb0 Turning Red'], 'author': ['\u77f3\u4e4b\u4e88']}, {'name': ['\u661f\u671f\u56db A Thursday'], 'author': ['\u6bd5\u67e5\u5fb7\u00b7\u6c49\u5df4\u5854']}, {'name': ['\u7834\u788e\u592a\u9633\u4e4b\u5fc3'], 'author': ['\u6bd5\u8d63']}, {'name': ['\u5c3c\u7f57\u6cb3\u4e0a\u7684\u60e8\u6848 Death on the Nile'], 'author': ['\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3']}, {'name': ['X'], 'author': ['\u7f07\u00b7\u5a01\u65af\u7279']}, {'name': ['\u627f\u5305\u5546 The Contractor'], 'author': ['\u5854\u91cc\u514b\u00b7\u8428\u5229\u8d6b']}, {'name': ['\u8be1\u626f \u8a6d\u626f'], 'author': ['\u8bb8\u5bcc\u7fd4']}, {'name': ['\u767b\u5c71\u5bb6 The Alpinist'], 'author': ['\u5f7c\u5f97\u00b7\u83ab\u8482\u9ed8', ' / ', '\u5c3c\u514b\u00b7\u7f57\u68ee']}] \u5f02\u6b65\u7528\u65f6\u4e3a\uff1a0:00:00.978084","title":"\u5341\u3001\u643a\u7a0b"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#_1","text":"","title":"\u5341\u3001\u643a\u7a0b"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#_2","text":"","title":"\u4e00\u3001\u534f\u7a0b"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#_3","text":"\u534f\u7a0b \u53c8\u79f0\u5fae\u7ebf\u7a0b(\u7ea4\u7a0b)\uff0c\u662f\u4e00\u79cd\u7528\u6237\u6001\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b \u5b50\u7a0b\u5e8f \u5728\u6240\u6709\u7684\u8bed\u8a00\u4e2d\u90fd\u662f\u5c42\u7ea7\u8c03\u7528\u7684\uff0c\u6bd4\u5982A\u4e2d\u8c03\u7528B\uff0cB\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u8c03\u7528C\uff0cC\u6267\u884c\u5b8c\u8fd4\u56de\uff0cB\u6267\u884c\u5b8c\u8fd4\u56de\uff0c\u6700\u540e\u662fA\u6267\u884c\u5b8c\u6bd5\u3002\u8fd9\u662f\u901a\u8fc7\u6808\u5b9e\u73b0\u7684\uff0c\u4e00\u4e2a\u51fd\u6570\u5c31\u662f\u4e00\u4e2a\u6267\u884c\u7684\u5b50\u7a0b\u5e8f\uff0c\u5b50\u7a0b\u5e8f\u7684\u8c03\u7528\u603b\u662f\u6709\u4e00\u4e2a\u5165\u53e3\u3001\u4e00\u6b21\u8fd4\u56de\uff0c\u8c03\u7528\u7684\u987a\u5e8f\u662f\u660e\u786e\u7684 \u7406\u89e3\u534f\u7a0b \u666e\u901a\u7406\u89e3\uff1a\u7ebf\u7a0b\u662f\u7cfb\u7edf\u7ea7\u522b\u7684\uff0c\u5b83\u4eec\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u3002\u534f\u7a0b\u662f\u7a0b\u5e8f\u7ea7\u522b\uff0c\u7531\u7a0b\u5e8f\u5458\u6839\u636e\u9700\u6c42\u81ea\u5df1\u8c03\u5ea6\u3002\u6211\u4eec\u628a\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u7684\u4e00\u4e2a\u4e2a\u51fd\u6570\u79f0\u4e3a\u5b50\u7a0b\u5e8f\uff0c\u90a3\u4e48\u4e00\u4e2a\u5b50\u7a0b\u5e8f\u5728\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u4e2d\u65ad\u53bb\u6267\u884c\u522b\u7684\u5b50\u7a0b\u5e8f\uff0c\u8fd9\u5c31\u662f\u534f\u7a0b\u3002\u4e5f\u5c31\u662f\u8bf4\u540c\u4e00\u4e2a\u7ebf\u7a0b\u4e0b\u7684\u4e00\u6bb5\u4ee3\u78011\u6267\u884c\u6267\u884c\u7740\u5c31\u4e2d\u65ad\uff0c\u7136\u540e\u53bb\u6267\u884c\u53e6\u4e00\u6bb5\u4ee3\u78012\uff0c\u5f53\u518d\u6b21\u56de\u6765\u6267\u884c\u4ee3\u78011\u65f6\uff0c\u63a5\u7740\u4ece\u4e4b\u524d\u7684\u4e2d\u65ad\u7684\u4f4d\u7f6e\u7ee7\u7eed\u5411\u4e0b\u6267\u884c \u4e13\u4e1a\u7406\u89e3\uff1a\u534f\u7a0b\u62e5\u6709\u81ea\u5df1\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\uff0c\u534f\u7a0b\u5728\u8c03\u5ea6\u5207\u6362\u65f6\uff0c\u5c06\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u4fdd\u5b58\u5230\u5176\u4ed6\u7684\u5730\u65b9\uff0c\u5728\u5207\u6362\u56de\u6765\u65f6\uff0c\u6062\u590d\u5148\u524d\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u3002\u56e0\u6b64\uff0c\u534f\u7a0b\u80fd\u540e\u4fdd\u7559\u4e00\u6b21\u8c03\u7528\u7684\u72b6\u6001\uff0c\u6bcf\u6b21\u8fc7\u7a0b\u91cd\u5165\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u8fdb\u5165\u4e0a\u4e00\u6b21\u8c03\u7528\u7684\u72b6\u6001 \u4f18\u70b9 a\u3001\u6700\u5927\u7684\u4f18\u52bf\u5c31\u662f\u534f\u7a0b\u6781\u9ad8\u7684\u6267\u884c\u6548\u7387\u3002\u56e0\u4e3a\u5b50\u7a0b\u5e8f\u5207\u6362\u4e0d\u662f\u7ebf\u7a0b\u5207\u6362\uff0c\u800c\u662f\u7531\u7a0b\u5e8f\u81ea\u8eab\u63a7\u5236\uff0c\u56e0\u6b64\uff0c\u6ca1\u6709\u7ebf\u7a0b\u5207\u6362\u7684\u5f00\u9500\uff0c\u548c\u591a\u7ebf\u7a0b\u6bd4\uff0c\u7ebf\u7a0b\u6570\u91cf\u8d8a\u591a\uff0c\u534f\u7a0b\u7684\u6027\u80fd\u4f18\u52bf\u5c31\u8d8a\u660e\u663e\u3002 b\u3001\u4e0d\u9700\u8981\u591a\u7ebf\u7a0b\u7684\u9501\u673a\u5236\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4e5f\u4e0d\u5b58\u5728\u540c\u65f6\u5199\u53d8\u91cf\u51b2\u7a81\uff0c\u5728\u534f\u7a0b\u4e2d\u63a7\u5236\u5171\u4eab\u8d44\u6e90\u4e0d\u52a0\u9501\uff0c\u53ea\u9700\u8981\u5224\u65ad\u72b6\u6001\u5c31\u597d\u4e86\uff0c\u6240\u4ee5\u6267\u884c\u6548\u7387\u6bd4\u591a\u7ebf\u7a0b\u9ad8\u5f88\u591a\u3002 \u7f3a\u70b9 a\u3001\u65e0\u6cd5\u5229\u7528\u591a\u6838CPU\uff0c\u534f\u7a0b\u7684\u672c\u8d28\u662f\u5355\u4e2a\u7ebf\u7a0b\uff0c\u5b83\u4e0d\u80fd\u540c\u65f6\u5c06\u591a\u4e2aCPU\u7684\u591a\u4e2a\u6838\u5fc3\u4f7f\u7528\u4e0a\uff0c\u5931\u53bb\u4e86\u6807\u51c6\u7ebf\u7a0b\u4f7f\u7528\u591aCPU\u7684\u80fd\u529b\u3002\u534f\u7a0b\u9700\u8981\u548c\u8fdb\u7a0b\u5339\u914d\u4f7f\u7528\u624d\u80fd\u8fd0\u884c\u5728\u591a\u4e2aCPU\u4e0a\u3002\u4f46\u662f\u4e00\u822c\u4e0d\u9700\u8981\uff0c\u9664\u975e\u662fCPU\u8ba1\u7b97\u5bc6\u96c6\u578b\u7684\u5e94\u7528 b\u3001\u8fdb\u884c\u963b\u585e\u64cd\u4f5c(\u64cd\u4f5cIO)\u4f1a\u963b\u585e\u6574\u4e2a\u7a0b\u5e8f \u5b9e\u73b0 Python\u5bf9\u534f\u7a0b\u7684\u652f\u6301\u662f\u901a\u8fc7generator\u5b9e\u73b0\u7684\u3002 \u5728generator\u4e2d\uff0c\u6211\u4eec\u4e0d\u4f46\u53ef\u4ee5\u901a\u8fc7for\u5faa\u73af\u6765\u8fed\u4ee3\uff0c\u8fd8\u53ef\u4ee5\u4e0d\u65ad\u8c03\u7528next()\u51fd\u6570\u83b7\u53d6\u7531yield\u8bed\u53e5\u8fd4\u56de\u7684\u4e0b\u4e00\u4e2a\u503c\u3002 \u4f46\u662fPython\u7684yield\u4e0d\u4f46\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u5b83\u8fd8\u53ef\u4ee5\u63a5\u6536\u8c03\u7528\u8005\u53d1\u51fa\u7684\u53c2\u6570\u3002 \u6ce8\u610f \u542f\u52a8\u534f\u7a0b\u9700\u8981send(None)\u8fdb\u884c\u542f\u52a8 \u4ee3\u7801 python def run1(): print(1) print(2) print(3) print(4) def run2(): print(\"a\") print(\"b\") print(\"c\") print(\"d\") run1() run2() \u7ed3\u679c \u6b63\u5e38\u7ed3\u679c 1 2 3 4 a b c d \u534f\u7a0b\u5b9e\u73b0\u7684\u7ed3\u679c\uff08\u5047\u8bbe\uff09 python 1 a b 2 3 c 4 d","title":"\u6982\u5ff5"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#_4","text":"","title":"\u4e8c\u3001\u540c\u6b65\u4e0e\u5f02\u6b65"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#1","text":"\u524d\u8a00 python\u7531\u4e8eGIL\uff08\u5168\u5c40\u9501\uff09\u7684\u5b58\u5728\uff0c\u4e0d\u80fd\u53d1\u6325\u591a\u6838\u7684\u4f18\u52bf\uff0c\u5176\u6027\u80fd\u4e00\u76f4\u9971\u53d7\u8bdf\u75c5\u3002\u7136\u800c\u5728IO\u5bc6\u96c6\u578b\u7684\u7f51\u7edc\u7f16\u7a0b\u91cc\uff0c\u5f02\u6b65\u5904\u7406\u6bd4\u540c\u6b65\u5904\u7406\u80fd\u63d0\u5347\u6210\u767e\u4e0a\u5343\u500d\u7684\u6548\u7387 IO\u5bc6\u96c6\u578b\u5c31\u662f\u78c1\u76d8\u7684\u8bfb\u53d6\u6570\u636e\u548c\u8f93\u51fa\u6570\u636e\u975e\u5e38\u5927\u7684\u65f6\u5019\u5c31\u662f\u5c5e\u4e8eIO\u5bc6\u96c6\u578b \u7531\u4e8eIO\u64cd\u4f5c\u7684\u8fd0\u884c\u65f6\u95f4\u8fdc\u8fdc\u5927\u4e8ecpu\u3001\u5185\u5b58\u8fd0\u884c\u65f6\u95f4\uff0c\u6240\u4ee5\u4efb\u52a1\u7684\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u662f\u5728\u7b49\u5f85IO\u64cd\u4f5c\u5b8c\u6210\uff0cIO\u7684\u7279\u70b9\u662fcpu\u6d88\u8017\u5c0f\uff0c\u6240\u4ee5\uff0cIO\u4efb\u52a1\u8d8a\u591a\uff0ccpu\u6548\u7387\u8d8a\u9ad8\uff0c\u5f53\u7136\u4e0d\u662f\u8d8a\u591a\u8d8a\u597d\uff0c\u6709\u4e00\u4e2a\u6781\u9650\u503c\u3002 \u540c\u6b65 \u6307\u5b8c\u6210\u4e8b\u52a1\u7684\u903b\u8f91\uff0c\u5148\u6267\u884c\u7b2c\u4e00\u4e2a\u4e8b\u52a1\uff0c\u5982\u679c\u963b\u585e\u4e86\uff0c\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u8fd9\u4e2a\u4e8b\u52a1\u5b8c\u6210\uff0c\u518d\u6267\u884c\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\uff0c\u987a\u5e8f\u6267\u884c \u5f02\u6b65 \u662f\u548c\u540c\u6b65\u76f8\u5bf9\u7684\uff0c\u5f02\u6b65\u662f\u6307\u5728\u5904\u7406\u8c03\u7528\u8fd9\u4e2a\u4e8b\u52a1\u7684\u4e4b\u540e\uff0c\u4e0d\u4f1a\u7b49\u5f85\u8fd9\u4e2a\u4e8b\u52a1\u7684\u5904\u7406\u7ed3\u679c\uff0c\u76f4\u63a5\u5904\u7406\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\u53bb\u4e86\uff0c\u901a\u8fc7\u72b6\u6001\u3001\u901a\u77e5\u3001\u56de\u8c03\u6765\u901a\u77e5\u8c03\u7528\u8005\u5904\u7406\u7ed3\u679c \u8bf4\u660e \u5047\u8bbe\u7528\u6237\u8bbf\u95ee\u4e00\u4e2a\u7f51\u7ad9\u5e76\u5f97\u5230\u54cd\u5e94\u7684\u65f6\u95f4\u4e3a5\u79d2\uff0c\u4f7f\u7528\u540c\u6b65\u601d\u60f3\u5219\u4e00\u5171\u9700\u898120\u79d2\u4ee5\u4e0a\uff0c\u90a3\u4e48\u4f7f\u7528\u5f02\u6b65\u601d\u60f3\u5219\u4e00\u5171\u9700\u89815\u79d2\u5de6\u53f3 \u89e3\u51b3\u65b9\u5f0f \u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u7684\u6a21\u578b\u867d\u7136\u89e3\u51b3\u4e86\u5e76\u53d1\u95ee\u9898\uff0c\u4f46\u662f\u7cfb\u7edf\u4e0d\u80fd\u65e0\u4e0a\u9650\u5730\u589e\u52a0\u7ebf\u7a0b\u3002\u7531\u4e8e\u7cfb\u7edf\u5207\u6362\u7ebf\u7a0b\u7684\u5f00\u9500\u4e5f\u5f88\u5927\uff0c\u6240\u4ee5\uff0c\u4e00\u65e6\u7ebf\u7a0b\u6570\u91cf\u8fc7\u591a\uff0cCPU\u7684\u65f6\u95f4\u5c31\u82b1\u5728\u7ebf\u7a0b\u5207\u6362\u4e0a\u4e86\uff0c\u771f\u6b63\u8fd0\u884c\u4ee3\u7801\u7684\u65f6\u95f4\u5c31\u5c11\u4e86\uff0c\u7ed3\u679c\u5bfc\u81f4\u6027\u80fd\u4e25\u91cd\u4e0b\u964d\u3002 \u7531\u4e8e\u6211\u4eec\u8981\u89e3\u51b3\u7684\u95ee\u9898\u662fCPU\u9ad8\u901f\u6267\u884c\u80fd\u529b\u548cIO\u8bbe\u5907\u7684\u9f9f\u901f\u4e25\u91cd\u4e0d\u5339\u914d\uff0c\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u53ea\u662f\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\u3002 \u5f02\u6b65\u7684\u597d\u5904 \u53e6\u4e00\u79cd\u89e3\u51b3IO\u95ee\u9898\u7684\u65b9\u6cd5\u662f\u5f02\u6b65IO\u3002\u5f53\u4ee3\u7801\u9700\u8981\u6267\u884c\u4e00\u4e2a\u8017\u65f6\u7684IO\u64cd\u4f5c\u65f6\uff0c\u5b83\u53ea\u53d1\u51faIO\u6307\u4ee4\uff0c\u5e76\u4e0d\u7b49\u5f85IO\u7ed3\u679c\uff0c\u7136\u540e\u5c31\u53bb\u6267\u884c\u5176\u4ed6\u4ee3\u7801\u4e86\u3002\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u5f53IO\u8fd4\u56de\u7ed3\u679c\u65f6\uff0c\u518d\u901a\u77e5CPU\u8fdb\u884c\u5904\u7406\u3002 \u5728\u201c\u53d1\u51faIO\u8bf7\u6c42\u201d\u5230\u6536\u5230\u201cIO\u5b8c\u6210\u201d\u7684\u8fd9\u6bb5\u65f6\u95f4\u91cc\uff0c\u540c\u6b65IO\u6a21\u578b\u4e0b\uff0c\u4e3b\u7ebf\u7a0b\u53ea\u80fd\u6302\u8d77\uff0c\u4f46\u5f02\u6b65IO\u6a21\u578b\u4e0b\uff0c\u4e3b\u7ebf\u7a0b\u5e76\u6ca1\u6709\u4f11\u606f\uff0c\u800c\u662f\u5728\u6d88\u606f\u5faa\u73af\u4e2d\u7ee7\u7eed\u5904\u7406\u5176\u4ed6\u6d88\u606f\u3002\u8fd9\u6837\uff0c\u5728\u5f02\u6b65IO\u6a21\u578b\u4e0b\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u540c\u65f6\u5904\u7406\u591a\u4e2aIO\u8bf7\u6c42\uff0c\u5e76\u4e14\u6ca1\u6709\u5207\u6362\u7ebf\u7a0b\u7684\u64cd\u4f5c\u3002\u5bf9\u4e8e\u5927\u591a\u6570IO\u5bc6\u96c6\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f7f\u7528\u5f02\u6b65IO\u5c06\u5927\u5927\u63d0\u5347\u7cfb\u7edf\u7684\u591a\u4efb\u52a1\u5904\u7406\u80fd\u529b\u3002","title":"1\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u7684\u6982\u5ff5"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#2","text":"\u540c\u6b65 ```python import time def run(index): print(\"lucky is a good man\", index) time.sleep(2) print(\"lucky is a nice man\", index) for i in range(1, 5): run(i) ``` \u5f02\u6b65 \u8bf4\u660e\uff1a\u540e\u9762\u7684\u8bfe\u7a0b\u4e2d\u4f1a\u4f7f\u7528\u5230asyncio\u6a21\u5757\uff0c\u73b0\u5728\u7684\u76ee\u7684\u662f\u4f7f\u540c\u5b66\u4eec\u7406\u89e3\u5f02\u6b65\u601d\u60f3 ```python import time import asyncio async def run(i): print(\"lucky is a good man\", i) # \u6a21\u62df\u4e00\u4e2a\u8017\u65f6IO await asyncio.sleep(2) print(\"lucky is a nice man\", i) if name == \" main \": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in range(1, 5): coroutine = run(url) task = asyncio.ensure_future(coroutine) tasks.append(task) loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) ```","title":"2\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u4ee3\u7801"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#asyncio","text":"","title":"\u4e09\u3001asyncio\u6a21\u5757"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#1_1","text":"asyncio\u6a21\u5757 \u662fpython3.4\u7248\u672c\u5f15\u5165\u7684\u6807\u51c6\u5e93\uff0c\u76f4\u63a5\u5185\u7f6e\u4e86\u5bf9\u5f02\u6b65IO\u7684\u64cd\u4f5c \u7f16\u7a0b\u6a21\u5f0f \u662f\u4e00\u4e2a\u6d88\u606f\u5faa\u73af\uff0c\u6211\u4eec\u4eceasyncio\u6a21\u5757\u4e2d\u76f4\u63a5\u83b7\u53d6\u4e00\u4e2aEventLoop\u7684\u5f15\u7528\uff0c\u7136\u540e\u628a\u9700\u8981\u6267\u884c\u7684\u534f\u7a0b\u6254\u5230EventLoop\u4e2d\u6267\u884c\uff0c\u5c31\u5b9e\u73b0\u4e86\u5f02\u6b65IO \u8bf4\u660e \u5230\u76ee\u524d\u4e3a\u6b62\u5b9e\u73b0\u534f\u7a0b\u7684\u4e0d\u4ec5\u4ec5\u53ea\u6709asyncio,tornado\u548cgevent\u90fd\u5b9e\u73b0\u4e86\u7c7b\u4f3c\u529f\u80fd \u5173\u952e\u5b57\u7684\u8bf4\u660e \u5173\u952e\u5b57 \u8bf4\u660e event_loop \u6d88\u606f\u5faa\u73af\uff0c\u7a0b\u5e8f\u5f00\u542f\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\uff0c\u628a\u4e00\u4e9b\u51fd\u6570\u6ce8\u518c\u5230\u4e8b\u4ef6\u5faa\u73af\u4e0a\uff0c\u5f53\u6ee1\u8db3\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u5019\uff0c\u8c03\u7528\u76f8\u5e94\u7684\u534f\u7a0b\u51fd\u6570 coroutine \u534f\u7a0b\u5bf9\u8c61\uff0c\u6307\u4e00\u4e2a\u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u5b83\u7684\u8c03\u7528\u4e0d\u4f1a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u800c\u662f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61\u3002\u534f\u7a0b\u5bf9\u8c61\u9700\u8981\u6ce8\u518c\u5230\u4e8b\u4ef6\u5faa\u73af\uff0c\u7531\u4e8b\u4ef6\u5faa\u73af\u8c03\u7528 task \u4efb\u52a1\uff0c\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a\u539f\u751f\u53ef\u4ee5\u6302\u8d77\u7684\u51fd\u6570\uff0c\u4efb\u52a1\u5219\u662f\u5bf9\u534f\u7a0b\u8fdb\u4e00\u6b65\u5c01\u88c5\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4efb\u52a1\u7684\u5404\u79cd\u72b6\u6001 future \u4ee3\u8868\u5c06\u6765\u6267\u884c\u6216\u6ca1\u6709\u6267\u884c\u7684\u4efb\u52a1\u7684\u7ed3\u679c\uff0c\u5b83\u548ctask\u4e0a\u6ca1\u6709\u672c\u8d28\u4e0a\u7684\u533a\u522b async/await python3.5\u7528\u4e8e\u5b9a\u4e49\u534f\u7a0b\u7684\u5173\u952e\u5b57\uff0casync\u5b9a\u4e49\u4e00\u4e2a\u534f\u7a0b\uff0cawait\u7528\u4e8e\u6302\u8d77\u963b\u585e\u7684\u5f02\u6b65\u8c03\u7528\u63a5\u53e3","title":"1\u3001\u6982\u8ff0"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#2asyncio","text":"\u5b9a\u4e49\u4e00\u4e2a\u534f\u7a0b ```python import asyncio import time # \u901a\u8fc7async\u5173\u952e\u5b57\u5b9a\u4e49\u4e86\u4e00\u4e2a\u534f\u7a0b\uff0c\u534f\u7a0b\u662f\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\u7684\uff0c\u9700\u8981\u5c06\u534f\u7a0b\u653e\u5230\u6d88\u606f\u5faa\u73af\u4e2d async def run(x): print(\"waiting\uff1a%d\"%x) await asyncio.sleep(x) print(\"\u7ed3\u675frun\") #\u5f97\u5230\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61 coroutine = run(2) asyncio.run(coroutine) ``` \u7b49\u540c\u4e8e ```python import asyncio import time # \u901a\u8fc7async\u5173\u952e\u5b57\u5b9a\u4e49\u4e86\u4e00\u4e2a\u534f\u7a0b\uff0c\u534f\u7a0b\u662f\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\u7684\uff0c\u9700\u8981\u5c06\u534f\u7a0b\u653e\u5230\u6d88\u606f\u5faa\u73af\u4e2d async def run(x): print(\"waiting\uff1a%d\"%x) await asyncio.sleep(x) print(\"\u7ed3\u675frun\") #\u5f97\u5230\u4e00\u4e2a\u534f\u7a0b\u5bf9\u8c61 coroutine = run(2) # \u521b\u5efa\u4e00\u4e2a\u6d88\u606f\u5faa\u73af loop = asyncio.get_event_loop() #\u5c06\u534f\u7a0b\u5bf9\u8c61\u52a0\u5165\u5230\u6d88\u606f\u5faa\u73af loop.run_until_complete(coroutine) ``` \u521b\u5efa\u4e00\u4e2a\u4efb\u52a1 ```python import asyncio import time async def run(x): print(\"waiting\uff1a%d\"%x) await asyncio.sleep(x) print(\"\u7ed3\u675frun\") coroutine = run(2) #\u521b\u5efa\u4efb\u52a1 task = asyncio.ensure_future(coroutine) loop = asyncio.get_event_loop() # \u5c06\u4efb\u52a1\u52a0\u5165\u5230\u6d88\u606f\u5faa\u73af loop.run_until_complete(task) ``` \u83b7\u53d6\u8fd4\u56de\u503c ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) # \u5411\u767e\u5ea6\u8981\u6570\u636e\uff0c\u7f51\u7edcIO await asyncio.sleep(5) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed9\u4f60\u6570\u636e\") return data # \u5b9a\u4e49\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 def call_back(future): print(\"call_back:\", future.result()) coroutine = run(\"\u767e\u5ea6\") # \u521b\u5efa\u4e00\u4e2a\u4efb\u52a1\u5bf9\u8c61 task = asyncio.ensure_future(coroutine) # \u7ed9\u4efb\u52a1\u6dfb\u52a0\u56de\u8c03\uff0c\u5728\u4efb\u52a1\u7ed3\u675f\u540e\u8c03\u7528\u56de\u8c03\u51fd\u6570 task.add_done_callback(call_back) loop = asyncio.get_event_loop() loop.run_until_complete(task) ``` \u963b\u585e\u548cawait async\u53ef\u4ee5\u5b9a\u4e49\u534f\u7a0b\uff0c\u4f7f\u7528await\u53ef\u4ee5\u9488\u5bf9\u8017\u65f6\u64cd\u4f5c\u8fdb\u884c\u6302\u8d77\uff0c\u5c31\u4e0e\u751f\u6210\u5668\u7684yield\u4e00\u6837\uff0c\u51fd\u6570\u4ea4\u51fa\u63a7\u5236\u6743\u3002\u534f\u7a0b\u9047\u5230await\uff0c\u6d88\u606f\u5faa\u73af\u4f1a\u6302\u8d77\u8be5\u534f\u7a0b\uff0c\u6267\u884c\u522b\u7684\u534f\u7a0b\uff0c\u76f4\u5230\u5176\u4ed6\u534f\u7a0b\u4e5f\u4f1a\u6302\u8d77\u6216\u8005\u6267\u884c\u5b8c\u6bd5\uff0c\u5728\u8fdb\u884c\u4e0b\u4e00\u6b21\u6267\u884c ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) # \u5411\u767e\u5ea6\u8981\u6570\u636e\uff0c\u7f51\u7edcIO await asyncio.sleep(5) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed9\u4f60\u6570\u636e\") return data # \u5b9a\u4e49\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff08\u4e0d\u9700\u8981\u624b\u52a8\u8c03\u7528\uff0c\u89e6\u53d1\u67d0\u79cd\u6761\u4ef6\u624d\u4f1a\u8c03\u7528\uff09 def call_back(future): print(\"call_back:\", future.result()) coroutine = run(\"\u767e\u5ea6\") task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) loop = asyncio.get_event_loop() loop.run_until_complete(task) print(\"-------over------\") ```","title":"2\u3001asyncio\u57fa\u672c\u4f7f\u7528"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#3","text":"\u540c\u6b65 \u540c\u65f6\u8bf7\u6c42\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"\u56db\u4e2a\u7f51\u7ad9\uff0c\u5047\u8bbe\u54cd\u5e94\u65f6\u957f\u5747\u4e3a2\u79d2 ```python import time def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) # \u5411\u767e\u5ea6\u8981\u6570\u636e\uff0c\u7f51\u7edcIO time.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data if name == \" main \": t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: print(run(url)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\"%(t2-t1)) ``` \u5f02\u6b65 \u540c\u65f6\u8bf7\u6c42\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"\u56db\u4e2a\u7f51\u7ad9\uff0c\u5047\u8bbe\u54cd\u5e94\u65f6\u957f\u5747\u4e3a2\u79d2 \u4f7f\u7528ensure_future\u521b\u5efa\u591a\u4efb\u52a1 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) if name == \" main \": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 # asyncio.wait(tasks) \u5c06\u4efb\u52a1\u7684\u5217\u8868\u53c8\u53d8\u6210 <coroutine object wait at 0x7f80f43408c0> loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) ``` \u5c01\u88c5\u6210\u5f02\u6b65\u51fd\u6570 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 await asyncio.wait(tasks) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) if name == \" main \": loop = asyncio.get_event_loop() loop.run_until_complete(main()) ``` \u4f7f\u7528loop.create_task\u521b\u5efa\u591a\u4efb\u52a1 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) if name == \" main \": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) # task = asyncio.ensure_future(coroutine) task = loop.create_task(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) ``` \u5c01\u88c5\u6210\u5f02\u6b65\u51fd\u6570 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = loop.create_task(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 await asyncio.wait(tasks) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) if name == \" main \": loop = asyncio.get_event_loop() loop.run_until_complete(main()) ``` \u4f7f\u7528asyncio.create_task\u521b\u5efa\u591a\u4efb\u52a1 ```python import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.create_task(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 await asyncio.wait(tasks) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1)) if name == \" main \": # asyncio.run(main()) loop = asyncio.get_event_loop() loop.run_until_complete(main()) ```","title":"3\u3001\u591a\u4efb\u52a1"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#4pythontaskfuture","text":"","title":"4\u3001Python:\u534f\u7a0b\u4e2dTask\u548cFuture\u7684\u7406\u89e3\u53ca\u4f7f\u7528"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#41task","text":"Task\uff0c\u662f python \u4e2d\u4e0e\u4e8b\u4ef6\u5faa\u73af\u8fdb\u884c\u4ea4\u4e92\u7684\u4e00\u79cd\u4e3b\u8981\u65b9\u5f0f\u3002 \u200b \u521b\u5efa Task\uff0c\u610f\u601d\u5c31\u662f\u628a\u534f\u7a0b\u5c01\u88c5\u6210 Task \u5b9e\u4f8b\uff0c\u5e76\u8ffd\u8e2a\u534f\u7a0b\u7684 \u8fd0\u884c / \u5b8c\u6210\u72b6\u6001\uff0c\u7528\u4e8e\u672a\u6765\u83b7\u53d6\u534f\u7a0b\u7684\u7ed3\u679c\u3002 Task \u6838\u5fc3\u4f5c\u7528: \u5728\u4e8b\u4ef6\u5faa\u73af\u4e2d\u6dfb\u52a0\u591a\u4e2a\u5e76\u53d1\u4efb\u52a1; \u200b \u5177\u4f53\u6765\u8bf4\uff0c\u662f\u901a\u8fc7 asyncio.create_task() \u521b\u5efa Task\uff0c\u8ba9\u534f\u7a0b\u5bf9\u8c61\u52a0\u5165\u65f6\u4e8b\u4ef6\u5faa\u73af\u4e2d\uff0c\u7b49\u5f85\u88ab\u8c03\u5ea6\u6267\u884c\u3002 \u200b \u6ce8\u610f: Python 3.7 \u4ee5\u540e\u7684\u7248\u672c\u652f\u6301 asyncio.create_task() \uff0c\u5728\u6b64\u4e4b\u524d\u7684\u5199\u6cd5\u4e3a loop.create_task() \uff0c\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9700\u8981\u6ce8\u610f\u4ee3\u7801\u5199 \u6cd5\u5bf9\u4e0d\u540c\u7248\u672c python \u7684\u517c\u5bb9\u6027\u3002 \u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u534f\u7a0b\u5c01\u88c5\u4e3a Task \u540e\u4e0d\u4f1a\u7acb\u9a6c\u542f\u52a8\uff0c\u5f53\u67d0\u4e2a\u4ee3\u7801 await \u8fd9\u4e2a Task \u7684\u65f6\u5019\u624d\u4f1a\u88ab\u6267\u884c\u3002 \u200b \u5f53\u591a\u4e2a Task \u88ab\u52a0\u5165\u4e00\u4e2a task_list \u7684\u65f6\u5019\uff0c\u6dfb\u52a0 Task \u7684\u8fc7\u7a0b\u4e2d Task \u4e0d\u4f1a\u6267\u884c\uff0c\u5fc5\u987b\u8981\u7528 await asyncio.wait() \u6216 await asyncio.gather() \u5c06 Task \u5bf9\u8c61\u52a0\u5165\u4e8b\u4ef6\u5faa\u73af\u4e2d\u5f02\u6b65\u6267\u884c\u3002 \u4e00\u822c\u5728\u5f00\u53d1\u4e2d\uff0c\u5e38\u7528\u7684\u5199\u6cd5\u662f\u8fd9\u6837\u7684: \u200b -- \u5148\u521b\u5efa task_list \u7a7a\u5217\u8868; \u200b -- \u7136\u540e\u7528 asyncio.create_task() \u521b\u5efa Task; \u200b -- \u518d\u628a Task \u5bf9\u8c61\u52a0\u5165 task_list ; \u200b -- \u6700\u540e\u4f7f\u7528 await asyncio.wait \u6216 await asyncio.gather \u5c06 Task \u5bf9\u8c61\u52a0\u5165\u4e8b\u4ef6\u5faa\u73af\u4e2d\u5f02\u6b65\u6267\u884c\u3002 \u200b \u6ce8\u610f: \u521b\u5efa Task \u5bf9\u8c61\u65f6\uff0c\u9664\u4e86\u53ef\u4ee5\u4f7f\u7528 asyncio.create_task() \u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u6700\u4f4e\u5c42\u7ea7\u7684 loop.create_task() \u6216 asyncio.ensure_future() \uff0c\u4ed6\u4eec\u90fd\u53ef\u4ee5\u7528\u6765\u521b\u5efa Task \u5bf9\u8c61\uff0c\u5176\u4e2d\u5173\u4e8e ensure_future \u76f8\u5173\u5185\u5bb9\u672c\u6587\u63a5\u4e0b\u6765\u4f1a\u4e00\u8d77\u8bb2\u3002 Task \u7b80\u5355\u7528\u6cd5 import asyncio async def func(): print(1) await asyncio.sleep(2) print(2) return \"test\" async def main(): print(\"main start\") # python 3.7\u53ca\u4ee5\u4e0a\u7248\u672c\u7684\u5199\u6cd5 task1 = asyncio.create_task(func()) task2 = asyncio.create_task(func()) # python3.7\u4ee5\u524d\u7684\u5199\u6cd5 # task1 = asyncio.ensure_future(func()) # task2 = asyncio.ensure_future(func()) print(\"main end\") ret1 = await task1 ret2 = await task2 print(ret1, ret2) # python3.7\u4ee5\u540e\u7684\u5199\u6cd5 asyncio.run(main()) # python3.7\u4ee5\u524d\u7684\u5199\u6cd5 # loop = asyncio.get_event_loop() # loop.run_until_complete(main()) \"\"\" \u5728\u521b\u5efatask\u7684\u65f6\u5019\uff0c\u5c31\u5c06\u521b\u5efa\u597d\u7684task\u6dfb\u52a0\u5230\u4e86\u4e8b\u4ef6\u5faa\u73af\u5f53\u4e2d\uff0c\u6240\u4ee5\u8bf4\u5fc5\u987b\u5f97\u6709\u4e8b\u4ef6\u5faa\u73af\uff0c\u624d\u53ef\u4ee5\u521b\u5efatask\uff0c\u5426\u5219\u4f1a\u62a5\u9519 \"\"\" task\u7528\u6cd5\u5b9e\u4f8b ```python import asyncio import arrow def current_time(): ''' \u83b7\u53d6\u5f53\u524d\u65f6\u95f4 :return: ''' cur_time = arrow.now().to('Asia/Shanghai').format('YYYY-MM-DD HH:mm:ss') return cur_time async def func(sleep_time): func_name_suffix = sleep_time # \u4f7f\u7528 sleep_time (\u51fd\u6570 I/O \u7b49\u5f85\u65f6\u957f)\u4f5c\u4e3a\u51fd\u6570\u540d\u540e\u7f00\uff0c\u4ee5\u533a\u5206\u4efb\u52a1\u5bf9\u8c61 print(f\"[{current_time()}] \u6267\u884c\u5f02\u6b65\u51fd\u6570 {func. name }-{func_name_suffix}\") await asyncio.sleep(sleep_time) print(f\"[{current_time()}]\u51fd\u6570{func. name }-{func_name_suffix} \u6267\u884c\u5b8c\u6bd5\") return f\"\u3010[{current_time()}] \u5f97\u5230\u51fd\u6570 {func. name }-{func_name_suffix} \u6267\u884c\u7ed3\u679c\u3011\" async def run(): task_list = [] for i in range(5): task = asyncio.create_task(func(i)) task_list.append(task) done, pending = await asyncio.wait(task_list, timeout=None) for done_task in done: print((f\"[{current_time()}]\u5f97\u5230\u6267\u884c\u7ed3\u679c {done_task.result()}\")) def main(): loop = asyncio.get_event_loop() loop.run_until_complete(run()) if name == ' main ': main() ``` \u4ee3\u7801\u6267\u884c\u7ed3\u679c\u5982\u4e0b: ```python /usr/local/bin/python3.7 /Users/xialigang/PycharmProjects/\u722c\u866b/123.py [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-0 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-1 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-2 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-3 [2022-07-01 16:44:57] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-4 [2022-07-01 16:44:57]\u51fd\u6570func-0 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:44:58]\u51fd\u6570func-1 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:44:59]\u51fd\u6570func-2 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:45:00]\u51fd\u6570func-3 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:45:01]\u51fd\u6570func-4 \u6267\u884c\u5b8c\u6bd5 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:44:59] \u5f97\u5230\u51fd\u6570 func-2 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:44:57] \u5f97\u5230\u51fd\u6570 func-0 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:45:00] \u5f97\u5230\u51fd\u6570 func-3 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:44:58] \u5f97\u5230\u51fd\u6570 func-1 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-01 16:45:01]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-01 16:45:01] \u5f97\u5230\u51fd\u6570 func-4 \u6267\u884c\u7ed3\u679c\u3011 Process finished with exit code 0 ```","title":"4.1\u3001Task \u6982\u5ff5\u53ca\u7528\u6cd5"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#42future","text":"\u5728\u4ecb\u7ecd Future \u4e4b\u524d\u6709\u4e24\u70b9\u95ee\u9898\u9700\u8981\u5148\u8bf4\u660e: Future \u76f8\u8f83\u4e8e Task \u5c5e\u4e8e\u66f4\u5e95\u5c42\u7684\u6982\u5ff5\uff0c\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684\u5e76\u4e0d\u591a\uff0c\u8fd9\u91cc\u4ecb\u7ecd Future \u4e3b\u8981\u662f\u4e3a\u4e86\u52a0\u6df1\u5bf9\u4e8e Task \u7684\u7406\u89e3; \u8fd9\u91cc\u6307\u7684\u662f asyncio.Future \u800c\u4e0d\u662f coroutines.futures.Future \uff0c coroutines.futures.Future \u5e38\u7528\u4e8e \u591a\u8fdb\u7a0b\u3001\u591a\u7ebf\u7a0b\u5b9e\u73b0\u5e76\u53d1\u3002 Future\uff0c\u53c8\u79f0 \u672a\u6765\u5bf9\u8c61\u3001\u671f\u7a0b\u5bf9\u8c61\uff0c\u5176\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u5bb9\u5668\uff0c\u7528\u4e8e\u63a5\u53d7\u5f02\u6b65\u6267\u884c\u7684\u7ed3\u679c; \u6211\u4eec\u524d\u9762\u8bb2\u7684 Task \u662f\u7ee7\u627f\u81ea Future ! Furture \u5bf9\u8c61\u5185\u90e8\u5c01\u88c5\u4e86\u4e00\u4e2a _state \uff0c\u8fd9\u4e2a _state \u7ef4\u62a4\u7740\u56db\u79cd\u72b6\u6001:Pending\u3001Running\u3001Done\uff0cCancelled\uff0c\u5982\u679c\u53d8\u6210 Done \u5b8c\u6210\uff0c\u5c31 \u4e0d\u518d\u7b49\u5f85\uff0c\u800c\u662f\u5f80\u540e\u6267\u884c\uff0c\u8fd9\u56db\u79cd\u72b6\u6001\u7684\u5b58\u5728\u5176\u5b9e\u7c7b\u4f3c\u4e0e\u8fdb\u7a0b\u7684 \u8fd0\u884c\u6001\u3001\u5c31\u7eea\u6001\u3001\u963b\u585e\u6001\uff0c\u4e8b\u4ef6\u5faa\u73af\u51ed\u501f\u7740\u56db\u79cd\u72b6\u6001\u5bf9 Future\\\u534f\u7a0b\u5bf9\u8c61 \u8fdb \u884c\u8c03\u5ea6\u3002 \u5728\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u76f4\u63a5\u521b\u5efa Future \u9700\u8981\u4f7f\u7528 asyncio.ensure_future() \u51fd\u6570\uff0c\u4e0b\u9762\u662f ensure_future \u51fd\u6570\u7684\u6e90\u7801\uff0c\u4ed4\u7ec6\u9605\u8bfb\u6e90\u7801\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c ensure_future \u51fd\u6570\u6700\u540e\u8fd4\u56de\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a awaitable \u5bf9\u8c61\uff0c\u5373\u6ee1\u8db3 Awaitable \u534f\u8bae\u3002 \u6b63\u56e0\u4e3a ensure_future \u51fd\u6570\u6700\u540e\u8fd4\u56de\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a awaitable \u5bf9\u8c61\uff0c\u6240\u4ee5\u624d\u4fdd\u8bc1\u4e86\u7ee7\u627f\u81ea Future \u7684 Task \u662f awaitable \u7684\u3002 \u540c\u65f6\uff0c\u534f\u7a0b\u5bf9\u8c61\u4e00\u4f4d\u5185\u65e0\u6cd5\u81ea\u5df1\u6267\u884c\uff0c\u9700\u8981\u5c06\u5176\u6ce8\u518c\u5230\u4e8b\u4ef6\u5faa\u73af\u4e2d\u8f6c\u53d8\u4e3a\u4e00\u4e2a Task \u5bf9\u8c61\u624d\u4f1a\u88ab\u6267\u884c\uff0c\u6240\u4ee5\u534f\u7a0b\u5bf9\u8c61\u4e00\u5b9a\u7684\u3002 \u4e00\u822c\u53ea\u6709\u5728\u4e00\u5b9a\u8981\u786e\u4fdd\u9700\u8981\u521b\u5efa\u4e00\u4e2a awaitable \u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u4f7f\u7528 ensure_future \u51fd\u6570\u3002","title":"4.2\u3001Future \u6982\u5ff5\u89e3\u8bfb"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#5","text":"","title":"5\u3001\u534f\u7a0b\u5d4c\u5957\u4e0e\u8fd4\u56de\u503c"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#51","text":"\u4f7f\u7528async\u53ef\u4ee5\u5b9a\u4e49\u534f\u7a0b\uff0c\u534f\u7a0b\u7528\u4e8e\u8017\u65f6\u7684io\u64cd\u4f5c\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c01\u88c5\u66f4\u591a\u7684io\u64cd\u4f5c\u8fc7\u7a0b\uff0c\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u5d4c\u5957\u7684\u534f\u7a0b\uff0c\u5373\u4e00\u4e2a\u534f\u7a0b\u4e2dawait\u4e86\u53e6\u5916\u4e00\u4e2a\u534f\u7a0b\uff0c\u5982\u6b64\u8fde\u63a5\u8d77\u6765 import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\" % (url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\" % (url) return data def call_back(future): print(\"call_back:\", future.result()) if __name__ == \"__main__\": loop = asyncio.get_event_loop() tasks = [] t1 = time.time() for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) # \u540c\u65f6\u6dfb\u52a04\u4e2a\u5f02\u6b65\u4efb\u52a1 # asyncio.wait(tasks) \u5c06\u4efb\u52a1\u7684\u5217\u8868\u53c8\u53d8\u6210 <coroutine object wait at 0x7f80f43408c0> loop.run_until_complete(asyncio.wait(tasks)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1))","title":"5.1 \u534f\u7a0b\u5d4c\u5957"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#52","text":"","title":"5.2 \u83b7\u53d6\u8fd4\u56de\u503c"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#521-wait","text":"import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) #1\u3001\u53ef\u4ee5\u6ca1\u6709\u56de\u8c03\u51fd\u6570 dones, pendings = await asyncio.wait(tasks) #\u5904\u7406\u6570\u636e\uff0c\u7c7b\u4f3c\u56de\u8c03\uff0c\u5efa\u8bae\u4f7f\u7528\u56de\u8c03 for t in dones: print(\"\u6570\u636e\uff1a%s\"%(t.result())) if __name__ == \"__main__\": t1 = time.time() # loop = asyncio.get_event_loop() # loop.run_until_complete(main()) asyncio.run(main()) # \u7b49\u540c\u4e8e\u4e0a\u9762\u4e24\u884c\u4ee3\u7801","title":"5.2.1 wait\u5185\u90e8\u8fd4\u56de\u503c"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#522-wait","text":"import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) return await asyncio.wait(tasks) if __name__ == \"__main__\": t1 = time.time() # loop = asyncio.get_event_loop() # dones, pendings = loop.run_until_complete(main()) dones, pendings = asyncio.run(main()) # \u5904\u7406\u6570\u636e\uff0c\u7c7b\u4f3c\u56de\u8c03\uff0c\u5efa\u8bae\u4f7f\u7528\u56de\u8c03 for t in dones: print(\"\u6570\u636e\uff1a%s\"%(t.result())) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1))","title":"5.2.2 wait\u5916\u90e8\u8fd4\u56de\u503c"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#522-gather","text":"import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) #2\u3001\u53ef\u4ee5\u6ca1\u6709\u56de\u8c03\u51fd\u6570 results = await asyncio.gather(*tasks) # \u5904\u7406\u6570\u636e\uff0c\u7c7b\u4f3c\u56de\u8c03\uff0c\u5efa\u8bae\u4f7f\u7528\u56de\u8c03 for result in results: print(\"\u6570\u636e\uff1a%s\"%(result)) if __name__ == \"__main__\": t1 = time.time() asyncio.run(main()) # \u7b49\u540c\u4e8e\u4e0a\u9762\u4e24\u884c\u4ee3\u7801 t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1))","title":"5.2.2 gather\u5185\u90e8\u83b7\u53d6\u8fd4\u56de\u503c"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#523-gather","text":"import time import asyncio async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) return data def call_back(future): print(\"call_back:\", future.result()) async def main(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) # task.add_done_callback(call_back) tasks.append(task) # 4\u3001\u6709\u65e0\u56de\u8c03\u51fd\u6570\u5747\u53ef\u4ee5 return await asyncio.gather(*tasks) if __name__ == \"__main__\": t1 = time.time() # loop = asyncio.get_event_loop() # results = loop.run_until_complete(main()) results = asyncio.run(main()) for result in results: print(\"\u6570\u636e\uff1a%s\"%(result)) t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1))","title":"5.2.3 gather\u5916\u90e8\u83b7\u53d6\u8fd4\u56de\u503c"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#53-asynciowaitasynciogather","text":"\u5f02\u540c\u70b9\u7efc\u8ff0 \u76f8\u540c:\u4ece\u529f\u80fd\u4e0a\u770b\uff0c asyncio.wait \u548c asyncio.gather \u5b9e\u73b0\u7684\u6548\u679c\u662f\u76f8\u540c\u7684\uff0c\u90fd\u662f\u628a\u6240\u6709 Task \u4efb\u52a1\u7ed3\u679c\u6536\u96c6\u8d77\u6765\u3002 \u4e0d\u540c: asyncio.wait \u4f1a\u8fd4\u56de\u4e24\u4e2a\u503c: done \u548c pending \uff0c done \u4e3a\u5df2\u5b8c\u6210\u7684\u534f\u7a0b Task \uff0c pending \u4e3a\u8d85\u65f6\u672a\u5b8c\u6210\u7684\u534f\u7a0b Task \uff0c\u9700\u901a\u8fc7 future.result \u8c03\u7528 Task \u7684 result ;\u800c asyncio.gather \u8fd4\u56de\u7684\u662f\u6240\u6709\u5df2\u5b8c\u6210 Task \u7684 result \uff0c\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u8c03\u7528\u6216\u5176\u4ed6\u64cd\u4f5c\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u5168\u90e8\u7ed3\u679c\u3002 asyncio.wait \u7528\u6cd5: \u6700\u5e38\u89c1\u7684\u5199\u6cd5\u662f: await asyncio.wait(task_list) \u3002 import asyncio import arrow def current_time(): ''' \u83b7\u53d6\u5f53\u524d\u65f6\u95f4 :return: ''' cur_time = arrow.now().to('Asia/Shanghai').format('YYYY-MM-DD HH:mm:ss') return cur_time async def func(sleep_time): func_name_suffix = sleep_time # \u4f7f\u7528 sleep_time (\u51fd\u6570 I/O \u7b49\u5f85\u65f6\u957f)\u4f5c\u4e3a\u51fd\u6570\u540d\u540e\u7f00\uff0c\u4ee5\u533a\u5206\u4efb\u52a1\u5bf9\u8c61 print(f\"[{current_time()}] \u6267\u884c\u5f02\u6b65\u51fd\u6570 {func.name}-{func_name_suffix}\") await asyncio.sleep(sleep_time) print(f\"[{current_time()}]\u51fd\u6570{func.name}-{func_name_suffix} \u6267\u884c\u5b8c\u6bd5\") return f\"\u3010[{current_time()}] \u5f97\u5230\u51fd\u6570 {func.name}-{func_name_suffix} \u6267\u884c\u7ed3\u679c\u3011\" async def run(): task_list = [] for i in range(5): task = asyncio.create_task(func(i)) task_list.append(task) done, pending = await asyncio.wait(task_list, timeout=None) for done_task in done: print((f\"[{current_time()}]\u5f97\u5230\u6267\u884c\u7ed3\u679c {done_task.result()}\")) def main(): loop = asyncio.get_event_loop() loop.run_until_complete(run()) if __name__ == '__main__': main() \u4ee3\u7801\u6267\u884c\u7ed3\u679c\u5982\u4e0b: /usr/local/bin/python3.7 /Users/xialigang/PycharmProjects/\u722c\u866b/123.py [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-0 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-1 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-2 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-3 [2022-07-04 15:31:47] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-4 [2022-07-04 15:31:47]\u51fd\u6570func-0 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:48]\u51fd\u6570func-1 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:49]\u51fd\u6570func-2 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:50]\u51fd\u6570func-3 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:51]\u51fd\u6570func-4 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:49] \u5f97\u5230\u51fd\u6570 func-2 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:47] \u5f97\u5230\u51fd\u6570 func-0 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:50] \u5f97\u5230\u51fd\u6570 func-3 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:48] \u5f97\u5230\u51fd\u6570 func-1 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:31:51]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:31:51] \u5f97\u5230\u51fd\u6570 func-4 \u6267\u884c\u7ed3\u679c\u3011 Process finished with exit code 0 asyncio.gather \u7528\u6cd5: \u6700\u5e38\u89c1\u7684\u7528\u6cd5\u662f: await asyncio.gather(*task_list) \uff0c\u6ce8\u610f\u8fd9\u91cc task_list \u524d\u9762\u6709\u4e00\u4e2a * \u3002 import asyncio import arrow def current_time(): ''' \u83b7\u53d6\u5f53\u524d\u65f6\u95f4 :return: ''' cur_time = arrow.now().to('Asia/Shanghai').format('YYYY-MM-DD HH:mm:ss') return cur_time async def func(sleep_time): func_name_suffix = sleep_time # \u4f7f\u7528 sleep_time (\u51fd\u6570 I/O \u7b49\u5f85\u65f6\u957f)\u4f5c\u4e3a\u51fd\u6570\u540d\u540e\u7f00\uff0c\u4ee5\u533a\u5206\u4efb\u52a1\u5bf9\u8c61 print(f\"[{current_time()}] \u6267\u884c\u5f02\u6b65\u51fd\u6570 {func.__name__}-{func_name_suffix}\") await asyncio.sleep(sleep_time) print(f\"[{current_time()}]\u51fd\u6570{func.__name__}-{func_name_suffix} \u6267\u884c\u5b8c\u6bd5\") return f\"\u3010[{current_time()}] \u5f97\u5230\u51fd\u6570 {func.__name__}-{func_name_suffix} \u6267\u884c\u7ed3\u679c\u3011\" async def run(): task_list = [] for i in range(5): task = asyncio.create_task(func(i)) task_list.append(task) results = await asyncio.gather(*task_list) for result in results: print((f\"[{current_time()}]\u5f97\u5230\u6267\u884c\u7ed3\u679c {result}\")) def main(): loop = asyncio.get_event_loop() loop.run_until_complete(run()) if __name__ == '__main__': main() \u4ee3\u7801\u6267\u884c\u7ed3\u679c\u5982\u4e0b: /usr/local/bin/python3.7 /Users/xialigang/PycharmProjects/\u722c\u866b/123.py [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-0 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-1 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-2 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-3 [2022-07-04 15:33:24] \u6267\u884c\u5f02\u6b65\u51fd\u6570 func-4 [2022-07-04 15:33:24]\u51fd\u6570func-0 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:25]\u51fd\u6570func-1 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:26]\u51fd\u6570func-2 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:27]\u51fd\u6570func-3 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:28]\u51fd\u6570func-4 \u6267\u884c\u5b8c\u6bd5 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:24] \u5f97\u5230\u51fd\u6570 func-0 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:25] \u5f97\u5230\u51fd\u6570 func-1 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:26] \u5f97\u5230\u51fd\u6570 func-2 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:27] \u5f97\u5230\u51fd\u6570 func-3 \u6267\u884c\u7ed3\u679c\u3011 [2022-07-04 15:33:28]\u5f97\u5230\u6267\u884c\u7ed3\u679c \u3010[2022-07-04 15:33:28] \u5f97\u5230\u51fd\u6570 func-4 \u6267\u884c\u7ed3\u679c\u3011 Process finished with exit code 0","title":"5.3 asyncio.wait\u548casyncio.gather\u7684\u5f02\u540c"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#6","text":"\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u7684\u4e8b\u4ef6\u5faa\u73af\u7528\u4e8e\u6ce8\u518c\u534f\u7a0b\uff0c\u800c\u6709\u7684\u534f\u7a0b\u9700\u8981\u52a8\u6001\u7684\u6dfb\u52a0\u5230\u4e8b\u4ef6\u5faa\u73af\u4e2d\u3002\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u4f7f\u7528\u591a\u7ebf\u7a0b\u3002\u5f53\u524d\u7ebf\u7a0b\u521b\u5efa\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\uff0c\u7136\u540e\u5728\u65b0\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5728\u65b0\u7ebf\u7a0b\u4e2d\u542f\u52a8\u4e8b\u4ef6\u5faa\u73af\u3002\u5f53\u524d\u7ebf\u7a0b\u4e0d\u4f1a\u88abblock import asyncio import threading import time def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) time.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed3\u675f\u8bf7\u6c42\") return data def start_loop(loop): # \u542f\u52a8\u6d88\u606f\u5faa\u73af asyncio.set_event_loop(loop) loop.run_forever() if __name__ == \"__main__\": # \u521b\u5efa\u6d88\u606f\u5faa\u73af(\u7c7b\u4f3c\u6b7b\u5faa\u73af) # \u6ce8\u610f\uff1a\u6b64\u65f6\u6d88\u606f\u5faa\u73af\u6ca1\u6709\u542f\u52a8 loop = asyncio.get_event_loop() threading.Thread(target=start_loop, args=(loop,)).start() t1 = time.time() # \u7ed9\u6d88\u606f\u5faa\u73af\u6dfb\u52a0\u4efb\u52a1 # loop.run_until_complete(create_tasks()) loop.call_soon_threadsafe(run, \"\u767e\u5ea6\") loop.call_soon_threadsafe(run, \"\u817e\u8baf\") t2 = time.time() print(\"\u603b\u8017\u65f6\uff1a%.2f\" % (t2 - t1))","title":"6\u3001\u6d88\u606f\u5faa\u73af\u5728\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u542f\u52a8"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#7asyncio","text":"\u4f7f\u7528\u5230\u534f\u7a0b\u5d4c\u5957\u4e0e\u6d88\u606f\u5faa\u73af\u5728\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u542f\u52a8\u76f8\u5173\u8054 import asyncio import threading async def run(url): print(\"\u5f00\u59cb\u5411'%s'\u8981\u6570\u636e\u2026\u2026\"%(url)) await asyncio.sleep(2) data = \"'%s'\u7684\u6570\u636e\"%(url) print(\"\u7ed3\u675f\u8bf7\u6c42\") return data def call_back(future): print(\"call_back:\", future.result()) async def create_tasks(): tasks = [] for url in [\"\u767e\u5ea6\", \"\u963f\u91cc\", \"\u817e\u8baf\", \"\u65b0\u6d6a\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) task.add_done_callback(call_back) tasks.append(task) await asyncio.wait(tasks) def start_loop(loop): # \u542f\u52a8\u6d88\u606f\u5faa\u73af asyncio.set_event_loop(loop) loop.run_forever() if __name__ == \"__main__\": # \u521b\u5efa\u6d88\u606f\u5faa\u73af(\u7c7b\u4f3c\u6b7b\u5faa\u73af) # \u6ce8\u610f\uff1a\u6b64\u65f6\u6d88\u606f\u5faa\u73af\u6ca1\u6709\u542f\u52a8 loop = asyncio.get_event_loop() threading.Thread(target=start_loop, args=(loop,)).start() #\u7ed9\u6d88\u606f\u5faa\u73af\u6dfb\u52a0\u4efb\u52a1 asyncio.run_coroutine_threadsafe(create_tasks(), loop) # asyncio.run_coroutine_threadsafe(run(\"\u767e\u5ea6\"), loop) # asyncio.run_coroutine_threadsafe(run(\"\u817e\u8baf\"), loop) # asyncio.run_coroutine_threadsafe(run(\"\u963f\u91cc\"), loop) # asyncio.run_coroutine_threadsafe(run(\"\u65b0\u6d6a\"), loop)","title":"7\u3001asyncio\u7ec8\u6781\u4f7f\u7528"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#8","text":"import asyncio import threading async def run(url): print(\"\u5f00\u59cb\u52a0\u8f7d'%s'\u9875\u9762\u2026\u2026\" % (url)) # \u53d1\u8d77\u94fe\u63a5\uff0c\u8017\u65f6IO connet = asyncio.open_connection(url, 80) reader, writer = await connet # \u94fe\u63a5\u6210\u529f # \u53d1\u8d77\u8bf7\u6c42\uff0c\u8017\u65f6IO header = \"GET / HTTP/1.0\\r\\nHost: %s\\r\\n\\r\\n\"%(url) writer.write(header.encode(\"utf-8\")) await writer.drain() #\u63a5\u6536\u6570\u636e with open(url + \".html\", \"wb\") as fp: while True: line = await reader.readline() if line == b\"\\r\\n\": break else: fp.write(line) fp.flush() async def create_tasks(): tasks = [] for url in [\"www.baidu.html\", \"www.163.com\", \"www.sina.com.cn\"]: coroutine = run(url) task = asyncio.ensure_future(coroutine) tasks.append(task) await asyncio.wait(tasks) def start_loop(loop): asyncio.set_event_loop(loop) loop.run_forever() if __name__ == \"__main__\": loop = asyncio.get_event_loop() threading.Thread(target=start_loop, args=(loop,)).start() asyncio.run_coroutine_threadsafe(create_tasks(), loop)","title":"8\u3001\u83b7\u53d6\u7f51\u9875\u4fe1\u606f"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#aiohttp","text":"\u5165\u95e8\u4f7f\u7528 \u5b98\u65b9\u63a8\u8350\u4f7f\u7528\u4e00\u4e2a\u5ba2\u6237\u7aef\u4f1a\u8bdd\u6765\u53d1\u8d77\u6240\u6709\u8bf7\u6c42\uff0c\u4f1a\u8bdd\u4e2d\u8bb0\u5f55\u4e86\u8bf7\u6c42\u7684cookie\uff0c\u4f46\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528aiohttp.request\u6765\u53d1\u9001\u8bf7\u6c42\u3002 \u5f53\u6211\u4eec\u4f7f\u7528 async def \u5c31\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\uff0c\u5f02\u6b65\u903b\u8f91\u7531asyncio\u63d0\u4f9b\u652f\u6301\u3002 async with aiohttp.ClientSession() as session \u4e3a\u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff0c\u5728\u8bf7\u6c42\u7ed3\u675f\u65f6\u6216\u8005\u53d1\u751f\u5f02\u5e38\u8bf7\u6c42\u65f6\u652f\u6301\u81ea\u52a8\u5173\u95ed\u5b9e\u4f8b\u5316\u7684\u5ba2\u6237\u7aef\u4f1a\u8bdd\u3002 import asyncio import aiohttp async def main(): async with aiohttp.ClientSession() as session: async with session.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text()) if __name__ == '__main__': # python3.7\u624d\u652f\u6301\u8fd9\u79cd\u5199\u6cd5\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u5165\u53e3\u51fd\u6570\uff0c\u4ee5debug\u6a21\u5f0f\u8fd0\u884c\u4e8b\u4ef6\u5faa\u73af asyncio.run(main(), debug=True) # python3.6\u53ca\u4ee5\u4e0b\u7248\u672c\u5199\u6cd5 event_loop = asyncio.get_event_loop() results = event_loop.run_until_complete(asyncio.gather(main())) event_loop.close()","title":"\u56db\u3001aiohttp"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#1_2","text":"pip install aiohttp","title":"1\u3001\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#2_1","text":"aiohttp\u7684\u81ea\u6211\u4ecb\u7ecd\u4e2d\u5c31\u5305\u542b\u4e86\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\uff0c\u6240\u4ee5\u6211\u4eec\u5206\u522b\u6765\u770b\u4e0b\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u7684\u7b80\u5355\u5b9e\u4f8b\u4ee3\u7801\u3002 \u5ba2\u6237\u7aef\uff1a import aiohttp import asyncio async def fetch(session, url): async with session.get(url) as response: return await response.text() async def main(): async with aiohttp.ClientSession() as session: html = await fetch(session, \"http://httpbin.org/headers\") print(html) asyncio.run(main()) \"\"\"\u8f93\u51fa\u7ed3\u679c\uff1a { \"headers\": { \"Accept\": \"*/*\", \"Accept-Encoding\": \"gzip, deflate\", \"Host\": \"httpbin.org\", \"User-Agent\": \"Python/3.7 aiohttp/3.6.2\" } } \"\"\" \u8fd9\u4e2a\u4ee3\u7801\u662f\u4e0d\u662f\u5f88\u7b80\u5355\uff0c\u4e00\u4e2a\u51fd\u6570\u7528\u6765\u53d1\u8d77\u8bf7\u6c42\uff0c\u53e6\u5916\u4e00\u4e2a\u51fd\u6570\u7528\u6765\u4e0b\u8f7d\u7f51\u9875\u3002 \u670d\u52a1\u5668\u7aef from aiohttp import web async def handle(request): name = request.match_info.get('name', \"Anonymous\") text = \"Hello, \" + name return web.Response(text=text) app = web.Application() app.add_routes([web.get('/', handle), web.get('/{name}', handle)]) if __name__ == '__main__': web.run_app(app) \u8fd0\u884c\u8fd9\u4e2a\u4ee3\u7801\uff0c\u7136\u540e\u8bbf\u95eehttp://127.0.0.1:8080\u5c31\u53ef\u4ee5\u770b\u5230\u4f60\u7684\u7f51\u7ad9\u4e86\uff0c\u5f88 \u57fa\u7840\u7684\u4e00\u4e2a\u7f51\u9875\uff0c\u4f60\u53ef\u4ee5\u5728\u540e\u9762\u8ddf\u4e0a\u4f60\u7684\u540d\u5b57\u3002 \u8fd9\u662f\u4e24\u4e2a\u7b80\u5355\u7684\u5173\u4e8eaiohttp\u7684\u4f7f\u7528\u793a\u4f8b\uff0c\u4e0b\u9762\u5feb\u901f\u5f00\u59cb\u3002","title":"2\u3001\u7b80\u5355\u5b9e\u4f8b\u4f7f\u7528"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#3_1","text":"\u7b80\u5355\u793a\u8303 \u9996\u5148\u662f\u5b66\u4e60\u5ba2\u6237\u7aef\uff0c\u4e5f\u5c31\u662f\u7528\u6765\u53d1\u9001http\u8bf7\u6c42\u7684\u7528\u6cd5\u3002\u9996\u5148\u770b\u4e00\u6bb5\u4ee3\u7801\uff0c\u4f1a\u5728\u4ee3\u7801\u4e2d\u8bb2\u8ff0\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff1a import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: async with session.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text()) asyncio.run(main()) \u4ee3\u7801\u89e3\u91ca\uff1a \u5728\u7f51\u7edc\u8bf7\u6c42\u4e2d\uff0c\u4e00\u4e2a\u8bf7\u6c42\u5c31\u662f\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u7136\u540e aiohttp \u4f7f\u7528\u7684\u662f ClientSession \u6765\u7ba1\u7406\u4f1a\u8bdd\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a\u91cd\u70b9\uff0c\u770b\u4e00\u4e0b ClientSession : class ClientSession: \"\"\"First-class interface for making HTTP requests.\"\"\" \u5728\u6e90\u7801\u4e2d\uff0c\u8fd9\u4e2a\u7c7b\u7684\u6ce8\u91ca\u662f\u4f7f\u7528HTTP\u8bf7\u6c42\u63a5\u53e3\u7684\u7b2c\u4e00\u4e2a\u7c7b\u3002\u7136\u540e\u4e0a\u9762\u7684\u4ee3\u7801\u5c31\u662f\u5b9e\u4f8b\u5316\u4e00\u4e2a ClientSession \u7c7b\u7136\u540e\u547d\u540d\u4e3asession\uff0c\u7136\u540e\u7528session\u53bb\u53d1\u9001\u8bf7\u6c42\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u5751\uff0c\u90a3\u5c31\u662f ClientSession.get() \u534f\u7a0b\u7684\u5fc5\u9700\u53c2\u6570\u53ea\u80fd\u662f str \u7c7b\u548c yarl.URL \u7684\u5b9e\u4f8b\u3002 \u5907\u6ce8\uff1ayarl \u6a21\u5757\u63d0\u4f9b\u4e86\u7528\u4e8eurl\u89e3\u6790\u548c\u66f4\u6539\u7684\u4fbf\u6377\u7684URL\u7c7b \u5f53\u7136\u8fd9\u53ea\u662fget\u8bf7\u6c42\uff0c\u5176\u4ed6\u7684post\u3001put\u90fd\u662f\u652f\u6301\u7684\uff1a session.put('http://httpbin.org/put', data=b'data') session.delete('http://httpbin.org/delete') session.head('http://httpbin.org/get') session.options('http://httpbin.org/get') session.patch('http://httpbin.org/patch', data=b'data')","title":"3\u3001\u5165\u95e8"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#4url","text":"\u6709\u65f6\u5019\u5728\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\u7684\u65f6\u5019\u9700\u8981\u9644\u52a0\u4e00\u4e9b\u53c2\u6570\u5230url\u4e2d\uff0c\u8fd9\u4e00\u70b9\u4e5f\u662f\u652f\u6301\u7684\u3002 import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: params = {'key1': 'value1', 'key2': 'value2'} async with session.get('http://httpbin.org/get', params=params) as resp: print(resp.url) expect = 'http://httpbin.org/get?key2=value2&key1=value1' assert str(resp.url) == expect \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 params \u53c2\u6570\u6765\u6307\u5b9a\u8981\u4f20\u9012\u7684\u53c2\u6570\uff0c \u540c\u65f6\u5982\u679c\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u952e\u5bf9\u5e94\u591a\u4e2a\u503c\u7684\u53c2\u6570\uff0c\u90a3\u4e48 MultiDict \u5c31\u5728\u8fd9\u4e2a\u65f6\u5019\u8d77\u4f5c\u7528\u4e86\u3002\u4f60\u53ef\u4ee5\u4f20\u9012\u4e24\u4e2a\u5143\u7956\u5217\u8868\u6765\u4f5c\u4e3a\u53c2\u6570\uff1a import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: params = [('key', 'value1'), ('key', 'value2')] async with session.get('http://httpbin.org/get', params=params) as r: expect = 'http://httpbin.org/get?key=value2&key=value1' # assert str(r.url) == expect print(r.url) asyncio.run(main())","title":"4\u3001\u5728URL\u4e2d\u4f20\u9012\u53c2\u6570"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#5_1","text":"\u6211\u4eec\u53ef\u4ee5\u8bfb\u53d6\u5230\u670d\u52a1\u5668\u7684\u54cd\u5e94\u72b6\u6001\u548c\u54cd\u5e94\u5185\u5bb9\uff0c\u8fd9\u4e5f\u662f\u4f7f\u7528\u8bf7\u6c42\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u90e8\u5206\u3002\u901a\u8fc7 status \u6765\u83b7\u53d6\u54cd\u5e94\u72b6\u6001\u7801\uff0c text() \u6765\u83b7\u53d6\u5230\u54cd\u5e94\u5185\u5bb9\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u4e4b\u8ba1\u6307\u660e\u7f16\u7801\u683c\u5f0f\u4e3a\u4f60\u60f3\u8981\u7684\u7f16\u7801\u683c\u5f0f\uff1a async def main(): async with aiohttp.ClientSession() as session: async with session.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text(encoding=utf-8)) \"\"\"\u8f93\u51fa\u7ed3\u679c\uff1a 200 <!doctype html> <html lang=\"zh-CN\"> <head> ...... \"\"\"","title":"5\u3001\u8bfb\u53d6\u54cd\u5e94\u5185\u5bb9"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#6_1","text":"\u5bf9\u4e8e\u7f51\u7edc\u8bf7\u6c42\uff0c\u6709\u65f6\u5019\u662f\u53bb\u8bbf\u95ee\u4e00\u5f20\u56fe\u7247\uff0c\u8fd9\u79cd\u8fd4\u56de\u503c\u662f\u4e8c\u8fdb\u5236\u7684\u4e5f\u662f\u53ef\u4ee5\u8bfb\u53d6\u5230\u7684\uff1a await resp.read() \u5c06 text() \u65b9\u6cd5\u6362\u6210 read() \u65b9\u6cd5\u5c31\u597d\u3002","title":"6\u3001\u975e\u6587\u672c\u5185\u5bb9\u683c\u5f0f"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#7","text":"ClientResponse\uff08\u5ba2\u6237\u7aef\u54cd\u5e94\uff09 \u5bf9\u8c61\u542b\u6709request_info(\u8bf7\u6c42\u4fe1\u606f)\uff0c\u4e3b\u8981\u662f url \u548c headers \u4fe1\u606f\u3002 raise_for_status \u7ed3\u6784\u4f53\u4e0a\u7684\u4fe1\u606f\u4f1a\u88ab\u590d\u5236\u7ed9ClientResponseError\u5b9e\u4f8b\u3002","title":"7\u3001\u8bf7\u6c42\u7684\u81ea\u5b9a\u4e49"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#1-headers","text":"\u6709\u65f6\u5019\u505a\u8bf7\u6c42\u7684\u65f6\u5019\u9700\u8981\u81ea\u5b9a\u4e49headers\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u8ba9\u670d\u52a1\u5668\u8ba4\u4e3a\u6211\u4eec\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u3002\u7136\u540e\u5c31\u9700\u8981\u6211\u4eec\u81ea\u5df1\u6765\u5b9a\u4e49\u4e00\u4e2aheaders\uff1a headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) \" \"AppleWebKit/537.36 (KHTML, like Gecko)\" \" Chrome/78.0.3904.108 Safari/537.36\" } await session.post(url, headers=headers)","title":"(1) \u81ea\u5b9a\u4e49Headers"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#2-ssl","text":"import aiohttp import asyncio from aiohttp import TCPConnector async def main(): async with aiohttp.ClientSession(connector=TCPConnector(ssl=False)) as session: pass asyncio.run(main()) \u6216 r = await session.get('https://example.com', ssl=False)","title":"(2) \u5982\u679c\u51fa\u73b0ssl\u9a8c\u8bc1\u5931\u8d25\u7684\u5904\u7406"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#3-cookie","text":"\u53d1\u9001\u4f60\u81ea\u5df1\u7684cookies\u7ed9\u670d\u52a1\u5668\uff0c\u4f60\u53ef\u4ee5\u4e3aClientSession\u5bf9\u8c61\u6307\u5b9acookies\u53c2\u6570: url = 'http://httpbin.org/cookies' cookies = {'cookies_are': 'working'} async with ClientSession(cookies=cookies) as session: async with session.get(url) as resp: assert await resp.json() == { \"cookies\": {\"cookies_are\": \"working\"}}","title":"(3) \u81ea\u5b9a\u4e49cookie"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#4","text":"\u6709\u65f6\u5019\u5728\u5199\u722c\u866b\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528\u5230\u4ee3\u7406\uff0c\u6240\u4ee5 aiohttp \u4e5f\u662f\u652f\u6301\u4f7f\u7528\u4ee3\u7406\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u53d1\u8d77\u8bf7\u6c42\u7684\u65f6\u5019\u4f7f\u7528\u4ee3\u7406\uff0c\u53ea\u9700\u8981\u4f7f\u7528\u5173\u952e\u5b57 proxy \u6765\u6307\u660e\u5c31\u597d\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u5f88\u96be\u53d7\u7684\u5730\u65b9\u5c31\u662f\u5b83\u53ea\u652f\u6301 http \u4ee3\u7406\uff0c\u4e0d\u652f\u6301 HTTPS \u4ee3\u7406\u3002\u4f7f\u7528\u8d77\u6765\u5927\u6982\u662f\u8fd9\u6837\uff1a \u4f7f\u7528\u65e0\u6388\u6743\u4ee3\u7406 async with aiohttp.ClientSession() as session: async with session.get(\"http://python.org\", proxy=\"http://proxy.com\") as resp: print(resp.status) \u4f7f\u7528\u8d77\u6765\u5927\u6982\u662f\u8fd9\u6837\uff0c\u7136\u540e\u4ee3\u7406\u8bb0\u5f97\u6539\u6210\u81ea\u5df1\u7684\u3002 \u4ee3\u7406\u6388\u6743\u7684\u4e24\u79cd\u65b9\u5f0f \u7b2c\u4e00\u79cd python async with aiohttp.ClientSession() as session: proxy_auth = aiohttp.BasicAuth('user', 'pass') async with session.get(\"http://python.org\", proxy=\"http://proxy.com\", proxy_auth=proxy_auth) as resp: print(resp.status) \u7b2c\u4e8c\u79cd python session.get(\"http://python.org\", proxy=\"http://user:pass@some.proxy.com\")","title":"(4) \u4f7f\u7528\u4ee3\u7406"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#5-post","text":"\u9664\u4e86\u5e38\u7528\u7684get\u548cpost\u8bf7\u6c42\u8fd8\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bf7\u6c42\u65b9\u5f0f\uff1a put: session.put('http://httpbin.org/put', data=b'data') delete: session.delete('http://httpbin.org/delete') head: session.head('http://httpbin.org/get') options: session.options('http://httpbin.org/get') patch: session.patch('http://httpbin.org/patch', data=b'data') import asyncio import aiohttp async def main(): data = b'x00Binary-datax00' # \u672a\u7ecf\u7f16\u7801\u7684\u6570\u636e\u901a\u8fc7bytes\u6570\u636e\u4e0a\u4f20 data = 'text' # \u4f20\u9012\u6587\u672c\u6570\u636e data = {'key': 'value'} # \u4f20\u9012form\u8868\u5355 async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', data=data) as resp: print(resp.status) print(await resp.text()) \u590d\u6742\u7684post\u8bf7\u6c42 async def main2(): pyload = {'key': 'value'} # \u4f20\u9012pyload async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', json=pyload) as resp: print(resp.status) print(await resp.text()) if __name__ == '__main__': asyncio.run(main()) asyncio.run(main2())","title":"(5) \u53d1\u9001post\u8bf7\u6c42"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#6_2","text":"\u7531\u4e8e\u83b7\u53d6\u54cd\u5e94\u5185\u5bb9\u662f\u4e00\u4e2a\u963b\u585e\u8017\u65f6\u8fc7\u7a0b\uff0c\u6240\u4ee5\u6211\u4eec\u4f7f\u7528await\u5b9e\u73b0\u534f\u7a0b\u5207\u6362 resp.history \u67e5\u770b\u91cd\u5b9a\u5411\u5386\u53f2 resp.headers \u83b7\u53d6\u54cd\u5e94\u5934 resp.cookies \u83b7\u53d6\u54cd\u5e94cookie resp.status \u83b7\u53d6\u54cd\u5e94\u72b6\u6001\u7801 resp.text(encoding='utf-8) \u83b7\u53d6\u54cd\u5e94\u6587\u672c resp.json() \u83b7\u53d6json\u54cd\u5e94\u6570\u636e resp.read() \u83b7\u53d6\u4e8c\u8fdb\u5236\u54cd\u5e94\u6570\u636e resp.content.read(100) \u83b7\u53d6\u6d41\u54cd\u5e94\uff0c\u6bcf\u6b21\u83b7\u53d6100\u4e2a\u5b57\u8282 import asyncio import aiohttp async def main(): params = {'key1': 'value1', 'key2': 'value2'} async with aiohttp.ClientSession() as sess: async with sess.get('http://httpbin.org/get', params=params) as resp: print(resp.status) # \u72b6\u6001\u7801 print(await resp.text(encoding='utf-8')) # \u6587\u672c\u54cd\u5e94\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u54cd\u5e94\u7f16\u7801\uff0c\u9ed8\u8ba4\u662futf-8 print(await resp.json()) # json\u54cd\u5e94 print(await resp.read()) # \u4e8c\u8fdb\u5236\u54cd\u5e94\uff0c\u9002\u7528\u4e8e\u4e0b\u8f7d\u56fe\u7247\u7b49 async def main2(): async with aiohttp.ClientSession() as sess: async with sess.get('https://api.github.com/events') as resp: print(resp.status) # \u72b6\u6001\u7801 print(await resp.content.read(100)) # \u6d41\u54cd\u5e94\uff0c\u9002\u7528\u4e8e\u5927\u6587\u4ef6\uff0c\u5206\u6b21\u8bfb\u53d6 # await\u751f\u6210\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u901a\u8fc7\u4e0d\u65ad\u5faa\u73af\u62ff\u5230\u6bcf\u4e00\u6b21100\u4e2a\u5b57\u8282\u7801 while True: chunk = await resp.content.read(100) print(chunk) if not chunk: break if __name__ == '__main__': asyncio.run(main()) asyncio.run(main2())","title":"(6) \u54cd\u5e94\u548c\u72b6\u6001\u7801"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#7_1","text":"import asyncio import aiohttp async def main(): \"\"\"\u4f20\u9012\u6587\u4ef6\"\"\" files = {'file': open('report.xls', 'rb')} async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', data=files) as resp: print(resp.status) print(await resp.text()) async def main2(): \"\"\"\u5b9e\u4f8b\u5316FormData\u53ef\u4ee5\u6307\u5b9afilename\u548ccontent_type\"\"\" data = aiohttp.FormData() data.add_field('file', open('report.xls', 'rb'), filename='report.xls', content_type='application/vnd.ms-excel') async with aiohttp.ClientSession() as sess: async with sess.post('http://httpbin.org/post', data=data) as resp: print(resp.status) print(await resp.text()) async def main3(): \"\"\"\u6d41\u5f0f\u4e0a\u4f20\u6587\u4ef6\"\"\" async with aiohttp.ClientSession() as sess: with open('report.xls', 'rb') as f: async with sess.post('http://httpbin.org/post', data=f) as resp: print(resp.status) print(await resp.text()) async def main4(): \"\"\"\u56e0\u4e3acontent\u5c5e\u6027\u662f StreamReader\uff08\u63d0\u4f9b\u5f02\u6b65\u8fed\u4ee3\u5668\u534f\u8bae\uff09\uff0c\u6240\u4ee5\u60a8\u53ef\u4ee5\u5c06get\u548cpost\u8bf7\u6c42\u94fe\u63a5\u5728\u4e00\u8d77\u3002python3.6\u53ca\u4ee5\u4e0a\u624d\u80fd\u4f7f\u7528\"\"\" async with aiohttp.ClientSession() as sess: async with sess.get('http://python.org') as resp: async with sess.post('http://httpbin.org/post', data=resp.content) as r: print(r.status) print(await r.text()) if __name__ == '__main__': asyncio.run(main()) asyncio.run(main2()) asyncio.run(main3()) asyncio.run(main4())","title":"(7) \u5411\u76ee\u6807\u670d\u52a1\u5668\u4e0a\u4f20\u6587\u4ef6"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#9","text":"ClientTimeout\u7c7b\u6709\u56db\u4e2a\u7c7b\u5c5e\u6027: total:\u6574\u4e2a\u64cd\u4f5c\u65f6\u95f4\u5305\u62ec\u8fde\u63a5\u5efa\u7acb\uff0c\u8bf7\u6c42\u53d1\u9001\u548c\u54cd\u5e94\u8bfb\u53d6\u3002 connect:\u8be5\u65f6\u95f4\u5305\u62ec\u5efa\u7acb\u65b0\u8fde\u63a5\u6216\u5728\u8d85\u8fc7\u6c60\u8fde\u63a5\u9650\u5236\u65f6\u7b49\u5f85\u6c60\u4e2d\u7684\u7a7a\u95f2\u8fde\u63a5\u7684\u8fde\u63a5\u3002 sock_connect:\u8fde\u63a5\u5230\u5bf9\u7b49\u70b9\u4ee5\u8fdb\u884c\u65b0\u8fde\u63a5\u7684\u8d85\u65f6\uff0c\u4e0d\u662f\u4ece\u6c60\u4e2d\u7ed9\u51fa\u7684\u3002 sock_read:\u4ece\u5bf9\u7b49\u4f53\u8bfb\u53d6\u65b0\u6570\u636e\u90e8\u5206\u4e4b\u95f4\u7684\u65f6\u95f4\u6bb5\u5185\u5141\u8bb8\u7684\u6700\u5927\u8d85\u65f6\u3002 import aiohttp import asyncio timeout = aiohttp.ClientTimeout(total=60) async def main(): async with aiohttp.ClientSession(timeout=timeout) as sess: async with sess.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text()) if __name__ == \"__main__\": asyncio.run(main())","title":"(9) \u8bbe\u7f6e\u8bf7\u6c42\u8d85\u65f6"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#8aiofiles","text":"","title":"8\u3001aiofiles\u5f02\u6b65\u6a21\u5f0f"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#81","text":"\u5e73\u5e38\u4f7f\u7528\u7684file\u64cd\u4f5c\u6a21\u5f0f\u4e3a\u540c\u6b65\uff0c\u5e76\u4e14\u4e3a\u7ebf\u7a0b\u963b\u585e\u3002\u5f53\u7a0b\u5e8fI/O \u5e76\u53d1 \u6b21\u6570\u9ad8\u7684\u65f6\u5019\uff0cCPU\u88ab\u963b\u585e\uff0c\u5f62\u6210\u95f2\u7f6e\u3002 \u7ebf\u7a0b\u5f00\u542f\u6587\u4ef6\u8bfb\u53d6\u5f02\u6b65\u6a21\u5f0f \u7528\u7ebf\u7a0b\uff08Thread\uff09\u65b9\u5f0f\u6765\u89e3\u51b3\u3002\u786c\u76d8\u7f13\u5b58\u53ef\u4ee5\u88ab\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\uff0c\u56e0\u6b64\u901a\u8fc7\u4e0d\u540c\u7ebf\u7a0b\u8bbf\u95ee\u6587\u4ef6\u53ef\u4ee5\u90e8\u5206\u89e3\u51b3\u3002\u4f46\u6b64\u65b9\u6848\u6d89\u53ca\u7ebf\u7a0b\u5f00\u542f\u5173\u95ed\u7684\u5f00\u9500\uff0c\u800c\u4e14\u4e0d\u540c\u7ebf\u7a0b\u95f4\u6570\u636e\u4ea4\u4e92\u6bd4\u8f83\u9ebb\u70e6\u3002 from threading import Thread for file in list_file: tr = Thread(target=file.write, args=(data,)) tr.start() \u4f7f\u7528\u5df2\u7f16\u5199\u597d\u7684\u7b2c\u4e09\u65b9\u63d2\u4ef6-aiofiles\uff0c\u652f\u6301\u5f02\u6b65\u6a21\u5f0f \u4f7f\u7528aio\u63d2\u4ef6\u6765\u5f00\u542f\u6587\u4ef6\u7684\u975e\u963b\u585e\u5f02\u6b65\u6a21\u5f0f\u3002","title":"8.1 \u6982\u8ff0"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#82","text":"pip install aiofiles \u8fd9\u4e2a\u63d2\u4ef6\u7684\u4f7f\u7528\u548cpython\u539f\u751fopen \u4e00\u81f4\uff0c\u800c\u4e14\u53ef\u4ee5\u652f\u6301\u5f02\u6b65\u8fed\u4ee3\uff1a","title":"8.2 \u5b89\u88c5\u65b9\u6cd5"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#83","text":"\u6253\u5f00\u6587\u4ef6 import aiofiles async with aiofiles.open('filename', mode='r') as f: contents = await f.read() print(contents) 'My file contents' \u8fed\u4ee3\uff0c import asyncio import aiofiles async def main(): async with aiofiles.open('filename') as f: async for line in f: print(line) if __name__ == '__main__': asyncio.run(main())","title":"8.3 \u5b9e\u4f8b"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#9_1","text":"semaphore\uff0c\u63a7\u5236\u5e76\u53d1 semaphore = asyncio.Semaphore(10) \u5b9e\u4f8b #!/usr/bin/python import asyncio import os import aiofiles import aiohttp import requests from bs4 import BeautifulSoup def get_page_source(web): headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36' } response = requests.get(web, headers=headers) response.encoding = 'utf-8' return response.text def parse_page_source(html): book_list = [] soup = BeautifulSoup(html, 'html.parser') a_list = soup.find_all('div', attrs={'class': 'mulu-list quanji'}) for a in a_list: a_list = a.find_all('a') for href in a_list: chapter_url = href['href'] book_list.append(chapter_url) return book_list def get_book_name(book_page): book_number = book_page.split('/')[-1].split('.')[0] book_chapter_name = book_page.split('/')[-2] return book_number, book_chapter_name async def aio_download_one(chapter_url, signal): number, c_name = get_book_name(chapter_url) for c in range(10): try: async with signal: async with aiohttp.ClientSession() as session: async with session.get(chapter_url) as resp: page_source = await resp.text() soup = BeautifulSoup(page_source, 'html.parser') chapter_name = soup.find('h1').text p_content = soup.find('div', attrs={'class': 'neirong'}).find_all('p') content = [p.text + '\\n' for p in p_content] chapter_content = '\\n'.join(content) if not os.path.exists(f'{book_name}/{c_name}'): os.makedirs(f'{book_name}/{c_name}') async with aiofiles.open(f'{book_name}/{c_name}/{number}_{chapter_name}.txt', mode=\"w\", encoding='utf-8') as f: await f.write(chapter_content) print(chapter_url, \"\u4e0b\u8f7d\u5b8c\u6bd5!\") return \"\" except Exception as e: print(e) print(chapter_url, \"\u4e0b\u8f7d\u5931\u8d25!, \u91cd\u65b0\u4e0b\u8f7d. \") return chapter_url async def aio_download(url_list): tasks = [] semaphore = asyncio.Semaphore(10) for h in url_list: tasks.append(asyncio.create_task(aio_download_one(h, semaphore))) await asyncio.wait(tasks) if __name__ == '__main__': url = 'https://www.51shucheng.net/daomu/guichuideng' book_name = '\u9b3c\u5439\u706f' if not os.path.exists(book_name): os.makedirs(book_name) source = get_page_source(url) href_list = parse_page_source(source) loop = asyncio.get_event_loop() loop.run_until_complete(aio_download(href_list)) loop.close()","title":"9\u3001\u6293\u53d6\u9b3c\u5439\u706f\u6848\u4f8b \u5e76\u53d1\u63a7\u5236"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#10asyncio","text":"\u5176\u5b9eaiohttp\u6700\u9002\u5408\u7684\u4f34\u4fa3\u5c31\u662fasyncio\uff0c\u8fd9\u4e24\u4e2a\u7ed3\u5408\u8d77\u6765\u4f7f\u7528\u662f\u6700\u597d\u4e0d\u8fc7\u7684\u4e86\u3002\u7136\u540e\u8fd9\u91cc\u6211\u5c31\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u5b9e\u4f8b\u4ee3\u7801\u6765\u5bf9\u6bd4\u4e00\u4e0b\u3002\u540c\u6b65\u548c\u5f02\u6b65\u7684\u5dee\u522b\u3002 \u793a\u4f8b\u4ee3\u7801 \u793a\u4f8b\u7528\u8c46\u74e3\u7535\u5f71 lxml requests datetime asyncio aiohttp \u7136\u540e\u9700\u8981\u5927\u5bb6\u5b89\u88c5\u597d\u8fd9\u4e9b\u5e93\uff0c\u7136\u540e\u63d0\u53d6\u7f51\u9875\u5185\u5bb9\u4f7f\u7528\u7684\u662f xpath \u3002","title":"10\u3001\u548casyncio\u7ed3\u5408\u4f7f\u7528\u722c\u53d6\u6848\u4f8b"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#1_3","text":"\u5176\u5b9e\u540c\u6b65\u5199\u4e86\u5f88\u591a\u6b21\u4e86\uff0c\u7136\u540e\u628a\u4e4b\u524d\u7684\u4ee3\u7801\u653e\u4e0a\u6765\u5c31\u597d\uff1a from datetime import datetime import requests from lxml import etree headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\" \"/537.36 (KHTML, like Gecko) \" \"Chrome/72.0.3626.121 Safari/537.36\"} def get_movie_url(): req_url = \"https://movie.douban.com/chart\" response = requests.get(url=req_url, headers=headers) html = etree.HTML(response.text) movies_url = html.xpath( \"//*[@id='content']/div/div[1]/div/div/table/tr/td/a/@href\") return movies_url def get_movie_content(movie_url): response = requests.get(movie_url, headers=headers) result = etree.HTML(response.text) movie = dict() name = result.xpath('//*[@id=\"content\"]/h1/span[1]//text()') author = result.xpath('//*[@id=\"info\"]/span[1]/span[2]//text()') movie[\"name\"] = name movie[\"author\"] = author return movie if __name__ == '__main__': start = datetime.now() movie_url_list = get_movie_url() movies = dict() for url in movie_url_list: movies[url] = get_movie_content(url) print(movies) print(\"\u540c\u6b65\u7528\u65f6\u4e3a\uff1a{}\".format(datetime.now() - start)) \u770b\u4e00\u4e0b\u540c\u6b65\u7684\u7ed3\u679c\uff1a {'https://movie.douban.com/subject/35372415/': {'name': ['\u5957\u88c5 The Outfit'], 'author': ['\u683c\u62c9\u6c49\u59c6\u00b7\u6469\u5c14']}, 'https://movie.douban.com/subject/35284253/': {'name': ['\u9752\u6625\u53d8\u5f62\u8bb0 Turning Red'], 'author': ['\u77f3\u4e4b\u4e88']}, 'https://movie.douban.com/subject/35774719/': {'name': ['\u661f\u671f\u56db A Thursday'], 'author': ['\u6bd5\u67e5\u5fb7\u00b7\u6c49\u5df4\u5854']}, 'https://movie.douban.com/subject/35788143/': {'name': ['\u7834\u788e\u592a\u9633\u4e4b\u5fc3'], 'author': ['\u6bd5\u8d63']}, 'https://movie.douban.com/subject/27203644/': {'name': ['\u5c3c\u7f57\u6cb3\u4e0a\u7684\u60e8\u6848 Death on the Nile'], 'author': ['\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3']}, 'https://movie.douban.com/subject/35240920/': {'name': ['X'], 'author': ['\u7f07\u00b7\u5a01\u65af\u7279']}, 'https://movie.douban.com/subject/33442722/': {'name': ['\u627f\u5305\u5546 The Contractor'], 'author': ['\u5854\u91cc\u514b\u00b7\u8428\u5229\u8d6b']}, 'https://movie.douban.com/subject/35206186/': {'name': ['\u8be1\u626f \u8a6d\u626f'], 'author': ['\u8bb8\u5bcc\u7fd4']}, 'https://movie.douban.com/subject/34994748/': {'name': ['\u767b\u5c71\u5bb6 The Alpinist'], 'author': ['\u5f7c\u5f97\u00b7\u83ab\u8482\u9ed8', ' / ', '\u5c3c\u514b\u00b7\u7f57\u68ee']}} \u540c\u6b65\u7528\u65f6\u4e3a\uff1a0:00:06.967015","title":"(1) \u540c\u6b65"},{"location":"10%E3%80%81%E5%8D%8F%E7%A8%8B.html#2_2","text":"\u5f02\u6b65\u4e5f\u5f88\u7b80\u5355\uff0c\u5173\u4e8e\u5f02\u6b65\u7684\u6587\u7ae0\u6211\u8fd8\u5728\u6574\u7406\uff0c\u56e0\u4e3a\u6d89\u53ca\u5230\u592a\u591a\u7684\u4e1c\u897f\u4e86\u3002\u5148\u770b\u8fd9\u4e2a\u722c\u866b\u4ee3\u7801\uff1a import asyncio from datetime import datetime from aiohttp import TCPConnector import aiohttp from lxml import etree headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\" \"/537.36 (KHTML, like Gecko) \" \"Chrome/72.0.3626.121 Safari/537.36\"} async def get_movie_url(): req_url = \"https://movie.douban.com/chart\" async with aiohttp.ClientSession(connector=TCPConnector(ssl=False), headers=headers) as session: async with session.get(url=req_url, headers=headers) as response: result = await response.text() result = etree.HTML(result) return result.xpath(\"//*[@id='content']/div/div[1]/div/div/table/tr/td/a/@href\") async def get_movie_content(movie_url): async with aiohttp.ClientSession(connector=TCPConnector(ssl=False), headers=headers) as session: async with session.get(url=movie_url, headers=headers) as response: result = await response.text() result = etree.HTML(result) movie = dict() name = result.xpath('//*[@id=\"content\"]/h1/span[1]//text()') author = result.xpath('//*[@id=\"info\"]/span[1]/span[2]//text()') movie[\"name\"] = name movie[\"author\"] = author return movie if __name__ == '__main__': start = datetime.now() loop = asyncio.get_event_loop() movie_url_list = loop.run_until_complete(get_movie_url()) tasks = [get_movie_content(url) for url in movie_url_list] movies = loop.run_until_complete(asyncio.gather(*tasks)) print(movies) print(\"\u5f02\u6b65\u7528\u65f6\u4e3a\uff1a{}\".format(datetime.now() - start)) \u770b\u4e00\u4e0b\u7ed3\u679c\uff0c\u4f60\u5c31\u77e5\u9053\u5dee\u8ddd\u4e86\uff1a [{'name': ['\u5957\u88c5 The Outfit'], 'author': ['\u683c\u62c9\u6c49\u59c6\u00b7\u6469\u5c14']}, {'name': ['\u9752\u6625\u53d8\u5f62\u8bb0 Turning Red'], 'author': ['\u77f3\u4e4b\u4e88']}, {'name': ['\u661f\u671f\u56db A Thursday'], 'author': ['\u6bd5\u67e5\u5fb7\u00b7\u6c49\u5df4\u5854']}, {'name': ['\u7834\u788e\u592a\u9633\u4e4b\u5fc3'], 'author': ['\u6bd5\u8d63']}, {'name': ['\u5c3c\u7f57\u6cb3\u4e0a\u7684\u60e8\u6848 Death on the Nile'], 'author': ['\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3']}, {'name': ['X'], 'author': ['\u7f07\u00b7\u5a01\u65af\u7279']}, {'name': ['\u627f\u5305\u5546 The Contractor'], 'author': ['\u5854\u91cc\u514b\u00b7\u8428\u5229\u8d6b']}, {'name': ['\u8be1\u626f \u8a6d\u626f'], 'author': ['\u8bb8\u5bcc\u7fd4']}, {'name': ['\u767b\u5c71\u5bb6 The Alpinist'], 'author': ['\u5f7c\u5f97\u00b7\u83ab\u8482\u9ed8', ' / ', '\u5c3c\u514b\u00b7\u7f57\u68ee']}] \u5f02\u6b65\u7528\u65f6\u4e3a\uff1a0:00:00.978084","title":"(2) \u5f02\u6b65"},{"location":"11%E3%80%81selenium.html","text":"\u5341\u4e00\u3001selenium \u4e00\u3001\u524d\u671f\u51c6\u5907 1\u3001\u6982\u8ff0 selenium\u672c\u8eab\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u5de5\u5177\u3002\u5b83\u53ef\u4ee5\u8ba9python\u4ee3\u7801\u8c03\u7528\u6d4f\u89c8\u5668\u3002\u5e76\u83b7\u53d6\u5230\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u7684\u5404\u79cd\u8d44\u6e90\u3002 \u6211\u4eec\u53ef\u4ee5\u5229\u7528selenium\u63d0\u4f9b\u7684\u5404\u9879\u529f\u80fd\u3002 \u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u6570\u636e\u7684\u6293\u53d6\u3002 2\u3001\u5b66\u4e60\u76ee\u6807 \u638c\u63e1 selenium\u53d1\u9001\u8bf7\u6c42\uff0c\u52a0\u8f7d\u7f51\u9875\u7684\u65b9\u6cd5 \u638c\u63e1 selenium\u7b80\u5355\u7684\u5143\u7d20\u5b9a\u4f4d\u7684\u65b9\u6cd5 \u638c\u63e1 selenium\u7684\u57fa\u7840\u5c5e\u6027\u548c\u65b9\u6cd5 \u638c\u63e1 selenium\u9000\u51fa\u7684\u65b9\u6cd5 3\u3001\u5b89\u88c5 \u5b89\u88c5\uff1apip install selenium \u5b83\u4e0e\u5176\u4ed6\u5e93\u4e0d\u540c\u7684\u5730\u65b9\u662f\u4ed6\u8981\u542f\u52a8\u4f60\u7535\u8111\u4e0a\u7684\u6d4f\u89c8\u5668, \u8fd9\u5c31\u9700\u8981\u4e00\u4e2a\u9a71\u52a8\u7a0b\u5e8f\u6765\u8f85\u52a9. \u8fd9\u91cc\u63a8\u8350\u7528chrome\u6d4f\u89c8\u5668 chrome\u9a71\u52a8\u5730\u5740 http://chromedriver.storage.googleapis.com/index.html https://registry.npmmirror.com/binary.html?path=chromedriver/ https://googlechromelabs.github.io/chrome-for-testing/#stable \u6839\u636e\u4f60\u7535\u8111\u7684\u4e0d\u540c\u81ea\u884c\u9009\u62e9\u5427. win64\u9009win32\u5373\u53ef. \u7136\u540e\u5173\u952e\u7684\u6765\u4e86. \u628a\u4f60\u4e0b\u8f7d\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u653e\u5728python\u89e3\u91ca\u5668\u6240\u5728\u7684\u6587\u4ef6\u5939 Windwos: py -0p \u67e5\u770bPython\u8def\u5f84 Mac: open + \u8def\u5f84 \u4f8b\u5982\uff1aopen /usr/local/bin/ \u524d\u671f\u51c6\u5907\u5de5\u4f5c\u5b8c\u6bd5. \u4e0a\u4ee3\u7801\u770b\u770b \u611f\u53d7\u4e00\u4e0bselenium from selenium.webdriver import Chrome # \u5bfc\u5165\u8c37\u6b4c\u6d4f\u89c8\u5668\u7684\u7c7b # \u521b\u5efa\u6d4f\u89c8\u5668\u5bf9\u8c61 web = Chrome() # \u5982\u679c\u4f60\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u653e\u5728\u4e86\u89e3\u91ca\u5668\u6587\u4ef6\u5939 web.get(\"http://www.baidu.com\") # \u8f93\u5165\u7f51\u5740 print(web.title) # \u6253\u5370title \u8fd0\u884c\u4e00\u4e0b\u4f60\u4f1a\u53d1\u73b0\u795e\u5947\u7684\u4e8b\u60c5\u53d1\u751f\u4e86. \u6d4f\u89c8\u5668\u81ea\u52a8\u6253\u5f00\u4e86. \u5e76\u4e14\u8f93\u5165\u4e86\u7f51\u5740. \u4e5f\u80fd\u62ff\u5230\u7f51\u9875\u4e0a\u7684title\u6807\u9898. \u4e8c\u3001selenium\u7684\u57fa\u672c\u4f7f\u7528 1\u3001\u52a0\u8f7d\u7f51\u9875\uff1a selenium\u901a\u8fc7\u63a7\u5236\u6d4f\u89c8\u5668\uff0c\u6240\u4ee5\u5bf9\u5e94\u7684\u83b7\u53d6\u7684\u6570\u636e\u90fd\u662felements\u4e2d\u7684\u5185\u5bb9 from selenium import webdriver from selenium.webdriver.common.by import By driver = webdriver.Chrome() # \u8bbf\u95ee\u767e\u5ea6 driver.get(\"http://www.baidu.com/\") # \u622a\u56fe driver.save_screenshot(\"baidu.png\") 2\u3001\u5b9a\u4f4d\u548c\u64cd\u4f5c\uff1a # \u641c\u7d22\u5173\u952e\u5b57 \u675c\u5361\u8fea driver.find_element(By.ID, \"kw\").send_keys(\"\u675c\u5361\u8fea\") # \u70b9\u51fbid\u4e3asu\u7684\u641c\u7d22\u6309\u94ae driver.find_element(By.ID, \"su\").click() 3\u3001\u67e5\u770b\u8bf7\u6c42\u4fe1\u606f\uff1a driver.page_source # \u83b7\u53d6\u9875\u9762\u5185\u5bb9 driver.get_cookies() driver.current_url 4\u3001\u9000\u51fa driver.close() # \u9000\u51fa\u5f53\u524d\u9875\u9762 driver.quit() # \u9000\u51fa\u6d4f\u89c8\u5668 \u5c0f\u7ed3 selenium\u7684\u5bfc\u5305: from selenium import webdriver selenium\u521b\u5efadriver\u5bf9\u8c61: webdriver.Chrome() selenium\u8bf7\u6c42\u6570\u636e: driver.get(\"http://www.baidu.com/\") selenium\u67e5\u770b\u6570\u636e: driver.page_source \u5173\u95ed\u6d4f\u89c8\u5668: driver.quit() \u6839\u636eid\u5b9a\u4f4d\u5143\u7d20: driver.find_element_by_id(\"kw\")/driver.find_element(By.ID, \"kw\") \u64cd\u4f5c\u70b9\u51fb\u4e8b\u4ef6: click() \u7ed9\u8f93\u5165\u6846\u8d4b\u503c: send_keys() \u4e09\u3001\u5143\u7d20\u5b9a\u4f4d\u7684\u65b9\u6cd5 \u5b66\u4e60\u76ee\u6807 \u638c\u63e1 selenium\u5b9a\u4f4d\u5143\u7d20\u7684\u65b9\u6cd5 \u638c\u63e1 selenium\u4ece\u5143\u7d20\u4e2d\u83b7\u53d6\u6587\u672c\u548c\u5c5e\u6027\u7684\u65b9\u6cd5 \u901a\u8fc7selenium\u7684\u57fa\u672c\u4f7f\u7528\u53ef\u4ee5\u7b80\u5355\u5b9a\u4f4d\u5143\u7d20\u548c\u83b7\u53d6\u5bf9\u5e94\u7684\u6570\u636e,\u63a5\u4e0b\u6765\u6211\u4eec\u518d\u6765\u5b66\u4e60\u4e0b \u5b9a\u4f4d\u5143\u7d20\u7684\u5176\u4ed6\u65b9\u6cd5 1\u3001selenium\u7684\u5b9a\u4f4d\u64cd\u4f5c \u5143\u7d20\u5b9a\u4f4d\u7684\u4e24\u79cd\u5199\u6cd5\uff1a \u76f4\u63a5\u8c03\u7528\u578b python el = driver.find_element_by_xxx(value) # xxx\u662f\u5b9a\u4f4d\u65b9\u5f0f\uff0c\u540e\u9762\u6211\u4eec\u4f1a\u8bb2\uff0cvalue\u4e3a\u8be5\u65b9\u5f0f\u5bf9\u5e94\u7684\u503c \u4f7f\u7528By\u7c7b\u578b(\u9700\u8981\u5bfc\u5165By) \u5efa\u8bae\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f python # \u76f4\u63a5\u6389\u7528\u7684\u65b9\u5f0f\u4f1a\u5728\u5e95\u5c42\u7ffb\u8bd1\u6210\u8fd9\u79cd\u65b9\u5f0f from selenium.webdriver.common.by import By driver.find_element(By.xxx,value) \u5143\u7d20\u5b9a\u4f4d\u7684\u4e24\u79cd\u65b9\u5f0f: \u7cbe\u786e\u5b9a\u4f4d\u4e00\u4e2a\u5143\u7d20,\u8fd4\u56de\u7ed3\u679c\u4e3a\u4e00\u4e2aelement\u5bf9\u8c61,\u5b9a\u4f4d\u4e0d\u5230\u5219\u62a5\u9519 python driver.find_element(By.xx, value) # \u5efa\u8bae\u4f7f\u7528 driver.find_element_by_xxx(value) \u5b9a\u4f4d\u4e00\u7ec4\u5143\u7d20,\u8fd4\u56de\u7ed3\u679c\u4e3aelement\u5bf9\u8c61\u5217\u8868,\u5b9a\u4f4d\u4e0d\u5230\u8fd4\u56de\u7a7a\u5217\u8868 python driver.find_elements(By.xx, value) # \u5efa\u8bae\u4f7f\u7528 driver.find_elements_by_xxx(value) \u5143\u7d20\u5b9a\u4f4d\u7684\u516b\u79cd\u65b9\u6cd5: \u4ee5\u4e0b\u65b9\u6cd5\u5728element\u4e4b\u540e\u6dfb\u52a0s\u5c31\u53d8\u6210\u80fd\u591f\u83b7\u53d6\u4e00\u7ec4\u5143\u7d20\u7684\u65b9\u6cd5 By.ID \u4f7f\u7528id\u503c\u5b9a\u4f4d python el = driver.find_element(By.ID, '') el = driver.find_element_by_id() By.XPATH \u4f7f\u7528xpath\u5b9a\u4f4d python el = driver.find_element(By.XPATH, '') el = driver.find_element_by_xpath() By.TAG_NAME. \u4f7f\u7528\u6807\u7b7e\u540d\u5b9a\u4f4d python el = driver.find_element(By.TAG_NAME, '') el = driver.find_element_by_tag_name() By.LINK_TEXT\u4f7f\u7528\u8d85\u94fe\u63a5\u6587\u672c\u5b9a\u4f4d python el = driver.find_element(By.LINK_TEXT, '') el = driver.find_element_by_link_text() By.PARTIAL_LINK_TEXT \u4f7f\u7528\u90e8\u5206\u8d85\u94fe\u63a5\u6587\u672c\u5b9a\u4f4d python el = driver.find_element(By.PARTIAL_LINK_TEXT , '') el = driver.find_element_by_partial_link_text() By.NAME \u4f7f\u7528name\u5c5e\u6027\u503c\u5b9a\u4f4d python el = driver.find_element(By.NAME, '') el = driver.find_element_by_name() By.CLASS_NAME \u4f7f\u7528class\u5c5e\u6027\u503c\u5b9a\u4f4d python el = driver.find_element(By.CLASS_NAME, '') el = driver.find_element_by_class_name() By.CSS_SELECTOR \u4f7f\u7528css\u9009\u62e9\u5668\u5b9a\u4f4d python el = driver.find_element(By.CSS_SELECTOR, '') el = driver.find_element_by_css_selector() \u6ce8\u610f\uff1a \u5efa\u8bae\u4f7f\u7528find_element/find_elements find_element \u548c find_elements \u7684\u533a\u522b by_link_text \u548c by_partial_link_text \u7684\u533a\u522b\uff1a \u5168\u90e8\u6587\u672c\u548c\u5305\u542b\u67d0\u4e2a\u6587\u672c \u4f7f\u7528\uff1a \u4ee5\u8c46\u74e3\u4e3a\u4f8b ```python import time from selenium import webdriver from selenium.webdriver.common.by import By driver = webdriver.Chrome() driver.implicitly_wait(10) # \u7b49\u5f85\u8282\u70b9\u52a0\u8f7d\u5b8c\u6210 driver.get(\"https://www.douban.com/search?q=%E6%9D%B0%E6%A3%AE%E6%96%AF%E5%9D%A6%E6%A3%AE\") time.sleep(2) # \u4f7f\u7528id\u7684\u65b9\u5f0f\u83b7\u53d6\u53f3\u4e0a\u89d2\u7684\u641c\u7d22\u6846 # ret1 = driver.find_element(By.ID, 'inp-query') # ret1 = driver.find_element(By.ID, 'inp-query').send_keys(\"\u6770\u68ee\u65af\u5766\u68ee\") # ret1 = driver.find_element_by_id(\"inp-query\") # print(ret1) # \u8f93\u51fa\u4e3a\uff1a # \u641c\u7d22\u8f93\u5165\u6846 \u4f7f\u7528find_elements\u8fdb\u884c\u83b7\u53d6 # ret2 = driver.find_elements(By.ID, \"inp-query\") # ret2 = driver.find_elements_by_id(\"inp-query\") # print(ret2) #\u8f93\u51fa\u4e3a\uff1a[ ] # \u641c\u7d22\u6309\u94ae \u4f7f\u7528xpath\u8fdb\u884c\u83b7\u53d6 # ret3 = driver.find_elements(By.XPATH, '// [@id=\"inp-query\"]') # ret3 = driver.find_elements_by_xpath(\"// [@id=\"inp-query\"]\") # print(len(ret3)) # print(ret3) # \u5339\u914d\u56fe\u7247\u6807\u7b7e ret4 = driver.find_elements(By.TAG_NAME, 'img') for url in ret4: print(url.get_attribute('src')) #ret4 = driver.find_elements_by_tag_name(\"img\") print(len(ret4)) ret5 = driver.find_elements(By.LINK_TEXT, \"\u6d4f\u89c8\u53d1\u73b0\") # ret5 = driver.find_elements_by_link_text(\"\u6d4f\u89c8\u53d1\u73b0\") print(len(ret5)) print(ret5) ret6 = driver.find_elements(By.PARTIAL_LINK_TEXT, \"\u6d4f\u89c8\u53d1\u73b0\") # ret6 = driver.find_elements_by_partial_link_text(\"\u6d4f\u89c8\u53d1\u73b0\") print(len(ret6)) # \u4f7f\u7528class\u540d\u79f0\u67e5\u627e ret7 = driver.find_elements(By.CLASS_NAME, 'nbg') print(ret7) driver.close() ``` \u6ce8\u610f\uff1a find_element\u4e0efind_elements\u533a\u522b \u53ea\u67e5\u627e\u4e00\u4e2a\u5143\u7d20\u7684\u65f6\u5019:\u53ef\u4ee5\u4f7f\u7528find_element(),find_elements() find_element()\u4f1a\u8fd4\u56de\u4e00\u4e2aWebElement\u8282\u70b9\u5bf9\u8c61,\u4f46\u662f\u6ca1\u627e\u5230\u4f1a\u62a5\u9519,\u800cfind_elements()\u4e0d\u4f1a,\u4e4b\u540e\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5217\u8868 \u67e5\u627e\u591a\u4e2a\u5143\u7d20\u7684\u65f6\u5019:\u53ea\u80fd\u7528find_elements(),\u8fd4\u56de\u4e00\u4e2a\u5217\u8868,\u5217\u8868\u91cc\u7684\u5143\u7d20\u5168\u662fWebElement\u8282\u70b9\u5bf9\u8c61 \u627e\u5230\u90fd\u662f\u8282\u70b9(\u6807\u7b7e) \u5982\u679c\u60f3\u8981\u83b7\u53d6\u76f8\u5173\u5185\u5bb9(\u53ea\u5bf9find_element()\u6709\u6548,\u5217\u8868\u5bf9\u8c61\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027) \u4f7f\u7528 .text \u5982\u679c\u60f3\u8981\u83b7\u53d6\u76f8\u5173\u5c5e\u6027\u7684\u503c(\u5982href\u5bf9\u5e94\u7684\u94fe\u63a5\u7b49,\u53ea\u5bf9find_element()\u6709\u6548,\u5217\u8868\u5bf9\u8c61\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027):\u4f7f\u7528 .get_attribute(\"href\") 2\u3001\u5143\u7d20\u7684\u64cd\u4f5c find_element_by_xxx\u65b9\u6cd5\u4ec5\u4ec5\u80fd\u591f\u83b7\u53d6\u5143\u7d20\u5bf9\u8c61\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5bf9\u5143\u7d20\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u63d0\u53d6\u6570\u636e\u7684\u65b9\u6cd5 \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u83b7\u53d6\u6570\u636e el.get_attribute(key) # \u83b7\u53d6key\u5c5e\u6027\u540d\u5bf9\u5e94\u7684\u5c5e\u6027\u503c el.text # \u83b7\u53d6\u5f00\u95ed\u6807\u7b7e\u4e4b\u95f4\u7684\u6587\u672c\u5185\u5bb9 \u5bf9\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u7684\u64cd\u4f5c el.click() # \u5bf9\u5143\u7d20\u6267\u884c\u70b9\u51fb\u64cd\u4f5c el.submit() # \u5bf9\u5143\u7d20\u6267\u884c\u63d0\u4ea4\u64cd\u4f5c el.clear() # \u6e05\u7a7a\u53ef\u8f93\u5165\u5143\u7d20\u4e2d\u7684\u6570\u636e el.send_keys(data) # \u5411\u53ef\u8f93\u5165\u5143\u7d20\u8f93\u5165\u6570\u636e \u4f7f\u7528\u793a\u4f8b\uff1a from selenium import webdriver from selenium.webdriver.common.by import By driver =webdriver.Chrome() driver.get(\"https://www.douban.com/\") # \u6253\u5370\u9875\u9762\u5185\u5bb9 \uff08\u83b7\u53d6\u5230\u4ee5\u540e\u53ef\u4ee5\u8fdb\u884c\u540e\u7eed\u7684xpath,bs4 \u6216\u8005\u5b58\u50a8\u7b49\uff09 print(driver.page_source) ret4 = driver.find_elements(By.TAG_NAME, \"h1\") print(ret4[0].text) #\u8f93\u51fa\uff1a\u8c46\u74e3 ret5 = driver.find_elements(By.LINK_TEXT, \"\u4e0b\u8f7d\u8c46\u74e3 App\") print(ret5[0].get_attribute(\"href\")) #\u8f93\u51fa\uff1ahttps://www.douban.com/doubanapp/app?channel=nimingye driver.close() \u5c0f\u7ed3 \u6839\u636expath\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.XPATH,\"//*[@id='s']/h1/a\") \u6839\u636eclass\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.CLASS_NAME, \"box\") \u6839\u636elink_text\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.LINK_TEXT, \"\u4e0b\u8f7d\u8c46\u74e3 App\") \u6839\u636etag_name\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.TAG_NAME, \"h1\") \u83b7\u53d6\u5143\u7d20\u6587\u672c\u5185\u5bb9: element.text \u83b7\u53d6\u5143\u7d20\u6807\u7b7e\u5c5e\u6027: element.get_attribute(\"href\") \u5411\u8f93\u5165\u6846\u8f93\u5165\u6570\u636e: element.send_keys(data) \u56db\u3001selenium\u7684\u5176\u4ed6\u64cd\u4f5c \u5b66\u4e60\u76ee\u6807 \u638c\u63e1 selenium\u5904\u7406cookie\u7b49\u65b9\u6cd5 \u638c\u63e1 selenium\u4e2dswitch\u7684\u4f7f\u7528 \u638c\u63e1selenium\u4e2d\u65e0\u5934\u6d4f\u89c8\u5668\u7684\u8bbe\u7f6e 1\u3001\u65e0\u5934\u6d4f\u89c8\u5668 \u6211\u4eec\u5df2\u7ecf\u57fa\u672c\u4e86\u89e3\u4e86selenium\u7684\u57fa\u672c\u4f7f\u7528\u4e86. \u4f46\u662f\u5462, \u4e0d\u77e5\u5404\u4f4d\u6709\u6ca1\u6709\u53d1\u73b0, \u6bcf\u6b21\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u65f6\u95f4\u90fd\u6bd4\u8f83\u957f. \u8fd9\u5c31\u6bd4\u8f83\u8017\u65f6\u4e86. \u6211\u4eec\u5199\u7684\u662f\u722c\u866b\u7a0b\u5e8f. \u76ee\u7684\u662f\u6570\u636e. \u5e76\u4e0d\u662f\u60f3\u770b\u7f51\u9875. \u90a3\u80fd\u4e0d\u80fd\u8ba9\u6d4f\u89c8\u5668\u5728\u540e\u53f0\u8dd1\u5462? \u7b54\u6848\u662f\u53ef\u4ee5\u7684 from selenium.webdriver import Chrome from selenium.webdriver.chrome.options import Options opt = Options() opt.add_argument(\"--headless\") opt.add_argument('--disable-gpu') opt.add_argument(\"--window-size=4000,1600\") # \u8bbe\u7f6e\u7a97\u53e3\u5927\u5c0f web = Chrome(options=opt) 1\u3001selenium \u5904\u7406cookie \u901a\u8fc7 driver.get_cookies() \u80fd\u591f\u83b7\u53d6\u6240\u6709\u7684cookie \u83b7\u53d6cookie python dictCookies = driver.get_cookies() \u8bbe\u7f6ecookie python driver.add_cookie(dictCookies) \u5220\u9664cookue python #\u5220\u9664\u4e00\u6761cookie driver.delete_cookie(\"CookieName\") # \u5220\u9664\u6240\u6709\u7684cookie driver.delete_all_cookies() 2\u3001\u9875\u9762\u7b49\u5f85 \u4e3a\u4ec0\u4e48\u9700\u8981\u7b49\u5f85 \u5982\u679c\u7f51\u7ad9\u91c7\u7528\u4e86\u52a8\u6001html\u6280\u672f\uff0c\u90a3\u4e48\u9875\u9762\u4e0a\u7684\u90e8\u5206\u5143\u7d20\u51fa\u73b0\u65f6\u95f4\u4fbf\u4e0d\u80fd\u786e\u5b9a\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u5f3a\u5236\u7b49\u5f85\u6307\u5b9a\u65f6\u95f4\uff0c\u7b49\u5f85\u7ed3\u675f\u4e4b\u540e\u8fdb\u884c\u5143\u7d20\u5b9a\u4f4d\uff0c\u5982\u679c\u8fd8\u662f\u65e0\u6cd5\u5b9a\u4f4d\u5230\u5219\u62a5\u9519 \u9875\u9762\u7b49\u5f85\u7684\u4e09\u79cd\u65b9\u6cd5 \u5f3a\u5236\u7b49\u5f85 python import time time.sleep(n) # \u963b\u585e\u7b49\u5f85\u8bbe\u5b9a\u7684\u79d2\u6570\u4e4b\u540e\u518d\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c \u663e\u5f0f\u7b49\u5f85(\u81ea\u52a8\u5316web\u6d4b\u8bd5\u4f7f\u7528\uff0c\u722c\u866b\u57fa\u672c\u4e0d\u7528) ```python from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC WebDriverWait(driver, 10,0.5).until( EC.presence_of_element_located((By.ID, \"myDynamicElement\")) \u663e\u5f0f\u7b49\u5f85\u6307\u5b9a\u67d0\u4e2a\u6761\u4ef6\uff0c\u7136\u540e\u8bbe\u7f6e\u6700\u957f\u7b49\u5f85\u65f6\u95f410\uff0c\u572810\u79d2\u5185\u6bcf\u96940.5\u79d2\u4f7f\u7528\u6307\u5b9a\u6761\u4ef6\u53bb\u5b9a\u4f4d\u5143\u7d20\uff0c\u5982\u679c\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u76f4\u63a5\u7ed3\u675f\u7b49\u5f85\uff0c\u5982\u679c\u572810\u79d2\u7ed3\u675f\u4e4b\u540e\u4ecd\u672a\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u62a5\u9519 ``` \u9690\u5f0f\u7b49\u5f85 \u9690\u5f0f\u7b49\u5f85\u8bbe\u7f6e\u4e4b\u540e\u4ee3\u7801\u4e2d\u7684\u6240\u6709\u5143\u7d20\u5b9a\u4f4d\u90fd\u4f1a\u505a\u9690\u5f0f\u7b49\u5f85 python driver.implicitly_wait(10) # \u5728\u6307\u5b9a\u7684n\u79d2\u5185\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c1d\u8bd5\u5b9a\u4f4d\u5143\u7d20\uff0c\u5982\u679cn\u79d2\u7ed3\u675f\u8fd8\u672a\u88ab\u5b9a\u4f4d\u51fa\u6765\u5219\u62a5\u9519 \u6ce8\u610f\uff1a Selenium\u663e\u793a\u7b49\u5f85\u548c\u9690\u5f0f\u7b49\u5f85\u7684\u533a\u522b 1\u3001selenium\u7684\u663e\u793a\u7b49\u5f85 \u539f\u7406\uff1a\u663e\u793a\u7b49\u5f85\uff0c\u5c31\u662f\u660e\u786e\u8981\u7b49\u5230\u67d0\u4e2a\u5143\u7d20\u7684\u51fa\u73b0\u6216\u8005\u662f\u67d0\u4e2a\u5143\u7d20\u7684\u53ef\u70b9\u51fb\u7b49\u6761\u4ef6\uff0c\u7b49\u4e0d\u5230\uff0c\u5c31\u4e00\u76f4\u7b49\uff0c\u9664\u975e\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u4e4b\u5185\u90fd\u6ca1\u627e\u5230\uff0c\u5c31\u4f1a\u8df3\u51fa\u5f02\u5e38Exception (\u7b80\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u76f4\u5230\u5143\u7d20\u51fa\u73b0\u624d\u53bb\u64cd\u4f5c\uff0c\u5982\u679c\u8d85\u65f6\u5219\u62a5\u5f02\u5e38) 2\u3001selenium\u7684\u9690\u5f0f\u7b49\u5f85 \u539f\u7406\uff1a\u9690\u5f0f\u7b49\u5f85\uff0c\u5c31\u662f\u5728\u521b\u5efadriver\u65f6\uff0c\u4e3a\u6d4f\u89c8\u5668\u5bf9\u8c61\u521b\u5efa\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5f97\u4e0d\u5230\u67d0\u4e2a\u5143\u7d20\u5c31\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u76f4\u5230\u62ff\u5230\u67d0\u4e2a\u5143\u7d20\u4f4d\u7f6e\u3002 \u6ce8\u610f\uff1a\u5728\u4f7f\u7528\u9690\u5f0f\u7b49\u5f85\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u6d4f\u89c8\u5668\u4f1a\u5728\u4f60\u81ea\u5df1\u8bbe\u5b9a\u7684\u65f6\u95f4\u5185\u90e8\u65ad\u7684\u5237\u65b0\u9875\u9762\u53bb\u5bfb\u627e\u6211\u4eec\u9700\u8981\u7684\u5143\u7d20 3\u3001switch\u65b9\u6cd5\u5207\u6362\u7684\u64cd\u4f5c 3.1 \u4e00\u4e2a\u6d4f\u89c8\u5668\u80af\u5b9a\u4f1a\u6709\u5f88\u591a\u7a97\u53e3\uff0c\u6240\u4ee5\u6211\u4eec\u80af\u5b9a\u8981\u6709\u65b9\u6cd5\u6765\u5b9e\u73b0\u7a97\u53e3\u7684\u5207\u6362\u3002\u5207\u6362\u7a97\u53e3\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a \u4e5f\u53ef\u4ee5\u4f7f\u7528 window_handles \u65b9\u6cd5\u6765\u83b7\u53d6\u6bcf\u4e2a\u7a97\u53e3\u7684\u64cd\u4f5c\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a # 1. \u83b7\u53d6\u5f53\u524d\u6240\u6709\u7684\u7a97\u53e3 current_windows = driver.window_handles # 2. \u6839\u636e\u7a97\u53e3\u7d22\u5f15\u8fdb\u884c\u5207\u6362 driver.switch_to.window(current_windows[1]) driver.switch_to.window(web.window_handles[-1]) # \u8df3\u8f6c\u5230\u6700\u540e\u4e00\u4e2a\u7a97\u53e3 driver.switch_to.window(current_windows[0]) # \u56de\u5230\u7b2c\u4e00\u4e2a\u7a97\u53e3 3.2 iframe\u662fhtml\u4e2d\u5e38\u7528\u7684\u4e00\u79cd\u6280\u672f\uff0c\u5373\u4e00\u4e2a\u9875\u9762\u4e2d\u5d4c\u5957\u4e86\u53e6\u4e00\u4e2a\u7f51\u9875\uff0cselenium\u9ed8\u8ba4\u662f\u8bbf\u95ee\u4e0d\u4e86frame\u4e2d\u7684\u5185\u5bb9\u7684\uff0c\u5bf9\u5e94\u7684\u89e3\u51b3\u601d\u8def\u662f driver.switch_to.frame(name/el/id) \u4f20\u5165\u7684\u53c2\u6570\u53ef\u4ee5\u4f7fiframe\u5bf9\u5e94\u7684id\u503c\uff0c\u4e5f\u53ef\u4ee5\u662f\u7528\u5143\u7d20\u5b9a\u4f4d\u4e4b\u540e\u7684\u5143\u7d20\u5bf9\u8c61 \u52a8\u624b\uff1aqq\u90ae\u7bb1 \u5728\u4f7f\u7528selenium\u767b\u5f55qq\u90ae\u7bb1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u65e0\u6cd5\u5728\u90ae\u7bb1\u7684\u767b\u5f55input\u6807\u7b7e\u4e2d\u8f93\u5165\u5185\u5bb9\uff0c\u901a\u8fc7\u89c2\u5bdf\u6e90\u7801\u53ef\u4ee5\u53d1\u73b0\uff0cform\u8868\u5355\u5728\u4e00\u4e2aframe\u4e2d\uff0c\u6240\u4ee5\u9700\u8981\u5207\u6362\u5230frame\u4e2d 3.3 \u5f53\u4f60\u89e6\u53d1\u4e86\u67d0\u4e2a\u4e8b\u4ef6\u4e4b\u540e\uff0c\u9875\u9762\u51fa\u73b0\u4e86\u5f39\u7a97\u63d0\u793a\uff0c\u5904\u7406\u8fd9\u4e2a\u63d0\u793a\u6216\u8005\u83b7\u53d6\u63d0\u793a\u4fe1\u606f\u65b9\u6cd5\u5982\u4e0b\uff1a alert = driver.switch_to_alert() 4. \u9875\u9762\u524d\u8fdb\u548c\u540e\u9000 driver.forward() # \u524d\u8fdb driver.back() # \u540e\u9000 driver.refresh() # \u5237\u65b0 driver.close() # \u5173\u95ed\u5f53\u524d\u7a97\u53e3 5\u3001\u8bbe\u7f6e\u6d4f\u89c8\u5668\u6700\u5927\u7a97\u53e3 driver.maximize_window() #\u6700\u5927\u5316\u6d4f\u89c8\u5668\u7a97\u53e3 4\u3001selenium\u7684\u4f18\u7f3a\u70b9 \u4f18\u70b9 selenium\u80fd\u591f\u6267\u884c\u9875\u9762\u4e0a\u7684js\uff0c\u5bf9\u4e8ejs\u6e32\u67d3\u7684\u6570\u636e\u548c\u6a21\u62df\u767b\u9646\u5904\u7406\u8d77\u6765\u975e\u5e38\u5bb9\u6613 \u4f7f\u7528\u96be\u5ea6\u7b80\u5355 \u722c\u53d6\u901f\u5ea6\u6162\uff0c\u722c\u53d6\u9891\u7387\u66f4\u50cf\u4eba\u7684\u884c\u4e3a\uff0c\u5929\u751f\u80fd\u591f\u5e94\u5bf9\u4e00\u4e9b\u53cd\u722c\u63aa\u65bd \u7f3a\u70b9 \u7531\u4e8eselenium\u64cd\u4f5c\u6d4f\u89c8\u5668\uff0c\u56e0\u6b64\u4f1a\u5c06\u53d1\u9001\u6240\u6709\u7684\u8bf7\u6c42\uff0c\u56e0\u6b64\u5360\u7528\u7f51\u7edc\u5e26\u5bbd \u7531\u4e8e\u64cd\u4f5c\u6d4f\u89c8\u5668\uff0c\u56e0\u6b64\u5360\u7528\u7684\u5185\u5b58\u975e\u5e38\u5927(\u76f8\u6bd4\u8f83\u4e4b\u524d\u7684\u722c\u866b) \u901f\u5ea6\u6162\uff0c\u5bf9\u4e8e\u6548\u7387\u8981\u6c42\u9ad8\u7684\u8bdd\u4e0d\u5efa\u8bae\u4f7f\u7528 \u5c0f\u7ed3 \u83b7\u53d6cookie: get_cookies() \u5220\u9664cookie: delete_all_cookies() \u5207\u6362\u7a97\u53e3: switch_to.window() \u5207\u6362iframe: switch_to.frame() \u4e94\u3001\u6269\u5c55 Seleniumwire \u6269\u5c55\u4e86 Selenium \u7684 Python \u7ed1\u5b9a\uff0c\u8ba9\u60a8\u53ef\u4ee5\u8bbf\u95ee\u6d4f\u89c8\u5668\u53d1\u51fa\u7684\u5e95\u5c42\u8bf7\u6c42\u3002 \u60a8\u7f16\u5199\u4ee3\u7801\u7684\u65b9\u5f0f\u4e0e\u4f7f\u7528 Selenium \u7684\u65b9\u5f0f\u76f8\u540c\uff0c\u4f46\u60a8\u53ef\u4ee5\u83b7\u5f97\u989d\u5916\u7684 API \u6765\u68c0\u67e5\u8bf7\u6c42\u548c\u54cd\u5e94\u5e76\u52a8\u6001\u66f4\u6539\u5b83\u4eec\u3002 1.\u73af\u5883\u8981\u6c42 Python 3.6+ Selenium 3.4.0+ Chrome, Firefox and Remote Webdriver supported 2.\u5b89\u88c5 pip install selenium-wire 3.\u793a\u4f8b from seleniumwire import webdriver driver = webdriver.Chrome() driver.get('https://www.baidu.com') for request in driver.requests: if request.response: print( request.url, request.response.status_code, request.response.headers['Content-Type']) 4.\u603b\u7ed3 \u8be5\u6a21\u5757\u5e38\u7528\u4e8e\u9700\u8981\u767b\u5f55\u7f51\u7ad9\u7684cookies\u548ctoken\u7b49\u52a0\u5bc6\u53c2\u6570\u7684\u83b7\u53d6\uff0c\u4e3a\u540e\u7eed\u91c7\u96c6\u7a0b\u5e8f\u63d0\u4f9b\u901a\u884c\u51ed\u8bc1\u3002 selenium\u7684\u914d\u7f6e https://blog.csdn.net/qq_35999017/article/details/123922952 https://blog.csdn.net/qq_27109535/article/details/125468643","title":"\u5341\u4e00\u3001selenium"},{"location":"11%E3%80%81selenium.html#selenium","text":"","title":"\u5341\u4e00\u3001selenium"},{"location":"11%E3%80%81selenium.html#_1","text":"","title":"\u4e00\u3001\u524d\u671f\u51c6\u5907"},{"location":"11%E3%80%81selenium.html#1","text":"selenium\u672c\u8eab\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u5de5\u5177\u3002\u5b83\u53ef\u4ee5\u8ba9python\u4ee3\u7801\u8c03\u7528\u6d4f\u89c8\u5668\u3002\u5e76\u83b7\u53d6\u5230\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u7684\u5404\u79cd\u8d44\u6e90\u3002 \u6211\u4eec\u53ef\u4ee5\u5229\u7528selenium\u63d0\u4f9b\u7684\u5404\u9879\u529f\u80fd\u3002 \u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u6570\u636e\u7684\u6293\u53d6\u3002","title":"1\u3001\u6982\u8ff0"},{"location":"11%E3%80%81selenium.html#2","text":"\u638c\u63e1 selenium\u53d1\u9001\u8bf7\u6c42\uff0c\u52a0\u8f7d\u7f51\u9875\u7684\u65b9\u6cd5 \u638c\u63e1 selenium\u7b80\u5355\u7684\u5143\u7d20\u5b9a\u4f4d\u7684\u65b9\u6cd5 \u638c\u63e1 selenium\u7684\u57fa\u7840\u5c5e\u6027\u548c\u65b9\u6cd5 \u638c\u63e1 selenium\u9000\u51fa\u7684\u65b9\u6cd5","title":"2\u3001\u5b66\u4e60\u76ee\u6807"},{"location":"11%E3%80%81selenium.html#3","text":"\u5b89\u88c5\uff1apip install selenium \u5b83\u4e0e\u5176\u4ed6\u5e93\u4e0d\u540c\u7684\u5730\u65b9\u662f\u4ed6\u8981\u542f\u52a8\u4f60\u7535\u8111\u4e0a\u7684\u6d4f\u89c8\u5668, \u8fd9\u5c31\u9700\u8981\u4e00\u4e2a\u9a71\u52a8\u7a0b\u5e8f\u6765\u8f85\u52a9. \u8fd9\u91cc\u63a8\u8350\u7528chrome\u6d4f\u89c8\u5668 chrome\u9a71\u52a8\u5730\u5740 http://chromedriver.storage.googleapis.com/index.html https://registry.npmmirror.com/binary.html?path=chromedriver/ https://googlechromelabs.github.io/chrome-for-testing/#stable \u6839\u636e\u4f60\u7535\u8111\u7684\u4e0d\u540c\u81ea\u884c\u9009\u62e9\u5427. win64\u9009win32\u5373\u53ef. \u7136\u540e\u5173\u952e\u7684\u6765\u4e86. \u628a\u4f60\u4e0b\u8f7d\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u653e\u5728python\u89e3\u91ca\u5668\u6240\u5728\u7684\u6587\u4ef6\u5939 Windwos: py -0p \u67e5\u770bPython\u8def\u5f84 Mac: open + \u8def\u5f84 \u4f8b\u5982\uff1aopen /usr/local/bin/ \u524d\u671f\u51c6\u5907\u5de5\u4f5c\u5b8c\u6bd5. \u4e0a\u4ee3\u7801\u770b\u770b \u611f\u53d7\u4e00\u4e0bselenium from selenium.webdriver import Chrome # \u5bfc\u5165\u8c37\u6b4c\u6d4f\u89c8\u5668\u7684\u7c7b # \u521b\u5efa\u6d4f\u89c8\u5668\u5bf9\u8c61 web = Chrome() # \u5982\u679c\u4f60\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u653e\u5728\u4e86\u89e3\u91ca\u5668\u6587\u4ef6\u5939 web.get(\"http://www.baidu.com\") # \u8f93\u5165\u7f51\u5740 print(web.title) # \u6253\u5370title \u8fd0\u884c\u4e00\u4e0b\u4f60\u4f1a\u53d1\u73b0\u795e\u5947\u7684\u4e8b\u60c5\u53d1\u751f\u4e86. \u6d4f\u89c8\u5668\u81ea\u52a8\u6253\u5f00\u4e86. \u5e76\u4e14\u8f93\u5165\u4e86\u7f51\u5740. \u4e5f\u80fd\u62ff\u5230\u7f51\u9875\u4e0a\u7684title\u6807\u9898.","title":"3\u3001\u5b89\u88c5"},{"location":"11%E3%80%81selenium.html#selenium_1","text":"","title":"\u4e8c\u3001selenium\u7684\u57fa\u672c\u4f7f\u7528"},{"location":"11%E3%80%81selenium.html#1_1","text":"selenium\u901a\u8fc7\u63a7\u5236\u6d4f\u89c8\u5668\uff0c\u6240\u4ee5\u5bf9\u5e94\u7684\u83b7\u53d6\u7684\u6570\u636e\u90fd\u662felements\u4e2d\u7684\u5185\u5bb9 from selenium import webdriver from selenium.webdriver.common.by import By driver = webdriver.Chrome() # \u8bbf\u95ee\u767e\u5ea6 driver.get(\"http://www.baidu.com/\") # \u622a\u56fe driver.save_screenshot(\"baidu.png\")","title":"1\u3001\u52a0\u8f7d\u7f51\u9875\uff1a"},{"location":"11%E3%80%81selenium.html#2_1","text":"# \u641c\u7d22\u5173\u952e\u5b57 \u675c\u5361\u8fea driver.find_element(By.ID, \"kw\").send_keys(\"\u675c\u5361\u8fea\") # \u70b9\u51fbid\u4e3asu\u7684\u641c\u7d22\u6309\u94ae driver.find_element(By.ID, \"su\").click()","title":"2\u3001\u5b9a\u4f4d\u548c\u64cd\u4f5c\uff1a"},{"location":"11%E3%80%81selenium.html#3_1","text":"driver.page_source # \u83b7\u53d6\u9875\u9762\u5185\u5bb9 driver.get_cookies() driver.current_url","title":"3\u3001\u67e5\u770b\u8bf7\u6c42\u4fe1\u606f\uff1a"},{"location":"11%E3%80%81selenium.html#4","text":"driver.close() # \u9000\u51fa\u5f53\u524d\u9875\u9762 driver.quit() # \u9000\u51fa\u6d4f\u89c8\u5668","title":"4\u3001\u9000\u51fa"},{"location":"11%E3%80%81selenium.html#_2","text":"selenium\u7684\u5bfc\u5305: from selenium import webdriver selenium\u521b\u5efadriver\u5bf9\u8c61: webdriver.Chrome() selenium\u8bf7\u6c42\u6570\u636e: driver.get(\"http://www.baidu.com/\") selenium\u67e5\u770b\u6570\u636e: driver.page_source \u5173\u95ed\u6d4f\u89c8\u5668: driver.quit() \u6839\u636eid\u5b9a\u4f4d\u5143\u7d20: driver.find_element_by_id(\"kw\")/driver.find_element(By.ID, \"kw\") \u64cd\u4f5c\u70b9\u51fb\u4e8b\u4ef6: click() \u7ed9\u8f93\u5165\u6846\u8d4b\u503c: send_keys()","title":"\u5c0f\u7ed3"},{"location":"11%E3%80%81selenium.html#_3","text":"","title":"\u4e09\u3001\u5143\u7d20\u5b9a\u4f4d\u7684\u65b9\u6cd5"},{"location":"11%E3%80%81selenium.html#_4","text":"\u638c\u63e1 selenium\u5b9a\u4f4d\u5143\u7d20\u7684\u65b9\u6cd5 \u638c\u63e1 selenium\u4ece\u5143\u7d20\u4e2d\u83b7\u53d6\u6587\u672c\u548c\u5c5e\u6027\u7684\u65b9\u6cd5 \u901a\u8fc7selenium\u7684\u57fa\u672c\u4f7f\u7528\u53ef\u4ee5\u7b80\u5355\u5b9a\u4f4d\u5143\u7d20\u548c\u83b7\u53d6\u5bf9\u5e94\u7684\u6570\u636e,\u63a5\u4e0b\u6765\u6211\u4eec\u518d\u6765\u5b66\u4e60\u4e0b \u5b9a\u4f4d\u5143\u7d20\u7684\u5176\u4ed6\u65b9\u6cd5","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"11%E3%80%81selenium.html#1selenium","text":"\u5143\u7d20\u5b9a\u4f4d\u7684\u4e24\u79cd\u5199\u6cd5\uff1a \u76f4\u63a5\u8c03\u7528\u578b python el = driver.find_element_by_xxx(value) # xxx\u662f\u5b9a\u4f4d\u65b9\u5f0f\uff0c\u540e\u9762\u6211\u4eec\u4f1a\u8bb2\uff0cvalue\u4e3a\u8be5\u65b9\u5f0f\u5bf9\u5e94\u7684\u503c \u4f7f\u7528By\u7c7b\u578b(\u9700\u8981\u5bfc\u5165By) \u5efa\u8bae\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f python # \u76f4\u63a5\u6389\u7528\u7684\u65b9\u5f0f\u4f1a\u5728\u5e95\u5c42\u7ffb\u8bd1\u6210\u8fd9\u79cd\u65b9\u5f0f from selenium.webdriver.common.by import By driver.find_element(By.xxx,value) \u5143\u7d20\u5b9a\u4f4d\u7684\u4e24\u79cd\u65b9\u5f0f: \u7cbe\u786e\u5b9a\u4f4d\u4e00\u4e2a\u5143\u7d20,\u8fd4\u56de\u7ed3\u679c\u4e3a\u4e00\u4e2aelement\u5bf9\u8c61,\u5b9a\u4f4d\u4e0d\u5230\u5219\u62a5\u9519 python driver.find_element(By.xx, value) # \u5efa\u8bae\u4f7f\u7528 driver.find_element_by_xxx(value) \u5b9a\u4f4d\u4e00\u7ec4\u5143\u7d20,\u8fd4\u56de\u7ed3\u679c\u4e3aelement\u5bf9\u8c61\u5217\u8868,\u5b9a\u4f4d\u4e0d\u5230\u8fd4\u56de\u7a7a\u5217\u8868 python driver.find_elements(By.xx, value) # \u5efa\u8bae\u4f7f\u7528 driver.find_elements_by_xxx(value) \u5143\u7d20\u5b9a\u4f4d\u7684\u516b\u79cd\u65b9\u6cd5: \u4ee5\u4e0b\u65b9\u6cd5\u5728element\u4e4b\u540e\u6dfb\u52a0s\u5c31\u53d8\u6210\u80fd\u591f\u83b7\u53d6\u4e00\u7ec4\u5143\u7d20\u7684\u65b9\u6cd5 By.ID \u4f7f\u7528id\u503c\u5b9a\u4f4d python el = driver.find_element(By.ID, '') el = driver.find_element_by_id() By.XPATH \u4f7f\u7528xpath\u5b9a\u4f4d python el = driver.find_element(By.XPATH, '') el = driver.find_element_by_xpath() By.TAG_NAME. \u4f7f\u7528\u6807\u7b7e\u540d\u5b9a\u4f4d python el = driver.find_element(By.TAG_NAME, '') el = driver.find_element_by_tag_name() By.LINK_TEXT\u4f7f\u7528\u8d85\u94fe\u63a5\u6587\u672c\u5b9a\u4f4d python el = driver.find_element(By.LINK_TEXT, '') el = driver.find_element_by_link_text() By.PARTIAL_LINK_TEXT \u4f7f\u7528\u90e8\u5206\u8d85\u94fe\u63a5\u6587\u672c\u5b9a\u4f4d python el = driver.find_element(By.PARTIAL_LINK_TEXT , '') el = driver.find_element_by_partial_link_text() By.NAME \u4f7f\u7528name\u5c5e\u6027\u503c\u5b9a\u4f4d python el = driver.find_element(By.NAME, '') el = driver.find_element_by_name() By.CLASS_NAME \u4f7f\u7528class\u5c5e\u6027\u503c\u5b9a\u4f4d python el = driver.find_element(By.CLASS_NAME, '') el = driver.find_element_by_class_name() By.CSS_SELECTOR \u4f7f\u7528css\u9009\u62e9\u5668\u5b9a\u4f4d python el = driver.find_element(By.CSS_SELECTOR, '') el = driver.find_element_by_css_selector() \u6ce8\u610f\uff1a \u5efa\u8bae\u4f7f\u7528find_element/find_elements find_element \u548c find_elements \u7684\u533a\u522b by_link_text \u548c by_partial_link_text \u7684\u533a\u522b\uff1a \u5168\u90e8\u6587\u672c\u548c\u5305\u542b\u67d0\u4e2a\u6587\u672c \u4f7f\u7528\uff1a \u4ee5\u8c46\u74e3\u4e3a\u4f8b ```python import time from selenium import webdriver from selenium.webdriver.common.by import By driver = webdriver.Chrome() driver.implicitly_wait(10) # \u7b49\u5f85\u8282\u70b9\u52a0\u8f7d\u5b8c\u6210 driver.get(\"https://www.douban.com/search?q=%E6%9D%B0%E6%A3%AE%E6%96%AF%E5%9D%A6%E6%A3%AE\") time.sleep(2) # \u4f7f\u7528id\u7684\u65b9\u5f0f\u83b7\u53d6\u53f3\u4e0a\u89d2\u7684\u641c\u7d22\u6846 # ret1 = driver.find_element(By.ID, 'inp-query') # ret1 = driver.find_element(By.ID, 'inp-query').send_keys(\"\u6770\u68ee\u65af\u5766\u68ee\") # ret1 = driver.find_element_by_id(\"inp-query\") # print(ret1) # \u8f93\u51fa\u4e3a\uff1a # \u641c\u7d22\u8f93\u5165\u6846 \u4f7f\u7528find_elements\u8fdb\u884c\u83b7\u53d6 # ret2 = driver.find_elements(By.ID, \"inp-query\") # ret2 = driver.find_elements_by_id(\"inp-query\") # print(ret2) #\u8f93\u51fa\u4e3a\uff1a[ ] # \u641c\u7d22\u6309\u94ae \u4f7f\u7528xpath\u8fdb\u884c\u83b7\u53d6 # ret3 = driver.find_elements(By.XPATH, '// [@id=\"inp-query\"]') # ret3 = driver.find_elements_by_xpath(\"// [@id=\"inp-query\"]\") # print(len(ret3)) # print(ret3) # \u5339\u914d\u56fe\u7247\u6807\u7b7e ret4 = driver.find_elements(By.TAG_NAME, 'img') for url in ret4: print(url.get_attribute('src')) #ret4 = driver.find_elements_by_tag_name(\"img\") print(len(ret4)) ret5 = driver.find_elements(By.LINK_TEXT, \"\u6d4f\u89c8\u53d1\u73b0\") # ret5 = driver.find_elements_by_link_text(\"\u6d4f\u89c8\u53d1\u73b0\") print(len(ret5)) print(ret5) ret6 = driver.find_elements(By.PARTIAL_LINK_TEXT, \"\u6d4f\u89c8\u53d1\u73b0\") # ret6 = driver.find_elements_by_partial_link_text(\"\u6d4f\u89c8\u53d1\u73b0\") print(len(ret6)) # \u4f7f\u7528class\u540d\u79f0\u67e5\u627e ret7 = driver.find_elements(By.CLASS_NAME, 'nbg') print(ret7) driver.close() ``` \u6ce8\u610f\uff1a find_element\u4e0efind_elements\u533a\u522b \u53ea\u67e5\u627e\u4e00\u4e2a\u5143\u7d20\u7684\u65f6\u5019:\u53ef\u4ee5\u4f7f\u7528find_element(),find_elements() find_element()\u4f1a\u8fd4\u56de\u4e00\u4e2aWebElement\u8282\u70b9\u5bf9\u8c61,\u4f46\u662f\u6ca1\u627e\u5230\u4f1a\u62a5\u9519,\u800cfind_elements()\u4e0d\u4f1a,\u4e4b\u540e\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5217\u8868 \u67e5\u627e\u591a\u4e2a\u5143\u7d20\u7684\u65f6\u5019:\u53ea\u80fd\u7528find_elements(),\u8fd4\u56de\u4e00\u4e2a\u5217\u8868,\u5217\u8868\u91cc\u7684\u5143\u7d20\u5168\u662fWebElement\u8282\u70b9\u5bf9\u8c61 \u627e\u5230\u90fd\u662f\u8282\u70b9(\u6807\u7b7e) \u5982\u679c\u60f3\u8981\u83b7\u53d6\u76f8\u5173\u5185\u5bb9(\u53ea\u5bf9find_element()\u6709\u6548,\u5217\u8868\u5bf9\u8c61\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027) \u4f7f\u7528 .text \u5982\u679c\u60f3\u8981\u83b7\u53d6\u76f8\u5173\u5c5e\u6027\u7684\u503c(\u5982href\u5bf9\u5e94\u7684\u94fe\u63a5\u7b49,\u53ea\u5bf9find_element()\u6709\u6548,\u5217\u8868\u5bf9\u8c61\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027):\u4f7f\u7528 .get_attribute(\"href\")","title":"1\u3001selenium\u7684\u5b9a\u4f4d\u64cd\u4f5c"},{"location":"11%E3%80%81selenium.html#2_2","text":"find_element_by_xxx\u65b9\u6cd5\u4ec5\u4ec5\u80fd\u591f\u83b7\u53d6\u5143\u7d20\u5bf9\u8c61\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5bf9\u5143\u7d20\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u63d0\u53d6\u6570\u636e\u7684\u65b9\u6cd5 \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u83b7\u53d6\u6570\u636e el.get_attribute(key) # \u83b7\u53d6key\u5c5e\u6027\u540d\u5bf9\u5e94\u7684\u5c5e\u6027\u503c el.text # \u83b7\u53d6\u5f00\u95ed\u6807\u7b7e\u4e4b\u95f4\u7684\u6587\u672c\u5185\u5bb9 \u5bf9\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u7684\u64cd\u4f5c el.click() # \u5bf9\u5143\u7d20\u6267\u884c\u70b9\u51fb\u64cd\u4f5c el.submit() # \u5bf9\u5143\u7d20\u6267\u884c\u63d0\u4ea4\u64cd\u4f5c el.clear() # \u6e05\u7a7a\u53ef\u8f93\u5165\u5143\u7d20\u4e2d\u7684\u6570\u636e el.send_keys(data) # \u5411\u53ef\u8f93\u5165\u5143\u7d20\u8f93\u5165\u6570\u636e \u4f7f\u7528\u793a\u4f8b\uff1a from selenium import webdriver from selenium.webdriver.common.by import By driver =webdriver.Chrome() driver.get(\"https://www.douban.com/\") # \u6253\u5370\u9875\u9762\u5185\u5bb9 \uff08\u83b7\u53d6\u5230\u4ee5\u540e\u53ef\u4ee5\u8fdb\u884c\u540e\u7eed\u7684xpath,bs4 \u6216\u8005\u5b58\u50a8\u7b49\uff09 print(driver.page_source) ret4 = driver.find_elements(By.TAG_NAME, \"h1\") print(ret4[0].text) #\u8f93\u51fa\uff1a\u8c46\u74e3 ret5 = driver.find_elements(By.LINK_TEXT, \"\u4e0b\u8f7d\u8c46\u74e3 App\") print(ret5[0].get_attribute(\"href\")) #\u8f93\u51fa\uff1ahttps://www.douban.com/doubanapp/app?channel=nimingye driver.close()","title":"2\u3001\u5143\u7d20\u7684\u64cd\u4f5c"},{"location":"11%E3%80%81selenium.html#_5","text":"\u6839\u636expath\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.XPATH,\"//*[@id='s']/h1/a\") \u6839\u636eclass\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.CLASS_NAME, \"box\") \u6839\u636elink_text\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.LINK_TEXT, \"\u4e0b\u8f7d\u8c46\u74e3 App\") \u6839\u636etag_name\u5b9a\u4f4d\u5143\u7d20: driver.find_elements(By.TAG_NAME, \"h1\") \u83b7\u53d6\u5143\u7d20\u6587\u672c\u5185\u5bb9: element.text \u83b7\u53d6\u5143\u7d20\u6807\u7b7e\u5c5e\u6027: element.get_attribute(\"href\") \u5411\u8f93\u5165\u6846\u8f93\u5165\u6570\u636e: element.send_keys(data)","title":"\u5c0f\u7ed3"},{"location":"11%E3%80%81selenium.html#selenium_2","text":"","title":"\u56db\u3001selenium\u7684\u5176\u4ed6\u64cd\u4f5c"},{"location":"11%E3%80%81selenium.html#_6","text":"\u638c\u63e1 selenium\u5904\u7406cookie\u7b49\u65b9\u6cd5 \u638c\u63e1 selenium\u4e2dswitch\u7684\u4f7f\u7528 \u638c\u63e1selenium\u4e2d\u65e0\u5934\u6d4f\u89c8\u5668\u7684\u8bbe\u7f6e","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"11%E3%80%81selenium.html#1_2","text":"\u6211\u4eec\u5df2\u7ecf\u57fa\u672c\u4e86\u89e3\u4e86selenium\u7684\u57fa\u672c\u4f7f\u7528\u4e86. \u4f46\u662f\u5462, \u4e0d\u77e5\u5404\u4f4d\u6709\u6ca1\u6709\u53d1\u73b0, \u6bcf\u6b21\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u65f6\u95f4\u90fd\u6bd4\u8f83\u957f. \u8fd9\u5c31\u6bd4\u8f83\u8017\u65f6\u4e86. \u6211\u4eec\u5199\u7684\u662f\u722c\u866b\u7a0b\u5e8f. \u76ee\u7684\u662f\u6570\u636e. \u5e76\u4e0d\u662f\u60f3\u770b\u7f51\u9875. \u90a3\u80fd\u4e0d\u80fd\u8ba9\u6d4f\u89c8\u5668\u5728\u540e\u53f0\u8dd1\u5462? \u7b54\u6848\u662f\u53ef\u4ee5\u7684 from selenium.webdriver import Chrome from selenium.webdriver.chrome.options import Options opt = Options() opt.add_argument(\"--headless\") opt.add_argument('--disable-gpu') opt.add_argument(\"--window-size=4000,1600\") # \u8bbe\u7f6e\u7a97\u53e3\u5927\u5c0f web = Chrome(options=opt)","title":"1\u3001\u65e0\u5934\u6d4f\u89c8\u5668"},{"location":"11%E3%80%81selenium.html#1selenium-cookie","text":"\u901a\u8fc7 driver.get_cookies() \u80fd\u591f\u83b7\u53d6\u6240\u6709\u7684cookie \u83b7\u53d6cookie python dictCookies = driver.get_cookies() \u8bbe\u7f6ecookie python driver.add_cookie(dictCookies) \u5220\u9664cookue python #\u5220\u9664\u4e00\u6761cookie driver.delete_cookie(\"CookieName\") # \u5220\u9664\u6240\u6709\u7684cookie driver.delete_all_cookies()","title":"1\u3001selenium \u5904\u7406cookie"},{"location":"11%E3%80%81selenium.html#2_3","text":"\u4e3a\u4ec0\u4e48\u9700\u8981\u7b49\u5f85 \u5982\u679c\u7f51\u7ad9\u91c7\u7528\u4e86\u52a8\u6001html\u6280\u672f\uff0c\u90a3\u4e48\u9875\u9762\u4e0a\u7684\u90e8\u5206\u5143\u7d20\u51fa\u73b0\u65f6\u95f4\u4fbf\u4e0d\u80fd\u786e\u5b9a\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u5f3a\u5236\u7b49\u5f85\u6307\u5b9a\u65f6\u95f4\uff0c\u7b49\u5f85\u7ed3\u675f\u4e4b\u540e\u8fdb\u884c\u5143\u7d20\u5b9a\u4f4d\uff0c\u5982\u679c\u8fd8\u662f\u65e0\u6cd5\u5b9a\u4f4d\u5230\u5219\u62a5\u9519 \u9875\u9762\u7b49\u5f85\u7684\u4e09\u79cd\u65b9\u6cd5 \u5f3a\u5236\u7b49\u5f85 python import time time.sleep(n) # \u963b\u585e\u7b49\u5f85\u8bbe\u5b9a\u7684\u79d2\u6570\u4e4b\u540e\u518d\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c \u663e\u5f0f\u7b49\u5f85(\u81ea\u52a8\u5316web\u6d4b\u8bd5\u4f7f\u7528\uff0c\u722c\u866b\u57fa\u672c\u4e0d\u7528) ```python from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC WebDriverWait(driver, 10,0.5).until( EC.presence_of_element_located((By.ID, \"myDynamicElement\"))","title":"2\u3001\u9875\u9762\u7b49\u5f85"},{"location":"11%E3%80%81selenium.html#10100510","text":"``` \u9690\u5f0f\u7b49\u5f85 \u9690\u5f0f\u7b49\u5f85\u8bbe\u7f6e\u4e4b\u540e\u4ee3\u7801\u4e2d\u7684\u6240\u6709\u5143\u7d20\u5b9a\u4f4d\u90fd\u4f1a\u505a\u9690\u5f0f\u7b49\u5f85 python driver.implicitly_wait(10) # \u5728\u6307\u5b9a\u7684n\u79d2\u5185\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c1d\u8bd5\u5b9a\u4f4d\u5143\u7d20\uff0c\u5982\u679cn\u79d2\u7ed3\u675f\u8fd8\u672a\u88ab\u5b9a\u4f4d\u51fa\u6765\u5219\u62a5\u9519 \u6ce8\u610f\uff1a Selenium\u663e\u793a\u7b49\u5f85\u548c\u9690\u5f0f\u7b49\u5f85\u7684\u533a\u522b 1\u3001selenium\u7684\u663e\u793a\u7b49\u5f85 \u539f\u7406\uff1a\u663e\u793a\u7b49\u5f85\uff0c\u5c31\u662f\u660e\u786e\u8981\u7b49\u5230\u67d0\u4e2a\u5143\u7d20\u7684\u51fa\u73b0\u6216\u8005\u662f\u67d0\u4e2a\u5143\u7d20\u7684\u53ef\u70b9\u51fb\u7b49\u6761\u4ef6\uff0c\u7b49\u4e0d\u5230\uff0c\u5c31\u4e00\u76f4\u7b49\uff0c\u9664\u975e\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u4e4b\u5185\u90fd\u6ca1\u627e\u5230\uff0c\u5c31\u4f1a\u8df3\u51fa\u5f02\u5e38Exception (\u7b80\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u76f4\u5230\u5143\u7d20\u51fa\u73b0\u624d\u53bb\u64cd\u4f5c\uff0c\u5982\u679c\u8d85\u65f6\u5219\u62a5\u5f02\u5e38) 2\u3001selenium\u7684\u9690\u5f0f\u7b49\u5f85 \u539f\u7406\uff1a\u9690\u5f0f\u7b49\u5f85\uff0c\u5c31\u662f\u5728\u521b\u5efadriver\u65f6\uff0c\u4e3a\u6d4f\u89c8\u5668\u5bf9\u8c61\u521b\u5efa\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5f97\u4e0d\u5230\u67d0\u4e2a\u5143\u7d20\u5c31\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u76f4\u5230\u62ff\u5230\u67d0\u4e2a\u5143\u7d20\u4f4d\u7f6e\u3002 \u6ce8\u610f\uff1a\u5728\u4f7f\u7528\u9690\u5f0f\u7b49\u5f85\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u6d4f\u89c8\u5668\u4f1a\u5728\u4f60\u81ea\u5df1\u8bbe\u5b9a\u7684\u65f6\u95f4\u5185\u90e8\u65ad\u7684\u5237\u65b0\u9875\u9762\u53bb\u5bfb\u627e\u6211\u4eec\u9700\u8981\u7684\u5143\u7d20","title":"\u663e\u5f0f\u7b49\u5f85\u6307\u5b9a\u67d0\u4e2a\u6761\u4ef6\uff0c\u7136\u540e\u8bbe\u7f6e\u6700\u957f\u7b49\u5f85\u65f6\u95f410\uff0c\u572810\u79d2\u5185\u6bcf\u96940.5\u79d2\u4f7f\u7528\u6307\u5b9a\u6761\u4ef6\u53bb\u5b9a\u4f4d\u5143\u7d20\uff0c\u5982\u679c\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u76f4\u63a5\u7ed3\u675f\u7b49\u5f85\uff0c\u5982\u679c\u572810\u79d2\u7ed3\u675f\u4e4b\u540e\u4ecd\u672a\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u62a5\u9519"},{"location":"11%E3%80%81selenium.html#3switch","text":"","title":"3\u3001switch\u65b9\u6cd5\u5207\u6362\u7684\u64cd\u4f5c"},{"location":"11%E3%80%81selenium.html#31","text":"\u4e5f\u53ef\u4ee5\u4f7f\u7528 window_handles \u65b9\u6cd5\u6765\u83b7\u53d6\u6bcf\u4e2a\u7a97\u53e3\u7684\u64cd\u4f5c\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a # 1. \u83b7\u53d6\u5f53\u524d\u6240\u6709\u7684\u7a97\u53e3 current_windows = driver.window_handles # 2. \u6839\u636e\u7a97\u53e3\u7d22\u5f15\u8fdb\u884c\u5207\u6362 driver.switch_to.window(current_windows[1]) driver.switch_to.window(web.window_handles[-1]) # \u8df3\u8f6c\u5230\u6700\u540e\u4e00\u4e2a\u7a97\u53e3 driver.switch_to.window(current_windows[0]) # \u56de\u5230\u7b2c\u4e00\u4e2a\u7a97\u53e3","title":"3.1 \u4e00\u4e2a\u6d4f\u89c8\u5668\u80af\u5b9a\u4f1a\u6709\u5f88\u591a\u7a97\u53e3\uff0c\u6240\u4ee5\u6211\u4eec\u80af\u5b9a\u8981\u6709\u65b9\u6cd5\u6765\u5b9e\u73b0\u7a97\u53e3\u7684\u5207\u6362\u3002\u5207\u6362\u7a97\u53e3\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a"},{"location":"11%E3%80%81selenium.html#32-iframehtmlseleniumframe","text":"driver.switch_to.frame(name/el/id) \u4f20\u5165\u7684\u53c2\u6570\u53ef\u4ee5\u4f7fiframe\u5bf9\u5e94\u7684id\u503c\uff0c\u4e5f\u53ef\u4ee5\u662f\u7528\u5143\u7d20\u5b9a\u4f4d\u4e4b\u540e\u7684\u5143\u7d20\u5bf9\u8c61 \u52a8\u624b\uff1aqq\u90ae\u7bb1 \u5728\u4f7f\u7528selenium\u767b\u5f55qq\u90ae\u7bb1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u65e0\u6cd5\u5728\u90ae\u7bb1\u7684\u767b\u5f55input\u6807\u7b7e\u4e2d\u8f93\u5165\u5185\u5bb9\uff0c\u901a\u8fc7\u89c2\u5bdf\u6e90\u7801\u53ef\u4ee5\u53d1\u73b0\uff0cform\u8868\u5355\u5728\u4e00\u4e2aframe\u4e2d\uff0c\u6240\u4ee5\u9700\u8981\u5207\u6362\u5230frame\u4e2d","title":"3.2 iframe\u662fhtml\u4e2d\u5e38\u7528\u7684\u4e00\u79cd\u6280\u672f\uff0c\u5373\u4e00\u4e2a\u9875\u9762\u4e2d\u5d4c\u5957\u4e86\u53e6\u4e00\u4e2a\u7f51\u9875\uff0cselenium\u9ed8\u8ba4\u662f\u8bbf\u95ee\u4e0d\u4e86frame\u4e2d\u7684\u5185\u5bb9\u7684\uff0c\u5bf9\u5e94\u7684\u89e3\u51b3\u601d\u8def\u662f"},{"location":"11%E3%80%81selenium.html#33","text":"alert = driver.switch_to_alert()","title":"3.3 \u5f53\u4f60\u89e6\u53d1\u4e86\u67d0\u4e2a\u4e8b\u4ef6\u4e4b\u540e\uff0c\u9875\u9762\u51fa\u73b0\u4e86\u5f39\u7a97\u63d0\u793a\uff0c\u5904\u7406\u8fd9\u4e2a\u63d0\u793a\u6216\u8005\u83b7\u53d6\u63d0\u793a\u4fe1\u606f\u65b9\u6cd5\u5982\u4e0b\uff1a"},{"location":"11%E3%80%81selenium.html#4_1","text":"driver.forward() # \u524d\u8fdb driver.back() # \u540e\u9000 driver.refresh() # \u5237\u65b0 driver.close() # \u5173\u95ed\u5f53\u524d\u7a97\u53e3","title":"4. \u9875\u9762\u524d\u8fdb\u548c\u540e\u9000"},{"location":"11%E3%80%81selenium.html#5","text":"driver.maximize_window() #\u6700\u5927\u5316\u6d4f\u89c8\u5668\u7a97\u53e3","title":"5\u3001\u8bbe\u7f6e\u6d4f\u89c8\u5668\u6700\u5927\u7a97\u53e3"},{"location":"11%E3%80%81selenium.html#4selenium","text":"\u4f18\u70b9 selenium\u80fd\u591f\u6267\u884c\u9875\u9762\u4e0a\u7684js\uff0c\u5bf9\u4e8ejs\u6e32\u67d3\u7684\u6570\u636e\u548c\u6a21\u62df\u767b\u9646\u5904\u7406\u8d77\u6765\u975e\u5e38\u5bb9\u6613 \u4f7f\u7528\u96be\u5ea6\u7b80\u5355 \u722c\u53d6\u901f\u5ea6\u6162\uff0c\u722c\u53d6\u9891\u7387\u66f4\u50cf\u4eba\u7684\u884c\u4e3a\uff0c\u5929\u751f\u80fd\u591f\u5e94\u5bf9\u4e00\u4e9b\u53cd\u722c\u63aa\u65bd \u7f3a\u70b9 \u7531\u4e8eselenium\u64cd\u4f5c\u6d4f\u89c8\u5668\uff0c\u56e0\u6b64\u4f1a\u5c06\u53d1\u9001\u6240\u6709\u7684\u8bf7\u6c42\uff0c\u56e0\u6b64\u5360\u7528\u7f51\u7edc\u5e26\u5bbd \u7531\u4e8e\u64cd\u4f5c\u6d4f\u89c8\u5668\uff0c\u56e0\u6b64\u5360\u7528\u7684\u5185\u5b58\u975e\u5e38\u5927(\u76f8\u6bd4\u8f83\u4e4b\u524d\u7684\u722c\u866b) \u901f\u5ea6\u6162\uff0c\u5bf9\u4e8e\u6548\u7387\u8981\u6c42\u9ad8\u7684\u8bdd\u4e0d\u5efa\u8bae\u4f7f\u7528","title":"4\u3001selenium\u7684\u4f18\u7f3a\u70b9"},{"location":"11%E3%80%81selenium.html#_7","text":"\u83b7\u53d6cookie: get_cookies() \u5220\u9664cookie: delete_all_cookies() \u5207\u6362\u7a97\u53e3: switch_to.window() \u5207\u6362iframe: switch_to.frame()","title":"\u5c0f\u7ed3"},{"location":"11%E3%80%81selenium.html#_8","text":"Seleniumwire \u6269\u5c55\u4e86 Selenium \u7684 Python \u7ed1\u5b9a\uff0c\u8ba9\u60a8\u53ef\u4ee5\u8bbf\u95ee\u6d4f\u89c8\u5668\u53d1\u51fa\u7684\u5e95\u5c42\u8bf7\u6c42\u3002 \u60a8\u7f16\u5199\u4ee3\u7801\u7684\u65b9\u5f0f\u4e0e\u4f7f\u7528 Selenium \u7684\u65b9\u5f0f\u76f8\u540c\uff0c\u4f46\u60a8\u53ef\u4ee5\u83b7\u5f97\u989d\u5916\u7684 API \u6765\u68c0\u67e5\u8bf7\u6c42\u548c\u54cd\u5e94\u5e76\u52a8\u6001\u66f4\u6539\u5b83\u4eec\u3002 1.\u73af\u5883\u8981\u6c42 Python 3.6+ Selenium 3.4.0+ Chrome, Firefox and Remote Webdriver supported 2.\u5b89\u88c5 pip install selenium-wire 3.\u793a\u4f8b from seleniumwire import webdriver driver = webdriver.Chrome() driver.get('https://www.baidu.com') for request in driver.requests: if request.response: print( request.url, request.response.status_code, request.response.headers['Content-Type']) 4.\u603b\u7ed3 \u8be5\u6a21\u5757\u5e38\u7528\u4e8e\u9700\u8981\u767b\u5f55\u7f51\u7ad9\u7684cookies\u548ctoken\u7b49\u52a0\u5bc6\u53c2\u6570\u7684\u83b7\u53d6\uff0c\u4e3a\u540e\u7eed\u91c7\u96c6\u7a0b\u5e8f\u63d0\u4f9b\u901a\u884c\u51ed\u8bc1\u3002 selenium\u7684\u914d\u7f6e https://blog.csdn.net/qq_35999017/article/details/123922952 https://blog.csdn.net/qq_27109535/article/details/125468643","title":"\u4e94\u3001\u6269\u5c55"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html","text":"\u5341\u4e8c\u3001MySQL\u6570\u636e\u5e93 \u4e00\u3001MySQL\u6570\u636e\u5e93\u7684\u4ecb\u7ecd 1\u3001\u53d1\u5c55\u53f2 1996\u5e74\uff0cMySQL 1.0 2008\u5e741\u670816\u53f7 Sun\u516c\u53f8\u6536\u8d2dMySQL\u3002 2009\u5e744\u670820\uff0cOracle\u6536\u8d2dSun\u516c\u53f8\u3002 MySQL \u662f\u4e00\u79cd \u5f00\u653e\u6e90\u4ee3\u7801 \u7684\u5173\u7cfb\u578b \u6570\u636e\u5e93\u7ba1\u7406 \u7cfb\u7edf\uff08RDBMS\uff09\uff0c\u4f7f\u7528\u6700\u5e38\u7528\u7684\u6570\u636e\u5e93\u7ba1\u7406\u8bed\u8a00-- \u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00 \uff08SQL\uff09\u8fdb\u884c\u6570\u636e\u5e93\u7ba1\u7406\u3002 MySQL\u662f\u5f00\u653e\u6e90\u4ee3\u7801\u7684\uff0c\u56e0\u6b64\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u5728General Public License\u7684\u8bb8\u53ef\u4e0b\u4e0b\u8f7d\u5e76\u6839\u636e\u4e2a\u6027\u5316\u7684\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002 MySQL\u56e0\u4e3a\u5176\u901f\u5ea6\u3001\u53ef\u9760\u6027\u548c\u9002\u5e94\u6027\u800c\u5907\u53d7\u5173\u6ce8\u3002\u5927\u591a\u6570\u4eba\u90fd\u8ba4\u4e3a\u5728\u4e0d\u9700\u8981 \u4e8b\u52a1 \u5316\u5904\u7406\u7684\u60c5\u51b5\u4e0b\uff0cMySQL\u662f\u7ba1\u7406\u5185\u5bb9\u6700\u597d\u7684\u9009\u62e9\u3002 2\u3001MySQL\u7b80\u4ecb MySQL\u662f\u4e00\u4e2a \u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf \uff0c\u7531\u745e\u5178MySQLAB \u516c\u53f8\u5f00\u53d1\uff0c\u76ee\u524d\u5c5e\u4e8e Oracle \u65d7\u4e0b\u4ea7\u54c1\u3002MySQL\u662f\u6700\u6d41\u884c\u7684 \u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf \u4e4b\u4e00\uff0c\u5728WEB \u5e94\u7528\u65b9\u9762\uff0cMySQL\u662f\u6700\u597d\u7684 RDBMS (RelationalDatabase Management System\uff0c\u5173\u7cfb\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf)\u5e94\u7528\u8f6f\u4ef6MySQL\u6240\u4f7f\u7528\u7684SQL \u8bed\u8a00\u662f\u7528\u4e8e\u8bbf\u95ee \u6570\u636e\u5e93 \u7684\u6700\u5e38\u7528\u6807\u51c6\u5316\u8bed\u8a00\u3002MySQL\u8f6f\u4ef6\u91c7\u7528\u4e86\u53cc\u6388\u6743\u653f\u7b56\uff0c\u5206\u4e3a\u793e\u533a\u7248\u548c\u5546\u4e1a\u7248\uff0c\u7531\u4e8e\u5176\u4f53\u79ef\u5c0f\u3001\u901f\u5ea6\u5feb\u3001\u603b\u4f53\u62e5\u6709\u6210\u672c\u4f4e\uff0c\u5c24\u5176\u662f \u5f00\u653e\u6e90\u7801 \u8fd9\u4e00\u7279\u70b9\uff0c\u4e00\u822c\u4e2d\u5c0f\u578b\u7f51\u7ad9\u7684\u5f00\u53d1\u90fd\u9009\u62e9MySQL \u4f5c\u4e3a\u7f51\u7ad9\u6570\u636e\u5e93 3\u3001\u793e\u533a\u7248\u672c\u548c\u4f01\u4e1a\u7248\u672c\u7684\u533a\u522b \u4e3b\u8981\u7684\u533a\u522b\u6709\u4ee5\u4e0b\u4e24\u70b9\u3002 \u4f01\u4e1a\u7248\u53ea\u5305\u542b\u7a33\u5b9a\u4e4b\u540e\u7684\u529f\u80fd\uff0c\u793e\u533a\u7248\u5305\u542b\u6240\u6709Mysql\u7684\u6700\u65b0\u529f\u80fd\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u793e\u533a\u7248\u662f\u4f01\u4e1a\u7248\u7684\u6d4b\u8bd5\u7248\uff0c\u4f46\u662f\uff0c\u524d\u8005\u7684\u529f\u80fd\u8981\u6bd4\u540e\u8005\u591a\u3002 \u5b98\u65b9\u7684\u652f\u6301\u670d\u52a1\u53ea\u9488\u5bf9\u4f01\u4e1a\u7248\uff0c\u7528\u6237\u5728\u4f7f\u7528\u793e\u533a\u7248\u65f6\u51fa\u73b0\u4efb\u4f55\u95ee\u9898\uff0cMysql\u5b98\u65b9\u6982\u4e0d\u8d1f\u8d23\u3002 MySQL\u5982\u4f55\u4e0b\u8f7d \u8fdb\u5165MySQL\u5b98\u7f51\uff08https://www.mysql.com\uff09 \u67e5\u770b\u5e95\u90e8\u4e0b\u8f7d-https://dev.mysql.com/downloads/mysql/ \u4e8c\u3001\u6570\u636e\u5e93\u7684\u5206\u7c7b \u5173\u7cfb\u578b\u4e0e\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93 1\u3001\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u4f18\u52bf\uff1a \u590d\u6742\u67e5\u8be2 \u53ef\u4ee5\u7528SQL\u8bed\u53e5\u65b9\u4fbf\u7684\u5728\u4e00\u4e2a\u8868\u4ee5\u53ca\u591a\u4e2a\u8868\u4e4b\u95f4\u505a\u975e\u5e38\u590d\u6742\u7684\u6570\u636e\u67e5\u8be2 \u4e8b\u7269\u652f\u6301 \u4f7f\u5f97\u5bf9\u4e8e\u5b89\u5168\u6027\u80fd\u5f88\u9ad8\u7684\u6570\u636e\u8bbf\u95ee\u8981\u6c42\u5f97\u4ee5\u5b9e\u73b0 2\u3001\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u4f18\u52bf\uff1a \u6027\u80fd NOSQL\u662f\u57fa\u4e8e\u952e\u503c\u5bf9\u7684 \u53ef\u4ee5\u60f3\u8c61\u6210\u8868\u4e2d\u7684\u4e3b\u952e\u548c\u503c\u7684\u5bf9\u5e94\u5173\u7cfb \u4e0d\u9700\u8981\u7ecf\u8fc7SQL\u5c42\u7684\u89e3\u6790 \u6240\u4ee5\u6027\u80fd\u5f88\u9ad8 \u53ef\u6269\u5c55\u6027 \u540c\u6837\u4e5f\u662f\u4e5f\u56e0\u4e3a\u57fa\u4e8e\u952e\u503c\u5bf9 \u6570\u636e\u4e4b\u95f4\u6ca1\u6709\u5076\u5c14\u6027 \u6240\u4ee5\u975e\u5e38\u5bb9\u6613\u6c34\u5e73\u6269\u5c55 \u4e09\u3001\u5b89\u88c5\u4e0eNavicat\u4f7f\u7528 1\u3001MySQL\u5b89\u88c5 3.1.2 installer\u7684\u5b89\u88c5\u65b9\u5f0f \u5148\u53bbmysql\u5b98\u7f51\u4e0b\u8f7d\u597d\u5b89\u88c5\u5305. (https://dev.mysql.com/downloads/) 3.1.3 \u514d\u5b89\u88c5\u65b9\u5f0f(\u63a8\u8350) \u8bf4\u660e MySQL\u5173\u662f\u4e00\u79cd\u5173\u7cfb\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u6240\u4f7f\u7528\u7684 SQL \u8bed\u8a00\u662f\u7528\u4e8e\u8bbf\u95ee\u6570\u636e\u5e93\u7684\u6700\u5e38\u7528\u7684 \u6807\u51c6\u5316\u8bed\u8a00\uff0c\u5176\u7279\u70b9\u4e3a\u4f53\u79ef\u5c0f\u3001\u901f\u5ea6\u5feb\u3001\u603b\u4f53\u62e5\u6709\u6210\u672c\u4f4e\uff0c\u5c24 \u5176\u662f\u5f00\u653e\u6e90\u7801\u8fd9\u4e00\u7279\u70b9\uff0c\u5728 Web \u5e94\u7528\u65b9\u9762 MySQL \u662f\u6700\u597d\u7684 RDBMS(Relational Database Management System:\u5173\u7cfb\u6570\u636e \u5e93\u7ba1\u7406\u7cfb\u7edf)\u5e94\u7528\u8f6f\u4ef6\u4e4b\u4e00\u3002 \u9996\u5148:\u8981\u5148\u8fdb\u5165mysql\u5b98\u7f51\u91cc(Mysql\u7684\u5b98\u7f51-->https://www.mysql.com/)\uff0c\u4e0b\u9762\u662f\u8be6\u7ec6\u6b65\u9aa4:\u2193 3.1.3.1\u3001\u4e0b\u8f7d\u5b89\u88c5\u5305 \uff081\uff09\u8fdb\u5165\u5b98\u7f51\u540e\uff0c\u70b9\u51fb\"Dowload\"\uff0c\u7136\u540e\u2eda\u9762\u5f80\u4e0b\u62c9 \uff082\uff09\u63a5\u4e0b\u6765\u770b\u5230\u7684\u2eda\u9762\u662f\u8fd9\u6837\u7684\uff0c\u7ea2\u8272\u6846\u6846\u7684\u94fe\u63a5\u5c31\u662f mysql\u793e\u533a\u7248\uff0c\u662f\u514d\u8d39\u7684mysql\u7248\u672c\uff0c\u7136\u540e\u6211\u4eec\u70b9\u51fb\u8fd9\u4e2a\u6846\u6846 \u7684\u94fe\u63a5:\u2193 \uff083\uff09\u63a5\u4e0b\u6765\u8df3\u8f6c\u5230\u8fd9\u4e2a\u2eda\u9762\uff0c\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u53ea\u8981\u4e0b\u8f7d\u793e\u533a \u7248\u7684Server\u5c31\u53ef\u4ee5\u4e86:\u2193 \uff084\uff09\u4e0b\u8f7d\u514d\u5b89\u88c5\u7248(windows\u4ee5\u5916\u7684\u5176\u4ed6\u7cfb\u7edf\u9664\u5916) \u8fd9\u6837\uff0c\u5b89\u88c5\u5305\u5c31\u4e0b\u8f7d\u597d\u4e86! \u6ce8\u610f \uff1a\u5b89\u88c5\u7684\u76ee\u5f55\u5e94\u5f53\u653e\u5728\u6307\u5b9a\u4f4d\u7f6e\uff0c\uff0c\u5176\u6b21\uff0c\u7edd\u5bf9\u8def\u5f84 \u4e2d\u907f\u514d\u51fa\u73b0\u4e2d\u6587\uff0c\u63a8\u8350\u9996\u9009\u82f1\u6587\u4e3a\u547d\u540d\u6761\u4ef6!!!!(\u6211\u7684\u4e3a\u53c2 \u8003) 3.1.3.2\u3001 Mysql \u7684\u914d\u7f6e \u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6253\u5f00\u547d\u4ee4\u884c ( \u5982\u4e0b\u56fe\u6240\u793a ) \uff0c\u4e00\u5b9a\u8981\u662f\u7ba1\u7406\u5458\u8eab\u4efd\uff0c\u5426\u5219\u7531\u4e8e\u540e\u7eed\u90e8\u5206\u547d\u4ee4\u9700\u8981\u6743\u9650\uff0c\u51fa\u73b0\u9519\u8bef! \uff081\uff09\u4e0b\u8f6c\u5230mysql\u7684bin\u76ee\u5f55\u4e0b: \uff082\uff09\u5b89\u88c5mysql\u7684\u670d\u52a1:mysqld --install \uff083\uff09\u521d\u59cb\u5316mysql\uff0c\u5728\u8fd9\u91cc\uff0c\u521d\u59cb\u5316\u4f1a\u4ea7\u751f\u4e00\u4e2a\u968f\u673a\u5bc6\u7801,\u5982 \u4e0b\u56fe\u6846\u6846\u6240\u793a\uff0c\u8bb0\u4f4f\u8fd9\u4e2a\u5bc6\u7801\uff0c\u540e\u9762\u4f1a\u7528\u5230(mysqld --initialize --console) \uff084\uff09\u5f00\u542fmysql\u7684\u670d\u52a1(net start mysql) \uff085\uff09\u767b\u5f55\u9a8c\u8bc1\uff0cmysql\u662f\u5426\u5b89\u88c5\u6210\u529f!(\u8981\u6ce8\u610f\u4e0a\u9762\u4ea7\u751f\u7684\u968f \u673a\u5bc6\u7801\uff0c\u4e0d\u5305\u62ec\u524d\u9762\u7b26\u53f7\u524d\u9762\u7684\u7a7a\u683c\uff0c\u5426\u5219\u4f1a\u767b\u9646\u5931\u8d25)\uff0c\u5982\u679c \u548c\u4e0b\u56fe\u6240\u793a\u4e00\u6837\uff0c\u5219\u8bf4\u660e\u4f60\u7684mysql\u5df2\u7ecf\u5b89\u88c5\u6210\u529f!\u6ce8\u610f\uff0c\uff0c \u4e00\u5b9a\u8981\u5148\u5f00\u542f\u670d\u52a1\uff0c\u4e0d\u7136\u4f1a\u767b\u9646\u5931\u8d25\uff0c\u51fa\u73b0\u62d2\u7edd\u8bbf\u95ee\u7684\u63d0\u793a \u7b26!!! \u4fee\u6539\u5bc6\u7801: \u7531\u4e8e\u521d\u59cb\u5316\u4ea7\u751f\u7684\u968f\u673a\u5bc6\u7801\u592a\u590d\u6742\uff0c\uff0c\u4e0d\u4fbf\u4e8e\u6211\u4eec\u767b \u5f55mysql\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u5f53\u4fee\u6539\u4e00\u4e2a\u81ea\u5df1\u80fd\u8bb0\u4f4f\u7684\u5bc6\u7801!! \u6ce8\u610f : \u5982\u679c\u5f53\u524d\u4fee\u6539\u540e\u65e0\u6cd5\u4f7f\u7528 Navicat \u65e0\u6cd5\u8fde \u63a5\u6570\u636e\u5e93 \u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\u8fdb\u884c\u91cd\u65b0\u4fee\u6539\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456'; \u518d\u6b21\u767b\u5f55\u9a8c\u8bc1\u65b0\u5bc6\u7801: 3.1.3.3\u3001 \u8bbe\u7f6e\u7cfb\u7edf\u7684\u5168\u5c40\u53d8\u91cf: \u4e3a\u4e86\u65b9\u4fbf\u767b\u5f55\u64cd\u4f5cmysql\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u8bbe\u7f6e\u4e00\u4e2a\u5168\u5c40 \u53d8\u91cf:\u2193 \uff081\uff09\u70b9\u51fb\"\u6211\u7684\u7535\u8111\"-->\"\u5c5e\u6027\"-->''\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e''-->''\u73af \u5883\u53d8\u91cf'',\u63a5\u4e0b\u6765\u5982\u4e0b\u56fe\u6240\u64cd\u4f5c \uff082\uff09\u628a\u65b0\u5efa\u7684mysql\u53d8\u91cf\u6dfb\u52a0\u5230Path\u8def\u5f84\u53d8\u91cf\u4e2d\uff0c\u70b9\u51fb \u786e\u5b9a\uff0c\u5373\u5b8c\u6210: \u914d\u7f6e\u5b8c\u6210\u4e4b\u540e\uff0c\u6bcf\u5f53\u6211\u4eec\u60f3\u8981\u7528\u547d\u4ee4\u884c\u4f7f\u7528mysql \u65f6\uff0c\u53ea\u9700\u8981win+R\uff0c-->\u8f93\u5165\"cmd\"\u6253\u5f00\u547d\u4ee4\u884c\uff0c\u4e4b\u540e\u8f93\u5165\u767b\u5f55 sql\u8bed\u53e5\u5373\u53ef\u3002 \uff083\uff09\u5728mysql\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2aini\u6216cnf\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u8fd9\u91cc \u6211\u521b\u5efa\u7684\u662fini\u914d\u7f6e\u6587\u4ef6\uff0c\u91cc\u9762\u5199\u7684\u4ee3\u7801\u662fmysql\u7684\u4e00\u4e9b\u57fa\u672c\u914d \u7f6e [mysqld] character-set-server=utf8mb4 bind-address=0.0.0.0 port=3306 default-storage-engine=INNODB [mysql] default-character-set=utf8mb4 [client] default-character-set=utf8mb4 \u5c31\u8fd9\u6837\uff0c\u4e00\u4e2a\u514d\u5b89\u88c5\u7248\u7684Mysql\u5c31\u5b89\u88c5\u5e76\u914d\u7f6e\u5b8c\u6210\u4e86 3.1.3.4\u3001\u53ef\u80fd\u4f1a\u51fa\u73b0\u7684\u95ee\u9898 \uff081\uff09\"\u7531\u4e8e\u627e\u4e0d\u5230MSVCR120.dll\uff0c\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u4ee3\u7801\u3002\u91cd\u65b0\u5b89\u88c5\u7a0b \u5e8f\u53ef\u80fd\u4f1a\u89e3\u51b3\u6b64\u95ee\u9898\" \u6216\u8005 \"\u7531\u4e8e\u627e\u4e0d\u5230 VCRUNTIME140_1.dll\uff0c\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u4ee3\u7801\u3002\u91cd\u65b0\u5b89\u88c5\u7a0b\u5e8f\u53ef \u80fd\u4f1a\u89e3\u51b3\u6b64\u95ee\u9898\" \uff082\uff09\u547d\u4ee4\u53c2\u8003: \u5b89\u88c5\u670d\u52a1:mysqld --install \u521d\u59cb\u5316:mysqld --initialize --console \u5f00\u542f\u670d\u52a1:net start mysql \u5173\u95ed\u670d\u52a1:net stop mysql \u767b\u5f55 mysql :mysql -u root -p Enter PassWord:(\u5bc6\u7801) \u4fee\u6539\u5bc6\u7801:alter user 'root'@'localhost' identified by 'root';(by \u63a5\u7740\u7684\u662f\u5bc6\u7801) \u6807\u8bb0\u5220\u9664 mysql \u670d\u52a1:sc delete mysql 3.1.4 Mysql\u7eff\u8272\u7248\u5378\u8f7d 3.1.4.1\u3001\u5173\u95edMysql\u670d\u52a1 \u5173\u95ed\u670d\u52a1\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u884c,\u4e5f\u53ef\u4ee5\u5728\u300c\u4efb\u52a1\u7ba1\u7406\u5668\u300d\u7684\u300c\u670d\u52a1\u300d\u91cc\u8fdb\u884c\u5173\u95ed\uff0c\u4e5f\u53ef\u4ee5\u7528\u547d\u4ee4\u884c\u5173\u95ed \u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884c\u547d\u4ee4\u884c\uff08cmd\uff09: net stop mysql 3.1.4.2\u3001\u5220\u9664Mysql\u7684\u6ce8\u518c\u8868 (1) Win+R\u6253\u5f00\u8fd0\u884c\u754c\u9762\uff0c\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 regedit \u8fdb\u5165\u7cfb\u7edf\u6ce8\u518c\u8868\u7a97\u53e3 (2) \u5206\u522b\u5728\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u627e\u5230 MySQL \u7684\u6ce8\u518c\u8868\uff0c\u9f20\u6807\u53f3\u952e\u76f4\u63a5\u5220\u9664MySQL\u76ee\u5f55\u4e2d\u7684 EventMessageFile \u548c TypesSupported \u4e24\u4e2a\u6587\u4ef6\u5c31\u597d\u4e86,\u5982\u679c\u5bf9\u5e94\u7684\u76ee\u5f55\u4e2d\u6ca1\u6709,\u5c31\u4e0d\u7528\u5220\u9664\u4e86\uff0c\u4e5f\u53ef\u4ee5\u641c\u7d22\u6ce8\u518c\u8868: \u5728\u7cfb\u7edf\u6ce8\u518c\u8868\u7a97\u53e3\u9009\u62e9\u300c\u7f16\u8f91\u300d \u2014 \u9009\u62e9\u300c\u67e5\u627e\u300d \u2014 \u8f93\u5165 \u300cMySQL\u300d\u8fdb\u884c\u67e5\u627e,\u5c06\u627e\u5230\u7684MySQL\u76ee\u5f55\u4e2d\u7684 EventMessageFile \u548c TypesSupported \u4e24\u4e2a\u6587\u4ef6\u8fdb\u884c\u5220\u9664 HKEY_LOCAL_MACHINE/SYSTEM/ControlSet001/Services/Eventlog/Application/MySQLHKEY_LOCAL_MACHINE/SYSTEM/ControlSet002/Services/Eventlog/Application/MySQLHKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Services/Eventlog/Application/MySQL 3.1.4.3\u3001\u79fb\u9664Mysql\u670d\u52a1 (1) \u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u4f7f\u7528\u547d\u4ee4\u884c(cmd)\u8fdb\u5165MySQL\u7684 bin \u76ee\u5f55\u4e0b (2) \u6267\u884c\u79fb\u9664 MySQL\u670d\u52a1\u7684\u547d\u4ee4 : mysqld -remove (3) \u5f53\u770b\u5230\u6709Service successfully removed\u65f6\uff0c\u5219\u8868\u793a\u79fb\u9664Mysql\u670d\u52a1\u6210\u529f 3.1.4.4\u3001\u5220\u9664Mysql\u6587\u4ef6 \u5c06Mysql\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664\u5373\u53ef OK,\u81f3\u6b64,MySQL\u7eff\u8272\u7248\u5378\u8f7d\u5de5\u4f5c\u5168\u90e8\u5b8c\u6210. \u63a5\u4e0b\u6765\u662fMySQL\u7684\u56fe\u5f62\u5316\u754c\u9762\u5de5\u5177. \u63a8\u8350\u7528Navicat. \u597d\u591a\u5e74\u4e86, \u5f88\u597d\u7528. \u5b89\u88c5\u7684\u65f6\u5019\u4e00\u8def\u786e\u5b9a. 2\u3001Mac\u5b89\u88c5 Mac\u5b89\u88c5MySQL 1\u3001\u4e0b\u8f7d https://dev.mysql.com/downloads/mysql/ \u4e0b\u8f7d\u5b89\u88c5\u5305\u7248\u672c.dmg \u9700\u8981\u6ce8\u610f\uff0c\u5f53\u524d\u5982\u679c\u662fm\u82af\u7247 \u5219\u4e0b\u8f7dARM\u7684 \u4e0d\u767b\u5f55\u4e0b\u8f7d 2.\u5b89\u88c5 \u6253\u5f00\u4e0b\u8f7d\u597d\u7684.dmg\u6587\u4ef6\uff0c\u518d\u70b9\u51fb\u91cc\u9762\u7684.pkg\u6587\u4ef6\uff0c\u4e4b\u540e\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\uff0c\u70b9\u51fb\u3010\u5141\u8bb8\u3011\uff0c\u5f00\u59cb\u6b63\u5f0f\u5b89\u88c5\u3002 \u70b9\u51fb\u5141\u8bb8 \u4e00\u8def\u70b9\u51fb\u7ee7\u7eed\u5230Configuration\uff0cConfiguration\u9875\u9762\u6709\u4e24\u4e2a\u9009\u62e9\uff1a \u4f7f\u7528\u5f3a\u5bc6\u7801\u52a0\u5bc6\u3002MySQL 8\u652f\u6301\u57fa\u4e8eSHA256\u7684\u66f4\u5f3a\u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u6240\u6709\u65b0\u5b89\u88c5\u7684mysql server\u5efa\u8bae\u4f7f\u7528\u8fd9\u4e2a\u65b9\u5f0f\u3002clients\u6216connectors\u5982\u679c\u4e0d\u652f\u6301\u8fd9\u4e2a\u65b9\u5f0f\uff0c\u5c31\u4e0d\u80fd\u8fde\u63a5\u5230\u8fd9\u4e2amysql server\u3002 \u4f7f\u7528\u4f20\u7edf\u5bc6\u7801\u52a0\u5bc6\u3002\u5f53\u9700\u8981\u4e0eMySQL 5.x\u8fde\u63a5\u5668\u548c\u5ba2\u6237\u7aef\u517c\u5bb9\u4e14\u5ba2\u6237\u7aef\u5347\u7ea7\u4e0d\u53ef\u884c\u65f6\uff0c\u5e94\u4f7f\u7528\u4f20\u7edf\u8eab\u4efd\u9a8c\u8bc1\u65b9\u6cd5 \u53ef\u4ee5\u6839\u636e\u9700\u6c42\u9009\u62e9\u5bc6\u7801\u52a0\u5bc6\u7684\u65b9\u5f0f\uff1a\u5982\u679c\u662f\u56e0\u4e3a\u65b0\u5b89\u88c5\u7684\uff0c\u5c31\u9009\u62e9\u5f3a\u5bc6\u7801\u52a0\u5bc6\uff1b\u5982\u679c\u60f3\u8981\u517c\u5bb9MySQL 5.x\u7684\uff0c\u5c31\u9009\u62e9\u4f20\u7edf\u5bc6\u7801\u52a0\u5bc6\u3002 \u8fd9\u91cc\u8bbe\u7f6e8\u4f4d\u5bc6\u7801\u3002\u4ed6\u5efa\u8bae\u6211\u4eec\u8bbe\u7f6e\u6709\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u5176\u4ed6\u7b26\u53f7\u6df7\u5408\u7684\u5bc6\u7801\u3002\u8fd9\u91cc\u8bbe\u7f6e\u7684\u5bc6\u7801\u7528\u4e8e\u4ee5\u540e\u767b\u5f55\uff0c\u4e0d\u8981\u5fd8\u8bb0\u4e86\u3002 \u6700\u597d\u5bc6\u7801\u8bbe\u7f6e\u4e3a\uff1a12345678 \u5230\u8fd9\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u5b89\u88c5\u5b8cMySQL\u4e86\u3002 \u6253\u5f00\u7cfb\u7edf\u8bbe\u7f6e\uff0c\u53d1\u73b0MySQL\u4e0d\u4ec5\u5b89\u88c5\u6210\u529f\uff0c\u8fd8\u6b63\u5728\u8fd0\u884c 3. \u914d\u7f6e \u6253\u5f00\uff5e/.zshrc\u6587\u4ef6\uff0c\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\u3002\u4fdd\u5b58\u9000\u51fa\u3002\u5e76\u8ba9\u73af\u5883\u53d8\u91cf\u9a6c\u4e0a\u751f\u6548\u3002\u6700\u540e\u67e5\u770b\u4e00\u4e0bmysql\u7684\u7248\u672c\uff0c\u5982\u679c\u51fa\u73b0\u7248\u672c\uff0c\u5c31\u8bf4\u660e\u914d\u7f6e\u6210\u529f\u3002 vim ~/.zshrc \u8f93\u5165\u5f53\u524d\u5185\u5bb9 \u914d\u7f6e\u73af\u5883\u53d8\u91cf #mysql export MYSQL_HOME=/usr/local/mysql export PATH=$MYSQL_HOME/bin:$PATH 4. \u8fdb\u5165MySQL \u4f7f\u7528\u5148\u524d\u8bbe\u7f6e\u7684\u5bc6\u7801\u767b\u5f55\u3002 mysql -u root -p 3\u3001Navicat\u4f7f\u7528 \u54e6\u4e86, \u81f3\u6b64, Navicat\u53ef\u4ee5\u64cd\u7eb5\u4f60\u7684\u6570\u636e\u5e93\u4e86. \u56db\u3001\u8fdb\u5165\u5230MySQL\u6570\u636e\u5e93 1\u3001\u7b80\u5355\u6a21\u5f0f C:\\Users\\xlg>mysql -uroot -p Enter password: ****** 2\u3001\u6807\u51c6\u6a21\u5f0f C:\\Users\\xlg>mysql -h127.0.0.1 -uroot -p mysql -hlocalhost -uroot -p 3\u3001\u53c2\u6570\u6240\u4ee3\u8868\u7684\u542b\u4e49\uff1a h:host \u4e3b\u673a\uff08localhost IPV4 127.0.0.1\uff09 u:root \u7528\u6237 p:password \u5bc6\u7801 \u4e94\u3001\u5bf9\u4e8eMySQL\u6570\u636e\u5e93\u7684\u64cd\u4f5c 1\u3001\u5bf9\u4e8e\u5e93\u4e0e\u8868\u8fdb\u884c\u64cd\u4f5c \u67e5\u770b\u6240\u6709\u7684\u6570\u636e\u5e93 show databases; \u9009\u62e9\u6570\u636e\u5e93 use \u5e93\u540d \u67e5\u770b\u5f53\u524d\u5e93\u4e0b\u6709\u54ea\u4e9b\u8868 show tables; \u67e5\u770b\u5f53\u524d\u6240\u5728\u5e93 select database(); \u521b\u5efa\u6570\u636e\u5e93 create database \u5e93\u540d; \u67e5\u770b\u521b\u5efa\u5e93\u4fe1\u606f show create database \u5e93\u540d; \u5220\u9664\u5e93/\u8868 drop database \u5e93\u540d; drop table \u8868\u540d; \u521b\u5efa\u5e93\u5e76\u8bbe\u7f6e\u5b57\u7b26\u7f16\u7801 create database lucky character set utf8; \u67e5\u770b\u8868\u7ed3\u6784 desc \u8868\u540d; \u67e5\u770b\u521b\u5efa\u8868\u8bed\u53e5 show create table lucky; \u64a4\u9500\u5f53\u524d\u547d\u4ee4 \\c \u6570\u636e\u5e93\u7684\u9000\u51fa \\q exit quit 2\u3001\u6ce8\u610f MySQL\u547d\u4ee4\u4ee5\u82f1\u6587\u7684\u5206\u53f7\u4f5c\u4e3a\u7ed3\u675f SQL\u547d\u4ee4\u4e0d\u533a\u5206\u5927\u5c0f\u5199 \u5728\u8fdb\u5165\u5230\u4e00\u4e2a\u6570\u636e\u5e93\u4e2d\u5728\u8fdb\u5165\u5230\u53e6\u5916\u4e00\u4e2a\u7684\u65f6\u5019 \u4e0d\u9700\u8981\u9000\u51fa\u6570\u636e\u5e93 \u800c\u662f\u4f7f\u7528use\u518d\u6b21\u8fdb\u884c\u6570\u636e\u5e93\u7684\u5207\u6362 windows\u4e0b\u8868\u540d\u5e93\u540d\u4e0d\u533a\u5206\u5927\u5c0f\u5199 Linux\u4e0b\u4e25\u683c\u533a\u5206 MySQL\u6570\u636e\u5e93\u7684\u540d\u79f0\u5177\u6709\u552f\u4e00\u6027 \u6bcf\u4e2a\u5e93\u4e2d\u7684\u8868\u7684\u540d\u79f0\u4e5f\u5177\u6709\u552f\u4e00\u6027(\u5e93\u540d\u6216\u8005\u4e00\u4e2a\u5e93\u4e2d\u7684\u8868\u540d\u4e0d\u8981\u51fa\u73b0\u76f8\u540c\u7684\u540d\u79f0) \u5f53\u5728\u8f93\u5165\u547d\u4ee4\u7684\u65f6\u5019\u8f93\u5165\u5b8c\u4ee5\u540e \u6dfb\u52a0\u5206\u53f7\u4e0d\u80fd\u6267\u884c\u547d\u4ee4 \u90a3\u4e48\u67e5\u770b\u4e00\u4e0b\u5de6\u4fa7\u662f\u5426\u5b58\u5728\u5f15\u53f7\u6ca1\u6709\u95ed\u5408\u7684\u60c5\u51b5 \u516d. \u8868\u7684\u64cd\u4f5c 1\u3001\u8868\u7684\u6982\u5ff5 \u5728\u6240\u6709\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d, \u6240\u6709\u7684\u6570\u636e\u90fd\u662f\u4ee5\u8868\u683c\u7684\u5f62\u5f0f\u8fdb\u884c\u5b58\u50a8\u7684. \u90a3\u8868\u683c\u5e94\u8be5\u5982\u4f55\u8fdb\u884c\u8bbe\u8ba1\u5462? \u5176\u5b9e\u8fd9\u91cc\u8574\u542b\u4e86\u4e00\u4e2a\u6620\u5c04\u5173\u7cfb\u7684. \u6bd4\u5982, \u6211\u4eec\u60f3\u8981\u5b58\u5b66\u751f\u4fe1\u606f. \u90a3\u6211\u4eec\u5148\u601d\u8003. \u5728\u4f60\u672a\u6765\u7684\u89c4\u5212\u4e2d, \u4e00\u4e2a\u5b66\u751f\u5e94\u8be5\u4f1a\u6709\u54ea\u4e9b\u6570\u636e\u5b58\u5728? \u5b66\u751f: \u5b66\u53f7(\u552f\u4e00\u6807\u8bc6), \u59d3\u540d, \u751f\u65e5, \u5bb6\u5ead\u4f4f\u5740, \u7535\u8bdd\u53f7\u7b49\u4fe1\u606f. OK. \u6211\u4eec\u629b\u5f00\u6570\u636e\u5e93\u4e0d\u8c08. \u60f3\u8981\u5b58\u50a8\u8fd9\u4e9b\u6570\u636e, \u8868\u683c\u521b\u5efa\u8d77\u6765\u7684\u8bdd\u5e94\u8be5\u662f\u662f\u8fd9\u6837\u7684: OK. \u6309\u7167\u8fd9\u4e2a\u89c4\u5219\u6765\u770b. \u6bcf\u4e00\u6761\u6570\u636e\u5bf9\u5e94\u7684\u5c31\u662f\u4e00\u4e2a\u4eba\u7684\u4fe1\u606f. 2\u3001\u521b\u5efa\u8868 \u521b\u5efa\u8868\u6709\u4e24\u79cd\u65b9\u6848: \u7528SQL\u8bed\u53e5\u521b\u5efa\u8868\u683c sql create table student( sno int(10) primary key auto_increment, sname varchar(50) not null, sbirthday date not null, saddress varchar(255), sphone varchar(12), class_name varchar(50) ) \u6570\u636e\u7c7b\u578b: int \u6574\u6570 double\u5c0f\u6570 varchar \u5b57\u7b26\u4e32 date \u65f6\u95f4(\u5e74\u6708\u65e5) datetime \u65f6\u95f4(\u5e74\u6708\u65e5\u65f6\u5206\u79d2) text \u5927\u6587\u672c \u200b \u7ea6\u675f\u6761\u4ef6: primary key \u4e3b\u952e, \u5168\u8868\u552f\u4e00\u503c. \u5c31\u50cf\u5b66\u53f7. \u8eab\u4efd\u8bc1\u53f7. \u80fd\u591f\u552f\u4e00\u7684\u786e\u5b9a\u4e00\u6761\u6570\u636e auto_increment \u4e3b\u952e\u81ea\u589e. not null \u4e0d\u53ef\u4ee5\u4e3a\u7a7a. null \u53ef\u4ee5\u4e3a\u7a7a default \u8bbe\u7f6e\u9ed8\u8ba4\u503c \u200b \u7528Navicat\u56fe\u5f62\u5316\u5de5\u5177\u6765\u521b\u5efa \u4e03\u3001MySQL\u8868\u7684\u521b\u5efa \u5b57\u6bb5\u7c7b\u578b 1\u3001\u6570\u503c\u7c7b\u578b \u7c7b\u578b \u5927\u5c0f \u8303\u56f4(\u6709\u7b26\u53f7) \u8303\u56f4(\u65e0\u7b26\u53f7) \u7528\u9014 tinyint 1\u5b57\u8282 \uff08-128,127\uff09 \uff080,255\uff09 \u5c0f\u6574\u6570\u503c int 4\u5b57\u8282 \uff08-2147483648, 2147483647) (0,4294967295) \u5927\u6574\u6570\u503c float 4\u5b57\u8282 \u5355\u7cbe\u5ea6\u6d6e\u70b9\u578b double 8\u5b57\u8282 \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u578b \u521b\u5efa\u8868\u8bed\u53e5 mysql> create table testnum( -> ttinyint tinyint, -> tint int, -> tfloat float(6,2), -> tdouble double(6,2), -> ); \u521b\u5efa\u8868\u7684\u4e3b\u4f53\u7ed3\u6784\uff1a create table if not exists \u8868\u540d( \u5b57\u6bb5\u540d\u79f0 \u5b57\u6bb5\u7c7b\u578b \u7ea6\u675f\u6761\u4ef6 \u5b57\u6bb5\u8bf4\u660e, \u5b57\u6bb5\u540d\u79f0 \u5b57\u6bb5\u7c7b\u578b \u7ea6\u675f\u6761\u4ef6 \u5b57\u6bb5\u8bf4\u660e, ... ) \u8868\u63d2\u5165\u6570\u636e\u8bed\u53e5 \u6307\u5b9a\u5b57\u6bb5\u540d\u79f0\u63d2\u5165\u503c insert into \u8868\u540d(\u5b57\u6bb51,\u5b57\u6bb52...) values(\u503c1,\u503c2...) \u4e0d\u6307\u5b9a\u5b57\u6bb5\u63d2\u5165\u4e4b insert into \u8868\u540d values(\u503c1,\u503c2...) 2\u3001\u5b57\u7b26\u4e32\u7c7b\u578b \u7c7b\u578b \u5927\u5c0f \u7528\u9014 char 0-255\u5b57\u8282 \u5b9a\u957f\u5b57\u7b26\u4e32 varchar 0-255\u5b57\u8282 \u53d8\u957f\u5b57\u7b26\u4e32 text 0-65535\u5b57\u8282 \u957f\u6587\u672c\u6570\u636e longtext 0-4294697295\u5b57\u8282 \u6781\u5927\u6587\u672c\u6570\u636e \u5b57\u7b26\u4e32\u7c7b\u578b\u6ce8\u610f\u4e8b\u9879\uff1a 1) char\u548cvarchar\u7684\u533a\u522b char\u6267\u884c\u6548\u7387\u9ad8\u4e8evarchar \uff08\u4f46\u5360\u7528\u7a7a\u95f4\u5927\uff09 varchar\u76f8\u5bf9\u4e8echar\u8282\u7701\u7a7a\u95f4 char\u548cvarchar \u7c7b\u578b\u7684\u957f\u5ea6\u8303\u56f4\u90fd\u57280-255\u4e4b\u95f4 varchar\u7c7b\u578b\u4f20\u5165\u7684\u503c\u5c0f\u4e8e\u7ed9\u5b9a\u7684\u957f\u5ea6 \u4e0d\u4f1a\u4f7f\u7528\u7a7a\u683c\u586b\u5145 \u4e03\u3001INSERT \u6570\u636e\u7684\u6dfb\u52a0 \u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u503c insert into \u8868\u540d(\u5b57\u6bb51,\u5b57\u6bb52....) values(\u503c1,\u503c2...) insert into user(sex,username) values(0,'lucky'); \u4e0d\u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u503c insert into \u8868\u540d values(\u503c1,\u503c2...) insert into user values(null,0,'lucky','\u6211\u662flucky\u8001\u5e08'); \u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u591a\u4e2a\u503c insert into \u8868\u540d(\u5b57\u6bb51,\u5b57\u6bb52....) values(\u503c1,\u503c2...),(\u503c1,\u503c2...)... insert into user(sex,username) values(1,'\u82cd\u82cd'),(0,'\u84b9\u846d'); \u4e0d\u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u591a\u4e2a\u503c insert into \u8868\u540d values(\u503c1,\u503c2...),(\u503c1,\u503c2...)... insert into user values(null,1,'xxx','xxx'),(null,0,'xxl','xxl'); \u6ce8\u610f\u4e8b\u9879\uff1a \u6307\u5b9a\u5b57\u6bb5\u4e0e\u4e0d\u6307\u5b9a\u5b57\u6bb5\u5728\u6dfb\u52a0\u503c\u7684\u65f6\u5019 \u6309\u7167\u4ece\u5de6\u81f3\u53f3\u4f9d\u6b21\u5bf9\u5e94\u7ed9\u503c \u516b\u3001SELECT\u67e5\u8be2 \u4e0d\u6307\u5b9a\u5b57\u6bb5\u7684\u67e5\u8be2\uff08\u4e0d\u5efa\u8bae\uff09 select * from \u8868\u540d \u6307\u5b9a\u5b57\u6bb5\u7684\u6570\u636e\u67e5\u8be2(\u5efa\u8bae) select \u5b57\u6bb5\u540d1,\u5b57\u6bb5\u540d2... from \u8868\u540d select username,userinfo from user; \u5bf9\u67e5\u8be2\u7684\u5b57\u6bb5\u8d77\u522b\u540d select username as u from user; select username u from user; \u4e5d\u3001UPDATE\u4fee\u6539 \u4fee\u6539\u4e00\u4e2a\u5b57\u6bb5\u7684\u503c update \u8868\u540d set \u5b57\u6bb5\u540d=\u503c; update user set username='\u5e05\u6c14\u7684lucky' where id = 3; \u4fee\u6539\u591a\u4e2a\u5b57\u6bb5\u7684\u503c update \u8868\u540d set \u5b57\u6bb5\u540d1=\u503c1,\u5b57\u6bb5\u540d2=\u503c2...; update user set sex=0,userinfo='xxx\u7684\u4e2a\u4eba\u7b80\u4ecb' where id=7; \u7ed9\u5b57\u6bb5\u7684\u503c\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a\u6539\u53d8\u503c update user set sex=sex+2; \u6ce8\u610f\uff1a \u5728\u8fdb\u884c\u6570\u636e\u7684\u4fee\u6539\u7684\u65f6\u5019 \u4e00\u5b9a\u8bb0\u5f97\u7ed9\u5b9awhere\u6761\u4ef6 \u5982\u679c\u6ca1\u6709\u7ed9\u5b9awhere\u6761\u4ef6 \u5219\u4fee\u6539\u7684\u4e3a\u6574\u5f20\u8868\u5f53\u524d\u5b57\u6bb5\u7684\u503c \u5341\u3001DELETE \u5220\u9664 \u4e3b\u4f53\u7ed3\u6784\uff1a delete from \u8868\u540d [where ...] \u5b9e\u4f8b\uff1a delete from user; \u5220\u9664user\u8868\u4e2d\u6240\u6709\u7684\u6570\u636e \u6ce8\u610f\uff1a \u5220\u9664 \u4e00\u5b9a\u6ce8\u610f\u6dfb\u52a0 where \u6761\u4ef6 \u5426\u5219\u4f1a\u5220\u9664\u6574\u5f20\u8868\u4e2d\u7684\u6570\u636e \u5e76\u4e14auto_increment\u81ea\u589e\u6240\u8bb0\u5f55\u7684\u503c\u4e0d\u4f1a\u6539\u53d8 \u6240\u4ee5\u9700\u8981\u5c06\u81ea\u589e\u5f52\u4f4d truncate \u8868\u540d; \u6e05\u7a7a\u8868\u6570\u636e \u5341\u4e00\u3001WHERE\u6761\u4ef6 \u5b9e\u4f8b\u8868\u7ed3\u6784\uff1a +----------+-------------+------+-----+-----------------------+----------------+ | Field | Type | Null | Key | Default | Extra | +----------+-------------+------+-----+-----------------------+----------------+ | id | int(11) | NO | PRI | NULL | auto_increment | | sex | tinyint(4) | NO | | 1 | | | username | varchar(20) | YES | | NULL | | | age | tinyint(4) | NO | | 18 | | | userinfo | varchar(50) | NO | | \u6211\u662f\u5e05\u6c14\u7684lucky\u8001\u5e08\u554a | | +----------+-------------+------+-----+-----------------------+----------------+ (1) \u6bd4\u8f83\u8fd0\u7b97\u7b26 > \u5c06id\u5927\u4e8e5 \u7684\u6027\u522b \u66f4\u6539\u4e3a0 \u5e74\u9f84\u6539\u4e3a20\u5c81 update user set sex=0,age=20 where id>5; < \u5c06id\u5c0f\u4e8e3 \u7684\u6027\u522b \u66f4\u6539\u4e3a0 \u5e74\u9f84\u6539\u4e3a23\u5c81 update user set sex=0,age=23 where id<3; \u67e5\u770bid\u5c0f\u4e8e4\u7684 \u6027\u522b\u548c\u7528\u6237\u540d\u7684\u5b57\u6bb5\u6570\u636e select sex,username from user where id<4; >= \u5220\u9664 id\u5927\u4e8e\u7b49\u4e8e6\u7684\u6570\u636e delete from user where id>=6; <= \u67e5\u8be2\u5e74\u9f84\u5c0f\u4e8e\u7b49\u4e8e23\u7684\u6570\u636e select * from user where age<=23; = \u67e5\u8be2\u6027\u522b\u4e3a0\u7684\u6570\u636e select * from user where sex=0; !=/<> \u67e5\u8be2 \u7528\u6237\u540d\u4e0d\u7b49\u4e8elucky\u7684\u6240\u6709\u6570\u636e select * from user where username!='lucky'; select * from user where username<>'lucky'; (2) \u903b\u8f91\u8fd0\u7b97\u7b26 and \u903b\u8f91\u4e0e \u4fe9\u4fa7\u4e3a\u771f\u7ed3\u679c\u4e3a\u771f \u67e5\u8be2\u5e74\u9f84\u572818\u523023\u4e4b\u95f4 \u4e0d\u5305\u62ec\u672c\u8eab select * from user where age>18 and age<23; \u4fee\u6539\u5e74\u9f84\u4e3a30 id\u5927\u4e8e1 \u5c0f\u4e8e\u7b49\u4e8e2 update user set age=30 where id>1 and id<=2; or \u903b\u8f91\u6216\u8fd0\u7b97 \u4fe9\u4fa7\u6761\u4ef6\u6ee1\u8db3\u4e00\u4fa7\u5c31\u53ef\u4ee5 select * from user where age=10 or age=30; select * from user where age>=10 or age<=30; (3) order by \u6392\u5e8f \u5347\u5e8f/\u964d\u5e8f \u5347\u5e8f \u67e5\u8be2\u6570\u636e \u6309\u7167\u5e74\u9f84\u5347\u5e8f\uff08\u9ed8\u8ba4\uff09 select * from user order by age; select * from user order by age asc; \u67e5\u8be2\u6570\u636e \u6309\u7167\u5e74\u9f84\u964d\u5e8f select * from user order by age desc; (4) limit \u53d6\u503c \u7ed3\u6784\uff1a limit x \u53d6\u51fax\u6761\u6570\u636e limit x,y \u4ecex\u7684\u4f4d\u7f6e\u53d6\u51fay\u6761\u6570\u636e \u53d6\u51fa3\u6761\u6570\u636e select * from user limit 3; \u53d6\u51fa\u5e74\u9f84\u6700\u5927/\u6700\u5c0f\u7684\u4e00\u6761\u6570\u636e select * from user order by age desc limit 1; select * from user order by age limit 1; (6) like \u6a21\u7cca\u67e5\u8be2 \u2019%\u5b57\u7b26\u2018 \u67e5\u8be2\u4ee5\u5b57\u7b26\u7ed3\u5c3e\u7684\u6570\u636e \u67e5\u8be2\u4ee5\u4e09\u5b57\u4e3a\u7ed3\u675f\u7684username\u7684\u6570\u636e select * from user where username like '%\u4e09'; '\u5b57\u7b26%' \u67e5\u8be2\u4ee5\u5b57\u7b26\u5f00\u5934\u7684\u6570\u636e select * from user where username like '\u8d75%'; '%\u5b57\u7b26%' \u67e5\u8be2\u5305\u542b\u5b57\u7b26\u7684\u6570\u636e \u67e5\u8be2 userinfo\u4e2d\u5305\u542blucky\u7684\u6570\u636e select * from user where userinfo like '%lucky%'; \u5341\u4e8c\u3001 \u805a\u5408\u51fd\u6570 count \u7edf\u8ba1\u4e2a\u6570 max \u6700\u5927\u503c min \u6700\u5c0f\u503c Sum \u6c42\u548c avg \u6c42\u5e73\u5747\u6570 select count(*) as count,max(age),min(age),avg(age),sum(age) from user; \u5341\u4e09\u3001 \u6570\u636e\u5e93\u7684\u5bfc\u5165\u5bfc\u51fa \u5bfc\u5165 mysql -uroot -p \u5e93\u540d<demo.sql \u5bfc\u51fa mysqldump -uroot -p \u5e93\u540d>demo.sql dro \u5341\u56db\u3001Python\u64cd\u4f5cMySQL \u5b89\u88c5\uff1a pip install pymysql; \u4f7f\u7528\uff1a import pymysql (1) \u94fe\u63a5MySQL\u6570\u636e\u5e93 db = pymysql.connect(\u4e3b\u673a\u540d,\u7528\u6237\u540d,\u5bc6\u7801,\u6570\u636e\u5e93\u540d) db = pymysql.connect(host='localhost', user='root', password='123456', database='test') (2) \u8bbe\u7f6e\u5b57\u7b26\u96c6 db.set_charset('utf8') (3) \u521b\u5efa\u6e38\u6807\u5bf9\u8c61 cursor = db.cursor() (4) \u6267\u884cSQL\u8bed\u53e5 cursor.execute(sql\u8bed\u53e5) (5) \u83b7\u53d6\u7ed3\u679c\u96c6 \u83b7\u53d6\u6240\u6709 cursor.fetchall() \u83b7\u53d6\u4e00\u6761 cursor.fetchone() (6) \u83b7\u53d6\u53d7\u5f71\u54cd\u7684\u884c\u6570 cursor.rowcount (7) \u4e8b\u7269 pymysql\u9ed8\u8ba4\u5f00\u542f\u4e86\u4e8b\u7269\u5904\u7406 \u6240\u4ee5\u5728\u6dfb\u52a0\u6570\u636e\u7684\u65f6\u5019 \u9700\u8981commit \u6216\u8005rollback \u5b9e\u4f8b\uff1a try: sql = 'insert into user values(null,1,\"\u66f9\u64cd\",100,\"\u66f9\u64cd\u7b2c\u4e00\u5978\u96c4\",\"\u9b4f\u56fd\")' print(sql) cursor.execute(sql) db.rollback() except: db.commit() \u5bf9\u4e8e\u652f\u6301\u4e8b\u52a1\u7684\u6570\u636e\u5e93\uff0c \u5728Python\u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\uff0c\u5f53\u6e38\u6807\u5efa\u7acb\u4e4b\u65f6\uff0c\u5c31\u81ea\u52a8\u5f00\u59cb\u4e86\u4e00\u4e2a\u9690\u5f62\u7684\u6570\u636e\u5e93\u4e8b\u52a1\u3002 commit()\u65b9\u6cd5\u6e38\u6807\u7684\u6240\u6709\u66f4\u65b0\u64cd\u4f5c\uff0crollback\uff08\uff09\u65b9\u6cd5\u56de\u6eda\u5f53\u524d\u6e38\u6807\u7684\u6240\u6709\u64cd\u4f5c\u3002\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u90fd\u5f00\u59cb\u4e86\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\u3002 (8) \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db.close() (9) \u62fc\u51d1\u6b63\u5e38\u5b8c\u6574\u7684sql\u8bed\u53e5 print(\"select name,password from user where name=\\\"\"+username+\"\\\"\") print(\"select name,password from user where name='\"+username+\"'\") print(\"select name,password from user where name='%s'\"%(username)) print(\"select name,password from user where name='{}'\".format(username)) print(f\"select name,password from user where name='{username}'\")","title":"\u5341\u4e8c\u3001MySQL\u6570\u636e\u5e93"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#mysql","text":"","title":"\u5341\u4e8c\u3001MySQL\u6570\u636e\u5e93"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#mysql_1","text":"","title":"\u4e00\u3001MySQL\u6570\u636e\u5e93\u7684\u4ecb\u7ecd"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1","text":"1996\u5e74\uff0cMySQL 1.0 2008\u5e741\u670816\u53f7 Sun\u516c\u53f8\u6536\u8d2dMySQL\u3002 2009\u5e744\u670820\uff0cOracle\u6536\u8d2dSun\u516c\u53f8\u3002 MySQL \u662f\u4e00\u79cd \u5f00\u653e\u6e90\u4ee3\u7801 \u7684\u5173\u7cfb\u578b \u6570\u636e\u5e93\u7ba1\u7406 \u7cfb\u7edf\uff08RDBMS\uff09\uff0c\u4f7f\u7528\u6700\u5e38\u7528\u7684\u6570\u636e\u5e93\u7ba1\u7406\u8bed\u8a00-- \u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00 \uff08SQL\uff09\u8fdb\u884c\u6570\u636e\u5e93\u7ba1\u7406\u3002 MySQL\u662f\u5f00\u653e\u6e90\u4ee3\u7801\u7684\uff0c\u56e0\u6b64\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u5728General Public License\u7684\u8bb8\u53ef\u4e0b\u4e0b\u8f7d\u5e76\u6839\u636e\u4e2a\u6027\u5316\u7684\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002 MySQL\u56e0\u4e3a\u5176\u901f\u5ea6\u3001\u53ef\u9760\u6027\u548c\u9002\u5e94\u6027\u800c\u5907\u53d7\u5173\u6ce8\u3002\u5927\u591a\u6570\u4eba\u90fd\u8ba4\u4e3a\u5728\u4e0d\u9700\u8981 \u4e8b\u52a1 \u5316\u5904\u7406\u7684\u60c5\u51b5\u4e0b\uff0cMySQL\u662f\u7ba1\u7406\u5185\u5bb9\u6700\u597d\u7684\u9009\u62e9\u3002","title":"1\u3001\u53d1\u5c55\u53f2"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2mysql","text":"MySQL\u662f\u4e00\u4e2a \u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf \uff0c\u7531\u745e\u5178MySQLAB \u516c\u53f8\u5f00\u53d1\uff0c\u76ee\u524d\u5c5e\u4e8e Oracle \u65d7\u4e0b\u4ea7\u54c1\u3002MySQL\u662f\u6700\u6d41\u884c\u7684 \u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf \u4e4b\u4e00\uff0c\u5728WEB \u5e94\u7528\u65b9\u9762\uff0cMySQL\u662f\u6700\u597d\u7684 RDBMS (RelationalDatabase Management System\uff0c\u5173\u7cfb\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf)\u5e94\u7528\u8f6f\u4ef6MySQL\u6240\u4f7f\u7528\u7684SQL \u8bed\u8a00\u662f\u7528\u4e8e\u8bbf\u95ee \u6570\u636e\u5e93 \u7684\u6700\u5e38\u7528\u6807\u51c6\u5316\u8bed\u8a00\u3002MySQL\u8f6f\u4ef6\u91c7\u7528\u4e86\u53cc\u6388\u6743\u653f\u7b56\uff0c\u5206\u4e3a\u793e\u533a\u7248\u548c\u5546\u4e1a\u7248\uff0c\u7531\u4e8e\u5176\u4f53\u79ef\u5c0f\u3001\u901f\u5ea6\u5feb\u3001\u603b\u4f53\u62e5\u6709\u6210\u672c\u4f4e\uff0c\u5c24\u5176\u662f \u5f00\u653e\u6e90\u7801 \u8fd9\u4e00\u7279\u70b9\uff0c\u4e00\u822c\u4e2d\u5c0f\u578b\u7f51\u7ad9\u7684\u5f00\u53d1\u90fd\u9009\u62e9MySQL \u4f5c\u4e3a\u7f51\u7ad9\u6570\u636e\u5e93","title":"2\u3001MySQL\u7b80\u4ecb"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3","text":"\u4e3b\u8981\u7684\u533a\u522b\u6709\u4ee5\u4e0b\u4e24\u70b9\u3002 \u4f01\u4e1a\u7248\u53ea\u5305\u542b\u7a33\u5b9a\u4e4b\u540e\u7684\u529f\u80fd\uff0c\u793e\u533a\u7248\u5305\u542b\u6240\u6709Mysql\u7684\u6700\u65b0\u529f\u80fd\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u793e\u533a\u7248\u662f\u4f01\u4e1a\u7248\u7684\u6d4b\u8bd5\u7248\uff0c\u4f46\u662f\uff0c\u524d\u8005\u7684\u529f\u80fd\u8981\u6bd4\u540e\u8005\u591a\u3002 \u5b98\u65b9\u7684\u652f\u6301\u670d\u52a1\u53ea\u9488\u5bf9\u4f01\u4e1a\u7248\uff0c\u7528\u6237\u5728\u4f7f\u7528\u793e\u533a\u7248\u65f6\u51fa\u73b0\u4efb\u4f55\u95ee\u9898\uff0cMysql\u5b98\u65b9\u6982\u4e0d\u8d1f\u8d23\u3002 MySQL\u5982\u4f55\u4e0b\u8f7d \u8fdb\u5165MySQL\u5b98\u7f51\uff08https://www.mysql.com\uff09 \u67e5\u770b\u5e95\u90e8\u4e0b\u8f7d-https://dev.mysql.com/downloads/mysql/","title":"3\u3001\u793e\u533a\u7248\u672c\u548c\u4f01\u4e1a\u7248\u672c\u7684\u533a\u522b"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#_1","text":"\u5173\u7cfb\u578b\u4e0e\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93","title":"\u4e8c\u3001\u6570\u636e\u5e93\u7684\u5206\u7c7b"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1_1","text":"\u590d\u6742\u67e5\u8be2 \u53ef\u4ee5\u7528SQL\u8bed\u53e5\u65b9\u4fbf\u7684\u5728\u4e00\u4e2a\u8868\u4ee5\u53ca\u591a\u4e2a\u8868\u4e4b\u95f4\u505a\u975e\u5e38\u590d\u6742\u7684\u6570\u636e\u67e5\u8be2 \u4e8b\u7269\u652f\u6301 \u4f7f\u5f97\u5bf9\u4e8e\u5b89\u5168\u6027\u80fd\u5f88\u9ad8\u7684\u6570\u636e\u8bbf\u95ee\u8981\u6c42\u5f97\u4ee5\u5b9e\u73b0","title":"1\u3001\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u4f18\u52bf\uff1a"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2","text":"\u6027\u80fd NOSQL\u662f\u57fa\u4e8e\u952e\u503c\u5bf9\u7684 \u53ef\u4ee5\u60f3\u8c61\u6210\u8868\u4e2d\u7684\u4e3b\u952e\u548c\u503c\u7684\u5bf9\u5e94\u5173\u7cfb \u4e0d\u9700\u8981\u7ecf\u8fc7SQL\u5c42\u7684\u89e3\u6790 \u6240\u4ee5\u6027\u80fd\u5f88\u9ad8 \u53ef\u6269\u5c55\u6027 \u540c\u6837\u4e5f\u662f\u4e5f\u56e0\u4e3a\u57fa\u4e8e\u952e\u503c\u5bf9 \u6570\u636e\u4e4b\u95f4\u6ca1\u6709\u5076\u5c14\u6027 \u6240\u4ee5\u975e\u5e38\u5bb9\u6613\u6c34\u5e73\u6269\u5c55","title":"2\u3001\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u4f18\u52bf\uff1a"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#navicat","text":"","title":"\u4e09\u3001\u5b89\u88c5\u4e0eNavicat\u4f7f\u7528"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1mysql","text":"","title":"1\u3001MySQL\u5b89\u88c5"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#312-installer","text":"\u5148\u53bbmysql\u5b98\u7f51\u4e0b\u8f7d\u597d\u5b89\u88c5\u5305. (https://dev.mysql.com/downloads/)","title":"3.1.2 installer\u7684\u5b89\u88c5\u65b9\u5f0f"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#313","text":"\u8bf4\u660e MySQL\u5173\u662f\u4e00\u79cd\u5173\u7cfb\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u6240\u4f7f\u7528\u7684 SQL \u8bed\u8a00\u662f\u7528\u4e8e\u8bbf\u95ee\u6570\u636e\u5e93\u7684\u6700\u5e38\u7528\u7684 \u6807\u51c6\u5316\u8bed\u8a00\uff0c\u5176\u7279\u70b9\u4e3a\u4f53\u79ef\u5c0f\u3001\u901f\u5ea6\u5feb\u3001\u603b\u4f53\u62e5\u6709\u6210\u672c\u4f4e\uff0c\u5c24 \u5176\u662f\u5f00\u653e\u6e90\u7801\u8fd9\u4e00\u7279\u70b9\uff0c\u5728 Web \u5e94\u7528\u65b9\u9762 MySQL \u662f\u6700\u597d\u7684 RDBMS(Relational Database Management System:\u5173\u7cfb\u6570\u636e \u5e93\u7ba1\u7406\u7cfb\u7edf)\u5e94\u7528\u8f6f\u4ef6\u4e4b\u4e00\u3002 \u9996\u5148:\u8981\u5148\u8fdb\u5165mysql\u5b98\u7f51\u91cc(Mysql\u7684\u5b98\u7f51-->https://www.mysql.com/)\uff0c\u4e0b\u9762\u662f\u8be6\u7ec6\u6b65\u9aa4:\u2193","title":"3.1.3 \u514d\u5b89\u88c5\u65b9\u5f0f(\u63a8\u8350)"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3131","text":"\uff081\uff09\u8fdb\u5165\u5b98\u7f51\u540e\uff0c\u70b9\u51fb\"Dowload\"\uff0c\u7136\u540e\u2eda\u9762\u5f80\u4e0b\u62c9 \uff082\uff09\u63a5\u4e0b\u6765\u770b\u5230\u7684\u2eda\u9762\u662f\u8fd9\u6837\u7684\uff0c\u7ea2\u8272\u6846\u6846\u7684\u94fe\u63a5\u5c31\u662f mysql\u793e\u533a\u7248\uff0c\u662f\u514d\u8d39\u7684mysql\u7248\u672c\uff0c\u7136\u540e\u6211\u4eec\u70b9\u51fb\u8fd9\u4e2a\u6846\u6846 \u7684\u94fe\u63a5:\u2193 \uff083\uff09\u63a5\u4e0b\u6765\u8df3\u8f6c\u5230\u8fd9\u4e2a\u2eda\u9762\uff0c\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u53ea\u8981\u4e0b\u8f7d\u793e\u533a \u7248\u7684Server\u5c31\u53ef\u4ee5\u4e86:\u2193 \uff084\uff09\u4e0b\u8f7d\u514d\u5b89\u88c5\u7248(windows\u4ee5\u5916\u7684\u5176\u4ed6\u7cfb\u7edf\u9664\u5916) \u8fd9\u6837\uff0c\u5b89\u88c5\u5305\u5c31\u4e0b\u8f7d\u597d\u4e86! \u6ce8\u610f \uff1a\u5b89\u88c5\u7684\u76ee\u5f55\u5e94\u5f53\u653e\u5728\u6307\u5b9a\u4f4d\u7f6e\uff0c\uff0c\u5176\u6b21\uff0c\u7edd\u5bf9\u8def\u5f84 \u4e2d\u907f\u514d\u51fa\u73b0\u4e2d\u6587\uff0c\u63a8\u8350\u9996\u9009\u82f1\u6587\u4e3a\u547d\u540d\u6761\u4ef6!!!!(\u6211\u7684\u4e3a\u53c2 \u8003)","title":"3.1.3.1\u3001\u4e0b\u8f7d\u5b89\u88c5\u5305"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3132mysql","text":"\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6253\u5f00\u547d\u4ee4\u884c ( \u5982\u4e0b\u56fe\u6240\u793a ) \uff0c\u4e00\u5b9a\u8981\u662f\u7ba1\u7406\u5458\u8eab\u4efd\uff0c\u5426\u5219\u7531\u4e8e\u540e\u7eed\u90e8\u5206\u547d\u4ee4\u9700\u8981\u6743\u9650\uff0c\u51fa\u73b0\u9519\u8bef! \uff081\uff09\u4e0b\u8f6c\u5230mysql\u7684bin\u76ee\u5f55\u4e0b: \uff082\uff09\u5b89\u88c5mysql\u7684\u670d\u52a1:mysqld --install \uff083\uff09\u521d\u59cb\u5316mysql\uff0c\u5728\u8fd9\u91cc\uff0c\u521d\u59cb\u5316\u4f1a\u4ea7\u751f\u4e00\u4e2a\u968f\u673a\u5bc6\u7801,\u5982 \u4e0b\u56fe\u6846\u6846\u6240\u793a\uff0c\u8bb0\u4f4f\u8fd9\u4e2a\u5bc6\u7801\uff0c\u540e\u9762\u4f1a\u7528\u5230(mysqld --initialize --console) \uff084\uff09\u5f00\u542fmysql\u7684\u670d\u52a1(net start mysql) \uff085\uff09\u767b\u5f55\u9a8c\u8bc1\uff0cmysql\u662f\u5426\u5b89\u88c5\u6210\u529f!(\u8981\u6ce8\u610f\u4e0a\u9762\u4ea7\u751f\u7684\u968f \u673a\u5bc6\u7801\uff0c\u4e0d\u5305\u62ec\u524d\u9762\u7b26\u53f7\u524d\u9762\u7684\u7a7a\u683c\uff0c\u5426\u5219\u4f1a\u767b\u9646\u5931\u8d25)\uff0c\u5982\u679c \u548c\u4e0b\u56fe\u6240\u793a\u4e00\u6837\uff0c\u5219\u8bf4\u660e\u4f60\u7684mysql\u5df2\u7ecf\u5b89\u88c5\u6210\u529f!\u6ce8\u610f\uff0c\uff0c \u4e00\u5b9a\u8981\u5148\u5f00\u542f\u670d\u52a1\uff0c\u4e0d\u7136\u4f1a\u767b\u9646\u5931\u8d25\uff0c\u51fa\u73b0\u62d2\u7edd\u8bbf\u95ee\u7684\u63d0\u793a \u7b26!!! \u4fee\u6539\u5bc6\u7801: \u7531\u4e8e\u521d\u59cb\u5316\u4ea7\u751f\u7684\u968f\u673a\u5bc6\u7801\u592a\u590d\u6742\uff0c\uff0c\u4e0d\u4fbf\u4e8e\u6211\u4eec\u767b \u5f55mysql\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u5f53\u4fee\u6539\u4e00\u4e2a\u81ea\u5df1\u80fd\u8bb0\u4f4f\u7684\u5bc6\u7801!! \u6ce8\u610f : \u5982\u679c\u5f53\u524d\u4fee\u6539\u540e\u65e0\u6cd5\u4f7f\u7528 Navicat \u65e0\u6cd5\u8fde \u63a5\u6570\u636e\u5e93 \u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\u8fdb\u884c\u91cd\u65b0\u4fee\u6539\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456'; \u518d\u6b21\u767b\u5f55\u9a8c\u8bc1\u65b0\u5bc6\u7801:","title":"3.1.3.2\u3001Mysql\u7684\u914d\u7f6e"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3133","text":"\u4e3a\u4e86\u65b9\u4fbf\u767b\u5f55\u64cd\u4f5cmysql\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u8bbe\u7f6e\u4e00\u4e2a\u5168\u5c40 \u53d8\u91cf:\u2193 \uff081\uff09\u70b9\u51fb\"\u6211\u7684\u7535\u8111\"-->\"\u5c5e\u6027\"-->''\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e''-->''\u73af \u5883\u53d8\u91cf'',\u63a5\u4e0b\u6765\u5982\u4e0b\u56fe\u6240\u64cd\u4f5c \uff082\uff09\u628a\u65b0\u5efa\u7684mysql\u53d8\u91cf\u6dfb\u52a0\u5230Path\u8def\u5f84\u53d8\u91cf\u4e2d\uff0c\u70b9\u51fb \u786e\u5b9a\uff0c\u5373\u5b8c\u6210: \u914d\u7f6e\u5b8c\u6210\u4e4b\u540e\uff0c\u6bcf\u5f53\u6211\u4eec\u60f3\u8981\u7528\u547d\u4ee4\u884c\u4f7f\u7528mysql \u65f6\uff0c\u53ea\u9700\u8981win+R\uff0c-->\u8f93\u5165\"cmd\"\u6253\u5f00\u547d\u4ee4\u884c\uff0c\u4e4b\u540e\u8f93\u5165\u767b\u5f55 sql\u8bed\u53e5\u5373\u53ef\u3002 \uff083\uff09\u5728mysql\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2aini\u6216cnf\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u8fd9\u91cc \u6211\u521b\u5efa\u7684\u662fini\u914d\u7f6e\u6587\u4ef6\uff0c\u91cc\u9762\u5199\u7684\u4ee3\u7801\u662fmysql\u7684\u4e00\u4e9b\u57fa\u672c\u914d \u7f6e [mysqld] character-set-server=utf8mb4 bind-address=0.0.0.0 port=3306 default-storage-engine=INNODB [mysql] default-character-set=utf8mb4 [client] default-character-set=utf8mb4 \u5c31\u8fd9\u6837\uff0c\u4e00\u4e2a\u514d\u5b89\u88c5\u7248\u7684Mysql\u5c31\u5b89\u88c5\u5e76\u914d\u7f6e\u5b8c\u6210\u4e86","title":"3.1.3.3\u3001\u8bbe\u7f6e\u7cfb\u7edf\u7684\u5168\u5c40\u53d8\u91cf:"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3134","text":"\uff081\uff09\"\u7531\u4e8e\u627e\u4e0d\u5230MSVCR120.dll\uff0c\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u4ee3\u7801\u3002\u91cd\u65b0\u5b89\u88c5\u7a0b \u5e8f\u53ef\u80fd\u4f1a\u89e3\u51b3\u6b64\u95ee\u9898\" \u6216\u8005 \"\u7531\u4e8e\u627e\u4e0d\u5230 VCRUNTIME140_1.dll\uff0c\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u4ee3\u7801\u3002\u91cd\u65b0\u5b89\u88c5\u7a0b\u5e8f\u53ef \u80fd\u4f1a\u89e3\u51b3\u6b64\u95ee\u9898\" \uff082\uff09\u547d\u4ee4\u53c2\u8003: \u5b89\u88c5\u670d\u52a1:mysqld --install \u521d\u59cb\u5316:mysqld --initialize --console \u5f00\u542f\u670d\u52a1:net start mysql \u5173\u95ed\u670d\u52a1:net stop mysql \u767b\u5f55 mysql :mysql -u root -p Enter PassWord:(\u5bc6\u7801) \u4fee\u6539\u5bc6\u7801:alter user 'root'@'localhost' identified by 'root';(by \u63a5\u7740\u7684\u662f\u5bc6\u7801) \u6807\u8bb0\u5220\u9664 mysql \u670d\u52a1:sc delete mysql","title":"3.1.3.4\u3001\u53ef\u80fd\u4f1a\u51fa\u73b0\u7684\u95ee\u9898"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#314-mysql","text":"","title":"3.1.4 Mysql\u7eff\u8272\u7248\u5378\u8f7d"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3141mysql","text":"\u5173\u95ed\u670d\u52a1\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u884c,\u4e5f\u53ef\u4ee5\u5728\u300c\u4efb\u52a1\u7ba1\u7406\u5668\u300d\u7684\u300c\u670d\u52a1\u300d\u91cc\u8fdb\u884c\u5173\u95ed\uff0c\u4e5f\u53ef\u4ee5\u7528\u547d\u4ee4\u884c\u5173\u95ed \u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884c\u547d\u4ee4\u884c\uff08cmd\uff09: net stop mysql","title":"3.1.4.1\u3001\u5173\u95edMysql\u670d\u52a1"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3142mysql","text":"(1) Win+R\u6253\u5f00\u8fd0\u884c\u754c\u9762\uff0c\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165 regedit \u8fdb\u5165\u7cfb\u7edf\u6ce8\u518c\u8868\u7a97\u53e3 (2) \u5206\u522b\u5728\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u627e\u5230 MySQL \u7684\u6ce8\u518c\u8868\uff0c\u9f20\u6807\u53f3\u952e\u76f4\u63a5\u5220\u9664MySQL\u76ee\u5f55\u4e2d\u7684 EventMessageFile \u548c TypesSupported \u4e24\u4e2a\u6587\u4ef6\u5c31\u597d\u4e86,\u5982\u679c\u5bf9\u5e94\u7684\u76ee\u5f55\u4e2d\u6ca1\u6709,\u5c31\u4e0d\u7528\u5220\u9664\u4e86\uff0c\u4e5f\u53ef\u4ee5\u641c\u7d22\u6ce8\u518c\u8868: \u5728\u7cfb\u7edf\u6ce8\u518c\u8868\u7a97\u53e3\u9009\u62e9\u300c\u7f16\u8f91\u300d \u2014 \u9009\u62e9\u300c\u67e5\u627e\u300d \u2014 \u8f93\u5165 \u300cMySQL\u300d\u8fdb\u884c\u67e5\u627e,\u5c06\u627e\u5230\u7684MySQL\u76ee\u5f55\u4e2d\u7684 EventMessageFile \u548c TypesSupported \u4e24\u4e2a\u6587\u4ef6\u8fdb\u884c\u5220\u9664 HKEY_LOCAL_MACHINE/SYSTEM/ControlSet001/Services/Eventlog/Application/MySQLHKEY_LOCAL_MACHINE/SYSTEM/ControlSet002/Services/Eventlog/Application/MySQLHKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Services/Eventlog/Application/MySQL","title":"3.1.4.2\u3001\u5220\u9664Mysql\u7684\u6ce8\u518c\u8868"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3143mysql","text":"(1) \u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u4f7f\u7528\u547d\u4ee4\u884c(cmd)\u8fdb\u5165MySQL\u7684 bin \u76ee\u5f55\u4e0b (2) \u6267\u884c\u79fb\u9664 MySQL\u670d\u52a1\u7684\u547d\u4ee4 : mysqld -remove (3) \u5f53\u770b\u5230\u6709Service successfully removed\u65f6\uff0c\u5219\u8868\u793a\u79fb\u9664Mysql\u670d\u52a1\u6210\u529f","title":"3.1.4.3\u3001\u79fb\u9664Mysql\u670d\u52a1"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3144mysql","text":"\u5c06Mysql\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5168\u90e8\u5220\u9664\u5373\u53ef OK,\u81f3\u6b64,MySQL\u7eff\u8272\u7248\u5378\u8f7d\u5de5\u4f5c\u5168\u90e8\u5b8c\u6210. \u63a5\u4e0b\u6765\u662fMySQL\u7684\u56fe\u5f62\u5316\u754c\u9762\u5de5\u5177. \u63a8\u8350\u7528Navicat. \u597d\u591a\u5e74\u4e86, \u5f88\u597d\u7528. \u5b89\u88c5\u7684\u65f6\u5019\u4e00\u8def\u786e\u5b9a.","title":"3.1.4.4\u3001\u5220\u9664Mysql\u6587\u4ef6"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2mac","text":"","title":"2\u3001Mac\u5b89\u88c5"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#macmysql","text":"","title":"Mac\u5b89\u88c5MySQL"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1_2","text":"https://dev.mysql.com/downloads/mysql/ \u4e0b\u8f7d\u5b89\u88c5\u5305\u7248\u672c.dmg \u9700\u8981\u6ce8\u610f\uff0c\u5f53\u524d\u5982\u679c\u662fm\u82af\u7247 \u5219\u4e0b\u8f7dARM\u7684 \u4e0d\u767b\u5f55\u4e0b\u8f7d","title":"1\u3001\u4e0b\u8f7d"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2_1","text":"\u6253\u5f00\u4e0b\u8f7d\u597d\u7684.dmg\u6587\u4ef6\uff0c\u518d\u70b9\u51fb\u91cc\u9762\u7684.pkg\u6587\u4ef6\uff0c\u4e4b\u540e\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\uff0c\u70b9\u51fb\u3010\u5141\u8bb8\u3011\uff0c\u5f00\u59cb\u6b63\u5f0f\u5b89\u88c5\u3002 \u70b9\u51fb\u5141\u8bb8 \u4e00\u8def\u70b9\u51fb\u7ee7\u7eed\u5230Configuration\uff0cConfiguration\u9875\u9762\u6709\u4e24\u4e2a\u9009\u62e9\uff1a \u4f7f\u7528\u5f3a\u5bc6\u7801\u52a0\u5bc6\u3002MySQL 8\u652f\u6301\u57fa\u4e8eSHA256\u7684\u66f4\u5f3a\u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u6240\u6709\u65b0\u5b89\u88c5\u7684mysql server\u5efa\u8bae\u4f7f\u7528\u8fd9\u4e2a\u65b9\u5f0f\u3002clients\u6216connectors\u5982\u679c\u4e0d\u652f\u6301\u8fd9\u4e2a\u65b9\u5f0f\uff0c\u5c31\u4e0d\u80fd\u8fde\u63a5\u5230\u8fd9\u4e2amysql server\u3002 \u4f7f\u7528\u4f20\u7edf\u5bc6\u7801\u52a0\u5bc6\u3002\u5f53\u9700\u8981\u4e0eMySQL 5.x\u8fde\u63a5\u5668\u548c\u5ba2\u6237\u7aef\u517c\u5bb9\u4e14\u5ba2\u6237\u7aef\u5347\u7ea7\u4e0d\u53ef\u884c\u65f6\uff0c\u5e94\u4f7f\u7528\u4f20\u7edf\u8eab\u4efd\u9a8c\u8bc1\u65b9\u6cd5 \u53ef\u4ee5\u6839\u636e\u9700\u6c42\u9009\u62e9\u5bc6\u7801\u52a0\u5bc6\u7684\u65b9\u5f0f\uff1a\u5982\u679c\u662f\u56e0\u4e3a\u65b0\u5b89\u88c5\u7684\uff0c\u5c31\u9009\u62e9\u5f3a\u5bc6\u7801\u52a0\u5bc6\uff1b\u5982\u679c\u60f3\u8981\u517c\u5bb9MySQL 5.x\u7684\uff0c\u5c31\u9009\u62e9\u4f20\u7edf\u5bc6\u7801\u52a0\u5bc6\u3002 \u8fd9\u91cc\u8bbe\u7f6e8\u4f4d\u5bc6\u7801\u3002\u4ed6\u5efa\u8bae\u6211\u4eec\u8bbe\u7f6e\u6709\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u5176\u4ed6\u7b26\u53f7\u6df7\u5408\u7684\u5bc6\u7801\u3002\u8fd9\u91cc\u8bbe\u7f6e\u7684\u5bc6\u7801\u7528\u4e8e\u4ee5\u540e\u767b\u5f55\uff0c\u4e0d\u8981\u5fd8\u8bb0\u4e86\u3002 \u6700\u597d\u5bc6\u7801\u8bbe\u7f6e\u4e3a\uff1a12345678 \u5230\u8fd9\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u5b89\u88c5\u5b8cMySQL\u4e86\u3002 \u6253\u5f00\u7cfb\u7edf\u8bbe\u7f6e\uff0c\u53d1\u73b0MySQL\u4e0d\u4ec5\u5b89\u88c5\u6210\u529f\uff0c\u8fd8\u6b63\u5728\u8fd0\u884c","title":"2.\u5b89\u88c5"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3_1","text":"\u6253\u5f00\uff5e/.zshrc\u6587\u4ef6\uff0c\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\u3002\u4fdd\u5b58\u9000\u51fa\u3002\u5e76\u8ba9\u73af\u5883\u53d8\u91cf\u9a6c\u4e0a\u751f\u6548\u3002\u6700\u540e\u67e5\u770b\u4e00\u4e0bmysql\u7684\u7248\u672c\uff0c\u5982\u679c\u51fa\u73b0\u7248\u672c\uff0c\u5c31\u8bf4\u660e\u914d\u7f6e\u6210\u529f\u3002 vim ~/.zshrc \u8f93\u5165\u5f53\u524d\u5185\u5bb9 \u914d\u7f6e\u73af\u5883\u53d8\u91cf #mysql export MYSQL_HOME=/usr/local/mysql export PATH=$MYSQL_HOME/bin:$PATH","title":"3. \u914d\u7f6e"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#4-mysql","text":"\u4f7f\u7528\u5148\u524d\u8bbe\u7f6e\u7684\u5bc6\u7801\u767b\u5f55\u3002 mysql -u root -p","title":"4. \u8fdb\u5165MySQL"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3navicat","text":"\u54e6\u4e86, \u81f3\u6b64, Navicat\u53ef\u4ee5\u64cd\u7eb5\u4f60\u7684\u6570\u636e\u5e93\u4e86.","title":"3\u3001Navicat\u4f7f\u7528"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#mysql_2","text":"","title":"\u56db\u3001\u8fdb\u5165\u5230MySQL\u6570\u636e\u5e93"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1_3","text":"C:\\Users\\xlg>mysql -uroot -p Enter password: ******","title":"1\u3001\u7b80\u5355\u6a21\u5f0f"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2_2","text":"C:\\Users\\xlg>mysql -h127.0.0.1 -uroot -p mysql -hlocalhost -uroot -p","title":"2\u3001\u6807\u51c6\u6a21\u5f0f"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3_2","text":"h:host \u4e3b\u673a\uff08localhost IPV4 127.0.0.1\uff09 u:root \u7528\u6237 p:password \u5bc6\u7801","title":"3\u3001\u53c2\u6570\u6240\u4ee3\u8868\u7684\u542b\u4e49\uff1a"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#mysql_3","text":"","title":"\u4e94\u3001\u5bf9\u4e8eMySQL\u6570\u636e\u5e93\u7684\u64cd\u4f5c"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1_4","text":"\u67e5\u770b\u6240\u6709\u7684\u6570\u636e\u5e93 show databases; \u9009\u62e9\u6570\u636e\u5e93 use \u5e93\u540d \u67e5\u770b\u5f53\u524d\u5e93\u4e0b\u6709\u54ea\u4e9b\u8868 show tables; \u67e5\u770b\u5f53\u524d\u6240\u5728\u5e93 select database(); \u521b\u5efa\u6570\u636e\u5e93 create database \u5e93\u540d; \u67e5\u770b\u521b\u5efa\u5e93\u4fe1\u606f show create database \u5e93\u540d; \u5220\u9664\u5e93/\u8868 drop database \u5e93\u540d; drop table \u8868\u540d; \u521b\u5efa\u5e93\u5e76\u8bbe\u7f6e\u5b57\u7b26\u7f16\u7801 create database lucky character set utf8; \u67e5\u770b\u8868\u7ed3\u6784 desc \u8868\u540d; \u67e5\u770b\u521b\u5efa\u8868\u8bed\u53e5 show create table lucky; \u64a4\u9500\u5f53\u524d\u547d\u4ee4 \\c \u6570\u636e\u5e93\u7684\u9000\u51fa \\q exit quit","title":"1\u3001\u5bf9\u4e8e\u5e93\u4e0e\u8868\u8fdb\u884c\u64cd\u4f5c"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2_3","text":"MySQL\u547d\u4ee4\u4ee5\u82f1\u6587\u7684\u5206\u53f7\u4f5c\u4e3a\u7ed3\u675f SQL\u547d\u4ee4\u4e0d\u533a\u5206\u5927\u5c0f\u5199 \u5728\u8fdb\u5165\u5230\u4e00\u4e2a\u6570\u636e\u5e93\u4e2d\u5728\u8fdb\u5165\u5230\u53e6\u5916\u4e00\u4e2a\u7684\u65f6\u5019 \u4e0d\u9700\u8981\u9000\u51fa\u6570\u636e\u5e93 \u800c\u662f\u4f7f\u7528use\u518d\u6b21\u8fdb\u884c\u6570\u636e\u5e93\u7684\u5207\u6362 windows\u4e0b\u8868\u540d\u5e93\u540d\u4e0d\u533a\u5206\u5927\u5c0f\u5199 Linux\u4e0b\u4e25\u683c\u533a\u5206 MySQL\u6570\u636e\u5e93\u7684\u540d\u79f0\u5177\u6709\u552f\u4e00\u6027 \u6bcf\u4e2a\u5e93\u4e2d\u7684\u8868\u7684\u540d\u79f0\u4e5f\u5177\u6709\u552f\u4e00\u6027(\u5e93\u540d\u6216\u8005\u4e00\u4e2a\u5e93\u4e2d\u7684\u8868\u540d\u4e0d\u8981\u51fa\u73b0\u76f8\u540c\u7684\u540d\u79f0) \u5f53\u5728\u8f93\u5165\u547d\u4ee4\u7684\u65f6\u5019\u8f93\u5165\u5b8c\u4ee5\u540e \u6dfb\u52a0\u5206\u53f7\u4e0d\u80fd\u6267\u884c\u547d\u4ee4 \u90a3\u4e48\u67e5\u770b\u4e00\u4e0b\u5de6\u4fa7\u662f\u5426\u5b58\u5728\u5f15\u53f7\u6ca1\u6709\u95ed\u5408\u7684\u60c5\u51b5","title":"2\u3001\u6ce8\u610f"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#_2","text":"","title":"\u516d. \u8868\u7684\u64cd\u4f5c"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1_5","text":"\u5728\u6240\u6709\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d, \u6240\u6709\u7684\u6570\u636e\u90fd\u662f\u4ee5\u8868\u683c\u7684\u5f62\u5f0f\u8fdb\u884c\u5b58\u50a8\u7684. \u90a3\u8868\u683c\u5e94\u8be5\u5982\u4f55\u8fdb\u884c\u8bbe\u8ba1\u5462? \u5176\u5b9e\u8fd9\u91cc\u8574\u542b\u4e86\u4e00\u4e2a\u6620\u5c04\u5173\u7cfb\u7684. \u6bd4\u5982, \u6211\u4eec\u60f3\u8981\u5b58\u5b66\u751f\u4fe1\u606f. \u90a3\u6211\u4eec\u5148\u601d\u8003. \u5728\u4f60\u672a\u6765\u7684\u89c4\u5212\u4e2d, \u4e00\u4e2a\u5b66\u751f\u5e94\u8be5\u4f1a\u6709\u54ea\u4e9b\u6570\u636e\u5b58\u5728? \u5b66\u751f: \u5b66\u53f7(\u552f\u4e00\u6807\u8bc6), \u59d3\u540d, \u751f\u65e5, \u5bb6\u5ead\u4f4f\u5740, \u7535\u8bdd\u53f7\u7b49\u4fe1\u606f. OK. \u6211\u4eec\u629b\u5f00\u6570\u636e\u5e93\u4e0d\u8c08. \u60f3\u8981\u5b58\u50a8\u8fd9\u4e9b\u6570\u636e, \u8868\u683c\u521b\u5efa\u8d77\u6765\u7684\u8bdd\u5e94\u8be5\u662f\u662f\u8fd9\u6837\u7684: OK. \u6309\u7167\u8fd9\u4e2a\u89c4\u5219\u6765\u770b. \u6bcf\u4e00\u6761\u6570\u636e\u5bf9\u5e94\u7684\u5c31\u662f\u4e00\u4e2a\u4eba\u7684\u4fe1\u606f.","title":"1\u3001\u8868\u7684\u6982\u5ff5"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2_4","text":"\u521b\u5efa\u8868\u6709\u4e24\u79cd\u65b9\u6848: \u7528SQL\u8bed\u53e5\u521b\u5efa\u8868\u683c sql create table student( sno int(10) primary key auto_increment, sname varchar(50) not null, sbirthday date not null, saddress varchar(255), sphone varchar(12), class_name varchar(50) ) \u6570\u636e\u7c7b\u578b: int \u6574\u6570 double\u5c0f\u6570 varchar \u5b57\u7b26\u4e32 date \u65f6\u95f4(\u5e74\u6708\u65e5) datetime \u65f6\u95f4(\u5e74\u6708\u65e5\u65f6\u5206\u79d2) text \u5927\u6587\u672c \u200b \u7ea6\u675f\u6761\u4ef6: primary key \u4e3b\u952e, \u5168\u8868\u552f\u4e00\u503c. \u5c31\u50cf\u5b66\u53f7. \u8eab\u4efd\u8bc1\u53f7. \u80fd\u591f\u552f\u4e00\u7684\u786e\u5b9a\u4e00\u6761\u6570\u636e auto_increment \u4e3b\u952e\u81ea\u589e. not null \u4e0d\u53ef\u4ee5\u4e3a\u7a7a. null \u53ef\u4ee5\u4e3a\u7a7a default \u8bbe\u7f6e\u9ed8\u8ba4\u503c \u200b \u7528Navicat\u56fe\u5f62\u5316\u5de5\u5177\u6765\u521b\u5efa","title":"2\u3001\u521b\u5efa\u8868"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#mysql_4","text":"\u5b57\u6bb5\u7c7b\u578b","title":"\u4e03\u3001MySQL\u8868\u7684\u521b\u5efa"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1_6","text":"\u7c7b\u578b \u5927\u5c0f \u8303\u56f4(\u6709\u7b26\u53f7) \u8303\u56f4(\u65e0\u7b26\u53f7) \u7528\u9014 tinyint 1\u5b57\u8282 \uff08-128,127\uff09 \uff080,255\uff09 \u5c0f\u6574\u6570\u503c int 4\u5b57\u8282 \uff08-2147483648, 2147483647) (0,4294967295) \u5927\u6574\u6570\u503c float 4\u5b57\u8282 \u5355\u7cbe\u5ea6\u6d6e\u70b9\u578b double 8\u5b57\u8282 \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u578b \u521b\u5efa\u8868\u8bed\u53e5 mysql> create table testnum( -> ttinyint tinyint, -> tint int, -> tfloat float(6,2), -> tdouble double(6,2), -> ); \u521b\u5efa\u8868\u7684\u4e3b\u4f53\u7ed3\u6784\uff1a create table if not exists \u8868\u540d( \u5b57\u6bb5\u540d\u79f0 \u5b57\u6bb5\u7c7b\u578b \u7ea6\u675f\u6761\u4ef6 \u5b57\u6bb5\u8bf4\u660e, \u5b57\u6bb5\u540d\u79f0 \u5b57\u6bb5\u7c7b\u578b \u7ea6\u675f\u6761\u4ef6 \u5b57\u6bb5\u8bf4\u660e, ... ) \u8868\u63d2\u5165\u6570\u636e\u8bed\u53e5 \u6307\u5b9a\u5b57\u6bb5\u540d\u79f0\u63d2\u5165\u503c insert into \u8868\u540d(\u5b57\u6bb51,\u5b57\u6bb52...) values(\u503c1,\u503c2...) \u4e0d\u6307\u5b9a\u5b57\u6bb5\u63d2\u5165\u4e4b insert into \u8868\u540d values(\u503c1,\u503c2...)","title":"1\u3001\u6570\u503c\u7c7b\u578b"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2_5","text":"\u7c7b\u578b \u5927\u5c0f \u7528\u9014 char 0-255\u5b57\u8282 \u5b9a\u957f\u5b57\u7b26\u4e32 varchar 0-255\u5b57\u8282 \u53d8\u957f\u5b57\u7b26\u4e32 text 0-65535\u5b57\u8282 \u957f\u6587\u672c\u6570\u636e longtext 0-4294697295\u5b57\u8282 \u6781\u5927\u6587\u672c\u6570\u636e \u5b57\u7b26\u4e32\u7c7b\u578b\u6ce8\u610f\u4e8b\u9879\uff1a 1) char\u548cvarchar\u7684\u533a\u522b char\u6267\u884c\u6548\u7387\u9ad8\u4e8evarchar \uff08\u4f46\u5360\u7528\u7a7a\u95f4\u5927\uff09 varchar\u76f8\u5bf9\u4e8echar\u8282\u7701\u7a7a\u95f4 char\u548cvarchar \u7c7b\u578b\u7684\u957f\u5ea6\u8303\u56f4\u90fd\u57280-255\u4e4b\u95f4 varchar\u7c7b\u578b\u4f20\u5165\u7684\u503c\u5c0f\u4e8e\u7ed9\u5b9a\u7684\u957f\u5ea6 \u4e0d\u4f1a\u4f7f\u7528\u7a7a\u683c\u586b\u5145","title":"2\u3001\u5b57\u7b26\u4e32\u7c7b\u578b"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#insert","text":"\u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u503c insert into \u8868\u540d(\u5b57\u6bb51,\u5b57\u6bb52....) values(\u503c1,\u503c2...) insert into user(sex,username) values(0,'lucky'); \u4e0d\u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u503c insert into \u8868\u540d values(\u503c1,\u503c2...) insert into user values(null,0,'lucky','\u6211\u662flucky\u8001\u5e08'); \u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u591a\u4e2a\u503c insert into \u8868\u540d(\u5b57\u6bb51,\u5b57\u6bb52....) values(\u503c1,\u503c2...),(\u503c1,\u503c2...)... insert into user(sex,username) values(1,'\u82cd\u82cd'),(0,'\u84b9\u846d'); \u4e0d\u6307\u5b9a\u5b57\u6bb5\u6dfb\u52a0\u591a\u4e2a\u503c insert into \u8868\u540d values(\u503c1,\u503c2...),(\u503c1,\u503c2...)... insert into user values(null,1,'xxx','xxx'),(null,0,'xxl','xxl'); \u6ce8\u610f\u4e8b\u9879\uff1a \u6307\u5b9a\u5b57\u6bb5\u4e0e\u4e0d\u6307\u5b9a\u5b57\u6bb5\u5728\u6dfb\u52a0\u503c\u7684\u65f6\u5019 \u6309\u7167\u4ece\u5de6\u81f3\u53f3\u4f9d\u6b21\u5bf9\u5e94\u7ed9\u503c","title":"\u4e03\u3001INSERT \u6570\u636e\u7684\u6dfb\u52a0"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#select","text":"\u4e0d\u6307\u5b9a\u5b57\u6bb5\u7684\u67e5\u8be2\uff08\u4e0d\u5efa\u8bae\uff09 select * from \u8868\u540d \u6307\u5b9a\u5b57\u6bb5\u7684\u6570\u636e\u67e5\u8be2(\u5efa\u8bae) select \u5b57\u6bb5\u540d1,\u5b57\u6bb5\u540d2... from \u8868\u540d select username,userinfo from user; \u5bf9\u67e5\u8be2\u7684\u5b57\u6bb5\u8d77\u522b\u540d select username as u from user; select username u from user;","title":"\u516b\u3001SELECT\u67e5\u8be2"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#update","text":"\u4fee\u6539\u4e00\u4e2a\u5b57\u6bb5\u7684\u503c update \u8868\u540d set \u5b57\u6bb5\u540d=\u503c; update user set username='\u5e05\u6c14\u7684lucky' where id = 3; \u4fee\u6539\u591a\u4e2a\u5b57\u6bb5\u7684\u503c update \u8868\u540d set \u5b57\u6bb5\u540d1=\u503c1,\u5b57\u6bb5\u540d2=\u503c2...; update user set sex=0,userinfo='xxx\u7684\u4e2a\u4eba\u7b80\u4ecb' where id=7; \u7ed9\u5b57\u6bb5\u7684\u503c\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a\u6539\u53d8\u503c update user set sex=sex+2; \u6ce8\u610f\uff1a \u5728\u8fdb\u884c\u6570\u636e\u7684\u4fee\u6539\u7684\u65f6\u5019 \u4e00\u5b9a\u8bb0\u5f97\u7ed9\u5b9awhere\u6761\u4ef6 \u5982\u679c\u6ca1\u6709\u7ed9\u5b9awhere\u6761\u4ef6 \u5219\u4fee\u6539\u7684\u4e3a\u6574\u5f20\u8868\u5f53\u524d\u5b57\u6bb5\u7684\u503c","title":"\u4e5d\u3001UPDATE\u4fee\u6539"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#delete","text":"\u4e3b\u4f53\u7ed3\u6784\uff1a delete from \u8868\u540d [where ...] \u5b9e\u4f8b\uff1a delete from user; \u5220\u9664user\u8868\u4e2d\u6240\u6709\u7684\u6570\u636e \u6ce8\u610f\uff1a \u5220\u9664 \u4e00\u5b9a\u6ce8\u610f\u6dfb\u52a0 where \u6761\u4ef6 \u5426\u5219\u4f1a\u5220\u9664\u6574\u5f20\u8868\u4e2d\u7684\u6570\u636e \u5e76\u4e14auto_increment\u81ea\u589e\u6240\u8bb0\u5f55\u7684\u503c\u4e0d\u4f1a\u6539\u53d8 \u6240\u4ee5\u9700\u8981\u5c06\u81ea\u589e\u5f52\u4f4d truncate \u8868\u540d; \u6e05\u7a7a\u8868\u6570\u636e","title":"\u5341\u3001DELETE \u5220\u9664"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#where","text":"\u5b9e\u4f8b\u8868\u7ed3\u6784\uff1a +----------+-------------+------+-----+-----------------------+----------------+ | Field | Type | Null | Key | Default | Extra | +----------+-------------+------+-----+-----------------------+----------------+ | id | int(11) | NO | PRI | NULL | auto_increment | | sex | tinyint(4) | NO | | 1 | | | username | varchar(20) | YES | | NULL | | | age | tinyint(4) | NO | | 18 | | | userinfo | varchar(50) | NO | | \u6211\u662f\u5e05\u6c14\u7684lucky\u8001\u5e08\u554a | | +----------+-------------+------+-----+-----------------------+----------------+","title":"\u5341\u4e00\u3001WHERE\u6761\u4ef6"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1_7","text":"> \u5c06id\u5927\u4e8e5 \u7684\u6027\u522b \u66f4\u6539\u4e3a0 \u5e74\u9f84\u6539\u4e3a20\u5c81 update user set sex=0,age=20 where id>5; < \u5c06id\u5c0f\u4e8e3 \u7684\u6027\u522b \u66f4\u6539\u4e3a0 \u5e74\u9f84\u6539\u4e3a23\u5c81 update user set sex=0,age=23 where id<3; \u67e5\u770bid\u5c0f\u4e8e4\u7684 \u6027\u522b\u548c\u7528\u6237\u540d\u7684\u5b57\u6bb5\u6570\u636e select sex,username from user where id<4; >= \u5220\u9664 id\u5927\u4e8e\u7b49\u4e8e6\u7684\u6570\u636e delete from user where id>=6; <= \u67e5\u8be2\u5e74\u9f84\u5c0f\u4e8e\u7b49\u4e8e23\u7684\u6570\u636e select * from user where age<=23; = \u67e5\u8be2\u6027\u522b\u4e3a0\u7684\u6570\u636e select * from user where sex=0; !=/<> \u67e5\u8be2 \u7528\u6237\u540d\u4e0d\u7b49\u4e8elucky\u7684\u6240\u6709\u6570\u636e select * from user where username!='lucky'; select * from user where username<>'lucky';","title":"(1) \u6bd4\u8f83\u8fd0\u7b97\u7b26"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2_6","text":"and \u903b\u8f91\u4e0e \u4fe9\u4fa7\u4e3a\u771f\u7ed3\u679c\u4e3a\u771f \u67e5\u8be2\u5e74\u9f84\u572818\u523023\u4e4b\u95f4 \u4e0d\u5305\u62ec\u672c\u8eab select * from user where age>18 and age<23; \u4fee\u6539\u5e74\u9f84\u4e3a30 id\u5927\u4e8e1 \u5c0f\u4e8e\u7b49\u4e8e2 update user set age=30 where id>1 and id<=2; or \u903b\u8f91\u6216\u8fd0\u7b97 \u4fe9\u4fa7\u6761\u4ef6\u6ee1\u8db3\u4e00\u4fa7\u5c31\u53ef\u4ee5 select * from user where age=10 or age=30; select * from user where age>=10 or age<=30;","title":"(2) \u903b\u8f91\u8fd0\u7b97\u7b26"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3-order-by","text":"\u5347\u5e8f \u67e5\u8be2\u6570\u636e \u6309\u7167\u5e74\u9f84\u5347\u5e8f\uff08\u9ed8\u8ba4\uff09 select * from user order by age; select * from user order by age asc; \u67e5\u8be2\u6570\u636e \u6309\u7167\u5e74\u9f84\u964d\u5e8f select * from user order by age desc;","title":"(3) order by \u6392\u5e8f \u5347\u5e8f/\u964d\u5e8f"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#4-limit","text":"\u7ed3\u6784\uff1a limit x \u53d6\u51fax\u6761\u6570\u636e limit x,y \u4ecex\u7684\u4f4d\u7f6e\u53d6\u51fay\u6761\u6570\u636e \u53d6\u51fa3\u6761\u6570\u636e select * from user limit 3; \u53d6\u51fa\u5e74\u9f84\u6700\u5927/\u6700\u5c0f\u7684\u4e00\u6761\u6570\u636e select * from user order by age desc limit 1; select * from user order by age limit 1;","title":"(4) limit \u53d6\u503c"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#6-like","text":"\u2019%\u5b57\u7b26\u2018 \u67e5\u8be2\u4ee5\u5b57\u7b26\u7ed3\u5c3e\u7684\u6570\u636e \u67e5\u8be2\u4ee5\u4e09\u5b57\u4e3a\u7ed3\u675f\u7684username\u7684\u6570\u636e select * from user where username like '%\u4e09'; '\u5b57\u7b26%' \u67e5\u8be2\u4ee5\u5b57\u7b26\u5f00\u5934\u7684\u6570\u636e select * from user where username like '\u8d75%'; '%\u5b57\u7b26%' \u67e5\u8be2\u5305\u542b\u5b57\u7b26\u7684\u6570\u636e \u67e5\u8be2 userinfo\u4e2d\u5305\u542blucky\u7684\u6570\u636e select * from user where userinfo like '%lucky%';","title":"(6) like \u6a21\u7cca\u67e5\u8be2"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#_3","text":"count \u7edf\u8ba1\u4e2a\u6570 max \u6700\u5927\u503c min \u6700\u5c0f\u503c Sum \u6c42\u548c avg \u6c42\u5e73\u5747\u6570 select count(*) as count,max(age),min(age),avg(age),sum(age) from user;","title":"\u5341\u4e8c\u3001 \u805a\u5408\u51fd\u6570"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#_4","text":"\u5bfc\u5165 mysql -uroot -p \u5e93\u540d<demo.sql \u5bfc\u51fa mysqldump -uroot -p \u5e93\u540d>demo.sql dro","title":"\u5341\u4e09\u3001 \u6570\u636e\u5e93\u7684\u5bfc\u5165\u5bfc\u51fa"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#pythonmysql","text":"\u5b89\u88c5\uff1a pip install pymysql; \u4f7f\u7528\uff1a import pymysql","title":"\u5341\u56db\u3001Python\u64cd\u4f5cMySQL"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#1-mysql","text":"db = pymysql.connect(\u4e3b\u673a\u540d,\u7528\u6237\u540d,\u5bc6\u7801,\u6570\u636e\u5e93\u540d) db = pymysql.connect(host='localhost', user='root', password='123456', database='test')","title":"(1) \u94fe\u63a5MySQL\u6570\u636e\u5e93"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#2_7","text":"db.set_charset('utf8')","title":"(2) \u8bbe\u7f6e\u5b57\u7b26\u96c6"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#3_3","text":"cursor = db.cursor()","title":"(3) \u521b\u5efa\u6e38\u6807\u5bf9\u8c61"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#4-sql","text":"cursor.execute(sql\u8bed\u53e5)","title":"(4) \u6267\u884cSQL\u8bed\u53e5"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#5","text":"\u83b7\u53d6\u6240\u6709 cursor.fetchall() \u83b7\u53d6\u4e00\u6761 cursor.fetchone()","title":"(5) \u83b7\u53d6\u7ed3\u679c\u96c6"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#6","text":"cursor.rowcount","title":"(6) \u83b7\u53d6\u53d7\u5f71\u54cd\u7684\u884c\u6570"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#7","text":"pymysql\u9ed8\u8ba4\u5f00\u542f\u4e86\u4e8b\u7269\u5904\u7406 \u6240\u4ee5\u5728\u6dfb\u52a0\u6570\u636e\u7684\u65f6\u5019 \u9700\u8981commit \u6216\u8005rollback \u5b9e\u4f8b\uff1a try: sql = 'insert into user values(null,1,\"\u66f9\u64cd\",100,\"\u66f9\u64cd\u7b2c\u4e00\u5978\u96c4\",\"\u9b4f\u56fd\")' print(sql) cursor.execute(sql) db.rollback() except: db.commit() \u5bf9\u4e8e\u652f\u6301\u4e8b\u52a1\u7684\u6570\u636e\u5e93\uff0c \u5728Python\u6570\u636e\u5e93\u7f16\u7a0b\u4e2d\uff0c\u5f53\u6e38\u6807\u5efa\u7acb\u4e4b\u65f6\uff0c\u5c31\u81ea\u52a8\u5f00\u59cb\u4e86\u4e00\u4e2a\u9690\u5f62\u7684\u6570\u636e\u5e93\u4e8b\u52a1\u3002 commit()\u65b9\u6cd5\u6e38\u6807\u7684\u6240\u6709\u66f4\u65b0\u64cd\u4f5c\uff0crollback\uff08\uff09\u65b9\u6cd5\u56de\u6eda\u5f53\u524d\u6e38\u6807\u7684\u6240\u6709\u64cd\u4f5c\u3002\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u90fd\u5f00\u59cb\u4e86\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\u3002","title":"(7) \u4e8b\u7269"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#8","text":"db.close()","title":"(8) \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5"},{"location":"12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html#9-sql","text":"print(\"select name,password from user where name=\\\"\"+username+\"\\\"\") print(\"select name,password from user where name='\"+username+\"'\") print(\"select name,password from user where name='%s'\"%(username)) print(\"select name,password from user where name='{}'\".format(username)) print(f\"select name,password from user where name='{username}'\")","title":"(9) \u62fc\u51d1\u6b63\u5e38\u5b8c\u6574\u7684sql\u8bed\u53e5"},{"location":"13%E3%80%81Mongodb.html","text":"\u5341\u4e09\u3001Mongodb \u4e0b\u8f7dmongodb\u7684\u7248\u672c\uff0c\u4e24\u70b9\u6ce8\u610f \u6839\u636e\u4e1a\u754c\u89c4\u5219\uff0c\u5076\u6570\u4e3a\u7a33\u5b9a\u7248\uff0c\u59821.6.X\uff0c\u5947\u6570\u4e3a\u5f00\u53d1\u7248\uff0c\u59821.7.X 32bit\u7684mongodb\u6700\u5927\u53ea\u80fd\u5b58\u653e2G\u7684\u6570\u636e\uff0c64bit\u5c31\u6ca1\u6709\u9650\u5236 \u6027\u80fd BSON\u683c\u5f0f\u7684\u7f16\u7801\u548c\u89e3\u7801\u90fd\u662f\u975e\u5e38\u5feb\u901f\u7684\u3002\u5b83\u4f7f\u7528\u4e86C\u98ce\u683c\u7684\u6570\u636e\u8868\u73b0\u5f62\u5f0f\uff0c\u8fd9\u6837\u5728\u5404\u79cd\u8bed\u8a00\u4e2d\u90fd\u53ef\u4ee5\u9ad8\u6548\u5730\u4f7f\u7528\u3002 NoSQL(NoSQL = Not Only SQL )\uff0c\u610f\u5373\"\u4e0d\u4ec5\u4ec5\u662fSQL\"\u3002 MongoDB \u5c06\u6570\u636e\u5b58\u50a8\u4e3a\u4e00\u4e2a\u6587\u6863\uff0c\u6570\u636e\u7ed3\u6784\u7531\u952e\u503c(key=>value)\u5bf9\u7ec4\u6210\u3002MongoDB \u6587\u6863\u7c7b\u4f3c\u4e8e JSON \u5bf9\u8c61\u3002\u5b57\u6bb5\u503c\u53ef\u4ee5\u5305\u542b\u5176\u4ed6\u6587\u6863\uff0c\u6570\u7ec4\u53ca\u6587\u6863\u6570\u7ec4\u3002 \u4e00\u3001\u5b89\u88c5(windows) \u4e0b\u8f7dmongodb\u7684\u7248\u672c\uff0c\u4e24\u70b9\u6ce8\u610f \u6839\u636e\u4e1a\u754c\u89c4\u5219\uff0c\u5076\u6570\u4e3a\u7a33\u5b9a\u7248\uff0c\u59821.6.X\uff0c\u5947\u6570\u4e3a\u5f00\u53d1\u7248\uff0c\u59821.7.X 32bit\u7684mongodb\u6700\u5927\u53ea\u80fd\u5b58\u653e2G\u7684\u6570\u636e\uff0c64bit\u5c31\u6ca1\u6709\u9650\u5236 \u9996\u5148\u53bb\u5b98\u7f51\u4e0b\u8f7dMongoDB\u7684\u5b89\u88c5\u5305, https://www.mongodb.com/try/download/community \u5c06mongodb\u76ee\u5f55\u4e0b\u7684bin\u6587\u4ef6\u5939\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf \u5bf9\u4e8emac\u7684\u5b89\u88c5\u53ef\u4ee5\u4f7f\u7528homebrew\u5b89\u88c5. \u6216\u53c2\u8003\u8fd9\u91cchttps://www.runoob.com/mongodb/mongodb-osx-install.html \u4e00\u3001MongoDB \u6982\u5ff5\u89e3\u6790 SQL\u672f\u8bed/\u6982\u5ff5 MongoDB\u672f\u8bed/\u6982\u5ff5 \u89e3\u91ca/\u8bf4\u660e database database \u6570\u636e\u5e93 table collection \u6570\u636e\u5e93\u8868/\u96c6\u5408 row document \u6570\u636e\u8bb0\u5f55\u884c/\u6587\u6863 column field \u6570\u636e\u5b57\u6bb5/\u57df \u4e8c\u3001\u6570\u636e\u7c7b\u578b \u4e0b\u8868\u4e3aMongoDB\u4e2d\u5e38\u7528\u7684\u51e0\u79cd\u6570\u636e\u7c7b\u578b\uff1a Object ID\uff1a\u6587\u6863ID String\uff1a\u5b57\u7b26\u4e32\uff0c\u6700\u5e38\u7528\uff0c\u5fc5\u987b\u662f\u6709\u6548\u7684UTF-8 Boolean\uff1a\u5b58\u50a8\u4e00\u4e2a\u5e03\u5c14\u503c\uff0ctrue\u6216false Integer\uff1a\u6574\u6570\u53ef\u4ee5\u662f32\u4f4d\u621664\u4f4d\uff0c\u8fd9\u53d6\u51b3\u4e8e\u670d\u52a1\u5668 Double\uff1a\u5b58\u50a8\u6d6e\u70b9\u503c Arrays\uff1a\u6570\u7ec4\u6216\u5217\u8868\uff0c\u591a\u4e2a\u503c\u5b58\u50a8\u5230\u4e00\u4e2a\u952e Object\uff1a\u7528\u4e8e\u5d4c\u5165\u5f0f\u7684\u6587\u6863\uff0c\u5373\u4e00\u4e2a\u503c\u4e3a\u4e00\u4e2a\u6587\u6863 Null\uff1a\u5b58\u50a8Null\u503c Timestamp\uff1a\u65f6\u95f4\u6233 Date\uff1a\u5b58\u50a8\u5f53\u524d\u65e5\u671f\u6216\u65f6\u95f4\u7684UNIX\u65f6\u95f4\u683c\u5f0f \u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a \u6587\u6863\u4e2d\u7684\u952e/\u503c\u5bf9\u662f\u6709\u5e8f\u7684\u3002 \u6587\u6863\u4e2d\u7684\u503c\u4e0d\u4ec5\u53ef\u4ee5\u662f\u5728\u53cc\u5f15\u53f7\u91cc\u9762\u7684\u5b57\u7b26\u4e32,\u8fd8\u53ef\u4ee5\u662f\u5176\u4ed6\u51e0\u79cd\u6570\u636e\u7c7b\u578b\uff08\u751a\u81f3\u53ef\u4ee5\u662f\u6574\u4e2a\u5d4c\u5165\u7684\u6587\u6863)\u3002 MongoDB\u533a\u5206\u7c7b\u578b\u548c\u5927\u5c0f\u5199\u3002 MongoDB\u7684\u6587\u6863\u4e0d\u80fd\u6709\u91cd\u590d\u7684\u952e\u3002 \u6587\u6863\u7684\u952e\u662f\u5b57\u7b26\u4e32\u3002\u9664\u4e86\u5c11\u6570\u4f8b\u5916\u60c5\u51b5\uff0c\u952e\u53ef\u4ee5\u4f7f\u7528\u4efb\u610fUTF-8\u5b57\u7b26\u3002 \u6587\u6863\u952e\u547d\u540d\u89c4\u8303\uff1a .\u548c$\u6709\u7279\u522b\u7684\u610f\u4e49\uff0c\u53ea\u6709\u5728\u7279\u5b9a\u73af\u5883\u4e0b\u624d\u80fd\u4f7f\u7528\u3002 \u4ee5\u4e0b\u5212\u7ebf\"_\"\u5f00\u5934\u7684\u952e\u662f\u4fdd\u7559\u7684(\u4e0d\u662f\u4e25\u683c\u8981\u6c42\u7684)\u3002 \u56db\u3001\u8fde\u63a5Mongodb (1) cd mongo\u5b89\u88c5\u7684\u76ee\u5f55/bin \u8f93\u5165 mongod.exe --dbpath=\u8def\u5f84 (2) \u91cd\u65b0\u542f\u52a8\u4e00\u4e2aWindows\u7684\u7ec8\u7aef \u518d\u6b21\u8fdb\u5165\u5230 mongo\u5b89\u88c5\u7684\u76ee\u5f55/bin \u200b cd mongo\u5b89\u88c5\u7684\u76ee\u5f55/bin \u200b mongo.exe #\u6b64\u523b \u8fdb\u5165\u5230Mongodb\u6570\u636e\u5e93\u4e86 \u4e94\u3001 \u5bf9\u4e8e\u5e93\u7684\u64cd\u4f5c (1) \u67e5\u770b\u6240\u6709\u7684\u5e93 \u200b show dbs (2) \u9009\u62e9\u6570\u636e\u5e93 (\u5982\u679c\u4f7f\u7528\u7684\u6570\u636e\u5e93\u5b58\u5728 \u5219\u4f7f\u7528 \u4e0d\u5b58\u5728 \u5219\u521b\u5efa) \u200b use \u5e93\u540d \u200b \u6ce8\u610f: \u200b \u65b0\u521b\u5efa\u7684\u6570\u636e\u5e93 \u9ed8\u8ba4\u4f60\u662f\u770b\u4e0d\u5230\u7684 \u53ef\u4ee5\u4f7f\u7528db/db.getName() \u53bb\u67e5\u770b\u5f53\u524d\u6240\u5728\u7684\u5e93 \u5f80\u65b0\u7684\u5e93\u91cc\u521b\u5efa\u96c6\u5408 (3) \u67e5\u770b\u5f53\u524d\u6240\u5728\u7684\u6570\u636e\u5e93 1. db 2. db.getName() (4) \u521b\u5efa\u96c6\u5408(\u4e5f\u5c31\u662f\u521b\u5efa\u8868) db.createCollection(\"\u96c6\u5408\u540d\") remo\u4f8b\u5982\uff1adb.createCollection(\"user\") #\u521b\u5efa\u4e00\u4e2auser\u7684\u96c6\u5408 \u5728\u5f53\u524d\u7684\u5e93\u91cc db.\u96c6\u5408\u540d.insert(\u6587\u6863) #\u5982\u679c \u5f53\u524d\u7684\u96c6\u5408\u540d\u4e0d\u5b58\u5728 \u90a3\u4e48\u5c31\u521b\u5efa\u8be5\u96c6\u5408 \u5e76\u63d2\u5165\u6587\u6863(\u6570\u636e) \u6ce8\u610f\uff1a 1. \u5728\u5e93\u91cc\u5bf9\u4e8e\u6587\u6863 \u96c6\u5408\u7684\u64cd\u4f5c \u7edf\u4e00\u4f7f\u7528db. (db\u4ee3\u8868\u5f53\u524d\u7684\u5e93) 2. \u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199 (5) \u67e5\u770b\u5f53\u524d\u5e93\u4e0b\u7684\u6240\u6709\u96c6\u5408 \u200b show collections (6) \u5220\u9664\u96c6\u5408 \u200b db.\u96c6\u5408\u540d.drop() \u516d\u3001INSERT/SAVE\u6587\u6863\u7684\u6dfb\u52a0 (1) \u4f7f\u7528insert \u5982\u679c\u662f\u6dfb\u52a0\u6570\u636e \u5efa\u8bae\u4f7f\u7528 insert \u200b db.\u96c6\u5408\u540d.insert(\u6587\u6863) #\u5982\u679c\u662f\u6dfb\u52a0\u6570\u636e \u5efa\u8bae\u4f7f\u7528 insert \u63d2\u5165\u591a\u6761\u6570\u636e: \u200b db.\u96c6\u5408\u540d.insert([\u6587\u6863]) #\u6ce8\u610f \u4e00\u5b9a\u8981\u52a0[] \u5426\u5219\u53ef\u80fd\u53ea\u4f1a\u628a \u7b2c\u4e00\u6761\u6587\u6863\u63d2\u5165\u8fdb\u53bb db.user.insert({'name':'lisi', 'age': 20}) db.user.insert([{'name':'lisi', 'age': 20},{'name': 'wangwu', 'age': 30}]) 3.2 \u7248\u672c\u540e\u8fd8\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\u53ef\u7528\u4e8e\u63d2\u5165\u6587\u6863: db.collection.insertOne ():\u5411\u6307\u5b9a\u96c6\u5408\u4e2d\u63d2\u5165\u4e00\u6761\u6587\u6863\u6570z\u636e db.collection.insertMany ():\u5411\u6307\u5b9a\u96c6\u5408\u4e2d\u63d2\u5165\u591a\u6761\u6587\u6863\u6570\u636e db.user.insertOne({'name':'lisi', 'age': 20}) db.user.insertMany([{'name':'lisi', 'age': 20},{'name': 'wangwu', 'age': 30}]) (2) \u4f7f\u7528save db.\u96c6\u5408\u540d.save(\u6587\u6863) #\u65b0\u6dfb\u52a0 \u4e00\u4e2a\u6587\u6863 db.\u96c6\u5408\u540d.save({_id:ObjectId(\"59a385d4a356cb252c1dcd73\"),\u6587\u6863}) #\u5bf9\u539f\u6709\u7684\u6570\u636e\u8fdb\u884c\u8986\u76d6 python db.user.save({_id:ObjectId(\"59a385d4a356cb252c1dcd73\"),name:\"\u738b\u4e94\"}) \u4e03\u3001FIND \u67e5\u8be2 (1) find \u67e5\u8be2\u6240\u6709 \u200b db.\u96c6\u5408\u540d.find([\u6761\u4ef6],{key1:1[,[key2:1]]}) #\u67e5\u8be2\u6240\u6709\u7684\u6570\u636e \u4ee3\u8868 \u663e\u793a\u54ea\u4e9b\u5b57\u6bb5\u540d \u200b db.collection.find(query, {title: 1, by: 1}) // inclusion\u6a21\u5f0f \u6307\u5b9a\u8fd4\u56de\u7684\u952e\uff0c\u4e0d\u8fd4\u56de\u5176\u4ed6\u952e \u200b db.collection.find(query, {title: 0, by: 0}) // exclusion\u6a21\u5f0f \u6307\u5b9a\u4e0d\u8fd4\u56de\u7684\u952e,\u8fd4\u56de\u5176\u4ed6\u952e \u6ce8\u610f\uff1a \u4e24\u79cd\u6a21\u5f0f\u4e0d\u53ef\u6df7\u7528\uff08\u56e0\u4e3a\u8fd9\u6837\u7684\u8bdd\u65e0\u6cd5\u63a8\u65ad\u5176\u4ed6\u952e\u662f\u5426\u5e94\u8fd4\u56de\uff09 db.collection.find(query, {title: 1, by: 0}) // \u9519\u8bef _id \u952e\u9ed8\u8ba4\u8fd4\u56de\uff0c\u9700\u8981\u4e3b\u52a8\u6307\u5b9a _id:0 \u624d\u4f1a\u9690\u85cf \u53ea\u80fd\u51681\u6216\u51680\uff0c\u9664\u4e86\u5728inclusion\u6a21\u5f0f\u65f6\u53ef\u4ee5\u6307\u5b9a_id\u4e3a0 db.collection.find(query, {_id:0, title: 1, by: 1}) // \u6b63\u786e \u5b9e\u4f8b db.user.find({}, {'name': 0}) db.user.find({'age': 18}, {'name': 1}) # \u53ea\u8fd4\u56de\u90a3\u4e48\u5b57\u6bb5 db.user.find({'age': 18}, {'name': 0}) # \u4e0d\u8fd4\u56dename\u5b57\u6bb5 (2) findOne() \u67e5\u8be2\u4e00\u6761 \u200b db.\u96c6\u5408\u540d.findOne([\u6761\u4ef6],{key1:1[,[key2:1]]}) #\u67e5\u8be2\u4e00\u6761\u6570\u636e \u4ee3\u8868 \u663e\u793a\u54ea\u4e9b\u5b57\u6bb5\u540d db.user.findOne({}, {name:1}) (3) count \u7edf\u8ba1\u6570\u636e\u6761\u6570 \u200b db.\u96c6\u5408\u540d.find([\u6761\u4ef6]).count() db.user.find({}).count() (4) pretty() \u5c55\u5f00\u6765\u67e5\u770b \u200b db.\u96c6\u5408\u540d.find([\u6761\u4ef6]).pretty() db.user.find({}).pretty() (5) \u67e5\u8be2\u6761\u4ef6\u7684\u64cd\u4f5c\u7b26 \u7b26\u53f7 \u7b26\u53f7\u8bf4\u660e \u5b9e\u4f8b \u8bf4\u660e $gt \u5927\u4e8e db.user.find({age:{$gt:18}}) \u5e74\u9f84\u5927\u4e8e18 \u7684 $gte \u5927\u4e8e\u7b49\u4e8e db.user.find({age:{$gte:18}}) \u5e74\u9f84\u5927\u4e8e\u7b49\u4e8e18\u7684 $lt \u5c0f\u4e8e db.user.find({age:{$lt:18}}) \u5e74\u9f84\u5c0f\u4e8e18 $lte \u5c0f\u4e8e\u7b49\u4e8e db.user.find({age:{$lte:18}}) \u5e74\u9f84\u5c0f\u4e8e\u7b49\u4e8e18 {key:value} \u7b49\u4e8e db.user.find({age:18}) \u5e74\u9f84\u7b49\u4e8e18 { \"_id\" : ObjectId(\"5c2caba840b9441 054372217\")} \u4f7f\u7528id\u67e5\u8be2 db.user.find({ \"_id\" : ObjectId(\"5c2caba840b944 1054372217\")}) \u67e5\u627eid\u4e3a\"5c2caba840b94410 54372217\"\u6587\u6863 /\u503c/ \u6a21\u7cca\u67e5\u8be2 db.user.find({username:/\u5c0f/}) \u67e5\u8be2\u5e74\u9f84\u4e2d\u5305\u542b\u5c0f\u5b57\u7684\u6587\u6863 /^\u503c/ \u4ee5...\u4f5c\u4e3a\u5f00\u5934 db.user.find({username:/^\u5c0f/}) \u67e5\u8be2username\u4e2d\u4ee5\u5c0f\u5b57\u4f5c\u4e3a\u5f00\u5934\u7684\u6587\u6863 /\u503c$/ \u4ee5...\u4f5c\u4e3a\u7ed3\u5c3e db.user.find({username:/\u5c0f$/}) \u67e5\u8be2username\u4e2d\u4ee5\u5c0f\u5b57\u4f5c\u4e3a\u7ed3\u5c3e\u7684\u6587\u6863 $in \u5728...\u5185 db.user.find({age:{$in:[18,20,30]}) \u67e5\u8be2\u5e74\u9f84\u572818,20,30\u7684\u6587\u6863 $nin \u4e0d\u5728...\u5185 db.user.find({age:{$nin:[18,20,30]}}) \u67e5\u8be2\u5e74\u9f84\u4e0d\u5728 1,20,30\u7684\u6587\u6863 $ne \u4e0d\u7b49\u4e8e != db.user.find({age:{$ne:18}}) \u67e5\u8be2\u5e74\u9f84\u4e0d\u4e3a18\u7684\u6587\u6863 (6) AND \u67e5\u8be2 db.col.find({key1:value1, key2:value2})pretty() db.\u96c6\u5408\u540d.find({\u6761\u4ef6\u4e00\uff0c\u6761\u4ef6\u4e8c,,,}) \u4f8b\u5982\uff1a db.user.find({name:\"\u5f20\u4e09\",age:{$gt:10}}) #\u67e5\u8be2name\u4e3a\u5f20\u4e09\u7684 \u4e14 \u5e74\u9f84 \u5927\u4e8e10\u5c81\u7684 db.user.find({name:\"\u5f20\u4e09\",age:10}) #\u67e5\u8be2name\u4e3a\u5f20\u4e09\u7684 \u4e14 \u5e74\u9f84\u4e3a10\u5c81\u7684 db.user.find({name:\"\u5f20\u4e09\",age:{$gte:10,$lte:28}}) #name\u4e3a\u5f20\u4e09 \u5e74\u9f84 \u5927\u4e8e\u7b49\u4e8e10 \u5c0f\u4e8e\u7b49\u4e8e28 (7) OR \u67e5\u8be2 db.\u96c6\u5408\u540d.find({$or:[{\u6761\u4ef6\u4e00},{\u6761\u4ef6\u4e8c},,,]}) \u4f8b\u5982\uff1a db.user.find({$or:[{name:\"\u5f20\u4e09\"},{name:\"\u8d75\u516d\"}]}) #\u67e5\u8be2name\u4e3a\u5f20\u4e09 \u6216\u8005\u4e3a\u8d75\u516d\u7684\u6240\u6709\u6570\u636e (8) AND \u548c OR \u7684\u4f7f\u7528 db.\u96c6\u5408\u540d.find({\u6761\u4ef6\u4e00,,,$or:[{\u6761\u4ef61},{\u6761\u4ef62}]}) \u4f8b\u5982: db.user.find({name:\"\u5f20\u4e09\",$or:[{age:10},{age:28}]}) #name\u4e3a\u5f20\u4e09 \u5e74\u9f84\u4e3a10\u5c81\u6216\u800528\u5c81\u7684\u6240\u6709\u6570\u636e (9) LIMIT \u53d6\u503c db.\u96c6\u5408\u540d.find().limit(num) #\u4ece\u7b2c0\u4e2a\u5f00\u59cb\u53d6\u51e0\u4e2a \u4f8b\u5982\uff1a db.user.find().limit(5) #\u4ece0\u5f00\u59cb\u53d65\u6761\u6570\u636e (10) skip \u8df3\u8fc7\u51e0\u4e2a db.\u96c6\u5408\u540d.find().skip(num) #\u8df3\u8fc7\u51e0\u6761\u6570\u636e \u4f8b\u5982: db.user.find().skip(2) #\u4ece\u7b2c\u4e09\u6761\u6570\u636e \u53d6\u5230\u6700\u540e (11) limit skip \u914d\u5408\u4f7f\u7528 db.\u96c6\u5408\u540d.find().skip().limit(num) \u4f8b\u5982: db.user.find().skip(2).limit(2) #\u4ece\u7b2c\u4e09\u4e2a\u5f00\u59cb \u53d62\u4e2a (12) SORT \u6392\u5e8f \u5728MongoDB\u4e2d\u4f7f\u7528\u4f7f\u7528sort()\u65b9\u6cd5\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u5e8f\uff0csort()\u65b9\u6cd5\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u6307\u5b9a\u6392\u5e8f\u7684\u5b57\u6bb5\uff0c\u5e76\u4f7f\u7528 1 \u548c -1 \u6765\u6307\u5b9a\u6392\u5e8f\u7684\u65b9\u5f0f\uff0c\u5176\u4e2d 1 \u4e3a\u5347\u5e8f\u6392\u5217\uff0c\u800c-1\u662f\u7528\u4e8e\u964d\u5e8f\u6392\u5217\u3002 db.\u96c6\u5408\u540d.find().sort({key:1|-1}) #\u5347\u5e8f\u6216\u8005\u964d\u5e8f \u4f8b\u5982: db.user.find().sort({age:1}) #\u67e5\u8be2\u6240\u6709\u6570\u636e \u6309\u7167\u5e74\u9f84 \u5347\u5e8f db.user.find().sort({age:-1}) #\u67e5\u8be2\u6240\u6709\u6570\u636e \u6309\u7167\u5e74\u9f84 \u964d\u5e8f \u516b\u3001UPDATE \u6587\u6863\u7684\u4fee\u6539 \u7ed3\u6784\uff1a db.collection.update( <query>, <update>, { upsert: <boolean>, multi: <boolean>, writeConcern: <document> } )u query : update\u7684\u67e5\u8be2\u6761\u4ef6\uff0c\u7c7b\u4f3csql update\u67e5\u8be2\u5185where\u540e\u9762\u7684\u3002 update : update\u7684\u5bf9\u8c61\u548c\u4e00\u4e9b\u66f4\u65b0\u7684\u64cd\u4f5c\u7b26\uff08\u5982$,$inc...\uff09\u7b49\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3asql update\u67e5\u8be2\u5185set\u540e\u9762\u7684 upsert : \u53ef\u9009\uff0c\u8fd9\u4e2a\u53c2\u6570\u7684\u610f\u601d\u662f\uff0c\u5982\u679c\u4e0d\u5b58\u5728update\u7684\u8bb0\u5f55\uff0c\u662f\u5426\u63d2\u5165objNew,true\u4e3a\u63d2\u5165\uff0c\u9ed8\u8ba4\u662ffalse\uff0c\u4e0d\u63d2\u5165\u3002 multi : \u53ef\u9009\uff0cmongodb \u9ed8\u8ba4\u662ffalse,\u53ea\u66f4\u65b0\u627e\u5230\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u5982\u679c\u8fd9\u4e2a\u53c2\u6570\u4e3atrue,\u5c31\u628a\u6309\u6761\u4ef6\u67e5\u51fa\u6765\u591a\u6761\u8bb0\u5f55\u5168\u90e8\u66f4\u65b0 (1) \u66f4\u65b0\u64cd\u4f5c\u7b26 $set\u76f4\u63a5\u4fee\u6539 $inc\u7d2f\u52a0\u4fee\u6539 db.\u96c6\u5408\u540d.update(\u6761\u4ef6,\u6570\u636e,{multi:true}) \u66f4\u6539 ```sql db.user.update({name:\"\u5f20\u4e09\"},{$inc:{age:5}}) #\u4fee\u6539name\u4e3a\u5f20\u4e09\u7684\u6587\u6863 \u5c06age\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a \u52a05 db.user.update({name:\"\u5f20\u4e09\"},{$set:{age:5}}) #\u4fee\u6539name\u4e3a\u5f20\u4e09\u7684\u6587\u6863 \u5c06age\u7684\u503c \u4fee\u6539\u4e3a5 db.user.update({name:\"\u5f20\u4e09\"},{$set:{age:5}},{multi:true}) #\u5c06\u6240\u6709name\u4e3a\u5f20\u4e09\u7684\u6587\u6863 \u7684\u5e74\u9f84 \u5168\u90e8\u4fee\u6539\u4e3a 5 ``` \u53ea\u66f4\u65b0\u7b2c\u4e00\u6761\u8bb0\u5f55\uff1a sql db.col.update({\"count\" : {$gt:1}} , { $set : {\"test2\" : \"OK\"}}); \u5168\u90e8\u66f4\u65b0\uff1a sql db.col.update({\"count\" : {$gt: 3 }} , {$set : {\"test2\" : \"OK\"} },false,true); \u53ea\u6dfb\u52a0\u7b2c\u4e00\u6761\uff1a sql db.col.update({ \"count\" : { $gt : 4 }} , {$set : {\"test5\" : \"OK\"} },true,false ); 3.2\u7248\u672c\u4ee5\u540e updateOne() \u66f4\u65b0\u4e00\u6761 db.user.updateOne({'name':'lisi'}, {$inc:{'age':5}}) updateMany(query,update) \u66f4\u65b0\u591a\u6761 db.user.updateMany({'name':'lisi'}, {$inc:{'age':5}}) \u4e5d\u3001REMOVE \u6587\u6863\u7684\u5220\u9664 \u4e3b\u4f53\u7ed3\u6784 db.collection.remove( <query>, { justOne: <boolean>, writeConcern: <document> } ) (1)\u53c2\u6570\u8bf4\u660e\uff1a query :\uff08\u53ef\u9009\uff09\u5220\u9664\u7684\u6587\u6863\u7684\u6761\u4ef6\u3002 justOne : \uff08\u53ef\u9009\uff09\u5982\u679c\u8bbe\u4e3a true \u6216 1\uff0c\u5219\u53ea\u5220\u9664\u4e00\u4e2a\u6587\u6863\u3002 writeConcern :\uff08\u53ef\u9009\uff09\u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\u3002 (2) \u4e3b\u4f53\u7ed3\u6784 db.\u96c6\u5408\u540d.remove(\u6761\u4ef6) #\u9ed8\u8ba4\u5c06\u6240\u6709\u90fd\u5339\u914d\u5230\u7684\u6570\u636e\u8fdb\u884c\u5220\u9664 db.\u96c6\u5408\u540d.remove(\u6761\u4ef6,1) #\u53ea\u5220\u9664 \u7b2c\u4e00\u4e2a\u5339\u914d\u5230\u7684\u6570\u636e db.\u96c6\u5408\u540d.remove(\u6761\u4ef6,,{justOne:true}) #\u53ea\u5220\u9664 \u7b2c\u4e00\u4e2a\u5339\u914d\u5230\u7684\u6570\u636e \u793a\u4f8b b.user.remove({'age':{$gt: 30}}) # \u5220\u9664\u5e74\u9f84\u5927\u4e8e30\u7684\u6240\u6709\u6570\u636e b.user.remove({'age':{$gt: 30}}, 1) # \u5220\u9664\u5e74\u9f84\u5927\u4e8e30\u7684\u4e00\u6761\u6570\u636e db.col.remove({}) \u6e05\u7a7a\u96c6\u5408 \"col\" \u7684\u6570\u636e (3) 3.2 \u7248\u672c\u540e\u8fd8\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\u53ef\u7528\u4e8e\u5220\u9664\u6587\u6863: remove() \u65b9\u6cd5\u5df2\u7ecf\u8fc7\u65f6\u4e86\uff0c\u73b0\u5728\u5b98\u65b9\u63a8\u8350\u4f7f\u7528 deleteOne() \u5220\u9664\u4e00\u6761 db.user.deleteOne({'age':{$gt: 0}}) deleteMany() \u5220\u9664\u591a\u6761 db.user.deleteMany({'age':{$gt: 0}}) \u5341\u3001\u6570\u636e\u5e93\u5220\u9664\u4e0e\u9000\u51fa (1) \u6570\u636e\u5e93\u5220\u9664 \u5220\u9664\u4e4b\u524d \u6700\u597duse\u4e00\u4e0b db.dropDatabase() (2) \u6570\u636e\u5e93\u7684\u9000\u51fa exit \u5341\u4e00\u3001Python\u64cd\u4f5cMongoDB 1\u3001\u5bfc\u5165 pymongo from pymongo import MongoClient 2\u3001\u8fde\u63a5\u670d\u52a1\u5668 \u7aef\u53e3\u53f7 27017 (1) \u8fde\u63a5MongoDB \u8fde\u63a5MongoDB\u6211\u4eec\u9700\u8981\u4f7f\u7528PyMongo\u5e93\u91cc\u9762\u7684MongoClient\uff0c\u4e00\u822c\u6765\u8bf4\u4f20\u5165MongoDB\u7684IP\u53ca\u7aef\u53e3\u5373\u53ef\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5730\u5740host\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u7aef\u53e3port\uff0c\u7aef\u53e3\u5982\u679c\u4e0d\u4f20\u9ed8\u8ba4\u662f27017\u3002 (2) \u4ee3\u7801 conn = MongoClient(\"localhost\") MongoClient(host='127.0.0.1',port=27017) 3\u3001\u8fde\u63a5\u6570\u636e\u5e93 db = conn.\u6570\u636e\u5e93\u540d\u79f0 \u8fde\u63a5\u96c6\u5408 collection = db.collection_name 4\u3001\u63d2\u5165\u6570\u636e (1) \u57283.x\u4ee5\u4e0a \u5efa\u8bae \u4f7f\u7528 insert_one \u63d2\u5165\u4e00\u6761\u6570\u636e insert_many() \u63d2\u5165\u591a\u6761\u6570\u636e (2) \u8fd4\u56de id \u4f7f\u7528insert_one() data.inserted_id data.inserted_ids 5\u3001\u67e5\u8be2\u6570\u636e (1) \u67e5\u8be2\u4e00\u6761 db.user.find_one() (2) \u5e26\u6761\u4ef6\u67e5\u8be2 db.user.find({\"name\":\"\u5f20\u4e09\"}) (3) \u67e5\u8be2 id from bson.objectid import ObjectId*#\u7528\u4e8eID\u67e5\u8be2 data = db.user.find({ \"_id\" :ObjectId( \"59a2d304b961661b209f8da1\" )}) data = db.user.find({'_id': ObjectId('59f290b01683f9339214746d')}) #_id': ObjectId('59f290b01683f9339214746d') (5) \u6a21\u7cca\u67e5\u8be2 {\"name\":{'$regex':\"\u5f20\"}} {'xxx':re.compile('xxx')} 6\u3001sort limit skip (1) sort \u6392\u5e8f \u5e74\u9f84 \u5927\u4e8e10 data = db.user.find({\"age\":{\"$gt\":10}}).sort(\"age\",1) #\u5e74\u9f84 \u5347\u5e8f \u67e5\u8be2 pymongo.ASCENDING --\u5347\u5e8f data = db.user.find({\"age\":{\"$gt\":10}}).sort(\"age\",-1) #\u5e74\u9f84 \u964d\u5e8f \u67e5\u8be2 pymongo.DESCENDING --\u964d\u5e8f (2) limit \u53d6\u503c \u53d6\u4e09\u6761\u6570\u636e db.user.find().limit(3) m= db.user.find({\"age\":{\"$gt\":10}}).sort(\"age\",-1).limit(3) (3) skip \u4ece\u7b2c\u51e0\u6761\u6570\u636e\u5f00\u59cb\u53d6 db.user.find().skip(2) 7\u3001update \u4fee\u6539 update()\u65b9\u6cd5\u5176\u5b9e\u4e5f\u662f\u5b98\u65b9\u4e0d\u63a8\u8350\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u5728\u8fd9\u91cc\u4e5f\u5206\u4e86 update_one() \u65b9\u6cd5\u548c update_many() \u65b9\u6cd5\uff0c\u7528\u6cd5\u66f4\u52a0\u4e25\u683c\uff0c (1) update_one() \u7b2c\u4e00\u6761\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u8fdb\u884c\u66f4\u65b0 db.user.update_one({\"name\":\"\u5f20\u4e09\"},{\"$set\":{\"age\":99}}) (2) update_many() \u5c06\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u90fd\u66f4\u65b0 db.user.update_many({ \"name\" : \"\u5f20\u4e09\" },{ \"$set\" :{ \"age\" :91}}) (3) \u5176\u8fd4\u56de\u7ed3\u679c\u662fUpdateResult\u7c7b\u578b\uff0c\u7136\u540e\u8c03\u7528 matched_count \u548c modified_count \u5c5e\u6027\u5206\u522b\u53ef\u4ee5\u83b7\u5f97\u5339\u914d\u7684\u6570\u636e\u6761\u6570\u548c\u5f71\u54cd\u7684\u6570\u636e\u6761\u6570\u3002 result.matched_count result.modified_count 8\u3001remove \u5220\u9664 \u5220\u9664\u64cd\u4f5c\u6bd4\u8f83\u7b80\u5355\uff0c\u76f4\u63a5\u8c03\u7528remove()\u65b9\u6cd5\u6307\u5b9a\u5220\u9664\u7684\u6761\u4ef6\u5373\u53ef\uff0c\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709\u6570\u636e\u5747\u4f1a\u88ab\u5220\u9664\uff0c (1) \u5220\u9664\u4e00\u6761 delete_one()\u5373\u5220\u9664\u7b2c\u4e00\u6761\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e collection.delete_one({\u201cname\u201d:\u201c Kevin\u201d}) (2) \u5220\u9664\u591a\u6761 delete_many()\u5373\u5220\u9664\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\uff0c\u8fd4\u56de\u7ed3\u679c\u662fDeleteResult\u7c7b\u578b collection.delete_many({\u201cage\u201d: {$lt:25}}) (4) \u53ef\u4ee5\u8c03\u7528deleted_count\u5c5e\u6027\u83b7\u53d6\u5220\u9664\u7684\u6570\u636e\u6761\u6570\u3002 result.deleted_count 9\u3001\u5173\u95ed\u8fde\u63a5 conn.close()","title":"\u5341\u4e09\u3001Mongodb"},{"location":"13%E3%80%81Mongodb.html#mongodb","text":"\u4e0b\u8f7dmongodb\u7684\u7248\u672c\uff0c\u4e24\u70b9\u6ce8\u610f \u6839\u636e\u4e1a\u754c\u89c4\u5219\uff0c\u5076\u6570\u4e3a\u7a33\u5b9a\u7248\uff0c\u59821.6.X\uff0c\u5947\u6570\u4e3a\u5f00\u53d1\u7248\uff0c\u59821.7.X 32bit\u7684mongodb\u6700\u5927\u53ea\u80fd\u5b58\u653e2G\u7684\u6570\u636e\uff0c64bit\u5c31\u6ca1\u6709\u9650\u5236 \u6027\u80fd BSON\u683c\u5f0f\u7684\u7f16\u7801\u548c\u89e3\u7801\u90fd\u662f\u975e\u5e38\u5feb\u901f\u7684\u3002\u5b83\u4f7f\u7528\u4e86C\u98ce\u683c\u7684\u6570\u636e\u8868\u73b0\u5f62\u5f0f\uff0c\u8fd9\u6837\u5728\u5404\u79cd\u8bed\u8a00\u4e2d\u90fd\u53ef\u4ee5\u9ad8\u6548\u5730\u4f7f\u7528\u3002 NoSQL(NoSQL = Not Only SQL )\uff0c\u610f\u5373\"\u4e0d\u4ec5\u4ec5\u662fSQL\"\u3002 MongoDB \u5c06\u6570\u636e\u5b58\u50a8\u4e3a\u4e00\u4e2a\u6587\u6863\uff0c\u6570\u636e\u7ed3\u6784\u7531\u952e\u503c(key=>value)\u5bf9\u7ec4\u6210\u3002MongoDB \u6587\u6863\u7c7b\u4f3c\u4e8e JSON \u5bf9\u8c61\u3002\u5b57\u6bb5\u503c\u53ef\u4ee5\u5305\u542b\u5176\u4ed6\u6587\u6863\uff0c\u6570\u7ec4\u53ca\u6587\u6863\u6570\u7ec4\u3002","title":"\u5341\u4e09\u3001Mongodb"},{"location":"13%E3%80%81Mongodb.html#windows","text":"\u4e0b\u8f7dmongodb\u7684\u7248\u672c\uff0c\u4e24\u70b9\u6ce8\u610f \u6839\u636e\u4e1a\u754c\u89c4\u5219\uff0c\u5076\u6570\u4e3a\u7a33\u5b9a\u7248\uff0c\u59821.6.X\uff0c\u5947\u6570\u4e3a\u5f00\u53d1\u7248\uff0c\u59821.7.X 32bit\u7684mongodb\u6700\u5927\u53ea\u80fd\u5b58\u653e2G\u7684\u6570\u636e\uff0c64bit\u5c31\u6ca1\u6709\u9650\u5236 \u9996\u5148\u53bb\u5b98\u7f51\u4e0b\u8f7dMongoDB\u7684\u5b89\u88c5\u5305, https://www.mongodb.com/try/download/community \u5c06mongodb\u76ee\u5f55\u4e0b\u7684bin\u6587\u4ef6\u5939\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf \u5bf9\u4e8emac\u7684\u5b89\u88c5\u53ef\u4ee5\u4f7f\u7528homebrew\u5b89\u88c5. \u6216\u53c2\u8003\u8fd9\u91cchttps://www.runoob.com/mongodb/mongodb-osx-install.html","title":"\u4e00\u3001\u5b89\u88c5(windows)"},{"location":"13%E3%80%81Mongodb.html#mongodb_1","text":"SQL\u672f\u8bed/\u6982\u5ff5 MongoDB\u672f\u8bed/\u6982\u5ff5 \u89e3\u91ca/\u8bf4\u660e database database \u6570\u636e\u5e93 table collection \u6570\u636e\u5e93\u8868/\u96c6\u5408 row document \u6570\u636e\u8bb0\u5f55\u884c/\u6587\u6863 column field \u6570\u636e\u5b57\u6bb5/\u57df","title":"\u4e00\u3001MongoDB \u6982\u5ff5\u89e3\u6790"},{"location":"13%E3%80%81Mongodb.html#_1","text":"\u4e0b\u8868\u4e3aMongoDB\u4e2d\u5e38\u7528\u7684\u51e0\u79cd\u6570\u636e\u7c7b\u578b\uff1a Object ID\uff1a\u6587\u6863ID String\uff1a\u5b57\u7b26\u4e32\uff0c\u6700\u5e38\u7528\uff0c\u5fc5\u987b\u662f\u6709\u6548\u7684UTF-8 Boolean\uff1a\u5b58\u50a8\u4e00\u4e2a\u5e03\u5c14\u503c\uff0ctrue\u6216false Integer\uff1a\u6574\u6570\u53ef\u4ee5\u662f32\u4f4d\u621664\u4f4d\uff0c\u8fd9\u53d6\u51b3\u4e8e\u670d\u52a1\u5668 Double\uff1a\u5b58\u50a8\u6d6e\u70b9\u503c Arrays\uff1a\u6570\u7ec4\u6216\u5217\u8868\uff0c\u591a\u4e2a\u503c\u5b58\u50a8\u5230\u4e00\u4e2a\u952e Object\uff1a\u7528\u4e8e\u5d4c\u5165\u5f0f\u7684\u6587\u6863\uff0c\u5373\u4e00\u4e2a\u503c\u4e3a\u4e00\u4e2a\u6587\u6863 Null\uff1a\u5b58\u50a8Null\u503c Timestamp\uff1a\u65f6\u95f4\u6233 Date\uff1a\u5b58\u50a8\u5f53\u524d\u65e5\u671f\u6216\u65f6\u95f4\u7684UNIX\u65f6\u95f4\u683c\u5f0f","title":"\u4e8c\u3001\u6570\u636e\u7c7b\u578b"},{"location":"13%E3%80%81Mongodb.html#_2","text":"\u6587\u6863\u4e2d\u7684\u952e/\u503c\u5bf9\u662f\u6709\u5e8f\u7684\u3002 \u6587\u6863\u4e2d\u7684\u503c\u4e0d\u4ec5\u53ef\u4ee5\u662f\u5728\u53cc\u5f15\u53f7\u91cc\u9762\u7684\u5b57\u7b26\u4e32,\u8fd8\u53ef\u4ee5\u662f\u5176\u4ed6\u51e0\u79cd\u6570\u636e\u7c7b\u578b\uff08\u751a\u81f3\u53ef\u4ee5\u662f\u6574\u4e2a\u5d4c\u5165\u7684\u6587\u6863)\u3002 MongoDB\u533a\u5206\u7c7b\u578b\u548c\u5927\u5c0f\u5199\u3002 MongoDB\u7684\u6587\u6863\u4e0d\u80fd\u6709\u91cd\u590d\u7684\u952e\u3002 \u6587\u6863\u7684\u952e\u662f\u5b57\u7b26\u4e32\u3002\u9664\u4e86\u5c11\u6570\u4f8b\u5916\u60c5\u51b5\uff0c\u952e\u53ef\u4ee5\u4f7f\u7528\u4efb\u610fUTF-8\u5b57\u7b26\u3002","title":"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a"},{"location":"13%E3%80%81Mongodb.html#_3","text":".\u548c$\u6709\u7279\u522b\u7684\u610f\u4e49\uff0c\u53ea\u6709\u5728\u7279\u5b9a\u73af\u5883\u4e0b\u624d\u80fd\u4f7f\u7528\u3002 \u4ee5\u4e0b\u5212\u7ebf\"_\"\u5f00\u5934\u7684\u952e\u662f\u4fdd\u7559\u7684(\u4e0d\u662f\u4e25\u683c\u8981\u6c42\u7684)\u3002","title":"\u6587\u6863\u952e\u547d\u540d\u89c4\u8303\uff1a"},{"location":"13%E3%80%81Mongodb.html#mongodb_2","text":"","title":"\u56db\u3001\u8fde\u63a5Mongodb"},{"location":"13%E3%80%81Mongodb.html#1-cd-mongobin","text":"\u8f93\u5165 mongod.exe --dbpath=\u8def\u5f84","title":"(1) cd mongo\u5b89\u88c5\u7684\u76ee\u5f55/bin"},{"location":"13%E3%80%81Mongodb.html#2-windows-mongobin","text":"\u200b cd mongo\u5b89\u88c5\u7684\u76ee\u5f55/bin \u200b mongo.exe #\u6b64\u523b \u8fdb\u5165\u5230Mongodb\u6570\u636e\u5e93\u4e86","title":"(2) \u91cd\u65b0\u542f\u52a8\u4e00\u4e2aWindows\u7684\u7ec8\u7aef \u518d\u6b21\u8fdb\u5165\u5230 mongo\u5b89\u88c5\u7684\u76ee\u5f55/bin"},{"location":"13%E3%80%81Mongodb.html#_4","text":"","title":"\u4e94\u3001 \u5bf9\u4e8e\u5e93\u7684\u64cd\u4f5c"},{"location":"13%E3%80%81Mongodb.html#1","text":"\u200b show dbs","title":"(1) \u67e5\u770b\u6240\u6709\u7684\u5e93"},{"location":"13%E3%80%81Mongodb.html#2","text":"\u200b use \u5e93\u540d \u200b \u6ce8\u610f: \u200b \u65b0\u521b\u5efa\u7684\u6570\u636e\u5e93 \u9ed8\u8ba4\u4f60\u662f\u770b\u4e0d\u5230\u7684 \u53ef\u4ee5\u4f7f\u7528db/db.getName() \u53bb\u67e5\u770b\u5f53\u524d\u6240\u5728\u7684\u5e93 \u5f80\u65b0\u7684\u5e93\u91cc\u521b\u5efa\u96c6\u5408","title":"(2) \u9009\u62e9\u6570\u636e\u5e93 (\u5982\u679c\u4f7f\u7528\u7684\u6570\u636e\u5e93\u5b58\u5728 \u5219\u4f7f\u7528 \u4e0d\u5b58\u5728 \u5219\u521b\u5efa)"},{"location":"13%E3%80%81Mongodb.html#3","text":"1. db 2. db.getName()","title":"(3) \u67e5\u770b\u5f53\u524d\u6240\u5728\u7684\u6570\u636e\u5e93"},{"location":"13%E3%80%81Mongodb.html#4","text":"db.createCollection(\"\u96c6\u5408\u540d\") remo\u4f8b\u5982\uff1adb.createCollection(\"user\") #\u521b\u5efa\u4e00\u4e2auser\u7684\u96c6\u5408 \u5728\u5f53\u524d\u7684\u5e93\u91cc db.\u96c6\u5408\u540d.insert(\u6587\u6863) #\u5982\u679c \u5f53\u524d\u7684\u96c6\u5408\u540d\u4e0d\u5b58\u5728 \u90a3\u4e48\u5c31\u521b\u5efa\u8be5\u96c6\u5408 \u5e76\u63d2\u5165\u6587\u6863(\u6570\u636e) \u6ce8\u610f\uff1a 1. \u5728\u5e93\u91cc\u5bf9\u4e8e\u6587\u6863 \u96c6\u5408\u7684\u64cd\u4f5c \u7edf\u4e00\u4f7f\u7528db. (db\u4ee3\u8868\u5f53\u524d\u7684\u5e93) 2. \u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199","title":"(4) \u521b\u5efa\u96c6\u5408(\u4e5f\u5c31\u662f\u521b\u5efa\u8868)"},{"location":"13%E3%80%81Mongodb.html#5","text":"\u200b show collections","title":"(5) \u67e5\u770b\u5f53\u524d\u5e93\u4e0b\u7684\u6240\u6709\u96c6\u5408"},{"location":"13%E3%80%81Mongodb.html#6","text":"\u200b db.\u96c6\u5408\u540d.drop()","title":"(6) \u5220\u9664\u96c6\u5408"},{"location":"13%E3%80%81Mongodb.html#insertsave","text":"","title":"\u516d\u3001INSERT/SAVE\u6587\u6863\u7684\u6dfb\u52a0"},{"location":"13%E3%80%81Mongodb.html#1-insert-insert","text":"\u200b db.\u96c6\u5408\u540d.insert(\u6587\u6863) #\u5982\u679c\u662f\u6dfb\u52a0\u6570\u636e \u5efa\u8bae\u4f7f\u7528 insert \u63d2\u5165\u591a\u6761\u6570\u636e: \u200b db.\u96c6\u5408\u540d.insert([\u6587\u6863]) #\u6ce8\u610f \u4e00\u5b9a\u8981\u52a0[] \u5426\u5219\u53ef\u80fd\u53ea\u4f1a\u628a \u7b2c\u4e00\u6761\u6587\u6863\u63d2\u5165\u8fdb\u53bb db.user.insert({'name':'lisi', 'age': 20}) db.user.insert([{'name':'lisi', 'age': 20},{'name': 'wangwu', 'age': 30}]) 3.2 \u7248\u672c\u540e\u8fd8\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\u53ef\u7528\u4e8e\u63d2\u5165\u6587\u6863: db.collection.insertOne ():\u5411\u6307\u5b9a\u96c6\u5408\u4e2d\u63d2\u5165\u4e00\u6761\u6587\u6863\u6570z\u636e db.collection.insertMany ():\u5411\u6307\u5b9a\u96c6\u5408\u4e2d\u63d2\u5165\u591a\u6761\u6587\u6863\u6570\u636e db.user.insertOne({'name':'lisi', 'age': 20}) db.user.insertMany([{'name':'lisi', 'age': 20},{'name': 'wangwu', 'age': 30}])","title":"(1) \u4f7f\u7528insert \u5982\u679c\u662f\u6dfb\u52a0\u6570\u636e \u5efa\u8bae\u4f7f\u7528 insert"},{"location":"13%E3%80%81Mongodb.html#2-save","text":"db.\u96c6\u5408\u540d.save(\u6587\u6863) #\u65b0\u6dfb\u52a0 \u4e00\u4e2a\u6587\u6863 db.\u96c6\u5408\u540d.save({_id:ObjectId(\"59a385d4a356cb252c1dcd73\"),\u6587\u6863}) #\u5bf9\u539f\u6709\u7684\u6570\u636e\u8fdb\u884c\u8986\u76d6 python db.user.save({_id:ObjectId(\"59a385d4a356cb252c1dcd73\"),name:\"\u738b\u4e94\"})","title":"(2) \u4f7f\u7528save"},{"location":"13%E3%80%81Mongodb.html#find","text":"","title":"\u4e03\u3001FIND \u67e5\u8be2"},{"location":"13%E3%80%81Mongodb.html#1-find","text":"\u200b db.\u96c6\u5408\u540d.find([\u6761\u4ef6],{key1:1[,[key2:1]]}) #\u67e5\u8be2\u6240\u6709\u7684\u6570\u636e \u4ee3\u8868 \u663e\u793a\u54ea\u4e9b\u5b57\u6bb5\u540d \u200b db.collection.find(query, {title: 1, by: 1}) // inclusion\u6a21\u5f0f \u6307\u5b9a\u8fd4\u56de\u7684\u952e\uff0c\u4e0d\u8fd4\u56de\u5176\u4ed6\u952e \u200b db.collection.find(query, {title: 0, by: 0}) // exclusion\u6a21\u5f0f \u6307\u5b9a\u4e0d\u8fd4\u56de\u7684\u952e,\u8fd4\u56de\u5176\u4ed6\u952e \u6ce8\u610f\uff1a \u4e24\u79cd\u6a21\u5f0f\u4e0d\u53ef\u6df7\u7528\uff08\u56e0\u4e3a\u8fd9\u6837\u7684\u8bdd\u65e0\u6cd5\u63a8\u65ad\u5176\u4ed6\u952e\u662f\u5426\u5e94\u8fd4\u56de\uff09 db.collection.find(query, {title: 1, by: 0}) // \u9519\u8bef _id \u952e\u9ed8\u8ba4\u8fd4\u56de\uff0c\u9700\u8981\u4e3b\u52a8\u6307\u5b9a _id:0 \u624d\u4f1a\u9690\u85cf \u53ea\u80fd\u51681\u6216\u51680\uff0c\u9664\u4e86\u5728inclusion\u6a21\u5f0f\u65f6\u53ef\u4ee5\u6307\u5b9a_id\u4e3a0 db.collection.find(query, {_id:0, title: 1, by: 1}) // \u6b63\u786e \u5b9e\u4f8b db.user.find({}, {'name': 0}) db.user.find({'age': 18}, {'name': 1}) # \u53ea\u8fd4\u56de\u90a3\u4e48\u5b57\u6bb5 db.user.find({'age': 18}, {'name': 0}) # \u4e0d\u8fd4\u56dename\u5b57\u6bb5","title":"(1) find \u67e5\u8be2\u6240\u6709"},{"location":"13%E3%80%81Mongodb.html#2-findone","text":"\u200b db.\u96c6\u5408\u540d.findOne([\u6761\u4ef6],{key1:1[,[key2:1]]}) #\u67e5\u8be2\u4e00\u6761\u6570\u636e \u4ee3\u8868 \u663e\u793a\u54ea\u4e9b\u5b57\u6bb5\u540d db.user.findOne({}, {name:1})","title":"(2) findOne() \u67e5\u8be2\u4e00\u6761"},{"location":"13%E3%80%81Mongodb.html#3-count","text":"\u200b db.\u96c6\u5408\u540d.find([\u6761\u4ef6]).count() db.user.find({}).count()","title":"(3) count \u7edf\u8ba1\u6570\u636e\u6761\u6570"},{"location":"13%E3%80%81Mongodb.html#4-pretty","text":"\u200b db.\u96c6\u5408\u540d.find([\u6761\u4ef6]).pretty() db.user.find({}).pretty()","title":"(4) pretty() \u5c55\u5f00\u6765\u67e5\u770b"},{"location":"13%E3%80%81Mongodb.html#5_1","text":"\u7b26\u53f7 \u7b26\u53f7\u8bf4\u660e \u5b9e\u4f8b \u8bf4\u660e $gt \u5927\u4e8e db.user.find({age:{$gt:18}}) \u5e74\u9f84\u5927\u4e8e18 \u7684 $gte \u5927\u4e8e\u7b49\u4e8e db.user.find({age:{$gte:18}}) \u5e74\u9f84\u5927\u4e8e\u7b49\u4e8e18\u7684 $lt \u5c0f\u4e8e db.user.find({age:{$lt:18}}) \u5e74\u9f84\u5c0f\u4e8e18 $lte \u5c0f\u4e8e\u7b49\u4e8e db.user.find({age:{$lte:18}}) \u5e74\u9f84\u5c0f\u4e8e\u7b49\u4e8e18 {key:value} \u7b49\u4e8e db.user.find({age:18}) \u5e74\u9f84\u7b49\u4e8e18 { \"_id\" : ObjectId(\"5c2caba840b9441 054372217\")} \u4f7f\u7528id\u67e5\u8be2 db.user.find({ \"_id\" : ObjectId(\"5c2caba840b944 1054372217\")}) \u67e5\u627eid\u4e3a\"5c2caba840b94410 54372217\"\u6587\u6863 /\u503c/ \u6a21\u7cca\u67e5\u8be2 db.user.find({username:/\u5c0f/}) \u67e5\u8be2\u5e74\u9f84\u4e2d\u5305\u542b\u5c0f\u5b57\u7684\u6587\u6863 /^\u503c/ \u4ee5...\u4f5c\u4e3a\u5f00\u5934 db.user.find({username:/^\u5c0f/}) \u67e5\u8be2username\u4e2d\u4ee5\u5c0f\u5b57\u4f5c\u4e3a\u5f00\u5934\u7684\u6587\u6863 /\u503c$/ \u4ee5...\u4f5c\u4e3a\u7ed3\u5c3e db.user.find({username:/\u5c0f$/}) \u67e5\u8be2username\u4e2d\u4ee5\u5c0f\u5b57\u4f5c\u4e3a\u7ed3\u5c3e\u7684\u6587\u6863 $in \u5728...\u5185 db.user.find({age:{$in:[18,20,30]}) \u67e5\u8be2\u5e74\u9f84\u572818,20,30\u7684\u6587\u6863 $nin \u4e0d\u5728...\u5185 db.user.find({age:{$nin:[18,20,30]}}) \u67e5\u8be2\u5e74\u9f84\u4e0d\u5728 1,20,30\u7684\u6587\u6863 $ne \u4e0d\u7b49\u4e8e != db.user.find({age:{$ne:18}}) \u67e5\u8be2\u5e74\u9f84\u4e0d\u4e3a18\u7684\u6587\u6863","title":"(5) \u67e5\u8be2\u6761\u4ef6\u7684\u64cd\u4f5c\u7b26"},{"location":"13%E3%80%81Mongodb.html#6-and","text":"db.col.find({key1:value1, key2:value2})pretty() db.\u96c6\u5408\u540d.find({\u6761\u4ef6\u4e00\uff0c\u6761\u4ef6\u4e8c,,,}) \u4f8b\u5982\uff1a db.user.find({name:\"\u5f20\u4e09\",age:{$gt:10}}) #\u67e5\u8be2name\u4e3a\u5f20\u4e09\u7684 \u4e14 \u5e74\u9f84 \u5927\u4e8e10\u5c81\u7684 db.user.find({name:\"\u5f20\u4e09\",age:10}) #\u67e5\u8be2name\u4e3a\u5f20\u4e09\u7684 \u4e14 \u5e74\u9f84\u4e3a10\u5c81\u7684 db.user.find({name:\"\u5f20\u4e09\",age:{$gte:10,$lte:28}}) #name\u4e3a\u5f20\u4e09 \u5e74\u9f84 \u5927\u4e8e\u7b49\u4e8e10 \u5c0f\u4e8e\u7b49\u4e8e28","title":"(6) AND \u67e5\u8be2"},{"location":"13%E3%80%81Mongodb.html#7-or","text":"db.\u96c6\u5408\u540d.find({$or:[{\u6761\u4ef6\u4e00},{\u6761\u4ef6\u4e8c},,,]}) \u4f8b\u5982\uff1a db.user.find({$or:[{name:\"\u5f20\u4e09\"},{name:\"\u8d75\u516d\"}]}) #\u67e5\u8be2name\u4e3a\u5f20\u4e09 \u6216\u8005\u4e3a\u8d75\u516d\u7684\u6240\u6709\u6570\u636e","title":"(7) OR \u67e5\u8be2"},{"location":"13%E3%80%81Mongodb.html#8-and-or","text":"db.\u96c6\u5408\u540d.find({\u6761\u4ef6\u4e00,,,$or:[{\u6761\u4ef61},{\u6761\u4ef62}]}) \u4f8b\u5982: db.user.find({name:\"\u5f20\u4e09\",$or:[{age:10},{age:28}]}) #name\u4e3a\u5f20\u4e09 \u5e74\u9f84\u4e3a10\u5c81\u6216\u800528\u5c81\u7684\u6240\u6709\u6570\u636e","title":"(8) AND \u548c OR \u7684\u4f7f\u7528"},{"location":"13%E3%80%81Mongodb.html#9-limit","text":"db.\u96c6\u5408\u540d.find().limit(num) #\u4ece\u7b2c0\u4e2a\u5f00\u59cb\u53d6\u51e0\u4e2a \u4f8b\u5982\uff1a db.user.find().limit(5) #\u4ece0\u5f00\u59cb\u53d65\u6761\u6570\u636e","title":"(9) LIMIT \u53d6\u503c"},{"location":"13%E3%80%81Mongodb.html#10-skip","text":"db.\u96c6\u5408\u540d.find().skip(num) #\u8df3\u8fc7\u51e0\u6761\u6570\u636e \u4f8b\u5982: db.user.find().skip(2) #\u4ece\u7b2c\u4e09\u6761\u6570\u636e \u53d6\u5230\u6700\u540e","title":"(10) skip \u8df3\u8fc7\u51e0\u4e2a"},{"location":"13%E3%80%81Mongodb.html#11-limit-skip","text":"db.\u96c6\u5408\u540d.find().skip().limit(num) \u4f8b\u5982: db.user.find().skip(2).limit(2) #\u4ece\u7b2c\u4e09\u4e2a\u5f00\u59cb \u53d62\u4e2a","title":"(11) limit skip \u914d\u5408\u4f7f\u7528"},{"location":"13%E3%80%81Mongodb.html#12-sort","text":"\u5728MongoDB\u4e2d\u4f7f\u7528\u4f7f\u7528sort()\u65b9\u6cd5\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u5e8f\uff0csort()\u65b9\u6cd5\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u6307\u5b9a\u6392\u5e8f\u7684\u5b57\u6bb5\uff0c\u5e76\u4f7f\u7528 1 \u548c -1 \u6765\u6307\u5b9a\u6392\u5e8f\u7684\u65b9\u5f0f\uff0c\u5176\u4e2d 1 \u4e3a\u5347\u5e8f\u6392\u5217\uff0c\u800c-1\u662f\u7528\u4e8e\u964d\u5e8f\u6392\u5217\u3002 db.\u96c6\u5408\u540d.find().sort({key:1|-1}) #\u5347\u5e8f\u6216\u8005\u964d\u5e8f \u4f8b\u5982: db.user.find().sort({age:1}) #\u67e5\u8be2\u6240\u6709\u6570\u636e \u6309\u7167\u5e74\u9f84 \u5347\u5e8f db.user.find().sort({age:-1}) #\u67e5\u8be2\u6240\u6709\u6570\u636e \u6309\u7167\u5e74\u9f84 \u964d\u5e8f","title":"(12) SORT \u6392\u5e8f"},{"location":"13%E3%80%81Mongodb.html#update","text":"\u7ed3\u6784\uff1a db.collection.update( <query>, <update>, { upsert: <boolean>, multi: <boolean>, writeConcern: <document> } )u query : update\u7684\u67e5\u8be2\u6761\u4ef6\uff0c\u7c7b\u4f3csql update\u67e5\u8be2\u5185where\u540e\u9762\u7684\u3002 update : update\u7684\u5bf9\u8c61\u548c\u4e00\u4e9b\u66f4\u65b0\u7684\u64cd\u4f5c\u7b26\uff08\u5982$,$inc...\uff09\u7b49\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3asql update\u67e5\u8be2\u5185set\u540e\u9762\u7684 upsert : \u53ef\u9009\uff0c\u8fd9\u4e2a\u53c2\u6570\u7684\u610f\u601d\u662f\uff0c\u5982\u679c\u4e0d\u5b58\u5728update\u7684\u8bb0\u5f55\uff0c\u662f\u5426\u63d2\u5165objNew,true\u4e3a\u63d2\u5165\uff0c\u9ed8\u8ba4\u662ffalse\uff0c\u4e0d\u63d2\u5165\u3002 multi : \u53ef\u9009\uff0cmongodb \u9ed8\u8ba4\u662ffalse,\u53ea\u66f4\u65b0\u627e\u5230\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u5982\u679c\u8fd9\u4e2a\u53c2\u6570\u4e3atrue,\u5c31\u628a\u6309\u6761\u4ef6\u67e5\u51fa\u6765\u591a\u6761\u8bb0\u5f55\u5168\u90e8\u66f4\u65b0","title":"\u516b\u3001UPDATE \u6587\u6863\u7684\u4fee\u6539"},{"location":"13%E3%80%81Mongodb.html#1-set-inc","text":"db.\u96c6\u5408\u540d.update(\u6761\u4ef6,\u6570\u636e,{multi:true}) \u66f4\u6539 ```sql db.user.update({name:\"\u5f20\u4e09\"},{$inc:{age:5}}) #\u4fee\u6539name\u4e3a\u5f20\u4e09\u7684\u6587\u6863 \u5c06age\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a \u52a05 db.user.update({name:\"\u5f20\u4e09\"},{$set:{age:5}}) #\u4fee\u6539name\u4e3a\u5f20\u4e09\u7684\u6587\u6863 \u5c06age\u7684\u503c \u4fee\u6539\u4e3a5 db.user.update({name:\"\u5f20\u4e09\"},{$set:{age:5}},{multi:true}) #\u5c06\u6240\u6709name\u4e3a\u5f20\u4e09\u7684\u6587\u6863 \u7684\u5e74\u9f84 \u5168\u90e8\u4fee\u6539\u4e3a 5 ``` \u53ea\u66f4\u65b0\u7b2c\u4e00\u6761\u8bb0\u5f55\uff1a sql db.col.update({\"count\" : {$gt:1}} , { $set : {\"test2\" : \"OK\"}}); \u5168\u90e8\u66f4\u65b0\uff1a sql db.col.update({\"count\" : {$gt: 3 }} , {$set : {\"test2\" : \"OK\"} },false,true); \u53ea\u6dfb\u52a0\u7b2c\u4e00\u6761\uff1a sql db.col.update({ \"count\" : { $gt : 4 }} , {$set : {\"test5\" : \"OK\"} },true,false ); 3.2\u7248\u672c\u4ee5\u540e updateOne() \u66f4\u65b0\u4e00\u6761 db.user.updateOne({'name':'lisi'}, {$inc:{'age':5}}) updateMany(query,update) \u66f4\u65b0\u591a\u6761 db.user.updateMany({'name':'lisi'}, {$inc:{'age':5}})","title":"(1) \u66f4\u65b0\u64cd\u4f5c\u7b26 $set\u76f4\u63a5\u4fee\u6539 $inc\u7d2f\u52a0\u4fee\u6539"},{"location":"13%E3%80%81Mongodb.html#remove","text":"\u4e3b\u4f53\u7ed3\u6784 db.collection.remove( <query>, { justOne: <boolean>, writeConcern: <document> } )","title":"\u4e5d\u3001REMOVE \u6587\u6863\u7684\u5220\u9664"},{"location":"13%E3%80%81Mongodb.html#1_1","text":"query :\uff08\u53ef\u9009\uff09\u5220\u9664\u7684\u6587\u6863\u7684\u6761\u4ef6\u3002 justOne : \uff08\u53ef\u9009\uff09\u5982\u679c\u8bbe\u4e3a true \u6216 1\uff0c\u5219\u53ea\u5220\u9664\u4e00\u4e2a\u6587\u6863\u3002 writeConcern :\uff08\u53ef\u9009\uff09\u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\u3002","title":"(1)\u53c2\u6570\u8bf4\u660e\uff1a"},{"location":"13%E3%80%81Mongodb.html#2_1","text":"db.\u96c6\u5408\u540d.remove(\u6761\u4ef6) #\u9ed8\u8ba4\u5c06\u6240\u6709\u90fd\u5339\u914d\u5230\u7684\u6570\u636e\u8fdb\u884c\u5220\u9664 db.\u96c6\u5408\u540d.remove(\u6761\u4ef6,1) #\u53ea\u5220\u9664 \u7b2c\u4e00\u4e2a\u5339\u914d\u5230\u7684\u6570\u636e db.\u96c6\u5408\u540d.remove(\u6761\u4ef6,,{justOne:true}) #\u53ea\u5220\u9664 \u7b2c\u4e00\u4e2a\u5339\u914d\u5230\u7684\u6570\u636e \u793a\u4f8b b.user.remove({'age':{$gt: 30}}) # \u5220\u9664\u5e74\u9f84\u5927\u4e8e30\u7684\u6240\u6709\u6570\u636e b.user.remove({'age':{$gt: 30}}, 1) # \u5220\u9664\u5e74\u9f84\u5927\u4e8e30\u7684\u4e00\u6761\u6570\u636e db.col.remove({}) \u6e05\u7a7a\u96c6\u5408 \"col\" \u7684\u6570\u636e","title":"(2) \u4e3b\u4f53\u7ed3\u6784"},{"location":"13%E3%80%81Mongodb.html#3-32","text":"remove() \u65b9\u6cd5\u5df2\u7ecf\u8fc7\u65f6\u4e86\uff0c\u73b0\u5728\u5b98\u65b9\u63a8\u8350\u4f7f\u7528 deleteOne() \u5220\u9664\u4e00\u6761 db.user.deleteOne({'age':{$gt: 0}}) deleteMany() \u5220\u9664\u591a\u6761 db.user.deleteMany({'age':{$gt: 0}})","title":"(3) 3.2 \u7248\u672c\u540e\u8fd8\u6709\u4ee5\u4e0b\u51e0\u79cd\u8bed\u6cd5\u53ef\u7528\u4e8e\u5220\u9664\u6587\u6863:"},{"location":"13%E3%80%81Mongodb.html#_5","text":"","title":"\u5341\u3001\u6570\u636e\u5e93\u5220\u9664\u4e0e\u9000\u51fa"},{"location":"13%E3%80%81Mongodb.html#1_2","text":"\u5220\u9664\u4e4b\u524d \u6700\u597duse\u4e00\u4e0b db.dropDatabase()","title":"(1) \u6570\u636e\u5e93\u5220\u9664"},{"location":"13%E3%80%81Mongodb.html#2_2","text":"exit","title":"(2) \u6570\u636e\u5e93\u7684\u9000\u51fa"},{"location":"13%E3%80%81Mongodb.html#pythonmongodb","text":"","title":"\u5341\u4e00\u3001Python\u64cd\u4f5cMongoDB"},{"location":"13%E3%80%81Mongodb.html#1-pymongo","text":"from pymongo import MongoClient","title":"1\u3001\u5bfc\u5165 pymongo"},{"location":"13%E3%80%81Mongodb.html#2-27017","text":"","title":"2\u3001\u8fde\u63a5\u670d\u52a1\u5668 \u7aef\u53e3\u53f7 27017"},{"location":"13%E3%80%81Mongodb.html#1-mongodb","text":"\u8fde\u63a5MongoDB\u6211\u4eec\u9700\u8981\u4f7f\u7528PyMongo\u5e93\u91cc\u9762\u7684MongoClient\uff0c\u4e00\u822c\u6765\u8bf4\u4f20\u5165MongoDB\u7684IP\u53ca\u7aef\u53e3\u5373\u53ef\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5730\u5740host\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u7aef\u53e3port\uff0c\u7aef\u53e3\u5982\u679c\u4e0d\u4f20\u9ed8\u8ba4\u662f27017\u3002","title":"(1) \u8fde\u63a5MongoDB"},{"location":"13%E3%80%81Mongodb.html#2_3","text":"conn = MongoClient(\"localhost\") MongoClient(host='127.0.0.1',port=27017)","title":"(2) \u4ee3\u7801"},{"location":"13%E3%80%81Mongodb.html#3_1","text":"","title":"3\u3001\u8fde\u63a5\u6570\u636e\u5e93"},{"location":"13%E3%80%81Mongodb.html#db-conn","text":"","title":"db = conn.\u6570\u636e\u5e93\u540d\u79f0"},{"location":"13%E3%80%81Mongodb.html#_6","text":"","title":"\u8fde\u63a5\u96c6\u5408"},{"location":"13%E3%80%81Mongodb.html#collection-dbcollection_name","text":"","title":"collection = db.collection_name"},{"location":"13%E3%80%81Mongodb.html#4_1","text":"","title":"4\u3001\u63d2\u5165\u6570\u636e"},{"location":"13%E3%80%81Mongodb.html#1-3x","text":"insert_one \u63d2\u5165\u4e00\u6761\u6570\u636e insert_many() \u63d2\u5165\u591a\u6761\u6570\u636e","title":"(1) \u57283.x\u4ee5\u4e0a \u5efa\u8bae \u4f7f\u7528"},{"location":"13%E3%80%81Mongodb.html#2-id-insert_one","text":"data.inserted_id data.inserted_ids","title":"(2) \u8fd4\u56de id \u4f7f\u7528insert_one()"},{"location":"13%E3%80%81Mongodb.html#5_2","text":"","title":"5\u3001\u67e5\u8be2\u6570\u636e"},{"location":"13%E3%80%81Mongodb.html#1_3","text":"db.user.find_one()","title":"(1) \u67e5\u8be2\u4e00\u6761"},{"location":"13%E3%80%81Mongodb.html#2_4","text":"db.user.find({\"name\":\"\u5f20\u4e09\"})","title":"(2) \u5e26\u6761\u4ef6\u67e5\u8be2"},{"location":"13%E3%80%81Mongodb.html#3-id","text":"from bson.objectid import ObjectId*#\u7528\u4e8eID\u67e5\u8be2 data = db.user.find({ \"_id\" :ObjectId( \"59a2d304b961661b209f8da1\" )}) data = db.user.find({'_id': ObjectId('59f290b01683f9339214746d')}) #_id': ObjectId('59f290b01683f9339214746d')","title":"(3) \u67e5\u8be2 id"},{"location":"13%E3%80%81Mongodb.html#5_3","text":"{\"name\":{'$regex':\"\u5f20\"}} {'xxx':re.compile('xxx')}","title":"(5) \u6a21\u7cca\u67e5\u8be2"},{"location":"13%E3%80%81Mongodb.html#6sort-limit-skip","text":"","title":"6\u3001sort limit skip"},{"location":"13%E3%80%81Mongodb.html#1-sort","text":"\u5e74\u9f84 \u5927\u4e8e10 data = db.user.find({\"age\":{\"$gt\":10}}).sort(\"age\",1) #\u5e74\u9f84 \u5347\u5e8f \u67e5\u8be2 pymongo.ASCENDING --\u5347\u5e8f data = db.user.find({\"age\":{\"$gt\":10}}).sort(\"age\",-1) #\u5e74\u9f84 \u964d\u5e8f \u67e5\u8be2 pymongo.DESCENDING --\u964d\u5e8f","title":"(1) sort \u6392\u5e8f"},{"location":"13%E3%80%81Mongodb.html#2-limit","text":"","title":"(2) limit \u53d6\u503c"},{"location":"13%E3%80%81Mongodb.html#_7","text":"db.user.find().limit(3) m= db.user.find({\"age\":{\"$gt\":10}}).sort(\"age\",-1).limit(3)","title":"\u53d6\u4e09\u6761\u6570\u636e"},{"location":"13%E3%80%81Mongodb.html#3-skip","text":"db.user.find().skip(2)","title":"(3) skip \u4ece\u7b2c\u51e0\u6761\u6570\u636e\u5f00\u59cb\u53d6"},{"location":"13%E3%80%81Mongodb.html#7update","text":"update()\u65b9\u6cd5\u5176\u5b9e\u4e5f\u662f\u5b98\u65b9\u4e0d\u63a8\u8350\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u5728\u8fd9\u91cc\u4e5f\u5206\u4e86 update_one() \u65b9\u6cd5\u548c update_many() \u65b9\u6cd5\uff0c\u7528\u6cd5\u66f4\u52a0\u4e25\u683c\uff0c","title":"7\u3001update \u4fee\u6539"},{"location":"13%E3%80%81Mongodb.html#1-update_one","text":"db.user.update_one({\"name\":\"\u5f20\u4e09\"},{\"$set\":{\"age\":99}})","title":"(1) update_one() \u7b2c\u4e00\u6761\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u8fdb\u884c\u66f4\u65b0"},{"location":"13%E3%80%81Mongodb.html#2-update_many","text":"db.user.update_many({ \"name\" : \"\u5f20\u4e09\" },{ \"$set\" :{ \"age\" :91}}) (3) \u5176\u8fd4\u56de\u7ed3\u679c\u662fUpdateResult\u7c7b\u578b\uff0c\u7136\u540e\u8c03\u7528 matched_count \u548c modified_count \u5c5e\u6027\u5206\u522b\u53ef\u4ee5\u83b7\u5f97\u5339\u914d\u7684\u6570\u636e\u6761\u6570\u548c\u5f71\u54cd\u7684\u6570\u636e\u6761\u6570\u3002 result.matched_count result.modified_count","title":"(2) update_many() \u5c06\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u90fd\u66f4\u65b0"},{"location":"13%E3%80%81Mongodb.html#8remove","text":"\u5220\u9664\u64cd\u4f5c\u6bd4\u8f83\u7b80\u5355\uff0c\u76f4\u63a5\u8c03\u7528remove()\u65b9\u6cd5\u6307\u5b9a\u5220\u9664\u7684\u6761\u4ef6\u5373\u53ef\uff0c\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709\u6570\u636e\u5747\u4f1a\u88ab\u5220\u9664\uff0c","title":"8\u3001remove \u5220\u9664"},{"location":"13%E3%80%81Mongodb.html#1_4","text":"delete_one()\u5373\u5220\u9664\u7b2c\u4e00\u6761\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e collection.delete_one({\u201cname\u201d:\u201c Kevin\u201d})","title":"(1) \u5220\u9664\u4e00\u6761"},{"location":"13%E3%80%81Mongodb.html#2_5","text":"delete_many()\u5373\u5220\u9664\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\uff0c\u8fd4\u56de\u7ed3\u679c\u662fDeleteResult\u7c7b\u578b collection.delete_many({\u201cage\u201d: {$lt:25}})","title":"(2) \u5220\u9664\u591a\u6761"},{"location":"13%E3%80%81Mongodb.html#4-deleted_count","text":"result.deleted_count","title":"(4) \u53ef\u4ee5\u8c03\u7528deleted_count\u5c5e\u6027\u83b7\u53d6\u5220\u9664\u7684\u6570\u636e\u6761\u6570\u3002"},{"location":"13%E3%80%81Mongodb.html#9","text":"conn.close()","title":"9\u3001\u5173\u95ed\u8fde\u63a5"},{"location":"14%E3%80%81redis.html","text":"\u5341\u56db\u3001Redis\u6570\u636e\u5e93 Redis \u7b80\u4ecb Redis\u662f\u5b8c\u5168\u5f00\u6e90\u514d\u8d39\u7684\uff0c\u9075\u5b88BSD\u534f\u8bae\uff0c\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684key-value\u6570\u636e\u5e93\u3002 Redis\u4e0e\u5176\u4ed6 key- value \u7f13\u5b58\u4ea7\u54c1\u6709\u4ee5\u4e0b\u4e09\u4e2a\u7279\u70b9\uff1a Redis\u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u53ef\u4ee5\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4fdd\u5b58\u5728\u78c1\u76d8\u4e2d\uff0c\u91cd\u542f\u7684\u65f6\u5019\u53ef\u4ee5\u518d\u6b21\u52a0\u8f7d\u8fdb\u884c\u4f7f\u7528\u3002 Redis\u4e0d\u4ec5\u4ec5\u652f\u6301\u7b80\u5355\u7684key-value\u7c7b\u578b\u7684\u6570\u636e\uff0c\u540c\u65f6\u8fd8\u63d0\u4f9blist\uff0cset\uff0czset\uff0chash\u7b49\u6570\u636e\u7ed3\u6784\u7684\u5b58\u50a8\u3002 redis\uff1a \u534a\u6301\u4e45\u5316\uff0c\u5b58\u50a8\u4e8e\u5185\u5b58\u548c\u786c\u76d8 Redis\u548cMongoDB\u7684\u533a\u522b Redis\u662f\u5b8c\u5168\u5728\u5185\u5b58\u4e2d\u4fdd\u5b58\u6570\u636e\u7684\u6570\u636e\u5e93\uff0c\u4f7f\u7528\u78c1\u76d8\u53ea\u662f\u4e3a\u4e86\u6301\u4e45\u6027\u76ee\u7684,Redis\u6570\u636e\u5168\u90e8\u5b58\u5728\u5185\u5b58\uff0c\u5b9a\u671f\u5199\u5165\u78c1\u76d8\uff0c\u5f53\u5185\u5b58\u4e0d\u591f\u65f6\uff0c\u53ef\u4ee5\u9009\u62e9\u6307\u5b9a\u7684LRU\u7b97\u6cd5\u5220\u9664\u6570\u636e,\u6301\u4e45\u5316\u662f\u4f7f\u7528RDB\u65b9\u5f0f\u6216\u8005aof\u65b9\u5f0f\u3002 mongodb\u662f\u6587\u6863\u578b\u7684\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0cMongoDB\u66f4\u7c7b\u4f3cMySQL\uff0c\u652f\u6301\u5b57\u6bb5\u7d22\u5f15\u3001\u6e38\u6807\u64cd\u4f5c\uff0c\u5176\u4f18\u52bf\u5728\u4e8e\u67e5\u8be2\u529f\u80fd\u6bd4\u8f83\u5f3a\u5927\uff0c\u64c5\u957f\u67e5\u8be2JSON\u6570\u636e\uff0c\u80fd\u5b58\u50a8\u6d77\u91cf\u6570\u636e\uff0c\u4f46\u662f\u4e0d\u652f\u6301\u4e8b\u52a1\u3002 \u4e00 \u524d\u671f\u51c6\u5907 \u4e0b\u8f7d\u5730\u5740: https://github.com/ServiceStack/redis-windows https://github.com/MSOpenTech/redis/releases \u8bbe\u7f6e redis.windows.conf 455\u884c maxheap 1024000000 \u8bbe\u7f6e\u6700\u5927\u7684\u6570\u636e\u5806\u7684\u5927\u5c0f 387\u884c requirepass 123456 \u8bbe\u7f6e\u6570\u636e\u5e93\u7684\u5bc6\u7801 \u4e8c \u542f\u52a8\u670d\u52a1 cd C:\\redis64-2.8.2101 C:\\redis64-2.8.2101>redis-server.exe redis.windows.conf #\u6267\u884c redis-server.exe \u5e76\u52a0\u8f7dWindows\u7684\u914d\u7f6e\u6587\u4ef6 C:\\redis64-2.8.2101\u2014>dump.rdb \u4e3a\u6570\u636e\u6587\u4ef6 mac \u4e0b\u5b89\u88c5\u4e5f\u53ef\u4ee5\u4f7f\u7528 homebrew\uff0chomebrew \u662f mac \u7684\u5305\u7ba1\u7406\u5668\u3002 1\u3001\u6267\u884c brew install redis 2\u3001\u542f\u52a8 redis\uff0c\u53ef\u4ee5\u4f7f\u7528\u540e\u53f0\u670d\u52a1\u542f\u52a8 brew services start redis\u3002\u6216\u8005\u76f4\u63a5\u542f\u52a8\uff1aredis-server /usr/local/etc/redis.conf \u4e09 \u6d4b\u8bd5\u662f\u5426\u8fde\u63a5\u6210\u529f \u518d\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u7ec8\u7aef \u8f93\u5165\u5bc6\u7801 (\u8fd9\u4e2a\u5bc6\u7801\u5c31\u662f\u5728redis.windows.conf\u91cc\u9762\u8bbe\u7f6e\u7684\u5bc6\u7801) C:\\redis64-2.8.2101>Redis-cli.exe 127.0.0.1:6379>auth '123456' \u6ce8\u610f: \u5bc6\u7801 \u4e3a \u5b57\u7b26\u4e32\u7c7b\u578b \u56db Redis\u503c\u7684\u7c7b\u578b \u5b57\u7b26\u4e32 String \u54c8\u5e0c hash \u5217\u8868 list \u96c6\u5408 set \u6709\u5e8f\u96c6\u5408 zset \u6570\u636e\u64cd\u4f5c\u7684\u5168\u90e8\u547d\u4ee4\uff1a http://redis.cn/commands.html config get databases \u67e5\u770b\u6240\u6709\u7684\u6570\u636e\u5e93 \u6570\u636e\u5e93\u4ee50\u5f00\u59cb \u4e00\u517116\u4e2a (1) String \u6982\u8ff0\uff1aString\u662fredis\u6700\u57fa\u672c\u7684\u7c7b\u578b\uff0c\u6700\u5927\u80fd\u5b58\u50a8512MB\u7684\u6570\u636e\uff0cString\u7c7b\u578b\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\uff0c\u5373\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u6570\u636e\u3001\u6bd4\u5982\u6570\u5b57\u3001\u56fe\u7247\u3001\u5e8f\u5217\u5316\u5bf9\u8c61\u7b49 \u4e00\u4e2akey\u5bf9\u5e94\u4e00\u4e2avalue string\u7c7b\u578b\u662fRedis\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u4e2a\u952e\u6700\u5927\u80fd\u5b58\u50a8512MB\u3002 1\u3001\u8bbe\u7f6e\u952e\u503c A\u3001\u8bbe\u7f6e\u952e\u503c set key value set name \"zhangsan\" B\u3001\u8bbe\u7f6e\u952e\u503c\u53ca\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d setex key seconds value python setex name 10 'zhangsan' C\u3001\u67e5\u770b\u6709\u6548\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d ttl key ttl name D\u3001\u53d6\u6d88\u8fc7\u671f\u65f6\u95f4 persist key persist name E\u3001\u53ea\u6709\u5728 key \u4e0d\u5b58\u5728\u65f6\u8bbe\u7f6e key \u7684\u503c setnx key value setnx name 'a' E\u3001\u8bbe\u7f6e\u591a\u4e2a\u952e\u503c mset key value [key value \u2026\u2026] mset name 'zs' age 18 2\u3001key\u7684\u64cd\u4f5c A.\u6839\u636e\u952e\u83b7\u53d6\u503c\uff0c\u5982\u679c\u952e\u4e0d\u5b58\u5728\u5219\u8fd4\u56deNone(null 0 nil) get key get name B\u3001\u6839\u636e\u591a\u4e2a\u952e\u83b7\u53d6\u591a\u4e2a\u503c mget key [key \u2026\u2026] mget name age g C\u3001\u8fd4\u56de key \u4e2d\u5b57\u7b26\u4e32\u503c\u7684\u5b50\u5b57\u7b26 getrange key start end getrange name 0 4 D\u3001\u5c06\u7ed9\u5b9a key \u7684\u503c\u8bbe\u4e3a value \uff0c\u5e76\u8fd4\u56de key \u7684\u65e7\u503c(old value) getset key value getset name 'x' 3\u3001\u8fd0\u7b97 \u8981\u6c42\uff1a\u503c\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u5b57 A\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u52a01 incr key incr age B\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u51cf1 decr key decr age C\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u52a0\u6574\u6570 incrby key intnum incrby age 10 D\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u51cf\u6574\u6570 decrby key intnum decrby age 10 E\u3001\u83b7\u53d6\u503c\u957f\u5ea6 strlen key strlen age key \u952e\u7684\u64cd\u4f5c\uff08\u6682\u5b9a\u8981\u4e0d\u8981\u5220\u9664\uff09 A\u3001\u67e5\u627e\u6240\u6709\u7b26\u5408\u7ed9\u5b9a\u6a21\u5f0fpattern\uff08\u6b63\u5219\u8868\u8fbe\u5f0f\uff09\u7684 key keys * KEYS *o* KEYS t?? \u652f\u6301\u7684\u6b63\u5219\u8868\u8fbe\u6a21\u5f0f\uff1a h?llo \u5339\u914d hello , hallo \u548c hxllo h*llo \u5339\u914d hllo \u548c heeeello h[ae]llo \u5339\u914d hello \u548c hallo, \u4f46\u662f\u4e0d\u5339\u914d hillo h[^e]llo \u5339\u914d hallo , hbllo , \u2026 \u4f46\u662f\u4e0d\u5339\u914d hello h[a-b]llo \u5339\u914d hallo \u548c hbllo B\u3001\u5224\u65ad\u952e\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u8fd4\u56de1\uff0c\u4e0d\u5b58\u5728\u8fd4\u56de0 exists key exists name C\u3001\u67e5\u770b\u952e\u5bf9\u5e94\u7684value\u7c7b\u578b type key type name D\u3001\u5220\u9664\u952e\u53ca\u5bf9\u5e94\u7684\u503c del key [key \u2026\u2026] E\u3001\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d expire key seconds expire age 10 F\u3001\u67e5\u770b\u6709\u6548\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d ttl key H\u3001\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u8fd4\u56de key \u7684\u5269\u4f59\u7684\u8fc7\u671f\u65f6\u95f4 pttl key I\u3001\u79fb\u9664 key \u7684\u8fc7\u671f\u65f6\u95f4\uff0ckey \u5c06\u6301\u4e45\u4fdd\u6301 persist key J\u3001\u5220\u9664\u6240\u6709\u7684key flushdb \u5220\u9664\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709 flushall \u5220\u9664\u6240\u6709\u6570\u636e\u5e93\u4e2d\u7684key K\u3001\u4fee\u6539 key \u7684\u540d\u79f0(\u4ec5\u5f53 newkey \u4e0d\u5b58\u5728\u65f6\uff0c\u5c06 key \u6539\u540d\u4e3a newkey) rename key newkey L\u3001\u5c06key\u79fb\u52a8\u5230\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e2d Move key db mover name 1 #\u5c06name \u79fb\u52a8\u5230\u6570\u636e\u5e931 M\u3001\u968f\u673a\u8fd4\u56de\u4e00\u4e2akey randomkey (2) hash \u6982\u8ff0\uff1ahash\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61 { \u200b name:\"tom\", \u200b age:18 } Redis hash \u662f\u4e00\u4e2a\u952e\u503c(key=>value)\u5bf9\u96c6\u5408\u3002 1\u3001\u8bbe\u7f6e a\u3001\u8bbe\u7f6e\u5355\u4e2a\u503c hset key field value redis> e (integer) 1z redis> HGET myhash field1 \"Hello\" b\u3001\u8bbe\u7f6e\u591a\u4e2a\u503c hmset key field value [field value \u2026\u2026] hmset a x \"o\" y \"y\" z \"z\" C \u4e3a\u54c8\u5e0c\u8868 key \u4e2d\u7684\u6307\u5b9a\u5b57\u6bb5\u7684\u6574\u6570\u503c\u52a0\u4e0a\u589e\u91cf increment hincrby key field incrment hincrby hh age 10 E \u4e3a\u54c8\u5e0c\u8868 key \u4e2d\u7684\u6307\u5b9a\u5b57\u6bb5\u7684\u6d6e\u70b9\u6570\u503c\u52a0\u4e0a\u589e\u91cf increment HINCRBYFLOAT key field increment hincrbyfloat hh money 0.1 F \u53ea\u6709\u5728\u5b57\u6bb5 field \u4e0d\u5b58\u5728\u65f6\uff0c\u8bbe\u7f6e\u54c8\u5e0c\u8868\u5b57\u6bb5\u7684\u503c hsetnx key field value hget hh name 2\u3001\u83b7\u53d6 A\u3001\u83b7\u53d6\u4e00\u4e2a\u5c5e\u6027\u7684\u503c hget key field hget name field1 B\u3001\u83b7\u53d6\u591a\u4e2a\u5c5e\u6027\u7684\u503c hmget key filed [filed \u2026\u2026] C\u3001\u83b7\u53d6\u6240\u6709\u5b57\u6bb5\u548c\u503c hgetall key D\u3001\u83b7\u53d6\u6240\u6709\u5b57\u6bb5 hkeys key E\u3001\u83b7\u53d6\u6240\u6709\u503c hvals key F\u3001\u8fd4\u56de\u5305\u542b\u6570\u636e\u7684\u4e2a\u6570 hlen key 3\u3001\u5176\u5b83 A\u3001\u5224\u65ad\u5c5e\u6027\u662f\u5426\u5b58\u5728\uff0c\u5b58\u5728\u8fd4\u56de1\uff0c\u4e0d\u5b58\u5728\u8fd4\u56de0 hexists key field hexists a x B\u3001\u5220\u9664\u5b57\u6bb5\u53ca\u503c hdel key field [field \u2026\u2026] hdel a x y z C\u3001\u8fd4\u56de\u503c\u7684\u5b57\u7b26\u4e32\u957f\u5ea6 \u8d77\u59cb\u7248\u672c 3.2 hstrlen key field (3) \u5217\u8868 list \u6982\u8ff0\uff1aRedis \u5217\u8868\u662f\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u5217\u8868\uff0c\u6309\u7167\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\u3002\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5230\u5217\u8868\u7684\u5934\u90e8\uff08\u5de6\u8fb9\uff09\u6216\u8005\u5c3e\u90e8\uff08\u53f3\u8fb9\uff09 1\u3001\u8bbe\u7f6e A\u3001\u5728\u5934\u90e8\u63d2\u5165 lpush key value [vlaue \u2026\u2026] lpush demo 2 3` \u5c06\u4e00\u4e2a\u503c\u63d2\u5165\u5230\u5df2\u5b58\u5728\u7684\u5217\u8868\u5934\u90e8\uff0c\u5217\u8868\u4e0d\u5b58\u5728\u65f6\u64cd\u4f5c\u65e0\u6548 Lpushx key val lpushx list 'a' B\u3001\u5728\u5c3e\u90e8\u63d2\u5165 rpush key value [vlaue \u2026\u2026] rpush demo 2 1 \u4e3a\u5df2\u5b58\u5728\u7684\u5217\u8868\u6dfb\u52a0\u503c rpushx key val rpushx mm 'a' 2\u3001\u83b7\u53d6 A\u3001\u79fb\u9664\u5e76\u8fd4\u56dekey\u5bf9\u5e94\u7684list\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20 lpop key lpop demo B\u3001\u79fb\u9664\u5e76\u8fd4\u56dekey\u5bf9\u5e94\u7684list\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20 rpop key rpop demo C\u3001\u8fd4\u56de\u5b58\u50a8\u5728key\u7684\u5217\u8868\u4e2d\u7684\u6307\u5b9a\u8303\u56f4\u7684\u5143\u7d20 lrange key start end lrange demo 0 -1 #\u67e5\u770b\u5217\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20 \u6ce8\u610f\uff1astart end\u90fd\u662f\u4ece0\u5f00\u59cb \u6ce8\u610f\uff1a\u504f\u79fb\u91cf\u53ef\u4ee5\u662f\u8d1f\u6570 3\u3001\u5176\u5b83 A\u3001\u88c1\u526a\u5217\u8868\uff0c\u6539\u4e3a\u539f\u96c6\u5408\u7684\u4e00\u4e2a\u5b50\u96c6 ltrim key start end ltrim demo 1 -1 #\u5c06\u7d22\u5f15\u4e3a1 \u5230 -1\u7684\u5143\u7d20\u88c1\u526a\u51fa\u6765 \u6ce8\u610f\uff1astart end\u90fd\u662f\u4ece0\u5f00\u59cb \u6ce8\u610f\uff1a\u504f\u79fb\u91cf\u53ef\u4ee5\u662f\u8d1f\u6570 B\u3001\u8fd4\u56de\u5b58\u50a8\u5728key\u91cc\u7684list\u7684\u957f\u5ea6 llen key C\u3001\u8fd4\u56de\u5217\u8868\u4e2d\u7d22\u5f15\u5bf9\u5e94\u7684\u503c lindex key index LINDEX mylist 0 \u56db \u96c6\u5408 set \u6982\u8ff0\uff1a\u65e0\u5e8f\u96c6\u5408\uff0c\u5143\u7d20\u7c7b\u578b\u4e3aString\u7c7b\u578b\uff0c\u5143\u7d20\u5177\u6709\u552f\u4e00\u6027\uff0c\u4e0d\u91cd\u590d { 'a','b'} 1\u3001\u8bbe\u7f6e A\u3001\u6dfb\u52a0\u5143\u7d20 sadd key member [member \u2026\u2026] sadd set 'a' 'b' 'c' 2\u3001\u83b7\u53d6 A\u3001\u8fd4\u56dekey\u96c6\u5408\u4e2d\u6240\u6709\u5143\u7d20 smembers key smembers set B\u3001\u8fd4\u56de\u96c6\u5408\u5143\u7d20\u4e2a\u6570 scard key scard set C\u3001\u79fb\u9664\u5e76\u8fd4\u56de\u96c6\u5408\u4e2d\u7684\u4e00\u4e2a\u968f\u673a\u5143\u7d20 Spop key spop set D\u3001\u8fd4\u56de\u96c6\u5408\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u968f\u673a\u6570 srandmember key count s set #\u8fd4\u56de\u4e00\u4e2a\u968f\u673a\u5143\u7d20 srandmember set 2 #\u8fd4\u56de2\u4e2a\u968f\u673a\u5143\u7d20 E\u3001\u79fb\u9664\u96c6\u5408\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u6210\u5458 srem key member1 [memkber2] srem set 'd' 'b'ss 3\u3001\u96c6\u5408\u7684\u5176\u5b83\u64cd\u4f5c A\u3001\u6c42\u591a\u4e2a\u96c6\u5408\u7684\u4ea4\u96c6s sinter key [key \u2026\u2026] sinter m l #\u6c42\u96c6\u5408l\u548c\u96c6\u5408m\u7684\u4ea4\u96c6 B\u3001\u6c42\u591a\u4e2a\u96c6\u5408\u7684\u5dee\u96c6 sdiff key [key \u2026\u2026] sdiff m l #\u6c42\u5dee\u96c6 \u6ce8\u610f\u6bd4\u8f83\u987a\u5e8f D\u3001\u5224\u65ad\u5143\u7d20\u662f\u5426\u5728\u96c6\u5408\u4e2d\uff0c\u5b58\u5728\u8fd4\u56de1\uff0c\u4e0d\u5b58\u5728\u8fd4\u56de0 sismember key member sissmember m 'a' #\u96c6\u5408m\u4e2d\u662f\u5426\u5b58\u5728\u5143\u7d20'a' \u4e94 \u6709\u5e8f\u96c6\u5408 zset \u6982\u8ff0\uff1a a\u3001\u6709\u5e8f\u96c6\u5408\uff0c\u5143\u7d20\u7c7b\u578b\u4e3aStizng\uff0c\u5143\u7d20\u5177\u6709\u552f\u4e00\u6027\uff0c\u4e0d\u80fd\u91cd\u590d b\u3001\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2adouble\u7c7b\u578b\u7684score(\u8868\u793a\u6743\u91cd),\u901a\u8fc7\u6743\u91cd\u7684\u5927\u5c0f\u6392\u5e8f\uff0c\u5143\u7d20\u7684score\u53ef\u4ee5\u76f8\u540c 1\u3001\u8bbe\u7f6e A\u3001\u6dfb\u52a0 zadd key score member [score member \u2026\u2026] zadd zset 1 a 5 b 3 c 2 d 4 e B\u3001\u6709\u5e8f\u96c6\u5408\u4e2d\u5bf9\u6307\u5b9a\u6210\u5458\u7684\u5206\u6570\u52a0\u4e0a\u589e\u91cf increment Zincrby key increment mcfaember zincrby zset 10 'a' #\u7ed9a\u7684\u6743\u91cd\u4e0a\u52a010 2\u3001\u83b7\u53d6 A\u3001\u8fd4\u56de\u6307\u5b9a\u8303\u56f4\u7684\u5143\u7d20 zrange key start end zrange z1 0 -1 B\u3001\u8fd4\u56de\u5143\u7d20\u4e2a\u6570 zcard key zcard z1 C\u3001\u8fd4\u56de\u6709\u5e8f\u96c6\u5408key\u4e2d\uff0cscore\u5728min\u548cmax\u4e4b\u95f4\u7684\u5143\u7d20\u7684\u4e2a\u6570 zcount key min max D\u3001\u8fd4\u56de\u6709\u5e8f\u96c6\u5408key\u4e2d\uff0c\u6210\u5458member\u7684score\u503c zscore key member zscore l 'c' #s\u8fd4\u56dec\u7684\u6743\u91cd E\u3001\u5f53\u524d\u96c6\u5408\u6240\u6709\u7684\u503c\u548c\u6743\u91cd ZRANGE key 0 -1 WITHSCORES F\u3001\u8fd4\u56de\u6709\u5e8f\u96c6\u5408\u4e2d\u6307\u5b9a\u5206\u6570\u533a\u95f4\u5185\u7684\u6210\u5458\uff0c\u5206\u6570\u7531\u4f4e\u5230\u9ad8\u6392\u5e8f\u3002 ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count] \u533a\u95f4\u53ca\u65e0\u9650 min\u548cmax\u53ef\u4ee5\u662f-inf\u548c+inf\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728\u4e0d\u77e5\u9053\u6709\u5e8f\u96c6\u7684\u6700\u4f4e\u548c\u6700\u9ad8score\u503c\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528ZRANGEBYSCORE\u8fd9\u7c7b\u547d\u4ee4\u3002 redis> ZADD myzset 1 \"one\" (integer) 1 redis> ZADD myzset 2 \"two\" (integer) 1 redis> ZADD myzset 3 \"three\" (integer) 1 redis> ZRANGEBYSCORE myzset -inf +inf 1) \"one\" 2) \"two\" 3) \"three\" redis> ZRANGEBYSCORE myzset 1 2 1) \"one\" 2) \"two\" 3\u3001\u5220\u9664 A \u4ece\u6392\u5e8f\u7684\u96c6\u5408\u4e2d\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u6210\u5458 \u5f53key\u5b58\u5728\uff0c\u4f46\u662f\u5176\u4e0d\u662f\u6709\u5e8f\u96c6\u5408\u7c7b\u578b\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u3002 ZREM key member [member ...] redis> ZADD myzset 1 \"one\" (integer) 1 redis> ZADD myzset 2 \"two\" (integer) 1 redis> ZADD myzset 3 \"three\" (integer) 1 redis> ZREM myzset \"two\" (integer) 1 redis> ZRANGE myzset 0 -1 WITHSCORES 1) \"one\" 2) \"1\" 3) \"three\" 4) \"3\" redis> \u6570\u636e\u5e93: \u9ed8\u8ba4\u5728 \u6570\u636e\u5e93 0 select num \u8fdb\u884c\u6570\u636e\u5e93\u7684\u5207\u6362 select 1 #\u8fdb\u5165\u5230\u6570\u636e\u5e931 \u4e94\u3001Redis \u5b89\u5168 \u6ce8\u610f\uff1a\u5f53\u524d\u5bc6\u7801\u4fee\u6539\u540e\u5982\u679c\u670d\u52a1\u91cd\u542f\u5219\u9700\u8981\u91cd\u65b0\u8bbe\u5b9a \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 redis \u7684\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u5bc6\u7801\u53c2\u6570\uff0c\u8fd9\u6837\u5ba2\u6237\u7aef\u8fde\u63a5\u5230 redis \u670d\u52a1\u5c31\u9700\u8981\u5bc6\u7801\u9a8c\u8bc1\uff0c\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4f60\u7684 redis \u670d\u52a1\u66f4\u5b89\u5168\u3002 \u5b9e\u4f8b \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u662f\u5426\u8bbe\u7f6e\u4e86\u5bc6\u7801\u9a8c\u8bc1\uff1a 127.0.0.1:6379> CONFIG get requirepass 1) \"requirepass\" 2) \"\" \u9ed8\u8ba4\u60c5\u51b5\u4e0b requirepass \u53c2\u6570\u662f\u7a7a\u7684\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u65e0\u9700\u901a\u8fc7\u5bc6\u7801\u9a8c\u8bc1\u5c31\u53ef\u4ee5\u8fde\u63a5\u5230 redis \u670d\u52a1\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6765\u4fee\u6539\u8be5\u53c2\u6570\uff1a 127.0.0.1:6379> CONFIG set requirepass \"lucky\" OK 127.0.0.1:6379> CONFIG get requirepass 1) \"requirepass\" 2) \"lucky\" \u8bbe\u7f6e\u5bc6\u7801\u540e\uff0c\u5ba2\u6237\u7aef\u8fde\u63a5 redis \u670d\u52a1\u5c31\u9700\u8981\u5bc6\u7801\u9a8c\u8bc1\uff0c\u5426\u5219\u65e0\u6cd5\u6267\u884c\u547d\u4ee4\u3002 \u8bed\u6cd5 AUTH \u547d\u4ee4\u57fa\u672c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a 127.0.0.1:6379> AUTH password \u5b9e\u4f8b 127.0.0.1:6379> AUTH \"lucky\" OK 127.0.0.1:6379> SET mykey \"Test value\" OK 127.0.0.1:6379> GET mykey \"Test value\" \u516d\u3001Redis \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d Redis SAVE \u547d\u4ee4\u7528\u4e8e\u521b\u5efa\u5f53\u524d\u6570\u636e\u5e93\u7684\u5907\u4efd\u3002 \u8bed\u6cd5 redis Save \u547d\u4ee4\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a redis 127.0.0.1:6379> SAVE \u5b9e\u4f8b redis 127.0.0.1:6379> SAVE OK \u8be5\u547d\u4ee4\u5c06\u5728 redis \u5b89\u88c5\u76ee\u5f55\u4e2d\u521b\u5efadump.rdb\u6587\u4ef6\u3002 \u6062\u590d\u6570\u636e \u5982\u679c\u9700\u8981\u6062\u590d\u6570\u636e\uff0c\u53ea\u9700\u5c06\u5907\u4efd\u6587\u4ef6 (dump.rdb) \u79fb\u52a8\u5230 redis \u5b89\u88c5\u76ee\u5f55\u5e76\u542f\u52a8\u670d\u52a1\u5373\u53ef\u3002\u83b7\u53d6 redis \u76ee\u5f55\u53ef\u4ee5\u4f7f\u7528 CONFIG \u547d\u4ee4\uff0c\u5982\u4e0b\u6240\u793a\uff1a redis 127.0.0.1:6379> CONFIG GET dir 1) \"dir\" 2) \"/usr/local/redis/bin\" \u4ee5\u4e0a\u547d\u4ee4 CONFIG GET dir \u8f93\u51fa\u7684 redis \u5b89\u88c5\u76ee\u5f55\u4e3a /usr/local/redis/bin\u3002 Bgsave \u521b\u5efa redis \u5907\u4efd\u6587\u4ef6\u4e5f\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 BGSAVE \uff0c\u8be5\u547d\u4ee4\u5728\u540e\u53f0\u6267\u884c\u3002 \u5b9e\u4f8b 127.0.0.1:6379> BGSAVE Background saving started \u4e03\u3001Python\u64cd\u4f5credis 1\u3001\u5b89\u88c5 pip install redis \u5bfc\u5165 import redis 2\u3001\u8fde\u63a5\u65b9\u5f0f redis\u63d0\u4f9b\u4e862\u4e2a\u65b9\u6cd5 StrictRedis\uff1a\u5b9e\u73b0\u5927\u90e8\u5206\u5b98\u65b9\u7684\u547d\u4ee4 Redis\uff1a\u662fStrictRedis\u7684\u5b50\u7c7b\uff0c\u7528\u4e8e\u5411\u540e\u517c\u5bb9\u65e7\u7248\u7684redis\u3002 \u5b98\u65b9\u63a8\u8350\u4f7f\u7528StrictRedis\u65b9\u6cd5\u3002 \u4e3e\u4f8b\uff08\u666e\u901a\u8fde\u63a5\uff09\uff1a import redis # decode_responses=True \u81ea\u52a8\u89e3\u7801 r = redis.Redis(host='127.0.0.1',port=6379,password='123c456',db=0,decode_responses=True) #\u9ed8\u8ba4\u6570\u636e\u5e93\u4e3a0 r = redis.StrictRedis(host='10.10.2.14',port=6379,password='123456',decode_responses=True) \u8fde\u63a5\u6c60\uff1aconnection pool \u7ba1\u7406\u5bf9\u4e00\u4e2aredis server\u7684\u6240\u6709\u8fde\u63a5\uff0c\u907f\u514d\u6bcf\u6b21\u5efa\u7acb\uff0c\u91ca\u653e\u8fde\u63a5\u7684\u5f00\u9500\u3002\u9ed8\u8ba4\uff0c\u6bcf\u4e2aredis\u5b9e\u4f8b\u90fd\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u81ea\u5df1\u7684\u8fde\u63a5\u6c60\uff0c\u53ef\u4ee5\u76f4\u63a5\u5efa\u7acb\u4e00\u4e2a\u8fde\u63a5\u6c60\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9redis\uff0c\u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2aredis\u5b9e\u4f8b\u5171\u4eab\u4e00\u4e2a\u8fde\u63a5\u6c60\u3002 \u4e3e\u4f8b\uff08\u8fde\u63a5\u6c60\uff09\uff1a pool = redis.ConnectionPool(host='127.0.0.1',port=6379,db=0,password='123456',decode_responses=True) r = redis.Redis(connection_pool=pool)","title":"\u5341\u56db\u3001Redis\u6570\u636e\u5e93"},{"location":"14%E3%80%81redis.html#redis","text":"","title":"\u5341\u56db\u3001Redis\u6570\u636e\u5e93"},{"location":"14%E3%80%81redis.html#redis_1","text":"Redis\u662f\u5b8c\u5168\u5f00\u6e90\u514d\u8d39\u7684\uff0c\u9075\u5b88BSD\u534f\u8bae\uff0c\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684key-value\u6570\u636e\u5e93\u3002 Redis\u4e0e\u5176\u4ed6 key- value \u7f13\u5b58\u4ea7\u54c1\u6709\u4ee5\u4e0b\u4e09\u4e2a\u7279\u70b9\uff1a Redis\u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u53ef\u4ee5\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4fdd\u5b58\u5728\u78c1\u76d8\u4e2d\uff0c\u91cd\u542f\u7684\u65f6\u5019\u53ef\u4ee5\u518d\u6b21\u52a0\u8f7d\u8fdb\u884c\u4f7f\u7528\u3002 Redis\u4e0d\u4ec5\u4ec5\u652f\u6301\u7b80\u5355\u7684key-value\u7c7b\u578b\u7684\u6570\u636e\uff0c\u540c\u65f6\u8fd8\u63d0\u4f9blist\uff0cset\uff0czset\uff0chash\u7b49\u6570\u636e\u7ed3\u6784\u7684\u5b58\u50a8\u3002 redis\uff1a \u534a\u6301\u4e45\u5316\uff0c\u5b58\u50a8\u4e8e\u5185\u5b58\u548c\u786c\u76d8","title":"Redis \u7b80\u4ecb"},{"location":"14%E3%80%81redis.html#redismongodb","text":"Redis\u662f\u5b8c\u5168\u5728\u5185\u5b58\u4e2d\u4fdd\u5b58\u6570\u636e\u7684\u6570\u636e\u5e93\uff0c\u4f7f\u7528\u78c1\u76d8\u53ea\u662f\u4e3a\u4e86\u6301\u4e45\u6027\u76ee\u7684,Redis\u6570\u636e\u5168\u90e8\u5b58\u5728\u5185\u5b58\uff0c\u5b9a\u671f\u5199\u5165\u78c1\u76d8\uff0c\u5f53\u5185\u5b58\u4e0d\u591f\u65f6\uff0c\u53ef\u4ee5\u9009\u62e9\u6307\u5b9a\u7684LRU\u7b97\u6cd5\u5220\u9664\u6570\u636e,\u6301\u4e45\u5316\u662f\u4f7f\u7528RDB\u65b9\u5f0f\u6216\u8005aof\u65b9\u5f0f\u3002 mongodb\u662f\u6587\u6863\u578b\u7684\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0cMongoDB\u66f4\u7c7b\u4f3cMySQL\uff0c\u652f\u6301\u5b57\u6bb5\u7d22\u5f15\u3001\u6e38\u6807\u64cd\u4f5c\uff0c\u5176\u4f18\u52bf\u5728\u4e8e\u67e5\u8be2\u529f\u80fd\u6bd4\u8f83\u5f3a\u5927\uff0c\u64c5\u957f\u67e5\u8be2JSON\u6570\u636e\uff0c\u80fd\u5b58\u50a8\u6d77\u91cf\u6570\u636e\uff0c\u4f46\u662f\u4e0d\u652f\u6301\u4e8b\u52a1\u3002","title":"Redis\u548cMongoDB\u7684\u533a\u522b"},{"location":"14%E3%80%81redis.html#_1","text":"","title":"\u4e00 \u524d\u671f\u51c6\u5907"},{"location":"14%E3%80%81redis.html#_2","text":"https://github.com/ServiceStack/redis-windows https://github.com/MSOpenTech/redis/releases","title":"\u4e0b\u8f7d\u5730\u5740:"},{"location":"14%E3%80%81redis.html#rediswindowsconf","text":"455\u884c maxheap 1024000000 \u8bbe\u7f6e\u6700\u5927\u7684\u6570\u636e\u5806\u7684\u5927\u5c0f 387\u884c requirepass 123456 \u8bbe\u7f6e\u6570\u636e\u5e93\u7684\u5bc6\u7801","title":"\u8bbe\u7f6e redis.windows.conf"},{"location":"14%E3%80%81redis.html#_3","text":"cd C:\\redis64-2.8.2101 C:\\redis64-2.8.2101>redis-server.exe redis.windows.conf #\u6267\u884c redis-server.exe \u5e76\u52a0\u8f7dWindows\u7684\u914d\u7f6e\u6587\u4ef6 C:\\redis64-2.8.2101\u2014>dump.rdb \u4e3a\u6570\u636e\u6587\u4ef6","title":"\u4e8c \u542f\u52a8\u670d\u52a1"},{"location":"14%E3%80%81redis.html#mac-homebrewhomebrew-mac","text":"1\u3001\u6267\u884c brew install redis 2\u3001\u542f\u52a8 redis\uff0c\u53ef\u4ee5\u4f7f\u7528\u540e\u53f0\u670d\u52a1\u542f\u52a8 brew services start redis\u3002\u6216\u8005\u76f4\u63a5\u542f\u52a8\uff1aredis-server /usr/local/etc/redis.conf","title":"mac \u4e0b\u5b89\u88c5\u4e5f\u53ef\u4ee5\u4f7f\u7528 homebrew\uff0chomebrew \u662f mac \u7684\u5305\u7ba1\u7406\u5668\u3002"},{"location":"14%E3%80%81redis.html#_4","text":"","title":"\u4e09 \u6d4b\u8bd5\u662f\u5426\u8fde\u63a5\u6210\u529f"},{"location":"14%E3%80%81redis.html#_5","text":"","title":"\u518d\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u7ec8\u7aef"},{"location":"14%E3%80%81redis.html#rediswindowsconf_1","text":"C:\\redis64-2.8.2101>Redis-cli.exe 127.0.0.1:6379>auth '123456'","title":"\u8f93\u5165\u5bc6\u7801 (\u8fd9\u4e2a\u5bc6\u7801\u5c31\u662f\u5728redis.windows.conf\u91cc\u9762\u8bbe\u7f6e\u7684\u5bc6\u7801)"},{"location":"14%E3%80%81redis.html#_6","text":"\u5bc6\u7801 \u4e3a \u5b57\u7b26\u4e32\u7c7b\u578b","title":"\u6ce8\u610f:"},{"location":"14%E3%80%81redis.html#redis_2","text":"","title":"\u56db Redis\u503c\u7684\u7c7b\u578b"},{"location":"14%E3%80%81redis.html#string","text":"","title":"\u5b57\u7b26\u4e32 String"},{"location":"14%E3%80%81redis.html#hash","text":"","title":"\u54c8\u5e0c hash"},{"location":"14%E3%80%81redis.html#list","text":"","title":"\u5217\u8868 list"},{"location":"14%E3%80%81redis.html#set","text":"","title":"\u96c6\u5408 set"},{"location":"14%E3%80%81redis.html#zset","text":"","title":"\u6709\u5e8f\u96c6\u5408 zset"},{"location":"14%E3%80%81redis.html#_7","text":"http://redis.cn/commands.html config get databases \u67e5\u770b\u6240\u6709\u7684\u6570\u636e\u5e93 \u6570\u636e\u5e93\u4ee50\u5f00\u59cb \u4e00\u517116\u4e2a","title":"\u6570\u636e\u64cd\u4f5c\u7684\u5168\u90e8\u547d\u4ee4\uff1a"},{"location":"14%E3%80%81redis.html#1-string","text":"\u6982\u8ff0\uff1aString\u662fredis\u6700\u57fa\u672c\u7684\u7c7b\u578b\uff0c\u6700\u5927\u80fd\u5b58\u50a8512MB\u7684\u6570\u636e\uff0cString\u7c7b\u578b\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\uff0c\u5373\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u6570\u636e\u3001\u6bd4\u5982\u6570\u5b57\u3001\u56fe\u7247\u3001\u5e8f\u5217\u5316\u5bf9\u8c61\u7b49 \u4e00\u4e2akey\u5bf9\u5e94\u4e00\u4e2avalue string\u7c7b\u578b\u662fRedis\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u4e2a\u952e\u6700\u5927\u80fd\u5b58\u50a8512MB\u3002","title":"(1) String"},{"location":"14%E3%80%81redis.html#1","text":"","title":"1\u3001\u8bbe\u7f6e\u952e\u503c"},{"location":"14%E3%80%81redis.html#a","text":"set key value set name \"zhangsan\"","title":"A\u3001\u8bbe\u7f6e\u952e\u503c"},{"location":"14%E3%80%81redis.html#b","text":"setex key seconds value python setex name 10 'zhangsan'","title":"B\u3001\u8bbe\u7f6e\u952e\u503c\u53ca\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d"},{"location":"14%E3%80%81redis.html#c","text":"ttl key ttl name","title":"C\u3001\u67e5\u770b\u6709\u6548\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d"},{"location":"14%E3%80%81redis.html#d","text":"persist key persist name","title":"D\u3001\u53d6\u6d88\u8fc7\u671f\u65f6\u95f4"},{"location":"14%E3%80%81redis.html#e-key-key","text":"setnx key value setnx name 'a'","title":"E\u3001\u53ea\u6709\u5728 key \u4e0d\u5b58\u5728\u65f6\u8bbe\u7f6e key \u7684\u503c"},{"location":"14%E3%80%81redis.html#e","text":"mset key value [key value \u2026\u2026] mset name 'zs' age 18","title":"E\u3001\u8bbe\u7f6e\u591a\u4e2a\u952e\u503c"},{"location":"14%E3%80%81redis.html#2key","text":"","title":"2\u3001key\u7684\u64cd\u4f5c"},{"location":"14%E3%80%81redis.html#anonenull-0-nil","text":"get key get name","title":"A.\u6839\u636e\u952e\u83b7\u53d6\u503c\uff0c\u5982\u679c\u952e\u4e0d\u5b58\u5728\u5219\u8fd4\u56deNone(null 0 nil)"},{"location":"14%E3%80%81redis.html#b_1","text":"mget key [key \u2026\u2026] mget name age g","title":"B\u3001\u6839\u636e\u591a\u4e2a\u952e\u83b7\u53d6\u591a\u4e2a\u503c"},{"location":"14%E3%80%81redis.html#c-key","text":"getrange key start end getrange name 0 4","title":"C\u3001\u8fd4\u56de key \u4e2d\u5b57\u7b26\u4e32\u503c\u7684\u5b50\u5b57\u7b26"},{"location":"14%E3%80%81redis.html#d-key-value-key-old-value","text":"getset key value getset name 'x'","title":"D\u3001\u5c06\u7ed9\u5b9a key \u7684\u503c\u8bbe\u4e3a value \uff0c\u5e76\u8fd4\u56de key \u7684\u65e7\u503c(old value)"},{"location":"14%E3%80%81redis.html#3","text":"","title":"3\u3001\u8fd0\u7b97"},{"location":"14%E3%80%81redis.html#_8","text":"","title":"\u8981\u6c42\uff1a\u503c\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u5b57"},{"location":"14%E3%80%81redis.html#akey1","text":"incr key incr age","title":"A\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u52a01"},{"location":"14%E3%80%81redis.html#bkey1","text":"decr key decr age","title":"B\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u51cf1"},{"location":"14%E3%80%81redis.html#ckey","text":"incrby key intnum incrby age 10","title":"C\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u52a0\u6574\u6570"},{"location":"14%E3%80%81redis.html#dkey","text":"decrby key intnum decrby age 10","title":"D\u3001\u5c06key\u5bf9\u5e94\u7684\u503c\u51cf\u6574\u6570"},{"location":"14%E3%80%81redis.html#e_1","text":"strlen key strlen age","title":"E\u3001\u83b7\u53d6\u503c\u957f\u5ea6"},{"location":"14%E3%80%81redis.html#key","text":"","title":"key \u952e\u7684\u64cd\u4f5c\uff08\u6682\u5b9a\u8981\u4e0d\u8981\u5220\u9664\uff09"},{"location":"14%E3%80%81redis.html#apattern-key","text":"keys * KEYS *o* KEYS t??","title":"A\u3001\u67e5\u627e\u6240\u6709\u7b26\u5408\u7ed9\u5b9a\u6a21\u5f0fpattern\uff08\u6b63\u5219\u8868\u8fbe\u5f0f\uff09\u7684 key"},{"location":"14%E3%80%81redis.html#_9","text":"h?llo \u5339\u914d hello , hallo \u548c hxllo h*llo \u5339\u914d hllo \u548c heeeello h[ae]llo \u5339\u914d hello \u548c hallo, \u4f46\u662f\u4e0d\u5339\u914d hillo h[^e]llo \u5339\u914d hallo , hbllo , \u2026 \u4f46\u662f\u4e0d\u5339\u914d hello h[a-b]llo \u5339\u914d hallo \u548c hbllo","title":"\u652f\u6301\u7684\u6b63\u5219\u8868\u8fbe\u6a21\u5f0f\uff1a"},{"location":"14%E3%80%81redis.html#b10","text":"exists key exists name","title":"B\u3001\u5224\u65ad\u952e\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u8fd4\u56de1\uff0c\u4e0d\u5b58\u5728\u8fd4\u56de0"},{"location":"14%E3%80%81redis.html#cvalue","text":"type key type name","title":"C\u3001\u67e5\u770b\u952e\u5bf9\u5e94\u7684value\u7c7b\u578b"},{"location":"14%E3%80%81redis.html#d_1","text":"del key [key \u2026\u2026]","title":"D\u3001\u5220\u9664\u952e\u53ca\u5bf9\u5e94\u7684\u503c"},{"location":"14%E3%80%81redis.html#e_2","text":"expire key seconds expire age 10","title":"E\u3001\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d"},{"location":"14%E3%80%81redis.html#f","text":"ttl key","title":"F\u3001\u67e5\u770b\u6709\u6548\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d"},{"location":"14%E3%80%81redis.html#h-key","text":"pttl key","title":"H\u3001\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u8fd4\u56de key \u7684\u5269\u4f59\u7684\u8fc7\u671f\u65f6\u95f4"},{"location":"14%E3%80%81redis.html#i-key-key","text":"persist key","title":"I\u3001\u79fb\u9664 key \u7684\u8fc7\u671f\u65f6\u95f4\uff0ckey \u5c06\u6301\u4e45\u4fdd\u6301"},{"location":"14%E3%80%81redis.html#jkey","text":"flushdb \u5220\u9664\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709 flushall \u5220\u9664\u6240\u6709\u6570\u636e\u5e93\u4e2d\u7684key","title":"J\u3001\u5220\u9664\u6240\u6709\u7684key"},{"location":"14%E3%80%81redis.html#k-key-newkey-key-newkey","text":"rename key newkey","title":"K\u3001\u4fee\u6539 key \u7684\u540d\u79f0(\u4ec5\u5f53 newkey \u4e0d\u5b58\u5728\u65f6\uff0c\u5c06 key \u6539\u540d\u4e3a newkey)"},{"location":"14%E3%80%81redis.html#lkey","text":"Move key db mover name 1 #\u5c06name \u79fb\u52a8\u5230\u6570\u636e\u5e931","title":"L\u3001\u5c06key\u79fb\u52a8\u5230\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e2d"},{"location":"14%E3%80%81redis.html#mkey","text":"randomkey","title":"M\u3001\u968f\u673a\u8fd4\u56de\u4e00\u4e2akey"},{"location":"14%E3%80%81redis.html#2-hash","text":"","title":"(2) hash"},{"location":"14%E3%80%81redis.html#hash_1","text":"{ \u200b name:\"tom\", \u200b age:18 } Redis hash \u662f\u4e00\u4e2a\u952e\u503c(key=>value)\u5bf9\u96c6\u5408\u3002","title":"\u6982\u8ff0\uff1ahash\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61"},{"location":"14%E3%80%81redis.html#1_1","text":"","title":"1\u3001\u8bbe\u7f6e"},{"location":"14%E3%80%81redis.html#a_1","text":"hset key field value redis> e (integer) 1z redis> HGET myhash field1 \"Hello\"","title":"a\u3001\u8bbe\u7f6e\u5355\u4e2a\u503c"},{"location":"14%E3%80%81redis.html#b_2","text":"hmset key field value [field value \u2026\u2026] hmset a x \"o\" y \"y\" z \"z\"","title":"b\u3001\u8bbe\u7f6e\u591a\u4e2a\u503c"},{"location":"14%E3%80%81redis.html#c-key-increment","text":"hincrby key field incrment hincrby hh age 10","title":"C \u4e3a\u54c8\u5e0c\u8868 key \u4e2d\u7684\u6307\u5b9a\u5b57\u6bb5\u7684\u6574\u6570\u503c\u52a0\u4e0a\u589e\u91cf increment"},{"location":"14%E3%80%81redis.html#e-key-increment","text":"HINCRBYFLOAT key field increment hincrbyfloat hh money 0.1","title":"E \u4e3a\u54c8\u5e0c\u8868 key \u4e2d\u7684\u6307\u5b9a\u5b57\u6bb5\u7684\u6d6e\u70b9\u6570\u503c\u52a0\u4e0a\u589e\u91cf increment"},{"location":"14%E3%80%81redis.html#f-field","text":"hsetnx key field value hget hh name","title":"F \u53ea\u6709\u5728\u5b57\u6bb5 field \u4e0d\u5b58\u5728\u65f6\uff0c\u8bbe\u7f6e\u54c8\u5e0c\u8868\u5b57\u6bb5\u7684\u503c"},{"location":"14%E3%80%81redis.html#2","text":"","title":"2\u3001\u83b7\u53d6"},{"location":"14%E3%80%81redis.html#a_2","text":"hget key field hget name field1","title":"A\u3001\u83b7\u53d6\u4e00\u4e2a\u5c5e\u6027\u7684\u503c"},{"location":"14%E3%80%81redis.html#b_3","text":"hmget key filed [filed \u2026\u2026]","title":"B\u3001\u83b7\u53d6\u591a\u4e2a\u5c5e\u6027\u7684\u503c"},{"location":"14%E3%80%81redis.html#c_1","text":"hgetall key","title":"C\u3001\u83b7\u53d6\u6240\u6709\u5b57\u6bb5\u548c\u503c"},{"location":"14%E3%80%81redis.html#d_2","text":"hkeys key","title":"D\u3001\u83b7\u53d6\u6240\u6709\u5b57\u6bb5"},{"location":"14%E3%80%81redis.html#e_3","text":"hvals key","title":"E\u3001\u83b7\u53d6\u6240\u6709\u503c"},{"location":"14%E3%80%81redis.html#f_1","text":"hlen key","title":"F\u3001\u8fd4\u56de\u5305\u542b\u6570\u636e\u7684\u4e2a\u6570"},{"location":"14%E3%80%81redis.html#3_1","text":"","title":"3\u3001\u5176\u5b83"},{"location":"14%E3%80%81redis.html#a10","text":"hexists key field hexists a x","title":"A\u3001\u5224\u65ad\u5c5e\u6027\u662f\u5426\u5b58\u5728\uff0c\u5b58\u5728\u8fd4\u56de1\uff0c\u4e0d\u5b58\u5728\u8fd4\u56de0"},{"location":"14%E3%80%81redis.html#b_4","text":"hdel key field [field \u2026\u2026] hdel a x y z","title":"B\u3001\u5220\u9664\u5b57\u6bb5\u53ca\u503c"},{"location":"14%E3%80%81redis.html#c-32","text":"hstrlen key field","title":"C\u3001\u8fd4\u56de\u503c\u7684\u5b57\u7b26\u4e32\u957f\u5ea6 \u8d77\u59cb\u7248\u672c 3.2"},{"location":"14%E3%80%81redis.html#3-list","text":"\u6982\u8ff0\uff1aRedis \u5217\u8868\u662f\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u5217\u8868\uff0c\u6309\u7167\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\u3002\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5230\u5217\u8868\u7684\u5934\u90e8\uff08\u5de6\u8fb9\uff09\u6216\u8005\u5c3e\u90e8\uff08\u53f3\u8fb9\uff09","title":"(3) \u5217\u8868 list"},{"location":"14%E3%80%81redis.html#1_2","text":"","title":"1\u3001\u8bbe\u7f6e"},{"location":"14%E3%80%81redis.html#a_3","text":"lpush key value [vlaue \u2026\u2026] lpush demo 2 3`","title":"A\u3001\u5728\u5934\u90e8\u63d2\u5165"},{"location":"14%E3%80%81redis.html#_10","text":"Lpushx key val lpushx list 'a'","title":"\u5c06\u4e00\u4e2a\u503c\u63d2\u5165\u5230\u5df2\u5b58\u5728\u7684\u5217\u8868\u5934\u90e8\uff0c\u5217\u8868\u4e0d\u5b58\u5728\u65f6\u64cd\u4f5c\u65e0\u6548"},{"location":"14%E3%80%81redis.html#b_5","text":"rpush key value [vlaue \u2026\u2026] rpush demo 2 1","title":"B\u3001\u5728\u5c3e\u90e8\u63d2\u5165"},{"location":"14%E3%80%81redis.html#_11","text":"rpushx key val rpushx mm 'a'","title":"\u4e3a\u5df2\u5b58\u5728\u7684\u5217\u8868\u6dfb\u52a0\u503c"},{"location":"14%E3%80%81redis.html#2_1","text":"","title":"2\u3001\u83b7\u53d6"},{"location":"14%E3%80%81redis.html#akeylist","text":"lpop key lpop demo","title":"A\u3001\u79fb\u9664\u5e76\u8fd4\u56dekey\u5bf9\u5e94\u7684list\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20"},{"location":"14%E3%80%81redis.html#bkeylist","text":"rpop key rpop demo","title":"B\u3001\u79fb\u9664\u5e76\u8fd4\u56dekey\u5bf9\u5e94\u7684list\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20"},{"location":"14%E3%80%81redis.html#ckey_1","text":"lrange key start end lrange demo 0 -1 #\u67e5\u770b\u5217\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20 \u6ce8\u610f\uff1astart end\u90fd\u662f\u4ece0\u5f00\u59cb \u6ce8\u610f\uff1a\u504f\u79fb\u91cf\u53ef\u4ee5\u662f\u8d1f\u6570","title":"C\u3001\u8fd4\u56de\u5b58\u50a8\u5728key\u7684\u5217\u8868\u4e2d\u7684\u6307\u5b9a\u8303\u56f4\u7684\u5143\u7d20"},{"location":"14%E3%80%81redis.html#3_2","text":"","title":"3\u3001\u5176\u5b83"},{"location":"14%E3%80%81redis.html#a_4","text":"ltrim key start end ltrim demo 1 -1 #\u5c06\u7d22\u5f15\u4e3a1 \u5230 -1\u7684\u5143\u7d20\u88c1\u526a\u51fa\u6765 \u6ce8\u610f\uff1astart end\u90fd\u662f\u4ece0\u5f00\u59cb \u6ce8\u610f\uff1a\u504f\u79fb\u91cf\u53ef\u4ee5\u662f\u8d1f\u6570","title":"A\u3001\u88c1\u526a\u5217\u8868\uff0c\u6539\u4e3a\u539f\u96c6\u5408\u7684\u4e00\u4e2a\u5b50\u96c6"},{"location":"14%E3%80%81redis.html#bkeylist_1","text":"llen key","title":"B\u3001\u8fd4\u56de\u5b58\u50a8\u5728key\u91cc\u7684list\u7684\u957f\u5ea6"},{"location":"14%E3%80%81redis.html#c_2","text":"lindex key index LINDEX mylist 0","title":"C\u3001\u8fd4\u56de\u5217\u8868\u4e2d\u7d22\u5f15\u5bf9\u5e94\u7684\u503c"},{"location":"14%E3%80%81redis.html#set_1","text":"\u6982\u8ff0\uff1a\u65e0\u5e8f\u96c6\u5408\uff0c\u5143\u7d20\u7c7b\u578b\u4e3aString\u7c7b\u578b\uff0c\u5143\u7d20\u5177\u6709\u552f\u4e00\u6027\uff0c\u4e0d\u91cd\u590d { 'a','b'}","title":"\u56db \u96c6\u5408 set"},{"location":"14%E3%80%81redis.html#1_3","text":"","title":"1\u3001\u8bbe\u7f6e"},{"location":"14%E3%80%81redis.html#a_5","text":"sadd key member [member \u2026\u2026] sadd set 'a' 'b' 'c'","title":"A\u3001\u6dfb\u52a0\u5143\u7d20"},{"location":"14%E3%80%81redis.html#2_2","text":"","title":"2\u3001\u83b7\u53d6"},{"location":"14%E3%80%81redis.html#akey","text":"smembers key smembers set","title":"A\u3001\u8fd4\u56dekey\u96c6\u5408\u4e2d\u6240\u6709\u5143\u7d20"},{"location":"14%E3%80%81redis.html#b_6","text":"scard key scard set","title":"B\u3001\u8fd4\u56de\u96c6\u5408\u5143\u7d20\u4e2a\u6570"},{"location":"14%E3%80%81redis.html#c_3","text":"Spop key spop set","title":"C\u3001\u79fb\u9664\u5e76\u8fd4\u56de\u96c6\u5408\u4e2d\u7684\u4e00\u4e2a\u968f\u673a\u5143\u7d20"},{"location":"14%E3%80%81redis.html#d_3","text":"srandmember key count s set #\u8fd4\u56de\u4e00\u4e2a\u968f\u673a\u5143\u7d20 srandmember set 2 #\u8fd4\u56de2\u4e2a\u968f\u673a\u5143\u7d20","title":"D\u3001\u8fd4\u56de\u96c6\u5408\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u968f\u673a\u6570"},{"location":"14%E3%80%81redis.html#e_4","text":"srem key member1 [memkber2] srem set 'd' 'b'ss","title":"E\u3001\u79fb\u9664\u96c6\u5408\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u6210\u5458"},{"location":"14%E3%80%81redis.html#3_3","text":"","title":"3\u3001\u96c6\u5408\u7684\u5176\u5b83\u64cd\u4f5c"},{"location":"14%E3%80%81redis.html#as","text":"sinter key [key \u2026\u2026] sinter m l #\u6c42\u96c6\u5408l\u548c\u96c6\u5408m\u7684\u4ea4\u96c6","title":"A\u3001\u6c42\u591a\u4e2a\u96c6\u5408\u7684\u4ea4\u96c6s"},{"location":"14%E3%80%81redis.html#b_7","text":"sdiff key [key \u2026\u2026] sdiff m l #\u6c42\u5dee\u96c6 \u6ce8\u610f\u6bd4\u8f83\u987a\u5e8f","title":"B\u3001\u6c42\u591a\u4e2a\u96c6\u5408\u7684\u5dee\u96c6"},{"location":"14%E3%80%81redis.html#d10","text":"sismember key member sissmember m 'a' #\u96c6\u5408m\u4e2d\u662f\u5426\u5b58\u5728\u5143\u7d20'a'","title":"D\u3001\u5224\u65ad\u5143\u7d20\u662f\u5426\u5728\u96c6\u5408\u4e2d\uff0c\u5b58\u5728\u8fd4\u56de1\uff0c\u4e0d\u5b58\u5728\u8fd4\u56de0"},{"location":"14%E3%80%81redis.html#zset_1","text":"","title":"\u4e94 \u6709\u5e8f\u96c6\u5408 zset"},{"location":"14%E3%80%81redis.html#_12","text":"","title":"\u6982\u8ff0\uff1a"},{"location":"14%E3%80%81redis.html#astizng","text":"","title":"a\u3001\u6709\u5e8f\u96c6\u5408\uff0c\u5143\u7d20\u7c7b\u578b\u4e3aStizng\uff0c\u5143\u7d20\u5177\u6709\u552f\u4e00\u6027\uff0c\u4e0d\u80fd\u91cd\u590d"},{"location":"14%E3%80%81redis.html#bdoublescorescore","text":"","title":"b\u3001\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2adouble\u7c7b\u578b\u7684score(\u8868\u793a\u6743\u91cd),\u901a\u8fc7\u6743\u91cd\u7684\u5927\u5c0f\u6392\u5e8f\uff0c\u5143\u7d20\u7684score\u53ef\u4ee5\u76f8\u540c"},{"location":"14%E3%80%81redis.html#1_4","text":"","title":"1\u3001\u8bbe\u7f6e"},{"location":"14%E3%80%81redis.html#a_6","text":"zadd key score member [score member \u2026\u2026] zadd zset 1 a 5 b 3 c 2 d 4 e","title":"A\u3001\u6dfb\u52a0"},{"location":"14%E3%80%81redis.html#b-increment","text":"Zincrby key increment mcfaember zincrby zset 10 'a' #\u7ed9a\u7684\u6743\u91cd\u4e0a\u52a010","title":"B\u3001\u6709\u5e8f\u96c6\u5408\u4e2d\u5bf9\u6307\u5b9a\u6210\u5458\u7684\u5206\u6570\u52a0\u4e0a\u589e\u91cf increment"},{"location":"14%E3%80%81redis.html#2_3","text":"","title":"2\u3001\u83b7\u53d6"},{"location":"14%E3%80%81redis.html#a_7","text":"zrange key start end zrange z1 0 -1","title":"A\u3001\u8fd4\u56de\u6307\u5b9a\u8303\u56f4\u7684\u5143\u7d20"},{"location":"14%E3%80%81redis.html#b_8","text":"zcard key zcard z1","title":"B\u3001\u8fd4\u56de\u5143\u7d20\u4e2a\u6570"},{"location":"14%E3%80%81redis.html#ckeyscoreminmax","text":"zcount key min max","title":"C\u3001\u8fd4\u56de\u6709\u5e8f\u96c6\u5408key\u4e2d\uff0cscore\u5728min\u548cmax\u4e4b\u95f4\u7684\u5143\u7d20\u7684\u4e2a\u6570"},{"location":"14%E3%80%81redis.html#dkeymemberscore","text":"zscore key member zscore l 'c' #s\u8fd4\u56dec\u7684\u6743\u91cd","title":"D\u3001\u8fd4\u56de\u6709\u5e8f\u96c6\u5408key\u4e2d\uff0c\u6210\u5458member\u7684score\u503c"},{"location":"14%E3%80%81redis.html#e_5","text":"ZRANGE key 0 -1 WITHSCORES","title":"E\u3001\u5f53\u524d\u96c6\u5408\u6240\u6709\u7684\u503c\u548c\u6743\u91cd"},{"location":"14%E3%80%81redis.html#f_2","text":"ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count] \u533a\u95f4\u53ca\u65e0\u9650 min\u548cmax\u53ef\u4ee5\u662f-inf\u548c+inf\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728\u4e0d\u77e5\u9053\u6709\u5e8f\u96c6\u7684\u6700\u4f4e\u548c\u6700\u9ad8score\u503c\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528ZRANGEBYSCORE\u8fd9\u7c7b\u547d\u4ee4\u3002 redis> ZADD myzset 1 \"one\" (integer) 1 redis> ZADD myzset 2 \"two\" (integer) 1 redis> ZADD myzset 3 \"three\" (integer) 1 redis> ZRANGEBYSCORE myzset -inf +inf 1) \"one\" 2) \"two\" 3) \"three\" redis> ZRANGEBYSCORE myzset 1 2 1) \"one\" 2) \"two\"","title":"F\u3001\u8fd4\u56de\u6709\u5e8f\u96c6\u5408\u4e2d\u6307\u5b9a\u5206\u6570\u533a\u95f4\u5185\u7684\u6210\u5458\uff0c\u5206\u6570\u7531\u4f4e\u5230\u9ad8\u6392\u5e8f\u3002"},{"location":"14%E3%80%81redis.html#3_4","text":"","title":"3\u3001\u5220\u9664"},{"location":"14%E3%80%81redis.html#a_8","text":"\u5f53key\u5b58\u5728\uff0c\u4f46\u662f\u5176\u4e0d\u662f\u6709\u5e8f\u96c6\u5408\u7c7b\u578b\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u3002 ZREM key member [member ...] redis> ZADD myzset 1 \"one\" (integer) 1 redis> ZADD myzset 2 \"two\" (integer) 1 redis> ZADD myzset 3 \"three\" (integer) 1 redis> ZREM myzset \"two\" (integer) 1 redis> ZRANGE myzset 0 -1 WITHSCORES 1) \"one\" 2) \"1\" 3) \"three\" 4) \"3\" redis>","title":"A \u4ece\u6392\u5e8f\u7684\u96c6\u5408\u4e2d\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u6210\u5458"},{"location":"14%E3%80%81redis.html#_13","text":"\u9ed8\u8ba4\u5728 \u6570\u636e\u5e93 0 select num \u8fdb\u884c\u6570\u636e\u5e93\u7684\u5207\u6362 select 1 #\u8fdb\u5165\u5230\u6570\u636e\u5e931","title":"\u6570\u636e\u5e93:"},{"location":"14%E3%80%81redis.html#redis_3","text":"\u6ce8\u610f\uff1a\u5f53\u524d\u5bc6\u7801\u4fee\u6539\u540e\u5982\u679c\u670d\u52a1\u91cd\u542f\u5219\u9700\u8981\u91cd\u65b0\u8bbe\u5b9a \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 redis \u7684\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u5bc6\u7801\u53c2\u6570\uff0c\u8fd9\u6837\u5ba2\u6237\u7aef\u8fde\u63a5\u5230 redis \u670d\u52a1\u5c31\u9700\u8981\u5bc6\u7801\u9a8c\u8bc1\uff0c\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4f60\u7684 redis \u670d\u52a1\u66f4\u5b89\u5168\u3002","title":"\u4e94\u3001Redis \u5b89\u5168"},{"location":"14%E3%80%81redis.html#_14","text":"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u662f\u5426\u8bbe\u7f6e\u4e86\u5bc6\u7801\u9a8c\u8bc1\uff1a 127.0.0.1:6379> CONFIG get requirepass 1) \"requirepass\" 2) \"\" \u9ed8\u8ba4\u60c5\u51b5\u4e0b requirepass \u53c2\u6570\u662f\u7a7a\u7684\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u65e0\u9700\u901a\u8fc7\u5bc6\u7801\u9a8c\u8bc1\u5c31\u53ef\u4ee5\u8fde\u63a5\u5230 redis \u670d\u52a1\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6765\u4fee\u6539\u8be5\u53c2\u6570\uff1a 127.0.0.1:6379> CONFIG set requirepass \"lucky\" OK 127.0.0.1:6379> CONFIG get requirepass 1) \"requirepass\" 2) \"lucky\" \u8bbe\u7f6e\u5bc6\u7801\u540e\uff0c\u5ba2\u6237\u7aef\u8fde\u63a5 redis \u670d\u52a1\u5c31\u9700\u8981\u5bc6\u7801\u9a8c\u8bc1\uff0c\u5426\u5219\u65e0\u6cd5\u6267\u884c\u547d\u4ee4\u3002","title":"\u5b9e\u4f8b"},{"location":"14%E3%80%81redis.html#_15","text":"AUTH \u547d\u4ee4\u57fa\u672c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a 127.0.0.1:6379> AUTH password","title":"\u8bed\u6cd5"},{"location":"14%E3%80%81redis.html#_16","text":"127.0.0.1:6379> AUTH \"lucky\" OK 127.0.0.1:6379> SET mykey \"Test value\" OK 127.0.0.1:6379> GET mykey \"Test value\"","title":"\u5b9e\u4f8b"},{"location":"14%E3%80%81redis.html#redis_4","text":"Redis SAVE \u547d\u4ee4\u7528\u4e8e\u521b\u5efa\u5f53\u524d\u6570\u636e\u5e93\u7684\u5907\u4efd\u3002","title":"\u516d\u3001Redis \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d"},{"location":"14%E3%80%81redis.html#_17","text":"redis Save \u547d\u4ee4\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a redis 127.0.0.1:6379> SAVE","title":"\u8bed\u6cd5"},{"location":"14%E3%80%81redis.html#_18","text":"redis 127.0.0.1:6379> SAVE OK \u8be5\u547d\u4ee4\u5c06\u5728 redis \u5b89\u88c5\u76ee\u5f55\u4e2d\u521b\u5efadump.rdb\u6587\u4ef6\u3002","title":"\u5b9e\u4f8b"},{"location":"14%E3%80%81redis.html#_19","text":"\u5982\u679c\u9700\u8981\u6062\u590d\u6570\u636e\uff0c\u53ea\u9700\u5c06\u5907\u4efd\u6587\u4ef6 (dump.rdb) \u79fb\u52a8\u5230 redis \u5b89\u88c5\u76ee\u5f55\u5e76\u542f\u52a8\u670d\u52a1\u5373\u53ef\u3002\u83b7\u53d6 redis \u76ee\u5f55\u53ef\u4ee5\u4f7f\u7528 CONFIG \u547d\u4ee4\uff0c\u5982\u4e0b\u6240\u793a\uff1a redis 127.0.0.1:6379> CONFIG GET dir 1) \"dir\" 2) \"/usr/local/redis/bin\" \u4ee5\u4e0a\u547d\u4ee4 CONFIG GET dir \u8f93\u51fa\u7684 redis \u5b89\u88c5\u76ee\u5f55\u4e3a /usr/local/redis/bin\u3002","title":"\u6062\u590d\u6570\u636e"},{"location":"14%E3%80%81redis.html#bgsave","text":"\u521b\u5efa redis \u5907\u4efd\u6587\u4ef6\u4e5f\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 BGSAVE \uff0c\u8be5\u547d\u4ee4\u5728\u540e\u53f0\u6267\u884c\u3002","title":"Bgsave"},{"location":"14%E3%80%81redis.html#_20","text":"127.0.0.1:6379> BGSAVE Background saving started","title":"\u5b9e\u4f8b"},{"location":"14%E3%80%81redis.html#pythonredis","text":"","title":"\u4e03\u3001Python\u64cd\u4f5credis"},{"location":"14%E3%80%81redis.html#1_5","text":"pip install redis \u5bfc\u5165 import redis","title":"1\u3001\u5b89\u88c5"},{"location":"14%E3%80%81redis.html#2_4","text":"redis\u63d0\u4f9b\u4e862\u4e2a\u65b9\u6cd5 StrictRedis\uff1a\u5b9e\u73b0\u5927\u90e8\u5206\u5b98\u65b9\u7684\u547d\u4ee4 Redis\uff1a\u662fStrictRedis\u7684\u5b50\u7c7b\uff0c\u7528\u4e8e\u5411\u540e\u517c\u5bb9\u65e7\u7248\u7684redis\u3002","title":"2\u3001\u8fde\u63a5\u65b9\u5f0f"},{"location":"14%E3%80%81redis.html#strictredis","text":"","title":"\u5b98\u65b9\u63a8\u8350\u4f7f\u7528StrictRedis\u65b9\u6cd5\u3002"},{"location":"14%E3%80%81redis.html#_21","text":"import redis # decode_responses=True \u81ea\u52a8\u89e3\u7801 r = redis.Redis(host='127.0.0.1',port=6379,password='123c456',db=0,decode_responses=True) #\u9ed8\u8ba4\u6570\u636e\u5e93\u4e3a0 r = redis.StrictRedis(host='10.10.2.14',port=6379,password='123456',decode_responses=True)","title":"\u4e3e\u4f8b\uff08\u666e\u901a\u8fde\u63a5\uff09\uff1a"},{"location":"14%E3%80%81redis.html#connection-pool","text":"\u7ba1\u7406\u5bf9\u4e00\u4e2aredis server\u7684\u6240\u6709\u8fde\u63a5\uff0c\u907f\u514d\u6bcf\u6b21\u5efa\u7acb\uff0c\u91ca\u653e\u8fde\u63a5\u7684\u5f00\u9500\u3002\u9ed8\u8ba4\uff0c\u6bcf\u4e2aredis\u5b9e\u4f8b\u90fd\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u81ea\u5df1\u7684\u8fde\u63a5\u6c60\uff0c\u53ef\u4ee5\u76f4\u63a5\u5efa\u7acb\u4e00\u4e2a\u8fde\u63a5\u6c60\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9redis\uff0c\u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2aredis\u5b9e\u4f8b\u5171\u4eab\u4e00\u4e2a\u8fde\u63a5\u6c60\u3002 \u4e3e\u4f8b\uff08\u8fde\u63a5\u6c60\uff09\uff1a pool = redis.ConnectionPool(host='127.0.0.1',port=6379,db=0,password='123456',decode_responses=True) r = redis.Redis(connection_pool=pool)","title":"\u8fde\u63a5\u6c60\uff1aconnection pool"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html","text":"\u5341\u4e94\u3001\u9762\u5411\u5bf9\u8c61 \u4e00\u3001\u9762\u5411\u5bf9\u8c61\u57fa\u7840 1\u3001\u9762\u5411\u5bf9\u8c61\u601d\u60f3\u7b80\u4ecb \u8f6f\u4ef6\u7f16\u7a0b\u5c31\u662f\u5c06\u6211\u4eec\u7684\u601d\u7ef4\u8f6c\u53d8\u6210\u8ba1\u7b97\u673a\u80fd\u591f\u8bc6\u522b\u8bed\u8a00\u7684\u4e00\u4e2a\u8fc7\u7a0b \u4ec0\u4e48\u662f\u9762\u5411\u8fc7\u7a0b\uff1f \u81ea\u4e0a\u800c\u4e0b\u987a\u5e8f\u6267\u884c\uff0c\u9010\u6b65\u6c42\u7cbe \u5176\u7a0b\u5e8f\u7ed3\u6784\u662f\u6309\u529f\u80fd\u5212\u5206\u4e3a\u82e5\u5e72\u4e2a\u57fa\u672c\u6a21\u5757\uff0c\u8fd9\u4e9b\u6a21\u5757\u5f62\u6210\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff1b \u5404\u6a21\u5757\u4e4b\u95f4\u7684\u5173\u7cfb\u5c3d\u53ef\u80fd\u7b80\u5355\uff0c\u5728\u529f\u80fd\u4e0a\u76f8\u5bf9\u72ec\u7acb \u6bcf\u4e00\u6a21\u5757\u5185\u90e8\u5747\u662f\u7531\u987a\u5e8f\u3001\u9009\u62e9\u548c\u5faa\u73af\u4e09\u79cd\u57fa\u672c\u7ed3\u6784\u7ec4\u6210 \u5176\u6a21\u5757\u5316\u5b9e\u73b0\u7684\u5177\u4f53\u65b9\u6cd5\u662f\u4f7f\u7528\u5b50\u7a0b\u5e8f \u7a0b\u5e8f\u6d41\u7a0b\u5728\u5199\u7a0b\u5e8f\u65f6\u5c31\u5df2\u51b3\u5b9a \u4ec0\u4e48\u662f\u9762\u5411\u5bf9\u8c61\uff1f \u628a\u6570\u636e\u53ca\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u65b9\u6cd5\u653e\u5728\u4e00\u8d77\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u76f8\u4e92\u4f9d\u5b58\u7684\u6574\u4f53\u2014\u2014\u5bf9\u8c61 \u5bf9\u540c\u7c7b\u5bf9\u8c61\u62bd\u8c61\u51fa\u5176\u5171\u6027\uff0c\u5f62\u6210\u7c7b \u7c7b\u4e2d\u7684\u5927\u591a\u6570\u6570\u636e\uff0c\u53ea\u80fd\u7528\u672c\u7c7b\u7684\u65b9\u6cd5\u8fdb\u884c\u5904\u7406 \u7c7b\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u5916\u90e8\u63a5\u53e3\u4e0e\u5916\u754c\u53d1\u751f\u5173\u7cfb\uff0c\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u4e4b\u95f4\u901a\u8fc7\u6d88\u606f\u8fdb\u884c\u901a\u4fe1 \u7a0b\u5e8f\u6d41\u7a0b\u7531\u7528\u6237\u5728\u4f7f\u7528\u4e2d\u51b3\u5b9a \u7406\u89e3\u9762\u5411\u5bf9\u8c61 \u9762\u5411\u5bf9\u8c61\u662f\u76f8\u5bf9\u9762\u5411\u8fc7\u7a0b\u800c\u8a00 \u9762\u5411\u5bf9\u8c61\u548c\u9762\u5411\u8fc7\u7a0b\u90fd\u662f\u4e00\u79cd\u601d\u60f3 \u9762\u5411\u8fc7\u7a0b \u5f3a\u8c03\u7684\u662f\u529f\u80fd\u884c\u4e3a \u5173\u6ce8\u7684\u662f\u89e3\u51b3\u95ee\u9898\u9700\u8981\u54ea\u4e9b\u6b65\u9aa4 \u9762\u5411\u5bf9\u8c61 \u5c06\u529f\u80fd\u5c01\u88c5\u8fdb\u5bf9\u8c61\uff0c\u5f3a\u8c03\u5177\u5907\u4e86\u529f\u80fd\u7684\u5bf9\u8c61 \u5173\u6ce8\u7684\u662f\u89e3\u51b3\u95ee\u9898\u9700\u8981\u54ea\u4e9b\u5bf9\u8c61 \u9762\u5411\u5bf9\u8c61\u662f\u57fa\u4e8e\u9762\u5411\u8fc7\u7a0b\u7684 \u628a\ud83d\udc18\u5173\u51b0\u7bb1 \u9762\u5411\u8fc7\u7a0b \u9762\u5411\u5bf9\u8c61\uff1a\u66f4\u52a0\u7b26\u5408\u4eba\u6c11\u601d\u8003\u4e60\u60ef\u7684\u601d\u60f3\uff0c\u4ece\u6267\u884c\u8005\u53d8\u6210\u4e86\u6307\u6325\u8005 \u9762\u5411\u5bf9\u8c61\u7684\u7279\u70b9 \u662f\u4e00\u79cd\u7b26\u5408\u4eba\u4eec\u601d\u8003\u4e60\u60ef\u7684\u601d\u60f3 \u53ef\u4ee5\u5c06\u590d\u6742\u7684\u4e8b\u60c5\u7b80\u5355\u5316 \u5c06\u7a0b\u5e8f\u5458\u4ece\u6267\u884c\u8005\u8f6c\u6362\u6210\u4e86\u6307\u6325\u8005 \u5b8c\u6210\u9700\u6c42\u65f6 a\u3001\u5148\u8981\u53bb\u627e\u5177\u6709\u6240\u9700\u7684\u529f\u80fd\u7684\u5bf9\u8c61\u6765\u7528 b\u3001\u5982\u679c\u8be5\u5bf9\u8c61\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u6240\u9700\u529f\u80fd\u7684\u5bf9\u8c61 \u7c7b\u4e0e\u5bf9\u8c61\u7684\u5173\u7cfb \u4f7f\u7528\u8ba1\u7b97\u673a\u8bed\u8a00\u5c31\u662f\u4e0d\u65ad\u7684\u5728\u63cf\u8ff0\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u4e8b\u7269 Python\u4e2d\u63cf\u8ff0\u4e8b\u7269\u901a\u8fc7\u7c7b\u7684\u5f62\u5f0f\u4f53\u73b0\uff0c\u7c7b\u662f\u5177\u4f53\u4e8b\u7269\u7684\u62bd\u8c61\uff0c\u6982\u5ff5\u4e0a\u7684\u5b9a\u4e49 \u5bf9\u8c61\u5373\u662f\u8be5\u7c7b\u4e8b\u7269\u5b9e\u5b9e\u5728\u5728\u5b58\u5728\u7684\u4e2a\u4f53 2\u3001\u7b2c\u4e00\u4e2aPython\u7c7b \u8bbe\u8ba1\u7c7b\u53ea\u5173\u5fc33\u6837\u4e1c\u897f \u8bf4\u660e \u7c7b\u540d\uff1a\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u9075\u5b88\u6807\u8bc6\u7b26\u89c4\u5219 \u5c5e\u6027\uff1a\u9075\u5b88\u6807\u8bc6\u7b26\u89c4\u5219 \u884c\u4e3a(\u529f\u80fd\u3001\u65b9\u6cd5\u3001\u51fd\u6570)\uff1a\u9075\u5b88\u6807\u8bc6\u7b26\u89c4\u5219 \u8bbe\u8ba1\u7c7b \u4eba\u7c7b \u7c7b\u540d\uff1aPersonl \u5c5e\u6027\uff1aname age sex height weight \u884c\u4e3a\uff1a\u642c\u7816\u3001\u76d6\u623f\u5b50 \u6c7d\u8f66\u7c7b \u7c7b\u540d\uff1aCar \u5c5e\u6027\uff1acolor kuanshi(\u6b3e\u5f0f) weight pailiang(\u6392\u91cf) \u884c\u4e3a\uff1a\u8dd1\u3001\u62c9\u4e1c\u897f \u521b\u5efa\u7c7b \u683c\u5f0f class \u7c7b\u540d(\u7236\u7c7b\u540d): \u5c5e\u6027&\u884c\u4e3a \u8bf4\u660e class\uff1a\u8868\u660e\u8fd9\u662f\u4e00\u4e2a\u7c7b \u7c7b\u540d\uff1a\u7c7b\u7684\u540d\u5b57 ()\uff1a\u7236\u7c7b\u96c6\u5408\u7684\u5f00\u59cb\u548c\u7ed3\u675f \u7236\u7c7b\u540d\uff1a\u7236\u7c7b\u7684\u540d\u5b57\uff0c\u5b9a\u4e49\u7684\u7c7b\u7ee7\u627f\u81ea\u7236\u7c7b\uff0c\u53ef\u4ee5\u4e0d\u5199\uff0c\u9ed8\u8ba4\u662fobject\u3002object\u662f\u6240\u6709\u7c7b\u7684\u76f4\u63a5\u6216\u95f4\u63a5\u7236\u7c7b \u4ee3\u7801 python class Person(object): pass \u521b\u5efa\u5b58\u5728\u5c5e\u6027\u4e0e\u65b9\u6cd5\u7684\u7c7b python \"\"\" wife \u5c5e\u6027: sex age height weight name faceValue \u884c\u4e3a\uff1a\u6d17\u8863\u670d \u505a\u996d \u751f\u5c0f\u5b69 \"\"\" \"\"\" husband \u5c5e\u6027\uff1asex age height weight name faceValue \u884c\u4e3a\uff1a\u5403\u996d \u5e2e\u5fd9\u751f\u5c0f\u5b69 \u4e70\u83dc \u8d5a\u94b1 \"\"\" class Wife: sex = \"\u5973\" #\u7c7b\u5c5e\u6027 age = \"20\" height = 160 name = \"\u82cd\u82cd\" faceValue = \"\u5f88 \u9ad8\" #self \u4ee3\u8868\u5f53\u524d \u7684\u5bf9\u8c61 \u4e0d\u4e00\u5b9a\u540d\u5b57\u53eb\u505aself \u6807\u51c6\u6765\u8bf4 \u90fd\u53ebself def washClothes(self): print(\"\u6d17\u8863\u670d\") def cook(self): print(\"\u505a\u996d\") def papapa(self): print(\"\u751f\u5c0f\u5b69\") zhangSan = Wife() #\u7c7b\u7684\u5b9e\u4f8b\u5316 \u79f0\u4e3a \u5bf9\u8c61 3\u3001\u4f7f\u7528\u7c7b\u5b9e\u4f8b\u5316\u5bf9\u8c61 \u683c\u5f0f \u5bf9\u8c61\u540d = \u7c7b\u540d(\u53c2\u6570\u5217\u8868) \u8bf4\u660e \u53c2\u6570\u5217\u8868\uff1a\u4e3a\u4e86\u540e\u9762\u7ed9\u5c5e\u6027\u8fdb\u884c\u8d4b\u503c\u7684 \u5b9e\u4f8b\u5316\u4ee3\u7801 python per1 = Person() print(per1) per2 = Person() print(per2) 4\u3001self\u53c2\u6570 \u6982\u8ff0 \u5728\u7c7b\u5730\u5185\u90e8\uff0c\u4f7f\u7528 def \u5173\u952e\u5b57\u6765\u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4e0e\u4e00\u822c\u51fd\u6570\u5b9a\u4e49\u4e0d\u540c\uff0c\u7c7b\u65b9\u6cd5\u5fc5\u987b\u5305\u542b\u53c2\u6570 self\uff0c\u4e14\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0cself \u4ee3\u8868\u7684\u662f\u7c7b\u7684\u5b9e\u4f8b\uff0c\u800c\u975e\u7c7b self \u7684\u540d\u5b57\u5e76\u4e0d\u662f\u89c4\u5b9a\u6b7b\u7684\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 this\uff0c\u4f46\u662f\u6700\u597d\u8fd8\u662f\u6309\u7167\u7ea6\u5b9a\u4f7f\u7528 self\u3002 \u8fd9\u4e2aself\u7684\u53c2\u6570 \u4e0d\u9700\u8981\u4f20\u53c2\u7684 \u5b83\u662f\u4ee3\u8868 \u5f53\u524d\u5b9e\u4f8b\u5316\u540e\u7684\u5bf9\u8c61 self \u4e0d\u662f python \u5173\u952e\u5b57\uff0c\u6211\u4eec\u628a\u4ed6\u6362\u6210arg\u4e5f\u662f\u53ef\u4ee5\u6b63\u5e38\u6267\u884c ```python class Test: def prt(arg): print(arg) print(arg. class ) t = Test() t.prt() ``` \u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u9a8c\u8bc1 python class A: name = \"ss\" def aa(self): print(self.__dict__) print(id(self)) #\u6253\u5370slef\u5bf9\u8c61\u7684\u5b58\u50a8\u5730\u5740 a = A() a.name = 'a' print(a.__dict__) print(id(a)) #\u6253\u5370\u5f53\u524d\u7c7b\u5b9e\u4f8b\u7684\u53d8\u91cfa\u7684\u5b58\u50a8\u5730\u5740 \u6ce8\u610f\uff1a self \u5c31\u662f\u5f53\u524d\u7c7b\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61 \u54ea\u4e2a\u5bf9\u8c61\u8c03\u7528\u5b83 \u5b83\u5c31\u662f\u54ea\u4e2a\u5bf9\u8c61 self\u4e0d\u662f\u5fc5\u987b\u7684 \u4f46\u662f\u4f5c\u4e3a\u6807\u51c6\u89c4\u8303 \u662f\u5fc5\u987b\u53ebself self \u5728\u7c7b\u4e2d\u521b\u5efa\u5bf9\u8c61 \u8c03\u7528\u7c7b\u4e2d\u7684\u5c5e\u6027\u4e0e\u65b9\u6cd5 5\u3001\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u4f7f\u7528 \u683c\u5f0f \u5bf9\u8c61.\u5c5e\u6027\u540d \u5bf9\u8c61.\u65b9\u6cd5\u540d(\u53c2\u6570...) \u65b9\u6cd5\u7684\u8fd4\u56de\u503c return \u65b9\u6cd5\u91cc \u5982\u679c \u6ca1\u6709\u8fd4\u56de\u503c \u6253\u5370\u65b9\u6cd5\u7684\u65f6\u5019 \u8fd4\u56de None \u5982\u679c\u6709\u8fd4\u56de\u503c\u5f97 \u65b9\u6cd5 \u9700\u8981\u4f7f\u7528 print() \u5c06\u5176\u8f93\u51fa python class \u7c7b\u540d\uff1a def \u65b9\u6cd5\u540d(): return \"\u503c\" \u6ce8\u610f\uff1a return \u4e0b\u65b9\u7684\u4ee3\u7801\u4e0d\u5728\u6267\u884c \u9047\u5230return \u5c31\u8ba4\u4e3a\u662f\u7ed3\u675f\u4e86\uff01 \u4e8c\u3001\u9762\u5411\u5bf9\u8c61\u8fdb\u9636 1\u3001\u7c7b\u5c5e\u6027 \u5b9a\u4e49 python class Person(object): # \u5b9a\u4e49\u7c7b\u5c5e\u6027 # \u5f53\u591a\u4e2a\u7c7b\u7684\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u9700\u8981\u76f8\u540c\u65f6\u53ef\u4ee5\u4f7f\u7528\u7c7b\u5c5e\u6027 name = \"lilei\" age = 18 sex = \"\u7537\" \u8c03\u7528 \u53ef\u4ee5\u901a\u8fc7\u7c7b\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61\u8c03\u7528 \u7ed9\u7c7b\u7ed1\u5b9a\u5c5e\u6027 \u7c7b\u540d.\u5c5e\u6027\u540d = \u5c5e\u6027\u503c \u4f7f\u7528 ```python # \u5b9e\u4f8b\u5316\u5bf9\u8c61\u65f6\uff0c\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u90fd\u76f8\u540c per1 = Person() per2 = Person() #\u901a\u8fc7\u5bf9\u8c61\u65b9\u6cd5\u7c7b\u5c5e\u6027 \u5bf9\u8c61\u540d.\u7c7b\u5c5e\u6027\u540d print(per1.name, per1.age, per1.sex) print(per2.name, per2.age, per2.sex) # \u4fee\u6539\u5bf9\u8c61\u5c5e\u6027\u503c\uff0c\u5982\u679c\u5bf9\u8c61\u5c5e\u6027\u4e0d\u5b58\u5728\u5219\u53d8\u4e3a\u589e\u52a0\u5bf9\u8c61\u5c5e\u6027 per1.name = \"liudh\" per2.name = \"daol\" print(per1.name, per2.name, Person.name) print(hasattr(per1, 'name')) print(setattr(per1, 'name', 'lucky')) print(getattr(per1, 'name')) ``` \u95ee\u9898 \u4f7f\u7528\u7c7b\u521b\u5efa\u7684\u6240\u6709\u5bf9\u8c61\u7684\u5c5e\u6027\u521d\u59cb\u503c\u90fd\u662f\u4e00\u6837\u7684 2\u3001\u5bf9\u8c61\u5c5e\u6027 \u6982\u8ff0\uff1a \u901a\u8fc7self\u4ee5\u53ca\u5b9e\u4f8b\u5316\u540e\u5bf9\u8c61\u6240\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u901a\u8fc7\u7c7b\u4e2d\u5b9a\u4e49\u4ee5\u53ca\u7c7b\u540d\u79f0\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u5bf9\u8c61\u5c5e\u6027\u53ea\u5b58\u5728\u4e8e\u5f53\u524d\u5bf9\u8c61\u4e2d \u5bf9\u8c61\u5c5e\u6027\u53ea\u80fd\u7531\u5bf9\u8c61\u8c03\u7528 \u5b9e\u4f8b\u5bf9\u8c61\u7ed1\u5b9a\u5c5e\u6027 \u901a\u8fc7\u7c7b\u7684self\u53d8\u91cf \u76f4\u63a5\u7ed9\u5b9e\u4f8b\u5bf9\u8c61\u8d4b\u503c python class Student(object): def __init__(self, name): self.name = name s = Student('lucky')#\u65b9\u6cd5\u4e00 \u901a\u8fc7\u7c7b\u7684self\u53d8\u91cf\u7ed1\u5b9a\u5c5e\u6027 s.score = 90#\u65b9\u6cd5\u4e8c \u76f4\u63a5\u8d4b\u503c \u5b9e\u4f8b ```python class Person(object): # \u8fd9\u91cc\u7684\u5c5e\u6027\u5b9e\u9645\u4e0a\u5c5e\u4e8e\u7c7b\u5c5e\u6027(\u7528\u7c7b\u540d\u6765\u8c03\u7528) name = \"person\" def init (self, name): pass #\u5bf9\u8c61\u5c5e\u6027 self.name = name print(Person.name) per = Person(\"lucky\") #\u5bf9\u8c61\u5c5e\u6027\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u7c7b\u5c5e\u6027 print(per.name) #\u52a8\u6001\u7684\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u5bf9\u8c61\u5c5e\u6027 per.age = 18 # \u53ea\u9488\u5bf9\u4e8e\u5f53\u524d\u5bf9\u8c61\u751f\u6548\uff0c\u5bf9\u4e8e\u7c7b\u521b\u5efa\u7684\u5176\u4ed6\u5bf9\u8c61\u6ca1\u6709\u4f5c\u7528 print(Person.name) per2 = Person(\"lilei\") #print(per2.age) #\u6ca1\u6709age\u5c5e\u6027 #\u5220\u9664\u5bf9\u8c61\u4e2d\u7684name\u5c5e\u6027\uff0c\u5728\u8c03\u7528\u4f1a\u4f7f\u7528\u5230\u540c\u540d\u7684\u7c7b\u5c5e\u6027 del per.name print(per.name) #\u6ce8\u610f\uff1a\u4ee5\u540e\u5343\u4e07\u4e0d\u8981\u5c06\u5bf9\u8c61\u5c5e\u6027\u4e0e\u7c7b\u5c5e\u6027\u91cd\u540d\uff0c\u56e0\u4e3a\u5bf9\u8c61\u5c5e\u6027\u4f1a\u5c4f\u853d\u6389\u7c7b\u5c5e\u6027\u3002\u4f46\u662f\u5f53\u5220\u9664\u5bf9\u8c61\u5c5e\u6027\u540e\uff0c\u5728\u4f7f\u7528\u53c8\u80fd\u4f7f\u7528\u7c7b\u5c5e\u6027\u4e86\u3002 ``` \u6ce8\u610f\uff1a \u4f7f\u7528\u5bf9\u8c61\u521b\u5efa\u7684\u5c5e\u6027 \u53ea\u6709\u5f53\u524d\u5bf9\u8c61\u5b58\u5728\u8be5\u5c5e\u6027 \u79f0\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u4f7f\u7528\u7c7b\u521b\u5efa\u7684\u5c5e\u6027 \u5728\u6bcf\u4e2a\u5bf9\u8c61\u91cc\u90fd\u4f1a\u5b58\u5728 \u79f0\u4e3a\u7c7b\u5c5e\u6027 \u5f53\u5728\u5bf9\u8c61\u91cc\u53bb\u4fee\u6539 \u7c7b\u5c5e\u6027\u7684\u503c\u7684\u65f6\u5019 \u5728\u5f53\u524d\u7684\u5bf9\u8c61\u91cc\u9762\u65b0\u521b\u5efa\u4e86\u4e00\u4e2a\u5bf9\u8c61\u5c5e\u6027 \u5f53\u8c03\u7528\u7684\u65f6\u5019 \u4f1a\u4f18\u5148\u8c03\u7528 \u5bf9\u8c61\u5c5e\u6027 \u800c\u7c7b\u5c5e\u6027\u672c\u8eab\u7684\u503c \u4e0d\u4f1a\u6539\u53d8 \u4f7f\u7528 \u7c7b\u91cc\u9762\u7684\u65b9\u6cd5\u521b\u5efa\u7684\u5c5e\u6027 \u4e5f\u662f\u5bf9\u8c61\u5c5e\u6027 \u4e0d\u80fd\u591f\u4f7f\u7528\u7c7b\u53bb\u8c03\u7528 \u5f53\u5bf9\u8c61\u7684\u5c5e\u6027\u5220\u6389\u4ee5\u540e \u8fd8\u4f1a\u8c03\u7528 \u7c7b\u5c5e\u6027 \u4e0d\u80fd\u518d\u5bf9\u8c61\u91cc\u53bb\u5220\u9664\u7c7b\u7684\u5c5e\u6027 #AttributeError: \u5c5e\u6027\u540d \u5bf9\u8c61\u5c5e\u6027\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u7c7b\u5c5e\u6027 3\u3001\u7c7b\u5c5e\u6027\u4e0e\u5bf9\u8c61\u5c5e\u6027 \u6ce8\u610f\uff1a \u901a\u8fc7self\u4ee5\u53ca\u5b9e\u4f8b\u5316\u540e\u5bf9\u8c61\u6240\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u901a\u8fc7\u7c7b\u4e2d\u5b9a\u4e49\u4ee5\u53ca\u7c7b\u540d\u79f0\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u7c7b\u5c5e\u6027\u4f1a\u5b58\u5728\u6bcf\u4e2a\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61\u4e2d \u5bf9\u8c61\u5c5e\u6027\u53ea\u5b58\u5728\u4e8e\u5f53\u524d\u5bf9\u8c61\u4e2d \u7c7b\u5c5e\u6027\u53ef\u4ee5\u4f7f\u7528\u5bf9\u8c61\u8fdb\u884c\u8c03\u7528 \u5bf9\u8c61\u5c5e\u6027\u53ea\u80fd\u7531\u5bf9\u8c61\u8c03\u7528 4\u3001\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u72b6\u6001 \u9700\u6c42 \u7c7b\u521b\u5efa\u7684\u591a\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u7684\u521d\u59cb\u503c\u662f\u4e0d\u540c\u7684 _init__ \u65b9\u6cd5 \u5b9a\u4e49 ```python class Person(object): # \u7c7b\u5c5e\u6027 country = \"\u4e2d\u56fd\" # \u6784\u9020\u65b9\u6cd5\uff1a\u5728\u4f7f\u7528\u7c7b\u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61\u65f6\u81ea\u52a8\u8c03\u7528\uff0c\u76ee\u7684\u662f\u521d\u59cb\u5316\u5bf9\u8c61\u7684\u5185\u5bb9 def __init__(self, name, age, sex): # \u5b9a\u4e49\u5bf9\u8c61\u5c5e\u6027 # \u53ea\u80fd\u5bf9\u8c61\u8c03\u7528 self.name = name self.age = age self.sex = sex ``` \u4f7f\u7528 ```python # \u521b\u5efa\u5bf9\u8c61\u65f6\u7ed9\u6bcf\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u8fdb\u884c\u8d4b\u503c per1 = Person(\"daol\", 45, \"\u7537\") per2 = Person(\"liudh\", 55, \"\u7537\") print(per1.name) print(per2.name) # print(Person.name) # \u7c7b\u4e2d\u6ca1\u6709name\u5c5e\u6027\uff0c\u4e14\u7c7b\u65e0\u6cd5\u8c03\u7528\u5bf9\u8c61\u5c5e\u6027 ``` \u4e09\u3001\u7ee7\u627f 1\u3001\u7ee7\u627f\u7684\u6982\u5ff5 \u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u5e26\u6765\u7684\u4e3b\u8981\u597d\u5904\u4e4b\u4e00\u662f\u4ee3\u7801\u7684\u91cd\u7528\uff0c\u5b9e\u73b0\u8fd9\u79cd\u91cd\u7528\u7684\u65b9\u6cd5\u4e4b\u4e00\u662f\u901a\u8fc7\u7ee7\u627f\u673a\u5236\u3002\u7ee7\u627f\u5b8c\u5168\u53ef\u4ee5\u7406\u89e3\u6210\u7c7b\u4e4b\u95f4\u7684\u7c7b\u578b\u548c\u5b50\u7c7b\u578b\u5173\u7cfb\u3002 \u5728OOP\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\uff0c\u5f53\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2aclass\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4ece\u67d0\u4e2a\u73b0\u6709\u7684class\u7ee7\u627f\uff0c\u65b0\u7684class\u79f0\u4e3a \u5b50\u7c7b \uff08Subclass\uff09\uff0c\u800c\u88ab\u7ee7\u627f\u7684class\u79f0\u4e3a \u57fa\u7c7b\u3001\u7236\u7c7b\u6216\u8d85\u7c7b\uff08Base class\u3001Super class\uff09\u3002 2\u3001\u5355\u4e00\u7ee7\u627f class \u540e\u9762\u7d27\u63a5\u7740\u662f\u7c7b\u540d\uff0c\u5373 Student \uff0c\u7c7b\u540d\u901a\u5e38\u662f\u5927\u5199\u5f00\u5934\u7684\u5355\u8bcd\uff0c\u7d27\u63a5\u7740\u662f (object) \uff0c\u8868\u793a\u8be5\u7c7b\u662f\u4ece\u54ea\u4e2a\u7c7b\u7ee7\u627f\u4e0b\u6765\u7684\uff0c\u7ee7\u627f\u7684\u6982\u5ff5\u6211\u4eec\u540e\u9762\u518d\u8bb2\uff0c\u901a\u5e38\uff0c \u5982\u679c\u6ca1\u6709\u5408\u9002\u7684\u7ee7\u627f\u7c7b\uff0c\u5c31\u4f7f\u7528 object \u7c7b\uff0c\u8fd9\u662f\u6240\u6709\u7c7b\u6700\u7ec8\u90fd\u4f1a\u7ee7\u627f\u7684\u7c7b \u5355\u7ee7\u627f\u7684\u5b9e\u73b0 \u683c\u5f0f\uff1a python class Student(object): pass Python \u540c\u6837\u652f\u6301\u7c7b\u7684\u7ee7\u627f\uff0c\u5982\u679c\u4e00\u79cd\u8bed\u8a00\u4e0d\u652f\u6301\u7ee7\u627f\uff0c\u7c7b\u5c31\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u3002\u6d3e\u751f\u7c7b\u7684\u5b9a\u4e49\u5982\u4e0b\u6240\u793a: python class DerivedClassName(BaseClassName1): <statement-1> . . . <statement-N> ##### \u5b9e\u4f8b\uff1a python #\u7c7b\u5b9a\u4e49 class people: #\u5b9a\u4e49\u57fa\u672c\u5c5e\u6027 name = '' age = 0 #\u5b9a\u4e49\u79c1\u6709\u5c5e\u6027,\u79c1\u6709\u5c5e\u6027\u5728\u7c7b\u5916\u90e8\u65e0\u6cd5\u76f4\u63a5\u8fdb\u884c\u8bbf\u95ee __weight = 0 #\u5b9a\u4e49\u6784\u9020\u65b9\u6cd5 def __init__(self,n,a,w): self.name = n self.age = a self.__weight = w def speak(self): print(\"%s \u8bf4: \u6211 %d \u5c81\u3002\" %(self.name,self.age)) #\u5355\u7ee7\u627f\u793a\u4f8b class student(people): grade = '' def __init__(self,n,a,w,g): #\u8c03\u7528\u7236\u7c7b\u7684\u6784\u51fd people.__init__(self,n,a,w) self.grade = g #\u8986\u5199\u7236\u7c7b\u7684\u65b9\u6cd5 def speak(self): print(\"%s \u8bf4: \u6211 %d \u5c81\u4e86\uff0c\u6211\u5728\u8bfb %d \u5e74\u7ea7\"%(self.name,self.age,self.grade)) \u6ce8\u610f\uff1a\u79c1\u6709\u5c5e\u6027\u548c\u79c1\u6709\u65b9\u6cd5\u7684\u7ee7\u627f\u95ee\u9898 3\u3001\u7236\u7c7b\u65b9\u6cd5\u7684\u8c03\u7528 \u65b9\u5f0f \u65b9\u5f0f1 super(Dog, self).saySomething() \u65b9\u5f0f2 [\u63a8\u8350] super().saySomething() \u65b9\u5f0f3 Animal.saySomething(self) \u6ce8\u610f\uff1a \u5982\u679c\u662f\u5355\u4e00\u7ee7\u627f super() \u4f1a\u81ea\u52a8\u8c03\u7528 \u7236\u7c7b\u7684\u88ab\u8986\u76d6\u7684\u65b9\u6cd5 \u5982\u679c\u662f\u591a\u7ee7\u627f \u591a\u7ee7\u627f\u7684\u7c7b\u6709\u76f8\u540c\u7684\u65b9\u6cd5 super() \u4f1a\u8c03\u7528\u6700\u5de6\u4fa7\u7684\u7236\u7c7b\u7684\u65b9\u6cd5 \u4f7f\u7528super(\u7c7b\u540d,self) \u4f1a\u6839\u636e\u5f53\u524d\u7684\u7c7b\u540d \u5f80\u53f3\u8fdb\u884c\u68c0\u7d22 \u7236\u7c7b\u76f8\u540c\u7684\u65b9\u6cd5 \u8fd9\u6837\u505a\u6709\u4e00\u4e9b\u7f3a\u70b9\uff0c\u6bd4\u5982\u8bf4\u5982\u679c\u4fee\u6539\u4e86\u7236\u7c7b\u540d\u79f0\uff0c\u90a3\u4e48\u5728\u5b50\u7c7b\u4e2d\u4f1a\u6d89\u53ca\u591a\u5904\u4fee\u6539\uff0c\u53e6\u5916\uff0cPython\u662f\u5141\u8bb8\u591a\u7ee7\u627f\u7684\u8bed\u8a00\uff0c\u5982\u4e0a\u6240\u793a\u7684\u65b9\u6cd5\u5728\u591a\u7ee7\u627f\u65f6\u5c31\u9700\u8981\u91cd\u590d\u5199\u591a\u6b21\uff0c\u663e\u5f97\u7d2f\u8d58\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0cPython\u5f15\u5165\u4e86super()\u673a\u5236 \u5b9e\u4f8b ```python # \u65b9\u5f0f1 super(\u7c7b\u540d, self).saySomething() # \u65b9\u5f0f2 [\u63a8\u8350] super().saySomething() # \u65b9\u5f0f3 Animal.saySomething(self) class Animal(): def init (self, name): self.name = name def saySomething(self): print(\"I am \" + self.name) class Dog(Animal): def init (self, name): super(). init (name) def saySomething(self): print(\"I am \" + self.name + \", and I can bark\") def animal_say_1(self): # \u5b50\u7c7b\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5 # \u65b9\u5f0f1 super(Dog, self).saySomething() def animal_say_2(self): # \u65b9\u5f0f2 [\u63a8\u8350] super().saySomething() def animal_say_3(self): # \u65b9\u5f0f3 Animal.saySomething(self) dog = Dog(\"Blake\") dog.saySomething() dog.animal_say_1() dog.animal_say_2() dog.animal_say_3() #super \u591a\u7ee7\u627f\u7684\u4f7f\u7528 class A: def speak(self): print(\"A\u7c7b\u7684speak\u7684\u65b9\u6cd5\") class B: def speak(self): print(\"B\u7c7b\u7684speak\u7684\u65b9\u6cd5\") class C(A,B): def mySpeak(self): super().speak() #\u6b64\u523b\u8c03\u7528\u7684speak \u4e3a A\u7c7b\u7684 super(C,self).speak()#\u7b49\u540c\u4e8e\u4e0a\u65b9\u7684\u8c03\u7528 super(A,self).speak()#\u6b64\u523b\u8c03\u7528B\u7c7b\u7684speak\u65b9\u6cd5 super(B,self).speka()#\u62a5\u9519 \u56e0\u4e3a\u53f3\u4fa7\u6ca1\u6709\u5728\u96c6\u6210\u7684\u7c7b\u4e86 ``` 4\u3001\u91cd\u5199 \u76ee\u7684\uff1a\u5982\u679c\u4f60\u7684\u7236\u7c7b\u65b9\u6cd5\u7684\u529f\u80fd\u4e0d\u80fd\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff0c\u4f60\u53ef\u4ee5\u5728\u5b50\u7c7b\u91cd\u5199\u4f60\u7236\u7c7b\u7684\u65b9\u6cd5 ```python class Parent: # \u5b9a\u4e49\u7236\u7c7b def myMethod(self): print ('\u8c03\u7528\u7236\u7c7b\u65b9\u6cd5') class Child(Parent): # \u5b9a\u4e49\u5b50\u7c7b def myMethod(self): print ('\u8c03\u7528\u5b50\u7c7b\u65b9\u6cd5') c = Child() # \u5b50\u7c7b\u5b9e\u4f8b c.myMethod() # \u5b50\u7c7b\u8c03\u7528\u91cd\u5199\u65b9\u6cd5 ```","title":"\u5341\u4e94\u3001\u9762\u5411\u5bf9\u8c61"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#_1","text":"","title":"\u5341\u4e94\u3001\u9762\u5411\u5bf9\u8c61"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#_2","text":"","title":"\u4e00\u3001\u9762\u5411\u5bf9\u8c61\u57fa\u7840"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#1","text":"\u8f6f\u4ef6\u7f16\u7a0b\u5c31\u662f\u5c06\u6211\u4eec\u7684\u601d\u7ef4\u8f6c\u53d8\u6210\u8ba1\u7b97\u673a\u80fd\u591f\u8bc6\u522b\u8bed\u8a00\u7684\u4e00\u4e2a\u8fc7\u7a0b \u4ec0\u4e48\u662f\u9762\u5411\u8fc7\u7a0b\uff1f \u81ea\u4e0a\u800c\u4e0b\u987a\u5e8f\u6267\u884c\uff0c\u9010\u6b65\u6c42\u7cbe \u5176\u7a0b\u5e8f\u7ed3\u6784\u662f\u6309\u529f\u80fd\u5212\u5206\u4e3a\u82e5\u5e72\u4e2a\u57fa\u672c\u6a21\u5757\uff0c\u8fd9\u4e9b\u6a21\u5757\u5f62\u6210\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff1b \u5404\u6a21\u5757\u4e4b\u95f4\u7684\u5173\u7cfb\u5c3d\u53ef\u80fd\u7b80\u5355\uff0c\u5728\u529f\u80fd\u4e0a\u76f8\u5bf9\u72ec\u7acb \u6bcf\u4e00\u6a21\u5757\u5185\u90e8\u5747\u662f\u7531\u987a\u5e8f\u3001\u9009\u62e9\u548c\u5faa\u73af\u4e09\u79cd\u57fa\u672c\u7ed3\u6784\u7ec4\u6210 \u5176\u6a21\u5757\u5316\u5b9e\u73b0\u7684\u5177\u4f53\u65b9\u6cd5\u662f\u4f7f\u7528\u5b50\u7a0b\u5e8f \u7a0b\u5e8f\u6d41\u7a0b\u5728\u5199\u7a0b\u5e8f\u65f6\u5c31\u5df2\u51b3\u5b9a \u4ec0\u4e48\u662f\u9762\u5411\u5bf9\u8c61\uff1f \u628a\u6570\u636e\u53ca\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u65b9\u6cd5\u653e\u5728\u4e00\u8d77\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u76f8\u4e92\u4f9d\u5b58\u7684\u6574\u4f53\u2014\u2014\u5bf9\u8c61 \u5bf9\u540c\u7c7b\u5bf9\u8c61\u62bd\u8c61\u51fa\u5176\u5171\u6027\uff0c\u5f62\u6210\u7c7b \u7c7b\u4e2d\u7684\u5927\u591a\u6570\u6570\u636e\uff0c\u53ea\u80fd\u7528\u672c\u7c7b\u7684\u65b9\u6cd5\u8fdb\u884c\u5904\u7406 \u7c7b\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u5916\u90e8\u63a5\u53e3\u4e0e\u5916\u754c\u53d1\u751f\u5173\u7cfb\uff0c\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u4e4b\u95f4\u901a\u8fc7\u6d88\u606f\u8fdb\u884c\u901a\u4fe1 \u7a0b\u5e8f\u6d41\u7a0b\u7531\u7528\u6237\u5728\u4f7f\u7528\u4e2d\u51b3\u5b9a \u7406\u89e3\u9762\u5411\u5bf9\u8c61 \u9762\u5411\u5bf9\u8c61\u662f\u76f8\u5bf9\u9762\u5411\u8fc7\u7a0b\u800c\u8a00 \u9762\u5411\u5bf9\u8c61\u548c\u9762\u5411\u8fc7\u7a0b\u90fd\u662f\u4e00\u79cd\u601d\u60f3 \u9762\u5411\u8fc7\u7a0b \u5f3a\u8c03\u7684\u662f\u529f\u80fd\u884c\u4e3a \u5173\u6ce8\u7684\u662f\u89e3\u51b3\u95ee\u9898\u9700\u8981\u54ea\u4e9b\u6b65\u9aa4 \u9762\u5411\u5bf9\u8c61 \u5c06\u529f\u80fd\u5c01\u88c5\u8fdb\u5bf9\u8c61\uff0c\u5f3a\u8c03\u5177\u5907\u4e86\u529f\u80fd\u7684\u5bf9\u8c61 \u5173\u6ce8\u7684\u662f\u89e3\u51b3\u95ee\u9898\u9700\u8981\u54ea\u4e9b\u5bf9\u8c61 \u9762\u5411\u5bf9\u8c61\u662f\u57fa\u4e8e\u9762\u5411\u8fc7\u7a0b\u7684 \u628a\ud83d\udc18\u5173\u51b0\u7bb1 \u9762\u5411\u8fc7\u7a0b \u9762\u5411\u5bf9\u8c61\uff1a\u66f4\u52a0\u7b26\u5408\u4eba\u6c11\u601d\u8003\u4e60\u60ef\u7684\u601d\u60f3\uff0c\u4ece\u6267\u884c\u8005\u53d8\u6210\u4e86\u6307\u6325\u8005 \u9762\u5411\u5bf9\u8c61\u7684\u7279\u70b9 \u662f\u4e00\u79cd\u7b26\u5408\u4eba\u4eec\u601d\u8003\u4e60\u60ef\u7684\u601d\u60f3 \u53ef\u4ee5\u5c06\u590d\u6742\u7684\u4e8b\u60c5\u7b80\u5355\u5316 \u5c06\u7a0b\u5e8f\u5458\u4ece\u6267\u884c\u8005\u8f6c\u6362\u6210\u4e86\u6307\u6325\u8005 \u5b8c\u6210\u9700\u6c42\u65f6 a\u3001\u5148\u8981\u53bb\u627e\u5177\u6709\u6240\u9700\u7684\u529f\u80fd\u7684\u5bf9\u8c61\u6765\u7528 b\u3001\u5982\u679c\u8be5\u5bf9\u8c61\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u6240\u9700\u529f\u80fd\u7684\u5bf9\u8c61 \u7c7b\u4e0e\u5bf9\u8c61\u7684\u5173\u7cfb \u4f7f\u7528\u8ba1\u7b97\u673a\u8bed\u8a00\u5c31\u662f\u4e0d\u65ad\u7684\u5728\u63cf\u8ff0\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u4e8b\u7269 Python\u4e2d\u63cf\u8ff0\u4e8b\u7269\u901a\u8fc7\u7c7b\u7684\u5f62\u5f0f\u4f53\u73b0\uff0c\u7c7b\u662f\u5177\u4f53\u4e8b\u7269\u7684\u62bd\u8c61\uff0c\u6982\u5ff5\u4e0a\u7684\u5b9a\u4e49 \u5bf9\u8c61\u5373\u662f\u8be5\u7c7b\u4e8b\u7269\u5b9e\u5b9e\u5728\u5728\u5b58\u5728\u7684\u4e2a\u4f53","title":"1\u3001\u9762\u5411\u5bf9\u8c61\u601d\u60f3\u7b80\u4ecb"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#2python","text":"\u8bbe\u8ba1\u7c7b\u53ea\u5173\u5fc33\u6837\u4e1c\u897f \u8bf4\u660e \u7c7b\u540d\uff1a\u9996\u5b57\u6bcd\u5927\u5199\uff0c\u9075\u5b88\u6807\u8bc6\u7b26\u89c4\u5219 \u5c5e\u6027\uff1a\u9075\u5b88\u6807\u8bc6\u7b26\u89c4\u5219 \u884c\u4e3a(\u529f\u80fd\u3001\u65b9\u6cd5\u3001\u51fd\u6570)\uff1a\u9075\u5b88\u6807\u8bc6\u7b26\u89c4\u5219 \u8bbe\u8ba1\u7c7b \u4eba\u7c7b \u7c7b\u540d\uff1aPersonl \u5c5e\u6027\uff1aname age sex height weight \u884c\u4e3a\uff1a\u642c\u7816\u3001\u76d6\u623f\u5b50 \u6c7d\u8f66\u7c7b \u7c7b\u540d\uff1aCar \u5c5e\u6027\uff1acolor kuanshi(\u6b3e\u5f0f) weight pailiang(\u6392\u91cf) \u884c\u4e3a\uff1a\u8dd1\u3001\u62c9\u4e1c\u897f \u521b\u5efa\u7c7b \u683c\u5f0f class \u7c7b\u540d(\u7236\u7c7b\u540d): \u5c5e\u6027&\u884c\u4e3a \u8bf4\u660e class\uff1a\u8868\u660e\u8fd9\u662f\u4e00\u4e2a\u7c7b \u7c7b\u540d\uff1a\u7c7b\u7684\u540d\u5b57 ()\uff1a\u7236\u7c7b\u96c6\u5408\u7684\u5f00\u59cb\u548c\u7ed3\u675f \u7236\u7c7b\u540d\uff1a\u7236\u7c7b\u7684\u540d\u5b57\uff0c\u5b9a\u4e49\u7684\u7c7b\u7ee7\u627f\u81ea\u7236\u7c7b\uff0c\u53ef\u4ee5\u4e0d\u5199\uff0c\u9ed8\u8ba4\u662fobject\u3002object\u662f\u6240\u6709\u7c7b\u7684\u76f4\u63a5\u6216\u95f4\u63a5\u7236\u7c7b \u4ee3\u7801 python class Person(object): pass \u521b\u5efa\u5b58\u5728\u5c5e\u6027\u4e0e\u65b9\u6cd5\u7684\u7c7b python \"\"\" wife \u5c5e\u6027: sex age height weight name faceValue \u884c\u4e3a\uff1a\u6d17\u8863\u670d \u505a\u996d \u751f\u5c0f\u5b69 \"\"\" \"\"\" husband \u5c5e\u6027\uff1asex age height weight name faceValue \u884c\u4e3a\uff1a\u5403\u996d \u5e2e\u5fd9\u751f\u5c0f\u5b69 \u4e70\u83dc \u8d5a\u94b1 \"\"\" class Wife: sex = \"\u5973\" #\u7c7b\u5c5e\u6027 age = \"20\" height = 160 name = \"\u82cd\u82cd\" faceValue = \"\u5f88 \u9ad8\" #self \u4ee3\u8868\u5f53\u524d \u7684\u5bf9\u8c61 \u4e0d\u4e00\u5b9a\u540d\u5b57\u53eb\u505aself \u6807\u51c6\u6765\u8bf4 \u90fd\u53ebself def washClothes(self): print(\"\u6d17\u8863\u670d\") def cook(self): print(\"\u505a\u996d\") def papapa(self): print(\"\u751f\u5c0f\u5b69\") zhangSan = Wife() #\u7c7b\u7684\u5b9e\u4f8b\u5316 \u79f0\u4e3a \u5bf9\u8c61","title":"2\u3001\u7b2c\u4e00\u4e2aPython\u7c7b"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#3","text":"\u683c\u5f0f \u5bf9\u8c61\u540d = \u7c7b\u540d(\u53c2\u6570\u5217\u8868) \u8bf4\u660e \u53c2\u6570\u5217\u8868\uff1a\u4e3a\u4e86\u540e\u9762\u7ed9\u5c5e\u6027\u8fdb\u884c\u8d4b\u503c\u7684 \u5b9e\u4f8b\u5316\u4ee3\u7801 python per1 = Person() print(per1) per2 = Person() print(per2)","title":"3\u3001\u4f7f\u7528\u7c7b\u5b9e\u4f8b\u5316\u5bf9\u8c61"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#4self","text":"\u6982\u8ff0 \u5728\u7c7b\u5730\u5185\u90e8\uff0c\u4f7f\u7528 def \u5173\u952e\u5b57\u6765\u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4e0e\u4e00\u822c\u51fd\u6570\u5b9a\u4e49\u4e0d\u540c\uff0c\u7c7b\u65b9\u6cd5\u5fc5\u987b\u5305\u542b\u53c2\u6570 self\uff0c\u4e14\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0cself \u4ee3\u8868\u7684\u662f\u7c7b\u7684\u5b9e\u4f8b\uff0c\u800c\u975e\u7c7b self \u7684\u540d\u5b57\u5e76\u4e0d\u662f\u89c4\u5b9a\u6b7b\u7684\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 this\uff0c\u4f46\u662f\u6700\u597d\u8fd8\u662f\u6309\u7167\u7ea6\u5b9a\u4f7f\u7528 self\u3002 \u8fd9\u4e2aself\u7684\u53c2\u6570 \u4e0d\u9700\u8981\u4f20\u53c2\u7684 \u5b83\u662f\u4ee3\u8868 \u5f53\u524d\u5b9e\u4f8b\u5316\u540e\u7684\u5bf9\u8c61 self \u4e0d\u662f python \u5173\u952e\u5b57\uff0c\u6211\u4eec\u628a\u4ed6\u6362\u6210arg\u4e5f\u662f\u53ef\u4ee5\u6b63\u5e38\u6267\u884c ```python class Test: def prt(arg): print(arg) print(arg. class ) t = Test() t.prt() ``` \u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u9a8c\u8bc1 python class A: name = \"ss\" def aa(self): print(self.__dict__) print(id(self)) #\u6253\u5370slef\u5bf9\u8c61\u7684\u5b58\u50a8\u5730\u5740 a = A() a.name = 'a' print(a.__dict__) print(id(a)) #\u6253\u5370\u5f53\u524d\u7c7b\u5b9e\u4f8b\u7684\u53d8\u91cfa\u7684\u5b58\u50a8\u5730\u5740 \u6ce8\u610f\uff1a self \u5c31\u662f\u5f53\u524d\u7c7b\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61 \u54ea\u4e2a\u5bf9\u8c61\u8c03\u7528\u5b83 \u5b83\u5c31\u662f\u54ea\u4e2a\u5bf9\u8c61 self\u4e0d\u662f\u5fc5\u987b\u7684 \u4f46\u662f\u4f5c\u4e3a\u6807\u51c6\u89c4\u8303 \u662f\u5fc5\u987b\u53ebself self \u5728\u7c7b\u4e2d\u521b\u5efa\u5bf9\u8c61 \u8c03\u7528\u7c7b\u4e2d\u7684\u5c5e\u6027\u4e0e\u65b9\u6cd5","title":"4\u3001self\u53c2\u6570"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#5","text":"\u683c\u5f0f \u5bf9\u8c61.\u5c5e\u6027\u540d \u5bf9\u8c61.\u65b9\u6cd5\u540d(\u53c2\u6570...) \u65b9\u6cd5\u7684\u8fd4\u56de\u503c return \u65b9\u6cd5\u91cc \u5982\u679c \u6ca1\u6709\u8fd4\u56de\u503c \u6253\u5370\u65b9\u6cd5\u7684\u65f6\u5019 \u8fd4\u56de None \u5982\u679c\u6709\u8fd4\u56de\u503c\u5f97 \u65b9\u6cd5 \u9700\u8981\u4f7f\u7528 print() \u5c06\u5176\u8f93\u51fa python class \u7c7b\u540d\uff1a def \u65b9\u6cd5\u540d(): return \"\u503c\" \u6ce8\u610f\uff1a return \u4e0b\u65b9\u7684\u4ee3\u7801\u4e0d\u5728\u6267\u884c \u9047\u5230return \u5c31\u8ba4\u4e3a\u662f\u7ed3\u675f\u4e86\uff01","title":"5\u3001\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u4f7f\u7528"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#_3","text":"","title":"\u4e8c\u3001\u9762\u5411\u5bf9\u8c61\u8fdb\u9636"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#1_1","text":"\u5b9a\u4e49 python class Person(object): # \u5b9a\u4e49\u7c7b\u5c5e\u6027 # \u5f53\u591a\u4e2a\u7c7b\u7684\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u9700\u8981\u76f8\u540c\u65f6\u53ef\u4ee5\u4f7f\u7528\u7c7b\u5c5e\u6027 name = \"lilei\" age = 18 sex = \"\u7537\" \u8c03\u7528 \u53ef\u4ee5\u901a\u8fc7\u7c7b\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61\u8c03\u7528 \u7ed9\u7c7b\u7ed1\u5b9a\u5c5e\u6027 \u7c7b\u540d.\u5c5e\u6027\u540d = \u5c5e\u6027\u503c \u4f7f\u7528 ```python # \u5b9e\u4f8b\u5316\u5bf9\u8c61\u65f6\uff0c\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u90fd\u76f8\u540c per1 = Person() per2 = Person() #\u901a\u8fc7\u5bf9\u8c61\u65b9\u6cd5\u7c7b\u5c5e\u6027 \u5bf9\u8c61\u540d.\u7c7b\u5c5e\u6027\u540d print(per1.name, per1.age, per1.sex) print(per2.name, per2.age, per2.sex) # \u4fee\u6539\u5bf9\u8c61\u5c5e\u6027\u503c\uff0c\u5982\u679c\u5bf9\u8c61\u5c5e\u6027\u4e0d\u5b58\u5728\u5219\u53d8\u4e3a\u589e\u52a0\u5bf9\u8c61\u5c5e\u6027 per1.name = \"liudh\" per2.name = \"daol\" print(per1.name, per2.name, Person.name) print(hasattr(per1, 'name')) print(setattr(per1, 'name', 'lucky')) print(getattr(per1, 'name')) ``` \u95ee\u9898 \u4f7f\u7528\u7c7b\u521b\u5efa\u7684\u6240\u6709\u5bf9\u8c61\u7684\u5c5e\u6027\u521d\u59cb\u503c\u90fd\u662f\u4e00\u6837\u7684","title":"1\u3001\u7c7b\u5c5e\u6027"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#2","text":"\u6982\u8ff0\uff1a \u901a\u8fc7self\u4ee5\u53ca\u5b9e\u4f8b\u5316\u540e\u5bf9\u8c61\u6240\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u901a\u8fc7\u7c7b\u4e2d\u5b9a\u4e49\u4ee5\u53ca\u7c7b\u540d\u79f0\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u5bf9\u8c61\u5c5e\u6027\u53ea\u5b58\u5728\u4e8e\u5f53\u524d\u5bf9\u8c61\u4e2d \u5bf9\u8c61\u5c5e\u6027\u53ea\u80fd\u7531\u5bf9\u8c61\u8c03\u7528 \u5b9e\u4f8b\u5bf9\u8c61\u7ed1\u5b9a\u5c5e\u6027 \u901a\u8fc7\u7c7b\u7684self\u53d8\u91cf \u76f4\u63a5\u7ed9\u5b9e\u4f8b\u5bf9\u8c61\u8d4b\u503c python class Student(object): def __init__(self, name): self.name = name s = Student('lucky')#\u65b9\u6cd5\u4e00 \u901a\u8fc7\u7c7b\u7684self\u53d8\u91cf\u7ed1\u5b9a\u5c5e\u6027 s.score = 90#\u65b9\u6cd5\u4e8c \u76f4\u63a5\u8d4b\u503c \u5b9e\u4f8b ```python class Person(object): # \u8fd9\u91cc\u7684\u5c5e\u6027\u5b9e\u9645\u4e0a\u5c5e\u4e8e\u7c7b\u5c5e\u6027(\u7528\u7c7b\u540d\u6765\u8c03\u7528) name = \"person\" def init (self, name): pass #\u5bf9\u8c61\u5c5e\u6027 self.name = name print(Person.name) per = Person(\"lucky\") #\u5bf9\u8c61\u5c5e\u6027\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u7c7b\u5c5e\u6027 print(per.name) #\u52a8\u6001\u7684\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u5bf9\u8c61\u5c5e\u6027 per.age = 18 # \u53ea\u9488\u5bf9\u4e8e\u5f53\u524d\u5bf9\u8c61\u751f\u6548\uff0c\u5bf9\u4e8e\u7c7b\u521b\u5efa\u7684\u5176\u4ed6\u5bf9\u8c61\u6ca1\u6709\u4f5c\u7528 print(Person.name) per2 = Person(\"lilei\") #print(per2.age) #\u6ca1\u6709age\u5c5e\u6027 #\u5220\u9664\u5bf9\u8c61\u4e2d\u7684name\u5c5e\u6027\uff0c\u5728\u8c03\u7528\u4f1a\u4f7f\u7528\u5230\u540c\u540d\u7684\u7c7b\u5c5e\u6027 del per.name print(per.name) #\u6ce8\u610f\uff1a\u4ee5\u540e\u5343\u4e07\u4e0d\u8981\u5c06\u5bf9\u8c61\u5c5e\u6027\u4e0e\u7c7b\u5c5e\u6027\u91cd\u540d\uff0c\u56e0\u4e3a\u5bf9\u8c61\u5c5e\u6027\u4f1a\u5c4f\u853d\u6389\u7c7b\u5c5e\u6027\u3002\u4f46\u662f\u5f53\u5220\u9664\u5bf9\u8c61\u5c5e\u6027\u540e\uff0c\u5728\u4f7f\u7528\u53c8\u80fd\u4f7f\u7528\u7c7b\u5c5e\u6027\u4e86\u3002 ``` \u6ce8\u610f\uff1a \u4f7f\u7528\u5bf9\u8c61\u521b\u5efa\u7684\u5c5e\u6027 \u53ea\u6709\u5f53\u524d\u5bf9\u8c61\u5b58\u5728\u8be5\u5c5e\u6027 \u79f0\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u4f7f\u7528\u7c7b\u521b\u5efa\u7684\u5c5e\u6027 \u5728\u6bcf\u4e2a\u5bf9\u8c61\u91cc\u90fd\u4f1a\u5b58\u5728 \u79f0\u4e3a\u7c7b\u5c5e\u6027 \u5f53\u5728\u5bf9\u8c61\u91cc\u53bb\u4fee\u6539 \u7c7b\u5c5e\u6027\u7684\u503c\u7684\u65f6\u5019 \u5728\u5f53\u524d\u7684\u5bf9\u8c61\u91cc\u9762\u65b0\u521b\u5efa\u4e86\u4e00\u4e2a\u5bf9\u8c61\u5c5e\u6027 \u5f53\u8c03\u7528\u7684\u65f6\u5019 \u4f1a\u4f18\u5148\u8c03\u7528 \u5bf9\u8c61\u5c5e\u6027 \u800c\u7c7b\u5c5e\u6027\u672c\u8eab\u7684\u503c \u4e0d\u4f1a\u6539\u53d8 \u4f7f\u7528 \u7c7b\u91cc\u9762\u7684\u65b9\u6cd5\u521b\u5efa\u7684\u5c5e\u6027 \u4e5f\u662f\u5bf9\u8c61\u5c5e\u6027 \u4e0d\u80fd\u591f\u4f7f\u7528\u7c7b\u53bb\u8c03\u7528 \u5f53\u5bf9\u8c61\u7684\u5c5e\u6027\u5220\u6389\u4ee5\u540e \u8fd8\u4f1a\u8c03\u7528 \u7c7b\u5c5e\u6027 \u4e0d\u80fd\u518d\u5bf9\u8c61\u91cc\u53bb\u5220\u9664\u7c7b\u7684\u5c5e\u6027 #AttributeError: \u5c5e\u6027\u540d \u5bf9\u8c61\u5c5e\u6027\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u7c7b\u5c5e\u6027","title":"2\u3001\u5bf9\u8c61\u5c5e\u6027"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#3_1","text":"\u6ce8\u610f\uff1a \u901a\u8fc7self\u4ee5\u53ca\u5b9e\u4f8b\u5316\u540e\u5bf9\u8c61\u6240\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u901a\u8fc7\u7c7b\u4e2d\u5b9a\u4e49\u4ee5\u53ca\u7c7b\u540d\u79f0\u521b\u5efa\u7684\u5c5e\u6027\u4e3a\u5bf9\u8c61\u5c5e\u6027 \u7c7b\u5c5e\u6027\u4f1a\u5b58\u5728\u6bcf\u4e2a\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61\u4e2d \u5bf9\u8c61\u5c5e\u6027\u53ea\u5b58\u5728\u4e8e\u5f53\u524d\u5bf9\u8c61\u4e2d \u7c7b\u5c5e\u6027\u53ef\u4ee5\u4f7f\u7528\u5bf9\u8c61\u8fdb\u884c\u8c03\u7528 \u5bf9\u8c61\u5c5e\u6027\u53ea\u80fd\u7531\u5bf9\u8c61\u8c03\u7528","title":"3\u3001\u7c7b\u5c5e\u6027\u4e0e\u5bf9\u8c61\u5c5e\u6027"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#4","text":"\u9700\u6c42 \u7c7b\u521b\u5efa\u7684\u591a\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u7684\u521d\u59cb\u503c\u662f\u4e0d\u540c\u7684 _init__ \u65b9\u6cd5 \u5b9a\u4e49 ```python class Person(object): # \u7c7b\u5c5e\u6027 country = \"\u4e2d\u56fd\" # \u6784\u9020\u65b9\u6cd5\uff1a\u5728\u4f7f\u7528\u7c7b\u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61\u65f6\u81ea\u52a8\u8c03\u7528\uff0c\u76ee\u7684\u662f\u521d\u59cb\u5316\u5bf9\u8c61\u7684\u5185\u5bb9 def __init__(self, name, age, sex): # \u5b9a\u4e49\u5bf9\u8c61\u5c5e\u6027 # \u53ea\u80fd\u5bf9\u8c61\u8c03\u7528 self.name = name self.age = age self.sex = sex ``` \u4f7f\u7528 ```python # \u521b\u5efa\u5bf9\u8c61\u65f6\u7ed9\u6bcf\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u8fdb\u884c\u8d4b\u503c per1 = Person(\"daol\", 45, \"\u7537\") per2 = Person(\"liudh\", 55, \"\u7537\") print(per1.name) print(per2.name) # print(Person.name) # \u7c7b\u4e2d\u6ca1\u6709name\u5c5e\u6027\uff0c\u4e14\u7c7b\u65e0\u6cd5\u8c03\u7528\u5bf9\u8c61\u5c5e\u6027 ```","title":"4\u3001\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u72b6\u6001"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#_4","text":"","title":"\u4e09\u3001\u7ee7\u627f"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#1_2","text":"\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u5e26\u6765\u7684\u4e3b\u8981\u597d\u5904\u4e4b\u4e00\u662f\u4ee3\u7801\u7684\u91cd\u7528\uff0c\u5b9e\u73b0\u8fd9\u79cd\u91cd\u7528\u7684\u65b9\u6cd5\u4e4b\u4e00\u662f\u901a\u8fc7\u7ee7\u627f\u673a\u5236\u3002\u7ee7\u627f\u5b8c\u5168\u53ef\u4ee5\u7406\u89e3\u6210\u7c7b\u4e4b\u95f4\u7684\u7c7b\u578b\u548c\u5b50\u7c7b\u578b\u5173\u7cfb\u3002 \u5728OOP\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\uff0c\u5f53\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2aclass\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4ece\u67d0\u4e2a\u73b0\u6709\u7684class\u7ee7\u627f\uff0c\u65b0\u7684class\u79f0\u4e3a \u5b50\u7c7b \uff08Subclass\uff09\uff0c\u800c\u88ab\u7ee7\u627f\u7684class\u79f0\u4e3a \u57fa\u7c7b\u3001\u7236\u7c7b\u6216\u8d85\u7c7b\uff08Base class\u3001Super class\uff09\u3002","title":"1\u3001\u7ee7\u627f\u7684\u6982\u5ff5"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#2_1","text":"class \u540e\u9762\u7d27\u63a5\u7740\u662f\u7c7b\u540d\uff0c\u5373 Student \uff0c\u7c7b\u540d\u901a\u5e38\u662f\u5927\u5199\u5f00\u5934\u7684\u5355\u8bcd\uff0c\u7d27\u63a5\u7740\u662f (object) \uff0c\u8868\u793a\u8be5\u7c7b\u662f\u4ece\u54ea\u4e2a\u7c7b\u7ee7\u627f\u4e0b\u6765\u7684\uff0c\u7ee7\u627f\u7684\u6982\u5ff5\u6211\u4eec\u540e\u9762\u518d\u8bb2\uff0c\u901a\u5e38\uff0c \u5982\u679c\u6ca1\u6709\u5408\u9002\u7684\u7ee7\u627f\u7c7b\uff0c\u5c31\u4f7f\u7528 object \u7c7b\uff0c\u8fd9\u662f\u6240\u6709\u7c7b\u6700\u7ec8\u90fd\u4f1a\u7ee7\u627f\u7684\u7c7b \u5355\u7ee7\u627f\u7684\u5b9e\u73b0 \u683c\u5f0f\uff1a python class Student(object): pass Python \u540c\u6837\u652f\u6301\u7c7b\u7684\u7ee7\u627f\uff0c\u5982\u679c\u4e00\u79cd\u8bed\u8a00\u4e0d\u652f\u6301\u7ee7\u627f\uff0c\u7c7b\u5c31\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u3002\u6d3e\u751f\u7c7b\u7684\u5b9a\u4e49\u5982\u4e0b\u6240\u793a: python class DerivedClassName(BaseClassName1): <statement-1> . . . <statement-N> ##### \u5b9e\u4f8b\uff1a python #\u7c7b\u5b9a\u4e49 class people: #\u5b9a\u4e49\u57fa\u672c\u5c5e\u6027 name = '' age = 0 #\u5b9a\u4e49\u79c1\u6709\u5c5e\u6027,\u79c1\u6709\u5c5e\u6027\u5728\u7c7b\u5916\u90e8\u65e0\u6cd5\u76f4\u63a5\u8fdb\u884c\u8bbf\u95ee __weight = 0 #\u5b9a\u4e49\u6784\u9020\u65b9\u6cd5 def __init__(self,n,a,w): self.name = n self.age = a self.__weight = w def speak(self): print(\"%s \u8bf4: \u6211 %d \u5c81\u3002\" %(self.name,self.age)) #\u5355\u7ee7\u627f\u793a\u4f8b class student(people): grade = '' def __init__(self,n,a,w,g): #\u8c03\u7528\u7236\u7c7b\u7684\u6784\u51fd people.__init__(self,n,a,w) self.grade = g #\u8986\u5199\u7236\u7c7b\u7684\u65b9\u6cd5 def speak(self): print(\"%s \u8bf4: \u6211 %d \u5c81\u4e86\uff0c\u6211\u5728\u8bfb %d \u5e74\u7ea7\"%(self.name,self.age,self.grade)) \u6ce8\u610f\uff1a\u79c1\u6709\u5c5e\u6027\u548c\u79c1\u6709\u65b9\u6cd5\u7684\u7ee7\u627f\u95ee\u9898","title":"2\u3001\u5355\u4e00\u7ee7\u627f"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#3_2","text":"\u65b9\u5f0f \u65b9\u5f0f1 super(Dog, self).saySomething() \u65b9\u5f0f2 [\u63a8\u8350] super().saySomething() \u65b9\u5f0f3 Animal.saySomething(self)","title":"3\u3001\u7236\u7c7b\u65b9\u6cd5\u7684\u8c03\u7528"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#_5","text":"\u5982\u679c\u662f\u5355\u4e00\u7ee7\u627f super() \u4f1a\u81ea\u52a8\u8c03\u7528 \u7236\u7c7b\u7684\u88ab\u8986\u76d6\u7684\u65b9\u6cd5 \u5982\u679c\u662f\u591a\u7ee7\u627f \u591a\u7ee7\u627f\u7684\u7c7b\u6709\u76f8\u540c\u7684\u65b9\u6cd5 super() \u4f1a\u8c03\u7528\u6700\u5de6\u4fa7\u7684\u7236\u7c7b\u7684\u65b9\u6cd5 \u4f7f\u7528super(\u7c7b\u540d,self) \u4f1a\u6839\u636e\u5f53\u524d\u7684\u7c7b\u540d \u5f80\u53f3\u8fdb\u884c\u68c0\u7d22 \u7236\u7c7b\u76f8\u540c\u7684\u65b9\u6cd5 \u8fd9\u6837\u505a\u6709\u4e00\u4e9b\u7f3a\u70b9\uff0c\u6bd4\u5982\u8bf4\u5982\u679c\u4fee\u6539\u4e86\u7236\u7c7b\u540d\u79f0\uff0c\u90a3\u4e48\u5728\u5b50\u7c7b\u4e2d\u4f1a\u6d89\u53ca\u591a\u5904\u4fee\u6539\uff0c\u53e6\u5916\uff0cPython\u662f\u5141\u8bb8\u591a\u7ee7\u627f\u7684\u8bed\u8a00\uff0c\u5982\u4e0a\u6240\u793a\u7684\u65b9\u6cd5\u5728\u591a\u7ee7\u627f\u65f6\u5c31\u9700\u8981\u91cd\u590d\u5199\u591a\u6b21\uff0c\u663e\u5f97\u7d2f\u8d58\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0cPython\u5f15\u5165\u4e86super()\u673a\u5236 \u5b9e\u4f8b ```python # \u65b9\u5f0f1 super(\u7c7b\u540d, self).saySomething() # \u65b9\u5f0f2 [\u63a8\u8350] super().saySomething() # \u65b9\u5f0f3 Animal.saySomething(self) class Animal(): def init (self, name): self.name = name def saySomething(self): print(\"I am \" + self.name) class Dog(Animal): def init (self, name): super(). init (name) def saySomething(self): print(\"I am \" + self.name + \", and I can bark\") def animal_say_1(self): # \u5b50\u7c7b\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5 # \u65b9\u5f0f1 super(Dog, self).saySomething() def animal_say_2(self): # \u65b9\u5f0f2 [\u63a8\u8350] super().saySomething() def animal_say_3(self): # \u65b9\u5f0f3 Animal.saySomething(self) dog = Dog(\"Blake\") dog.saySomething() dog.animal_say_1() dog.animal_say_2() dog.animal_say_3() #super \u591a\u7ee7\u627f\u7684\u4f7f\u7528 class A: def speak(self): print(\"A\u7c7b\u7684speak\u7684\u65b9\u6cd5\") class B: def speak(self): print(\"B\u7c7b\u7684speak\u7684\u65b9\u6cd5\") class C(A,B): def mySpeak(self): super().speak() #\u6b64\u523b\u8c03\u7528\u7684speak \u4e3a A\u7c7b\u7684 super(C,self).speak()#\u7b49\u540c\u4e8e\u4e0a\u65b9\u7684\u8c03\u7528 super(A,self).speak()#\u6b64\u523b\u8c03\u7528B\u7c7b\u7684speak\u65b9\u6cd5 super(B,self).speka()#\u62a5\u9519 \u56e0\u4e3a\u53f3\u4fa7\u6ca1\u6709\u5728\u96c6\u6210\u7684\u7c7b\u4e86 ```","title":"\u6ce8\u610f\uff1a"},{"location":"15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html#4_1","text":"\u76ee\u7684\uff1a\u5982\u679c\u4f60\u7684\u7236\u7c7b\u65b9\u6cd5\u7684\u529f\u80fd\u4e0d\u80fd\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff0c\u4f60\u53ef\u4ee5\u5728\u5b50\u7c7b\u91cd\u5199\u4f60\u7236\u7c7b\u7684\u65b9\u6cd5 ```python class Parent: # \u5b9a\u4e49\u7236\u7c7b def myMethod(self): print ('\u8c03\u7528\u7236\u7c7b\u65b9\u6cd5') class Child(Parent): # \u5b9a\u4e49\u5b50\u7c7b def myMethod(self): print ('\u8c03\u7528\u5b50\u7c7b\u65b9\u6cd5') c = Child() # \u5b50\u7c7b\u5b9e\u4f8b c.myMethod() # \u5b50\u7c7b\u8c03\u7528\u91cd\u5199\u65b9\u6cd5 ```","title":"4\u3001\u91cd\u5199"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html","text":"\u5341\u516d\u3001Scrapy\u6846\u67b6\u521d\u8ba4\u8bc6 \u4e00\u3001\u524d\u8a00 1\u3001\u4ecb\u7ecd \u524d\u9762\u6211\u4eec\u5b66\u4e60\u4e86\u57fa\u7840\u7684\u722c\u866b\u5b9e\u73b0\u65b9\u6cd5\u548cselenium\u4ee5\u53camongodb\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u4f1a\u6211\u4eec\u5b66\u4e60\u4e00\u4e2a\u4e0a\u573a\u7387\u975e\u5e38\u9ad8\u7684\u722c\u866b\u6846\u67b6\uff1ascrapy 2\u3001\u5185\u5bb9 scrapy\u7684\u57fa\u7840\u6982\u5ff5\u548c\u5de5\u4f5c\u6d41\u7a0b scrapy\u5165\u95e8\u4f7f\u7528 \u4e8c\u3001scrapy\u7684\u6982\u5ff5\u548c\u6d41\u7a0b \u5b66\u4e60\u76ee\u6807\uff1a \u4e86\u89e3 scrapy\u7684\u6982\u5ff5 \u638c\u63e1 scrapy\u6846\u67b6\u7684\u8fd0\u884c\u6d41\u7a0b \u638c\u63e1 scrapy\u6846\u67b6\u7684\u4f5c\u7528 1\u3001\u4e3a\u4ec0\u4e48\u5b66\u4e60scrapy\uff1f \u80fd\u591f\u8ba9\u5f00\u53d1\u8fc7\u7a0b\u65b9\u4fbf\u3001\u5feb\u901f scrapy\u6846\u67b6\u80fd\u591f\u8ba9\u6211\u4eec\u7684\u722c\u866b\u6548\u7387\u66f4\u9ad8 2\u3001\u4ec0\u4e48\u662fscrapy\uff1f \u6587\u6863\u5730\u5740\uff1ahttps://docs.scrapy.org/en/latest/ Scrapy \u4f7f\u7528\u4e86Twisted['tw\u026ast\u026ad]\u5f02\u6b65\u7f51\u7edc\u6846\u67b6\uff0c\u53ef\u4ee5\u52a0\u5feb\u6211\u4eec\u7684\u4e0b\u8f7d\u901f\u5ea6\u3002 Scrapy\u662f\u4e00\u4e2a\u4e3a\u4e86\u722c\u53d6\u7f51\u7ad9\u6570\u636e\uff0c\u63d0\u53d6\u7ed3\u6784\u6027\u6570\u636e\u800c\u7f16\u5199\u7684\u5e94\u7528\u6846\u67b6 \uff0c\u6211\u4eec\u53ea\u9700\u8981\u5b9e\u73b0\u5c11\u91cf\u7684\u4ee3\u7801\uff0c\u5c31\u80fd\u591f\u5feb\u901f\u7684\u6293\u53d6\u3002 3\u3001\u5f02\u6b65\u548c\u975e\u963b\u585e\u7684\u533a\u522b \u524d\u9762\u6211\u4eec\u8bf4Twisted\u662f\u4e00\u4e2a\u5f02\u6b65\u7684\u7f51\u7edc\u6846\u67b6\uff0c\u7ecf\u5e38\u6211\u4eec\u4e5f\u542c\u5230\u4e00\u4e2a\u8bcd\u8bed\u53eb\u505a\u975e\u963b\u585e\uff0c\u90a3\u4e48\u4ed6\u4eec\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f \u5f02\u6b65 \uff1a\u8c03\u7528\u5728\u53d1\u51fa\u4e4b\u540e\uff0c\u8fd9\u4e2a\u8c03\u7528\u5c31\u76f4\u63a5\u8fd4\u56de\uff0c\u4e0d\u7ba1\u6709\u65e0\u7ed3\u679c\uff1b\u5f02\u6b65\u662f\u8fc7\u7a0b\u3002 \u975e\u963b\u585e \uff1a\u5173\u6ce8\u7684\u662f\u7a0b\u5e8f\u5728\u7b49\u5f85\u8c03\u7528\u7ed3\u679c\uff08\u6d88\u606f\uff0c\u8fd4\u56de\u503c\uff09\u65f6\u7684\u72b6\u6001\uff0c\u6307\u5728\u4e0d\u80fd\u7acb\u523b\u5f97\u5230\u7ed3\u679c\u4e4b\u524d\uff0c\u8be5\u8c03\u7528\u4e0d\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\u3002 4\u3001scrapy\u7684\u5de5\u4f5c\u6d41\u7a0b 4.1 \u56de\u987e\u4e4b\u524d\u7684\u722c\u866b\u6d41\u7a0b 4.2 \u4e0a\u9762\u7684\u6d41\u7a0b\u53ef\u4ee5\u6539\u5199\u4e3a 4.3 scrapy\u7684\u6d41\u7a0b \u5176\u6d41\u7a0b\u53ef\u4ee5\u63cf\u8ff0\u5982\u4e0b\uff1a \u8c03\u5ea6\u5668\u628arequests-->\u5f15\u64ce-->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6--->\u4e0b\u8f7d\u5668 \u4e0b\u8f7d\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94---->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6---->\u5f15\u64ce--->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u722c\u866b \u722c\u866b\u63d0\u53d6url\u5730\u5740\uff0c\u7ec4\u88c5\u6210request\u5bf9\u8c61---->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u5f15\u64ce--->\u8c03\u5ea6\u5668 \u722c\u866b\u63d0\u53d6\u6570\u636e--->\u5f15\u64ce--->\u7ba1\u9053 \u7ba1\u9053\u8fdb\u884c\u6570\u636e\u7684\u5904\u7406\u548c\u4fdd\u5b58 \u6ce8\u610f\uff1a \u56fe\u4e2d\u7eff\u8272\u7ebf\u6761\u7684\u8868\u793a\u6570\u636e\u7684\u4f20\u9012 \u6ce8\u610f\u56fe\u4e2d\u4e2d\u95f4\u4ef6\u7684\u4f4d\u7f6e\uff0c\u51b3\u5b9a\u4e86\u5176\u4f5c\u7528 \u6ce8\u610f\u5176\u4e2d\u5f15\u64ce\u7684\u4f4d\u7f6e\uff0c\u6240\u6709\u7684\u6a21\u5757\u4e4b\u524d\u76f8\u4e92\u72ec\u7acb\uff0c\u53ea\u548c\u5f15\u64ce\u8fdb\u884c\u4ea4\u4e92 4.4 scrapy\u4e2d\u6bcf\u4e2a\u6a21\u5757\u7684\u5177\u4f53\u4f5c\u7528 \u5c0f\u7ed3 scrapy\u7684\u6982\u5ff5\uff1aScrapy\u662f\u4e00\u4e2a\u4e3a\u4e86\u722c\u53d6\u7f51\u7ad9\u6570\u636e\uff0c\u63d0\u53d6\u7ed3\u6784\u6027\u6570\u636e\u800c\u7f16\u5199\u7684\u5e94\u7528\u6846\u67b6 scrapy\u6846\u67b6\u7684\u8fd0\u884c\u6d41\u7a0b\u4ee5\u53ca\u6570\u636e\u4f20\u9012\u8fc7\u7a0b\uff1a \u8c03\u5ea6\u5668\u628arequests-->\u5f15\u64ce-->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6--->\u4e0b\u8f7d\u5668 \u4e0b\u8f7d\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94---->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6---->\u5f15\u64ce--->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u722c\u866b \u722c\u866b\u63d0\u53d6url\u5730\u5740\uff0c\u7ec4\u88c5\u6210request\u5bf9\u8c61---->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u5f15\u64ce--->\u8c03\u5ea6\u5668 \u722c\u866b\u63d0\u53d6\u6570\u636e--->\u5f15\u64ce--->\u7ba1\u9053 \u7ba1\u9053\u8fdb\u884c\u6570\u636e\u7684\u5904\u7406\u548c\u4fdd\u5b58 scrapy\u6846\u67b6\u7684\u4f5c\u7528\uff1a\u901a\u8fc7\u5c11\u91cf\u4ee3\u7801\u5b9e\u73b0\u5feb\u901f\u6293\u53d6 \u638c\u63e1scrapy\u4e2d\u6bcf\u4e2a\u6a21\u5757\u7684\u4f5c\u7528\uff1a \u5f15\u64ce(engine)\uff1a\u8d1f\u8d23\u6570\u636e\u548c\u4fe1\u53f7\u5728\u4e0d\u8170\u75db\u6a21\u5757\u95f4\u7684\u4f20\u9012 \u8c03\u5ea6\u5668(scheduler)\uff1a\u5b9e\u73b0\u4e00\u4e2a\u961f\u5217\uff0c\u5b58\u653e\u5f15\u64ce\u53d1\u8fc7\u6765\u7684request\u8bf7\u6c42\u5bf9\u8c61 \u4e0b\u8f7d\u5668(downloader)\uff1a\u53d1\u9001\u5f15\u64ce\u53d1\u8fc7\u6765\u7684request\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94\uff0c\u5e76\u5c06\u54cd\u5e94\u4ea4\u7ed9\u5f15\u64ce \u722c\u866b(spider)\uff1a\u5904\u7406\u5f15\u64ce\u53d1\u8fc7\u6765\u7684response\uff0c\u63d0\u53d6\u6570\u636e\uff0c\u63d0\u53d6url\uff0c\u5e76\u4ea4\u7ed9\u5f15\u64ce \u7ba1\u9053(pipeline)\uff1a\u5904\u7406\u5f15\u64ce\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e\uff0c\u6bd4\u5982\u5b58\u50a8 \u4e0b\u8f7d\u4e2d\u95f4\u4ef6(downloader middleware)\uff1a\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\u4e0b\u8f7d\u6269\u5c55\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4ee3\u7406ip \u722c\u866b\u4e2d\u95f4\u4ef6(spider middleware)\uff1a\u53ef\u4ee5\u81ea\u5b9a\u4e49request\u8bf7\u6c42\u548c\u8fdb\u884cresponse\u8fc7\u6ee4 \u7406\u89e3\u5f02\u6b65\u548c\u975e\u963b\u585e\u7684\u533a\u522b\uff1a\u5f02\u6b65\u662f\u8fc7\u7a0b\uff0c\u975e\u963b\u585e\u662f\u72b6\u6001 \u4e09\u3001scrapy\u7684\u5165\u95e8\u4f7f\u7528 \u5b66\u4e60\u76ee\u6807\uff1a \u638c\u63e1 scrapy\u7684\u5b89\u88c5 \u5e94\u7528 \u521b\u5efascrapy\u7684\u9879\u76ee \u5e94\u7528 \u521b\u5efascrapy\u722c\u866b \u5e94\u7528 \u8fd0\u884cscrapy\u722c\u866b \u5e94\u7528 \u89e3\u6790\u5e76\u83b7\u53d6scrapy\u722c\u866b\u4e2d\u7684\u6570\u636e 1\u3001scrapy\u9879\u76ee\u5b9e\u73b0\u6d41\u7a0b \u521b\u5efa\u4e00\u4e2ascrapy\u9879\u76ee:scrapy startproject mySpider \u751f\u6210\u4e00\u4e2a\u722c\u866b:scrapy genspider myspider www.xxx.cn \u63d0\u53d6\u6570\u636e:\u5b8c\u5584spider\uff0c\u4f7f\u7528xpath\u7b49\u65b9\u6cd5 \u4fdd\u5b58\u6570\u636e:pipeline\u4e2d\u4fdd\u5b58\u6570\u636e 2\u3001\u5b89\u88c5 scrapy\u5f53\u524d\u6700\u65b0\u7248\u672c\u4e3a 2.11.0 scrapy-redis\u5f53\u524d\u6700\u65b0\u7248\u672c\u4e3a 0.7.3 \u5b89\u88c5scrapy\u547d\u4ee4\uff1a pip install -i https://pypi.tuna.tsinghua.edu.cn/simple scrapy==2.11.0 pip install scrapy==2.11.0 pip install scrapy-redis==0.7.3 \u5982\u679c\u5b89\u88c5\u5931\u8d25. \u8bf7\u5148\u5347\u7ea7\u4e00\u4e0bpip. \u7136\u540e\u91cd\u65b0\u5b89\u88c5scrapy\u5373\u53ef. \u6700\u65b0\u7248\u672c\u7684pip\u5347\u7ea7\u5b8c\u6210\u540e. \u5b89\u88c5\u4f9d\u7136\u5931\u8d25, \u53ef\u4ee5\u6839\u636e\u62a5\u9519\u4fe1\u606f\u8fdb\u884c\u4e00\u70b9\u70b9\u7684\u8c03\u6574, \u591a\u8bd5\u51e0\u6b21pip. \u76f4\u81f3success. \u6ce8\u610f\uff1a \u5982\u679c\u4e0a\u8ff0\u8fc7\u7a0b\u8fd8\u662f\u65e0\u6cd5\u6b63\u5e38\u5b89\u88c5scrapy, \u53ef\u4ee5\u8003\u8651\u7528\u4e0b\u9762\u7684\u65b9\u6848\u6765\u5b89\u88c5: \u5982\u679c\u4e0a\u8ff0\u8fc7\u7a0b\u8fd8\u662f\u65e0\u6cd5\u6b63\u5e38\u5b89\u88c5scrapy, \u53ef\u4ee5\u8003\u8651\u7528\u4e0b\u9762\u7684\u65b9\u6848\u6765\u5b89\u88c5: \u5b89\u88c5wheel pip install wheel \u4e0b\u8f7dtwisted\u5b89\u88c5\u5305, https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted \u7528wheel\u5b89\u88c5twisted. pip install Twisted\u201121.7.0\u2011py3\u2011none\u2011any.whl \u5b89\u88c5pywin32 pip install pywin32 \u5b89\u88c5scrapy pip install scrapy \u5728\u63a7\u5236\u53f0\u8f93\u5165 scrapy version \u80fd\u663e\u793a\u7248\u672c\u53f7. \u5219\u5b89\u88c5\u6210\u529f \u6ce8\u610f\uff1a \u5982\u679c\u5f53\u524d\u8fd0\u884c scrapy version \u663e\u793a \u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4\uff0c\u4e5f\u4e0d\u662f\u53ef\u8fd0\u884c\u7684\u7a0b\u5e8f\u6216\u6279\u5904\u7406\u6587\u4ef6\u3002 \u89e3\u51b3\uff1a \u5347\u7ea7pip \u540e\u91cd\u65b0\u5b89\u88c5 \u5982\u679c\u8fd8\u4e0d\u884c\u5219\u5b89\u88c5scrapy\u540e\u914d\u7f6e\u73af\u5883\u53d8\u91cf \u53c2\u8003 https://blog.csdn.net/hulabula/article/details/119725713 3\u3001\u521b\u5efascrapy\u9879\u76ee \u521b\u5efascrapy\u9879\u76ee\u7684\u547d\u4ee4\uff1ascrapy startproject +<\u9879\u76ee\u540d\u5b57> \u793a\u4f8b\uff1ascrapy startproject myspider \u751f\u6210\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7ed3\u679c\u5982\u4e0b\uff1a scrapy\u7684\u6838\u5fc3\u7ec4\u4ef6 \u5f15\u64ce(Scrapy) \u7528\u6765\u5904\u7406\u6574\u4e2a\u7cfb\u7edf\u7684\u6570\u636e\u6d41\u5904\u7406, \u89e6\u53d1\u4e8b\u52a1(\u6846\u67b6\u6838\u5fc3) \u8c03\u5ea6\u5668(Scheduler) \u7528\u6765\u63a5\u53d7\u5f15\u64ce\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42, \u538b\u5165\u961f\u5217\u4e2d, \u5e76\u5728\u5f15\u64ce\u518d\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u8fd4\u56de. \u53ef\u4ee5\u60f3\u50cf\u6210\u4e00\u4e2aURL\uff08\u6293\u53d6\u7f51\u9875\u7684\u7f51\u5740\u6216\u8005\u8bf4\u662f\u94fe\u63a5\uff09\u7684\u4f18\u5148\u961f\u5217, \u7531\u5b83\u6765\u51b3\u5b9a\u4e0b\u4e00\u4e2a\u8981\u6293\u53d6\u7684\u7f51\u5740\u662f\u4ec0\u4e48, \u540c\u65f6\u53bb\u9664\u91cd\u590d\u7684\u7f51\u5740 \u4e0b\u8f7d\u5668(Downloader) \u7528\u4e8e\u4e0b\u8f7d\u7f51\u9875\u5185\u5bb9, \u5e76\u5c06\u7f51\u9875\u5185\u5bb9\u8fd4\u56de\u7ed9\u8718\u86db(Scrapy\u4e0b\u8f7d\u5668\u662f\u5efa\u7acb\u5728twisted\u8fd9\u4e2a\u9ad8\u6548\u7684\u5f02\u6b65\u6a21\u578b\u4e0a\u7684) \u722c\u866b(Spiders) \u722c\u866b\u662f\u4e3b\u8981\u5e72\u6d3b\u7684, \u7528\u4e8e\u4ece\u7279\u5b9a\u7684\u7f51\u9875\u4e2d\u63d0\u53d6\u81ea\u5df1\u9700\u8981\u7684\u4fe1\u606f, \u5373\u6240\u8c13\u7684\u5b9e\u4f53(Item)\u3002\u7528\u6237\u4e5f\u53ef\u4ee5\u4ece\u4e2d\u63d0\u53d6\u51fa\u94fe\u63a5,\u8ba9Scrapy\u7ee7\u7eed\u6293\u53d6\u4e0b\u4e00\u4e2a\u9875\u9762 \u9879\u76ee\u7ba1\u9053(Pipeline) \u8d1f\u8d23\u5904\u7406\u722c\u866b\u4ece\u7f51\u9875\u4e2d\u62bd\u53d6\u7684\u5b9e\u4f53\uff0c\u4e3b\u8981\u7684\u529f\u80fd\u662f\u6301\u4e45\u5316\u5b9e\u4f53\u3001\u9a8c\u8bc1\u5b9e\u4f53\u7684\u6709\u6548\u6027\u3001\u6e05\u9664\u4e0d\u9700\u8981\u7684\u4fe1\u606f\u3002\u5f53\u9875\u9762\u88ab\u722c\u866b\u89e3\u6790\u540e\uff0c\u5c06\u88ab\u53d1\u9001\u5230\u9879\u76ee\u7ba1\u9053\uff0c\u5e76\u7ecf\u8fc7\u51e0\u4e2a\u7279\u5b9a\u7684\u6b21\u5e8f\u5904\u7406\u6570\u636e\u3002 4\u3001\u521b\u5efa\u722c\u866b \u547d\u4ee4\uff1a \u5728\u9879\u76ee\u8def\u5f84\u4e0b\u6267\u884c :scrapy genspider +<\u722c\u866b\u540d\u5b57> + <\u5141\u8bb8\u722c\u53d6\u7684\u57df\u540d> \u793a\u4f8b\uff1a scrapy startproject duanzi01 cd duanzi01/ scrapy genspider duanzi duanzixing.com \u751f\u6210\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7ed3\u679c\u5982\u4e0b\uff1a 5\u3001\u5b8c\u5584spider \u5b8c\u5584spider\u5373\u901a\u8fc7\u65b9\u6cd5\u8fdb\u884c\u6570\u636e\u7684\u63d0\u53d6\u7b49\u64cd\u4f5c \u5728/duanzi01/duanzi01/spiders/duanzi.py\u4e2d\u4fee\u6539\u5185\u5bb9\u5982\u4e0b: import scrapy # \u81ea\u5b9a\u4e49spider\u7c7b\uff0c\u7ee7\u627fscrapy.spider class DuanziSpider(scrapy.Spider): # \u722c\u866b\u540d\u5b57 name = 'duanzi' # \u5141\u8bb8\u722c\u53d6\u7684\u8303\u56f4\uff0c\u9632\u6b62\u722c\u866b\u722c\u5230\u522b\u7684\u7f51\u7ad9 allowed_domains = ['duanzixing.com'] # \u5f00\u59cb\u722c\u53d6\u7684url\u5730\u5740 start_urls = ['http://duanzixing.com/'] # \u6570\u636e\u63d0\u53d6\u7684\u65b9\u6cd5\uff0c\u63a5\u53d7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u4f20\u8fc7\u6765\u7684response \u662f\u91cd\u5199\u7236\u7c7b\u4e2d\u7684parse\u65b9\u6cd5 def parse(self, response, **kwargs): # \u6253\u5370\u6293\u53d6\u5230\u7684\u9875\u9762\u6e90\u7801 # print(response.text) # xpath\u5339\u914d\u6bcf\u6761\u6bb5\u5b50\u7684article\u5217\u8868 article_list = response.xpath('//article[@class=\"excerpt\"]') # print(article_list) # \u5faa\u73af\u83b7\u53d6\u6bcf\u4e00\u4e2aarticle for article in article_list: # \u5339\u914d\u6807\u9898 # title = article.xpath('./header/h2/a/text()') # [<Selector xpath='./header/h2/a/text()' data='\u4e00\u4e2a\u4e0d\u5c0f\u5fc3\u5c31\u628a2000\u5757\u94b1\u7684\u5305\u5305\u8bbe\u7f6e\u6210\u4e8650\u5305\u90ae'>] # title = article.xpath('./header/h2/a/text()')[0].extract() # \u7b49\u540c\u4e8e title = article.xpath('./header/h2/a/text()').extract_first() # \u83b7\u53d6\u6bb5\u5b50\u5185\u5bb9 con = article.xpath('./p[@class=\"note\"]/text()').extract_first() print('title', title) print('con', con) \u542f\u52a8\u722c\u866b\u547d\u4ee4 \uff1a scrapy crawl duanzi response\u54cd\u5e94\u5bf9\u8c61\u7684\u5e38\u7528\u5c5e\u6027 response.url\uff1a\u5f53\u524d\u54cd\u5e94\u7684url\u5730\u5740 response.request.url\uff1a\u5f53\u524d\u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u7684url\u5730\u5740 response.headers\uff1a\u54cd\u5e94\u5934 response.request.headers\uff1a\u5f53\u524d\u54cd\u5e94\u7684\u8bf7\u6c42\u5934 response.body\uff1a\u54cd\u5e94\u4f53\uff0c\u4e5f\u5c31\u662fhtml\u4ee3\u7801\uff0cbyte\u7c7b\u578b response.status\uff1a\u54cd\u5e94\u72b6\u6001\u7801 \u6ce8\u610f\uff1a response.xpath\u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u7c7b\u4f3clist\u7684\u7c7b\u578b\uff0c\u5176\u4e2d\u5305\u542b\u7684\u662fselector\u5bf9\u8c61\uff0c\u64cd\u4f5c\u548c\u5217\u8868\u4e00\u6837\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u989d\u5916\u7684\u65b9\u6cd5 extract() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6709\u5b57\u7b26\u4e32\u7684\u5217\u8868 \u5982\u679c\u4f7f\u7528\u5217\u8868\u8c03\u7528extract()\u5219\u8868\u793a\uff0cextract\u4f1a\u5c06\u5217\u8868\u4e2d\u6bcf\u4e00\u4e2a\u5217\u8868\u5143\u7d20\u8fdb\u884cextract\u64cd\u4f5c\uff0c\u8fd4\u56de\u5217\u8868 extract_first() \u8fd4\u56de\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5217\u8868\u4e3a\u7a7a\u6ca1\u6709\u8fd4\u56deNone spider\u4e2d\u7684parse\u65b9\u6cd5\u5fc5\u987b\u6709 \u9700\u8981\u6293\u53d6\u7684url\u5730\u5740\u5fc5\u987b\u5c5e\u4e8eallowed_domains,\u4f46\u662fstart_urls\u4e2d\u7684url\u5730\u5740\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236 \u542f\u52a8\u722c\u866b\u7684\u65f6\u5019\u6ce8\u610f\u542f\u52a8\u7684\u4f4d\u7f6e\uff0c\u662f\u5728\u9879\u76ee\u8def\u5f84\u4e0b\u542f\u52a8 6\u3001\u914d\u7f6esettings\u6587\u4ef6 ROBOTSTXT_OBEY = False robots\u662f\u4e00\u79cd\u53cd\u722c\u534f\u8bae\u3002\u5728\u534f\u8bae\u4e2d\u89c4\u5b9a\u4e86\u54ea\u4e9b\u8eab\u4efd\u7684\u722c\u866b\u65e0\u6cd5\u722c\u53d6\u7684\u8d44\u6e90\u6709\u54ea\u4e9b\u3002 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2dsetting\uff0c\u53d6\u6d88robots\u7684\u76d1\u6d4b\uff1a \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u5168\u5c40\u7684UA\uff1aUSER_AGENT='xxxx' \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u65e5\u5fd7\u7b49\u7ea7\uff1aLOG_LEVEL = 'ERROR' \u53ea\u8f93\u51fa\u9519\u8bef\u4fe1\u606f \u5176\u5b83\u65e5\u5fd7\u7ea7\u522b CRITICAL \u4e25\u91cd\u9519\u8bef ERROR \u9519\u8bef WARNING \u8b66\u544a INFO \u6d88\u606f DEBUG \u8c03\u8bd5 \u4ee3\u7801\u5b9e\u4f8b # Scrapy settings for mySpider project USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36' ROBOTSTXT_OBEY = False LOG_LEVEL = 'ERROR' 7\u3001\u6570\u636e\u5b58\u50a8 7.1\u3001\u4f7f\u7528\u7ec8\u7aef\u547d\u4ee4\u884c\u8fdb\u884c\u5b58\u50a8 \u4ee3\u7801\u914d\u7f6e /myspider/myspider/spiders/ITSpider.py ```python class ITSpider(scrapy.Spider): name = 'ITSpider' # allowed_domains = ['www.xxx.com'] start_urls = ['https://duanzixing.com/page/2/'] # \u901a\u8fc7\u7ec8\u7aef\u5199\u5165\u6587\u4ef6\u7684\u65b9\u5f0f def parse(self, response): article_list = response.xpath('/html/body/section/div/div/article') # \u521b\u5efa\u5217\u8868\uff0c \u5b58\u50a8\u6570\u636e all_data = [] for article in article_list: title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() dic = { 'title': title, 'con': con } all_data.append(dic) return all_data ``` \u7ec8\u7aef\u547d\u4ee4 scrapy crawl ITSpider -o ITSpider.csv \u5c06\u6587\u4ef6\u5b58\u50a8\u5230ITSpider.csv \u6587\u4ef6\u4e2d 7.2\u3001\u5229\u7528\u7ba1\u9053pipeline\u6765\u5904\u7406(\u4fdd\u5b58)\u6570\u636e(\u5199\u5165\u6587\u4ef6\u4e2d) \u5148\u8ddf\u7740\u914d\u7f6e \u540e\u9762\u4f1a\u5355\u8bb2 \u4ee3\u7801\u914d\u7f6e \u6253\u5f00items.py\u6587\u4ef6 \u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801 myspider/myspider/items.py ```python import scrapy class MyspiderItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() title = scrapy.Field() con = scrapy.Field() ``` /myspider/myspider/spiders/ITSpider.py ```python import scrapy from myspider.items import MyspiderItem class ITSpiderSpider(scrapy.Spider): name = 'ITSpider' # allowed_domains = ['www.xxx.com'] start_urls = ['https://duanzixing.com/page/2/'] # \u5199\u5165\u7ba1\u9053 \u6301\u4e45\u5316\u5b58\u50a8 def parse(self, response): article_list = response.xpath('/html/body/section/div/div/article') for article in article_list: title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() item = DuanziproItem() item['title'] = title item['con'] = con yield item ``` \u5728\u722c\u866b\u6587\u4ef6ITSpider.py\u4e2dparse()\u51fd\u6570\u4e2d\u6700\u540e\u6dfb\u52a0 python yield item \u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528yield\uff1f \u8ba9\u6574\u4e2a\u51fd\u6570\u53d8\u6210\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f \u904d\u5386\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7684\u65f6\u5019\uff0c\u6328\u4e2a\u628a\u6570\u636e\u8bfb\u5230\u5185\u5b58\uff0c\u4e0d\u4f1a\u9020\u6210\u5185\u5b58\u7684\u77ac\u95f4\u5360\u7528\u8fc7\u9ad8 python3\u4e2d\u7684range\u548cpython2\u4e2d\u7684xrange\u540c\u7406 \u6ce8\u610f\uff1ayield\u80fd\u591f\u4f20\u9012\u7684\u5bf9\u8c61\u53ea\u80fd\u662f\uff1aBaseItem,Request,dict,None \u6253\u5f00\u7ba1\u9053\u6587\u4ef6 pipelines.py \u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801 myspider/myspider/pipelines.py ```python class ITSpiderPipeline: f = None def open_spider(self, spider): print('\u722c\u866b\u5f00\u59cb\u65f6\u88ab\u8c03\u7528\u4e00\u6b21') self.f = open('./duanzi.text', 'w') # \u722c\u866b\u6587\u4ef6\u4e2d\u63d0\u53d6\u6570\u636e\u7684\u65b9\u6cd5\u6bcfyield\u4e00\u6b21item\uff0c\u5c31\u4f1a\u8fd0\u884c\u4e00\u6b21 # \u8be5\u65b9\u6cd5\u4e3a\u56fa\u5b9a\u540d\u79f0\u51fd\u6570 def process_item(self, item, spider): print(item) self.f.write(item['title']+item['con']+'\\n') return item def close_spider(self, spider): print('\u722c\u866b\u7ed3\u675f\u65f6\u88ab\u8c03\u7528') self.f.close() ``` open_spider\u65b9\u6cd5 \u91cd\u5199\u7236\u7c7b\u4e2dopen_spider\u65b9\u6cd5 \u53ea\u6709\u722c\u866b\u5f00\u59cb\u5341\u88ab\u8c03\u7528\u4e00\u6b21 close_spider \u65b9\u6cd5 \u91cd\u5199\u7236\u7c7b\u4e2dlose_spider\u65b9\u6cd5 \u722c\u866b\u7ed3\u675f\u65f6\u88ab\u8c03\u7528\u4e00\u6b21 \u5728settings.py\u8bbe\u7f6e\u5f00\u542fpipeline \u5c06\u9ed8\u8ba4\u88ab\u6ce8\u91ca\u7684\u7ba1\u9053\u6253\u5f00 python ITEM_PIPELINES = { 'myspider.pipelines.MyspiderPipeline': 300, } \u5176\u4e2d\u6570\u503c\u4ee3\u8868\u4f18\u5148\u7ea7 \u6570\u503c\u8d8a\u5c0f\u4f18\u5148\u7ea7\u8d8a\u9ad8 8\u3001\u8fd0\u884cscrapy \u547d\u4ee4\uff1a\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6267\u884cscrapy crawl +<\u722c\u866b\u540d\u5b57> \u793a\u4f8b\uff1ascrapy crawl ITSpider 9\u3001\u603b\u7ed3 srapy\u7684\u5b89\u88c5\uff1apip install scrapy \u521b\u5efascrapy\u7684\u9879\u76ee: scrapy startproject myspider \u521b\u5efascrapy\u722c\u866b\uff1a\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6267\u884c scrapy genspider ITSpider www.xxx.cn \u8fd0\u884cscrapy\u722c\u866b\uff1a\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6267\u884c scrapy crawl ITSpider \u89e3\u6790\u5e76\u83b7\u53d6scrapy\u722c\u866b\u4e2d\u7684\u6570\u636e\uff1a response.xpath\u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u7c7b\u4f3clist\u7684\u7c7b\u578b\uff0c\u5176\u4e2d\u5305\u542b\u7684\u662fselector\u5bf9\u8c61\uff0c\u64cd\u4f5c\u548c\u5217\u8868\u4e00\u6837\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u989d\u5916\u7684\u65b9\u6cd5 extract() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6709\u5b57\u7b26\u4e32\u7684\u5217\u8868 extract_first() \u8fd4\u56de\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5217\u8868\u4e3a\u7a7a\u6ca1\u6709\u8fd4\u56deNone scrapy\u7ba1\u9053\u7684\u57fa\u672c\u4f7f\u7528: \u5b8c\u5584pipelines.py\u4e2d\u7684process_item\u51fd\u6570 \u5728settings.py\u4e2d\u8bbe\u7f6e\u5f00\u542fpipeline 10\u3001\u62a5\u9519\u89e3\u51b3 \u5982\u679c\u6293\u53d6\u8fc7\u7a0b\u4e2d\u9047\u5230\u5982\u4e0b\u62a5\u9519\uff0c\u53ef\u80fd\u662fcryptography \u7248\u672c\u95ee\u9898 twisted.web._newclient.ResponseNeverReceived: [<twisted.python.failure.Failure OpenSSL.SSL.Error: [('SSL routines', '', 'unsafe legacy renegotiation disabled')]>] \u89e3\u51b3\uff1a 1\u3001pip\u5378\u8f7dcryptography\uff1a pip uninstall cryptography \u91cd\u65b0\u5b89\u88c5cryptography 36.0.2\uff1a pip install cryptography==36.0.2 2\u3001pip\u5378\u8f7dpyOpenSSL\uff1a pip uninstall pyOpenSSL \u91cd\u65b0\u5b89\u88c5pyOpenSSL 22.0.0\uff1a pip install pyOpenSSL==22.0.0","title":"\u5341\u516d\u3001Scrapy\u6846\u67b6\u521d\u8ba4\u8bc6"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#scrapy","text":"","title":"\u5341\u516d\u3001Scrapy\u6846\u67b6\u521d\u8ba4\u8bc6"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_1","text":"","title":"\u4e00\u3001\u524d\u8a00"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#1","text":"\u524d\u9762\u6211\u4eec\u5b66\u4e60\u4e86\u57fa\u7840\u7684\u722c\u866b\u5b9e\u73b0\u65b9\u6cd5\u548cselenium\u4ee5\u53camongodb\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u4f1a\u6211\u4eec\u5b66\u4e60\u4e00\u4e2a\u4e0a\u573a\u7387\u975e\u5e38\u9ad8\u7684\u722c\u866b\u6846\u67b6\uff1ascrapy","title":"1\u3001\u4ecb\u7ecd"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#2","text":"scrapy\u7684\u57fa\u7840\u6982\u5ff5\u548c\u5de5\u4f5c\u6d41\u7a0b scrapy\u5165\u95e8\u4f7f\u7528","title":"2\u3001\u5185\u5bb9"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#scrapy_1","text":"","title":"\u4e8c\u3001scrapy\u7684\u6982\u5ff5\u548c\u6d41\u7a0b"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_2","text":"\u4e86\u89e3 scrapy\u7684\u6982\u5ff5 \u638c\u63e1 scrapy\u6846\u67b6\u7684\u8fd0\u884c\u6d41\u7a0b \u638c\u63e1 scrapy\u6846\u67b6\u7684\u4f5c\u7528","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#1scrapy","text":"\u80fd\u591f\u8ba9\u5f00\u53d1\u8fc7\u7a0b\u65b9\u4fbf\u3001\u5feb\u901f scrapy\u6846\u67b6\u80fd\u591f\u8ba9\u6211\u4eec\u7684\u722c\u866b\u6548\u7387\u66f4\u9ad8","title":"1\u3001\u4e3a\u4ec0\u4e48\u5b66\u4e60scrapy\uff1f"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#2scrapy","text":"\u6587\u6863\u5730\u5740\uff1ahttps://docs.scrapy.org/en/latest/ Scrapy \u4f7f\u7528\u4e86Twisted['tw\u026ast\u026ad]\u5f02\u6b65\u7f51\u7edc\u6846\u67b6\uff0c\u53ef\u4ee5\u52a0\u5feb\u6211\u4eec\u7684\u4e0b\u8f7d\u901f\u5ea6\u3002 Scrapy\u662f\u4e00\u4e2a\u4e3a\u4e86\u722c\u53d6\u7f51\u7ad9\u6570\u636e\uff0c\u63d0\u53d6\u7ed3\u6784\u6027\u6570\u636e\u800c\u7f16\u5199\u7684\u5e94\u7528\u6846\u67b6 \uff0c\u6211\u4eec\u53ea\u9700\u8981\u5b9e\u73b0\u5c11\u91cf\u7684\u4ee3\u7801\uff0c\u5c31\u80fd\u591f\u5feb\u901f\u7684\u6293\u53d6\u3002","title":"2\u3001\u4ec0\u4e48\u662fscrapy\uff1f"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#3","text":"\u524d\u9762\u6211\u4eec\u8bf4Twisted\u662f\u4e00\u4e2a\u5f02\u6b65\u7684\u7f51\u7edc\u6846\u67b6\uff0c\u7ecf\u5e38\u6211\u4eec\u4e5f\u542c\u5230\u4e00\u4e2a\u8bcd\u8bed\u53eb\u505a\u975e\u963b\u585e\uff0c\u90a3\u4e48\u4ed6\u4eec\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f \u5f02\u6b65 \uff1a\u8c03\u7528\u5728\u53d1\u51fa\u4e4b\u540e\uff0c\u8fd9\u4e2a\u8c03\u7528\u5c31\u76f4\u63a5\u8fd4\u56de\uff0c\u4e0d\u7ba1\u6709\u65e0\u7ed3\u679c\uff1b\u5f02\u6b65\u662f\u8fc7\u7a0b\u3002 \u975e\u963b\u585e \uff1a\u5173\u6ce8\u7684\u662f\u7a0b\u5e8f\u5728\u7b49\u5f85\u8c03\u7528\u7ed3\u679c\uff08\u6d88\u606f\uff0c\u8fd4\u56de\u503c\uff09\u65f6\u7684\u72b6\u6001\uff0c\u6307\u5728\u4e0d\u80fd\u7acb\u523b\u5f97\u5230\u7ed3\u679c\u4e4b\u524d\uff0c\u8be5\u8c03\u7528\u4e0d\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\u3002","title":"3\u3001\u5f02\u6b65\u548c\u975e\u963b\u585e\u7684\u533a\u522b"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#4scrapy","text":"","title":"4\u3001scrapy\u7684\u5de5\u4f5c\u6d41\u7a0b"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#41","text":"","title":"4.1 \u56de\u987e\u4e4b\u524d\u7684\u722c\u866b\u6d41\u7a0b"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#42","text":"","title":"4.2 \u4e0a\u9762\u7684\u6d41\u7a0b\u53ef\u4ee5\u6539\u5199\u4e3a"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#43-scrapy","text":"","title":"4.3 scrapy\u7684\u6d41\u7a0b"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_3","text":"\u8c03\u5ea6\u5668\u628arequests-->\u5f15\u64ce-->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6--->\u4e0b\u8f7d\u5668 \u4e0b\u8f7d\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94---->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6---->\u5f15\u64ce--->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u722c\u866b \u722c\u866b\u63d0\u53d6url\u5730\u5740\uff0c\u7ec4\u88c5\u6210request\u5bf9\u8c61---->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u5f15\u64ce--->\u8c03\u5ea6\u5668 \u722c\u866b\u63d0\u53d6\u6570\u636e--->\u5f15\u64ce--->\u7ba1\u9053 \u7ba1\u9053\u8fdb\u884c\u6570\u636e\u7684\u5904\u7406\u548c\u4fdd\u5b58","title":"\u5176\u6d41\u7a0b\u53ef\u4ee5\u63cf\u8ff0\u5982\u4e0b\uff1a"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_4","text":"\u56fe\u4e2d\u7eff\u8272\u7ebf\u6761\u7684\u8868\u793a\u6570\u636e\u7684\u4f20\u9012 \u6ce8\u610f\u56fe\u4e2d\u4e2d\u95f4\u4ef6\u7684\u4f4d\u7f6e\uff0c\u51b3\u5b9a\u4e86\u5176\u4f5c\u7528 \u6ce8\u610f\u5176\u4e2d\u5f15\u64ce\u7684\u4f4d\u7f6e\uff0c\u6240\u6709\u7684\u6a21\u5757\u4e4b\u524d\u76f8\u4e92\u72ec\u7acb\uff0c\u53ea\u548c\u5f15\u64ce\u8fdb\u884c\u4ea4\u4e92","title":"\u6ce8\u610f\uff1a"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#44-scrapy","text":"","title":"4.4 scrapy\u4e2d\u6bcf\u4e2a\u6a21\u5757\u7684\u5177\u4f53\u4f5c\u7528"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_5","text":"scrapy\u7684\u6982\u5ff5\uff1aScrapy\u662f\u4e00\u4e2a\u4e3a\u4e86\u722c\u53d6\u7f51\u7ad9\u6570\u636e\uff0c\u63d0\u53d6\u7ed3\u6784\u6027\u6570\u636e\u800c\u7f16\u5199\u7684\u5e94\u7528\u6846\u67b6 scrapy\u6846\u67b6\u7684\u8fd0\u884c\u6d41\u7a0b\u4ee5\u53ca\u6570\u636e\u4f20\u9012\u8fc7\u7a0b\uff1a \u8c03\u5ea6\u5668\u628arequests-->\u5f15\u64ce-->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6--->\u4e0b\u8f7d\u5668 \u4e0b\u8f7d\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94---->\u4e0b\u8f7d\u4e2d\u95f4\u4ef6---->\u5f15\u64ce--->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u722c\u866b \u722c\u866b\u63d0\u53d6url\u5730\u5740\uff0c\u7ec4\u88c5\u6210request\u5bf9\u8c61---->\u722c\u866b\u4e2d\u95f4\u4ef6--->\u5f15\u64ce--->\u8c03\u5ea6\u5668 \u722c\u866b\u63d0\u53d6\u6570\u636e--->\u5f15\u64ce--->\u7ba1\u9053 \u7ba1\u9053\u8fdb\u884c\u6570\u636e\u7684\u5904\u7406\u548c\u4fdd\u5b58 scrapy\u6846\u67b6\u7684\u4f5c\u7528\uff1a\u901a\u8fc7\u5c11\u91cf\u4ee3\u7801\u5b9e\u73b0\u5feb\u901f\u6293\u53d6 \u638c\u63e1scrapy\u4e2d\u6bcf\u4e2a\u6a21\u5757\u7684\u4f5c\u7528\uff1a \u5f15\u64ce(engine)\uff1a\u8d1f\u8d23\u6570\u636e\u548c\u4fe1\u53f7\u5728\u4e0d\u8170\u75db\u6a21\u5757\u95f4\u7684\u4f20\u9012 \u8c03\u5ea6\u5668(scheduler)\uff1a\u5b9e\u73b0\u4e00\u4e2a\u961f\u5217\uff0c\u5b58\u653e\u5f15\u64ce\u53d1\u8fc7\u6765\u7684request\u8bf7\u6c42\u5bf9\u8c61 \u4e0b\u8f7d\u5668(downloader)\uff1a\u53d1\u9001\u5f15\u64ce\u53d1\u8fc7\u6765\u7684request\u8bf7\u6c42\uff0c\u83b7\u53d6\u54cd\u5e94\uff0c\u5e76\u5c06\u54cd\u5e94\u4ea4\u7ed9\u5f15\u64ce \u722c\u866b(spider)\uff1a\u5904\u7406\u5f15\u64ce\u53d1\u8fc7\u6765\u7684response\uff0c\u63d0\u53d6\u6570\u636e\uff0c\u63d0\u53d6url\uff0c\u5e76\u4ea4\u7ed9\u5f15\u64ce \u7ba1\u9053(pipeline)\uff1a\u5904\u7406\u5f15\u64ce\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e\uff0c\u6bd4\u5982\u5b58\u50a8 \u4e0b\u8f7d\u4e2d\u95f4\u4ef6(downloader middleware)\uff1a\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\u4e0b\u8f7d\u6269\u5c55\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4ee3\u7406ip \u722c\u866b\u4e2d\u95f4\u4ef6(spider middleware)\uff1a\u53ef\u4ee5\u81ea\u5b9a\u4e49request\u8bf7\u6c42\u548c\u8fdb\u884cresponse\u8fc7\u6ee4 \u7406\u89e3\u5f02\u6b65\u548c\u975e\u963b\u585e\u7684\u533a\u522b\uff1a\u5f02\u6b65\u662f\u8fc7\u7a0b\uff0c\u975e\u963b\u585e\u662f\u72b6\u6001","title":"\u5c0f\u7ed3"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#scrapy_2","text":"","title":"\u4e09\u3001scrapy\u7684\u5165\u95e8\u4f7f\u7528"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_6","text":"\u638c\u63e1 scrapy\u7684\u5b89\u88c5 \u5e94\u7528 \u521b\u5efascrapy\u7684\u9879\u76ee \u5e94\u7528 \u521b\u5efascrapy\u722c\u866b \u5e94\u7528 \u8fd0\u884cscrapy\u722c\u866b \u5e94\u7528 \u89e3\u6790\u5e76\u83b7\u53d6scrapy\u722c\u866b\u4e2d\u7684\u6570\u636e","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#1scrapy_1","text":"\u521b\u5efa\u4e00\u4e2ascrapy\u9879\u76ee:scrapy startproject mySpider \u751f\u6210\u4e00\u4e2a\u722c\u866b:scrapy genspider myspider www.xxx.cn \u63d0\u53d6\u6570\u636e:\u5b8c\u5584spider\uff0c\u4f7f\u7528xpath\u7b49\u65b9\u6cd5 \u4fdd\u5b58\u6570\u636e:pipeline\u4e2d\u4fdd\u5b58\u6570\u636e","title":"1\u3001scrapy\u9879\u76ee\u5b9e\u73b0\u6d41\u7a0b"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#2_1","text":"scrapy\u5f53\u524d\u6700\u65b0\u7248\u672c\u4e3a 2.11.0 scrapy-redis\u5f53\u524d\u6700\u65b0\u7248\u672c\u4e3a 0.7.3 \u5b89\u88c5scrapy\u547d\u4ee4\uff1a pip install -i https://pypi.tuna.tsinghua.edu.cn/simple scrapy==2.11.0 pip install scrapy==2.11.0 pip install scrapy-redis==0.7.3 \u5982\u679c\u5b89\u88c5\u5931\u8d25. \u8bf7\u5148\u5347\u7ea7\u4e00\u4e0bpip. \u7136\u540e\u91cd\u65b0\u5b89\u88c5scrapy\u5373\u53ef. \u6700\u65b0\u7248\u672c\u7684pip\u5347\u7ea7\u5b8c\u6210\u540e. \u5b89\u88c5\u4f9d\u7136\u5931\u8d25, \u53ef\u4ee5\u6839\u636e\u62a5\u9519\u4fe1\u606f\u8fdb\u884c\u4e00\u70b9\u70b9\u7684\u8c03\u6574, \u591a\u8bd5\u51e0\u6b21pip. \u76f4\u81f3success. \u6ce8\u610f\uff1a \u5982\u679c\u4e0a\u8ff0\u8fc7\u7a0b\u8fd8\u662f\u65e0\u6cd5\u6b63\u5e38\u5b89\u88c5scrapy, \u53ef\u4ee5\u8003\u8651\u7528\u4e0b\u9762\u7684\u65b9\u6848\u6765\u5b89\u88c5: \u5982\u679c\u4e0a\u8ff0\u8fc7\u7a0b\u8fd8\u662f\u65e0\u6cd5\u6b63\u5e38\u5b89\u88c5scrapy, \u53ef\u4ee5\u8003\u8651\u7528\u4e0b\u9762\u7684\u65b9\u6848\u6765\u5b89\u88c5: \u5b89\u88c5wheel pip install wheel \u4e0b\u8f7dtwisted\u5b89\u88c5\u5305, https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted \u7528wheel\u5b89\u88c5twisted. pip install Twisted\u201121.7.0\u2011py3\u2011none\u2011any.whl \u5b89\u88c5pywin32 pip install pywin32 \u5b89\u88c5scrapy pip install scrapy \u5728\u63a7\u5236\u53f0\u8f93\u5165 scrapy version \u80fd\u663e\u793a\u7248\u672c\u53f7. \u5219\u5b89\u88c5\u6210\u529f \u6ce8\u610f\uff1a \u5982\u679c\u5f53\u524d\u8fd0\u884c scrapy version \u663e\u793a \u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4\uff0c\u4e5f\u4e0d\u662f\u53ef\u8fd0\u884c\u7684\u7a0b\u5e8f\u6216\u6279\u5904\u7406\u6587\u4ef6\u3002 \u89e3\u51b3\uff1a \u5347\u7ea7pip \u540e\u91cd\u65b0\u5b89\u88c5 \u5982\u679c\u8fd8\u4e0d\u884c\u5219\u5b89\u88c5scrapy\u540e\u914d\u7f6e\u73af\u5883\u53d8\u91cf \u53c2\u8003 https://blog.csdn.net/hulabula/article/details/119725713","title":"2\u3001\u5b89\u88c5"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#3scrapy","text":"\u521b\u5efascrapy\u9879\u76ee\u7684\u547d\u4ee4\uff1ascrapy startproject +<\u9879\u76ee\u540d\u5b57> \u793a\u4f8b\uff1ascrapy startproject myspider","title":"3\u3001\u521b\u5efascrapy\u9879\u76ee"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_7","text":"","title":"\u751f\u6210\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7ed3\u679c\u5982\u4e0b\uff1a"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#scrapy_3","text":"\u5f15\u64ce(Scrapy) \u7528\u6765\u5904\u7406\u6574\u4e2a\u7cfb\u7edf\u7684\u6570\u636e\u6d41\u5904\u7406, \u89e6\u53d1\u4e8b\u52a1(\u6846\u67b6\u6838\u5fc3) \u8c03\u5ea6\u5668(Scheduler) \u7528\u6765\u63a5\u53d7\u5f15\u64ce\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42, \u538b\u5165\u961f\u5217\u4e2d, \u5e76\u5728\u5f15\u64ce\u518d\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u8fd4\u56de. \u53ef\u4ee5\u60f3\u50cf\u6210\u4e00\u4e2aURL\uff08\u6293\u53d6\u7f51\u9875\u7684\u7f51\u5740\u6216\u8005\u8bf4\u662f\u94fe\u63a5\uff09\u7684\u4f18\u5148\u961f\u5217, \u7531\u5b83\u6765\u51b3\u5b9a\u4e0b\u4e00\u4e2a\u8981\u6293\u53d6\u7684\u7f51\u5740\u662f\u4ec0\u4e48, \u540c\u65f6\u53bb\u9664\u91cd\u590d\u7684\u7f51\u5740 \u4e0b\u8f7d\u5668(Downloader) \u7528\u4e8e\u4e0b\u8f7d\u7f51\u9875\u5185\u5bb9, \u5e76\u5c06\u7f51\u9875\u5185\u5bb9\u8fd4\u56de\u7ed9\u8718\u86db(Scrapy\u4e0b\u8f7d\u5668\u662f\u5efa\u7acb\u5728twisted\u8fd9\u4e2a\u9ad8\u6548\u7684\u5f02\u6b65\u6a21\u578b\u4e0a\u7684) \u722c\u866b(Spiders) \u722c\u866b\u662f\u4e3b\u8981\u5e72\u6d3b\u7684, \u7528\u4e8e\u4ece\u7279\u5b9a\u7684\u7f51\u9875\u4e2d\u63d0\u53d6\u81ea\u5df1\u9700\u8981\u7684\u4fe1\u606f, \u5373\u6240\u8c13\u7684\u5b9e\u4f53(Item)\u3002\u7528\u6237\u4e5f\u53ef\u4ee5\u4ece\u4e2d\u63d0\u53d6\u51fa\u94fe\u63a5,\u8ba9Scrapy\u7ee7\u7eed\u6293\u53d6\u4e0b\u4e00\u4e2a\u9875\u9762 \u9879\u76ee\u7ba1\u9053(Pipeline) \u8d1f\u8d23\u5904\u7406\u722c\u866b\u4ece\u7f51\u9875\u4e2d\u62bd\u53d6\u7684\u5b9e\u4f53\uff0c\u4e3b\u8981\u7684\u529f\u80fd\u662f\u6301\u4e45\u5316\u5b9e\u4f53\u3001\u9a8c\u8bc1\u5b9e\u4f53\u7684\u6709\u6548\u6027\u3001\u6e05\u9664\u4e0d\u9700\u8981\u7684\u4fe1\u606f\u3002\u5f53\u9875\u9762\u88ab\u722c\u866b\u89e3\u6790\u540e\uff0c\u5c06\u88ab\u53d1\u9001\u5230\u9879\u76ee\u7ba1\u9053\uff0c\u5e76\u7ecf\u8fc7\u51e0\u4e2a\u7279\u5b9a\u7684\u6b21\u5e8f\u5904\u7406\u6570\u636e\u3002","title":"scrapy\u7684\u6838\u5fc3\u7ec4\u4ef6"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#4","text":"\u547d\u4ee4\uff1a \u5728\u9879\u76ee\u8def\u5f84\u4e0b\u6267\u884c :scrapy genspider +<\u722c\u866b\u540d\u5b57> + <\u5141\u8bb8\u722c\u53d6\u7684\u57df\u540d> \u793a\u4f8b\uff1a scrapy startproject duanzi01 cd duanzi01/ scrapy genspider duanzi duanzixing.com \u751f\u6210\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7ed3\u679c\u5982\u4e0b\uff1a","title":"4\u3001\u521b\u5efa\u722c\u866b"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#5spider","text":"\u5b8c\u5584spider\u5373\u901a\u8fc7\u65b9\u6cd5\u8fdb\u884c\u6570\u636e\u7684\u63d0\u53d6\u7b49\u64cd\u4f5c \u5728/duanzi01/duanzi01/spiders/duanzi.py\u4e2d\u4fee\u6539\u5185\u5bb9\u5982\u4e0b: import scrapy # \u81ea\u5b9a\u4e49spider\u7c7b\uff0c\u7ee7\u627fscrapy.spider class DuanziSpider(scrapy.Spider): # \u722c\u866b\u540d\u5b57 name = 'duanzi' # \u5141\u8bb8\u722c\u53d6\u7684\u8303\u56f4\uff0c\u9632\u6b62\u722c\u866b\u722c\u5230\u522b\u7684\u7f51\u7ad9 allowed_domains = ['duanzixing.com'] # \u5f00\u59cb\u722c\u53d6\u7684url\u5730\u5740 start_urls = ['http://duanzixing.com/'] # \u6570\u636e\u63d0\u53d6\u7684\u65b9\u6cd5\uff0c\u63a5\u53d7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u4f20\u8fc7\u6765\u7684response \u662f\u91cd\u5199\u7236\u7c7b\u4e2d\u7684parse\u65b9\u6cd5 def parse(self, response, **kwargs): # \u6253\u5370\u6293\u53d6\u5230\u7684\u9875\u9762\u6e90\u7801 # print(response.text) # xpath\u5339\u914d\u6bcf\u6761\u6bb5\u5b50\u7684article\u5217\u8868 article_list = response.xpath('//article[@class=\"excerpt\"]') # print(article_list) # \u5faa\u73af\u83b7\u53d6\u6bcf\u4e00\u4e2aarticle for article in article_list: # \u5339\u914d\u6807\u9898 # title = article.xpath('./header/h2/a/text()') # [<Selector xpath='./header/h2/a/text()' data='\u4e00\u4e2a\u4e0d\u5c0f\u5fc3\u5c31\u628a2000\u5757\u94b1\u7684\u5305\u5305\u8bbe\u7f6e\u6210\u4e8650\u5305\u90ae'>] # title = article.xpath('./header/h2/a/text()')[0].extract() # \u7b49\u540c\u4e8e title = article.xpath('./header/h2/a/text()').extract_first() # \u83b7\u53d6\u6bb5\u5b50\u5185\u5bb9 con = article.xpath('./p[@class=\"note\"]/text()').extract_first() print('title', title) print('con', con) \u542f\u52a8\u722c\u866b\u547d\u4ee4 \uff1a scrapy crawl duanzi response\u54cd\u5e94\u5bf9\u8c61\u7684\u5e38\u7528\u5c5e\u6027 response.url\uff1a\u5f53\u524d\u54cd\u5e94\u7684url\u5730\u5740 response.request.url\uff1a\u5f53\u524d\u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u7684url\u5730\u5740 response.headers\uff1a\u54cd\u5e94\u5934 response.request.headers\uff1a\u5f53\u524d\u54cd\u5e94\u7684\u8bf7\u6c42\u5934 response.body\uff1a\u54cd\u5e94\u4f53\uff0c\u4e5f\u5c31\u662fhtml\u4ee3\u7801\uff0cbyte\u7c7b\u578b response.status\uff1a\u54cd\u5e94\u72b6\u6001\u7801","title":"5\u3001\u5b8c\u5584spider"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_8","text":"response.xpath\u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u7c7b\u4f3clist\u7684\u7c7b\u578b\uff0c\u5176\u4e2d\u5305\u542b\u7684\u662fselector\u5bf9\u8c61\uff0c\u64cd\u4f5c\u548c\u5217\u8868\u4e00\u6837\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u989d\u5916\u7684\u65b9\u6cd5 extract() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6709\u5b57\u7b26\u4e32\u7684\u5217\u8868 \u5982\u679c\u4f7f\u7528\u5217\u8868\u8c03\u7528extract()\u5219\u8868\u793a\uff0cextract\u4f1a\u5c06\u5217\u8868\u4e2d\u6bcf\u4e00\u4e2a\u5217\u8868\u5143\u7d20\u8fdb\u884cextract\u64cd\u4f5c\uff0c\u8fd4\u56de\u5217\u8868 extract_first() \u8fd4\u56de\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5217\u8868\u4e3a\u7a7a\u6ca1\u6709\u8fd4\u56deNone spider\u4e2d\u7684parse\u65b9\u6cd5\u5fc5\u987b\u6709 \u9700\u8981\u6293\u53d6\u7684url\u5730\u5740\u5fc5\u987b\u5c5e\u4e8eallowed_domains,\u4f46\u662fstart_urls\u4e2d\u7684url\u5730\u5740\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236 \u542f\u52a8\u722c\u866b\u7684\u65f6\u5019\u6ce8\u610f\u542f\u52a8\u7684\u4f4d\u7f6e\uff0c\u662f\u5728\u9879\u76ee\u8def\u5f84\u4e0b\u542f\u52a8","title":"\u6ce8\u610f\uff1a"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#6settings","text":"ROBOTSTXT_OBEY = False robots\u662f\u4e00\u79cd\u53cd\u722c\u534f\u8bae\u3002\u5728\u534f\u8bae\u4e2d\u89c4\u5b9a\u4e86\u54ea\u4e9b\u8eab\u4efd\u7684\u722c\u866b\u65e0\u6cd5\u722c\u53d6\u7684\u8d44\u6e90\u6709\u54ea\u4e9b\u3002 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2dsetting\uff0c\u53d6\u6d88robots\u7684\u76d1\u6d4b\uff1a \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u5168\u5c40\u7684UA\uff1aUSER_AGENT='xxxx' \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u65e5\u5fd7\u7b49\u7ea7\uff1aLOG_LEVEL = 'ERROR' \u53ea\u8f93\u51fa\u9519\u8bef\u4fe1\u606f \u5176\u5b83\u65e5\u5fd7\u7ea7\u522b CRITICAL \u4e25\u91cd\u9519\u8bef ERROR \u9519\u8bef WARNING \u8b66\u544a INFO \u6d88\u606f DEBUG \u8c03\u8bd5 \u4ee3\u7801\u5b9e\u4f8b # Scrapy settings for mySpider project USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36' ROBOTSTXT_OBEY = False LOG_LEVEL = 'ERROR'","title":"6\u3001\u914d\u7f6esettings\u6587\u4ef6"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#7","text":"","title":"7\u3001\u6570\u636e\u5b58\u50a8"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#71","text":"\u4ee3\u7801\u914d\u7f6e /myspider/myspider/spiders/ITSpider.py ```python class ITSpider(scrapy.Spider): name = 'ITSpider' # allowed_domains = ['www.xxx.com'] start_urls = ['https://duanzixing.com/page/2/'] # \u901a\u8fc7\u7ec8\u7aef\u5199\u5165\u6587\u4ef6\u7684\u65b9\u5f0f def parse(self, response): article_list = response.xpath('/html/body/section/div/div/article') # \u521b\u5efa\u5217\u8868\uff0c \u5b58\u50a8\u6570\u636e all_data = [] for article in article_list: title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() dic = { 'title': title, 'con': con } all_data.append(dic) return all_data ``` \u7ec8\u7aef\u547d\u4ee4 scrapy crawl ITSpider -o ITSpider.csv \u5c06\u6587\u4ef6\u5b58\u50a8\u5230ITSpider.csv \u6587\u4ef6\u4e2d","title":"7.1\u3001\u4f7f\u7528\u7ec8\u7aef\u547d\u4ee4\u884c\u8fdb\u884c\u5b58\u50a8"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#72pipeline","text":"\u5148\u8ddf\u7740\u914d\u7f6e \u540e\u9762\u4f1a\u5355\u8bb2 \u4ee3\u7801\u914d\u7f6e \u6253\u5f00items.py\u6587\u4ef6 \u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801 myspider/myspider/items.py ```python import scrapy class MyspiderItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() title = scrapy.Field() con = scrapy.Field() ``` /myspider/myspider/spiders/ITSpider.py ```python import scrapy from myspider.items import MyspiderItem class ITSpiderSpider(scrapy.Spider): name = 'ITSpider' # allowed_domains = ['www.xxx.com'] start_urls = ['https://duanzixing.com/page/2/'] # \u5199\u5165\u7ba1\u9053 \u6301\u4e45\u5316\u5b58\u50a8 def parse(self, response): article_list = response.xpath('/html/body/section/div/div/article') for article in article_list: title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() item = DuanziproItem() item['title'] = title item['con'] = con yield item ``` \u5728\u722c\u866b\u6587\u4ef6ITSpider.py\u4e2dparse()\u51fd\u6570\u4e2d\u6700\u540e\u6dfb\u52a0 python yield item \u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528yield\uff1f \u8ba9\u6574\u4e2a\u51fd\u6570\u53d8\u6210\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f \u904d\u5386\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7684\u65f6\u5019\uff0c\u6328\u4e2a\u628a\u6570\u636e\u8bfb\u5230\u5185\u5b58\uff0c\u4e0d\u4f1a\u9020\u6210\u5185\u5b58\u7684\u77ac\u95f4\u5360\u7528\u8fc7\u9ad8 python3\u4e2d\u7684range\u548cpython2\u4e2d\u7684xrange\u540c\u7406 \u6ce8\u610f\uff1ayield\u80fd\u591f\u4f20\u9012\u7684\u5bf9\u8c61\u53ea\u80fd\u662f\uff1aBaseItem,Request,dict,None \u6253\u5f00\u7ba1\u9053\u6587\u4ef6 pipelines.py \u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801 myspider/myspider/pipelines.py ```python class ITSpiderPipeline: f = None def open_spider(self, spider): print('\u722c\u866b\u5f00\u59cb\u65f6\u88ab\u8c03\u7528\u4e00\u6b21') self.f = open('./duanzi.text', 'w') # \u722c\u866b\u6587\u4ef6\u4e2d\u63d0\u53d6\u6570\u636e\u7684\u65b9\u6cd5\u6bcfyield\u4e00\u6b21item\uff0c\u5c31\u4f1a\u8fd0\u884c\u4e00\u6b21 # \u8be5\u65b9\u6cd5\u4e3a\u56fa\u5b9a\u540d\u79f0\u51fd\u6570 def process_item(self, item, spider): print(item) self.f.write(item['title']+item['con']+'\\n') return item def close_spider(self, spider): print('\u722c\u866b\u7ed3\u675f\u65f6\u88ab\u8c03\u7528') self.f.close() ``` open_spider\u65b9\u6cd5 \u91cd\u5199\u7236\u7c7b\u4e2dopen_spider\u65b9\u6cd5 \u53ea\u6709\u722c\u866b\u5f00\u59cb\u5341\u88ab\u8c03\u7528\u4e00\u6b21 close_spider \u65b9\u6cd5 \u91cd\u5199\u7236\u7c7b\u4e2dlose_spider\u65b9\u6cd5 \u722c\u866b\u7ed3\u675f\u65f6\u88ab\u8c03\u7528\u4e00\u6b21 \u5728settings.py\u8bbe\u7f6e\u5f00\u542fpipeline \u5c06\u9ed8\u8ba4\u88ab\u6ce8\u91ca\u7684\u7ba1\u9053\u6253\u5f00 python ITEM_PIPELINES = { 'myspider.pipelines.MyspiderPipeline': 300, } \u5176\u4e2d\u6570\u503c\u4ee3\u8868\u4f18\u5148\u7ea7 \u6570\u503c\u8d8a\u5c0f\u4f18\u5148\u7ea7\u8d8a\u9ad8","title":"7.2\u3001\u5229\u7528\u7ba1\u9053pipeline\u6765\u5904\u7406(\u4fdd\u5b58)\u6570\u636e(\u5199\u5165\u6587\u4ef6\u4e2d)"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#8scrapy","text":"\u547d\u4ee4\uff1a\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6267\u884cscrapy crawl +<\u722c\u866b\u540d\u5b57> \u793a\u4f8b\uff1ascrapy crawl ITSpider","title":"8\u3001\u8fd0\u884cscrapy"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#9","text":"srapy\u7684\u5b89\u88c5\uff1apip install scrapy \u521b\u5efascrapy\u7684\u9879\u76ee: scrapy startproject myspider \u521b\u5efascrapy\u722c\u866b\uff1a\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6267\u884c scrapy genspider ITSpider www.xxx.cn \u8fd0\u884cscrapy\u722c\u866b\uff1a\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6267\u884c scrapy crawl ITSpider \u89e3\u6790\u5e76\u83b7\u53d6scrapy\u722c\u866b\u4e2d\u7684\u6570\u636e\uff1a response.xpath\u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u7c7b\u4f3clist\u7684\u7c7b\u578b\uff0c\u5176\u4e2d\u5305\u542b\u7684\u662fselector\u5bf9\u8c61\uff0c\u64cd\u4f5c\u548c\u5217\u8868\u4e00\u6837\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u989d\u5916\u7684\u65b9\u6cd5 extract() \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6709\u5b57\u7b26\u4e32\u7684\u5217\u8868 extract_first() \u8fd4\u56de\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5217\u8868\u4e3a\u7a7a\u6ca1\u6709\u8fd4\u56deNone scrapy\u7ba1\u9053\u7684\u57fa\u672c\u4f7f\u7528: \u5b8c\u5584pipelines.py\u4e2d\u7684process_item\u51fd\u6570 \u5728settings.py\u4e2d\u8bbe\u7f6e\u5f00\u542fpipeline","title":"9\u3001\u603b\u7ed3"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#10","text":"\u5982\u679c\u6293\u53d6\u8fc7\u7a0b\u4e2d\u9047\u5230\u5982\u4e0b\u62a5\u9519\uff0c\u53ef\u80fd\u662fcryptography \u7248\u672c\u95ee\u9898 twisted.web._newclient.ResponseNeverReceived: [<twisted.python.failure.Failure OpenSSL.SSL.Error: [('SSL routines', '', 'unsafe legacy renegotiation disabled')]>] \u89e3\u51b3\uff1a 1\u3001pip\u5378\u8f7dcryptography\uff1a pip uninstall cryptography \u91cd\u65b0\u5b89\u88c5cryptography 36.0.2\uff1a pip install cryptography==36.0.2 2\u3001pip\u5378\u8f7dpyOpenSSL\uff1a pip uninstall pyOpenSSL \u91cd\u65b0\u5b89\u88c5pyOpenSSL 22.0.0\uff1a pip install pyOpenSSL==22.0.0","title":"10\u3001\u62a5\u9519\u89e3\u51b3"},{"location":"16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html#_9","text":"","title":""},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html","text":"\u5341\u516d\u3001Scrapy\u6df1\u5165\u4f7f\u7528-\u5b58\u50a8 scrapy\u7684\u6df1\u5165\u4f7f\u7528 \u5b66\u4e60\u76ee\u6807\uff1a \u4e86\u89e3 scrapy debug\u4fe1\u606f \u4e86\u89e3 scrapy shell\u7684\u4f7f\u7528 \u638c\u63e1 scrapy\u7684settings.py\u8bbe\u7f6e \u638c\u63e1 scrapy\u7ba1\u9053(pipelines.py)\u7684\u4f7f\u7528 \u638c\u63e1scrapy\u4e0b\u8f7d\u56fe\u7247 1\u3001\u4e86\u89e3scrapy\u7684debug\u4fe1\u606f 2\u3001\u4e86\u89e3scrapyShell scrapy shell\u662fscrapy\u63d0\u4f9b\u7684\u4e00\u4e2a\u7ec8\u7aef\u5de5\u5177\uff0c\u80fd\u591f\u901a\u8fc7\u5b83\u67e5\u770bscrapy\u4e2d\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4ee5\u53ca\u6d4b\u8bd5xpath \u4f7f\u7528\u65b9\u6cd5\uff1a scrapy shell http://www.baidu.com \u5728\u7ec8\u7aef\u8f93\u5165\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u80fd\u591f\u8fdb\u5165python\u7684\u4ea4\u4e92\u5f0f\u7ec8\u7aef\uff0c\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528\uff1a response.xpath()\uff1a\u76f4\u63a5\u6d4b\u8bd5xpath\u89c4\u5219\u662f\u5426\u6b63\u786e response.url\uff1a\u5f53\u524d\u54cd\u5e94\u7684url\u5730\u5740 response.request.url\uff1a\u5f53\u524d\u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u7684url\u5730\u5740 response.headers\uff1a\u54cd\u5e94\u5934 response.body\uff1a\u54cd\u5e94\u4f53\uff0c\u4e5f\u5c31\u662fhtml\u4ee3\u7801\uff0c\u9ed8\u8ba4\u662fbyte\u7c7b\u578b response.request.headers\uff1a\u5f53\u524d\u54cd\u5e94\u7684\u8bf7\u6c42\u5934 response.encoding \u83b7\u53d6\u4ee5\u53ca\u8bbe\u5b9a\u7f16\u7801 response.css(query) \uff1aCSS \u6307\u5c42\u53e0\u6837\u5f0f\u8868\uff08Cascading Style Sheets\uff09\u3002 \u5728\u6211\u4eec\u7684 CSS \u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u5b66\u4e60\u5982\u4f55\u4f7f\u7528 CSS \u540c\u65f6\u63a7\u5236\u6574\u4e2a\u7ad9\u70b9\u7684\u6837\u5f0f\u548c\u5e03\u5c40 css\u65b9\u6cd5\u7684\u4f7f\u7528 response.css('css\u9009\u62e9\u5668') \u8fd4\u56de\u503c\u662fSelector\u5bf9\u8c61 response.css('css\u9009\u62e9\u5668').extract_first() #\u83b7\u53d6\u4e00\u4e2a response.css('css\u9009\u62e9\u5668').extract() # \u83b7\u53d6\u5168\u90e8 response.css('css\u9009\u62e9\u5668::attr(\u5c5e\u6027\u540d)').extract() # \u83b7\u53d6\u5176\u4e2d\u67d0\u4e2a\u5c5e\u6027 response.css('css\u9009\u62e9\u5668::text').extract() #\u83b7\u53d6\u6807\u7b7e\u91cc\u7684\u6587\u672c 3\u3001settings.py\u4e2d\u7684\u8bbe\u7f6e\u4fe1\u606f 3.1 \u4e3a\u4ec0\u4e48\u9879\u76ee\u4e2d\u9700\u8981\u914d\u7f6e\u6587\u4ef6 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b58\u653e\u4e00\u4e9b\u516c\u5171\u53d8\u91cf\uff0c\u5728\u540e\u7eed\u7684\u9879\u76ee\u4e2d\u65b9\u4fbf\u4fee\u6539\uff0c\u5982\uff1a\u672c\u5730\u6d4b\u8bd5\u6570\u636e\u5e93\u548c\u90e8\u7f72\u670d\u52a1\u5668\u7684\u6570\u636e\u5e93\u4e0d\u4e00\u81f4 3.2 \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\u4f7f\u7528\u65b9\u6cd5 \u53d8\u91cf\u540d\u4e00\u822c\u5168\u90e8\u5927\u5199 \u5bfc\u5165\u5373\u53ef\u4f7f\u7528 3.3 settings.py\u4e2d\u7684\u91cd\u70b9\u5b57\u6bb5\u548c\u542b\u4e49 USER_AGENT \u8bbe\u7f6eua ROBOTSTXT_OBEY \u662f\u5426\u9075\u5b88robots\u534f\u8bae\uff0c\u9ed8\u8ba4\u662f\u9075\u5b88 CONCURRENT_REQUESTS \u8bbe\u7f6e\u5e76\u53d1\u8bf7\u6c42\u7684\u6570\u91cf\uff0c\u9ed8\u8ba4\u662f16\u4e2a DOWNLOAD_DELAY \u4e0b\u8f7d\u5ef6\u8fdf\uff0c\u9ed8\u8ba4\u65e0\u5ef6\u8fdf \uff08\u4e0b\u8f7d\u5668\u5728\u4ece\u540c\u4e00\u7f51\u7ad9\u4e0b\u8f7d\u8fde\u7eed\u9875\u9762\u4e4b\u524d\u5e94\u7b49\u5f85\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u9650\u5236\u722c\u884c\u901f\u5ea6\uff0c\u4ee5\u907f\u514d\u5bf9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u5f71\u54cd\uff09 COOKIES_ENABLED \u662f\u5426\u5f00\u542fcookie\uff0c\u5373\u6bcf\u6b21\u8bf7\u6c42\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\u7684 DEFAULT_REQUEST_HEADERS \u8bbe\u7f6e\u9ed8\u8ba4\u8bf7\u6c42\u5934\uff0c\u8fd9\u91cc\u52a0\u5165\u4e86USER_AGENT\u5c06\u4e0d\u8d77\u4f5c\u7528 SPIDER_MIDDLEWARES \u722c\u866b\u4e2d\u95f4\u4ef6\uff0c\u8bbe\u7f6e\u8fc7\u7a0b\u548c\u7ba1\u9053\u76f8\u540c DOWNLOADER_MIDDLEWARES \u4e0b\u8f7d\u4e2d\u95f4\u4ef6 LOG_LEVEL \u63a7\u5236\u7ec8\u7aef\u8f93\u51fa\u4fe1\u606f\u7684log\u7ea7\u522b\uff0c\u7ec8\u7aef\u9ed8\u8ba4\u663e\u793a\u7684\u662fdebug\u7ea7\u522b\u7684log\u4fe1\u606f LOG_LEVEL = \"WARNING\" CRITICAL \u4e25\u91cd ERROR \u9519\u8bef WARNING \u8b66\u544a INFO \u6d88\u606f DEBUG \u8c03\u8bd5 LOG_FILE \u8bbe\u7f6elog\u65e5\u5fd7\u6587\u4ef6\u7684\u4fdd\u5b58\u8def\u5f84\uff0c\u5982\u679c\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u7ec8\u7aef\u5c06\u4e0d\u518d\u663e\u793a\u4fe1\u606f LOG_FILE = \"./test.log\" \u5176\u4ed6\u8bbe\u7f6e\u53c2\u8003\uff1ahttps://www.jianshu.com/p/df9c0d1e9087 4\u3001pipeline\u7ba1\u9053\u7684\u6df1\u5165\u4f7f\u7528 \u4e4b\u524d\u6211\u4eec\u5728scrapy\u5165\u95e8\u4f7f\u7528\u4e00\u8282\u4e2d\u5b66\u4e60\u4e86\u7ba1\u9053\u7684\u57fa\u672c\u4f7f\u7528\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6df1\u5165\u7684\u5b66\u4e60scrapy\u7ba1\u9053\u7684\u4f7f\u7528 4.1 \u4f7f\u7528\u7ec8\u7aef\u547d\u4ee4\u884c\u8fdb\u884c\u5b58\u50a8 \u4ee3\u7801\u914d\u7f6e /myspider/myspider/spiders/ITSpider.py ```python class ITSpider(scrapy.Spider): name = 'ITSpider' # allowed_domains = ['www.xxx.com'] start_urls = ['https://duanzixing.com/page/1/'] # \u901a\u8fc7\u7ec8\u7aef\u5199\u5165\u6587\u4ef6\u7684\u65b9\u5f0f def parse(self, response): article_list = response.xpath('/html/body/section/div/div/article') # \u521b\u5efa\u5217\u8868\uff0c \u5b58\u50a8\u6570\u636e all_data = [] for article in article_list: title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() dic = { 'title': title, 'con': con } all_data.append(dic) return all_data ``` \u7ec8\u7aef\u547d\u4ee4 scrapy crawl ITSpider -o ITSpider.csv \u5c06\u6587\u4ef6\u5b58\u50a8\u5230ITSpider.csv \u6587\u4ef6\u4e2d 4.2 \u4f7f\u7528\u7ba1\u9053\u5b58\u50a8\u5230\u6587\u4ef6\u4e2d (1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart (2) \u521b\u5efa\u5de5\u7a0b scrapy startproject doubanfile cd doubanfile scrapy genspider db movie.douban.com/chart (3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0 \u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14 (4) \u914d\u7f6esettings.py LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False (5) db.py\u4e2d\u5b9e\u73b0 \u5148\u6293\u53d6\u6bcf\u4e00\u884c\u6570\u636e\u7684tr\u5217\u8868 import scrapy class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['https://movie.douban.com/chart'] start_urls = ['https://movie.douban.com/chart'] def parse(self, resp, **kwargs): print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') print(tr_list) \u6b64\u523b\u8fd0\u884c\u6253\u5370 srapy crawl db \u53d1\u73b0\u65e0\u4efb\u4f55\u6253\u5370\uff0c\u5c06LOG_LEVEL = 'ERROR' \u66f4\u6539\u4e3a INFO \uff0c\u53d1\u73b0\u6b64\u523b\u8bf7\u6c42\u6ca1\u6709\u6743\u9650 \u53d1\u73b0\u95ee\u9898\u6240\u5728\u540e\u4fee\u6539settings.py \u5728\u9ed8\u8ba4\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS \u4e2d\u6dfb\u52a0 User-Agent DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } \u518d\u6b21\u8bf7\u6c42\uff0c\u6210\u529f (6) db.py\u5b8c\u6574\u5b9e\u73b0 import scrapy import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['https://movie.douban.com/chart'] start_urls = ['https://movie.douban.com/chart'] def parse(self, resp, **kwargs): # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 img_src = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 name = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 to_star = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() (7) \u6253\u5f00items.py\u6587\u4ef6 \u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801 \u5c5e\u6027\u540d\u79f0\u548c\u5f53\u524d\u722c\u866bdb.py\u4e2d\u6293\u5230\u8981\u5b58\u50a8\u6570\u636e\u7684\u53d8\u91cf\u4e00\u81f4 \u5426\u5219\u62a5\u9519 import scrapy class DoubanfileItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field() (8) db.py \u518d\u6b21\u8fdb\u884c\u4fee\u6539 import scrapy import re from doubanfile.items import DoubanfileItem class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['https://movie.douban.com/chart'] start_urls = ['https://movie.douban.com/chart'] def parse(self, resp, **kwargs): item = DoubanfileItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item \u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528yield\uff1f \u8ba9\u6574\u4e2a\u51fd\u6570\u53d8\u6210\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f \u904d\u5386\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7684\u65f6\u5019\uff0c\u6328\u4e2a\u628a\u6570\u636e\u8bfb\u5230\u5185\u5b58\uff0c\u4e0d\u4f1a\u9020\u6210\u5185\u5b58\u7684\u77ac\u95f4\u5360\u7528\u8fc7\u9ad8 python3\u4e2d\u7684range\u548cpython2\u4e2d\u7684xrange\u540c\u7406 \u6ce8\u610f\uff1ayield\u80fd\u591f\u4f20\u9012\u7684\u5bf9\u8c61\u53ea\u80fd\u662f\uff1aBaseItem,Request,dict,None (8) \u5f00\u542f\u7ba1\u9053 pipeline\u4e2d\u5e38\u7528\u7684\u65b9\u6cd5\uff1a process_item(self,item,spider):\u5b9e\u73b0\u5bf9item\u6570\u636e\u7684\u5904\u7406 open_spider(self, spider): \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 close_spider(self, spider): \u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 settings.py \u6253\u5f00\u5f53\u524d\u6ce8\u91ca ITEM_PIPELINES = { 'doubanfile.pipelines.DoubanfilePipeline': 300, } (9) \u5728pipelines.py\u4ee3\u7801\u4e2d\u5b8c\u5584\uff08\u8bbe\u7f6e\u6587\u4ef6\u5b58\u50a8\uff09 class DoubanfilePipeline: f = None def open_spider(self, item): self.f = open('./db.text', 'w') def process_item(self, item, spider): print(item) self.f.write(item['img_src']+'\\n') self.f.write(item['name']+'\\n') self.f.write(item['to_star']+'\\n') return item def close_spider(self, item): self.f.close() \u6ce8\u610f\uff1a \u5f53\u524dprocess_item\u4e2d\u7684return item\u5fc5\u987b\u5b58\u5728\uff0c\u5982\u679c\u5f53\u524d\u722c\u866b\u5b58\u5728\u4e8e\u591a\u4e2a\u7ba1\u9053\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u6709return item \u5219\u4e0b\u4e00\u4e2a\u7ba1\u9053\u4e0d\u80fd\u83b7\u53d6\u5230\u5f53\u524d\u7684item\u6570\u636e 4.3 \u5b58\u50a8\u5230MySQL\u6570\u636e\u5e93\u4e2d (1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart (2) \u521b\u5efa\u5de5\u7a0b scrapy startproject doubanmysql cd doubanmysql scrapy genspider db movie.douban.com/chart (3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0 \u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14 (4) \u914d\u7f6esettings.py # \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'doubanmysql.pipelines.DoubanmysqlPipeline': 300, } (5) \u521b\u5efa\u8c46\u74e3\u6570\u636e\u5e93 create database douban character set utf8; use douban CREATE TABLE `douban` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `img_src` varchar(200) NOT NULL COMMENT '\u5c01\u9762\u5730\u5740', `name` varchar(50) NOT NULL COMMENT '\u7535\u5f71\u540d\u79f0', `to_star` varchar(250) NOT NULL COMMENT '\u4e3b\u6f14', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 \u793a\u4f8bSQL\u8bed\u53e5 insert into info(img_src, name, to_star) values(\"https://img9.doubanio.com/view/photo/s_ratio_poster/public/p2673202034.webp\", \"\u5c3c\u7f57\u6cb3\u4e0a\u7684\u60e8\u6848 Death on the Nile\", \"\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3\", \"\u8fc8\u514b\u5c14\u00b7\u683c\u6797 / \u963f\u52a0\u838e\u00b7\u514b\u91cc\u65af\u8482\", \"\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3\u827e\u739b\u00b7\u9ea6\u57fa/\u827e\u7c73\u00b7\u6c49\u83ab/\u73cd\u59ae\u5f17\u00b7\u6851\u5fb7\u65af/\u82cf\u83f2\u00b7\u5965\u5eb7\u5185\u591a/\u5b89\u59ae\u7279\u00b7\u8d1d\u5b81/\u59ae\u57fa\u5854\u00b7\u67e5\u8fbe\u54c8/\u6c64\u59c6\u00b7\u5df4\u7279\u66fc/\u4e9a\u5f53\u00b7\u52a0\u897f\u4e9a/\u6c49/\u7231\u5fb7\u534e\u00b7\u5218\u6613\u65af\u00b7\u5f17\u4f26\u5947/\u62c9\u666e\u6d1b\u65af\u00b7\u5361\u4f26\u798f\u4f50\u65af\") (6) items.py import scrapy class DoubanmysqlItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field() (7) db.py import scrapy from doubanmysql.items import DoubanmysqlItem import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): item = DoubanmysqlItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item (8) \u7ba1\u9053\u4ee3\u7801 from itemadapter import ItemAdapter import pymysql class DoubanmysqlPipeline: db = None cursor = None def open_spider(self, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b\uff0c\u4e0d\u662fdb\u722c\u866b\u5219\u4e0b\u9762\u4ee3\u7801\u4e0d\u6267\u884c # \u5f53\u524d\u4ec5\u9650\u4e8e\u4e00\u4e2ascrapy\u4e0b\u6709\u591a\u4e2a\u722c\u866b\u5de5\u7a0b if spider.name == 'db': self.db = pymysql.connect(host='127.0.0.1', port=3306, db='douban', user='root', passwd='123456', charset='utf8') self.cursor = self.db.cursor() def process_item(self, item, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b if spider.name == 'db': try: sql = f'insert into douban(img_src, name, to_star) values(\"{item[\"img_src\"]}\", \"{item[\"name\"]}\", \"{item[\"to_star\"]}\")' self.cursor.execute(sql) self.db.commit() except Exception as e: print(e) print(sql) self.db.rollback() return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.db.close() (9) \u8fd0\u884c\u722c\u866b scrapy crawl db \u67e5\u770b\u7ec8\u7aef\u6570\u636e\u662f\u5426\u6709\u62a5\u9519\uff0c\u5982\u679c\u6ca1\u6709\u62a5\u9519\u67e5\u770b\u6570\u636e\u5e93\u6570\u636e\u662f\u5426\u5b58\u50a8\u6210\u529f 4.4 \u5b58\u50a8\u5230MongoDB\u6570\u636e\u5e93\u4e2d (1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart (2) \u521b\u5efa\u5de5\u7a0b scrapy startproject doubanmongodb cd doubanmongodb scrapy genspider db movie.douban.com/chart (3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0 \u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14 (4) \u914d\u7f6esettings.py # \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'doubanmongodb.pipelines.DoubanmongodbPipeline': 300, } (5) items.py import scrapy class DoubanmongodbItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field() (6) db.py import scrapy from doubanmongodb.items import DoubanmongodbItem import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): item = DoubanmongodbItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item (7) \u7ba1\u9053\u4ee3\u7801 from itemadapter import ItemAdapter from pymongo import MongoClient class DoubanmongodbPipeline: con = None collection = None def open_spider(self, spider): # \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 if spider.name == 'db': self.con = MongoClient(host='127.0.0.1', port=27017) # \u5b9e\u4f8b\u5316mongoclient self.collection = self.con.spider.douban # \u521b\u5efa\u6570\u636e\u5e93\u540d\u4e3aspider,\u96c6\u5408\u540d\u4e3adouban\u7684\u96c6\u5408\u64cd\u4f5c\u5bf9\u8c61 def process_item(self, item, spider): if spider.name == 'db': # print(spider.name) self.collection.insert_one(dict(item)) # \u6b64\u65f6item\u5bf9\u8c61\u9700\u8981\u5148\u8f6c\u6362\u4e3a\u5b57\u5178,\u518d\u63d2\u5165 # \u4e0dreturn\u7684\u60c5\u51b5\u4e0b\uff0c\u53e6\u4e00\u4e2a\u6743\u91cd\u8f83\u4f4e\u7684pipeline\u5c06\u4e0d\u4f1a\u83b7\u5f97item return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.con.close() \u6ce8\u610f\uff1a \u9700\u8981\u5f00\u542fmongo\u670d\u52a1 mongod.exe --dbpath=C:/User/xxx/db \u65b0\u5f00\u7ec8\u7aef mongo.exe (8) \u8fd0\u884c\u722c\u866b scrapy crawl db \u67e5\u770b\u7ec8\u7aef\u6570\u636e\u662f\u5426\u6709\u62a5\u9519\uff0c\u5982\u679c\u6ca1\u6709\u62a5\u9519\u67e5\u770b\u6570\u636e\u5e93\u6570\u636e\u662f\u5426\u5b58\u50a8\u6210\u529f 4.5 \u6570\u636e\u540c\u65f6\u5b58\u50a8\u5230\u6587\u4ef6\u3001MySQL\u3001MongoDB\u4e2d (1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart (2) \u521b\u5efa\u5de5\u7a0b scrapy startproject douban cd douban scrapy genspider db movie.douban.com/chart (3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0 \u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14 (4) \u914d\u7f6esettings.py # \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'douban.pipelines.DoubanPipeline': 300, } (5) items.py import scrapy class DoubanItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field() (6) db.py import scrapy from douban.items import DoubanItem import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): item = DoubanItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item (7) \u7ba1\u9053\u4ee3\u7801 # Define your item pipelines here # # Don't forget to add your pipeline to the ITEM_PIPELINES setting # See: https://docs.scrapy.org/en/latest/topics/item-pipeline.html # useful for handling different item types with a single interface from itemadapter import ItemAdapter import pymysql from pymongo import MongoClient class DoubanFilePipeline: ''' \u8bbe\u7f6e\u6587\u4ef6\u5b58\u50a8 ''' f = None def open_spider(self, item): self.f = open('./db.text', 'w') def process_item(self, item, spider): print(item) self.f.write(item['img_src'] + '\\n') self.f.write(item['name'] + '\\n') self.f.write(item['to_star'] + '\\n') return item def close_spider(self, item): self.f.close() class DoubanmysqlPipeline: ''' \u5b58\u50a8\u5230MySQL\u6570\u636e\u5e93\u4e2d ''' db = None cursor = None def open_spider(self, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b\uff0c\u4e0d\u662fdb\u722c\u866b\u5219\u4e0b\u9762\u4ee3\u7801\u4e0d\u6267\u884c # \u5f53\u524d\u4ec5\u9650\u4e8e\u4e00\u4e2ascrapy\u4e0b\u6709\u591a\u4e2a\u722c\u866b\u5de5\u7a0b if spider.name == 'db': self.db = pymysql.connect(host='127.0.0.1', port=3306, db='douban', user='root', passwd='123456', charset='utf8') self.cursor = self.db.cursor() def process_item(self, item, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b if spider.name == 'db': try: sql = f'insert into douban(img_src, name, to_star) values(\"{item[\"img_src\"]}\", \"{item[\"name\"]}\", \"{item[\"to_star\"]}\")' self.cursor.execute(sql) self.db.commit() except Exception as e: print(e) print(sql) self.db.rollback() return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.db.close() class DoubanmongodbPipeline: ''' \u5b58\u50a8\u5230MongoDB\u6570\u636e\u5e93\u4e2d ''' con = None collection = None def open_spider(self, spider): # \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 if spider.name == 'db': self.con = MongoClient(host='127.0.0.1', port=27017) # \u5b9e\u4f8b\u5316mongoclient self.collection = self.con.spider.douban # \u521b\u5efa\u6570\u636e\u5e93\u540d\u4e3aspider,\u96c6\u5408\u540d\u4e3adouban\u7684\u96c6\u5408\u64cd\u4f5c\u5bf9\u8c61 def process_item(self, item, spider): if spider.name == 'db': # print(spider.name) self.collection.insert_one(dict(item)) # \u6b64\u65f6item\u5bf9\u8c61\u9700\u8981\u5148\u8f6c\u6362\u4e3a\u5b57\u5178,\u518d\u63d2\u5165 # \u4e0dreturn\u7684\u60c5\u51b5\u4e0b\uff0c\u53e6\u4e00\u4e2a\u6743\u91cd\u8f83\u4f4e\u7684pipeline\u5c06\u4e0d\u4f1a\u83b7\u5f97item return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.con.close() (8) \u4fee\u6539settings.py \u6dfb\u52a0\u7ba1\u9053 ITEM_PIPELINES = { 'douban.pipelines.DoubanFilePipeline': 300, # 300\u8868\u793a\u6743\u91cd 'douban.pipelines.DoubanmysqlPipeline': 400, 'douban.pipelines.DoubanmongodbPipeline': 500, } \u60a8\u5728\u6b64\u8bbe\u7f6e\u4e2d\u5206\u914d\u7ed9\u7c7b\u7684\u6574\u6570\u503c\u51b3\u5b9a\u4e86\u5b83\u4eec\u8fd0\u884c\u7684\u987a\u5e8f\uff1a\u9879\u76ee\u4ece\u4f4e\u503c\u5230\u9ad8\u503c\u7684\u7c7b\u3002\u901a\u5e38\u5c06\u8fd9\u4e9b\u6570\u5b57\u5b9a\u4e49\u5728 0-1000 \u8303\u56f4\u5185\u3002 \u601d\u8003\uff1apipeline\u5728settings\u4e2d\u80fd\u591f\u5f00\u542f\u591a\u4e2a\uff0c\u4e3a\u4ec0\u4e48\u9700\u8981\u5f00\u542f\u591a\u4e2a\uff1f \u4e0d\u540c\u7684pipeline\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u722c\u866b\u7684\u6570\u636e\uff0c\u901a\u8fc7spider.name\u5c5e\u6027\u6765\u533a\u5206 \u4e0d\u540c\u7684pipeline\u80fd\u591f\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u722c\u866b\u8fdb\u884c\u4e0d\u540c\u7684\u6570\u636e\u5904\u7406\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u4e00\u4e2a\u8fdb\u884c\u6570\u636e\u6e05\u6d17\uff0c\u4e00\u4e2a\u8fdb\u884c\u6570\u636e\u7684\u4fdd\u5b58 \u540c\u4e00\u4e2a\u7ba1\u9053\u7c7b\u4e5f\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u722c\u866b\u7684\u6570\u636e\uff0c\u901a\u8fc7spider.name\u5c5e\u6027\u6765\u533a\u5206 4.6 pipeline\u4f7f\u7528\u6ce8\u610f\u70b9 \u4f7f\u7528\u4e4b\u524d\u9700\u8981\u5728settings\u4e2d\u5f00\u542f pipeline\u5728setting\u4e2d\u952e\u8868\u793a\u4f4d\u7f6e(\u5373pipeline\u5728\u9879\u76ee\u4e2d\u7684\u4f4d\u7f6e\u53ef\u4ee5\u81ea\u5b9a\u4e49)\uff0c\u503c\u8868\u793a\u8ddd\u79bb\u5f15\u64ce\u7684\u8fdc\u8fd1\uff0c\u8d8a\u8fd1\u6570\u636e\u4f1a\u8d8a\u5148\u7ecf\u8fc7 \u6709\u591a\u4e2apipeline\u7684\u65f6\u5019\uff0cprocess_item\u7684\u65b9\u6cd5\u5fc5\u987breturn item,\u5426\u5219\u540e\u4e00\u4e2apipeline\u53d6\u5230\u7684\u6570\u636e\u4e3aNone\u503c pipeline\u4e2dprocess_item\u7684\u65b9\u6cd5\u5fc5\u987b\u6709\uff0c\u5426\u5219item\u6ca1\u6709\u529e\u6cd5\u63a5\u53d7\u548c\u5904\u7406 process_item\u65b9\u6cd5\u63a5\u53d7item\u548cspider\uff0c\u5176\u4e2dspider\u8868\u793a\u5f53\u524d\u4f20\u9012item\u8fc7\u6765\u7684spider open_spider(spider) :\u80fd\u591f\u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u6267\u884c\u4e00\u6b21 close_spider(spider) :\u80fd\u591f\u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u6267\u884c\u4e00\u6b21 \u4e0a\u8ff0\u4fe9\u4e2a\u65b9\u6cd5\u7ecf\u5e38\u7528\u4e8e\u722c\u866b\u548c\u6570\u636e\u5e93\u7684\u4ea4\u4e92\uff0c\u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u5efa\u7acb\u548c\u6570\u636e\u5e93\u7684\u8fde\u63a5\uff0c\u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u65ad\u5f00\u548c\u6570\u636e\u5e93\u7684\u8fde\u63a5 4.7 \u603b\u7ed3 debug\u80fd\u591f\u5c55\u793a\u5f53\u524d\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001 scrapy shell\u80fd\u591f\u5b9e\u73b0xpath\u7684\u6d4b\u8bd5\u548c\u5bf9\u8c61\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5c1d\u8bd5 scrapy\u7684settings.py\u80fd\u591f\u5b9e\u73b0\u5404\u79cd\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\uff0c\u6bd4\u5982\u4e0b\u8f7d\u5ef6\u8fdf\u548c\u8bf7\u6c42\u5934\u7b49 \u7ba1\u9053\u80fd\u591f\u5b9e\u73b0\u6570\u636e\u7684\u6e05\u6d17\u548c\u4fdd\u5b58\uff0c\u80fd\u591f\u5b9a\u4e49\u591a\u4e2a\u7ba1\u9053\u5b9e\u73b0\u4e0d\u540c\u7684\u529f\u80fd\uff0c\u5176\u4e2d\u6709\u4e2a\u4e09\u4e2a\u65b9\u6cd5 process_item(self,item,spider):\u5b9e\u73b0\u5bf9item\u6570\u636e\u7684\u5904\u7406 open_spider(self, spider): \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 close_spider(self, spider): \u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 5\u3001\u6293\u53d6\u8be6\u60c5\u9875 (1) \u6982\u8ff0 \u5728\u4e4b\u524d\u7684\u6293\u53d6\u4e2d\u6211\u4eec\u90fd\u662f\u6293\u53d6\u5f53\u524d\u518d\u751f\u6210spider\u65f6\u5019\u7684\u7f51\u5740\u4e2d\u7684\u6570\u636e\uff0c\u90a3\u5982\u679c\u6211\u4eec\u60f3\u8981\u8bbf\u95ee\u5f53\u524d\u6570\u636e\u4e2d\u7684\u5b50\u9875\u9762\u7684\u6570\u636e\uff0c\u90a3\u53c8\u8be5\u5982\u4f55\u64cd\u4f5c\u5462\uff0c\u56de\u5fc6\u4e0b\u6211\u4eec\u5728\u524d\u9762requests\u8bfe\u7a0b\u4e2d\u662f\u5982\u4f55\u6293\u53d6\u5b50\u9875\u9762\u6570\u636e\u7684 \u601d\u8def\uff1a \u5148\u5bf9\u7b2c\u4e00\u5c42url\u8fdb\u884c\u8bf7\u6c42 \u8bf7\u6c42\u8fd4\u56de\u6570\u636e\u8fdb\u884c\u89e3\u6790\u5faa\u73af \u627e\u5230\u6bcf\u4e00\u6761\u5b50\u9875\u9762\u7684url \u627e\u5230\u5b50\u9875\u9762\u7684url\u4ee5\u540e\u8fdb\u884c\u518d\u6b21\u8bf7\u6c42 \u8bf7\u6c42\u89e3\u6790\u5b50\u9875\u9762\u8bf7\u6c42\u8fd4\u56de\u7684\u6570\u636e \u7ed3\u675f \u90a3\u4e48\u5728\u6211\u4eecscrapy\u4e2d\u7684\u601d\u8def\u4e5f\u662f\u4e00\u6837\u7684\uff0c\u901a\u8fc7\u6293\u53d6\u5f53\u524d\u7b2c\u4e00\u5c42\u9875\u9762\u4e2d\u89e3\u6790\u51fa\u6765\u7684\u5b50\u9875\u9762\u7684\u6570\u636e\uff0c\u5728\u901a\u8fc7scrapy.Rquests\u8fdb\u884c\u5b50\u9875\u9762\u7684\u8bf7\u6c42\uff0c\u90a3\u6211\u4eec\u4e86\u89e3\u4e86\u5f53\u524d\u6293\u53d6\u7684\u601d\u8def\uff0c\u5c31\u5f00\u59cb\u6211\u4eecscrapy\u5b50\u9875\u9762\u7684\u8bf7\u6c42\u4e0e\u6293\u53d6\u5427 (2) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart (3) \u521b\u5efa\u5de5\u7a0b scrapy startproject doubandetail cd doubandetail scrapy genspider db movie.douban.com/chart (4) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0 \u6293\u53d6\uff1a \u7535\u5f71\u540d\u79f0 \u5bfc\u6f14 \u7f16\u5267 \u4e3b\u6f14 \u7c7b\u578b \u5236\u7247\u56fd\u5bb6\u5730\u533a \u8bed\u8a00 \u5267\u60c5\u7b80\u4ecb \u901a\u8fc7\u7b2c\u4e00\u5c42\u5339\u914d\u5230\u7684\u5b50\u9875\u9762\u7684url\u8fdb\u884c\u8bf7\u6c42\u8be6\u60c5\u9875\u7684url\u6570\u636e (5) \u914d\u7f6esettings.py # \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False COOKIES_ENABLED = False # cookies\u7684\u4e2d\u95f4\u4ef6\u5c06\u4e0d\u8d77\u4f5c\u7528\uff0c\u4e0b\u9762\u7684cookie\u8d77\u4f5c\u7528 # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36', 'Cookie': '\u8bbe\u5b9acookie \u9632\u6b62\u53cd\u6252' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'doubandetail.pipelines.DoubandetailPipeline': 300, } (6) db.py \u6982\u8ff0 \u56e0\u4e3a\u5f53\u524d\u9700\u8981\u5bf9\u8be6\u60c5\u9875\u9762\u518d\u6b21\u8bf7\u6c42\u4ee5\u83b7\u53d6\u8be6\u60c5\u9875\u6570\u636e\uff0c\u8bf7\u6c42\u601d\u8def\u548c\u4e4b\u524drequests\u4e00\u6837\uff0c\u53ea\u662f\u5728\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 yield scrapy.Request() \u8fdb\u884c\u8bf7\u6c42 \u9ed8\u8ba4\u8bf7\u6c42\u65b9\u5f0f\u4e3aget yield scrapy.Request(url, callback=self.parse_deatil) url\uff1a\u4e3a\u518d\u6b21\u8bf7\u6c42\u7684URL\u5730\u5740 meta : \u5b9e\u73b0\u6570\u636e\u5728\u4e0d\u540c\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\uff0cmeta\u9ed8\u8ba4\u5e26\u6709\u90e8\u5206\u6570\u636e\uff0c\u6bd4\u5982\u4e0b\u8f7d\u5ef6\u8fdf\u3001\u8bf7\u6c42\u6df1\u5ea6\u7b49\uff08\u7528\u4e8e\u89e3\u6790\u65b9\u6cd5\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u9012\uff0c\u5e38\u7528\u5728\u4e00\u6761\u6570\u636e\u5206\u6563\u5728\u591a\u4e2a\u4e0d\u540c\u7ed3\u6784\u7684\u9875\u9762\u4e2d\u7684\u60c5\u51b5\uff09 callback\uff1a\u8868\u793a\u5f53\u524d\u7684url\u54cd\u5e94\u4ea4\u7ed9\u54ea\u4e2a\u51fd\u6570\u53bb\u5904\u7406\uff08\u9ed8\u8ba4\u4e3aparse\u51fd\u6570\uff09 method: \u8bf7\u6c42\u65b9\u5f0f \u6307\u5b9aPOST\u6216GET\u8bf7\u6c42 errback: \u62a5\u9519\u56de\u8c03 dont_filter: \u9ed8\u8ba4\u4e3aFalse\uff0c\u4f1a\u8fc7\u6ee4\u8bf7\u6c42\u7684url\u5730\u5740\uff0c\u5373\u8bf7\u6c42\u8fc7\u7684url\u5730\u5740\u4e0d\u4f1a\u7ee7\u7eed\u88ab\u8bf7\u6c42\uff0c\u5bf9\u9700\u8981\u91cd\u590d\u8bf7\u6c42\u7684url\u5730\u5740\u53ef\u4ee5\u628a\u5b83\u8bbe\u7f6e\u4e3aTrue\uff0cstart_urls\u4e2d\u7684\u5730\u5740\u4f1a\u88ab\u53cd\u590d\u8bf7\u6c42\uff0c\u5426\u5219\u7a0b\u5e8f\u4e0d\u4f1a\u542f\u52a8 headers: \u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u5176\u4e2d\u4e0d\u5305\u62eccookies cookies: \u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u4e13\u95e8\u653e\u7f6ecookies body\uff1a\u63a5\u6536json\u5b57\u7b26\u4e32\uff0c\u4e3apost\u7684\u6570\u636e\u53d1\u9001payload_post\u8bf7\u6c42 meta\u4f7f\u7528\u5b9e\u4f8b \u5728\u722c\u866b\u6587\u4ef6\u7684parse\u65b9\u6cd5\u4e2d\uff0c\u589e\u52a0\u4e00\u4e2a\u51fd\u6570parse_detail\u51fd\u6570\uff08\u7528\u6765\u89e3\u6790\u53e6\u4e00\u4e2a\u9875\u9762\uff09\uff1a ```python def parse(self,response): ... yield scrapy.Request(detail_url, callback=self.parse_detail,meta={\"item\":item}) ... def parse_detail(self,response): #\u83b7\u53d6\u4e4b\u524d\u4f20\u5165\u7684item item = resposne.meta[\"item\"] ``` \u5c31\u76f8\u5f53\u4e8e\uff0c\u628aparse\u4e2d\u89e3\u6790\u7684\u6570\u636e\u5b58\u5230\u4e86meta\u5b57\u5178\u4e2d\uff0c\u5bf9\u5e94\u7684key\u4e3aitem\uff1b\u800c\u5728\u53e6\u4e00\u4e2a\u51fd\u6570\uff08parse_detail\uff09\u4e2d\uff0c\u901a\u8fc7meta\u5b57\u5178\u4e2d\u7684key\uff1aitem\u6765\u63d0\u53d6parse\u4e2d\u7684\u6570\u636e\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u9875\u9762\u6570\u636e\u7684\u62fc\u63a5 \u6ce8\u610f\uff1a meta\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178 meta\u5b57\u5178\u4e2d\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u952eproxy\uff0c\u8868\u793a\u4ee3\u7406ip \u4ee3\u7801\u5b9e\u73b0 ```python import scrapy from doubandetail.items import DoubandetailItem import re class DbSpider(scrapy.Spider): name = 'db' # \u9700\u8981\u6ce8\u91ca\u6389 # allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u6bcf\u4e2a\u8be6\u60c5\u9875\u7684url detail_url = tr.xpath('./td[1]/a/@href').extract_first() # \u8bf7\u6c42\u5b50\u9875\u9762 print(detail_url) yield scrapy.Request(detail_url, callback=self.parse_deatil) # \u89e3\u6790\u5b50\u9875\u9762\u6570\u636e def parse_deatil(self, response): # \u9ed8\u8ba4\u643a\u5e26\u6211\u4eecsettings.py\u4e2d\u6240\u914d\u7f6e\u7684\u8bf7\u6c42\u5934\u8fdb\u884c\u8bf7\u6c42 # print(response.request.headers) item = DoubandetailItem() item['name'] = response.xpath('//*[@id=\"content\"]/h1/span[1]/text()').extract_first() # \u7535\u5f71\u540d\u79f0 item['director'] = response.xpath('//*[@id=\"info\"]/span[1]/span[2]/a/text()').extract_first() # \u5bfc\u6f14 item['screenwriter'] = ''.join(response.xpath('//*[@id=\"info\"]/span[2]/span[2]//text()').extract()) # \u7f16\u5267 item['to_star'] = ''.join(response.xpath('//*[@id=\"info\"]/span[3]/span[2]//text()').extract()) # \u4e3b\u6f14 item['type'] = '/'.join(response.xpath('//span[@property=\"v:genre\"]//text()').extract()) # \u7c7b\u578b item['producer_country'] = response.xpath( \"//div[@id='info']/span[text()='\u5236\u7247\u56fd\u5bb6/\u5730\u533a:']/following-sibling::text()[1]\").extract_first() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: item['language'] = response.xpath( \"//div[@id='info']/span[text()='\u8bed\u8a00:']/following-sibling::text()[1]\").extract_first() # \u8bed\u8a00 link_report = response.xpath('//span[@property=\"v:summary\"]//text()').extract_first() # \u5267\u60c5\u7b80\u4ecb item['link_report'] = re.sub('(/)|(\\s)|(\\u3000)|(\\'\\n\\')', '', link_report) print(item) return item ``` \u6ce8\u610f\uff1a \u9700\u8981\u5c06allowed_domains\u6ce8\u91ca\u6389\uff0c\u5426\u5219\u8be6\u60c5\u9875url\u4e0d\u7b26\u5408\u5f53\u524d\u5141\u8bb8\uff0c\u6240\u4ee5\u4f1a\u51fa\u73b0\u4e0d\u8bf7\u6c42\u7684\u95ee\u9898 (7) items.py import scrapy class DoubandetailItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() name = scrapy.Field() # \u7535\u5f71\u540d\u79f0 director = scrapy.Field() # \u5bfc\u6f14 screenwriter = scrapy.Field() # \u7f16\u5267 to_star = scrapy.Field() # \u4e3b\u6f14 type = scrapy.Field() # \u7c7b\u578b producer_country = scrapy.Field() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: language = scrapy.Field() # \u8bed\u8a00 link_report = scrapy.Field() # \u5267\u60c5\u7b80\u4ecb (8) \u7ba1\u9053\u4ee3\u7801 # Define your item pipelines here # # Don't forget to add your pipeline to the ITEM_PIPELINES setting # See: https://docs.scrapy.org/en/latest/topics/item-pipeline.html # useful for handling different item types with a single interface from itemadapter import ItemAdapter from pymongo import MongoClient class DoubandetailPipeline: con = None collection = None def open_spider(self, spider): # \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 self.con = MongoClient(host='127.0.0.1', port=27017) # \u5b9e\u4f8b\u5316mongoclient self.collection = self.con.spider.douban # \u521b\u5efa\u6570\u636e\u5e93\u540d\u4e3aspider,\u96c6\u5408\u540d\u4e3adouban\u7684\u96c6\u5408\u64cd\u4f5c\u5bf9\u8c61 def process_item(self, item, spider): print(item) self.collection.insert_one(dict(item)) # \u6b64\u65f6item\u5bf9\u8c61\u9700\u8981\u5148\u8f6c\u6362\u4e3a\u5b57\u5178,\u518d\u63d2\u5165 return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.con.close() \u6ce8\u610f\uff1a \u5982\u679c\u8bbf\u95ee\u9891\u7387\u8fc7\u9ad8\u88ab\u7981\u6b62\u8bbf\u95ee\uff0c\u53ef\u4ee5\u643a\u5e26\u767b\u5f55\u540e\u7684cooki\u8fdb\u884c\u8bbf\u95ee 6\u3001\u4e0b\u8f7d\u56fe\u7247 (1) \u5b89\u88c5\u6a21\u5757 pip3 install pillow (2) \u6293\u53d6\u7f51\u5740 https://desk.zol.com.cn/dongman/ (3) \u521b\u5efa\u5de5\u7a0b scrapy startproject desk cd desk scrapy genspider img desk.zol.com.cn/dongman (4) \u914d\u7f6esettings.py # \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } (5) img.py \u722c\u866b\u4ee3\u7801\u4e66\u5199 \u601d\u8def\uff1a \u6293\u53d6\u5230\u8be6\u60c5\u9875\u4e2d\u56fe\u7247\u7684url\u5730\u5740\uff0c\u4ea4\u7ed9\u56fe\u7247\u7ba1\u9053\u8fdb\u884c\u4e0b\u8f7d import scrapy from urllib.parse import urljoin class ImgSpider(scrapy.Spider): name = 'img' # allowed_domains = ['desk.zol.com.cn/dongman'] start_urls = ['http://desk.zol.com.cn/dongman/'] def parse(self, resp, **kwargs): # \u5148\u6293\u53d6\u5230\u6bcf\u4e2a\u56fe\u7247\u8be6\u60c5\u7684url url_list = resp.xpath('//ul[@class=\"pic-list2 clearfix\"]/li/a/@href').extract() # \u83b7\u53d6\u5230url\u5217\u8868\u540e \u8fdb\u884c\u5faa\u73af\u8fdb\u884c\u6bcf\u4e00\u4e2aurl\u8be6\u60c5\u9875\u7684\u8bf7\u6c42 for url in url_list: # \u56e0\u4e3a\u6293\u53d6\u5230\u7684url\u5e76\u4e0d\u5b8c\u6574\uff0c\u9700\u8981\u8fdb\u884c\u624b\u52a8\u62fc\u63a5 # urljoin('https://desk.zol.com.cn/dongman/', '/bizhi/8301_103027_2.html') url = urljoin('https://desk.zol.com.cn/dongman/', url) # \u62fc\u51d1\u5b8c\u53d1\u73b0\u5f53\u524durl\u4e2d\u6709\u4e0b\u8f7dexe\u7684url\uff0c\u5c06\u5176\u53bb\u9664 if url.find('exe') != -1: continue yield scrapy.Request(url, callback=self.parse_detail) # \u5bf9\u8be6\u60c5\u9875\u8fdb\u884c\u89e3\u6790 def parse_detail(self, resp): # \u83b7\u53d6\u5f53\u524d\u8be6\u60c5\u9875\u4e2d\u6700\u5927\u5c3a\u5bf8\u56fe\u7247\u7684url max_img_url = resp.xpath('//dd[@id=\"tagfbl\"]/a/@href').extract() # \u5224\u65ad\u5f53\u524d\u6700\u5927\u56fe\u7247\u7684url\u5730\u5740\uff0c\u4e3a\u5012\u6570\u7b2c\u4e8c\u4e2a\uff0c\u5982\u679c\u5f53\u524d\u56fe\u7247\u5217\u8868url\u957f\u5ea6\u5c0f\u4e8e2 \u5219\u5f53\u524d\u8bc1\u660e\u4e0d\u662f\u56fe\u7247\u7684url if len(max_img_url) > 2: max_img_url = urljoin('https://desk.zol.com.cn/', max_img_url[0]) # \u5bf9url\u9875\u9762\u8fdb\u884c\u8bf7\u6c42 \u83b7\u53d6\u6700\u7ec8\u5927\u56fe\u7684\u9875\u9762 yield scrapy.Request(max_img_url, callback=self.parse_img_detail) def parse_img_detail(self, resp): # \u89e3\u6790\u51fa\u5927\u56fe\u7684url img_src = resp.xpath(\"//img[1]/@src\").extract_first() return {'img_src': img_src} \u6ce8\u610f\uff1a \u5982\u679c\u6293\u53d6\u8fc7\u7a0b\u4e2d\u9047\u5230\u5982\u4e0b\u62a5\u9519\uff0c\u53ef\u80fd\u662fcryptography \u7248\u672c\u95ee\u9898 twisted.web._newclient.ResponseNeverReceived: [<twisted.python.failure.Failure OpenSSL.SSL.Error: [('SSL routines', '', 'unsafe legacy renegotiation disabled')]>] \u89e3\u51b3\uff1a pip uninstall cryptography pip install cryptography==36.0.2 (6) \u914d\u7f6e\u56fe\u7247\u7ba1\u9053 \u6253\u5f00Pipelines\u6587\u4ef6\u5939 \u56e0\u4e3a\u6211\u4eec\u4e0d\u80fd\u518d\u50cf\u4e4b\u524d\u5b58\u50a8\u6587\u672c\u4e00\u6837\uff0c\u4f7f\u7528\u4e4b\u524d\u7684\u7ba1\u9053\u7c7b\uff08Pipeline\uff09\uff0c\u6211\u4eec\u9700\u8981\u7528\u5230\u65b0\u7684\u5b58\u50a8\u56fe\u7247\u7684\u7ba1\u9053\u7c7bImagesPipeline\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5148\u5bfc\u5165\u8be5\u7c7b pipelines.py \u5bfc\u5165 python from scrapy.pipelines.images import ImagesPipeline \u5b9a\u4e49\u4e00\u4e2aImages\u7c7b ```python from itemadapter import ItemAdapter from scrapy.pipelines.images import ImagesPipeline import scrapy class Imgspipline(ImagesPipeline): # 1. \u53d1\u9001\u8bf7\u6c42(\u4e0b\u8f7d\u56fe\u7247, \u6587\u4ef6, \u89c6\u9891,xxx) def get_media_requests(self, item, info): # \u83b7\u53d6\u5230\u56fe\u7247\u7684url url = item['img_src'] # \u8fdb\u884c\u8bf7\u6c42 yield scrapy.Request(url=url, meta={\"url\": url}) # \u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\u5373\u53ef # 2. \u56fe\u7247\u5b58\u50a8\u8def\u5f84 # \u5728\u51fd\u6570\u5b9a\u4e49\u65f6\uff0c\u4f7f\u7528\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684*\u7b26\u53f7\uff0c\u8fd9\u8868\u793a\u5728*\u7b26\u53f7\u540e\u9762\u7684\u53c2\u6570\uff0c\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528key=value\u7684\u5f62\u5f0f\u8fdb\u884c\u53c2\u6570\u4f20\u9012\u3002\u3002\u5728Python\u7684\u6807\u51c6\u5e93\u4e2d\uff0c\u6709\u4e0d\u5c11\u6a21\u5757\u7684\u63a5\u53e3\u51fd\u6570\u7684\u5b9a\u4e49\u90fd\u5728\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002 def file_path(self, request, response=None, info=None, *, item=None): # \u5f53\u524d\u83b7\u53d6\u8bf7\u6c42\u7684url\u7684\u65b9\u5f0f\u67092\u79cd # \u83b7\u53d6\u5230\u5f53\u524d\u7684url \u7528\u4e8e\u5904\u7406\u4e0b\u8f7d\u56fe\u7247\u7684\u540d\u79f0 file_name = item['img_src'].split(\"/\")[-1] # \u7528item\u62ff\u5230url # file_name = request.meta['url'].split(\"/\")[-1] # \u7528meta\u4f20\u53c2\u83b7\u53d6 return file_name # 3. \u53ef\u80fd\u9700\u8981\u5bf9item\u8fdb\u884c\u66f4\u65b0 def item_completed(self, results, item, info): # print('results', results) for r in results: # \u83b7\u53d6\u6bcf\u4e2a\u56fe\u7247\u7684\u8def\u5f84 print(r[1]['path']) return item # \u4e00\u5b9a\u8981return item \u628a\u6570\u636e\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u7ba1\u9053 ``` (7) \u4fdd\u5b58\u6570\u636e \u63a5\u7740\u6211\u4eec\u518d\u5b9a\u4e49\u4e00\u4e2a\u4fdd\u5b58\u6570\u636e\u7684\u51fd\u6570\uff0c\u5e76\u8bbe\u7f6e\u597d\u5b58\u50a8\u7684\u6587\u4ef6\u540d\uff0c\u7136\u540e\u5b58\u50a8\u7684\u8def\u5f84\u9700\u8981\u5728\u8bbe\u7f6e\u4e2d\uff08setting\uff09\u6587\u4ef6\u4e2d\uff0c\u6dfb\u52a0IMAGE_STORE\u8bbe\u7f6e\u597d\u5b58\u50a8\u7684\u8def\u5f84 \u5f00\u542f\u56fe\u7247\u7ba1\u9053 settings.py ITEM_PIPELINES = { 'desk.pipelines.DeskPipeline': 300, 'desk.pipelines.Imgspipline': 400, # \u5f00\u542f\u56fe\u7247\u7ba1\u9053 } # \u914d\u7f6e\u5b58\u50a8\u56fe\u7247\u7684\u8def\u5f84 IMG_STORE = './imgs' (8) \u6ce8\u610f \u7528scrapy\u722c\u53d6\u7f51\u9875\u65f6\u51fa\u73b0302\u72b6\u6001\u7801\uff0c\u8fd9\u662f\u7f51\u9875\u53d1\u751f\u4e86\u91cd\u5b9a\u5411\uff08\u5728\u6b64\u4e0d\u89e3\u91ca\u91cd\u5b9a\u5411\uff09\uff0c\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ea\u9700\u5728settings\u6587\u4ef6\u4e2d\u8bbe\u7f6eMEDIA_ALLOW_REDIRECTS = True\u3002","title":"\u5341\u516d\u3001Scrapy\u6df1\u5165\u4f7f\u7528-\u5b58\u50a8"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#scrapy-","text":"","title":"\u5341\u516d\u3001Scrapy\u6df1\u5165\u4f7f\u7528-\u5b58\u50a8"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#scrapy","text":"","title":"scrapy\u7684\u6df1\u5165\u4f7f\u7528"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#_1","text":"\u4e86\u89e3 scrapy debug\u4fe1\u606f \u4e86\u89e3 scrapy shell\u7684\u4f7f\u7528 \u638c\u63e1 scrapy\u7684settings.py\u8bbe\u7f6e \u638c\u63e1 scrapy\u7ba1\u9053(pipelines.py)\u7684\u4f7f\u7528 \u638c\u63e1scrapy\u4e0b\u8f7d\u56fe\u7247","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#1scrapydebug","text":"","title":"1\u3001\u4e86\u89e3scrapy\u7684debug\u4fe1\u606f"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#2scrapyshell","text":"scrapy shell\u662fscrapy\u63d0\u4f9b\u7684\u4e00\u4e2a\u7ec8\u7aef\u5de5\u5177\uff0c\u80fd\u591f\u901a\u8fc7\u5b83\u67e5\u770bscrapy\u4e2d\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4ee5\u53ca\u6d4b\u8bd5xpath \u4f7f\u7528\u65b9\u6cd5\uff1a scrapy shell http://www.baidu.com \u5728\u7ec8\u7aef\u8f93\u5165\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u80fd\u591f\u8fdb\u5165python\u7684\u4ea4\u4e92\u5f0f\u7ec8\u7aef\uff0c\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528\uff1a response.xpath()\uff1a\u76f4\u63a5\u6d4b\u8bd5xpath\u89c4\u5219\u662f\u5426\u6b63\u786e response.url\uff1a\u5f53\u524d\u54cd\u5e94\u7684url\u5730\u5740 response.request.url\uff1a\u5f53\u524d\u54cd\u5e94\u5bf9\u5e94\u7684\u8bf7\u6c42\u7684url\u5730\u5740 response.headers\uff1a\u54cd\u5e94\u5934 response.body\uff1a\u54cd\u5e94\u4f53\uff0c\u4e5f\u5c31\u662fhtml\u4ee3\u7801\uff0c\u9ed8\u8ba4\u662fbyte\u7c7b\u578b response.request.headers\uff1a\u5f53\u524d\u54cd\u5e94\u7684\u8bf7\u6c42\u5934 response.encoding \u83b7\u53d6\u4ee5\u53ca\u8bbe\u5b9a\u7f16\u7801 response.css(query) \uff1aCSS \u6307\u5c42\u53e0\u6837\u5f0f\u8868\uff08Cascading Style Sheets\uff09\u3002 \u5728\u6211\u4eec\u7684 CSS \u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u5b66\u4e60\u5982\u4f55\u4f7f\u7528 CSS \u540c\u65f6\u63a7\u5236\u6574\u4e2a\u7ad9\u70b9\u7684\u6837\u5f0f\u548c\u5e03\u5c40 css\u65b9\u6cd5\u7684\u4f7f\u7528 response.css('css\u9009\u62e9\u5668') \u8fd4\u56de\u503c\u662fSelector\u5bf9\u8c61 response.css('css\u9009\u62e9\u5668').extract_first() #\u83b7\u53d6\u4e00\u4e2a response.css('css\u9009\u62e9\u5668').extract() # \u83b7\u53d6\u5168\u90e8 response.css('css\u9009\u62e9\u5668::attr(\u5c5e\u6027\u540d)').extract() # \u83b7\u53d6\u5176\u4e2d\u67d0\u4e2a\u5c5e\u6027 response.css('css\u9009\u62e9\u5668::text').extract() #\u83b7\u53d6\u6807\u7b7e\u91cc\u7684\u6587\u672c","title":"2\u3001\u4e86\u89e3scrapyShell"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#3settingspy","text":"","title":"3\u3001settings.py\u4e2d\u7684\u8bbe\u7f6e\u4fe1\u606f"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#31","text":"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b58\u653e\u4e00\u4e9b\u516c\u5171\u53d8\u91cf\uff0c\u5728\u540e\u7eed\u7684\u9879\u76ee\u4e2d\u65b9\u4fbf\u4fee\u6539\uff0c\u5982\uff1a\u672c\u5730\u6d4b\u8bd5\u6570\u636e\u5e93\u548c\u90e8\u7f72\u670d\u52a1\u5668\u7684\u6570\u636e\u5e93\u4e0d\u4e00\u81f4","title":"3.1 \u4e3a\u4ec0\u4e48\u9879\u76ee\u4e2d\u9700\u8981\u914d\u7f6e\u6587\u4ef6"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#32","text":"\u53d8\u91cf\u540d\u4e00\u822c\u5168\u90e8\u5927\u5199 \u5bfc\u5165\u5373\u53ef\u4f7f\u7528","title":"3.2 \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\u4f7f\u7528\u65b9\u6cd5"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#33-settingspy","text":"USER_AGENT \u8bbe\u7f6eua ROBOTSTXT_OBEY \u662f\u5426\u9075\u5b88robots\u534f\u8bae\uff0c\u9ed8\u8ba4\u662f\u9075\u5b88 CONCURRENT_REQUESTS \u8bbe\u7f6e\u5e76\u53d1\u8bf7\u6c42\u7684\u6570\u91cf\uff0c\u9ed8\u8ba4\u662f16\u4e2a DOWNLOAD_DELAY \u4e0b\u8f7d\u5ef6\u8fdf\uff0c\u9ed8\u8ba4\u65e0\u5ef6\u8fdf \uff08\u4e0b\u8f7d\u5668\u5728\u4ece\u540c\u4e00\u7f51\u7ad9\u4e0b\u8f7d\u8fde\u7eed\u9875\u9762\u4e4b\u524d\u5e94\u7b49\u5f85\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u9650\u5236\u722c\u884c\u901f\u5ea6\uff0c\u4ee5\u907f\u514d\u5bf9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u5f71\u54cd\uff09 COOKIES_ENABLED \u662f\u5426\u5f00\u542fcookie\uff0c\u5373\u6bcf\u6b21\u8bf7\u6c42\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\u7684 DEFAULT_REQUEST_HEADERS \u8bbe\u7f6e\u9ed8\u8ba4\u8bf7\u6c42\u5934\uff0c\u8fd9\u91cc\u52a0\u5165\u4e86USER_AGENT\u5c06\u4e0d\u8d77\u4f5c\u7528 SPIDER_MIDDLEWARES \u722c\u866b\u4e2d\u95f4\u4ef6\uff0c\u8bbe\u7f6e\u8fc7\u7a0b\u548c\u7ba1\u9053\u76f8\u540c DOWNLOADER_MIDDLEWARES \u4e0b\u8f7d\u4e2d\u95f4\u4ef6 LOG_LEVEL \u63a7\u5236\u7ec8\u7aef\u8f93\u51fa\u4fe1\u606f\u7684log\u7ea7\u522b\uff0c\u7ec8\u7aef\u9ed8\u8ba4\u663e\u793a\u7684\u662fdebug\u7ea7\u522b\u7684log\u4fe1\u606f LOG_LEVEL = \"WARNING\" CRITICAL \u4e25\u91cd ERROR \u9519\u8bef WARNING \u8b66\u544a INFO \u6d88\u606f DEBUG \u8c03\u8bd5 LOG_FILE \u8bbe\u7f6elog\u65e5\u5fd7\u6587\u4ef6\u7684\u4fdd\u5b58\u8def\u5f84\uff0c\u5982\u679c\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u7ec8\u7aef\u5c06\u4e0d\u518d\u663e\u793a\u4fe1\u606f LOG_FILE = \"./test.log\" \u5176\u4ed6\u8bbe\u7f6e\u53c2\u8003\uff1ahttps://www.jianshu.com/p/df9c0d1e9087","title":"3.3 settings.py\u4e2d\u7684\u91cd\u70b9\u5b57\u6bb5\u548c\u542b\u4e49"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#4pipeline","text":"\u4e4b\u524d\u6211\u4eec\u5728scrapy\u5165\u95e8\u4f7f\u7528\u4e00\u8282\u4e2d\u5b66\u4e60\u4e86\u7ba1\u9053\u7684\u57fa\u672c\u4f7f\u7528\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6df1\u5165\u7684\u5b66\u4e60scrapy\u7ba1\u9053\u7684\u4f7f\u7528","title":"4\u3001pipeline\u7ba1\u9053\u7684\u6df1\u5165\u4f7f\u7528"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#41","text":"\u4ee3\u7801\u914d\u7f6e /myspider/myspider/spiders/ITSpider.py ```python class ITSpider(scrapy.Spider): name = 'ITSpider' # allowed_domains = ['www.xxx.com'] start_urls = ['https://duanzixing.com/page/1/'] # \u901a\u8fc7\u7ec8\u7aef\u5199\u5165\u6587\u4ef6\u7684\u65b9\u5f0f def parse(self, response): article_list = response.xpath('/html/body/section/div/div/article') # \u521b\u5efa\u5217\u8868\uff0c \u5b58\u50a8\u6570\u636e all_data = [] for article in article_list: title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() dic = { 'title': title, 'con': con } all_data.append(dic) return all_data ``` \u7ec8\u7aef\u547d\u4ee4 scrapy crawl ITSpider -o ITSpider.csv \u5c06\u6587\u4ef6\u5b58\u50a8\u5230ITSpider.csv \u6587\u4ef6\u4e2d","title":"4.1 \u4f7f\u7528\u7ec8\u7aef\u547d\u4ee4\u884c\u8fdb\u884c\u5b58\u50a8"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#42","text":"","title":"4.2 \u4f7f\u7528\u7ba1\u9053\u5b58\u50a8\u5230\u6587\u4ef6\u4e2d"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#1-httpsmoviedoubancomchart","text":"","title":"(1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#2","text":"scrapy startproject doubanfile cd doubanfile scrapy genspider db movie.douban.com/chart","title":"(2) \u521b\u5efa\u5de5\u7a0b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#3","text":"\u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14","title":"(3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#4-settingspy","text":"LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False","title":"(4) \u914d\u7f6esettings.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#5-dbpy","text":"\u5148\u6293\u53d6\u6bcf\u4e00\u884c\u6570\u636e\u7684tr\u5217\u8868 import scrapy class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['https://movie.douban.com/chart'] start_urls = ['https://movie.douban.com/chart'] def parse(self, resp, **kwargs): print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') print(tr_list) \u6b64\u523b\u8fd0\u884c\u6253\u5370 srapy crawl db \u53d1\u73b0\u65e0\u4efb\u4f55\u6253\u5370\uff0c\u5c06LOG_LEVEL = 'ERROR' \u66f4\u6539\u4e3a INFO \uff0c\u53d1\u73b0\u6b64\u523b\u8bf7\u6c42\u6ca1\u6709\u6743\u9650 \u53d1\u73b0\u95ee\u9898\u6240\u5728\u540e\u4fee\u6539settings.py \u5728\u9ed8\u8ba4\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS \u4e2d\u6dfb\u52a0 User-Agent DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } \u518d\u6b21\u8bf7\u6c42\uff0c\u6210\u529f","title":"(5) db.py\u4e2d\u5b9e\u73b0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#6-dbpy","text":"import scrapy import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['https://movie.douban.com/chart'] start_urls = ['https://movie.douban.com/chart'] def parse(self, resp, **kwargs): # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 img_src = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 name = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 to_star = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first()","title":"(6) db.py\u5b8c\u6574\u5b9e\u73b0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#7-itemspy","text":"\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801 \u5c5e\u6027\u540d\u79f0\u548c\u5f53\u524d\u722c\u866bdb.py\u4e2d\u6293\u5230\u8981\u5b58\u50a8\u6570\u636e\u7684\u53d8\u91cf\u4e00\u81f4 \u5426\u5219\u62a5\u9519 import scrapy class DoubanfileItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field()","title":"(7) \u6253\u5f00items.py\u6587\u4ef6"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#8-dbpy","text":"import scrapy import re from doubanfile.items import DoubanfileItem class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['https://movie.douban.com/chart'] start_urls = ['https://movie.douban.com/chart'] def parse(self, resp, **kwargs): item = DoubanfileItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item \u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528yield\uff1f \u8ba9\u6574\u4e2a\u51fd\u6570\u53d8\u6210\u4e00\u4e2a\u751f\u6210\u5668\uff0c\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f \u904d\u5386\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7684\u65f6\u5019\uff0c\u6328\u4e2a\u628a\u6570\u636e\u8bfb\u5230\u5185\u5b58\uff0c\u4e0d\u4f1a\u9020\u6210\u5185\u5b58\u7684\u77ac\u95f4\u5360\u7528\u8fc7\u9ad8 python3\u4e2d\u7684range\u548cpython2\u4e2d\u7684xrange\u540c\u7406 \u6ce8\u610f\uff1ayield\u80fd\u591f\u4f20\u9012\u7684\u5bf9\u8c61\u53ea\u80fd\u662f\uff1aBaseItem,Request,dict,None","title":"(8) db.py \u518d\u6b21\u8fdb\u884c\u4fee\u6539"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#8","text":"pipeline\u4e2d\u5e38\u7528\u7684\u65b9\u6cd5\uff1a process_item(self,item,spider):\u5b9e\u73b0\u5bf9item\u6570\u636e\u7684\u5904\u7406 open_spider(self, spider): \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 close_spider(self, spider): \u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 settings.py \u6253\u5f00\u5f53\u524d\u6ce8\u91ca ITEM_PIPELINES = { 'doubanfile.pipelines.DoubanfilePipeline': 300, }","title":"(8) \u5f00\u542f\u7ba1\u9053"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#9-pipelinespy","text":"class DoubanfilePipeline: f = None def open_spider(self, item): self.f = open('./db.text', 'w') def process_item(self, item, spider): print(item) self.f.write(item['img_src']+'\\n') self.f.write(item['name']+'\\n') self.f.write(item['to_star']+'\\n') return item def close_spider(self, item): self.f.close() \u6ce8\u610f\uff1a \u5f53\u524dprocess_item\u4e2d\u7684return item\u5fc5\u987b\u5b58\u5728\uff0c\u5982\u679c\u5f53\u524d\u722c\u866b\u5b58\u5728\u4e8e\u591a\u4e2a\u7ba1\u9053\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u6709return item \u5219\u4e0b\u4e00\u4e2a\u7ba1\u9053\u4e0d\u80fd\u83b7\u53d6\u5230\u5f53\u524d\u7684item\u6570\u636e","title":"(9) \u5728pipelines.py\u4ee3\u7801\u4e2d\u5b8c\u5584\uff08\u8bbe\u7f6e\u6587\u4ef6\u5b58\u50a8\uff09"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#43-mysql","text":"","title":"4.3 \u5b58\u50a8\u5230MySQL\u6570\u636e\u5e93\u4e2d"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#1-httpsmoviedoubancomchart_1","text":"","title":"(1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#2_1","text":"scrapy startproject doubanmysql cd doubanmysql scrapy genspider db movie.douban.com/chart","title":"(2) \u521b\u5efa\u5de5\u7a0b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#3_1","text":"\u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14","title":"(3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#4-settingspy_1","text":"# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'doubanmysql.pipelines.DoubanmysqlPipeline': 300, }","title":"(4) \u914d\u7f6esettings.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#5","text":"create database douban character set utf8; use douban CREATE TABLE `douban` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `img_src` varchar(200) NOT NULL COMMENT '\u5c01\u9762\u5730\u5740', `name` varchar(50) NOT NULL COMMENT '\u7535\u5f71\u540d\u79f0', `to_star` varchar(250) NOT NULL COMMENT '\u4e3b\u6f14', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 \u793a\u4f8bSQL\u8bed\u53e5 insert into info(img_src, name, to_star) values(\"https://img9.doubanio.com/view/photo/s_ratio_poster/public/p2673202034.webp\", \"\u5c3c\u7f57\u6cb3\u4e0a\u7684\u60e8\u6848 Death on the Nile\", \"\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3\", \"\u8fc8\u514b\u5c14\u00b7\u683c\u6797 / \u963f\u52a0\u838e\u00b7\u514b\u91cc\u65af\u8482\", \"\u80af\u5c3c\u601d\u00b7\u5e03\u62c9\u7eb3\u827e\u739b\u00b7\u9ea6\u57fa/\u827e\u7c73\u00b7\u6c49\u83ab/\u73cd\u59ae\u5f17\u00b7\u6851\u5fb7\u65af/\u82cf\u83f2\u00b7\u5965\u5eb7\u5185\u591a/\u5b89\u59ae\u7279\u00b7\u8d1d\u5b81/\u59ae\u57fa\u5854\u00b7\u67e5\u8fbe\u54c8/\u6c64\u59c6\u00b7\u5df4\u7279\u66fc/\u4e9a\u5f53\u00b7\u52a0\u897f\u4e9a/\u6c49/\u7231\u5fb7\u534e\u00b7\u5218\u6613\u65af\u00b7\u5f17\u4f26\u5947/\u62c9\u666e\u6d1b\u65af\u00b7\u5361\u4f26\u798f\u4f50\u65af\")","title":"(5) \u521b\u5efa\u8c46\u74e3\u6570\u636e\u5e93"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#6-itemspy","text":"import scrapy class DoubanmysqlItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field()","title":"(6) items.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#7-dbpy","text":"import scrapy from doubanmysql.items import DoubanmysqlItem import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): item = DoubanmysqlItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item","title":"(7) db.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#8_1","text":"from itemadapter import ItemAdapter import pymysql class DoubanmysqlPipeline: db = None cursor = None def open_spider(self, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b\uff0c\u4e0d\u662fdb\u722c\u866b\u5219\u4e0b\u9762\u4ee3\u7801\u4e0d\u6267\u884c # \u5f53\u524d\u4ec5\u9650\u4e8e\u4e00\u4e2ascrapy\u4e0b\u6709\u591a\u4e2a\u722c\u866b\u5de5\u7a0b if spider.name == 'db': self.db = pymysql.connect(host='127.0.0.1', port=3306, db='douban', user='root', passwd='123456', charset='utf8') self.cursor = self.db.cursor() def process_item(self, item, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b if spider.name == 'db': try: sql = f'insert into douban(img_src, name, to_star) values(\"{item[\"img_src\"]}\", \"{item[\"name\"]}\", \"{item[\"to_star\"]}\")' self.cursor.execute(sql) self.db.commit() except Exception as e: print(e) print(sql) self.db.rollback() return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.db.close()","title":"(8) \u7ba1\u9053\u4ee3\u7801"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#9","text":"scrapy crawl db \u67e5\u770b\u7ec8\u7aef\u6570\u636e\u662f\u5426\u6709\u62a5\u9519\uff0c\u5982\u679c\u6ca1\u6709\u62a5\u9519\u67e5\u770b\u6570\u636e\u5e93\u6570\u636e\u662f\u5426\u5b58\u50a8\u6210\u529f","title":"(9) \u8fd0\u884c\u722c\u866b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#44-mongodb","text":"","title":"4.4 \u5b58\u50a8\u5230MongoDB\u6570\u636e\u5e93\u4e2d"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#1-httpsmoviedoubancomchart_2","text":"","title":"(1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#2_2","text":"scrapy startproject doubanmongodb cd doubanmongodb scrapy genspider db movie.douban.com/chart","title":"(2) \u521b\u5efa\u5de5\u7a0b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#3_2","text":"\u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14","title":"(3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#4-settingspy_2","text":"# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'doubanmongodb.pipelines.DoubanmongodbPipeline': 300, }","title":"(4) \u914d\u7f6esettings.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#5-itemspy","text":"import scrapy class DoubanmongodbItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field()","title":"(5) items.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#6-dbpy_1","text":"import scrapy from doubanmongodb.items import DoubanmongodbItem import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): item = DoubanmongodbItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item","title":"(6) db.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#7","text":"from itemadapter import ItemAdapter from pymongo import MongoClient class DoubanmongodbPipeline: con = None collection = None def open_spider(self, spider): # \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 if spider.name == 'db': self.con = MongoClient(host='127.0.0.1', port=27017) # \u5b9e\u4f8b\u5316mongoclient self.collection = self.con.spider.douban # \u521b\u5efa\u6570\u636e\u5e93\u540d\u4e3aspider,\u96c6\u5408\u540d\u4e3adouban\u7684\u96c6\u5408\u64cd\u4f5c\u5bf9\u8c61 def process_item(self, item, spider): if spider.name == 'db': # print(spider.name) self.collection.insert_one(dict(item)) # \u6b64\u65f6item\u5bf9\u8c61\u9700\u8981\u5148\u8f6c\u6362\u4e3a\u5b57\u5178,\u518d\u63d2\u5165 # \u4e0dreturn\u7684\u60c5\u51b5\u4e0b\uff0c\u53e6\u4e00\u4e2a\u6743\u91cd\u8f83\u4f4e\u7684pipeline\u5c06\u4e0d\u4f1a\u83b7\u5f97item return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.con.close() \u6ce8\u610f\uff1a \u9700\u8981\u5f00\u542fmongo\u670d\u52a1 mongod.exe --dbpath=C:/User/xxx/db \u65b0\u5f00\u7ec8\u7aef mongo.exe","title":"(7) \u7ba1\u9053\u4ee3\u7801"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#8_2","text":"scrapy crawl db \u67e5\u770b\u7ec8\u7aef\u6570\u636e\u662f\u5426\u6709\u62a5\u9519\uff0c\u5982\u679c\u6ca1\u6709\u62a5\u9519\u67e5\u770b\u6570\u636e\u5e93\u6570\u636e\u662f\u5426\u5b58\u50a8\u6210\u529f","title":"(8) \u8fd0\u884c\u722c\u866b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#45-mysqlmongodb","text":"","title":"4.5 \u6570\u636e\u540c\u65f6\u5b58\u50a8\u5230\u6587\u4ef6\u3001MySQL\u3001MongoDB\u4e2d"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#1-httpsmoviedoubancomchart_3","text":"","title":"(1) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#2_3","text":"scrapy startproject douban cd douban scrapy genspider db movie.douban.com/chart","title":"(2) \u521b\u5efa\u5de5\u7a0b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#3_3","text":"\u6293\u53d6\uff1a \u5c01\u9762 \u7535\u5f71\u540d\u79f0 \u4e3b\u6f14","title":"(3) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#4-settingspy_3","text":"# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'douban.pipelines.DoubanPipeline': 300, }","title":"(4) \u914d\u7f6esettings.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#5-itemspy_1","text":"import scrapy class DoubanItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() img_src = scrapy.Field() name = scrapy.Field() to_star = scrapy.Field()","title":"(5) items.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#6-dbpy_2","text":"import scrapy from douban.items import DoubanItem import re class DbSpider(scrapy.Spider): name = 'db' allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): item = DoubanItem() # \u5b9e\u4f8b\u5316item\u7c7b # print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u5c01\u9762 item['img_src'] = tr.xpath('./td[1]/a/img/@src').extract_first() # \u7535\u5f71\u540d\u79f0 name = tr.xpath('./td[2]/div[@class=\"pl2\"]/a//text()').extract_first() # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528replace\u66ff\u6362 # name = name.replace('\\n', '').replace('\\r', '').replace('/', '').replace(' ', '') # \u53bb\u9664\u7a7a\u767d\u5b57\u7b26\u4f7f\u7528\u6b63\u5219\u66ff\u6362 item['name'] = re.sub('(/)|(\\s)', '', name) # \u4e3b\u6f14 item['to_star'] = tr.xpath('./td[2]/div[@class=\"pl2\"]/p[@class=\"pl\"]/text()').extract_first() yield item","title":"(6) db.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#7_1","text":"# Define your item pipelines here # # Don't forget to add your pipeline to the ITEM_PIPELINES setting # See: https://docs.scrapy.org/en/latest/topics/item-pipeline.html # useful for handling different item types with a single interface from itemadapter import ItemAdapter import pymysql from pymongo import MongoClient class DoubanFilePipeline: ''' \u8bbe\u7f6e\u6587\u4ef6\u5b58\u50a8 ''' f = None def open_spider(self, item): self.f = open('./db.text', 'w') def process_item(self, item, spider): print(item) self.f.write(item['img_src'] + '\\n') self.f.write(item['name'] + '\\n') self.f.write(item['to_star'] + '\\n') return item def close_spider(self, item): self.f.close() class DoubanmysqlPipeline: ''' \u5b58\u50a8\u5230MySQL\u6570\u636e\u5e93\u4e2d ''' db = None cursor = None def open_spider(self, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b\uff0c\u4e0d\u662fdb\u722c\u866b\u5219\u4e0b\u9762\u4ee3\u7801\u4e0d\u6267\u884c # \u5f53\u524d\u4ec5\u9650\u4e8e\u4e00\u4e2ascrapy\u4e0b\u6709\u591a\u4e2a\u722c\u866b\u5de5\u7a0b if spider.name == 'db': self.db = pymysql.connect(host='127.0.0.1', port=3306, db='douban', user='root', passwd='123456', charset='utf8') self.cursor = self.db.cursor() def process_item(self, item, spider): # \u5224\u65ad\u5f53\u524d\u8fd0\u884c\u7684\u662f\u5426\u4e3adb\u722c\u866b if spider.name == 'db': try: sql = f'insert into douban(img_src, name, to_star) values(\"{item[\"img_src\"]}\", \"{item[\"name\"]}\", \"{item[\"to_star\"]}\")' self.cursor.execute(sql) self.db.commit() except Exception as e: print(e) print(sql) self.db.rollback() return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.db.close() class DoubanmongodbPipeline: ''' \u5b58\u50a8\u5230MongoDB\u6570\u636e\u5e93\u4e2d ''' con = None collection = None def open_spider(self, spider): # \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 if spider.name == 'db': self.con = MongoClient(host='127.0.0.1', port=27017) # \u5b9e\u4f8b\u5316mongoclient self.collection = self.con.spider.douban # \u521b\u5efa\u6570\u636e\u5e93\u540d\u4e3aspider,\u96c6\u5408\u540d\u4e3adouban\u7684\u96c6\u5408\u64cd\u4f5c\u5bf9\u8c61 def process_item(self, item, spider): if spider.name == 'db': # print(spider.name) self.collection.insert_one(dict(item)) # \u6b64\u65f6item\u5bf9\u8c61\u9700\u8981\u5148\u8f6c\u6362\u4e3a\u5b57\u5178,\u518d\u63d2\u5165 # \u4e0dreturn\u7684\u60c5\u51b5\u4e0b\uff0c\u53e6\u4e00\u4e2a\u6743\u91cd\u8f83\u4f4e\u7684pipeline\u5c06\u4e0d\u4f1a\u83b7\u5f97item return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.con.close()","title":"(7) \u7ba1\u9053\u4ee3\u7801"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#8-settingspy","text":"ITEM_PIPELINES = { 'douban.pipelines.DoubanFilePipeline': 300, # 300\u8868\u793a\u6743\u91cd 'douban.pipelines.DoubanmysqlPipeline': 400, 'douban.pipelines.DoubanmongodbPipeline': 500, } \u60a8\u5728\u6b64\u8bbe\u7f6e\u4e2d\u5206\u914d\u7ed9\u7c7b\u7684\u6574\u6570\u503c\u51b3\u5b9a\u4e86\u5b83\u4eec\u8fd0\u884c\u7684\u987a\u5e8f\uff1a\u9879\u76ee\u4ece\u4f4e\u503c\u5230\u9ad8\u503c\u7684\u7c7b\u3002\u901a\u5e38\u5c06\u8fd9\u4e9b\u6570\u5b57\u5b9a\u4e49\u5728 0-1000 \u8303\u56f4\u5185\u3002 \u601d\u8003\uff1apipeline\u5728settings\u4e2d\u80fd\u591f\u5f00\u542f\u591a\u4e2a\uff0c\u4e3a\u4ec0\u4e48\u9700\u8981\u5f00\u542f\u591a\u4e2a\uff1f \u4e0d\u540c\u7684pipeline\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u722c\u866b\u7684\u6570\u636e\uff0c\u901a\u8fc7spider.name\u5c5e\u6027\u6765\u533a\u5206 \u4e0d\u540c\u7684pipeline\u80fd\u591f\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u722c\u866b\u8fdb\u884c\u4e0d\u540c\u7684\u6570\u636e\u5904\u7406\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u4e00\u4e2a\u8fdb\u884c\u6570\u636e\u6e05\u6d17\uff0c\u4e00\u4e2a\u8fdb\u884c\u6570\u636e\u7684\u4fdd\u5b58 \u540c\u4e00\u4e2a\u7ba1\u9053\u7c7b\u4e5f\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u722c\u866b\u7684\u6570\u636e\uff0c\u901a\u8fc7spider.name\u5c5e\u6027\u6765\u533a\u5206","title":"(8) \u4fee\u6539settings.py \u6dfb\u52a0\u7ba1\u9053"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#46-pipeline","text":"\u4f7f\u7528\u4e4b\u524d\u9700\u8981\u5728settings\u4e2d\u5f00\u542f pipeline\u5728setting\u4e2d\u952e\u8868\u793a\u4f4d\u7f6e(\u5373pipeline\u5728\u9879\u76ee\u4e2d\u7684\u4f4d\u7f6e\u53ef\u4ee5\u81ea\u5b9a\u4e49)\uff0c\u503c\u8868\u793a\u8ddd\u79bb\u5f15\u64ce\u7684\u8fdc\u8fd1\uff0c\u8d8a\u8fd1\u6570\u636e\u4f1a\u8d8a\u5148\u7ecf\u8fc7 \u6709\u591a\u4e2apipeline\u7684\u65f6\u5019\uff0cprocess_item\u7684\u65b9\u6cd5\u5fc5\u987breturn item,\u5426\u5219\u540e\u4e00\u4e2apipeline\u53d6\u5230\u7684\u6570\u636e\u4e3aNone\u503c pipeline\u4e2dprocess_item\u7684\u65b9\u6cd5\u5fc5\u987b\u6709\uff0c\u5426\u5219item\u6ca1\u6709\u529e\u6cd5\u63a5\u53d7\u548c\u5904\u7406 process_item\u65b9\u6cd5\u63a5\u53d7item\u548cspider\uff0c\u5176\u4e2dspider\u8868\u793a\u5f53\u524d\u4f20\u9012item\u8fc7\u6765\u7684spider open_spider(spider) :\u80fd\u591f\u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u6267\u884c\u4e00\u6b21 close_spider(spider) :\u80fd\u591f\u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u6267\u884c\u4e00\u6b21 \u4e0a\u8ff0\u4fe9\u4e2a\u65b9\u6cd5\u7ecf\u5e38\u7528\u4e8e\u722c\u866b\u548c\u6570\u636e\u5e93\u7684\u4ea4\u4e92\uff0c\u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u5efa\u7acb\u548c\u6570\u636e\u5e93\u7684\u8fde\u63a5\uff0c\u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u65ad\u5f00\u548c\u6570\u636e\u5e93\u7684\u8fde\u63a5","title":"4.6 pipeline\u4f7f\u7528\u6ce8\u610f\u70b9"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#47","text":"debug\u80fd\u591f\u5c55\u793a\u5f53\u524d\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001 scrapy shell\u80fd\u591f\u5b9e\u73b0xpath\u7684\u6d4b\u8bd5\u548c\u5bf9\u8c61\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5c1d\u8bd5 scrapy\u7684settings.py\u80fd\u591f\u5b9e\u73b0\u5404\u79cd\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\uff0c\u6bd4\u5982\u4e0b\u8f7d\u5ef6\u8fdf\u548c\u8bf7\u6c42\u5934\u7b49 \u7ba1\u9053\u80fd\u591f\u5b9e\u73b0\u6570\u636e\u7684\u6e05\u6d17\u548c\u4fdd\u5b58\uff0c\u80fd\u591f\u5b9a\u4e49\u591a\u4e2a\u7ba1\u9053\u5b9e\u73b0\u4e0d\u540c\u7684\u529f\u80fd\uff0c\u5176\u4e2d\u6709\u4e2a\u4e09\u4e2a\u65b9\u6cd5 process_item(self,item,spider):\u5b9e\u73b0\u5bf9item\u6570\u636e\u7684\u5904\u7406 open_spider(self, spider): \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 close_spider(self, spider): \u5728\u722c\u866b\u5173\u95ed\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21","title":"4.7 \u603b\u7ed3"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#5_1","text":"","title":"5\u3001\u6293\u53d6\u8be6\u60c5\u9875"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#1","text":"\u5728\u4e4b\u524d\u7684\u6293\u53d6\u4e2d\u6211\u4eec\u90fd\u662f\u6293\u53d6\u5f53\u524d\u518d\u751f\u6210spider\u65f6\u5019\u7684\u7f51\u5740\u4e2d\u7684\u6570\u636e\uff0c\u90a3\u5982\u679c\u6211\u4eec\u60f3\u8981\u8bbf\u95ee\u5f53\u524d\u6570\u636e\u4e2d\u7684\u5b50\u9875\u9762\u7684\u6570\u636e\uff0c\u90a3\u53c8\u8be5\u5982\u4f55\u64cd\u4f5c\u5462\uff0c\u56de\u5fc6\u4e0b\u6211\u4eec\u5728\u524d\u9762requests\u8bfe\u7a0b\u4e2d\u662f\u5982\u4f55\u6293\u53d6\u5b50\u9875\u9762\u6570\u636e\u7684 \u601d\u8def\uff1a \u5148\u5bf9\u7b2c\u4e00\u5c42url\u8fdb\u884c\u8bf7\u6c42 \u8bf7\u6c42\u8fd4\u56de\u6570\u636e\u8fdb\u884c\u89e3\u6790\u5faa\u73af \u627e\u5230\u6bcf\u4e00\u6761\u5b50\u9875\u9762\u7684url \u627e\u5230\u5b50\u9875\u9762\u7684url\u4ee5\u540e\u8fdb\u884c\u518d\u6b21\u8bf7\u6c42 \u8bf7\u6c42\u89e3\u6790\u5b50\u9875\u9762\u8bf7\u6c42\u8fd4\u56de\u7684\u6570\u636e \u7ed3\u675f \u90a3\u4e48\u5728\u6211\u4eecscrapy\u4e2d\u7684\u601d\u8def\u4e5f\u662f\u4e00\u6837\u7684\uff0c\u901a\u8fc7\u6293\u53d6\u5f53\u524d\u7b2c\u4e00\u5c42\u9875\u9762\u4e2d\u89e3\u6790\u51fa\u6765\u7684\u5b50\u9875\u9762\u7684\u6570\u636e\uff0c\u5728\u901a\u8fc7scrapy.Rquests\u8fdb\u884c\u5b50\u9875\u9762\u7684\u8bf7\u6c42\uff0c\u90a3\u6211\u4eec\u4e86\u89e3\u4e86\u5f53\u524d\u6293\u53d6\u7684\u601d\u8def\uff0c\u5c31\u5f00\u59cb\u6211\u4eecscrapy\u5b50\u9875\u9762\u7684\u8bf7\u6c42\u4e0e\u6293\u53d6\u5427","title":"(1) \u6982\u8ff0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#2-httpsmoviedoubancomchart","text":"","title":"(2) \u6293\u53d6\u7f51\u7ad9\uff1ahttps://movie.douban.com/chart"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#3_4","text":"scrapy startproject doubandetail cd doubandetail scrapy genspider db movie.douban.com/chart","title":"(3) \u521b\u5efa\u5de5\u7a0b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#4","text":"\u6293\u53d6\uff1a \u7535\u5f71\u540d\u79f0 \u5bfc\u6f14 \u7f16\u5267 \u4e3b\u6f14 \u7c7b\u578b \u5236\u7247\u56fd\u5bb6\u5730\u533a \u8bed\u8a00 \u5267\u60c5\u7b80\u4ecb \u901a\u8fc7\u7b2c\u4e00\u5c42\u5339\u914d\u5230\u7684\u5b50\u9875\u9762\u7684url\u8fdb\u884c\u8bf7\u6c42\u8be6\u60c5\u9875\u7684url\u6570\u636e","title":"(4) \u6293\u53d6\u9700\u6c42\u4e0e\u5b9e\u73b0"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#_2","text":"","title":""},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#5-settingspy","text":"# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False COOKIES_ENABLED = False # cookies\u7684\u4e2d\u95f4\u4ef6\u5c06\u4e0d\u8d77\u4f5c\u7528\uff0c\u4e0b\u9762\u7684cookie\u8d77\u4f5c\u7528 # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36', 'Cookie': '\u8bbe\u5b9acookie \u9632\u6b62\u53cd\u6252' } # \u5f00\u542f\u7ba1\u9053 ITEM_PIPELINES = { 'doubandetail.pipelines.DoubandetailPipeline': 300, }","title":"(5) \u914d\u7f6esettings.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#6-dbpy_3","text":"\u6982\u8ff0 \u56e0\u4e3a\u5f53\u524d\u9700\u8981\u5bf9\u8be6\u60c5\u9875\u9762\u518d\u6b21\u8bf7\u6c42\u4ee5\u83b7\u53d6\u8be6\u60c5\u9875\u6570\u636e\uff0c\u8bf7\u6c42\u601d\u8def\u548c\u4e4b\u524drequests\u4e00\u6837\uff0c\u53ea\u662f\u5728\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 yield scrapy.Request() \u8fdb\u884c\u8bf7\u6c42 \u9ed8\u8ba4\u8bf7\u6c42\u65b9\u5f0f\u4e3aget yield scrapy.Request(url, callback=self.parse_deatil) url\uff1a\u4e3a\u518d\u6b21\u8bf7\u6c42\u7684URL\u5730\u5740 meta : \u5b9e\u73b0\u6570\u636e\u5728\u4e0d\u540c\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\uff0cmeta\u9ed8\u8ba4\u5e26\u6709\u90e8\u5206\u6570\u636e\uff0c\u6bd4\u5982\u4e0b\u8f7d\u5ef6\u8fdf\u3001\u8bf7\u6c42\u6df1\u5ea6\u7b49\uff08\u7528\u4e8e\u89e3\u6790\u65b9\u6cd5\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u9012\uff0c\u5e38\u7528\u5728\u4e00\u6761\u6570\u636e\u5206\u6563\u5728\u591a\u4e2a\u4e0d\u540c\u7ed3\u6784\u7684\u9875\u9762\u4e2d\u7684\u60c5\u51b5\uff09 callback\uff1a\u8868\u793a\u5f53\u524d\u7684url\u54cd\u5e94\u4ea4\u7ed9\u54ea\u4e2a\u51fd\u6570\u53bb\u5904\u7406\uff08\u9ed8\u8ba4\u4e3aparse\u51fd\u6570\uff09 method: \u8bf7\u6c42\u65b9\u5f0f \u6307\u5b9aPOST\u6216GET\u8bf7\u6c42 errback: \u62a5\u9519\u56de\u8c03 dont_filter: \u9ed8\u8ba4\u4e3aFalse\uff0c\u4f1a\u8fc7\u6ee4\u8bf7\u6c42\u7684url\u5730\u5740\uff0c\u5373\u8bf7\u6c42\u8fc7\u7684url\u5730\u5740\u4e0d\u4f1a\u7ee7\u7eed\u88ab\u8bf7\u6c42\uff0c\u5bf9\u9700\u8981\u91cd\u590d\u8bf7\u6c42\u7684url\u5730\u5740\u53ef\u4ee5\u628a\u5b83\u8bbe\u7f6e\u4e3aTrue\uff0cstart_urls\u4e2d\u7684\u5730\u5740\u4f1a\u88ab\u53cd\u590d\u8bf7\u6c42\uff0c\u5426\u5219\u7a0b\u5e8f\u4e0d\u4f1a\u542f\u52a8 headers: \u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u5176\u4e2d\u4e0d\u5305\u62eccookies cookies: \u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u4e13\u95e8\u653e\u7f6ecookies body\uff1a\u63a5\u6536json\u5b57\u7b26\u4e32\uff0c\u4e3apost\u7684\u6570\u636e\u53d1\u9001payload_post\u8bf7\u6c42 meta\u4f7f\u7528\u5b9e\u4f8b \u5728\u722c\u866b\u6587\u4ef6\u7684parse\u65b9\u6cd5\u4e2d\uff0c\u589e\u52a0\u4e00\u4e2a\u51fd\u6570parse_detail\u51fd\u6570\uff08\u7528\u6765\u89e3\u6790\u53e6\u4e00\u4e2a\u9875\u9762\uff09\uff1a ```python def parse(self,response): ... yield scrapy.Request(detail_url, callback=self.parse_detail,meta={\"item\":item}) ... def parse_detail(self,response): #\u83b7\u53d6\u4e4b\u524d\u4f20\u5165\u7684item item = resposne.meta[\"item\"] ``` \u5c31\u76f8\u5f53\u4e8e\uff0c\u628aparse\u4e2d\u89e3\u6790\u7684\u6570\u636e\u5b58\u5230\u4e86meta\u5b57\u5178\u4e2d\uff0c\u5bf9\u5e94\u7684key\u4e3aitem\uff1b\u800c\u5728\u53e6\u4e00\u4e2a\u51fd\u6570\uff08parse_detail\uff09\u4e2d\uff0c\u901a\u8fc7meta\u5b57\u5178\u4e2d\u7684key\uff1aitem\u6765\u63d0\u53d6parse\u4e2d\u7684\u6570\u636e\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u9875\u9762\u6570\u636e\u7684\u62fc\u63a5 \u6ce8\u610f\uff1a meta\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178 meta\u5b57\u5178\u4e2d\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u952eproxy\uff0c\u8868\u793a\u4ee3\u7406ip \u4ee3\u7801\u5b9e\u73b0 ```python import scrapy from doubandetail.items import DoubandetailItem import re class DbSpider(scrapy.Spider): name = 'db' # \u9700\u8981\u6ce8\u91ca\u6389 # allowed_domains = ['movie.douban.com/chart'] start_urls = ['http://movie.douban.com/chart/'] def parse(self, resp, **kwargs): print(resp.text) # \u5148\u83b7\u53d6\u5230\u6bcf\u4e00\u884c\u6570\u636e\u7684tr tr_list = resp.xpath('//div[@class=\"indent\"]/div/table/tr[@class=\"item\"]') for tr in tr_list: # \u83b7\u53d6\u6bcf\u4e2a\u8be6\u60c5\u9875\u7684url detail_url = tr.xpath('./td[1]/a/@href').extract_first() # \u8bf7\u6c42\u5b50\u9875\u9762 print(detail_url) yield scrapy.Request(detail_url, callback=self.parse_deatil) # \u89e3\u6790\u5b50\u9875\u9762\u6570\u636e def parse_deatil(self, response): # \u9ed8\u8ba4\u643a\u5e26\u6211\u4eecsettings.py\u4e2d\u6240\u914d\u7f6e\u7684\u8bf7\u6c42\u5934\u8fdb\u884c\u8bf7\u6c42 # print(response.request.headers) item = DoubandetailItem() item['name'] = response.xpath('//*[@id=\"content\"]/h1/span[1]/text()').extract_first() # \u7535\u5f71\u540d\u79f0 item['director'] = response.xpath('//*[@id=\"info\"]/span[1]/span[2]/a/text()').extract_first() # \u5bfc\u6f14 item['screenwriter'] = ''.join(response.xpath('//*[@id=\"info\"]/span[2]/span[2]//text()').extract()) # \u7f16\u5267 item['to_star'] = ''.join(response.xpath('//*[@id=\"info\"]/span[3]/span[2]//text()').extract()) # \u4e3b\u6f14 item['type'] = '/'.join(response.xpath('//span[@property=\"v:genre\"]//text()').extract()) # \u7c7b\u578b item['producer_country'] = response.xpath( \"//div[@id='info']/span[text()='\u5236\u7247\u56fd\u5bb6/\u5730\u533a:']/following-sibling::text()[1]\").extract_first() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: item['language'] = response.xpath( \"//div[@id='info']/span[text()='\u8bed\u8a00:']/following-sibling::text()[1]\").extract_first() # \u8bed\u8a00 link_report = response.xpath('//span[@property=\"v:summary\"]//text()').extract_first() # \u5267\u60c5\u7b80\u4ecb item['link_report'] = re.sub('(/)|(\\s)|(\\u3000)|(\\'\\n\\')', '', link_report) print(item) return item ``` \u6ce8\u610f\uff1a \u9700\u8981\u5c06allowed_domains\u6ce8\u91ca\u6389\uff0c\u5426\u5219\u8be6\u60c5\u9875url\u4e0d\u7b26\u5408\u5f53\u524d\u5141\u8bb8\uff0c\u6240\u4ee5\u4f1a\u51fa\u73b0\u4e0d\u8bf7\u6c42\u7684\u95ee\u9898","title":"(6) db.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#7-itemspy_1","text":"import scrapy class DoubandetailItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() name = scrapy.Field() # \u7535\u5f71\u540d\u79f0 director = scrapy.Field() # \u5bfc\u6f14 screenwriter = scrapy.Field() # \u7f16\u5267 to_star = scrapy.Field() # \u4e3b\u6f14 type = scrapy.Field() # \u7c7b\u578b producer_country = scrapy.Field() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: language = scrapy.Field() # \u8bed\u8a00 link_report = scrapy.Field() # \u5267\u60c5\u7b80\u4ecb","title":"(7) items.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#8_3","text":"# Define your item pipelines here # # Don't forget to add your pipeline to the ITEM_PIPELINES setting # See: https://docs.scrapy.org/en/latest/topics/item-pipeline.html # useful for handling different item types with a single interface from itemadapter import ItemAdapter from pymongo import MongoClient class DoubandetailPipeline: con = None collection = None def open_spider(self, spider): # \u5728\u722c\u866b\u5f00\u542f\u7684\u65f6\u5019\u4ec5\u6267\u884c\u4e00\u6b21 self.con = MongoClient(host='127.0.0.1', port=27017) # \u5b9e\u4f8b\u5316mongoclient self.collection = self.con.spider.douban # \u521b\u5efa\u6570\u636e\u5e93\u540d\u4e3aspider,\u96c6\u5408\u540d\u4e3adouban\u7684\u96c6\u5408\u64cd\u4f5c\u5bf9\u8c61 def process_item(self, item, spider): print(item) self.collection.insert_one(dict(item)) # \u6b64\u65f6item\u5bf9\u8c61\u9700\u8981\u5148\u8f6c\u6362\u4e3a\u5b57\u5178,\u518d\u63d2\u5165 return item def close_spider(self, item): # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 self.con.close() \u6ce8\u610f\uff1a \u5982\u679c\u8bbf\u95ee\u9891\u7387\u8fc7\u9ad8\u88ab\u7981\u6b62\u8bbf\u95ee\uff0c\u53ef\u4ee5\u643a\u5e26\u767b\u5f55\u540e\u7684cooki\u8fdb\u884c\u8bbf\u95ee","title":"(8) \u7ba1\u9053\u4ee3\u7801"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#6","text":"","title":"6\u3001\u4e0b\u8f7d\u56fe\u7247"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#1_1","text":"pip3 install pillow","title":"(1) \u5b89\u88c5\u6a21\u5757"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#2_4","text":"https://desk.zol.com.cn/dongman/","title":"(2) \u6293\u53d6\u7f51\u5740"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#3_5","text":"scrapy startproject desk cd desk scrapy genspider img desk.zol.com.cn/dongman","title":"(3) \u521b\u5efa\u5de5\u7a0b"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#4-settingspy_4","text":"# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False # \u8bbe\u7f6e\u8bf7\u6c42\u5934 DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' }","title":"(4) \u914d\u7f6esettings.py"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#5-imgpy","text":"\u601d\u8def\uff1a \u6293\u53d6\u5230\u8be6\u60c5\u9875\u4e2d\u56fe\u7247\u7684url\u5730\u5740\uff0c\u4ea4\u7ed9\u56fe\u7247\u7ba1\u9053\u8fdb\u884c\u4e0b\u8f7d import scrapy from urllib.parse import urljoin class ImgSpider(scrapy.Spider): name = 'img' # allowed_domains = ['desk.zol.com.cn/dongman'] start_urls = ['http://desk.zol.com.cn/dongman/'] def parse(self, resp, **kwargs): # \u5148\u6293\u53d6\u5230\u6bcf\u4e2a\u56fe\u7247\u8be6\u60c5\u7684url url_list = resp.xpath('//ul[@class=\"pic-list2 clearfix\"]/li/a/@href').extract() # \u83b7\u53d6\u5230url\u5217\u8868\u540e \u8fdb\u884c\u5faa\u73af\u8fdb\u884c\u6bcf\u4e00\u4e2aurl\u8be6\u60c5\u9875\u7684\u8bf7\u6c42 for url in url_list: # \u56e0\u4e3a\u6293\u53d6\u5230\u7684url\u5e76\u4e0d\u5b8c\u6574\uff0c\u9700\u8981\u8fdb\u884c\u624b\u52a8\u62fc\u63a5 # urljoin('https://desk.zol.com.cn/dongman/', '/bizhi/8301_103027_2.html') url = urljoin('https://desk.zol.com.cn/dongman/', url) # \u62fc\u51d1\u5b8c\u53d1\u73b0\u5f53\u524durl\u4e2d\u6709\u4e0b\u8f7dexe\u7684url\uff0c\u5c06\u5176\u53bb\u9664 if url.find('exe') != -1: continue yield scrapy.Request(url, callback=self.parse_detail) # \u5bf9\u8be6\u60c5\u9875\u8fdb\u884c\u89e3\u6790 def parse_detail(self, resp): # \u83b7\u53d6\u5f53\u524d\u8be6\u60c5\u9875\u4e2d\u6700\u5927\u5c3a\u5bf8\u56fe\u7247\u7684url max_img_url = resp.xpath('//dd[@id=\"tagfbl\"]/a/@href').extract() # \u5224\u65ad\u5f53\u524d\u6700\u5927\u56fe\u7247\u7684url\u5730\u5740\uff0c\u4e3a\u5012\u6570\u7b2c\u4e8c\u4e2a\uff0c\u5982\u679c\u5f53\u524d\u56fe\u7247\u5217\u8868url\u957f\u5ea6\u5c0f\u4e8e2 \u5219\u5f53\u524d\u8bc1\u660e\u4e0d\u662f\u56fe\u7247\u7684url if len(max_img_url) > 2: max_img_url = urljoin('https://desk.zol.com.cn/', max_img_url[0]) # \u5bf9url\u9875\u9762\u8fdb\u884c\u8bf7\u6c42 \u83b7\u53d6\u6700\u7ec8\u5927\u56fe\u7684\u9875\u9762 yield scrapy.Request(max_img_url, callback=self.parse_img_detail) def parse_img_detail(self, resp): # \u89e3\u6790\u51fa\u5927\u56fe\u7684url img_src = resp.xpath(\"//img[1]/@src\").extract_first() return {'img_src': img_src} \u6ce8\u610f\uff1a \u5982\u679c\u6293\u53d6\u8fc7\u7a0b\u4e2d\u9047\u5230\u5982\u4e0b\u62a5\u9519\uff0c\u53ef\u80fd\u662fcryptography \u7248\u672c\u95ee\u9898 twisted.web._newclient.ResponseNeverReceived: [<twisted.python.failure.Failure OpenSSL.SSL.Error: [('SSL routines', '', 'unsafe legacy renegotiation disabled')]>] \u89e3\u51b3\uff1a pip uninstall cryptography pip install cryptography==36.0.2","title":"(5) img.py \u722c\u866b\u4ee3\u7801\u4e66\u5199"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#6_1","text":"\u6253\u5f00Pipelines\u6587\u4ef6\u5939 \u56e0\u4e3a\u6211\u4eec\u4e0d\u80fd\u518d\u50cf\u4e4b\u524d\u5b58\u50a8\u6587\u672c\u4e00\u6837\uff0c\u4f7f\u7528\u4e4b\u524d\u7684\u7ba1\u9053\u7c7b\uff08Pipeline\uff09\uff0c\u6211\u4eec\u9700\u8981\u7528\u5230\u65b0\u7684\u5b58\u50a8\u56fe\u7247\u7684\u7ba1\u9053\u7c7bImagesPipeline\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5148\u5bfc\u5165\u8be5\u7c7b pipelines.py \u5bfc\u5165 python from scrapy.pipelines.images import ImagesPipeline \u5b9a\u4e49\u4e00\u4e2aImages\u7c7b ```python from itemadapter import ItemAdapter from scrapy.pipelines.images import ImagesPipeline import scrapy class Imgspipline(ImagesPipeline): # 1. \u53d1\u9001\u8bf7\u6c42(\u4e0b\u8f7d\u56fe\u7247, \u6587\u4ef6, \u89c6\u9891,xxx) def get_media_requests(self, item, info): # \u83b7\u53d6\u5230\u56fe\u7247\u7684url url = item['img_src'] # \u8fdb\u884c\u8bf7\u6c42 yield scrapy.Request(url=url, meta={\"url\": url}) # \u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\u5373\u53ef # 2. \u56fe\u7247\u5b58\u50a8\u8def\u5f84 # \u5728\u51fd\u6570\u5b9a\u4e49\u65f6\uff0c\u4f7f\u7528\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684*\u7b26\u53f7\uff0c\u8fd9\u8868\u793a\u5728*\u7b26\u53f7\u540e\u9762\u7684\u53c2\u6570\uff0c\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528key=value\u7684\u5f62\u5f0f\u8fdb\u884c\u53c2\u6570\u4f20\u9012\u3002\u3002\u5728Python\u7684\u6807\u51c6\u5e93\u4e2d\uff0c\u6709\u4e0d\u5c11\u6a21\u5757\u7684\u63a5\u53e3\u51fd\u6570\u7684\u5b9a\u4e49\u90fd\u5728\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002 def file_path(self, request, response=None, info=None, *, item=None): # \u5f53\u524d\u83b7\u53d6\u8bf7\u6c42\u7684url\u7684\u65b9\u5f0f\u67092\u79cd # \u83b7\u53d6\u5230\u5f53\u524d\u7684url \u7528\u4e8e\u5904\u7406\u4e0b\u8f7d\u56fe\u7247\u7684\u540d\u79f0 file_name = item['img_src'].split(\"/\")[-1] # \u7528item\u62ff\u5230url # file_name = request.meta['url'].split(\"/\")[-1] # \u7528meta\u4f20\u53c2\u83b7\u53d6 return file_name # 3. \u53ef\u80fd\u9700\u8981\u5bf9item\u8fdb\u884c\u66f4\u65b0 def item_completed(self, results, item, info): # print('results', results) for r in results: # \u83b7\u53d6\u6bcf\u4e2a\u56fe\u7247\u7684\u8def\u5f84 print(r[1]['path']) return item # \u4e00\u5b9a\u8981return item \u628a\u6570\u636e\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u7ba1\u9053 ```","title":"(6) \u914d\u7f6e\u56fe\u7247\u7ba1\u9053"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#7_2","text":"\u63a5\u7740\u6211\u4eec\u518d\u5b9a\u4e49\u4e00\u4e2a\u4fdd\u5b58\u6570\u636e\u7684\u51fd\u6570\uff0c\u5e76\u8bbe\u7f6e\u597d\u5b58\u50a8\u7684\u6587\u4ef6\u540d\uff0c\u7136\u540e\u5b58\u50a8\u7684\u8def\u5f84\u9700\u8981\u5728\u8bbe\u7f6e\u4e2d\uff08setting\uff09\u6587\u4ef6\u4e2d\uff0c\u6dfb\u52a0IMAGE_STORE\u8bbe\u7f6e\u597d\u5b58\u50a8\u7684\u8def\u5f84 \u5f00\u542f\u56fe\u7247\u7ba1\u9053 settings.py ITEM_PIPELINES = { 'desk.pipelines.DeskPipeline': 300, 'desk.pipelines.Imgspipline': 400, # \u5f00\u542f\u56fe\u7247\u7ba1\u9053 } # \u914d\u7f6e\u5b58\u50a8\u56fe\u7247\u7684\u8def\u5f84 IMG_STORE = './imgs'","title":"(7) \u4fdd\u5b58\u6570\u636e"},{"location":"16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html#8_4","text":"\u7528scrapy\u722c\u53d6\u7f51\u9875\u65f6\u51fa\u73b0302\u72b6\u6001\u7801\uff0c\u8fd9\u662f\u7f51\u9875\u53d1\u751f\u4e86\u91cd\u5b9a\u5411\uff08\u5728\u6b64\u4e0d\u89e3\u91ca\u91cd\u5b9a\u5411\uff09\uff0c\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ea\u9700\u5728settings\u6587\u4ef6\u4e2d\u8bbe\u7f6eMEDIA_ALLOW_REDIRECTS = True\u3002","title":"(8) \u6ce8\u610f"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html","text":"\u5341\u516d\u3001scrapy\u6a21\u62df\u767b\u9646&\u5206\u9875 \u4e00\u3001\u6a21\u62df\u767b\u9646 \u5b66\u4e60\u76ee\u6807\uff1a \u5e94\u7528 scrapy\u76f4\u63a5\u643a\u5e26cookie\u6a21\u62df\u767b\u9646\u7684\u65b9\u6cd5 \u5e94\u7528 scrapy.FormRequest()\u53d1\u9001post\u8bf7\u6c42\u8fdb\u884c\u767b\u9646 \u5e94\u7528 scrapy.FormRequest.from_response()\u53d1\u9001\u8868\u5355\u8bf7\u6c42 1\u3001\u56de\u987e\u4e4b\u524d\u7684\u6a21\u62df\u767b\u9646\u7684\u65b9\u6cd5 1.1 requests\u6a21\u5757\u662f\u5982\u4f55\u5b9e\u73b0\u6a21\u62df\u767b\u9646\u7684\uff1f \u76f4\u63a5\u643a\u5e26cookies\u8bf7\u6c42\u9875\u9762 \u627eurl\u5730\u5740\uff0c\u53d1\u9001post\u8bf7\u6c42\u5b58\u50a8cookie 1.2 selenium\u662f\u5982\u4f55\u6a21\u62df\u767b\u9646\u7684\uff1f \u627e\u5230\u5bf9\u5e94\u7684input\u6807\u7b7e\uff0c\u8f93\u5165\u6587\u672c\u70b9\u51fb\u767b\u9646 1.3 scrapy\u6709\u4e09\u79cd\u65b9\u6cd5\u6a21\u62df\u767b\u9646 \u76f4\u63a5\u643a\u5e26cookies \u627eurl\u5730\u5740\uff0c\u53d1\u9001post\u8bf7\u6c42\u5b58\u50a8cookie \u627e\u5230\u5bf9\u5e94\u7684form\u8868\u5355\uff0c\u81ea\u52a8\u89e3\u6790input\u6807\u7b7e\uff0c\u81ea\u52a8\u89e3\u6790post\u8bf7\u6c42\u7684url\u5730\u5740\uff0c\u81ea\u52a8\u5e26\u4e0a\u6570\u636e\uff0c\u81ea\u52a8\u53d1\u9001\u8bf7\u6c42 2\u3001scrapy\u643a\u5e26cookies\u76f4\u63a5\u83b7\u53d6\u9700\u8981\u767b\u9646\u540e\u7684\u9875\u9762 17k\u5c0f\u8bf4\u7f51 https://user.17k.com/ 2.1 \u5e94\u7528\u573a\u666f cookie\u8fc7\u671f\u65f6\u95f4\u5f88\u957f\uff0c\u5e38\u89c1\u4e8e\u4e00\u4e9b\u4e0d\u89c4\u8303\u7684\u7f51\u7ad9 \u80fd\u5728cookie\u8fc7\u671f\u4e4b\u524d\u628a\u641c\u6709\u7684\u6570\u636e\u62ff\u5230 \u914d\u5408\u5176\u4ed6\u7a0b\u5e8f\u4f7f\u7528\uff0c\u6bd4\u5982\u5176\u4f7f\u7528selenium\u628a\u767b\u9646\u4e4b\u540e\u7684cookie\u83b7\u53d6\u5230\u4fdd\u5b58\u5230\u672c\u5730\uff0cscrapy\u53d1\u9001\u8bf7\u6c42\u4e4b\u524d\u5148\u8bfb\u53d6\u672c\u5730cookie 2.2 \u901a\u8fc7\u4fee\u6539settings\u4e2dDEFAULT_REQUEST_HEADERS\u643a\u5e26cookie settings.py DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36', 'Cookie': 'ASP.NET_SessionId=n4lwamv5eohaqcorfi3dvzcv; xiaohua_visitfunny=103174; xiaohua_web_userid=120326; xiaohua_web_userkey=r2sYazfFMt/rxUn8LJDmUYetwR2qsFCHIaNt7+Zpsscpp1p6zicW4w==' } \u6ce8\u610f\uff1a\u9700\u8981\u6253\u5f00COOKIES_ENABLED\uff0c\u5426\u5219\u4e0a\u9762\u8bbe\u5b9a\u7684cookie\u5c06\u4e0d\u8d77\u4f5c\u7528 # Disable cookies (enabled by default) COOKIES_ENABLED = False \u7279\u522b\u8bf4\u660e \u5f53COOKIES_ENABLED\u662f\u6ce8\u91ca\u7684\u65f6\u5019scrapy\u9ed8\u8ba4\u6ca1\u6709\u5f00\u542fcookie \u5f53COOKIES_ENABLED\u6ca1\u6709\u6ce8\u91ca\uff0c\u8bbe\u7f6e\u4e3aFalse\u7684\u65f6\u5019scrapy\u9ed8\u8ba4\u4f7f\u7528\u4e86settings\u91cc\u9762\u7684cookie \u5f53COOKIES_ENABLED\u8bbe\u7f6e\u4e3aTrue\u7684\u65f6\u5019scrapy\u5c31\u4f1a\u628asettings\u7684cookie\u5173\u6389\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49cookie \u4e5f\u5c31\u662f \u5982\u679c\u4f7f\u7528\u81ea\u5b9a\u4e49cookie\u5c31\u628aCOOKIES_ENABLED\u8bbe\u7f6e\u4e3aTrue \u5982\u679c\u4f7f\u7528settings\u7684cookie\u5c31\u628aCOOKIES_ENABLED\u8bbe\u7f6e\u4e3aFalse xiaoshuo.py import scrapy class DengluSpider(scrapy.Spider): name = 'denglu' allowed_domains = ['17k.com'] start_urls = ['https://user.17k.com/ck/user/mine/readList?page=1&appKey=2406394919'] def parse(self, res): print(res.text) \u5c40\u9650\u6027\uff1a \u5f53\u524d\u8bbe\u5b9a\u65b9\u5f0f\u867d\u7136\u53ef\u4ee5\u5b9e\u73b0\u643a\u5e26cookie\u4fdd\u6301\u767b\u5f55\uff0c\u4f46\u662f\u65e0\u6cd5\u83b7\u53d6\u5230\u65b0cookie\uff0c\u4e5f\u5c31\u662f\u5f53\u524dcookie\u4e00\u76f4\u662f\u56fa\u5b9a\u7684 \u5982\u679ccookie\u662f\u7ecf\u5e38\u6027\u53d8\u5316\uff0c\u90a3\u4e48\u5f53\u524d\u4e0d\u9002\u7528 2.3 \u5b9e\u73b0\uff1a\u91cd\u6784scrapy\u7684starte_rquests\u65b9\u6cd5 scrapy\u4e2dstart_url\u662f\u901a\u8fc7start_requests\u6765\u8fdb\u884c\u5904\u7406\u7684\uff0c\u5176\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b def start_requests(self): cls = self.__class__ if method_is_overridden(cls, Spider, 'make_requests_from_url'): warnings.warn( \"Spider.make_requests_from_url method is deprecated; it \" \"won't be called in future Scrapy releases. Please \" \"override Spider.start_requests method instead (see %s.%s).\" % ( cls.__module__, cls.__name__ ), ) for url in self.start_urls: yield self.make_requests_from_url(url) else: for url in self.start_urls: yield Request(url, dont_filter=True) \u6240\u4ee5\u5bf9\u5e94\u7684\uff0c\u5982\u679cstart_url\u5730\u5740\u4e2d\u7684url\u662f\u9700\u8981\u767b\u5f55\u540e\u624d\u80fd\u8bbf\u95ee\u7684url\u5730\u5740\uff0c\u5219\u9700\u8981\u91cd\u5199start_request\u65b9\u6cd5\u5e76\u5728\u5176\u4e2d\u624b\u52a8\u6dfb\u52a0\u4e0acookie settings.py import scrapy class DengluSpider(scrapy.Spider): name = 'denglu' # allowed_domains = ['https://user.17k.com/ck/user/mine/readList?page=1'] start_urls = ['https://user.17k.com/ck/user/mine/readList?page=1&appKey=2406394919'] def start_requests(self): cookies = 'GUID=796e4a09-ba11-4ecb-9cf6-aad19169267d; Hm_lvt_9793f42b498361373512340937deb2a0=1660545196; c_channel=0; c_csc=web; accessToken=avatarUrl%3Dhttps%253A%252F%252Fcdn.static.17k.com%252Fuser%252Favatar%252F18%252F98%252F90%252F96139098.jpg-88x88%253Fv%253D1650527904000%26id%3D96139098%26nickname%3D%25E4%25B9%25A6%25E5%258F%258BqYx51ZhI1%26e%3D1677033668%26s%3D8e116a403df502ab; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2296139098%22%2C%22%24device_id%22%3A%22181d13acb2c3bd-011f19b55b75a8-1c525635-1296000-181d13acb2d5fb%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_referrer%22%3A%22%22%2C%22%24latest_referrer_host%22%3A%22%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%7D%2C%22first_id%22%3A%22796e4a09-ba11-4ecb-9cf6-aad19169267d%22%7D; Hm_lpvt_9793f42b498361373512340937deb2a0=1661483362' cookie_dic = {} for i in cookies.split(';'): v = i.split('=') cookie_dic[v[0]] = v[1] # {i.split('=')[0]:i.split('=')[1] for i in cookies_str.split('; ')} # \u7b80\u5199 for url in self.start_urls: yield scrapy.Request(url, cookies=cookie_dic) def parse(self, response): print(response.text) \u6ce8\u610f\uff1a scrapy\u4e2dcookie\u4e0d\u80fd\u591f\u653e\u5728headers\u4e2d\uff0c\u5728\u6784\u9020\u8bf7\u6c42\u7684\u65f6\u5019\u6709\u4e13\u95e8\u7684cookies\u53c2\u6570\uff0c\u80fd\u591f\u63a5\u53d7\u5b57\u5178\u5f62\u5f0f\u7684coookie \u5728setting\u4e2d\u8bbe\u7f6eROBOTS\u534f\u8bae\u3001USER_AGENT \u5f53\u524d\u65b9\u5f0f\u4e0d\u9700\u8981\u5bf9settings\u4e2d\u7684 COOKIES_ENABLED \u6709\u4efb\u4f55\u64cd\u4f5c\uff0c\u76f4\u63a5\u9ed8\u8ba4\u6ce8\u91ca\u7684\u5c31\u53ef\u4ee5 3\u3001scrapy.FormRequest\u53d1\u9001post\u8bf7\u6c42 \u6211\u4eec\u77e5\u9053\u53ef\u4ee5\u901a\u8fc7scrapy.Request()\u6307\u5b9amethod\u3001body\u53c2\u6570\u6765\u53d1\u9001post\u8bf7\u6c42\uff1b\u90a3\u4e48\u4e5f\u53ef\u4ee5\u4f7f\u7528scrapy.FormRequest()\u6765\u53d1\u9001post\u8bf7\u6c42 3.1 scrapy.FormRequest()\u7684\u4f7f\u7528 \u901a\u8fc7scrapy.FormRequest\u80fd\u591f\u53d1\u9001post\u8bf7\u6c42\uff0c\u540c\u65f6\u9700\u8981\u6dfb\u52a0fromdata\u53c2\u6570\u4f5c\u4e3a\u8bf7\u6c42\u4f53\uff0c\u4ee5\u53cacallback login_url = 'https://passport.17k.com/ck/user/login' yield scrapy.FormRequest( url=login_url, formdata={'loginName': '17346570232', 'password': 'xlg17346570232'}, callback=self.do_login ) 3.2 \u4f7f\u7528scrapy.FormRequest()\u767b\u9646 3.2.1 \u601d\u8def\u5206\u6790 \u627e\u5230post\u7684url\u5730\u5740\uff1a\u70b9\u51fb\u767b\u5f55\u6309\u94ae\u8fdb\u884c\u6293\u5305\uff0c\u7136\u540e\u5b9a\u4f4durl\u5730\u5740\u4e3ahttps://passport.17k.com/ck/user/login \u627e\u5230\u8bf7\u6c42\u4f53\u7684\u89c4\u5f8b\uff1a\u5206\u6790post\u8bf7\u6c42\u7684\u8bf7\u6c42\u4f53\uff0c\u5176\u4e2d\u5305\u542b\u7684\u53c2\u6570\u5747\u5728\u524d\u4e00\u6b21\u7684\u54cd\u5e94\u4e2d \u5426\u767b\u5f55\u6210\u529f\uff1a\u901a\u8fc7\u8bf7\u6c42\u4e2a\u4eba\u4e3b\u9875\uff0c\u89c2\u5bdf\u662f\u5426\u5305\u542b\u7528\u6237\u540d 3.2.2 \u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a import scrapy class DengluSpider(scrapy.Spider): name = 'denglu' # allowed_domains = ['17k.com'] start_urls = ['https://user.17k.com/ck/user/mine/readList?page=1&appKey=2406394919'] def start_requests(self): ''' \u8bf7\u6c42\u767b\u9646\u7684\u8d26\u53f7\u548c\u5bc6\u7801 ''' login_url = 'https://passport.17k.com/ck/user/login' # \u4f7f\u7528request\u8fdb\u884c\u8bf7\u6c42 # yield scrapy.Request(url=login_url, body='loginName=17346570232&password=xlg17346570232', callback=self.do_login, method='POST', headers={\"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\"}) # \u4f7f\u7528Request\u5b50\u7c7bFormRequest\u8fdb\u884c\u8bf7\u6c42 \u81ea\u52a8\u4e3apost\u8bf7\u6c42 yield scrapy.FormRequest( url=login_url, formdata={'loginName': '17346570232', 'password': 'xlg17346570232'}, callback=self.do_login ) def do_login(self, response): ''' \u767b\u9646\u6210\u529f\u540e\u8c03\u7528parse\u8fdb\u884c\u5904\u7406 cookie\u4e2d\u95f4\u4ef6\u4f1a\u5e2e\u6211\u4eec\u81ea\u52a8\u5904\u7406\u643a\u5e26cookie ''' for url in self.start_urls: yield scrapy.Request(url=url, callback=self.parse) def parse(self, response, **kwargs): print(response.text) 4\u3001scrapy\u81ea\u52a8\u63d0\u4ea4\u8868\u5355\uff08\u6ca1\u5c1d\u8bd5\u51fa\u6765\u76ee\u524d\uff09 4.1 scrapy.Formrequest.from_response \u5b83\u80fd\u591f\u81ea\u52a8\u7684\u4ece\u54cd\u5e94\u4e2d\u5bfb\u627eform\u8868\u5355\uff0c\u7136\u540e\u628aformdata\u4e2d\u7684\u6570\u636e\u63d0\u4ea4\u5230action\u5bf9\u5e94\u7684url\u5730\u5740\u4e2d yield scrapy.FormRequest.from_response( response, # \u4f20\u5165response\u5bf9\u8c61,\u81ea\u52a8\u89e3\u6790 # \u53ef\u4ee5\u901a\u8fc7xpath\u6765\u5b9a\u4f4dform\u8868\u5355,\u5f53\u524d\u9875\u53ea\u6709\u4e00\u4e2aform\u8868\u5355\u65f6,\u5c06\u4f1a\u81ea\u52a8\u5b9a\u4f4d formxpath='//*[@id=\"login\"]/form', # \u53ef\u4ee5\u4e0d\u5199 formdata={'login': 'noobpythoner', 'password': '***'}, callback=self.parse_login ) 4.2 \u4f7f\u7528scrapy.Formrequest.from_response\u767b\u9646github import scrapy import re class Login3Spider(scrapy.Spider): name = 'login3' allowed_domains = ['github.com'] start_urls = ['https://github.com/login'] def parse(self, response): yield scrapy.FormRequest.from_response( response, # \u4f20\u5165response\u5bf9\u8c61,\u81ea\u52a8\u89e3\u6790 # \u53ef\u4ee5\u901a\u8fc7xpath\u6765\u5b9a\u4f4dform\u8868\u5355,\u5f53\u524d\u9875\u53ea\u6709\u4e00\u4e2aform\u8868\u5355\u65f6,\u5c06\u4f1a\u81ea\u52a8\u5b9a\u4f4d formxpath='//*[@id=\"login\"]/form', formdata={'login': 'noobpythoner', 'password': 'zhoudawei123'}, callback=self.parse_login ) def parse_login(self,response): ret = re.findall(r\"noobpythoner|NoobPythoner\", response.text) print(ret) 5\u3001\u5c0f\u6280\u5de7 \u5728settings.py\u4e2d\u901a\u8fc7\u8bbe\u7f6eCOOKIES_DEBUG=TRUE \u80fd\u591f\u5728\u7ec8\u7aef\u770b\u5230cookie\u7684\u4f20\u9012\u4f20\u9012\u8fc7\u7a0b \u6ce8\u610f\u5173\u95edLOG_LEVEL \u603b\u7ed3 start_urls\u4e2d\u7684url\u5730\u5740\u662f\u4ea4\u7ed9start_request\u5904\u7406\u7684\uff0c\u5982\u6709\u5fc5\u8981\uff0c\u53ef\u4ee5\u91cd\u5199start_request\u51fd\u6570 \u76f4\u63a5\u643a\u5e26cookie\u767b\u9646\uff1acookie\u53ea\u80fd\u4f20\u9012\u7ed9cookies\u53c2\u6570\u63a5\u6536 scrapy.FormRequest()\u53d1\u9001post\u8bf7\u6c42 scrapy.FormRequest.from_response()\u53d1\u9001\u8868\u5355\u8bf7\u6c42\uff0c\u63a5\u6536\u7684\u662fresponse \u7ec3\u4e60\uff1a \u7b11\u8bdd\u7f51\uff1ahttps://www.xiaohua.com/ \u4e8c\u3001scrapy\u53d1\u9001\u7ffb\u9875\u8bf7\u6c42 \u5b66\u4e60\u76ee\u6807\uff1a \u5e94\u7528 \u5b8c\u5584\u5e76\u4f7f\u7528Item\u6570\u636e\u7c7b \u5e94\u7528 \u6784\u9020Request\u5bf9\u8c61\uff0c\u5e76\u53d1\u9001\u8bf7\u6c42 \u5e94\u7528 \u5229\u7528meta\u53c2\u6570\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\u6570\u636e 1\u3001\u7ffb\u9875\u8bf7\u6c42\u7684\u601d\u8def \u5bf9\u4e8e\u8981\u63d0\u53d6\u5982\u4e0b\u56fe\u4e2d\u6240\u6709\u9875\u9762\u4e0a\u7684\u6570\u636e\u8be5\u600e\u4e48\u529e\uff1f \u56de\u987erequests\u6a21\u5757\u662f\u5982\u4f55\u5b9e\u73b0\u7ffb\u9875\u8bf7\u6c42\u7684\uff1a \u627e\u5230\u4e0b\u4e00\u9875\u7684URL\u5730\u5740 \u8c03\u7528requests.get(url) scrapy\u5b9e\u73b0\u7ffb\u9875\u7684\u601d\u8def\uff1a \u627e\u5230\u4e0b\u4e00\u9875\u7684url\u5730\u5740 \u6784\u9020url\u5730\u5740\u7684\u8bf7\u6c42\uff0c\u4f20\u9012\u7ed9\u5f15\u64ce 2\u3001scrapy\u5b9e\u73b0\u7ffb\u9875\u8bf7\u6c42 2.1 \u5b9e\u73b0\u65b9\u6cd5 \u786e\u5b9aurl\u5730\u5740 \u6784\u9020\u8bf7\u6c42\uff0cscrapy.Request(url,callback) callback\uff1a\u6307\u5b9a\u89e3\u6790\u51fd\u6570\u540d\u79f0\uff0c\u8868\u793a\u8be5\u8bf7\u6c42\u8fd4\u56de\u7684\u54cd\u5e94\u4f7f\u7528\u54ea\u4e00\u4e2a\u51fd\u6570\u8fdb\u884c\u89e3\u6790 \u628a\u8bf7\u6c42\u4ea4\u7ed9\u5f15\u64ce\uff1ayield scrapy.Request(url,callback) 2.2 \u6bb5\u5b50/\u8c46\u74e3\u7535\u5f71\u722c\u866b \u901a\u8fc7\u722c\u53d6\u6bb5\u5b50\u9875\u9762\u7684\u4fe1\u606f,\u5b66\u4e60\u5982\u4f55\u5b9e\u73b0\u7ffb\u9875\u8bf7\u6c42 \u5730\u5740\uff1ahttps://duanzixing.com/ \u601d\u8def\u5206\u6790\uff1a \u83b7\u53d6\u9996\u9875\u7684\u6570\u636e \u5bfb\u627e\u4e0b\u4e00\u9875\u7684\u5730\u5740\uff0c\u8fdb\u884c\u7ffb\u9875\uff0c\u83b7\u53d6\u6570\u636e \u6ce8\u610f\uff1a \u53ef\u4ee5\u5728settings\u4e2d\u8bbe\u7f6eROBOTS\u534f\u8bae python # False\u8868\u793a\u5ffd\u7565\u7f51\u7ad9\u7684robots.txt\u534f\u8bae\uff0c\u9ed8\u8ba4\u4e3aTrue ROBOTSTXT_OBEY = False \u53ef\u4ee5\u5728settings\u4e2d\u8bbe\u7f6eUser-Agent\uff1a python # scrapy\u53d1\u9001\u7684\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u7684\u9ed8\u8ba4UA\u90fd\u662f\u8bbe\u7f6e\u7684\u8fd9\u4e2aUser-Agent USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36' 2.3 \u4ee3\u7801\u5b9e\u73b0 \u6bb5\u5b50\u5b9e\u73b0\u591a\u9875\u6293\u53d6 ```python import scrapy from duanzi01.items import Duanzi01Item class DzSpider(scrapy.Spider): name = 'dz' allowed_domains = ['duanzixing.com'] start_urls = ['http://duanzixing.com/'] def parse(self, response, **kwargs): # \u591a\u9875\u7684url url = 'https://duanzixing.com/page/%d/' for i in range(1, 10): # \u62fc\u63a5\u65b0\u7684url new_url = url % i yield scrapy.Request(new_url, callback=self.get_data, meta={'url': new_url}) def get_data(self, response, **kwargs): article_list = response.xpath('/html/body/section/div/div/article') for article in article_list: item = Duanzi01Item() title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() item['title'] = title item['con'] = con print(response.meta['url'], item) yield item ``` items.py ```python import scrapy class XiaoshuoItem(scrapy.Item): title = scrapy.Field() con = scrapy.Field() ``` \u8c46\u74e3\u7535\u5f71\u6293\u53d6\u5b50\u9875\u9762\u6570\u636e(\u624b\u52a8\u8c03\u7528\u8bf7\u6c42\u7ec3\u4e60) \u65b0\u5efa\u8c46\u74e3\u9879\u76ee scrapy startproject douban cd douban scrapy genspider db scrapy crawl db ```python import scrapy class DbSpider(scrapy.Spider): name = 'db' # allowed_domains = ['www.xxx.com'] start_urls = ['https://movie.douban.com/chart'] def parse(self, response): table_list = response.xpath('//*[@id=\"content\"]/div/div[1]/div/div/table') for table in table_list: # \u6293\u53d6\u5b50\u9875\u9762url\u5730\u5740 href = table.xpath('./tr/td[2]/div/a/@href').extract_first() print(href) # \u624b\u52a8\u8bf7\u6c42\u5b50\u9875\u9762 yield scrapy.Request(href, callback=self.parse_deatil) # \u89e3\u6790\u5b50\u9875\u9762\u6570\u636e def parse_deatil(self, response): # \u83b7\u53d6\u6240\u6709\u7684\u7535\u5f71\u4fe1\u606f print(response.xpath('//*[@id=\"info\"]//text()').extract()) ``` 2.4 scrapy.Request\u7684\u66f4\u591a\u53c2\u6570 scrapy.Request(url[,callback,method=\"GET\",headers,body,cookies, meta,dont_filter=False]) \u53c2\u6570\u89e3\u91ca \u4e2d\u62ec\u53f7\u4e2d\u7684\u53c2\u6570\u4e3a\u53ef\u9009\u53c2\u6570 callback\uff1a\u8868\u793a\u5f53\u524d\u7684url\u7684\u54cd\u5e94\u4ea4\u7ed9\u54ea\u4e2a\u51fd\u6570\u53bb\u5904\u7406 meta\uff1a\u5b9e\u73b0\u6570\u636e\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\uff0cmeta\u9ed8\u8ba4\u5e26\u6709\u90e8\u5206\u6570\u636e\uff0c\u6bd4\u5982\u4e0b\u8f7d\u5ef6\u8fdf\uff0c\u8bf7\u6c42\u6df1\u5ea6\u7b49 dont_filter:\u9ed8\u8ba4\u4e3aFalse\uff0c\u4f1a\u8fc7\u6ee4\u8bf7\u6c42\u7684url\u5730\u5740\uff0c\u5373\u8bf7\u6c42\u8fc7\u7684url\u5730\u5740\u4e0d\u4f1a\u7ee7\u7eed\u88ab\u8bf7\u6c42\uff0c\u5bf9\u9700\u8981\u91cd\u590d\u8bf7\u6c42\u7684url\u5730\u5740\u53ef\u4ee5\u628a\u5b83\u8bbe\u7f6e\u4e3aTure\uff0c\u6bd4\u5982\u8d34\u5427\u7684\u7ffb\u9875\u8bf7\u6c42\uff0c\u9875\u9762\u7684\u6570\u636e\u603b\u662f\u5728\u53d8\u5316;start_urls\u4e2d\u7684\u5730\u5740\u4f1a\u88ab\u53cd\u590d\u8bf7\u6c42\uff0c\u5426\u5219\u7a0b\u5e8f\u4e0d\u4f1a\u542f\u52a8 method\uff1a\u6307\u5b9aPOST\u6216GET\u8bf7\u6c42 headers\uff1a\u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u5176\u4e2d\u4e0d\u5305\u62eccookies cookies\uff1a\u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u4e13\u95e8\u653e\u7f6ecookies body\uff1a\u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u4e3aPOST\u7684\u6570\u636e 3\u3001meta\u53c2\u6570\u7684\u4f7f\u7528 meta\u7684\u5f62\u5f0f:\u5b57\u5178 meta\u7684\u4f5c\u7528\uff1ameta\u53ef\u4ee5\u5b9e\u73b0\u6570\u636e\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u7684\u4f20\u9012 \u5728\u722c\u866b\u6587\u4ef6\u7684parse\u65b9\u6cd5\u4e2d\uff0c\u63d0\u53d6\u8be6\u60c5\u9875\u589e\u52a0\u4e4b\u524dcallback\u6307\u5b9a\u7684parse_detail\u51fd\u6570\uff1a def parse(self,response): ... yield scrapy.Request(detail_url, callback=self.parse_detail,meta={\"item\":item}) ... def parse_detail(self,response): #\u83b7\u53d6\u4e4b\u524d\u4f20\u5165\u7684item item = resposne.meta[\"item\"] \u7279\u522b\u6ce8\u610f meta\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178 meta\u5b57\u5178\u4e2d\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u952e proxy \uff0c\u8868\u793a\u4ee3\u7406ip\uff0c\u5173\u4e8e\u4ee3\u7406ip\u7684\u4f7f\u7528\u6211\u4eec\u5c06\u5728scrapy\u7684\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684\u5b66\u4e60\u4e2d\u8fdb\u884c\u4ecb\u7ecd 4\u3001items.py\u7684\u4f7f\u7528 4.1 Item\u80fd\u591f\u505a\u4ec0\u4e48 \u5b9a\u4e49item\u5373\u63d0\u524d\u89c4\u5212\u597d\u54ea\u4e9b\u5b57\u6bb5\u9700\u8981\u6293\u53d6\uff0cscrapy.Field()\u4ec5\u4ec5\u662f\u63d0\u524d\u5360\u5751\uff0c\u901a\u8fc7item.py\u80fd\u591f\u8ba9\u522b\u4eba\u6e05\u695a\u81ea\u5df1\u7684\u722c\u866b\u662f\u5728\u6293\u53d6\u4ec0\u4e48\uff0c\u540c\u65f6\u5b9a\u4e49\u597d\u54ea\u4e9b\u5b57\u6bb5\u662f\u9700\u8981\u6293\u53d6\u7684\uff0c\u6ca1\u6709\u5b9a\u4e49\u7684\u5b57\u6bb5\u4e0d\u80fd\u4f7f\u7528\uff0c\u9632\u6b62\u624b\u8bef \u5728python\u5927\u591a\u6570\u6846\u67b6\u4e2d\uff0c\u5927\u591a\u6570\u6846\u67b6\u90fd\u4f1a\u81ea\u5b9a\u4e49\u81ea\u5df1\u7684\u6570\u636e\u7c7b\u578b(\u5728python\u81ea\u5e26\u7684\u6570\u636e\u7ed3\u6784\u57fa\u7840\u4e0a\u8fdb\u884c\u5c01\u88c5)\uff0c\u76ee\u7684\u662f\u589e\u52a0\u529f\u80fd\uff0c\u589e\u52a0\u81ea\u5b9a\u4e49\u5f02\u5e38 4.2 \u5b9a\u4e49Item \u5728items.py\u6587\u4ef6\u4e2d\u5b9a\u4e49\u8981\u63d0\u53d6\u7684\u5b57\u6bb5\uff1a import scrapy class DoubanItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() name = scrapy.Field() # \u7535\u5f71\u540d\u79f0 director = scrapy.Field() # \u5bfc\u6f14 screenwriter = scrapy.Field() # \u7f16\u5267 to_star = scrapy.Field() # \u4e3b\u6f14 type = scrapy.Field() # \u7c7b\u578b producer_country = scrapy.Field() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: language = scrapy.Field() # \u8bed\u8a00 4.3 \u4f7f\u7528Item Item\u4f7f\u7528\u4e4b\u524d\u9700\u8981\u5148\u5bfc\u5165\u5e76\u4e14\u5b9e\u4f8b\u5316\uff0c\u4e4b\u540e\u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u4f7f\u7528\u5b57\u5178\u76f8\u540c \u4fee\u6539\u722c\u866b\u6587\u4ef6db.py\uff1a import scrapy from douban.items import DoubanItem class DbSpider(scrapy.Spider): name = 'db' # allowed_domains = ['www.xxx.com'] start_urls = ['https://movie.douban.com/chart'] def parse(self, response): table_list = response.xpath('//*[@id=\"content\"]/div/div[1]/div/div/table') for table in table_list: # \u6293\u53d6\u5b50\u9875\u9762url\u5730\u5740 href = table.xpath('./tr/td[2]/div/a/@href').extract_first() print(href) # \u624b\u52a8\u8bf7\u6c42\u5b50\u9875\u9762 yield scrapy.Request(href, callback=self.parse_deatil) # \u89e3\u6790\u5b50\u9875\u9762\u6570\u636e def parse_deatil(self, response): # \u63d0\u53d6\u7535\u5f71\u8be6\u60c5 item = DoubanItem() item['name'] = response.xpath('//*[@id=\"content\"]/h1/span[1]/text()').extract_first() # \u7535\u5f71\u540d\u79f0 item['director'] = response.xpath('//*[@id=\"info\"]/span[1]/span[2]/a/text()').extract_first() # \u5bfc\u6f14 item['screenwriter'] = ''.join(response.xpath('//*[@id=\"info\"]/span[2]/span[2]//text()').extract()) # \u7f16\u5267 item['to_star'] = ''.join(response.xpath('//*[@id=\"info\"]/span[3]/span[2]//text()').extract()) # \u4e3b\u6f14 item['type'] = '/'.join(response.xpath('//span[@property=\"v:genre\"]//text()').extract()) # \u7c7b\u578b item['producer_country'] = response.xpath(\"//div[@id='info']/span[text()='\u5236\u7247\u56fd\u5bb6/\u5730\u533a:']/following-sibling::text()[1]\").extract_first() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: item['language'] = response.xpath(\"//div[@id='info']/span[text()='\u8bed\u8a00:']/following-sibling::text()[1]\").extract_first() # \u8bed\u8a00 print(item) return item \u6ce8\u610f\uff1a from myspider.items import ITSpiderItem\u8fd9\u4e00\u884c\u4ee3\u7801\u4e2d \u6ce8\u610fitem\u7684\u6b63\u786e\u5bfc\u5165\u8def\u5f84\uff0c\u5ffd\u7565pycharm\u6807\u8bb0\u7684\u9519\u8bef python\u4e2d\u7684\u5bfc\u5165\u8def\u5f84\u8981\u8bc0\uff1a\u4ece\u54ea\u91cc\u5f00\u59cb\u8fd0\u884c\uff0c\u5c31\u4ece\u54ea\u91cc\u5f00\u59cb\u5bfc\u5165 \u5728parse_deatil\u4e2ditem[key] \u5fc5\u987b\u8981\u548citems.py\u4e2d\u7684key\u5bf9\u5e94\uff0c\u5426\u5219\u629b\u51fa\u5f02\u5e38 \u603b\u7ed3 \u5b8c\u5584\u5e76\u4f7f\u7528Item\u6570\u636e\u7c7b\uff1a \u5728items.py\u4e2d\u5b8c\u5584\u8981\u722c\u53d6\u7684\u5b57\u6bb5 \u5728\u722c\u866b\u6587\u4ef6\u4e2d\u5148\u5bfc\u5165Item \u5b9e\u529b\u5316Item\u5bf9\u8c61\u540e\uff0c\u50cf\u5b57\u5178\u4e00\u6837\u76f4\u63a5\u4f7f\u7528 \u6784\u9020Request\u5bf9\u8c61\uff0c\u5e76\u53d1\u9001\u8bf7\u6c42\uff1a \u5bfc\u5165scrapy.Request\u7c7b \u5728\u89e3\u6790\u51fd\u6570\u4e2d\u63d0\u53d6url yield scrapy.Request(url, callback=self.parse_detail, meta={}) \u5229\u7528meta\u53c2\u6570\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\u6570\u636e: \u901a\u8fc7\u524d\u4e00\u4e2a\u89e3\u6790\u51fd\u6570 yield scrapy.Request(url, callback=self.xxx, meta={}) \u6765\u4f20\u9012meta \u5728self.xxx\u51fd\u6570\u4e2d response.meta.get('key', '') \u6216 response.meta['key'] \u7684\u65b9\u5f0f\u53d6\u51fa\u4f20\u9012\u7684\u6570\u636e","title":"\u5341\u516d\u3001scrapy\u6a21\u62df\u767b\u9646&amp;\u5206\u9875"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#scrapy","text":"","title":"\u5341\u516d\u3001scrapy\u6a21\u62df\u767b\u9646&amp;\u5206\u9875"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_1","text":"","title":"\u4e00\u3001\u6a21\u62df\u767b\u9646"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_2","text":"\u5e94\u7528 scrapy\u76f4\u63a5\u643a\u5e26cookie\u6a21\u62df\u767b\u9646\u7684\u65b9\u6cd5 \u5e94\u7528 scrapy.FormRequest()\u53d1\u9001post\u8bf7\u6c42\u8fdb\u884c\u767b\u9646 \u5e94\u7528 scrapy.FormRequest.from_response()\u53d1\u9001\u8868\u5355\u8bf7\u6c42","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#1","text":"","title":"1\u3001\u56de\u987e\u4e4b\u524d\u7684\u6a21\u62df\u767b\u9646\u7684\u65b9\u6cd5"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#11-requests","text":"\u76f4\u63a5\u643a\u5e26cookies\u8bf7\u6c42\u9875\u9762 \u627eurl\u5730\u5740\uff0c\u53d1\u9001post\u8bf7\u6c42\u5b58\u50a8cookie","title":"1.1 requests\u6a21\u5757\u662f\u5982\u4f55\u5b9e\u73b0\u6a21\u62df\u767b\u9646\u7684\uff1f"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#12-selenium","text":"\u627e\u5230\u5bf9\u5e94\u7684input\u6807\u7b7e\uff0c\u8f93\u5165\u6587\u672c\u70b9\u51fb\u767b\u9646","title":"1.2 selenium\u662f\u5982\u4f55\u6a21\u62df\u767b\u9646\u7684\uff1f"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#13-scrapy","text":"\u76f4\u63a5\u643a\u5e26cookies \u627eurl\u5730\u5740\uff0c\u53d1\u9001post\u8bf7\u6c42\u5b58\u50a8cookie \u627e\u5230\u5bf9\u5e94\u7684form\u8868\u5355\uff0c\u81ea\u52a8\u89e3\u6790input\u6807\u7b7e\uff0c\u81ea\u52a8\u89e3\u6790post\u8bf7\u6c42\u7684url\u5730\u5740\uff0c\u81ea\u52a8\u5e26\u4e0a\u6570\u636e\uff0c\u81ea\u52a8\u53d1\u9001\u8bf7\u6c42","title":"1.3 scrapy\u6709\u4e09\u79cd\u65b9\u6cd5\u6a21\u62df\u767b\u9646"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#2scrapycookies","text":"17k\u5c0f\u8bf4\u7f51 https://user.17k.com/","title":"2\u3001scrapy\u643a\u5e26cookies\u76f4\u63a5\u83b7\u53d6\u9700\u8981\u767b\u9646\u540e\u7684\u9875\u9762"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#21","text":"cookie\u8fc7\u671f\u65f6\u95f4\u5f88\u957f\uff0c\u5e38\u89c1\u4e8e\u4e00\u4e9b\u4e0d\u89c4\u8303\u7684\u7f51\u7ad9 \u80fd\u5728cookie\u8fc7\u671f\u4e4b\u524d\u628a\u641c\u6709\u7684\u6570\u636e\u62ff\u5230 \u914d\u5408\u5176\u4ed6\u7a0b\u5e8f\u4f7f\u7528\uff0c\u6bd4\u5982\u5176\u4f7f\u7528selenium\u628a\u767b\u9646\u4e4b\u540e\u7684cookie\u83b7\u53d6\u5230\u4fdd\u5b58\u5230\u672c\u5730\uff0cscrapy\u53d1\u9001\u8bf7\u6c42\u4e4b\u524d\u5148\u8bfb\u53d6\u672c\u5730cookie","title":"2.1 \u5e94\u7528\u573a\u666f"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#22-settingsdefault_request_headerscookie","text":"settings.py DEFAULT_REQUEST_HEADERS = { 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language': 'en', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36', 'Cookie': 'ASP.NET_SessionId=n4lwamv5eohaqcorfi3dvzcv; xiaohua_visitfunny=103174; xiaohua_web_userid=120326; xiaohua_web_userkey=r2sYazfFMt/rxUn8LJDmUYetwR2qsFCHIaNt7+Zpsscpp1p6zicW4w==' } \u6ce8\u610f\uff1a\u9700\u8981\u6253\u5f00COOKIES_ENABLED\uff0c\u5426\u5219\u4e0a\u9762\u8bbe\u5b9a\u7684cookie\u5c06\u4e0d\u8d77\u4f5c\u7528 # Disable cookies (enabled by default) COOKIES_ENABLED = False \u7279\u522b\u8bf4\u660e \u5f53COOKIES_ENABLED\u662f\u6ce8\u91ca\u7684\u65f6\u5019scrapy\u9ed8\u8ba4\u6ca1\u6709\u5f00\u542fcookie \u5f53COOKIES_ENABLED\u6ca1\u6709\u6ce8\u91ca\uff0c\u8bbe\u7f6e\u4e3aFalse\u7684\u65f6\u5019scrapy\u9ed8\u8ba4\u4f7f\u7528\u4e86settings\u91cc\u9762\u7684cookie \u5f53COOKIES_ENABLED\u8bbe\u7f6e\u4e3aTrue\u7684\u65f6\u5019scrapy\u5c31\u4f1a\u628asettings\u7684cookie\u5173\u6389\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49cookie \u4e5f\u5c31\u662f \u5982\u679c\u4f7f\u7528\u81ea\u5b9a\u4e49cookie\u5c31\u628aCOOKIES_ENABLED\u8bbe\u7f6e\u4e3aTrue \u5982\u679c\u4f7f\u7528settings\u7684cookie\u5c31\u628aCOOKIES_ENABLED\u8bbe\u7f6e\u4e3aFalse xiaoshuo.py import scrapy class DengluSpider(scrapy.Spider): name = 'denglu' allowed_domains = ['17k.com'] start_urls = ['https://user.17k.com/ck/user/mine/readList?page=1&appKey=2406394919'] def parse(self, res): print(res.text) \u5c40\u9650\u6027\uff1a \u5f53\u524d\u8bbe\u5b9a\u65b9\u5f0f\u867d\u7136\u53ef\u4ee5\u5b9e\u73b0\u643a\u5e26cookie\u4fdd\u6301\u767b\u5f55\uff0c\u4f46\u662f\u65e0\u6cd5\u83b7\u53d6\u5230\u65b0cookie\uff0c\u4e5f\u5c31\u662f\u5f53\u524dcookie\u4e00\u76f4\u662f\u56fa\u5b9a\u7684 \u5982\u679ccookie\u662f\u7ecf\u5e38\u6027\u53d8\u5316\uff0c\u90a3\u4e48\u5f53\u524d\u4e0d\u9002\u7528","title":"2.2 \u901a\u8fc7\u4fee\u6539settings\u4e2dDEFAULT_REQUEST_HEADERS\u643a\u5e26cookie"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#23-scrapystarte_rquests","text":"scrapy\u4e2dstart_url\u662f\u901a\u8fc7start_requests\u6765\u8fdb\u884c\u5904\u7406\u7684\uff0c\u5176\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b def start_requests(self): cls = self.__class__ if method_is_overridden(cls, Spider, 'make_requests_from_url'): warnings.warn( \"Spider.make_requests_from_url method is deprecated; it \" \"won't be called in future Scrapy releases. Please \" \"override Spider.start_requests method instead (see %s.%s).\" % ( cls.__module__, cls.__name__ ), ) for url in self.start_urls: yield self.make_requests_from_url(url) else: for url in self.start_urls: yield Request(url, dont_filter=True) \u6240\u4ee5\u5bf9\u5e94\u7684\uff0c\u5982\u679cstart_url\u5730\u5740\u4e2d\u7684url\u662f\u9700\u8981\u767b\u5f55\u540e\u624d\u80fd\u8bbf\u95ee\u7684url\u5730\u5740\uff0c\u5219\u9700\u8981\u91cd\u5199start_request\u65b9\u6cd5\u5e76\u5728\u5176\u4e2d\u624b\u52a8\u6dfb\u52a0\u4e0acookie settings.py import scrapy class DengluSpider(scrapy.Spider): name = 'denglu' # allowed_domains = ['https://user.17k.com/ck/user/mine/readList?page=1'] start_urls = ['https://user.17k.com/ck/user/mine/readList?page=1&appKey=2406394919'] def start_requests(self): cookies = 'GUID=796e4a09-ba11-4ecb-9cf6-aad19169267d; Hm_lvt_9793f42b498361373512340937deb2a0=1660545196; c_channel=0; c_csc=web; accessToken=avatarUrl%3Dhttps%253A%252F%252Fcdn.static.17k.com%252Fuser%252Favatar%252F18%252F98%252F90%252F96139098.jpg-88x88%253Fv%253D1650527904000%26id%3D96139098%26nickname%3D%25E4%25B9%25A6%25E5%258F%258BqYx51ZhI1%26e%3D1677033668%26s%3D8e116a403df502ab; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2296139098%22%2C%22%24device_id%22%3A%22181d13acb2c3bd-011f19b55b75a8-1c525635-1296000-181d13acb2d5fb%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_referrer%22%3A%22%22%2C%22%24latest_referrer_host%22%3A%22%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%7D%2C%22first_id%22%3A%22796e4a09-ba11-4ecb-9cf6-aad19169267d%22%7D; Hm_lpvt_9793f42b498361373512340937deb2a0=1661483362' cookie_dic = {} for i in cookies.split(';'): v = i.split('=') cookie_dic[v[0]] = v[1] # {i.split('=')[0]:i.split('=')[1] for i in cookies_str.split('; ')} # \u7b80\u5199 for url in self.start_urls: yield scrapy.Request(url, cookies=cookie_dic) def parse(self, response): print(response.text)","title":"2.3 \u5b9e\u73b0\uff1a\u91cd\u6784scrapy\u7684starte_rquests\u65b9\u6cd5"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_3","text":"scrapy\u4e2dcookie\u4e0d\u80fd\u591f\u653e\u5728headers\u4e2d\uff0c\u5728\u6784\u9020\u8bf7\u6c42\u7684\u65f6\u5019\u6709\u4e13\u95e8\u7684cookies\u53c2\u6570\uff0c\u80fd\u591f\u63a5\u53d7\u5b57\u5178\u5f62\u5f0f\u7684coookie \u5728setting\u4e2d\u8bbe\u7f6eROBOTS\u534f\u8bae\u3001USER_AGENT \u5f53\u524d\u65b9\u5f0f\u4e0d\u9700\u8981\u5bf9settings\u4e2d\u7684 COOKIES_ENABLED \u6709\u4efb\u4f55\u64cd\u4f5c\uff0c\u76f4\u63a5\u9ed8\u8ba4\u6ce8\u91ca\u7684\u5c31\u53ef\u4ee5","title":"\u6ce8\u610f\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#3scrapyformrequestpost","text":"\u6211\u4eec\u77e5\u9053\u53ef\u4ee5\u901a\u8fc7scrapy.Request()\u6307\u5b9amethod\u3001body\u53c2\u6570\u6765\u53d1\u9001post\u8bf7\u6c42\uff1b\u90a3\u4e48\u4e5f\u53ef\u4ee5\u4f7f\u7528scrapy.FormRequest()\u6765\u53d1\u9001post\u8bf7\u6c42","title":"3\u3001scrapy.FormRequest\u53d1\u9001post\u8bf7\u6c42"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#31-scrapyformrequest","text":"\u901a\u8fc7scrapy.FormRequest\u80fd\u591f\u53d1\u9001post\u8bf7\u6c42\uff0c\u540c\u65f6\u9700\u8981\u6dfb\u52a0fromdata\u53c2\u6570\u4f5c\u4e3a\u8bf7\u6c42\u4f53\uff0c\u4ee5\u53cacallback login_url = 'https://passport.17k.com/ck/user/login' yield scrapy.FormRequest( url=login_url, formdata={'loginName': '17346570232', 'password': 'xlg17346570232'}, callback=self.do_login )","title":"3.1 scrapy.FormRequest()\u7684\u4f7f\u7528"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#32-scrapyformrequest","text":"","title":"3.2 \u4f7f\u7528scrapy.FormRequest()\u767b\u9646"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#321","text":"\u627e\u5230post\u7684url\u5730\u5740\uff1a\u70b9\u51fb\u767b\u5f55\u6309\u94ae\u8fdb\u884c\u6293\u5305\uff0c\u7136\u540e\u5b9a\u4f4durl\u5730\u5740\u4e3ahttps://passport.17k.com/ck/user/login \u627e\u5230\u8bf7\u6c42\u4f53\u7684\u89c4\u5f8b\uff1a\u5206\u6790post\u8bf7\u6c42\u7684\u8bf7\u6c42\u4f53\uff0c\u5176\u4e2d\u5305\u542b\u7684\u53c2\u6570\u5747\u5728\u524d\u4e00\u6b21\u7684\u54cd\u5e94\u4e2d \u5426\u767b\u5f55\u6210\u529f\uff1a\u901a\u8fc7\u8bf7\u6c42\u4e2a\u4eba\u4e3b\u9875\uff0c\u89c2\u5bdf\u662f\u5426\u5305\u542b\u7528\u6237\u540d","title":"3.2.1 \u601d\u8def\u5206\u6790"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#322","text":"import scrapy class DengluSpider(scrapy.Spider): name = 'denglu' # allowed_domains = ['17k.com'] start_urls = ['https://user.17k.com/ck/user/mine/readList?page=1&appKey=2406394919'] def start_requests(self): ''' \u8bf7\u6c42\u767b\u9646\u7684\u8d26\u53f7\u548c\u5bc6\u7801 ''' login_url = 'https://passport.17k.com/ck/user/login' # \u4f7f\u7528request\u8fdb\u884c\u8bf7\u6c42 # yield scrapy.Request(url=login_url, body='loginName=17346570232&password=xlg17346570232', callback=self.do_login, method='POST', headers={\"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\"}) # \u4f7f\u7528Request\u5b50\u7c7bFormRequest\u8fdb\u884c\u8bf7\u6c42 \u81ea\u52a8\u4e3apost\u8bf7\u6c42 yield scrapy.FormRequest( url=login_url, formdata={'loginName': '17346570232', 'password': 'xlg17346570232'}, callback=self.do_login ) def do_login(self, response): ''' \u767b\u9646\u6210\u529f\u540e\u8c03\u7528parse\u8fdb\u884c\u5904\u7406 cookie\u4e2d\u95f4\u4ef6\u4f1a\u5e2e\u6211\u4eec\u81ea\u52a8\u5904\u7406\u643a\u5e26cookie ''' for url in self.start_urls: yield scrapy.Request(url=url, callback=self.parse) def parse(self, response, **kwargs): print(response.text)","title":"3.2.2 \u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#4scrapy","text":"","title":"4\u3001scrapy\u81ea\u52a8\u63d0\u4ea4\u8868\u5355\uff08\u6ca1\u5c1d\u8bd5\u51fa\u6765\u76ee\u524d\uff09"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#41-scrapyformrequestfrom_response","text":"\u5b83\u80fd\u591f\u81ea\u52a8\u7684\u4ece\u54cd\u5e94\u4e2d\u5bfb\u627eform\u8868\u5355\uff0c\u7136\u540e\u628aformdata\u4e2d\u7684\u6570\u636e\u63d0\u4ea4\u5230action\u5bf9\u5e94\u7684url\u5730\u5740\u4e2d yield scrapy.FormRequest.from_response( response, # \u4f20\u5165response\u5bf9\u8c61,\u81ea\u52a8\u89e3\u6790 # \u53ef\u4ee5\u901a\u8fc7xpath\u6765\u5b9a\u4f4dform\u8868\u5355,\u5f53\u524d\u9875\u53ea\u6709\u4e00\u4e2aform\u8868\u5355\u65f6,\u5c06\u4f1a\u81ea\u52a8\u5b9a\u4f4d formxpath='//*[@id=\"login\"]/form', # \u53ef\u4ee5\u4e0d\u5199 formdata={'login': 'noobpythoner', 'password': '***'}, callback=self.parse_login )","title":"4.1 scrapy.Formrequest.from_response"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#42-scrapyformrequestfrom_responsegithub","text":"import scrapy import re class Login3Spider(scrapy.Spider): name = 'login3' allowed_domains = ['github.com'] start_urls = ['https://github.com/login'] def parse(self, response): yield scrapy.FormRequest.from_response( response, # \u4f20\u5165response\u5bf9\u8c61,\u81ea\u52a8\u89e3\u6790 # \u53ef\u4ee5\u901a\u8fc7xpath\u6765\u5b9a\u4f4dform\u8868\u5355,\u5f53\u524d\u9875\u53ea\u6709\u4e00\u4e2aform\u8868\u5355\u65f6,\u5c06\u4f1a\u81ea\u52a8\u5b9a\u4f4d formxpath='//*[@id=\"login\"]/form', formdata={'login': 'noobpythoner', 'password': 'zhoudawei123'}, callback=self.parse_login ) def parse_login(self,response): ret = re.findall(r\"noobpythoner|NoobPythoner\", response.text) print(ret)","title":"4.2 \u4f7f\u7528scrapy.Formrequest.from_response\u767b\u9646github"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#5","text":"\u5728settings.py\u4e2d\u901a\u8fc7\u8bbe\u7f6eCOOKIES_DEBUG=TRUE \u80fd\u591f\u5728\u7ec8\u7aef\u770b\u5230cookie\u7684\u4f20\u9012\u4f20\u9012\u8fc7\u7a0b \u6ce8\u610f\u5173\u95edLOG_LEVEL","title":"5\u3001\u5c0f\u6280\u5de7"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_4","text":"start_urls\u4e2d\u7684url\u5730\u5740\u662f\u4ea4\u7ed9start_request\u5904\u7406\u7684\uff0c\u5982\u6709\u5fc5\u8981\uff0c\u53ef\u4ee5\u91cd\u5199start_request\u51fd\u6570 \u76f4\u63a5\u643a\u5e26cookie\u767b\u9646\uff1acookie\u53ea\u80fd\u4f20\u9012\u7ed9cookies\u53c2\u6570\u63a5\u6536 scrapy.FormRequest()\u53d1\u9001post\u8bf7\u6c42 scrapy.FormRequest.from_response()\u53d1\u9001\u8868\u5355\u8bf7\u6c42\uff0c\u63a5\u6536\u7684\u662fresponse","title":"\u603b\u7ed3"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_5","text":"\u7b11\u8bdd\u7f51\uff1ahttps://www.xiaohua.com/","title":"\u7ec3\u4e60\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#scrapy_1","text":"","title":"\u4e8c\u3001scrapy\u53d1\u9001\u7ffb\u9875\u8bf7\u6c42"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_6","text":"\u5e94\u7528 \u5b8c\u5584\u5e76\u4f7f\u7528Item\u6570\u636e\u7c7b \u5e94\u7528 \u6784\u9020Request\u5bf9\u8c61\uff0c\u5e76\u53d1\u9001\u8bf7\u6c42 \u5e94\u7528 \u5229\u7528meta\u53c2\u6570\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\u6570\u636e","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#1_1","text":"\u5bf9\u4e8e\u8981\u63d0\u53d6\u5982\u4e0b\u56fe\u4e2d\u6240\u6709\u9875\u9762\u4e0a\u7684\u6570\u636e\u8be5\u600e\u4e48\u529e\uff1f \u56de\u987erequests\u6a21\u5757\u662f\u5982\u4f55\u5b9e\u73b0\u7ffb\u9875\u8bf7\u6c42\u7684\uff1a \u627e\u5230\u4e0b\u4e00\u9875\u7684URL\u5730\u5740 \u8c03\u7528requests.get(url) scrapy\u5b9e\u73b0\u7ffb\u9875\u7684\u601d\u8def\uff1a \u627e\u5230\u4e0b\u4e00\u9875\u7684url\u5730\u5740 \u6784\u9020url\u5730\u5740\u7684\u8bf7\u6c42\uff0c\u4f20\u9012\u7ed9\u5f15\u64ce","title":"1\u3001\u7ffb\u9875\u8bf7\u6c42\u7684\u601d\u8def"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#2scrapy","text":"","title":"2\u3001scrapy\u5b9e\u73b0\u7ffb\u9875\u8bf7\u6c42"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#21_1","text":"\u786e\u5b9aurl\u5730\u5740 \u6784\u9020\u8bf7\u6c42\uff0cscrapy.Request(url,callback) callback\uff1a\u6307\u5b9a\u89e3\u6790\u51fd\u6570\u540d\u79f0\uff0c\u8868\u793a\u8be5\u8bf7\u6c42\u8fd4\u56de\u7684\u54cd\u5e94\u4f7f\u7528\u54ea\u4e00\u4e2a\u51fd\u6570\u8fdb\u884c\u89e3\u6790 \u628a\u8bf7\u6c42\u4ea4\u7ed9\u5f15\u64ce\uff1ayield scrapy.Request(url,callback)","title":"2.1 \u5b9e\u73b0\u65b9\u6cd5"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#22","text":"\u901a\u8fc7\u722c\u53d6\u6bb5\u5b50\u9875\u9762\u7684\u4fe1\u606f,\u5b66\u4e60\u5982\u4f55\u5b9e\u73b0\u7ffb\u9875\u8bf7\u6c42 \u5730\u5740\uff1ahttps://duanzixing.com/","title":"2.2 \u6bb5\u5b50/\u8c46\u74e3\u7535\u5f71\u722c\u866b"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_7","text":"\u83b7\u53d6\u9996\u9875\u7684\u6570\u636e \u5bfb\u627e\u4e0b\u4e00\u9875\u7684\u5730\u5740\uff0c\u8fdb\u884c\u7ffb\u9875\uff0c\u83b7\u53d6\u6570\u636e","title":"\u601d\u8def\u5206\u6790\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_8","text":"\u53ef\u4ee5\u5728settings\u4e2d\u8bbe\u7f6eROBOTS\u534f\u8bae python # False\u8868\u793a\u5ffd\u7565\u7f51\u7ad9\u7684robots.txt\u534f\u8bae\uff0c\u9ed8\u8ba4\u4e3aTrue ROBOTSTXT_OBEY = False \u53ef\u4ee5\u5728settings\u4e2d\u8bbe\u7f6eUser-Agent\uff1a python # scrapy\u53d1\u9001\u7684\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u7684\u9ed8\u8ba4UA\u90fd\u662f\u8bbe\u7f6e\u7684\u8fd9\u4e2aUser-Agent USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36'","title":"\u6ce8\u610f\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#23","text":"\u6bb5\u5b50\u5b9e\u73b0\u591a\u9875\u6293\u53d6 ```python import scrapy from duanzi01.items import Duanzi01Item class DzSpider(scrapy.Spider): name = 'dz' allowed_domains = ['duanzixing.com'] start_urls = ['http://duanzixing.com/'] def parse(self, response, **kwargs): # \u591a\u9875\u7684url url = 'https://duanzixing.com/page/%d/' for i in range(1, 10): # \u62fc\u63a5\u65b0\u7684url new_url = url % i yield scrapy.Request(new_url, callback=self.get_data, meta={'url': new_url}) def get_data(self, response, **kwargs): article_list = response.xpath('/html/body/section/div/div/article') for article in article_list: item = Duanzi01Item() title = article.xpath('./header/h2/a/text()').extract_first() con = article.xpath('./p[2]/text()').extract_first() item['title'] = title item['con'] = con print(response.meta['url'], item) yield item ``` items.py ```python import scrapy class XiaoshuoItem(scrapy.Item): title = scrapy.Field() con = scrapy.Field() ``` \u8c46\u74e3\u7535\u5f71\u6293\u53d6\u5b50\u9875\u9762\u6570\u636e(\u624b\u52a8\u8c03\u7528\u8bf7\u6c42\u7ec3\u4e60) \u65b0\u5efa\u8c46\u74e3\u9879\u76ee scrapy startproject douban cd douban scrapy genspider db scrapy crawl db ```python import scrapy class DbSpider(scrapy.Spider): name = 'db' # allowed_domains = ['www.xxx.com'] start_urls = ['https://movie.douban.com/chart'] def parse(self, response): table_list = response.xpath('//*[@id=\"content\"]/div/div[1]/div/div/table') for table in table_list: # \u6293\u53d6\u5b50\u9875\u9762url\u5730\u5740 href = table.xpath('./tr/td[2]/div/a/@href').extract_first() print(href) # \u624b\u52a8\u8bf7\u6c42\u5b50\u9875\u9762 yield scrapy.Request(href, callback=self.parse_deatil) # \u89e3\u6790\u5b50\u9875\u9762\u6570\u636e def parse_deatil(self, response): # \u83b7\u53d6\u6240\u6709\u7684\u7535\u5f71\u4fe1\u606f print(response.xpath('//*[@id=\"info\"]//text()').extract()) ```","title":"2.3 \u4ee3\u7801\u5b9e\u73b0"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#24-scrapyrequest","text":"scrapy.Request(url[,callback,method=\"GET\",headers,body,cookies, meta,dont_filter=False])","title":"2.4 scrapy.Request\u7684\u66f4\u591a\u53c2\u6570"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_9","text":"\u4e2d\u62ec\u53f7\u4e2d\u7684\u53c2\u6570\u4e3a\u53ef\u9009\u53c2\u6570 callback\uff1a\u8868\u793a\u5f53\u524d\u7684url\u7684\u54cd\u5e94\u4ea4\u7ed9\u54ea\u4e2a\u51fd\u6570\u53bb\u5904\u7406 meta\uff1a\u5b9e\u73b0\u6570\u636e\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\uff0cmeta\u9ed8\u8ba4\u5e26\u6709\u90e8\u5206\u6570\u636e\uff0c\u6bd4\u5982\u4e0b\u8f7d\u5ef6\u8fdf\uff0c\u8bf7\u6c42\u6df1\u5ea6\u7b49 dont_filter:\u9ed8\u8ba4\u4e3aFalse\uff0c\u4f1a\u8fc7\u6ee4\u8bf7\u6c42\u7684url\u5730\u5740\uff0c\u5373\u8bf7\u6c42\u8fc7\u7684url\u5730\u5740\u4e0d\u4f1a\u7ee7\u7eed\u88ab\u8bf7\u6c42\uff0c\u5bf9\u9700\u8981\u91cd\u590d\u8bf7\u6c42\u7684url\u5730\u5740\u53ef\u4ee5\u628a\u5b83\u8bbe\u7f6e\u4e3aTure\uff0c\u6bd4\u5982\u8d34\u5427\u7684\u7ffb\u9875\u8bf7\u6c42\uff0c\u9875\u9762\u7684\u6570\u636e\u603b\u662f\u5728\u53d8\u5316;start_urls\u4e2d\u7684\u5730\u5740\u4f1a\u88ab\u53cd\u590d\u8bf7\u6c42\uff0c\u5426\u5219\u7a0b\u5e8f\u4e0d\u4f1a\u542f\u52a8 method\uff1a\u6307\u5b9aPOST\u6216GET\u8bf7\u6c42 headers\uff1a\u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u5176\u4e2d\u4e0d\u5305\u62eccookies cookies\uff1a\u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u4e13\u95e8\u653e\u7f6ecookies body\uff1a\u63a5\u6536\u4e00\u4e2a\u5b57\u5178\uff0c\u4e3aPOST\u7684\u6570\u636e","title":"\u53c2\u6570\u89e3\u91ca"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#3meta","text":"","title":"3\u3001meta\u53c2\u6570\u7684\u4f7f\u7528"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#meta","text":"","title":"meta\u7684\u5f62\u5f0f:\u5b57\u5178"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#metameta","text":"\u5728\u722c\u866b\u6587\u4ef6\u7684parse\u65b9\u6cd5\u4e2d\uff0c\u63d0\u53d6\u8be6\u60c5\u9875\u589e\u52a0\u4e4b\u524dcallback\u6307\u5b9a\u7684parse_detail\u51fd\u6570\uff1a def parse(self,response): ... yield scrapy.Request(detail_url, callback=self.parse_detail,meta={\"item\":item}) ... def parse_detail(self,response): #\u83b7\u53d6\u4e4b\u524d\u4f20\u5165\u7684item item = resposne.meta[\"item\"]","title":"meta\u7684\u4f5c\u7528\uff1ameta\u53ef\u4ee5\u5b9e\u73b0\u6570\u636e\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u7684\u4f20\u9012"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_10","text":"meta\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178 meta\u5b57\u5178\u4e2d\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u952e proxy \uff0c\u8868\u793a\u4ee3\u7406ip\uff0c\u5173\u4e8e\u4ee3\u7406ip\u7684\u4f7f\u7528\u6211\u4eec\u5c06\u5728scrapy\u7684\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684\u5b66\u4e60\u4e2d\u8fdb\u884c\u4ecb\u7ecd","title":"\u7279\u522b\u6ce8\u610f"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#4itemspy","text":"","title":"4\u3001items.py\u7684\u4f7f\u7528"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#41-item","text":"\u5b9a\u4e49item\u5373\u63d0\u524d\u89c4\u5212\u597d\u54ea\u4e9b\u5b57\u6bb5\u9700\u8981\u6293\u53d6\uff0cscrapy.Field()\u4ec5\u4ec5\u662f\u63d0\u524d\u5360\u5751\uff0c\u901a\u8fc7item.py\u80fd\u591f\u8ba9\u522b\u4eba\u6e05\u695a\u81ea\u5df1\u7684\u722c\u866b\u662f\u5728\u6293\u53d6\u4ec0\u4e48\uff0c\u540c\u65f6\u5b9a\u4e49\u597d\u54ea\u4e9b\u5b57\u6bb5\u662f\u9700\u8981\u6293\u53d6\u7684\uff0c\u6ca1\u6709\u5b9a\u4e49\u7684\u5b57\u6bb5\u4e0d\u80fd\u4f7f\u7528\uff0c\u9632\u6b62\u624b\u8bef \u5728python\u5927\u591a\u6570\u6846\u67b6\u4e2d\uff0c\u5927\u591a\u6570\u6846\u67b6\u90fd\u4f1a\u81ea\u5b9a\u4e49\u81ea\u5df1\u7684\u6570\u636e\u7c7b\u578b(\u5728python\u81ea\u5e26\u7684\u6570\u636e\u7ed3\u6784\u57fa\u7840\u4e0a\u8fdb\u884c\u5c01\u88c5)\uff0c\u76ee\u7684\u662f\u589e\u52a0\u529f\u80fd\uff0c\u589e\u52a0\u81ea\u5b9a\u4e49\u5f02\u5e38","title":"4.1 Item\u80fd\u591f\u505a\u4ec0\u4e48"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#42-item","text":"\u5728items.py\u6587\u4ef6\u4e2d\u5b9a\u4e49\u8981\u63d0\u53d6\u7684\u5b57\u6bb5\uff1a import scrapy class DoubanItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() name = scrapy.Field() # \u7535\u5f71\u540d\u79f0 director = scrapy.Field() # \u5bfc\u6f14 screenwriter = scrapy.Field() # \u7f16\u5267 to_star = scrapy.Field() # \u4e3b\u6f14 type = scrapy.Field() # \u7c7b\u578b producer_country = scrapy.Field() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: language = scrapy.Field() # \u8bed\u8a00","title":"4.2 \u5b9a\u4e49Item"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#43-item","text":"Item\u4f7f\u7528\u4e4b\u524d\u9700\u8981\u5148\u5bfc\u5165\u5e76\u4e14\u5b9e\u4f8b\u5316\uff0c\u4e4b\u540e\u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u4f7f\u7528\u5b57\u5178\u76f8\u540c \u4fee\u6539\u722c\u866b\u6587\u4ef6db.py\uff1a import scrapy from douban.items import DoubanItem class DbSpider(scrapy.Spider): name = 'db' # allowed_domains = ['www.xxx.com'] start_urls = ['https://movie.douban.com/chart'] def parse(self, response): table_list = response.xpath('//*[@id=\"content\"]/div/div[1]/div/div/table') for table in table_list: # \u6293\u53d6\u5b50\u9875\u9762url\u5730\u5740 href = table.xpath('./tr/td[2]/div/a/@href').extract_first() print(href) # \u624b\u52a8\u8bf7\u6c42\u5b50\u9875\u9762 yield scrapy.Request(href, callback=self.parse_deatil) # \u89e3\u6790\u5b50\u9875\u9762\u6570\u636e def parse_deatil(self, response): # \u63d0\u53d6\u7535\u5f71\u8be6\u60c5 item = DoubanItem() item['name'] = response.xpath('//*[@id=\"content\"]/h1/span[1]/text()').extract_first() # \u7535\u5f71\u540d\u79f0 item['director'] = response.xpath('//*[@id=\"info\"]/span[1]/span[2]/a/text()').extract_first() # \u5bfc\u6f14 item['screenwriter'] = ''.join(response.xpath('//*[@id=\"info\"]/span[2]/span[2]//text()').extract()) # \u7f16\u5267 item['to_star'] = ''.join(response.xpath('//*[@id=\"info\"]/span[3]/span[2]//text()').extract()) # \u4e3b\u6f14 item['type'] = '/'.join(response.xpath('//span[@property=\"v:genre\"]//text()').extract()) # \u7c7b\u578b item['producer_country'] = response.xpath(\"//div[@id='info']/span[text()='\u5236\u7247\u56fd\u5bb6/\u5730\u533a:']/following-sibling::text()[1]\").extract_first() # \u5236\u7247\u56fd\u5bb6/\u5730\u533a: item['language'] = response.xpath(\"//div[@id='info']/span[text()='\u8bed\u8a00:']/following-sibling::text()[1]\").extract_first() # \u8bed\u8a00 print(item) return item","title":"4.3 \u4f7f\u7528Item"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_11","text":"from myspider.items import ITSpiderItem\u8fd9\u4e00\u884c\u4ee3\u7801\u4e2d \u6ce8\u610fitem\u7684\u6b63\u786e\u5bfc\u5165\u8def\u5f84\uff0c\u5ffd\u7565pycharm\u6807\u8bb0\u7684\u9519\u8bef python\u4e2d\u7684\u5bfc\u5165\u8def\u5f84\u8981\u8bc0\uff1a\u4ece\u54ea\u91cc\u5f00\u59cb\u8fd0\u884c\uff0c\u5c31\u4ece\u54ea\u91cc\u5f00\u59cb\u5bfc\u5165 \u5728parse_deatil\u4e2ditem[key] \u5fc5\u987b\u8981\u548citems.py\u4e2d\u7684key\u5bf9\u5e94\uff0c\u5426\u5219\u629b\u51fa\u5f02\u5e38","title":"\u6ce8\u610f\uff1a"},{"location":"16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html#_12","text":"\u5b8c\u5584\u5e76\u4f7f\u7528Item\u6570\u636e\u7c7b\uff1a \u5728items.py\u4e2d\u5b8c\u5584\u8981\u722c\u53d6\u7684\u5b57\u6bb5 \u5728\u722c\u866b\u6587\u4ef6\u4e2d\u5148\u5bfc\u5165Item \u5b9e\u529b\u5316Item\u5bf9\u8c61\u540e\uff0c\u50cf\u5b57\u5178\u4e00\u6837\u76f4\u63a5\u4f7f\u7528 \u6784\u9020Request\u5bf9\u8c61\uff0c\u5e76\u53d1\u9001\u8bf7\u6c42\uff1a \u5bfc\u5165scrapy.Request\u7c7b \u5728\u89e3\u6790\u51fd\u6570\u4e2d\u63d0\u53d6url yield scrapy.Request(url, callback=self.parse_detail, meta={}) \u5229\u7528meta\u53c2\u6570\u5728\u4e0d\u540c\u7684\u89e3\u6790\u51fd\u6570\u4e2d\u4f20\u9012\u6570\u636e: \u901a\u8fc7\u524d\u4e00\u4e2a\u89e3\u6790\u51fd\u6570 yield scrapy.Request(url, callback=self.xxx, meta={}) \u6765\u4f20\u9012meta \u5728self.xxx\u51fd\u6570\u4e2d response.meta.get('key', '') \u6216 response.meta['key'] \u7684\u65b9\u5f0f\u53d6\u51fa\u4f20\u9012\u7684\u6570\u636e","title":"\u603b\u7ed3"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html","text":"\u5341\u516d\u3001Scrapy\u4e2d\u95f4\u4ef6 \u5b66\u4e60\u76ee\u6807\uff1a \u5e94\u7528 scrapy\u4e2d\u4f7f\u7528\u4e2d\u95f4\u4ef6\u4f7f\u7528\u968f\u673aUA\u7684\u65b9\u6cd5 \u4e86\u89e3 scrapy\u4e2d\u4f7f\u7528\u4ee3\u7406ip\u7684\u7684\u65b9\u6cd5 1\u3001scrapy\u4e2d\u95f4\u4ef6\u7684\u5206\u7c7b\u548c\u4f5c\u7528 1.1 scrapy\u4e2d\u95f4\u4ef6\u7684\u5206\u7c7b \u6839\u636escrapy\u8fd0\u884c\u6d41\u7a0b\u4e2d\u6240\u5728\u4f4d\u7f6e\u4e0d\u540c\u5206\u4e3a\uff1a \u4e0b\u8f7d\u4e2d\u95f4\u4ef6 \u722c\u866b\u4e2d\u95f4\u4ef6 1.2 scrapy\u4e2d\u95f4\u7684\u4f5c\u7528 \u4e3b\u8981\u529f\u80fd\u662f\u5728\u722c\u866b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u4e00\u4e9b\u5904\u7406\uff0c\u5982\u5bf9\u975e200\u54cd\u5e94\u7684\u91cd\u8bd5\uff08\u91cd\u65b0\u6784\u9020Request\u5bf9\u8c61yield\u7ed9\u5f15\u64ce\uff09 \u4e5f\u53ef\u4ee5\u5bf9header\u4ee5\u53cacookie\u8fdb\u884c\u66f4\u6362\u548c\u5904\u7406 \u5176\u4ed6\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u5b9e\u73b0\u54cd\u5e94\u7684\u529f\u80fd \u4f46\u5728scrapy\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b \u4e24\u79cd\u4e2d\u95f4\u4ef6\u90fd\u5728middlewares.py\u4e00\u4e2a\u6587\u4ef6\u4e2d \u722c\u866b\u4e2d\u95f4\u4ef6\u4f7f\u7528\u65b9\u6cd5\u548c\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u76f8\u540c\uff0c\u5e38\u7528\u4e0b\u8f7d\u4e2d\u95f4\u4ef6 2\u3001\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a \u63a5\u4e0b\u6765\u6211\u4eec\u5bf9\u722c\u866b\u8fdb\u884c\u4fee\u6539\u5b8c\u5584\uff0c\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u6765\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u4e2d\u95f4\u4ef6 \u7f16\u5199\u4e00\u4e2aDownloader Middlewares\u548c\u6211\u4eec\u7f16\u5199\u4e00\u4e2apipeline\u4e00\u6837\uff0c\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff0c\u7136\u540e\u5728setting\u4e2d\u5f00\u542f Downloader Middlewares\u9ed8\u8ba4\u7684\u65b9\u6cd5\uff1a\u5728\u4e2d\u95f4\u4ef6\u7c7b\u4e2d\uff0c\u6709\u65f6\u9700\u8981\u91cd\u5199\u5904\u7406\u8bf7\u6c42\u6216\u8005\u54cd\u5e94\u7684\u65b9\u6cd5\u3011 process_request(self, request, spider)\uff1a\u3010\u6b64\u65b9\u6cd5\u662f\u7528\u7684\u6700\u591a\u7684\u3011 \u5f53\u6bcf\u4e2arequest\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\u3002 \u8fd4\u56deNone\u503c\uff1a\u7ee7\u7eed\u8bf7\u6c42 \u6ca1\u6709return\u4e5f\u662f\u8fd4\u56deNone\uff0c\u8be5request\u5bf9\u8c61\u4f20\u9012\u7ed9\u4e0b\u8f7d\u5668\uff0c\u6216\u901a\u8fc7\u5f15\u64ce\u4f20\u9012\u7ed9\u5176\u4ed6\u6743\u91cd\u4f4e\u7684process_request\u65b9\u6cd5 \u3010\u5982\u679c\u6240\u6709\u7684\u4e0b\u8f7d\u5668\u4e2d\u95f4\u4ef6\u90fd\u8fd4\u56de\u4e3aNone\uff0c\u5219\u8bf7\u6c42\u6700\u7ec8\u88ab\u4ea4\u7ed9\u4e0b\u8f7d\u5668\u5904\u7406\u3011 \u8fd4\u56deResponse\u5bf9\u8c61\uff1a\u4e0d\u518d\u8bf7\u6c42\uff0c\u628aresponse\u8fd4\u56de\u7ed9\u5f15\u64ce\u3010\u5982\u679c\u8fd4\u56de\u4e3a\u8bf7\u6c42\uff0c\u5219\u5c06\u8bf7\u6c42\u4ea4\u7ed9\u8c03\u5ea6\u5668\u3011 \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u628arequest\u5bf9\u8c61\u4ea4\u7ed9\u8c03\u5ea6\u5668\u8fdb\u884c\u540e\u7eed\u7684\u8bf7\u6c42 process_response(self, request, response, spider)\uff1a \u5f53\u4e0b\u8f7d\u5668\u5b8c\u6210http\u8bf7\u6c42\uff0c\u4f20\u9012\u54cd\u5e94\u7ed9\u5f15\u64ce\u7684\u65f6\u5019\u8c03\u7528 \u8fd4\u56deResposne\uff1a\u901a\u8fc7\u5f15\u64ce\u4ea4\u7ed9\u722c\u866b\u5904\u7406\u6216\u4ea4\u7ed9\u6743\u91cd\u66f4\u4f4e\u7684\u5176\u4ed6\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684process_response\u65b9\u6cd5 \u3010\u5982\u679c\u8fd4\u56de\u4e3a\u8bf7\u6c42\uff0c\u5219\u5c06\u8bf7\u6c42\u4ea4\u7ed9\u8c03\u5ea6\u5668\u3011 \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u4ea4\u7ed9\u8c03\u53d6\u5668\u7ee7\u7eed\u8bf7\u6c42\uff0c\u6b64\u65f6\u5c06\u4e0d\u901a\u8fc7\u5176\u4ed6\u6743\u91cd\u4f4e\u7684process_request\u65b9\u6cd5 \u3010\u5c06\u54cd\u5e94\u5bf9\u8c61\u4ea4\u7ed9spider\u8fdb\u884c\u89e3\u6790\u3011 process_exception(self, request, exception, spider): \u8bf7\u6c42\u51fa\u73b0\u5f02\u5e38\u7684\u65f6\u5019\u8fdb\u884cdiaoy \u6bd4\u5982\u5f53\u524d\u8bf7\u6c42\u88ab\u8bc6\u522b\u4e3a\u722c\u866b \u53ef\u4ee5\u4f7f\u7528\u4ee3\u7406 python def process_exception(self, request, exception, spider): request.meta['proxy'] = 'ip\u5730\u5740' request.dont_filter = True # \u56e0\u4e3a\u9ed8\u8ba4\u8bf7\u6c42\u662f\u53bb\u9664\u91cd\u590d\u7684\uff0c\u56e0\u4e3a\u5f53\u524d\u5df2\u7ecf\u8bf7\u6c42\u8fc7\uff0c\u6240\u4ee5\u9700\u8981\u8bbe\u7f6e\u5f53\u524d\u4e3a\u4e0d\u53bb\u91cd return request # \u5c06\u4fee\u6b63\u540e\u7684\u5bf9\u8c61\u91cd\u65b0\u8fdb\u884c\u8bf7\u6c42 \u5728settings.py\u4e2d\u914d\u7f6e\u5f00\u542f\u4e2d\u95f4\u4ef6\uff0c\u6743\u91cd\u503c\u8d8a\u5c0f\u8d8a\u4f18\u5148\u6267\u884c \u3010\u540c\u7ba1\u9053\u7684\u6ce8\u518c\u4f7f\u7528\u3011 spider\u53c2\u6570\uff1a\u4e3a\u722c\u866b\u4e2d\u7c7b\u7684\u5b9e\u4f8b\u5316\u53ef\u4ee5\u5728\u8fd9\u91cc\u8fdb\u884c\u8c03\u7528\u722c\u866b\u4e2d\u7684\u5c5e\u6027 \u5982\uff1aspider.name 2.1 \u5f53\u524d\u4e2d\u95f4\u4ef6\u7684\u7b80\u5355\u4f7f\u7528 spiders.py\uff08\u722c\u866b\u4ee3\u7801\uff09 class WySpider(scrapy.Spider): name = 'wy' start_urls = ['http://www.baidu123.com/'] # \u7ed9\u4e00\u4e2a\u6b63\u786e\u7684\u7f51\u5740 # start_urls = ['http://www.baidu123.com/'] # \u7ed9\u4e00\u4e2a\u9519\u8bef\u7684\u7f51\u5740 def parse(self, response, **kwargs): pass settings.py(\u5f00\u542f\u4e2d\u95f4\u4ef6) DOWNLOADER_MIDDLEWARES = { 'wangyi.middlewares.WangyiDownloaderMiddleware': 543, } middlewares.py class WangyiDownloaderMiddleware: # Not all methods need to be defined. If a method is not defined, # scrapy acts as if the downloader middleware does not modify the # passed objects. @classmethod def from_crawler(cls, crawler): # This method is used by Scrapy to create your spiders. s = cls() crawler.signals.connect(s.spider_opened, signal=signals.spider_opened) return s def process_request(self, request, spider): print('process_request') return None def process_response(self, request, response, spider): print('process_response') return response def process_exception(self, request, exception, spider): print('process_exception') return request \u8fd0\u884c\u67e5\u770b \u8fd0\u884c\u67e5\u770b \u4fee\u6539spiders.py \u7ed9\u4e00\u4e2a\u9519\u8bef\u7684\u7f51\u5740\u5728\u8fdb\u884c\u67e5\u770b\uff0c\u4f1a\u53d1\u73b0\u5f53\u524d\u4f1a\u5faa\u73af\u6267\u884c 3\u3001\u5b9a\u4e49\u5b9e\u73b0\u968f\u673aUser-Agent\u7684\u4e0b\u8f7d\u4e2d\u95f4\u4ef6 3.1 \u5728settings\u4e2d\u6dfb\u52a0UA\u7684\u5217\u8868 USER_AGENTS_LIST = [ \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \\ \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\", \\ \"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)\", \\ \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)\", \\ \"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6\", \\ \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1\", \\ \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0\", \\ \"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5\" ] 3.2 \u5728middlewares.py\u4e2d\u5b8c\u5584\u4ee3\u7801 import random from Tencent.settings import USER_AGENTS_LIST # \u6ce8\u610f\u5bfc\u5165\u8def\u5f84,\u8bf7\u5ffd\u89c6pycharm\u7684\u9519\u8bef\u63d0\u793a class UserAgentMiddleware(object): def process_request(self, request, spider): user_agent = random.choice(USER_AGENTS_LIST) request.headers['User-Agent'] = user_agent 3.3 \u5728\u722c\u866b\u6587\u4ef6tencent.py\u7684\u6bcf\u4e2a\u89e3\u6790\u51fd\u6570\u4e2d\u6dfb\u52a0 class CheckUA: def process_response(self,request,response,spider): print(request.headers['User-Agent']) 3.4 \u5728settings\u4e2d\u8bbe\u7f6e\u5f00\u542f\u81ea\u5b9a\u4e49\u7684\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\uff0c\u8bbe\u7f6e\u65b9\u6cd5\u540c\u7ba1\u9053 DOWNLOADER_MIDDLEWARES = { 'Tencent.middlewares.UserAgentMiddleware': 543, } 3.5 \u8fd0\u884c\u722c\u866b\u89c2\u5bdf\u73b0\u8c61 4\u3001\u4ee3\u7406ip\u7684\u4f7f\u7528 4.1 \u601d\u8def\u5206\u6790 \u4ee3\u7406\u6dfb\u52a0\u7684\u4f4d\u7f6e\uff1arequest.meta\u4e2d\u589e\u52a0 proxy \u5b57\u6bb5 \u83b7\u53d6\u4e00\u4e2a\u4ee3\u7406ip\uff0c\u8d4b\u503c\u7ed9 python request.meta['proxy'] \u4ee3\u7406\u6c60\u4e2d\u968f\u673a\u9009\u62e9\u4ee3\u7406ip \u4ee3\u7406ip\u7684webapi\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u4e00\u4e2a\u4ee3\u7406ip 4.2 \u5177\u4f53\u5b9e\u73b0 class ProxyMiddleware(object): def process_request(self,request,spider): proxy = random.choice(proxies) # proxies\u53ef\u4ee5\u5728settings.py\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u6765\u6e90\u4e8e\u4ee3\u7406ip\u7684webapi # proxy = 'http://192.168.1.1:8118' request.meta['proxy'] = proxy return None # \u53ef\u4ee5\u4e0d\u5199return 4.3 \u68c0\u6d4b\u4ee3\u7406ip\u662f\u5426\u53ef\u7528 \u5728\u4f7f\u7528\u4e86\u4ee3\u7406ip\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u5728\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684process_response()\u65b9\u6cd5\u4e2d\u5904\u7406\u4ee3\u7406ip\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u5982\u679c\u8be5\u4ee3\u7406ip\u4e0d\u80fd\u4f7f\u7528\u53ef\u4ee5\u66ff\u6362\u5176\u4ed6\u4ee3\u7406ip class ProxyMiddleware(object): def process_response(self, request, response, spider): if response.status != '200' and response.status != '302': #\u6b64\u65f6\u5bf9\u4ee3\u7406ip\u8fdb\u884c\u64cd\u4f5c\uff0c\u6bd4\u5982\u5220\u9664 return request 4.4 \u5feb\u4ee3\u7406\u7684\u8d2d\u4e70\u4e0e\u4f7f\u7528 \u7f51\u5740\uff1ahttps://www.kuaidaili.com/ \u8f93\u5165\u7f51\u5740 \u70b9\u51fb\u8d2d\u4e70\u4ee3\u7406 \u9009\u62e9\u4f60\u60f3\u8d2d\u4e70\u4ee3\u7406\u7684\u7c7b\u578b \u4ee5\u96a7\u9053\u4ee3\u7406\u4e3a\u4f8b \u70b9\u51fb\u8d2d\u4e70 \u8d2d\u4e70\u540e\u70b9\u51fb \u6587\u6863\u4e2d\u5fc3 \u70b9\u51fb \u9009\u62e9\u96a7\u9053\u4ee3\u7406 \u5411\u4e0b\u62c9 \u9009\u62e9\u4f60\u5f53\u524d\u8981\u4f7f\u7528\u4ee3\u7406\u7684\u6a21\u5757 \u6211\u4eec\u662fscrapy\u4f7f\u7528\u96a7\u9053 \u6240\u4ee5\u9009\u62e9 Python-Scrapy \u627e\u5230 middlewares.py \u5c06\u4e2d\u95f4\u4ef6\u7c7b\u4ee3\u7801\u590d\u5236\u5230\u5f53\u524d\u81ea\u5df1scrapy\u7684\u4e2d\u95f4\u4ef6\u5f97\u6587\u4ef6\u4e2d\u5373\u53ef \u6309\u7167\u6b65\u9aa4\u5f00\u542f\u4e2d\u95f4\u4ef6\u4e0e\u586b\u5199\u81ea\u5df1\u7684\u7528\u6237\u540d\u4e0e\u5bc6\u7801\u7b49\u4fe1\u606f\u5373\u53ef \u603b\u7ed3 \u4e2d\u95f4\u4ef6\u7684\u4f7f\u7528\uff1a \u5b8c\u5584\u4e2d\u95f4\u4ef6\u4ee3\u7801\uff1a process_request(self, request, spider)\uff1a \u5f53\u6bcf\u4e2arequest\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\u3002 \u8fd4\u56deNone\u503c\uff1a\u7ee7\u7eed\u8bf7\u6c42 \u8fd4\u56deResponse\u5bf9\u8c61\uff1a\u4e0d\u518d\u8bf7\u6c42\uff0c\u628aresponse\u8fd4\u56de\u7ed9\u5f15\u64ce \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u628arequest\u5bf9\u8c61\u4ea4\u7ed9\u8c03\u5ea6\u5668\u8fdb\u884c\u540e\u7eed\u7684\u8bf7\u6c42 process_response(self, request, response, spider)\uff1a \u5f53\u4e0b\u8f7d\u5668\u5b8c\u6210http\u8bf7\u6c42\uff0c\u4f20\u9012\u54cd\u5e94\u7ed9\u5f15\u64ce\u7684\u65f6\u5019\u8c03\u7528 \u8fd4\u56deResposne\uff1a\u4ea4\u7ed9process_response\u6765\u5904\u7406 \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u4ea4\u7ed9\u8c03\u53d6\u5668\u7ee7\u7eed\u8bf7\u6c42 \u9700\u8981\u5728settings.py\u4e2d\u5f00\u542f\u4e2d\u95f4\u4ef6 DOWNLOADER_MIDDLEWARES = { 'myspider.middlewares.UserAgentMiddleware': 543, } 5\u3001\u722c\u53d6\u7f51\u6613\u65b0\u95fb url\uff1ahttps://news.163.com/ 5.1 \u722c\u53d6\u524d\u51c6\u5907 scrapy startproject wangyi cd wangyi scrapy genspider wy https://news.163.com/ 5.2 \u722c\u53d6\u524d\u5206\u6790 \u6293\u53d6 \u56fd\u5185 \u56fd\u9645 \u519b\u4e8b \u822a\u7a7a \u5206\u6790 \u56fd\u5185\u7b49\u6570\u636e\u662f\u7531\u52a8\u6001\u52a0\u8f7d\u7684 \u5e76\u4e0d\u662f\u8ddf\u7740\u5f53\u524d\u7684\u8bf7\u6c42\u4e00\u8d77\u8fd4\u56de\u7684 \u89e3\u51b3\u65b9\u5f0f2\u79cd \u901a\u8fc7selenium\u914d\u5408\u722c\u866b\u6293\u53d6\u9875\u9762\u8fdb\u884c\u6570\u636e \u627e\u5230\u52a0\u8f7d\u52a8\u6001\u6570\u636e\u7684url\u5730\u5740 \u901a\u8fc7\u722c\u866b\u8fdb\u884c\u6293\u53d6 \u5c06\u627e\u5230\u7684URL\u653e\u5230\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u8bf7\u6c42 \u6548\u679c\u5982\u4e0b 5.3 \u4ee3\u7801\u914d\u7f6e \u914d\u7f6e\u6587\u4ef6\u5904\u7406settings.py ```python # Scrapy settings for wangyi project BOT_NAME = 'wangyi' SPIDER_MODULES = ['wangyi.spiders'] NEWSPIDER_MODULE = 'wangyi.spiders' # \u9ed8\u8ba4\u8bf7\u6c42\u5934 USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36' # \u7528\u4e8e\u66f4\u6362\u968f\u673a\u8bf7\u6c42\u5934 USER_AGENTS_LIST = [ \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\", \"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)\", \"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0\", \"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5\" ] LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False DOWNLOADER_MIDDLEWARES = { 'wangyi.middlewares.WangyiDownloaderMiddleware': 543, } ITEM_PIPELINES = { 'wangyi.pipelines.WangyiPipeline': 300, } ``` \u722c\u866b\u4ee3\u7801wy.py ```python import scrapy from selenium import webdriver from selenium.webdriver import ChromeOptions from selenium.webdriver.chrome.options import Options from wangyi.items import WangyiItem class WySpider(scrapy.Spider): name = 'wy' # allowed_domains = ['news.163.com'] start_urls = ['https://news.163.com/domestic/'] # li_index = [1, 2, 4, 5] # \u5f53\u524d\u8981\u722c\u53d6\u83dc\u5355\u7684\u7d22\u5f15\u4f4d\u7f6e li_index = [1, 2] # \u5f53\u524d\u8981\u722c\u53d6\u83dc\u5355\u7684\u7d22\u5f15\u4f4d\u7f6e page_url = [] # \u9690\u85cf\u6d4f\u89c8\u5668\u754c\u9762 chrome_option = Options() chrome_option.add_argument('--headless') chrome_option.add_argument('--disable-gpu') # \u9632\u6b62\u68c0\u6d4b option = ChromeOptions() option.add_experimental_option('excludeSwitches', ['enable-automation']) # \u5bfc\u5165\u914d\u7f6e driver = webdriver.Chrome(chrome_options=chrome_option, options=option) def parse(self, response, **kwargs): # \u6293\u53d6 \u56fd\u5185 \u56fd\u9645 \u519b\u4e8b \u822a\u7a7a menu = response.xpath('/html/body/div/div[3]/div[2]/div[2]/div/ul/li/a/@href').extract() # \u5faa\u73af\u83b7\u53d6\u5f53\u524d\u6211\u4eec\u8981\u6293\u53d6\u680f\u76ee\u7684url for i in range(len(menu)): if i in self.li_index: url = menu[i] self.page_url.append(url) # \u5411\u8be6\u60c5\u9875\u53d1\u8d77\u8bf7\u6c42 yield scrapy.Request(url, callback=self.parse_detail) # \u5bf9\u680f\u76ee\u9875\u8fdb\u884c\u8bf7\u6c42 def parse_detail(self, response): # \u83b7\u53d6\u6bcf\u4e2a\u65b0\u95fb\u7684url detail_href_list = response.xpath('/html/body/div/div[3]/div[3]/div[1]/div[1]/div/ul/li/div/div/a/@href').extract() # print(detail_href_list) for url in detail_href_list: print(url) yield scrapy.Request(url, callback=self.parse_detail_con) # \u5bf9\u4e8e\u65b0\u95fb\u8be6\u60c5\u9875\u8fdb\u884c\u89e3\u6790 def parse_detail_con(self, response): # \u5b9e\u4f8b\u5316item item = WangyiItem() # \u5339\u914d\u6807\u9898 title = response.xpath('//*[@id=\"container\"]/div[1]/h1/text()').extract_first() # \u5339\u914d\u5185\u5bb9 con = ''.join(response.xpath('//*[@id=\"content\"]/div[2]//text()').extract()) item['title'] = title item['con'] = con print(item) yield item ``` Items.py python import scrapy class WangyiItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() title = scrapy.Field() content = scrapy.Field() Middlewares.py ```python from wangyi.settings import USER_AGENTS_LIST import random from scrapy.http import HtmlResponse class WangyiDownloaderMiddleware: @classmethod def from_crawler(cls, crawler): # This method is used by Scrapy to create your spiders. s = cls() crawler.signals.connect(s.spider_opened, signal=signals.spider_opened) return s def process_request(self, request, spider): request.headers['User-Agent'] = random.choice(USER_AGENTS_LIST) # print(request.headers) return None def process_response(self, request, response, spider): # Called with the response returned from the downloader. driver = spider.driver # \u83b7\u53d6\u5230selenium if request.url in spider.page_url: driver.get(request.url) # \u6eda\u52a8\u6761\u6eda\u52a8\u5230\u6700\u4e0b\u65b9 driver.execute_script('window.scrollTo(0, document.body.scrollHeight)') time.sleep(1) # \u62d6\u52a8\u4e24\u6b21 driver.execute_script('window.scrollTo(0, document.body.scrollHeight)') time.sleep(1) text = driver.page_source # \u7be1\u6539\u54cd\u5e94\u5bf9\u8c61\u5e76\u8fd4\u56de return HtmlResponse(url=request.url, body=text, encoding='UTF-8', request=request) return response def process_exception(self, request, exception, spider): # Called when a download handler or a process_request() pass def spider_opened(self, spider): spider.logger.info('Spider opened: %s' % spider.name) ```","title":"\u5341\u516d\u3001Scrapy\u4e2d\u95f4\u4ef6"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#scrapy","text":"","title":"\u5341\u516d\u3001Scrapy\u4e2d\u95f4\u4ef6"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#_1","text":"\u5e94\u7528 scrapy\u4e2d\u4f7f\u7528\u4e2d\u95f4\u4ef6\u4f7f\u7528\u968f\u673aUA\u7684\u65b9\u6cd5 \u4e86\u89e3 scrapy\u4e2d\u4f7f\u7528\u4ee3\u7406ip\u7684\u7684\u65b9\u6cd5","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#1scrapy","text":"","title":"1\u3001scrapy\u4e2d\u95f4\u4ef6\u7684\u5206\u7c7b\u548c\u4f5c\u7528"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#11-scrapy","text":"\u6839\u636escrapy\u8fd0\u884c\u6d41\u7a0b\u4e2d\u6240\u5728\u4f4d\u7f6e\u4e0d\u540c\u5206\u4e3a\uff1a \u4e0b\u8f7d\u4e2d\u95f4\u4ef6 \u722c\u866b\u4e2d\u95f4\u4ef6","title":"1.1 scrapy\u4e2d\u95f4\u4ef6\u7684\u5206\u7c7b"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#12-scrapy","text":"\u4e3b\u8981\u529f\u80fd\u662f\u5728\u722c\u866b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u4e00\u4e9b\u5904\u7406\uff0c\u5982\u5bf9\u975e200\u54cd\u5e94\u7684\u91cd\u8bd5\uff08\u91cd\u65b0\u6784\u9020Request\u5bf9\u8c61yield\u7ed9\u5f15\u64ce\uff09 \u4e5f\u53ef\u4ee5\u5bf9header\u4ee5\u53cacookie\u8fdb\u884c\u66f4\u6362\u548c\u5904\u7406 \u5176\u4ed6\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u5b9e\u73b0\u54cd\u5e94\u7684\u529f\u80fd \u4f46\u5728scrapy\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b \u4e24\u79cd\u4e2d\u95f4\u4ef6\u90fd\u5728middlewares.py\u4e00\u4e2a\u6587\u4ef6\u4e2d \u722c\u866b\u4e2d\u95f4\u4ef6\u4f7f\u7528\u65b9\u6cd5\u548c\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u76f8\u540c\uff0c\u5e38\u7528\u4e0b\u8f7d\u4e2d\u95f4\u4ef6","title":"1.2 scrapy\u4e2d\u95f4\u7684\u4f5c\u7528"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#2","text":"\u63a5\u4e0b\u6765\u6211\u4eec\u5bf9\u722c\u866b\u8fdb\u884c\u4fee\u6539\u5b8c\u5584\uff0c\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u6765\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u4e2d\u95f4\u4ef6 \u7f16\u5199\u4e00\u4e2aDownloader Middlewares\u548c\u6211\u4eec\u7f16\u5199\u4e00\u4e2apipeline\u4e00\u6837\uff0c\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff0c\u7136\u540e\u5728setting\u4e2d\u5f00\u542f Downloader Middlewares\u9ed8\u8ba4\u7684\u65b9\u6cd5\uff1a\u5728\u4e2d\u95f4\u4ef6\u7c7b\u4e2d\uff0c\u6709\u65f6\u9700\u8981\u91cd\u5199\u5904\u7406\u8bf7\u6c42\u6216\u8005\u54cd\u5e94\u7684\u65b9\u6cd5\u3011 process_request(self, request, spider)\uff1a\u3010\u6b64\u65b9\u6cd5\u662f\u7528\u7684\u6700\u591a\u7684\u3011 \u5f53\u6bcf\u4e2arequest\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\u3002 \u8fd4\u56deNone\u503c\uff1a\u7ee7\u7eed\u8bf7\u6c42 \u6ca1\u6709return\u4e5f\u662f\u8fd4\u56deNone\uff0c\u8be5request\u5bf9\u8c61\u4f20\u9012\u7ed9\u4e0b\u8f7d\u5668\uff0c\u6216\u901a\u8fc7\u5f15\u64ce\u4f20\u9012\u7ed9\u5176\u4ed6\u6743\u91cd\u4f4e\u7684process_request\u65b9\u6cd5 \u3010\u5982\u679c\u6240\u6709\u7684\u4e0b\u8f7d\u5668\u4e2d\u95f4\u4ef6\u90fd\u8fd4\u56de\u4e3aNone\uff0c\u5219\u8bf7\u6c42\u6700\u7ec8\u88ab\u4ea4\u7ed9\u4e0b\u8f7d\u5668\u5904\u7406\u3011 \u8fd4\u56deResponse\u5bf9\u8c61\uff1a\u4e0d\u518d\u8bf7\u6c42\uff0c\u628aresponse\u8fd4\u56de\u7ed9\u5f15\u64ce\u3010\u5982\u679c\u8fd4\u56de\u4e3a\u8bf7\u6c42\uff0c\u5219\u5c06\u8bf7\u6c42\u4ea4\u7ed9\u8c03\u5ea6\u5668\u3011 \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u628arequest\u5bf9\u8c61\u4ea4\u7ed9\u8c03\u5ea6\u5668\u8fdb\u884c\u540e\u7eed\u7684\u8bf7\u6c42 process_response(self, request, response, spider)\uff1a \u5f53\u4e0b\u8f7d\u5668\u5b8c\u6210http\u8bf7\u6c42\uff0c\u4f20\u9012\u54cd\u5e94\u7ed9\u5f15\u64ce\u7684\u65f6\u5019\u8c03\u7528 \u8fd4\u56deResposne\uff1a\u901a\u8fc7\u5f15\u64ce\u4ea4\u7ed9\u722c\u866b\u5904\u7406\u6216\u4ea4\u7ed9\u6743\u91cd\u66f4\u4f4e\u7684\u5176\u4ed6\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684process_response\u65b9\u6cd5 \u3010\u5982\u679c\u8fd4\u56de\u4e3a\u8bf7\u6c42\uff0c\u5219\u5c06\u8bf7\u6c42\u4ea4\u7ed9\u8c03\u5ea6\u5668\u3011 \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u4ea4\u7ed9\u8c03\u53d6\u5668\u7ee7\u7eed\u8bf7\u6c42\uff0c\u6b64\u65f6\u5c06\u4e0d\u901a\u8fc7\u5176\u4ed6\u6743\u91cd\u4f4e\u7684process_request\u65b9\u6cd5 \u3010\u5c06\u54cd\u5e94\u5bf9\u8c61\u4ea4\u7ed9spider\u8fdb\u884c\u89e3\u6790\u3011 process_exception(self, request, exception, spider): \u8bf7\u6c42\u51fa\u73b0\u5f02\u5e38\u7684\u65f6\u5019\u8fdb\u884cdiaoy \u6bd4\u5982\u5f53\u524d\u8bf7\u6c42\u88ab\u8bc6\u522b\u4e3a\u722c\u866b \u53ef\u4ee5\u4f7f\u7528\u4ee3\u7406 python def process_exception(self, request, exception, spider): request.meta['proxy'] = 'ip\u5730\u5740' request.dont_filter = True # \u56e0\u4e3a\u9ed8\u8ba4\u8bf7\u6c42\u662f\u53bb\u9664\u91cd\u590d\u7684\uff0c\u56e0\u4e3a\u5f53\u524d\u5df2\u7ecf\u8bf7\u6c42\u8fc7\uff0c\u6240\u4ee5\u9700\u8981\u8bbe\u7f6e\u5f53\u524d\u4e3a\u4e0d\u53bb\u91cd return request # \u5c06\u4fee\u6b63\u540e\u7684\u5bf9\u8c61\u91cd\u65b0\u8fdb\u884c\u8bf7\u6c42 \u5728settings.py\u4e2d\u914d\u7f6e\u5f00\u542f\u4e2d\u95f4\u4ef6\uff0c\u6743\u91cd\u503c\u8d8a\u5c0f\u8d8a\u4f18\u5148\u6267\u884c \u3010\u540c\u7ba1\u9053\u7684\u6ce8\u518c\u4f7f\u7528\u3011 spider\u53c2\u6570\uff1a\u4e3a\u722c\u866b\u4e2d\u7c7b\u7684\u5b9e\u4f8b\u5316\u53ef\u4ee5\u5728\u8fd9\u91cc\u8fdb\u884c\u8c03\u7528\u722c\u866b\u4e2d\u7684\u5c5e\u6027 \u5982\uff1aspider.name","title":"2\u3001\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684\u4f7f\u7528\u65b9\u6cd5\uff1a"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#21","text":"spiders.py\uff08\u722c\u866b\u4ee3\u7801\uff09 class WySpider(scrapy.Spider): name = 'wy' start_urls = ['http://www.baidu123.com/'] # \u7ed9\u4e00\u4e2a\u6b63\u786e\u7684\u7f51\u5740 # start_urls = ['http://www.baidu123.com/'] # \u7ed9\u4e00\u4e2a\u9519\u8bef\u7684\u7f51\u5740 def parse(self, response, **kwargs): pass settings.py(\u5f00\u542f\u4e2d\u95f4\u4ef6) DOWNLOADER_MIDDLEWARES = { 'wangyi.middlewares.WangyiDownloaderMiddleware': 543, } middlewares.py class WangyiDownloaderMiddleware: # Not all methods need to be defined. If a method is not defined, # scrapy acts as if the downloader middleware does not modify the # passed objects. @classmethod def from_crawler(cls, crawler): # This method is used by Scrapy to create your spiders. s = cls() crawler.signals.connect(s.spider_opened, signal=signals.spider_opened) return s def process_request(self, request, spider): print('process_request') return None def process_response(self, request, response, spider): print('process_response') return response def process_exception(self, request, exception, spider): print('process_exception') return request \u8fd0\u884c\u67e5\u770b \u8fd0\u884c\u67e5\u770b \u4fee\u6539spiders.py \u7ed9\u4e00\u4e2a\u9519\u8bef\u7684\u7f51\u5740\u5728\u8fdb\u884c\u67e5\u770b\uff0c\u4f1a\u53d1\u73b0\u5f53\u524d\u4f1a\u5faa\u73af\u6267\u884c","title":"2.1 \u5f53\u524d\u4e2d\u95f4\u4ef6\u7684\u7b80\u5355\u4f7f\u7528"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#3user-agent","text":"","title":"3\u3001\u5b9a\u4e49\u5b9e\u73b0\u968f\u673aUser-Agent\u7684\u4e0b\u8f7d\u4e2d\u95f4\u4ef6"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#31-settingsua","text":"USER_AGENTS_LIST = [ \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \\ \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\", \\ \"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)\", \\ \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)\", \\ \"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6\", \\ \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1\", \\ \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0\", \\ \"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5\" ]","title":"3.1 \u5728settings\u4e2d\u6dfb\u52a0UA\u7684\u5217\u8868"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#32-middlewarespy","text":"import random from Tencent.settings import USER_AGENTS_LIST # \u6ce8\u610f\u5bfc\u5165\u8def\u5f84,\u8bf7\u5ffd\u89c6pycharm\u7684\u9519\u8bef\u63d0\u793a class UserAgentMiddleware(object): def process_request(self, request, spider): user_agent = random.choice(USER_AGENTS_LIST) request.headers['User-Agent'] = user_agent","title":"3.2 \u5728middlewares.py\u4e2d\u5b8c\u5584\u4ee3\u7801"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#33-tencentpy","text":"class CheckUA: def process_response(self,request,response,spider): print(request.headers['User-Agent'])","title":"3.3 \u5728\u722c\u866b\u6587\u4ef6tencent.py\u7684\u6bcf\u4e2a\u89e3\u6790\u51fd\u6570\u4e2d\u6dfb\u52a0"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#34-settings","text":"DOWNLOADER_MIDDLEWARES = { 'Tencent.middlewares.UserAgentMiddleware': 543, }","title":"3.4 \u5728settings\u4e2d\u8bbe\u7f6e\u5f00\u542f\u81ea\u5b9a\u4e49\u7684\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\uff0c\u8bbe\u7f6e\u65b9\u6cd5\u540c\u7ba1\u9053"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#35","text":"","title":"3.5 \u8fd0\u884c\u722c\u866b\u89c2\u5bdf\u73b0\u8c61"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#4ip","text":"","title":"4\u3001\u4ee3\u7406ip\u7684\u4f7f\u7528"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#41","text":"\u4ee3\u7406\u6dfb\u52a0\u7684\u4f4d\u7f6e\uff1arequest.meta\u4e2d\u589e\u52a0 proxy \u5b57\u6bb5 \u83b7\u53d6\u4e00\u4e2a\u4ee3\u7406ip\uff0c\u8d4b\u503c\u7ed9 python request.meta['proxy'] \u4ee3\u7406\u6c60\u4e2d\u968f\u673a\u9009\u62e9\u4ee3\u7406ip \u4ee3\u7406ip\u7684webapi\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u4e00\u4e2a\u4ee3\u7406ip","title":"4.1 \u601d\u8def\u5206\u6790"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#42","text":"class ProxyMiddleware(object): def process_request(self,request,spider): proxy = random.choice(proxies) # proxies\u53ef\u4ee5\u5728settings.py\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u6765\u6e90\u4e8e\u4ee3\u7406ip\u7684webapi # proxy = 'http://192.168.1.1:8118' request.meta['proxy'] = proxy return None # \u53ef\u4ee5\u4e0d\u5199return","title":"4.2 \u5177\u4f53\u5b9e\u73b0"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#43-ip","text":"\u5728\u4f7f\u7528\u4e86\u4ee3\u7406ip\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u5728\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u7684process_response()\u65b9\u6cd5\u4e2d\u5904\u7406\u4ee3\u7406ip\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u5982\u679c\u8be5\u4ee3\u7406ip\u4e0d\u80fd\u4f7f\u7528\u53ef\u4ee5\u66ff\u6362\u5176\u4ed6\u4ee3\u7406ip class ProxyMiddleware(object): def process_response(self, request, response, spider): if response.status != '200' and response.status != '302': #\u6b64\u65f6\u5bf9\u4ee3\u7406ip\u8fdb\u884c\u64cd\u4f5c\uff0c\u6bd4\u5982\u5220\u9664 return request","title":"4.3 \u68c0\u6d4b\u4ee3\u7406ip\u662f\u5426\u53ef\u7528"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#44","text":"\u7f51\u5740\uff1ahttps://www.kuaidaili.com/ \u8f93\u5165\u7f51\u5740 \u70b9\u51fb\u8d2d\u4e70\u4ee3\u7406 \u9009\u62e9\u4f60\u60f3\u8d2d\u4e70\u4ee3\u7406\u7684\u7c7b\u578b \u4ee5\u96a7\u9053\u4ee3\u7406\u4e3a\u4f8b \u70b9\u51fb\u8d2d\u4e70 \u8d2d\u4e70\u540e\u70b9\u51fb \u6587\u6863\u4e2d\u5fc3 \u70b9\u51fb \u9009\u62e9\u96a7\u9053\u4ee3\u7406 \u5411\u4e0b\u62c9 \u9009\u62e9\u4f60\u5f53\u524d\u8981\u4f7f\u7528\u4ee3\u7406\u7684\u6a21\u5757 \u6211\u4eec\u662fscrapy\u4f7f\u7528\u96a7\u9053 \u6240\u4ee5\u9009\u62e9 Python-Scrapy \u627e\u5230 middlewares.py \u5c06\u4e2d\u95f4\u4ef6\u7c7b\u4ee3\u7801\u590d\u5236\u5230\u5f53\u524d\u81ea\u5df1scrapy\u7684\u4e2d\u95f4\u4ef6\u5f97\u6587\u4ef6\u4e2d\u5373\u53ef \u6309\u7167\u6b65\u9aa4\u5f00\u542f\u4e2d\u95f4\u4ef6\u4e0e\u586b\u5199\u81ea\u5df1\u7684\u7528\u6237\u540d\u4e0e\u5bc6\u7801\u7b49\u4fe1\u606f\u5373\u53ef","title":"4.4 \u5feb\u4ee3\u7406\u7684\u8d2d\u4e70\u4e0e\u4f7f\u7528"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#_2","text":"\u4e2d\u95f4\u4ef6\u7684\u4f7f\u7528\uff1a \u5b8c\u5584\u4e2d\u95f4\u4ef6\u4ee3\u7801\uff1a process_request(self, request, spider)\uff1a \u5f53\u6bcf\u4e2arequest\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u65f6\uff0c\u8be5\u65b9\u6cd5\u88ab\u8c03\u7528\u3002 \u8fd4\u56deNone\u503c\uff1a\u7ee7\u7eed\u8bf7\u6c42 \u8fd4\u56deResponse\u5bf9\u8c61\uff1a\u4e0d\u518d\u8bf7\u6c42\uff0c\u628aresponse\u8fd4\u56de\u7ed9\u5f15\u64ce \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u628arequest\u5bf9\u8c61\u4ea4\u7ed9\u8c03\u5ea6\u5668\u8fdb\u884c\u540e\u7eed\u7684\u8bf7\u6c42 process_response(self, request, response, spider)\uff1a \u5f53\u4e0b\u8f7d\u5668\u5b8c\u6210http\u8bf7\u6c42\uff0c\u4f20\u9012\u54cd\u5e94\u7ed9\u5f15\u64ce\u7684\u65f6\u5019\u8c03\u7528 \u8fd4\u56deResposne\uff1a\u4ea4\u7ed9process_response\u6765\u5904\u7406 \u8fd4\u56deRequest\u5bf9\u8c61\uff1a\u4ea4\u7ed9\u8c03\u53d6\u5668\u7ee7\u7eed\u8bf7\u6c42 \u9700\u8981\u5728settings.py\u4e2d\u5f00\u542f\u4e2d\u95f4\u4ef6 DOWNLOADER_MIDDLEWARES = { 'myspider.middlewares.UserAgentMiddleware': 543, }","title":"\u603b\u7ed3"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#5","text":"url\uff1ahttps://news.163.com/","title":"5\u3001\u722c\u53d6\u7f51\u6613\u65b0\u95fb"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#51","text":"scrapy startproject wangyi cd wangyi scrapy genspider wy https://news.163.com/","title":"5.1 \u722c\u53d6\u524d\u51c6\u5907"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#52","text":"\u6293\u53d6 \u56fd\u5185 \u56fd\u9645 \u519b\u4e8b \u822a\u7a7a \u5206\u6790 \u56fd\u5185\u7b49\u6570\u636e\u662f\u7531\u52a8\u6001\u52a0\u8f7d\u7684 \u5e76\u4e0d\u662f\u8ddf\u7740\u5f53\u524d\u7684\u8bf7\u6c42\u4e00\u8d77\u8fd4\u56de\u7684 \u89e3\u51b3\u65b9\u5f0f2\u79cd \u901a\u8fc7selenium\u914d\u5408\u722c\u866b\u6293\u53d6\u9875\u9762\u8fdb\u884c\u6570\u636e \u627e\u5230\u52a0\u8f7d\u52a8\u6001\u6570\u636e\u7684url\u5730\u5740 \u901a\u8fc7\u722c\u866b\u8fdb\u884c\u6293\u53d6 \u5c06\u627e\u5230\u7684URL\u653e\u5230\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u8bf7\u6c42 \u6548\u679c\u5982\u4e0b","title":"5.2 \u722c\u53d6\u524d\u5206\u6790"},{"location":"16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html#53","text":"\u914d\u7f6e\u6587\u4ef6\u5904\u7406settings.py ```python # Scrapy settings for wangyi project BOT_NAME = 'wangyi' SPIDER_MODULES = ['wangyi.spiders'] NEWSPIDER_MODULE = 'wangyi.spiders' # \u9ed8\u8ba4\u8bf7\u6c42\u5934 USER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36' # \u7528\u4e8e\u66f4\u6362\u968f\u673a\u8bf7\u6c42\u5934 USER_AGENTS_LIST = [ \"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)\", \"Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 1.0.3705; .NET CLR 1.1.4322)\", \"Mozilla/4.0 (compatible; MSIE 7.0b; Windows NT 5.2; .NET CLR 1.1.4322; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 3.0.04506.30)\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN) AppleWebKit/523.15 (KHTML, like Gecko, Safari/419.3) Arora/0.3 (Change: 287 c9dfb30)\", \"Mozilla/5.0 (X11; U; Linux; en-US) AppleWebKit/527+ (KHTML, like Gecko, Safari/419.3) Arora/0.6\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2pre) Gecko/20070215 K-Ninja/2.1.1\", \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9) Gecko/20080705 Firefox/3.0 Kapiko/3.0\", \"Mozilla/5.0 (X11; Linux i686; U;) Gecko/20070322 Kazehakase/0.4.5\" ] LOG_LEVEL = 'ERROR' ROBOTSTXT_OBEY = False DOWNLOADER_MIDDLEWARES = { 'wangyi.middlewares.WangyiDownloaderMiddleware': 543, } ITEM_PIPELINES = { 'wangyi.pipelines.WangyiPipeline': 300, } ``` \u722c\u866b\u4ee3\u7801wy.py ```python import scrapy from selenium import webdriver from selenium.webdriver import ChromeOptions from selenium.webdriver.chrome.options import Options from wangyi.items import WangyiItem class WySpider(scrapy.Spider): name = 'wy' # allowed_domains = ['news.163.com'] start_urls = ['https://news.163.com/domestic/'] # li_index = [1, 2, 4, 5] # \u5f53\u524d\u8981\u722c\u53d6\u83dc\u5355\u7684\u7d22\u5f15\u4f4d\u7f6e li_index = [1, 2] # \u5f53\u524d\u8981\u722c\u53d6\u83dc\u5355\u7684\u7d22\u5f15\u4f4d\u7f6e page_url = [] # \u9690\u85cf\u6d4f\u89c8\u5668\u754c\u9762 chrome_option = Options() chrome_option.add_argument('--headless') chrome_option.add_argument('--disable-gpu') # \u9632\u6b62\u68c0\u6d4b option = ChromeOptions() option.add_experimental_option('excludeSwitches', ['enable-automation']) # \u5bfc\u5165\u914d\u7f6e driver = webdriver.Chrome(chrome_options=chrome_option, options=option) def parse(self, response, **kwargs): # \u6293\u53d6 \u56fd\u5185 \u56fd\u9645 \u519b\u4e8b \u822a\u7a7a menu = response.xpath('/html/body/div/div[3]/div[2]/div[2]/div/ul/li/a/@href').extract() # \u5faa\u73af\u83b7\u53d6\u5f53\u524d\u6211\u4eec\u8981\u6293\u53d6\u680f\u76ee\u7684url for i in range(len(menu)): if i in self.li_index: url = menu[i] self.page_url.append(url) # \u5411\u8be6\u60c5\u9875\u53d1\u8d77\u8bf7\u6c42 yield scrapy.Request(url, callback=self.parse_detail) # \u5bf9\u680f\u76ee\u9875\u8fdb\u884c\u8bf7\u6c42 def parse_detail(self, response): # \u83b7\u53d6\u6bcf\u4e2a\u65b0\u95fb\u7684url detail_href_list = response.xpath('/html/body/div/div[3]/div[3]/div[1]/div[1]/div/ul/li/div/div/a/@href').extract() # print(detail_href_list) for url in detail_href_list: print(url) yield scrapy.Request(url, callback=self.parse_detail_con) # \u5bf9\u4e8e\u65b0\u95fb\u8be6\u60c5\u9875\u8fdb\u884c\u89e3\u6790 def parse_detail_con(self, response): # \u5b9e\u4f8b\u5316item item = WangyiItem() # \u5339\u914d\u6807\u9898 title = response.xpath('//*[@id=\"container\"]/div[1]/h1/text()').extract_first() # \u5339\u914d\u5185\u5bb9 con = ''.join(response.xpath('//*[@id=\"content\"]/div[2]//text()').extract()) item['title'] = title item['con'] = con print(item) yield item ``` Items.py python import scrapy class WangyiItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() title = scrapy.Field() content = scrapy.Field() Middlewares.py ```python from wangyi.settings import USER_AGENTS_LIST import random from scrapy.http import HtmlResponse class WangyiDownloaderMiddleware: @classmethod def from_crawler(cls, crawler): # This method is used by Scrapy to create your spiders. s = cls() crawler.signals.connect(s.spider_opened, signal=signals.spider_opened) return s def process_request(self, request, spider): request.headers['User-Agent'] = random.choice(USER_AGENTS_LIST) # print(request.headers) return None def process_response(self, request, response, spider): # Called with the response returned from the downloader. driver = spider.driver # \u83b7\u53d6\u5230selenium if request.url in spider.page_url: driver.get(request.url) # \u6eda\u52a8\u6761\u6eda\u52a8\u5230\u6700\u4e0b\u65b9 driver.execute_script('window.scrollTo(0, document.body.scrollHeight)') time.sleep(1) # \u62d6\u52a8\u4e24\u6b21 driver.execute_script('window.scrollTo(0, document.body.scrollHeight)') time.sleep(1) text = driver.page_source # \u7be1\u6539\u54cd\u5e94\u5bf9\u8c61\u5e76\u8fd4\u56de return HtmlResponse(url=request.url, body=text, encoding='UTF-8', request=request) return response def process_exception(self, request, exception, spider): # Called when a download handler or a process_request() pass def spider_opened(self, spider): spider.logger.info('Spider opened: %s' % spider.name) ```","title":"5.3 \u4ee3\u7801\u914d\u7f6e"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html","text":"\u5341\u516d\u3001scrapy\u7684crawlspider\u722c\u866b \u5b66\u4e60\u76ee\u6807\uff1a \u4e86\u89e3 crawlspider\u7684\u4f5c\u7528 \u5e94\u7528 crawlspider\u722c\u866b\u521b\u5efa\u7684\u65b9\u6cd5 \u5e94\u7528 crawlspider\u4e2drules\u7684\u4f7f\u7528 1\u3001crawlspider\u662f\u4ec0\u4e48 \u56de\u987e\u4e4b\u524d\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6709\u5f88\u5927\u4e00\u90e8\u5206\u65f6\u95f4\u5728\u5bfb\u627e\u4e0b\u4e00\u9875\u7684url\u5730\u5740\u6216\u8005\u662f\u5185\u5bb9\u7684url\u5730\u5740\u4e0a\u9762\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u80fd\u66f4\u7b80\u5355\u4e00\u4e9b\u4e48\uff1f \u601d\u8def\uff1a \u4eceresponse\u4e2d\u63d0\u53d6\u6240\u6709\u7684\u6ee1\u8db3\u89c4\u5219\u7684url\u5730\u5740 \u81ea\u52a8\u7684\u6784\u9020\u81ea\u5df1requests\u8bf7\u6c42\uff0c\u53d1\u9001\u7ed9\u5f15\u64ce \u5bf9\u5e94\u7684 crawlspider\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4e0a\u8ff0\u9700\u6c42\uff0c\u80fd\u591f\u5339\u914d\u6ee1\u8db3\u6761\u4ef6\u7684url\u5730\u5740\uff0c\u7ec4\u88c5\u6210Reuqest\u5bf9\u8c61\u540e\u81ea\u52a8\u53d1\u9001\u7ed9\u5f15\u64ce\uff0c\u540c\u65f6\u80fd\u591f\u6307\u5b9acallback\u51fd\u6570 \u5373\uff1acrawlspider\u722c\u866b\u53ef\u4ee5\u6309\u7167\u89c4\u5219\u81ea\u52a8\u83b7\u53d6\u8fde\u63a5 2\u3001crawlspider\u8c46\u74e3TOP250\u722c\u866b \u901a\u8fc7crawlspider\u722c\u53d6\u8c46\u74e3TOP250\u8be6\u60c5\u9875\u7684\u4fe1\u606f url\uff1ahttps://movie.douban.com/top250 \u601d\u8def\u5206\u6790\uff1a \u5b9a\u4e49\u4e00\u4e2a\u89c4\u5219\uff0c\u6765\u8fdb\u884c\u5217\u8868\u9875\u7ffb\u9875\uff0cfollow\u9700\u8981\u8bbe\u7f6e\u4e3aTrue \u5b9a\u4e49\u4e00\u4e2a\u89c4\u5219\uff0c\u5b9e\u73b0\u4ece\u5217\u8868\u9875\u8fdb\u5165\u8be6\u60c5\u9875\uff0c\u5e76\u4e14\u6307\u5b9a\u56de\u8c03\u51fd\u6570 \u5728\u8be6\u60c5\u9875\u63d0\u53d6\u6570\u636e \u6ce8\u610f\uff1a\u8fde\u63a5\u63d0\u53d6\u5668LinkExtractor\u4e2d\u7684allow\u5bf9\u5e94\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u662fhref\u5c5e\u6027\u7684\u503c 3\u3001\u521b\u5efacrawlspider\u722c\u866b\u5e76\u89c2\u5bdf\u722c\u866b\u5185\u7684\u9ed8\u8ba4\u5185\u5bb9 3.1 \u521b\u5efacrawlspider\u722c\u866b\uff1a scrapy startproject project cd project scrapy genspider -t crawl douban book.douban.com/latest?subcat=%E5%85%A8%E9%83%A8&p=1 url: \u8c46\u74e3\u56fe\u4e66 https://book.douban.com/latest?subcat=%E5%85%A8%E9%83%A8&p=1 3.2 spider\u4e2d\u9ed8\u8ba4\u751f\u6210\u7684\u5185\u5bb9\u5982\u4e0b\uff1a import scrapy from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule class BookSpider(CrawlSpider): name = 'douban' # allowed_domains = ['https://movie.douban.com/top250'] start_urls = ['https://movie.douban.com/top250'] # \u5339\u914d\u9875\u7801\u5730\u5740 link = LinkExtractor(allow=r'start=\\d+&filter=') # \u5339\u914d\u8be6\u60c5\u9875\u5730\u5740 link_detail = LinkExtractor(allow=r'https://movie.douban.com/subject/\\d+/') # allow\u503c\u4ec0\u4e48\u90fd\u4e0d\u5199 \u5219\u4e3a\u63d0\u53d6\u6240\u6709\u7684url link_all = LinkExtractor(allow=r'') rules = ( # Rule(link, callback='parse_item', follow=True), # Rule(link_detail, callback='parse_detail_item', follow=False), Rule(link_all, callback='parse_all_item', follow=True), ) def parse_item(self, response): item = {} print(response) return item def parse_detail_item(self, response): item = {} print(response) return item def parse_all_item(self, response): item = {} print(response) return item 3.3 \u89c2\u5bdf\u8ddf\u666e\u901a\u7684scrapy.spider\u7684\u533a\u522b \u5728crawlspider\u722c\u866b\u4e2d\uff0c\u6ca1\u6709parse\u51fd\u6570 \u91cd\u70b9\u5728rules\u4e2d\uff1a rules\u662f\u4e00\u4e2a\u5143\u7ec4\u6216\u8005\u662f\u5217\u8868\uff0c\u5305\u542b\u7684\u662fRule\u5bf9\u8c61 Rule\u8868\u793a\u89c4\u5219\uff0c\u5176\u4e2d\u5305\u542bLinkExtractor,callback\u548cfollow\u7b49\u53c2\u6570 LinkExtractor:\u8fde\u63a5\u63d0\u53d6\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6216\u8005\u662fxpath\u6765\u8fdb\u884curl\u5730\u5740\u7684\u5339\u914d callback :\u8868\u793a\u7ecf\u8fc7\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u51fa\u6765\u7684url\u5730\u5740\u54cd\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u6ca1\u6709\uff0c\u6ca1\u6709\u8868\u793a\u54cd\u5e94\u4e0d\u4f1a\u8fdb\u884c\u56de\u8c03\u51fd\u6570\u7684\u5904\u7406 follow\uff1a\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u7684url\u5730\u5740\u5bf9\u5e94\u7684\u54cd\u5e94\u662f\u5426\u8fd8\u4f1a\u7ee7\u7eed\u88abrules\u4e2d\u7684\u89c4\u5219\u8fdb\u884c\u63d0\u53d6\uff0cTrue\u8868\u793a\u4f1a\uff0cFlase\u8868\u793a\u4e0d\u4f1a 4\u3001crawlspider\u4f7f\u7528\u7684\u6ce8\u610f\u70b9\uff1a \u9664\u4e86\u7528\u547d\u4ee4 scrapy genspider -t crawl <\u722c\u866b\u540d> <allowed_domail> \u521b\u5efa\u4e00\u4e2acrawlspider\u7684\u6a21\u677f\uff0c\u9875\u53ef\u4ee5\u624b\u52a8\u521b\u5efa crawlspider\u4e2d\u4e0d\u80fd\u518d\u6709\u4ee5parse\u4e3a\u540d\u7684\u6570\u636e\u63d0\u53d6\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u88abcrawlspider\u7528\u6765\u5b9e\u73b0\u57fa\u7840url\u63d0\u53d6\u7b49\u529f\u80fd Rule\u5bf9\u8c61\u4e2dLinkExtractor\u4e3a\u56fa\u5b9a\u53c2\u6570\uff0c\u5176\u4ed6callback\u3001follow\u4e3a\u53ef\u9009\u53c2\u6570 \u4e0d\u6307\u5b9acallback\u4e14follow\u4e3aTrue\u7684\u60c5\u51b5\u4e0b\uff0c\u6ee1\u8db3rules\u4e2d\u89c4\u5219\u7684url\u8fd8\u4f1a\u88ab\u7ee7\u7eed\u63d0\u53d6\u548c\u8bf7\u6c42 \u5982\u679c\u4e00\u4e2a\u88ab\u63d0\u53d6\u7684url\u6ee1\u8db3\u591a\u4e2aRule\uff0c\u90a3\u4e48\u4f1a\u4ecerules\u4e2d\u9009\u62e9\u4e00\u4e2a\u6ee1\u8db3\u5339\u914d\u6761\u4ef6\u7684Rule\u6267\u884c 5\u3001\u4e86\u89e3crawlspider\u5176\u4ed6\u77e5\u8bc6\u70b9 \u94fe\u63a5\u63d0\u53d6\u5668LinkExtractor\u7684\u66f4\u591a\u5e38\u89c1\u53c2\u6570 allow: \u6ee1\u8db3\u62ec\u53f7\u4e2d\u7684're'\u8868\u8fbe\u5f0f\u7684url\u4f1a\u88ab\u63d0\u53d6\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u5168\u90e8\u5339\u914d deny: \u6ee1\u8db3\u62ec\u53f7\u4e2d\u7684're'\u8868\u8fbe\u5f0f\u7684url\u4e0d\u4f1a\u88ab\u63d0\u53d6\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8eallow allow_domains: \u4f1a\u88ab\u63d0\u53d6\u7684\u94fe\u63a5\u7684domains(url\u8303\u56f4)\uff0c\u5982\uff1a ['https://movie.douban.com/top250'] deny_domains: \u4e0d\u4f1a\u88ab\u63d0\u53d6\u7684\u94fe\u63a5\u7684domains(url\u8303\u56f4) restrict_xpaths: \u4f7f\u7528xpath\u89c4\u5219\u8fdb\u884c\u5339\u914d\uff0c\u548callow\u5171\u540c\u8fc7\u6ee4url\uff0c\u5373xpath\u6ee1\u8db3\u7684\u8303\u56f4\u5185\u7684url\u5730\u5740\u4f1a\u88ab\u63d0\u53d6 \u5982\uff1a restrict_xpaths='//div[@class=\"pagenav\"]' restrict_css: \u63a5\u6536\u4e00\u5806css\u9009\u62e9\u5668, \u53ef\u4ee5\u63d0\u53d6\u7b26\u5408\u8981\u6c42\u7684css\u9009\u62e9\u5668\u7684\u94fe\u63a5 attrs: \u63a5\u6536\u4e00\u5806\u5c5e\u6027\u540d, \u4ece\u67d0\u4e2a\u5c5e\u6027\u4e2d\u63d0\u53d6\u94fe\u63a5, \u9ed8\u8ba4href tags: \u63a5\u6536\u4e00\u5806\u6807\u7b7e\u540d, \u4ece\u67d0\u4e2a\u6807\u7b7e\u4e2d\u63d0\u53d6\u94fe\u63a5, \u9ed8\u8ba4a, area \u503c\u5f97\u6ce8\u610f\u7684, \u5728\u63d0\u53d6\u5230\u7684url\u4e2d, \u662f\u6709\u91cd\u590d\u7684\u5185\u5bb9\u7684. \u4f46\u662f\u6211\u4eec\u4e0d\u7528\u7ba1. scrapy\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u8fc7\u6ee4\u6389\u91cd\u590d\u7684url\u8bf7\u6c42 \u6a21\u62df\u4f7f\u7528 \u6b63\u5219\u7528\u6cd5\uff1a\u3000links1 = LinkExtractor(allow=r'list_23_\\d+.html') xpath\u7528\u6cd5\uff1a links2 = LinkExtractor(restrict_xpaths=r'//div[@class=\"x\"]') css\u7528\u6cd5\uff1a links3 = LinkExtractor(restrict_css='.x') 5.\u63d0\u53d6\u8fde\u63a5 Rule\u5e38\u89c1\u53c2\u6570 LinkExtractor: \u94fe\u63a5\u63d0\u53d6\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6216\u8005\u662fxpath\u6765\u8fdb\u884curl\u5730\u5740\u7684\u5339\u914d callback: \u8868\u793a\u7ecf\u8fc7\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u51fa\u6765\u7684url\u5730\u5740\u54cd\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u6ca1\u6709\uff0c\u6ca1\u6709\u8868\u793a\u54cd\u5e94\u4e0d\u4f1a\u8fdb\u884c\u56de\u8c03\u51fd\u6570\u7684\u5904\u7406 follow: \u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u7684url\u5730\u5740\u5bf9\u5e94\u7684\u54cd\u5e94\u662f\u5426\u8fd8\u4f1a\u7ee7\u7eed\u88abrules\u4e2d\u7684\u89c4\u5219\u8fdb\u884c\u63d0\u53d6\uff0c\u9ed8\u8ba4True\u8868\u793a\u4f1a\uff0cFlase\u8868\u793a\u4e0d\u4f1a process_links: \u5f53\u94fe\u63a5\u63d0\u53d6\u5668LinkExtractor\u83b7\u53d6\u5230\u94fe\u63a5\u5217\u8868\u7684\u65f6\u5019\u8c03\u7528\u8be5\u53c2\u6570\u6307\u5b9a\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u8fc7\u6ee4url\uff0c\u4e14\u8fd9\u4e2a\u65b9\u6cd5\u6267\u884c\u540e\u624d\u4f1a\u6267\u884ccallback\u6307\u5b9a\u7684\u65b9\u6cd5 \u603b\u7ed3 crawlspider\u7684\u4f5c\u7528\uff1acrawlspider\u53ef\u4ee5\u6309\u7167\u89c4\u5219\u81ea\u52a8\u83b7\u53d6\u8fde\u63a5 crawlspider\u722c\u866b\u7684\u521b\u5efa\uff1ascrapy genspider -t crawl xxx www.xxx.com crawlspider\u4e2drules\u7684\u4f7f\u7528\uff1a rules\u662f\u4e00\u4e2a\u5143\u7ec4\u6216\u8005\u662f\u5217\u8868\uff0c\u5305\u542b\u7684\u662fRule\u5bf9\u8c61 Rule\u8868\u793a\u89c4\u5219\uff0c\u5176\u4e2d\u5305\u542bLinkExtractor,callback\u548cfollow\u7b49\u53c2\u6570 LinkExtractor:\u8fde\u63a5\u63d0\u53d6\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6216\u8005\u662fxpath\u6765\u8fdb\u884curl\u5730\u5740\u7684\u5339\u914d callback :\u8868\u793a\u7ecf\u8fc7\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u51fa\u6765\u7684url\u5730\u5740\u54cd\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u6ca1\u6709\uff0c\u6ca1\u6709\u8868\u793a\u54cd\u5e94\u4e0d\u4f1a\u8fdb\u884c\u56de\u8c03\u51fd\u6570\u7684\u5904\u7406 follow\uff1a\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u7684url\u5730\u5740\u5bf9\u5e94\u7684\u54cd\u5e94\u662f\u5426\u8fd8\u4f1a\u7ee7\u7eed\u88abrules\u4e2d\u7684\u89c4\u5219\u8fdb\u884c\u63d0\u53d6\uff0cTrue\u8868\u793a\u4f1a\uff0cFlase\u8868\u793a\u4e0d\u4f1a","title":"\u5341\u516d\u3001scrapy\u7684crawlspider\u722c\u866b"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#scrapycrawlspider","text":"","title":"\u5341\u516d\u3001scrapy\u7684crawlspider\u722c\u866b"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#_1","text":"\u4e86\u89e3 crawlspider\u7684\u4f5c\u7528 \u5e94\u7528 crawlspider\u722c\u866b\u521b\u5efa\u7684\u65b9\u6cd5 \u5e94\u7528 crawlspider\u4e2drules\u7684\u4f7f\u7528","title":"\u5b66\u4e60\u76ee\u6807\uff1a"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#1crawlspider","text":"\u56de\u987e\u4e4b\u524d\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6709\u5f88\u5927\u4e00\u90e8\u5206\u65f6\u95f4\u5728\u5bfb\u627e\u4e0b\u4e00\u9875\u7684url\u5730\u5740\u6216\u8005\u662f\u5185\u5bb9\u7684url\u5730\u5740\u4e0a\u9762\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u80fd\u66f4\u7b80\u5355\u4e00\u4e9b\u4e48\uff1f","title":"1\u3001crawlspider\u662f\u4ec0\u4e48"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#_2","text":"\u4eceresponse\u4e2d\u63d0\u53d6\u6240\u6709\u7684\u6ee1\u8db3\u89c4\u5219\u7684url\u5730\u5740 \u81ea\u52a8\u7684\u6784\u9020\u81ea\u5df1requests\u8bf7\u6c42\uff0c\u53d1\u9001\u7ed9\u5f15\u64ce \u5bf9\u5e94\u7684 crawlspider\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4e0a\u8ff0\u9700\u6c42\uff0c\u80fd\u591f\u5339\u914d\u6ee1\u8db3\u6761\u4ef6\u7684url\u5730\u5740\uff0c\u7ec4\u88c5\u6210Reuqest\u5bf9\u8c61\u540e\u81ea\u52a8\u53d1\u9001\u7ed9\u5f15\u64ce\uff0c\u540c\u65f6\u80fd\u591f\u6307\u5b9acallback\u51fd\u6570 \u5373\uff1acrawlspider\u722c\u866b\u53ef\u4ee5\u6309\u7167\u89c4\u5219\u81ea\u52a8\u83b7\u53d6\u8fde\u63a5","title":"\u601d\u8def\uff1a"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#2crawlspidertop250","text":"\u901a\u8fc7crawlspider\u722c\u53d6\u8c46\u74e3TOP250\u8be6\u60c5\u9875\u7684\u4fe1\u606f url\uff1ahttps://movie.douban.com/top250","title":"2\u3001crawlspider\u8c46\u74e3TOP250\u722c\u866b"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#_3","text":"\u5b9a\u4e49\u4e00\u4e2a\u89c4\u5219\uff0c\u6765\u8fdb\u884c\u5217\u8868\u9875\u7ffb\u9875\uff0cfollow\u9700\u8981\u8bbe\u7f6e\u4e3aTrue \u5b9a\u4e49\u4e00\u4e2a\u89c4\u5219\uff0c\u5b9e\u73b0\u4ece\u5217\u8868\u9875\u8fdb\u5165\u8be6\u60c5\u9875\uff0c\u5e76\u4e14\u6307\u5b9a\u56de\u8c03\u51fd\u6570 \u5728\u8be6\u60c5\u9875\u63d0\u53d6\u6570\u636e","title":"\u601d\u8def\u5206\u6790\uff1a"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#linkextractorallowhref","text":"","title":"\u6ce8\u610f\uff1a\u8fde\u63a5\u63d0\u53d6\u5668LinkExtractor\u4e2d\u7684allow\u5bf9\u5e94\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u662fhref\u5c5e\u6027\u7684\u503c"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#3crawlspider","text":"","title":"3\u3001\u521b\u5efacrawlspider\u722c\u866b\u5e76\u89c2\u5bdf\u722c\u866b\u5185\u7684\u9ed8\u8ba4\u5185\u5bb9"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#31-crawlspider","text":"scrapy startproject project cd project scrapy genspider -t crawl douban book.douban.com/latest?subcat=%E5%85%A8%E9%83%A8&p=1 url: \u8c46\u74e3\u56fe\u4e66 https://book.douban.com/latest?subcat=%E5%85%A8%E9%83%A8&p=1","title":"3.1 \u521b\u5efacrawlspider\u722c\u866b\uff1a"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#32-spider","text":"import scrapy from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule class BookSpider(CrawlSpider): name = 'douban' # allowed_domains = ['https://movie.douban.com/top250'] start_urls = ['https://movie.douban.com/top250'] # \u5339\u914d\u9875\u7801\u5730\u5740 link = LinkExtractor(allow=r'start=\\d+&filter=') # \u5339\u914d\u8be6\u60c5\u9875\u5730\u5740 link_detail = LinkExtractor(allow=r'https://movie.douban.com/subject/\\d+/') # allow\u503c\u4ec0\u4e48\u90fd\u4e0d\u5199 \u5219\u4e3a\u63d0\u53d6\u6240\u6709\u7684url link_all = LinkExtractor(allow=r'') rules = ( # Rule(link, callback='parse_item', follow=True), # Rule(link_detail, callback='parse_detail_item', follow=False), Rule(link_all, callback='parse_all_item', follow=True), ) def parse_item(self, response): item = {} print(response) return item def parse_detail_item(self, response): item = {} print(response) return item def parse_all_item(self, response): item = {} print(response) return item","title":"3.2 spider\u4e2d\u9ed8\u8ba4\u751f\u6210\u7684\u5185\u5bb9\u5982\u4e0b\uff1a"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#33-scrapyspider","text":"\u5728crawlspider\u722c\u866b\u4e2d\uff0c\u6ca1\u6709parse\u51fd\u6570","title":"3.3 \u89c2\u5bdf\u8ddf\u666e\u901a\u7684scrapy.spider\u7684\u533a\u522b"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#rules","text":"rules\u662f\u4e00\u4e2a\u5143\u7ec4\u6216\u8005\u662f\u5217\u8868\uff0c\u5305\u542b\u7684\u662fRule\u5bf9\u8c61 Rule\u8868\u793a\u89c4\u5219\uff0c\u5176\u4e2d\u5305\u542bLinkExtractor,callback\u548cfollow\u7b49\u53c2\u6570 LinkExtractor:\u8fde\u63a5\u63d0\u53d6\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6216\u8005\u662fxpath\u6765\u8fdb\u884curl\u5730\u5740\u7684\u5339\u914d callback :\u8868\u793a\u7ecf\u8fc7\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u51fa\u6765\u7684url\u5730\u5740\u54cd\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u6ca1\u6709\uff0c\u6ca1\u6709\u8868\u793a\u54cd\u5e94\u4e0d\u4f1a\u8fdb\u884c\u56de\u8c03\u51fd\u6570\u7684\u5904\u7406 follow\uff1a\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u7684url\u5730\u5740\u5bf9\u5e94\u7684\u54cd\u5e94\u662f\u5426\u8fd8\u4f1a\u7ee7\u7eed\u88abrules\u4e2d\u7684\u89c4\u5219\u8fdb\u884c\u63d0\u53d6\uff0cTrue\u8868\u793a\u4f1a\uff0cFlase\u8868\u793a\u4e0d\u4f1a","title":"\u91cd\u70b9\u5728rules\u4e2d\uff1a"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#4crawlspider","text":"\u9664\u4e86\u7528\u547d\u4ee4 scrapy genspider -t crawl <\u722c\u866b\u540d> <allowed_domail> \u521b\u5efa\u4e00\u4e2acrawlspider\u7684\u6a21\u677f\uff0c\u9875\u53ef\u4ee5\u624b\u52a8\u521b\u5efa crawlspider\u4e2d\u4e0d\u80fd\u518d\u6709\u4ee5parse\u4e3a\u540d\u7684\u6570\u636e\u63d0\u53d6\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u88abcrawlspider\u7528\u6765\u5b9e\u73b0\u57fa\u7840url\u63d0\u53d6\u7b49\u529f\u80fd Rule\u5bf9\u8c61\u4e2dLinkExtractor\u4e3a\u56fa\u5b9a\u53c2\u6570\uff0c\u5176\u4ed6callback\u3001follow\u4e3a\u53ef\u9009\u53c2\u6570 \u4e0d\u6307\u5b9acallback\u4e14follow\u4e3aTrue\u7684\u60c5\u51b5\u4e0b\uff0c\u6ee1\u8db3rules\u4e2d\u89c4\u5219\u7684url\u8fd8\u4f1a\u88ab\u7ee7\u7eed\u63d0\u53d6\u548c\u8bf7\u6c42 \u5982\u679c\u4e00\u4e2a\u88ab\u63d0\u53d6\u7684url\u6ee1\u8db3\u591a\u4e2aRule\uff0c\u90a3\u4e48\u4f1a\u4ecerules\u4e2d\u9009\u62e9\u4e00\u4e2a\u6ee1\u8db3\u5339\u914d\u6761\u4ef6\u7684Rule\u6267\u884c","title":"4\u3001crawlspider\u4f7f\u7528\u7684\u6ce8\u610f\u70b9\uff1a"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#5crawlspider","text":"\u94fe\u63a5\u63d0\u53d6\u5668LinkExtractor\u7684\u66f4\u591a\u5e38\u89c1\u53c2\u6570 allow: \u6ee1\u8db3\u62ec\u53f7\u4e2d\u7684're'\u8868\u8fbe\u5f0f\u7684url\u4f1a\u88ab\u63d0\u53d6\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u5168\u90e8\u5339\u914d deny: \u6ee1\u8db3\u62ec\u53f7\u4e2d\u7684're'\u8868\u8fbe\u5f0f\u7684url\u4e0d\u4f1a\u88ab\u63d0\u53d6\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8eallow allow_domains: \u4f1a\u88ab\u63d0\u53d6\u7684\u94fe\u63a5\u7684domains(url\u8303\u56f4)\uff0c\u5982\uff1a ['https://movie.douban.com/top250'] deny_domains: \u4e0d\u4f1a\u88ab\u63d0\u53d6\u7684\u94fe\u63a5\u7684domains(url\u8303\u56f4) restrict_xpaths: \u4f7f\u7528xpath\u89c4\u5219\u8fdb\u884c\u5339\u914d\uff0c\u548callow\u5171\u540c\u8fc7\u6ee4url\uff0c\u5373xpath\u6ee1\u8db3\u7684\u8303\u56f4\u5185\u7684url\u5730\u5740\u4f1a\u88ab\u63d0\u53d6 \u5982\uff1a restrict_xpaths='//div[@class=\"pagenav\"]' restrict_css: \u63a5\u6536\u4e00\u5806css\u9009\u62e9\u5668, \u53ef\u4ee5\u63d0\u53d6\u7b26\u5408\u8981\u6c42\u7684css\u9009\u62e9\u5668\u7684\u94fe\u63a5 attrs: \u63a5\u6536\u4e00\u5806\u5c5e\u6027\u540d, \u4ece\u67d0\u4e2a\u5c5e\u6027\u4e2d\u63d0\u53d6\u94fe\u63a5, \u9ed8\u8ba4href tags: \u63a5\u6536\u4e00\u5806\u6807\u7b7e\u540d, \u4ece\u67d0\u4e2a\u6807\u7b7e\u4e2d\u63d0\u53d6\u94fe\u63a5, \u9ed8\u8ba4a, area \u503c\u5f97\u6ce8\u610f\u7684, \u5728\u63d0\u53d6\u5230\u7684url\u4e2d, \u662f\u6709\u91cd\u590d\u7684\u5185\u5bb9\u7684. \u4f46\u662f\u6211\u4eec\u4e0d\u7528\u7ba1. scrapy\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u8fc7\u6ee4\u6389\u91cd\u590d\u7684url\u8bf7\u6c42 \u6a21\u62df\u4f7f\u7528 \u6b63\u5219\u7528\u6cd5\uff1a\u3000links1 = LinkExtractor(allow=r'list_23_\\d+.html') xpath\u7528\u6cd5\uff1a links2 = LinkExtractor(restrict_xpaths=r'//div[@class=\"x\"]') css\u7528\u6cd5\uff1a links3 = LinkExtractor(restrict_css='.x') 5.\u63d0\u53d6\u8fde\u63a5 Rule\u5e38\u89c1\u53c2\u6570 LinkExtractor: \u94fe\u63a5\u63d0\u53d6\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6216\u8005\u662fxpath\u6765\u8fdb\u884curl\u5730\u5740\u7684\u5339\u914d callback: \u8868\u793a\u7ecf\u8fc7\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u51fa\u6765\u7684url\u5730\u5740\u54cd\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u6ca1\u6709\uff0c\u6ca1\u6709\u8868\u793a\u54cd\u5e94\u4e0d\u4f1a\u8fdb\u884c\u56de\u8c03\u51fd\u6570\u7684\u5904\u7406 follow: \u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u7684url\u5730\u5740\u5bf9\u5e94\u7684\u54cd\u5e94\u662f\u5426\u8fd8\u4f1a\u7ee7\u7eed\u88abrules\u4e2d\u7684\u89c4\u5219\u8fdb\u884c\u63d0\u53d6\uff0c\u9ed8\u8ba4True\u8868\u793a\u4f1a\uff0cFlase\u8868\u793a\u4e0d\u4f1a process_links: \u5f53\u94fe\u63a5\u63d0\u53d6\u5668LinkExtractor\u83b7\u53d6\u5230\u94fe\u63a5\u5217\u8868\u7684\u65f6\u5019\u8c03\u7528\u8be5\u53c2\u6570\u6307\u5b9a\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u8fc7\u6ee4url\uff0c\u4e14\u8fd9\u4e2a\u65b9\u6cd5\u6267\u884c\u540e\u624d\u4f1a\u6267\u884ccallback\u6307\u5b9a\u7684\u65b9\u6cd5","title":"5\u3001\u4e86\u89e3crawlspider\u5176\u4ed6\u77e5\u8bc6\u70b9"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#_4","text":"crawlspider\u7684\u4f5c\u7528\uff1acrawlspider\u53ef\u4ee5\u6309\u7167\u89c4\u5219\u81ea\u52a8\u83b7\u53d6\u8fde\u63a5 crawlspider\u722c\u866b\u7684\u521b\u5efa\uff1ascrapy genspider -t crawl xxx www.xxx.com crawlspider\u4e2drules\u7684\u4f7f\u7528\uff1a rules\u662f\u4e00\u4e2a\u5143\u7ec4\u6216\u8005\u662f\u5217\u8868\uff0c\u5305\u542b\u7684\u662fRule\u5bf9\u8c61 Rule\u8868\u793a\u89c4\u5219\uff0c\u5176\u4e2d\u5305\u542bLinkExtractor,callback\u548cfollow\u7b49\u53c2\u6570 LinkExtractor:\u8fde\u63a5\u63d0\u53d6\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6216\u8005\u662fxpath\u6765\u8fdb\u884curl\u5730\u5740\u7684\u5339\u914d callback :\u8868\u793a\u7ecf\u8fc7\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u51fa\u6765\u7684url\u5730\u5740\u54cd\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u6ca1\u6709\uff0c\u6ca1\u6709\u8868\u793a\u54cd\u5e94\u4e0d\u4f1a\u8fdb\u884c\u56de\u8c03\u51fd\u6570\u7684\u5904\u7406 follow\uff1a\u8fde\u63a5\u63d0\u53d6\u5668\u63d0\u53d6\u7684url\u5730\u5740\u5bf9\u5e94\u7684\u54cd\u5e94\u662f\u5426\u8fd8\u4f1a\u7ee7\u7eed\u88abrules\u4e2d\u7684\u89c4\u5219\u8fdb\u884c\u63d0\u53d6\uff0cTrue\u8868\u793a\u4f1a\uff0cFlase\u8868\u793a\u4e0d\u4f1a","title":"\u603b\u7ed3"},{"location":"16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html#_5","text":"","title":""},{"location":"16-Scrapy06-scrapy_redis.html","text":"\u5341\u516d\u3001scrapy_redis \u4e00\u3001scrapy_redis\u5206\u5e03\u5f0f\u539f\u7406 \u5b66\u4e60\u76ee\u6807 \u4e86\u89e3 scarpy_redis\u7684\u6982\u5ff5\u548c\u529f\u80fd \u4e86\u89e3 scrapy_redis\u7684\u539f\u7406 \u4e86\u89e3 redis\u6570\u636e\u5e93\u64cd\u4f5c\u547d\u4ee4 \u5728\u524d\u9762scrapy\u6846\u67b6\u4e2d\u6211\u4eec\u5df2\u7ecf\u80fd\u591f\u4f7f\u7528\u6846\u67b6\u5b9e\u73b0\u722c\u866b\u722c\u53d6\u7f51\u7ad9\u6570\u636e,\u5982\u679c\u5f53\u524d\u7f51\u7ad9\u7684\u6570\u636e\u6bd4\u8f83\u5e9e\u5927, \u6211\u4eec\u5c31\u9700\u8981\u4f7f\u7528\u5206\u5e03\u5f0f\u6765\u66f4\u5feb\u7684\u722c\u53d6\u6570\u636e 1\u3001scrapy_redis\u662f\u4ec0\u4e48 \u5206\u5e03\u5f0f\u722c\u53d6/\u6293\u53d6 \u60a8\u53ef\u4ee5\u542f\u52a8\u5171\u4eab\u5355\u4e2a Redis \u961f\u5217\u7684\u591a\u4e2a\u8718\u86db\u5b9e\u4f8b\u3002\u6700\u9002\u5408\u5e7f\u6cdb\u7684\u591a\u57df\u722c\u7f51\u3002 2\u3001\u5b89\u88c5 \u65b9\u5f0f\u4e00 pip install scrapy_redis == 0.7.3 \u4e0d\u5efa\u8bae\uff0c\u56e0\u4e3a\u5f53\u524d\u65b9\u5f0f\u9700\u8981\u5148\u5c06URL\u6254\u8fdbredis\u961f\u5217\u4e2d\uff0c\u5426\u5219\u5148\u8fd0\u884cscrapy\u4f1a\u629b\u51fa\u5982\u4e0b\u5f02\u5e38 \u5148\u6267\u884curl\u6254\u8fdb\u961f\u5217\uff0c\u5728\u8fd0\u884cscrapy\uff0c\u7a0b\u5e8f\u4f1a\u6b63\u5e38\u6267\u884c\uff0c\u4f46\u662f\u4e5f\u4f1a\u629b\u51fa\u5982\u4e0b\u8b66\u544a\uff08\u6240\u4ee5\u5efa\u8bae\u4f7f\u7528\u7b2c\u4e8c\u7ae0\u65b9\u5f0f\u8fdb\u884c\u5b89\u88c5\uff09 \u65b9\u5f0f\u4e8c \uff08\u5efa\u8bae\uff09 \u8fd0\u884c\u65e0\u8bba\u662f\u5426\u5148\u5c06URL\u6254\u8fdb\u961f\u5217\u4e2d\u90fd\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c \u4e0b\u8f7dscrapy\u5b89\u88c5\u5305\uff0c\u4f7f\u7528\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5 \u4e0b\u8f7d\u5730\u5740\uff1ahttps://github.com/rmax/scrapy-redis#features \u6587\u6863\uff1a https://readthedocs.org/projects/scrapy-redis/downloads/pdf/stable/ \u5b89\u88c5\uff1a cd scrapy-redis-master\uff08git\u4e0a\u4e0b\u8f7d\u4e0b\u6765\u7684\u5b89\u88c5\u5305\uff09 python setup.py install \u8981\u6c42 Python 3.7+ Redis >= 5.0 Scrapy >= 2.0 redis-py >= 4.0 3\u3001\u4e3a\u4ec0\u4e48\u8981\u5b66\u4e60scrapy_redis Scrapy_redis\u5728scrapy\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u66f4\u591a\uff0c\u66f4\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u5177\u4f53\u4f53\u73b0\u5728\uff1a \u8bf7\u6c42\u5bf9\u8c61\u7684\u6301\u4e45\u5316 \u53bb\u91cd\u7684\u6301\u4e45\u5316 \u548c\u5b9e\u73b0\u5206\u5e03\u5f0f 4\u3001scrapy_redis\u7684\u539f\u7406\u5206\u6790 4.1 \u56de\u987escrapy\u7684\u6d41\u7a0b \u90a3\u4e48\uff0c\u5728\u8fd9\u4e2a\u57fa\u7840\u4e0a\uff0c\u5982\u679c\u9700\u8981\u5b9e\u73b0\u5206\u5e03\u5f0f\uff0c\u5373\u591a\u53f0\u670d\u52a1\u5668\u540c\u65f6\u5b8c\u6210\u4e00\u4e2a\u722c\u866b\uff0c\u9700\u8981\u600e\u4e48\u505a\u5462\uff1f 4.2 scrapy_redis\u7684\u6d41\u7a0b \u5728scrapy_redis\u4e2d\uff0c\u6240\u6709\u7684\u5e26\u6293\u53d6\u7684\u5bf9\u8c61\u548c\u53bb\u91cd\u7684\u6307\u7eb9\u90fd\u5b58\u5728\u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u7684redis\u4e2d \u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u4e00\u4e2aredis\u4e2d\u7684request\u5bf9\u8c61 \u6240\u6709\u7684request\u5bf9\u8c61\u5b58\u5165redis\u524d\uff0c\u90fd\u4f1a\u5728\u540c\u4e00\u4e2aredis\u4e2d\u8fdb\u884c\u5224\u65ad\uff0c\u4e4b\u524d\u662f\u5426\u5df2\u7ecf\u5b58\u5165\u8fc7 \u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6240\u6709\u7684\u6570\u636e\u4f1a\u4fdd\u5b58\u5728redis\u4e2d \u5177\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a 5\u3001\u5bf9\u4e8eredis\u7684\u590d\u4e60 \u7531\u4e8e\u65f6\u95f4\u5173\u7cfb,\u5927\u5bb6\u5bf9redis\u7684\u547d\u4ee4\u9057\u5fd8\u7684\u5dee\u4e0d\u591a\u4e86, \u4f46\u662f\u5728scrapy_redis\u4e2d\u9700\u8981\u4f7f\u7528redis\u7684\u64cd\u4f5c\u547d\u4ee4,\u6240\u6709\u9700\u8981\u56de\u987e\u4e0bredis\u7684\u547d\u4ee4\u64cd\u4f5c 5.1 redis\u662f\u4ec0\u4e48 redis\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5185\u5b58\u578b\u6570\u636e\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\u548c\u7ed3\u6784\uff0c\u6bd4\u5982\u5217\u8868\u3001\u96c6\u5408\u3001\u6709\u5e8f\u96c6\u5408\u7b49,\u540c\u65f6\u53ef\u4ee5\u4f7f\u7528redis-manger-desktop\u7b49\u5ba2\u6237\u7aef\u8f6f\u4ef6\u67e5\u770bredis\u4e2d\u7684\u6570\u636e\uff0c\u5173\u4e8eredis-manger-desktop\u7684\u4f7f\u7528\u53ef\u4ee5\u53c2\u8003\u6269\u5c55\u9605\u8bfb 5.2 redis\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684\u542f\u52a8 redis-server.exe redis-windwos.conf \u542f\u52a8\u670d\u52a1\u7aef redis-cli \u5ba2\u6237\u7aef\u542f\u52a8 5.3 redis\u4e2d\u7684\u5e38\u89c1\u547d\u4ee4 select 1 \u5207\u6362db keys * \u67e5\u770b\u6240\u6709\u7684\u952e type \u952e \u67e5\u770b\u952e\u7684\u7c7b\u578b flushdb \u6e05\u7a7adb flushall \u6e05\u7a7a\u6570\u636e\u5e93 5.4 redis\u547d\u4ee4\u7684\u590d\u4e60 redis\u7684\u547d\u4ee4\u5f88\u591a\uff0c\u8fd9\u91cc\u6211\u4eec\u7b80\u5355\u590d\u4e60\u540e\u7eed\u4f1a\u4f7f\u7528\u7684\u547d\u4ee4 \u5c0f\u7ed3 scarpy_redis\u7684\u5206\u5e03\u5f0f\u5de5\u4f5c\u539f\u7406 - \u5728scrapy_redis\u4e2d\uff0c\u6240\u6709\u7684\u5e26\u6293\u53d6\u7684\u5bf9\u8c61\u548c\u53bb\u91cd\u7684\u6307\u7eb9\u90fd\u5b58\u5728\u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u7684redis\u4e2d - \u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u4e00\u4e2aredis\u4e2d\u7684request\u5bf9\u8c61 - \u6240\u6709\u7684request\u5bf9\u8c61\u5b58\u5165redis\u524d\uff0c\u90fd\u4f1a\u5728\u540c\u4e00\u4e2aredis\u4e2d\u8fdb\u884c\u5224\u65ad\uff0c\u4e4b\u524d\u662f\u5426\u5df2\u7ecf\u5b58\u5165\u8fc7 \u4e8c\u3001\u914d\u7f6e\u5206\u5e03\u5f0f\u722c\u866b \u5b66\u4e60\u76ee\u6807 \u914d\u7f6e\u5b8c\u6210\u4f7f\u7528\u5206\u5e03\u5f0f\u722c\u866b 1\u3001\u6982\u8ff0 \u5206\u5e03\u5f0f\u722c\u866b \u4f7f\u7528\u591a\u53f0\u673a\u5668\u642d\u5efa\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u673a\u5668\uff0c\u7136\u540e\u8ba9\u4ed6\u4eec\u8054\u5408\u4e14\u5206\u5e03\u7684\u5bf9\u540c\u4e00\u7ec4\u8d44\u6e90\u8fdb\u884c\u6570\u636e\u722c\u53d6 \u539f\u751f\u7684scrapy\u6846\u67b6\u662f\u65e0\u6cd5\u5b9e\u73b0\u5206\u5e03\u5f0f\u722c\u866b\uff1f \u539f\u56e0\uff1a\u8c03\u5ea6\u5668\uff0c\u7ba1\u9053\u65e0\u6cd5\u88ab\u5206\u5e03\u5f0f\u673a\u7fa4\u5171\u4eab \u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f \u501f\u52a9\uff1ascrapy-redis\u7ec4\u4ef6 \u4f5c\u7528\uff1a\u63d0\u4f9b\u4e86\u53ef\u4ee5\u88ab\u5171\u4eab\u7684\u7ba1\u9053\u548c\u8c03\u5ea6\u5668 \u53ea\u53ef\u4ee5\u5c06\u722c\u53d6\u5230\u7684\u6570\u636e\u5b58\u50a8\u5230redis\u4e2d 2\u3001\u521b\u5efa\u5206\u5e03\u5f0fcrawlspider\u722c\u866b scrapy startproject fbsPro cd fbsPro scrapy genspider -t crawl fbs www.xxx.com 3\u3001redis-settings\u9700\u8981\u7684\u914d\u7f6e (\u5fc5\u987b). \u4f7f\u7528\u4e86scrapy_redis\u7684\u53bb\u91cd\u7ec4\u4ef6\uff0c\u5728redis\u6570\u636e\u5e93\u91cc\u505a\u53bb\u91cd python DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" (\u5fc5\u987b). \u4f7f\u7528\u4e86scrapy_redis\u7684\u8c03\u5ea6\u5668\uff0c\u5728redis\u91cc\u5206\u914d\u8bf7\u6c42 python SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" (\u53ef\u9009). \u5728redis\u4e2d\u4fdd\u6301scrapy-redis\u7528\u5230\u7684\u5404\u4e2a\u961f\u5217\uff0c\u4ece\u800c\u5141\u8bb8\u6682\u505c\u548c\u6682\u505c\u540e\u6062\u590d\uff0c\u4e5f\u5c31\u662f\u4e0d\u6e05\u7406redis queues python SCHEDULER_PERSIST = True (\u5fc5\u987b). \u901a\u8fc7\u914d\u7f6eRedisPipeline\u5c06item\u5199\u5165key\u4e3a spider.name : items \u7684redis\u7684list\u4e2d\uff0c\u4f9b\u540e\u9762\u7684\u5206\u5e03\u5f0f\u5904\u7406item \u8fd9\u4e2a\u5df2\u7ecf\u7531 scrapy-redis \u5b9e\u73b0\uff0c\u4e0d\u9700\u8981\u6211\u4eec\u5199\u4ee3\u7801\uff0c\u76f4\u63a5\u4f7f\u7528\u5373\u53ef python ITEM_PIPELINES = { \u3000\u3000 'scrapy_redis.pipelines.RedisPipeline': 100 , } (\u5fc5\u987b). \u6307\u5b9aredis\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570 python REDIS_HOST = '127.0.0.1' REDIS_PORT = 6379 # \u8bbe\u7f6e\u5bc6\u7801 REDIS_PARAMS = {'password': '123456'} 4\u3001settings.py settings.py \u8fd9\u51e0\u884c\u8868\u793a scrapy_redis \u4e2d\u91cd\u65b0\u5b9e\u73b0\u7684\u4e86\u53bb\u91cd\u7684\u7c7b\uff0c\u4ee5\u53ca\u8c03\u5ea6\u5668\uff0c\u5e76\u4e14\u4f7f\u7528\u7684 RedisPipeline \u9700\u8981\u6dfb\u52a0redis\u7684\u5730\u5740\uff0c\u7a0b\u5e8f\u624d\u80fd\u591f\u4f7f\u7528redis \u5728settings.py\u6587\u4ef6\u4fee\u6539pipelines\uff0c\u589e\u52a0scrapy_redis\u3002 # \u914d\u7f6e\u5206\u5e03\u5f0f DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" SCHEDULER_PERSIST = True ITEM_PIPELINES = { 'scrapy_redis.pipelines.RedisPipeline': 400, } # REDIS_URL = \"redis://127.0.0.1:6379\" # \u6216\u8005\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u5f0f REDIS_HOST = \"127.0.0.1\" REDIS_PORT = 6379 REDIS_PARAMS = {'password': '123456'} \u6ce8\u610f\uff1ascrapy_redis\u7684\u4f18\u5148\u7ea7\u8981\u8c03\u9ad8 \u4e09\u3001\u914d\u7f6escrapy\u722c\u866b 1\u3001\u914d\u7f6e\u6b63\u5e38\u6293\u53d6\u4ee3\u7801 import scrapy from scrapy_redis.spiders import RedisSpider class FbsSpider(RedisSpider): name = \"fbs\" # allowed_domains = [\"duanzixing.com\"] # start_urls = [\"https://duanzixing.com\"] redis_key = 'fbsQueue' # \u4f7f\u7528\u7ba1\u9053\u540d\u79f0\uff08\u8bfe\u6839\u636e\u5b9e\u9645\u529f\u80fd\u8d77\u540d\u79f0\uff09 def parse(self, response, **kwargs): article_list = response.xpath('//article[@class=\"excerpt\"]') for article in article_list: title = article.xpath('./imgs/header/h2/a/text()').extract_first() con = article.xpath('./imgs/p[@class=\"note\"]/text()').extract_first() data = {'title': title, 'con': con} print(data) yield data 2\u3001\u914d\u7f6eRedisCrawlSpider import scrapy from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule from scrapy_redis.spiders import RedisCrawlSpider # \u6ce8\u610f \u4e00\u5b9a\u8981\u7ee7\u627fRedisCrawlSpider class FbsSpider(RedisCrawlSpider): name = 'fbs' # allowed_domains = ['www.xxx.com'] # start_urls = ['http://www.xxx.com/'] redis_key = 'fbsQueue' # \u4f7f\u7528\u7ba1\u9053\u540d\u79f0 link = LinkExtractor(allow=r'/political/politics/index?id=\\d+') rules = ( Rule(link, callback='parse_item', follow=True), ) def parse_item(self, response): item = {} yield item 3\u3001scrapy-redis\u952e\u540d\u4ecb\u7ecd scrapy-redis\u4e2d\u90fd\u662f\u7528key-value\u5f62\u5f0f\u5b58\u50a8\u6570\u636e\uff0c\u5176\u4e2d\u6709\u51e0\u4e2a\u5e38\u89c1\u7684key-value\u5f62\u5f0f\uff1a 1\u3001 \u201c\u9879\u76ee\u540d:items\u201d -->list \u7c7b\u578b\uff0c\u4fdd\u5b58\u722c\u866b\u83b7\u53d6\u5230\u7684\u6570\u636eitem \u5185\u5bb9\u662f json \u5b57\u7b26\u4e32 2\u3001 \u201c\u9879\u76ee\u540d:dupefilter\u201d -->set\u7c7b\u578b\uff0c\u7528\u4e8e\u722c\u866b\u8bbf\u95ee\u7684URL\u53bb\u91cd \u5185\u5bb9\u662f 40\u4e2a\u5b57\u7b26\u7684 url \u7684hash\u5b57\u7b26\u4e32 3\u3001 \u201c\u9879\u76ee\u540d: start_urls\u201d -->List \u7c7b\u578b\uff0c\u7528\u4e8e\u83b7\u53d6spider\u542f\u52a8\u65f6\u722c\u53d6\u7684\u7b2c\u4e00\u4e2aurl 4\u3001 \u201c\u9879\u76ee\u540d:requests\u201d -->zset\u7c7b\u578b\uff0c\u7528\u4e8escheduler\u8c03\u5ea6\u5904\u7406 requests \u5185\u5bb9\u662f request \u5bf9\u8c61\u7684\u5e8f\u5217\u5316 \u5b57\u7b26\u4e32 \u5f53\u524d\u5728redis\u4e2d\u53ef\u80fd\u770b\u5230\uff0c\u4e5f\u53ef\u80fd\u770b\u4e0d\u5230\uff0c\u56e0\u4e3a\u5982\u679c\u6570\u636e\u5168\u90e8\u6293\u53d6\u5b8c\u5f53\u524dkey\u4fbf\u4e0d\u5b58\u5728 4\u3001\u6ce8\u610f redis\u4e2d redis-windwos.conf \uff08\u5982\u679c\u5f53\u524d\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5df2\u7ecf\u88ab\u6ce8\u91ca\u6216\u8005\u4e0d\u5b58\u5728\uff0c\u5219\u4e0d\u7528\u5904\u7406\uff09 56\u884c\u6dfb\u52a0\u6ce8\u91ca \u53d6\u6d88\u7ed1\u5b9a127.0.0.1 # bind 127.0.0.1 75\u884c \u4fee\u6539\u4fdd\u62a4\u6a21\u5f0f\u4e3ano protected-mode no \u542f\u52a8redis \u961f\u5217\u4e2d\u6dfb\u52a0url\u5730\u5740 \u6dfb\u52a0\uff1alpush fbsQueue https://wz.sun0769.com/political/index/politicsNewest \u67e5\u770b\uff1alrange fbsQueue 0 -1 \u8fdb\u5165\u5230\u8def\u5f84\u4e2d cd fbsPro/fbsPro/spiders \u542f\u52a8\u5206\u5e03\u5f0f\u722c\u866b scrapy runspider fbs.py \u53bbredis\u4e2d\u67e5\u770b\u5b58\u50a8\u7684\u6570\u636e \u56db\u3001scrapy_redis \u722c\u866b \u5206\u6790 \u5b66\u4e60\u76ee\u6807 \u4e86\u89e3 scrapy_redis\u5b9e\u73b0\u53bb\u91cd\u7684\u539f\u7406 \u4e86\u89e3 scrapy\u4e2d\u8bf7\u6c42\u5165\u961f\u7684\u6761\u4ef6 \u80fd\u591f\u5e94\u7528 scrapy_redis\u5b8c\u6210\u57fa\u4e8eurl\u5730\u5740\u7684\u589e\u91cf\u5f0f\u722c\u866b 1\u3001\u8fd0\u884c\u67e5\u770bredis \u6211\u4eec\u6267\u884c\u5206\u5e03\u5f0f\u722c\u866b\uff0c\u4f1a\u53d1\u73b0redis\u4e2d\u591a\u4e86\u4e00\u4e0b\u4e09\u4e2a\u952e\uff1a \u7ee7\u7eed\u6267\u884c\u7a0b\u5e8f \u7ee7\u7eed\u6267\u884c\u7a0b\u5e8f\uff0c\u4f1a\u53d1\u73b0\u7a0b\u5e8f\u5728\u524d\u4e00\u6b21\u7684\u57fa\u7840\u4e4b\u4e0a\u7ee7\u7eed\u5f80\u540e\u6267\u884c\uff0c \u6240\u4ee5\u5206\u5e03\u5f0f\u722c\u866b\u662f\u4e00\u4e2a\u57fa\u4e8eurl\u5730\u5740\u7684\u589e\u91cf\u5f0f\u7684\u722c\u866b 2\u3001scrapy_redis\u7684\u539f\u7406\u5206\u6790 \u6211\u4eec\u4ecesettings.py\u4e2d\u7684\u4e09\u4e2a\u914d\u7f6e\u6765\u8fdb\u884c\u5206\u6790 \u5206\u522b\u662f\uff1a RedisPipeline RFPDupeFilter Scheduler 2.1 Scrapy_redis\u4e4bRedisPipeline RedisPipeline\u4e2d\u89c2\u5bdfprocess_item\uff0c\u8fdb\u884c\u6570\u636e\u7684\u4fdd\u5b58\uff0c\u5b58\u5165\u4e86redis\u4e2d 2.2 Scrapy_redis\u4e4bRFPDupeFilter RFPDupeFilter \u5b9e\u73b0\u4e86\u5bf9request\u5bf9\u8c61\u7684\u52a0\u5bc6 2.3 Scrapy_redis\u4e4bScheduler scrapy_redis\u8c03\u5ea6\u5668\u7684\u5b9e\u73b0\u4e86\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u628arequest\u5bf9\u8c61\u52a0\u5165\u5e26\u6293\u53d6\u7684\u961f\u5217\uff0c\u540c\u65f6\u628a\u8bf7\u6c42\u8fc7\u7684request\u5bf9\u8c61\u8fc7\u6ee4\u6389 \u7531\u6b64\u53ef\u4ee5\u603b\u7ed3\u51farequest\u5bf9\u8c61\u5165\u961f\u7684\u6761\u4ef6 request\u4e4b\u524d\u6ca1\u6709\u89c1\u8fc7 request\u7684dont_filter\u4e3aTrue\uff0c\u5373\u4e0d\u8fc7\u6ee4 start_urls\u4e2d\u7684url\u5730\u5740\u4f1a\u5165\u961f\uff0c\u56e0\u4e3a\u4ed6\u4eec\u9ed8\u8ba4\u662f\u4e0d\u8fc7\u6ee4 3\u3001\u62a5\u9519 \u5982\u679c\u60a8\u7684\u89e3\u91ca\u5668\u4e3a3.10\u53ca\u4ee5\u4e0a\uff0c\u8fd0\u884c\u51fa\u73b0\u5982\u4e0b\u9519\u8bef ImportError: cannot import name 'Iterable' from 'collections' (/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/collections/__init__.py) \u539f\u56e0\uff1a 3.10\u53ca\u4ee5\u4e0a\u675c\u5bf9\u4e8e from collections import Iterable \u5bfc\u5305\u8def\u5f84\u66f4\u6539\u4e3a from collections.abc import Iterable \u53bb\u5230\u5f53\u524d\u5bfc\u5305\u62a5\u9519\u8def\u5f84\u6587\u4ef6\u4e2d\u66f4\u6539\u5373\u53ef \u603b\u7ed3 \u672c\u5c0f\u7ed3\u91cd\u70b9 \u77e5\u9053\u4ec0\u4e48\u662fscrapy_redis \u638c\u63e1scarpy_redis\u5b9e\u73b0\u5206\u5e03\u5f0f\u7684\u539f\u7406 \u638c\u63e1scrapy_\u8fdb\u884curl\u5730\u5740\u52a0\u5bc6\u7684\u65b9\u6cd5 \u638c\u63e1request\u5bf9\u8c61\u5165\u961f\u7684\u6761\u4ef6 \u80fd\u591f\u901a\u8fc7scrapy_redis\u5b8c\u6210\u57fa\u4e8eurl\u5730\u5740\u7684\u589e\u91cf\u5f0f\u722c\u866b \u4e94\u3001\u6848\u4f8b \u5b66\u4e60\u76ee\u6807 \u80fd\u591f\u5e94\u7528 scrapy_redis\u5b9e\u73b0\u5206\u5e03\u5f0f\u722c\u866b \u80fd\u591f\u5e94\u7528 scrapy_redis\u4e2dRedisCrawlspider\u7c7b\u5b9e\u73b0\u5206\u5e03\u5f0f\u722c\u866b 1 RedisSpider 1.1 \u5206\u6790demo\u4e2d\u4ee3\u7801 \u901a\u8fc7\u89c2\u5bdf\u4ee3\u7801\uff1a \u7ee7\u627f\u81ea\u7236\u7c7b\u4e3aRedisSpider \u589e\u52a0\u4e86\u4e00\u4e2aredis_key\u7684\u952e\uff0c\u6ca1\u6709start_urls\uff0c\u56e0\u4e3a\u5206\u5e03\u5f0f\u4e2d\uff0c\u5982\u679c\u6bcf\u53f0\u7535\u8111\u90fd\u8bf7\u6c42\u4e00\u6b21start_url\u5c31\u4f1a\u91cd\u590d \u591a\u4e86 __init__ \u65b9\u6cd5\uff0c\u8be5\u65b9 \u6cd5\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u53ef\u4ee5\u624b\u52a8\u6307\u5b9aallow_domains 1.2 \u52a8\u624b\u5b9e\u73b0\u5f53\u5f53\u56fe\u4e66\u722c\u866b \u9700\u6c42\uff1a\u6293\u53d6\u5f53\u5f53\u56fe\u4e66\u7684\u4fe1\u606f \u76ee\u6807\uff1a\u6293\u53d6\u5f53\u5f53\u56fe\u4e66\u53c8\u6709\u56fe\u4e66\u7684\u540d\u5b57\u3001\u5c01\u9762\u56fe\u7247\u5730\u5740\u3001\u56fe\u4e66url\u5730\u5740\u3001\u4f5c\u8005\u3001\u51fa\u7248\u793e\u3001\u51fa\u7248\u65f6\u95f4\u3001\u4ef7\u683c\u3001\u56fe\u4e66\u6240\u5c5e\u5927\u5206\u7c7b\u3001\u56fe\u4e66\u6240\u5c5e\u5c0f\u7684\u5206\u7c7b\u3001\u5206\u7c7b\u7684url\u5730\u5740 url\uff1ahttp://book.dangdang.com 2 RedisCrawlSpider 2.1 \u4ee3\u7801 import scrapy from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule from scrapy_redis.spiders import RedisCrawlSpider ''' \u5f53\u5f53\u7f51 \u5206\u5e03\u5f0f\u6293\u53d6 crawlspider redis\u7ec8\u7aef\u8f93\u5165 lpush dangdang http://category.dangdang.com/cp01.01.02.00.00.00.html \u542f\u52a8scrapy ''' # class DdcrawlSpider(CrawlSpider): class DdcrawlSpider(RedisCrawlSpider): name = 'ddcrawl' # allowed_domains = ['category.dangdang.com/cp01.01.02.00.00.00.html'] # start_urls = ['http://category.dangdang.com/cp01.01.02.00.00.00.html/'] redis_key = 'dangdang' # \u4f7f\u7528\u7ba1\u9053\u540d\u79f0\uff08\u8bfe\u6839\u636e\u5b9e\u9645\u529f\u80fd\u8d77\u540d\u79f0\uff09 \"\"\" url http://category.dangdang.com/cp01.01.02.00.00.00.html http://category.dangdang.com/pg2-cp01.01.02.00.00.00.html http://category.dangdang.com/pg100-cp01.01.02.00.00.00.html \"\"\" rules = ( Rule(LinkExtractor(allow=r'cp01\\.01\\.02\\.00\\.00\\.00\\.html$'),callback='parse_item', follow=False), ) def parse_item(self, response): con_shoplist = response.xpath('//div[@class=\"con shoplist\"]/div/ul/li') print(con_shoplist) for li in con_shoplist: item = {} # \u83b7\u53d6\u56fe\u7247src img = li.xpath('./imgs/a/img/@src').extract_first() # \u83b7\u53d6\u6807\u9898 title = li.xpath('./imgs/p[@name=\"title\"]/a/text()').extract_first() # \u83b7\u53d6\u8be6\u60c5 detail = li.xpath('./imgs/p[@class=\"detail\"]/text()').extract_first() # \u83b7\u53d6\u4ef7\u683c price = li.xpath('./imgs/p[@class=\"price\"]/span/text()').extract_first() item['img'] = img item['title'] = title item['detail'] = detail item['price'] = price print(response.request.url, item) yield item","title":"\u5341\u516d\u3001scrapy_redis"},{"location":"16-Scrapy06-scrapy_redis.html#scrapy_redis","text":"","title":"\u5341\u516d\u3001scrapy_redis"},{"location":"16-Scrapy06-scrapy_redis.html#scrapy_redis_1","text":"","title":"\u4e00\u3001scrapy_redis\u5206\u5e03\u5f0f\u539f\u7406"},{"location":"16-Scrapy06-scrapy_redis.html#_1","text":"\u4e86\u89e3 scarpy_redis\u7684\u6982\u5ff5\u548c\u529f\u80fd \u4e86\u89e3 scrapy_redis\u7684\u539f\u7406 \u4e86\u89e3 redis\u6570\u636e\u5e93\u64cd\u4f5c\u547d\u4ee4 \u5728\u524d\u9762scrapy\u6846\u67b6\u4e2d\u6211\u4eec\u5df2\u7ecf\u80fd\u591f\u4f7f\u7528\u6846\u67b6\u5b9e\u73b0\u722c\u866b\u722c\u53d6\u7f51\u7ad9\u6570\u636e,\u5982\u679c\u5f53\u524d\u7f51\u7ad9\u7684\u6570\u636e\u6bd4\u8f83\u5e9e\u5927, \u6211\u4eec\u5c31\u9700\u8981\u4f7f\u7528\u5206\u5e03\u5f0f\u6765\u66f4\u5feb\u7684\u722c\u53d6\u6570\u636e","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"16-Scrapy06-scrapy_redis.html#1scrapy_redis","text":"\u5206\u5e03\u5f0f\u722c\u53d6/\u6293\u53d6 \u60a8\u53ef\u4ee5\u542f\u52a8\u5171\u4eab\u5355\u4e2a Redis \u961f\u5217\u7684\u591a\u4e2a\u8718\u86db\u5b9e\u4f8b\u3002\u6700\u9002\u5408\u5e7f\u6cdb\u7684\u591a\u57df\u722c\u7f51\u3002","title":"1\u3001scrapy_redis\u662f\u4ec0\u4e48"},{"location":"16-Scrapy06-scrapy_redis.html#2","text":"\u65b9\u5f0f\u4e00 pip install scrapy_redis == 0.7.3 \u4e0d\u5efa\u8bae\uff0c\u56e0\u4e3a\u5f53\u524d\u65b9\u5f0f\u9700\u8981\u5148\u5c06URL\u6254\u8fdbredis\u961f\u5217\u4e2d\uff0c\u5426\u5219\u5148\u8fd0\u884cscrapy\u4f1a\u629b\u51fa\u5982\u4e0b\u5f02\u5e38 \u5148\u6267\u884curl\u6254\u8fdb\u961f\u5217\uff0c\u5728\u8fd0\u884cscrapy\uff0c\u7a0b\u5e8f\u4f1a\u6b63\u5e38\u6267\u884c\uff0c\u4f46\u662f\u4e5f\u4f1a\u629b\u51fa\u5982\u4e0b\u8b66\u544a\uff08\u6240\u4ee5\u5efa\u8bae\u4f7f\u7528\u7b2c\u4e8c\u7ae0\u65b9\u5f0f\u8fdb\u884c\u5b89\u88c5\uff09 \u65b9\u5f0f\u4e8c \uff08\u5efa\u8bae\uff09 \u8fd0\u884c\u65e0\u8bba\u662f\u5426\u5148\u5c06URL\u6254\u8fdb\u961f\u5217\u4e2d\u90fd\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c \u4e0b\u8f7dscrapy\u5b89\u88c5\u5305\uff0c\u4f7f\u7528\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5 \u4e0b\u8f7d\u5730\u5740\uff1ahttps://github.com/rmax/scrapy-redis#features \u6587\u6863\uff1a https://readthedocs.org/projects/scrapy-redis/downloads/pdf/stable/ \u5b89\u88c5\uff1a cd scrapy-redis-master\uff08git\u4e0a\u4e0b\u8f7d\u4e0b\u6765\u7684\u5b89\u88c5\u5305\uff09 python setup.py install \u8981\u6c42 Python 3.7+ Redis >= 5.0 Scrapy >= 2.0 redis-py >= 4.0","title":"2\u3001\u5b89\u88c5"},{"location":"16-Scrapy06-scrapy_redis.html#3scrapy_redis","text":"Scrapy_redis\u5728scrapy\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u66f4\u591a\uff0c\u66f4\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u5177\u4f53\u4f53\u73b0\u5728\uff1a \u8bf7\u6c42\u5bf9\u8c61\u7684\u6301\u4e45\u5316 \u53bb\u91cd\u7684\u6301\u4e45\u5316 \u548c\u5b9e\u73b0\u5206\u5e03\u5f0f","title":"3\u3001\u4e3a\u4ec0\u4e48\u8981\u5b66\u4e60scrapy_redis"},{"location":"16-Scrapy06-scrapy_redis.html#4scrapy_redis","text":"","title":"4\u3001scrapy_redis\u7684\u539f\u7406\u5206\u6790"},{"location":"16-Scrapy06-scrapy_redis.html#41-scrapy","text":"\u90a3\u4e48\uff0c\u5728\u8fd9\u4e2a\u57fa\u7840\u4e0a\uff0c\u5982\u679c\u9700\u8981\u5b9e\u73b0\u5206\u5e03\u5f0f\uff0c\u5373\u591a\u53f0\u670d\u52a1\u5668\u540c\u65f6\u5b8c\u6210\u4e00\u4e2a\u722c\u866b\uff0c\u9700\u8981\u600e\u4e48\u505a\u5462\uff1f","title":"4.1 \u56de\u987escrapy\u7684\u6d41\u7a0b"},{"location":"16-Scrapy06-scrapy_redis.html#42-scrapy_redis","text":"\u5728scrapy_redis\u4e2d\uff0c\u6240\u6709\u7684\u5e26\u6293\u53d6\u7684\u5bf9\u8c61\u548c\u53bb\u91cd\u7684\u6307\u7eb9\u90fd\u5b58\u5728\u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u7684redis\u4e2d \u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u4e00\u4e2aredis\u4e2d\u7684request\u5bf9\u8c61 \u6240\u6709\u7684request\u5bf9\u8c61\u5b58\u5165redis\u524d\uff0c\u90fd\u4f1a\u5728\u540c\u4e00\u4e2aredis\u4e2d\u8fdb\u884c\u5224\u65ad\uff0c\u4e4b\u524d\u662f\u5426\u5df2\u7ecf\u5b58\u5165\u8fc7 \u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6240\u6709\u7684\u6570\u636e\u4f1a\u4fdd\u5b58\u5728redis\u4e2d \u5177\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a","title":"4.2 scrapy_redis\u7684\u6d41\u7a0b"},{"location":"16-Scrapy06-scrapy_redis.html#5redis","text":"\u7531\u4e8e\u65f6\u95f4\u5173\u7cfb,\u5927\u5bb6\u5bf9redis\u7684\u547d\u4ee4\u9057\u5fd8\u7684\u5dee\u4e0d\u591a\u4e86, \u4f46\u662f\u5728scrapy_redis\u4e2d\u9700\u8981\u4f7f\u7528redis\u7684\u64cd\u4f5c\u547d\u4ee4,\u6240\u6709\u9700\u8981\u56de\u987e\u4e0bredis\u7684\u547d\u4ee4\u64cd\u4f5c","title":"5\u3001\u5bf9\u4e8eredis\u7684\u590d\u4e60"},{"location":"16-Scrapy06-scrapy_redis.html#51-redis","text":"redis\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5185\u5b58\u578b\u6570\u636e\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\u548c\u7ed3\u6784\uff0c\u6bd4\u5982\u5217\u8868\u3001\u96c6\u5408\u3001\u6709\u5e8f\u96c6\u5408\u7b49,\u540c\u65f6\u53ef\u4ee5\u4f7f\u7528redis-manger-desktop\u7b49\u5ba2\u6237\u7aef\u8f6f\u4ef6\u67e5\u770bredis\u4e2d\u7684\u6570\u636e\uff0c\u5173\u4e8eredis-manger-desktop\u7684\u4f7f\u7528\u53ef\u4ee5\u53c2\u8003\u6269\u5c55\u9605\u8bfb","title":"5.1 redis\u662f\u4ec0\u4e48"},{"location":"16-Scrapy06-scrapy_redis.html#52-redis","text":"redis-server.exe redis-windwos.conf \u542f\u52a8\u670d\u52a1\u7aef redis-cli \u5ba2\u6237\u7aef\u542f\u52a8","title":"5.2 redis\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u7684\u542f\u52a8"},{"location":"16-Scrapy06-scrapy_redis.html#53-redis","text":"select 1 \u5207\u6362db keys * \u67e5\u770b\u6240\u6709\u7684\u952e type \u952e \u67e5\u770b\u952e\u7684\u7c7b\u578b flushdb \u6e05\u7a7adb flushall \u6e05\u7a7a\u6570\u636e\u5e93","title":"5.3 redis\u4e2d\u7684\u5e38\u89c1\u547d\u4ee4"},{"location":"16-Scrapy06-scrapy_redis.html#54-redis","text":"redis\u7684\u547d\u4ee4\u5f88\u591a\uff0c\u8fd9\u91cc\u6211\u4eec\u7b80\u5355\u590d\u4e60\u540e\u7eed\u4f1a\u4f7f\u7528\u7684\u547d\u4ee4","title":"5.4 redis\u547d\u4ee4\u7684\u590d\u4e60"},{"location":"16-Scrapy06-scrapy_redis.html#_2","text":"scarpy_redis\u7684\u5206\u5e03\u5f0f\u5de5\u4f5c\u539f\u7406 - \u5728scrapy_redis\u4e2d\uff0c\u6240\u6709\u7684\u5e26\u6293\u53d6\u7684\u5bf9\u8c61\u548c\u53bb\u91cd\u7684\u6307\u7eb9\u90fd\u5b58\u5728\u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u7684redis\u4e2d - \u6240\u6709\u7684\u670d\u52a1\u5668\u516c\u7528\u4e00\u4e2aredis\u4e2d\u7684request\u5bf9\u8c61 - \u6240\u6709\u7684request\u5bf9\u8c61\u5b58\u5165redis\u524d\uff0c\u90fd\u4f1a\u5728\u540c\u4e00\u4e2aredis\u4e2d\u8fdb\u884c\u5224\u65ad\uff0c\u4e4b\u524d\u662f\u5426\u5df2\u7ecf\u5b58\u5165\u8fc7","title":"\u5c0f\u7ed3"},{"location":"16-Scrapy06-scrapy_redis.html#_3","text":"","title":"\u4e8c\u3001\u914d\u7f6e\u5206\u5e03\u5f0f\u722c\u866b"},{"location":"16-Scrapy06-scrapy_redis.html#_4","text":"\u914d\u7f6e\u5b8c\u6210\u4f7f\u7528\u5206\u5e03\u5f0f\u722c\u866b","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"16-Scrapy06-scrapy_redis.html#1","text":"\u5206\u5e03\u5f0f\u722c\u866b \u4f7f\u7528\u591a\u53f0\u673a\u5668\u642d\u5efa\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u673a\u5668\uff0c\u7136\u540e\u8ba9\u4ed6\u4eec\u8054\u5408\u4e14\u5206\u5e03\u7684\u5bf9\u540c\u4e00\u7ec4\u8d44\u6e90\u8fdb\u884c\u6570\u636e\u722c\u53d6 \u539f\u751f\u7684scrapy\u6846\u67b6\u662f\u65e0\u6cd5\u5b9e\u73b0\u5206\u5e03\u5f0f\u722c\u866b\uff1f \u539f\u56e0\uff1a\u8c03\u5ea6\u5668\uff0c\u7ba1\u9053\u65e0\u6cd5\u88ab\u5206\u5e03\u5f0f\u673a\u7fa4\u5171\u4eab \u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f \u501f\u52a9\uff1ascrapy-redis\u7ec4\u4ef6 \u4f5c\u7528\uff1a\u63d0\u4f9b\u4e86\u53ef\u4ee5\u88ab\u5171\u4eab\u7684\u7ba1\u9053\u548c\u8c03\u5ea6\u5668 \u53ea\u53ef\u4ee5\u5c06\u722c\u53d6\u5230\u7684\u6570\u636e\u5b58\u50a8\u5230redis\u4e2d","title":"1\u3001\u6982\u8ff0"},{"location":"16-Scrapy06-scrapy_redis.html#2crawlspider","text":"scrapy startproject fbsPro cd fbsPro scrapy genspider -t crawl fbs www.xxx.com","title":"2\u3001\u521b\u5efa\u5206\u5e03\u5f0fcrawlspider\u722c\u866b"},{"location":"16-Scrapy06-scrapy_redis.html#3redis-settings","text":"(\u5fc5\u987b). \u4f7f\u7528\u4e86scrapy_redis\u7684\u53bb\u91cd\u7ec4\u4ef6\uff0c\u5728redis\u6570\u636e\u5e93\u91cc\u505a\u53bb\u91cd python DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" (\u5fc5\u987b). \u4f7f\u7528\u4e86scrapy_redis\u7684\u8c03\u5ea6\u5668\uff0c\u5728redis\u91cc\u5206\u914d\u8bf7\u6c42 python SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" (\u53ef\u9009). \u5728redis\u4e2d\u4fdd\u6301scrapy-redis\u7528\u5230\u7684\u5404\u4e2a\u961f\u5217\uff0c\u4ece\u800c\u5141\u8bb8\u6682\u505c\u548c\u6682\u505c\u540e\u6062\u590d\uff0c\u4e5f\u5c31\u662f\u4e0d\u6e05\u7406redis queues python SCHEDULER_PERSIST = True (\u5fc5\u987b). \u901a\u8fc7\u914d\u7f6eRedisPipeline\u5c06item\u5199\u5165key\u4e3a spider.name : items \u7684redis\u7684list\u4e2d\uff0c\u4f9b\u540e\u9762\u7684\u5206\u5e03\u5f0f\u5904\u7406item \u8fd9\u4e2a\u5df2\u7ecf\u7531 scrapy-redis \u5b9e\u73b0\uff0c\u4e0d\u9700\u8981\u6211\u4eec\u5199\u4ee3\u7801\uff0c\u76f4\u63a5\u4f7f\u7528\u5373\u53ef python ITEM_PIPELINES = { \u3000\u3000 'scrapy_redis.pipelines.RedisPipeline': 100 , } (\u5fc5\u987b). \u6307\u5b9aredis\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570 python REDIS_HOST = '127.0.0.1' REDIS_PORT = 6379 # \u8bbe\u7f6e\u5bc6\u7801 REDIS_PARAMS = {'password': '123456'}","title":"3\u3001redis-settings\u9700\u8981\u7684\u914d\u7f6e"},{"location":"16-Scrapy06-scrapy_redis.html#4settingspy","text":"settings.py \u8fd9\u51e0\u884c\u8868\u793a scrapy_redis \u4e2d\u91cd\u65b0\u5b9e\u73b0\u7684\u4e86\u53bb\u91cd\u7684\u7c7b\uff0c\u4ee5\u53ca\u8c03\u5ea6\u5668\uff0c\u5e76\u4e14\u4f7f\u7528\u7684 RedisPipeline \u9700\u8981\u6dfb\u52a0redis\u7684\u5730\u5740\uff0c\u7a0b\u5e8f\u624d\u80fd\u591f\u4f7f\u7528redis \u5728settings.py\u6587\u4ef6\u4fee\u6539pipelines\uff0c\u589e\u52a0scrapy_redis\u3002 # \u914d\u7f6e\u5206\u5e03\u5f0f DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" SCHEDULER_PERSIST = True ITEM_PIPELINES = { 'scrapy_redis.pipelines.RedisPipeline': 400, } # REDIS_URL = \"redis://127.0.0.1:6379\" # \u6216\u8005\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u5f0f REDIS_HOST = \"127.0.0.1\" REDIS_PORT = 6379 REDIS_PARAMS = {'password': '123456'} \u6ce8\u610f\uff1ascrapy_redis\u7684\u4f18\u5148\u7ea7\u8981\u8c03\u9ad8","title":"4\u3001settings.py"},{"location":"16-Scrapy06-scrapy_redis.html#scrapy","text":"","title":"\u4e09\u3001\u914d\u7f6escrapy\u722c\u866b"},{"location":"16-Scrapy06-scrapy_redis.html#1_1","text":"import scrapy from scrapy_redis.spiders import RedisSpider class FbsSpider(RedisSpider): name = \"fbs\" # allowed_domains = [\"duanzixing.com\"] # start_urls = [\"https://duanzixing.com\"] redis_key = 'fbsQueue' # \u4f7f\u7528\u7ba1\u9053\u540d\u79f0\uff08\u8bfe\u6839\u636e\u5b9e\u9645\u529f\u80fd\u8d77\u540d\u79f0\uff09 def parse(self, response, **kwargs): article_list = response.xpath('//article[@class=\"excerpt\"]') for article in article_list: title = article.xpath('./imgs/header/h2/a/text()').extract_first() con = article.xpath('./imgs/p[@class=\"note\"]/text()').extract_first() data = {'title': title, 'con': con} print(data) yield data","title":"1\u3001\u914d\u7f6e\u6b63\u5e38\u6293\u53d6\u4ee3\u7801"},{"location":"16-Scrapy06-scrapy_redis.html#2rediscrawlspider","text":"import scrapy from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule from scrapy_redis.spiders import RedisCrawlSpider # \u6ce8\u610f \u4e00\u5b9a\u8981\u7ee7\u627fRedisCrawlSpider class FbsSpider(RedisCrawlSpider): name = 'fbs' # allowed_domains = ['www.xxx.com'] # start_urls = ['http://www.xxx.com/'] redis_key = 'fbsQueue' # \u4f7f\u7528\u7ba1\u9053\u540d\u79f0 link = LinkExtractor(allow=r'/political/politics/index?id=\\d+') rules = ( Rule(link, callback='parse_item', follow=True), ) def parse_item(self, response): item = {} yield item","title":"2\u3001\u914d\u7f6eRedisCrawlSpider"},{"location":"16-Scrapy06-scrapy_redis.html#3scrapy-redis","text":"scrapy-redis\u4e2d\u90fd\u662f\u7528key-value\u5f62\u5f0f\u5b58\u50a8\u6570\u636e\uff0c\u5176\u4e2d\u6709\u51e0\u4e2a\u5e38\u89c1\u7684key-value\u5f62\u5f0f\uff1a 1\u3001 \u201c\u9879\u76ee\u540d:items\u201d -->list \u7c7b\u578b\uff0c\u4fdd\u5b58\u722c\u866b\u83b7\u53d6\u5230\u7684\u6570\u636eitem \u5185\u5bb9\u662f json \u5b57\u7b26\u4e32 2\u3001 \u201c\u9879\u76ee\u540d:dupefilter\u201d -->set\u7c7b\u578b\uff0c\u7528\u4e8e\u722c\u866b\u8bbf\u95ee\u7684URL\u53bb\u91cd \u5185\u5bb9\u662f 40\u4e2a\u5b57\u7b26\u7684 url \u7684hash\u5b57\u7b26\u4e32 3\u3001 \u201c\u9879\u76ee\u540d: start_urls\u201d -->List \u7c7b\u578b\uff0c\u7528\u4e8e\u83b7\u53d6spider\u542f\u52a8\u65f6\u722c\u53d6\u7684\u7b2c\u4e00\u4e2aurl 4\u3001 \u201c\u9879\u76ee\u540d:requests\u201d -->zset\u7c7b\u578b\uff0c\u7528\u4e8escheduler\u8c03\u5ea6\u5904\u7406 requests \u5185\u5bb9\u662f request \u5bf9\u8c61\u7684\u5e8f\u5217\u5316 \u5b57\u7b26\u4e32 \u5f53\u524d\u5728redis\u4e2d\u53ef\u80fd\u770b\u5230\uff0c\u4e5f\u53ef\u80fd\u770b\u4e0d\u5230\uff0c\u56e0\u4e3a\u5982\u679c\u6570\u636e\u5168\u90e8\u6293\u53d6\u5b8c\u5f53\u524dkey\u4fbf\u4e0d\u5b58\u5728","title":"3\u3001scrapy-redis\u952e\u540d\u4ecb\u7ecd"},{"location":"16-Scrapy06-scrapy_redis.html#4","text":"redis\u4e2d redis-windwos.conf \uff08\u5982\u679c\u5f53\u524d\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5df2\u7ecf\u88ab\u6ce8\u91ca\u6216\u8005\u4e0d\u5b58\u5728\uff0c\u5219\u4e0d\u7528\u5904\u7406\uff09 56\u884c\u6dfb\u52a0\u6ce8\u91ca \u53d6\u6d88\u7ed1\u5b9a127.0.0.1 # bind 127.0.0.1 75\u884c \u4fee\u6539\u4fdd\u62a4\u6a21\u5f0f\u4e3ano protected-mode no \u542f\u52a8redis \u961f\u5217\u4e2d\u6dfb\u52a0url\u5730\u5740 \u6dfb\u52a0\uff1alpush fbsQueue https://wz.sun0769.com/political/index/politicsNewest \u67e5\u770b\uff1alrange fbsQueue 0 -1 \u8fdb\u5165\u5230\u8def\u5f84\u4e2d cd fbsPro/fbsPro/spiders \u542f\u52a8\u5206\u5e03\u5f0f\u722c\u866b scrapy runspider fbs.py \u53bbredis\u4e2d\u67e5\u770b\u5b58\u50a8\u7684\u6570\u636e","title":"4\u3001\u6ce8\u610f"},{"location":"16-Scrapy06-scrapy_redis.html#scrapy_redis_2","text":"","title":"\u56db\u3001scrapy_redis \u722c\u866b \u5206\u6790"},{"location":"16-Scrapy06-scrapy_redis.html#_5","text":"\u4e86\u89e3 scrapy_redis\u5b9e\u73b0\u53bb\u91cd\u7684\u539f\u7406 \u4e86\u89e3 scrapy\u4e2d\u8bf7\u6c42\u5165\u961f\u7684\u6761\u4ef6 \u80fd\u591f\u5e94\u7528 scrapy_redis\u5b8c\u6210\u57fa\u4e8eurl\u5730\u5740\u7684\u589e\u91cf\u5f0f\u722c\u866b","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"16-Scrapy06-scrapy_redis.html#1redis","text":"\u6211\u4eec\u6267\u884c\u5206\u5e03\u5f0f\u722c\u866b\uff0c\u4f1a\u53d1\u73b0redis\u4e2d\u591a\u4e86\u4e00\u4e0b\u4e09\u4e2a\u952e\uff1a \u7ee7\u7eed\u6267\u884c\u7a0b\u5e8f \u7ee7\u7eed\u6267\u884c\u7a0b\u5e8f\uff0c\u4f1a\u53d1\u73b0\u7a0b\u5e8f\u5728\u524d\u4e00\u6b21\u7684\u57fa\u7840\u4e4b\u4e0a\u7ee7\u7eed\u5f80\u540e\u6267\u884c\uff0c \u6240\u4ee5\u5206\u5e03\u5f0f\u722c\u866b\u662f\u4e00\u4e2a\u57fa\u4e8eurl\u5730\u5740\u7684\u589e\u91cf\u5f0f\u7684\u722c\u866b","title":"1\u3001\u8fd0\u884c\u67e5\u770bredis"},{"location":"16-Scrapy06-scrapy_redis.html#2scrapy_redis","text":"\u6211\u4eec\u4ecesettings.py\u4e2d\u7684\u4e09\u4e2a\u914d\u7f6e\u6765\u8fdb\u884c\u5206\u6790 \u5206\u522b\u662f\uff1a RedisPipeline RFPDupeFilter Scheduler","title":"2\u3001scrapy_redis\u7684\u539f\u7406\u5206\u6790"},{"location":"16-Scrapy06-scrapy_redis.html#21-scrapy_redisredispipeline","text":"RedisPipeline\u4e2d\u89c2\u5bdfprocess_item\uff0c\u8fdb\u884c\u6570\u636e\u7684\u4fdd\u5b58\uff0c\u5b58\u5165\u4e86redis\u4e2d","title":"2.1 Scrapy_redis\u4e4bRedisPipeline"},{"location":"16-Scrapy06-scrapy_redis.html#22-scrapy_redisrfpdupefilter","text":"RFPDupeFilter \u5b9e\u73b0\u4e86\u5bf9request\u5bf9\u8c61\u7684\u52a0\u5bc6","title":"2.2 Scrapy_redis\u4e4bRFPDupeFilter"},{"location":"16-Scrapy06-scrapy_redis.html#23-scrapy_redisscheduler","text":"scrapy_redis\u8c03\u5ea6\u5668\u7684\u5b9e\u73b0\u4e86\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u628arequest\u5bf9\u8c61\u52a0\u5165\u5e26\u6293\u53d6\u7684\u961f\u5217\uff0c\u540c\u65f6\u628a\u8bf7\u6c42\u8fc7\u7684request\u5bf9\u8c61\u8fc7\u6ee4\u6389 \u7531\u6b64\u53ef\u4ee5\u603b\u7ed3\u51farequest\u5bf9\u8c61\u5165\u961f\u7684\u6761\u4ef6 request\u4e4b\u524d\u6ca1\u6709\u89c1\u8fc7 request\u7684dont_filter\u4e3aTrue\uff0c\u5373\u4e0d\u8fc7\u6ee4 start_urls\u4e2d\u7684url\u5730\u5740\u4f1a\u5165\u961f\uff0c\u56e0\u4e3a\u4ed6\u4eec\u9ed8\u8ba4\u662f\u4e0d\u8fc7\u6ee4","title":"2.3 Scrapy_redis\u4e4bScheduler"},{"location":"16-Scrapy06-scrapy_redis.html#3","text":"\u5982\u679c\u60a8\u7684\u89e3\u91ca\u5668\u4e3a3.10\u53ca\u4ee5\u4e0a\uff0c\u8fd0\u884c\u51fa\u73b0\u5982\u4e0b\u9519\u8bef ImportError: cannot import name 'Iterable' from 'collections' (/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/collections/__init__.py) \u539f\u56e0\uff1a 3.10\u53ca\u4ee5\u4e0a\u675c\u5bf9\u4e8e from collections import Iterable \u5bfc\u5305\u8def\u5f84\u66f4\u6539\u4e3a from collections.abc import Iterable \u53bb\u5230\u5f53\u524d\u5bfc\u5305\u62a5\u9519\u8def\u5f84\u6587\u4ef6\u4e2d\u66f4\u6539\u5373\u53ef","title":"3\u3001\u62a5\u9519"},{"location":"16-Scrapy06-scrapy_redis.html#_6","text":"\u672c\u5c0f\u7ed3\u91cd\u70b9 \u77e5\u9053\u4ec0\u4e48\u662fscrapy_redis \u638c\u63e1scarpy_redis\u5b9e\u73b0\u5206\u5e03\u5f0f\u7684\u539f\u7406 \u638c\u63e1scrapy_\u8fdb\u884curl\u5730\u5740\u52a0\u5bc6\u7684\u65b9\u6cd5 \u638c\u63e1request\u5bf9\u8c61\u5165\u961f\u7684\u6761\u4ef6 \u80fd\u591f\u901a\u8fc7scrapy_redis\u5b8c\u6210\u57fa\u4e8eurl\u5730\u5740\u7684\u589e\u91cf\u5f0f\u722c\u866b","title":"\u603b\u7ed3"},{"location":"16-Scrapy06-scrapy_redis.html#_7","text":"","title":"\u4e94\u3001\u6848\u4f8b"},{"location":"16-Scrapy06-scrapy_redis.html#_8","text":"\u80fd\u591f\u5e94\u7528 scrapy_redis\u5b9e\u73b0\u5206\u5e03\u5f0f\u722c\u866b \u80fd\u591f\u5e94\u7528 scrapy_redis\u4e2dRedisCrawlspider\u7c7b\u5b9e\u73b0\u5206\u5e03\u5f0f\u722c\u866b","title":"\u5b66\u4e60\u76ee\u6807"},{"location":"16-Scrapy06-scrapy_redis.html#1-redisspider","text":"","title":"1 RedisSpider"},{"location":"16-Scrapy06-scrapy_redis.html#11-demo","text":"\u901a\u8fc7\u89c2\u5bdf\u4ee3\u7801\uff1a \u7ee7\u627f\u81ea\u7236\u7c7b\u4e3aRedisSpider \u589e\u52a0\u4e86\u4e00\u4e2aredis_key\u7684\u952e\uff0c\u6ca1\u6709start_urls\uff0c\u56e0\u4e3a\u5206\u5e03\u5f0f\u4e2d\uff0c\u5982\u679c\u6bcf\u53f0\u7535\u8111\u90fd\u8bf7\u6c42\u4e00\u6b21start_url\u5c31\u4f1a\u91cd\u590d \u591a\u4e86 __init__ \u65b9\u6cd5\uff0c\u8be5\u65b9 \u6cd5\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u53ef\u4ee5\u624b\u52a8\u6307\u5b9aallow_domains","title":"1.1 \u5206\u6790demo\u4e2d\u4ee3\u7801"},{"location":"16-Scrapy06-scrapy_redis.html#12","text":"\u9700\u6c42\uff1a\u6293\u53d6\u5f53\u5f53\u56fe\u4e66\u7684\u4fe1\u606f \u76ee\u6807\uff1a\u6293\u53d6\u5f53\u5f53\u56fe\u4e66\u53c8\u6709\u56fe\u4e66\u7684\u540d\u5b57\u3001\u5c01\u9762\u56fe\u7247\u5730\u5740\u3001\u56fe\u4e66url\u5730\u5740\u3001\u4f5c\u8005\u3001\u51fa\u7248\u793e\u3001\u51fa\u7248\u65f6\u95f4\u3001\u4ef7\u683c\u3001\u56fe\u4e66\u6240\u5c5e\u5927\u5206\u7c7b\u3001\u56fe\u4e66\u6240\u5c5e\u5c0f\u7684\u5206\u7c7b\u3001\u5206\u7c7b\u7684url\u5730\u5740 url\uff1ahttp://book.dangdang.com","title":"1.2 \u52a8\u624b\u5b9e\u73b0\u5f53\u5f53\u56fe\u4e66\u722c\u866b"},{"location":"16-Scrapy06-scrapy_redis.html#2-rediscrawlspider","text":"","title":"2 RedisCrawlSpider"},{"location":"16-Scrapy06-scrapy_redis.html#21","text":"import scrapy from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule from scrapy_redis.spiders import RedisCrawlSpider ''' \u5f53\u5f53\u7f51 \u5206\u5e03\u5f0f\u6293\u53d6 crawlspider redis\u7ec8\u7aef\u8f93\u5165 lpush dangdang http://category.dangdang.com/cp01.01.02.00.00.00.html \u542f\u52a8scrapy ''' # class DdcrawlSpider(CrawlSpider): class DdcrawlSpider(RedisCrawlSpider): name = 'ddcrawl' # allowed_domains = ['category.dangdang.com/cp01.01.02.00.00.00.html'] # start_urls = ['http://category.dangdang.com/cp01.01.02.00.00.00.html/'] redis_key = 'dangdang' # \u4f7f\u7528\u7ba1\u9053\u540d\u79f0\uff08\u8bfe\u6839\u636e\u5b9e\u9645\u529f\u80fd\u8d77\u540d\u79f0\uff09 \"\"\" url http://category.dangdang.com/cp01.01.02.00.00.00.html http://category.dangdang.com/pg2-cp01.01.02.00.00.00.html http://category.dangdang.com/pg100-cp01.01.02.00.00.00.html \"\"\" rules = ( Rule(LinkExtractor(allow=r'cp01\\.01\\.02\\.00\\.00\\.00\\.html$'),callback='parse_item', follow=False), ) def parse_item(self, response): con_shoplist = response.xpath('//div[@class=\"con shoplist\"]/div/ul/li') print(con_shoplist) for li in con_shoplist: item = {} # \u83b7\u53d6\u56fe\u7247src img = li.xpath('./imgs/a/img/@src').extract_first() # \u83b7\u53d6\u6807\u9898 title = li.xpath('./imgs/p[@name=\"title\"]/a/text()').extract_first() # \u83b7\u53d6\u8be6\u60c5 detail = li.xpath('./imgs/p[@class=\"detail\"]/text()').extract_first() # \u83b7\u53d6\u4ef7\u683c price = li.xpath('./imgs/p[@class=\"price\"]/span/text()').extract_first() item['img'] = img item['title'] = title item['detail'] = detail item['price'] = price print(response.request.url, item) yield item","title":"2.1 \u4ee3\u7801"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","text":"\u5341\u4e03\u3001js\u6570\u636e\u7c7b\u578b \u7ec4\u6210\u90e8\u5206 ECMAScript\uff0c\u63cf\u8ff0\u4e86\u8be5\u8bed\u8a00\u7684\u8bed\u6cd5 \u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff08DOM\uff09\uff0c\u63cf\u8ff0\u5904\u7406\u7f51\u9875\u5185\u5bb9\u7684\u65b9\u6cd5\u548c\u63a5\u53e3 \u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff08BOM\uff09\uff0c\u63cf\u8ff0\u4e0e\u6d4f\u89c8\u5668\u8fdb\u884c\u4ea4\u4e92\u7684\u65b9\u6cd5\u548c\u63a5\u53e3 \u4e00\u3001\u57fa\u672c\u8bed\u6cd5 1\u3001\u4f7f\u7528JavaScript\u7684\u4e09\u79cd\u65b9\u5f0f \u5728header\u5934\u90e8\u5185\u5d4c \\ \\ \u5728header\u5934\u90e8\u5bfc\u5165 \\ \\ \u7ed9HTML\u4ee3\u7801\u7ed1\u5b9ajs\u4e8b\u4ef6 \\ \u70b9\u51fb\\ <span onclick=\"this.innerHTML='ss'\">\u70b9\u51fb</span> \u6ce8\u610f\uff1a \u5728\u5bfc\u5165js\u4ee3\u7801\u7684\u6807\u7b7e\u5185 \u4e0d\u53ef\u4ee5\u4e66\u5199js\u4ee3\u7801 \u5426\u5219\u4e0d\u4f1a\u88ab\u6267s\u884c 2 \u3001js\u4ee3\u7801\u8f93\u51fa\u76843\u79cd\u65b9\u5f0f \u7b2c\u4e00\u53e5javascript\u4ee3\u7801\uff1aalert(\"hello world!\") ; \u7b2c\u4e8c\u53e5javascript\u4ee3\u7801\uff1adocument.write(\"\u4eb2\uff0c\u6211\u5728\u9875\u9762\u4e0a\uff0c\u8ddfalert\u4e0d\u4e00\u6837\u5662\uff01\"); \u7b2c\u4e09\u53e5javascript\u4ee3\u7801\uff1aconsole.log(\"\u6211\u662f\u5728\u63a7\u5236\u53f0\u6253\u5370\u7684, \u4ee5\u540e\u5e38\u7528\u6211\uff01\"); 3\u3001script\u6807\u7b7e\u53ef\u4ee5\u51fa\u73b0\u591a\u6b21 \u4e14\u53ef\u4ee5\u51fa\u73b0\u5728html\u6587\u4ef6\u7684\u4efb\u4f55\u5730\u65b9,\u5efa\u8bae\u5199\u5728\\ \\ \u4e4b\u95f4;\u53e6\u5916,\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2dJavascript\u548cHTML\u4ee3\u7801,\u5b83\u4eec\u7684\u6267\u884c\u987a\u5e8f\u90fd\u662f\u81ea\u4e0a\u800c\u4e0b\uff0c\u8c01\u5728\u524d\u5c31\u8c01\u5148\u6267\u884c,\u8c01\u5728\u540e\u5c31\u540e\u6267\u884c. 4 \u3001JavaScript\u7684\u6ce8\u91ca \u5355\u884c\u6ce8\u91ca:// \u591a\u884c\u6ce8\u91ca /**/ 5\u3001\u5916\u90e8javaScript\u6587\u4ef6\u5f15\u5165\u65b9\u5f0f <script type=\"text/javascript\" src=\"demo1.js\" ></script> \u6ce8\u610f\uff1a \u4e0d\u53ef\u4ee5\u4f7f\u7528\u5355\u6807,\u4ee5\u4e0b\u662f\u4e0d\u6b63\u786e\u7684\u5199\u6cd5 ```javascript alert('xxxx') ``` script\u6807\u7b7e\u7684\u5c5e\u6027: src\u8868\u793a\u8981\u5f15\u5165\u7684\u5916\u90e8\u6587\u4ef6 type \u8868\u793a\u811a\u672c\u8bed\u8a00\u7684\u7c7b\u578b \u4e8c\u3001\u53d8\u91cf\u548c\u5e38\u91cf\u5b9a\u4e49(\u4f7f\u7528var\u5173\u952e\u5b57) 1\u3001var \u58f0\u660e\u53d8\u91cf \u5b9a\u4e49\u53d8\u91cf var age; //var \u662f\u5173\u952e\u5b57\uff0cage\u662f\u53d8\u91cf\u540d \u6ce8\u610f\uff1a\u5728javascript\u4e2dname\u65e2\u4e0d\u662f\u4fdd\u7559\u5b57\uff0c\u4e5f\u4e0d\u662f\u5173\u952e\u5b57\uff0c\u4f46\u5728window\u5bf9\u8c61\u4e2d\u6709\u4e00\u4e2a\u5c5e\u6027\u662f window.name window.name \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u5f53\u4f60\u58f0\u660ename\u53d8\u91cf\u7684\u65f6\u5019,\u76f8\u5f53\u4e8e\u7ed9window.name\u8d4b\u503c,\u6240\u4ee5\u53ea\u80fd\u4e3a\u5b57\u7b26\u4e32\u3002 \u8d4b\u503c age= 20; \u5b9a\u4e49\u7684\u540c\u65f6\u8d4b\u503c var age=20\uff1b \u4e00\u6b21\u5b9a\u4e49\u591a\u4e2a\u53d8\u91cf \u200b var name=\"zhangsan\", age=18, weight=108; JS\u662f\u5f31\u6570\u636e\u7c7b\u578b\u7684\u8bed\u8a00\uff0c\u5bb9\u9519\u6027\u8f83\u9ad8,\u5728\u8d4b\u503c\u7684\u65f6\u5019\u624d\u786e\u5b9a\u6570\u636e\u7c7b\u578b javascript var b; //temp\u65f6\u5565\u6570\u636e\u7c7b\u578b\uff1f\u4e0d\u786e\u5b9a b = 12; //temp\u53d8\u91cf\u662f\u6570\u5b57\u7c7b\u578b b = \"hello\"; //temp\u53d8\u91cf\u53d8\u6210\u4e86\u5b57\u7b26\u4e32\u7c7b\u578b console.log(typeof b); \u6ce8\u610f \u51fd\u6570\u4f5c\u7528\u57df\uff1a var \u58f0\u660e\u7684\u53d8\u91cf\u5177\u6709\u51fd\u6570\u4f5c\u7528\u57df\uff0c\u800c\u4e0d\u662f\u5757\u7ea7\u4f5c\u7528\u57df\u3002\u8fd9\u610f\u5473\u7740\u53d8\u91cf\u5728\u6574\u4e2a\u51fd\u6570\u5185\u662f\u53ef\u89c1\u7684\uff0c\u800c\u4e0d\u4ec5\u9650\u4e8e\u58f0\u660e\u5b83\u7684\u5757\u3002 ```javascript function example() { if (true) { var y = 20; console.log(y); // 20 } console.log(y); // 20\uff0cy \u5728\u6574\u4e2a\u51fd\u6570\u5185\u90fd\u53ef\u89c1 } example(); ``` \u53d8\u91cf\u63d0\u5347\uff1a \u4f7f\u7528 var \u58f0\u660e\u7684\u53d8\u91cf\u4f1a\u5728\u5176\u6240\u5728\u4f5c\u7528\u57df\u7684\u9876\u90e8\u88ab\u63d0\u5347\uff0c\u610f\u5473\u7740\u53ef\u4ee5\u5728\u58f0\u660e\u4e4b\u524d\u8bbf\u95ee\u53d8\u91cf\u3002 javascript console.log(a); // undefined var a = 5; \u5141\u8bb8\u91cd\u590d\u58f0\u660e\uff1a \u5728\u76f8\u540c\u4f5c\u7528\u57df\u5185\uff0c\u4f7f\u7528 var \u53ef\u4ee5\u591a\u6b21\u58f0\u660e\u540c\u4e00\u4e2a\u53d8\u91cf\u3002 \u5c3d\u7ba1 var \u5728\u8fc7\u53bb\u662f\u4e3b\u8981\u7684\u53d8\u91cf\u58f0\u660e\u65b9\u5f0f\uff0c\u4f46\u7531\u4e8e\u5176\u7279\u6709\u7684\u4e00\u4e9b\u95ee\u9898\uff08\u4f8b\u5982\u53d8\u91cf\u63d0\u5347\u3001\u6ca1\u6709\u5757\u7ea7\u4f5c\u7528\u57df\u7b49\uff09\uff0c\u63a8\u8350\u5728\u73b0\u4ee3 JavaScript \u4e2d\u4f7f\u7528 let \u548c const \u6765\u58f0\u660e\u53d8\u91cf\uff0c\u9664\u975e\u6709\u7279\u5b9a\u7684\u9700\u6c42\u3002 2\u3001let\u58f0\u660e let \u58f0\u660e\u7684\u53d8\u91cf\u53ea\u5728 let \u547d\u4ee4\u6240\u5728\u7684\u4ee3\u7801\u5757\u5185\u6709\u6548\u3002 javascript var x = 10; // \u8fd9\u91cc\u8f93\u51fa x \u4e3a 10 { let x = 2; // \u8fd9\u91cc\u8f93\u51fa x \u4e3a 2 } // \u8fd9\u91cc\u8f93\u51fa x \u4e3a 10 console.log(x) \u6ce8\u610f let \u662f JavaScript \u4e2d\u7528\u4e8e\u58f0\u660e\u53d8\u91cf\u7684\u5173\u952e\u5b57\u4e4b\u4e00\u3002\u5b83\u5f15\u5165\u4e86\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u4e0e var \u4e0d\u540c\uff0c let \u5728\u5b9a\u4e49\u53d8\u91cf\u7684\u540c\u65f6\u5c06\u5176\u9650\u5236\u5728\u5f53\u524d\u7684\u4ee3\u7801\u5757\u5185\u3002 ```javascript if (true) { let x = 10; console.log(x); // 10 } console.log(x); // Error: x is not defined ``` \u907f\u514d\u53d8\u91cf\u63d0\u5347\uff1a let \u4e0d\u4f1a\u50cf var \u4e00\u6837\u5728\u4f5c\u7528\u57df\u5f00\u59cb\u65f6\u88ab\u63d0\u5347\uff0c\u800c\u662f\u5728\u4ee3\u7801\u6267\u884c\u5230\u58f0\u660e\u7684\u4f4d\u7f6e\u65f6\u624d\u4f1a\u88ab\u521b\u5efa\u3002 ```javascript console.log(a); // undefined var a = 5; console.log(b); // Error: b is not defined let b = 10; ``` \u4e0d\u5141\u8bb8\u91cd\u590d\u58f0\u660e\uff1a \u5728\u76f8\u540c\u4f5c\u7528\u57df\u5185\uff0c\u4f7f\u7528 let \u91cd\u590d\u58f0\u660e\u540c\u4e00\u4e2a\u53d8\u91cf\u4f1a\u5bfc\u81f4\u8bed\u6cd5\u9519\u8bef\u3002 javascript let name = \"John\"; let name = \"Lucky\"; // Error: Identifier 'name' has already been declared \u603b\u4f53\u800c\u8a00\uff0c let \u63d0\u4f9b\u4e86\u66f4\u52a0\u7075\u6d3b\u548c\u53ef\u63a7\u7684\u53d8\u91cf\u58f0\u660e\u65b9\u5f0f\uff0c\u6709\u52a9\u4e8e\u907f\u514d\u4e00\u4e9b\u7531\u4e8e\u53d8\u91cf\u63d0\u5347\u548c\u4f5c\u7528\u57df\u95ee\u9898\u5bfc\u81f4\u7684 bug\u3002 3\u3001\u5e38\u91cf\u5b9a\u4e49 \u8bf4\u660e const \u662f JavaScript \u4e2d\u7528\u4e8e\u58f0\u660e\u5e38\u91cf\u7684\u5173\u952e\u5b57\u3002\u4f7f\u7528 const \u58f0\u660e\u7684\u53d8\u91cf\u5fc5\u987b\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5e76\u4e14\u4e00\u65e6\u8d4b\u503c\u540e\uff0c\u5c31\u4e0d\u80fd\u518d\u88ab\u4fee\u6539\u3002 const \u7684\u4e3b\u8981\u4f5c\u7528\u5305\u62ec\uff1a \u5e38\u91cf\u58f0\u660e\uff1a const \u7528\u4e8e\u58f0\u660e\u5e38\u91cf\uff0c\u5e38\u91cf\u662f\u6307\u4e00\u65e6\u8d4b\u503c\u5c31\u4e0d\u80fd\u88ab\u91cd\u65b0\u8d4b\u503c\u7684\u53d8\u91cf\u3002 javascript const PI = 3.14; \u5757\u7ea7\u4f5c\u7528\u57df\uff1a \u4e0e let \u7c7b\u4f3c\uff0c const \u4e5f\u5177\u6709\u5757\u7ea7\u4f5c\u7528\u57df\u3002\u58f0\u660e\u7684\u5e38\u91cf\u53ea\u5728\u5f53\u524d\u4ee3\u7801\u5757\u5185\u6709\u6548\u3002 ```javascript if (true) { const x = 10; console.log(x); // 10 } console.log(x); // Error: x is not defined ``` \u4e0d\u5141\u8bb8\u91cd\u65b0\u8d4b\u503c\uff1a \u4e00\u65e6\u4f7f\u7528 const \u58f0\u660e\u53d8\u91cf\u5e76\u8d4b\u503c\uff0c\u5c31\u4e0d\u80fd\u518d\u4fee\u6539\u4ee5\u53ca\u5220\u9664\u5b83\u7684\u503c\u3002 javascript const name = \"Lucky\"; name = \"Doe\"; // Error: Assignment to constant variable console.log(name) // Lucky \u5e38\u91cf\u4e0d\u4f1a\u88ab\u63d0\u5347\uff1a \u4e0e var \u4e0d\u540c\uff0c\u4f7f\u7528 const \u58f0\u660e\u7684\u53d8\u91cf\u4e0d\u4f1a\u88ab\u63d0\u5347\u5230\u5f53\u524d\u4f5c\u7528\u57df\u7684\u9876\u90e8\u3002 javascript console.log(a); // Error: Cannot access 'a' before initialization const a = 5; \u4f7f\u7528 const \u7684\u4f18\u52bf\u5728\u4e8e\u5b83\u63d0\u4f9b\u4e86\u66f4\u5f3a\u7684\u4e0d\u53ef\u53d8\u6027\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u5bb9\u6613\u7406\u89e3\u548c\u7ef4\u62a4\u3002\u901a\u5e38\u5efa\u8bae\u5728\u80fd\u591f\u4f7f\u7528\u5e38\u91cf\u7684\u5730\u65b9\u4f18\u5148\u4f7f\u7528 const \u3002\u5982\u679c\u9700\u8981\u53ef\u53d8\u6027\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 let \u3002 3\u3001JS\u4ee3\u7801\u89c4\u8303 \u4fdd\u6301\u4ee3\u7801\u7f29\u8fdb \u53d8\u91cf\u540d\u9075\u5b88\u547d\u540d\u89c4\u8303,\u5c3d\u91cf\u89c1\u540d\u601d\u610f JS\u8bed\u53e5\u7684\u672b\u5c3e\u5c3d\u91cf\u5199\u4e0a\u5206\u53f7; \u8fd0\u7b97\u7b26\u4e24\u8fb9\u90fd\u7559\u4e00\u4e2a\u7a7a\u683c,\u5982 var n = 1 + 2; \u4e09\u3001JS\u53d8\u91cf\u7684\u547d\u540d\u89c4\u8303 1\u3001\u89c4\u8303 \u53d8\u91cf\u540d\u53ef\u4ee5\u662f\u6570\u5b57,\u5b57\u6bcd,\u4e0b\u5212\u7ebf_\u548c\u7f8e\u5143\u7b26$\u7ec4\u6210; \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u4e3a\u6570\u5b57 \u4e0d\u80fd\u4f7f\u7528\u5173\u952e\u5b57\u6216\u4fdd\u7559\u5b57 \u6807\u8bc6\u7b26\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5982\uff1aage\u548cAge\u662f\u4e0d\u540c\u7684\u53d8\u91cf\u3002\u4f46\u5f3a\u70c8\u4e0d\u5efa\u8bae\u7528\u540c\u4e00\u4e2a\u5355\u8bcd\u7684\u5927\u5c0f\u5199\u533a\u5206\u4e24\u4e2a\u53d8\u91cf\u3002 \u53d8\u91cf\u547d\u540d\u5c3d\u91cf\u9075\u5b88\u9a7c\u5cf0\u539f\u5219:myStudentScore \u53d8\u91cf\u547d\u540d\u5c3d\u91cf\u89c1\u540d\u601d\u610f, 2\u3001\u53c2\u8003\u4e0b\u56fe \u7c7b\u578b \u524d\u7f00 \u7c7b\u578b \u5b9e\u4f8b \u6574\u6570 i Int 1 \u6d6e\u70b9\u6570 f Float 1.2 \u6570\u7ec4 a Array [] \u5e03\u5c14\u503c b Boolean true/false \u51fd\u6570 Fn Function var a = function () {} \u5bf9\u8c61 o Object {} \u5b57\u7b26\u4e32 s String 'lucky' \u56db\u3001JS\u6570\u636e\u7c7b\u578b 1\u3001JS\u6570\u636e\u7c7b\u578b Boolean:\u5e03\u5c14\u7c7b\u578b Number\uff1a\u6570\u5b57\uff08\u6574\u6570int\uff0c\u6d6e\u70b9\u6570float\uff09 String\uff1a\u5b57\u7b26\u4e32 Array\uff1a\u6570\u7ec4 Object\uff1a\u5bf9\u8c61 \u7279\u6b8a\u6570\u636e\u7c7b\u578bNull(\u7a7a\u5bf9\u8c61)\u3001Undefined(\u672a\u5b9a\u4e49) undefined \u4e0d\u662f\u5173\u952e\u5b57\uff0c\u53d6\u503c\u7684\u65f6\u5019\u63a8\u8350\u7528void 0 javascript var data; data === void 0 // true \u5b9e\u9645\u4f7f\u7528\u573a\u666f \u6ce8\u610f: \u53d8\u91cf\u7684\u7c7b\u578b\u5728\u8d4b\u503c\u65f6\u624d\u80fd\u786e\u5b9a \u6570\u7ec4\uff0c\u51fd\u6570\u90fd\u5c5e\u4e8e\u5bf9\u8c61\u7c7b\u578b javascript var a = function () {} console.log({} instanceof Object) console.log(function () {} instanceof Object) console.log([] instanceof Object) instanceof \u662f JavaScript \u4e2d\u7684\u8fd0\u7b97\u7b26\uff0c\u7528\u4e8e\u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u662f\u67d0\u4e2a\u7279\u5b9a\u7c7b\u578b\uff08\u7c7b\uff09\u7684\u5b9e\u4f8b\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002 2\u3001typeof\u64cd\u4f5c\u7b26 \u6982\u8ff0 \u7528\u6765\u68c0\u6d4b\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b,\u5bf9\u4e8e\u503c\u6216\u53d8\u91cf\u4f7f\u7528 typeof\u64cd\u4f5c\u7b26\u4f1a\u8fd4\u56de\u5982\u4e0b\u5b57\u7b26\u4e32: \u7c7b\u578b Undefined\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: undefined \u672a\u5b9a\u4e49 Boolean\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: boolean \u5e03\u5c14\u503c String\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: string \u5b57\u7b26\u4e32 Number\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: number \u6570\u503c Object\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: object \u5bf9\u8c61\u6216\u8005null Function\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: function \u51fd\u6570 \u4f8b\u5982: \u200b var b = \"Lucky\"; \u200b console.log(typeof b); \u200b console.log(typeof \"Lucky\"); 3\u3001Undefined\u7c7b\u578b \u6982\u8ff0 Undefined\u7c7b\u578b\u53ea\u6709\u4e00\u4e2a\u503c\uff0c\u5373\u7279\u6b8a\u7684 undefined\u3002\u5728\u4f7f\u7528var\u58f0\u660e\u53d8\u91cf\uff0c\u4f46\u6ca1\u6709\u5bf9\u5176\u521d\u59cb\u5316\u65f6\uff0c\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u5c31\u662f undefined \u4f8b\u5982 javascript var b; console.log(typeof b); //undefined \u200b \u6ce8\u610f:\u6211\u4eec\u5728\u5b9a\u4e49\u53d8\u91cf\u7684\u65f6\u5019\uff0c \u5c3d\u53ef\u80fd\u7684\u4e0d\u8981\u53ea\u58f0\u660e\uff0c\u4e0d\u8d4b\u503c, \u800c\u662f\u58f0\u660e\u7684\u540c\u65f6\u521d\u59cb\u5316\u4e00\u4e2a\u503c\u3002 4\u3001Null\u7c7b\u578b \u6982\u8ff0 Null\u7c7b\u578b\u662f\u4e00\u4e2a\u53ea\u6709\u4e00\u4e2a\u503c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5373\u7279\u6b8a\u7684\u503c null\u3002\u5b83\u8868\u793a\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u5f15\u7528(\u6307\u9488)\uff0c\u800ctypeof\u64cd\u4f5c\u7b26\u68c0\u6d4b null \u4f1a\u8fd4\u56de object\u3002 \u4f8b\u5982 javascript var b = null; console.log(typeof b); // ECMA-262 \u89c4\u5b9a\u5bf9\u5b83\u4eec\u7684\u76f8\u7b49\u6027\u6d4b\u8bd5\u8fd4\u56de true, \u8868\u793a\u503c\u76f8\u7b49\u3002 console.log(undefined == null); ECMA-262 \u662f JavaScript \u8bed\u8a00\u7684\u89c4\u8303\u6807\u51c6\uff0c\u5b83\u7531 Ecma \u56fd\u9645\uff08European Computer Manufacturers Association\uff09\u5236\u5b9a\u548c\u7ef4\u62a4\u3002ECMA-262 \u5b9a\u4e49\u4e86 JavaScript \u7684\u6838\u5fc3\u8bed\u6cd5\u3001\u6570\u636e\u7c7b\u578b\u3001\u5bf9\u8c61\u548c\u51fd\u6570\u7b49\u65b9\u9762\u7684\u89c4\u8303\uff0c\u4ee5\u786e\u4fdd\u4e0d\u540c\u7684 JavaScript \u5f15\u64ce\u80fd\u591f\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e2d\u5b9e\u73b0\u4e00\u81f4\u7684\u884c\u4e3a\u3002 \u4f46\u662f\u4e24\u8005\u7684\u6570\u636e\u7c7b\u578b\u662f\u4e0d\u4e00\u6837\u7684 javascript var b; var car = null; console.log(typeof b == typeof car) // false console.log(b == car) // true 5\u3001Boolean\u7c7b\u578b Boolean\u7c7b\u578b\u7684\u8f6c\u6362\u89c4\u5219:(\u7262\u8bb0) String:\u975e\u7a7a\u5b57\u7b26\u4e32\u4e3atrue,\u7a7a\u5b57\u7b26\u4e32\u4e3afalse Number:\u975e0\u6570\u503c\u4e3atrue, 0\u6216\u8005NaN\u4e3afalse Object:\u5bf9\u8c61\u4e0d\u4e3anull\u5219\u4e3atrue, null\u4e3afalse javascript console.log(null,Boolean(null)); Undefined: undefined\u4e3afalse \u5b9e\u4f8b ```javascript console.log(Number(true) ) // 1 \u8f6c\u4e3a\u6570\u503c\u4e3a1 console.log(Number(false)) // 0 \u8f6c\u4e3a\u6570\u503c\u4e3a0 console.log(Boolean('')); // false console.log(Boolean({})); // true console.log(Boolean([])); // true console.log(Boolean(undefined)); // false ``` 6\u3001Number\u7c7b\u578b Number\u7c7b\u578b\u5305\u542b\u4e24\u79cd\u6570\u503c\uff1a\u6574\u578b\u548c\u6d6e\u70b9\u578b. \u6574\u578b: ```javascript var b = 100; console.log(b); ``` \u6d6e\u70b9\u7c7b\u578b: \u5c31\u662f\u8be5\u6570\u503c\u4e2d\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u5c0f\u6570\u70b9\uff0c\u5e76\u4e14\u5c0f\u6570\u70b9\u540e\u9762\u5fc5\u987b\u81f3\u5c11\u6709\u4e00\u4f4d\u6570\u5b57 javascript var b= 3.8; var b= 0.8; var b= .8; //\u6709\u6548\uff0c\u4f46\u4e0d\u63a8\u8350\u6b64\u5199\u6cd5 \u6ce8\u610f\u4e8b\u9879 \u7531\u4e8e\u4fdd\u5b58\u6d6e\u70b9\u6570\u503c\u9700\u8981\u7684\u5185\u5b58\u7a7a\u95f4\u6bd4\u6574\u578b\u6570\u503c\u5927\u4e24\u500d\uff0c\u56e0\u6b64ECMAScript\u4f1a\u81ea\u52a8\u5c06\u53ef\u4ee5\u8f6c\u6362\u4e3a\u6574\u578b\u7684\u6d6e\u70b9\u6570\u503c\u8f6c\u6210\u4e3a\u6574\u578b\u3002 var b= 8.; //\u5c0f\u6570\u70b9\u540e\u9762\u6ca1\u6709\u503c\uff0c\u8f6c\u6362\u4e3a 8 var b= 12.0; //\u5c0f\u6570\u70b9\u540e\u9762\u662f 0\uff0c\u8f6c\u6210\u4e3a12 \u200b \u5bf9\u4e8e\u90a3\u4e9b\u8fc7\u5927\u6216\u8fc7\u5c0f\u7684\u6570\u503c\uff0c\u53ef\u4ee5\u7528\u79d1\u5b66\u6280\u672f\u6cd5\u6765\u8868\u793a(e\u8868\u793a\u6cd5)\u3002\u7528 e \u8868\u793a\u8be5\u6570\u503c\u7684\u524d\u9762 10 \u7684\u6307\u6570\u6b21\u5e42\u3002 \u200b var box = 4.12e9; //\u5373 4120000000 \u200b var box = 0.0000412; //\u5373 4.12e-5 \u200b \u6d6e\u70b9\u6570\u503c\u7684\u8303\u56f4\u5728\uff1aNumber.MIN_VALUE ~ Number.MAX_VALUE\u4e4b\u95f4,\u5982\u679c\u8d85\u8fc7\u4e86\u6d6e\u70b9\u6570\u503c\u8303\u56f4\u7684\u6700\u5927\u503c\u6216\u6700\u5c0f\u503c\uff0c\u90a3\u4e48\u5c31\u5148\u51fa\u73b0 Infinity(\u6b63\u65e0\u7a77)\u6216-Infinity(\u8d1f\u65e0\u7a77)\u3002 NaN, \u5373\u975e\u6570\u503c(Not a Number)\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u503c \u6982\u8ff0 \u8fd9\u4e2a\u6570\u503c\u7528\u4e8e\u8868\u793a\u4e00\u4e2a\u672c\u6765\u8981\u8fd4\u56de\u6570\u503c\u7684\u64cd\u4f5c\u6570\u672a\u8fd4\u56de\u6570\u503c\u7684\u60c5\u51b5(\u8fd9\u6837\u5c31\u4e0d\u4f1a\u629b\u51fa\u9519\u8bef\u4e86)\u3002\u6bd4\u5982\uff0c\u5728\u5176\u4ed6\u8bed\u8a00\u4e2d, \u4efb\u4f55\u6570\u503c\u9664\u4ee5 0\u90fd\u4f1a\u5bfc\u81f4\u9519\u8bef\u800c\u7ec8\u6b62\u7a0b\u5e8f\u6267\u884c\u3002\u4f46\u5728ECMAScript\u4e2d\uff0c\u4f1a\u8fd4\u56de\u51fa\u7279\u6b8a\u7684\u503c\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5f71\u54cd\u7a0b\u5e8f\u6267\u884c\u3002 javascript var b =0/0; //NaN var b =12/0; //Infinity var b =12/0 * 0 //NaN isNaN ECMAScript\u63d0\u4f9b\u4e86 isNaN()\u51fd\u6570\uff0c\u7528\u6765\u5224\u65ad\u8fd9\u4e2a\u503c\u5230\u5e95\u662f\u4e0d\u662f NaN\u3002isNaN()\u51fd\u6570\u5728\u63a5\u6536\u5230\u4e00\u4e2a\u503c\u4e4b\u540e\uff0c\u4f1a\u5c1d\u8bd5\u5c06\u8fd9\u4e2a\u503c\u8f6c\u6362\u4e3a\u6570\u503c\u3002 javascript console.log(isNaN(NaN)); //true console.log(isNaN(25)); //false\uff0c25 \u662f\u4e00\u4e2a\u6570\u503c console.log(isNaN('25')); //false\uff0c'25'\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u503c\uff0c\u53ef\u4ee5\u8f6c\u6210\u6570\u503c console.log(isNaN('zhangsan')); //true\uff0c'zhangsan'\u4e0d\u80fd\u8f6c\u6362\u4e3a\u6570\u503c console.log(isNaN(true)); //false true \u53ef\u4ee5\u8f6c\u6210\u6210 1 JS\u7c7b\u578b\u8f6c\u6362 \u5b57\u7b26\u4e32\u8f6c\u6362\u6570\u5b57\u7c7b\u578b\uff1aparseInt()\u3001parseFloat() \u3001Number() + parseInt() \u662f\u628a\u5176\u5b83\u7c7b\u578b\u8f6c\u6362\u4e3a\u6574\u578b + \u53c2\u65701: \u76ee\u6807 + \u53c2\u65702: \u8fdb\u5236\u5173\u7cfb + \u4e8c\u8fdb\u5236: 0 1 + \u5341\u8fdb\u5236: 0-9 + \u516b\u8fdb\u5236: 0-7 + \u5341\u516d\u8fdb\u5236: 0-F parseFloat() \u662f\u628a\u5176\u5b83\u7c7b\u578b\u8f6c\u6362\u4e3a\u6d6e\u70b9\u578b\uff08\u5c0f\u6570\uff09 javascript console.log(typeof parseFloat('1.23')) console.log(parseInt('1.23')) console.log(parseInt('F', 16)) // \u5341\u516d\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236 console.log(parseInt('12', 8)) // \u516b\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236 console.log(parseInt('010', 2)) // \u4e8c\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236 7\u3001Math\u5bf9\u8c61 Math\u5bf9\u8c61 Math\u5bf9\u8c61\u53ef\u4ee5\u7528\u4e8e\u6267\u884c\u6570\u5b66\u4efb\u52a1 Math\u5bf9\u8c61\u7684\u5e38\u7528\u51fd\u6570: Math.round(3.6) //\u56db\u820d\u4e94\u5165 toFixed \u4fdd\u7559\u5c0f\u6570 javascript var num =2.446242342; num = num.toFixed(2); // \u8f93\u51fa\u7ed3\u679c\u4e3a 2.45 Math.random() //\u8fd4\u56de0-1\u4e4b\u95f4\u7684\u968f\u673a\u6570 Math.max(num1, num2) //\u8fd4\u56de\u8f83\u5927\u7684\u6570 Math.min(num1, num2) //\u8fd4\u56de\u8f83\u5c0f\u7684\u6570 Math.abs(num) //\u7edd\u5bf9\u503c Math.ceil(19.3) //\u5411\u4e0a\u53d6\u6574 Math.floor(11.8) //\u5411\u4e0b\u53d6\u6574 Math.random() \u5b9e\u9645\u4f7f\u7528\u5b9e\u4f8b javascript // \u8fd4\u56de0-100\u7684\u968f\u673a\u6574\u6570 function u(t){ return ~~(Math['random']() * t) } u(100) \u9006\u5411\u4e2d\uff1a \u6ce8\u610f\uff1a ~~ : \u8fd9\u662f JavaScript \u4e2d\u7684\u4f4d\u8fd0\u7b97\u7b26\uff0c\u79f0\u4e3a\u53cc\u53d6\u53cd\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u6570\u503c\u8f6c\u6362\u4e3a\u6574\u6570\u3002","title":"\u5341\u4e03\u3001js\u6570\u636e\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#js","text":"","title":"\u5341\u4e03\u3001js\u6570\u636e\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_1","text":"ECMAScript\uff0c\u63cf\u8ff0\u4e86\u8be5\u8bed\u8a00\u7684\u8bed\u6cd5 \u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff08DOM\uff09\uff0c\u63cf\u8ff0\u5904\u7406\u7f51\u9875\u5185\u5bb9\u7684\u65b9\u6cd5\u548c\u63a5\u53e3 \u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff08BOM\uff09\uff0c\u63cf\u8ff0\u4e0e\u6d4f\u89c8\u5668\u8fdb\u884c\u4ea4\u4e92\u7684\u65b9\u6cd5\u548c\u63a5\u53e3","title":"\u7ec4\u6210\u90e8\u5206"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_2","text":"","title":"\u4e00\u3001\u57fa\u672c\u8bed\u6cd5"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#1javascript","text":"\u5728header\u5934\u90e8\u5185\u5d4c \\ \\ \u5728header\u5934\u90e8\u5bfc\u5165 \\ \\ \u7ed9HTML\u4ee3\u7801\u7ed1\u5b9ajs\u4e8b\u4ef6 \\ \u70b9\u51fb\\ <span onclick=\"this.innerHTML='ss'\">\u70b9\u51fb</span> \u6ce8\u610f\uff1a \u5728\u5bfc\u5165js\u4ee3\u7801\u7684\u6807\u7b7e\u5185 \u4e0d\u53ef\u4ee5\u4e66\u5199js\u4ee3\u7801 \u5426\u5219\u4e0d\u4f1a\u88ab\u6267s\u884c","title":"1\u3001\u4f7f\u7528JavaScript\u7684\u4e09\u79cd\u65b9\u5f0f"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#2-js3","text":"\u7b2c\u4e00\u53e5javascript\u4ee3\u7801\uff1aalert(\"hello world!\") ; \u7b2c\u4e8c\u53e5javascript\u4ee3\u7801\uff1adocument.write(\"\u4eb2\uff0c\u6211\u5728\u9875\u9762\u4e0a\uff0c\u8ddfalert\u4e0d\u4e00\u6837\u5662\uff01\"); \u7b2c\u4e09\u53e5javascript\u4ee3\u7801\uff1aconsole.log(\"\u6211\u662f\u5728\u63a7\u5236\u53f0\u6253\u5370\u7684, \u4ee5\u540e\u5e38\u7528\u6211\uff01\");","title":"2 \u3001js\u4ee3\u7801\u8f93\u51fa\u76843\u79cd\u65b9\u5f0f"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#3script","text":"\u4e14\u53ef\u4ee5\u51fa\u73b0\u5728html\u6587\u4ef6\u7684\u4efb\u4f55\u5730\u65b9,\u5efa\u8bae\u5199\u5728\\ \\ \u4e4b\u95f4;\u53e6\u5916,\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2dJavascript\u548cHTML\u4ee3\u7801,\u5b83\u4eec\u7684\u6267\u884c\u987a\u5e8f\u90fd\u662f\u81ea\u4e0a\u800c\u4e0b\uff0c\u8c01\u5728\u524d\u5c31\u8c01\u5148\u6267\u884c,\u8c01\u5728\u540e\u5c31\u540e\u6267\u884c.","title":"3\u3001script\u6807\u7b7e\u53ef\u4ee5\u51fa\u73b0\u591a\u6b21"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#4-javascript","text":"\u5355\u884c\u6ce8\u91ca:// \u591a\u884c\u6ce8\u91ca /**/","title":"4 \u3001JavaScript\u7684\u6ce8\u91ca"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#5javascript","text":"<script type=\"text/javascript\" src=\"demo1.js\" ></script> \u6ce8\u610f\uff1a \u4e0d\u53ef\u4ee5\u4f7f\u7528\u5355\u6807,\u4ee5\u4e0b\u662f\u4e0d\u6b63\u786e\u7684\u5199\u6cd5 ```javascript alert('xxxx') ``` script\u6807\u7b7e\u7684\u5c5e\u6027: src\u8868\u793a\u8981\u5f15\u5165\u7684\u5916\u90e8\u6587\u4ef6 type \u8868\u793a\u811a\u672c\u8bed\u8a00\u7684\u7c7b\u578b","title":"5\u3001\u5916\u90e8javaScript\u6587\u4ef6\u5f15\u5165\u65b9\u5f0f"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#var","text":"","title":"\u4e8c\u3001\u53d8\u91cf\u548c\u5e38\u91cf\u5b9a\u4e49(\u4f7f\u7528var\u5173\u952e\u5b57)"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#1var","text":"\u5b9a\u4e49\u53d8\u91cf var age; //var \u662f\u5173\u952e\u5b57\uff0cage\u662f\u53d8\u91cf\u540d \u6ce8\u610f\uff1a\u5728javascript\u4e2dname\u65e2\u4e0d\u662f\u4fdd\u7559\u5b57\uff0c\u4e5f\u4e0d\u662f\u5173\u952e\u5b57\uff0c\u4f46\u5728window\u5bf9\u8c61\u4e2d\u6709\u4e00\u4e2a\u5c5e\u6027\u662f window.name window.name \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u5f53\u4f60\u58f0\u660ename\u53d8\u91cf\u7684\u65f6\u5019,\u76f8\u5f53\u4e8e\u7ed9window.name\u8d4b\u503c,\u6240\u4ee5\u53ea\u80fd\u4e3a\u5b57\u7b26\u4e32\u3002 \u8d4b\u503c age= 20; \u5b9a\u4e49\u7684\u540c\u65f6\u8d4b\u503c var age=20\uff1b \u4e00\u6b21\u5b9a\u4e49\u591a\u4e2a\u53d8\u91cf \u200b var name=\"zhangsan\", age=18, weight=108; JS\u662f\u5f31\u6570\u636e\u7c7b\u578b\u7684\u8bed\u8a00\uff0c\u5bb9\u9519\u6027\u8f83\u9ad8,\u5728\u8d4b\u503c\u7684\u65f6\u5019\u624d\u786e\u5b9a\u6570\u636e\u7c7b\u578b javascript var b; //temp\u65f6\u5565\u6570\u636e\u7c7b\u578b\uff1f\u4e0d\u786e\u5b9a b = 12; //temp\u53d8\u91cf\u662f\u6570\u5b57\u7c7b\u578b b = \"hello\"; //temp\u53d8\u91cf\u53d8\u6210\u4e86\u5b57\u7b26\u4e32\u7c7b\u578b console.log(typeof b); \u6ce8\u610f \u51fd\u6570\u4f5c\u7528\u57df\uff1a var \u58f0\u660e\u7684\u53d8\u91cf\u5177\u6709\u51fd\u6570\u4f5c\u7528\u57df\uff0c\u800c\u4e0d\u662f\u5757\u7ea7\u4f5c\u7528\u57df\u3002\u8fd9\u610f\u5473\u7740\u53d8\u91cf\u5728\u6574\u4e2a\u51fd\u6570\u5185\u662f\u53ef\u89c1\u7684\uff0c\u800c\u4e0d\u4ec5\u9650\u4e8e\u58f0\u660e\u5b83\u7684\u5757\u3002 ```javascript function example() { if (true) { var y = 20; console.log(y); // 20 } console.log(y); // 20\uff0cy \u5728\u6574\u4e2a\u51fd\u6570\u5185\u90fd\u53ef\u89c1 } example(); ``` \u53d8\u91cf\u63d0\u5347\uff1a \u4f7f\u7528 var \u58f0\u660e\u7684\u53d8\u91cf\u4f1a\u5728\u5176\u6240\u5728\u4f5c\u7528\u57df\u7684\u9876\u90e8\u88ab\u63d0\u5347\uff0c\u610f\u5473\u7740\u53ef\u4ee5\u5728\u58f0\u660e\u4e4b\u524d\u8bbf\u95ee\u53d8\u91cf\u3002 javascript console.log(a); // undefined var a = 5; \u5141\u8bb8\u91cd\u590d\u58f0\u660e\uff1a \u5728\u76f8\u540c\u4f5c\u7528\u57df\u5185\uff0c\u4f7f\u7528 var \u53ef\u4ee5\u591a\u6b21\u58f0\u660e\u540c\u4e00\u4e2a\u53d8\u91cf\u3002 \u5c3d\u7ba1 var \u5728\u8fc7\u53bb\u662f\u4e3b\u8981\u7684\u53d8\u91cf\u58f0\u660e\u65b9\u5f0f\uff0c\u4f46\u7531\u4e8e\u5176\u7279\u6709\u7684\u4e00\u4e9b\u95ee\u9898\uff08\u4f8b\u5982\u53d8\u91cf\u63d0\u5347\u3001\u6ca1\u6709\u5757\u7ea7\u4f5c\u7528\u57df\u7b49\uff09\uff0c\u63a8\u8350\u5728\u73b0\u4ee3 JavaScript \u4e2d\u4f7f\u7528 let \u548c const \u6765\u58f0\u660e\u53d8\u91cf\uff0c\u9664\u975e\u6709\u7279\u5b9a\u7684\u9700\u6c42\u3002","title":"1\u3001var \u58f0\u660e\u53d8\u91cf"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#2let","text":"let \u58f0\u660e\u7684\u53d8\u91cf\u53ea\u5728 let \u547d\u4ee4\u6240\u5728\u7684\u4ee3\u7801\u5757\u5185\u6709\u6548\u3002 javascript var x = 10; // \u8fd9\u91cc\u8f93\u51fa x \u4e3a 10 { let x = 2; // \u8fd9\u91cc\u8f93\u51fa x \u4e3a 2 } // \u8fd9\u91cc\u8f93\u51fa x \u4e3a 10 console.log(x) \u6ce8\u610f let \u662f JavaScript \u4e2d\u7528\u4e8e\u58f0\u660e\u53d8\u91cf\u7684\u5173\u952e\u5b57\u4e4b\u4e00\u3002\u5b83\u5f15\u5165\u4e86\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u4e0e var \u4e0d\u540c\uff0c let \u5728\u5b9a\u4e49\u53d8\u91cf\u7684\u540c\u65f6\u5c06\u5176\u9650\u5236\u5728\u5f53\u524d\u7684\u4ee3\u7801\u5757\u5185\u3002 ```javascript if (true) { let x = 10; console.log(x); // 10 } console.log(x); // Error: x is not defined ``` \u907f\u514d\u53d8\u91cf\u63d0\u5347\uff1a let \u4e0d\u4f1a\u50cf var \u4e00\u6837\u5728\u4f5c\u7528\u57df\u5f00\u59cb\u65f6\u88ab\u63d0\u5347\uff0c\u800c\u662f\u5728\u4ee3\u7801\u6267\u884c\u5230\u58f0\u660e\u7684\u4f4d\u7f6e\u65f6\u624d\u4f1a\u88ab\u521b\u5efa\u3002 ```javascript console.log(a); // undefined var a = 5; console.log(b); // Error: b is not defined let b = 10; ``` \u4e0d\u5141\u8bb8\u91cd\u590d\u58f0\u660e\uff1a \u5728\u76f8\u540c\u4f5c\u7528\u57df\u5185\uff0c\u4f7f\u7528 let \u91cd\u590d\u58f0\u660e\u540c\u4e00\u4e2a\u53d8\u91cf\u4f1a\u5bfc\u81f4\u8bed\u6cd5\u9519\u8bef\u3002 javascript let name = \"John\"; let name = \"Lucky\"; // Error: Identifier 'name' has already been declared \u603b\u4f53\u800c\u8a00\uff0c let \u63d0\u4f9b\u4e86\u66f4\u52a0\u7075\u6d3b\u548c\u53ef\u63a7\u7684\u53d8\u91cf\u58f0\u660e\u65b9\u5f0f\uff0c\u6709\u52a9\u4e8e\u907f\u514d\u4e00\u4e9b\u7531\u4e8e\u53d8\u91cf\u63d0\u5347\u548c\u4f5c\u7528\u57df\u95ee\u9898\u5bfc\u81f4\u7684 bug\u3002","title":"2\u3001let\u58f0\u660e"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#3","text":"\u8bf4\u660e const \u662f JavaScript \u4e2d\u7528\u4e8e\u58f0\u660e\u5e38\u91cf\u7684\u5173\u952e\u5b57\u3002\u4f7f\u7528 const \u58f0\u660e\u7684\u53d8\u91cf\u5fc5\u987b\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5e76\u4e14\u4e00\u65e6\u8d4b\u503c\u540e\uff0c\u5c31\u4e0d\u80fd\u518d\u88ab\u4fee\u6539\u3002 const \u7684\u4e3b\u8981\u4f5c\u7528\u5305\u62ec\uff1a \u5e38\u91cf\u58f0\u660e\uff1a const \u7528\u4e8e\u58f0\u660e\u5e38\u91cf\uff0c\u5e38\u91cf\u662f\u6307\u4e00\u65e6\u8d4b\u503c\u5c31\u4e0d\u80fd\u88ab\u91cd\u65b0\u8d4b\u503c\u7684\u53d8\u91cf\u3002 javascript const PI = 3.14; \u5757\u7ea7\u4f5c\u7528\u57df\uff1a \u4e0e let \u7c7b\u4f3c\uff0c const \u4e5f\u5177\u6709\u5757\u7ea7\u4f5c\u7528\u57df\u3002\u58f0\u660e\u7684\u5e38\u91cf\u53ea\u5728\u5f53\u524d\u4ee3\u7801\u5757\u5185\u6709\u6548\u3002 ```javascript if (true) { const x = 10; console.log(x); // 10 } console.log(x); // Error: x is not defined ``` \u4e0d\u5141\u8bb8\u91cd\u65b0\u8d4b\u503c\uff1a \u4e00\u65e6\u4f7f\u7528 const \u58f0\u660e\u53d8\u91cf\u5e76\u8d4b\u503c\uff0c\u5c31\u4e0d\u80fd\u518d\u4fee\u6539\u4ee5\u53ca\u5220\u9664\u5b83\u7684\u503c\u3002 javascript const name = \"Lucky\"; name = \"Doe\"; // Error: Assignment to constant variable console.log(name) // Lucky \u5e38\u91cf\u4e0d\u4f1a\u88ab\u63d0\u5347\uff1a \u4e0e var \u4e0d\u540c\uff0c\u4f7f\u7528 const \u58f0\u660e\u7684\u53d8\u91cf\u4e0d\u4f1a\u88ab\u63d0\u5347\u5230\u5f53\u524d\u4f5c\u7528\u57df\u7684\u9876\u90e8\u3002 javascript console.log(a); // Error: Cannot access 'a' before initialization const a = 5; \u4f7f\u7528 const \u7684\u4f18\u52bf\u5728\u4e8e\u5b83\u63d0\u4f9b\u4e86\u66f4\u5f3a\u7684\u4e0d\u53ef\u53d8\u6027\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u5bb9\u6613\u7406\u89e3\u548c\u7ef4\u62a4\u3002\u901a\u5e38\u5efa\u8bae\u5728\u80fd\u591f\u4f7f\u7528\u5e38\u91cf\u7684\u5730\u65b9\u4f18\u5148\u4f7f\u7528 const \u3002\u5982\u679c\u9700\u8981\u53ef\u53d8\u6027\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 let \u3002","title":"3\u3001\u5e38\u91cf\u5b9a\u4e49"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#3js","text":"\u4fdd\u6301\u4ee3\u7801\u7f29\u8fdb \u53d8\u91cf\u540d\u9075\u5b88\u547d\u540d\u89c4\u8303,\u5c3d\u91cf\u89c1\u540d\u601d\u610f JS\u8bed\u53e5\u7684\u672b\u5c3e\u5c3d\u91cf\u5199\u4e0a\u5206\u53f7; \u8fd0\u7b97\u7b26\u4e24\u8fb9\u90fd\u7559\u4e00\u4e2a\u7a7a\u683c,\u5982 var n = 1 + 2;","title":"3\u3001JS\u4ee3\u7801\u89c4\u8303"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#js_1","text":"","title":"\u4e09\u3001JS\u53d8\u91cf\u7684\u547d\u540d\u89c4\u8303"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#1","text":"\u53d8\u91cf\u540d\u53ef\u4ee5\u662f\u6570\u5b57,\u5b57\u6bcd,\u4e0b\u5212\u7ebf_\u548c\u7f8e\u5143\u7b26$\u7ec4\u6210; \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u4e3a\u6570\u5b57 \u4e0d\u80fd\u4f7f\u7528\u5173\u952e\u5b57\u6216\u4fdd\u7559\u5b57 \u6807\u8bc6\u7b26\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5982\uff1aage\u548cAge\u662f\u4e0d\u540c\u7684\u53d8\u91cf\u3002\u4f46\u5f3a\u70c8\u4e0d\u5efa\u8bae\u7528\u540c\u4e00\u4e2a\u5355\u8bcd\u7684\u5927\u5c0f\u5199\u533a\u5206\u4e24\u4e2a\u53d8\u91cf\u3002 \u53d8\u91cf\u547d\u540d\u5c3d\u91cf\u9075\u5b88\u9a7c\u5cf0\u539f\u5219:myStudentScore \u53d8\u91cf\u547d\u540d\u5c3d\u91cf\u89c1\u540d\u601d\u610f,","title":"1\u3001\u89c4\u8303"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#2","text":"\u7c7b\u578b \u524d\u7f00 \u7c7b\u578b \u5b9e\u4f8b \u6574\u6570 i Int 1 \u6d6e\u70b9\u6570 f Float 1.2 \u6570\u7ec4 a Array [] \u5e03\u5c14\u503c b Boolean true/false \u51fd\u6570 Fn Function var a = function () {} \u5bf9\u8c61 o Object {} \u5b57\u7b26\u4e32 s String 'lucky'","title":"2\u3001\u53c2\u8003\u4e0b\u56fe"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#js_2","text":"","title":"\u56db\u3001JS\u6570\u636e\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#1js","text":"Boolean:\u5e03\u5c14\u7c7b\u578b Number\uff1a\u6570\u5b57\uff08\u6574\u6570int\uff0c\u6d6e\u70b9\u6570float\uff09 String\uff1a\u5b57\u7b26\u4e32 Array\uff1a\u6570\u7ec4 Object\uff1a\u5bf9\u8c61 \u7279\u6b8a\u6570\u636e\u7c7b\u578bNull(\u7a7a\u5bf9\u8c61)\u3001Undefined(\u672a\u5b9a\u4e49) undefined \u4e0d\u662f\u5173\u952e\u5b57\uff0c\u53d6\u503c\u7684\u65f6\u5019\u63a8\u8350\u7528void 0 javascript var data; data === void 0 // true \u5b9e\u9645\u4f7f\u7528\u573a\u666f \u6ce8\u610f: \u53d8\u91cf\u7684\u7c7b\u578b\u5728\u8d4b\u503c\u65f6\u624d\u80fd\u786e\u5b9a \u6570\u7ec4\uff0c\u51fd\u6570\u90fd\u5c5e\u4e8e\u5bf9\u8c61\u7c7b\u578b javascript var a = function () {} console.log({} instanceof Object) console.log(function () {} instanceof Object) console.log([] instanceof Object) instanceof \u662f JavaScript \u4e2d\u7684\u8fd0\u7b97\u7b26\uff0c\u7528\u4e8e\u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u662f\u67d0\u4e2a\u7279\u5b9a\u7c7b\u578b\uff08\u7c7b\uff09\u7684\u5b9e\u4f8b\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002","title":"1\u3001JS\u6570\u636e\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#2typeof","text":"\u6982\u8ff0 \u7528\u6765\u68c0\u6d4b\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b,\u5bf9\u4e8e\u503c\u6216\u53d8\u91cf\u4f7f\u7528 typeof\u64cd\u4f5c\u7b26\u4f1a\u8fd4\u56de\u5982\u4e0b\u5b57\u7b26\u4e32: \u7c7b\u578b Undefined\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: undefined \u672a\u5b9a\u4e49 Boolean\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: boolean \u5e03\u5c14\u503c String\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: string \u5b57\u7b26\u4e32 Number\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: number \u6570\u503c Object\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: object \u5bf9\u8c61\u6216\u8005null Function\u6570\u636e\u7c7b\u578b\u7684\u503c\u4e3a: function \u51fd\u6570 \u4f8b\u5982: \u200b var b = \"Lucky\"; \u200b console.log(typeof b); \u200b console.log(typeof \"Lucky\");","title":"2\u3001typeof\u64cd\u4f5c\u7b26"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#3undefined","text":"\u6982\u8ff0 Undefined\u7c7b\u578b\u53ea\u6709\u4e00\u4e2a\u503c\uff0c\u5373\u7279\u6b8a\u7684 undefined\u3002\u5728\u4f7f\u7528var\u58f0\u660e\u53d8\u91cf\uff0c\u4f46\u6ca1\u6709\u5bf9\u5176\u521d\u59cb\u5316\u65f6\uff0c\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u5c31\u662f undefined \u4f8b\u5982 javascript var b; console.log(typeof b); //undefined \u200b \u6ce8\u610f:\u6211\u4eec\u5728\u5b9a\u4e49\u53d8\u91cf\u7684\u65f6\u5019\uff0c \u5c3d\u53ef\u80fd\u7684\u4e0d\u8981\u53ea\u58f0\u660e\uff0c\u4e0d\u8d4b\u503c, \u800c\u662f\u58f0\u660e\u7684\u540c\u65f6\u521d\u59cb\u5316\u4e00\u4e2a\u503c\u3002","title":"3\u3001Undefined\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#4null","text":"\u6982\u8ff0 Null\u7c7b\u578b\u662f\u4e00\u4e2a\u53ea\u6709\u4e00\u4e2a\u503c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5373\u7279\u6b8a\u7684\u503c null\u3002\u5b83\u8868\u793a\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u5f15\u7528(\u6307\u9488)\uff0c\u800ctypeof\u64cd\u4f5c\u7b26\u68c0\u6d4b null \u4f1a\u8fd4\u56de object\u3002 \u4f8b\u5982 javascript var b = null; console.log(typeof b); // ECMA-262 \u89c4\u5b9a\u5bf9\u5b83\u4eec\u7684\u76f8\u7b49\u6027\u6d4b\u8bd5\u8fd4\u56de true, \u8868\u793a\u503c\u76f8\u7b49\u3002 console.log(undefined == null); ECMA-262 \u662f JavaScript \u8bed\u8a00\u7684\u89c4\u8303\u6807\u51c6\uff0c\u5b83\u7531 Ecma \u56fd\u9645\uff08European Computer Manufacturers Association\uff09\u5236\u5b9a\u548c\u7ef4\u62a4\u3002ECMA-262 \u5b9a\u4e49\u4e86 JavaScript \u7684\u6838\u5fc3\u8bed\u6cd5\u3001\u6570\u636e\u7c7b\u578b\u3001\u5bf9\u8c61\u548c\u51fd\u6570\u7b49\u65b9\u9762\u7684\u89c4\u8303\uff0c\u4ee5\u786e\u4fdd\u4e0d\u540c\u7684 JavaScript \u5f15\u64ce\u80fd\u591f\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e2d\u5b9e\u73b0\u4e00\u81f4\u7684\u884c\u4e3a\u3002 \u4f46\u662f\u4e24\u8005\u7684\u6570\u636e\u7c7b\u578b\u662f\u4e0d\u4e00\u6837\u7684 javascript var b; var car = null; console.log(typeof b == typeof car) // false console.log(b == car) // true","title":"4\u3001Null\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#5boolean","text":"Boolean\u7c7b\u578b\u7684\u8f6c\u6362\u89c4\u5219:(\u7262\u8bb0) String:\u975e\u7a7a\u5b57\u7b26\u4e32\u4e3atrue,\u7a7a\u5b57\u7b26\u4e32\u4e3afalse Number:\u975e0\u6570\u503c\u4e3atrue, 0\u6216\u8005NaN\u4e3afalse Object:\u5bf9\u8c61\u4e0d\u4e3anull\u5219\u4e3atrue, null\u4e3afalse javascript console.log(null,Boolean(null)); Undefined: undefined\u4e3afalse \u5b9e\u4f8b ```javascript console.log(Number(true) ) // 1 \u8f6c\u4e3a\u6570\u503c\u4e3a1 console.log(Number(false)) // 0 \u8f6c\u4e3a\u6570\u503c\u4e3a0 console.log(Boolean('')); // false console.log(Boolean({})); // true console.log(Boolean([])); // true console.log(Boolean(undefined)); // false ```","title":"5\u3001Boolean\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#6number","text":"Number\u7c7b\u578b\u5305\u542b\u4e24\u79cd\u6570\u503c\uff1a\u6574\u578b\u548c\u6d6e\u70b9\u578b. \u6574\u578b: ```javascript var b = 100; console.log(b); ``` \u6d6e\u70b9\u7c7b\u578b: \u5c31\u662f\u8be5\u6570\u503c\u4e2d\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u5c0f\u6570\u70b9\uff0c\u5e76\u4e14\u5c0f\u6570\u70b9\u540e\u9762\u5fc5\u987b\u81f3\u5c11\u6709\u4e00\u4f4d\u6570\u5b57 javascript var b= 3.8; var b= 0.8; var b= .8; //\u6709\u6548\uff0c\u4f46\u4e0d\u63a8\u8350\u6b64\u5199\u6cd5 \u6ce8\u610f\u4e8b\u9879 \u7531\u4e8e\u4fdd\u5b58\u6d6e\u70b9\u6570\u503c\u9700\u8981\u7684\u5185\u5b58\u7a7a\u95f4\u6bd4\u6574\u578b\u6570\u503c\u5927\u4e24\u500d\uff0c\u56e0\u6b64ECMAScript\u4f1a\u81ea\u52a8\u5c06\u53ef\u4ee5\u8f6c\u6362\u4e3a\u6574\u578b\u7684\u6d6e\u70b9\u6570\u503c\u8f6c\u6210\u4e3a\u6574\u578b\u3002 var b= 8.; //\u5c0f\u6570\u70b9\u540e\u9762\u6ca1\u6709\u503c\uff0c\u8f6c\u6362\u4e3a 8 var b= 12.0; //\u5c0f\u6570\u70b9\u540e\u9762\u662f 0\uff0c\u8f6c\u6210\u4e3a12 \u200b \u5bf9\u4e8e\u90a3\u4e9b\u8fc7\u5927\u6216\u8fc7\u5c0f\u7684\u6570\u503c\uff0c\u53ef\u4ee5\u7528\u79d1\u5b66\u6280\u672f\u6cd5\u6765\u8868\u793a(e\u8868\u793a\u6cd5)\u3002\u7528 e \u8868\u793a\u8be5\u6570\u503c\u7684\u524d\u9762 10 \u7684\u6307\u6570\u6b21\u5e42\u3002 \u200b var box = 4.12e9; //\u5373 4120000000 \u200b var box = 0.0000412; //\u5373 4.12e-5 \u200b \u6d6e\u70b9\u6570\u503c\u7684\u8303\u56f4\u5728\uff1aNumber.MIN_VALUE ~ Number.MAX_VALUE\u4e4b\u95f4,\u5982\u679c\u8d85\u8fc7\u4e86\u6d6e\u70b9\u6570\u503c\u8303\u56f4\u7684\u6700\u5927\u503c\u6216\u6700\u5c0f\u503c\uff0c\u90a3\u4e48\u5c31\u5148\u51fa\u73b0 Infinity(\u6b63\u65e0\u7a77)\u6216-Infinity(\u8d1f\u65e0\u7a77)\u3002 NaN, \u5373\u975e\u6570\u503c(Not a Number)\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u503c \u6982\u8ff0 \u8fd9\u4e2a\u6570\u503c\u7528\u4e8e\u8868\u793a\u4e00\u4e2a\u672c\u6765\u8981\u8fd4\u56de\u6570\u503c\u7684\u64cd\u4f5c\u6570\u672a\u8fd4\u56de\u6570\u503c\u7684\u60c5\u51b5(\u8fd9\u6837\u5c31\u4e0d\u4f1a\u629b\u51fa\u9519\u8bef\u4e86)\u3002\u6bd4\u5982\uff0c\u5728\u5176\u4ed6\u8bed\u8a00\u4e2d, \u4efb\u4f55\u6570\u503c\u9664\u4ee5 0\u90fd\u4f1a\u5bfc\u81f4\u9519\u8bef\u800c\u7ec8\u6b62\u7a0b\u5e8f\u6267\u884c\u3002\u4f46\u5728ECMAScript\u4e2d\uff0c\u4f1a\u8fd4\u56de\u51fa\u7279\u6b8a\u7684\u503c\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5f71\u54cd\u7a0b\u5e8f\u6267\u884c\u3002 javascript var b =0/0; //NaN var b =12/0; //Infinity var b =12/0 * 0 //NaN isNaN ECMAScript\u63d0\u4f9b\u4e86 isNaN()\u51fd\u6570\uff0c\u7528\u6765\u5224\u65ad\u8fd9\u4e2a\u503c\u5230\u5e95\u662f\u4e0d\u662f NaN\u3002isNaN()\u51fd\u6570\u5728\u63a5\u6536\u5230\u4e00\u4e2a\u503c\u4e4b\u540e\uff0c\u4f1a\u5c1d\u8bd5\u5c06\u8fd9\u4e2a\u503c\u8f6c\u6362\u4e3a\u6570\u503c\u3002 javascript console.log(isNaN(NaN)); //true console.log(isNaN(25)); //false\uff0c25 \u662f\u4e00\u4e2a\u6570\u503c console.log(isNaN('25')); //false\uff0c'25'\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u503c\uff0c\u53ef\u4ee5\u8f6c\u6210\u6570\u503c console.log(isNaN('zhangsan')); //true\uff0c'zhangsan'\u4e0d\u80fd\u8f6c\u6362\u4e3a\u6570\u503c console.log(isNaN(true)); //false true \u53ef\u4ee5\u8f6c\u6210\u6210 1 JS\u7c7b\u578b\u8f6c\u6362 \u5b57\u7b26\u4e32\u8f6c\u6362\u6570\u5b57\u7c7b\u578b\uff1aparseInt()\u3001parseFloat() \u3001Number() + parseInt() \u662f\u628a\u5176\u5b83\u7c7b\u578b\u8f6c\u6362\u4e3a\u6574\u578b + \u53c2\u65701: \u76ee\u6807 + \u53c2\u65702: \u8fdb\u5236\u5173\u7cfb + \u4e8c\u8fdb\u5236: 0 1 + \u5341\u8fdb\u5236: 0-9 + \u516b\u8fdb\u5236: 0-7 + \u5341\u516d\u8fdb\u5236: 0-F parseFloat() \u662f\u628a\u5176\u5b83\u7c7b\u578b\u8f6c\u6362\u4e3a\u6d6e\u70b9\u578b\uff08\u5c0f\u6570\uff09 javascript console.log(typeof parseFloat('1.23')) console.log(parseInt('1.23')) console.log(parseInt('F', 16)) // \u5341\u516d\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236 console.log(parseInt('12', 8)) // \u516b\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236 console.log(parseInt('010', 2)) // \u4e8c\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236","title":"6\u3001Number\u7c7b\u578b"},{"location":"17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#7math","text":"Math\u5bf9\u8c61 Math\u5bf9\u8c61\u53ef\u4ee5\u7528\u4e8e\u6267\u884c\u6570\u5b66\u4efb\u52a1 Math\u5bf9\u8c61\u7684\u5e38\u7528\u51fd\u6570: Math.round(3.6) //\u56db\u820d\u4e94\u5165 toFixed \u4fdd\u7559\u5c0f\u6570 javascript var num =2.446242342; num = num.toFixed(2); // \u8f93\u51fa\u7ed3\u679c\u4e3a 2.45 Math.random() //\u8fd4\u56de0-1\u4e4b\u95f4\u7684\u968f\u673a\u6570 Math.max(num1, num2) //\u8fd4\u56de\u8f83\u5927\u7684\u6570 Math.min(num1, num2) //\u8fd4\u56de\u8f83\u5c0f\u7684\u6570 Math.abs(num) //\u7edd\u5bf9\u503c Math.ceil(19.3) //\u5411\u4e0a\u53d6\u6574 Math.floor(11.8) //\u5411\u4e0b\u53d6\u6574 Math.random() \u5b9e\u9645\u4f7f\u7528\u5b9e\u4f8b javascript // \u8fd4\u56de0-100\u7684\u968f\u673a\u6574\u6570 function u(t){ return ~~(Math['random']() * t) } u(100) \u9006\u5411\u4e2d\uff1a \u6ce8\u610f\uff1a ~~ : \u8fd9\u662f JavaScript \u4e2d\u7684\u4f4d\u8fd0\u7b97\u7b26\uff0c\u79f0\u4e3a\u53cc\u53d6\u53cd\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u6570\u503c\u8f6c\u6362\u4e3a\u6574\u6570\u3002","title":"7\u3001Math\u5bf9\u8c61"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html","text":"\u5341\u516b\u3001js\u8fd0\u7b97\u7b26\u4e0e\u6d41\u7a0b\u63a7\u5236 \u4e00\u3001\u8fd0\u7b97\u7b26 1\u3001\u4e00\u5143\u8fd0\u7b97\u7b26 (1) \u6982\u8ff0 \u53ea\u80fd\u64cd\u4f5c\u4e00\u4e2a\u503c\u7684\u8fd0\u7b97\u7b26\u53eb\u505a\u4e00\u5143\u8fd0\u7b97\u7b26 (2) \u683c\u5f0f \u81ea\u589e\u64cd\u4f5c\u7b26 ( ++ ) : \u524d\u7f00\u5f62\u5f0f \uff1a ++variable \uff0c\u9996\u5148\u5c06\u53d8\u91cf\u52a01\uff0c\u7136\u540e\u8fd4\u56de\u65b0\u503c\u3002 javascript let a = 5; let b = ++a; // \u73b0\u5728a\u548cb\u90fd\u662f6 \u540e\u7f00\u5f62\u5f0f \uff1a variable++ \uff0c\u9996\u5148\u8fd4\u56de\u53d8\u91cf\u7684\u5f53\u524d\u503c\uff0c\u7136\u540e\u518d\u5c06\u53d8\u91cf\u52a01\u3002 javascript let a = 5; let b = a++; // b\u662f5\uff0ca\u53d8\u6210\u4e866 \u7ec3\u4e60 javascript var a = 1; // 1 + 3 + 3 var b = a++ + ++a + a console.log(b) \u81ea\u51cf\u64cd\u4f5c\u7b26 ( -- ) : \u524d\u7f00\u5f62\u5f0f \uff1a --variable \uff0c\u9996\u5148\u5c06\u53d8\u91cf\u51cf1\uff0c\u7136\u540e\u8fd4\u56de\u65b0\u503c\u3002 javascript let a = 5; let b = --a; // \u73b0\u5728a\u548cb\u90fd\u662f4 \u540e\u7f00\u5f62\u5f0f \uff1a variable-- \uff0c\u9996\u5148\u8fd4\u56de\u53d8\u91cf\u7684\u5f53\u524d\u503c\uff0c\u7136\u540e\u518d\u5c06\u53d8\u91cf\u51cf1\u3002 javascript let a = 5; let b = a--; // b\u662f5\uff0ca\u53d8\u6210\u4e864 \u7ec3\u4e60 javascript var a = 1; // 1 + 3 + 2 var b = a++ + ++a + --a console.log(b) console.log(a) 2\u3001\u7b97\u6570\u8fd0\u7b97\u7b26 \u7b26\u53f7 \u7b26\u53f7 \u8bf4\u660e + \u52a0(\u8fde\u63a5) - \u51cf * \u4e58 / \u9664 % \u53d6\u4f59 \u5b9e\u4f8b javascript console.log(1 + 1); console.log(1 - 1); console.log(1 * 2); console.log(1 / 2); console.log(1 % 2); \u4f5c\u4e3a\u8fde\u63a5 javascript console.log('a' + 'b') console.log('a' + 1) console.log('a' + [1,2,3]) 3\u3001\u5173\u7cfb\u8fd0\u7b97\u7b26 \u6982\u8ff0 \u7528\u4e8e\u8fdb\u884c\u6bd4\u8f83\u7684\u8fd0\u7b97\u7b26\u79f0\u4f5c\u4e3a\u5173\u7cfb\u8fd0\u7b97\u7b26 \u5173\u7cfb\u8fd0\u7b97\u7b26\u5982\u4e0b: \u8fd0\u7b97\u7b26 \u8bf4\u660e > \u5927\u4e8e < \u5c0f\u4e8e >= \u5927\u4e8e\u7b49\u4e8e <= \u5c0f\u4e8e\u7b49\u4e8e == \u7b49\u4e8e(\u53ea\u5224\u65ad\u503c) === \u5168\u7b49\u4e8e(\u5224\u65ad\u503c\u548c\u7c7b\u578b) != \u4e0d\u7b49\u4e8e(\u503c\u5224\u65ad\u503c) !== \u4e0d\u5168\u7b49(\u503c\u548c\u7c7b\u578b) \u5173\u7cfb\u8fd0\u7b97\u7b26\u7684\u6bd4\u8f83\u89c4\u5219: \u6570\u5b57\u548c\u6570\u5b57\u6bd4\u8f83, \u76f4\u63a5\u6bd4\u8f83\u5927\u5c0f \u6570\u5b57\u548c\u5b57\u7b26\u4e32\u6bd4\u8f83, \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6570\u5b57\u540e\u518d\u6bd4\u8f83\uff08\u5426\u5219\u90fd\u4e3afalse\uff09 \u5b57\u7b26\u4e32\u548c\u5b57\u7b26\u4e32\u6bd4\u8f83, \u8fdb\u884c\u5b57\u7b26\u7684ASCII\u7801\u503c\u6bd4\u8f83 \u5b57\u7b26\u4e0eASCII\u503c\u4e92\u8f6c javascript var str = \"A\"; // \u5b57\u7b26\u8f6c\u6362\u4e3aascii str.charCodeAt(); var num = 97; // ascii\u8f6c\u6362\u4e3a\u5b57\u7b26 String.fromCharCode(num); // 'a' // \u7b2c\u51e0\u4e2a\u5b57\u7b26\u7684ASCII\u503c var str = \"ABCDEF\"; str.charCodeAt(2); // \u7b2c\u4e09\u4e2a\u5b57\u7b26\u7684ascii\u503c \u6bd4\u8f83\u6ce8\u610f\u4e8b\u9879: \u5e03\u5c14\u503c ture=1, false=0 Number(true) \u6709NaN\u7684\u8fd0\u7b97\u90fd\u4e3afalse \u5982\u679c\u8981\u6052\u7b49, \u5219\u5fc5\u987b\u503c\u548c\u7c7b\u578b\u90fd\u8981\u76f8\u7b49; \u5173\u7cfb\u8fd0\u7b97\u7b26(\u7279\u6b8a\u503c) \u8fd0\u7b97 \u7ed3\u679c null == undefined true 'NaN' == NaN false 5 == NaN false NaN == NaN false false == 0 true true == 1 true true == 2 false undefined == 0 false null == 0 false '100' == 100 true '100' === 100 false 4\u3001\u903b\u8f91\u8fd0\u7b97\u7b26 \u8bf4\u660e \u903b\u8f91\u8fd0\u7b97\u7b26\u901a\u5e38\u7528\u4e8e\u5e03\u5c14\u503c\u7684\u64cd\u4f5c\uff0c\u4e00\u822c\u548c\u5173\u7cfb\u8fd0\u7b97\u7b26\u914d\u5408\u4f7f\u7528\uff0c\u6709\u4e09\u4e2a\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a\u903b\u8f91\u4e0e(AND)\u3001\u903b\u8f91\u6216(OR)\u3001\u903b\u8f91\u975e(NOT) \u6ce8\u610f \u903b\u8f91\u4e0e&&\u8fd0\u7b97\u7b26\u5c5e\u4e8e\u77ed\u8def\u64cd\u4f5c\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u6570\u8fd4\u56de\u662ffalse\uff0c\u7b2c\u4e8c\u4e2a\u6570\u4e0d\u7ba1\u662ftrue\u8fd8\u662ffalse\u90fd\u4f1a\u8fd4\u56defalse\u3002 \u903b\u8f91\u6216||\u8fd0\u7b97\u7b26\u4e5f\u662f\u77ed\u8def\u64cd\u4f5c\u3002\u5f53\u7b2c\u4e00\u64cd\u4f5c\u6570\u7684\u6c42\u503c\u7ed3\u679c\u4e3atrue\uff0c \u5c31\u4e0d\u4f1a\u5bf9\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\u6c42\u503c\u4e86\u3002 \u77ed\u8def\u6548\u679c javascript var a = 1; console.log(a++ || true) console.log(a) console.log(true || a++) \u903b\u8f91\u975e(NOT)\uff1a! \u6982\u8ff0 \u903b\u8f91\u975e\u8fd0\u7b97\u7b26\u53ef\u4ee5\u7528\u4e8e\u4efb\u4f55\u503c\u3002\u65e0\u8bba\u8fd9\u4e2a\u503c\u662f\u4ec0\u4e48\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u4e2a\u8fd0\u7b97\u7b26\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5b83\u7684\u6d41\u7a0b\u662f\uff1a\u5148\u5c06\u8fd9\u4e2a\u503c\u8f6c\u6362\u6210\u5e03\u5c14\u503c\uff0c\u7136\u540e\u53d6\u53cd\uff0c \u89c4\u5219\u5982\u4e0b\uff1a \u64cd\u4f5c\u6570\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32,\u8fd4\u56detrue; \u975e\u7a7a\u5b57\u7b26\u4e32, \u8fd4\u56defalse \u64cd\u4f5c\u6570\u662f\u6570\u503c0,\u8fd4\u56detrue; \u4efb\u610f\u975e0\u6570\u503c(\u5305\u62ec Infinity),\u8fd4\u56defalse \u64cd\u4f5c\u6570\u662fNaN, \u8fd4\u56detrue \u64cd\u4f5c\u6570\u662fundefined, \u8fd4\u56detrue 5\u3001\u8d4b\u503c\u8fd0\u7b97\u7b26 \u6982\u8ff0\uff1a \u8d4b\u503c\u8fd0\u7b97\u7b26\u7528\u7b49\u4e8e\u53f7(=)\u8868\u793a\uff0c\u5c31\u662f\u628a\u53f3\u8fb9\u7684\u503c\u8d4b\u7ed9\u5de6\u8fb9\u7684\u53d8\u91cf \u590d\u5408\u8d4b\u503c\u8fd0\u7b97\u7b26\u901a\u8fc7x=\u7684\u5f62\u5f0f\u8868\u793a\uff0cx\u8868\u793a\u7b97\u672f\u8fd0\u7b97\u7b26 \u7b26\u53f7 \u7b26\u53f7 \u8bf4\u660e = \u8d4b\u503c a = b += \u76f8\u52a0\u518d\u8d4b\u503c a += b -= \u76f8\u51cf\u518d\u8d4b\u503c a -= b *= \u76f8\u4e58\u518d\u8d4b\u503c a *= b /= \u76f8\u9664\u518d\u8d4b\u503c a /= b %= \u53d6\u4f59\u518d\u8d4b\u503c a % = b \u5b9e\u4f8b javascript var a = 1; var b = 2; a += b; // a = a + b a -= b; // a = a - b a *= b; // a = a * b a /= b; // a = a / b a %= b; // a = a % b console.log(a); 6\u3001\u4e09\u76ee\u8fd0\u7b97\u7b26 \u6982\u8ff0 \u7406\u89e3\u4e3aif else \u7684\u7b80\u5199 \u683c\u5f0f \u8868\u8fbe\u5f0f\uff1f\u771f\uff1a\u5047; \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26: \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26\u53ea\u6709\u4e00\u4e2a\uff0c\u5373\uff1a\u201c+\u201d\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u4e24\u4e2a\u5b57\u7b26\u4e32\u76f8\u52a0\u3002\u89c4\u5219\uff1a\u81f3\u5c11\u4e00\u4e2a\u64cd\u4f5c\u6570\u662f\u5b57\u7b26\u4e32 \u5b9e\u4f8b javascript var res = a > b ? 'a\u5927\u4e8eb':'a\u4e0d\u5927\u4e8eb'; \u7b49\u540c\u4e8epython\u4e2d\u7684 python a = 5 b = \"lucky\" if x > 0 else \"\u8fea\u4e3d\u70ed\u5df4\" print(y) \u4e8c\u3001\u6d41\u7a0b\u63a7\u5236 1\u3001\u7ed3\u6784\u5206\u7c7b \u987a\u5e8f\uff1a\u4ece\u4e0a\u671d\u4e0b\u6267\u884c\u7684\u4ee3\u7801\u5c31\u662f\u987a\u5e8f \u5206\u652f(\u9009\u62e9)\uff1a\u6839\u636e\u4e0d\u540c\u7684\u60c5\u51b5\uff0c\u6267\u884c\u5bf9\u5e94\u4ee3\u7801 \u5faa\u73af\uff1a\u91cd\u590d\u505a\u4e00\u4ef6\u4e8b\u60c5 2\u3001\u987a\u5e8f\u7ed3\u6784 \u987a\u5e8f\u7ed3\u6784\u662f\u6700\u7b80\u5355\u7684\u7a0b\u5e8f\u7ed3\u6784\uff0c\u5b83\u662f\u7531\u82e5\u5e72\u4e2a\u4f9d\u6b21\u6267\u884c\u7684\u5904\u7406\u6b65\u9aa4\u7ec4\u6210\u7684\u3002 \u5982\u56fe\uff0cA\u8bed\u53e5\u548cB\u8bed\u53e5\u662f\u4f9d\u6b21\u6267\u884c\u7684\uff0c\u53ea\u6709\u5728\u6267\u884c\u5b8cA\u8bed\u53e5\u540e\uff0c\u624d\u80fd\u63a5\u7740\u6267\u884cB\u8bed\u53e5\u3002 3\u3001\u5206\u652f\u7ed3\u6784 \u6982\u8ff0 \u5728\u5904\u7406\u5b9e\u9645\u95ee\u9898\u65f6\uff0c\u53ea\u6709\u987a\u5e8f\u7ed3\u6784\u662f\u4e0d\u591f\u7684\uff0c\u7ecf\u5e38\u4f1a\u9047\u5230\u4e00\u4e9b\u6761\u4ef6\u7684\u5224\u65ad\uff0c\u6d41\u7a0b\u6839\u636e\u6761\u4ef6\u662f\u5426\u6210\u7acb\u6709\u4e0d\u540c\u7684\u6d41\u5411\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u7a0b\u5e8f\u6839\u636e\u7ed9\u5b9a\u7684\u6761\u4ef6P\u662f\u5426\u6210\u7acb\u800c\u9009\u62e9\u6267\u884cA\u64cd\u4f5c\u6216B\u64cd\u4f5c\u3002\u8fd9\u79cd\u5148\u6839\u636e\u6761\u4ef6\u505a\u51fa\u5224\u65ad\uff0c\u518d\u51b3\u5b9a\u6267\u884c\u54ea\u4e00\u79cd\u64cd\u4f5c\u7684\u7ed3\u6784\u79f0\u4e3a\u5206\u652f\u7ed3\u6784\uff0c\u4e5f\u79f0\u4e3a\u9009\u62e9\u7ed3\u6784\u3002 IF\u5355\u5206\u652f if\u6761\u4ef6\u5224\u65ad\u8bed\u53e5\u7684\u5199\u6cd5: javascript if(\u8868\u8fbe\u5f0f){ \u6267\u884c\u8bed\u53e5 } \u5f53\u62ec\u53f7\u5185\u7684\u8868\u8fbe\u5f0f\u7ed3\u679c\u6210\u7acb(\u4e3atrue\u65f6)\uff0c\u5219\u6267\u884c\u5927\u62ec\u53f7\u5185\u7684\u8bed\u53e5\uff0c\u5426\u5219\u4e0d\u6267\u884c\u3002 \u6ce8\u610f if\u540e\u9762\u7684()\u4e0d\u80fd\u7701\u7565\u3002 \u4e00\u6761\u6267\u884c\u8bed\u53e5\u53ef\u4ee5\u7701\u7565{}, \u591a\u6761\u65f6\u4e0d\u80fd\u7701\u7565{}, \u5efa\u8bae\u4e0d\u7ba1\u662f\u4e00\u6761\u8fd8\u662f\u591a\u6761\u90fd\u5199\u4e0a{} \u7b80\u5199 javascript if(0>1) console.log('\u5927\u4e8e') if(0>1) console.log('\u5927\u4e8e') IF\u53cc\u5206\u652f\u8bed\u53e5 \u683c\u5f0f javascript if(\u8868\u8fbe\u5f0f){ \u6267\u884c\u8bed\u53e51 }else{ \u6267\u884c\u8bed\u53e52 } \u5f53if\u62ec\u53f7\u5185\u7684\u8868\u8fbe\u5f0f\u7ed3\u679c\u6210\u7acb\uff0c\u6267\u884c\u6267\u884c\u8bed\u53e51\uff0c\u5426\u5219\u6267\u884c\u6267\u884c\u8bed\u53e52; \u5224\u65ad\u4e00\u4e2a\u5e74\u4efd\u662f\u95f0\u5e74\u8fd8\u662f\u5e73\u5e74\uff1b \u80fd\u88ab4\u6574\u9664\u800c\u4e0d\u80fd\u88ab100\u6574\u9664.\uff08\u59822004\u5e74\u5c31\u662f\u95f0\u5e74,1800\u5e74\u4e0d\u662f.\uff09 \u80fd\u88ab400\u6574\u9664.\uff08\u59822000\u5e74\u662f\u95f0\u5e74\uff09\uff09 \u7b80\u5199 python if(0>1) console.log('\u5927\u4e8e') else console.log('\u4e0d\u5927\u4e8e') IF\u591a\u5206\u652f\u8bed\u53e5 if\u591a\u5206\u652f\u8bed\u53e5\u7684\u5199\u6cd5: javascript if(\u8868\u8fbe\u5f0f){ \u6267\u884c\u8bed\u53e51 } else if(\u8868\u8fbe\u5f0f2){ \u6267\u884c\u8bed\u53e52 } else if(\u8868\u8fbe\u5f0f3){ \u6267\u884c\u8bed\u53e53 } else{ \u6267\u884c\u8bed\u53e5n } \u4ece\u4e0a\u5f80\u4e0b\uff0c\u6ee1\u8db3\u54ea\u4e2a\u6761\u4ef6\u5c31\u6267\u884c\u5176\u76f8\u5bf9\u5e94\u7684\u8bed\u53e5\uff0c\u90fd\u4e0d\u6ee1\u8db3\u65f6\uff0c\u6267\u884c\u6700\u540e\u7684 else \u7684\u8bed\u53e5\uff0c\u53ea\u80fd\u8fdb\u5165\u5176\u4e2d\u4e4b\u4e00 IF\u7684\u5d4c\u5957 \u200b \u5c06\u6574\u4e2aif\u8bed\u53e5\u5757\u63d2\u5165\u53e6\u4e00\u4e2aif\u8bed\u53e5\u5757\u4e2d javascript if (\u8868\u8fbe\u5f0f1) { if (\u8868\u8fbe\u5f0f2) { if (\u8868\u8fbe\u5f0f3){ \u8bed\u53e5; } else{ \u8bed\u53e5; } } else{ \u8bed\u53e5; } } \u6ce8\u610f:\u5d4c\u5957if\u65f6\uff0c\u6700\u597d\u4e0d\u8981\u8d85\u8fc7\u4e09\u5c42\uff1b \u5185\u5c42\u7684\u6bcf\u4e00\u5bf9if...else\u4ee3\u7801\u8981\u7f29\u8fdb\u4e14\u5bf9\u9f50\uff1b\u7f16\u5199\u4ee3\u7801\u65f6\uff0celse\u8981\u4e0e\u6700\u8fd1\u7684if\u914d\u5bf9\u3002 4\u3001switch\u8bed\u53e5 \u683c\u5f0f javascript switch(\u8868\u8fbe\u5f0f) { case \u5e38\u91cf1:\u8bed\u53e5; break; case \u5e38\u91cf2:\u8bed\u53e5; break; case \u5e38\u91cfn:\u8bed\u53e5; break; default:\u8bed\u53e5; break; } \u6982\u8ff0 \u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u7b49\u4e8e\u54ea\u4e2acase\u7684\u5e38\u91cf\uff0c\u5219\u6267\u884c\u5176\u540e\u7684\u8bed\u53e5\uff0c\u6267\u884c\u5b8cbreak\u5c31\u8df3\u51faswitch\u7ed3\u6784\uff0c\u90fd\u4e0d\u6ee1\u8db3\u5219\u6267\u884cdefault\u7684\u8bed\u53e5\u3002 break\u7684\u4f5c\u7528 \u662f\u8df3\u51faswitch\u7ed3\u6784\uff0c\u5982\u679c\u6ca1\u6709break\uff0c\u5219\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u5206\u652f\u7684\u7684\u8bed\u53e5\uff08\u800c\u4e0d\u8fdb\u884c\u5224\u65ad\uff09\u3002 \u6ce8\u610fcase\u7a7f\u900f\uff0c\u8981\u52a0break switch\u7684\u5e94\u7528\u573a\u666f:\u8868\u8fbe\u5f0f\u4e3a\u56fa\u5b9a\u503c,\u4e0d\u80fd\u5224\u65ad\u8303\u56f4 5\u3001\u5faa\u73af\u7ed3\u6784 \u6982\u8ff0 \u200b \u9700\u8981\u91cd\u590d\u6267\u884c\u540c\u4e00\u64cd\u4f5c\u7684\u7ed3\u6784\u79f0\u4e3a\u5faa\u73af\u7ed3\u6784\uff0c\u5373\u4ece\u67d0\u5904\u5f00\u59cb\uff0c\u6309\u7167\u4e00\u5b9a\u6761\u4ef6\u53cd\u590d\u6267\u884c\u67d0\u4e00\u5904\u7406\u6b65\u9aa4\uff0c\u53cd\u590d\u6267\u884c\u7684\u5904\u7406\u6b65\u9aa4\u79f0\u4e3a\u5faa\u73af\u4f53 \u5faa\u73af\u7684\u5206\u7c7b while\u5faa\u73af do-while\u5faa\u73af for i for in for of forEach 5.1 while\u5faa\u73af \u8bed\u6cd5\u683c\u5f0f javascript while(\u8868\u8fbe\u5f0f) { \u6267\u884c\u4ee3\u7801; } \u6ce8\u610f: while\u5faa\u73af\u5fc5\u987b\u6309\u7167\u4e0a\u8ff0\u8bed\u6cd5\u683c\u5f0f\u6765\u5199, \u53ea\u80fd\u66f4\u6539\u8868\u8fbe\u5f0f\u5185\u5bb9\u548c\u6267\u884c\u4ee3\u7801. \u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u5e38\u91cf,\u53d8\u91cf\u6216\u8005\u5176\u4ed6\u8868\u8fbe\u5f0f,\u8be5\u8868\u8fbe\u5f0f\u4f1a\u88ab\u5f3a\u5236\u8f6c\u6362\u4e3aboolean\u7c7b\u578b, \u53ef\u4ee5\u7406\u89e3\u8868\u8fbe\u5f0f\u5c31\u662f\u5faa\u73af\u7684\u6761\u4ef6. \u6267\u884c\u4ee3\u7801\u53ef\u4ee5\u6709\u591a\u884c, {}\u6240\u5305\u542b\u7684\u79f0\u4e3a\u5faa\u73af\u4f53. \u8868\u8fbe\u5f0f\u4e0d\u8981\u4e00\u76f4\u662ftrue, \u907f\u514d\u6b7b\u5faa\u73af. while\u5faa\u73af\u7684\u987a\u5e8f\u662f: \u5148\u5224\u65ad\u8868\u8fbe\u5f0f\u662f\u5426\u4e3atrue, \u82e5true\u5219\u6267\u884c\u6267\u884c\u4ee3\u7801, \u7136\u540e\u518d\u7ee7\u7eed\u5224\u65ad\u8868\u8fbe\u5f0f\u662f\u5426\u4e3atrue, \u2026. \u76f4\u5230\u5224\u65ad\u8868\u8fbe\u5f0f\u4e3afalse\u624d\u4f1a\u8df3\u51fa\u5faa\u73af, \u6267\u884cwhile\u540e\u9762\u7684\u4ee3\u7801 while\u5faa\u73af\u4e00\u822c\u4f1a\u6709: \u5faa\u73af\u521d\u59cb\u503c, \u5faa\u73af\u6761\u4ef6 \u548c \u5faa\u73af\u53d8\u91cf\u589e\u91cf(\u6216\u8005\u51cf\u91cf) \u7ec3\u4e60 \u5faa\u73af\u4e09\u89d2\u5f62 \u6253\u5370100\u4ee5\u5185 7\u7684\u500d\u6570 \u6253\u5370100\u4ee5\u5185\u7684\u5947\u6570 \u6253\u5370100\u4ee5\u5185\u6240\u6709\u5076\u6570\u7684\u548c \u6253\u5370\u56fe\u5f62 ``` ``` 5.2 do while\u5faa\u73af \u7ed3\u6784 ```javascript do{ }while(); ``` \u6ce8\u610f \u4f1a\u591a\u5faa\u73af\u4e00\u6b21 \u56e0\u4e3ado while\u8bed\u53e5\u4e3a\u5148\u6267\u884c\u540e\u5224\u65ad \u5b9e\u4f8b \u5de6\u4fa7\u6b63\u4e09\u89d2\u5f62 javascript var j=1; do{ var i=1; do{ document.write(i) i++ }while(i<=j); document.write('<br>') j++ }while(j<=9); \u53f3\u4fa7\u6b63\u4e09\u89d2\u5f62 ```javascript var a = 1; do{ var k = 1; do{ if(a==9){ break } document.write('&nbsp;&nbsp;&nbsp'); k++; }while(k<=9-a); var i = 1; do{ document.write(i+' '); i++; }while(i<=a); document.write('<br>'); a++; }while(a<10); ``` \u53f3\u4fa7\u5012\u4e09\u89d2\u5f62 javascript //\u53f3\u4fa7\u5012\u4e09\u89d2\u7ebf var j=9; do{ //\u63a7\u5236\u7a7a\u683c\u5b57\u7b26\u7684\u8f93\u51fa var k = 9-j; do{ if(j==9){ break; } document.write('*'); k--; }while(k>=1); //\u8f93\u51fa\u53f3\u4fa7\u4e09\u89d2\u5f62\u7684\u5143\u7d20 var i = j; do{ document.write(i); i--; }while(i>=1); document.write('<br />'); //\u63a7\u5236\u884c\u7684\u8f93\u51fa j--; }while(j>=1); 5.3 for\u5faa\u73af\u8bed\u6cd5\u683c\u5f0f \u4e3b\u4f53\u7ed3\u6784 for (\u8868\u8fbe\u5f0f1; \u8868\u8fbe\u5f0f2;\u8868\u8fbe\u5f0f3){ \u6267\u884c\u4ee3\u7801; } \u5b9e\u4f8b for(var i=0;i<5;i++){ console.log(i) } for\u5faa\u73af\u5c06 \u5faa\u73af\u521d\u59cb\u503c, \u5faa\u73af\u6761\u4ef6, \u5faa\u73af\u53d8\u91cf\u589e\u91cf\u5199\u5728\u4e86\u4e00\u8d77 \u6ce8\u610f: \u4e09\u4e2a\u8868\u8fbe\u5f0f\u90fd\u662f\u53ef\u9009\u586b\u5199, \u4f46\u662f\u5982\u679c\u540e\u4e24\u4e2a\u4e0d\u5199,\u4f1a\u9020\u6210\u6b7b\u5faa\u73af; \u800c\u7b2c\u4e00\u4e2a\u4e3a\u521d\u59cb\u5316\u503c,\u6240\u4ee5\u6211\u4eec\u4e09\u4e2a\u4e00\u822c\u90fd\u8981\u5199\u4e0a. \u7b80\u5199 var i=1; for(;;){ if(i>100){ break; } document.write(i+'<br />'); i++; } \u5b9e\u4f8b javascript for (var e, r, i, n, o = \"\", a = t.length % 3, s = 0; s < t.length; ) { if ((r = t.charCodeAt(s++)) > 255 || (i = t.charCodeAt(s++)) > 255 || (n = t.charCodeAt(s++)) > 255) throw new TypeError(\"invalid character found\"); o += dt[(e = r << 16 | i << 8 | n) >> 18 & 63] + dt[e >> 12 & 63] + dt[e >> 6 & 63] + dt[63 & e] } \u8f6c\u53d8\u6210 javascript var e, r, i, n, o = \"\", a = t.length % 3, s = 0 for (; s < t.length; ) { if ((r = t.charCodeAt(s++)) > 255 || (i = t.charCodeAt(s++)) > 255 || (n = t.charCodeAt(s++)) > 255) throw new TypeError(\"invalid character found\"); o += dt[(e = r << 16 | i << 8 | n) >> 18 & 63] + dt[e >> 12 & 63] + dt[e >> 6 & 63] + dt[63 & e] } \u6ce8\u610f: \u8868\u8fbe\u5f0f1:\u53ef\u5199\u5faa\u73af\u521d\u59cb\u503c, (\u53ef\u4ee5\u4e0d\u586b) \u8868\u8fbe\u5f0f2: \u5faa\u73af\u6761\u4ef6 \u8868\u8fbe\u5f0f3: \u5faa\u73af\u589e\u91cf(\u51cf\u91cf) \u4e24\u4e2a\u5206\u53f7\u5fc5\u987b\u5199. 5.4 for in \u8fd4\u56de\u7d22\u5f15\u503c for(var i in Array){ console.log(i) } \u4f7f\u7528 const arr = [1,2,3,4] for (const key in arr){ console.log(key) // \u8f93\u51fa 0,1,2,3 } 5.5 for of \u8fd4\u56de\u503c for(var i of Array){ console.log(i) } \u4f7f\u7528 const arr = [1,2,3,4] for (let v of arr){ console.log(v) // \u8f93\u51fa 1,2,3,4 } 5.6 forEach \u8fd4\u56de\u503c Array = [1,2,3,4] Array.forEach(function(arg){ console.log(arg) }); 6\u3001\u5173\u952e\u5b57break\u548ccontinue break\u5173\u952e\u5b57 \u5728switch\u8bed\u53e5\u4e2d\u4f7f\u6d41\u7a0b\u8df3\u51faswitch\u7ed3\u6784\u3002 \u5728\u5faa\u73af\u8bed\u53e5\u4e2d\u4f7f\u6d41\u7a0b\u8df3\u51fa\u5f53\u524d\u5faa\u73af \u6ce8\u610f: \u5982\u679c\u5df2\u6267\u884cbreak\u8bed\u53e5\uff0c\u5c31\u4e0d\u4f1a\u6267\u884c\u5faa\u73af\u4f53\u4e2d\u4f4d\u4e8ebreak\u540e\u7684\u8bed\u53e5\u3002 \u5728\u591a\u5c42\u5faa\u73af\u4e2d\uff0c\u4e00\u4e2abreak\u8bed\u53e5\u53ea\u5411\u5916\u8df3\u4e00\u5c42 continue\u5173\u952e\u5b57 \u53ea\u80fd\u5728\u5faa\u73af\u8bed\u53e5\u4e2d\u4f7f\u7528\uff0c\u4f7f\u672c\u6b21\u5faa\u73af\u7ed3\u675f\uff0c\u5373\u8df3\u8fc7\u5faa\u73af\u4f53\u4e2d\u4e0b\u9762\u5c1a\u672a\u6267\u884c\u7684\u8bed\u53e5\uff0c\u63a5\u7740\u8fdb\u884c\u4e0b\u6b21\u662f\u5426\u6267\u884c\u5faa\u73af\u7684\u5224\u65ad\u3002 \u6ce8\u610f: continue\u8bed\u53e5\u53ea\u80fd\u7528\u5728\u5faa\u73af\u91cc\u3002 \u5bf9\u4e8ewhile\u548cdo-while\u5faa\u73af\uff0ccontinue\u8bed\u53e5\u6267\u884c\u4e4b\u540e\u7684\u52a8\u4f5c\u662f\u6761\u4ef6\u5224\u65ad\uff1b\u5bf9\u4e8efor\u5faa\u73af\uff0c\u968f\u540e\u7684\u52a8\u4f5c\u662f\u53d8\u91cf\u66f4\u65b0\u3002","title":"\u5341\u516b\u3001js\u8fd0\u7b97\u7b26\u4e0e\u6d41\u7a0b\u63a7\u5236"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#js","text":"","title":"\u5341\u516b\u3001js\u8fd0\u7b97\u7b26\u4e0e\u6d41\u7a0b\u63a7\u5236"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#_1","text":"","title":"\u4e00\u3001\u8fd0\u7b97\u7b26"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#1","text":"","title":"1\u3001\u4e00\u5143\u8fd0\u7b97\u7b26"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#1_1","text":"\u53ea\u80fd\u64cd\u4f5c\u4e00\u4e2a\u503c\u7684\u8fd0\u7b97\u7b26\u53eb\u505a\u4e00\u5143\u8fd0\u7b97\u7b26","title":"(1) \u6982\u8ff0"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#2","text":"\u81ea\u589e\u64cd\u4f5c\u7b26 ( ++ ) : \u524d\u7f00\u5f62\u5f0f \uff1a ++variable \uff0c\u9996\u5148\u5c06\u53d8\u91cf\u52a01\uff0c\u7136\u540e\u8fd4\u56de\u65b0\u503c\u3002 javascript let a = 5; let b = ++a; // \u73b0\u5728a\u548cb\u90fd\u662f6 \u540e\u7f00\u5f62\u5f0f \uff1a variable++ \uff0c\u9996\u5148\u8fd4\u56de\u53d8\u91cf\u7684\u5f53\u524d\u503c\uff0c\u7136\u540e\u518d\u5c06\u53d8\u91cf\u52a01\u3002 javascript let a = 5; let b = a++; // b\u662f5\uff0ca\u53d8\u6210\u4e866 \u7ec3\u4e60 javascript var a = 1; // 1 + 3 + 3 var b = a++ + ++a + a console.log(b) \u81ea\u51cf\u64cd\u4f5c\u7b26 ( -- ) : \u524d\u7f00\u5f62\u5f0f \uff1a --variable \uff0c\u9996\u5148\u5c06\u53d8\u91cf\u51cf1\uff0c\u7136\u540e\u8fd4\u56de\u65b0\u503c\u3002 javascript let a = 5; let b = --a; // \u73b0\u5728a\u548cb\u90fd\u662f4 \u540e\u7f00\u5f62\u5f0f \uff1a variable-- \uff0c\u9996\u5148\u8fd4\u56de\u53d8\u91cf\u7684\u5f53\u524d\u503c\uff0c\u7136\u540e\u518d\u5c06\u53d8\u91cf\u51cf1\u3002 javascript let a = 5; let b = a--; // b\u662f5\uff0ca\u53d8\u6210\u4e864 \u7ec3\u4e60 javascript var a = 1; // 1 + 3 + 2 var b = a++ + ++a + --a console.log(b) console.log(a)","title":"(2) \u683c\u5f0f"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#2_1","text":"\u7b26\u53f7 \u7b26\u53f7 \u8bf4\u660e + \u52a0(\u8fde\u63a5) - \u51cf * \u4e58 / \u9664 % \u53d6\u4f59 \u5b9e\u4f8b javascript console.log(1 + 1); console.log(1 - 1); console.log(1 * 2); console.log(1 / 2); console.log(1 % 2); \u4f5c\u4e3a\u8fde\u63a5 javascript console.log('a' + 'b') console.log('a' + 1) console.log('a' + [1,2,3])","title":"2\u3001\u7b97\u6570\u8fd0\u7b97\u7b26"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#3","text":"\u6982\u8ff0 \u7528\u4e8e\u8fdb\u884c\u6bd4\u8f83\u7684\u8fd0\u7b97\u7b26\u79f0\u4f5c\u4e3a\u5173\u7cfb\u8fd0\u7b97\u7b26 \u5173\u7cfb\u8fd0\u7b97\u7b26\u5982\u4e0b: \u8fd0\u7b97\u7b26 \u8bf4\u660e > \u5927\u4e8e < \u5c0f\u4e8e >= \u5927\u4e8e\u7b49\u4e8e <= \u5c0f\u4e8e\u7b49\u4e8e == \u7b49\u4e8e(\u53ea\u5224\u65ad\u503c) === \u5168\u7b49\u4e8e(\u5224\u65ad\u503c\u548c\u7c7b\u578b) != \u4e0d\u7b49\u4e8e(\u503c\u5224\u65ad\u503c) !== \u4e0d\u5168\u7b49(\u503c\u548c\u7c7b\u578b) \u5173\u7cfb\u8fd0\u7b97\u7b26\u7684\u6bd4\u8f83\u89c4\u5219: \u6570\u5b57\u548c\u6570\u5b57\u6bd4\u8f83, \u76f4\u63a5\u6bd4\u8f83\u5927\u5c0f \u6570\u5b57\u548c\u5b57\u7b26\u4e32\u6bd4\u8f83, \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6570\u5b57\u540e\u518d\u6bd4\u8f83\uff08\u5426\u5219\u90fd\u4e3afalse\uff09 \u5b57\u7b26\u4e32\u548c\u5b57\u7b26\u4e32\u6bd4\u8f83, \u8fdb\u884c\u5b57\u7b26\u7684ASCII\u7801\u503c\u6bd4\u8f83 \u5b57\u7b26\u4e0eASCII\u503c\u4e92\u8f6c javascript var str = \"A\"; // \u5b57\u7b26\u8f6c\u6362\u4e3aascii str.charCodeAt(); var num = 97; // ascii\u8f6c\u6362\u4e3a\u5b57\u7b26 String.fromCharCode(num); // 'a' // \u7b2c\u51e0\u4e2a\u5b57\u7b26\u7684ASCII\u503c var str = \"ABCDEF\"; str.charCodeAt(2); // \u7b2c\u4e09\u4e2a\u5b57\u7b26\u7684ascii\u503c \u6bd4\u8f83\u6ce8\u610f\u4e8b\u9879: \u5e03\u5c14\u503c ture=1, false=0 Number(true) \u6709NaN\u7684\u8fd0\u7b97\u90fd\u4e3afalse \u5982\u679c\u8981\u6052\u7b49, \u5219\u5fc5\u987b\u503c\u548c\u7c7b\u578b\u90fd\u8981\u76f8\u7b49; \u5173\u7cfb\u8fd0\u7b97\u7b26(\u7279\u6b8a\u503c) \u8fd0\u7b97 \u7ed3\u679c null == undefined true 'NaN' == NaN false 5 == NaN false NaN == NaN false false == 0 true true == 1 true true == 2 false undefined == 0 false null == 0 false '100' == 100 true '100' === 100 false","title":"3\u3001\u5173\u7cfb\u8fd0\u7b97\u7b26"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#4","text":"\u8bf4\u660e \u903b\u8f91\u8fd0\u7b97\u7b26\u901a\u5e38\u7528\u4e8e\u5e03\u5c14\u503c\u7684\u64cd\u4f5c\uff0c\u4e00\u822c\u548c\u5173\u7cfb\u8fd0\u7b97\u7b26\u914d\u5408\u4f7f\u7528\uff0c\u6709\u4e09\u4e2a\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a\u903b\u8f91\u4e0e(AND)\u3001\u903b\u8f91\u6216(OR)\u3001\u903b\u8f91\u975e(NOT) \u6ce8\u610f \u903b\u8f91\u4e0e&&\u8fd0\u7b97\u7b26\u5c5e\u4e8e\u77ed\u8def\u64cd\u4f5c\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u6570\u8fd4\u56de\u662ffalse\uff0c\u7b2c\u4e8c\u4e2a\u6570\u4e0d\u7ba1\u662ftrue\u8fd8\u662ffalse\u90fd\u4f1a\u8fd4\u56defalse\u3002 \u903b\u8f91\u6216||\u8fd0\u7b97\u7b26\u4e5f\u662f\u77ed\u8def\u64cd\u4f5c\u3002\u5f53\u7b2c\u4e00\u64cd\u4f5c\u6570\u7684\u6c42\u503c\u7ed3\u679c\u4e3atrue\uff0c \u5c31\u4e0d\u4f1a\u5bf9\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\u6c42\u503c\u4e86\u3002 \u77ed\u8def\u6548\u679c javascript var a = 1; console.log(a++ || true) console.log(a) console.log(true || a++) \u903b\u8f91\u975e(NOT)\uff1a! \u6982\u8ff0 \u903b\u8f91\u975e\u8fd0\u7b97\u7b26\u53ef\u4ee5\u7528\u4e8e\u4efb\u4f55\u503c\u3002\u65e0\u8bba\u8fd9\u4e2a\u503c\u662f\u4ec0\u4e48\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u4e2a\u8fd0\u7b97\u7b26\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5b83\u7684\u6d41\u7a0b\u662f\uff1a\u5148\u5c06\u8fd9\u4e2a\u503c\u8f6c\u6362\u6210\u5e03\u5c14\u503c\uff0c\u7136\u540e\u53d6\u53cd\uff0c \u89c4\u5219\u5982\u4e0b\uff1a \u64cd\u4f5c\u6570\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32,\u8fd4\u56detrue; \u975e\u7a7a\u5b57\u7b26\u4e32, \u8fd4\u56defalse \u64cd\u4f5c\u6570\u662f\u6570\u503c0,\u8fd4\u56detrue; \u4efb\u610f\u975e0\u6570\u503c(\u5305\u62ec Infinity),\u8fd4\u56defalse \u64cd\u4f5c\u6570\u662fNaN, \u8fd4\u56detrue \u64cd\u4f5c\u6570\u662fundefined, \u8fd4\u56detrue","title":"4\u3001\u903b\u8f91\u8fd0\u7b97\u7b26"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#5","text":"\u6982\u8ff0\uff1a \u8d4b\u503c\u8fd0\u7b97\u7b26\u7528\u7b49\u4e8e\u53f7(=)\u8868\u793a\uff0c\u5c31\u662f\u628a\u53f3\u8fb9\u7684\u503c\u8d4b\u7ed9\u5de6\u8fb9\u7684\u53d8\u91cf \u590d\u5408\u8d4b\u503c\u8fd0\u7b97\u7b26\u901a\u8fc7x=\u7684\u5f62\u5f0f\u8868\u793a\uff0cx\u8868\u793a\u7b97\u672f\u8fd0\u7b97\u7b26 \u7b26\u53f7 \u7b26\u53f7 \u8bf4\u660e = \u8d4b\u503c a = b += \u76f8\u52a0\u518d\u8d4b\u503c a += b -= \u76f8\u51cf\u518d\u8d4b\u503c a -= b *= \u76f8\u4e58\u518d\u8d4b\u503c a *= b /= \u76f8\u9664\u518d\u8d4b\u503c a /= b %= \u53d6\u4f59\u518d\u8d4b\u503c a % = b \u5b9e\u4f8b javascript var a = 1; var b = 2; a += b; // a = a + b a -= b; // a = a - b a *= b; // a = a * b a /= b; // a = a / b a %= b; // a = a % b console.log(a);","title":"5\u3001\u8d4b\u503c\u8fd0\u7b97\u7b26"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#6","text":"\u6982\u8ff0 \u7406\u89e3\u4e3aif else \u7684\u7b80\u5199 \u683c\u5f0f \u8868\u8fbe\u5f0f\uff1f\u771f\uff1a\u5047; \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26: \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26\u53ea\u6709\u4e00\u4e2a\uff0c\u5373\uff1a\u201c+\u201d\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u4e24\u4e2a\u5b57\u7b26\u4e32\u76f8\u52a0\u3002\u89c4\u5219\uff1a\u81f3\u5c11\u4e00\u4e2a\u64cd\u4f5c\u6570\u662f\u5b57\u7b26\u4e32 \u5b9e\u4f8b javascript var res = a > b ? 'a\u5927\u4e8eb':'a\u4e0d\u5927\u4e8eb'; \u7b49\u540c\u4e8epython\u4e2d\u7684 python a = 5 b = \"lucky\" if x > 0 else \"\u8fea\u4e3d\u70ed\u5df4\" print(y)","title":"6\u3001\u4e09\u76ee\u8fd0\u7b97\u7b26"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#_2","text":"","title":"\u4e8c\u3001\u6d41\u7a0b\u63a7\u5236"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#1_2","text":"\u987a\u5e8f\uff1a\u4ece\u4e0a\u671d\u4e0b\u6267\u884c\u7684\u4ee3\u7801\u5c31\u662f\u987a\u5e8f \u5206\u652f(\u9009\u62e9)\uff1a\u6839\u636e\u4e0d\u540c\u7684\u60c5\u51b5\uff0c\u6267\u884c\u5bf9\u5e94\u4ee3\u7801 \u5faa\u73af\uff1a\u91cd\u590d\u505a\u4e00\u4ef6\u4e8b\u60c5","title":"1\u3001\u7ed3\u6784\u5206\u7c7b"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#2_2","text":"\u987a\u5e8f\u7ed3\u6784\u662f\u6700\u7b80\u5355\u7684\u7a0b\u5e8f\u7ed3\u6784\uff0c\u5b83\u662f\u7531\u82e5\u5e72\u4e2a\u4f9d\u6b21\u6267\u884c\u7684\u5904\u7406\u6b65\u9aa4\u7ec4\u6210\u7684\u3002 \u5982\u56fe\uff0cA\u8bed\u53e5\u548cB\u8bed\u53e5\u662f\u4f9d\u6b21\u6267\u884c\u7684\uff0c\u53ea\u6709\u5728\u6267\u884c\u5b8cA\u8bed\u53e5\u540e\uff0c\u624d\u80fd\u63a5\u7740\u6267\u884cB\u8bed\u53e5\u3002","title":"2\u3001\u987a\u5e8f\u7ed3\u6784"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#3_1","text":"\u6982\u8ff0 \u5728\u5904\u7406\u5b9e\u9645\u95ee\u9898\u65f6\uff0c\u53ea\u6709\u987a\u5e8f\u7ed3\u6784\u662f\u4e0d\u591f\u7684\uff0c\u7ecf\u5e38\u4f1a\u9047\u5230\u4e00\u4e9b\u6761\u4ef6\u7684\u5224\u65ad\uff0c\u6d41\u7a0b\u6839\u636e\u6761\u4ef6\u662f\u5426\u6210\u7acb\u6709\u4e0d\u540c\u7684\u6d41\u5411\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u7a0b\u5e8f\u6839\u636e\u7ed9\u5b9a\u7684\u6761\u4ef6P\u662f\u5426\u6210\u7acb\u800c\u9009\u62e9\u6267\u884cA\u64cd\u4f5c\u6216B\u64cd\u4f5c\u3002\u8fd9\u79cd\u5148\u6839\u636e\u6761\u4ef6\u505a\u51fa\u5224\u65ad\uff0c\u518d\u51b3\u5b9a\u6267\u884c\u54ea\u4e00\u79cd\u64cd\u4f5c\u7684\u7ed3\u6784\u79f0\u4e3a\u5206\u652f\u7ed3\u6784\uff0c\u4e5f\u79f0\u4e3a\u9009\u62e9\u7ed3\u6784\u3002 IF\u5355\u5206\u652f if\u6761\u4ef6\u5224\u65ad\u8bed\u53e5\u7684\u5199\u6cd5: javascript if(\u8868\u8fbe\u5f0f){ \u6267\u884c\u8bed\u53e5 } \u5f53\u62ec\u53f7\u5185\u7684\u8868\u8fbe\u5f0f\u7ed3\u679c\u6210\u7acb(\u4e3atrue\u65f6)\uff0c\u5219\u6267\u884c\u5927\u62ec\u53f7\u5185\u7684\u8bed\u53e5\uff0c\u5426\u5219\u4e0d\u6267\u884c\u3002 \u6ce8\u610f if\u540e\u9762\u7684()\u4e0d\u80fd\u7701\u7565\u3002 \u4e00\u6761\u6267\u884c\u8bed\u53e5\u53ef\u4ee5\u7701\u7565{}, \u591a\u6761\u65f6\u4e0d\u80fd\u7701\u7565{}, \u5efa\u8bae\u4e0d\u7ba1\u662f\u4e00\u6761\u8fd8\u662f\u591a\u6761\u90fd\u5199\u4e0a{} \u7b80\u5199 javascript if(0>1) console.log('\u5927\u4e8e') if(0>1) console.log('\u5927\u4e8e') IF\u53cc\u5206\u652f\u8bed\u53e5 \u683c\u5f0f javascript if(\u8868\u8fbe\u5f0f){ \u6267\u884c\u8bed\u53e51 }else{ \u6267\u884c\u8bed\u53e52 } \u5f53if\u62ec\u53f7\u5185\u7684\u8868\u8fbe\u5f0f\u7ed3\u679c\u6210\u7acb\uff0c\u6267\u884c\u6267\u884c\u8bed\u53e51\uff0c\u5426\u5219\u6267\u884c\u6267\u884c\u8bed\u53e52; \u5224\u65ad\u4e00\u4e2a\u5e74\u4efd\u662f\u95f0\u5e74\u8fd8\u662f\u5e73\u5e74\uff1b \u80fd\u88ab4\u6574\u9664\u800c\u4e0d\u80fd\u88ab100\u6574\u9664.\uff08\u59822004\u5e74\u5c31\u662f\u95f0\u5e74,1800\u5e74\u4e0d\u662f.\uff09 \u80fd\u88ab400\u6574\u9664.\uff08\u59822000\u5e74\u662f\u95f0\u5e74\uff09\uff09 \u7b80\u5199 python if(0>1) console.log('\u5927\u4e8e') else console.log('\u4e0d\u5927\u4e8e') IF\u591a\u5206\u652f\u8bed\u53e5 if\u591a\u5206\u652f\u8bed\u53e5\u7684\u5199\u6cd5: javascript if(\u8868\u8fbe\u5f0f){ \u6267\u884c\u8bed\u53e51 } else if(\u8868\u8fbe\u5f0f2){ \u6267\u884c\u8bed\u53e52 } else if(\u8868\u8fbe\u5f0f3){ \u6267\u884c\u8bed\u53e53 } else{ \u6267\u884c\u8bed\u53e5n } \u4ece\u4e0a\u5f80\u4e0b\uff0c\u6ee1\u8db3\u54ea\u4e2a\u6761\u4ef6\u5c31\u6267\u884c\u5176\u76f8\u5bf9\u5e94\u7684\u8bed\u53e5\uff0c\u90fd\u4e0d\u6ee1\u8db3\u65f6\uff0c\u6267\u884c\u6700\u540e\u7684 else \u7684\u8bed\u53e5\uff0c\u53ea\u80fd\u8fdb\u5165\u5176\u4e2d\u4e4b\u4e00 IF\u7684\u5d4c\u5957 \u200b \u5c06\u6574\u4e2aif\u8bed\u53e5\u5757\u63d2\u5165\u53e6\u4e00\u4e2aif\u8bed\u53e5\u5757\u4e2d javascript if (\u8868\u8fbe\u5f0f1) { if (\u8868\u8fbe\u5f0f2) { if (\u8868\u8fbe\u5f0f3){ \u8bed\u53e5; } else{ \u8bed\u53e5; } } else{ \u8bed\u53e5; } } \u6ce8\u610f:\u5d4c\u5957if\u65f6\uff0c\u6700\u597d\u4e0d\u8981\u8d85\u8fc7\u4e09\u5c42\uff1b \u5185\u5c42\u7684\u6bcf\u4e00\u5bf9if...else\u4ee3\u7801\u8981\u7f29\u8fdb\u4e14\u5bf9\u9f50\uff1b\u7f16\u5199\u4ee3\u7801\u65f6\uff0celse\u8981\u4e0e\u6700\u8fd1\u7684if\u914d\u5bf9\u3002","title":"3\u3001\u5206\u652f\u7ed3\u6784"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#4switch","text":"\u683c\u5f0f javascript switch(\u8868\u8fbe\u5f0f) { case \u5e38\u91cf1:\u8bed\u53e5; break; case \u5e38\u91cf2:\u8bed\u53e5; break; case \u5e38\u91cfn:\u8bed\u53e5; break; default:\u8bed\u53e5; break; } \u6982\u8ff0 \u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u7b49\u4e8e\u54ea\u4e2acase\u7684\u5e38\u91cf\uff0c\u5219\u6267\u884c\u5176\u540e\u7684\u8bed\u53e5\uff0c\u6267\u884c\u5b8cbreak\u5c31\u8df3\u51faswitch\u7ed3\u6784\uff0c\u90fd\u4e0d\u6ee1\u8db3\u5219\u6267\u884cdefault\u7684\u8bed\u53e5\u3002 break\u7684\u4f5c\u7528 \u662f\u8df3\u51faswitch\u7ed3\u6784\uff0c\u5982\u679c\u6ca1\u6709break\uff0c\u5219\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u5206\u652f\u7684\u7684\u8bed\u53e5\uff08\u800c\u4e0d\u8fdb\u884c\u5224\u65ad\uff09\u3002 \u6ce8\u610fcase\u7a7f\u900f\uff0c\u8981\u52a0break switch\u7684\u5e94\u7528\u573a\u666f:\u8868\u8fbe\u5f0f\u4e3a\u56fa\u5b9a\u503c,\u4e0d\u80fd\u5224\u65ad\u8303\u56f4","title":"4\u3001switch\u8bed\u53e5"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#5_1","text":"\u6982\u8ff0 \u200b \u9700\u8981\u91cd\u590d\u6267\u884c\u540c\u4e00\u64cd\u4f5c\u7684\u7ed3\u6784\u79f0\u4e3a\u5faa\u73af\u7ed3\u6784\uff0c\u5373\u4ece\u67d0\u5904\u5f00\u59cb\uff0c\u6309\u7167\u4e00\u5b9a\u6761\u4ef6\u53cd\u590d\u6267\u884c\u67d0\u4e00\u5904\u7406\u6b65\u9aa4\uff0c\u53cd\u590d\u6267\u884c\u7684\u5904\u7406\u6b65\u9aa4\u79f0\u4e3a\u5faa\u73af\u4f53 \u5faa\u73af\u7684\u5206\u7c7b while\u5faa\u73af do-while\u5faa\u73af for i for in for of forEach","title":"5\u3001\u5faa\u73af\u7ed3\u6784"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#51-while","text":"\u8bed\u6cd5\u683c\u5f0f javascript while(\u8868\u8fbe\u5f0f) { \u6267\u884c\u4ee3\u7801; } \u6ce8\u610f: while\u5faa\u73af\u5fc5\u987b\u6309\u7167\u4e0a\u8ff0\u8bed\u6cd5\u683c\u5f0f\u6765\u5199, \u53ea\u80fd\u66f4\u6539\u8868\u8fbe\u5f0f\u5185\u5bb9\u548c\u6267\u884c\u4ee3\u7801. \u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u5e38\u91cf,\u53d8\u91cf\u6216\u8005\u5176\u4ed6\u8868\u8fbe\u5f0f,\u8be5\u8868\u8fbe\u5f0f\u4f1a\u88ab\u5f3a\u5236\u8f6c\u6362\u4e3aboolean\u7c7b\u578b, \u53ef\u4ee5\u7406\u89e3\u8868\u8fbe\u5f0f\u5c31\u662f\u5faa\u73af\u7684\u6761\u4ef6. \u6267\u884c\u4ee3\u7801\u53ef\u4ee5\u6709\u591a\u884c, {}\u6240\u5305\u542b\u7684\u79f0\u4e3a\u5faa\u73af\u4f53. \u8868\u8fbe\u5f0f\u4e0d\u8981\u4e00\u76f4\u662ftrue, \u907f\u514d\u6b7b\u5faa\u73af. while\u5faa\u73af\u7684\u987a\u5e8f\u662f: \u5148\u5224\u65ad\u8868\u8fbe\u5f0f\u662f\u5426\u4e3atrue, \u82e5true\u5219\u6267\u884c\u6267\u884c\u4ee3\u7801, \u7136\u540e\u518d\u7ee7\u7eed\u5224\u65ad\u8868\u8fbe\u5f0f\u662f\u5426\u4e3atrue, \u2026. \u76f4\u5230\u5224\u65ad\u8868\u8fbe\u5f0f\u4e3afalse\u624d\u4f1a\u8df3\u51fa\u5faa\u73af, \u6267\u884cwhile\u540e\u9762\u7684\u4ee3\u7801 while\u5faa\u73af\u4e00\u822c\u4f1a\u6709: \u5faa\u73af\u521d\u59cb\u503c, \u5faa\u73af\u6761\u4ef6 \u548c \u5faa\u73af\u53d8\u91cf\u589e\u91cf(\u6216\u8005\u51cf\u91cf) \u7ec3\u4e60 \u5faa\u73af\u4e09\u89d2\u5f62 \u6253\u5370100\u4ee5\u5185 7\u7684\u500d\u6570 \u6253\u5370100\u4ee5\u5185\u7684\u5947\u6570 \u6253\u5370100\u4ee5\u5185\u6240\u6709\u5076\u6570\u7684\u548c \u6253\u5370\u56fe\u5f62 ``` ```","title":"5.1 while\u5faa\u73af"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#52-do-while","text":"\u7ed3\u6784 ```javascript do{ }while(); ``` \u6ce8\u610f \u4f1a\u591a\u5faa\u73af\u4e00\u6b21 \u56e0\u4e3ado while\u8bed\u53e5\u4e3a\u5148\u6267\u884c\u540e\u5224\u65ad \u5b9e\u4f8b \u5de6\u4fa7\u6b63\u4e09\u89d2\u5f62 javascript var j=1; do{ var i=1; do{ document.write(i) i++ }while(i<=j); document.write('<br>') j++ }while(j<=9); \u53f3\u4fa7\u6b63\u4e09\u89d2\u5f62 ```javascript var a = 1; do{ var k = 1; do{ if(a==9){ break } document.write('&nbsp;&nbsp;&nbsp'); k++; }while(k<=9-a); var i = 1; do{ document.write(i+' '); i++; }while(i<=a); document.write('<br>'); a++; }while(a<10); ``` \u53f3\u4fa7\u5012\u4e09\u89d2\u5f62 javascript //\u53f3\u4fa7\u5012\u4e09\u89d2\u7ebf var j=9; do{ //\u63a7\u5236\u7a7a\u683c\u5b57\u7b26\u7684\u8f93\u51fa var k = 9-j; do{ if(j==9){ break; } document.write('*'); k--; }while(k>=1); //\u8f93\u51fa\u53f3\u4fa7\u4e09\u89d2\u5f62\u7684\u5143\u7d20 var i = j; do{ document.write(i); i--; }while(i>=1); document.write('<br />'); //\u63a7\u5236\u884c\u7684\u8f93\u51fa j--; }while(j>=1);","title":"5.2 do while\u5faa\u73af"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#53-for","text":"\u4e3b\u4f53\u7ed3\u6784 for (\u8868\u8fbe\u5f0f1; \u8868\u8fbe\u5f0f2;\u8868\u8fbe\u5f0f3){ \u6267\u884c\u4ee3\u7801; } \u5b9e\u4f8b for(var i=0;i<5;i++){ console.log(i) } for\u5faa\u73af\u5c06 \u5faa\u73af\u521d\u59cb\u503c, \u5faa\u73af\u6761\u4ef6, \u5faa\u73af\u53d8\u91cf\u589e\u91cf\u5199\u5728\u4e86\u4e00\u8d77 \u6ce8\u610f: \u4e09\u4e2a\u8868\u8fbe\u5f0f\u90fd\u662f\u53ef\u9009\u586b\u5199, \u4f46\u662f\u5982\u679c\u540e\u4e24\u4e2a\u4e0d\u5199,\u4f1a\u9020\u6210\u6b7b\u5faa\u73af; \u800c\u7b2c\u4e00\u4e2a\u4e3a\u521d\u59cb\u5316\u503c,\u6240\u4ee5\u6211\u4eec\u4e09\u4e2a\u4e00\u822c\u90fd\u8981\u5199\u4e0a. \u7b80\u5199 var i=1; for(;;){ if(i>100){ break; } document.write(i+'<br />'); i++; } \u5b9e\u4f8b javascript for (var e, r, i, n, o = \"\", a = t.length % 3, s = 0; s < t.length; ) { if ((r = t.charCodeAt(s++)) > 255 || (i = t.charCodeAt(s++)) > 255 || (n = t.charCodeAt(s++)) > 255) throw new TypeError(\"invalid character found\"); o += dt[(e = r << 16 | i << 8 | n) >> 18 & 63] + dt[e >> 12 & 63] + dt[e >> 6 & 63] + dt[63 & e] } \u8f6c\u53d8\u6210 javascript var e, r, i, n, o = \"\", a = t.length % 3, s = 0 for (; s < t.length; ) { if ((r = t.charCodeAt(s++)) > 255 || (i = t.charCodeAt(s++)) > 255 || (n = t.charCodeAt(s++)) > 255) throw new TypeError(\"invalid character found\"); o += dt[(e = r << 16 | i << 8 | n) >> 18 & 63] + dt[e >> 12 & 63] + dt[e >> 6 & 63] + dt[63 & e] } \u6ce8\u610f: \u8868\u8fbe\u5f0f1:\u53ef\u5199\u5faa\u73af\u521d\u59cb\u503c, (\u53ef\u4ee5\u4e0d\u586b) \u8868\u8fbe\u5f0f2: \u5faa\u73af\u6761\u4ef6 \u8868\u8fbe\u5f0f3: \u5faa\u73af\u589e\u91cf(\u51cf\u91cf) \u4e24\u4e2a\u5206\u53f7\u5fc5\u987b\u5199.","title":"5.3 for\u5faa\u73af\u8bed\u6cd5\u683c\u5f0f"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#54-for-in","text":"for(var i in Array){ console.log(i) } \u4f7f\u7528 const arr = [1,2,3,4] for (const key in arr){ console.log(key) // \u8f93\u51fa 0,1,2,3 }","title":"5.4 for in \u8fd4\u56de\u7d22\u5f15\u503c"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#55-for-of","text":"for(var i of Array){ console.log(i) } \u4f7f\u7528 const arr = [1,2,3,4] for (let v of arr){ console.log(v) // \u8f93\u51fa 1,2,3,4 }","title":"5.5 for of \u8fd4\u56de\u503c"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#56-foreach","text":"Array = [1,2,3,4] Array.forEach(function(arg){ console.log(arg) });","title":"5.6 forEach \u8fd4\u56de\u503c"},{"location":"18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#6breakcontinue","text":"break\u5173\u952e\u5b57 \u5728switch\u8bed\u53e5\u4e2d\u4f7f\u6d41\u7a0b\u8df3\u51faswitch\u7ed3\u6784\u3002 \u5728\u5faa\u73af\u8bed\u53e5\u4e2d\u4f7f\u6d41\u7a0b\u8df3\u51fa\u5f53\u524d\u5faa\u73af \u6ce8\u610f: \u5982\u679c\u5df2\u6267\u884cbreak\u8bed\u53e5\uff0c\u5c31\u4e0d\u4f1a\u6267\u884c\u5faa\u73af\u4f53\u4e2d\u4f4d\u4e8ebreak\u540e\u7684\u8bed\u53e5\u3002 \u5728\u591a\u5c42\u5faa\u73af\u4e2d\uff0c\u4e00\u4e2abreak\u8bed\u53e5\u53ea\u5411\u5916\u8df3\u4e00\u5c42 continue\u5173\u952e\u5b57 \u53ea\u80fd\u5728\u5faa\u73af\u8bed\u53e5\u4e2d\u4f7f\u7528\uff0c\u4f7f\u672c\u6b21\u5faa\u73af\u7ed3\u675f\uff0c\u5373\u8df3\u8fc7\u5faa\u73af\u4f53\u4e2d\u4e0b\u9762\u5c1a\u672a\u6267\u884c\u7684\u8bed\u53e5\uff0c\u63a5\u7740\u8fdb\u884c\u4e0b\u6b21\u662f\u5426\u6267\u884c\u5faa\u73af\u7684\u5224\u65ad\u3002 \u6ce8\u610f: continue\u8bed\u53e5\u53ea\u80fd\u7528\u5728\u5faa\u73af\u91cc\u3002 \u5bf9\u4e8ewhile\u548cdo-while\u5faa\u73af\uff0ccontinue\u8bed\u53e5\u6267\u884c\u4e4b\u540e\u7684\u52a8\u4f5c\u662f\u6761\u4ef6\u5224\u65ad\uff1b\u5bf9\u4e8efor\u5faa\u73af\uff0c\u968f\u540e\u7684\u52a8\u4f5c\u662f\u53d8\u91cf\u66f4\u65b0\u3002","title":"6\u3001\u5173\u952e\u5b57break\u548ccontinue"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html","text":"\u5341\u4e5d\u3001js\u6570\u7ec4 \u4e00\u3001\u6570\u7ec4\u7684\u5b9a\u4e49\u4e0e\u6982\u8ff0 1\u3001\u6982\u8ff0 \u6570\u7ec4\u7684\u5b57\u9762\u610f\u601d\u5c31\u662f\u4e00\u7ec4\u6570\u636e\uff0c\u4e00\u7ec4(\u4e00\u822c\u60c5\u51b5\u4e0b\u76f8\u540c\u7c7b\u578b)\u7684\u6570\u636e\uff08\u4e0d\u4e00\u5b9a\u90fd\u662f\u6570\u5b57\uff09 \u6570\u7ec4\u7684\u4f5c\u7528\u662f\uff1a\u4f7f\u7528\u5355\u72ec\u7684\u53d8\u91cf\u540d\u6765\u5b58\u50a8\u4e00\u7cfb\u5217\u7684\u503c\u3002 2\u3001\u6570\u7ec4\u7684\u5b9a\u4e49 new Array\uff08\u53c2\u6570\uff0c\u53c2\u6570,...\uff09: \u53ea\u6709\u4e00\u4e2a\u6570\u5b57\u53c2\u6570\u65f6\u662f\u6570\u7ec4\u7684\u957f\u5ea6\uff08new\u53ef\u4ee5\u7701\u7565,\u4f46\u4e00\u822c\u5c3d\u91cf\u5199\u4e0a\uff09 javascript var arr = new Array(); //\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u6570\u7ec4 // \u5b9a\u4e49\u957f\u5ea6\u4e3a10 \u7684\u6570\u7ec4 var arr = new Array(10); //\u521b\u5efa\u4e00\u4e2a\u5305\u542b 10 \u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u6ca1\u6709\u8d4b\u503c var name=new Array(3) name[0]=\"\u8fea\u4e3d\u70ed\u5df4\" name[1]=\"\u5218\u4ea6\u83f2\" name[2]=\"Lucky\" \u521b\u5efa\u5e26\u503c\u7684\u6570\u7ec4 javascript var arr1 = new Array(\"Lucky\",30); //\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\u6709\u4e24\u4e2a\u5143\u7d20 \u5b57\u9762\u91cf\u5b9a\u4e49\u65b9\u5f0f javascript var arr2 = [1,2,3,4,5]; //\u5b57\u9762\u91cf\u5b9a\u4e49\u65b9\u5f0f \u5feb\u6377\u5b9a\u4e49\u4e8c\u7ef4\u6570\u7ec4 javascript var arr3 = [['a','b','c','d'],'b','c','d']; //\u5feb\u6377\u5b9a\u4e49\u4e8c\u7ef4\u6570\u7ec4 console.log(arr3[0][0]) \u200b \u4e8c\u3001\u6570\u7ec4\u7684\u8bbf\u95ee 1\u3001\u6570\u7ec4\u7684\u4e0b\u6807 \u4e0b\u6807\u5c31\u662f\u7d22\u5f15\uff0c\u5373\u5143\u7d20\u7684\u5e8f\u53f7\uff0c\u4ece0\u5f00\u59cb\uff0c\u4e0b\u6807\u6700\u5927\u53d6\u503c\u662f\uff1a\u6570\u7ec4\u7684\u957f\u5ea6(length)-1\uff1b \u4e0b\u6807\u53ef\u4ee5\u662f\u53d8\u91cf\u6216\u8868\u8fbe\u5f0f\u3002 2\u3001\u4f7f\u7528\u6570\u7ec4\u5143\u7d20\uff08\u8bbf\u95ee\uff09 arr3[0]:\u8868\u793a\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c0\u662f\u4e0b\u6807\uff0c\u4e5f\u53eb\u7d22\u5f15 arr[1]:\u8868\u793a\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c1\u662f\u4e0b\u6807 3\u3001\u6570\u7ec4\u7684\u957f\u5ea6\uff08length\u5c5e\u6027\uff09 \u6570\u7ec4\u5143\u7d20\u7684\u4e2a\u6570 arr.length length\u5c5e\u6027,\u4e0d\u6b62\u662f\u53ea\u8bfb\u7684\uff0c\u53ef\u4ee5\u8bbe\u7f6e javascript var colors = new Array(\"red\", \"blue\", \"green\"); colors.length = 2; colors[2]; \u6ce8\u610f \u5982\u679c\u8bbe\u7f6e\u7684length\u7684\u957f\u5ea6\u5927\u4e8e\u539f\u6709\u957f\u5ea6 \u5219\u4f7f\u7528empty\u6765\u5360\u4f4d \u5982\u679c\u8bbe\u7f6e\u7684length\u7684\u957f\u5ea6\u5c0f\u4e8e\u539f\u6709\u957f\u5ea6 \u5219\u4f1a\u5c06\u5c0f\u4e8e\u957f\u5ea6\u4e2a\u6570\u7684\u5143\u7d20\u5220\u9664\u6389 \u4e09\u3001\u6570\u7ec4\u7684\u4f7f\u7528\u4e0e\u5e38\u7528\u65b9\u6cd5 1\u3001\u6570\u7ec4\u7684\u8d4b\u503c \u6982\u8ff0 \u7ed9\u6570\u7ec4\u8d4b\u503c\uff0c\u5c31\u662f\u7ed9\u6570\u7ec4\u7684\u5143\u7d20\u8d4b\u503c\uff0c\u9700\u8981\u901a\u8fc7\u7ed9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u4e00\u4e00\u8d4b\u503c\uff0c \u5b9e\u4f8b ```javascript arr[0] = 20; //\u8ba9\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u503c\u4e3a20\uff1b arr[1] =12; //\u8ba9\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u5143\u7d20\u7684\u503c\u4e3a12\uff1b ``` \u4ee5\u4e0b\u4e3a\u901a\u8fc7\u5faa\u73af\u7ed9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u8d4b\u503c\uff0c\u8d4b\u6210\u4e0b\u6807\u7684\u5e73\u65b9\u3002 javascript for(var i=0;i<10;i++){ arr[i] = i*i } \u4ee5\u4e0b\u4e3a\u901a\u8fc7\u5faa\u73af\u7ed9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u8d4b\u503c\uff0c\u968f\u673a\u6570:Math.random() javascript for(var i=0;i<10;i++){ arr[i] = Math.random(); } 2\u3001\u4f7f\u7528 \u6982\u8ff0 \u4e0d\u80fd\u4e00\u6b21\u4f7f\u7528\u6574\u4e2a\u6570\u7ec4\uff0c\u4f7f\u7528\u6570\u7ec4\u5c31\u662f\u5728\u4f7f\u7528\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u56e0\u4e3a\u6570\u7ec4\u76f8\u5f53\u4e8e\u82e5\u5e72\u4e2a\u76f8\u540c\u7c7b\u578b\u7684\u53d8\u91cf\u3002 \u904d\u5386\u6570\u7ec4\uff1a \u666e\u901afor\u5faa\u73af javascript for(var i=0;i<5;i++){ document.write(arr[i]); } for...in\u8bed\u53e5\u7528\u4e8e\u904d\u5386\u6570\u7ec4\u6216\u8005\u5bf9\u8c61\u7684\u5c5e\u6027\uff08\u5feb\u901f\u904d\u5386\uff09 javascript for(var i in arr){ document.write(arr[i]); } 3\u3001\u5e38\u7528\u65b9\u6cd5 push() \u53ef\u4ee5\u63a5\u6536\u4efb\u610f\u6570\u91cf\u7684\u53c2\u6570\uff0c\u628a\u5b83\u4eec\u9010\u4e2a\u6dfb\u52a0\u5230\u6570\u7ec4\u7684\u672b\u5c3e\uff0c\u5e76\u8fd4\u56de\u4fee\u6539\u540e\u6570\u7ec4\u7684\u957f\u5ea6\u3002 \u6570\u7ec4\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u4e14\u8fd4\u56de\u957f\u5ea6 alert(box.push('luckay')); **pop() ** \u4ece\u6570\u7ec4\u672b\u5c3e\u79fb\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u51cf\u5c11\u6570\u7ec4\u7684 length \u503c\uff0c\u7136\u540e\u8fd4\u56de\u79fb\u9664\u7684\u5143\u7d20\u3002 \u79fb\u9664\u6570\u7ec4\u672b\u5c3e\u5143\u7d20,\u5e76\u8fd4\u56de\u79fb\u9664\u7684\u5143\u7d20 box.pop() shift() \u4ece\u6570\u7ec4\u524d\u7aef\u79fb\u9664\u4e00\u4e2a\u5143\u7d20 alert(box.shift()); \u79fb\u9664\u6570\u7ec4\u5f00\u5934\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u79fb\u9664\u7684\u5143\u7d20 unshift() \u4ece\u6570\u7ec4\u524d\u7aef\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u3002 alert(box.unshift('\u5e7f\u4e1c','\u6df1\u5733')); \u6570\u7ec4\u5f00\u5934\u6dfb\u52a0\u4e24\u4e2a\u5143\u7d20 reverse() \u9006\u5411\u6392\u5e8f,\u539f\u6570\u7ec4\u4e5f\u88ab\u9006\u5411\u6392\u5e8f\u4e86 javascript var box = [1,2,3,4,5]; alert(box.reverse()); //\u9006\u5411\u6392\u5e8f\u65b9\u6cd5\uff0c\u8fd4\u56de\u6392\u5e8f\u540e\u7684\u6570\u7ec4 alert(box); sort() \u4ece\u5c0f\u5230\u5927\u6392\u5e8f , \u539f\u6570\u7ec4\u4e5f\u88ab\u5347\u5e8f\u6392\u5e8f\u4e86 javascript var box = [4,1,7,3,9,2]; alert(box.sort()); //\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u8fd4\u56de\u6392\u5e8f\u540e\u7684\u6570\u7ec4 alert(box); concat() \u8ffd\u52a0\u6570\u636e, \u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4, \u4e0d\u6539\u53d8\u539f\u6570\u7ec4 javascript var box = [2, 3, 4, '\u7eff\u7bad\u4fa0', '\u9ed1\u5be1\u5987']; var box2 = box.concat('\u7f8e\u961f', '\u96f7\u795e'); alert(box); alert(box2); // \u7c7b\u578b\u4f9d\u7136\u4e3a\u6570\u7ec4 var box2 = box+[5,6] // \u4e3a\u5b57\u7b26\u4e32\u7684\u8fde\u63a5 \u5b57\u7b26\u4e32\u7c7b\u578b slice() \u4e0d\u4fee\u6539\u539f\u6570\u7ec4, \u5c06\u539f\u6570\u7ec4\u4e2d\u7684\u6307\u5b9a\u533a\u57df\u6570\u636e\u63d0\u53d6\u51fa\u6765 javascript var box = [2, 3, 4, \"\u7eff\u5de8\u4eba\"]; var box2 = box.slice(1, 3); //\u5e76\u6ca1\u6709\u4fee\u6539\u539f\u6570\u7ec4,\u5c06\u539f\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u63d0\u53d6\u51fa\u6765,\u751f\u6210\u65b0\u6570\u7ec4,\u53d6\u7684\u662f\u4e0b\u6807\u5728\u533a\u57df: [1,3) alert(box); alert(box2); box.join() \u7528\u6570\u7ec4\u7684\u5143\u7d20\u7ec4\u6210\u5b57\u7b26\u4e32 javascript var box = [1, 2, 3, 4]; console.log(box.join()); // 1,2,3,4 \u62fc\u63a5\u6210\u5b57\u7b26\u4e32\u7528 \u9ed8\u8ba4\u7528\u9017\u53f7\u4f5c\u4e3a\u5206\u9694 console.log(box.join('-')); // 1-2-3-4 \u62fc\u63a5\u6210\u5b57\u7b26\u4e32\u7528-\u4f5c\u4e3a\u503c\u5f97\u5206\u9694 Array.map() \u5bf9\u4e8e\u6bcf\u4e2a\u503c\u8fdb\u884c\u5904\u7406\u5e76\u8fd4\u56de\u5904\u7406\u540e\u7684\u503c\u4f5c\u4e3a\u65b0\u6570\u7ec4\u4e2d\u7684\u5143\u7d20 javascript var numbers = [4, 9, 16, 25]; new_numbers = numbers.map(function(v){ return v + 10 }); // [14, 19, 26, 35] \u5192\u6ce1\u6392\u5e8f(\u4e86\u89e3) javascript //\u5192\u6ce1\u6392\u5e8f var arr = [1,4,2,7,3,5]; for(var i=0;i<arr.length-1;i++){ for(var j=0;j<arr.length-1-i;j++){ if(arr[j]>arr[j+1]){ var max = arr[j]; arr[j] = arr[j+1]; arr[j+1] = max; } } } console.log(arr);","title":"\u5341\u4e5d\u3001js\u6570\u7ec4"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#js","text":"","title":"\u5341\u4e5d\u3001js\u6570\u7ec4"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#_1","text":"","title":"\u4e00\u3001\u6570\u7ec4\u7684\u5b9a\u4e49\u4e0e\u6982\u8ff0"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#1","text":"\u6570\u7ec4\u7684\u5b57\u9762\u610f\u601d\u5c31\u662f\u4e00\u7ec4\u6570\u636e\uff0c\u4e00\u7ec4(\u4e00\u822c\u60c5\u51b5\u4e0b\u76f8\u540c\u7c7b\u578b)\u7684\u6570\u636e\uff08\u4e0d\u4e00\u5b9a\u90fd\u662f\u6570\u5b57\uff09 \u6570\u7ec4\u7684\u4f5c\u7528\u662f\uff1a\u4f7f\u7528\u5355\u72ec\u7684\u53d8\u91cf\u540d\u6765\u5b58\u50a8\u4e00\u7cfb\u5217\u7684\u503c\u3002","title":"1\u3001\u6982\u8ff0"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#2","text":"new Array\uff08\u53c2\u6570\uff0c\u53c2\u6570,...\uff09: \u53ea\u6709\u4e00\u4e2a\u6570\u5b57\u53c2\u6570\u65f6\u662f\u6570\u7ec4\u7684\u957f\u5ea6\uff08new\u53ef\u4ee5\u7701\u7565,\u4f46\u4e00\u822c\u5c3d\u91cf\u5199\u4e0a\uff09 javascript var arr = new Array(); //\u5b9a\u4e49\u4e00\u4e2a\u7a7a\u6570\u7ec4 // \u5b9a\u4e49\u957f\u5ea6\u4e3a10 \u7684\u6570\u7ec4 var arr = new Array(10); //\u521b\u5efa\u4e00\u4e2a\u5305\u542b 10 \u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u6ca1\u6709\u8d4b\u503c var name=new Array(3) name[0]=\"\u8fea\u4e3d\u70ed\u5df4\" name[1]=\"\u5218\u4ea6\u83f2\" name[2]=\"Lucky\" \u521b\u5efa\u5e26\u503c\u7684\u6570\u7ec4 javascript var arr1 = new Array(\"Lucky\",30); //\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\u6709\u4e24\u4e2a\u5143\u7d20 \u5b57\u9762\u91cf\u5b9a\u4e49\u65b9\u5f0f javascript var arr2 = [1,2,3,4,5]; //\u5b57\u9762\u91cf\u5b9a\u4e49\u65b9\u5f0f \u5feb\u6377\u5b9a\u4e49\u4e8c\u7ef4\u6570\u7ec4 javascript var arr3 = [['a','b','c','d'],'b','c','d']; //\u5feb\u6377\u5b9a\u4e49\u4e8c\u7ef4\u6570\u7ec4 console.log(arr3[0][0]) \u200b","title":"2\u3001\u6570\u7ec4\u7684\u5b9a\u4e49"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#_2","text":"","title":"\u4e8c\u3001\u6570\u7ec4\u7684\u8bbf\u95ee"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#1_1","text":"\u4e0b\u6807\u5c31\u662f\u7d22\u5f15\uff0c\u5373\u5143\u7d20\u7684\u5e8f\u53f7\uff0c\u4ece0\u5f00\u59cb\uff0c\u4e0b\u6807\u6700\u5927\u53d6\u503c\u662f\uff1a\u6570\u7ec4\u7684\u957f\u5ea6(length)-1\uff1b \u4e0b\u6807\u53ef\u4ee5\u662f\u53d8\u91cf\u6216\u8868\u8fbe\u5f0f\u3002","title":"1\u3001\u6570\u7ec4\u7684\u4e0b\u6807"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#2_1","text":"arr3[0]:\u8868\u793a\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c0\u662f\u4e0b\u6807\uff0c\u4e5f\u53eb\u7d22\u5f15 arr[1]:\u8868\u793a\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c1\u662f\u4e0b\u6807","title":"2\u3001\u4f7f\u7528\u6570\u7ec4\u5143\u7d20\uff08\u8bbf\u95ee\uff09"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#3length","text":"\u6570\u7ec4\u5143\u7d20\u7684\u4e2a\u6570 arr.length length\u5c5e\u6027,\u4e0d\u6b62\u662f\u53ea\u8bfb\u7684\uff0c\u53ef\u4ee5\u8bbe\u7f6e javascript var colors = new Array(\"red\", \"blue\", \"green\"); colors.length = 2; colors[2]; \u6ce8\u610f \u5982\u679c\u8bbe\u7f6e\u7684length\u7684\u957f\u5ea6\u5927\u4e8e\u539f\u6709\u957f\u5ea6 \u5219\u4f7f\u7528empty\u6765\u5360\u4f4d \u5982\u679c\u8bbe\u7f6e\u7684length\u7684\u957f\u5ea6\u5c0f\u4e8e\u539f\u6709\u957f\u5ea6 \u5219\u4f1a\u5c06\u5c0f\u4e8e\u957f\u5ea6\u4e2a\u6570\u7684\u5143\u7d20\u5220\u9664\u6389","title":"3\u3001\u6570\u7ec4\u7684\u957f\u5ea6\uff08length\u5c5e\u6027\uff09"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#_3","text":"","title":"\u4e09\u3001\u6570\u7ec4\u7684\u4f7f\u7528\u4e0e\u5e38\u7528\u65b9\u6cd5"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#1_2","text":"\u6982\u8ff0 \u7ed9\u6570\u7ec4\u8d4b\u503c\uff0c\u5c31\u662f\u7ed9\u6570\u7ec4\u7684\u5143\u7d20\u8d4b\u503c\uff0c\u9700\u8981\u901a\u8fc7\u7ed9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u4e00\u4e00\u8d4b\u503c\uff0c \u5b9e\u4f8b ```javascript arr[0] = 20; //\u8ba9\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u503c\u4e3a20\uff1b arr[1] =12; //\u8ba9\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u5143\u7d20\u7684\u503c\u4e3a12\uff1b ``` \u4ee5\u4e0b\u4e3a\u901a\u8fc7\u5faa\u73af\u7ed9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u8d4b\u503c\uff0c\u8d4b\u6210\u4e0b\u6807\u7684\u5e73\u65b9\u3002 javascript for(var i=0;i<10;i++){ arr[i] = i*i } \u4ee5\u4e0b\u4e3a\u901a\u8fc7\u5faa\u73af\u7ed9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u8d4b\u503c\uff0c\u968f\u673a\u6570:Math.random() javascript for(var i=0;i<10;i++){ arr[i] = Math.random(); }","title":"1\u3001\u6570\u7ec4\u7684\u8d4b\u503c"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#2_2","text":"\u6982\u8ff0 \u4e0d\u80fd\u4e00\u6b21\u4f7f\u7528\u6574\u4e2a\u6570\u7ec4\uff0c\u4f7f\u7528\u6570\u7ec4\u5c31\u662f\u5728\u4f7f\u7528\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u56e0\u4e3a\u6570\u7ec4\u76f8\u5f53\u4e8e\u82e5\u5e72\u4e2a\u76f8\u540c\u7c7b\u578b\u7684\u53d8\u91cf\u3002 \u904d\u5386\u6570\u7ec4\uff1a \u666e\u901afor\u5faa\u73af javascript for(var i=0;i<5;i++){ document.write(arr[i]); } for...in\u8bed\u53e5\u7528\u4e8e\u904d\u5386\u6570\u7ec4\u6216\u8005\u5bf9\u8c61\u7684\u5c5e\u6027\uff08\u5feb\u901f\u904d\u5386\uff09 javascript for(var i in arr){ document.write(arr[i]); }","title":"2\u3001\u4f7f\u7528"},{"location":"19%E3%80%81js%E6%95%B0%E7%BB%84.html#3","text":"push() \u53ef\u4ee5\u63a5\u6536\u4efb\u610f\u6570\u91cf\u7684\u53c2\u6570\uff0c\u628a\u5b83\u4eec\u9010\u4e2a\u6dfb\u52a0\u5230\u6570\u7ec4\u7684\u672b\u5c3e\uff0c\u5e76\u8fd4\u56de\u4fee\u6539\u540e\u6570\u7ec4\u7684\u957f\u5ea6\u3002 \u6570\u7ec4\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u4e14\u8fd4\u56de\u957f\u5ea6 alert(box.push('luckay')); **pop() ** \u4ece\u6570\u7ec4\u672b\u5c3e\u79fb\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u51cf\u5c11\u6570\u7ec4\u7684 length \u503c\uff0c\u7136\u540e\u8fd4\u56de\u79fb\u9664\u7684\u5143\u7d20\u3002 \u79fb\u9664\u6570\u7ec4\u672b\u5c3e\u5143\u7d20,\u5e76\u8fd4\u56de\u79fb\u9664\u7684\u5143\u7d20 box.pop() shift() \u4ece\u6570\u7ec4\u524d\u7aef\u79fb\u9664\u4e00\u4e2a\u5143\u7d20 alert(box.shift()); \u79fb\u9664\u6570\u7ec4\u5f00\u5934\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u79fb\u9664\u7684\u5143\u7d20 unshift() \u4ece\u6570\u7ec4\u524d\u7aef\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u3002 alert(box.unshift('\u5e7f\u4e1c','\u6df1\u5733')); \u6570\u7ec4\u5f00\u5934\u6dfb\u52a0\u4e24\u4e2a\u5143\u7d20 reverse() \u9006\u5411\u6392\u5e8f,\u539f\u6570\u7ec4\u4e5f\u88ab\u9006\u5411\u6392\u5e8f\u4e86 javascript var box = [1,2,3,4,5]; alert(box.reverse()); //\u9006\u5411\u6392\u5e8f\u65b9\u6cd5\uff0c\u8fd4\u56de\u6392\u5e8f\u540e\u7684\u6570\u7ec4 alert(box); sort() \u4ece\u5c0f\u5230\u5927\u6392\u5e8f , \u539f\u6570\u7ec4\u4e5f\u88ab\u5347\u5e8f\u6392\u5e8f\u4e86 javascript var box = [4,1,7,3,9,2]; alert(box.sort()); //\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u8fd4\u56de\u6392\u5e8f\u540e\u7684\u6570\u7ec4 alert(box); concat() \u8ffd\u52a0\u6570\u636e, \u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4, \u4e0d\u6539\u53d8\u539f\u6570\u7ec4 javascript var box = [2, 3, 4, '\u7eff\u7bad\u4fa0', '\u9ed1\u5be1\u5987']; var box2 = box.concat('\u7f8e\u961f', '\u96f7\u795e'); alert(box); alert(box2); // \u7c7b\u578b\u4f9d\u7136\u4e3a\u6570\u7ec4 var box2 = box+[5,6] // \u4e3a\u5b57\u7b26\u4e32\u7684\u8fde\u63a5 \u5b57\u7b26\u4e32\u7c7b\u578b slice() \u4e0d\u4fee\u6539\u539f\u6570\u7ec4, \u5c06\u539f\u6570\u7ec4\u4e2d\u7684\u6307\u5b9a\u533a\u57df\u6570\u636e\u63d0\u53d6\u51fa\u6765 javascript var box = [2, 3, 4, \"\u7eff\u5de8\u4eba\"]; var box2 = box.slice(1, 3); //\u5e76\u6ca1\u6709\u4fee\u6539\u539f\u6570\u7ec4,\u5c06\u539f\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u63d0\u53d6\u51fa\u6765,\u751f\u6210\u65b0\u6570\u7ec4,\u53d6\u7684\u662f\u4e0b\u6807\u5728\u533a\u57df: [1,3) alert(box); alert(box2); box.join() \u7528\u6570\u7ec4\u7684\u5143\u7d20\u7ec4\u6210\u5b57\u7b26\u4e32 javascript var box = [1, 2, 3, 4]; console.log(box.join()); // 1,2,3,4 \u62fc\u63a5\u6210\u5b57\u7b26\u4e32\u7528 \u9ed8\u8ba4\u7528\u9017\u53f7\u4f5c\u4e3a\u5206\u9694 console.log(box.join('-')); // 1-2-3-4 \u62fc\u63a5\u6210\u5b57\u7b26\u4e32\u7528-\u4f5c\u4e3a\u503c\u5f97\u5206\u9694 Array.map() \u5bf9\u4e8e\u6bcf\u4e2a\u503c\u8fdb\u884c\u5904\u7406\u5e76\u8fd4\u56de\u5904\u7406\u540e\u7684\u503c\u4f5c\u4e3a\u65b0\u6570\u7ec4\u4e2d\u7684\u5143\u7d20 javascript var numbers = [4, 9, 16, 25]; new_numbers = numbers.map(function(v){ return v + 10 }); // [14, 19, 26, 35] \u5192\u6ce1\u6392\u5e8f(\u4e86\u89e3) javascript //\u5192\u6ce1\u6392\u5e8f var arr = [1,4,2,7,3,5]; for(var i=0;i<arr.length-1;i++){ for(var j=0;j<arr.length-1-i;j++){ if(arr[j]>arr[j+1]){ var max = arr[j]; arr[j] = arr[j+1]; arr[j+1] = max; } } } console.log(arr);","title":"3\u3001\u5e38\u7528\u65b9\u6cd5"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html","text":"\u4e8c\u5341\u3001js\u5b57\u7b26\u4e32 \u4e00\u3001\u5b57\u7b26\u4e32\u7684\u5c5e\u6027 \u5b57\u7b26\u4e32\u7684\u5c5e\u6027 length : \u8868\u793a\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 \u4f8b\u5982 : javascript var str = \"howareyou\"; console.log(str.length); console.log(str[0]); //\u83b7\u53d6\u5b57\u7b26\u4e32\u4e2d\u5bf9\u5e94\u4e0b\u6807\u7684\u5b57\u7b26 \u6ce8\u610f : ECMAScript \u4e2d\u7684\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u53d8\u7684; \u4e5f\u5c31\u662f\u8bf4\uff0c\u5b57\u7b26\u4e32\u4e00\u65e6\u521b\u5efa\uff0c\u5b83\u4eec\u7684\u503c\u5c31\u4e0d\u80fd\u6539\u53d8. \u4f8b\u5982: javascript var str = \"\u4eb2,\u5305\u90ae\u54e6\"; str[0] = \"lucky\"; //\u4e0d\u4f1a\u6539\u53d8 \u5982\u679c\u8981\u6539\u53d8\u67d0\u4e2a\u53d8\u91cf\u4fdd\u5b58\u7684\u5b57\u7b26\u4e32\uff0c\u9996\u5148\u8981\u9500\u6bc1\u539f\u6765\u7684\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u518d\u7528\u53e6\u4e00\u4e2a\u5305\u542b\u65b0\u503c\u7684\u5b57\u7b26\u4e32\u586b\u5145\u8be5\u53d8\u91cf. javascript var str = \"Hello\"; str = str + \" world!\"; 1\u3001\u5b57\u7b26\u4e32\u4f7f\u7528 \u6982\u8ff0 \u5728js\u4e2d \u4f7f\u7528\u5355\u5f15\u53f7\u6216\u8005\u53cc\u5f15\u53f7\u7684\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b \u521b\u5efa var str = '' javascript var str = 'abcefg' console.log(typeof str); console.log(str.length); \u5c5e\u6027 length \u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 javascript var str = 'abcefg' console.log(str.length); \u5bf9\u4e8e\u5b57\u7b26\u4e32 length\u53ea\u53ef\u4ee5\u83b7\u53d6\u957f\u5ea6\u4e0d\u80fd\u66f4\u6539\u957f\u5ea6 \u8bfb\u53d6 str[\u7d22\u5f15\u503c] javascript console.log(str[0]); \u6ce8\u610f\uff1a \u5b57\u7b26\u4e32\u7d22\u5f15\u6240\u5bf9\u5e94\u7684\u503c\u53ea\u80fd\u83b7\u53d6 \u4e0d\u80fd\u66f4\u6539 2\u3001\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\u5316 \u4f7f\u7528\u53cd\u5f15\u53f7\u5b9e\u73b0 ES6 \u6a21\u677f\u5b57\u7b26\u4e32(Template String)\u662f\u589e\u5f3a\u7248\u7684\u5b57\u7b26\u4e32\uff0c\u7528\u53cd\u5f15\u53f7(`)\u6807\u8bc6\uff0c\u5b83\u53ef\u4ee5\u5f53\u4f5c\u666e\u901a\u5b57\u7b26\u4e32\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u5b9a\u4e49\u591a\u884c\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u5728\u5b57\u7b26\u4e32\u4e2d\u5d4c\u5165\u53d8\u91cf\u3002 \u8bed\u6cd5\u683c\u5f0f\uff1a `\u60f3\u8981\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u2026\u2026${\u53d8\u91cf\u540d\u79f0}\u60f3\u8981\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u2026\u2026${\u53d8\u91cf\u540d\u79f0}` \u5b9e\u4f8b <script> window.onload = function() { var name = \"lucky\"; var age = 25; var sex = \"\u7537\"; console.log(`\u5927\u5bb6\u597d\uff0c\u6211\u53eb${name}\uff0c\u6027\u522b${sex},\u4eca\u5e74${age}\u5c81\u4e86`); } </script> 3\u3001\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5 \u5b57\u7b26\u4e32\u7684\u65b9\u6cd5(\u51fd\u6570) var str = 'abcd'; str.charAt(3) \u83b7\u53d6\u4e0b\u6807\u4e3a3\u7684\u5b57\u7b26 str.charCodeAt(3) \u83b7\u53d6\u4e0b\u6807\u4e3a3\u7684\u5b57\u7b26\u7684\u7f16\u7801(ASCII\u7801) String.fromCharCode(94) ASCII\u7f16\u7801\u8f6c\u6362\u6210\u5b57\u7b26 \u8be5\u65b9\u6cd5\u662fString\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u6240\u4ee5\u7528String\u8c03\u7528\uff0c \u5982\uff1avar str = String.fromCharCode(98,99); //\u53ef\u4f20\u5165\u591a\u4e2a\u53c2\u6570 ASCII\uff08AmericanStandard Code for Information Interchange\uff0c\u7f8e\u56fd\u6807\u51c6\u4fe1\u606f\u4ea4\u6362\u4ee3\u7801\uff09 str.concat() \u8fde\u63a5\u5b57\u7b26\u4e32 \u4f8b\u5982: ```javascript var str1 = \"hello\"; var str2 = str1.concat(\" world\"); ``` \u5b57\u7b26\u4e32\u7684\u67e5\u627e\u65b9\u6cd5 str.indexOf(\"abc\") \u67e5\u627e\u5b57\u7b26\u4e32\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e,\u5982\u679c\u6ca1\u627e\u5230\u5219\u8fd4\u56de-1 \u4f8b\u5982: python var str = \"abcdabcd\"; var subStr = \"bcd\"; var index = str.indexOf(subStr); str.lastIndexOf(\"abc\") \u67e5\u627e\u5b57\u7b26\u4e32\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e,\u5982\u679c\u6ca1\u627e\u5230\u5219\u8fd4\u56de-1 \u4f8b\u5982: var index = str.lastIndexOf(\"abc\"); str.search(); \u6b63\u5219\u5339\u914d(\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e) \u4f8b\u5982: javascript var str = \"Abcdabcd\"; var index = str.search(/abc/ig); \u6ce8: g\u8868\u793a\u8fdb\u884c\u5168\u5c40\u5339\u914d\uff0ci\u8868\u793a\u5339\u914d\u7684\u65f6\u5019\u5ffd\u7565\u5927\u5c0f\u5199 str.replace() \u66ff\u6362\u5b57\u7b26\u4e32 \u4f8b\u5982: javascript var str = \"how are Are are you!\"; //\u66ff\u6362\u4e00\u6b21 var newStr = str.replace(\"are\", \"old are\"); //\u66ff\u6362\u591a\u6b21 var newStr = str.replace(/are/g, \"x\"); console.log(newStr) \u8fd9\u91cc\u7684\u66ff\u6362\u53ea\u80fd\u6267\u884c\u4e00\u6b21\uff0c\u4e0d\u80fd\u591f\u8fdb\u884c\u5168\u5c40\u5339\u914d\uff0c\u5982\u679c\u9700\u8981\u5168\u5c40\u5339\u914d\uff0c\u5219\u5e94\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f str.substring(start,end) \u622a\u53d6\u5b57\u7b26\u4e32\u8303\u56f4\u662f[start,end) \u4f8b\u5982: javascript var str= \"Helloworld!\"; console.log(str.substring(2,5)); \u6ce8:\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570, \u5219\u8868\u793a\u5230\u5b57\u7b26\u4e32\u6700\u540e \u4e0d\u5305\u542bend str.split(separator, howmany) \u6839\u636e\u5206\u9694\u7b26\u3001\u62c6\u5206\u6210\u6570\u7ec4 separator(\u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f) howmany(\u53ef\u4ee5\u6307\u5b9a\u8fd4\u56de\u7684\u6570\u7ec4\u7684\u6700\u5927\u957f\u5ea6,\u53ef\u4ee5\u7701\u7565) javascript var str= \"Helloworld!\"; console.log(str.split('')); \u6ce8:\u5982\u679c\u7a7a\u5b57\u7b26\u4e32(\"\")\u7528\u4f5cseparator,\u90a3\u4e48stringObject\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\u4e4b\u95f4\u90fd\u4f1a\u88ab\u5206\u5272\u3002 \u5927\u5c0f\u5199\u8f6c\u6362 str.toLowerCase() \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5c0f\u5199 str.toUpperCase() \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5927\u5199 \u5728\u7f51\u9875\u9006\u5411\u4e2d 4\u3001 \u6df7\u6dc6\u6848\u4f8b \u793a\u4f8b\u4e00 javascript var H = function (t, e) { for (var n = e['slice'](-2), r = [], i = 0; i < n['length']; i++) { var o = n['charCodeAt'](i); r[i] = 57 < o ? o - 87 : o - 48; } n = 36 * r[0] + r[1]; var s, a = Math['round'](t) + n, _ = [[], [], [], [], []], c = {}, u = 0; i = 0; \u793a\u4f8b\u4e8c ```javascript // \u539f\u59cb\u5b57\u7b26\u4e32 var originalString = \"Hello, World!\"; // \u5c06\u6bcf\u4e2a\u5b57\u7b26\u7684 Unicode \u503c\u4fdd\u5b58\u5728\u6570\u7ec4\u4e2d var charCodes = []; for (var i = 0; i < originalString.length; i++) { charCodes.push(originalString.charCodeAt(i)); } // \u4f7f\u7528 String.fromCharCode\u5c06\u6570\u7ec4\u8f6c\u6362\u56de\u5b57\u7b26\u4e32 var obfuscatedString = String.fromCharCode(...charCodes); console.log(obfuscatedString); ``` \u6269\u5c55\u8fd0\u7b97\u7b26 \uff1a\u8fd9\u79cd\u7528\u6cd5\u901a\u5e38\u7528\u4e8e\u52a8\u6001\u5730\u5c06\u5b57\u7b26\u7801\u6570\u7ec4\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u7279\u522b\u662f\u5f53\u5b57\u7b26\u7801\u7684\u6570\u91cf\u4e0d\u786e\u5b9a\u6216\u52a8\u6001\u751f\u6210\u65f6\u3002\u5728\u73b0\u4ee3 JavaScript \u4e2d\uff0c\u66f4\u5e38\u89c1\u7684\u662f\u4f7f\u7528\u6269\u5c55\u8fd0\u7b97\u7b26\uff08 ... \uff09\u6765\u8fbe\u5230\u76f8\u540c \u793a\u4f8b\u4e09 \uff08\u91cd\u5ea6\u6df7\u6dc6\uff09 \u5728\u7ebfeval\uff1a http://tools.jb51.net/password/evalencode javascript eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('1.4(\\'5 3 0 2 6\\')',62,7,'a|console|good|is|log|lucky|man'.split('|'),0,{})) \u4e8c\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6982\u5ff5 1\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u4fee\u9970\u7b26 \u4fee\u9970\u7b26 \u53ef\u4ee5\u5728\u5168\u5c40\u641c\u7d22\u4e2d\u4e0d\u533a\u5206\u5927\u5c0f\u5199: \u4fee\u9970\u7b26 \u63cf\u8ff0 i \u6267\u884c\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u5339\u914d\u3002 g \u6267\u884c\u5168\u5c40\u5339\u914d\uff08\u67e5\u627e\u6240\u6709\u5339\u914d\u800c\u975e\u5728\u627e\u5230\u7b2c\u4e00\u4e2a\u5339\u914d\u540e\u505c\u6b62\uff09\u3002 m \u6267\u884c\u591a\u884c\u5339\u914d\u3002 2\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f \u65b9\u62ec\u53f7\u7528\u4e8e\u67e5\u627e\u67d0\u4e2a\u8303\u56f4\u5185\u7684\u5b57\u7b26\uff1a \u8868\u8fbe\u5f0f \u63cf\u8ff0 [abc] \u67e5\u627e\u65b9\u62ec\u53f7\u4e4b\u95f4\u7684\u4efb\u4f55\u5b57\u7b26\u3002 [0-9] \u67e5\u627e\u4efb\u4f55\u4ece 0 \u81f3 9 \u7684\u6570\u5b57\u3002 (x|y) \u67e5\u627e\u4efb\u4f55\u4ee5 | \u5206\u9694\u7684\u9009\u9879\u3002 3\u3001\u5143\u5b57\u7b26 \u6982\u8ff0 \u5143\u5b57\u7b26\u662f\u62e5\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5b57\u7b26\uff1a \u5143\u5b57\u7b26 \u63cf\u8ff0 \\d \u67e5\u627e\u6570\u5b57\u3002 \\D \u975e\u6570\u5b57 \\w \u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf \\W \u975e\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf \\s \u67e5\u627e\u7a7a\u767d\u5b57\u7b26\u3002 \\b \u5339\u914d\u5355\u8bcd\u8fb9\u754c\u3002 \\uxxxx \u67e5\u627e\u4ee5\u5341\u516d\u8fdb\u5236\u6570 xxxx \u89c4\u5b9a\u7684 Unicode \u5b57\u7b26\u3002 \u4e2d\u6587\u7684 Unicode \u8303\u56f4\u901a\u5e38\u662f \\u4e00-\\u9fa5 \uff0c\u5305\u62ec\u4e86\u5e38\u7528\u7684\u6c49\u5b57\u3002 // \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u4e2d\u6587\u5b57\u7b26 var chineseCharacters = \"\u4f60\u597d\uff0c\u4e16\u754c\uff01\"; var chineseRegex = /[\\u4e00-\\u9fa5]/g; var result = chineseCharacters.match(chineseRegex); console.log(result); // \u8f93\u51fa: [\"\u4f60\", \"\u597d\", \"\u4e16\", \"\u754c\"] 4\u3001\u91cf\u8bcd \u91cf\u8bcd \u63cf\u8ff0 n+ \u5339\u914d\u4efb\u4f55\u5305\u542b\u81f3\u5c11\u4e00\u4e2a n \u7684\u5b57\u7b26\u4e32\u3002 n* \u5339\u914d\u4efb\u4f55\u5305\u542b\u96f6\u4e2a\u6216\u591a\u4e2a n \u7684\u5b57\u7b26\u4e32\u3002 n? \u5339\u914d\u4efb\u4f55\u5305\u542b\u96f6\u4e2a\u6216\u4e00\u4e2a n \u7684\u5b57\u7b26\u4e32\u3002 5\u3001\u65b9\u6cd5 match \u65b9\u6cd5 \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u5bf9\u5b57\u7b26\u4e32\u6267\u884c\u67e5\u627e\uff0c\u5e76\u5c06\u5305\u542b\u67e5\u627e\u7684\u7ed3\u679c\u4f5c\u4e3a\u6570\u7ec4\u8fd4\u56de\u3002 stringObj.match(rgExp) \u53c2\u6570 stringObj \u5fc5\u9009\u9879\u3002\u5bf9\u5176\u8fdb\u884c\u67e5\u627e\u7684 String \u5bf9\u8c61\u6216\u5b57\u7b26\u4e32\u6587\u5b57\u3002 rgExp \u5fc5\u9009\u9879\u3002\u4e3a\u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u548c\u53ef\u7528\u6807\u5fd7\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u3002\u4e5f\u53ef\u4ee5\u662f\u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u548c\u53ef\u7528\u6807\u5fd7\u7684\u53d8\u91cf\u540d\u6216\u5b57\u7b26\u4e32\u6587\u5b57\u3002 \u5176\u4f59\u8bf4\u660e\u4e0eexec\u4e00\u6837\uff0c\u4e0d\u540c\u7684\u662f\u5982\u679cmatch\u7684\u8868\u8fbe\u5f0f\u5339\u914d\u4e86\u5168\u5c40\u6807\u8bb0g\u5c06\u51fa\u73b0\u6240\u6709\u5339\u914d\u9879\uff0c\u800c\u4e0d\u7528\u5faa\u73af\uff0c\u4f46\u6240\u6709\u5339\u914d\u4e2d\u4e0d\u4f1a\u5305\u542b\u5b50\u5339\u914d\u9879\u3002 \u5b9e\u4f8b ```javascript var str=\"Hello world!\" document.write(str.match(\"world\") + \" \") document.write(str.match(\"World\") + \" \") document.write(str.match(\"worlld\") + \" \") document.write(str.match(\"world!\")) document.write(str.match(\"[a-z]{5}\") + \" \") \u8f93\u51fa\uff1a world null null world! world var str=\"1 plus 2 equal 3\" console.log(str.match(/\\d+/g)) // [1,2,3] ``` exec \u65b9\u6cd5 \u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u65b9\u6cd5\u3002 \u8be5\u65b9\u6cd5\u7528\u4e8e\u68c0\u7d22\u5b57\u7b26\u4e32\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u3002 \u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5176\u4e2d\u5b58\u653e\u5339\u914d\u7684\u7ed3\u679c\u3002\u5982\u679c\u672a\u627e\u5230\u5339\u914d\uff0c\u5219\u8fd4\u56de\u503c\u4e3a null\u3002 rgExp.exec(str) \u5b9e\u4f8b javascript /e/.exec(\"The best things in life are free!\"); /[a-z]/i.exec(\"The best things in life are free!\"); test \u65b9\u6cd5 test() \u65b9\u6cd5\u7528\u4e8e\u68c0\u6d4b\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u67d0\u4e2a\u6a21\u5f0f\uff0c\u5982\u679c\u5b57\u7b26\u4e32\u4e2d\u542b\u6709\u5339\u914d\u7684\u6587\u672c\uff0c\u5219\u8fd4\u56de true\uff0c\u5426\u5219\u8fd4\u56de false\u3002 rgexp.test(str) \u5b9e\u4f8b ```javascript var patt = /e/; patt.test(\"The best things in life are free!\"); /^1[3-8][0-9]{9}$/.test('15611833906') ``` search \u65b9\u6cd5 search \u65b9\u6cd5\u53ef\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\u3002\u5b57\u7b26\u4e32\u53c2\u6570\u4f1a\u8f6c\u6362\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a \u8fd4\u56de\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u67e5\u627e\u5185\u5bb9\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5b50\u5b57\u7b26\u4e32\u7684\u4f4d\u7f6e\uff08\u504f\u79fb\u4f4d\uff09\u3002 stringObj.search(rgExp) \u5b9e\u4f8b javascript var str=\"Visit lucky!\" document.write(str.search(/lucky/i)) replace \u65b9\u6cd5 \u8fd4\u56de\u6839\u636e\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u6587\u5b57\u66ff\u6362\u540e\u7684\u5b57\u7b26\u4e32\u7684\u590d\u5236\u3002 stringObj.replace(rgExp, replaceText) \u5b9e\u4f8b javascript <p>\u66ff\u6362 \"\u5f20\u4e09\" \u4e3a \"lucky\" :</p> <button onclick=\"myFunction()\">\u70b9\u6211</button> <p id=\"demo\">Visit \u5f20\u4e09!</p> <script> function myFunction() { var str = document.getElementById(\"demo\").innerHTML; var txt = str.replace(/\u5f20\u4e09/i,\"lucky\"); document.getElementById(\"demo\").innerHTML = txt; } </script> split \u65b9\u6cd5 \u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u5206\u5272\u4e3a\u5b50\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u8fd4\u56de\u3002 stringObj.split([separator[, limit]]) \u8bf4\u660e split \u65b9\u6cd5\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u5728 stingObj \u4e2d\u6bcf\u4e2a\u51fa\u73b0 separator \u7684\u4f4d\u7f6e\u90fd\u8981\u8fdb\u884c\u5206\u89e3\u3002separator \u4e0d\u4f5c\u4e3a\u4efb\u4f55\u6570\u7ec4\u5143\u7d20\u7684\u90e8\u5206\u8fd4\u56de\u3002 \u5b9e\u4f8b javascript '156118 339\\t06'.split(/\\s/) \u6b63\u5219\u5339\u914d\u5b9e\u4f8b ```javascript //.\u53f7\u5143\u5b57\u7b26, \u4ee3\u8868\u9664\u4e86\u6362\u884c\u4e4b\u5916\u7684\u6240\u6709\u5355\u4e2a\u5b57\u7b26 var pattern = /g..gle/; //\u4e00\u4e2a\u70b9.\u5339\u914d\u4e00\u4e2a\u4efb\u610f\u7684\u5b57\u7b26 var str = \"goagle\"; console.log(pattern.test(str)); // \u53f7\u5143\u5b57\u7b26, \u914d\u5408\u5176\u4ed6\u5b57\u7b26\u4f7f\u7528, \u5141\u8bb8\u5176\u4ed6\u5b57\u7b26\u51fa\u73b0\u4efb\u610f\u591a\u6b21 // \u91cd\u590d\u591a\u6b21\u5339\u914d, \u53ef\u4ee5\u51fa\u73b0\u4efb\u610f\u6b21, var pattern = /g. gle/; //.* \u5339\u914d0\u5230\u591a\u4e2a\u5b57\u7b26 var str = \"google\" console.log(pattern.test(str)); // [ ] : \u8868\u793a\u5b57\u7b26\u53ef\u4ee5\u51fa\u73b0\u7684\u8303\u56f4 //[a-z] \u8868\u793a\u4efb\u610f0\u5230\u591a\u4e2aa-z\u7684\u5b57\u6bcd var pattern = /g[a-z] gle/; var str = \"google\"; console.log(pattern.test(str)); //\u975e\u5b57\u7b26: ^ var pattern = /g[^0-9]*gle/; //\u53ef\u4ee5\u6709\u4efb\u610f\u591a\u4e2a\u975e0-9\u7684\u5b57\u7b26 var str = \"google\"; console.log(pattern.test(str)); //+ \u8868\u793a\u81f3\u5c11\u51fa\u73b01\u6b21 //[A-Z]+: \u81f3\u5c11\u51fa\u73b0\u4e00\u4e2aA-Z\u7684\u5b57\u7b26 var pattern = /[a-z][A-Z]+/; var str = \"gooGle\"; console.log(pattern.test(str)); //\u4f7f\u7528\u5143\u7b26\u53f7\u5339\u914d //\\w :\u5339\u914d\u4efb\u610f\u591a\u4e2a\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf , \\w : \u7b49\u4ef7\u4e8e[a-zA-Z0-9_] var pattern = /g\\w gle/; var str = \"gooA3gle\"; console.log(pattern.test(str)); //\\d \u4ee3\u8868\u6570\u5b57, \u7b49\u4ef7\u4e8e [0-9] //\\d \u8868\u793a\u4efb\u610f\u591a\u4e2a\u6570\u5b57 var pattern = /g\\d gle/; var str = \"g3243gle\"; console.log(pattern.test(str)); //\\D: \u5339\u914d\u975e\u6570\u5b57, \u76f8\u5f53\u4e8e[^0-9] var pattern = /g\\Dgle/; var str = \"ga3gle\"; console.log(pattern.test(str)); //\\D{7,}: \u5339\u914d\u81f3\u5c117\u4e2a\u975e\u6570\u5b57, \u76f8\u5f53\u4e8e[^0-9]{7,} var pattern = /\\D{7,}/; var str = \"g3243gle\"; console.log(pattern.test(str)); /\u4f7f\u7528\u951a\u5143\u5b57\u7b26 // /^ \u5339\u914d\u5f00\u59cb,\u4ece\u5934\u5f00\u59cb\u5339\u914d // $/ \u5339\u914d\u7ed3\u5c3e,\u4ece\u7ed3\u5c3e\u5f00\u59cb\u5339\u914d var pattern = /^google$/; var str = \"google\"; console.log(pattern.test(str)); // \\s \u5339\u914d\u7a7a\u683c var pattern = /goo\\sgle/; var str = \"goo gle\"; console.log(pattern.test(str)); //m \u591a\u884c\u5339\u914d var str = \"first second\\nthird fourth\\nfifth sixth\"; var patt = /\\w+$/gm var patt = /\\w+/gm console.log(str.match(patt)); ``` \u200b","title":"\u4e8c\u5341\u3001js\u5b57\u7b26\u4e32"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#js","text":"","title":"\u4e8c\u5341\u3001js\u5b57\u7b26\u4e32"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#_1","text":"\u5b57\u7b26\u4e32\u7684\u5c5e\u6027 length : \u8868\u793a\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 \u4f8b\u5982 : javascript var str = \"howareyou\"; console.log(str.length); console.log(str[0]); //\u83b7\u53d6\u5b57\u7b26\u4e32\u4e2d\u5bf9\u5e94\u4e0b\u6807\u7684\u5b57\u7b26 \u6ce8\u610f : ECMAScript \u4e2d\u7684\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u53d8\u7684; \u4e5f\u5c31\u662f\u8bf4\uff0c\u5b57\u7b26\u4e32\u4e00\u65e6\u521b\u5efa\uff0c\u5b83\u4eec\u7684\u503c\u5c31\u4e0d\u80fd\u6539\u53d8. \u4f8b\u5982: javascript var str = \"\u4eb2,\u5305\u90ae\u54e6\"; str[0] = \"lucky\"; //\u4e0d\u4f1a\u6539\u53d8 \u5982\u679c\u8981\u6539\u53d8\u67d0\u4e2a\u53d8\u91cf\u4fdd\u5b58\u7684\u5b57\u7b26\u4e32\uff0c\u9996\u5148\u8981\u9500\u6bc1\u539f\u6765\u7684\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u518d\u7528\u53e6\u4e00\u4e2a\u5305\u542b\u65b0\u503c\u7684\u5b57\u7b26\u4e32\u586b\u5145\u8be5\u53d8\u91cf. javascript var str = \"Hello\"; str = str + \" world!\";","title":"\u4e00\u3001\u5b57\u7b26\u4e32\u7684\u5c5e\u6027"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#1","text":"\u6982\u8ff0 \u5728js\u4e2d \u4f7f\u7528\u5355\u5f15\u53f7\u6216\u8005\u53cc\u5f15\u53f7\u7684\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b \u521b\u5efa var str = '' javascript var str = 'abcefg' console.log(typeof str); console.log(str.length); \u5c5e\u6027 length \u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 javascript var str = 'abcefg' console.log(str.length); \u5bf9\u4e8e\u5b57\u7b26\u4e32 length\u53ea\u53ef\u4ee5\u83b7\u53d6\u957f\u5ea6\u4e0d\u80fd\u66f4\u6539\u957f\u5ea6 \u8bfb\u53d6 str[\u7d22\u5f15\u503c] javascript console.log(str[0]); \u6ce8\u610f\uff1a \u5b57\u7b26\u4e32\u7d22\u5f15\u6240\u5bf9\u5e94\u7684\u503c\u53ea\u80fd\u83b7\u53d6 \u4e0d\u80fd\u66f4\u6539","title":"1\u3001\u5b57\u7b26\u4e32\u4f7f\u7528"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#2","text":"\u4f7f\u7528\u53cd\u5f15\u53f7\u5b9e\u73b0 ES6 \u6a21\u677f\u5b57\u7b26\u4e32(Template String)\u662f\u589e\u5f3a\u7248\u7684\u5b57\u7b26\u4e32\uff0c\u7528\u53cd\u5f15\u53f7(`)\u6807\u8bc6\uff0c\u5b83\u53ef\u4ee5\u5f53\u4f5c\u666e\u901a\u5b57\u7b26\u4e32\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u5b9a\u4e49\u591a\u884c\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u5728\u5b57\u7b26\u4e32\u4e2d\u5d4c\u5165\u53d8\u91cf\u3002 \u8bed\u6cd5\u683c\u5f0f\uff1a `\u60f3\u8981\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u2026\u2026${\u53d8\u91cf\u540d\u79f0}\u60f3\u8981\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u2026\u2026${\u53d8\u91cf\u540d\u79f0}` \u5b9e\u4f8b <script> window.onload = function() { var name = \"lucky\"; var age = 25; var sex = \"\u7537\"; console.log(`\u5927\u5bb6\u597d\uff0c\u6211\u53eb${name}\uff0c\u6027\u522b${sex},\u4eca\u5e74${age}\u5c81\u4e86`); } </script>","title":"2\u3001\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\u5316"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#3","text":"\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5(\u51fd\u6570) var str = 'abcd'; str.charAt(3) \u83b7\u53d6\u4e0b\u6807\u4e3a3\u7684\u5b57\u7b26 str.charCodeAt(3) \u83b7\u53d6\u4e0b\u6807\u4e3a3\u7684\u5b57\u7b26\u7684\u7f16\u7801(ASCII\u7801) String.fromCharCode(94) ASCII\u7f16\u7801\u8f6c\u6362\u6210\u5b57\u7b26 \u8be5\u65b9\u6cd5\u662fString\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u6240\u4ee5\u7528String\u8c03\u7528\uff0c \u5982\uff1avar str = String.fromCharCode(98,99); //\u53ef\u4f20\u5165\u591a\u4e2a\u53c2\u6570 ASCII\uff08AmericanStandard Code for Information Interchange\uff0c\u7f8e\u56fd\u6807\u51c6\u4fe1\u606f\u4ea4\u6362\u4ee3\u7801\uff09 str.concat() \u8fde\u63a5\u5b57\u7b26\u4e32 \u4f8b\u5982: ```javascript var str1 = \"hello\"; var str2 = str1.concat(\" world\"); ``` \u5b57\u7b26\u4e32\u7684\u67e5\u627e\u65b9\u6cd5 str.indexOf(\"abc\") \u67e5\u627e\u5b57\u7b26\u4e32\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e,\u5982\u679c\u6ca1\u627e\u5230\u5219\u8fd4\u56de-1 \u4f8b\u5982: python var str = \"abcdabcd\"; var subStr = \"bcd\"; var index = str.indexOf(subStr); str.lastIndexOf(\"abc\") \u67e5\u627e\u5b57\u7b26\u4e32\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e,\u5982\u679c\u6ca1\u627e\u5230\u5219\u8fd4\u56de-1 \u4f8b\u5982: var index = str.lastIndexOf(\"abc\"); str.search(); \u6b63\u5219\u5339\u914d(\u8fd4\u56de\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e) \u4f8b\u5982: javascript var str = \"Abcdabcd\"; var index = str.search(/abc/ig); \u6ce8: g\u8868\u793a\u8fdb\u884c\u5168\u5c40\u5339\u914d\uff0ci\u8868\u793a\u5339\u914d\u7684\u65f6\u5019\u5ffd\u7565\u5927\u5c0f\u5199 str.replace() \u66ff\u6362\u5b57\u7b26\u4e32 \u4f8b\u5982: javascript var str = \"how are Are are you!\"; //\u66ff\u6362\u4e00\u6b21 var newStr = str.replace(\"are\", \"old are\"); //\u66ff\u6362\u591a\u6b21 var newStr = str.replace(/are/g, \"x\"); console.log(newStr) \u8fd9\u91cc\u7684\u66ff\u6362\u53ea\u80fd\u6267\u884c\u4e00\u6b21\uff0c\u4e0d\u80fd\u591f\u8fdb\u884c\u5168\u5c40\u5339\u914d\uff0c\u5982\u679c\u9700\u8981\u5168\u5c40\u5339\u914d\uff0c\u5219\u5e94\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f str.substring(start,end) \u622a\u53d6\u5b57\u7b26\u4e32\u8303\u56f4\u662f[start,end) \u4f8b\u5982: javascript var str= \"Helloworld!\"; console.log(str.substring(2,5)); \u6ce8:\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570, \u5219\u8868\u793a\u5230\u5b57\u7b26\u4e32\u6700\u540e \u4e0d\u5305\u542bend str.split(separator, howmany) \u6839\u636e\u5206\u9694\u7b26\u3001\u62c6\u5206\u6210\u6570\u7ec4 separator(\u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f) howmany(\u53ef\u4ee5\u6307\u5b9a\u8fd4\u56de\u7684\u6570\u7ec4\u7684\u6700\u5927\u957f\u5ea6,\u53ef\u4ee5\u7701\u7565) javascript var str= \"Helloworld!\"; console.log(str.split('')); \u6ce8:\u5982\u679c\u7a7a\u5b57\u7b26\u4e32(\"\")\u7528\u4f5cseparator,\u90a3\u4e48stringObject\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\u4e4b\u95f4\u90fd\u4f1a\u88ab\u5206\u5272\u3002 \u5927\u5c0f\u5199\u8f6c\u6362 str.toLowerCase() \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5c0f\u5199 str.toUpperCase() \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5927\u5199 \u5728\u7f51\u9875\u9006\u5411\u4e2d","title":"3\u3001\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#4","text":"\u793a\u4f8b\u4e00 javascript var H = function (t, e) { for (var n = e['slice'](-2), r = [], i = 0; i < n['length']; i++) { var o = n['charCodeAt'](i); r[i] = 57 < o ? o - 87 : o - 48; } n = 36 * r[0] + r[1]; var s, a = Math['round'](t) + n, _ = [[], [], [], [], []], c = {}, u = 0; i = 0; \u793a\u4f8b\u4e8c ```javascript // \u539f\u59cb\u5b57\u7b26\u4e32 var originalString = \"Hello, World!\"; // \u5c06\u6bcf\u4e2a\u5b57\u7b26\u7684 Unicode \u503c\u4fdd\u5b58\u5728\u6570\u7ec4\u4e2d var charCodes = []; for (var i = 0; i < originalString.length; i++) { charCodes.push(originalString.charCodeAt(i)); } // \u4f7f\u7528 String.fromCharCode\u5c06\u6570\u7ec4\u8f6c\u6362\u56de\u5b57\u7b26\u4e32 var obfuscatedString = String.fromCharCode(...charCodes); console.log(obfuscatedString); ``` \u6269\u5c55\u8fd0\u7b97\u7b26 \uff1a\u8fd9\u79cd\u7528\u6cd5\u901a\u5e38\u7528\u4e8e\u52a8\u6001\u5730\u5c06\u5b57\u7b26\u7801\u6570\u7ec4\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u7279\u522b\u662f\u5f53\u5b57\u7b26\u7801\u7684\u6570\u91cf\u4e0d\u786e\u5b9a\u6216\u52a8\u6001\u751f\u6210\u65f6\u3002\u5728\u73b0\u4ee3 JavaScript \u4e2d\uff0c\u66f4\u5e38\u89c1\u7684\u662f\u4f7f\u7528\u6269\u5c55\u8fd0\u7b97\u7b26\uff08 ... \uff09\u6765\u8fbe\u5230\u76f8\u540c \u793a\u4f8b\u4e09 \uff08\u91cd\u5ea6\u6df7\u6dc6\uff09 \u5728\u7ebfeval\uff1a http://tools.jb51.net/password/evalencode javascript eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('1.4(\\'5 3 0 2 6\\')',62,7,'a|console|good|is|log|lucky|man'.split('|'),0,{}))","title":"4\u3001\u6df7\u6dc6\u6848\u4f8b"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#_2","text":"","title":""},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#_3","text":"","title":"\u4e8c\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6982\u5ff5"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#1_1","text":"\u4fee\u9970\u7b26 \u53ef\u4ee5\u5728\u5168\u5c40\u641c\u7d22\u4e2d\u4e0d\u533a\u5206\u5927\u5c0f\u5199: \u4fee\u9970\u7b26 \u63cf\u8ff0 i \u6267\u884c\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u5339\u914d\u3002 g \u6267\u884c\u5168\u5c40\u5339\u914d\uff08\u67e5\u627e\u6240\u6709\u5339\u914d\u800c\u975e\u5728\u627e\u5230\u7b2c\u4e00\u4e2a\u5339\u914d\u540e\u505c\u6b62\uff09\u3002 m \u6267\u884c\u591a\u884c\u5339\u914d\u3002","title":"1\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u4fee\u9970\u7b26"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#2_1","text":"\u65b9\u62ec\u53f7\u7528\u4e8e\u67e5\u627e\u67d0\u4e2a\u8303\u56f4\u5185\u7684\u5b57\u7b26\uff1a \u8868\u8fbe\u5f0f \u63cf\u8ff0 [abc] \u67e5\u627e\u65b9\u62ec\u53f7\u4e4b\u95f4\u7684\u4efb\u4f55\u5b57\u7b26\u3002 [0-9] \u67e5\u627e\u4efb\u4f55\u4ece 0 \u81f3 9 \u7684\u6570\u5b57\u3002 (x|y) \u67e5\u627e\u4efb\u4f55\u4ee5 | \u5206\u9694\u7684\u9009\u9879\u3002","title":"2\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#3_1","text":"\u6982\u8ff0 \u5143\u5b57\u7b26\u662f\u62e5\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5b57\u7b26\uff1a \u5143\u5b57\u7b26 \u63cf\u8ff0 \\d \u67e5\u627e\u6570\u5b57\u3002 \\D \u975e\u6570\u5b57 \\w \u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf \\W \u975e\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf \\s \u67e5\u627e\u7a7a\u767d\u5b57\u7b26\u3002 \\b \u5339\u914d\u5355\u8bcd\u8fb9\u754c\u3002 \\uxxxx \u67e5\u627e\u4ee5\u5341\u516d\u8fdb\u5236\u6570 xxxx \u89c4\u5b9a\u7684 Unicode \u5b57\u7b26\u3002 \u4e2d\u6587\u7684 Unicode \u8303\u56f4\u901a\u5e38\u662f \\u4e00-\\u9fa5 \uff0c\u5305\u62ec\u4e86\u5e38\u7528\u7684\u6c49\u5b57\u3002 // \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u4e2d\u6587\u5b57\u7b26 var chineseCharacters = \"\u4f60\u597d\uff0c\u4e16\u754c\uff01\"; var chineseRegex = /[\\u4e00-\\u9fa5]/g; var result = chineseCharacters.match(chineseRegex); console.log(result); // \u8f93\u51fa: [\"\u4f60\", \"\u597d\", \"\u4e16\", \"\u754c\"]","title":"3\u3001\u5143\u5b57\u7b26"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#4_1","text":"\u91cf\u8bcd \u63cf\u8ff0 n+ \u5339\u914d\u4efb\u4f55\u5305\u542b\u81f3\u5c11\u4e00\u4e2a n \u7684\u5b57\u7b26\u4e32\u3002 n* \u5339\u914d\u4efb\u4f55\u5305\u542b\u96f6\u4e2a\u6216\u591a\u4e2a n \u7684\u5b57\u7b26\u4e32\u3002 n? \u5339\u914d\u4efb\u4f55\u5305\u542b\u96f6\u4e2a\u6216\u4e00\u4e2a n \u7684\u5b57\u7b26\u4e32\u3002","title":"4\u3001\u91cf\u8bcd"},{"location":"20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html#5","text":"match \u65b9\u6cd5 \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u5bf9\u5b57\u7b26\u4e32\u6267\u884c\u67e5\u627e\uff0c\u5e76\u5c06\u5305\u542b\u67e5\u627e\u7684\u7ed3\u679c\u4f5c\u4e3a\u6570\u7ec4\u8fd4\u56de\u3002 stringObj.match(rgExp) \u53c2\u6570 stringObj \u5fc5\u9009\u9879\u3002\u5bf9\u5176\u8fdb\u884c\u67e5\u627e\u7684 String \u5bf9\u8c61\u6216\u5b57\u7b26\u4e32\u6587\u5b57\u3002 rgExp \u5fc5\u9009\u9879\u3002\u4e3a\u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u548c\u53ef\u7528\u6807\u5fd7\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u3002\u4e5f\u53ef\u4ee5\u662f\u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\u548c\u53ef\u7528\u6807\u5fd7\u7684\u53d8\u91cf\u540d\u6216\u5b57\u7b26\u4e32\u6587\u5b57\u3002 \u5176\u4f59\u8bf4\u660e\u4e0eexec\u4e00\u6837\uff0c\u4e0d\u540c\u7684\u662f\u5982\u679cmatch\u7684\u8868\u8fbe\u5f0f\u5339\u914d\u4e86\u5168\u5c40\u6807\u8bb0g\u5c06\u51fa\u73b0\u6240\u6709\u5339\u914d\u9879\uff0c\u800c\u4e0d\u7528\u5faa\u73af\uff0c\u4f46\u6240\u6709\u5339\u914d\u4e2d\u4e0d\u4f1a\u5305\u542b\u5b50\u5339\u914d\u9879\u3002 \u5b9e\u4f8b ```javascript var str=\"Hello world!\" document.write(str.match(\"world\") + \" \") document.write(str.match(\"World\") + \" \") document.write(str.match(\"worlld\") + \" \") document.write(str.match(\"world!\")) document.write(str.match(\"[a-z]{5}\") + \" \") \u8f93\u51fa\uff1a world null null world! world var str=\"1 plus 2 equal 3\" console.log(str.match(/\\d+/g)) // [1,2,3] ``` exec \u65b9\u6cd5 \u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u65b9\u6cd5\u3002 \u8be5\u65b9\u6cd5\u7528\u4e8e\u68c0\u7d22\u5b57\u7b26\u4e32\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u3002 \u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5176\u4e2d\u5b58\u653e\u5339\u914d\u7684\u7ed3\u679c\u3002\u5982\u679c\u672a\u627e\u5230\u5339\u914d\uff0c\u5219\u8fd4\u56de\u503c\u4e3a null\u3002 rgExp.exec(str) \u5b9e\u4f8b javascript /e/.exec(\"The best things in life are free!\"); /[a-z]/i.exec(\"The best things in life are free!\"); test \u65b9\u6cd5 test() \u65b9\u6cd5\u7528\u4e8e\u68c0\u6d4b\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u67d0\u4e2a\u6a21\u5f0f\uff0c\u5982\u679c\u5b57\u7b26\u4e32\u4e2d\u542b\u6709\u5339\u914d\u7684\u6587\u672c\uff0c\u5219\u8fd4\u56de true\uff0c\u5426\u5219\u8fd4\u56de false\u3002 rgexp.test(str) \u5b9e\u4f8b ```javascript var patt = /e/; patt.test(\"The best things in life are free!\"); /^1[3-8][0-9]{9}$/.test('15611833906') ``` search \u65b9\u6cd5 search \u65b9\u6cd5\u53ef\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\u3002\u5b57\u7b26\u4e32\u53c2\u6570\u4f1a\u8f6c\u6362\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a \u8fd4\u56de\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u67e5\u627e\u5185\u5bb9\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5b50\u5b57\u7b26\u4e32\u7684\u4f4d\u7f6e\uff08\u504f\u79fb\u4f4d\uff09\u3002 stringObj.search(rgExp) \u5b9e\u4f8b javascript var str=\"Visit lucky!\" document.write(str.search(/lucky/i)) replace \u65b9\u6cd5 \u8fd4\u56de\u6839\u636e\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u6587\u5b57\u66ff\u6362\u540e\u7684\u5b57\u7b26\u4e32\u7684\u590d\u5236\u3002 stringObj.replace(rgExp, replaceText) \u5b9e\u4f8b javascript <p>\u66ff\u6362 \"\u5f20\u4e09\" \u4e3a \"lucky\" :</p> <button onclick=\"myFunction()\">\u70b9\u6211</button> <p id=\"demo\">Visit \u5f20\u4e09!</p> <script> function myFunction() { var str = document.getElementById(\"demo\").innerHTML; var txt = str.replace(/\u5f20\u4e09/i,\"lucky\"); document.getElementById(\"demo\").innerHTML = txt; } </script> split \u65b9\u6cd5 \u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u5206\u5272\u4e3a\u5b50\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u4f5c\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u8fd4\u56de\u3002 stringObj.split([separator[, limit]]) \u8bf4\u660e split \u65b9\u6cd5\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u5728 stingObj \u4e2d\u6bcf\u4e2a\u51fa\u73b0 separator \u7684\u4f4d\u7f6e\u90fd\u8981\u8fdb\u884c\u5206\u89e3\u3002separator \u4e0d\u4f5c\u4e3a\u4efb\u4f55\u6570\u7ec4\u5143\u7d20\u7684\u90e8\u5206\u8fd4\u56de\u3002 \u5b9e\u4f8b javascript '156118 339\\t06'.split(/\\s/) \u6b63\u5219\u5339\u914d\u5b9e\u4f8b ```javascript //.\u53f7\u5143\u5b57\u7b26, \u4ee3\u8868\u9664\u4e86\u6362\u884c\u4e4b\u5916\u7684\u6240\u6709\u5355\u4e2a\u5b57\u7b26 var pattern = /g..gle/; //\u4e00\u4e2a\u70b9.\u5339\u914d\u4e00\u4e2a\u4efb\u610f\u7684\u5b57\u7b26 var str = \"goagle\"; console.log(pattern.test(str)); // \u53f7\u5143\u5b57\u7b26, \u914d\u5408\u5176\u4ed6\u5b57\u7b26\u4f7f\u7528, \u5141\u8bb8\u5176\u4ed6\u5b57\u7b26\u51fa\u73b0\u4efb\u610f\u591a\u6b21 // \u91cd\u590d\u591a\u6b21\u5339\u914d, \u53ef\u4ee5\u51fa\u73b0\u4efb\u610f\u6b21, var pattern = /g. gle/; //.* \u5339\u914d0\u5230\u591a\u4e2a\u5b57\u7b26 var str = \"google\" console.log(pattern.test(str)); // [ ] : \u8868\u793a\u5b57\u7b26\u53ef\u4ee5\u51fa\u73b0\u7684\u8303\u56f4 //[a-z] \u8868\u793a\u4efb\u610f0\u5230\u591a\u4e2aa-z\u7684\u5b57\u6bcd var pattern = /g[a-z] gle/; var str = \"google\"; console.log(pattern.test(str)); //\u975e\u5b57\u7b26: ^ var pattern = /g[^0-9]*gle/; //\u53ef\u4ee5\u6709\u4efb\u610f\u591a\u4e2a\u975e0-9\u7684\u5b57\u7b26 var str = \"google\"; console.log(pattern.test(str)); //+ \u8868\u793a\u81f3\u5c11\u51fa\u73b01\u6b21 //[A-Z]+: \u81f3\u5c11\u51fa\u73b0\u4e00\u4e2aA-Z\u7684\u5b57\u7b26 var pattern = /[a-z][A-Z]+/; var str = \"gooGle\"; console.log(pattern.test(str)); //\u4f7f\u7528\u5143\u7b26\u53f7\u5339\u914d //\\w :\u5339\u914d\u4efb\u610f\u591a\u4e2a\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf , \\w : \u7b49\u4ef7\u4e8e[a-zA-Z0-9_] var pattern = /g\\w gle/; var str = \"gooA3gle\"; console.log(pattern.test(str)); //\\d \u4ee3\u8868\u6570\u5b57, \u7b49\u4ef7\u4e8e [0-9] //\\d \u8868\u793a\u4efb\u610f\u591a\u4e2a\u6570\u5b57 var pattern = /g\\d gle/; var str = \"g3243gle\"; console.log(pattern.test(str)); //\\D: \u5339\u914d\u975e\u6570\u5b57, \u76f8\u5f53\u4e8e[^0-9] var pattern = /g\\Dgle/; var str = \"ga3gle\"; console.log(pattern.test(str)); //\\D{7,}: \u5339\u914d\u81f3\u5c117\u4e2a\u975e\u6570\u5b57, \u76f8\u5f53\u4e8e[^0-9]{7,} var pattern = /\\D{7,}/; var str = \"g3243gle\"; console.log(pattern.test(str)); /\u4f7f\u7528\u951a\u5143\u5b57\u7b26 // /^ \u5339\u914d\u5f00\u59cb,\u4ece\u5934\u5f00\u59cb\u5339\u914d // $/ \u5339\u914d\u7ed3\u5c3e,\u4ece\u7ed3\u5c3e\u5f00\u59cb\u5339\u914d var pattern = /^google$/; var str = \"google\"; console.log(pattern.test(str)); // \\s \u5339\u914d\u7a7a\u683c var pattern = /goo\\sgle/; var str = \"goo gle\"; console.log(pattern.test(str)); //m \u591a\u884c\u5339\u914d var str = \"first second\\nthird fourth\\nfifth sixth\"; var patt = /\\w+$/gm var patt = /\\w+/gm console.log(str.match(patt)); ``` \u200b","title":"5\u3001\u65b9\u6cd5"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html","text":"\u4e8c\u5341\u4e00\u3001js\u5bf9\u8c61\u4e0e\u65f6\u95f4 \u4e00\u3001\u6982\u8ff0\u4e0e\u521b\u5efa 1\u3001\u6982\u8ff0 \u4ec0\u4e48\u662f\u5bf9\u8c61\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u5373\u5f15\u7528\u7c7b\u578b\u3002\u800c\u5bf9\u8c61\u7684\u503c\u5c31\u662f\u5f15\u7528\u7c7b\u578b\u7684\u5b9e\u4f8b\u3002\u5728 ECMAScript \u4e2d\u5f15\u7528\u7c7b\u578b\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u548c\u529f\u80fd\u7ec4\u7ec7\u5728\u4e00\u8d77\u3002 2\u3001\u5bf9\u8c61\u7684\u521b\u5efa Object\u7c7b\u578b \u521b\u5efa Object \u7c7b\u578b\u6709\u4e24\u79cd\u3002 \u4f7f\u7528 new \u8fd0\u7b97\u7b26 \u5b57\u9762\u91cf\u8868\u793a\u6cd5 \u4f7f\u7528new \u8fd0\u7b97\u7b26\u521b\u5efa Object ```javascript var box = new Object(); // new\u65b9\u5f0f \u521b\u5efa\u7a7a\u5bf9\u8c61 box.name = 'lucky'; // \u521b\u5efa\u5c5e\u6027\u5b57\u6bb5 box.age = 18; // \u521b\u5efa\u5c5e\u6027\u5b57\u6bb5 var obj = new Object({'name':'lucky'}) //\u521b\u5efa\u5bf9\u8c61\u5e76\u8d4b\u503c var box = Object(); // new\u5173\u952e\u5b57\u53ef\u4ee5\u7701\u7565 \u4e0d\u5efa\u8bae ``` \u4f7f\u7528\u5b57\u9762\u91cf\u65b9\u5f0f\u521b\u5efaObject javascript var box = { // \u5b57\u9762\u91cf\u65b9\u5f0f name :'lucky', // \u521b\u5efa\u5c5e\u6027\u5b57\u6bb5,\u6700\u540e\u52a0\u9017\u53f7 age : 18, fun:function(){ alert('lucky is a good man '); } }; \u5c5e\u6027\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u5f62\u5f0f javascript var box = { 'name': 'lucky', //\u4e5f\u53ef\u4ee5\u7528\u5b57\u7b26\u4e32\u5f62\u5f0f 'age': 28 }; \u4f7f\u7528\u5b57\u9762\u91cf\u53ca\u4f20\u7edf\u8d4b\u503c\u65b9\u5f0f javascript var box = {}; //\u5b57\u9762\u91cf\u65b9\u5f0f\u58f0\u660e\u7a7a\u7684\u5bf9\u8c61 box.name = 'lucky'; //\u70b9\u7b26\u53f7\u7ed9\u5c5e\u6027\u8d4b\u503c box.age = 18; \u4e24\u79cd\u5c5e\u6027\u8f93\u51fa\u65b9\u5f0f javascript console.log(box.age); //\u70b9\u8868\u793a\u6cd5\u8f93\u51fa console.log(box['age']); //\u4e2d\u62ec\u53f7\u8868\u793a\u6cd5\u8f93\u51fa\uff0c\u6ce8\u610f\u5f15\u53f7 \u5bf9\u8c61\u521b\u5efa\u65b9\u6cd5 javascript var box={ //\u5bf9\u8c61\u4e2d\u6dfb\u52a0\u65b9\u6cd5(\u51fd\u6570)run run: function() { retrun \"\u6b63\u5728\u8dd1\u6b65..\"; } } alert(box.run()); //\u8c03\u7528\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5 \u4f7f\u7528 delete \u5220\u9664\u5bf9\u8c61\u5c5e\u6027 delete box.name; //\u5220\u9664\u5c5e\u6027 instanceof \u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684\u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002 javascript function a(){ } x = new a() console.log(x instanceof a) \u5728 JavaScript \u4e2d\uff0cES2015\uff08\u4e5f\u79f0\u4e3aES6\uff09\u5f15\u5165\u4e86\u4e00\u79cd\u65b0\u7684\u8bed\u6cd5\uff0c\u79f0\u4e3a\u201c\u7b80\u5199\u5c5e\u6027\u540d\u201d\uff08Shorthand Property Names\uff09\uff0c\u4f7f\u5f97\u5728\u5bf9\u8c61\u5b57\u9762\u91cf\u4e2d\u521b\u5efa\u5c5e\u6027\u548c\u503c\u76f8\u540c\u7684\u60c5\u51b5\u66f4\u52a0\u7b80\u6d01\u3002 javascript // \u4f7f\u7528\u7b80\u5199\u5c5e\u6027\u540d\u521b\u5efa\u5bf9\u8c61 var name = \"lucky\"; var age = \"18\"; var speak = function(){console.log('lucky is a good man')} \u65b0\u8bed\u6cd5\u4e4b\u524d\u5c06name\u3001age\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\u7684\u65b9\u5f0f javascript // \u65b9\u5f0f\u4e00 var obj = {} obj.name = name // \u5c06\u5c5e\u6027\u6dfb\u52a0\u5230obj\u4e2d obj.age = age obj.speak = speak // \u65b9\u5f0f\u4e8c \u5b9a\u4e49\u7684\u65f6\u5019\u6dfb\u52a0\u8fc7\u6765 var obj = { 'name': name, 'age': age, 'speak': speak } \u65b0\u8bed\u6cd5 \u66f4\u52a0\u7b80\u6d01 javascript var obj = { name, age, speak }; console.log(obj); \u5bf9\u8c61\u4e2d\u5c5e\u6027\u8d4b\u503c\u7ed9\u53d8\u91cf javascript let obj = {'name':'lucky', 'age':18} let {name,age} = obj console.log(name, age) \u6ce8\u610f\uff1a \u5f53\u524d\u5bf9\u8c61\u4e2d\u5c5e\u6027\u548c\u53d8\u91cf\u540d\u79f0\u9700\u8981\u76f8\u540c 3\u3001this\u5173\u952e\u5b57 \u5728\u5bf9\u8c61\u5185\u90e8\u7684this\u4ee3\u8868\u5f53\u524d\u7684\u5bf9\u8c61\u3002\u7b49\u540c\u4e8epython\u4e2d\u7684self\u5bf9\u8c61 \u4ee3\u7801\u793a\u4f8b\uff1a var obj = { name: 'lucky', age: 18, speak: function(sex){ console.log(this) // \u4ee3\u8868\u5f53\u524d\u5bf9\u8c61 // \u8c03\u7528\u5f53\u524d\u5bf9\u8c61\u7684name\u548cage\u5c5e\u6027 console.log(this.name) console.log(this.age) // \u5c06\u5f53\u524d\u5c5e\u6027\u7684\u503c\u683c\u5f0f\u5316\u5230\u5f53\u524d\u7684\u5b57\u7b26\u4e32\u4e2d\u5e76\u8f93\u51fa let str = `\u6211\u7684\u540d\u5b57\u662f\uff1a${this.name}\u3001\u6211\u4eca\u5e74${this.age}\u5c81\u4e86\u3001\u6211\u7684\u6027\u522b\u662f${sex}` console.log(str) return '\u8fd4\u56de\u503c' } } // \u5916\u90e8\u6253\u5370obj\u5bf9\u8c61 console.log(obj) // \u5916\u90e8\u8c03\u7528obj\u5bf9\u8c61\u7684\u5c5e\u6027 console.log(obj.name) // \u5916\u90e8\u8c03\u7528obj\u5bf9\u8c61\u7684\u65b9\u6cd5speak console.log(obj.speak('man')) 4\u3001\u6ce8\u610f javaScript \u5bf9\u8c61\u5141\u8bb8\u4f7f\u7528\u65b9\u62ec\u53f7 [] \u6765\u8bbf\u95ee\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u3002\u8fd9\u79cd\u8bed\u6cd5\u5141\u8bb8\u4f60\u4f7f\u7528\u53d8\u91cf\u6216\u5b57\u7b26\u4e32\u4f5c\u4e3a\u5c5e\u6027\u540d\u3002 \u5185\u7f6e\u65b9\u6cd5\u7684\u4f7f\u7528\u65b9\u5f0f ```javascript var a = 'lucky' a[2] // \u83b7\u53d6\u7d22\u5f15\u4e3a2\u7684\u5b57\u7b26 a.charAt(2) a 'charAt' var arr = [] arr.push(1) arr 'push' ``` \u540c\u6837\u53ef\u4ee5\u4f7f\u7528\u70b9\u6216\u8005\u4e2d\u62ec\u53f7\u7684\u65b9\u5f0f\u8fdb\u884c\u8c03\u7528 \u5e38\u5e38\u7528\u4e8e\u52a0\u5bc6 (\u5f53\u524d\u52a0\u5bc6\u7684\u4e0d\u65ad\u6f14\u53d8) javascript a['charAt'](2) javascript a[String.fromCharCode(99)+'har'+String.fromCharCode(65)+'t'](2) javascript a[String['fromCharCode'](99)+'har'+String.fromCharCode(65)+'t'](2) javascript a[String['fromChar'+String['fromCharCode'](67)+'ode'](99)+'har'+String.fromCharCode(65)+'t'](2) javascript a[String['fromChar'+String['fromCharCode'](1067-0x3e8)+'ode'](99)+'har'+String.fromCharCode(65)+'t'](2) \u4e8c\u3001\u65e5\u671f\u5bf9\u8c61Date 1\u3001Date\u5bf9\u8c61\u4ee3\u8868\u65e5\u671f Date\u7c7b\u578b\u4f7f\u7528\u81eaUTC\uff08CoordinatedUniversal Time\uff0c\u56fd\u9645\u534f\u8c03\u65f6\u95f4\uff091970\u5e741\u67081\u65e5\u5348\u591c\uff08\u96f6\u65f6\uff09\u5f00\u59cb\u7ecf\u8fc7\u7684\u6beb\u79d2\u6570\u6765\u4fdd\u5b58\u65e5\u671f\u3002Date\u7c7b\u578b\u4fdd\u5b58\u7684\u65e5\u671f\u80fd\u591f\u7cbe\u786e\u52301970\u5e741\u67081\u65e5\u4e4b\u524d\u6216\u4e4b\u540e\u7684285616\u5e74\u3002 \u521b\u5efa\u4e00\u4e2a\u65e5\u671f\u5bf9\u8c61\uff0c\u4f7f\u7528 new\u8fd0\u7b97\u7b26\u548cDate\u6784\u9020\u65b9\u6cd5(\u6784\u9020\u51fd\u6570)\u5373\u53ef\u3002 javascript var d = new Date(); //\u6216\u8005 var d = new Date; \u5728\u8c03\u7528Date\u6784\u9020\u65b9\u6cd5\u800c\u4e0d\u4f20\u9012\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u65b0\u5efa\u7684\u5bf9\u8c61\u81ea\u52a8\u83b7\u53d6\u5f53\u524d\u7684\u65f6\u95f4\u548c\u65e5\u671f\u3002 \u521b\u5efa\u65e5\u671f\u5bf9\u8c61\u5e76\u6307\u5b9a\u65f6\u95f4 ```javascript var date = new Date(\"2024/08/22\"); var date = new Date(2024,04,13,14,34); ``` \u3010\u6ce8\u3011\u65e5\u671f\u7684\u683c\u5f0f\u53ef\u4ee5\u662f\u201c2024/08/22\u201d\uff0c\u201c2024-08-22\u201d\uff0c\u62161970\u5e74\u5f53\u524d\u65e5\u671f\u7684\u6beb\u79d2\u6570 \u65b9\u6cd5 \u65b9\u6cd5 \u8bf4\u660e console.log(date.toDateString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u661f\u671f\u51e0\u3001\u6708\u3001\u65e5\u548c\u5e74 console.log(date.toTimeString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u65f6\u3001\u5206\u3001\u79d2\u548c\u65f6\u533a console.log(date.toLocaleDateString()); \u4ee5\u7279\u5b9a\u5730\u533a\u683c\u5f0f\u663e\u793a\u5e74\u3001\u6708\u3001\u65e5 console.log(date.toLocaleTimeString()); \u4ee5\u7279\u5b9a\u5730\u533a\u683c\u5f0f\u663e\u793a\u65f6\u3001\u5206\u3001\u79d2 console.log(date.toUTCString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u5b8c\u6574\u7684 UTC \u65e5\u671f: \u5e74,\u6708,\u65e5,\u65f6,\u5206,\u79d2\u3002 console.log(date.toDateString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u661f\u671f\u51e0\u3001\u6708\u3001\u65e5\u548c\u5e74 2\u3001\u65e5\u671f\u5bf9\u8c61Date setDate() / getDate() \u4eceDate\u5bf9\u8c61\u4e2d\u8fd4\u56de\u4e00\u4e2a\u6708\u4e2d\u7684\u67d0\u4e00\u5929(1~31) getDay() \u4eceDate\u5bf9\u8c61\u8fd4\u56de\u4e00\u5468\u4e2d\u7684\u67d0\u4e00\u5929(0~6) set/ getMonth() \u4eceDate\u5bf9\u8c61\u4e2d\u8fd4\u56de\u6708\u4efd(0~11) set/ getFullYear() \u4eceDate\u5bf9\u8c61\u4ee5\u56db\u4f4d\u6570\u8fd4\u56de\u5e74\u4efd set/ getHours() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u5c0f\u65f6(0~23) set/ getMinutes() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u5206\u949f(0~59) set/ getSeconds() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u79d2\u6570(0~59) set/ getMilliseconds() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u6beb\u79d2 set/ getTime() \u8fd4\u56de1970\u5e741\u67081\u65e5\u81f3\u4eca\u7684\u6beb\u79d2\u6570\uff08\u91cd\u70b9\uff09 \u6ce8\u610f\uff1ajs\u4e2d\u8fd4\u56de\u65f6\u95f4\u6233\u957f\u5ea6\u4e3a13\u3001python\u4e2d\u8fd4\u56de\u957f\u5ea6\u4e3a10 getTimezoneOffset() \u8fd4\u56de\u672c\u5730\u65f6\u95f4\u4e0e\u683c\u6797\u5c3c\u6cbb\u6807\u51c6\u65f6\u95f4(GMT)\u7684\u5206\u949f\u5dee \u6ce8\u610f\uff1a \u00d8\u6708\u4efd\u662f\u4ece0-11\uff0c\u6240\u4ee5\u53d6\u5f97\u7684\u503c\u8981\u52a01\u624d\u662f\u5f53\u524d\u6708\u4efd \u00d8\u661f\u671f\u5929\u662f\u4ece0-6, 0\u4ee3\u8868\u661f\u671f\u5929 \u91cd\u70b9 \u5bf9\u4e8e\u6211\u4eec\u722c\u866b\u6765\u8bf4\u91cd\u70b9\u662f\u65f6\u95f4\u6233\u7684\u83b7\u53d6 new Date().getTime() Date.now() 3\u3001+new Date \u8bf4\u660e: \u5728 JavaScript \u4e2d\uff0c + \u64cd\u4f5c\u7b26\u6709\u591a\u79cd\u7528\u9014\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u5b83\u7684\u4e0a\u4e0b\u6587\u3002\u5728 +new Date() \u4e2d\uff0c + \u88ab\u7528\u4f5c\u4e00\u5143\u6b63\u53f7\uff0c\u5176\u4f5c\u7528\u662f\u5c06\u540e\u9762\u7684\u8868\u8fbe\u5f0f\u8f6c\u6362\u4e3a\u6570\u5b57\u3002 \u5b9e\u4f8b javascript const timestamp = +new Date(); console.log(timestamp); // \u8f93\u51fa\u5f53\u524d\u65f6\u95f4\u7684\u65f6\u95f4\u6233 \u9006\u5411\u6848\u4f8b\u4e2d https://www.kongfz.com/ \u8fd0\u884c\u7ed3\u679c \u8fd9\u79cd\u5199\u6cd5\u7ecf\u5e38\u7528\u4e8e\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u7684\u65f6\u95f4\u6233\uff0c\u56e0\u4e3a\u5b83\u662f\u4e00\u79cd\u7b80\u6d01\u800c\u5e38\u89c1\u7684\u5199\u6cd5\u3002\u5982\u679c\u4f60\u4e0d\u4f7f\u7528\u4e00\u5143\u6b63\u53f7\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 new Date().getTime() \u6216 new Date().valueOf() \u4e09\u3001\u5b9a\u65f6\u5668\u4e0e\u5b9a\u65f6\u6267\u884c 1\u3001\u5b9a\u65f6\u5668 \u6982\u8ff0 setInterval() \u65b9\u6cd5\u53ef\u6309\u7167\u6307\u5b9a\u7684\u5468\u671f\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u6765\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f **setInterval() ** \u65b9\u6cd5\u4f1a\u4e0d\u505c\u5730\u8c03\u7528\u51fd\u6570\uff0c\u76f4\u5230clearInterval()\u88ab\u8c03\u7528\u6216\u7a97\u53e3\u88ab\u5173\u95ed\u3002\u7531setInterval()\u8fd4\u56de\u7684ID\u503c\u53ef\u7528\u4f5cclearInterval()\u65b9\u6cd5\u7684\u53c2\u6570\u3002 \u521b\u5efa\u5b9a\u65f6\u5668 setInterval(code,millisec) \u53c2\u6570 code \u662f\u8981\u8c03\u7528\u7684\u4ee3\u7801\u5757\u6216\u8005\u51fd\u6570 millisec \u662f\u5468\u671f\u6027\u6267\u884c\u4ee3\u7801\u5757\u6216\u51fd\u6570\u7684\u95f4\u9694\uff0c\u4ee5\u6beb\u79d2\u8ba1 \u5b9e\u4f8b \u521b\u5efa\u5b9a\u65f6\u5668timer,\u6bcf\u96941\u79d2\u8c03\u7528\u4e00\u6b21\u51fd\u6570function javascript var timer = setInterval( function(){},1000); \u5173\u95ed\u5b9a\u65f6\u5668 javascript clearInterval(timer); \u663e\u793a\u65f6\u95f4 ```javascript \u65f6\u95f4\uff1a \u6682\u505c var s = document.getElementById('show'); var timer = setInterval(function () { var box = new Date(); s.innerHTML = box.toLocaleDateString()+' '+box.toLocaleTimeString(); },1); function stop() { clearInterval(timer); } ``` \u6ce8\u610f\uff1a \u5bf9\u4e8e\u722c\u866b\u6765\u8bf4 \u5e38\u7528\u4e8e\u68c0\u6d4b\u662f\u5426\u5f00\u542f\u7684\u8c03\u8bd5\u6a21\u5f0f F12 2\u3001\u5b9a\u65f6\u6267\u884c\u4e00\u6b21 \u6982\u8ff0 setTimeout() \u65b9\u6cd5\u53ef\u6309\u7167\u6307\u5b9a\u7684\u6beb\u79d2\u6765\u5b9a\u65f6\u6267\u884c \u6765\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f \u521b\u5efa\u5b9a\u65f6\u5668 setTimeout(code,millisec) code \u662f\u8981\u8c03\u7528\u7684\u4ee3\u7801\u5757\u6216\u8005\u51fd\u6570 millisec \u6beb\u79d2 \u5b9e\u4f8b \u521b\u5efa\u5b9a\u65f6\u6267\u884c\u5668timer,\u6bcf\u96941\u79d2\u8c03\u7528\u4e00\u6b21\u51fd\u6570function javascript var timer = setTimeout( function(){},1000); \u5173\u95ed\u5b9a\u65f6\u5668 javascript clearTimeout(timer);","title":"\u4e8c\u5341\u4e00\u3001js\u5bf9\u8c61\u4e0e\u65f6\u95f4"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#js","text":"","title":"\u4e8c\u5341\u4e00\u3001js\u5bf9\u8c61\u4e0e\u65f6\u95f4"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#_1","text":"","title":"\u4e00\u3001\u6982\u8ff0\u4e0e\u521b\u5efa"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#1","text":"\u4ec0\u4e48\u662f\u5bf9\u8c61\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u79cd\u7c7b\u578b\uff0c\u5373\u5f15\u7528\u7c7b\u578b\u3002\u800c\u5bf9\u8c61\u7684\u503c\u5c31\u662f\u5f15\u7528\u7c7b\u578b\u7684\u5b9e\u4f8b\u3002\u5728 ECMAScript \u4e2d\u5f15\u7528\u7c7b\u578b\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u548c\u529f\u80fd\u7ec4\u7ec7\u5728\u4e00\u8d77\u3002","title":"1\u3001\u6982\u8ff0"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#2","text":"Object\u7c7b\u578b \u521b\u5efa Object \u7c7b\u578b\u6709\u4e24\u79cd\u3002 \u4f7f\u7528 new \u8fd0\u7b97\u7b26 \u5b57\u9762\u91cf\u8868\u793a\u6cd5 \u4f7f\u7528new \u8fd0\u7b97\u7b26\u521b\u5efa Object ```javascript var box = new Object(); // new\u65b9\u5f0f \u521b\u5efa\u7a7a\u5bf9\u8c61 box.name = 'lucky'; // \u521b\u5efa\u5c5e\u6027\u5b57\u6bb5 box.age = 18; // \u521b\u5efa\u5c5e\u6027\u5b57\u6bb5 var obj = new Object({'name':'lucky'}) //\u521b\u5efa\u5bf9\u8c61\u5e76\u8d4b\u503c var box = Object(); // new\u5173\u952e\u5b57\u53ef\u4ee5\u7701\u7565 \u4e0d\u5efa\u8bae ``` \u4f7f\u7528\u5b57\u9762\u91cf\u65b9\u5f0f\u521b\u5efaObject javascript var box = { // \u5b57\u9762\u91cf\u65b9\u5f0f name :'lucky', // \u521b\u5efa\u5c5e\u6027\u5b57\u6bb5,\u6700\u540e\u52a0\u9017\u53f7 age : 18, fun:function(){ alert('lucky is a good man '); } }; \u5c5e\u6027\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u5f62\u5f0f javascript var box = { 'name': 'lucky', //\u4e5f\u53ef\u4ee5\u7528\u5b57\u7b26\u4e32\u5f62\u5f0f 'age': 28 }; \u4f7f\u7528\u5b57\u9762\u91cf\u53ca\u4f20\u7edf\u8d4b\u503c\u65b9\u5f0f javascript var box = {}; //\u5b57\u9762\u91cf\u65b9\u5f0f\u58f0\u660e\u7a7a\u7684\u5bf9\u8c61 box.name = 'lucky'; //\u70b9\u7b26\u53f7\u7ed9\u5c5e\u6027\u8d4b\u503c box.age = 18; \u4e24\u79cd\u5c5e\u6027\u8f93\u51fa\u65b9\u5f0f javascript console.log(box.age); //\u70b9\u8868\u793a\u6cd5\u8f93\u51fa console.log(box['age']); //\u4e2d\u62ec\u53f7\u8868\u793a\u6cd5\u8f93\u51fa\uff0c\u6ce8\u610f\u5f15\u53f7 \u5bf9\u8c61\u521b\u5efa\u65b9\u6cd5 javascript var box={ //\u5bf9\u8c61\u4e2d\u6dfb\u52a0\u65b9\u6cd5(\u51fd\u6570)run run: function() { retrun \"\u6b63\u5728\u8dd1\u6b65..\"; } } alert(box.run()); //\u8c03\u7528\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5 \u4f7f\u7528 delete \u5220\u9664\u5bf9\u8c61\u5c5e\u6027 delete box.name; //\u5220\u9664\u5c5e\u6027 instanceof \u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684\u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002 javascript function a(){ } x = new a() console.log(x instanceof a) \u5728 JavaScript \u4e2d\uff0cES2015\uff08\u4e5f\u79f0\u4e3aES6\uff09\u5f15\u5165\u4e86\u4e00\u79cd\u65b0\u7684\u8bed\u6cd5\uff0c\u79f0\u4e3a\u201c\u7b80\u5199\u5c5e\u6027\u540d\u201d\uff08Shorthand Property Names\uff09\uff0c\u4f7f\u5f97\u5728\u5bf9\u8c61\u5b57\u9762\u91cf\u4e2d\u521b\u5efa\u5c5e\u6027\u548c\u503c\u76f8\u540c\u7684\u60c5\u51b5\u66f4\u52a0\u7b80\u6d01\u3002 javascript // \u4f7f\u7528\u7b80\u5199\u5c5e\u6027\u540d\u521b\u5efa\u5bf9\u8c61 var name = \"lucky\"; var age = \"18\"; var speak = function(){console.log('lucky is a good man')} \u65b0\u8bed\u6cd5\u4e4b\u524d\u5c06name\u3001age\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\u7684\u65b9\u5f0f javascript // \u65b9\u5f0f\u4e00 var obj = {} obj.name = name // \u5c06\u5c5e\u6027\u6dfb\u52a0\u5230obj\u4e2d obj.age = age obj.speak = speak // \u65b9\u5f0f\u4e8c \u5b9a\u4e49\u7684\u65f6\u5019\u6dfb\u52a0\u8fc7\u6765 var obj = { 'name': name, 'age': age, 'speak': speak } \u65b0\u8bed\u6cd5 \u66f4\u52a0\u7b80\u6d01 javascript var obj = { name, age, speak }; console.log(obj); \u5bf9\u8c61\u4e2d\u5c5e\u6027\u8d4b\u503c\u7ed9\u53d8\u91cf javascript let obj = {'name':'lucky', 'age':18} let {name,age} = obj console.log(name, age) \u6ce8\u610f\uff1a \u5f53\u524d\u5bf9\u8c61\u4e2d\u5c5e\u6027\u548c\u53d8\u91cf\u540d\u79f0\u9700\u8981\u76f8\u540c","title":"2\u3001\u5bf9\u8c61\u7684\u521b\u5efa"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#3this","text":"\u5728\u5bf9\u8c61\u5185\u90e8\u7684this\u4ee3\u8868\u5f53\u524d\u7684\u5bf9\u8c61\u3002\u7b49\u540c\u4e8epython\u4e2d\u7684self\u5bf9\u8c61 \u4ee3\u7801\u793a\u4f8b\uff1a var obj = { name: 'lucky', age: 18, speak: function(sex){ console.log(this) // \u4ee3\u8868\u5f53\u524d\u5bf9\u8c61 // \u8c03\u7528\u5f53\u524d\u5bf9\u8c61\u7684name\u548cage\u5c5e\u6027 console.log(this.name) console.log(this.age) // \u5c06\u5f53\u524d\u5c5e\u6027\u7684\u503c\u683c\u5f0f\u5316\u5230\u5f53\u524d\u7684\u5b57\u7b26\u4e32\u4e2d\u5e76\u8f93\u51fa let str = `\u6211\u7684\u540d\u5b57\u662f\uff1a${this.name}\u3001\u6211\u4eca\u5e74${this.age}\u5c81\u4e86\u3001\u6211\u7684\u6027\u522b\u662f${sex}` console.log(str) return '\u8fd4\u56de\u503c' } } // \u5916\u90e8\u6253\u5370obj\u5bf9\u8c61 console.log(obj) // \u5916\u90e8\u8c03\u7528obj\u5bf9\u8c61\u7684\u5c5e\u6027 console.log(obj.name) // \u5916\u90e8\u8c03\u7528obj\u5bf9\u8c61\u7684\u65b9\u6cd5speak console.log(obj.speak('man'))","title":"3\u3001this\u5173\u952e\u5b57"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#4","text":"javaScript \u5bf9\u8c61\u5141\u8bb8\u4f7f\u7528\u65b9\u62ec\u53f7 [] \u6765\u8bbf\u95ee\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u3002\u8fd9\u79cd\u8bed\u6cd5\u5141\u8bb8\u4f60\u4f7f\u7528\u53d8\u91cf\u6216\u5b57\u7b26\u4e32\u4f5c\u4e3a\u5c5e\u6027\u540d\u3002 \u5185\u7f6e\u65b9\u6cd5\u7684\u4f7f\u7528\u65b9\u5f0f ```javascript var a = 'lucky' a[2] // \u83b7\u53d6\u7d22\u5f15\u4e3a2\u7684\u5b57\u7b26 a.charAt(2) a 'charAt' var arr = [] arr.push(1) arr 'push' ``` \u540c\u6837\u53ef\u4ee5\u4f7f\u7528\u70b9\u6216\u8005\u4e2d\u62ec\u53f7\u7684\u65b9\u5f0f\u8fdb\u884c\u8c03\u7528 \u5e38\u5e38\u7528\u4e8e\u52a0\u5bc6 (\u5f53\u524d\u52a0\u5bc6\u7684\u4e0d\u65ad\u6f14\u53d8) javascript a['charAt'](2) javascript a[String.fromCharCode(99)+'har'+String.fromCharCode(65)+'t'](2) javascript a[String['fromCharCode'](99)+'har'+String.fromCharCode(65)+'t'](2) javascript a[String['fromChar'+String['fromCharCode'](67)+'ode'](99)+'har'+String.fromCharCode(65)+'t'](2) javascript a[String['fromChar'+String['fromCharCode'](1067-0x3e8)+'ode'](99)+'har'+String.fromCharCode(65)+'t'](2)","title":"4\u3001\u6ce8\u610f"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#date","text":"","title":"\u4e8c\u3001\u65e5\u671f\u5bf9\u8c61Date"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#1date","text":"Date\u7c7b\u578b\u4f7f\u7528\u81eaUTC\uff08CoordinatedUniversal Time\uff0c\u56fd\u9645\u534f\u8c03\u65f6\u95f4\uff091970\u5e741\u67081\u65e5\u5348\u591c\uff08\u96f6\u65f6\uff09\u5f00\u59cb\u7ecf\u8fc7\u7684\u6beb\u79d2\u6570\u6765\u4fdd\u5b58\u65e5\u671f\u3002Date\u7c7b\u578b\u4fdd\u5b58\u7684\u65e5\u671f\u80fd\u591f\u7cbe\u786e\u52301970\u5e741\u67081\u65e5\u4e4b\u524d\u6216\u4e4b\u540e\u7684285616\u5e74\u3002 \u521b\u5efa\u4e00\u4e2a\u65e5\u671f\u5bf9\u8c61\uff0c\u4f7f\u7528 new\u8fd0\u7b97\u7b26\u548cDate\u6784\u9020\u65b9\u6cd5(\u6784\u9020\u51fd\u6570)\u5373\u53ef\u3002 javascript var d = new Date(); //\u6216\u8005 var d = new Date; \u5728\u8c03\u7528Date\u6784\u9020\u65b9\u6cd5\u800c\u4e0d\u4f20\u9012\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u65b0\u5efa\u7684\u5bf9\u8c61\u81ea\u52a8\u83b7\u53d6\u5f53\u524d\u7684\u65f6\u95f4\u548c\u65e5\u671f\u3002 \u521b\u5efa\u65e5\u671f\u5bf9\u8c61\u5e76\u6307\u5b9a\u65f6\u95f4 ```javascript var date = new Date(\"2024/08/22\"); var date = new Date(2024,04,13,14,34); ``` \u3010\u6ce8\u3011\u65e5\u671f\u7684\u683c\u5f0f\u53ef\u4ee5\u662f\u201c2024/08/22\u201d\uff0c\u201c2024-08-22\u201d\uff0c\u62161970\u5e74\u5f53\u524d\u65e5\u671f\u7684\u6beb\u79d2\u6570 \u65b9\u6cd5 \u65b9\u6cd5 \u8bf4\u660e console.log(date.toDateString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u661f\u671f\u51e0\u3001\u6708\u3001\u65e5\u548c\u5e74 console.log(date.toTimeString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u65f6\u3001\u5206\u3001\u79d2\u548c\u65f6\u533a console.log(date.toLocaleDateString()); \u4ee5\u7279\u5b9a\u5730\u533a\u683c\u5f0f\u663e\u793a\u5e74\u3001\u6708\u3001\u65e5 console.log(date.toLocaleTimeString()); \u4ee5\u7279\u5b9a\u5730\u533a\u683c\u5f0f\u663e\u793a\u65f6\u3001\u5206\u3001\u79d2 console.log(date.toUTCString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u5b8c\u6574\u7684 UTC \u65e5\u671f: \u5e74,\u6708,\u65e5,\u65f6,\u5206,\u79d2\u3002 console.log(date.toDateString()); \u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u663e\u793a\u661f\u671f\u51e0\u3001\u6708\u3001\u65e5\u548c\u5e74","title":"1\u3001Date\u5bf9\u8c61\u4ee3\u8868\u65e5\u671f"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#2date","text":"setDate() / getDate() \u4eceDate\u5bf9\u8c61\u4e2d\u8fd4\u56de\u4e00\u4e2a\u6708\u4e2d\u7684\u67d0\u4e00\u5929(1~31) getDay() \u4eceDate\u5bf9\u8c61\u8fd4\u56de\u4e00\u5468\u4e2d\u7684\u67d0\u4e00\u5929(0~6) set/ getMonth() \u4eceDate\u5bf9\u8c61\u4e2d\u8fd4\u56de\u6708\u4efd(0~11) set/ getFullYear() \u4eceDate\u5bf9\u8c61\u4ee5\u56db\u4f4d\u6570\u8fd4\u56de\u5e74\u4efd set/ getHours() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u5c0f\u65f6(0~23) set/ getMinutes() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u5206\u949f(0~59) set/ getSeconds() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u79d2\u6570(0~59) set/ getMilliseconds() \u8fd4\u56deDate\u5bf9\u8c61\u7684\u6beb\u79d2 set/ getTime() \u8fd4\u56de1970\u5e741\u67081\u65e5\u81f3\u4eca\u7684\u6beb\u79d2\u6570\uff08\u91cd\u70b9\uff09 \u6ce8\u610f\uff1ajs\u4e2d\u8fd4\u56de\u65f6\u95f4\u6233\u957f\u5ea6\u4e3a13\u3001python\u4e2d\u8fd4\u56de\u957f\u5ea6\u4e3a10 getTimezoneOffset() \u8fd4\u56de\u672c\u5730\u65f6\u95f4\u4e0e\u683c\u6797\u5c3c\u6cbb\u6807\u51c6\u65f6\u95f4(GMT)\u7684\u5206\u949f\u5dee \u6ce8\u610f\uff1a \u00d8\u6708\u4efd\u662f\u4ece0-11\uff0c\u6240\u4ee5\u53d6\u5f97\u7684\u503c\u8981\u52a01\u624d\u662f\u5f53\u524d\u6708\u4efd \u00d8\u661f\u671f\u5929\u662f\u4ece0-6, 0\u4ee3\u8868\u661f\u671f\u5929 \u91cd\u70b9 \u5bf9\u4e8e\u6211\u4eec\u722c\u866b\u6765\u8bf4\u91cd\u70b9\u662f\u65f6\u95f4\u6233\u7684\u83b7\u53d6 new Date().getTime() Date.now()","title":"2\u3001\u65e5\u671f\u5bf9\u8c61Date"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#3new-date","text":"\u8bf4\u660e: \u5728 JavaScript \u4e2d\uff0c + \u64cd\u4f5c\u7b26\u6709\u591a\u79cd\u7528\u9014\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u5b83\u7684\u4e0a\u4e0b\u6587\u3002\u5728 +new Date() \u4e2d\uff0c + \u88ab\u7528\u4f5c\u4e00\u5143\u6b63\u53f7\uff0c\u5176\u4f5c\u7528\u662f\u5c06\u540e\u9762\u7684\u8868\u8fbe\u5f0f\u8f6c\u6362\u4e3a\u6570\u5b57\u3002 \u5b9e\u4f8b javascript const timestamp = +new Date(); console.log(timestamp); // \u8f93\u51fa\u5f53\u524d\u65f6\u95f4\u7684\u65f6\u95f4\u6233 \u9006\u5411\u6848\u4f8b\u4e2d https://www.kongfz.com/ \u8fd0\u884c\u7ed3\u679c \u8fd9\u79cd\u5199\u6cd5\u7ecf\u5e38\u7528\u4e8e\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u7684\u65f6\u95f4\u6233\uff0c\u56e0\u4e3a\u5b83\u662f\u4e00\u79cd\u7b80\u6d01\u800c\u5e38\u89c1\u7684\u5199\u6cd5\u3002\u5982\u679c\u4f60\u4e0d\u4f7f\u7528\u4e00\u5143\u6b63\u53f7\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 new Date().getTime() \u6216 new Date().valueOf()","title":"3\u3001+new Date"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#_2","text":"","title":"\u4e09\u3001\u5b9a\u65f6\u5668\u4e0e\u5b9a\u65f6\u6267\u884c"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#1_1","text":"\u6982\u8ff0 setInterval() \u65b9\u6cd5\u53ef\u6309\u7167\u6307\u5b9a\u7684\u5468\u671f\uff08\u4ee5\u6beb\u79d2\u8ba1\uff09\u6765\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f **setInterval() ** \u65b9\u6cd5\u4f1a\u4e0d\u505c\u5730\u8c03\u7528\u51fd\u6570\uff0c\u76f4\u5230clearInterval()\u88ab\u8c03\u7528\u6216\u7a97\u53e3\u88ab\u5173\u95ed\u3002\u7531setInterval()\u8fd4\u56de\u7684ID\u503c\u53ef\u7528\u4f5cclearInterval()\u65b9\u6cd5\u7684\u53c2\u6570\u3002 \u521b\u5efa\u5b9a\u65f6\u5668 setInterval(code,millisec) \u53c2\u6570 code \u662f\u8981\u8c03\u7528\u7684\u4ee3\u7801\u5757\u6216\u8005\u51fd\u6570 millisec \u662f\u5468\u671f\u6027\u6267\u884c\u4ee3\u7801\u5757\u6216\u51fd\u6570\u7684\u95f4\u9694\uff0c\u4ee5\u6beb\u79d2\u8ba1 \u5b9e\u4f8b \u521b\u5efa\u5b9a\u65f6\u5668timer,\u6bcf\u96941\u79d2\u8c03\u7528\u4e00\u6b21\u51fd\u6570function javascript var timer = setInterval( function(){},1000); \u5173\u95ed\u5b9a\u65f6\u5668 javascript clearInterval(timer); \u663e\u793a\u65f6\u95f4 ```javascript \u65f6\u95f4\uff1a \u6682\u505c var s = document.getElementById('show'); var timer = setInterval(function () { var box = new Date(); s.innerHTML = box.toLocaleDateString()+' '+box.toLocaleTimeString(); },1); function stop() { clearInterval(timer); } ``` \u6ce8\u610f\uff1a \u5bf9\u4e8e\u722c\u866b\u6765\u8bf4 \u5e38\u7528\u4e8e\u68c0\u6d4b\u662f\u5426\u5f00\u542f\u7684\u8c03\u8bd5\u6a21\u5f0f F12","title":"1\u3001\u5b9a\u65f6\u5668"},{"location":"21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html#2_1","text":"\u6982\u8ff0 setTimeout() \u65b9\u6cd5\u53ef\u6309\u7167\u6307\u5b9a\u7684\u6beb\u79d2\u6765\u5b9a\u65f6\u6267\u884c \u6765\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f \u521b\u5efa\u5b9a\u65f6\u5668 setTimeout(code,millisec) code \u662f\u8981\u8c03\u7528\u7684\u4ee3\u7801\u5757\u6216\u8005\u51fd\u6570 millisec \u6beb\u79d2 \u5b9e\u4f8b \u521b\u5efa\u5b9a\u65f6\u6267\u884c\u5668timer,\u6bcf\u96941\u79d2\u8c03\u7528\u4e00\u6b21\u51fd\u6570function javascript var timer = setTimeout( function(){},1000); \u5173\u95ed\u5b9a\u65f6\u5668 javascript clearTimeout(timer);","title":"2\u3001\u5b9a\u65f6\u6267\u884c\u4e00\u6b21"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html","text":"\u4e8c\u5341\u4e8c\u3001js\u51fd\u6570 \u4e00\u3001\u51fd\u6570\u7684\u5b9a\u4e49 JavaScript\u4e09\u79cd\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\uff1a 1\u3001 function\u8bed\u53e5\u5b9a\u4e49\u51fd\u6570 \u683c\u5f0f javascript function \u51fd\u6570\u540d(\u53c2\u65701[,\u53c2\u65702...]) { return y * y; } \u5b9a\u4e49 javascript function myFunction(y) { return y * y; } \u8c03\u7528 \u4e0d\u533a\u5206\u4f4d\u7f6e\uff08\u51fd\u6570\u5b9a\u4e49\u4e0a\u65b9\u6216\u4e0b\u65b9\uff09 javascript myFunction(5); \u5f62\u53c2\u548c\u5b9e\u53c2\u4e2a\u6570\u5bf9\u5e94\u4e0d\u4e0a\u4e5f\u4e0d\u4f1a\u62a5\u9519 \u5b9e\u53c2\u5c0f\u4e8e\u5f62\u53c2\u4e2a\u6570 \u5219\u6ca1\u6709\u503c\u7684\u5f62\u53c2\u7684\u503c\u4e3aundefined \u5b9e\u53c2\u5927\u4e8e\u5f62\u53c2\u4e2a\u6570 \u5219\u5f62\u53c2\u548c\u5b9e\u53c2\u7684\u503c\u5bf9\u5e94 \u8d85\u51fa\u7684\u6ca1\u6709\u4efb\u4f55\u53d8\u5316 javascript myFunction(5, 6); \u8bbe\u7f6e\u9ed8\u8ba4\u503c javascript function myFunction(y=2) { return y * y; } 2\u3001\u6784\u9020\u51fd\u6570\u6765\u5b9a\u4e49\u51fd\u6570\uff08\u4e0d\u5e38\u7528\uff09 \u683c\u5f0f javascript var \u51fd\u6570\u540d = new Function(\u201c\u53c2\u65701\u201d\uff0c\u201d\u53c2\u65702\u201d\uff0c\u201d\u53c2\u65703\u201d\u2026\u2026\u201d\u51fd\u6570\u4f53\u201d); \u5b9e\u4f8b javascript var fun = new Function(\"x\",\"y\",\"var z=x+y;return z;\"); var fun = new Function(\"x=1\",\"y=2\",\"var z=x+y;return z;\"); 3\u3001\u51fd\u6570\u8868\u8fbe\u5f0f \u6982\u8ff0 JavaScript \u51fd\u6570\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u8868\u8fbe\u5f0f\u5b9a\u4e49\u3002 \u51fd\u6570\u8868\u8fbe\u5f0f\u53ef\u4ee5\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\uff1a javascript var \u51fd\u6570\u540d = function(\u53c2\u65701\uff0c\u53c2\u65702\uff0c\u2026){\u51fd\u6570\u4f53}; \u5b9e\u4f8b javascript //\u5b9a\u4e49 var add = function(a,b){ return a + b; }; //\u8c03\u7528\u51fd\u6570 document.write(add(50,20)); 4\u3001\u7bad\u5934\u51fd\u6570---ES6\u4e2d\u7684\u65b0\u7b80\u6d01\u8bed\u6cd5 \u8bf4\u660e \u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. \u65e0\u53c2\u51fd\u6570 javascript // \u65e0\u53c2\u51fd\u6570 var fn = function(){}; // \u666e\u901a\u5199\u6cd5 var fn = () => {}; // \u7b80\u6d01\u5199\u6cd5 \u4e00\u4e2a\u53c2\u6570\u51fd\u6570 javascript // \u4e00\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name){} // \u666e\u901a\u5199\u6cd5 var fn = (name) => {} // \u7b80\u6d01\u5199\u6cd5 var fn = name => {} // \u7b80\u6d01\u5199\u6cd5 \u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u7701\u7565\u5c0f\u62ec\u53f7 \u591a\u4e2a\u53c2\u6570\u51fd\u6570 javascript // \u591a\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name, age){} // \u666e\u901a\u5199\u6cd5 var fn = (name, age) => {} // \u7b80\u6d01\u5199\u6cd5 5\u3001\u81ea\u8fd0\u884c\u51fd\u6570 \u8bf4\u660e \u81ea\u8fd0\u884c\u51fd\u6570\uff08Self-invoking function\uff09\u662f\u5728\u5b9a\u4e49\u4e4b\u540e\u7acb\u5373\u6267\u884c\u7684 JavaScript \u51fd\u6570\u3002\u8fd9\u79cd\u51fd\u6570\u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a\u7acb\u5373\u6267\u884c\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Immediately Invoked Function Expression\uff0cIIFE\uff09\u3002 \u81ea\u8c03\u7528\u51fd\u6570 () javascript (function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); })(); \u547d\u540d\u7684\u81ea\u8fd0\u884c\u51fd\u6570 javascript (function namedFunction() { // \u4ee3\u7801\u5757 var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); })(); \u81ea\u8c03\u7528\u51fd\u6570 + javascript +function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u81ea\u8c03\u7528\u51fd\u6570 - javascript -function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u81ea\u8c03\u7528\u51fd\u6570 ~ javascript ~function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u81ea\u8c03\u7528\u51fd\u6570 ! javascript !function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u7bad\u5934\u51fd\u6570\u5f62\u5f0f \u65e0\u53c2 javascript (() => { // \u4ee3\u7801\u5757 })(); \u643a\u5e26\u53c2\u6570 javascript (name => { // \u4ee3\u7801\u5757 console.log(name) })('lucky'); 5\u3001\u4f5c\u7528\u57df \u8bf4\u660e \u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528var\u3001const\u3001let\u58f0\u660e\u7684\u53d8\u91cf\u4e3a\u5c40\u90e8\u53d8\u91cf \u4e0d\u6dfb\u52a0\u58f0\u660e\u53d8\u91cf\u5173\u952e\u5b57\u58f0\u660e\u7684\u53d8\u91cf\u5219\u4e3a\u5168\u5c40\uff0c\u51fd\u6570\u5185\u5916\u90fd\u80fd\u4f7f\u7528 \u5b9e\u4f8b javascript !function () { global_val = \"\u6211\u662f\u5168\u5c40\u53d8\u91cf\"; // \u5185\u5916\u90fd\u80fd\u83b7\u5f97\u5168\u5c40\u53d8\u91cfglobal_val console.log(global_val); }(); console.log(global_val) 6\u3001\u6ce8\u610f \u5173\u4e8e\u53d8\u91cf\u548c\u53c2\u6570\u95ee\u9898\uff1a \u51fd\u6570\u5916\u9762\u5b9a\u4e49\u7684\u53d8\u91cf\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u51fd\u6570\u5185\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 \u5728\u51fd\u6570\u5185\u90e8\u6ca1\u6709\u4f7f\u7528var\u3001let\u3001const\u5b9a\u4e49\u7684\u53d8\u91cf\u5219\u4e3a\u5168\u5c40\u53d8\u91cf \u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u51fd\u6570\u4e3a\u5c40\u90e8\u51fd\u6570 \u5728\u51fd\u6570\u5916\u90e8\u4e0d\u80fd\u83b7\u53d6\u5230 \u5728\u51fd\u6570\u5185\u4f7f\u7528\u5173\u952e\u5b57\u5b9a\u4e49\u7684\u53d8\u91cf\u662f\u5c40\u90e8\u53d8\u91cf\uff0c\u5373\u51fa\u4e86\u51fd\u6570\u5916\u8fb9\u65e0\u6cd5\u83b7\u53d6\u3002 \u51fd\u6570\u652f\u6301\u9ed8\u8ba4\u503c \u5b9e\u53c2\u53ef\u4ee5\u5927\u4e8e\u5f62\u53c2\u4e2a\u6570 \u4e0d\u4f1a\u62a5\u9519 \u4e0d\u53ef\u4ee5\u8bbe\u5b9a\u5173\u952e\u5b57\u53c2\u6570 \u4e8c\u3001arguments \u4e0ereturn 1\u3001\u4e0d\u5b9a\u957f\u53c2\u6570arguments \u5bf9\u8c61 \u6982\u8ff0 \u5728\u51fd\u6570\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528\u7279\u6b8a\u5bf9\u8c61 arguments\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u660e\u786e\u6307\u51fa\u53c2\u6570\u540d\uff0c\u5c31\u80fd\u8bbf\u95ee\u5b83\u4eec\u3002 \u4f8b\u5982\uff0c\u5728\u51fd\u6570 sayHi() \u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f message\u3002\u7528 arguments[0] \u4e5f\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2a\u503c\uff0c\u5373\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u503c\uff08\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f4d\u4e8e\u4f4d\u7f6e 0\uff0c \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f4d\u4e8e\u4f4d\u7f6e 1\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff09\u3002 \u4f8b\u5982\uff1a ```javascript x = sumAll(1, 123, 500, 115, 44, 88); function sumAll() { var i, sum = 0; for (i = 0; i < arguments.length; i++) { sum += arguments[i]; } return sum; } ``` \u5b9e\u4f8b 2\u3001return\u5173\u952e\u5b57 \u5b9e\u4f8b javascript function test() { return 'val' console.log('\u8f93\u51fa') // \u548cPython\u4e00\u6837 return\u540e\u9762\u4ee3\u7801\u4e0d\u5728\u6267\u884c } console.log(test()); \u5982\u679creturn \u540e\u9762\u8ddf\u4e86\u591a\u4e2a\u503c ```javascript function test() { return console.log('\u5f20\u4e09'),console.log('\u674e\u56db'),'lucky'; } console.log(test()); // \u6267\u884c\u7ed3\u679c \u8f93\u51fa \u5f20\u4e09 \uff0c\u674e\u56db \u8fd4\u56delucky ``` \u6ce8\u610f \u5f53\u51fd\u6570\u4f53\u6267\u884c\u9047\u5230return \u4e0b\u9762\u4ee3\u7801\u4e0d\u5728\u6267\u884c return\u5c06\u503c \u8fd4\u56de\u7ed9\u4e86\u51fd\u6570\u8c03\u7528\u5904 return\u540e\u9017\u53f7\u5206\u9694\u591a\u4e2a\u503c\u4e3a\u8868\u8fbe\u5f0f \u90fd\u4f1a\u6267\u884c \u4f46\u662f\u6700\u540e\u4e00\u4e2a\u624d\u4f1a\u88ab\u8fd4\u56de \u4e09\u3001JavaScript \u95ed\u5305 1\u3001\u6982\u8ff0 JavaScript \u53d8\u91cf\u53ef\u4ee5\u662f\u5c40\u90e8\u53d8\u91cf\u6216\u5168\u5c40\u53d8\u91cf\u3002 \u79c1\u6709\u53d8\u91cf\u53ef\u4ee5\u7528\u5230\u95ed\u5305 \u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u4fee\u6539\u51fd\u6570\u5916\u90e8\u7684\u5168\u5c40\u53d8\u91cf 2\u3001\u8ba1\u6570\u5668\u56f0\u5883 \u8bbe\u60f3\u4e0b\u5982\u679c\u4f60\u60f3\u7edf\u8ba1\u4e00\u4e9b\u6570\u503c\uff0c\u4e14\u8be5\u8ba1\u6570\u5668\u5728\u6240\u6709\u51fd\u6570\u4e2d\u90fd\u662f\u53ef\u7528\u7684\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u51fd\u6570\u8bbe\u7f6e\u8ba1\u6570\u5668\u9012\u589e\uff1a var counter = 0; function add() { return counter += 1; } add(); add(); add(); // \u8ba1\u6570\u5668\u73b0\u5728\u4e3a 3 \u4f46\u95ee\u9898\u6765\u4e86\uff0c\u9875\u9762\u4e0a\u7684 \u4efb\u4f55\u811a\u672c\u90fd\u80fd\u6539\u53d8\u8ba1\u6570\u5668 \uff0c\u5373\u4fbf\u6ca1\u6709\u8c03\u7528 add() \u51fd\u6570\u3002 \u5982\u679c\u6211\u5728\u51fd\u6570\u5185\u58f0\u660e\u8ba1\u6570\u5668\uff0c\u5982\u679c\u6ca1\u6709\u8c03\u7528\u51fd\u6570\u5c06\u65e0\u6cd5\u4fee\u6539\u8ba1\u6570\u5668\u7684\u503c\uff1a function add() { var counter = 0; return counter += 1; } add(); add(); add(); // \u672c\u610f\u662f\u60f3\u8f93\u51fa 3, \u4f46\u4e8b\u4e0e\u613f\u8fdd\uff0c\u8f93\u51fa\u7684\u90fd\u662f 1 ! 3\u3001JavaScript \u5185\u5d4c\u51fd\u6570 \u6982\u8ff0 \u6240\u6709\u51fd\u6570\u90fd\u80fd\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u3002 \u5b9e\u9645\u4e0a\uff0c\u5728 JavaScript \u4e2d\uff0c\u6240\u6709\u51fd\u6570\u90fd\u80fd\u8bbf\u95ee\u5b83\u4eec\u4e0a\u4e00\u5c42\u7684\u4f5c\u7528\u57df\u3002 JavaScript \u652f\u6301\u5d4c\u5957\u51fd\u6570\u3002\u5d4c\u5957\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee\u4e0a\u4e00\u5c42\u7684\u51fd\u6570\u53d8\u91cf\u3002 \u8be5\u5b9e\u4f8b\u4e2d\uff0c\u5185\u5d4c\u51fd\u6570 plus() \u53ef\u4ee5\u8bbf\u95ee\u7236\u51fd\u6570\u7684 counter \u53d8\u91cf\uff1a \u5b9e\u4f8b: javascript function add() { var counter = 0; function plus() { counter += 1; } plus(); return counter; } 4\u3001JavaScript \u95ed\u5305 \u7b2c\u4e00\u79cd\u5b9e\u73b0\u8ba1\u6570\u5668 javascript var add = (function () { var counter = 0; function inner() { return counter += 1; } return inner })(); \u7b2c\u4e8c\u79cd \u76f4\u63a5return \u51fd\u6570\u4f53 ```javascript var add = (function () { var counter = 0; return function () { return counter += 1; } })(); add(); add(); add(); // \u8ba1\u6570\u5668\u4e3a 3 ``` \u5b9e\u4f8b\u89e3\u6790 \u53d8\u91cf add \u6307\u5b9a\u4e86\u51fd\u6570\u81ea\u6211\u8c03\u7528\u7684\u8fd4\u56de\u5b57\u503c\u3002 \u81ea\u6211\u8c03\u7528\u51fd\u6570\u53ea\u6267\u884c\u4e00\u6b21\u3002\u8bbe\u7f6e\u8ba1\u6570\u5668\u4e3a 0\u3002\u5e76\u8fd4\u56de\u51fd\u6570\u8868\u8fbe\u5f0f\u3002 add\u53d8\u91cf\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u51fd\u6570\u4f7f\u7528\u3002\u975e\u5e38\u68d2\u7684\u90e8\u5206\u662f\u5b83\u53ef\u4ee5\u8bbf\u95ee\u51fd\u6570\u4e0a\u4e00\u5c42\u4f5c\u7528\u57df\u7684\u8ba1\u6570\u5668\u3002 \u8fd9\u4e2a\u53eb\u4f5c JavaScript \u95ed\u5305\u3002 \u5b83\u4f7f\u5f97\u51fd\u6570\u62e5\u6709\u79c1\u6709\u53d8\u91cf\u53d8\u6210\u53ef\u80fd\u3002 \u8ba1\u6570\u5668\u53d7\u533f\u540d\u51fd\u6570\u7684\u4f5c\u7528\u57df\u4fdd\u62a4\uff0c\u53ea\u80fd\u901a\u8fc7 add \u65b9\u6cd5\u4fee\u6539\u3002 \u95ed\u5305\u662f\u53ef\u8bbf\u95ee\u4e0a\u4e00\u5c42\u51fd\u6570\u4f5c\u7528\u57df\u91cc\u53d8\u91cf\u7684\u51fd\u6570\uff0c\u5373\u4fbf\u4e0a\u4e00\u5c42\u51fd\u6570\u5df2\u7ecf\u5173\u95ed\u3002 \u95ed\u5305\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u5f15\u7528\u53e6\u4e00\u4e2a\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u56e0\u4e3a\u53d8\u91cf\u88ab\u5f15\u7528\u7740\u6240\u4ee5\u4e0d\u4f1a\u88ab\u56de\u6536\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u6765\u5c01\u88c5\u4e00\u4e2a\u79c1\u6709\u53d8\u91cf\u3002\u8fd9\u662f\u4f18\u70b9\u4e5f\u662f\u7f3a\u70b9\uff0c\u4e0d\u5fc5\u8981\u7684\u95ed\u5305\u53ea\u4f1a\u589e\u52a0\u5185\u5b58\u6d88\u8017\u3002 \u6216\u8005\u8bf4\u95ed\u5305\u5c31\u662f\u5b50\u51fd\u6570\u53ef\u4ee5\u4f7f\u7528\u7236\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u8fd8\u6709\u7236\u51fd\u6570\u7684\u53c2\u6570\u3002","title":"\u4e8c\u5341\u4e8c\u3001js\u51fd\u6570"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#js","text":"","title":"\u4e8c\u5341\u4e8c\u3001js\u51fd\u6570"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#_1","text":"JavaScript\u4e09\u79cd\u5b9a\u4e49\u51fd\u6570\u65b9\u6cd5\uff1a","title":"\u4e00\u3001\u51fd\u6570\u7684\u5b9a\u4e49"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#1-function","text":"\u683c\u5f0f javascript function \u51fd\u6570\u540d(\u53c2\u65701[,\u53c2\u65702...]) { return y * y; } \u5b9a\u4e49 javascript function myFunction(y) { return y * y; } \u8c03\u7528 \u4e0d\u533a\u5206\u4f4d\u7f6e\uff08\u51fd\u6570\u5b9a\u4e49\u4e0a\u65b9\u6216\u4e0b\u65b9\uff09 javascript myFunction(5); \u5f62\u53c2\u548c\u5b9e\u53c2\u4e2a\u6570\u5bf9\u5e94\u4e0d\u4e0a\u4e5f\u4e0d\u4f1a\u62a5\u9519 \u5b9e\u53c2\u5c0f\u4e8e\u5f62\u53c2\u4e2a\u6570 \u5219\u6ca1\u6709\u503c\u7684\u5f62\u53c2\u7684\u503c\u4e3aundefined \u5b9e\u53c2\u5927\u4e8e\u5f62\u53c2\u4e2a\u6570 \u5219\u5f62\u53c2\u548c\u5b9e\u53c2\u7684\u503c\u5bf9\u5e94 \u8d85\u51fa\u7684\u6ca1\u6709\u4efb\u4f55\u53d8\u5316 javascript myFunction(5, 6); \u8bbe\u7f6e\u9ed8\u8ba4\u503c javascript function myFunction(y=2) { return y * y; }","title":"1\u3001 function\u8bed\u53e5\u5b9a\u4e49\u51fd\u6570"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#2","text":"\u683c\u5f0f javascript var \u51fd\u6570\u540d = new Function(\u201c\u53c2\u65701\u201d\uff0c\u201d\u53c2\u65702\u201d\uff0c\u201d\u53c2\u65703\u201d\u2026\u2026\u201d\u51fd\u6570\u4f53\u201d); \u5b9e\u4f8b javascript var fun = new Function(\"x\",\"y\",\"var z=x+y;return z;\"); var fun = new Function(\"x=1\",\"y=2\",\"var z=x+y;return z;\");","title":"2\u3001\u6784\u9020\u51fd\u6570\u6765\u5b9a\u4e49\u51fd\u6570\uff08\u4e0d\u5e38\u7528\uff09"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#3","text":"\u6982\u8ff0 JavaScript \u51fd\u6570\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u8868\u8fbe\u5f0f\u5b9a\u4e49\u3002 \u51fd\u6570\u8868\u8fbe\u5f0f\u53ef\u4ee5\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\uff1a javascript var \u51fd\u6570\u540d = function(\u53c2\u65701\uff0c\u53c2\u65702\uff0c\u2026){\u51fd\u6570\u4f53}; \u5b9e\u4f8b javascript //\u5b9a\u4e49 var add = function(a,b){ return a + b; }; //\u8c03\u7528\u51fd\u6570 document.write(add(50,20));","title":"3\u3001\u51fd\u6570\u8868\u8fbe\u5f0f"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#4-es6","text":"\u8bf4\u660e \u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. \u65e0\u53c2\u51fd\u6570 javascript // \u65e0\u53c2\u51fd\u6570 var fn = function(){}; // \u666e\u901a\u5199\u6cd5 var fn = () => {}; // \u7b80\u6d01\u5199\u6cd5 \u4e00\u4e2a\u53c2\u6570\u51fd\u6570 javascript // \u4e00\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name){} // \u666e\u901a\u5199\u6cd5 var fn = (name) => {} // \u7b80\u6d01\u5199\u6cd5 var fn = name => {} // \u7b80\u6d01\u5199\u6cd5 \u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u7701\u7565\u5c0f\u62ec\u53f7 \u591a\u4e2a\u53c2\u6570\u51fd\u6570 javascript // \u591a\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name, age){} // \u666e\u901a\u5199\u6cd5 var fn = (name, age) => {} // \u7b80\u6d01\u5199\u6cd5","title":"4\u3001\u7bad\u5934\u51fd\u6570---ES6\u4e2d\u7684\u65b0\u7b80\u6d01\u8bed\u6cd5"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#5","text":"\u8bf4\u660e \u81ea\u8fd0\u884c\u51fd\u6570\uff08Self-invoking function\uff09\u662f\u5728\u5b9a\u4e49\u4e4b\u540e\u7acb\u5373\u6267\u884c\u7684 JavaScript \u51fd\u6570\u3002\u8fd9\u79cd\u51fd\u6570\u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a\u7acb\u5373\u6267\u884c\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Immediately Invoked Function Expression\uff0cIIFE\uff09\u3002 \u81ea\u8c03\u7528\u51fd\u6570 () javascript (function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); })(); \u547d\u540d\u7684\u81ea\u8fd0\u884c\u51fd\u6570 javascript (function namedFunction() { // \u4ee3\u7801\u5757 var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); })(); \u81ea\u8c03\u7528\u51fd\u6570 + javascript +function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u81ea\u8c03\u7528\u51fd\u6570 - javascript -function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u81ea\u8c03\u7528\u51fd\u6570 ~ javascript ~function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u81ea\u8c03\u7528\u51fd\u6570 ! javascript !function () { var x = \"Hello!!\"; // \u6211\u5c06\u8c03\u7528\u81ea\u5df1 console.log(x); }(); \u7bad\u5934\u51fd\u6570\u5f62\u5f0f \u65e0\u53c2 javascript (() => { // \u4ee3\u7801\u5757 })(); \u643a\u5e26\u53c2\u6570 javascript (name => { // \u4ee3\u7801\u5757 console.log(name) })('lucky');","title":"5\u3001\u81ea\u8fd0\u884c\u51fd\u6570"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#5_1","text":"\u8bf4\u660e \u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528var\u3001const\u3001let\u58f0\u660e\u7684\u53d8\u91cf\u4e3a\u5c40\u90e8\u53d8\u91cf \u4e0d\u6dfb\u52a0\u58f0\u660e\u53d8\u91cf\u5173\u952e\u5b57\u58f0\u660e\u7684\u53d8\u91cf\u5219\u4e3a\u5168\u5c40\uff0c\u51fd\u6570\u5185\u5916\u90fd\u80fd\u4f7f\u7528 \u5b9e\u4f8b javascript !function () { global_val = \"\u6211\u662f\u5168\u5c40\u53d8\u91cf\"; // \u5185\u5916\u90fd\u80fd\u83b7\u5f97\u5168\u5c40\u53d8\u91cfglobal_val console.log(global_val); }(); console.log(global_val)","title":"5\u3001\u4f5c\u7528\u57df"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#6","text":"\u5173\u4e8e\u53d8\u91cf\u548c\u53c2\u6570\u95ee\u9898\uff1a \u51fd\u6570\u5916\u9762\u5b9a\u4e49\u7684\u53d8\u91cf\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u51fd\u6570\u5185\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 \u5728\u51fd\u6570\u5185\u90e8\u6ca1\u6709\u4f7f\u7528var\u3001let\u3001const\u5b9a\u4e49\u7684\u53d8\u91cf\u5219\u4e3a\u5168\u5c40\u53d8\u91cf \u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u51fd\u6570\u4e3a\u5c40\u90e8\u51fd\u6570 \u5728\u51fd\u6570\u5916\u90e8\u4e0d\u80fd\u83b7\u53d6\u5230 \u5728\u51fd\u6570\u5185\u4f7f\u7528\u5173\u952e\u5b57\u5b9a\u4e49\u7684\u53d8\u91cf\u662f\u5c40\u90e8\u53d8\u91cf\uff0c\u5373\u51fa\u4e86\u51fd\u6570\u5916\u8fb9\u65e0\u6cd5\u83b7\u53d6\u3002 \u51fd\u6570\u652f\u6301\u9ed8\u8ba4\u503c \u5b9e\u53c2\u53ef\u4ee5\u5927\u4e8e\u5f62\u53c2\u4e2a\u6570 \u4e0d\u4f1a\u62a5\u9519 \u4e0d\u53ef\u4ee5\u8bbe\u5b9a\u5173\u952e\u5b57\u53c2\u6570","title":"6\u3001\u6ce8\u610f"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#arguments-return","text":"","title":"\u4e8c\u3001arguments \u4e0ereturn"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#1arguments","text":"\u6982\u8ff0 \u5728\u51fd\u6570\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528\u7279\u6b8a\u5bf9\u8c61 arguments\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u660e\u786e\u6307\u51fa\u53c2\u6570\u540d\uff0c\u5c31\u80fd\u8bbf\u95ee\u5b83\u4eec\u3002 \u4f8b\u5982\uff0c\u5728\u51fd\u6570 sayHi() \u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f message\u3002\u7528 arguments[0] \u4e5f\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2a\u503c\uff0c\u5373\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u503c\uff08\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f4d\u4e8e\u4f4d\u7f6e 0\uff0c \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f4d\u4e8e\u4f4d\u7f6e 1\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff09\u3002 \u4f8b\u5982\uff1a ```javascript x = sumAll(1, 123, 500, 115, 44, 88); function sumAll() { var i, sum = 0; for (i = 0; i < arguments.length; i++) { sum += arguments[i]; } return sum; } ``` \u5b9e\u4f8b","title":"1\u3001\u4e0d\u5b9a\u957f\u53c2\u6570arguments \u5bf9\u8c61"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#2return","text":"\u5b9e\u4f8b javascript function test() { return 'val' console.log('\u8f93\u51fa') // \u548cPython\u4e00\u6837 return\u540e\u9762\u4ee3\u7801\u4e0d\u5728\u6267\u884c } console.log(test()); \u5982\u679creturn \u540e\u9762\u8ddf\u4e86\u591a\u4e2a\u503c ```javascript function test() { return console.log('\u5f20\u4e09'),console.log('\u674e\u56db'),'lucky'; } console.log(test()); // \u6267\u884c\u7ed3\u679c \u8f93\u51fa \u5f20\u4e09 \uff0c\u674e\u56db \u8fd4\u56delucky ``` \u6ce8\u610f \u5f53\u51fd\u6570\u4f53\u6267\u884c\u9047\u5230return \u4e0b\u9762\u4ee3\u7801\u4e0d\u5728\u6267\u884c return\u5c06\u503c \u8fd4\u56de\u7ed9\u4e86\u51fd\u6570\u8c03\u7528\u5904 return\u540e\u9017\u53f7\u5206\u9694\u591a\u4e2a\u503c\u4e3a\u8868\u8fbe\u5f0f \u90fd\u4f1a\u6267\u884c \u4f46\u662f\u6700\u540e\u4e00\u4e2a\u624d\u4f1a\u88ab\u8fd4\u56de","title":"2\u3001return\u5173\u952e\u5b57"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#javascript","text":"","title":"\u4e09\u3001JavaScript \u95ed\u5305"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#1","text":"JavaScript \u53d8\u91cf\u53ef\u4ee5\u662f\u5c40\u90e8\u53d8\u91cf\u6216\u5168\u5c40\u53d8\u91cf\u3002 \u79c1\u6709\u53d8\u91cf\u53ef\u4ee5\u7528\u5230\u95ed\u5305 \u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u4fee\u6539\u51fd\u6570\u5916\u90e8\u7684\u5168\u5c40\u53d8\u91cf","title":"1\u3001\u6982\u8ff0"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#2_1","text":"\u8bbe\u60f3\u4e0b\u5982\u679c\u4f60\u60f3\u7edf\u8ba1\u4e00\u4e9b\u6570\u503c\uff0c\u4e14\u8be5\u8ba1\u6570\u5668\u5728\u6240\u6709\u51fd\u6570\u4e2d\u90fd\u662f\u53ef\u7528\u7684\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u51fd\u6570\u8bbe\u7f6e\u8ba1\u6570\u5668\u9012\u589e\uff1a var counter = 0; function add() { return counter += 1; } add(); add(); add(); // \u8ba1\u6570\u5668\u73b0\u5728\u4e3a 3 \u4f46\u95ee\u9898\u6765\u4e86\uff0c\u9875\u9762\u4e0a\u7684 \u4efb\u4f55\u811a\u672c\u90fd\u80fd\u6539\u53d8\u8ba1\u6570\u5668 \uff0c\u5373\u4fbf\u6ca1\u6709\u8c03\u7528 add() \u51fd\u6570\u3002 \u5982\u679c\u6211\u5728\u51fd\u6570\u5185\u58f0\u660e\u8ba1\u6570\u5668\uff0c\u5982\u679c\u6ca1\u6709\u8c03\u7528\u51fd\u6570\u5c06\u65e0\u6cd5\u4fee\u6539\u8ba1\u6570\u5668\u7684\u503c\uff1a function add() { var counter = 0; return counter += 1; } add(); add(); add(); // \u672c\u610f\u662f\u60f3\u8f93\u51fa 3, \u4f46\u4e8b\u4e0e\u613f\u8fdd\uff0c\u8f93\u51fa\u7684\u90fd\u662f 1 !","title":"2\u3001\u8ba1\u6570\u5668\u56f0\u5883"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#3javascript","text":"\u6982\u8ff0 \u6240\u6709\u51fd\u6570\u90fd\u80fd\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u3002 \u5b9e\u9645\u4e0a\uff0c\u5728 JavaScript \u4e2d\uff0c\u6240\u6709\u51fd\u6570\u90fd\u80fd\u8bbf\u95ee\u5b83\u4eec\u4e0a\u4e00\u5c42\u7684\u4f5c\u7528\u57df\u3002 JavaScript \u652f\u6301\u5d4c\u5957\u51fd\u6570\u3002\u5d4c\u5957\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee\u4e0a\u4e00\u5c42\u7684\u51fd\u6570\u53d8\u91cf\u3002 \u8be5\u5b9e\u4f8b\u4e2d\uff0c\u5185\u5d4c\u51fd\u6570 plus() \u53ef\u4ee5\u8bbf\u95ee\u7236\u51fd\u6570\u7684 counter \u53d8\u91cf\uff1a \u5b9e\u4f8b: javascript function add() { var counter = 0; function plus() { counter += 1; } plus(); return counter; }","title":"3\u3001JavaScript \u5185\u5d4c\u51fd\u6570"},{"location":"22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html#4javascript","text":"\u7b2c\u4e00\u79cd\u5b9e\u73b0\u8ba1\u6570\u5668 javascript var add = (function () { var counter = 0; function inner() { return counter += 1; } return inner })(); \u7b2c\u4e8c\u79cd \u76f4\u63a5return \u51fd\u6570\u4f53 ```javascript var add = (function () { var counter = 0; return function () { return counter += 1; } })(); add(); add(); add(); // \u8ba1\u6570\u5668\u4e3a 3 ``` \u5b9e\u4f8b\u89e3\u6790 \u53d8\u91cf add \u6307\u5b9a\u4e86\u51fd\u6570\u81ea\u6211\u8c03\u7528\u7684\u8fd4\u56de\u5b57\u503c\u3002 \u81ea\u6211\u8c03\u7528\u51fd\u6570\u53ea\u6267\u884c\u4e00\u6b21\u3002\u8bbe\u7f6e\u8ba1\u6570\u5668\u4e3a 0\u3002\u5e76\u8fd4\u56de\u51fd\u6570\u8868\u8fbe\u5f0f\u3002 add\u53d8\u91cf\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u51fd\u6570\u4f7f\u7528\u3002\u975e\u5e38\u68d2\u7684\u90e8\u5206\u662f\u5b83\u53ef\u4ee5\u8bbf\u95ee\u51fd\u6570\u4e0a\u4e00\u5c42\u4f5c\u7528\u57df\u7684\u8ba1\u6570\u5668\u3002 \u8fd9\u4e2a\u53eb\u4f5c JavaScript \u95ed\u5305\u3002 \u5b83\u4f7f\u5f97\u51fd\u6570\u62e5\u6709\u79c1\u6709\u53d8\u91cf\u53d8\u6210\u53ef\u80fd\u3002 \u8ba1\u6570\u5668\u53d7\u533f\u540d\u51fd\u6570\u7684\u4f5c\u7528\u57df\u4fdd\u62a4\uff0c\u53ea\u80fd\u901a\u8fc7 add \u65b9\u6cd5\u4fee\u6539\u3002 \u95ed\u5305\u662f\u53ef\u8bbf\u95ee\u4e0a\u4e00\u5c42\u51fd\u6570\u4f5c\u7528\u57df\u91cc\u53d8\u91cf\u7684\u51fd\u6570\uff0c\u5373\u4fbf\u4e0a\u4e00\u5c42\u51fd\u6570\u5df2\u7ecf\u5173\u95ed\u3002 \u95ed\u5305\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u5f15\u7528\u53e6\u4e00\u4e2a\u51fd\u6570\u7684\u53d8\u91cf\uff0c\u56e0\u4e3a\u53d8\u91cf\u88ab\u5f15\u7528\u7740\u6240\u4ee5\u4e0d\u4f1a\u88ab\u56de\u6536\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u6765\u5c01\u88c5\u4e00\u4e2a\u79c1\u6709\u53d8\u91cf\u3002\u8fd9\u662f\u4f18\u70b9\u4e5f\u662f\u7f3a\u70b9\uff0c\u4e0d\u5fc5\u8981\u7684\u95ed\u5305\u53ea\u4f1a\u589e\u52a0\u5185\u5b58\u6d88\u8017\u3002 \u6216\u8005\u8bf4\u95ed\u5305\u5c31\u662f\u5b50\u51fd\u6570\u53ef\u4ee5\u4f7f\u7528\u7236\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u8fd8\u6709\u7236\u51fd\u6570\u7684\u53c2\u6570\u3002","title":"4\u3001JavaScript \u95ed\u5305"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html","text":"\u4e8c\u5341\u4e09\u3001Javascript\u8fdb\u9636 \u4e00. \u53d8\u91cf\u63d0\u5347(\u4e0d\u6b63\u5e38\u73b0\u8c61)---\u56de\u987e 1\u3001\u524d\u60c5\u6458\u8981 \u770b\u4ee5\u4e0b\u4ee3\u7801, \u6216\u591a\u6216\u5c11\u4f1a\u6709\u4e9b\u95ee\u9898\u7684. function fn(){ console.log(name) ; var name = 'lucky'; } fn() \u53d1\u73b0\u95ee\u9898\u4e86\u4e48. \u8fd9\u4e48\u5199\u4ee3\u7801, \u5728\u5176\u4ed6\u8bed\u8a00\u91cc. \u7edd\u5bf9\u662f\u4e0d\u5141\u8bb8\u7684. \u4f46\u662f\u5728js\u91cc. \u4e0d\u4f46\u5141\u8bb8, \u8fd8\u80fd\u6267\u884c. \u4e3a\u4ec0\u4e48\u5462? \u56e0\u4e3a\u5728js\u6267\u884c\u7684\u65f6\u5019. \u5b83\u4f1a\u9996\u5148\u68c0\u6d4b\u4f60\u7684\u4ee3\u7801. \u53d1\u73b0\u5728\u4ee3\u7801\u4e2d\u4f1a\u6709name\u4f7f\u7528. OK. \u8fd0\u884c\u65f6\u5c31\u4f1a\u53d8\u6210\u8fd9\u6837\u7684\u903b\u8f91: function fn(){ var name; console.log(name); name = 'lucky'; } fn() 2\u3001\u89e3\u51b3 \u770b\u5230\u4e86\u4e48. \u5b9e\u9645\u8fd0\u884c\u7684\u65f6\u5019\u548c\u6211\u4eec\u5199\u4ee3\u7801\u7684\u987a\u5e8f\u53ef\u80fd\u4f1a\u4e0d\u4e00\u6837....\u8fd9\u79cd\u628a\u53d8\u91cf\u63d0\u524d\u5230\u4ee3\u7801\u5757\u7b2c\u4e00\u90e8\u5206\u8fd0\u884c\u7684\u903b\u8f91\u88ab\u79f0\u4e3a\u53d8\u91cf\u63d0\u5347. \u8fd9\u5728\u5176\u4ed6\u8bed\u8a00\u91cc\u662f\u7edd\u5bf9\u6ca1\u6709\u7684. \u5e76\u4e14\u4e5f\u4e0d\u662f\u4ec0\u4e48\u597d\u4e8b\u60c5. \u6b63\u5e38\u7684\u903b\u8f91\u4e0d\u5e94\u8be5\u662f\u8fd9\u6837\u7684. \u90a3\u4e48\u600e\u4e48\u529e? \u5728\u65b0\u7684ES6\u4e2d. \u5c31\u660e\u786e\u4e86, \u8fd9\u6837\u4f7f\u7528\u53d8\u91cf\u662f\u4e0d\u5b8c\u5584\u7684. es6\u63d0\u51fa. \u7528let\u6765\u58f0\u660e\u53d8\u91cf. \u5c31\u4e0d\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\u4e86. \u5b9e\u4f8b javascript function fn(){ console.log(name); // \u76f4\u63a5\u62a5\u9519, let\u53d8\u91cf\u4e0d\u53ef\u4ee5\u53d8\u91cf\u63d0\u5347. let name = 'lucky'; } fn() 3\u3001let\u6269\u5c55 \u7ed3\u8bba\u4e00, \u7528let\u58f0\u660e\u53d8\u91cf\u662f\u65b0\u7248\u672cjavascript\u63d0\u5021\u7684\u4e00\u79cd\u58f0\u660e\u53d8\u91cf\u7684\u65b9\u6848 let\u8fd8\u6709\u54ea\u4e9b\u4f5c\u7528\u5462? function fn(){ var name = \"lucky\"; var name = \"\u738b\u529b\u5b8f\"; console.log(name); } fn() \u663e\u7136\u4e00\u4e2a\u53d8\u91cf\u88ab\u58f0\u660e\u4e86\u4e24\u6b21. \u8fd9\u6837\u4e5f\u662f\u4e0d\u5408\u7406\u7684. var\u672c\u610f\u662f\u58f0\u660e\u53d8\u91cf. \u540c\u4e00\u4e2a\u4e1c\u897f. \u88ab\u58f0\u660e\u4e24\u6b21. \u6240\u4ee5ES6\u89c4\u5b9a. let\u58f0\u660e\u7684\u53d8\u91cf. \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. \u53ea\u80fd\u58f0\u660e\u4e00\u6b21. function fn(){ let name = \"lucky\"; let name = \"\u738b\u529b\u5b8f\"; console.log(name); } fn() \u6ce8\u610f, \u62a5\u9519\u662f\u53d1\u751f\u5728\u4ee3\u7801\u68c0\u67e5\u9636\u6bb5. \u6240\u4ee5. \u4e0a\u8ff0\u4ee3\u7801\u6839\u672c\u5c31\u6267\u884c\u4e0d\u4e86. \u7ed3\u8bba\u4e8c, \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. let\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u58f0\u660e\u4e00\u6b21. \u5176\u4ed6\u4f7f\u7528\u4e0a\u548cvar\u6ca1\u6709\u5dee\u522b \u4e8c. \u8fdb\u9636\u64cd\u4f5c(\u975e\u4ea4\u4e92) 1\u3001 eval\u51fd\u6570 eval\u4f7f\u7528 eval\u672c\u8eab\u5728js\u91cc\u9762\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684\u5e76\u4e0d\u591a. \u4f46\u662f\u5f88\u591a\u7f51\u7ad9\u4f1a\u5229\u7528eval\u7684\u7279\u6027\u6765\u5b8c\u6210\u53cd\u722c\u64cd\u4f5c. \u6211\u4eec\u6765\u770b\u770beval\u662f\u4e2a\u4ec0\u4e48\u9b3c? \u4ece\u529f\u80fd\u4e0a\u8bb2, eval\u975e\u5e38\u7b80\u5355. \u5b83\u548cpython\u91cc\u9762\u7684eval\u662f\u4e00\u6837\u7684. \u5b83\u53ef\u4ee5\u52a8\u6001\u7684\u628a\u5b57\u7b26\u4e32\u5f53\u6210js\u4ee3\u7801\u8fdb\u884c\u8fd0\u884c. javascript s = \"console.log('lucky is a good man')\"; eval(s); \u4e5f\u5c31\u662f\u8bf4. eval\u91cc\u9762\u4f20\u9012\u7684\u5e94\u8be5\u662f\u5373\u5c06\u8981\u6267\u884c\u7684\u4ee3\u7801(\u5b57\u7b26\u4e32). \u90a3\u4e48\u5728\u9875\u9762\u4e2d\u5982\u679c\u770b\u5230\u4e86eval\u52a0\u5bc6\u8be5\u5982\u4f55\u662f\u597d? \u5176\u5b9e\u53ea\u8981\u8bb0\u4f4f\u4e86\u4e00\u4e2a\u4e8b\u513f. \u5b83\u91cc\u9762\u4e0d\u8bba\u591a\u590d\u6742. \u4e00\u5b9a\u662f\u4e2a\u5b57\u7b26\u4e32. \u6bd4\u5982, javascript eval(eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('1.4(\"5 3 0 2 6\")',62,7,'a|console|good|is|log|lucky|man'.split('|'),0,{}))) \u8fd9\u4e00\u5768\u770b\u8d77\u6765, \u80af\u5b9a\u5f88\u4e0d\u723d. \u600e\u4e48\u53d8\u6210\u6211\u4eec\u770b\u7740\u5f88\u8212\u670d\u7684\u6837\u5b50\u5462? \u8bb0\u4f4f. eval()\u91cc\u9762\u662f\u5b57\u7b26\u4e32. \u8bb0\u4f4f~!! \u90a3\u6211\u60f3\u770b\u770b\u8fd9\u4e2a\u5b57\u7b26\u4e32\u957f\u4ec0\u4e48\u6837? \u5c31\u628aeval()\u91cc\u9762\u7684\u4e1c\u897f\u62f7\u8d1d\u51fa\u6765. \u6267\u884c\u4e00\u4e0b. \u6700\u7ec8\u4e00\u5b9a\u4f1a\u5f97\u5230\u4e00\u4e2a\u5b57\u7b26\u4e32. \u8981\u4e0d\u7136eval()\u6267\u884c\u4e0d\u4e86\u7684. \u5bf9\u4e0d...\u4e8e\u662f\u5c31\u6709\u4e86\u4e0b\u9762\u7684\u64cd\u4f5c. http://tools.jb51.net/password/evalencode, \u5728\u8d60\u9001\u4f60\u4e00\u4e2a\u5728\u7ebfJS\u5904\u7406eval\u7684\u7f51\u7ad9. \u5927\u591a\u6570\u7684eval\u52a0\u5bc6. \u90fd\u53ef\u4ee5\u641e\u5b9a\u4e86. \u6ce8\u610f eval\u7684\u53c2\u6570\u4e00\u5b9a\u662f\u5b57\u7b26\u4e32 \u5b9e\u9645\u6848\u4f8b \u7f51\u5740\uff1a https://www.aqistudy.cn/historydata/monthdata.php?city=%E4%B8%9C%E8%8E%9E \u4ee3\u7801 javascript eval(function(p, a, c, k, e, d) { e = function(c) { return (c < a ? \"\" : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36)) } ; if (!''.replace(/^/, String)) { while (c--) d[e(c)] = k[c] || e(c); k = [function(e) { return d[e] } ]; e = function() { return '\\\\w+' } ; c = 1; } ;while (c--) if (k[c]) p = p.replace(new RegExp('\\\\b' + e(c) + '\\\\b','g'), k[c]); return p; }('4 3(1){2 0=5 8();7 0.6(1)}', 9, 9, 'b|tsdx|var|dweklxde|function|new|decode|return|Base64'.split('|'), 0, {})); \u5c06eval\u4e2d\u7684\u51fd\u6570\u590d\u5236\u51fa\u6765 \u6dfb\u52a0\u62ec\u53f7\u8fdb\u884c\u81ea\u8c03\u7528\u8fd0\u884c 2\u3001ES6\u4e2d\u7684\u65b0\u7b80\u6d01\u8bed\u6cd5 \u7bad\u5934\u51fd\u6570 \u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. ```javascript // \u65e0\u53c2\u51fd\u6570 var fn = function(){}; // \u666e\u901a\u5199\u6cd5 var fn = () => {}; // \u7b80\u6d01\u5199\u6cd5 // \u4e00\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name){} // \u666e\u901a\u5199\u6cd5 var fn = name => {} // \u7b80\u6d01\u5199\u6cd5 \u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u7701\u7565\u5c0f\u62ec\u53f7 var fn = (name) => {} // \u7b80\u6d01\u5199\u6cd5 // \u591a\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name, age){} // \u666e\u901a\u5199\u6cd5 var fn = (name, age) => {} // \u7b80\u6d01\u5199\u6cd5 ``` \u5bf9\u8c61\u7b80\u5199 \u5982\u679c\u5c5e\u6027\u548c\u503c\u4e3a\u540c\u4e00\u4e2a\u540d\u79f0\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u5199\u6cd5\u8fdb\u884c\u7b80\u5316 javascript var name = 'lucky'; function speak(){ console.log(\"lucky is a good man\") } var obj = { name: name, } // \u7b80\u6d01\u5199\u6cd5 var obj = { name, speak, } \u5185\u90e8\u65b9\u6cd5\u7684\u7b80\u6d01\u5199\u6cd5 javascript // \u666e\u901a\u5199\u6cd5 var obj = { speak: function(){ console.log(\"lucky is a good man\") }, } // \u7b80\u6d01\u5199\u6cd5 var obj = { speak(){ console.log(\"lucky is a good man\") }, } \u89e3\u6784 \u8ba9\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u7b80\u6d01 javascript var obj = { name: 'lucky', speak: function(){ console.log(\"lucky is a good man\") } } var name = obj.name var speak = obj.speak \u7b80\u6d01\u5199\u6cd5 javascript var obj = { name: 'lucky', speak: function(){ console.log(\"lucky is a good man\") } } var {name, speak} = obj 3\u3001\u9017\u53f7\u8fd0\u7b97\u7b26 \u8bf4\u660e\uff1a \u5728 JavaScript \u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\uff08 , \uff09\u7528\u4e8e\u5728\u8bed\u53e5\u4e2d\u5206\u9694\u8868\u8fbe\u5f0f\uff0c\u5e76\u6309\u987a\u5e8f\u6267\u884c\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u3002\u9017\u53f7\u8fd0\u7b97\u7b26\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u8bed\u6cd5\u5f62\u5f0f\u5982\u4e0b\uff1a javascript expression1, expression2, expression3, ..., expressionN \u4f8b\u5982 javascript function s(){ console.log(1), console.log(2), console.log(3); // \u4ece\u524d\u5411\u540e\u6267\u884c ,1,2,3 let s = (1, 2, 3); // \u6574\u4f53\u8fdb\u884c\u8d4b\u503c\u7684\u65f6\u5019. \u53d6\u7684\u662f\u6700\u540e\u4e00\u4e2a\u503c 3 console.log(s); // \u6ce8\u610f. \u8fd9\u4e2a\u62ec\u53f7\u53ef\u4ee5\u5728\u8fd4\u56de\u503c\u65f6\u7701\u7565 var age; return age=18,age++,age+=100,{name:\"lucky\", \"age\":age}; } let r = s(); console.log(r); // {name: 'lucky', age: 119} \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\u7528\u4e8e\u5728\u4e00\u884c\u4e2d\u6267\u884c\u591a\u4e2a\u8d4b\u503c\u64cd\u4f5c\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\u4f1a\u4ece\u5de6\u5230\u53f3\u4f9d\u6b21\u6267\u884c\u6bcf\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5e76\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u5b9e\u9645\u6848\u4f8b javascript t.prototype[c(\"0x27\")] = function() { var t, e, r, n = 0; return n = s() ? Date.now() : window.XM_SERVER_CLOCK || 0, t = this[c(\"0x13\")], e = n, r = Date[c(\"0x25\")](), (\"{\" + t + e + \"}(\" + u(100) + \")\" + e + \"(\" + u(100) + \")\" + r)[c(\"0xa\")](/{([\\w-]+)}/, (function(t, e) { return a(e) })) } 4\u3001 \u590d\u6742\u4e09\u5143\u8fd0\u7b97\u7b26 let a = 10; let b = 20; let d = a > b? a: b console.log(d); \u6848\u4f8b let a = 10; let b = 20; let c = 5; let d = 17; let e; let m; e = (e = a > 3 ? b : c, m = e < b++ ? c-- : a = 3 > b % d ? 27: 37, m++); console.log(a); console.log(b); console.log(c); console.log(d); console.log(e); console.log(m); \u5b9e\u4f8b function test(){ return (Aa() ? 0 : p(\"Opera\")) ? a([\"Version\", \"Opera\"]) : (Aa() ? 0 : p(\"Edge\")) ? a([\"Edge\"]) : Da() ? a([\"Edg\"]) : p(\"Silk\") ? a([\"Silk\"]) : Fa() ? a([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]) : (a = b[2]) && a[1] || \"\" } 5\u3001 JSON.stringify\u548cJSON.parse (1) JSON.stringify \u8bf4\u660e JSON.stringify \u7684\u4f5c\u7528\u662f\u5c06 JavaScript \u5bf9\u8c61\u6216\u503c\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u65b9\u6cd5\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u4f60\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e2d\u4f20\u9012\u548c\u5b58\u50a8\u6570\u636e\uff0c\u5c24\u5176\u662f\u5728\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u6216\u5728\u672c\u5730\u5b58\u50a8\u6570\u636e\u65f6\u3002 JSON.stringify \u7684\u4e3b\u8981\u7528\u9014\uff1a \u6570\u636e\u4f20\u8f93\uff1a \u5f53\u4f60\u9700\u8981\u5c06\u6570\u636e\u4ece\u524d\u7aef\u53d1\u9001\u5230\u540e\u7aef\uff08\u6216\u76f8\u53cd\uff09\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 JSON.stringify \u5c06 JavaScript \u5bf9\u8c61\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5728\u670d\u52a1\u5668\u7aef\u4f7f\u7528\u76f8\u5e94\u7684\u89e3\u6790\u65b9\u6cd5\u8fdb\u884c\u5904\u7406\u3002 ```javascript const dataToSend = { username: \"Lucky\", age: 18, isAdmin: false }; const jsonString = JSON.stringify(dataToSend); // \u5c06 jsonString \u53d1\u9001\u5230\u670d\u52a1\u5668 ``` \u672c\u5730\u5b58\u50a8\uff1a \u5f53\u4f60\u9700\u8981\u5728\u6d4f\u89c8\u5668\u7684\u672c\u5730\u5b58\u50a8\u4e2d\u4fdd\u5b58\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 JSON.stringify \u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5c06\u5b57\u7b26\u4e32\u5b58\u50a8\u5728\u672c\u5730\u3002 ```javascript const userPreferences = { theme: \"Lucky\", fontSize: 18 }; localStorage.setItem(\"userPrefs\", JSON.stringify(userPreferences)); ``` \u65e5\u5fd7\u8bb0\u5f55\uff1a \u5728\u8bb0\u5f55\u65e5\u5fd7\u65f6\uff0c\u6709\u65f6\u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3a\u53ef\u8bfb\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u67e5\u770b\u548c\u5206\u6790\u3002 ```javascript const errorDetails = { message: \"An error occurred\", code: 500, timestamp: new Date() }; console.log(\"Error details: \" + JSON.stringify(errorDetails)); ``` \u6df1\u62f7\u8d1d\uff1a \u901a\u8fc7\u4f7f\u7528 JSON.stringify \u548c JSON.parse \u53ef\u4ee5\u6267\u884c\u5bf9\u8c61\u7684\u6df1\u62f7\u8d1d\uff0c\u521b\u5efa\u539f\u5bf9\u8c61\u7684\u526f\u672c\u800c\u4e0d\u662f\u5f15\u7528\u3002 javascript const originalObject = { key: \"value\" }; const copiedObject = JSON.parse(JSON.stringify(originalObject)); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c`JSON.stringify` \u4e0d\u4f1a\u5305\u62ec\u5bf9\u8c61\u7684\u51fd\u6570\u3001`undefined` \u6216 `Symbol` \u7c7b\u578b\u7684\u5c5e\u6027\u3002\u5982\u679c\u5bf9\u8c61\u5305\u542b\u8fd9\u4e9b\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5b83\u4eec\u5c06\u5728\u7ed3\u679c\u4e2d\u88ab\u5ffd\u7565\u6216\u8f6c\u6362\u4e3a `null`\u3002 Symbol\uff08\u4e86\u89e3\uff09 Symbol \u7c7b\u578b\u7684\u5c5e\u6027\u63d0\u4f9b\u4e86\u4e00\u79cd\u53ef\u9760\u4e14\u4e0d\u5bb9\u6613\u88ab\u8986\u76d6\u7684\u5c5e\u6027\u6807\u8bc6\u7b26\uff0c\u9002\u7528\u4e8e\u9700\u8981\u786e\u4fdd\u5c5e\u6027\u540d\u552f\u4e00\u6027\u7684\u60c5\u51b5\u3002 const symbol1 = Symbol('uniqueSymbol'); const symbol2 = Symbol('uniqueSymbol'); console.log(symbol1 === symbol2); // false\uff0c\u56e0\u4e3a\u6bcf\u4e2a Symbol \u90fd\u662f\u552f\u4e00\u7684 const obj = { [symbol1]: 'Value for symbol1', [symbol2]: 'Value for symbol2' }; console.log(obj[symbol1]); // Value for symbol1 console.log(obj[symbol2]); // Value for symbol2 (2) JSON.parse \u8bf4\u660e JSON.parse \u7684\u4f5c\u7528\u662f\u5c06 JSON \u5b57\u7b26\u4e32\u89e3\u6790\u6210 JavaScript \u5bf9\u8c61\u3002\u8fd9\u4e2a\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u5904\u7406\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u7684 JSON \u6570\u636e\u6216\u672c\u5730\u5b58\u50a8\u4e2d\u7684 JSON \u5b57\u7b26\u4e32\u3002 JSON.parse \u7684\u4e3b\u8981\u7528\u9014\uff1a \u5904\u7406\u670d\u52a1\u5668\u54cd\u5e94\uff1a \u5f53\u4f60\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\uff0c\u670d\u52a1\u5668\u901a\u5e38\u4f1a\u4ee5 JSON \u683c\u5f0f\u53d1\u9001\u6570\u636e\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 JSON.parse \u5c06\u8fd9\u4e9b JSON \u6570\u636e\u89e3\u6790\u4e3a JavaScript \u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u5ba2\u6237\u7aef\u4e2d\u4f7f\u7528\u3002 ```javascript const jsonResponse = '{\"username\": \"Lucky\", \"age\": 25, \"isAdmin\": false}'; const userData = JSON.parse(jsonResponse); // \u73b0\u5728 userData \u662f\u4e00\u4e2a\u5305\u542b\u670d\u52a1\u5668\u54cd\u5e94\u6570\u636e\u7684 JavaScript \u5bf9\u8c61 ``` \u5904\u7406\u672c\u5730\u5b58\u50a8\u6570\u636e\uff1a \u5f53\u4f60\u4ece\u672c\u5730\u5b58\u50a8\u4e2d\u68c0\u7d22\u4ee5 JSON \u683c\u5f0f\u5b58\u50a8\u7684\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 JSON.parse \u5c06 JSON \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a JavaScript \u5bf9\u8c61\u3002 ```javascript const storedPrefs = localStorage.getItem(\"userPrefs\"); const userPreferences = JSON.parse(storedPrefs); // userPreferences \u73b0\u5728\u662f\u4e00\u4e2a\u5305\u542b\u672c\u5730\u5b58\u50a8\u6570\u636e\u7684 JavaScript \u5bf9\u8c61 ``` \u5904\u7406\u7528\u6237\u8f93\u5165\uff1a \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u53ef\u80fd\u4f1a\u63d0\u4f9b\u4ee5 JSON \u5b57\u7b26\u4e32\u5f62\u5f0f\u8f93\u5165\u7684\u6570\u636e\u3002\u901a\u8fc7\u4f7f\u7528 JSON.parse \uff0c\u4f60\u53ef\u4ee5\u5c06\u7528\u6237\u8f93\u5165\u8f6c\u6362\u4e3a JavaScript \u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u3002 ```javascript const userInput = '{\"searchQuery\": \"vacation\", \"filters\": {\"minPrice\": 100, \"maxPrice\": 500}}'; const searchData = JSON.parse(userInput); // searchData \u73b0\u5728\u662f\u4e00\u4e2a\u5305\u542b\u7528\u6237\u8f93\u5165\u6570\u636e\u7684 JavaScript \u5bf9\u8c61 ``` \u6df1\u62f7\u8d1d\uff1a \u548c JSON.stringify \u4e00\u8d77\u4f7f\u7528\uff0c JSON.parse \u53ef\u4ee5\u6267\u884c\u5bf9\u8c61\u7684\u6df1\u62f7\u8d1d\uff0c\u521b\u5efa\u539f\u5bf9\u8c61\u7684\u526f\u672c\u800c\u4e0d\u662f\u5f15\u7528\u3002 javascript const originalObject = { key: \"value\" }; const jsonString = JSON.stringify(originalObject); const copiedObject = JSON.parse(jsonString); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJSON \u5b57\u7b26\u4e32\u5fc5\u987b\u662f\u6709\u6548\u7684 JSON \u683c\u5f0f\uff0c\u5426\u5219 JSON.parse \u4f1a\u5f15\u53d1\u9519\u8bef\u3002\u5728\u89e3\u6790\u4e4b\u524d\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528 JSON.stringify \u786e\u4fdd\u751f\u6210\u7684\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 JSON\u3002 6\u3001\u672c\u5730\u5b58\u50a8 \u672c\u5730\u5b58\u50a8. \u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u7aef\u7684\u6570\u636e. \u53ef\u4ee5\u7406\u89e3\u6210\u4e00\u4e2a\u5c0f\u578b\u7684\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93. \u6982\u8ff0\uff1a localStorage\u548csessionStorage\u90fd\u662fHTML5\u63d0\u4f9b\u7684Web\u5b58\u50a8API\uff0c\u7528\u4e8e\u5728\u6d4f\u89c8\u5668\u4e2d\u4e34\u65f6\u6216\u6301\u4e45\u5730\u5b58\u50a8\u6570\u636e\u3002 \u4f5c\u7528\uff1a \u5b58\u50a8, \u83b7\u53d6. \u5220\u9664. (1) localStorage\uff1a localStorage\u662f\u4e00\u79cd\u6301\u4e45\u5316\u7684\u672c\u5730\u5b58\u50a8\u673a\u5236\u3002 \u5b58\u50a8\u7684\u6570\u636e\u5728\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\u540e\u4ecd\u7136\u4fdd\u7559\uff0c\u76f4\u5230\u88ab\u663e\u5f0f\u5220\u9664\u3002 \u5b58\u50a8\u7684\u6570\u636e\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u7a97\u53e3\u3001\u6807\u7b7e\u9875\u6216\u6d4f\u89c8\u5668\u4f1a\u8bdd\u4e4b\u95f4\u5171\u4eab\u3002 localStorage\u5b58\u50a8\u7684\u6570\u636e\u5927\u5c0f\u4e00\u822c\u4e3a5MB\u5de6\u53f3\u3002 (2) sessionStorage\uff1a sessionStorage\u662f\u4e00\u79cd\u4f1a\u8bdd\u7ea7\u522b\u7684\u672c\u5730\u5b58\u50a8\u673a\u5236\u3002 \u5b58\u50a8\u7684\u6570\u636e\u5728\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u540e\u81ea\u52a8\u6e05\u9664\u3002 \u5b58\u50a8\u7684\u6570\u636e\u53ea\u80fd\u5728\u5f53\u524d\u4f1a\u8bdd\u671f\u95f4\u8bbf\u95ee\uff0c\u4e0d\u540c\u7684\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u4e4b\u95f4\u4e0d\u80fd\u5171\u4eab\u3002 sessionStorage\u5b58\u50a8\u7684\u6570\u636e\u5927\u5c0f\u4e00\u822c\u4e5f\u4e3a5MB\u5de6\u53f3\u3002 (3) \u603b\u7ed3 \u8fd9\u4e24\u79cd\u5b58\u50a8\u673a\u5236\u90fd\u4f7f\u7528\u7b80\u5355\u7684\u952e\u503c\u5bf9\uff08key-value\uff09\u5f62\u5f0f\u6765\u5b58\u50a8\u6570\u636e\u3002\u5b83\u4eec\u90fd\u53ea\u80fd\u5b58\u50a8\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5982\u679c\u9700\u8981\u5b58\u50a8\u5176\u4ed6\u7c7b\u578b\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5e8f\u5217\u5316\uff08\u5982JSON.stringify\uff09\u548c\u53cd\u5e8f\u5217\u5316\uff08\u5982JSON.parse\uff09\u7684\u65b9\u5f0f\u8fdb\u884c\u8f6c\u6362\u3002 \u603b\u7ed3\u6765\u8bf4\uff0clocalStorage\u9002\u5408\u7528\u4e8e\u957f\u671f\u4fdd\u5b58\u6570\u636e\uff0c\u800csessionStorage\u9002\u5408\u7528\u4e8e\u4e34\u65f6\u4fdd\u5b58\u6570\u636e\uff0c\u4ec5\u5728\u5f53\u524d\u4f1a\u8bdd\u5185\u6709\u6548\u3002 (4) \u4f7f\u7528 \u90fd\u7ee7\u627f\u81eaStorage\u5e38\u89c1\u7684\u64cd\u4f5c: localStorage javascript localStorage.setItem(key, value); // \u8bbe\u7f6ekey = value, \u5982\u679c\u662f\u76f8\u540c\u7684key, \u4f1a\u628a\u6570\u636e\u8986\u76d6 localStorage.removeItem(key); // \u6839\u636ekey\u5220\u9664\u6570\u636e localStorage.getItem(key); // \u6839\u636ekey\u6765\u83b7\u53d6\u6570\u636e sessionStorage javascript sessionStorage.setItem(key, value); // \u8bbe\u7f6ekey = value, \u5982\u679c\u662f\u76f8\u540c\u7684key, \u4f1a\u628a\u6570\u636e\u8986\u76d6 sessionStorage.removeItem(key); // \u6839\u636ekey\u5220\u9664\u6570\u636e sessionStorage.getItem(key); // \u6839\u636ekey\u6765\u83b7\u53d6\u6570\u636e (5) \u9006\u5411\u4e2d localstorage \u5b58\u50a8\u6570\u636e \u83b7\u53d6\u6570\u636e (6) document.cookie \u4f5c\u7528\uff1a \u672c\u5730\u5b58\u50a8. cookie\u7684\u672c\u8d28\u662f\u4e00\u4e2a\u8d85\u5927\u53f7\u5b57\u7b26\u4e32. \u6709\u5931\u6548\u65f6\u95f4\u7684. \u8bbe\u7f6ecookie javascript document.cookie=\"name=lucky\" \u83b7\u53d6cookie \u60f3\u8981\u83b7\u53d6cookie\u53ef\u4ee5\u901a\u8fc7document.cookie\u76f4\u63a5\u83b7\u53d6. \u4f46\u662f\u5982\u679c\u662fhttponly\u7684cookie, \u662f\u62ff\u4e0d\u5230\u7684. \u9700\u8981\u53bb\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u5355\u72ec\u7684\u8bbe\u7f6e \u53d6\u6d88\u52fe\u9009HttpOnly \u6b64\u523bcookie\u4e2d\u6709HttpOnly\u52fe\u9009\u7684\u503c\uff0c\u6240\u4ee5\u65e0\u6cd5\u4f7f\u7528document.cookie\u8fdb\u884c\u83b7\u53d6 \u53d6\u6d88\u52fe\u9009 \u91cd\u65b0\u83b7\u53d6 \u6ce8\u610f\uff1a \u4e4b\u524d\u6211\u4eec\u524d\u9762\u6240\u5b66\u8fc7\u7684session.cookies\u662f\u65e0\u6cd5\u7ef4\u62a4\u524d\u7aefjs\u6240\u8bbe\u7f6e\u7684cookie 7\u3001\u795e\u5947\u7684window (1) \u6982\u8ff0\uff1a JavaScript\u4e2d\u7684 window \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u9876\u7ea7\u5168\u5c40\u5bf9\u8c61\uff0c\u5b83\u4ee3\u8868\u4e86\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u3002 window \u5bf9\u8c61\u5177\u6709\u5e7f\u6cdb\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u7528\u4e8e\u63a7\u5236\u548c\u64cd\u4f5c\u5f53\u524d\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u3002 (2) window\u5b9e\u4f8b\u8bf4\u660e \u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf \u9700\u8981\u4e3b\u8981 \u5168\u5c40\u53d8\u91cf\u4f7f\u7528 var \u5b9a\u4e49 let \u65e0\u6cd5\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf javascript // \u5b9a\u4e49 var name = 'lucky' // \u4f7f\u7528 console.log(name) \u5728\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528window\u5bf9\u8c61\u8fdb\u884c\u67e5\u770b \u53d1\u73b0\u6b64\u523b\u7684name\u53d8\u91cf\u5df2\u7ecf\u6210\u4e3a\u5168\u5c40\u5bf9\u8c61Window\u7684\u5c5e\u6027 \u56e0\u6b64\u6211\u4eec\u4e5f\u53ef\u4ee5\u5982\u4e0b\u65b9\u5f0f\u8fdb\u884c\u8c03\u7528 javascript // \u5b9a\u4e49 var name = 'lucky' // \u4f7f\u7528 console.log(window.name) // \u7b49\u540c\u4e8e console.log(name) \u51fd\u6570\u4e2d\u4f7f\u7528 javascript function test(){ window.name = 'lucky' } test() console.log(name) console.log(window.name) \u7efc\u4e0a, \u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u7ed3\u8bba. \u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u7528window.xxx\u6765\u8868\u793a. (3) \u4e0b\u9762\u662f window \u5bf9\u8c61\u7684\u4e00\u4e9b\u5e38\u89c1\u5c5e\u6027\u548c\u65b9\u6cd5 window.document \uff1a\u8868\u793a\u5f53\u524d\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u7684\u6587\u6863\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u6765\u64cd\u7eb5DOM\u5143\u7d20\u548c\u5904\u7406\u7f51\u9875\u5185\u5bb9\u3002 window.location \uff1a\u7528\u4e8e\u83b7\u53d6\u6216\u8bbe\u7f6e\u5f53\u524d\u7a97\u53e3\u7684URL\u4fe1\u606f\uff0c\u5305\u62ec\u534f\u8bae\u3001\u4e3b\u673a\u3001\u8def\u5f84\u7b49\u3002 window.location.reload() \u901a\u8fc7js\u5b8c\u6210\u9875\u9762\u5237\u65b0 window.location.href = \"\u65b0\u5730\u5740\" \u901a\u8fc7js\u5b8c\u6210\u9875\u9762\u8df3\u8f6c. window.navigator \uff1a\u63d0\u4f9b\u5173\u4e8e\u6d4f\u89c8\u5668\u548c\u7528\u6237\u4ee3\u7406\u7684\u4fe1\u606f\uff0c\u5982\u6d4f\u89c8\u5668\u540d\u79f0\u3001\u7248\u672c\u3001\u5e73\u53f0\u7b49\u3002 window.alert() \uff1a\u5728\u5f53\u524d\u7a97\u53e3\u663e\u793a\u4e00\u4e2a\u8b66\u544a\u6846\uff0c\u7528\u4e8e\u5411\u7528\u6237\u663e\u793a\u4e00\u6761\u7b80\u5355\u7684\u6d88\u606f\u3002 window.confirm() \uff1a\u663e\u793a\u4e00\u4e2a\u786e\u8ba4\u6846\uff0c\u7528\u4e8e\u5411\u7528\u6237\u8be2\u95ee\u4e00\u4e2a\u95ee\u9898\uff0c\u7528\u6237\u53ef\u4ee5\u70b9\u51fb\u786e\u5b9a\u6216\u53d6\u6d88\u6309\u94ae\u8fdb\u884c\u9009\u62e9\u3002 window.prompt() \uff1a\u663e\u793a\u4e00\u4e2a\u63d0\u793a\u6846\uff0c\u7528\u4e8e\u5411\u7528\u6237\u8bf7\u6c42\u8f93\u5165\u4e00\u6bb5\u6587\u672c\uff0c\u7528\u6237\u53ef\u4ee5\u8f93\u5165\u5e76\u70b9\u51fb\u786e\u5b9a\u6216\u53d6\u6d88\u6309\u94ae\u8fdb\u884c\u54cd\u5e94\u3002 window.setTimeout() \uff1a\u7528\u4e8e\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5ef6\u8fdf\u540e\u6267\u884c\u4e00\u6b21\u51fd\u6570\u6216\u4ee3\u7801\u5757\u3002 window.setInterval() \uff1a\u91cd\u590d\u8c03\u7528\u6307\u5b9a\u7684\u51fd\u6570\u6216\u4ee3\u7801\u5757\uff0c\u6309\u7167\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u8fdb\u884c\u91cd\u590d\u6267\u884c\u3002 window.open() \uff1a\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\uff0c\u5e76\u52a0\u8f7d\u6307\u5b9a\u7684URL\u3002 \u9664\u4e86\u4e0a\u8ff0\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c window \u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5176\u4ed6\u529f\u80fd\uff0c\u4f8b\u5982\u5904\u7406\u7a97\u53e3\u5c3a\u5bf8\u3001\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u3001\u5c4f\u5e55\u4fe1\u606f\u7b49\u3002\u53ef\u4ee5\u901a\u8fc7 window \u5bf9\u8c61\u6765\u64cd\u4f5c\u548c\u63a7\u5236\u5f53\u524d\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u7684\u5404\u4e2a\u65b9\u9762\u3002 (4) \u6ce8\u610f window\u7684\u4e00\u4e9b\u7279\u6027 \u5728\u6d4f\u89c8\u5668\u73af\u5883. \u8bf7\u6ce8\u610f. window\u5bf9\u8c61\u548cdocument\u5bf9\u8c61\u662f\u4e0d\u53ef\u4ee5\u88ab\u6539\u53d8\u7684.\u8be5\u7279\u6027\u975e\u5e38\u7684\u5751. \u5982\u679c\u81ea\u5df1\u8865\u73af\u5883\u7684\u65f6\u5019. \u8bf7\u6ce8\u610f. \u5982\u679c\u7f51\u7ad9\u6709\u6e05\u7406window\u548cdocument\u7684\u4ee3\u7801\u7684\u8bdd. \u4f60\u8865\u5145\u7684\u73af\u5883\u4ee3\u7801, \u53ef\u80fd\u88ab\u51b2\u6389 javascript // \u5728\u6d4f\u89c8\u5668\u73af\u5883\u65e0\u6cd5\u6539\u53d8 window = {} // \u65e0\u6cd5\u88ab\u4fee\u6539 del window // \u65e0\u6cd5\u88ab\u5220\u9664 (5) \u5176\u5b83\u65b9\u5f0f\u7684\u4f7f\u7528\u573a\u666f \u4ee3\u7801 ```javascript // \u5185\u90e8\u8bbe\u5b9afun\u51fd\u6570\u4e3a\u5168\u5c40\u51fd\u6570 (function(){ let fun = function(){ console.log(\"fun\u51fd\u6570\u8bbe\u7f6e\u4e3a\u5168\u5c40\u51fd\u6570\") } window.fun = fun })(); fun() //\u6362\u4e00\u79cd\u5199\u6cd5. \u4f60\u8fd8\u8ba4\u8bc6\u4e48? window\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012 (function(w){ let fun = function(){ console.log(\"fun\u51fd\u6570\u8bbe\u7f6e\u4e3a\u5168\u5c40\u51fd\u6570\") } w.fun = fun })(window); //\u518d\u590d\u6742\u4e00\u70b9 (function(w){ let tools = { b64: function(){ console.log(\"\u6211\u662f\u8ba1\u7b97B64\"); return \"b64\"; }, md5: function(){ console.log(\"\u6211\u662f\u8ba1\u7b97MD5\"); return \"MD5\" } } w.jiami = { AES: function(msg){ return tools.b64(), tools.md5(), 'lucky'; }, DES: function(){ console.log(\"\u6211\u662fDES\"); }, RSA: function(){ console.log(\"\u6211\u662fRSA\"); } } })(window); ``` window\u662f\u6574\u4e2a\u6d4f\u89c8\u5668\u7684\u5168\u5c40\u4f5c\u7528\u57df. 8\u3001JS\u539f\u578b\u3001\u539f\u578b\u94fe (1) \u6784\u9020\u51fd\u6570 javaScript\u4e2d\u7684\u6784\u9020\u51fd\u6570\uff08Constructor\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u51fd\u6570\uff0c\u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\u5e76\u521d\u59cb\u5316\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u5b83\u4eec\u4e3b\u8981\u7528\u4e8e\u521b\u5efa\u81ea\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b\u3002 \u6784\u9020\u51fd\u6570\u5728\u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u65b0\u5bf9\u8c61\u65f6\u88ab\u8c03\u7528\u3002\u5f53\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u5b83\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u5bf9\u8c61\uff0c\u5e76\u5c06\u8be5\u5bf9\u8c61\u4f5c\u4e3a this \u5173\u952e\u5b57\u7684\u5f15\u7528\u3002\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u901a\u8fc7 this \u5173\u952e\u5b57\u6765\u8bbe\u7f6e\u65b0\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6784\u9020\u51fd\u6570\u7684\u793a\u4f8b function Person(name, age) { this.name = name; this.age = age; this.greet = function() { console.log(\"Hello, my name is \" + this.name); }; } // \u4f7f\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u65b0\u5bf9\u8c61 var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); var person2 = new Person(\"lucky\", 30); console.log(person1.name); // \u8f93\u51fa\uff1a\"\u8fea\u4e3d\u70ed\u5df4\" console.log(person2.age); // \u8f93\u51fa\uff1a30 person1.greet(); // \u8f93\u51fa\uff1a\"Hello, my name is \u8fea\u4e3d\u70ed\u5df4\" person2.greet(); // \u8f93\u51fa\uff1a\"Hello, my name is lucky\" (2) this\u5173\u952e\u5b57 \u5728JavaScript\u4e2d\uff0c\u6784\u9020\u51fd\u6570\u662f\u7528\u6765\u521b\u5efa\u5bf9\u8c61\u7684\u7279\u6b8a\u51fd\u6570\u3002\u5f53\u4f7f\u7528 new \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u5e76\u5c06\u8be5\u5bf9\u8c61\u4f5c\u4e3a this \u5173\u952e\u5b57\u7684\u5f15\u7528\u3002 this \u5173\u952e\u5b57\u5728\u6784\u9020\u51fd\u6570\u4e2d\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u5f15\u7528\u5f53\u524d\u521b\u5efa\u7684\u5bf9\u8c61\uff1a\u5728\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u901a\u8fc7 this \u5173\u952e\u5b57\u53ef\u4ee5\u5f15\u7528\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u672c\u8eab\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5728\u6784\u9020\u51fd\u6570\u4e2d\u64cd\u4f5c\u548c\u8bbe\u7f6e\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u7ed1\u5b9a\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a\u901a\u8fc7 this \u5173\u952e\u5b57\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5c5e\u6027\u548c\u65b9\u6cd5\u7ed1\u5b9a\u5230\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u4e0a\u3002\u4f8b\u5982\uff0c\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4f7f\u7528 this.propertyName = value \u53ef\u4ee5\u5c06\u5c5e\u6027\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e0a\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee this.propertyName \u6765\u83b7\u53d6\u6216\u4fee\u6539\u5c5e\u6027\u7684\u503c\u3002 \u6784\u5efa\u5b9e\u4f8b\u5bf9\u8c61\uff1a\u6784\u9020\u51fd\u6570\u901a\u8fc7 this \u5173\u952e\u5b57\u521b\u5efa\u7684\u5bf9\u8c61\u88ab\u79f0\u4e3a\u8be5\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002\u6bcf\u6b21\u4f7f\u7528 new \u8c03\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002 \u603b\u800c\u8a00\u4e4b\uff0c this \u5173\u952e\u5b57\u5728\u6784\u9020\u51fd\u6570\u4e2d\u7684\u4f5c\u7528\u662f\u6307\u5411\u5373\u5c06\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u65b9\u4fbf\u6211\u4eec\u64cd\u4f5c\u548c\u8bbe\u7f6e\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u4ee3\u7801\u8bf4\u660e\uff1a // \u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570 function Person(name, age) { // \u4f7f\u7528 this \u5173\u952e\u5b57\u5f15\u7528\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b this.name = name; this.age = age; } // \u4f7f\u7528 new \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u5b9e\u4f8b var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); console.log(person1.name); // \u8f93\u51fa \"\u8fea\u4e3d\u70ed\u5df4\" console.log(person1.age); // \u8f93\u51fa 25 var person2 = new Person(\"Lucky\", 30); console.log(person2.name); // \u8f93\u51fa \"Lucky\" console.log(person2.age); // \u8f93\u51fa 30 \u6ce8\u610f\uff1a \u5982\u679c\u5f53\u524d\u4f7f\u7528\u4e86new \u5219this\u4e3a\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5982\u679c\u4e3a\u6b63\u5e38\u51fd\u6570\u8c03\u7528 \u5219\u4e3a\u5168\u5c40\u5bf9\u8c61window \u4e5f\u5c31\u662f\u8bf4\u5f53\u524d\u901a\u8fc7this\u521b\u5efa\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u4f1a\u6210\u4e3awindow\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 function Person(name, age) { // \u4f7f\u7528 this \u5173\u952e\u5b57\u5f15\u7528\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b this.name = name; this.age = age; console.log(this); } Person(\"Alice\", 25); \u76f4\u63a5\u8c03\u7528\u5219\u4e3awindow\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 new \u5219\u4e3a\u5b9e\u4f8b\u5bf9\u8c61 \u6b64\u5904\u7684this\u53ef\u4ee5\u7406\u89e3\u4e3apython\u5bf9\u8c61\u4e2d\u7684self\u53c2\u6570 \u5f53\u524d\u8c01\u8c03\u7528\u4e86\u5219this\u4ee3\u8868\u662f\u54ea\u4e2a\u5bf9\u8c61 (3) \u6784\u9020\u51fd\u6570\u5916\u6dfb\u52a0\u65b0\u5c5e\u6027\u548c\u65b0\u65b9\u6cd5 \u5982\u679c\u4f60\u60f3\u5728\u6784\u9020\u51fd\u6570\u5916\u90e8\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u6765\u5b9e\u73b0\u3002\u8fd9\u6837\u6dfb\u52a0\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5c06\u88ab\u6240\u6709\u8be5\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u6240\u5171\u4eab\u3002 \u4ee3\u7801\u8bf4\u660e\uff1a function Person(name, age) { this.name = name; this.age = age; } // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b0\u5c5e\u6027 Person.prototype.gender = \"man\"; // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b0\u65b9\u6cd5 Person.prototype.sayHello = function() { console.log(\"Hello, my name is \" + this.name + \".\"); }; var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); console.log(person1.name); // \u8f93\u51fa \"\u8fea\u4e3d\u70ed\u5df4\" console.log(person1.age); // \u8f93\u51fa 25 console.log(person1.gender); // \u8f93\u51fa \"man\" person1.sayHello(); // \u8f93\u51fa \"Hello, my name is \u8fea\u4e3d\u70ed\u5df4.\" var person2 = new Person(\"Lucky\", 30); console.log(person2.name); // \u8f93\u51fa \"Lucky\" console.log(person2.age); // \u8f93\u51fa 30 console.log(person2.gender); // \u8f93\u51fa \"man\" person2.sayHello(); // \u8f93\u51fa \"Hello, my name is Lucky.\" \u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 Person.prototype \u6765\u8bbf\u95ee\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u5e76\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u4e86\u5c5e\u6027 gender \u548c\u65b9\u6cd5 sayHello \u3002\u8fd9\u6837\uff0c\u901a\u8fc7\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u6bcf\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u4f1a\u7ee7\u627f\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u662f person1 \u8fd8\u662f person2 \uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u8bbf\u95ee\u76f8\u540c\u7684\u539f\u578b\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u901a\u8fc7\u5c06\u5c5e\u6027\u548c\u65b9\u6cd5\u6dfb\u52a0\u5230\u539f\u578b\u5bf9\u8c61\u4e0a\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u6240\u6709\u5bf9\u8c61\u5171\u4eab\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5b9a\u4e49\uff0c\u907f\u514d\u5728\u6bcf\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u4e2d\u90fd\u521b\u5efa\u4e00\u4efd\u65b0\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4ece\u800c\u8282\u7701\u5185\u5b58\u3002 \u8fd9\u6837\u4e5f\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u53ef\u7ef4\u62a4\uff0c\u56e0\u4e3a\u6211\u4eec\u53ea\u9700\u8981\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u8fdb\u884c\u4fee\u6539\uff0c\u5c31\u53ef\u4ee5\u5f71\u54cd\u5230\u6240\u6709\u5bf9\u8c61\u5b9e\u4f8b\u3002 (4) \u4ec0\u4e48\u662f\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61 \u5728JavaScript\u4e2d\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5c5e\u6027\u53eb\u505a\u539f\u578b\uff08prototype\uff09\u3002\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u7528\u6765\u5b58\u50a8\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u201c\u6a21\u677f\u201d\u3002\u5f53\u4f7f\u7528 new \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u5bf9\u8c61\u5b9e\u4f8b\u65f6\uff0c\u8fd9\u4e9b\u5b9e\u4f8b\u4f1a\u81ea\u52a8\u7ee7\u627f\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u901a\u8fc7\u5411\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u5f97\u6240\u6709\u7531\u8be5\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u5177\u5907\u76f8\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u6837\u505a\u4e0d\u4ec5\u8282\u7701\u4e86\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd8\u53ef\u5b9e\u73b0\u5bf9\u591a\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u5171\u4eab\u884c\u4e3a\u7684\u5b9a\u4e49\u3002 \u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u7684\u51e0\u4e2a\u5173\u952e\u70b9\uff1a prototype \u5c5e\u6027\uff1a\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a\u540d\u4e3a prototype \u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c Person.prototype \u6307\u5411 Person \u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u3002 constructor \u5c5e\u6027\uff1a\u539f\u578b\u5bf9\u8c61\u4e0a\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5c5e\u6027 constructor \uff0c\u5b83\u6307\u5411\u6784\u9020\u51fd\u6570\u672c\u8eab\u3002\u4f8b\u5982\uff0c Person.prototype.constructor \u6307\u5411 Person \u6784\u9020\u51fd\u6570\u3002 \u539f\u578b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a\u53ef\u4ee5\u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5\u5c06\u88ab\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u3002\u4f8b\u5982\uff0c Person.prototype.gender = \"man\" \u5c06\u5728\u6240\u6709 Person \u5bf9\u8c61\u5b9e\u4f8b\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a gender \u7684\u5c5e\u6027\u3002 \u4f7f\u7528\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u5bf9\u8c61\u5b9e\u4f8b\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u6548\u7387\u548c\u53ef\u7ef4\u62a4\u6027\u3002\u5b83\u662fJavaScript\u4e2d\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002 \u4ee3\u7801\u8bf4\u660e\uff1a // \u6784\u9020\u51fd\u6570 function Person(name, age) { this.name = name; this.age = age; } // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5 Person.prototype.gender = \"man\"; Person.prototype.sayHello = function() { console.log(\"Hello, my name is \" + this.name + \".\"); }; // \u521b\u5efa\u5bf9\u8c61\u5b9e\u4f8b var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); var person2 = new Person(\"lucky\", 30); console.log(person1.gender); // \u8f93\u51fa \"man\" person1.sayHello(); // \u8f93\u51fa \"Hello, my name is \u8fea\u4e3d\u70ed\u5df4.\" console.log(person2.gender); // \u8f93\u51fa \"man\" person2.sayHello(); // \u8f93\u51fa \"Hello, my name is lucky.\" console.log(Person.prototype); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(typeof Person.prototype); // \u8f93\u51fa \"object\" \u603b\u7ed3\uff1a \u5728JavaScript\u4e2d\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\uff08prototype object\uff09\u3002\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u4e86\u4e00\u4e9b\u53ef\u4f9b\u8be5\u51fd\u6570\u5b9e\u4f8b\u5171\u4eab\u548c\u7ee7\u627f\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5f53\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\u65f6\uff0cJavaScript\u4f1a\u81ea\u52a8\u4e3a\u8be5\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u8d4b\u503c\u7ed9\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002\u8fd9\u4e2a\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u7ed9\u5b83\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\u6765\u5b9a\u4e49\u9700\u8981\u5171\u4eab\u7684\u5185\u5bb9\u3002 \u539f\u578b\u5bf9\u8c61\u5728JavaScript\u4e2d\u5b9e\u73b0\u4e86\u57fa\u4e8e\u539f\u578b\u94fe\u7684\u7ee7\u627f\u673a\u5236\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61\u65f6\uff0c\u5b9e\u4f8b\u5bf9\u8c61\u4f1a\u7ee7\u627f\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u5982\u679c\u5b9e\u4f8b\u5bf9\u8c61\u5728\u81ea\u8eab\u627e\u4e0d\u5230\u67d0\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5b83\u4f1a\u6cbf\u7740\u539f\u578b\u94fe\u5411\u4e0a\u67e5\u627e\uff0c\u76f4\u5230\u627e\u5230\u5bf9\u5e94\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u6216\u8005\u5230\u8fbe\u539f\u578b\u94fe\u7684\u9876\u7aef\u3002 \u901a\u8fc7\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u5b9a\u4e49\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u5b9e\u73b0\u51fd\u6570\u7684\u590d\u7528\u548c\u5171\u4eab\u3002\u6240\u6709\u901a\u8fc7\u540c\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u53ef\u4ee5\u8bbf\u95ee\u548c\u5171\u4eab\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4ece\u800c\u8282\u7701\u4e86\u5185\u5b58\u7a7a\u95f4\u3002 \u603b\u7ed3\u800c\u8a00\uff0cJavaScript\u4e2d\u7684\u51fd\u6570\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u4e86\u51fd\u6570\u5b9e\u4f8b\u5171\u4eab\u548c\u7ee7\u627f\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u901a\u8fc7\u539f\u578b\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5b9e\u73b0\u51fd\u6570\u7684\u590d\u7528\u548c\u5171\u4eab\uff0c\u4ee5\u53ca\u57fa\u4e8e\u539f\u578b\u94fe\u7684\u7ee7\u627f\u673a\u5236\u3002 (5) __proto__ \u7684\u4f7f\u7528 __proto__ \u662f\u6bcf\u4e2a JavaScript \u5bf9\u8c61\u90fd\u5177\u6709\u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u5bf9\u8c61\u7684\u539f\u578b\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u8bbf\u95ee\u548c\u64cd\u4f5c\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u3002 __proto__ \u7684\u4f5c\u7528\u548c\u4f7f\u7528\u5982\u4e0b\uff1a \u8bbf\u95ee\u539f\u578b\u94fe\uff1a\u901a\u8fc7 __proto__ \u5c5e\u6027\uff0c\u53ef\u4ee5\u8bbf\u95ee\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u4f8b\u5982\uff1a obj.__proto__.methodName() \u53ef\u4ee5\u8c03\u7528\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u65b9\u6cd5\u3002 \u83b7\u53d6\u539f\u578b\u5bf9\u8c61\uff1a\u4f7f\u7528 __proto__ \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a var protoObj = obj.__proto__; \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u83b7\u53d6\u5230\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u8fdb\u4e00\u6b65\u64cd\u4f5c\u539f\u578b\u5bf9\u8c61\u3002 \u52a8\u6001\u4fee\u6539\u539f\u578b\u94fe\uff1a\u53ef\u4ee5\u901a\u8fc7 __proto__ \u5c5e\u6027\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u6539\u53d8\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5c06\u4e00\u4e2a\u65b0\u5bf9\u8c61\u8d4b\u503c\u7ed9 __proto__ \u6765\u5b9e\u73b0\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u505a\u6cd5\u5728\u73b0\u4ee3 JavaScript \u4e2d\u5df2\u7ecf\u88ab\u5e9f\u5f03\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002\u66f4\u597d\u7684\u505a\u6cd5\u662f\u4f7f\u7528 Object.setPrototypeOf() \u65b9\u6cd5\u6765\u8bbe\u7f6e\u5bf9\u8c61\u7684\u539f\u578b\u3002 javascript var obj = person1.__proto__ obj['name'] = 'lucky' Object.setPrototypeOf(person1,obj) // \u7ed9\u539f\u578b\u5bf9\u8c61\u6dfb\u52a0\u65b0\u5c5e\u6027 // \u6ce8\u610f \u5982\u679c\u76f4\u63a5\u7ed9\u7a7a\u5bf9\u8c61 \u5219\u4f1a\u8986\u76d6\u6389\u539f\u6709\u7684\u503c Object.setPrototypeOf(person1, {}) ![image-20230717175535621](./imgs/23%E3%80%81js%E8%BF%9B%E9%98%B6.assets/QnbjMV3xSlEWG1J.png) \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c3d\u7ba1 __proto__ \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u6709\u7528\uff0c\u4f46\u5b83\u5e76\u4e0d\u662f\u6807\u51c6\u7684 JavaScript API\uff0c\u800c\u662f\u975e\u6807\u51c6\u7684\u5c5e\u6027\uff0c\u4e0d\u5efa\u8bae\u5728\u6b63\u5f0f\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u76f4\u63a5\u4f7f\u7528\u5b83\u3002\u76f8\u53cd\uff0c\u63a8\u8350\u4f7f\u7528\u6807\u51c6\u7684 Object \u65b9\u6cd5\uff0c\u5982 Object.getPrototypeOf() \u548c Object.setPrototypeOf() \u6765\u8bbf\u95ee\u548c\u4fee\u6539\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u3002\u8fd9\u4e9b\u65b9\u6cd5\u63d0\u4f9b\u4e86\u66f4\u5b89\u5168\u548c\u53ef\u9760\u7684\u65b9\u5f0f\u6765\u64cd\u4f5c\u5bf9\u8c61\u7684\u539f\u578b\u3002 Object.getPrototypeOf(person1) // {gender: 'man', name: 'lucky', sayHello: \u0192, constructor: \u0192} \u6ce8\u610f\uff1a \u5f53\u524d\u5bf9\u8c61\u5728\u8fdb\u884c\u5c5e\u6027\u6216\u8005\u65b9\u6cd5\u8c03\u7528\u7684\u65f6\u5019\uff0c\u4f1a\u4f18\u5148\u4ece\u5f53\u524d\u5bf9\u8c61\u81ea\u8eab\u53bb\u8c03\u7528\uff0c\u5982\u679c\u81ea\u8eab\u6ca1\u6709\u5219\u53bb\u4e0a\u4e00\u5c42\u539f\u578b\u5bf9\u8c61\u53bb\u8c03\u7528\uff0c\u6709\u5219\u8c03\u7528\uff0c\u6ca1\u6709\u518d\u7ee7\u7eed\u5411\u4e0a\u5c42\u53bb\u67e5\u627e\uff0c\u5982\u679c\u90fd\u6ca1\u6709\uff0c\u5219\u8c03\u7528\u7684\u5c5e\u6027\u4e3aundefined\uff0c\u65b9\u6cd5\u5219\u4e3a\u62a5\u9519 (6) prototype\u548c__proto__\u7684\u533a\u522b prototype \u548c __proto__ \u662fJavaScript\u4e2d\u4e24\u4e2a\u76f8\u5173\u4f46\u4e0d\u540c\u7684\u6982\u5ff5\u3002 prototype \uff1a\u8fd9\u662f\u4e00\u4e2a\u51fd\u6570\u7279\u6709\u7684\u5c5e\u6027\u3002\u6bcf\u4e2a\u51fd\u6570\u5728\u521b\u5efa\u65f6\u90fd\u4f1a\u81ea\u52a8\u62e5\u6709\u4e00\u4e2a prototype \u5c5e\u6027\uff0c\u5b83\u662f\u4e00\u4e2a\u6307\u5411\u539f\u578b\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u8be5\u539f\u578b\u5bf9\u8c61\u88ab\u7528\u4f5c\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u7684\u57fa\u7840\uff0c\u56e0\u6b64\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u5b9a\u4e49\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u53ef\u4ee5\u88ab\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u3002 __proto__ \uff1a\u8fd9\u662f\u6bcf\u4e2aJavaScript\u5bf9\u8c61\uff08\u5305\u62ec\u51fd\u6570\uff09\u90fd\u5177\u6709\u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u5bf9\u8c61\u7684\u539f\u578b\u3002 __proto__ \u5c5e\u6027\u63d0\u4f9b\u4e86\u5bf9\u5bf9\u8c61\u539f\u578b\u7684\u94fe\u63a5\uff0c\u901a\u8fc7\u8be5\u94fe\u63a5\uff0c\u53ef\u4ee5\u4ece\u4e00\u4e2a\u5bf9\u8c61\u8bbf\u95ee\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u5b83\u662f\u4e00\u4e2a\u5185\u90e8\u5c5e\u6027\uff0c\u901a\u5e38\u4e0d\u5e94\u76f4\u63a5\u4f7f\u7528\uff0c\u800c\u662f\u4f7f\u7528 Object.getPrototypeOf() \u6216 Object.setPrototypeOf() \u65b9\u6cd5\u6765\u8bbf\u95ee\u6216\u4fee\u6539\u5bf9\u8c61\u7684\u539f\u578b\u3002 \u533a\u522b\u5982\u4e0b\uff1a prototype \u662f\u51fd\u6570\u7279\u6709\u7684\u5c5e\u6027\uff0c\u800c __proto__ \u662f\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u7684\u5c5e\u6027\u3002 prototype \u7528\u4e8e\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u7684\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u800c __proto__ \u7528\u4e8e\u8bbf\u95ee\u5bf9\u8c61\u5b9e\u4f8b\u7684\u539f\u578b\u94fe\u3002 prototype \u5b58\u5728\u4e8e\u51fd\u6570\u5185\u90e8\uff0c\u662f\u51fd\u6570\u7684\u4e00\u4e2a\u5c5e\u6027\uff1b __proto__ \u5b58\u5728\u4e8e\u5bf9\u8c61\u5b9e\u4f8b\u5185\u90e8\uff0c\u662f\u5bf9\u8c61\u7684\u4e00\u4e2a\u5c5e\u6027\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c3d\u7ba1 __proto__ \u5728\u73b0\u4ee3JavaScript\u4e2d\u4ecd\u7136\u6709\u6548\uff0c\u4f46\u5b83\u5df2\u7ecf\u88ab\u89c6\u4e3a\u8fc7\u65f6\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u901a\u5e38\u5efa\u8bae\u4f7f\u7528 Object.getPrototypeOf() \u548c Object.setPrototypeOf() \u65b9\u6cd5\u6765\u64cd\u4f5c\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u3002 \u4e0b\u9762\u662f\u4f7f\u7528\u4ee3\u7801\u6765\u8bf4\u660e prototype \u548c __proto__ \u7684\u533a\u522b\uff1a // \u6784\u9020\u51fd\u6570 function Person(name, age) { this.name = name; this.age = age; } // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5 Person.prototype.gender = \"man\"; Person.prototype.sayHello = function() { console.log(\"Hello, my name is \" + this.name + \".\"); }; // \u521b\u5efa\u5bf9\u8c61\u5b9e\u4f8b var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); var person2 = new Person(\"Lucky\", 30); console.log(person1.__proto__); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(person2.__proto__); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(Person.prototype); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(typeof Person.prototype); // \u8f93\u51fa \"object\" console.log(person1.prototype); // \u8f93\u51fa undefined console.log(person2.prototype); // \u8f93\u51fa undefined Object.setPrototypeOf(person1, {}) // \u53ea\u6709\u5f53\u524dperson1\u539f\u578b\u5bf9\u8c61\u4e3a\u7a7a \u5176\u5b83\u5bf9\u8c61\u4e0d\u53d7\u5f71\u54cd \u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a Person \u7684\u6784\u9020\u51fd\u6570\uff0c\u5e76\u5728\u5176\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u4e86\u5c5e\u6027 gender \u548c\u65b9\u6cd5 sayHello \u3002\u7136\u540e\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e24\u4e2a\u5bf9\u8c61\u5b9e\u4f8b person1 \u548c person2 \u3002 \u901a\u8fc7\u8bbf\u95ee\u5bf9\u8c61\u5b9e\u4f8b\u7684 __proto__ \u5c5e\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u5230\u5bf9\u8c61\u5b9e\u4f8b\u7684\u539f\u578b\u5bf9\u8c61\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c person1.__proto__ \u548c person2.__proto__ \u90fd\u6307\u5411\u6784\u9020\u51fd\u6570 Person \u7684\u539f\u578b\u5bf9\u8c61 Person.prototype \u3002 \u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u8f93\u51fa\u4e86 Person.prototype \u548c typeof Person.prototype \u7684\u7ed3\u679c\u3002\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\uff0c Person.prototype \u662f\u4e00\u4e2a\u5305\u542b\u4e86\u6784\u9020\u51fd\u6570\u539f\u578b\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u800c typeof Person.prototype \u8fd4\u56de\u7684\u662f object \u3002 \u6700\u540e\uff0c\u6211\u4eec\u5c1d\u8bd5\u8bbf\u95ee person1.prototype \u548c person2.prototype \uff0c\u53d1\u73b0\u5b83\u4eec\u90fd\u662f undefined \u3002\u8fd9\u662f\u56e0\u4e3a prototype \u662f\u6784\u9020\u51fd\u6570\u7279\u6709\u7684\u5c5e\u6027\uff0c\u5b83\u7528\u4e8e\u5b9a\u4e49\u5bf9\u8c61\u5b9e\u4f8b\u7684\u539f\u578b\u94fe\uff0c\u800c\u4e0d\u662f\u5bf9\u8c61\u5b9e\u4f8b\u81ea\u8eab\u7684\u5c5e\u6027\u3002 \u6ce8\u610f\uff1a __proto__ \u548cprototype\u662f\u8bbf\u95ee\u5f53\u524d\u6784\u9020\u51fd\u6570\u6216\u8005\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61 \u53ea\u80fd\u8c03\u7528\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u65b9\u6cd5\u4e2d\u7684this\u4ee3\u8868\u5f53\u524d\u7684\u539f\u578b\u5bf9\u8c61 person1.sayHello() // \u5bf9\u8c61\u6b63\u5e38\u8c03\u7528\u65b9\u6cd5 person1.__proto__.sayHello() // \u539f\u578b\u5bf9\u8c61\u7684\u65b9\u5f0f\u8c03\u7528\u65b9\u6cd5 Person.prototype.sayHello() // \u6784\u9020\u51fd\u6570\u7684\u65b9\u5f0f\u8c03\u7528\u65b9\u6cd5 (7) \u6df1\u5165\u539f\u578b\u94fe \u5bf9\u8c61.__proto__.__proto__ \u8fd9\u4e2a\u6bd4\u8f83\u7ed5\u4e86. \u6211\u4eec\u4ece\u524d\u9762\u7684\u5b66\u4e60\u4e2d, \u4e86\u89e3\u5230. \u6bcf\u4e2a\u5bf9\u8c61\u8eab\u4f53\u91cc. \u90fd\u9690\u85cf\u7740 __proto__ \u4e5f\u5c31\u662f\u5b83\u7684 \u539f\u578b\u5bf9\u8c61 . \u90a3\u4e48\u6211\u4eec\u770b\u54c8, \u539f\u578b\u5bf9\u8c61 \u4e5f\u662f \u5bf9\u8c61 \u554a, \u90a3\u4e48\u4e5f\u5c31\u662f\u8bf4. \u539f\u578b\u5bf9\u8c61 \u4e5f\u6709 __proto__ \u5c5e\u6027. \u7c7b\u4f3c\u4e8e.....\u8fd9\u6837: python person1.__proto__.__proto__ \u6253\u5370\u51fa\u6765\u7684\u6548\u679c\u662f\u8fd9\u6837\u7684: \u6b64\u65f6. \u53c8\u51fa\u73b0\u4e00\u5806\u770b\u4e0d\u61c2\u7684\u73a9\u610f. \u8fd9\u4e9b\u73a9\u610f\u662f\u4ec0\u4e48? \u8fd9\u4e9b\u5176\u5b9e\u662fObject\u7684\u539f\u578b. \u5c31\u7c7b\u4f3c\u4e8epython\u4e2d\u7684\u6240\u6709\u7c7b\u9ed8\u8ba4\u7ee7\u627f\u7684\u90fd\u662f\u6700\u7ec8\u7684\u7236\u7c7bobject\u4e00\u6837 person1.__proto__.__proto__ === Object.prototype \u6240\u4ee5, \u6211\u4eec\u5728\u6267\u884c person1.toString() \u7684\u65f6\u5019\u4e0d\u4f1a\u62a5\u9519. \u53cd\u800c\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c. \u539f\u56e0\u5c31\u5728\u8fd9\u91cc. person1.toString()) // \u5f53\u524d\u5bf9\u8c61\u6709\u5c31\u6267\u884c \u6ca1\u6709\u5219\u5411\u4e0a\u4e00\u5c42\u7ee7\u7eed\u67e5\u627e\uff0c\u627e\u5230\u5219\u8c03\u7528\uff0c\u5426\u5219\u62a5\u9519 \u6267\u884c\u8fc7\u7a0b: \u5148\u627e person1\u5bf9\u8c61 \u4e2d\u662f\u5426\u6709 toString . \u6ca1\u6709, \u627e\u5b83\u7684 \u539f\u578b\u5bf9\u8c61 . \u539f\u578b\u5bf9\u8c61 \u4e2d\u6ca1\u6709, \u7ee7\u7eed\u627e \u539f\u578b\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61 . \u76f4\u81f3\u4f60\u627e\u5230Object\u7684\u539f\u578b\u4e3a\u6b62. \u5982\u679c\u8fd8\u662f\u6ca1\u6709. \u5c31\u62a5\u9519\u4e86. person1.lucky() // \u62a5\u9519. \u7efc\u4e0a, \u539f\u578b\u94fe\u662fjs \u65b9\u6cd5\u67e5\u627e\u7684\u8def\u5f84\u6307\u793a\u6807 . (8) \u6784\u9020\u51fd\u6570\u7684\u7ee7\u627f \u5728 JavaScript \u4e2d\uff0c\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f\u6765\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u4e0b\u9762\u4ecb\u7ecd\u51e0\u79cd\u5e38\u89c1\u7684\u6784\u9020\u51fd\u6570\u7ee7\u627f\u7684\u65b9\u5f0f\u3002 \u539f\u578b\u94fe\u7ee7\u627f\uff1a \u539f\u578b\u94fe\u7ee7\u627f\u662f\u6700\u57fa\u672c\u7684\u4e00\u79cd\u7ee7\u627f\u65b9\u5f0f\u3002\u5b50\u7c7b\u7684\u539f\u578b\u5bf9\u8c61\u901a\u8fc7\u6307\u5411\u7236\u7c7b\u7684\u5b9e\u4f8b\u6765\u5b9e\u73b0\u7ee7\u627f\u3002\u8fd9\u6837\u5b50\u7c7b\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u7236\u7c7b\u539f\u578b\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 ```javascript function Parent() { this.name = 'Parent'; } Parent.prototype.sayHello = function() { console.log('Hello, I am ' + this.name); } function Child() { this.name = 'Child'; } Child.prototype. proto = new Parent(); // \u5b50\u7c7b\u7684\u539f\u578b\u6307\u5411\u7236\u7c7b\u7684\u5b9e\u4f8b var child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, I am Child\" console.log(child. proto .constructor) // Child... ``` \u6784\u9020\u51fd\u6570\u7ee7\u627f\uff08\u501f\u7528\u6784\u9020\u51fd\u6570\uff09\uff1a \u901a\u8fc7\u5728\u5b50\u7c7b\u4e2d\u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5e76\u4f7f\u7528 call \u6216 apply \u65b9\u6cd5\u5c06\u7236\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u7ed1\u5b9a\u5230\u5b50\u7c7b\u4e0a\uff0c\u5b9e\u73b0\u5bf9\u7236\u7c7b\u5c5e\u6027\u7684\u7ee7\u627f\u3002 ```javascript function Parent() { this.name = 'Parent'; this.sayHello = function() { console.log('Hello, I am ' + this.name); } } function Child() { Parent.call(this); // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u5b50\u7c7b\u7684\u4e0a\u4e0b\u6587 this.name = 'Child'; } var child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, I am Child\" console.log(child. proto .constructor) // Child... ``` \u5f53\u524d\u65e0\u6cd5\u8c03\u7528\u539f\u578b\u94fe\u7684\u65b9\u6cd5 javascript Parent.prototype.sayHello = function() { console.log('Hello, I am ' + this.name); } \u7ec4\u5408\u7ee7\u627f\uff1a \u7ec4\u5408\u7ee7\u627f\u7ed3\u5408\u4e86\u539f\u578b\u94fe\u7ee7\u627f\u548c\u6784\u9020\u51fd\u6570\u7ee7\u627f\u7684\u4f18\u70b9\uff0c\u65e2\u53ef\u4ee5\u7ee7\u627f\u7236\u7c7b\u539f\u578b\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53c8\u53ef\u4ee5\u5728\u5b50\u7c7b\u4e2d\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u6765\u7ee7\u627f\u5b9e\u4f8b\u5c5e\u6027\u3002 ```javascript function Parent() { this.name = 'Parent'; } Parent.prototype.sayHello = function() { console.log('Hello, I am ' + this.name); } function Child() { Parent.call(this); // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u5b50\u7c7b\u7684\u4e0a\u4e0b\u6587 this.name = 'Child'; } Child.prototype. proto = new Parent(); // \u5b50\u7c7b\u7684\u539f\u578b\u6307\u5411\u7236\u7c7b\u7684\u5b9e\u4f8b Child.prototype.constructor = Child; // \u4fee\u590d\u5b50\u7c7b\u539f\u578b\u7684 constructor \u5c5e\u6027 var child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, I am Child\" console.log(child. proto .constructor) // Child... ``` ES6 \u7684 class \u7ee7\u627f\uff1a ES6 \u5f15\u5165\u4e86 class \u5173\u952e\u5b57\uff0c\u63d0\u4f9b\u4e86\u66f4\u7b80\u6d01\u7684\u8bed\u6cd5\u6765\u5b9e\u73b0\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u3002\u4f7f\u7528 extends \u5173\u952e\u5b57\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u7684\u7ee7\u627f\u3002 ```javascript class Parent { constructor() { this.name = 'Parent'; } sayHello() { console.log('Hello, I am ' + this.name); } } class Child extends Parent { constructor() { super(); // \u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570 this.name = 'Child'; } } let child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, IO am Child\" ``` \u8fd9\u4e9b\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u6784\u9020\u51fd\u6570\u7ee7\u627f\u65b9\u5f0f\u3002 (9) constuctor\u5c5e\u6027 \u8bf4\u660e\uff1a constructor \u662f\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u8be5\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u3002\u8fd9\u4e2a\u5c5e\u6027\u5728\u5bf9\u8c61\u521b\u5efa\u65f6\u7531 JavaScript \u5f15\u64ce\u81ea\u52a8\u6dfb\u52a0\u3002 \u5f53\u4f60\u4f7f\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u8be5\u5bf9\u8c61\u4f1a\u81ea\u52a8\u83b7\u5f97\u4e00\u4e2a constructor \u5c5e\u6027\uff0c\u6307\u5411\u7528\u4e8e\u521b\u5efa\u5b83\u7684\u6784\u9020\u51fd\u6570\u3002 \u6784\u9020\u51fd\u6570 function Person(name, age) { this.name = name; this.age = age; } var p = new Person('lucky', 18) \u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u6784\u9020\u51fd\u6570 // \u65b9\u5f0f\u4e00 p.__proto__.constructor // \u65b9\u5f0f\u4e8c p.constructor // p.constructor \u7b49\u4e8e p.__proto__.constructor \u7b49\u4e8e Person p.constructor\u662f p.__proto__.constructor \u7684\u7b80\u5199 \u6ce8\u610f\uff1a 9.1 \u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570 \u6211\u4eec\u5728\u8fdb\u884c\u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u4e2d\u7684constructor\u7684\u65f6\u5019\u4f7f\u7528\u5982\u4e0b p.__proto__.constructor \u548cp.constructor \u5bf9\u4e8e\u5927\u591a\u6570\u60c5\u51b5\uff0c p.constructor \u548c p.__proto__.constructor \u90fd\u4f1a\u6307\u5411\u76f8\u540c\u7684\u6784\u9020\u51fd\u6570\uff0c\u56e0\u4e3a\u5bf9\u8c61\u7684 constructor \u5c5e\u6027\u9ed8\u8ba4\u6307\u5411\u5176\u539f\u578b\u7684\u6784\u9020\u51fd\u6570\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b \u83b7\u53d6\u503c\u76f8\u540c \u4fee\u6539 p.__proto__.constructor p.constructor \u548c p.__proto__.constructor \u6307\u5411\u5730\u5740\u76f8\u540c \u4fee\u6539 p.constructor p.__proto__.constructor \u5f97\u6307\u5411\u4e0d\u53d8 p.constructor \u6307\u5411\u4f60\u65b0\u503c\u7684\u5730\u5740 \u6240\u4ee5\u6211\u4eec\u5728\u4fee\u6539\u7684\u65f6\u5019\u8981\u4fee\u6539 p.__proto__.constructor \u5f97\u6307\u5411\u4e0d\u53d8 function Person(name, age) { this.name = name; this.age = age; } var p = new Person('lucky', 18) p.constructor = function () {} // p.__proto__.constructor = function () {}; console.log(p.constructor); console.log(p.__proto__.constructor); 9.2 \u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570(\u5bb9\u6613\u641e\u6df7) \u56e0\u4e3a\u51fd\u6570\u4e5f\u662f\u4e00\u79cd\u5bf9\u8c61\u6240\u4ee5\u5f53\u4f60\u4f7f\u7528Person.constructor\u8fdb\u884c\u83b7\u53d6\u7684\u65f6\u5019\uff0c\u5219\u83b7\u53d6\u7684\u4e3a\u6784\u9020\u5f53\u524dPerson\u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u5c31\u662fFunction console.log(Person instanceof Object) // true \u8bc1\u660e\u51fd\u6570\u4e5f\u662f\u5c5e\u4e8e\u5bf9\u8c61\u7c7b\u578b \u67e5\u770b\u5f53\u524d\u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570 console.log(Person.__proto__.constructor) console.log(Person.constructor) \u800c\u4f60\u4f7f\u7528Person.prototype.constructor\u83b7\u53d6\u7684\u662f\u5f53\u524d\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u5219\u662f\u672c\u8eab (10) \u56fe\u89e3 \u56fe\u4e2d\u6709\u51e0\u4e2a\u96be\u70b9\uff1a Function\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u7528Function.__proto__\u6765\u8bbf\u95eeFunction.prototype. \u8fd9\u662f\u56e0\u4e3aFunction\u6784\u9020\u51fd\u6570\u7684\u6784\u9020\u51fd\u6570\u662f\u4ed6\u672c\u8eab\uff0c\u4f5c\u4e3a\u5b9e\u4f8b\u5316\u5bf9\u8c61\u7684\u89d2\u8272\u6765\u8bbf\u95ee\uff0c\u53ef\u884c\u3002 \u4efb\u4f55\u51fd\u6570\u90fd\u662f\u51fd\u6570\uff0c\u4ed6\u90fd\u7ee7\u627fFunction\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u800cFunction\u662f\u5185\u7f6e\u7684\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u662f\u5bf9\u8c61\uff0c\u90fd\u662f\u7ee7\u627fObject\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 9\u3001\u65e0\u9650debugger (1) \u660e\u6587debugger Function \u5728js\u4ee3\u7801\u6267\u884c\u65f6. \u6bcf\u4e00\u4e2afunction\u7684\u5bf9\u8c61\u90fd\u662f\u901a\u8fc7Function()\u6765\u521b\u5efa\u7684. \u4e5f\u5c31\u662f\u8bf4. \u51fd\u6570\u662fFunction()\u7684\u5bf9\u8c61. function fn(){} console.log(fn.__proto__.constructor); // \u0192 Function() { [native code] } // \u56e0\u4e3a\u51fd\u6570\u4e5f\u662f\u5bf9\u8c61 \u56e0\u6b64\u4e0a\u9762\u7684\u5199\u6cd5\u7b49\u540c\u4e8e fn.constructor // \u0192 Function() { [native code] } \u51fd\u6570\u5c31\u662fFunction\u7684\u5bf9\u8c61. \u90a3\u4e48. \u6211 \u4eec\u53ef\u4ee5\u901a\u8fc7Function\u6765\u6784\u5efa\u4e00\u4e2a\u51fd\u6570. new Function('debugger')(); \u8dd1\u8d77\u6765\u7684\u6548\u679c\u4e00\u6837\u7684. \u8fdb\u884chook\u5904\u7406 var fun = Function Function = function (arg) { let a = arg.replaceAll('debugger', '') return fun(a) } \u6982\u8ff0\uff1a \u65e0\u9650\u8c03\u8bd5\u5668\uff08Infinite Debugger\uff09\u662f\u4e00\u4e2a\u5f00\u53d1\u5de5\u5177\uff0c\u7528\u4e8e\u5e2e\u52a9\u7a0b\u5e8f\u5458\u5728\u8f6f\u4ef6\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u8c03\u8bd5\uff0c\u5bf9\u4e8e\u6211\u4eec\u722c\u866b\u6765\u8bf4\uff0c\u662f\u4e00\u79cd\u7f51\u7ad9\u7684\u53cd\u6252\u673a\u5236 (2) \u660e\u6587debugger setInterval \u4ee3\u7801\uff1a ```javascript setInterval(function (){ debugger; }, 1000); // \u6bcf\u9694\u4e00\u79d2\u6267\u884c\u4e00\u6b21debugger ``` \u89e3\u51b3\u65b9\u5f0f\uff1a Never pause here (\u63a8\u8350\u4f7f\u7528) \u627e\u5230\u51fa\u73b0debugger\u7684\u4f4d\u7f6e \u70b9\u51fbdebugger \u53f3\u952e\u9009\u62e9Never pause here\u5373\u53ef \u5982\u679c\u51fa\u73b0\u591a\u4e2adebugger \uff0c\u91cd\u590d\u521a\u624d\u7684\u64cd\u4f5c\u5373\u53ef hook---setInterval \u548c\u4e1a\u52a1\u65e0\u5173 \u5148\u8bbe\u7f6e\u65ad\u70b9 \u5e76 \u70b9\u51fb\u5982\u56fe\u6240\u793a\u4f4d\u7f6e \u8c03\u51faconsole\u529f\u80fd\u680f \u7136\u540e\u5237\u65b0 \u5728console\u4e2d\u91cd\u5199setIntervel\u65b9\u6cd5\uff08 \u64cd\u4f5c\u5f53\u524d\u4e4b\u524d\u9700\u8981\u5237\u65b0 \u8ba9\u65ad\u70b9\u65ad\u52301\u8fd9\u4e2a\u4f4d\u7f6e \uff09 \u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u65e0\u5173 javascript setInterval = function(){} \u8fd9\u6837\u4f1a\u6e05\u9664\u6389\u6240\u6709setInterval \u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u6709\u5173 \u4ee3\u7801 javascript setInterval(function(){ (function(){console.log('lucky');debugger})() }, 1000) hook javascript var _setInterval = setInterval setInterval = function setInterval(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") console.log(\"(\"+code+\")()\", time) return _setInterval(new Function(\"(\"+code+\")()\") , time) } (3) hook---setTimeout \u4ee3\u7801 javascript var _setTimeout = setTimeout setTimeout = function setTimeout(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") return _setTimeout(new Function(\"(\"+code+\")()\"), time) } (4) \u9690\u5f0fdebugger\uff08\u5c31\u662f\u770b\u8d77\u6765\u4e0d\u660e\u663e \u7528\u7684\u8f83\u591a\uff09 \u4ee3\u7801 javascript setInterval(function (){ (function(params) {}).constructor('debugger;')() //(function(params) {})['constructor']('debugger;')() }, 1000) \u89e3\u51b3 hook javascript let p = Function.prototype.constructor; Function.prototype.constructor = function(arg) { arg = arg.replaceAll(\"debugger\", \"\"); return p(arg); } \u5728 JavaScript \u4e2d\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u51fd\u6570\u5bf9\u8c61\u6709\u4e00\u4e2a constructor \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u6307\u5411\u521b\u5efa\u8be5\u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u5176 constructor \u5c5e\u6027\u6307\u5411\u5185\u5efa\u7684 Function \u6784\u9020\u51fd\u6570\u3002\u4f8b\u5982\uff1a (function(params) {}).constructor === Function // true (5) js\u6df7\u6dc6 \u65e0\u9650debugger \u4ee3\u7801 ```html Title function txsdefwsw() { var r = \"V\", n = \"5\", e = \"8\"; function o(r) { if (!r) return \"\"; for (var t = \"\", n = 44106, e = 0; e < r.length; e++) { var o = r.charCodeAt(e) ^ n; n = n * e % 256 + 2333, t += String.fromCharCode(o) } return t } try { var a = 'debugger'; !function c(r) { (1 !== (\"\" + r / r).length || 0 === r) && function () { }.constructor(a)(), c(++r) }(0) } catch (a) { setTimeout(txsdefwsw, 100); } } txsdefwsw() ``` \u89e3\u51b3 \u4f7f\u7528\u4ee5\u4e0a\u65b9\u5f0f\u5373\u53ef 10\u3001call\u548capply \u6982\u8ff0 \u5728 JavaScript \u4e2d\uff0c call \u548c apply \u662f\u7528\u4e8e\u8c03\u7528\u51fd\u6570\u7684\u65b9\u6cd5\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u662f\u6539\u53d8\u51fd\u6570\u6267\u884c\u65f6\u7684\u4e0a\u4e0b\u6587\uff08\u5373\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\uff09\u3002 call \u4f7f\u7528\u65b9\u5f0f call \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6307\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u548c\u591a\u4e2a\u53c2\u6570\u3002\u5b83\u7684\u8bed\u6cd5\u662f\uff1a javascript function.call(thisArg, arg1, arg2, ...) \u5176\u4e2d\uff0c thisArg \u662f\u8981\u7ed1\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c arg1 , arg2 , ... \u662f\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u3002 apply \u4f7f\u7528\u65b9\u5f0f apply \u65b9\u6cd5\u4e0e call \u7c7b\u4f3c\uff0c\u4f46\u662f\u5b83\u63a5\u53d7\u4e00\u4e2a\u6307\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u548c\u4e00\u4e2a\u53c2\u6570\u6570\u7ec4 javascript function.apply(thisArg, [argsArray]) \u5176\u4e2d\uff0c thisArg \u662f\u8981\u7ed1\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c argsArray \u662f\u4e00\u4e2a\u5305\u542b\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u7684\u6570\u7ec4\u3002 \u6ce8\u610f\uff1a \u65e0\u8bba\u662f call \u8fd8\u662f apply \u65b9\u6cd5\uff0c\u5f53\u8c03\u7528\u5b83\u4eec\u65f6\uff0c\u4f1a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u5e76\u4e14\u5c06\u51fd\u6570\u4e2d\u7684 this \u7ed1\u5b9a\u5230\u63d0\u4f9b\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u4e0a\u3002\u8fd9\u6837\uff0c\u51fd\u6570\u5728\u6267\u884c\u65f6\uff0c\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u4e0a\u4e0b\u6587\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4e0d\u4f20\u5165\u4e0a\u4e0b\u6587\u5bf9\u8c61\u6216\u8005\u4f20\u5165 null \u6216 undefined \uff0c\u90a3\u4e48\u5728\u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u9ed8\u8ba4\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u5c06\u662f\u5168\u5c40\u5bf9\u8c61\uff08\u5373 window \uff09\u3002\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u9ed8\u8ba4\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u5c06\u662f undefined \u3002 \u5b9e\u4f8b ``javascript function greet(name) { console.log( Hello, ${name}! My name is ${this.name}.`); } const person1 = { name: 'lucky' }; const person2 = { name: 'Bob' }; greet.call(person1, '\u8fea\u4e3d\u70ed\u5df4'); // \u8f93\u51fa\uff1aHello, \u8fea\u4e3d\u70ed\u5df4! My name is lucky. greet.apply(person2, ['\u8fea\u4e3d\u70ed\u5df4']); // \u8f93\u51fa\uff1aHello, Jerry! My name is Bob. ``` \u6269\u5c55 \u83b7\u53d6Object\u4e2d\u81ea\u5e26\u7684\u5c5e\u6027\u7684\u540d\u79f0\uff08\uff09\u53ef\u4ee5\u5728\u8fd9\u91cc\u770b\u5230object\u5c5e\u6027\u81ea\u5e26apply\u548ccall 11\u3001Hook (1) \u6982\u8ff0 \u5728JavaScript\u4e2d\uff0c\"hook\"\uff08\u94a9\u5b50\uff09\u662f\u4e00\u79cd\u7f16\u7a0b\u6a21\u5f0f\uff0c\u7528\u4e8e\u5728\u7279\u5b9a\u7684\u4ee3\u7801\u7247\u6bb5\u6216\u51fd\u6570\u6267\u884c\u4e4b\u524d\u6216\u4e4b\u540e\u63d2\u5165\u81ea\u5b9a\u4e49\u903b\u8f91\u3002\u5b83\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u62e6\u622a\u548c\u4fee\u6539\u4ee3\u7801\u7684\u6267\u884c\u8fc7\u7a0b\u3002 (2) Hook \u5b9e\u4f8b Hook eval\u51fd\u6570\u5b9e\u4f8b python eval_ = eval; // \u5148\u4fdd\u5b58\u7cfb\u7edf\u7684eval\u51fd\u6570 eval = function(s){ console.log(s); debugger; return eval_(s); } eval() Hook cookie \u5728\u7f51\u7ad9\u6709\u5bf9cookie\u8fdb\u884c\u8bbe\u7f6e\u6216\u8005\u83b7\u53d6\u7684\u65f6\u5019 \u5c06\u88ab\u89e6\u53d1 javascript (function(){ var temp = \"\"; Object.defineProperty(document, \"cookie\", { set(val){ debugger; temp = val; return temp; }, get(){ debugger; return temp; } }) })(); \u5f53\u524d\u64cd\u4f5c\u6709\u5bf9cookie\u8fdb\u884c\u64cd\u4f5c\u4fbf\u4f1a\u88abhook \u6267\u884c\u5230\u5f53\u524ddebugger url\uff1a http://iwencai.com/ \u67e5\u770b\u5f53\u524djs\u4e2d\u8fdb\u884ccookie\u8bbe\u7f6e\u7684\u4ee3\u7801\u4f4d\u7f6e js\u4ee3\u7801\u4f4d\u7f6e \u7528Hook\u7684\u65b9\u5f0f\u5b9e\u73b0xhr\u65ad\u70b9 url: http://www.baidu.com \u4ee3\u7801 javascript XMLHttpRequest.prototype.send_ = XMLHttpRequest.prototype.send XMLHttpRequest.prototype.send = function(){debugger;} \u5f53\u6211\u4eec\u767e\u5ea6\u7ffb\u9875\u7684\u65f6\u5019 \u5c31\u53ef\u4ee5\u770b\u5230 \u65ad\u70b9hook\u4e86 (3) apply\u5728hook\u4e2d\u7684\u4f7f\u7528 \u4ee3\u7801 \u4e0d\u56fa\u5b9a\u4e2a\u6570\u53c2\u6570\u5904\u7406 ```javascript function fn(a, b, c, d){ var e = arguments[4]; // arguments\u91cc\u9762\u53ef\u4ee5\u88c5\u6240\u6709\u53c2\u6570 return a + b + c + d + e; } fn(1,2,3,4,5,6); // hook fn var fn_ = fn; fn = function(a, b, c, d){ // \u4e2d\u95f4\u690d\u5165\u4f60\u7684\u903b\u8f91 // \u8fd4\u56de\u539f\u903b\u8f91\u7684\u7ed3\u679c // return fn_(a, b, c, d); // fn(1,2,3,4) \u4e22\u53c2\u6570 return fn_.apply(this, arguments); } fn(1,2,3,4,5,6); ``` (4) \u51e0\u79cdhook\u7684\u516c\u5f0f \u51fd\u6570Hook\u516c\u5f0f javascript old_func = func func = function(argument){ my task; return old_func.apply(argument) } func \uff1a\u8981hook\u7684\u51fd\u6570 \u5bf9\u8c61\u4e2d\u5c5e\u6027Hook\u516c\u5f0f(\u6211\u4eec\u5e38\u7528\u7684\u5c31\u662fcookie) javascript old_attr = obj.attr; Object.defineProperty(obj, \"attr\", { get: function() { console.log(cookie_cache); return old_attr }, set: function(val) { return \u2026 }) ); \u539f\u578b\u94fehook\uff08split\u4e3a\u4f8b\uff09 javascript var split_str = String.prototype.split; String.prototype.split=function(val){ console.log(this); debugger; return split_str.apply(this, arguments) } a = \"\u52a0\u5bc6\u5b57\u7b26\u4e32\" console.log(a.split(\"\u5b57\")) (5) \u603b\u7ed3 \u4e3a\u4ec0\u4e48\u4f7f\u7528hook\uff1f hook JSON.stringify, JSON.parse \u9488\u5bf9\u51fd\u6570. \u627e \u52a0\u5bc6\u5165\u53e3 \u6216 \u89e3\u5bc6\u5165\u53e3 \u524d\u540e\u7aef\u4f20\u503c\u7684\u903b\u8f91: \u51c6\u5907url, \u4ee5\u53ca\u8bf7\u6c42\u53c2\u6570. am = {name: xxx, age: xxx} \u5bf9\u53c2\u6570\u8fdb\u884c\u5904\u7406(\u5904\u7406\u6210\u5b57\u7b26\u4e32) JSON.stringify(obj); \u628ajs\u4e2d\u7684\u5bf9\u8c61.\u5904\u7406\u6210json\u5b57\u7b26\u4e32 \u5bf9\u53c2\u6570\u6216\u8005url\u8fdb\u884c\u52a0\u5bc6 (\u5bf9\u5b57\u7b26\u4e32\u52a0\u5bc6) \u5728\u9006\u5411\u65f6, \u5e38\u7528\u7684\u4e3b\u8981\u6709: hook eval \u3001hook Function \u3001hook JSON.stringify\u3001JSON.parse \u3001setInterval, setTimeout, hook cookie (6) hook\u5b9e\u4f8b cookie \u67e5\u770b\u5f53\u524djs\u5728\u54ea\u4e2a\u4f4d\u7f6e\u8bbe\u7f6e\u7684cookie \u751f\u6210cookie\u7684\u4ee3\u7801 https://www.iwencai.com/unifiedwap/result?w=%E6%9C%80%E8%BF%91%E4%B8%89%E5%B9%B4%E7%B4%AF%E8%AE%A1%E7%8E%B0%E9%87%91%E5%88%86%E7%BA%A2%E9%87%91%E9%A2%9D%E4%BD%8E%E4%BA%8E%E6%9C%80%E8%BF%91%E4%B8%89%E5%B9%B4%E5%B9%B4%E5%9D%87%E5%87%80%E5%88%A9%E6%B6%A630%25&querytype=stock&addSign=1701099054678 javascript (function(){ var temp = \"\"; Object.defineProperty(document, \"cookie\", { set(val){ console.log('\u8bbe\u7f6ecookie', temp) temp = val; debugger; return temp; }, get(){ console.log('\u83b7\u53d6cookie', temp) debugger; return temp; } }) })(); debugger url: https://web.mypitaya.com/login \u901a\u8fc7\u8c03\u7528\u6808\u6765\u67e5\u770b\u5f53\u524ddebugger\u7684\u65b9\u5f0f \u4e3aconstructor \u4ee3\u7801 javascript let p = Function.prototype.constructor; Function.prototype.constructor = function(arg) { arg = arg.replaceAll(\"debugger\", \"\"); return p(arg); } eval javascript eval_ = eval; eval = function(a){if(a=='debugger'){return ''}else{return eval_(a)}} setInterval \u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u65e0\u5173 javascript setInterval = function(){} \u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u6709\u5173 javascript var _setInterval = setInterval setInterval = function setInterval(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") return _setInterval(new Function(\"(\"+code+\")()\") , time) } setTimeout javascript _setTimeout = setTimeout setTimeout = function setTimeout(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") return _setTimeout(new Function(\"(\"+code+\")()\") , time) } JSON.stringify javascript let json_stringify = JSON.stringify JSON.stringify = function(params) { console.log('\u8fd9\u662f\u5f53\u524d\u8bf7\u6c42\u53c2\u6570params:', params) debugger; return json_stringify(params) } JSON.parse javascript let json_parse = JSON.parse JSON.parse = function(params) { console.log('\u89e3\u6790json parse', params) debugger; return json_parse(params) } 12\u3001 ES6\u4e2d\u7684promise(\u96be) (1) \u6982\u8ff0 \u5728JavaScript\u4e2d\uff0cPromise\uff08\u627f\u8bfa\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u7684\u7279\u6b8a\u5bf9\u8c61\u3002\u5b83\u53ef\u4ee5\u5c06\u5f02\u6b65\u64cd\u4f5c\u5c01\u88c5\u6210\u4e00\u4e2a\u53ef\u63a7\u5236\u7684\u72b6\u6001\uff0c\u5e76\u901a\u8fc7\u94fe\u5f0f\u8c03\u7528\u6765\u5904\u7406\u64cd\u4f5c\u7684\u7ed3\u679c\u3002 (2) Promise\u6709\u4e09\u4e2a\u72b6\u6001\uff1a Pending\uff08\u8fdb\u884c\u4e2d\uff09\uff1a\u521d\u59cb\u72b6\u6001\uff0c\u8868\u793a\u5f02\u6b65\u64cd\u4f5c\u6b63\u5728\u8fdb\u884c\u4e2d\u3002 Fulfilled\uff08\u5df2\u6210\u529f\uff09\uff1a\u8868\u793a\u5f02\u6b65\u64cd\u4f5c\u5df2\u6210\u529f\u5b8c\u6210\u3002 Rejected\uff08\u5df2\u5931\u8d25\uff09\uff1a\u8868\u793a\u5f02\u6b65\u64cd\u4f5c\u53d1\u751f\u4e86\u9519\u8bef\u6216\u5931\u8d25\u3002 (3) \u521b\u5efa\u4e00\u4e2aPromise\u5bf9\u8c61\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a const myPromise = new Promise((resolve, reject) => { // \u5f02\u6b65\u64cd\u4f5c\u4ee3\u7801 }); \u53c2\u6570\u8bf4\u660e resolve \u6210\u529f\u540e\u8c03\u7528\u7684\u65b9\u6cd5 reject \u5931\u8d25\u540e\u8c03\u7528\u7684\u65b9\u6cd5 \u6ce8\u610f \u5f53\u524d\u53c2\u6570\u540d\u79f0\u4e0d\u4e00\u5b9a\u5c31\u4e3aresolve \u548c reject \u4f46\u662f\u4ee3\u8868\u542b\u4e49\u662f\u4e00\u6837\u7684 (4) \u4f7f\u7528\u573a\u666f \u5728Promise\u5bf9\u8c61\u4e2d\uff0c\u901a\u5e38\u4f1a\u6267\u884c\u4e00\u4e9b\u5f02\u6b65\u64cd\u4f5c\uff0c\u6bd4\u5982\u8bf7\u6c42\u6570\u636e\u3001\u8bfb\u53d6\u6587\u4ef6\u7b49\u3002\u8fd9\u4e9b\u5f02\u6b65\u64cd\u4f5c\u53ef\u4ee5\u662f\u56de\u8c03\u51fd\u6570\u3001\u5b9a\u65f6\u5668\u3001\u7f51\u7edc\u8bf7\u6c42\u7b49\u3002\u5f53\u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 resolve \u65b9\u6cd5\u5c06Promise\u72b6\u6001\u6539\u4e3aFulfilled\uff0c\u5e76\u4f20\u9012\u64cd\u4f5c\u7ed3\u679c\uff1b\u6216\u8005\u4f7f\u7528 reject \u65b9\u6cd5\u5c06Promise\u72b6\u6001\u6539\u4e3aRejected\uff0c\u5e76\u4f20\u9012\u9519\u8bef\u4fe1\u606f\u3002 \u5bf9\u4e8e\u6211\u4eec\u722c\u866b\u6765\u8bf4\u5c31\u662f\u6570\u636e\u7684\u8bf7\u6c42 (5) .then() .catch() .finally \u65b9\u6cd5 then() \u5f53new Promise\u8fd4\u56de\u7684\u5f53\u524d\u6210\u529f\u6216\u5931\u8d25\u7684\u7ed3\u679c\u540e\u8fdb\u884c\u8c03\u7528\u6210\u529f\u6216\u8005\u5931\u8d25\u7684\u65b9\u6cd5 \u53c2\u6570\u53ef\u4e3a\u4e00\u4e2a\u6216\u8005\u4fe9\u4e2a\u53c2\u6570 \u4e00\u4e2a\u53c2\u6570\u4e3a\u53ea\u6709\u6210\u529f\u624d\u8c03\u7528 \u4e8c\u4e2a\u53c2\u6570\u5206\u522b\u5305\u542b\u6210\u529f\u548c\u5931\u8d25\u8fdb\u884c\u8c03\u7528\u7684\u65b9\u6cd5 catch() \u5f53new Promise\u8fd4\u56de\u4e3a\u5931\u8d25\u7684\u7ed3\u679c\u8fdb\u884c\u8c03\u7528 finally \u65e0\u8bbanew Promise\u8fd4\u56de\u4ec0\u4e48\u7ed3\u679c\u90fd\u4f1a\u8fdb\u884c\u8c03\u7528 myPromise javascript function myPromise() { return new Promise(function(resolve, reject) { console.log(\"\u73b0\u5728\u8bf7\u6c42\u5230\u8fd9\u91cc\u4e86\") randomNumber = Math.random() if (randomNumber < 0.5) { // \u64cd\u4f5c\u6210\u529f\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aFulfilled\uff0c\u5e76\u4f20\u9012\u7ed3\u679c resolve(randomNumber); } else { // \u64cd\u4f5c\u5931\u8d25\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aRejected\uff0c\u5e76\u4f20\u9012\u9519\u8bef\u4fe1\u606f reject(\"Error occurred\"); } }) } then\u65b9\u6cd5\u7684\u4e00\u4e2a\u53c2\u6570 \u53ea\u6709\u6210\u529f\u624d\u4f1a\u8c03\u7528 \u642d\u914dcatch\u6355\u83b7\u5931\u8d25\u540e\u8fdb\u884c\u8c03\u7528\u5904\u7406\u7684\u65b9\u6cd5 javascript myPromise = myPromise() myPromise.then(success_result => { // \u64cd\u4f5c\u6210\u529f\u7684\u5904\u7406\u4ee3\u7801 console.log('\u6210\u529f', success_result) }).catch(error => { // \u64cd\u4f5c\u5931\u8d25\u7684\u5904\u7406\u4ee3\u7801 console.log('\u5931\u8d25', error) }).finally(() => { console.log(\"\u65e0\u8bba\u64cd\u4f5c\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u6267\u884c\u8be5\u56de\u8c03\u51fd\u6570\"); }); then\u65b9\u6cd5\u7684\u4e8c\u4e2a\u53c2\u6570 \u5206\u522b\u4e3a\u6210\u529f\u548c\u5931\u8d25\u8fdb\u884c\u8c03\u7528 javascript myPromise = myPromise() myPromise.then(success_result => { // \u64cd\u4f5c\u6210\u529f\u7684\u5904\u7406\u4ee3\u7801 console.log('\u6210\u529f', success_result) },error_result => { // \u64cd\u4f5c\u5931\u8d25\u7684\u5904\u7406\u4ee3\u7801 console.log('\u5931\u8d25', error_result) }).finally(() => { console.log(\"\u65e0\u8bba\u64cd\u4f5c\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u6267\u884c\u8be5\u56de\u8c03\u51fd\u6570\"); }); \u6b64\u523b\u4e0d\u80fd\u642d\u914dcatch\u65b9\u6cd5 \u56e0\u4e3athen\u4e2d\u5df2\u7ecf\u5b58\u5728\u5931\u8d25\u8fdb\u884c\u8c03\u7528\u7684\u65b9\u6cd5 \u8bf4\u660e \u5728 .then() \u65b9\u6cd5\u4e2d\uff0c\u53ef\u4ee5\u5b9a\u4e49\u6210\u529f\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c06\u63a5\u6536\u5230\u64cd\u4f5c\u6210\u529f\u540e\u7684\u7ed3\u679c\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u64cd\u4f5c\u51fa\u73b0\u9519\u8bef\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 .catch() \u65b9\u6cd5\u6355\u83b7\u5e76\u5904\u7406\u9519\u8bef\u4fe1\u606f\u3002 \u9664\u4e86 .then() \u548c .catch() \uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 .finally() \u65b9\u6cd5\uff0c\u65e0\u8bbaPromise\u5bf9\u8c61\u7684\u72b6\u6001\u5982\u4f55\uff0c\u90fd\u4f1a\u6267\u884c\u5176\u4e2d\u7684\u56de\u8c03\u51fd\u6570\u3002 \u53e6\u5916\uff0cPromise\u8fd8\u652f\u6301\u591a\u4e2a\u64cd\u4f5c\u7684\u5e76\u884c\u6267\u884c\u548c\u4e32\u884c\u6267\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 Promise.all() \u65b9\u6cd5\u5c06\u591a\u4e2aPromise\u5bf9\u8c61\u5305\u88c5\u6210\u4e00\u4e2a\u65b0\u7684Promise\u5bf9\u8c61\uff0c\u5f53\u6240\u6709\u64cd\u4f5c\u90fd\u6210\u529f\u5b8c\u6210\u65f6\uff0c\u8be5\u65b0\u7684Promise\u5bf9\u8c61\u624d\u4f1a\u8fdb\u5165Fulfilled\u72b6\u6001\uff1b\u6216\u8005\u4f7f\u7528 Promise.race() \u65b9\u6cd5\u5c06\u591a\u4e2aPromise\u5bf9\u8c61\u5305\u88c5\u6210\u4e00\u4e2a\u65b0\u7684Promise\u5bf9\u8c61\uff0c\u5f53\u5176\u4e2d\u4efb\u610f\u4e00\u4e2a\u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u8be5\u65b0\u7684Promise\u5bf9\u8c61\u5c31\u4f1a\u8fdb\u5165\u76f8\u5e94\u7684\u72b6\u6001\u3002 Promise\u5728\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u65f6\u63d0\u4f9b\u4e86\u66f4\u76f4\u89c2\u3001\u53ef\u8bfb\u6027\u66f4\u9ad8\u7684\u4ee3\u7801\u7ed3\u6784\uff0c\u5e76\u4e14\u907f\u514d\u4e86\u56de\u8c03\u5730\u72f1\u7684\u95ee\u9898\uff0c\u4f7f\u5f97\u5f02\u6b65\u4ee3\u7801\u66f4\u6613\u4e8e\u7f16\u5199\u548c\u7ef4\u62a4\u3002 (6) \u4f7f\u7528\u5b9e\u4f8b \u4ee3\u7801 ```javascript // \u6a21\u62df\u5f02\u6b65\u64cd\u4f5c\uff0c\u5ef6\u8fdf1\u79d2\u949f\u540e\u8fd4\u56de\u7ed3\u679c function asyncOperation() { return new Promise((resolve, reject) => { setTimeout(() => { const randomNumber = Math.random(); if (randomNumber < 0.5) { resolve(randomNumber); // \u64cd\u4f5c\u6210\u529f\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aFulfilled\uff0c\u5e76\u4f20\u9012\u7ed3\u679c } else { reject(\"Error occurred\"); // \u64cd\u4f5c\u5931\u8d25\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aRejected\uff0c\u5e76\u4f20\u9012\u9519\u8bef\u4fe1\u606f } }, 1000); }); } // \u4f7f\u7528Promise\u5bf9\u8c61\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u5904\u7406 asyncOperation() .then(result => { console.log(\"\u64cd\u4f5c\u6210\u529f\uff0c\u7ed3\u679c\u4e3a\uff1a\" + result); }) .catch(error => { console.log(\"\u64cd\u4f5c\u5931\u8d25\uff0c\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a\" + error); }) .finally(() => { console.log(\"\u65e0\u8bba\u64cd\u4f5c\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u6267\u884c\u8be5\u56de\u8c03\u51fd\u6570\"); }); ``` js\u9006\u5411\u4e2d\u7684promise javascript function l(e, t, o) { return new Promise((n,c)=>{ a[\"a\"].post(e, t, o).then(e=>{ n(e.data) }).catch(e=>{ c(e) })} )}; (7) \u7f51\u7ad9\u4e2dPromise https://www.epwk.com/login.html \u56fe\u4f8b","title":"\u4e8c\u5341\u4e09\u3001Javascript\u8fdb\u9636"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#javascript","text":"","title":"\u4e8c\u5341\u4e09\u3001Javascript\u8fdb\u9636"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#-","text":"","title":"\u4e00. \u53d8\u91cf\u63d0\u5347(\u4e0d\u6b63\u5e38\u73b0\u8c61)---\u56de\u987e"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1","text":"\u770b\u4ee5\u4e0b\u4ee3\u7801, \u6216\u591a\u6216\u5c11\u4f1a\u6709\u4e9b\u95ee\u9898\u7684. function fn(){ console.log(name) ; var name = 'lucky'; } fn() \u53d1\u73b0\u95ee\u9898\u4e86\u4e48. \u8fd9\u4e48\u5199\u4ee3\u7801, \u5728\u5176\u4ed6\u8bed\u8a00\u91cc. \u7edd\u5bf9\u662f\u4e0d\u5141\u8bb8\u7684. \u4f46\u662f\u5728js\u91cc. \u4e0d\u4f46\u5141\u8bb8, \u8fd8\u80fd\u6267\u884c. \u4e3a\u4ec0\u4e48\u5462? \u56e0\u4e3a\u5728js\u6267\u884c\u7684\u65f6\u5019. \u5b83\u4f1a\u9996\u5148\u68c0\u6d4b\u4f60\u7684\u4ee3\u7801. \u53d1\u73b0\u5728\u4ee3\u7801\u4e2d\u4f1a\u6709name\u4f7f\u7528. OK. \u8fd0\u884c\u65f6\u5c31\u4f1a\u53d8\u6210\u8fd9\u6837\u7684\u903b\u8f91: function fn(){ var name; console.log(name); name = 'lucky'; } fn()","title":"1\u3001\u524d\u60c5\u6458\u8981"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2","text":"\u770b\u5230\u4e86\u4e48. \u5b9e\u9645\u8fd0\u884c\u7684\u65f6\u5019\u548c\u6211\u4eec\u5199\u4ee3\u7801\u7684\u987a\u5e8f\u53ef\u80fd\u4f1a\u4e0d\u4e00\u6837....\u8fd9\u79cd\u628a\u53d8\u91cf\u63d0\u524d\u5230\u4ee3\u7801\u5757\u7b2c\u4e00\u90e8\u5206\u8fd0\u884c\u7684\u903b\u8f91\u88ab\u79f0\u4e3a\u53d8\u91cf\u63d0\u5347. \u8fd9\u5728\u5176\u4ed6\u8bed\u8a00\u91cc\u662f\u7edd\u5bf9\u6ca1\u6709\u7684. \u5e76\u4e14\u4e5f\u4e0d\u662f\u4ec0\u4e48\u597d\u4e8b\u60c5. \u6b63\u5e38\u7684\u903b\u8f91\u4e0d\u5e94\u8be5\u662f\u8fd9\u6837\u7684. \u90a3\u4e48\u600e\u4e48\u529e? \u5728\u65b0\u7684ES6\u4e2d. \u5c31\u660e\u786e\u4e86, \u8fd9\u6837\u4f7f\u7528\u53d8\u91cf\u662f\u4e0d\u5b8c\u5584\u7684. es6\u63d0\u51fa. \u7528let\u6765\u58f0\u660e\u53d8\u91cf. \u5c31\u4e0d\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\u4e86. \u5b9e\u4f8b javascript function fn(){ console.log(name); // \u76f4\u63a5\u62a5\u9519, let\u53d8\u91cf\u4e0d\u53ef\u4ee5\u53d8\u91cf\u63d0\u5347. let name = 'lucky'; } fn()","title":"2\u3001\u89e3\u51b3"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3let","text":"\u7ed3\u8bba\u4e00, \u7528let\u58f0\u660e\u53d8\u91cf\u662f\u65b0\u7248\u672cjavascript\u63d0\u5021\u7684\u4e00\u79cd\u58f0\u660e\u53d8\u91cf\u7684\u65b9\u6848 let\u8fd8\u6709\u54ea\u4e9b\u4f5c\u7528\u5462? function fn(){ var name = \"lucky\"; var name = \"\u738b\u529b\u5b8f\"; console.log(name); } fn() \u663e\u7136\u4e00\u4e2a\u53d8\u91cf\u88ab\u58f0\u660e\u4e86\u4e24\u6b21. \u8fd9\u6837\u4e5f\u662f\u4e0d\u5408\u7406\u7684. var\u672c\u610f\u662f\u58f0\u660e\u53d8\u91cf. \u540c\u4e00\u4e2a\u4e1c\u897f. \u88ab\u58f0\u660e\u4e24\u6b21. \u6240\u4ee5ES6\u89c4\u5b9a. let\u58f0\u660e\u7684\u53d8\u91cf. \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. \u53ea\u80fd\u58f0\u660e\u4e00\u6b21. function fn(){ let name = \"lucky\"; let name = \"\u738b\u529b\u5b8f\"; console.log(name); } fn() \u6ce8\u610f, \u62a5\u9519\u662f\u53d1\u751f\u5728\u4ee3\u7801\u68c0\u67e5\u9636\u6bb5. \u6240\u4ee5. \u4e0a\u8ff0\u4ee3\u7801\u6839\u672c\u5c31\u6267\u884c\u4e0d\u4e86. \u7ed3\u8bba\u4e8c, \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. let\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u58f0\u660e\u4e00\u6b21. \u5176\u4ed6\u4f7f\u7528\u4e0a\u548cvar\u6ca1\u6709\u5dee\u522b","title":"3\u3001let\u6269\u5c55"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#_1","text":"","title":"\u4e8c. \u8fdb\u9636\u64cd\u4f5c(\u975e\u4ea4\u4e92)"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1-eval","text":"eval\u4f7f\u7528 eval\u672c\u8eab\u5728js\u91cc\u9762\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684\u5e76\u4e0d\u591a. \u4f46\u662f\u5f88\u591a\u7f51\u7ad9\u4f1a\u5229\u7528eval\u7684\u7279\u6027\u6765\u5b8c\u6210\u53cd\u722c\u64cd\u4f5c. \u6211\u4eec\u6765\u770b\u770beval\u662f\u4e2a\u4ec0\u4e48\u9b3c? \u4ece\u529f\u80fd\u4e0a\u8bb2, eval\u975e\u5e38\u7b80\u5355. \u5b83\u548cpython\u91cc\u9762\u7684eval\u662f\u4e00\u6837\u7684. \u5b83\u53ef\u4ee5\u52a8\u6001\u7684\u628a\u5b57\u7b26\u4e32\u5f53\u6210js\u4ee3\u7801\u8fdb\u884c\u8fd0\u884c. javascript s = \"console.log('lucky is a good man')\"; eval(s); \u4e5f\u5c31\u662f\u8bf4. eval\u91cc\u9762\u4f20\u9012\u7684\u5e94\u8be5\u662f\u5373\u5c06\u8981\u6267\u884c\u7684\u4ee3\u7801(\u5b57\u7b26\u4e32). \u90a3\u4e48\u5728\u9875\u9762\u4e2d\u5982\u679c\u770b\u5230\u4e86eval\u52a0\u5bc6\u8be5\u5982\u4f55\u662f\u597d? \u5176\u5b9e\u53ea\u8981\u8bb0\u4f4f\u4e86\u4e00\u4e2a\u4e8b\u513f. \u5b83\u91cc\u9762\u4e0d\u8bba\u591a\u590d\u6742. \u4e00\u5b9a\u662f\u4e2a\u5b57\u7b26\u4e32. \u6bd4\u5982, javascript eval(eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('1.4(\"5 3 0 2 6\")',62,7,'a|console|good|is|log|lucky|man'.split('|'),0,{}))) \u8fd9\u4e00\u5768\u770b\u8d77\u6765, \u80af\u5b9a\u5f88\u4e0d\u723d. \u600e\u4e48\u53d8\u6210\u6211\u4eec\u770b\u7740\u5f88\u8212\u670d\u7684\u6837\u5b50\u5462? \u8bb0\u4f4f. eval()\u91cc\u9762\u662f\u5b57\u7b26\u4e32. \u8bb0\u4f4f~!! \u90a3\u6211\u60f3\u770b\u770b\u8fd9\u4e2a\u5b57\u7b26\u4e32\u957f\u4ec0\u4e48\u6837? \u5c31\u628aeval()\u91cc\u9762\u7684\u4e1c\u897f\u62f7\u8d1d\u51fa\u6765. \u6267\u884c\u4e00\u4e0b. \u6700\u7ec8\u4e00\u5b9a\u4f1a\u5f97\u5230\u4e00\u4e2a\u5b57\u7b26\u4e32. \u8981\u4e0d\u7136eval()\u6267\u884c\u4e0d\u4e86\u7684. \u5bf9\u4e0d...\u4e8e\u662f\u5c31\u6709\u4e86\u4e0b\u9762\u7684\u64cd\u4f5c. http://tools.jb51.net/password/evalencode, \u5728\u8d60\u9001\u4f60\u4e00\u4e2a\u5728\u7ebfJS\u5904\u7406eval\u7684\u7f51\u7ad9. \u5927\u591a\u6570\u7684eval\u52a0\u5bc6. \u90fd\u53ef\u4ee5\u641e\u5b9a\u4e86. \u6ce8\u610f eval\u7684\u53c2\u6570\u4e00\u5b9a\u662f\u5b57\u7b26\u4e32 \u5b9e\u9645\u6848\u4f8b \u7f51\u5740\uff1a https://www.aqistudy.cn/historydata/monthdata.php?city=%E4%B8%9C%E8%8E%9E \u4ee3\u7801 javascript eval(function(p, a, c, k, e, d) { e = function(c) { return (c < a ? \"\" : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36)) } ; if (!''.replace(/^/, String)) { while (c--) d[e(c)] = k[c] || e(c); k = [function(e) { return d[e] } ]; e = function() { return '\\\\w+' } ; c = 1; } ;while (c--) if (k[c]) p = p.replace(new RegExp('\\\\b' + e(c) + '\\\\b','g'), k[c]); return p; }('4 3(1){2 0=5 8();7 0.6(1)}', 9, 9, 'b|tsdx|var|dweklxde|function|new|decode|return|Base64'.split('|'), 0, {})); \u5c06eval\u4e2d\u7684\u51fd\u6570\u590d\u5236\u51fa\u6765 \u6dfb\u52a0\u62ec\u53f7\u8fdb\u884c\u81ea\u8c03\u7528\u8fd0\u884c","title":"1\u3001 eval\u51fd\u6570"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2es6","text":"\u7bad\u5934\u51fd\u6570 \u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. ```javascript // \u65e0\u53c2\u51fd\u6570 var fn = function(){}; // \u666e\u901a\u5199\u6cd5 var fn = () => {}; // \u7b80\u6d01\u5199\u6cd5 // \u4e00\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name){} // \u666e\u901a\u5199\u6cd5 var fn = name => {} // \u7b80\u6d01\u5199\u6cd5 \u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u7701\u7565\u5c0f\u62ec\u53f7 var fn = (name) => {} // \u7b80\u6d01\u5199\u6cd5 // \u591a\u4e2a\u53c2\u6570\u51fd\u6570 var fn = function(name, age){} // \u666e\u901a\u5199\u6cd5 var fn = (name, age) => {} // \u7b80\u6d01\u5199\u6cd5 ``` \u5bf9\u8c61\u7b80\u5199 \u5982\u679c\u5c5e\u6027\u548c\u503c\u4e3a\u540c\u4e00\u4e2a\u540d\u79f0\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u5199\u6cd5\u8fdb\u884c\u7b80\u5316 javascript var name = 'lucky'; function speak(){ console.log(\"lucky is a good man\") } var obj = { name: name, } // \u7b80\u6d01\u5199\u6cd5 var obj = { name, speak, } \u5185\u90e8\u65b9\u6cd5\u7684\u7b80\u6d01\u5199\u6cd5 javascript // \u666e\u901a\u5199\u6cd5 var obj = { speak: function(){ console.log(\"lucky is a good man\") }, } // \u7b80\u6d01\u5199\u6cd5 var obj = { speak(){ console.log(\"lucky is a good man\") }, } \u89e3\u6784 \u8ba9\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u7b80\u6d01 javascript var obj = { name: 'lucky', speak: function(){ console.log(\"lucky is a good man\") } } var name = obj.name var speak = obj.speak \u7b80\u6d01\u5199\u6cd5 javascript var obj = { name: 'lucky', speak: function(){ console.log(\"lucky is a good man\") } } var {name, speak} = obj","title":"2\u3001ES6\u4e2d\u7684\u65b0\u7b80\u6d01\u8bed\u6cd5"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3","text":"\u8bf4\u660e\uff1a \u5728 JavaScript \u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\uff08 , \uff09\u7528\u4e8e\u5728\u8bed\u53e5\u4e2d\u5206\u9694\u8868\u8fbe\u5f0f\uff0c\u5e76\u6309\u987a\u5e8f\u6267\u884c\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u3002\u9017\u53f7\u8fd0\u7b97\u7b26\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u8bed\u6cd5\u5f62\u5f0f\u5982\u4e0b\uff1a javascript expression1, expression2, expression3, ..., expressionN \u4f8b\u5982 javascript function s(){ console.log(1), console.log(2), console.log(3); // \u4ece\u524d\u5411\u540e\u6267\u884c ,1,2,3 let s = (1, 2, 3); // \u6574\u4f53\u8fdb\u884c\u8d4b\u503c\u7684\u65f6\u5019. \u53d6\u7684\u662f\u6700\u540e\u4e00\u4e2a\u503c 3 console.log(s); // \u6ce8\u610f. \u8fd9\u4e2a\u62ec\u53f7\u53ef\u4ee5\u5728\u8fd4\u56de\u503c\u65f6\u7701\u7565 var age; return age=18,age++,age+=100,{name:\"lucky\", \"age\":age}; } let r = s(); console.log(r); // {name: 'lucky', age: 119} \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\u7528\u4e8e\u5728\u4e00\u884c\u4e2d\u6267\u884c\u591a\u4e2a\u8d4b\u503c\u64cd\u4f5c\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\u4f1a\u4ece\u5de6\u5230\u53f3\u4f9d\u6b21\u6267\u884c\u6bcf\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5e76\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u5b9e\u9645\u6848\u4f8b javascript t.prototype[c(\"0x27\")] = function() { var t, e, r, n = 0; return n = s() ? Date.now() : window.XM_SERVER_CLOCK || 0, t = this[c(\"0x13\")], e = n, r = Date[c(\"0x25\")](), (\"{\" + t + e + \"}(\" + u(100) + \")\" + e + \"(\" + u(100) + \")\" + r)[c(\"0xa\")](/{([\\w-]+)}/, (function(t, e) { return a(e) })) }","title":"3\u3001\u9017\u53f7\u8fd0\u7b97\u7b26"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#4","text":"let a = 10; let b = 20; let d = a > b? a: b console.log(d); \u6848\u4f8b let a = 10; let b = 20; let c = 5; let d = 17; let e; let m; e = (e = a > 3 ? b : c, m = e < b++ ? c-- : a = 3 > b % d ? 27: 37, m++); console.log(a); console.log(b); console.log(c); console.log(d); console.log(e); console.log(m); \u5b9e\u4f8b function test(){ return (Aa() ? 0 : p(\"Opera\")) ? a([\"Version\", \"Opera\"]) : (Aa() ? 0 : p(\"Edge\")) ? a([\"Edge\"]) : Da() ? a([\"Edg\"]) : p(\"Silk\") ? a([\"Silk\"]) : Fa() ? a([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]) : (a = b[2]) && a[1] || \"\" }","title":"4\u3001 \u590d\u6742\u4e09\u5143\u8fd0\u7b97\u7b26"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#5-jsonstringifyjsonparse","text":"","title":"5\u3001 JSON.stringify\u548cJSON.parse"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1-jsonstringify","text":"\u8bf4\u660e JSON.stringify \u7684\u4f5c\u7528\u662f\u5c06 JavaScript \u5bf9\u8c61\u6216\u503c\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u65b9\u6cd5\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u4f60\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e2d\u4f20\u9012\u548c\u5b58\u50a8\u6570\u636e\uff0c\u5c24\u5176\u662f\u5728\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u6216\u5728\u672c\u5730\u5b58\u50a8\u6570\u636e\u65f6\u3002 JSON.stringify \u7684\u4e3b\u8981\u7528\u9014\uff1a \u6570\u636e\u4f20\u8f93\uff1a \u5f53\u4f60\u9700\u8981\u5c06\u6570\u636e\u4ece\u524d\u7aef\u53d1\u9001\u5230\u540e\u7aef\uff08\u6216\u76f8\u53cd\uff09\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 JSON.stringify \u5c06 JavaScript \u5bf9\u8c61\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5728\u670d\u52a1\u5668\u7aef\u4f7f\u7528\u76f8\u5e94\u7684\u89e3\u6790\u65b9\u6cd5\u8fdb\u884c\u5904\u7406\u3002 ```javascript const dataToSend = { username: \"Lucky\", age: 18, isAdmin: false }; const jsonString = JSON.stringify(dataToSend); // \u5c06 jsonString \u53d1\u9001\u5230\u670d\u52a1\u5668 ``` \u672c\u5730\u5b58\u50a8\uff1a \u5f53\u4f60\u9700\u8981\u5728\u6d4f\u89c8\u5668\u7684\u672c\u5730\u5b58\u50a8\u4e2d\u4fdd\u5b58\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 JSON.stringify \u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5c06\u5b57\u7b26\u4e32\u5b58\u50a8\u5728\u672c\u5730\u3002 ```javascript const userPreferences = { theme: \"Lucky\", fontSize: 18 }; localStorage.setItem(\"userPrefs\", JSON.stringify(userPreferences)); ``` \u65e5\u5fd7\u8bb0\u5f55\uff1a \u5728\u8bb0\u5f55\u65e5\u5fd7\u65f6\uff0c\u6709\u65f6\u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3a\u53ef\u8bfb\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u67e5\u770b\u548c\u5206\u6790\u3002 ```javascript const errorDetails = { message: \"An error occurred\", code: 500, timestamp: new Date() }; console.log(\"Error details: \" + JSON.stringify(errorDetails)); ``` \u6df1\u62f7\u8d1d\uff1a \u901a\u8fc7\u4f7f\u7528 JSON.stringify \u548c JSON.parse \u53ef\u4ee5\u6267\u884c\u5bf9\u8c61\u7684\u6df1\u62f7\u8d1d\uff0c\u521b\u5efa\u539f\u5bf9\u8c61\u7684\u526f\u672c\u800c\u4e0d\u662f\u5f15\u7528\u3002 javascript const originalObject = { key: \"value\" }; const copiedObject = JSON.parse(JSON.stringify(originalObject)); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c`JSON.stringify` \u4e0d\u4f1a\u5305\u62ec\u5bf9\u8c61\u7684\u51fd\u6570\u3001`undefined` \u6216 `Symbol` \u7c7b\u578b\u7684\u5c5e\u6027\u3002\u5982\u679c\u5bf9\u8c61\u5305\u542b\u8fd9\u4e9b\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u5b83\u4eec\u5c06\u5728\u7ed3\u679c\u4e2d\u88ab\u5ffd\u7565\u6216\u8f6c\u6362\u4e3a `null`\u3002 Symbol\uff08\u4e86\u89e3\uff09 Symbol \u7c7b\u578b\u7684\u5c5e\u6027\u63d0\u4f9b\u4e86\u4e00\u79cd\u53ef\u9760\u4e14\u4e0d\u5bb9\u6613\u88ab\u8986\u76d6\u7684\u5c5e\u6027\u6807\u8bc6\u7b26\uff0c\u9002\u7528\u4e8e\u9700\u8981\u786e\u4fdd\u5c5e\u6027\u540d\u552f\u4e00\u6027\u7684\u60c5\u51b5\u3002 const symbol1 = Symbol('uniqueSymbol'); const symbol2 = Symbol('uniqueSymbol'); console.log(symbol1 === symbol2); // false\uff0c\u56e0\u4e3a\u6bcf\u4e2a Symbol \u90fd\u662f\u552f\u4e00\u7684 const obj = { [symbol1]: 'Value for symbol1', [symbol2]: 'Value for symbol2' }; console.log(obj[symbol1]); // Value for symbol1 console.log(obj[symbol2]); // Value for symbol2","title":"(1) JSON.stringify"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2-jsonparse","text":"\u8bf4\u660e JSON.parse \u7684\u4f5c\u7528\u662f\u5c06 JSON \u5b57\u7b26\u4e32\u89e3\u6790\u6210 JavaScript \u5bf9\u8c61\u3002\u8fd9\u4e2a\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u5904\u7406\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u7684 JSON \u6570\u636e\u6216\u672c\u5730\u5b58\u50a8\u4e2d\u7684 JSON \u5b57\u7b26\u4e32\u3002 JSON.parse \u7684\u4e3b\u8981\u7528\u9014\uff1a \u5904\u7406\u670d\u52a1\u5668\u54cd\u5e94\uff1a \u5f53\u4f60\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\uff0c\u670d\u52a1\u5668\u901a\u5e38\u4f1a\u4ee5 JSON \u683c\u5f0f\u53d1\u9001\u6570\u636e\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 JSON.parse \u5c06\u8fd9\u4e9b JSON \u6570\u636e\u89e3\u6790\u4e3a JavaScript \u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u5ba2\u6237\u7aef\u4e2d\u4f7f\u7528\u3002 ```javascript const jsonResponse = '{\"username\": \"Lucky\", \"age\": 25, \"isAdmin\": false}'; const userData = JSON.parse(jsonResponse); // \u73b0\u5728 userData \u662f\u4e00\u4e2a\u5305\u542b\u670d\u52a1\u5668\u54cd\u5e94\u6570\u636e\u7684 JavaScript \u5bf9\u8c61 ``` \u5904\u7406\u672c\u5730\u5b58\u50a8\u6570\u636e\uff1a \u5f53\u4f60\u4ece\u672c\u5730\u5b58\u50a8\u4e2d\u68c0\u7d22\u4ee5 JSON \u683c\u5f0f\u5b58\u50a8\u7684\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 JSON.parse \u5c06 JSON \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a JavaScript \u5bf9\u8c61\u3002 ```javascript const storedPrefs = localStorage.getItem(\"userPrefs\"); const userPreferences = JSON.parse(storedPrefs); // userPreferences \u73b0\u5728\u662f\u4e00\u4e2a\u5305\u542b\u672c\u5730\u5b58\u50a8\u6570\u636e\u7684 JavaScript \u5bf9\u8c61 ``` \u5904\u7406\u7528\u6237\u8f93\u5165\uff1a \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u53ef\u80fd\u4f1a\u63d0\u4f9b\u4ee5 JSON \u5b57\u7b26\u4e32\u5f62\u5f0f\u8f93\u5165\u7684\u6570\u636e\u3002\u901a\u8fc7\u4f7f\u7528 JSON.parse \uff0c\u4f60\u53ef\u4ee5\u5c06\u7528\u6237\u8f93\u5165\u8f6c\u6362\u4e3a JavaScript \u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u3002 ```javascript const userInput = '{\"searchQuery\": \"vacation\", \"filters\": {\"minPrice\": 100, \"maxPrice\": 500}}'; const searchData = JSON.parse(userInput); // searchData \u73b0\u5728\u662f\u4e00\u4e2a\u5305\u542b\u7528\u6237\u8f93\u5165\u6570\u636e\u7684 JavaScript \u5bf9\u8c61 ``` \u6df1\u62f7\u8d1d\uff1a \u548c JSON.stringify \u4e00\u8d77\u4f7f\u7528\uff0c JSON.parse \u53ef\u4ee5\u6267\u884c\u5bf9\u8c61\u7684\u6df1\u62f7\u8d1d\uff0c\u521b\u5efa\u539f\u5bf9\u8c61\u7684\u526f\u672c\u800c\u4e0d\u662f\u5f15\u7528\u3002 javascript const originalObject = { key: \"value\" }; const jsonString = JSON.stringify(originalObject); const copiedObject = JSON.parse(jsonString); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJSON \u5b57\u7b26\u4e32\u5fc5\u987b\u662f\u6709\u6548\u7684 JSON \u683c\u5f0f\uff0c\u5426\u5219 JSON.parse \u4f1a\u5f15\u53d1\u9519\u8bef\u3002\u5728\u89e3\u6790\u4e4b\u524d\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528 JSON.stringify \u786e\u4fdd\u751f\u6210\u7684\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 JSON\u3002","title":"(2) JSON.parse"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#6","text":"\u672c\u5730\u5b58\u50a8. \u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u7aef\u7684\u6570\u636e. \u53ef\u4ee5\u7406\u89e3\u6210\u4e00\u4e2a\u5c0f\u578b\u7684\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93. \u6982\u8ff0\uff1a localStorage\u548csessionStorage\u90fd\u662fHTML5\u63d0\u4f9b\u7684Web\u5b58\u50a8API\uff0c\u7528\u4e8e\u5728\u6d4f\u89c8\u5668\u4e2d\u4e34\u65f6\u6216\u6301\u4e45\u5730\u5b58\u50a8\u6570\u636e\u3002 \u4f5c\u7528\uff1a \u5b58\u50a8, \u83b7\u53d6. \u5220\u9664.","title":"6\u3001\u672c\u5730\u5b58\u50a8"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1-localstorage","text":"localStorage\u662f\u4e00\u79cd\u6301\u4e45\u5316\u7684\u672c\u5730\u5b58\u50a8\u673a\u5236\u3002 \u5b58\u50a8\u7684\u6570\u636e\u5728\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\u540e\u4ecd\u7136\u4fdd\u7559\uff0c\u76f4\u5230\u88ab\u663e\u5f0f\u5220\u9664\u3002 \u5b58\u50a8\u7684\u6570\u636e\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u7a97\u53e3\u3001\u6807\u7b7e\u9875\u6216\u6d4f\u89c8\u5668\u4f1a\u8bdd\u4e4b\u95f4\u5171\u4eab\u3002 localStorage\u5b58\u50a8\u7684\u6570\u636e\u5927\u5c0f\u4e00\u822c\u4e3a5MB\u5de6\u53f3\u3002","title":"(1) localStorage\uff1a"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2-sessionstorage","text":"sessionStorage\u662f\u4e00\u79cd\u4f1a\u8bdd\u7ea7\u522b\u7684\u672c\u5730\u5b58\u50a8\u673a\u5236\u3002 \u5b58\u50a8\u7684\u6570\u636e\u5728\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u540e\u81ea\u52a8\u6e05\u9664\u3002 \u5b58\u50a8\u7684\u6570\u636e\u53ea\u80fd\u5728\u5f53\u524d\u4f1a\u8bdd\u671f\u95f4\u8bbf\u95ee\uff0c\u4e0d\u540c\u7684\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u4e4b\u95f4\u4e0d\u80fd\u5171\u4eab\u3002 sessionStorage\u5b58\u50a8\u7684\u6570\u636e\u5927\u5c0f\u4e00\u822c\u4e5f\u4e3a5MB\u5de6\u53f3\u3002","title":"(2) sessionStorage\uff1a"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3_1","text":"\u8fd9\u4e24\u79cd\u5b58\u50a8\u673a\u5236\u90fd\u4f7f\u7528\u7b80\u5355\u7684\u952e\u503c\u5bf9\uff08key-value\uff09\u5f62\u5f0f\u6765\u5b58\u50a8\u6570\u636e\u3002\u5b83\u4eec\u90fd\u53ea\u80fd\u5b58\u50a8\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5982\u679c\u9700\u8981\u5b58\u50a8\u5176\u4ed6\u7c7b\u578b\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5e8f\u5217\u5316\uff08\u5982JSON.stringify\uff09\u548c\u53cd\u5e8f\u5217\u5316\uff08\u5982JSON.parse\uff09\u7684\u65b9\u5f0f\u8fdb\u884c\u8f6c\u6362\u3002 \u603b\u7ed3\u6765\u8bf4\uff0clocalStorage\u9002\u5408\u7528\u4e8e\u957f\u671f\u4fdd\u5b58\u6570\u636e\uff0c\u800csessionStorage\u9002\u5408\u7528\u4e8e\u4e34\u65f6\u4fdd\u5b58\u6570\u636e\uff0c\u4ec5\u5728\u5f53\u524d\u4f1a\u8bdd\u5185\u6709\u6548\u3002","title":"(3) \u603b\u7ed3"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#4_1","text":"\u90fd\u7ee7\u627f\u81eaStorage\u5e38\u89c1\u7684\u64cd\u4f5c: localStorage javascript localStorage.setItem(key, value); // \u8bbe\u7f6ekey = value, \u5982\u679c\u662f\u76f8\u540c\u7684key, \u4f1a\u628a\u6570\u636e\u8986\u76d6 localStorage.removeItem(key); // \u6839\u636ekey\u5220\u9664\u6570\u636e localStorage.getItem(key); // \u6839\u636ekey\u6765\u83b7\u53d6\u6570\u636e sessionStorage javascript sessionStorage.setItem(key, value); // \u8bbe\u7f6ekey = value, \u5982\u679c\u662f\u76f8\u540c\u7684key, \u4f1a\u628a\u6570\u636e\u8986\u76d6 sessionStorage.removeItem(key); // \u6839\u636ekey\u5220\u9664\u6570\u636e sessionStorage.getItem(key); // \u6839\u636ekey\u6765\u83b7\u53d6\u6570\u636e","title":"(4) \u4f7f\u7528"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#5","text":"localstorage \u5b58\u50a8\u6570\u636e \u83b7\u53d6\u6570\u636e","title":"(5) \u9006\u5411\u4e2d"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#6-documentcookie","text":"\u4f5c\u7528\uff1a \u672c\u5730\u5b58\u50a8. cookie\u7684\u672c\u8d28\u662f\u4e00\u4e2a\u8d85\u5927\u53f7\u5b57\u7b26\u4e32. \u6709\u5931\u6548\u65f6\u95f4\u7684. \u8bbe\u7f6ecookie javascript document.cookie=\"name=lucky\" \u83b7\u53d6cookie \u60f3\u8981\u83b7\u53d6cookie\u53ef\u4ee5\u901a\u8fc7document.cookie\u76f4\u63a5\u83b7\u53d6. \u4f46\u662f\u5982\u679c\u662fhttponly\u7684cookie, \u662f\u62ff\u4e0d\u5230\u7684. \u9700\u8981\u53bb\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u5355\u72ec\u7684\u8bbe\u7f6e \u53d6\u6d88\u52fe\u9009HttpOnly \u6b64\u523bcookie\u4e2d\u6709HttpOnly\u52fe\u9009\u7684\u503c\uff0c\u6240\u4ee5\u65e0\u6cd5\u4f7f\u7528document.cookie\u8fdb\u884c\u83b7\u53d6 \u53d6\u6d88\u52fe\u9009 \u91cd\u65b0\u83b7\u53d6 \u6ce8\u610f\uff1a \u4e4b\u524d\u6211\u4eec\u524d\u9762\u6240\u5b66\u8fc7\u7684session.cookies\u662f\u65e0\u6cd5\u7ef4\u62a4\u524d\u7aefjs\u6240\u8bbe\u7f6e\u7684cookie","title":"(6) document.cookie"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#7window","text":"","title":"7\u3001\u795e\u5947\u7684window"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1_1","text":"JavaScript\u4e2d\u7684 window \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u9876\u7ea7\u5168\u5c40\u5bf9\u8c61\uff0c\u5b83\u4ee3\u8868\u4e86\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u3002 window \u5bf9\u8c61\u5177\u6709\u5e7f\u6cdb\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u7528\u4e8e\u63a7\u5236\u548c\u64cd\u4f5c\u5f53\u524d\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u3002","title":"(1) \u6982\u8ff0\uff1a"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2-window","text":"\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf \u9700\u8981\u4e3b\u8981 \u5168\u5c40\u53d8\u91cf\u4f7f\u7528 var \u5b9a\u4e49 let \u65e0\u6cd5\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf javascript // \u5b9a\u4e49 var name = 'lucky' // \u4f7f\u7528 console.log(name) \u5728\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528window\u5bf9\u8c61\u8fdb\u884c\u67e5\u770b \u53d1\u73b0\u6b64\u523b\u7684name\u53d8\u91cf\u5df2\u7ecf\u6210\u4e3a\u5168\u5c40\u5bf9\u8c61Window\u7684\u5c5e\u6027 \u56e0\u6b64\u6211\u4eec\u4e5f\u53ef\u4ee5\u5982\u4e0b\u65b9\u5f0f\u8fdb\u884c\u8c03\u7528 javascript // \u5b9a\u4e49 var name = 'lucky' // \u4f7f\u7528 console.log(window.name) // \u7b49\u540c\u4e8e console.log(name) \u51fd\u6570\u4e2d\u4f7f\u7528 javascript function test(){ window.name = 'lucky' } test() console.log(name) console.log(window.name) \u7efc\u4e0a, \u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u7ed3\u8bba. \u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u7528window.xxx\u6765\u8868\u793a.","title":"(2) window\u5b9e\u4f8b\u8bf4\u660e"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3-window","text":"window.document \uff1a\u8868\u793a\u5f53\u524d\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u7684\u6587\u6863\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u6765\u64cd\u7eb5DOM\u5143\u7d20\u548c\u5904\u7406\u7f51\u9875\u5185\u5bb9\u3002 window.location \uff1a\u7528\u4e8e\u83b7\u53d6\u6216\u8bbe\u7f6e\u5f53\u524d\u7a97\u53e3\u7684URL\u4fe1\u606f\uff0c\u5305\u62ec\u534f\u8bae\u3001\u4e3b\u673a\u3001\u8def\u5f84\u7b49\u3002 window.location.reload() \u901a\u8fc7js\u5b8c\u6210\u9875\u9762\u5237\u65b0 window.location.href = \"\u65b0\u5730\u5740\" \u901a\u8fc7js\u5b8c\u6210\u9875\u9762\u8df3\u8f6c. window.navigator \uff1a\u63d0\u4f9b\u5173\u4e8e\u6d4f\u89c8\u5668\u548c\u7528\u6237\u4ee3\u7406\u7684\u4fe1\u606f\uff0c\u5982\u6d4f\u89c8\u5668\u540d\u79f0\u3001\u7248\u672c\u3001\u5e73\u53f0\u7b49\u3002 window.alert() \uff1a\u5728\u5f53\u524d\u7a97\u53e3\u663e\u793a\u4e00\u4e2a\u8b66\u544a\u6846\uff0c\u7528\u4e8e\u5411\u7528\u6237\u663e\u793a\u4e00\u6761\u7b80\u5355\u7684\u6d88\u606f\u3002 window.confirm() \uff1a\u663e\u793a\u4e00\u4e2a\u786e\u8ba4\u6846\uff0c\u7528\u4e8e\u5411\u7528\u6237\u8be2\u95ee\u4e00\u4e2a\u95ee\u9898\uff0c\u7528\u6237\u53ef\u4ee5\u70b9\u51fb\u786e\u5b9a\u6216\u53d6\u6d88\u6309\u94ae\u8fdb\u884c\u9009\u62e9\u3002 window.prompt() \uff1a\u663e\u793a\u4e00\u4e2a\u63d0\u793a\u6846\uff0c\u7528\u4e8e\u5411\u7528\u6237\u8bf7\u6c42\u8f93\u5165\u4e00\u6bb5\u6587\u672c\uff0c\u7528\u6237\u53ef\u4ee5\u8f93\u5165\u5e76\u70b9\u51fb\u786e\u5b9a\u6216\u53d6\u6d88\u6309\u94ae\u8fdb\u884c\u54cd\u5e94\u3002 window.setTimeout() \uff1a\u7528\u4e8e\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5ef6\u8fdf\u540e\u6267\u884c\u4e00\u6b21\u51fd\u6570\u6216\u4ee3\u7801\u5757\u3002 window.setInterval() \uff1a\u91cd\u590d\u8c03\u7528\u6307\u5b9a\u7684\u51fd\u6570\u6216\u4ee3\u7801\u5757\uff0c\u6309\u7167\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u8fdb\u884c\u91cd\u590d\u6267\u884c\u3002 window.open() \uff1a\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\uff0c\u5e76\u52a0\u8f7d\u6307\u5b9a\u7684URL\u3002 \u9664\u4e86\u4e0a\u8ff0\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c window \u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5176\u4ed6\u529f\u80fd\uff0c\u4f8b\u5982\u5904\u7406\u7a97\u53e3\u5c3a\u5bf8\u3001\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u3001\u5c4f\u5e55\u4fe1\u606f\u7b49\u3002\u53ef\u4ee5\u901a\u8fc7 window \u5bf9\u8c61\u6765\u64cd\u4f5c\u548c\u63a7\u5236\u5f53\u524d\u6d4f\u89c8\u5668\u7a97\u53e3\u6216\u6807\u7b7e\u9875\u7684\u5404\u4e2a\u65b9\u9762\u3002","title":"(3) \u4e0b\u9762\u662fwindow\u5bf9\u8c61\u7684\u4e00\u4e9b\u5e38\u89c1\u5c5e\u6027\u548c\u65b9\u6cd5"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#4_2","text":"window\u7684\u4e00\u4e9b\u7279\u6027 \u5728\u6d4f\u89c8\u5668\u73af\u5883. \u8bf7\u6ce8\u610f. window\u5bf9\u8c61\u548cdocument\u5bf9\u8c61\u662f\u4e0d\u53ef\u4ee5\u88ab\u6539\u53d8\u7684.\u8be5\u7279\u6027\u975e\u5e38\u7684\u5751. \u5982\u679c\u81ea\u5df1\u8865\u73af\u5883\u7684\u65f6\u5019. \u8bf7\u6ce8\u610f. \u5982\u679c\u7f51\u7ad9\u6709\u6e05\u7406window\u548cdocument\u7684\u4ee3\u7801\u7684\u8bdd. \u4f60\u8865\u5145\u7684\u73af\u5883\u4ee3\u7801, \u53ef\u80fd\u88ab\u51b2\u6389 javascript // \u5728\u6d4f\u89c8\u5668\u73af\u5883\u65e0\u6cd5\u6539\u53d8 window = {} // \u65e0\u6cd5\u88ab\u4fee\u6539 del window // \u65e0\u6cd5\u88ab\u5220\u9664","title":"(4) \u6ce8\u610f"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#5_1","text":"\u4ee3\u7801 ```javascript // \u5185\u90e8\u8bbe\u5b9afun\u51fd\u6570\u4e3a\u5168\u5c40\u51fd\u6570 (function(){ let fun = function(){ console.log(\"fun\u51fd\u6570\u8bbe\u7f6e\u4e3a\u5168\u5c40\u51fd\u6570\") } window.fun = fun })(); fun() //\u6362\u4e00\u79cd\u5199\u6cd5. \u4f60\u8fd8\u8ba4\u8bc6\u4e48? window\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012 (function(w){ let fun = function(){ console.log(\"fun\u51fd\u6570\u8bbe\u7f6e\u4e3a\u5168\u5c40\u51fd\u6570\") } w.fun = fun })(window); //\u518d\u590d\u6742\u4e00\u70b9 (function(w){ let tools = { b64: function(){ console.log(\"\u6211\u662f\u8ba1\u7b97B64\"); return \"b64\"; }, md5: function(){ console.log(\"\u6211\u662f\u8ba1\u7b97MD5\"); return \"MD5\" } } w.jiami = { AES: function(msg){ return tools.b64(), tools.md5(), 'lucky'; }, DES: function(){ console.log(\"\u6211\u662fDES\"); }, RSA: function(){ console.log(\"\u6211\u662fRSA\"); } } })(window); ``` window\u662f\u6574\u4e2a\u6d4f\u89c8\u5668\u7684\u5168\u5c40\u4f5c\u7528\u57df.","title":"(5) \u5176\u5b83\u65b9\u5f0f\u7684\u4f7f\u7528\u573a\u666f"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#8js","text":"","title":"8\u3001JS\u539f\u578b\u3001\u539f\u578b\u94fe"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1_2","text":"javaScript\u4e2d\u7684\u6784\u9020\u51fd\u6570\uff08Constructor\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u51fd\u6570\uff0c\u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\u5e76\u521d\u59cb\u5316\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u5b83\u4eec\u4e3b\u8981\u7528\u4e8e\u521b\u5efa\u81ea\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b\u3002 \u6784\u9020\u51fd\u6570\u5728\u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u65b0\u5bf9\u8c61\u65f6\u88ab\u8c03\u7528\u3002\u5f53\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u5b83\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u5bf9\u8c61\uff0c\u5e76\u5c06\u8be5\u5bf9\u8c61\u4f5c\u4e3a this \u5173\u952e\u5b57\u7684\u5f15\u7528\u3002\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u901a\u8fc7 this \u5173\u952e\u5b57\u6765\u8bbe\u7f6e\u65b0\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6784\u9020\u51fd\u6570\u7684\u793a\u4f8b function Person(name, age) { this.name = name; this.age = age; this.greet = function() { console.log(\"Hello, my name is \" + this.name); }; } // \u4f7f\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u65b0\u5bf9\u8c61 var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); var person2 = new Person(\"lucky\", 30); console.log(person1.name); // \u8f93\u51fa\uff1a\"\u8fea\u4e3d\u70ed\u5df4\" console.log(person2.age); // \u8f93\u51fa\uff1a30 person1.greet(); // \u8f93\u51fa\uff1a\"Hello, my name is \u8fea\u4e3d\u70ed\u5df4\" person2.greet(); // \u8f93\u51fa\uff1a\"Hello, my name is lucky\"","title":"(1) \u6784\u9020\u51fd\u6570"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2-this","text":"\u5728JavaScript\u4e2d\uff0c\u6784\u9020\u51fd\u6570\u662f\u7528\u6765\u521b\u5efa\u5bf9\u8c61\u7684\u7279\u6b8a\u51fd\u6570\u3002\u5f53\u4f7f\u7528 new \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u5e76\u5c06\u8be5\u5bf9\u8c61\u4f5c\u4e3a this \u5173\u952e\u5b57\u7684\u5f15\u7528\u3002 this \u5173\u952e\u5b57\u5728\u6784\u9020\u51fd\u6570\u4e2d\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u5f15\u7528\u5f53\u524d\u521b\u5efa\u7684\u5bf9\u8c61\uff1a\u5728\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u901a\u8fc7 this \u5173\u952e\u5b57\u53ef\u4ee5\u5f15\u7528\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u672c\u8eab\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5728\u6784\u9020\u51fd\u6570\u4e2d\u64cd\u4f5c\u548c\u8bbe\u7f6e\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u7ed1\u5b9a\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a\u901a\u8fc7 this \u5173\u952e\u5b57\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5c5e\u6027\u548c\u65b9\u6cd5\u7ed1\u5b9a\u5230\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u4e0a\u3002\u4f8b\u5982\uff0c\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4f7f\u7528 this.propertyName = value \u53ef\u4ee5\u5c06\u5c5e\u6027\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e0a\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee this.propertyName \u6765\u83b7\u53d6\u6216\u4fee\u6539\u5c5e\u6027\u7684\u503c\u3002 \u6784\u5efa\u5b9e\u4f8b\u5bf9\u8c61\uff1a\u6784\u9020\u51fd\u6570\u901a\u8fc7 this \u5173\u952e\u5b57\u521b\u5efa\u7684\u5bf9\u8c61\u88ab\u79f0\u4e3a\u8be5\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002\u6bcf\u6b21\u4f7f\u7528 new \u8c03\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002 \u603b\u800c\u8a00\u4e4b\uff0c this \u5173\u952e\u5b57\u5728\u6784\u9020\u51fd\u6570\u4e2d\u7684\u4f5c\u7528\u662f\u6307\u5411\u5373\u5c06\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u65b9\u4fbf\u6211\u4eec\u64cd\u4f5c\u548c\u8bbe\u7f6e\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u4ee3\u7801\u8bf4\u660e\uff1a // \u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570 function Person(name, age) { // \u4f7f\u7528 this \u5173\u952e\u5b57\u5f15\u7528\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b this.name = name; this.age = age; } // \u4f7f\u7528 new \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u5b9e\u4f8b var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); console.log(person1.name); // \u8f93\u51fa \"\u8fea\u4e3d\u70ed\u5df4\" console.log(person1.age); // \u8f93\u51fa 25 var person2 = new Person(\"Lucky\", 30); console.log(person2.name); // \u8f93\u51fa \"Lucky\" console.log(person2.age); // \u8f93\u51fa 30 \u6ce8\u610f\uff1a \u5982\u679c\u5f53\u524d\u4f7f\u7528\u4e86new \u5219this\u4e3a\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5982\u679c\u4e3a\u6b63\u5e38\u51fd\u6570\u8c03\u7528 \u5219\u4e3a\u5168\u5c40\u5bf9\u8c61window \u4e5f\u5c31\u662f\u8bf4\u5f53\u524d\u901a\u8fc7this\u521b\u5efa\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u4f1a\u6210\u4e3awindow\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 function Person(name, age) { // \u4f7f\u7528 this \u5173\u952e\u5b57\u5f15\u7528\u6b63\u5728\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b this.name = name; this.age = age; console.log(this); } Person(\"Alice\", 25); \u76f4\u63a5\u8c03\u7528\u5219\u4e3awindow\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 new \u5219\u4e3a\u5b9e\u4f8b\u5bf9\u8c61 \u6b64\u5904\u7684this\u53ef\u4ee5\u7406\u89e3\u4e3apython\u5bf9\u8c61\u4e2d\u7684self\u53c2\u6570 \u5f53\u524d\u8c01\u8c03\u7528\u4e86\u5219this\u4ee3\u8868\u662f\u54ea\u4e2a\u5bf9\u8c61","title":"(2) this\u5173\u952e\u5b57"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3_2","text":"\u5982\u679c\u4f60\u60f3\u5728\u6784\u9020\u51fd\u6570\u5916\u90e8\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u6765\u5b9e\u73b0\u3002\u8fd9\u6837\u6dfb\u52a0\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5c06\u88ab\u6240\u6709\u8be5\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u6240\u5171\u4eab\u3002 \u4ee3\u7801\u8bf4\u660e\uff1a function Person(name, age) { this.name = name; this.age = age; } // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b0\u5c5e\u6027 Person.prototype.gender = \"man\"; // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b0\u65b9\u6cd5 Person.prototype.sayHello = function() { console.log(\"Hello, my name is \" + this.name + \".\"); }; var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); console.log(person1.name); // \u8f93\u51fa \"\u8fea\u4e3d\u70ed\u5df4\" console.log(person1.age); // \u8f93\u51fa 25 console.log(person1.gender); // \u8f93\u51fa \"man\" person1.sayHello(); // \u8f93\u51fa \"Hello, my name is \u8fea\u4e3d\u70ed\u5df4.\" var person2 = new Person(\"Lucky\", 30); console.log(person2.name); // \u8f93\u51fa \"Lucky\" console.log(person2.age); // \u8f93\u51fa 30 console.log(person2.gender); // \u8f93\u51fa \"man\" person2.sayHello(); // \u8f93\u51fa \"Hello, my name is Lucky.\" \u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 Person.prototype \u6765\u8bbf\u95ee\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u5e76\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u4e86\u5c5e\u6027 gender \u548c\u65b9\u6cd5 sayHello \u3002\u8fd9\u6837\uff0c\u901a\u8fc7\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u6bcf\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u4f1a\u7ee7\u627f\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u662f person1 \u8fd8\u662f person2 \uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u8bbf\u95ee\u76f8\u540c\u7684\u539f\u578b\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u901a\u8fc7\u5c06\u5c5e\u6027\u548c\u65b9\u6cd5\u6dfb\u52a0\u5230\u539f\u578b\u5bf9\u8c61\u4e0a\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u6240\u6709\u5bf9\u8c61\u5171\u4eab\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5b9a\u4e49\uff0c\u907f\u514d\u5728\u6bcf\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u4e2d\u90fd\u521b\u5efa\u4e00\u4efd\u65b0\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4ece\u800c\u8282\u7701\u5185\u5b58\u3002 \u8fd9\u6837\u4e5f\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u53ef\u7ef4\u62a4\uff0c\u56e0\u4e3a\u6211\u4eec\u53ea\u9700\u8981\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u8fdb\u884c\u4fee\u6539\uff0c\u5c31\u53ef\u4ee5\u5f71\u54cd\u5230\u6240\u6709\u5bf9\u8c61\u5b9e\u4f8b\u3002","title":"(3) \u6784\u9020\u51fd\u6570\u5916\u6dfb\u52a0\u65b0\u5c5e\u6027\u548c\u65b0\u65b9\u6cd5"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#4_3","text":"\u5728JavaScript\u4e2d\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5c5e\u6027\u53eb\u505a\u539f\u578b\uff08prototype\uff09\u3002\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u7528\u6765\u5b58\u50a8\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u201c\u6a21\u677f\u201d\u3002\u5f53\u4f7f\u7528 new \u5173\u952e\u5b57\u8c03\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u5bf9\u8c61\u5b9e\u4f8b\u65f6\uff0c\u8fd9\u4e9b\u5b9e\u4f8b\u4f1a\u81ea\u52a8\u7ee7\u627f\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u901a\u8fc7\u5411\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u5f97\u6240\u6709\u7531\u8be5\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u5177\u5907\u76f8\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u6837\u505a\u4e0d\u4ec5\u8282\u7701\u4e86\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd8\u53ef\u5b9e\u73b0\u5bf9\u591a\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u5171\u4eab\u884c\u4e3a\u7684\u5b9a\u4e49\u3002 \u4e0b\u9762\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u7684\u51e0\u4e2a\u5173\u952e\u70b9\uff1a prototype \u5c5e\u6027\uff1a\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a\u540d\u4e3a prototype \u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c Person.prototype \u6307\u5411 Person \u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u3002 constructor \u5c5e\u6027\uff1a\u539f\u578b\u5bf9\u8c61\u4e0a\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5c5e\u6027 constructor \uff0c\u5b83\u6307\u5411\u6784\u9020\u51fd\u6570\u672c\u8eab\u3002\u4f8b\u5982\uff0c Person.prototype.constructor \u6307\u5411 Person \u6784\u9020\u51fd\u6570\u3002 \u539f\u578b\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a\u53ef\u4ee5\u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5\u5c06\u88ab\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u3002\u4f8b\u5982\uff0c Person.prototype.gender = \"man\" \u5c06\u5728\u6240\u6709 Person \u5bf9\u8c61\u5b9e\u4f8b\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a gender \u7684\u5c5e\u6027\u3002 \u4f7f\u7528\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u5bf9\u8c61\u5b9e\u4f8b\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u6548\u7387\u548c\u53ef\u7ef4\u62a4\u6027\u3002\u5b83\u662fJavaScript\u4e2d\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002 \u4ee3\u7801\u8bf4\u660e\uff1a // \u6784\u9020\u51fd\u6570 function Person(name, age) { this.name = name; this.age = age; } // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5 Person.prototype.gender = \"man\"; Person.prototype.sayHello = function() { console.log(\"Hello, my name is \" + this.name + \".\"); }; // \u521b\u5efa\u5bf9\u8c61\u5b9e\u4f8b var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); var person2 = new Person(\"lucky\", 30); console.log(person1.gender); // \u8f93\u51fa \"man\" person1.sayHello(); // \u8f93\u51fa \"Hello, my name is \u8fea\u4e3d\u70ed\u5df4.\" console.log(person2.gender); // \u8f93\u51fa \"man\" person2.sayHello(); // \u8f93\u51fa \"Hello, my name is lucky.\" console.log(Person.prototype); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(typeof Person.prototype); // \u8f93\u51fa \"object\" \u603b\u7ed3\uff1a \u5728JavaScript\u4e2d\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\uff08prototype object\uff09\u3002\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u4e86\u4e00\u4e9b\u53ef\u4f9b\u8be5\u51fd\u6570\u5b9e\u4f8b\u5171\u4eab\u548c\u7ee7\u627f\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5f53\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\u65f6\uff0cJavaScript\u4f1a\u81ea\u52a8\u4e3a\u8be5\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u539f\u578b\u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u8d4b\u503c\u7ed9\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002\u8fd9\u4e2a\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u7ed9\u5b83\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\u6765\u5b9a\u4e49\u9700\u8981\u5171\u4eab\u7684\u5185\u5bb9\u3002 \u539f\u578b\u5bf9\u8c61\u5728JavaScript\u4e2d\u5b9e\u73b0\u4e86\u57fa\u4e8e\u539f\u578b\u94fe\u7684\u7ee7\u627f\u673a\u5236\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61\u65f6\uff0c\u5b9e\u4f8b\u5bf9\u8c61\u4f1a\u7ee7\u627f\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u5982\u679c\u5b9e\u4f8b\u5bf9\u8c61\u5728\u81ea\u8eab\u627e\u4e0d\u5230\u67d0\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5b83\u4f1a\u6cbf\u7740\u539f\u578b\u94fe\u5411\u4e0a\u67e5\u627e\uff0c\u76f4\u5230\u627e\u5230\u5bf9\u5e94\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u6216\u8005\u5230\u8fbe\u539f\u578b\u94fe\u7684\u9876\u7aef\u3002 \u901a\u8fc7\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u5b9a\u4e49\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u5b9e\u73b0\u51fd\u6570\u7684\u590d\u7528\u548c\u5171\u4eab\u3002\u6240\u6709\u901a\u8fc7\u540c\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u53ef\u4ee5\u8bbf\u95ee\u548c\u5171\u4eab\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4ece\u800c\u8282\u7701\u4e86\u5185\u5b58\u7a7a\u95f4\u3002 \u603b\u7ed3\u800c\u8a00\uff0cJavaScript\u4e2d\u7684\u51fd\u6570\u539f\u578b\u5bf9\u8c61\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u4e86\u51fd\u6570\u5b9e\u4f8b\u5171\u4eab\u548c\u7ee7\u627f\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u901a\u8fc7\u539f\u578b\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5b9e\u73b0\u51fd\u6570\u7684\u590d\u7528\u548c\u5171\u4eab\uff0c\u4ee5\u53ca\u57fa\u4e8e\u539f\u578b\u94fe\u7684\u7ee7\u627f\u673a\u5236\u3002","title":"(4) \u4ec0\u4e48\u662f\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#5-__proto__","text":"__proto__ \u662f\u6bcf\u4e2a JavaScript \u5bf9\u8c61\u90fd\u5177\u6709\u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u5bf9\u8c61\u7684\u539f\u578b\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u8bbf\u95ee\u548c\u64cd\u4f5c\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u3002 __proto__ \u7684\u4f5c\u7528\u548c\u4f7f\u7528\u5982\u4e0b\uff1a \u8bbf\u95ee\u539f\u578b\u94fe\uff1a\u901a\u8fc7 __proto__ \u5c5e\u6027\uff0c\u53ef\u4ee5\u8bbf\u95ee\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u4f8b\u5982\uff1a obj.__proto__.methodName() \u53ef\u4ee5\u8c03\u7528\u539f\u578b\u5bf9\u8c61\u4e0a\u7684\u65b9\u6cd5\u3002 \u83b7\u53d6\u539f\u578b\u5bf9\u8c61\uff1a\u4f7f\u7528 __proto__ \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a var protoObj = obj.__proto__; \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u83b7\u53d6\u5230\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u8fdb\u4e00\u6b65\u64cd\u4f5c\u539f\u578b\u5bf9\u8c61\u3002 \u52a8\u6001\u4fee\u6539\u539f\u578b\u94fe\uff1a\u53ef\u4ee5\u901a\u8fc7 __proto__ \u5c5e\u6027\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u6539\u53d8\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5c06\u4e00\u4e2a\u65b0\u5bf9\u8c61\u8d4b\u503c\u7ed9 __proto__ \u6765\u5b9e\u73b0\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u505a\u6cd5\u5728\u73b0\u4ee3 JavaScript \u4e2d\u5df2\u7ecf\u88ab\u5e9f\u5f03\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002\u66f4\u597d\u7684\u505a\u6cd5\u662f\u4f7f\u7528 Object.setPrototypeOf() \u65b9\u6cd5\u6765\u8bbe\u7f6e\u5bf9\u8c61\u7684\u539f\u578b\u3002 javascript var obj = person1.__proto__ obj['name'] = 'lucky' Object.setPrototypeOf(person1,obj) // \u7ed9\u539f\u578b\u5bf9\u8c61\u6dfb\u52a0\u65b0\u5c5e\u6027 // \u6ce8\u610f \u5982\u679c\u76f4\u63a5\u7ed9\u7a7a\u5bf9\u8c61 \u5219\u4f1a\u8986\u76d6\u6389\u539f\u6709\u7684\u503c Object.setPrototypeOf(person1, {}) ![image-20230717175535621](./imgs/23%E3%80%81js%E8%BF%9B%E9%98%B6.assets/QnbjMV3xSlEWG1J.png) \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c3d\u7ba1 __proto__ \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u6709\u7528\uff0c\u4f46\u5b83\u5e76\u4e0d\u662f\u6807\u51c6\u7684 JavaScript API\uff0c\u800c\u662f\u975e\u6807\u51c6\u7684\u5c5e\u6027\uff0c\u4e0d\u5efa\u8bae\u5728\u6b63\u5f0f\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u76f4\u63a5\u4f7f\u7528\u5b83\u3002\u76f8\u53cd\uff0c\u63a8\u8350\u4f7f\u7528\u6807\u51c6\u7684 Object \u65b9\u6cd5\uff0c\u5982 Object.getPrototypeOf() \u548c Object.setPrototypeOf() \u6765\u8bbf\u95ee\u548c\u4fee\u6539\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u3002\u8fd9\u4e9b\u65b9\u6cd5\u63d0\u4f9b\u4e86\u66f4\u5b89\u5168\u548c\u53ef\u9760\u7684\u65b9\u5f0f\u6765\u64cd\u4f5c\u5bf9\u8c61\u7684\u539f\u578b\u3002 Object.getPrototypeOf(person1) // {gender: 'man', name: 'lucky', sayHello: \u0192, constructor: \u0192} \u6ce8\u610f\uff1a \u5f53\u524d\u5bf9\u8c61\u5728\u8fdb\u884c\u5c5e\u6027\u6216\u8005\u65b9\u6cd5\u8c03\u7528\u7684\u65f6\u5019\uff0c\u4f1a\u4f18\u5148\u4ece\u5f53\u524d\u5bf9\u8c61\u81ea\u8eab\u53bb\u8c03\u7528\uff0c\u5982\u679c\u81ea\u8eab\u6ca1\u6709\u5219\u53bb\u4e0a\u4e00\u5c42\u539f\u578b\u5bf9\u8c61\u53bb\u8c03\u7528\uff0c\u6709\u5219\u8c03\u7528\uff0c\u6ca1\u6709\u518d\u7ee7\u7eed\u5411\u4e0a\u5c42\u53bb\u67e5\u627e\uff0c\u5982\u679c\u90fd\u6ca1\u6709\uff0c\u5219\u8c03\u7528\u7684\u5c5e\u6027\u4e3aundefined\uff0c\u65b9\u6cd5\u5219\u4e3a\u62a5\u9519","title":"(5) __proto__ \u7684\u4f7f\u7528"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#6-prototype__proto__","text":"prototype \u548c __proto__ \u662fJavaScript\u4e2d\u4e24\u4e2a\u76f8\u5173\u4f46\u4e0d\u540c\u7684\u6982\u5ff5\u3002 prototype \uff1a\u8fd9\u662f\u4e00\u4e2a\u51fd\u6570\u7279\u6709\u7684\u5c5e\u6027\u3002\u6bcf\u4e2a\u51fd\u6570\u5728\u521b\u5efa\u65f6\u90fd\u4f1a\u81ea\u52a8\u62e5\u6709\u4e00\u4e2a prototype \u5c5e\u6027\uff0c\u5b83\u662f\u4e00\u4e2a\u6307\u5411\u539f\u578b\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u8be5\u539f\u578b\u5bf9\u8c61\u88ab\u7528\u4f5c\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u7684\u57fa\u7840\uff0c\u56e0\u6b64\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u5b9a\u4e49\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u53ef\u4ee5\u88ab\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u3002 __proto__ \uff1a\u8fd9\u662f\u6bcf\u4e2aJavaScript\u5bf9\u8c61\uff08\u5305\u62ec\u51fd\u6570\uff09\u90fd\u5177\u6709\u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u5bf9\u8c61\u7684\u539f\u578b\u3002 __proto__ \u5c5e\u6027\u63d0\u4f9b\u4e86\u5bf9\u5bf9\u8c61\u539f\u578b\u7684\u94fe\u63a5\uff0c\u901a\u8fc7\u8be5\u94fe\u63a5\uff0c\u53ef\u4ee5\u4ece\u4e00\u4e2a\u5bf9\u8c61\u8bbf\u95ee\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u5b83\u662f\u4e00\u4e2a\u5185\u90e8\u5c5e\u6027\uff0c\u901a\u5e38\u4e0d\u5e94\u76f4\u63a5\u4f7f\u7528\uff0c\u800c\u662f\u4f7f\u7528 Object.getPrototypeOf() \u6216 Object.setPrototypeOf() \u65b9\u6cd5\u6765\u8bbf\u95ee\u6216\u4fee\u6539\u5bf9\u8c61\u7684\u539f\u578b\u3002 \u533a\u522b\u5982\u4e0b\uff1a prototype \u662f\u51fd\u6570\u7279\u6709\u7684\u5c5e\u6027\uff0c\u800c __proto__ \u662f\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u7684\u5c5e\u6027\u3002 prototype \u7528\u4e8e\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u521b\u5efa\u7684\u5bf9\u8c61\u5b9e\u4f8b\u7684\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u800c __proto__ \u7528\u4e8e\u8bbf\u95ee\u5bf9\u8c61\u5b9e\u4f8b\u7684\u539f\u578b\u94fe\u3002 prototype \u5b58\u5728\u4e8e\u51fd\u6570\u5185\u90e8\uff0c\u662f\u51fd\u6570\u7684\u4e00\u4e2a\u5c5e\u6027\uff1b __proto__ \u5b58\u5728\u4e8e\u5bf9\u8c61\u5b9e\u4f8b\u5185\u90e8\uff0c\u662f\u5bf9\u8c61\u7684\u4e00\u4e2a\u5c5e\u6027\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c3d\u7ba1 __proto__ \u5728\u73b0\u4ee3JavaScript\u4e2d\u4ecd\u7136\u6709\u6548\uff0c\u4f46\u5b83\u5df2\u7ecf\u88ab\u89c6\u4e3a\u8fc7\u65f6\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u901a\u5e38\u5efa\u8bae\u4f7f\u7528 Object.getPrototypeOf() \u548c Object.setPrototypeOf() \u65b9\u6cd5\u6765\u64cd\u4f5c\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u3002 \u4e0b\u9762\u662f\u4f7f\u7528\u4ee3\u7801\u6765\u8bf4\u660e prototype \u548c __proto__ \u7684\u533a\u522b\uff1a // \u6784\u9020\u51fd\u6570 function Person(name, age) { this.name = name; this.age = age; } // \u5728\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5 Person.prototype.gender = \"man\"; Person.prototype.sayHello = function() { console.log(\"Hello, my name is \" + this.name + \".\"); }; // \u521b\u5efa\u5bf9\u8c61\u5b9e\u4f8b var person1 = new Person(\"\u8fea\u4e3d\u70ed\u5df4\", 25); var person2 = new Person(\"Lucky\", 30); console.log(person1.__proto__); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(person2.__proto__); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(Person.prototype); // \u8f93\u51fa { gender: 'man', sayHello: [Function] } console.log(typeof Person.prototype); // \u8f93\u51fa \"object\" console.log(person1.prototype); // \u8f93\u51fa undefined console.log(person2.prototype); // \u8f93\u51fa undefined Object.setPrototypeOf(person1, {}) // \u53ea\u6709\u5f53\u524dperson1\u539f\u578b\u5bf9\u8c61\u4e3a\u7a7a \u5176\u5b83\u5bf9\u8c61\u4e0d\u53d7\u5f71\u54cd \u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a Person \u7684\u6784\u9020\u51fd\u6570\uff0c\u5e76\u5728\u5176\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u4e86\u5c5e\u6027 gender \u548c\u65b9\u6cd5 sayHello \u3002\u7136\u540e\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e24\u4e2a\u5bf9\u8c61\u5b9e\u4f8b person1 \u548c person2 \u3002 \u901a\u8fc7\u8bbf\u95ee\u5bf9\u8c61\u5b9e\u4f8b\u7684 __proto__ \u5c5e\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u5230\u5bf9\u8c61\u5b9e\u4f8b\u7684\u539f\u578b\u5bf9\u8c61\u3002\u5728\u672c\u793a\u4f8b\u4e2d\uff0c person1.__proto__ \u548c person2.__proto__ \u90fd\u6307\u5411\u6784\u9020\u51fd\u6570 Person \u7684\u539f\u578b\u5bf9\u8c61 Person.prototype \u3002 \u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u8f93\u51fa\u4e86 Person.prototype \u548c typeof Person.prototype \u7684\u7ed3\u679c\u3002\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\uff0c Person.prototype \u662f\u4e00\u4e2a\u5305\u542b\u4e86\u6784\u9020\u51fd\u6570\u539f\u578b\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u800c typeof Person.prototype \u8fd4\u56de\u7684\u662f object \u3002 \u6700\u540e\uff0c\u6211\u4eec\u5c1d\u8bd5\u8bbf\u95ee person1.prototype \u548c person2.prototype \uff0c\u53d1\u73b0\u5b83\u4eec\u90fd\u662f undefined \u3002\u8fd9\u662f\u56e0\u4e3a prototype \u662f\u6784\u9020\u51fd\u6570\u7279\u6709\u7684\u5c5e\u6027\uff0c\u5b83\u7528\u4e8e\u5b9a\u4e49\u5bf9\u8c61\u5b9e\u4f8b\u7684\u539f\u578b\u94fe\uff0c\u800c\u4e0d\u662f\u5bf9\u8c61\u5b9e\u4f8b\u81ea\u8eab\u7684\u5c5e\u6027\u3002 \u6ce8\u610f\uff1a __proto__ \u548cprototype\u662f\u8bbf\u95ee\u5f53\u524d\u6784\u9020\u51fd\u6570\u6216\u8005\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61 \u53ea\u80fd\u8c03\u7528\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u65b9\u6cd5\u4e2d\u7684this\u4ee3\u8868\u5f53\u524d\u7684\u539f\u578b\u5bf9\u8c61 person1.sayHello() // \u5bf9\u8c61\u6b63\u5e38\u8c03\u7528\u65b9\u6cd5 person1.__proto__.sayHello() // \u539f\u578b\u5bf9\u8c61\u7684\u65b9\u5f0f\u8c03\u7528\u65b9\u6cd5 Person.prototype.sayHello() // \u6784\u9020\u51fd\u6570\u7684\u65b9\u5f0f\u8c03\u7528\u65b9\u6cd5","title":"(6) prototype\u548c__proto__\u7684\u533a\u522b"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#7","text":"\u5bf9\u8c61.__proto__.__proto__ \u8fd9\u4e2a\u6bd4\u8f83\u7ed5\u4e86. \u6211\u4eec\u4ece\u524d\u9762\u7684\u5b66\u4e60\u4e2d, \u4e86\u89e3\u5230. \u6bcf\u4e2a\u5bf9\u8c61\u8eab\u4f53\u91cc. \u90fd\u9690\u85cf\u7740 __proto__ \u4e5f\u5c31\u662f\u5b83\u7684 \u539f\u578b\u5bf9\u8c61 . \u90a3\u4e48\u6211\u4eec\u770b\u54c8, \u539f\u578b\u5bf9\u8c61 \u4e5f\u662f \u5bf9\u8c61 \u554a, \u90a3\u4e48\u4e5f\u5c31\u662f\u8bf4. \u539f\u578b\u5bf9\u8c61 \u4e5f\u6709 __proto__ \u5c5e\u6027. \u7c7b\u4f3c\u4e8e.....\u8fd9\u6837: python person1.__proto__.__proto__ \u6253\u5370\u51fa\u6765\u7684\u6548\u679c\u662f\u8fd9\u6837\u7684: \u6b64\u65f6. \u53c8\u51fa\u73b0\u4e00\u5806\u770b\u4e0d\u61c2\u7684\u73a9\u610f. \u8fd9\u4e9b\u73a9\u610f\u662f\u4ec0\u4e48? \u8fd9\u4e9b\u5176\u5b9e\u662fObject\u7684\u539f\u578b. \u5c31\u7c7b\u4f3c\u4e8epython\u4e2d\u7684\u6240\u6709\u7c7b\u9ed8\u8ba4\u7ee7\u627f\u7684\u90fd\u662f\u6700\u7ec8\u7684\u7236\u7c7bobject\u4e00\u6837 person1.__proto__.__proto__ === Object.prototype \u6240\u4ee5, \u6211\u4eec\u5728\u6267\u884c person1.toString() \u7684\u65f6\u5019\u4e0d\u4f1a\u62a5\u9519. \u53cd\u800c\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c. \u539f\u56e0\u5c31\u5728\u8fd9\u91cc. person1.toString()) // \u5f53\u524d\u5bf9\u8c61\u6709\u5c31\u6267\u884c \u6ca1\u6709\u5219\u5411\u4e0a\u4e00\u5c42\u7ee7\u7eed\u67e5\u627e\uff0c\u627e\u5230\u5219\u8c03\u7528\uff0c\u5426\u5219\u62a5\u9519 \u6267\u884c\u8fc7\u7a0b: \u5148\u627e person1\u5bf9\u8c61 \u4e2d\u662f\u5426\u6709 toString . \u6ca1\u6709, \u627e\u5b83\u7684 \u539f\u578b\u5bf9\u8c61 . \u539f\u578b\u5bf9\u8c61 \u4e2d\u6ca1\u6709, \u7ee7\u7eed\u627e \u539f\u578b\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61 . \u76f4\u81f3\u4f60\u627e\u5230Object\u7684\u539f\u578b\u4e3a\u6b62. \u5982\u679c\u8fd8\u662f\u6ca1\u6709. \u5c31\u62a5\u9519\u4e86. person1.lucky() // \u62a5\u9519. \u7efc\u4e0a, \u539f\u578b\u94fe\u662fjs \u65b9\u6cd5\u67e5\u627e\u7684\u8def\u5f84\u6307\u793a\u6807 .","title":"(7) \u6df1\u5165\u539f\u578b\u94fe"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#8","text":"\u5728 JavaScript \u4e2d\uff0c\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f\u6765\u5171\u4eab\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u4e0b\u9762\u4ecb\u7ecd\u51e0\u79cd\u5e38\u89c1\u7684\u6784\u9020\u51fd\u6570\u7ee7\u627f\u7684\u65b9\u5f0f\u3002 \u539f\u578b\u94fe\u7ee7\u627f\uff1a \u539f\u578b\u94fe\u7ee7\u627f\u662f\u6700\u57fa\u672c\u7684\u4e00\u79cd\u7ee7\u627f\u65b9\u5f0f\u3002\u5b50\u7c7b\u7684\u539f\u578b\u5bf9\u8c61\u901a\u8fc7\u6307\u5411\u7236\u7c7b\u7684\u5b9e\u4f8b\u6765\u5b9e\u73b0\u7ee7\u627f\u3002\u8fd9\u6837\u5b50\u7c7b\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u7236\u7c7b\u539f\u578b\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 ```javascript function Parent() { this.name = 'Parent'; } Parent.prototype.sayHello = function() { console.log('Hello, I am ' + this.name); } function Child() { this.name = 'Child'; } Child.prototype. proto = new Parent(); // \u5b50\u7c7b\u7684\u539f\u578b\u6307\u5411\u7236\u7c7b\u7684\u5b9e\u4f8b var child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, I am Child\" console.log(child. proto .constructor) // Child... ``` \u6784\u9020\u51fd\u6570\u7ee7\u627f\uff08\u501f\u7528\u6784\u9020\u51fd\u6570\uff09\uff1a \u901a\u8fc7\u5728\u5b50\u7c7b\u4e2d\u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5e76\u4f7f\u7528 call \u6216 apply \u65b9\u6cd5\u5c06\u7236\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u7ed1\u5b9a\u5230\u5b50\u7c7b\u4e0a\uff0c\u5b9e\u73b0\u5bf9\u7236\u7c7b\u5c5e\u6027\u7684\u7ee7\u627f\u3002 ```javascript function Parent() { this.name = 'Parent'; this.sayHello = function() { console.log('Hello, I am ' + this.name); } } function Child() { Parent.call(this); // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u5b50\u7c7b\u7684\u4e0a\u4e0b\u6587 this.name = 'Child'; } var child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, I am Child\" console.log(child. proto .constructor) // Child... ``` \u5f53\u524d\u65e0\u6cd5\u8c03\u7528\u539f\u578b\u94fe\u7684\u65b9\u6cd5 javascript Parent.prototype.sayHello = function() { console.log('Hello, I am ' + this.name); } \u7ec4\u5408\u7ee7\u627f\uff1a \u7ec4\u5408\u7ee7\u627f\u7ed3\u5408\u4e86\u539f\u578b\u94fe\u7ee7\u627f\u548c\u6784\u9020\u51fd\u6570\u7ee7\u627f\u7684\u4f18\u70b9\uff0c\u65e2\u53ef\u4ee5\u7ee7\u627f\u7236\u7c7b\u539f\u578b\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53c8\u53ef\u4ee5\u5728\u5b50\u7c7b\u4e2d\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u6765\u7ee7\u627f\u5b9e\u4f8b\u5c5e\u6027\u3002 ```javascript function Parent() { this.name = 'Parent'; } Parent.prototype.sayHello = function() { console.log('Hello, I am ' + this.name); } function Child() { Parent.call(this); // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u5b50\u7c7b\u7684\u4e0a\u4e0b\u6587 this.name = 'Child'; } Child.prototype. proto = new Parent(); // \u5b50\u7c7b\u7684\u539f\u578b\u6307\u5411\u7236\u7c7b\u7684\u5b9e\u4f8b Child.prototype.constructor = Child; // \u4fee\u590d\u5b50\u7c7b\u539f\u578b\u7684 constructor \u5c5e\u6027 var child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, I am Child\" console.log(child. proto .constructor) // Child... ``` ES6 \u7684 class \u7ee7\u627f\uff1a ES6 \u5f15\u5165\u4e86 class \u5173\u952e\u5b57\uff0c\u63d0\u4f9b\u4e86\u66f4\u7b80\u6d01\u7684\u8bed\u6cd5\u6765\u5b9e\u73b0\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u3002\u4f7f\u7528 extends \u5173\u952e\u5b57\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u7684\u7ee7\u627f\u3002 ```javascript class Parent { constructor() { this.name = 'Parent'; } sayHello() { console.log('Hello, I am ' + this.name); } } class Child extends Parent { constructor() { super(); // \u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570 this.name = 'Child'; } } let child = new Child(); child.sayHello(); // \u8f93\u51fa \"Hello, IO am Child\" ``` \u8fd9\u4e9b\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u6784\u9020\u51fd\u6570\u7ee7\u627f\u65b9\u5f0f\u3002","title":"(8) \u6784\u9020\u51fd\u6570\u7684\u7ee7\u627f"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#9-constuctor","text":"\u8bf4\u660e\uff1a constructor \u662f\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u5b83\u6307\u5411\u8be5\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u3002\u8fd9\u4e2a\u5c5e\u6027\u5728\u5bf9\u8c61\u521b\u5efa\u65f6\u7531 JavaScript \u5f15\u64ce\u81ea\u52a8\u6dfb\u52a0\u3002 \u5f53\u4f60\u4f7f\u7528\u6784\u9020\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u8be5\u5bf9\u8c61\u4f1a\u81ea\u52a8\u83b7\u5f97\u4e00\u4e2a constructor \u5c5e\u6027\uff0c\u6307\u5411\u7528\u4e8e\u521b\u5efa\u5b83\u7684\u6784\u9020\u51fd\u6570\u3002 \u6784\u9020\u51fd\u6570 function Person(name, age) { this.name = name; this.age = age; } var p = new Person('lucky', 18) \u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u6784\u9020\u51fd\u6570 // \u65b9\u5f0f\u4e00 p.__proto__.constructor // \u65b9\u5f0f\u4e8c p.constructor // p.constructor \u7b49\u4e8e p.__proto__.constructor \u7b49\u4e8e Person p.constructor\u662f p.__proto__.constructor \u7684\u7b80\u5199 \u6ce8\u610f\uff1a","title":"(9) constuctor\u5c5e\u6027"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#91","text":"\u6211\u4eec\u5728\u8fdb\u884c\u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u4e2d\u7684constructor\u7684\u65f6\u5019\u4f7f\u7528\u5982\u4e0b p.__proto__.constructor \u548cp.constructor \u5bf9\u4e8e\u5927\u591a\u6570\u60c5\u51b5\uff0c p.constructor \u548c p.__proto__.constructor \u90fd\u4f1a\u6307\u5411\u76f8\u540c\u7684\u6784\u9020\u51fd\u6570\uff0c\u56e0\u4e3a\u5bf9\u8c61\u7684 constructor \u5c5e\u6027\u9ed8\u8ba4\u6307\u5411\u5176\u539f\u578b\u7684\u6784\u9020\u51fd\u6570\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b \u83b7\u53d6\u503c\u76f8\u540c \u4fee\u6539 p.__proto__.constructor p.constructor \u548c p.__proto__.constructor \u6307\u5411\u5730\u5740\u76f8\u540c \u4fee\u6539 p.constructor p.__proto__.constructor \u5f97\u6307\u5411\u4e0d\u53d8 p.constructor \u6307\u5411\u4f60\u65b0\u503c\u7684\u5730\u5740 \u6240\u4ee5\u6211\u4eec\u5728\u4fee\u6539\u7684\u65f6\u5019\u8981\u4fee\u6539 p.__proto__.constructor \u5f97\u6307\u5411\u4e0d\u53d8 function Person(name, age) { this.name = name; this.age = age; } var p = new Person('lucky', 18) p.constructor = function () {} // p.__proto__.constructor = function () {}; console.log(p.constructor); console.log(p.__proto__.constructor);","title":"9.1 \u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#92","text":"\u56e0\u4e3a\u51fd\u6570\u4e5f\u662f\u4e00\u79cd\u5bf9\u8c61\u6240\u4ee5\u5f53\u4f60\u4f7f\u7528Person.constructor\u8fdb\u884c\u83b7\u53d6\u7684\u65f6\u5019\uff0c\u5219\u83b7\u53d6\u7684\u4e3a\u6784\u9020\u5f53\u524dPerson\u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u5c31\u662fFunction console.log(Person instanceof Object) // true \u8bc1\u660e\u51fd\u6570\u4e5f\u662f\u5c5e\u4e8e\u5bf9\u8c61\u7c7b\u578b \u67e5\u770b\u5f53\u524d\u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570 console.log(Person.__proto__.constructor) console.log(Person.constructor) \u800c\u4f60\u4f7f\u7528Person.prototype.constructor\u83b7\u53d6\u7684\u662f\u5f53\u524d\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u5219\u662f\u672c\u8eab","title":"9.2 \u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570(\u5bb9\u6613\u641e\u6df7)"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#10","text":"\u56fe\u4e2d\u6709\u51e0\u4e2a\u96be\u70b9\uff1a Function\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u7528Function.__proto__\u6765\u8bbf\u95eeFunction.prototype. \u8fd9\u662f\u56e0\u4e3aFunction\u6784\u9020\u51fd\u6570\u7684\u6784\u9020\u51fd\u6570\u662f\u4ed6\u672c\u8eab\uff0c\u4f5c\u4e3a\u5b9e\u4f8b\u5316\u5bf9\u8c61\u7684\u89d2\u8272\u6765\u8bbf\u95ee\uff0c\u53ef\u884c\u3002 \u4efb\u4f55\u51fd\u6570\u90fd\u662f\u51fd\u6570\uff0c\u4ed6\u90fd\u7ee7\u627fFunction\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u800cFunction\u662f\u5185\u7f6e\u7684\u6784\u9020\u51fd\u6570\uff0c\u4e5f\u662f\u5bf9\u8c61\uff0c\u90fd\u662f\u7ee7\u627fObject\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u3002","title":"(10) \u56fe\u89e3"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#9debugger","text":"","title":"9\u3001\u65e0\u9650debugger"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1-debugger-function","text":"\u5728js\u4ee3\u7801\u6267\u884c\u65f6. \u6bcf\u4e00\u4e2afunction\u7684\u5bf9\u8c61\u90fd\u662f\u901a\u8fc7Function()\u6765\u521b\u5efa\u7684. \u4e5f\u5c31\u662f\u8bf4. \u51fd\u6570\u662fFunction()\u7684\u5bf9\u8c61. function fn(){} console.log(fn.__proto__.constructor); // \u0192 Function() { [native code] } // \u56e0\u4e3a\u51fd\u6570\u4e5f\u662f\u5bf9\u8c61 \u56e0\u6b64\u4e0a\u9762\u7684\u5199\u6cd5\u7b49\u540c\u4e8e fn.constructor // \u0192 Function() { [native code] } \u51fd\u6570\u5c31\u662fFunction\u7684\u5bf9\u8c61. \u90a3\u4e48. \u6211 \u4eec\u53ef\u4ee5\u901a\u8fc7Function\u6765\u6784\u5efa\u4e00\u4e2a\u51fd\u6570. new Function('debugger')(); \u8dd1\u8d77\u6765\u7684\u6548\u679c\u4e00\u6837\u7684. \u8fdb\u884chook\u5904\u7406 var fun = Function Function = function (arg) { let a = arg.replaceAll('debugger', '') return fun(a) } \u6982\u8ff0\uff1a \u65e0\u9650\u8c03\u8bd5\u5668\uff08Infinite Debugger\uff09\u662f\u4e00\u4e2a\u5f00\u53d1\u5de5\u5177\uff0c\u7528\u4e8e\u5e2e\u52a9\u7a0b\u5e8f\u5458\u5728\u8f6f\u4ef6\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u8c03\u8bd5\uff0c\u5bf9\u4e8e\u6211\u4eec\u722c\u866b\u6765\u8bf4\uff0c\u662f\u4e00\u79cd\u7f51\u7ad9\u7684\u53cd\u6252\u673a\u5236","title":"(1) \u660e\u6587debugger Function"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2-debugger-setinterval","text":"\u4ee3\u7801\uff1a ```javascript setInterval(function (){ debugger; }, 1000); // \u6bcf\u9694\u4e00\u79d2\u6267\u884c\u4e00\u6b21debugger ``` \u89e3\u51b3\u65b9\u5f0f\uff1a Never pause here (\u63a8\u8350\u4f7f\u7528) \u627e\u5230\u51fa\u73b0debugger\u7684\u4f4d\u7f6e \u70b9\u51fbdebugger \u53f3\u952e\u9009\u62e9Never pause here\u5373\u53ef \u5982\u679c\u51fa\u73b0\u591a\u4e2adebugger \uff0c\u91cd\u590d\u521a\u624d\u7684\u64cd\u4f5c\u5373\u53ef hook---setInterval \u548c\u4e1a\u52a1\u65e0\u5173 \u5148\u8bbe\u7f6e\u65ad\u70b9 \u5e76 \u70b9\u51fb\u5982\u56fe\u6240\u793a\u4f4d\u7f6e \u8c03\u51faconsole\u529f\u80fd\u680f \u7136\u540e\u5237\u65b0 \u5728console\u4e2d\u91cd\u5199setIntervel\u65b9\u6cd5\uff08 \u64cd\u4f5c\u5f53\u524d\u4e4b\u524d\u9700\u8981\u5237\u65b0 \u8ba9\u65ad\u70b9\u65ad\u52301\u8fd9\u4e2a\u4f4d\u7f6e \uff09 \u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u65e0\u5173 javascript setInterval = function(){} \u8fd9\u6837\u4f1a\u6e05\u9664\u6389\u6240\u6709setInterval \u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u6709\u5173 \u4ee3\u7801 javascript setInterval(function(){ (function(){console.log('lucky');debugger})() }, 1000) hook javascript var _setInterval = setInterval setInterval = function setInterval(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") console.log(\"(\"+code+\")()\", time) return _setInterval(new Function(\"(\"+code+\")()\") , time) }","title":"(2) \u660e\u6587debugger setInterval"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3-hook-settimeout","text":"\u4ee3\u7801 javascript var _setTimeout = setTimeout setTimeout = function setTimeout(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") return _setTimeout(new Function(\"(\"+code+\")()\"), time) }","title":"(3) hook---setTimeout"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#4-debugger","text":"\u4ee3\u7801 javascript setInterval(function (){ (function(params) {}).constructor('debugger;')() //(function(params) {})['constructor']('debugger;')() }, 1000) \u89e3\u51b3 hook javascript let p = Function.prototype.constructor; Function.prototype.constructor = function(arg) { arg = arg.replaceAll(\"debugger\", \"\"); return p(arg); } \u5728 JavaScript \u4e2d\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u51fd\u6570\u5bf9\u8c61\u6709\u4e00\u4e2a constructor \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u6307\u5411\u521b\u5efa\u8be5\u51fd\u6570\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u5176 constructor \u5c5e\u6027\u6307\u5411\u5185\u5efa\u7684 Function \u6784\u9020\u51fd\u6570\u3002\u4f8b\u5982\uff1a (function(params) {}).constructor === Function // true","title":"(4) \u9690\u5f0fdebugger\uff08\u5c31\u662f\u770b\u8d77\u6765\u4e0d\u660e\u663e \u7528\u7684\u8f83\u591a\uff09"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#5-js-debugger","text":"\u4ee3\u7801 ```html Title function txsdefwsw() { var r = \"V\", n = \"5\", e = \"8\"; function o(r) { if (!r) return \"\"; for (var t = \"\", n = 44106, e = 0; e < r.length; e++) { var o = r.charCodeAt(e) ^ n; n = n * e % 256 + 2333, t += String.fromCharCode(o) } return t } try { var a = 'debugger'; !function c(r) { (1 !== (\"\" + r / r).length || 0 === r) && function () { }.constructor(a)(), c(++r) }(0) } catch (a) { setTimeout(txsdefwsw, 100); } } txsdefwsw() ``` \u89e3\u51b3 \u4f7f\u7528\u4ee5\u4e0a\u65b9\u5f0f\u5373\u53ef","title":"(5) js\u6df7\u6dc6 \u65e0\u9650debugger"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#10callapply","text":"\u6982\u8ff0 \u5728 JavaScript \u4e2d\uff0c call \u548c apply \u662f\u7528\u4e8e\u8c03\u7528\u51fd\u6570\u7684\u65b9\u6cd5\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u662f\u6539\u53d8\u51fd\u6570\u6267\u884c\u65f6\u7684\u4e0a\u4e0b\u6587\uff08\u5373\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\uff09\u3002 call \u4f7f\u7528\u65b9\u5f0f call \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6307\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u548c\u591a\u4e2a\u53c2\u6570\u3002\u5b83\u7684\u8bed\u6cd5\u662f\uff1a javascript function.call(thisArg, arg1, arg2, ...) \u5176\u4e2d\uff0c thisArg \u662f\u8981\u7ed1\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c arg1 , arg2 , ... \u662f\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u3002 apply \u4f7f\u7528\u65b9\u5f0f apply \u65b9\u6cd5\u4e0e call \u7c7b\u4f3c\uff0c\u4f46\u662f\u5b83\u63a5\u53d7\u4e00\u4e2a\u6307\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u548c\u4e00\u4e2a\u53c2\u6570\u6570\u7ec4 javascript function.apply(thisArg, [argsArray]) \u5176\u4e2d\uff0c thisArg \u662f\u8981\u7ed1\u5b9a\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c argsArray \u662f\u4e00\u4e2a\u5305\u542b\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u7684\u6570\u7ec4\u3002 \u6ce8\u610f\uff1a \u65e0\u8bba\u662f call \u8fd8\u662f apply \u65b9\u6cd5\uff0c\u5f53\u8c03\u7528\u5b83\u4eec\u65f6\uff0c\u4f1a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u5e76\u4e14\u5c06\u51fd\u6570\u4e2d\u7684 this \u7ed1\u5b9a\u5230\u63d0\u4f9b\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u4e0a\u3002\u8fd9\u6837\uff0c\u51fd\u6570\u5728\u6267\u884c\u65f6\uff0c\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u4e0a\u4e0b\u6587\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4e0d\u4f20\u5165\u4e0a\u4e0b\u6587\u5bf9\u8c61\u6216\u8005\u4f20\u5165 null \u6216 undefined \uff0c\u90a3\u4e48\u5728\u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u9ed8\u8ba4\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u5c06\u662f\u5168\u5c40\u5bf9\u8c61\uff08\u5373 window \uff09\u3002\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u9ed8\u8ba4\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u5c06\u662f undefined \u3002 \u5b9e\u4f8b ``javascript function greet(name) { console.log( Hello, ${name}! My name is ${this.name}.`); } const person1 = { name: 'lucky' }; const person2 = { name: 'Bob' }; greet.call(person1, '\u8fea\u4e3d\u70ed\u5df4'); // \u8f93\u51fa\uff1aHello, \u8fea\u4e3d\u70ed\u5df4! My name is lucky. greet.apply(person2, ['\u8fea\u4e3d\u70ed\u5df4']); // \u8f93\u51fa\uff1aHello, Jerry! My name is Bob. ``` \u6269\u5c55 \u83b7\u53d6Object\u4e2d\u81ea\u5e26\u7684\u5c5e\u6027\u7684\u540d\u79f0\uff08\uff09\u53ef\u4ee5\u5728\u8fd9\u91cc\u770b\u5230object\u5c5e\u6027\u81ea\u5e26apply\u548ccall","title":"10\u3001call\u548capply"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#11hook","text":"","title":"11\u3001Hook"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1_3","text":"\u5728JavaScript\u4e2d\uff0c\"hook\"\uff08\u94a9\u5b50\uff09\u662f\u4e00\u79cd\u7f16\u7a0b\u6a21\u5f0f\uff0c\u7528\u4e8e\u5728\u7279\u5b9a\u7684\u4ee3\u7801\u7247\u6bb5\u6216\u51fd\u6570\u6267\u884c\u4e4b\u524d\u6216\u4e4b\u540e\u63d2\u5165\u81ea\u5b9a\u4e49\u903b\u8f91\u3002\u5b83\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u62e6\u622a\u548c\u4fee\u6539\u4ee3\u7801\u7684\u6267\u884c\u8fc7\u7a0b\u3002","title":"(1) \u6982\u8ff0"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2-hook","text":"Hook eval\u51fd\u6570\u5b9e\u4f8b python eval_ = eval; // \u5148\u4fdd\u5b58\u7cfb\u7edf\u7684eval\u51fd\u6570 eval = function(s){ console.log(s); debugger; return eval_(s); } eval() Hook cookie \u5728\u7f51\u7ad9\u6709\u5bf9cookie\u8fdb\u884c\u8bbe\u7f6e\u6216\u8005\u83b7\u53d6\u7684\u65f6\u5019 \u5c06\u88ab\u89e6\u53d1 javascript (function(){ var temp = \"\"; Object.defineProperty(document, \"cookie\", { set(val){ debugger; temp = val; return temp; }, get(){ debugger; return temp; } }) })(); \u5f53\u524d\u64cd\u4f5c\u6709\u5bf9cookie\u8fdb\u884c\u64cd\u4f5c\u4fbf\u4f1a\u88abhook \u6267\u884c\u5230\u5f53\u524ddebugger url\uff1a http://iwencai.com/ \u67e5\u770b\u5f53\u524djs\u4e2d\u8fdb\u884ccookie\u8bbe\u7f6e\u7684\u4ee3\u7801\u4f4d\u7f6e js\u4ee3\u7801\u4f4d\u7f6e \u7528Hook\u7684\u65b9\u5f0f\u5b9e\u73b0xhr\u65ad\u70b9 url: http://www.baidu.com \u4ee3\u7801 javascript XMLHttpRequest.prototype.send_ = XMLHttpRequest.prototype.send XMLHttpRequest.prototype.send = function(){debugger;} \u5f53\u6211\u4eec\u767e\u5ea6\u7ffb\u9875\u7684\u65f6\u5019 \u5c31\u53ef\u4ee5\u770b\u5230 \u65ad\u70b9hook\u4e86","title":"(2) Hook \u5b9e\u4f8b"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3-applyhook","text":"\u4ee3\u7801 \u4e0d\u56fa\u5b9a\u4e2a\u6570\u53c2\u6570\u5904\u7406 ```javascript function fn(a, b, c, d){ var e = arguments[4]; // arguments\u91cc\u9762\u53ef\u4ee5\u88c5\u6240\u6709\u53c2\u6570 return a + b + c + d + e; } fn(1,2,3,4,5,6); // hook fn var fn_ = fn; fn = function(a, b, c, d){ // \u4e2d\u95f4\u690d\u5165\u4f60\u7684\u903b\u8f91 // \u8fd4\u56de\u539f\u903b\u8f91\u7684\u7ed3\u679c // return fn_(a, b, c, d); // fn(1,2,3,4) \u4e22\u53c2\u6570 return fn_.apply(this, arguments); } fn(1,2,3,4,5,6); ```","title":"(3) apply\u5728hook\u4e2d\u7684\u4f7f\u7528"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#4-hook","text":"\u51fd\u6570Hook\u516c\u5f0f javascript old_func = func func = function(argument){ my task; return old_func.apply(argument) } func \uff1a\u8981hook\u7684\u51fd\u6570 \u5bf9\u8c61\u4e2d\u5c5e\u6027Hook\u516c\u5f0f(\u6211\u4eec\u5e38\u7528\u7684\u5c31\u662fcookie) javascript old_attr = obj.attr; Object.defineProperty(obj, \"attr\", { get: function() { console.log(cookie_cache); return old_attr }, set: function(val) { return \u2026 }) ); \u539f\u578b\u94fehook\uff08split\u4e3a\u4f8b\uff09 javascript var split_str = String.prototype.split; String.prototype.split=function(val){ console.log(this); debugger; return split_str.apply(this, arguments) } a = \"\u52a0\u5bc6\u5b57\u7b26\u4e32\" console.log(a.split(\"\u5b57\"))","title":"(4) \u51e0\u79cdhook\u7684\u516c\u5f0f"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#5_2","text":"\u4e3a\u4ec0\u4e48\u4f7f\u7528hook\uff1f hook JSON.stringify, JSON.parse \u9488\u5bf9\u51fd\u6570. \u627e \u52a0\u5bc6\u5165\u53e3 \u6216 \u89e3\u5bc6\u5165\u53e3 \u524d\u540e\u7aef\u4f20\u503c\u7684\u903b\u8f91: \u51c6\u5907url, \u4ee5\u53ca\u8bf7\u6c42\u53c2\u6570. am = {name: xxx, age: xxx} \u5bf9\u53c2\u6570\u8fdb\u884c\u5904\u7406(\u5904\u7406\u6210\u5b57\u7b26\u4e32) JSON.stringify(obj); \u628ajs\u4e2d\u7684\u5bf9\u8c61.\u5904\u7406\u6210json\u5b57\u7b26\u4e32 \u5bf9\u53c2\u6570\u6216\u8005url\u8fdb\u884c\u52a0\u5bc6 (\u5bf9\u5b57\u7b26\u4e32\u52a0\u5bc6) \u5728\u9006\u5411\u65f6, \u5e38\u7528\u7684\u4e3b\u8981\u6709: hook eval \u3001hook Function \u3001hook JSON.stringify\u3001JSON.parse \u3001setInterval, setTimeout, hook cookie","title":"(5) \u603b\u7ed3"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#6-hook","text":"cookie \u67e5\u770b\u5f53\u524djs\u5728\u54ea\u4e2a\u4f4d\u7f6e\u8bbe\u7f6e\u7684cookie \u751f\u6210cookie\u7684\u4ee3\u7801 https://www.iwencai.com/unifiedwap/result?w=%E6%9C%80%E8%BF%91%E4%B8%89%E5%B9%B4%E7%B4%AF%E8%AE%A1%E7%8E%B0%E9%87%91%E5%88%86%E7%BA%A2%E9%87%91%E9%A2%9D%E4%BD%8E%E4%BA%8E%E6%9C%80%E8%BF%91%E4%B8%89%E5%B9%B4%E5%B9%B4%E5%9D%87%E5%87%80%E5%88%A9%E6%B6%A630%25&querytype=stock&addSign=1701099054678 javascript (function(){ var temp = \"\"; Object.defineProperty(document, \"cookie\", { set(val){ console.log('\u8bbe\u7f6ecookie', temp) temp = val; debugger; return temp; }, get(){ console.log('\u83b7\u53d6cookie', temp) debugger; return temp; } }) })(); debugger url: https://web.mypitaya.com/login \u901a\u8fc7\u8c03\u7528\u6808\u6765\u67e5\u770b\u5f53\u524ddebugger\u7684\u65b9\u5f0f \u4e3aconstructor \u4ee3\u7801 javascript let p = Function.prototype.constructor; Function.prototype.constructor = function(arg) { arg = arg.replaceAll(\"debugger\", \"\"); return p(arg); } eval javascript eval_ = eval; eval = function(a){if(a=='debugger'){return ''}else{return eval_(a)}}","title":"(6) hook\u5b9e\u4f8b"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#setinterval","text":"\u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u65e0\u5173 javascript setInterval = function(){} \u4e1a\u52a1\u4ee3\u7801\u548c setInterval \u6709\u5173 javascript var _setInterval = setInterval setInterval = function setInterval(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") return _setInterval(new Function(\"(\"+code+\")()\") , time) } setTimeout javascript _setTimeout = setTimeout setTimeout = function setTimeout(code, time){ console.log(code, time) code = code.toString().replace(/debugger/g, \"\") return _setTimeout(new Function(\"(\"+code+\")()\") , time) } JSON.stringify javascript let json_stringify = JSON.stringify JSON.stringify = function(params) { console.log('\u8fd9\u662f\u5f53\u524d\u8bf7\u6c42\u53c2\u6570params:', params) debugger; return json_stringify(params) } JSON.parse javascript let json_parse = JSON.parse JSON.parse = function(params) { console.log('\u89e3\u6790json parse', params) debugger; return json_parse(params) }","title":"setInterval"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#12-es6promise","text":"","title":"12\u3001 ES6\u4e2d\u7684promise(\u96be)"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#1_4","text":"\u5728JavaScript\u4e2d\uff0cPromise\uff08\u627f\u8bfa\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u7684\u7279\u6b8a\u5bf9\u8c61\u3002\u5b83\u53ef\u4ee5\u5c06\u5f02\u6b65\u64cd\u4f5c\u5c01\u88c5\u6210\u4e00\u4e2a\u53ef\u63a7\u5236\u7684\u72b6\u6001\uff0c\u5e76\u901a\u8fc7\u94fe\u5f0f\u8c03\u7528\u6765\u5904\u7406\u64cd\u4f5c\u7684\u7ed3\u679c\u3002","title":"(1) \u6982\u8ff0"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#2-promise","text":"Pending\uff08\u8fdb\u884c\u4e2d\uff09\uff1a\u521d\u59cb\u72b6\u6001\uff0c\u8868\u793a\u5f02\u6b65\u64cd\u4f5c\u6b63\u5728\u8fdb\u884c\u4e2d\u3002 Fulfilled\uff08\u5df2\u6210\u529f\uff09\uff1a\u8868\u793a\u5f02\u6b65\u64cd\u4f5c\u5df2\u6210\u529f\u5b8c\u6210\u3002 Rejected\uff08\u5df2\u5931\u8d25\uff09\uff1a\u8868\u793a\u5f02\u6b65\u64cd\u4f5c\u53d1\u751f\u4e86\u9519\u8bef\u6216\u5931\u8d25\u3002","title":"(2) Promise\u6709\u4e09\u4e2a\u72b6\u6001\uff1a"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#3-promise","text":"const myPromise = new Promise((resolve, reject) => { // \u5f02\u6b65\u64cd\u4f5c\u4ee3\u7801 }); \u53c2\u6570\u8bf4\u660e resolve \u6210\u529f\u540e\u8c03\u7528\u7684\u65b9\u6cd5 reject \u5931\u8d25\u540e\u8c03\u7528\u7684\u65b9\u6cd5 \u6ce8\u610f \u5f53\u524d\u53c2\u6570\u540d\u79f0\u4e0d\u4e00\u5b9a\u5c31\u4e3aresolve \u548c reject \u4f46\u662f\u4ee3\u8868\u542b\u4e49\u662f\u4e00\u6837\u7684","title":"(3) \u521b\u5efa\u4e00\u4e2aPromise\u5bf9\u8c61\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#4_4","text":"\u5728Promise\u5bf9\u8c61\u4e2d\uff0c\u901a\u5e38\u4f1a\u6267\u884c\u4e00\u4e9b\u5f02\u6b65\u64cd\u4f5c\uff0c\u6bd4\u5982\u8bf7\u6c42\u6570\u636e\u3001\u8bfb\u53d6\u6587\u4ef6\u7b49\u3002\u8fd9\u4e9b\u5f02\u6b65\u64cd\u4f5c\u53ef\u4ee5\u662f\u56de\u8c03\u51fd\u6570\u3001\u5b9a\u65f6\u5668\u3001\u7f51\u7edc\u8bf7\u6c42\u7b49\u3002\u5f53\u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 resolve \u65b9\u6cd5\u5c06Promise\u72b6\u6001\u6539\u4e3aFulfilled\uff0c\u5e76\u4f20\u9012\u64cd\u4f5c\u7ed3\u679c\uff1b\u6216\u8005\u4f7f\u7528 reject \u65b9\u6cd5\u5c06Promise\u72b6\u6001\u6539\u4e3aRejected\uff0c\u5e76\u4f20\u9012\u9519\u8bef\u4fe1\u606f\u3002 \u5bf9\u4e8e\u6211\u4eec\u722c\u866b\u6765\u8bf4\u5c31\u662f\u6570\u636e\u7684\u8bf7\u6c42","title":"(4) \u4f7f\u7528\u573a\u666f"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#5-then-catch-finally","text":"then() \u5f53new Promise\u8fd4\u56de\u7684\u5f53\u524d\u6210\u529f\u6216\u5931\u8d25\u7684\u7ed3\u679c\u540e\u8fdb\u884c\u8c03\u7528\u6210\u529f\u6216\u8005\u5931\u8d25\u7684\u65b9\u6cd5 \u53c2\u6570\u53ef\u4e3a\u4e00\u4e2a\u6216\u8005\u4fe9\u4e2a\u53c2\u6570 \u4e00\u4e2a\u53c2\u6570\u4e3a\u53ea\u6709\u6210\u529f\u624d\u8c03\u7528 \u4e8c\u4e2a\u53c2\u6570\u5206\u522b\u5305\u542b\u6210\u529f\u548c\u5931\u8d25\u8fdb\u884c\u8c03\u7528\u7684\u65b9\u6cd5 catch() \u5f53new Promise\u8fd4\u56de\u4e3a\u5931\u8d25\u7684\u7ed3\u679c\u8fdb\u884c\u8c03\u7528 finally \u65e0\u8bbanew Promise\u8fd4\u56de\u4ec0\u4e48\u7ed3\u679c\u90fd\u4f1a\u8fdb\u884c\u8c03\u7528 myPromise javascript function myPromise() { return new Promise(function(resolve, reject) { console.log(\"\u73b0\u5728\u8bf7\u6c42\u5230\u8fd9\u91cc\u4e86\") randomNumber = Math.random() if (randomNumber < 0.5) { // \u64cd\u4f5c\u6210\u529f\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aFulfilled\uff0c\u5e76\u4f20\u9012\u7ed3\u679c resolve(randomNumber); } else { // \u64cd\u4f5c\u5931\u8d25\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aRejected\uff0c\u5e76\u4f20\u9012\u9519\u8bef\u4fe1\u606f reject(\"Error occurred\"); } }) } then\u65b9\u6cd5\u7684\u4e00\u4e2a\u53c2\u6570 \u53ea\u6709\u6210\u529f\u624d\u4f1a\u8c03\u7528 \u642d\u914dcatch\u6355\u83b7\u5931\u8d25\u540e\u8fdb\u884c\u8c03\u7528\u5904\u7406\u7684\u65b9\u6cd5 javascript myPromise = myPromise() myPromise.then(success_result => { // \u64cd\u4f5c\u6210\u529f\u7684\u5904\u7406\u4ee3\u7801 console.log('\u6210\u529f', success_result) }).catch(error => { // \u64cd\u4f5c\u5931\u8d25\u7684\u5904\u7406\u4ee3\u7801 console.log('\u5931\u8d25', error) }).finally(() => { console.log(\"\u65e0\u8bba\u64cd\u4f5c\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u6267\u884c\u8be5\u56de\u8c03\u51fd\u6570\"); }); then\u65b9\u6cd5\u7684\u4e8c\u4e2a\u53c2\u6570 \u5206\u522b\u4e3a\u6210\u529f\u548c\u5931\u8d25\u8fdb\u884c\u8c03\u7528 javascript myPromise = myPromise() myPromise.then(success_result => { // \u64cd\u4f5c\u6210\u529f\u7684\u5904\u7406\u4ee3\u7801 console.log('\u6210\u529f', success_result) },error_result => { // \u64cd\u4f5c\u5931\u8d25\u7684\u5904\u7406\u4ee3\u7801 console.log('\u5931\u8d25', error_result) }).finally(() => { console.log(\"\u65e0\u8bba\u64cd\u4f5c\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u6267\u884c\u8be5\u56de\u8c03\u51fd\u6570\"); }); \u6b64\u523b\u4e0d\u80fd\u642d\u914dcatch\u65b9\u6cd5 \u56e0\u4e3athen\u4e2d\u5df2\u7ecf\u5b58\u5728\u5931\u8d25\u8fdb\u884c\u8c03\u7528\u7684\u65b9\u6cd5 \u8bf4\u660e \u5728 .then() \u65b9\u6cd5\u4e2d\uff0c\u53ef\u4ee5\u5b9a\u4e49\u6210\u529f\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c06\u63a5\u6536\u5230\u64cd\u4f5c\u6210\u529f\u540e\u7684\u7ed3\u679c\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u64cd\u4f5c\u51fa\u73b0\u9519\u8bef\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 .catch() \u65b9\u6cd5\u6355\u83b7\u5e76\u5904\u7406\u9519\u8bef\u4fe1\u606f\u3002 \u9664\u4e86 .then() \u548c .catch() \uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 .finally() \u65b9\u6cd5\uff0c\u65e0\u8bbaPromise\u5bf9\u8c61\u7684\u72b6\u6001\u5982\u4f55\uff0c\u90fd\u4f1a\u6267\u884c\u5176\u4e2d\u7684\u56de\u8c03\u51fd\u6570\u3002 \u53e6\u5916\uff0cPromise\u8fd8\u652f\u6301\u591a\u4e2a\u64cd\u4f5c\u7684\u5e76\u884c\u6267\u884c\u548c\u4e32\u884c\u6267\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 Promise.all() \u65b9\u6cd5\u5c06\u591a\u4e2aPromise\u5bf9\u8c61\u5305\u88c5\u6210\u4e00\u4e2a\u65b0\u7684Promise\u5bf9\u8c61\uff0c\u5f53\u6240\u6709\u64cd\u4f5c\u90fd\u6210\u529f\u5b8c\u6210\u65f6\uff0c\u8be5\u65b0\u7684Promise\u5bf9\u8c61\u624d\u4f1a\u8fdb\u5165Fulfilled\u72b6\u6001\uff1b\u6216\u8005\u4f7f\u7528 Promise.race() \u65b9\u6cd5\u5c06\u591a\u4e2aPromise\u5bf9\u8c61\u5305\u88c5\u6210\u4e00\u4e2a\u65b0\u7684Promise\u5bf9\u8c61\uff0c\u5f53\u5176\u4e2d\u4efb\u610f\u4e00\u4e2a\u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u8be5\u65b0\u7684Promise\u5bf9\u8c61\u5c31\u4f1a\u8fdb\u5165\u76f8\u5e94\u7684\u72b6\u6001\u3002 Promise\u5728\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u65f6\u63d0\u4f9b\u4e86\u66f4\u76f4\u89c2\u3001\u53ef\u8bfb\u6027\u66f4\u9ad8\u7684\u4ee3\u7801\u7ed3\u6784\uff0c\u5e76\u4e14\u907f\u514d\u4e86\u56de\u8c03\u5730\u72f1\u7684\u95ee\u9898\uff0c\u4f7f\u5f97\u5f02\u6b65\u4ee3\u7801\u66f4\u6613\u4e8e\u7f16\u5199\u548c\u7ef4\u62a4\u3002","title":"(5) .then() .catch() .finally \u65b9\u6cd5"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#6_1","text":"\u4ee3\u7801 ```javascript // \u6a21\u62df\u5f02\u6b65\u64cd\u4f5c\uff0c\u5ef6\u8fdf1\u79d2\u949f\u540e\u8fd4\u56de\u7ed3\u679c function asyncOperation() { return new Promise((resolve, reject) => { setTimeout(() => { const randomNumber = Math.random(); if (randomNumber < 0.5) { resolve(randomNumber); // \u64cd\u4f5c\u6210\u529f\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aFulfilled\uff0c\u5e76\u4f20\u9012\u7ed3\u679c } else { reject(\"Error occurred\"); // \u64cd\u4f5c\u5931\u8d25\uff0c\u5c06Promise\u72b6\u6001\u6539\u4e3aRejected\uff0c\u5e76\u4f20\u9012\u9519\u8bef\u4fe1\u606f } }, 1000); }); } // \u4f7f\u7528Promise\u5bf9\u8c61\u8fdb\u884c\u5f02\u6b65\u64cd\u4f5c\u5904\u7406 asyncOperation() .then(result => { console.log(\"\u64cd\u4f5c\u6210\u529f\uff0c\u7ed3\u679c\u4e3a\uff1a\" + result); }) .catch(error => { console.log(\"\u64cd\u4f5c\u5931\u8d25\uff0c\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a\" + error); }) .finally(() => { console.log(\"\u65e0\u8bba\u64cd\u4f5c\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u6267\u884c\u8be5\u56de\u8c03\u51fd\u6570\"); }); ``` js\u9006\u5411\u4e2d\u7684promise javascript function l(e, t, o) { return new Promise((n,c)=>{ a[\"a\"].post(e, t, o).then(e=>{ n(e.data) }).catch(e=>{ c(e) })} )};","title":"(6) \u4f7f\u7528\u5b9e\u4f8b"},{"location":"23%E3%80%81js%E8%BF%9B%E9%98%B6.html#7-promise","text":"https://www.epwk.com/login.html \u56fe\u4f8b","title":"(7) \u7f51\u7ad9\u4e2dPromise"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html","text":"\u4e8c\u5341\u56db\u3001\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578bBOM \u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b (BOM) \u4f7f JavaScript \u6709\u80fd\u529b\u4e0e\u6d4f\u89c8\u5668\"\u5bf9\u8bdd\"\u3002 \u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff08 B rowser O bject M odel (BOM)\uff09 1\u3001 Window \u5bf9\u8c61 \u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301 window \u5bf9\u8c61\u3002\u5b83\u8868\u793a\u6d4f\u89c8\u5668\u7a97\u53e3\u3002 HTML DOM \u7684 document \u4e5f\u662f window \u5bf9\u8c61\u7684\u5c5e\u6027\u4e4b\u4e00\uff1a window.document.getElementById(\"header\"); \u4e0e\u6b64\u76f8\u540c\uff1a document.getElementById(\"header\"); 2\u3001Window \u5c3a\u5bf8 \u6709\u4e09\u79cd\u65b9\u6cd5\u80fd\u591f\u786e\u5b9a\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5c3a\u5bf8\u3002 \u5bf9\u4e8eInternet Explorer\u3001Chrome\u3001Firefox\u3001Opera \u4ee5\u53ca Safari\uff1a window.innerHeight - \u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5185\u90e8\u9ad8\u5ea6(\u5305\u62ec\u6eda\u52a8\u6761) \u53ef\u89c1\u533a\u57df window.innerWidth - \u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5185\u90e8\u5bbd\u5ea6(\u5305\u62ec\u6eda\u52a8\u6761) \u53ef\u89c1\u533a\u57df javascript window.document.body.offsetHeight window.document.body.offsetWidth //\u83b7\u53d6\u7684\u662f \u6574\u4e2abody\u4f53\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6 \u9700\u8981\u6ce8\u610f\u53bb\u6389HTML5\u7684\u5934 \u5bf9\u4e8e Internet Explorer 8\u30017\u30016\u30015\uff1a document.documentElement.clientHeight document.documentElement.clientWidth \u6216\u8005 document.body.clientHeight == innerHeight \u7f51\u9875\u53ef\u89c1\u533a\u57df\u9ad8 document.body.clientWidth == innerWidth \u7f51\u9875\u53ef\u89c1\u533a\u57df\u5bbd document.write(window.innerWidth+'<br>'); document.write(window.innerHeight+'<br>'); document.write(window.document.body.offsetWidth+'<br>'); document.write(window.document.body.offsetHeight+'<br>'); document.write(window.document.body.clientWidth+'<br>'); document.write(window.document.body.clientHeight+'<br>'); 3\u3001\u5176\u4ed6 Window \u65b9\u6cd5 \u4e00\u4e9b\u5176\u4ed6\u65b9\u6cd5\uff1a window.open() - \u6253\u5f00\u65b0\u7a97\u53e3 window.close() - \u5173\u95ed\u5f53\u524d\u7a97\u53e3 window.moveTo() - \u79fb\u52a8\u5f53\u524d\u7a97\u53e3\uff08\u4e0d\u7528\uff09 window.resizeTo() - \u8c03\u6574\u5f53\u524d\u7a97\u53e3\u7684\u5c3a\u5bf8 4\u3001Window Screen \u53ef\u7528\u5bbd\u5ea6 screen.availWidth \u5c5e\u6027\u8fd4\u56de\u8bbf\u95ee\u8005\u5c4f\u5e55\u7684\u5bbd\u5ea6\uff0c\u4ee5\u50cf\u7d20\u8ba1\uff0c\u51cf\u53bb\u754c\u9762\u7279\u6027\uff0c\u6bd4\u5982\u7a97\u53e3\u4efb\u52a1\u680f\u3002 \u5b9e\u4f8b: \u8fd4\u56de\u60a8\u7684\u5c4f\u5e55\u7684\u53ef\u7528\u5bbd\u5ea6\uff1a <script> document.write(\"\u53ef\u7528\u5bbd\u5ea6: \" + screen.availWidth); </script> 5\u3001Window Screen \u53ef\u7528\u9ad8\u5ea6 screen.availHeight \u5c5e\u6027\u8fd4\u56de\u8bbf\u95ee\u8005\u5c4f\u5e55\u7684\u9ad8\u5ea6\uff0c\u4ee5\u50cf\u7d20\u8ba1\uff0c\u51cf\u53bb\u754c\u9762\u7279\u6027\uff0c\u6bd4\u5982\u7a97\u53e3\u4efb\u52a1\u680f \u8fd4\u56de\u60a8\u7684\u5c4f\u5e55\u7684\u53ef\u7528\u9ad8\u5ea6\uff1a <script> document.write(\"\u53ef\u7528\u9ad8\u5ea6: \" + screen.availHeight); </script> 6\u3001Window Location \u8df3\u8f6c window.location \u5bf9\u8c61\u7528\u4e8e\u83b7\u5f97\u5f53\u524d\u9875\u9762\u7684\u5730\u5740 (URL)\uff0c\u5e76\u628a\u6d4f\u89c8\u5668\u91cd\u5b9a\u5411\u5230\u65b0\u7684\u9875\u9762\u3002 window.location \u5bf9\u8c61\u5728\u7f16\u5199\u65f6\u53ef\u4e0d\u4f7f\u7528 window \u8fd9\u4e2a\u524d\u7f00\u3002 \u4e00\u4e9b\u4f8b\u5b50\uff1a \u4e00\u4e9b\u5b9e\u4f8b: location.hostname \u8fd4\u56de web \u4e3b\u673a\u7684\u57df\u540d location.href\u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u7684URL\u5730\u5740 location.href=url \u8df3\u8f6c\u65b0\u7684\u5730\u5740 location.pathname \u8fd4\u56de\u5f53\u524d\u9875\u9762\u7684\u8def\u5f84\u548c\u6587\u4ef6\u540d location.port \u8fd4\u56de web \u4e3b\u673a\u7684\u7aef\u53e3 \uff0880 \u6216 443\uff09 location.protocol \u8fd4\u56de\u6240\u4f7f\u7528\u7684 web \u534f\u8bae\uff08http:// \u6216 https://\uff09 location.assign(url) \u65b9\u6cd5\u52a0\u8f7d\u65b0\u7684\u6587\u6863\u3002 window.location.replace(url) \uff1a \u901a\u8fc7\u52a0\u8f7d URL \u6307\u5b9a\u7684\u6587\u6863\u6765\u66ff\u6362\u5f53\u524d\u6587\u6863 \uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u66ff\u6362\u5f53\u524d\u7a97\u53e3\u9875\u9762\uff0c\u524d\u540e\u4e24\u4e2a\u9875\u9762\u5171\u7528\u4e00\u4e2a\u7a97\u53e3\uff0c\u6240\u4ee5\u662f\u6ca1\u6709\u540e\u9000\u8fd4\u56de\u4e0a\u4e00\u9875\u7684 window.location.reload() \u65b9\u6cd5\u7528\u4e8e\u5237\u65b0\u5f53\u524d\u6587\u6863\u3002 javascript \u8bf4\u660e \u5982\u679c\u8be5\u65b9\u6cd5\u6ca1\u6709\u89c4\u5b9a\u53c2\u6570\uff0c\u6216\u8005\u53c2\u6570\u662f false\uff0c\u5b83\u5c31\u4f1a\u7528 HTTP \u5934 If-Modified-Since \u6765\u68c0\u6d4b\u670d\u52a1\u5668\u4e0a\u7684\u6587\u6863\u662f\u5426\u5df2\u6539\u53d8\u3002\u5982\u679c\u6587\u6863\u5df2\u6539\u53d8\uff0creload() \u4f1a\u518d\u6b21\u4e0b\u8f7d\u8be5\u6587\u6863\u3002\u5982\u679c\u6587\u6863\u672a\u6539\u53d8\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u4ece\u7f13\u5b58\u4e2d\u88c5\u8f7d\u6587\u6863\u3002\u8fd9\u4e0e\u7528\u6237\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u6309\u94ae\u7684\u6548\u679c\u662f\u5b8c\u5168\u4e00\u6837\u7684\u3002 \u5982\u679c\u628a\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u8bbe\u7f6e\u4e3a true\uff0c\u90a3\u4e48\u65e0\u8bba\u6587\u6863\u7684\u6700\u540e\u4fee\u6539\u65e5\u671f\u662f\u4ec0\u4e48\uff0c\u5b83\u90fd\u4f1a\u7ed5\u8fc7\u7f13\u5b58\uff0c\u4ece\u670d\u52a1\u5668\u4e0a\u91cd\u65b0\u4e0b\u8f7d\u8be5\u6587\u6863\u3002\u8fd9\u4e0e\u7528\u6237\u5728\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u6309\u94ae\u65f6\u6309\u4f4f Shift \u5065\u7684\u6548\u679c\u662f\u5b8c\u5168\u4e00\u6837\u3002 window.location.search \u5c5e\u6027\u7528\u4e8e\u83b7\u53d6url\u7684\u53c2\u6570\u90e8\u5206 7\u3001Window History \u5386\u53f2 history.back() - \u4e0e\u5728\u6d4f\u89c8\u5668\u70b9\u51fb\u540e\u9000\u6309\u94ae\u76f8\u540c \u52a0\u8f7d\u5386\u53f2\u5217\u8868\u4e2d\u7684\u524d\u4e00\u4e2a URL history.forward() - \u4e0e\u5728\u6d4f\u89c8\u5668\u4e2d\u70b9\u51fb\u5411\u524d\u6309\u94ae\u76f8\u540c \u52a0\u8f7d\u5386\u53f2\u5217\u8868\u4e2d\u7684\u4e0b\u4e00\u4e2a URL\u3002 history.go(+1) \u524d\u8fdb history.go(-1) \u540e\u9000+\u5237\u65b0 \u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u6709\u533a\u522b \u5b9e\u4f8b 1.html <a href=\"2.html\">2.html</a> <button onclick=\"history.forward()\">back</button> <button onclick=\"history.go(+1)\">go</button> 2.html <button onclick=\"history.back()\">back</button> <button onclick=\"history.go(-1)\">go</button> 8\u3001 Window Navigator \u5bf9\u8c61\u5305\u542b\u6709\u5173\u8bbf\u95ee\u8005\u6d4f\u89c8\u5668\u7684\u4fe1\u606f\u3002 \u6d4f\u89c8\u5668\u4ee3\u53f7: \" + navigator.appCodeName \u6d4f\u89c8\u5668\u540d\u79f0: \" + navigator.appName \u6d4f\u89c8\u5668\u7248\u672c: \" + navigator.appVersion \u542f\u7528Cookies: \" + navigator.cookieEnabled \u786c\u4ef6\u5e73\u53f0: \" + navigator.platform \u7528\u6237\u4ee3\u7406: \" + navigator.userAgent \u7528\u6237\u4ee3\u7406\u8bed\u8a00: \" + navigator.systemLanguage 9\u3001JavaScript \u5f39\u7a97 \u53ef\u4ee5\u5728 JavaScript \u4e2d\u521b\u5efa\u4e09\u79cd\u6d88\u606f\u6846\uff1a\u8b66\u544a\u6846\u3001\u786e\u8ba4\u6846\u3001\u63d0\u793a\u6846\u3002 windows\u53ef\u4ee5\u4e0d\u52a0 (1) \u8b66\u544a\u6846 \u8b66\u544a\u6846\u7ecf\u5e38\u7528\u4e8e\u786e\u4fdd\u7528\u6237\u53ef\u4ee5\u5f97\u5230\u67d0\u4e9b\u4fe1\u606f\u3002 \u5f53\u8b66\u544a\u6846\u51fa\u73b0\u540e\uff0c\u7528\u6237\u9700\u8981\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u624d\u80fd\u7ee7\u7eed\u8fdb\u884c\u64cd\u4f5c\u3002 \u8bed\u6cd5 window.alert(\" sometext \"); (2) \u786e\u8ba4\u6846 \u786e\u8ba4\u6846\u901a\u5e38\u7528\u4e8e\u9a8c\u8bc1\u662f\u5426\u63a5\u53d7\u7528\u6237\u64cd\u4f5c\u3002 \u5f53\u786e\u8ba4\u5361\u5f39\u51fa\u65f6\uff0c\u7528\u6237\u53ef\u4ee5\u70b9\u51fb \"\u786e\u8ba4\" \u6216\u8005 \"\u53d6\u6d88\" \u6765\u786e\u5b9a\u7528\u6237\u64cd\u4f5c\u3002 \u5f53\u4f60\u70b9\u51fb \"\u786e\u8ba4\", \u786e\u8ba4\u6846\u8fd4\u56de true\uff0c \u5982\u679c\u70b9\u51fb \"\u53d6\u6d88\", \u786e\u8ba4\u6846\u8fd4\u56de false\u3002 \u8bed\u6cd5 window.confirm(\" sometext \"); [k\u0259n\u02c8f\u025c:rm] \u5b9e\u4f8b var r=confirm(\"\u6309\u4e0b\u6309\u94ae\"); if (r==true) { x=\"\u4f60\u6309\u4e0b\u4e86\\\"\u786e\u5b9a\\\"\u6309\u94ae!\"; } else { x=\"\u4f60\u6309\u4e0b\u4e86\\\"\u53d6\u6d88\\\"\u6309\u94ae!\"; } (3) \u63d0\u793a\u6846 \u63d0\u793a\u6846\u7ecf\u5e38\u7528\u4e8e\u63d0\u793a\u7528\u6237\u5728\u8fdb\u5165\u9875\u9762\u524d\u8f93\u5165\u67d0\u4e2a\u503c\u3002 \u5f53\u63d0\u793a\u6846\u51fa\u73b0\u540e\uff0c\u7528\u6237\u9700\u8981\u8f93\u5165\u67d0\u4e2a\u503c\uff0c\u7136\u540e\u70b9\u51fb\u786e\u8ba4\u6216\u53d6\u6d88\u6309\u94ae\u624d\u80fd\u7ee7\u7eed\u64cd\u7eb5\u3002 \u5982\u679c\u7528\u6237\u70b9\u51fb\u786e\u8ba4\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u4e3a\u8f93\u5165\u7684\u503c\u3002\u5982\u679c\u7528\u6237\u70b9\u51fb\u53d6\u6d88\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u4e3a null\u3002 \u8bed\u6cd5 prompt [pr\u0251\u02d0mpt] window.prompt(\" sometext \",\" defaultvalue \"); [pr\u0251:mpt] \u5b9e\u4f8b var person=prompt(\"\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57\",\"Harry Potter\"); if (person!=null && person!=\"\") { x=\"\u4f60\u597d \" + person + \"! \u4eca\u5929\u611f\u89c9\u5982\u4f55?\"; document.getElementById(\"demo\").innerHTML=x; } (4) \u6362\u884c \u5f39\u7a97\u4f7f\u7528 \u53cd\u659c\u6760 + \"n\"(\\n) \u6765\u8bbe\u7f6e\u6362\u884c\u3002 \u5b9e\u4f8b alert(\"Hello\\nHow are you?\");","title":"\u4e8c\u5341\u56db\u3001\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578bBOM"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#bom","text":"\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b (BOM) \u4f7f JavaScript \u6709\u80fd\u529b\u4e0e\u6d4f\u89c8\u5668\"\u5bf9\u8bdd\"\u3002 \u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff08 B rowser O bject M odel (BOM)\uff09","title":"\u4e8c\u5341\u56db\u3001\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578bBOM"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#1-window","text":"\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301 window \u5bf9\u8c61\u3002\u5b83\u8868\u793a\u6d4f\u89c8\u5668\u7a97\u53e3\u3002 HTML DOM \u7684 document \u4e5f\u662f window \u5bf9\u8c61\u7684\u5c5e\u6027\u4e4b\u4e00\uff1a window.document.getElementById(\"header\"); \u4e0e\u6b64\u76f8\u540c\uff1a document.getElementById(\"header\");","title":"1\u3001 Window \u5bf9\u8c61"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#2window","text":"\u6709\u4e09\u79cd\u65b9\u6cd5\u80fd\u591f\u786e\u5b9a\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5c3a\u5bf8\u3002 \u5bf9\u4e8eInternet Explorer\u3001Chrome\u3001Firefox\u3001Opera \u4ee5\u53ca Safari\uff1a window.innerHeight - \u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5185\u90e8\u9ad8\u5ea6(\u5305\u62ec\u6eda\u52a8\u6761) \u53ef\u89c1\u533a\u57df window.innerWidth - \u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5185\u90e8\u5bbd\u5ea6(\u5305\u62ec\u6eda\u52a8\u6761) \u53ef\u89c1\u533a\u57df javascript window.document.body.offsetHeight window.document.body.offsetWidth //\u83b7\u53d6\u7684\u662f \u6574\u4e2abody\u4f53\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6 \u9700\u8981\u6ce8\u610f\u53bb\u6389HTML5\u7684\u5934 \u5bf9\u4e8e Internet Explorer 8\u30017\u30016\u30015\uff1a document.documentElement.clientHeight document.documentElement.clientWidth \u6216\u8005 document.body.clientHeight == innerHeight \u7f51\u9875\u53ef\u89c1\u533a\u57df\u9ad8 document.body.clientWidth == innerWidth \u7f51\u9875\u53ef\u89c1\u533a\u57df\u5bbd document.write(window.innerWidth+'<br>'); document.write(window.innerHeight+'<br>'); document.write(window.document.body.offsetWidth+'<br>'); document.write(window.document.body.offsetHeight+'<br>'); document.write(window.document.body.clientWidth+'<br>'); document.write(window.document.body.clientHeight+'<br>');","title":"2\u3001Window \u5c3a\u5bf8"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#3-window","text":"\u4e00\u4e9b\u5176\u4ed6\u65b9\u6cd5\uff1a window.open() - \u6253\u5f00\u65b0\u7a97\u53e3 window.close() - \u5173\u95ed\u5f53\u524d\u7a97\u53e3 window.moveTo() - \u79fb\u52a8\u5f53\u524d\u7a97\u53e3\uff08\u4e0d\u7528\uff09 window.resizeTo() - \u8c03\u6574\u5f53\u524d\u7a97\u53e3\u7684\u5c3a\u5bf8","title":"3\u3001\u5176\u4ed6 Window \u65b9\u6cd5"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#4window-screen","text":"screen.availWidth \u5c5e\u6027\u8fd4\u56de\u8bbf\u95ee\u8005\u5c4f\u5e55\u7684\u5bbd\u5ea6\uff0c\u4ee5\u50cf\u7d20\u8ba1\uff0c\u51cf\u53bb\u754c\u9762\u7279\u6027\uff0c\u6bd4\u5982\u7a97\u53e3\u4efb\u52a1\u680f\u3002 \u5b9e\u4f8b: \u8fd4\u56de\u60a8\u7684\u5c4f\u5e55\u7684\u53ef\u7528\u5bbd\u5ea6\uff1a <script> document.write(\"\u53ef\u7528\u5bbd\u5ea6: \" + screen.availWidth); </script>","title":"4\u3001Window Screen \u53ef\u7528\u5bbd\u5ea6"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#5window-screen","text":"screen.availHeight \u5c5e\u6027\u8fd4\u56de\u8bbf\u95ee\u8005\u5c4f\u5e55\u7684\u9ad8\u5ea6\uff0c\u4ee5\u50cf\u7d20\u8ba1\uff0c\u51cf\u53bb\u754c\u9762\u7279\u6027\uff0c\u6bd4\u5982\u7a97\u53e3\u4efb\u52a1\u680f \u8fd4\u56de\u60a8\u7684\u5c4f\u5e55\u7684\u53ef\u7528\u9ad8\u5ea6\uff1a <script> document.write(\"\u53ef\u7528\u9ad8\u5ea6: \" + screen.availHeight); </script>","title":"5\u3001Window Screen \u53ef\u7528\u9ad8\u5ea6"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#6window-location","text":"window.location \u5bf9\u8c61\u7528\u4e8e\u83b7\u5f97\u5f53\u524d\u9875\u9762\u7684\u5730\u5740 (URL)\uff0c\u5e76\u628a\u6d4f\u89c8\u5668\u91cd\u5b9a\u5411\u5230\u65b0\u7684\u9875\u9762\u3002 window.location \u5bf9\u8c61\u5728\u7f16\u5199\u65f6\u53ef\u4e0d\u4f7f\u7528 window \u8fd9\u4e2a\u524d\u7f00\u3002 \u4e00\u4e9b\u4f8b\u5b50\uff1a \u4e00\u4e9b\u5b9e\u4f8b: location.hostname \u8fd4\u56de web \u4e3b\u673a\u7684\u57df\u540d location.href\u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u7684URL\u5730\u5740 location.href=url \u8df3\u8f6c\u65b0\u7684\u5730\u5740 location.pathname \u8fd4\u56de\u5f53\u524d\u9875\u9762\u7684\u8def\u5f84\u548c\u6587\u4ef6\u540d location.port \u8fd4\u56de web \u4e3b\u673a\u7684\u7aef\u53e3 \uff0880 \u6216 443\uff09 location.protocol \u8fd4\u56de\u6240\u4f7f\u7528\u7684 web \u534f\u8bae\uff08http:// \u6216 https://\uff09 location.assign(url) \u65b9\u6cd5\u52a0\u8f7d\u65b0\u7684\u6587\u6863\u3002 window.location.replace(url) \uff1a \u901a\u8fc7\u52a0\u8f7d URL \u6307\u5b9a\u7684\u6587\u6863\u6765\u66ff\u6362\u5f53\u524d\u6587\u6863 \uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u66ff\u6362\u5f53\u524d\u7a97\u53e3\u9875\u9762\uff0c\u524d\u540e\u4e24\u4e2a\u9875\u9762\u5171\u7528\u4e00\u4e2a\u7a97\u53e3\uff0c\u6240\u4ee5\u662f\u6ca1\u6709\u540e\u9000\u8fd4\u56de\u4e0a\u4e00\u9875\u7684 window.location.reload() \u65b9\u6cd5\u7528\u4e8e\u5237\u65b0\u5f53\u524d\u6587\u6863\u3002 javascript \u8bf4\u660e \u5982\u679c\u8be5\u65b9\u6cd5\u6ca1\u6709\u89c4\u5b9a\u53c2\u6570\uff0c\u6216\u8005\u53c2\u6570\u662f false\uff0c\u5b83\u5c31\u4f1a\u7528 HTTP \u5934 If-Modified-Since \u6765\u68c0\u6d4b\u670d\u52a1\u5668\u4e0a\u7684\u6587\u6863\u662f\u5426\u5df2\u6539\u53d8\u3002\u5982\u679c\u6587\u6863\u5df2\u6539\u53d8\uff0creload() \u4f1a\u518d\u6b21\u4e0b\u8f7d\u8be5\u6587\u6863\u3002\u5982\u679c\u6587\u6863\u672a\u6539\u53d8\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u4ece\u7f13\u5b58\u4e2d\u88c5\u8f7d\u6587\u6863\u3002\u8fd9\u4e0e\u7528\u6237\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u6309\u94ae\u7684\u6548\u679c\u662f\u5b8c\u5168\u4e00\u6837\u7684\u3002 \u5982\u679c\u628a\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u8bbe\u7f6e\u4e3a true\uff0c\u90a3\u4e48\u65e0\u8bba\u6587\u6863\u7684\u6700\u540e\u4fee\u6539\u65e5\u671f\u662f\u4ec0\u4e48\uff0c\u5b83\u90fd\u4f1a\u7ed5\u8fc7\u7f13\u5b58\uff0c\u4ece\u670d\u52a1\u5668\u4e0a\u91cd\u65b0\u4e0b\u8f7d\u8be5\u6587\u6863\u3002\u8fd9\u4e0e\u7528\u6237\u5728\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u6309\u94ae\u65f6\u6309\u4f4f Shift \u5065\u7684\u6548\u679c\u662f\u5b8c\u5168\u4e00\u6837\u3002 window.location.search \u5c5e\u6027\u7528\u4e8e\u83b7\u53d6url\u7684\u53c2\u6570\u90e8\u5206","title":"6\u3001Window Location \u8df3\u8f6c"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#7window-history","text":"history.back() - \u4e0e\u5728\u6d4f\u89c8\u5668\u70b9\u51fb\u540e\u9000\u6309\u94ae\u76f8\u540c \u52a0\u8f7d\u5386\u53f2\u5217\u8868\u4e2d\u7684\u524d\u4e00\u4e2a URL history.forward() - \u4e0e\u5728\u6d4f\u89c8\u5668\u4e2d\u70b9\u51fb\u5411\u524d\u6309\u94ae\u76f8\u540c \u52a0\u8f7d\u5386\u53f2\u5217\u8868\u4e2d\u7684\u4e0b\u4e00\u4e2a URL\u3002 history.go(+1) \u524d\u8fdb history.go(-1) \u540e\u9000+\u5237\u65b0 \u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u6709\u533a\u522b \u5b9e\u4f8b 1.html <a href=\"2.html\">2.html</a> <button onclick=\"history.forward()\">back</button> <button onclick=\"history.go(+1)\">go</button> 2.html <button onclick=\"history.back()\">back</button> <button onclick=\"history.go(-1)\">go</button>","title":"7\u3001Window History \u5386\u53f2"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#8-window-navigator","text":"\u6d4f\u89c8\u5668\u4ee3\u53f7: \" + navigator.appCodeName \u6d4f\u89c8\u5668\u540d\u79f0: \" + navigator.appName \u6d4f\u89c8\u5668\u7248\u672c: \" + navigator.appVersion \u542f\u7528Cookies: \" + navigator.cookieEnabled \u786c\u4ef6\u5e73\u53f0: \" + navigator.platform \u7528\u6237\u4ee3\u7406: \" + navigator.userAgent \u7528\u6237\u4ee3\u7406\u8bed\u8a00: \" + navigator.systemLanguage","title":"8\u3001 Window Navigator \u5bf9\u8c61\u5305\u542b\u6709\u5173\u8bbf\u95ee\u8005\u6d4f\u89c8\u5668\u7684\u4fe1\u606f\u3002"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#9javascript","text":"\u53ef\u4ee5\u5728 JavaScript \u4e2d\u521b\u5efa\u4e09\u79cd\u6d88\u606f\u6846\uff1a\u8b66\u544a\u6846\u3001\u786e\u8ba4\u6846\u3001\u63d0\u793a\u6846\u3002 windows\u53ef\u4ee5\u4e0d\u52a0","title":"9\u3001JavaScript \u5f39\u7a97"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#1","text":"\u8b66\u544a\u6846\u7ecf\u5e38\u7528\u4e8e\u786e\u4fdd\u7528\u6237\u53ef\u4ee5\u5f97\u5230\u67d0\u4e9b\u4fe1\u606f\u3002 \u5f53\u8b66\u544a\u6846\u51fa\u73b0\u540e\uff0c\u7528\u6237\u9700\u8981\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u624d\u80fd\u7ee7\u7eed\u8fdb\u884c\u64cd\u4f5c\u3002 \u8bed\u6cd5 window.alert(\" sometext \");","title":"(1) \u8b66\u544a\u6846"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#2","text":"\u786e\u8ba4\u6846\u901a\u5e38\u7528\u4e8e\u9a8c\u8bc1\u662f\u5426\u63a5\u53d7\u7528\u6237\u64cd\u4f5c\u3002 \u5f53\u786e\u8ba4\u5361\u5f39\u51fa\u65f6\uff0c\u7528\u6237\u53ef\u4ee5\u70b9\u51fb \"\u786e\u8ba4\" \u6216\u8005 \"\u53d6\u6d88\" \u6765\u786e\u5b9a\u7528\u6237\u64cd\u4f5c\u3002 \u5f53\u4f60\u70b9\u51fb \"\u786e\u8ba4\", \u786e\u8ba4\u6846\u8fd4\u56de true\uff0c \u5982\u679c\u70b9\u51fb \"\u53d6\u6d88\", \u786e\u8ba4\u6846\u8fd4\u56de false\u3002 \u8bed\u6cd5 window.confirm(\" sometext \"); [k\u0259n\u02c8f\u025c:rm] \u5b9e\u4f8b var r=confirm(\"\u6309\u4e0b\u6309\u94ae\"); if (r==true) { x=\"\u4f60\u6309\u4e0b\u4e86\\\"\u786e\u5b9a\\\"\u6309\u94ae!\"; } else { x=\"\u4f60\u6309\u4e0b\u4e86\\\"\u53d6\u6d88\\\"\u6309\u94ae!\"; }","title":"(2) \u786e\u8ba4\u6846"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#3","text":"\u63d0\u793a\u6846\u7ecf\u5e38\u7528\u4e8e\u63d0\u793a\u7528\u6237\u5728\u8fdb\u5165\u9875\u9762\u524d\u8f93\u5165\u67d0\u4e2a\u503c\u3002 \u5f53\u63d0\u793a\u6846\u51fa\u73b0\u540e\uff0c\u7528\u6237\u9700\u8981\u8f93\u5165\u67d0\u4e2a\u503c\uff0c\u7136\u540e\u70b9\u51fb\u786e\u8ba4\u6216\u53d6\u6d88\u6309\u94ae\u624d\u80fd\u7ee7\u7eed\u64cd\u7eb5\u3002 \u5982\u679c\u7528\u6237\u70b9\u51fb\u786e\u8ba4\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u4e3a\u8f93\u5165\u7684\u503c\u3002\u5982\u679c\u7528\u6237\u70b9\u51fb\u53d6\u6d88\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u4e3a null\u3002 \u8bed\u6cd5 prompt [pr\u0251\u02d0mpt] window.prompt(\" sometext \",\" defaultvalue \"); [pr\u0251:mpt] \u5b9e\u4f8b var person=prompt(\"\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57\",\"Harry Potter\"); if (person!=null && person!=\"\") { x=\"\u4f60\u597d \" + person + \"! \u4eca\u5929\u611f\u89c9\u5982\u4f55?\"; document.getElementById(\"demo\").innerHTML=x; }","title":"(3) \u63d0\u793a\u6846"},{"location":"24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html#4","text":"\u5f39\u7a97\u4f7f\u7528 \u53cd\u659c\u6760 + \"n\"(\\n) \u6765\u8bbe\u7f6e\u6362\u884c\u3002 \u5b9e\u4f8b alert(\"Hello\\nHow are you?\");","title":"(4) \u6362\u884c"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html","text":"\u4e8c\u5341\u4e94\u3001DOM\u64cd\u4f5c \u5f53\u7f51\u9875\u88ab\u52a0\u8f7d\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u521b\u5efa\u9875\u9762\u7684\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff08Document Object Model\uff09\u3002 HTML DOM \u6a21\u578b\u88ab\u6784\u9020\u4e3a \u5bf9\u8c61 \u7684\u6811 DOM\u6811 \u901a\u8fc7\u53ef\u7f16\u7a0b\u7684\u5bf9\u8c61\u6a21\u578b\uff0cJavaScript \u83b7\u5f97\u4e86\u8db3\u591f\u7684\u80fd\u529b\u6765\u521b\u5efa\u52a8\u6001\u7684 HTML\u3002 JavaScript \u80fd\u591f\u6539\u53d8\u9875\u9762\u4e2d\u7684\u6240\u6709 HTML \u5143\u7d20 JavaScript \u80fd\u591f\u6539\u53d8\u9875\u9762\u4e2d\u7684\u6240\u6709 HTML \u5c5e\u6027 JavaScript \u80fd\u591f\u6539\u53d8\u9875\u9762\u4e2d\u7684\u6240\u6709 CSS \u6837\u5f0f JavaScript \u80fd\u591f\u5bf9\u9875\u9762\u4e2d\u7684\u6240\u6709\u4e8b\u4ef6\u505a\u51fa\u53cd\u5e94 \u4e00\u3001\u67e5\u627e HTML \u5143\u7d20 \u901a\u5e38\uff0c\u901a\u8fc7 JavaScript\uff0c\u60a8\u9700\u8981\u64cd\u4f5c HTML \u5143\u7d20\u3002 \u4e3a\u4e86\u505a\u5230\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u60a8\u5fc5\u987b\u9996\u5148\u627e\u5230\u8be5\u5143\u7d20\u3002\u6709\u4e09\u79cd\u65b9\u6cd5\u6765\u505a\u8fd9\u4ef6\u4e8b\uff1a \u901a\u8fc7 id \u627e\u5230 HTML \u5143\u7d20 \u901a\u8fc7\u6807\u7b7e\u540d\u627e\u5230 HTML \u5143\u7d20 \u901a\u8fc7\u7c7b\u540d\u627e\u5230 HTML \u5143\u7d20 1\u3001\u901a\u8fc7 id \u67e5\u627e HTML \u5143\u7d20 \u5728 DOM \u4e2d\u67e5\u627e HTML \u5143\u7d20\u7684\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u662f\u901a\u8fc7\u4f7f\u7528\u5143\u7d20\u7684 id\u3002 \u672c\u4f8b\u67e5\u627e id=\"intro\" \u5143\u7d20\uff1a \u5b9e\u4f8b var x=document.getElementById(\"intro\"); \u5982\u679c\u627e\u5230\u8be5\u5143\u7d20\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u4ee5\u5bf9\u8c61\uff08\u5728 x \u4e2d\uff09\u7684\u5f62\u5f0f\u8fd4\u56de\u8be5\u5143\u7d20\u3002 \u5982\u679c\u672a\u627e\u5230\u8be5\u5143\u7d20\uff0c\u5219 x \u5c06\u5305\u542b null 2\u3001\u901a\u8fc7\u6807\u7b7e\u540d\u67e5\u627e HTML \u5143\u7d20 \u672c\u4f8b\u67e5\u627e id=\"main\" \u7684\u5143\u7d20\uff0c\u7136\u540e\u67e5\u627e id=\"main\" \u5143\u7d20\u4e2d\u7684\u6240\u6709 \u5143\u7d20\uff1a \u5b9e\u4f8b var x=document.getElementById(\"main\"); var y=x.getElementsByTagName(\"p\"); 3\u3001\u901a\u8fc7\u7c7b\u540d\u627e\u5230 HTML \u5143\u7d20 \u672c\u4f8b\u901a\u8fc7 getElementsByClassName \u51fd\u6570\u6765\u67e5\u627e class=\"intro\" \u7684\u5143\u7d20\uff1a \u5b9e\u4f8b var x=document.getElementsByClassName(\"intro\"); 4\u3001\u901a\u8fc7name\u540d\u627e\u5230 HTML \u5143\u7d20 \u672c\u4f8b\u901a\u8fc7 getElementsByName \u51fd\u6570\u6765\u67e5\u627e name=\"username\" \u7684\u5143\u7d20\uff1a \u5b9e\u4f8b <script> onload = function () { var name = document.getElementsByName('username')[0]; name.value = 123 console.log(name); } </script> <input type=\"text\" name=\"username\"> 5. \u901a\u8fc7css\u9009\u62e9\u5668\u8fdb\u884c\u67e5\u627e document.querySelector \u662f JavaScript \u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7528\u4e8e\u5728\u6587\u6863\u4e2d\u9009\u62e9\u5339\u914d\u7279\u5b9a CSS \u9009\u62e9\u5668\u7684\u5143\u7d20\u3002 \u4f7f\u7528 document.querySelector \u65b9\u6cd5\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a document.querySelector(css\u9009\u62e9\u5668) \u5176\u4e2d\uff0c css\u9009\u62e9\u5668 \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8981\u9009\u62e9\u7684\u5143\u7d20\u7684CSS\u9009\u62e9\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u6807\u7b7e\u540d\u3001\u7c7b\u540d\u3001ID\u3001\u5c5e\u6027\u7b49\u6765\u6307\u5b9a\u5143\u7d20\u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56de null \u3002 \u4ee5\u4e0b\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a \u901a\u8fc7\u6807\u7b7e\u540d\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\"div\"); \u901a\u8fc7\u7c7b\u540d\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\".my-class\"); \u901a\u8fc7ID\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\"#my-id\"); \u901a\u8fc7\u5c5e\u6027\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\"[name='my-name']\"); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c document.querySelector \u53ea\u4f1a\u8fd4\u56de\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\u5982\u679c\u8981\u9009\u62e9\u6240\u6709\u5339\u914d\u7684\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528 document.querySelectorAll \u65b9\u6cd5\u3002 \u4e8c\u3001HTML DOM - \u6539\u53d8 HTML 1\u3001\u6539\u53d8 HTML \u5185\u5bb9\uff08innerHTML/innerText\uff09 \u4fee\u6539 HTML \u5185\u5bb9\u7684\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 innerHTML \u5c5e\u6027\u3002 \u5982\u9700\u6539\u53d8 HTML \u5143\u7d20\u7684\u5185\u5bb9\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\uff1a document.getElementById(id).innerHTML= \u65b0\u7684 HTML \u672c\u4f8b\u6539\u53d8\u4e86 \\ \u5143\u7d20\u7684\u5185\u5bb9\uff1a \u5b9e\u4f8b <html> <body> <p id=\"p1\">Hello World!</p> <script> document.getElementById(\"p1\").innerHTML=\"\u65b0\u6587\u672c!\"; </script> </body> </html> \u5b9e\u4f8b\u8bb2\u89e3\uff1a \u4e0a\u9762\u7684 HTML \u6587\u6863\u542b\u6709 id=\"p1\" \u7684 \\ \u5143\u7d20 \u6211\u4eec\u4f7f\u7528 HTML DOM \u6765\u83b7\u5f97 id=\"p1\" \u7684\u5143\u7d20 JavaScript \u66f4\u6539\u6b64\u5143\u7d20\u7684\u5185\u5bb9 (innerHTML) document.getElementById( id ).innerText=\u65b0\u7684\u6587\u672c\u5185\u5bb9 \u6ce8\u610f: innerHTML\u662f\u53ef\u4ee5\u83b7\u53d6\u8282\u70b9\u5185 \u6807\u7b7e\u548c\u5185\u5bb9 innerText \u53ea\u80fd\u83b7\u53d6\u8282\u70b9\u5185\u7684\u6587\u672c\u5185\u5bb9 innerHTML\u53ef\u4ee5\u8bbe\u7f6ehtml\u548c\u6587\u672c\u4e00\u8d77\u7684\u5185\u5bb9 HTML\u6807\u7b7e\u4f1a\u88ab\u6d4f\u89c8\u5668\u6240\u89e3\u6790 innerText\u4e0d\u53ef\u4ee5\u8bbe\u7f6ehtml\u548c\u6587\u672c\u4e00\u8d77\u7684\u5185\u5bb9 HTML\u6807\u7b7e\u4e0d\u4f1a\u88ab\u6d4f\u89c8\u5668\u6240\u89e3\u6790 2\u3001\u6539\u53d8 HTML \u5c5e\u6027 (attribute) \u5982\u9700\u6539\u53d8 HTML \u5143\u7d20\u7684\u5c5e\u6027\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\uff1a document.getElementById( id ). attribute=\u65b0\u5c5e\u6027\u503c \u672c\u4f8b\u6539\u53d8\u4e86 \\ \u5143\u7d20\u7684 src \u5c5e\u6027\uff1a <img id=\"image\" src=\"smiley.gif\"> <script> document.getElementById(\"image\").src=\"landscape.jpg\"; </script> <img src=\"http://img.zcool.cn/community/01f9ea56e282836ac72531cbe0233b.jpg@2o.jpg\" onclick=\"this.src='http://pic.58pic.com/58pic/13/80/78/35V58PICrWD_1024.jpg'\" alt=\"\"> \u6ce8\u610f\uff1a\u5728jQuery\u91cc\u4e0d\u80fd\u6539\u53d8input\u7684type\u7c7b\u578b \u51fa\u4e8e\u5b89\u5168\u6027\uff0c\u53ea\u80fd\u662f\u53ea\u8bfb \u5982\u66f4\u6539input\u7684type js\u8bbe\u7f6e\u5bc6\u7801\u7684\u663e\u793a\u9690\u85cf <input type=\"text\" value=\"\" name=\"xxx\"> <button onclick=\"pas();\">\u66f4\u6539\u4e3a\u5bc6\u7801</button> <button onclick=\"text();\">\u66f4\u6539\u4e3a\u6587\u672c\u663e\u793a</button> function pas(){ var i = document.getElementsByTagName('input')[0]; i.type = 'password' } function text(){ var i = document.getElementsByTagName('input')[0]; i.type = 'text' } <script> function change() { var input = document.getElementsByTagName('input')[0]; var span = document.getElementsByTagName('span')[0]; if(span.innerHTML == '\u663e\u793a'){ input.type = 'text'; span.innerHTML = '\u9690\u85cf'; }else{ input.type = 'password'; span.innerHTML = '\u663e\u793a'; } } </script> </head> <body> \u5bc6\u7801<input type=\"password\"><span onclick=\"change();\">\u663e\u793a</span> </body> \u4e09\u3001HTML DOM - \u6539\u53d8CSS HTML DOM \u5141\u8bb8 JavaScript \u6539\u53d8 HTML \u5143\u7d20\u7684\u6837\u5f0f\u3002 1\u3001\u6539\u53d8 HTML \u6837\u5f0f \u5982\u9700\u6539\u53d8 HTML \u5143\u7d20\u7684\u6837\u5f0f\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\uff1a document.getElementById( id ).style. property = \u65b0\u6837\u5f0f \u5b9e\u4f8b ```javascript Hello World! Hello World! document.getElementById(\"p2\").style.color=\"blue\"; document.getElementById(\"p2\").style.fontFamily=\"Arial\"; document.getElementById(\"p2\").style.fontSize=\"larger\"; document.getElementById(\"p2\").style.backgroundImage=\"url(2.jpg)\"; ``` \u83b7\u53d6\u751f\u6548style\u6837\u5f0f window.getComputedStyle(\"\u5143\u7d20\", \"\u4f2a\u7c7b\"); style = window.getComputedStyle(box, null); //\u652f\u6301IE9+\u53ca\u975eIE\u6d4f\u89c8\u5668 style = window.getComputedStyle(box, null).width; \u83b7\u53d6box\u7684width\u5c5e\u6027\u503c \u4e0estyle\u7684\u533a\u522b box.style.xxx \u53ea\u80fd\u83b7\u53d6\u5185\u8054\u6837\u5f0f getComputedStyle \u83b7\u53d6\u7684\u751f\u6548\u6837\u5f0f\u53ef\u4ee5\u83b7\u53d6\u5168\u5c40\u7684\u6837\u5f0f \u5b9e\u4f8b <style> #div{ width:200px; height: 200px; } </style> <script> window.onload = function (ev) { var div = document.getElementById('div'); // console.log(div.style.backgroundColor) // console.log(div.style.width) var style = window.getComputedStyle(div,null); console.log(style.width); console.log(style.height); console.log(style.backgroundColor); } </script> </head> <body> <div id=\"div\" style=\"background-color: red;\"></div> </body> </html> 2\u3001\u8bbe\u7f6e\u591a\u4e2acss\u6837\u5f0f \u8bbe\u7f6ecssText javascript element.style.cssText = \"\u6837\u5f0f1;\u6837\u5f0f2...\" div.style.cssText = 'width:200px;height: 200px;background-color: red'; \u8bbe\u7f6estyle\u7684\u5c5e\u6027 javascript element.setAttribute('style', 'height: 100px !important'); \u8bbe\u7f6eid\u6216\u8005class\u540d\u79f0 \u8bbe\u7f6eid javascript element.setAttribute('id, 'id\u540d\u79f0'); element.id = id\u540d\u79f0\uff1b \u8bbe\u7f6eclass javascript element.setAttribute('class, 'class\u540d\u79f0'); element.className = class\u540d\u79f0\uff1b // \u8bbe\u7f6e\u591a\u4e2aclass element.className = '\u6837\u5f0f1 \u6837\u5f0f2'; element.setAttribute('class','\u6837\u5f0f1 \u6837\u5f0f2') \u901a\u8fc7add\u65b9\u6cd5\u6dfb\u52a0\u591a\u4e2a\u7c7b\u540d javascript document.getElementById(\"myDIV\").classList.add(\"mystyle\", \"anotherClass\", \"thirdClass\"); classList \u5c5e\u6027\u8fd4\u56de\u5143\u7d20\u7684\u7c7b\u540d\uff0c\u4f5c\u4e3a DOMTokenList \u5bf9\u8c61\u3002 \u8be5\u5c5e\u6027\u7528\u4e8e\u5728\u5143\u7d20\u4e2d\u6dfb\u52a0\uff0c\u79fb\u9664\u53ca\u5207\u6362 CSS \u7c7b\u3002 classList \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u4f46\u4f60\u53ef\u4ee5\u4f7f\u7528 add() \u548c remove() \u65b9\u6cd5\u4fee\u6539\u5b83\u3002 ```javascript .d1{color:red;} .d2{border: 1px solid red;} onload = function () { document.getElementById(\"myDIV\").classList.add('d1', 'd2'); document.getElementById(\"myDIV\").classList.remove('d1'); } div ``` 3\u3001\u4f7f\u7528\u4e8b\u4ef6 HTML DOM \u5141\u8bb8\u6211\u4eec\u901a\u8fc7\u89e6\u53d1\u4e8b\u4ef6\u6765\u6267\u884c\u4ee3\u7801\u3002 \u6bd4\u5982\u4ee5\u4e0b\u4e8b\u4ef6\uff1a \u5143\u7d20\u88ab\u70b9\u51fb\u3002 \u9875\u9762\u52a0\u8f7d\u5b8c\u6210\u3002 \u8f93\u5165\u6846\u88ab\u4fee\u6539\u3002 \u5728\u63a5\u4e0b\u6765\u7684\u7ae0\u8282\uff0c\u4f60\u4f1a\u5b66\u5230\u66f4\u591a\u5173\u4e8e\u4e8b\u4ef6\u7684\u77e5\u8bc6\u3002 \u672c\u4f8b\u6539\u53d8\u4e86 id=\"id1\" \u7684 HTML \u5143\u7d20\u7684\u6837\u5f0f\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff1a \u5b9e\u4f8b <!DOCTYPE html> <html> <body> <h1 id=\"id1\">\u6211\u7684\u6807\u9898 1</h1> <button type=\"button\" onclick=\"document.getElementById('id1').style.color='red'\"> \u70b9\u6211!</button> </body> </html> \u56db\u3001HTML DOM \u4e8b\u4ef6 \u5bf9\u4e8b\u4ef6\u505a\u51fa\u53cd\u5e94 \u6211\u4eec\u53ef\u4ee5\u5728\u4e8b\u4ef6\u53d1\u751f\u65f6\u6267\u884c JavaScript\uff0c\u6bd4\u5982\u5f53\u7528\u6237\u5728 HTML \u5143\u7d20\u4e0a\u70b9\u51fb\u65f6\u3002 \u5982\u9700\u5728\u7528\u6237\u70b9\u51fb\u67d0\u4e2a\u5143\u7d20\u65f6\u6267\u884c\u4ee3\u7801\uff0c\u8bf7\u5411\u4e00\u4e2a HTML \u4e8b\u4ef6\u5c5e\u6027\u6dfb\u52a0 JavaScript \u4ee3\u7801\uff1a onclick= JavaScript HTML \u4e8b\u4ef6\u7684\u4f8b\u5b50\uff1a \u5f53\u7528\u6237\u70b9\u51fb\u9f20\u6807\u65f6 \u5f53\u7f51\u9875\u5df2\u52a0\u8f7d\u65f6 \u5f53\u56fe\u50cf\u5df2\u52a0\u8f7d\u65f6 \u5f53\u9f20\u6807\u79fb\u52a8\u5230\u5143\u7d20\u4e0a\u65f6 \u5f53\u8f93\u5165\u5b57\u6bb5\u88ab\u6539\u53d8\u65f6 \u5f53\u63d0\u4ea4 HTML \u8868\u5355\u65f6 \u5f53\u7528\u6237\u89e6\u53d1\u6309\u952e\u65f6 1\u3001onclick \u70b9\u51fb\u4e8b\u4ef6 onclick = javascript \u5b9e\u4f8b <!DOCTYPE html> <html> <body> <h1 onclick=\"this.innerHTML='lucky!'\">\u70b9\u51fb\u6587\u672c!</h1> </body> </html> \u672c\u4f8b\u4ece\u4e8b\u4ef6\u5904\u7406\u5668\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\uff1a onclick=\"changetext(this)\" \u5b9e\u4f8b <script> function changetext(id) { id.innerHTML=\"lucky!\"; } </script> </head> <body> <h1 onclick=\"changetext(this)\">\u70b9\u51fb\u6587\u672c!</h1> </body> </html> 2\u3001\u4f7f\u7528 HTML DOM \u6765\u5206\u914d\u4e8b\u4ef6 HTML DOM \u5141\u8bb8\u60a8\u4f7f\u7528 JavaScript \u6765\u5411 HTML \u5143\u7d20\u5206\u914d\u4e8b\u4ef6\uff1a \u5b9e\u4f8b \u5411 button \u5143\u7d20\u5206\u914d onclick \u4e8b\u4ef6\uff1a ```javascript \u70b9\u51fb\u6309\u94ae\u6267\u884c displayDate() \u51fd\u6570. \u70b9\u8fd9\u91cc document.getElementById(\"myBtn\").onclick=function(){displayDate()}; function displayDate(){ document.getElementById(\"demo\").innerHTML=Date(); } ``` \u963b\u6b62\u53f3\u952e\u83dc\u5355\u9ed8\u8ba4\u884c\u4e3a\uff1a \u5728\u4e4b\u524d\u4f7f\u7528event\u5bf9\u8c61\u7684button\u5c5e\u6027\u65f6, \u70b9\u51fb\u9f20\u6807\u53f3\u952e\u4f1a\u5f39\u51fa\u7cfb\u7edf\u83dc\u5355, \u5982\u679c\u6211\u4eec\u60f3\u8981\u521b\u5efa\u81ea\u5df1\u7684\u53f3\u952e\u83dc\u5355, \u5219\u9700\u8981\u5148\u963b\u6b62\u9ed8\u8ba4\u7684\u53f3\u952e\u83dc\u5355 javascript document.oncontextmenu = function(){ console.log(\"\u53f3\u952e\u88ab\u6309\u4e0b\"); return false; } \u4e0d\u4f7f\u7528\u76d1\u542c\u4e8b\u4ef6\u7684\u505c\u6b62\u4f20\u64ad(\u4e0d\u518d\u6d3e\u53d1\u4e8b\u4ef6) \u5f53\u6807\u7b7e\u8fdb\u884c\u5d4c\u5957\u65f6 event.stopPropagation();[pr\u0251p\u0259\u02c8\u0261e\u0283\u0259n] ```javascript onload = function(){ var divOne = document.getElementById('divOne'); var divTwo = document.getElementById('divTwo'); divOne.onclick = function(){ alert('\u70b9\u51fb\u4e86one'); } divTwo.onclick = function(e){ alert('\u70b9\u51fb\u4e86two'); e.stopPropagation();//\u505c\u6b62\u65f6\u95f4\u7684\u4f20\u64ad(\u4e0d\u5728\u6d3e\u53d1\u4e8b\u4ef6) } one two ``` e\u662f\u4e8b\u4ef6\uff0c\u5728firefox\u4e2d\u53ea\u80fd\u5728\u4e8b\u4ef6\u73b0\u573a\u4f7f\u7528window.event\uff0c\u6240\u4ee5\u53ea\u6709\u628aevent\u4f20\u7ed9\u51fd\u6570\u4f7f\u7528\u3002\u4e3a\u4e86\u517c\u5bb9[FF](https://www.baidu.com/s?wd=FF&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)\u548c\u5176\u5b83[\u6d4f\u89c8\u5668](https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)\uff0c\u4e00\u822c\u4f1a\u5728\u51fd\u6570\u91cc\u91cd\u65b0\u7ed9e\u8d4b\u503c\uff1a e = window.event || e; \u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679cwindow.event\u5b58\u5728\uff0c\u5219\u8be5[\u6d4f\u89c8\u5668](https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)\u652f\u6301\u76f4\u63a5\u4f7f\u7528window.event\uff0c\u5426\u5728\u5c31\u662f\u4e0d\u652f\u6301\uff0c\u4e0d\u652f\u6301\u5c31\u4f7f\u7528\u4f20\u8fdb\u6765\u7684e\u3002 e\u662fevent\uff0c\u5176\u4e2d\u5305\u542b\u9f20\u6807\u4e8b\u4ef6\u7684\u5404\u79cd\u4fe1\u606f event \u5bf9\u8c61\u4ee3\u8868\u4e8b\u4ef6\u7684\u72b6\u6001\uff0c\u6bd4\u5982\u4e8b\u4ef6\u5728\u5176\u4e2d\u53d1\u751f\u7684\u5143\u7d20\u3001\u952e\u76d8\u6309\u952e\u7684\u72b6\u6001\u3001\u9f20\u6807\u7684\u4f4d\u7f6e\u3001\u9f20\u6807\u6309\u94ae\u7684\u72b6\u6001\u3002 \u4e8b\u4ef6\u901a\u5e38\u4e0e\u51fd\u6570\u7ed3\u5408\u4f7f\u7528\uff0c\u51fd\u6570\u4e0d\u4f1a\u5728\u4e8b\u4ef6\u53d1\u751f\u524d\u88ab\u6267\u884c\uff01 ### 3\u3001onload \u548c onunload \u4e8b\u4ef6 onload \u4e8b\u4ef6\u4f1a\u5728\u9875\u9762\u6216\u56fe\u50cf\u52a0\u8f7d\u5b8c\u6210\u540e\u7acb\u5373\u53d1\u751f\u3002 onload \u548c onunload \u4e8b\u4ef6\u4f1a\u5728\u7528\u6237\u8fdb\u5165\u6216\u79bb\u5f00\u9875\u9762\u65f6\u88ab\u89e6\u53d1\u3002 onload \u4e8b\u4ef6\u53ef\u7528\u4e8e\u68c0\u6d4b\u8bbf\u95ee\u8005\u7684\u6d4f\u89c8\u5668\u7c7b\u578b\u548c\u6d4f\u89c8\u5668\u7248\u672c\uff0c\u5e76\u57fa\u4e8e\u8fd9\u4e9b\u4fe1\u606f\u6765\u52a0\u8f7d\u7f51\u9875\u7684\u6b63\u786e\u7248\u672c\u3002 onload \u548c onunload(\u4e86\u89e3) \u4e8b\u4ef6\u53ef\u7528\u4e8e\u5904\u7406 cookie\u3002 onunload \u5173\u95ed\u5f53\u524d\u9875\u9762\u7684\u64cd\u4f5c\u65f6\u5019\u7684\u64cd\u4f5c(\u4e86\u89e3) onload \u5b9e\u4f8b <script> onload = function() { console.log(document.getElementById('div')) } </script> <body> <div id=\"div\">one</div> </body> \u5b9e\u4f8b: <!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title></title> </head> <body onload=\"checkCookies()\"> <script> function checkCookies(){ if (navigator.cookieEnabled==true){ alert(\"Cookies \u53ef\u7528\") } else{ alert(\"Cookies \u4e0d\u53ef\u7528\") } } </script> <p>\u5f39\u7a97-\u63d0\u793a\u6d4f\u89c8\u5668 cookie \u662f\u5426\u53ef\u7528\u3002</p> </body> </html> ### 4\u3001onchange \u5f53\u6587\u672c\u6846(input\\select\u6216 textarea)\u5185\u5bb9\u6539\u53d8\u4e14\u5931\u53bb\u7126\u70b9\u540e\u89e6\u53d1\u3002 onchange \u4e8b\u4ef6\u5e38\u7ed3\u5408\u5bf9\u8f93\u5165\u5b57\u6bb5\u7684\u9a8c\u8bc1\u6765\u4f7f\u7528\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u5982\u4f55\u4f7f\u7528 onchange \u7684\u4f8b\u5b50\u3002\u5f53\u7528\u6237\u6539\u53d8\u8f93\u5165\u5b57\u6bb5\u7684\u5185\u5bb9\u65f6\uff0c\u4f1a\u8c03\u7528 upperCase() \u51fd\u6570\u3002 \u5b9e\u4f8b <script> function upperCase(){ var x=document.getElementById(\"fname\"); x.value=x.value.toUpperCase(); } </script> <body> <input type=\"text\" id=\"fname\" onchange=\"upperCase()\"> <select onchange=\"alert(this.value);\"> <option value=\"1\">\u5317\u4eac</option> </body> ---------------------------------------------------------------------------------------- <script> function upperCase(this){ this.value=this.value.toUpperCase(); } </script> <body> <input type=\"text\" id=\"fname\" onchange=\"upperCase(this)\"> </body> <input type=\"text\" id=\"fname\" onchange=\"this.value = this.value.toUpperCase();\"> onselect\uff1a\u5f53\u7528\u6237\u9009\u62e9\u6587\u672c\u6846(input \u6216 textarea)\u4e2d\u7684\u5185\u5bb9\u89e6\u53d1 <script> function showMsg(){ alert(\"\u60a8\u9009\u4e2d\u4e86\u4e00\u4e9b\u6587\u672c\uff01\"); } </script> </head> <body> \u4e00\u4e9b\u6587\u672c\uff1a<input type=\"text\" value=\"\u8bf7\u9009\u4e2d\u6211\uff01\" onselect=\"showMsg()\"> <p>\u51fd\u6570 showMsg() \u5728\u8f93\u5165\u5b57\u6bb5\u4e2d\u7684\u6587\u672c\u88ab\u9009\u4e2d\u65f6\u89e6\u53d1\u3002\u6b64\u51fd\u6570\u663e\u793a\u4e00\u6bb5\u6d88\u606f\u3002</p> \u8868\u5355\u9a8c\u8bc1 <!doctype html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Document</title> <script> /*\u70b9\u51fb\u4e0b\u62c9\u6846\u8fdb\u884c\u8c03\u7528 \u83b7\u53d6\u5f53\u524d\u7684\u503c*/ function get_val(v) { console.log(v) } /*\u70b9\u51fb\u6ce8\u518c\u8fdb\u884c\u9a8c\u8bc1*/ function check() { console.log(document.getElementById('address').value) return false; } </script> </head> <body> <form action=\"\" onsubmit=\"return check();\"> <select name=\"\" id=\"address\" onchange=\"get_val(this.value)\"> <option value=\"1001\">\u5317\u4eac</option> <option value=\"1002\">\u4e0a\u6d77</option> <option value=\"1003\">\u6df1\u5733</option> </select> <input type=\"submit\" value=\"submit\"> </form> </body> </html> ### 5\u3001 onfocus/onblur \u83b7\u53d6\u7126\u70b9/\u5931\u53bb\u7126\u70b9 \u8f93\u5165\u6846\u83b7\u53d6\u7126\u70b9 \u7684\u4e8b\u4ef6 \u5b9e\u4f8b: <script> function myFunction(x){ x.style.background=\"yellow\"; } </script> \u8f93\u5165\u4f60\u7684\u540d\u5b57: <input type=\"text\" onfocus=\"myFunction(this)\" onblur=\"this.style.backgroundColor='red'\"> <p>\u5f53\u8f93\u5165\u6846\u83b7\u53d6\u7126\u70b9\u65f6\uff0c\u4fee\u6539\u80cc\u666f\u8272\uff08background-color\u5c5e\u6027\uff09 \u5c06\u88ab\u89e6\u53d1\u3002</p> ### 6\u3001onmouseover \u548c onmouseout \u4e8b\u4ef6 onmouseover \u548c onmouseout \u4e8b\u4ef6\u53ef\u7528\u4e8e\u5728\u7528\u6237\u7684\u9f20\u6807\u79fb\u81f3 HTML \u5143\u7d20\u4e0a\u65b9\u6216\u79fb\u51fa\u5143\u7d20\u65f6\u89e6\u53d1\u51fd\u6570\u3002 \u5b9e\u4f8b: <div onmouseover=\"mOver(this)\" onmouseout=\"mOut(this)\" style=\"background-color:#D94A38;width:120px;height:20px;padding:40px;\">Mouse Over Me</div> <script> function mOver(obj){ obj.innerHTML=\"Thank You\" } function mOut(obj){ obj.innerHTML=\"Mouse Over Me\" } </script> ### 7\u3001onmouseenter \u548c onmouseleave \u4e8b\u4ef6 \u4e8b\u4ef6\u53ef\u7528\u4e8e\u5728\u7528\u6237\u7684\u9f20\u6807\u79fb\u81f3 HTML \u5143\u7d20\u4e0a\u65b9\u6216\u79fb\u51fa\u5143\u7d20\u65f6\u89e6\u53d1\u51fd\u6570\u3002 over \u548c enter\u7684\u533a\u522b 1. \u5982\u679c\u5143\u7d20\u6ca1\u6709\u5b50\u5143\u7d20\u7684\u65f6\u5019\uff0c\u6548\u679c\u5b8c\u5168\u4e00\u6837 2. \u5982\u679c\u5143\u7d20\u5305\u542b\u5b50\u5143\u7d20 \u5f53\u7531\u7236\u5143\u7d20\u8fdb\u5165\u5b50\u5143\u7d20\u7684\u65f6\u5019\uff0cover\u4f1a\u7ee7\u7eed\u89e6\u53d1 over\u5b9e\u9645\u4e0a\u53ea\u8981\u5728\u8de8\u8d8a\u8fb9\u754c\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u8fdb\u884c\u89e6\u53d1 + onmousemove \u9f20\u6807\u79fb\u52a8 **\u5b9e\u4f8b(\u5305\u542b\u4e86onmousemove onmouseenter. onmouseover)** ```javascript div { width: 100px; height: 100px; border: 1px solid black; margin: 10px; float: left; padding: 30px;d text-align: center; background-color: lightgray; } p { background-color: white; } \u8be5\u5b9e\u4f8b\u6f14\u793a\u4e86 onmousemove, onmouseenter \u548c onmouseover \u7684\u4e0d\u540c\u3002 onmousemove \u4e8b\u4ef6\u5728\u9f20\u6807\u79fb\u52a8\u5230 div \u5143\u7d20\u4e0a\u65f6\u89e6\u53d1\u3002 mouseenter \u4e8b\u4ef6\u4e2d\u6709\u5728\u9f20\u6807\u6307\u9488\u8fdb\u5165 div \u5143\u7d20\u65f6\u89e6\u53d1\u3002 onmouseover \u4e8b\u4ef6\u5728\u9f20\u6807\u6307\u9488\u8fdb\u5165 div \u5143\u7d20\u65f6\u89e6\u53d1,\u5728\u5b50\u5143\u7d20\u4e0a\u4e5f\u4f1a\u89e6\u53d1(p \u548c span)\u3002 onmousemove: \u9f20\u6807\u79fb\u52a8\u5230\u6211\u8fd9! onmouseenter: \u9f20\u6807\u79fb\u52a8\u5230\u6211\u8fd9! onmouseover: \u9f20\u6807\u79fb\u52a8\u5230\u6211\u8fd9! x = 0; y = 0; z = 0; function myMoveFunction() { document.getElementById(\"demo\").innerHTML = z+=1; } function myEnterFunction() { document.getElementById(\"demo2\").innerHTML = x+=1; } function myOverFunction() { document.getElementById(\"demo3\").innerHTML = y+=1; } ``` ### 8\u3001onmousedown\u3001onmouseup \u4ee5\u53ca onclick \u4e8b\u4ef6 onmousedown, onmouseup \u4ee5\u53ca onclick \u6784\u6210\u4e86\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6\u7684\u6240\u6709\u90e8\u5206\u3002\u9996\u5148\u5f53\u70b9\u51fb\u9f20\u6807\u6309\u94ae\u65f6\uff0c\u4f1a\u89e6\u53d1 onmousedown \u4e8b\u4ef6\uff0c\u5f53\u91ca\u653e\u9f20\u6807\u6309\u94ae\u65f6\uff0c\u4f1a\u89e6\u53d1 onmouseup \u4e8b\u4ef6\uff0c\u6700\u540e\uff0c\u5f53\u5b8c\u6210\u9f20\u6807\u70b9\u51fb\u65f6\uff0c\u4f1a\u89e6\u53d1 onclick \u4e8b\u4ef6\u3002 \u5b9e\u4f8b: <p onmousedown=\"this.innerHTML='mousedown'\" onmouseup=\"this.innerHTML='out\u4e86'\">\u70b9\u51fb</p> <h1 onclick=\"console.log(this)\" onmousedown=\"console.log('over')\" onmouseup=\"console.log('up')\">\u70b9\u51fb\u6587\u672c!</h1> ### 9\u3001\u4e8b\u4ef6\u5bf9\u8c61 event(\u9690\u85cf\u53c2\u6570) \u9f20\u6807\u4e8b\u4ef6 screenX:\u9f20\u6807\u4f4d\u7f6e\u76f8\u5bf9\u4e8e\u7528\u6237\u5c4f\u5e55\u6c34\u5e73\u504f\u79fb\u91cf screenY\u4e5f\u5c31\u662f\u5782\u76f4\u65b9\u5411\u7684 clientX:\u8ddfscreenX\u76f8\u6bd4\u5c31\u662f\u5c06\u53c2\u7167\u70b9\u6539\u6210\u4e86\u6d4f\u89c8\u5668\u5185\u5bb9\u533a\u57df\u7684\u5de6\u4e0a\u89d2 clientY: \u6d4f\u89c8\u5668\u53ef\u89c6\u533a\u57df\u7684y\u5750\u6807 \u4e0d\u4f1a\u968f\u7740\u6eda\u52a8\u6761\u7684\u6eda\u52a8\u800c\u6eda\u52a8 pageX\uff1a\u53c2\u7167\u70b9\u4e5f\u662f\u6d4f\u89c8\u5668\u5185\u5bb9\u533a\u57df\u7684\u5de6\u4e0a\u89d2 pageY: \u6d4f\u89c8\u5668\u5185\u5bb9\u533a\u57df\u7684y\u5750\u6807 \u4f1a\u968f\u7740\u6eda\u52a8\u6761\u7684\u6eda\u52a8\u800c\u6eda\u52a8 offsetX: \u9f20\u6807\u70b9\u51fb\u7684\u5143\u7d20\u4f4d\u7f6e\u8ddd\u79bb\u5143\u7d20\u5de6\u8fb9\u754c\u7684x\u5750\u6807 offsetY: \u9f20\u6807\u70b9\u51fb\u7684\u5143\u7d20\u4f4d\u7f6e\u8ddd\u79bb\u5143\u7d20\u4e0a\u8fb9\u754c\u7684y\u5750\u6807 \u4f8b\u5982: document.onmousedown= function(evt) { var e = evt ; console.log(e.clientX + ',' + e.clientY); console.log(e.screenX + ',' + e.screenY); console.log(e.pageX + \u201c,\u201d + e.pageY); }; ### 10\u3001\u952e\u76d8\u4e8b\u4ef6 + onkeydown \u952e\u76d8\u6309\u4f4f\u4e0d\u653e\u4f1a\u4e00\u76f4\u89e6\u53d1 \u4efb\u610f\u952e + onkeypress \u952e\u76d8\u6309\u4f4f\u4e0d\u653e\u4f1a\u4e00\u76f4\u89e6\u53d1 \u5b57\u7b26\u952e + onkeyup\uff1a\u5f53\u7528\u6237\u91ca\u653e\u952e\u76d8\u4e0a\u7684\u67d0\u4e2a\u952e\u89e6\u53d1\u3002 \u952e\u7801 : keyCode\u5c5e\u6027 \u200b \u6240\u6709\u6309\u952e(\u5305\u62ec\u529f\u80fd\u952econtrol, alt,shift, tab, \u65b9\u5411\u952e\u7b49, \u4e0d\u5305\u62ec\u4eae\u5ea6,\u97f3\u91cf..\u7684\u6309\u952e)\u5728\u53d1\u751f keydown\u548ckeyup \u4e8b\u4ef6\u65f6\uff0cevent\u5bf9\u8c61\u7684 keyCode\u5c5e\u6027\u4e2d\u4f1a\u5305\u542b\u4e00\u4e2a\u4ee3\u7801\uff0c\u4e0e\u952e\u76d8\u4e0a\u4e00\u4e2a\u7279\u5b9a\u7684\u952e\u5bf9\u5e94\u3002\u5bf9\u6570\u5b57\u5b57\u6bcd\u5b57\u7b26\u96c6\uff0ckeyCode\u5c5e\u6027\u7684\u503c\u4e0e ASCII \u7801\u4e2d\u5bf9\u5e94. document.onkeydown = function(evt) { var e = evt ; console.log(e.keyCode); //\u6309\u4efb\u610f\u952e\uff0c\u5f97\u5230\u76f8\u5e94\u7684 keyCode String.fromCharCode(e.keyCode) //\u83b7\u5bf9\u5e94\u5b57\u7b26 }; \u6ce8\u610f: \u5927\u5199\u5b57\u6bcd\u6216\u5c0f\u5199\u7684\u7f16\u7801\u76f8\u540c, \u90fd\u4e3a\u5927\u5199\u5b57\u6bcd\u3002 \u5b57\u7b26\u7f16\u7801: charCode\u5c5e\u6027 \u200b Firefox,Chrome\u548cSafari\u7684event\u5bf9\u8c61\u652f\u6301charCode\u5c5e\u6027,\u53ea\u6709\u6309\u4e0b\u5b57\u7b26\u952e\u5e76\u4e14\u4f7f\u7528keypress\u4e8b\u4ef6\u65f6\u624d\u4f1a\u5f97\u5230charCode,\u8fd9\u4e2acharCode\u7684\u503c\u548cUniCode\u7801\u5bf9\u5e94,\u548ckeyCode\u4e5f\u7c7b\u4f3c,\u4f46\u662fcharCode\u7684\u5b57\u6bcd\u533a\u5206\u5927\u5c0f\u5199.(\u5b57\u7b26\u952e:\u6570\u5b57,\u5b57\u6bcd(\u533a\u5206\u5927\u5c0f\u5199),\u5b57\u7b26,\u7a7a\u683c,\u56de\u8f66) **\u5b9e\u4f8b** document.onkeypress =function(evt) { var e= evt ; console.log(e.charCode); } \u6ce8\uff1a\u53ef\u4ee5\u4f7f\u7528String.fromCharCode()\u5c06 Unicode\u7f16\u7801\u8f6c\u6362\u6210\u5b9e\u9645\u7684\u5b57\u7b26 ### 11\u3001HTML DOM EventListener \u4e8b\u4ef6\u76d1\u542c \u53ef\u4ee5\u5bf9\u4e00\u4e2aelement\u7ed1\u5b9a\u591a\u4e2a\u540c\u6837\u7684\u4e8b\u4ef6 \u4e14\u4e0d\u4f1a\u88ab\u8986\u76d6 + addEventListener() \u65b9\u6cd5 \u8bed\u6cd5 ##### *element*.addEventListener(*event, function, useCapture*); \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u7c7b\u578b (\u5982 \"click\" \u6216 \"mousedown\"). \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u89e6\u53d1\u540e\u8c03\u7528\u7684\u51fd\u6570\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u4e2a\u5e03\u5c14\u503c\u7528\u4e8e\u63cf\u8ff0\u4e8b\u4ef6\u662f\u5192\u6ce1\u8fd8\u662f\u6355\u83b7\u3002\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002 + \u5b9e\u4f8b: \u5728\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\u89e6\u53d1\u76d1\u542c\u4e8b\u4ef6\uff1a ```javascript //\u4f7f\u7528\u51fd\u6570\u540d\uff0c\u6765\u5f15\u7528\u5916\u90e8\u51fd\u6570: \u8be5\u5b9e\u4f8b\u4f7f\u7528 addEventListener() \u65b9\u6cd5\u5728\u6309\u94ae\u4e2d\u6dfb\u52a0\u70b9\u51fb\u4e8b\u4ef6\u3002 \u70b9\u6211 document.getElementById(\"myBtn\").addEventListener(\"click\", displayDate); function displayDate() { document.getElementById(\"demo\").innerHTML = Date(); } //\u76f4\u63a5\u6dfb\u52a0\u51fd\u6570\u4f53 element.addEventListener(\"click\", function(){ alert(\"Hello World!\"); }); //\u4e0d\u4f7f\u7528\u4e8b\u4ef6\u76d1\u542c\u7684\u60c5\u51b5 window.onload = function(){ var btn = document.getElementById(\"myBtn\"); btn.onclick = function(){ alert(\"\u7b2c\u4e00\u4e2a\u4e8b\u4ef6\"); } btn.onclick = function(){ alert(\"\u7b2c\u4e8c\u4e2a\u4e8b\u4ef6\"); } btn.onclick = function(){ alert(\"\u7b2c\u4e09\u4e2a\u4e8b\u4ef6\"); } } \u6700\u540e\u53ea\u8f93\u51fa\uff1a\u7b2c\u4e09\u4e2a\u4e8b\u4ef6\uff0c\u56e0\u4e3a\u540e\u4e00\u4e2a\u65b9\u6cd5\u90fd\u628a\u524d\u4e00\u4e2a\u65b9\u6cd5\u8986\u76d6\u6389\u4e86 ``` + \u5411\u540c\u4e00\u4e2a\u5143\u7d20\u4e2d\u6dfb\u52a0\u591a\u4e2a\u4e8b\u4ef6\u53e5\u67c4 \u6ce8\u610f:\u4e0d\u8981\u4f7f\u7528 \"on\" \u524d\u7f00\u3002 \u4f8b\u5982\uff0c\u4f7f\u7528 \"click\" ,\u800c\u4e0d\u662f\u4f7f\u7528 \"onclick\"\u3002 addEventListener() \u65b9\u6cd5\u5141\u8bb8\u5411\u540c\u4e00\u4e2a\u5143\u7d20\u6dfb\u52a0\u591a\u4e2a\u4e8b\u4ef6\uff0c\u4e14\u4e0d\u4f1a\u8986\u76d6\u5df2\u5b58\u5728\u7684\u4e8b\u4ef6\uff1a + \u5b9e\u4f8b ```javascript element.addEventListener(\"click\", myFunction); element.addEventListener(\"click\", mySecondFunction); ``` \u4f60\u53ef\u4ee5\u5411\u540c\u4e2a\u5143\u7d20\u6dfb\u52a0\u4e0d\u540c\u7c7b\u578b\u7684\u4e8b\u4ef6\uff1a + \u5b9e\u4f8b ```javascript element.addEventListener(\"mouseover\", myFunction); element.addEventListener(\"click\", mySecondFunction); element.addEventListener(\"mouseout\", myThirdFunction); ``` + \u5411 Window \u5bf9\u8c61\u6dfb\u52a0\u4e8b\u4ef6\u53e5\u67c4 addEventListener() \u65b9\u6cd5\u5141\u8bb8\u4f60\u5728 HTML DOM \u5bf9\u8c61\u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\uff0c HTML DOM \u5bf9\u8c61\u5982\uff1a HTML \u5143\u7d20, HTML \u6587\u6863, window \u5bf9\u8c61\u3002\u6216\u8005\u5176\u4ed6\u652f\u51fa\u7684\u4e8b\u4ef6\u5bf9\u8c61\u5982: xmlHttpRequest \u5bf9\u8c61\u3002 + \u5b9e\u4f8b \u5f53\u7528\u6237\u91cd\u7f6e\u7a97\u53e3\u5927\u5c0f\u65f6\u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\uff1a ```javascript window.addEventListener(\"resize\", function(){ document.getElementById(\"demo\").innerHTML = document.body.scrollWidth+''+document.body.scrollHeight; }); ``` + \u4f20\u9012\u53c2\u6570 \u5f53\u4f20\u9012\u53c2\u6570\u503c\u65f6\uff0c\u4f7f\u7528\"\u533f\u540d\u51fd\u6570\"\u8c03\u7528\u5e26\u53c2\u6570\u7684\u51fd\u6570\uff1a <button id=\"myBtn\">\u70b9\u6211</button> <p id=\"demo\"></p> <script> var p1 = 5; var p2 = 7; document.getElementById(\"myBtn\").addEventListener(\"click\", function() { myFunction(p1, p2); }); function myFunction(a, b) { var result = a * b; document.getElementById(\"demo\").innerHTML = result; } </script> + \u4e8b\u4ef6\u5192\u6ce1\u6216\u4e8b\u4ef6\u6355\u83b7\uff1f \u4e8b\u4ef6\u4f20\u9012\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u5192\u6ce1\u4e0e\u6355\u83b7\u3002 \u4e8b\u4ef6\u4f20\u9012\u5b9a\u4e49\u4e86\u5143\u7d20\u4e8b\u4ef6\u89e6\u53d1\u7684\u987a\u5e8f\u3002 \u5982\u679c\u4f60\u5c06\\ \u5143\u7d20\u63d2\u5165\u5230 \\ \u5143\u7d20\u4e2d\uff0c\u7528\u6237\u70b9\u51fb \\ \u5143\u7d20, \u54ea\u4e2a\u5143\u7d20\u7684 \"click\" \u4e8b\u4ef6\u5148\u88ab\u89e6\u53d1\u5462\uff1f \u5728 *\u5192\u6ce1* \u4e2d\uff0c\u5185\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\u4f1a\u5148\u88ab\u89e6\u53d1\uff0c\u7136\u540e\u518d\u89e6\u53d1\u5916\u90e8\u5143\u7d20\uff0c\u5373\uff1a\\ \u5143\u7d20\u7684\u70b9\u51fb\u4e8b\u4ef6\u5148\u89e6\u53d1\uff0c\u7136\u540e\u4f1a\u89e6\u53d1 \\ \u5143\u7d20\u7684\u70b9\u51fb\u4e8b\u4ef6\u3002 \u5728 *\u6355\u83b7* \u4e2d\uff0c\u5916\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\u4f1a\u5148\u88ab\u89e6\u53d1\uff0c\u7136\u540e\u624d\u4f1a\u89e6\u53d1\u5185\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\uff0c\u5373\uff1a \\ \u5143\u7d20\u7684\u70b9\u51fb\u4e8b\u4ef6\u5148\u89e6\u53d1 \uff0c\u7136\u540e\u518d\u89e6\u53d1 \\ \u5143\u7d20\u7684\u70b9\u51fb\u4e8b\u4ef6\u3002 addEventListener() \u65b9\u6cd5\u53ef\u4ee5\u6307\u5b9a \"useCapture\" \u53c2\u6570\u6765\u8bbe\u7f6e\u4f20\u9012\u7c7b\u578b\uff1a addEventListener(*event*, *function*, *useCapture*); \u9ed8\u8ba4\u503c\u4e3a false, \u5373\u5192\u6ce1\u4f20\u9012\uff0c\u5f53\u503c\u4e3a true \u65f6, \u4e8b\u4ef6\u4f7f\u7528\u6355\u83b7\u4f20\u9012\u3002 \u5b9e\u4f8b: <!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <style> div { background-color: coral; border: 1px solid; padding: 50px; } </style> </head> <body> <p>\u5b9e\u4f8b\u6f14\u793a\u4e86\u5728\u6dfb\u52a0\u4e0d\u540c\u4e8b\u4ef6\u76d1\u542c\u65f6\uff0c\u5192\u6ce1\u4e0e\u6355\u83b7\u7684\u4e0d\u540c\u3002</p> <div id=\"myDiv\"> <p id=\"myP\">\u70b9\u51fb\u6bb5\u843d\uff0c\u6211\u662f\u5192\u6ce1\u3002</p> </div><br> <div id=\"myDiv2\"> <p id=\"myP2\">\u70b9\u51fb\u6bb5\u843d\uff0c\u6211\u662f\u6355\u83b7\u3002 </p> </div> <script> document.getElementById(\"myP\").addEventListener(\"click\", function() { alert(\"\u4f60\u70b9\u51fb\u4e86 P \u5143\u7d20!\"); }, false); document.getElementById(\"myDiv\").addEventListener(\"click\", function() { alert(\" \u4f60\u70b9\u51fb\u4e86 DIV \u5143\u7d20 !\"); }, false); document.getElementById(\"myP2\").addEventListener(\"click\", function() { alert(\"\u4f60\u70b9\u51fb\u4e86 P2 \u5143\u7d20!\"); }, true); document.getElementById(\"myDiv2\").addEventListener(\"click\", function() { alert(\"\u4f60\u70b9\u51fb\u4e86 DIV2 \u5143\u7d20 !\"); }, true); </script> </body> </html> \u7ec4\u7ec7\u5f53\u6807\u7b7e\u5d4c\u5957\u65f6\u5019\u7684\u5192\u6ce1\u6269\u6563 <script> onload = function () { var divOne = document.getElementById('div_one'); var divTwo = document.getElementById('div_two'); divOne.style.cssText = 'width:100%;height:400px;background-color:red;'; divTwo.style.cssText = 'width:100%;height:200px;background-color:green;'; divOne.addEventListener('click',function (evt) { console.log('\u7ea2') }) divTwo.addEventListener('click',function (evt) { console.log('\u7eff') evt.stopPropagation();//\u963b\u6b62\u6269\u6563 }) }; </script> </head> <body> <div id=\"div_one\"> <div id=\"div_two\"></div> </div> </body> </html> + removeEventListener() \u65b9\u6cd5 removeEventListener() \u65b9\u6cd5\u79fb\u9664\u7531 addEventListener() \u65b9\u6cd5\u6dfb\u52a0\u7684\u4e8b\u4ef6\u53e5\u67c4: *element*.removeEventListener(\"mousemove\", myFunction); \u5b9e\u4f8b ```javascript #myDIV { background-color: coral; border: 1px solid; padding: 50px; color: white; } div \u5143\u7d20\u6dfb\u52a0\u4e86 onmousemove \u4e8b\u4ef6\u53e5\u67c4\uff0c\u9f20\u6807\u5728\u6854\u7ea2\u8272\u7684\u6846\u5185\u79fb\u52a8\u65f6\u4f1a\u663e\u793a\u968f\u673a\u6570\u3002 \u70b9\u51fb\u6309\u94ae\u79fb\u9664 DIV \u7684\u4e8b\u4ef6\u53e5\u67c4\u3002 \u70b9\u6211 document.getElementById(\"myDIV\").addEventListener(\"mousemove\", myFunction); function myFunction() { document.getElementById(\"demo\").innerHTML = Math.random(); document.getElementById(\"demo\").style.backgroundColor = 'rgb('+Math.floor(255*Math.random())+','+Math.floor(255*Math.random())+','+Math.floor(255*Math.random()); } function removeHandler() { document.getElementById(\"myDIV\").removeEventListener(\"mousemove\", myFunction); } ``` ### 12\u3001HTML DOM \u5143\u7d20(\u8282\u70b9) \u521b\u5efa\u65b0\u7684 HTML \u5143\u7d20 \u5982\u9700\u5411 HTML DOM \u6dfb\u52a0\u65b0\u5143\u7d20\uff0c\u60a8\u5fc5\u987b\u9996\u5148\u521b\u5efa\u8be5\u5143\u7d20\uff08\u5143\u7d20\u8282\u70b9\uff09\uff0c\u7136\u540e\u5411\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u5143\u7d20\u8ffd\u52a0\u8be5\u5143\u7d20\u3002 1. \u521b\u5efa\u8282\u70b9 document.createElement('\u6807\u7b7e\u540d') 2. \u521b\u5efa\u6587\u672c\u8282\u70b9 document.createTextNode(\"\u6587\u672c\u5185\u5bb9\") 3. \u6dfb\u52a0\u8282\u70b9 \u8282\u70b9\u540d.appendChild(\"node\") \u6216\u8005 \u8282\u70b9\u540d.innerText = '\u6587\u672c\u7684\u5185\u5bb9'; 4. \u4ece\u7236\u5143\u7d20\u4e2d\u5220\u9664\u5b50\u5143\u7d20 parent.removeChild(child); \u4f8b\u5982: var child=document.getElementById(\"p1\"); child.parentNode.removeChild(child); ul.removeChild(ul.lastElementChild);//\u5220\u9664\u8282\u70b9 5. cloneNode() \u65b9\u6cd5 \u5b9a\u4e49\u548c\u7528\u6cd5 cloneNode() \u65b9\u6cd5\u521b\u5efa\u8282\u70b9\u7684\u62f7\u8d1d\uff0c\u5e76\u8fd4\u56de\u8be5\u526f\u672c\u3002 cloneNode(true) \u65b9\u6cd5\u514b\u9686\u6240\u6709\u5c5e\u6027\u4ee5\u53ca\u5b83\u4eec\u7684\u503c\u3002 \u5982\u679c\u60a8\u9700\u8981\u514b\u9686\u6240\u6709\u540e\u4ee3\uff0c\u8bf7\u628a deep \u53c2\u6570\u8bbe\u7f6e true\uff0c\u5426\u5219\u8bbe\u7f6e\u4e3a false\u3002 **\u5b9e\u4f8b** ```javascript 1 2 3 4 var node = document.getElementsByTagName('ul')[0]; var node1 = document.getElementsByTagName('ul')[1]; var newLi = document.createElement('li') newLi.innerText = '\u65b0\u7684' l = node.children.length; for(var i=0;i<l;i++){ var x = node.children[i].cloneNode(true); node1.appendChild(x) } ``` 6. element.replaceChild() \u66ff\u6362\u5143\u7d20\u4e2d\u7684\u5b50\u8282\u70b9 ```javascript document.getElementById(\"myList\").replaceChild(newnode,oldnode); ``` **\u5b9e\u4f8b** ```javascript document.getElementById(\"ul\").replaceChild(document.getElementsByTagName('li')[1] ,document.getElementsByTagName('li')[0]); ``` 7. \u83b7\u53d6\u7236\u8282\u70b9 node.parentNode 8. \u83b7\u53d6\u7236\u7c7b\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9/\u6700\u540e\u4e00\u4e2a node.parentNode.firstChild \u5982\u679c\u7236\u7c7b\u6362\u884c\u624d\u662f\u7b2c\u4e00\u4e2a\u5b50\u6807\u7b7e \u90a3\u4e48\u4f1a\u662f\u7a7a\u767d node.parentNode.lastChild \u83b7\u53d6\u6700\u540e\u4e00\u4e2a\u8282\u70b9 ```javascript firstChild//\u7b2c\u4e00\u4e2aHTML\u5b58\u5728\u6362\u884c\u5219\u4f1a\u83b7\u53d6\u7a7a\u767d\u8282\u70b9 lastChild//\u6700\u540e\u4e00\u4e2aHTML\u5b58\u5728\u6362\u884c\u5219\u4f1a\u83b7\u53d6\u7a7a\u767d\u8282\u70b9 firstElementChild lastElementChild ``` \u6ce8\u610f:\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u662f\u7a7a\u767d\u8282\u70b9 \u539f\u56e0\u662f \u4ee3\u7801\u6362\u884c \u5982\u679c\u4e0d\u6362\u884c\u7b2c\u4e00\u4e2a\u5c31\u662f\u6b63\u5e38\u7684\u6807\u7b7e 9. \u524d\u4e00\u4e2a\u540c\u80de\u8282\u70b9 previousSibling \u5982\u679c\u524d\u4e00\u4e2aHTML\u5b58\u5728\u6362\u884c\u5219\u4f1a\u83b7\u53d6\u7a7a\u767d\u8282\u70b9 previousElementSibling \u524d\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\u662f\u5426\u6362\u884c\u4e0d\u4f1a\u9020\u6210\u5f71\u54cd \u6ce8\u91ca\uff1a\u5982\u679c\u6ca1\u6709 previousSibling \u8282\u70b9\uff0c\u5219\u8fd4\u56de\u503c\u662f null\u3002 10. \u540e\u4e00\u4e2a\u540c\u80de\u8282\u70b9 nextElementSibling \u540e\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\u662f\u5426\u6362\u884c\u4e0d\u4f1a\u9020\u6210\u5f71\u54cd 11. \u83b7\u53d6\u6240\u6709\u5b50\u8282\u70b9 node.children 12. \u8fd4\u56de\u5143\u7d20\u7684\u6807\u7b7e\u540d\u3002 element.tagName 13. \u4ece\u5143\u7d20\u4e2d\u79fb\u9664\u6307\u5b9a\u5c5e\u6027 removeAttribute(name) ```javascript console.log(document.getElementById(\"ul\").removeAttribute('id')); ``` 14. \u5728\u6307\u5b9a\u7684\u5df2\u6709\u7684\u5b50\u8282\u70b9\u4e4b\u524d\u63d2\u5165\u65b0\u8282\u70b9\u3002 element.insertBefore(\u65b0\u7684\u8282\u70b9,\u63d2\u5165\u8282\u70b9\u7684\u4f4d\u7f6e) ```javascript Coffee Tea \u8bf7\u70b9\u51fb\u6309\u94ae\u5411\u5217\u8868\u63d2\u5165\u4e00\u4e2a\u9879\u76ee\u3002 \u8bd5\u4e00\u4e0b function myFunction() { var newItem=document.createElement(\"LI\") var textnode=document.createTextNode(\"Water\") newItem.appendChild(textnode) var list=document.getElementById(\"myList\") list.insertBefore(newItem,list.childNodes[0]); } ``` \u8282\u70b9\u6dfb\u52a0 \u5b9e\u4f8b <div id=\"div1\"> <p id=\"p1\">\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d\u3002</p> <p id=\"p2\">\u8fd9\u662f\u53e6\u4e00\u4e2a\u6bb5\u843d\u3002</p> </div> <script> var para=document.createElement(\"p\"); var node=document.createTextNode(\"\u8fd9\u662f\u4e00\u4e2a\u65b0\u6bb5\u843d\u3002\"); para.appendChild(node); var element=document.getElementById(\"div1\"); element.appendChild(para); </script> ## \u4e94\u3001JavaScript \u8868\u5355\u9a8c\u8bc1(\u4e86\u89e3) **\u8bf4\u660e\uff1a**JavaScript \u53ef\u7528\u6765\u5728\u6570\u636e\u88ab\u9001\u5f80\u670d\u52a1\u5668\u524d\u5bf9 HTML \u8868\u5355\u4e2d\u7684\u8fd9\u4e9b\u8f93\u5165\u6570\u636e\u8fdb\u884c\u9a8c\u8bc1\u3002 ### (1) \u5fc5\u586b\uff08\u6216\u5fc5\u9009\uff09\u9879\u76ee \u4e0b\u9762\u7684\u51fd\u6570\u7528\u6765\u68c0\u67e5\u7528\u6237\u662f\u5426\u5df2\u586b\u5199\u8868\u5355\u4e2d\u7684\u5fc5\u586b\uff08\u6216\u5fc5\u9009\uff09\u9879\u76ee\u3002\u5047\u5982\u5fc5\u586b\u6216\u5fc5\u9009\u9879\u4e3a\u7a7a\uff0c\u90a3\u4e48\u8b66\u544a\u6846\u4f1a\u5f39\u51fa\uff0c\u5e76\u4e14\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4e3a false\uff0c\u5426\u5219\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5219\u4e3a true\uff08\u610f\u5473\u7740\u6570\u636e\u6ca1\u6709\u95ee\u9898\uff09\uff1a function validateForm() { var x=document.forms[\"myForm\"][\"fname\"].value; \u6216\u8005 document['myForm'].fname.value if (x==null || x==\"\") { alert(\"\u59d3\u5fc5\u987b\u586b\u5199\"); return false; } } \u4ee5\u4e0a\u51fd\u6570\u5728 form \u8868\u5355\u63d0\u4ea4\u65f6\u88ab\u8c03\u7528: **\u5b9e\u4f8b** <form name=\"myForm\" action=\"demo-form.php\" onsubmit=\"return validateForm()\" method=\"post\">\u59d3: <input type=\"text\" name=\"fname\"><input type=\"submit\" value=\"\u63d0\u4ea4\"></form> \u6216\u8005 <input type=\"submit\" value=\"\u63d0\u4ea4\" onclick=\"return \u51fd\u6570\u540d();\"> function \u51fd\u6570\u540d(){ return false; } ### (2)E-mail \u9a8c\u8bc1 \u4e0b\u9762\u7684\u51fd\u6570\u68c0\u67e5\u8f93\u5165\u7684\u6570\u636e\u662f\u5426\u7b26\u5408\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7684\u57fa\u672c\u8bed\u6cd5\u3002 \u610f\u601d\u5c31\u662f\u8bf4\uff0c\u8f93\u5165\u7684\u6570\u636e\u5fc5\u987b\u5305\u542b @ \u7b26\u53f7\u548c\u70b9\u53f7(.)\u3002\u540c\u65f6\uff0c@ \u4e0d\u53ef\u4ee5\u662f\u90ae\u4ef6\u5730\u5740\u7684\u9996\u5b57\u7b26\uff0c\u5e76\u4e14 @ \u4e4b\u540e\u9700\u6709\u81f3\u5c11\u4e00\u4e2a\u70b9\u53f7\uff1a function validateForm(){ var x=document.forms[\"myForm\"][\"email\"].value; var atpos=x.indexOf(\"@\"); var dotpos=x.lastIndexOf(\".\"); if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length){ alert(\"\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684 e-mail \u5730\u5740\"); return false; } } \u4e0b\u9762\u662f\u8fde\u540c HTML \u8868\u5355\u7684\u5b8c\u6574\u4ee3\u7801\uff1a \u5b9e\u4f8b <form name=\"myForm\" action=\"demo-form.php\" onsubmit=\"return validateForm();\" method=\"post\"> Email: <input type=\"text\" name=\"email\"> <input type=\"submit\" value=\"\u63d0\u4ea4\"> </form> ### (3)\u8868\u5355\u5e38\u7528\u5c5e\u6027 1. required=\"required\" \u89c4\u5b9a\u8f93\u5165\u5143\u7d20\u5b57\u6bb5\u662f\u5fc5\u9700\u7684 2. autofocus \u81ea\u52a8\u83b7\u53d6\u7126\u70b9 3. \\ pattern \u5c5e\u6027 pattern \u5c5e\u6027\u63cf\u8ff0\u4e86\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7528\u4e8e\u9a8c\u8bc1 \u5143\u7d20\u7684\u503c\u3002 **\u6ce8\u610f:**pattern \u5c5e\u6027\u9002\u7528\u4e8e\u4ee5\u4e0b\u7c7b\u578b\u7684 \u6807\u7b7e: text, search, url, tel, email, \u548c password. **\u63d0\u793a\uff1a** \u662f\u7528\u6765\u5168\u5c40 [title](http://www.runoob.com/tags/tag-title.html) \u5c5e\u6027\u63cf\u8ff0\u4e86\u6a21\u5f0f. ```html ``` ### (4)\u9a8c\u8bc1\u8868\u5355\u5b9e\u4f8b <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <script> //return false \u53ef\u4ee5\u963b\u6b62\u8868\u5355\u7684\u63d0\u4ea4 function myCheck() { //\u9a8c\u8bc1\u7528\u6237\u540d var myform = document.forms['myform']['username'].value; var userNameBool = Boolean(myform.match(/^1[3-8][0-9]{9}$/)) if(!userNameBool){ var span = document.createElement('span'); var text = document.createTextNode('\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d') span.style.color = \"red\"; span.appendChild(text) userNameP = document.forms['myform']['username'].parentNode;//\u83b7\u53d6\u5f53\u524d\u7528\u6237\u540d\u7684\u7236\u8282\u70b9p\u6807\u7b7e if(userNameP.lastChild.tagName!='SPAN'){ userNameP.appendChild(span); } return false; } } //\u5f53\u9f20\u6807\u83b7\u53d6\u5230username\u6587\u672c\u6846\u7684\u65f6\u5019 \u8c03\u7528\u7684\u65b9\u6cd5 \u5982\u679c\u5b58\u5728\u6700\u540e\u4e00\u4e2a\u63d0\u793a\u4fe1\u606f\u7684span\u5219\u8fdb\u884c\u79fb\u9664 function myUserNameFocuc(obj){ if(obj.parentNode.lastChild.tagName=='SPAN'){ obj.parentNode.removeChild(obj.parentNode.lastChild); } } </script> </head> <body> <form action=\"\" name=\"myform\" method=\"post\" onsubmit=\"return myCheck();\"> <p><input type=\"text\" name=\"username\" onfocus=\"myUserNameFocuc(this)\" autofocus>\u7528\u6237\u540d</p> <p><input type=\"password\" name=\"userpassword\">\u5bc6\u7801</p> <p><input type=\"text\" pattern=\"[A-Za-z]{3}\"></p> <p><input type=\"submit\" value=\"\u63d0\u4ea4\"></p> </form> </body> </html> ### (5) \u8d85\u94fe\u63a5\u63d0\u4ea4\u8868\u5355 <form name='form1' action='1111.html' method='get'> <input type='hidden' name='page' value='1'/> <input type='hidden' name='hiddenA' value='A'/> <a href='javascript:document[\"form1\"].submit();'><font color='#000000'>\u9996\u9875</font></a> </form> lucky\u51fa\u54c1 \u5fc5\u5c5e\u7cbe\u54c1","title":"\u4e8c\u5341\u4e94\u3001DOM\u64cd\u4f5c"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#dom","text":"\u5f53\u7f51\u9875\u88ab\u52a0\u8f7d\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u521b\u5efa\u9875\u9762\u7684\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff08Document Object Model\uff09\u3002 HTML DOM \u6a21\u578b\u88ab\u6784\u9020\u4e3a \u5bf9\u8c61 \u7684\u6811 DOM\u6811 \u901a\u8fc7\u53ef\u7f16\u7a0b\u7684\u5bf9\u8c61\u6a21\u578b\uff0cJavaScript \u83b7\u5f97\u4e86\u8db3\u591f\u7684\u80fd\u529b\u6765\u521b\u5efa\u52a8\u6001\u7684 HTML\u3002 JavaScript \u80fd\u591f\u6539\u53d8\u9875\u9762\u4e2d\u7684\u6240\u6709 HTML \u5143\u7d20 JavaScript \u80fd\u591f\u6539\u53d8\u9875\u9762\u4e2d\u7684\u6240\u6709 HTML \u5c5e\u6027 JavaScript \u80fd\u591f\u6539\u53d8\u9875\u9762\u4e2d\u7684\u6240\u6709 CSS \u6837\u5f0f JavaScript \u80fd\u591f\u5bf9\u9875\u9762\u4e2d\u7684\u6240\u6709\u4e8b\u4ef6\u505a\u51fa\u53cd\u5e94","title":"\u4e8c\u5341\u4e94\u3001DOM\u64cd\u4f5c"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#html","text":"\u901a\u5e38\uff0c\u901a\u8fc7 JavaScript\uff0c\u60a8\u9700\u8981\u64cd\u4f5c HTML \u5143\u7d20\u3002 \u4e3a\u4e86\u505a\u5230\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u60a8\u5fc5\u987b\u9996\u5148\u627e\u5230\u8be5\u5143\u7d20\u3002\u6709\u4e09\u79cd\u65b9\u6cd5\u6765\u505a\u8fd9\u4ef6\u4e8b\uff1a \u901a\u8fc7 id \u627e\u5230 HTML \u5143\u7d20 \u901a\u8fc7\u6807\u7b7e\u540d\u627e\u5230 HTML \u5143\u7d20 \u901a\u8fc7\u7c7b\u540d\u627e\u5230 HTML \u5143\u7d20","title":"\u4e00\u3001\u67e5\u627e HTML \u5143\u7d20"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#1-id-html","text":"\u5728 DOM \u4e2d\u67e5\u627e HTML \u5143\u7d20\u7684\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u662f\u901a\u8fc7\u4f7f\u7528\u5143\u7d20\u7684 id\u3002 \u672c\u4f8b\u67e5\u627e id=\"intro\" \u5143\u7d20\uff1a \u5b9e\u4f8b var x=document.getElementById(\"intro\"); \u5982\u679c\u627e\u5230\u8be5\u5143\u7d20\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u4ee5\u5bf9\u8c61\uff08\u5728 x \u4e2d\uff09\u7684\u5f62\u5f0f\u8fd4\u56de\u8be5\u5143\u7d20\u3002 \u5982\u679c\u672a\u627e\u5230\u8be5\u5143\u7d20\uff0c\u5219 x \u5c06\u5305\u542b null","title":"1\u3001\u901a\u8fc7 id \u67e5\u627e HTML \u5143\u7d20"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#2-html","text":"\u672c\u4f8b\u67e5\u627e id=\"main\" \u7684\u5143\u7d20\uff0c\u7136\u540e\u67e5\u627e id=\"main\" \u5143\u7d20\u4e2d\u7684\u6240\u6709 \u5143\u7d20\uff1a \u5b9e\u4f8b var x=document.getElementById(\"main\"); var y=x.getElementsByTagName(\"p\");","title":"2\u3001\u901a\u8fc7\u6807\u7b7e\u540d\u67e5\u627e HTML \u5143\u7d20"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#3-html","text":"\u672c\u4f8b\u901a\u8fc7 getElementsByClassName \u51fd\u6570\u6765\u67e5\u627e class=\"intro\" \u7684\u5143\u7d20\uff1a \u5b9e\u4f8b var x=document.getElementsByClassName(\"intro\");","title":"3\u3001\u901a\u8fc7\u7c7b\u540d\u627e\u5230 HTML \u5143\u7d20"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#4name-html","text":"\u672c\u4f8b\u901a\u8fc7 getElementsByName \u51fd\u6570\u6765\u67e5\u627e name=\"username\" \u7684\u5143\u7d20\uff1a \u5b9e\u4f8b <script> onload = function () { var name = document.getElementsByName('username')[0]; name.value = 123 console.log(name); } </script> <input type=\"text\" name=\"username\">","title":"4\u3001\u901a\u8fc7name\u540d\u627e\u5230 HTML \u5143\u7d20"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#5-css","text":"document.querySelector \u662f JavaScript \u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7528\u4e8e\u5728\u6587\u6863\u4e2d\u9009\u62e9\u5339\u914d\u7279\u5b9a CSS \u9009\u62e9\u5668\u7684\u5143\u7d20\u3002 \u4f7f\u7528 document.querySelector \u65b9\u6cd5\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a document.querySelector(css\u9009\u62e9\u5668) \u5176\u4e2d\uff0c css\u9009\u62e9\u5668 \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8981\u9009\u62e9\u7684\u5143\u7d20\u7684CSS\u9009\u62e9\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u6807\u7b7e\u540d\u3001\u7c7b\u540d\u3001ID\u3001\u5c5e\u6027\u7b49\u6765\u6307\u5b9a\u5143\u7d20\u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56de null \u3002 \u4ee5\u4e0b\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a \u901a\u8fc7\u6807\u7b7e\u540d\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\"div\"); \u901a\u8fc7\u7c7b\u540d\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\".my-class\"); \u901a\u8fc7ID\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\"#my-id\"); \u901a\u8fc7\u5c5e\u6027\u9009\u62e9\u5143\u7d20\uff1a var element = document.querySelector(\"[name='my-name']\"); \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c document.querySelector \u53ea\u4f1a\u8fd4\u56de\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\u5982\u679c\u8981\u9009\u62e9\u6240\u6709\u5339\u914d\u7684\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528 document.querySelectorAll \u65b9\u6cd5\u3002","title":"5. \u901a\u8fc7css\u9009\u62e9\u5668\u8fdb\u884c\u67e5\u627e"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#html-dom-html","text":"","title":"\u4e8c\u3001HTML DOM - \u6539\u53d8 HTML"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#1-html-innerhtmlinnertext","text":"\u4fee\u6539 HTML \u5185\u5bb9\u7684\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 innerHTML \u5c5e\u6027\u3002 \u5982\u9700\u6539\u53d8 HTML \u5143\u7d20\u7684\u5185\u5bb9\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\uff1a document.getElementById(id).innerHTML= \u65b0\u7684 HTML \u672c\u4f8b\u6539\u53d8\u4e86 \\ \u5143\u7d20\u7684\u5185\u5bb9\uff1a \u5b9e\u4f8b <html> <body> <p id=\"p1\">Hello World!</p> <script> document.getElementById(\"p1\").innerHTML=\"\u65b0\u6587\u672c!\"; </script> </body> </html> \u5b9e\u4f8b\u8bb2\u89e3\uff1a \u4e0a\u9762\u7684 HTML \u6587\u6863\u542b\u6709 id=\"p1\" \u7684 \\","title":"1\u3001\u6539\u53d8 HTML \u5185\u5bb9\uff08innerHTML/innerText\uff09"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#2-html-attribute","text":"\u5982\u9700\u6539\u53d8 HTML \u5143\u7d20\u7684\u5c5e\u6027\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\uff1a document.getElementById( id ). attribute=\u65b0\u5c5e\u6027\u503c \u672c\u4f8b\u6539\u53d8\u4e86 \\ \u5143\u7d20\u7684 src \u5c5e\u6027\uff1a <img id=\"image\" src=\"smiley.gif\"> <script> document.getElementById(\"image\").src=\"landscape.jpg\"; </script> <img src=\"http://img.zcool.cn/community/01f9ea56e282836ac72531cbe0233b.jpg@2o.jpg\" onclick=\"this.src='http://pic.58pic.com/58pic/13/80/78/35V58PICrWD_1024.jpg'\" alt=\"\"> \u6ce8\u610f\uff1a\u5728jQuery\u91cc\u4e0d\u80fd\u6539\u53d8input\u7684type\u7c7b\u578b \u51fa\u4e8e\u5b89\u5168\u6027\uff0c\u53ea\u80fd\u662f\u53ea\u8bfb \u5982\u66f4\u6539input\u7684type js\u8bbe\u7f6e\u5bc6\u7801\u7684\u663e\u793a\u9690\u85cf <input type=\"text\" value=\"\" name=\"xxx\"> <button onclick=\"pas();\">\u66f4\u6539\u4e3a\u5bc6\u7801</button> <button onclick=\"text();\">\u66f4\u6539\u4e3a\u6587\u672c\u663e\u793a</button> function pas(){ var i = document.getElementsByTagName('input')[0]; i.type = 'password' } function text(){ var i = document.getElementsByTagName('input')[0]; i.type = 'text' } <script> function change() { var input = document.getElementsByTagName('input')[0]; var span = document.getElementsByTagName('span')[0]; if(span.innerHTML == '\u663e\u793a'){ input.type = 'text'; span.innerHTML = '\u9690\u85cf'; }else{ input.type = 'password'; span.innerHTML = '\u663e\u793a'; } } </script> </head> <body> \u5bc6\u7801<input type=\"password\"><span onclick=\"change();\">\u663e\u793a</span> </body>","title":"2\u3001\u6539\u53d8 HTML \u5c5e\u6027 (attribute)"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#html-dom-css","text":"HTML DOM \u5141\u8bb8 JavaScript \u6539\u53d8 HTML \u5143\u7d20\u7684\u6837\u5f0f\u3002","title":"\u4e09\u3001HTML DOM - \u6539\u53d8CSS"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#1-html","text":"\u5982\u9700\u6539\u53d8 HTML \u5143\u7d20\u7684\u6837\u5f0f\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\uff1a document.getElementById( id ).style. property = \u65b0\u6837\u5f0f \u5b9e\u4f8b ```javascript Hello World! Hello World! document.getElementById(\"p2\").style.color=\"blue\"; document.getElementById(\"p2\").style.fontFamily=\"Arial\"; document.getElementById(\"p2\").style.fontSize=\"larger\"; document.getElementById(\"p2\").style.backgroundImage=\"url(2.jpg)\"; ``` \u83b7\u53d6\u751f\u6548style\u6837\u5f0f window.getComputedStyle(\"\u5143\u7d20\", \"\u4f2a\u7c7b\"); style = window.getComputedStyle(box, null); //\u652f\u6301IE9+\u53ca\u975eIE\u6d4f\u89c8\u5668 style = window.getComputedStyle(box, null).width; \u83b7\u53d6box\u7684width\u5c5e\u6027\u503c \u4e0estyle\u7684\u533a\u522b box.style.xxx \u53ea\u80fd\u83b7\u53d6\u5185\u8054\u6837\u5f0f getComputedStyle \u83b7\u53d6\u7684\u751f\u6548\u6837\u5f0f\u53ef\u4ee5\u83b7\u53d6\u5168\u5c40\u7684\u6837\u5f0f \u5b9e\u4f8b <style> #div{ width:200px; height: 200px; } </style> <script> window.onload = function (ev) { var div = document.getElementById('div'); // console.log(div.style.backgroundColor) // console.log(div.style.width) var style = window.getComputedStyle(div,null); console.log(style.width); console.log(style.height); console.log(style.backgroundColor); } </script> </head> <body> <div id=\"div\" style=\"background-color: red;\"></div> </body> </html>","title":"1\u3001\u6539\u53d8 HTML \u6837\u5f0f"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#2css","text":"\u8bbe\u7f6ecssText javascript element.style.cssText = \"\u6837\u5f0f1;\u6837\u5f0f2...\" div.style.cssText = 'width:200px;height: 200px;background-color: red'; \u8bbe\u7f6estyle\u7684\u5c5e\u6027 javascript element.setAttribute('style', 'height: 100px !important'); \u8bbe\u7f6eid\u6216\u8005class\u540d\u79f0 \u8bbe\u7f6eid javascript element.setAttribute('id, 'id\u540d\u79f0'); element.id = id\u540d\u79f0\uff1b \u8bbe\u7f6eclass javascript element.setAttribute('class, 'class\u540d\u79f0'); element.className = class\u540d\u79f0\uff1b // \u8bbe\u7f6e\u591a\u4e2aclass element.className = '\u6837\u5f0f1 \u6837\u5f0f2'; element.setAttribute('class','\u6837\u5f0f1 \u6837\u5f0f2') \u901a\u8fc7add\u65b9\u6cd5\u6dfb\u52a0\u591a\u4e2a\u7c7b\u540d javascript document.getElementById(\"myDIV\").classList.add(\"mystyle\", \"anotherClass\", \"thirdClass\"); classList \u5c5e\u6027\u8fd4\u56de\u5143\u7d20\u7684\u7c7b\u540d\uff0c\u4f5c\u4e3a DOMTokenList \u5bf9\u8c61\u3002 \u8be5\u5c5e\u6027\u7528\u4e8e\u5728\u5143\u7d20\u4e2d\u6dfb\u52a0\uff0c\u79fb\u9664\u53ca\u5207\u6362 CSS \u7c7b\u3002 classList \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u4f46\u4f60\u53ef\u4ee5\u4f7f\u7528 add() \u548c remove() \u65b9\u6cd5\u4fee\u6539\u5b83\u3002 ```javascript .d1{color:red;} .d2{border: 1px solid red;} onload = function () { document.getElementById(\"myDIV\").classList.add('d1', 'd2'); document.getElementById(\"myDIV\").classList.remove('d1'); } div ```","title":"2\u3001\u8bbe\u7f6e\u591a\u4e2acss\u6837\u5f0f"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#3","text":"HTML DOM \u5141\u8bb8\u6211\u4eec\u901a\u8fc7\u89e6\u53d1\u4e8b\u4ef6\u6765\u6267\u884c\u4ee3\u7801\u3002 \u6bd4\u5982\u4ee5\u4e0b\u4e8b\u4ef6\uff1a \u5143\u7d20\u88ab\u70b9\u51fb\u3002 \u9875\u9762\u52a0\u8f7d\u5b8c\u6210\u3002 \u8f93\u5165\u6846\u88ab\u4fee\u6539\u3002 \u5728\u63a5\u4e0b\u6765\u7684\u7ae0\u8282\uff0c\u4f60\u4f1a\u5b66\u5230\u66f4\u591a\u5173\u4e8e\u4e8b\u4ef6\u7684\u77e5\u8bc6\u3002 \u672c\u4f8b\u6539\u53d8\u4e86 id=\"id1\" \u7684 HTML \u5143\u7d20\u7684\u6837\u5f0f\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u6309\u94ae\u65f6\uff1a \u5b9e\u4f8b <!DOCTYPE html> <html> <body> <h1 id=\"id1\">\u6211\u7684\u6807\u9898 1</h1> <button type=\"button\" onclick=\"document.getElementById('id1').style.color='red'\"> \u70b9\u6211!</button> </body> </html>","title":"3\u3001\u4f7f\u7528\u4e8b\u4ef6"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#html-dom","text":"\u5bf9\u4e8b\u4ef6\u505a\u51fa\u53cd\u5e94 \u6211\u4eec\u53ef\u4ee5\u5728\u4e8b\u4ef6\u53d1\u751f\u65f6\u6267\u884c JavaScript\uff0c\u6bd4\u5982\u5f53\u7528\u6237\u5728 HTML \u5143\u7d20\u4e0a\u70b9\u51fb\u65f6\u3002 \u5982\u9700\u5728\u7528\u6237\u70b9\u51fb\u67d0\u4e2a\u5143\u7d20\u65f6\u6267\u884c\u4ee3\u7801\uff0c\u8bf7\u5411\u4e00\u4e2a HTML \u4e8b\u4ef6\u5c5e\u6027\u6dfb\u52a0 JavaScript \u4ee3\u7801\uff1a onclick= JavaScript HTML \u4e8b\u4ef6\u7684\u4f8b\u5b50\uff1a \u5f53\u7528\u6237\u70b9\u51fb\u9f20\u6807\u65f6 \u5f53\u7f51\u9875\u5df2\u52a0\u8f7d\u65f6 \u5f53\u56fe\u50cf\u5df2\u52a0\u8f7d\u65f6 \u5f53\u9f20\u6807\u79fb\u52a8\u5230\u5143\u7d20\u4e0a\u65f6 \u5f53\u8f93\u5165\u5b57\u6bb5\u88ab\u6539\u53d8\u65f6 \u5f53\u63d0\u4ea4 HTML \u8868\u5355\u65f6 \u5f53\u7528\u6237\u89e6\u53d1\u6309\u952e\u65f6","title":"\u56db\u3001HTML DOM \u4e8b\u4ef6"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#1onclick","text":"onclick = javascript \u5b9e\u4f8b <!DOCTYPE html> <html> <body> <h1 onclick=\"this.innerHTML='lucky!'\">\u70b9\u51fb\u6587\u672c!</h1> </body> </html> \u672c\u4f8b\u4ece\u4e8b\u4ef6\u5904\u7406\u5668\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\uff1a onclick=\"changetext(this)\" \u5b9e\u4f8b <script> function changetext(id) { id.innerHTML=\"lucky!\"; } </script> </head> <body> <h1 onclick=\"changetext(this)\">\u70b9\u51fb\u6587\u672c!</h1> </body> </html>","title":"1\u3001onclick \u70b9\u51fb\u4e8b\u4ef6"},{"location":"25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html#2-html-dom","text":"HTML DOM \u5141\u8bb8\u60a8\u4f7f\u7528 JavaScript \u6765\u5411 HTML \u5143\u7d20\u5206\u914d\u4e8b\u4ef6\uff1a \u5b9e\u4f8b \u5411 button \u5143\u7d20\u5206\u914d onclick \u4e8b\u4ef6\uff1a ```javascript \u70b9\u51fb\u6309\u94ae\u6267\u884c displayDate() \u51fd\u6570. \u70b9\u8fd9\u91cc document.getElementById(\"myBtn\").onclick=function(){displayDate()}; function displayDate(){ document.getElementById(\"demo\").innerHTML=Date(); } ``` \u963b\u6b62\u53f3\u952e\u83dc\u5355\u9ed8\u8ba4\u884c\u4e3a\uff1a \u5728\u4e4b\u524d\u4f7f\u7528event\u5bf9\u8c61\u7684button\u5c5e\u6027\u65f6, \u70b9\u51fb\u9f20\u6807\u53f3\u952e\u4f1a\u5f39\u51fa\u7cfb\u7edf\u83dc\u5355, \u5982\u679c\u6211\u4eec\u60f3\u8981\u521b\u5efa\u81ea\u5df1\u7684\u53f3\u952e\u83dc\u5355, \u5219\u9700\u8981\u5148\u963b\u6b62\u9ed8\u8ba4\u7684\u53f3\u952e\u83dc\u5355 javascript document.oncontextmenu = function(){ console.log(\"\u53f3\u952e\u88ab\u6309\u4e0b\"); return false; } \u4e0d\u4f7f\u7528\u76d1\u542c\u4e8b\u4ef6\u7684\u505c\u6b62\u4f20\u64ad(\u4e0d\u518d\u6d3e\u53d1\u4e8b\u4ef6) \u5f53\u6807\u7b7e\u8fdb\u884c\u5d4c\u5957\u65f6 event.stopPropagation();[pr\u0251p\u0259\u02c8\u0261e\u0283\u0259n] ```javascript onload = function(){ var divOne = document.getElementById('divOne'); var divTwo = document.getElementById('divTwo'); divOne.onclick = function(){ alert('\u70b9\u51fb\u4e86one'); } divTwo.onclick = function(e){ alert('\u70b9\u51fb\u4e86two'); e.stopPropagation();//\u505c\u6b62\u65f6\u95f4\u7684\u4f20\u64ad(\u4e0d\u5728\u6d3e\u53d1\u4e8b\u4ef6) } one two ``` e\u662f\u4e8b\u4ef6\uff0c\u5728firefox\u4e2d\u53ea\u80fd\u5728\u4e8b\u4ef6\u73b0\u573a\u4f7f\u7528window.event\uff0c\u6240\u4ee5\u53ea\u6709\u628aevent\u4f20\u7ed9\u51fd\u6570\u4f7f\u7528\u3002\u4e3a\u4e86\u517c\u5bb9[FF](https://www.baidu.com/s?wd=FF&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)\u548c\u5176\u5b83[\u6d4f\u89c8\u5668](https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)\uff0c\u4e00\u822c\u4f1a\u5728\u51fd\u6570\u91cc\u91cd\u65b0\u7ed9e\u8d4b\u503c\uff1a e = window.event || e; \u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679cwindow.event\u5b58\u5728\uff0c\u5219\u8be5[\u6d4f\u89c8\u5668](https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)\u652f\u6301\u76f4\u63a5\u4f7f\u7528window.event\uff0c\u5426\u5728\u5c31\u662f\u4e0d\u652f\u6301\uff0c\u4e0d\u652f\u6301\u5c31\u4f7f\u7528\u4f20\u8fdb\u6765\u7684e\u3002 e\u662fevent\uff0c\u5176\u4e2d\u5305\u542b\u9f20\u6807\u4e8b\u4ef6\u7684\u5404\u79cd\u4fe1\u606f event \u5bf9\u8c61\u4ee3\u8868\u4e8b\u4ef6\u7684\u72b6\u6001\uff0c\u6bd4\u5982\u4e8b\u4ef6\u5728\u5176\u4e2d\u53d1\u751f\u7684\u5143\u7d20\u3001\u952e\u76d8\u6309\u952e\u7684\u72b6\u6001\u3001\u9f20\u6807\u7684\u4f4d\u7f6e\u3001\u9f20\u6807\u6309\u94ae\u7684\u72b6\u6001\u3002 \u4e8b\u4ef6\u901a\u5e38\u4e0e\u51fd\u6570\u7ed3\u5408\u4f7f\u7528\uff0c\u51fd\u6570\u4e0d\u4f1a\u5728\u4e8b\u4ef6\u53d1\u751f\u524d\u88ab\u6267\u884c\uff01 ### 3\u3001onload \u548c onunload \u4e8b\u4ef6 onload \u4e8b\u4ef6\u4f1a\u5728\u9875\u9762\u6216\u56fe\u50cf\u52a0\u8f7d\u5b8c\u6210\u540e\u7acb\u5373\u53d1\u751f\u3002 onload \u548c onunload \u4e8b\u4ef6\u4f1a\u5728\u7528\u6237\u8fdb\u5165\u6216\u79bb\u5f00\u9875\u9762\u65f6\u88ab\u89e6\u53d1\u3002 onload \u4e8b\u4ef6\u53ef\u7528\u4e8e\u68c0\u6d4b\u8bbf\u95ee\u8005\u7684\u6d4f\u89c8\u5668\u7c7b\u578b\u548c\u6d4f\u89c8\u5668\u7248\u672c\uff0c\u5e76\u57fa\u4e8e\u8fd9\u4e9b\u4fe1\u606f\u6765\u52a0\u8f7d\u7f51\u9875\u7684\u6b63\u786e\u7248\u672c\u3002 onload \u548c onunload(\u4e86\u89e3) \u4e8b\u4ef6\u53ef\u7528\u4e8e\u5904\u7406 cookie\u3002 onunload \u5173\u95ed\u5f53\u524d\u9875\u9762\u7684\u64cd\u4f5c\u65f6\u5019\u7684\u64cd\u4f5c(\u4e86\u89e3) onload \u5b9e\u4f8b <script> onload = function() { console.log(document.getElementById('div')) } </script> <body> <div id=\"div\">one</div> </body> \u5b9e\u4f8b: <!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title></title> </head> <body onload=\"checkCookies()\"> <script> function checkCookies(){ if (navigator.cookieEnabled==true){ alert(\"Cookies \u53ef\u7528\") } else{ alert(\"Cookies \u4e0d\u53ef\u7528\") } } </script> <p>\u5f39\u7a97-\u63d0\u793a\u6d4f\u89c8\u5668 cookie \u662f\u5426\u53ef\u7528\u3002</p> </body> </html> ### 4\u3001onchange \u5f53\u6587\u672c\u6846(input\\select\u6216 textarea)\u5185\u5bb9\u6539\u53d8\u4e14\u5931\u53bb\u7126\u70b9\u540e\u89e6\u53d1\u3002 onchange \u4e8b\u4ef6\u5e38\u7ed3\u5408\u5bf9\u8f93\u5165\u5b57\u6bb5\u7684\u9a8c\u8bc1\u6765\u4f7f\u7528\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u5982\u4f55\u4f7f\u7528 onchange \u7684\u4f8b\u5b50\u3002\u5f53\u7528\u6237\u6539\u53d8\u8f93\u5165\u5b57\u6bb5\u7684\u5185\u5bb9\u65f6\uff0c\u4f1a\u8c03\u7528 upperCase() \u51fd\u6570\u3002 \u5b9e\u4f8b <script> function upperCase(){ var x=document.getElementById(\"fname\"); x.value=x.value.toUpperCase(); } </script> <body> <input type=\"text\" id=\"fname\" onchange=\"upperCase()\"> <select onchange=\"alert(this.value);\"> <option value=\"1\">\u5317\u4eac</option> </body> ---------------------------------------------------------------------------------------- <script> function upperCase(this){ this.value=this.value.toUpperCase(); } </script> <body> <input type=\"text\" id=\"fname\" onchange=\"upperCase(this)\"> </body> <input type=\"text\" id=\"fname\" onchange=\"this.value = this.value.toUpperCase();\"> onselect\uff1a\u5f53\u7528\u6237\u9009\u62e9\u6587\u672c\u6846(input \u6216 textarea)\u4e2d\u7684\u5185\u5bb9\u89e6\u53d1 <script> function showMsg(){ alert(\"\u60a8\u9009\u4e2d\u4e86\u4e00\u4e9b\u6587\u672c\uff01\"); } </script> </head> <body> \u4e00\u4e9b\u6587\u672c\uff1a<input type=\"text\" value=\"\u8bf7\u9009\u4e2d\u6211\uff01\" onselect=\"showMsg()\"> <p>\u51fd\u6570 showMsg() \u5728\u8f93\u5165\u5b57\u6bb5\u4e2d\u7684\u6587\u672c\u88ab\u9009\u4e2d\u65f6\u89e6\u53d1\u3002\u6b64\u51fd\u6570\u663e\u793a\u4e00\u6bb5\u6d88\u606f\u3002</p> \u8868\u5355\u9a8c\u8bc1 <!doctype html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Document</title> <script> /*\u70b9\u51fb\u4e0b\u62c9\u6846\u8fdb\u884c\u8c03\u7528 \u83b7\u53d6\u5f53\u524d\u7684\u503c*/ function get_val(v) { console.log(v) } /*\u70b9\u51fb\u6ce8\u518c\u8fdb\u884c\u9a8c\u8bc1*/ function check() { console.log(document.getElementById('address').value) return false; } </script> </head> <body> <form action=\"\" onsubmit=\"return check();\"> <select name=\"\" id=\"address\" onchange=\"get_val(this.value)\"> <option value=\"1001\">\u5317\u4eac</option> <option value=\"1002\">\u4e0a\u6d77</option> <option value=\"1003\">\u6df1\u5733</option> </select> <input type=\"submit\" value=\"submit\"> </form> </body> </html> ### 5\u3001 onfocus/onblur \u83b7\u53d6\u7126\u70b9/\u5931\u53bb\u7126\u70b9 \u8f93\u5165\u6846\u83b7\u53d6\u7126\u70b9 \u7684\u4e8b\u4ef6 \u5b9e\u4f8b: <script> function myFunction(x){ x.style.background=\"yellow\"; } </script> \u8f93\u5165\u4f60\u7684\u540d\u5b57: <input type=\"text\" onfocus=\"myFunction(this)\" onblur=\"this.style.backgroundColor='red'\"> <p>\u5f53\u8f93\u5165\u6846\u83b7\u53d6\u7126\u70b9\u65f6\uff0c\u4fee\u6539\u80cc\u666f\u8272\uff08background-color\u5c5e\u6027\uff09 \u5c06\u88ab\u89e6\u53d1\u3002</p> ### 6\u3001onmouseover \u548c onmouseout \u4e8b\u4ef6 onmouseover \u548c onmouseout \u4e8b\u4ef6\u53ef\u7528\u4e8e\u5728\u7528\u6237\u7684\u9f20\u6807\u79fb\u81f3 HTML \u5143\u7d20\u4e0a\u65b9\u6216\u79fb\u51fa\u5143\u7d20\u65f6\u89e6\u53d1\u51fd\u6570\u3002 \u5b9e\u4f8b: <div onmouseover=\"mOver(this)\" onmouseout=\"mOut(this)\" style=\"background-color:#D94A38;width:120px;height:20px;padding:40px;\">Mouse Over Me</div> <script> function mOver(obj){ obj.innerHTML=\"Thank You\" } function mOut(obj){ obj.innerHTML=\"Mouse Over Me\" } </script> ### 7\u3001onmouseenter \u548c onmouseleave \u4e8b\u4ef6 \u4e8b\u4ef6\u53ef\u7528\u4e8e\u5728\u7528\u6237\u7684\u9f20\u6807\u79fb\u81f3 HTML \u5143\u7d20\u4e0a\u65b9\u6216\u79fb\u51fa\u5143\u7d20\u65f6\u89e6\u53d1\u51fd\u6570\u3002 over \u548c enter\u7684\u533a\u522b 1. \u5982\u679c\u5143\u7d20\u6ca1\u6709\u5b50\u5143\u7d20\u7684\u65f6\u5019\uff0c\u6548\u679c\u5b8c\u5168\u4e00\u6837 2. \u5982\u679c\u5143\u7d20\u5305\u542b\u5b50\u5143\u7d20 \u5f53\u7531\u7236\u5143\u7d20\u8fdb\u5165\u5b50\u5143\u7d20\u7684\u65f6\u5019\uff0cover\u4f1a\u7ee7\u7eed\u89e6\u53d1 over\u5b9e\u9645\u4e0a\u53ea\u8981\u5728\u8de8\u8d8a\u8fb9\u754c\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u8fdb\u884c\u89e6\u53d1 + onmousemove \u9f20\u6807\u79fb\u52a8 **\u5b9e\u4f8b(\u5305\u542b\u4e86onmousemove onmouseenter. onmouseover)** ```javascript div { width: 100px; height: 100px; border: 1px solid black; margin: 10px; float: left; padding: 30px;d text-align: center; background-color: lightgray; } p { background-color: white; }","title":"2\u3001\u4f7f\u7528 HTML DOM \u6765\u5206\u914d\u4e8b\u4ef6"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html","text":"\u4e8c\u5341\u516d\u3001jQuery \u4e00\u3001\u524d\u8a00 jQuery \u4ecb\u7ecd jQuery \u662f\u4e00\u4e2a JavaScript \u5e93\u3002 jQuery \u6781\u5927\u5730\u7b80\u5316\u4e86 JavaScript \u7f16\u7a0b\u3002 \u4e0b\u8f7d jQuery \u5171\u6709\u4e24\u4e2a\u7248\u672c\u7684 jQuery \u53ef\u4f9b\u4e0b\u8f7d\uff1a\u4e00\u4efd\u662f\u7cbe\u7b80\u8fc7\u7684\uff0c\u53e6\u4e00\u4efd\u662f\u672a\u538b\u7f29\u7684\uff08\u4f9b\u8c03\u8bd5\u6216\u9605\u8bfb\uff09\u3002 \u5b57\u8282cdn: https://cdn.bytedance.com/ jquery: https://cdn.bytedance.com/?query=jquery&version=1.9.1 jQuery \u8bed\u6cd5 $(this).hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf\u5f53\u524d\u7684 HTML \u5143\u7d20\u3002 $(\"#test\").hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf id=\"test\" \u7684\u5143\u7d20\u3002 $(\"p\").hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf\u6240\u6709 \u5143\u7d20\u3002 $(\".test\").hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf\u6240\u6709 class=\"test\" \u7684\u5143\u7d20\u3002 \u5165\u53e3\u64cd\u4f5c: ```javascript $(function(){ }) $(document).ready(function(){ }) ``` \u76f8\u5f53\u4e8ejs\u7684onlaod = functino(){} \u5728\u7ebfjs ```javascript ``` \u4e8c\u3001jQuery \u9009\u62e9\u5668 (1) jQuery \u5143\u7d20\u9009\u62e9\u5668 jQuery \u4f7f\u7528 CSS \u9009\u62e9\u5668\u6765\u9009\u53d6 HTML \u5143\u7d20\u3002 $(\"p\") \u9009\u53d6 \u5143\u7d20\u3002 $(\"p.intro\") \u9009\u53d6\u6240\u6709 class=\"intro\" \u7684 \u5143\u7d20\u3002 $(\"p#demo\") \u9009\u53d6\u6240\u6709 id=\"demo\" \u7684 \u5143\u7d20\u3002 $('ul>li:nth-child(2)') $('li~p') $('li+p') $('ul li') (2) jQuery \u5c5e\u6027\u9009\u62e9\u5668 jQuery \u4f7f\u7528 XPath \u8868\u8fbe\u5f0f\u6765\u9009\u62e9\u5e26\u6709\u7ed9\u5b9a\u5c5e\u6027\u7684\u5143\u7d20\u3002 $(\"[href]\") \u9009\u53d6\u6240\u6709\u5e26\u6709 href \u5c5e\u6027\u7684\u5143\u7d20\u3002 $(\"[href='#']\") \u9009\u53d6\u6240\u6709\u5e26\u6709 href \u503c\u7b49\u4e8e \"#\" \u7684\u5143\u7d20\u3002 $(\"[href!='#']\") \u9009\u53d6\u6240\u6709\u5e26\u6709 href \u503c\u4e0d\u7b49\u4e8e \"#\" \u7684\u5143\u7d20\u3002 $(\"[href$='.jpg']\") \u9009\u53d6\u6240\u6709 href \u503c\u4ee5 \".jpg\" \u7ed3\u5c3e\u7684\u5143\u7d20\u3002 (3) jQuery CSS \u9009\u62e9\u5668 jQuery CSS \u9009\u62e9\u5668\u53ef\u7528\u4e8e\u6539\u53d8 HTML \u5143\u7d20\u7684 CSS \u5c5e\u6027\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u628a\u6240\u6709 p \u5143\u7d20\u7684\u80cc\u666f\u989c\u8272\u66f4\u6539\u4e3a\u7ea2\u8272\uff1a $(\"p\").css(\"background-color\",\"red\"); \u4e8c\u3001jQuery - \u83b7\u5f97\u5185\u5bb9\u548c\u5c5e\u6027 \u83b7\u5f97\u5185\u5bb9 - text()\u3001html() \u4ee5\u53ca val() \u4e09\u4e2a\u7b80\u5355\u5b9e\u7528\u7684\u7528\u4e8e DOM \u64cd\u4f5c\u7684 jQuery \u65b9\u6cd5\uff1a text() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9 html() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u5185\u5bb9\uff08\u5305\u62ec HTML \u6807\u8bb0 \u5f53\u5185\u5bb9\u5b58\u5728\u6807\u7b7e\u65f6\u624d\u4f1a\u8fdb\u884c\u8fd4\u56de \uff09 val() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u8868\u5355\u5b57\u6bb5\u7684\u503c \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u901a\u8fc7 jQuery text() \u548c html() \u65b9\u6cd5\u6765\u83b7\u5f97\u5185\u5bb9\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ alert(\"Text: \" + $(\"#test\").text()); }); $(\"#btn2\").click(function(){ alert(\"HTML: \" + $(\"#test\").html()); }); }); </script> </head> <body> <p id=\"test\">\u8fd9\u662f\u6bb5\u843d\u4e2d\u7684<b>\u7c97\u4f53</b>\u6587\u672c\u3002</p> <button id=\"btn1\">\u663e\u793a\u6587\u672c</button> <button id=\"btn2\">\u663e\u793a HTML</button> </body> \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u901a\u8fc7 jQuery val() \u65b9\u6cd5\u83b7\u5f97\u8f93\u5165\u5b57\u6bb5\u7684\u503c\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"button\").click(function(){ alert(\"Value: \" + $(\"#test\").val()); }); }); </script> </head> <body> <p>\u59d3\u540d\uff1a<input type=\"text\" id=\"test\" value=\"\u7c73\u8001\u9f20\"></p> <button>\u663e\u793a\u503c</button> \u83b7\u53d6\u5c5e\u6027 - attr() jQuery attr() \u65b9\u6cd5\u7528\u4e8e\u83b7\u53d6\u5c5e\u6027\u503c\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u83b7\u5f97\u94fe\u63a5\u4e2d href \u5c5e\u6027\u7684\u503c\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"button\").click(function(){ alert($(\"#lucky\").attr(\"href\")); }); }); </script> </head> <body> <p><a href=\"http://www.xialigang.com\" id=\"lucky\">xialigang.com</a></p> <button>\u663e\u793a href \u503c</button> \u4e09\u3001jQuery - \u8bbe\u7f6e\u5185\u5bb9\u548c\u5c5e\u6027 (1) \u8bbe\u7f6e\u5185\u5bb9 - text()\u3001html() \u4ee5\u53ca val() \u6211\u4eec\u5c06\u4f7f\u7528\u524d\u4e00\u7ae0\u4e2d\u7684\u4e09\u4e2a\u76f8\u540c\u7684\u65b9\u6cd5\u6765\u8bbe\u7f6e\u5185\u5bb9\uff1a text() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9 html() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u5185\u5bb9\uff08\u5305\u62ec HTML \u6807\u8bb0\uff09 val() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u8868\u5355\u5b57\u6bb5\u7684\u503c \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u901a\u8fc7 text()\u3001html() \u4ee5\u53ca val() \u65b9\u6cd5\u6765\u8bbe\u7f6e\u5185\u5bb9\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"#test1\").text(\"Hello world!\"); }); $(\"#btn2\").click(function(){ $(\"#test2\").html(\"<b>Hello world!</b>\"); }); $(\"#btn3\").click(function(){ $(\"#test3\").val(\"Dolly Duck\"); }); }); </script> </head> <body> <p id=\"test1\">\u8fd9\u662f\u6bb5\u843d\u3002</p> <p id=\"test2\">\u8fd9\u662f\u53e6\u4e00\u4e2a\u6bb5\u843d\u3002</p> <p>Input field: <input type=\"text\" id=\"test3\" value=\"Mickey Mouse\"></p> <button id=\"btn1\">\u8bbe\u7f6e\u6587\u672c</button> <button id=\"btn2\">\u8bbe\u7f6e HTML</button> <button id=\"btn3\">\u8bbe\u7f6e\u503c</button> (2) \u8bbe\u7f6e\u5c5e\u6027 - attr() jQuery attr() \u65b9\u6cd5\u4e5f\u7528\u4e8e\u8bbe\u7f6e/\u6539\u53d8\u5c5e\u6027\u503c\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u6539\u53d8\uff08\u8bbe\u7f6e\uff09\u94fe\u63a5\u4e2d href \u5c5e\u6027\u7684\u503c\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"button\").click(function(){ $(\"#w3s\").attr(\"href\",\"http://www.baidu.com\"); }); }); </script> </head> <body> <p><a href=\"http://http://www.xialigang.com\"\" id=\"w3s\">http://www.xialigang.com</a></p> <button>\u6539\u53d8 href \u503c</button> <p>\u8bf7\u628a\u9f20\u6807\u6307\u9488\u79fb\u52a8\u5230\u94fe\u63a5\u4e0a\uff0c\u6216\u8005\u70b9\u51fb\u8be5\u94fe\u63a5\uff0c\u6765\u67e5\u770b\u5df2\u7ecf\u6539\u53d8\u7684 href \u503c\u3002</p> </body> attr() \u65b9\u6cd5\u4e5f\u5141\u8bb8\u60a8\u540c\u65f6\u8bbe\u7f6e\u591a\u4e2a\u5c5e\u6027\u3002 (3) \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u540c\u65f6\u8bbe\u7f6e href \u548c title \u5c5e\u6027\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"button\").click(function(){ $(\"#w3s\").attr({ \"href\" : \"http://www.baidu.com\", \"title\" : \"title\" }); }); }); </script> </head> <body> <p><a href=\"http://www.xialigang.com\" id=\"w3s\">W3School.com.cn</a></p> <button>\u6539\u53d8 href \u548c title \u503c</button> <p>\u8bf7\u628a\u9f20\u6807\u6307\u9488\u79fb\u52a8\u5230\u94fe\u63a5\u4e0a\uff0c\u6216\u8005\u70b9\u51fb\u8be5\u94fe\u63a5\uff0c\u6765\u67e5\u770b\u5df2\u7ecf\u6539\u53d8\u7684 href \u503c\u548c\u5df2\u7ecf\u8bbe\u7f6e\u7684 title \u503c\u3002</p> </body> \u56db\u3001jQuery - \u6dfb\u52a0\u5143\u7d20 \u4ee5\u53ca\u83b7\u53d6\u52a8\u6001\u6dfb\u52a0\u5143\u7d20\u7684\u8282\u70b9 \u6dfb\u52a0\u65b0\u7684 HTML \u5185\u5bb9 \u6211\u4eec\u5c06\u5b66\u4e60\u7528\u4e8e\u6dfb\u52a0\u65b0\u5185\u5bb9\u7684\u56db\u4e2a jQuery \u65b9\u6cd5\uff1a append() - \u5728\u88ab\u9009\u5143\u7d20\u7684\u7ed3\u5c3e\u63d2\u5165\u5185\u5bb9 prepend() - \u5728\u88ab\u9009\u5143\u7d20\u7684\u5f00\u5934\u63d2\u5165\u5185\u5bb9 after() - \u5728\u88ab\u9009\u5143\u7d20\u4e4b\u540e\u63d2\u5165\u5185\u5bb9 before() - \u5728\u88ab\u9009\u5143\u7d20\u4e4b\u524d\u63d2\u5165\u5185\u5bb9 (1) jQuery append() \u65b9\u6cd5 jQuery append() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u7684\u7ed3\u5c3e\u63d2\u5165\u5185\u5bb9\u3002 \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"p\").append(\" <b>Appended text</b>.\"); }); $(\"#btn2\").click(function(){ $(\"ol\").append(\"<li>Appended item</li>\"); }); }); </script> </head> <body> <p>This is a paragraph.</p> <p>This is another paragraph.</p> <ol> <li>List item 1</li> <li>List item 2</li> <li>List item 3</li> </ol> <button id=\"btn1\">\u8ffd\u52a0\u6587\u672c</button> <button id=\"btn2\">\u8ffd\u52a0\u5217\u8868\u9879</button> </body> (2) jQuery prepend() \u65b9\u6cd5 jQuery prepend() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u7684\u5f00\u5934\u63d2\u5165\u5185\u5bb9\u3002 \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"p\").prepend(\"<b>Prepended text</b>\"); }); $(\"#btn2\").click(function(){ $(\"ol\").prepend(\"<li>Prepended item</li>\"); }); }); </script> </head> <body> <p>This is a paragraph.</p> <p>This is another paragraph.</p> <ol> <li>List item 1</li> <li>List item 2</li> <li>List item 3</li> </ol> <button id=\"btn1\">\u6dfb\u52a0\u6587\u672c</button> <button id=\"btn2\">\u6dfb\u52a0\u5217\u8868\u9879</button> </body> (3) jQuery after() \u548c before() \u65b9\u6cd5 jQuery after() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u4e4b\u540e\u63d2\u5165\u5185\u5bb9\u3002 \u6700\u591a\u53ea\u80fd\u6dfb\u52a03\u4e2a\u53c2\u6570\u503c jQuery before() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u4e4b\u524d\u63d2\u5165\u5185\u5bb9\u3002 \u5b9e\u4f8b $(\"img\").after(\"Some\",\"text\",\"after\"); $(\"img\").before(\"Some\",\"text\",\" before\"); \u4f8b\u5b50 <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"em\").before(\"<b>Before</b>\"); }); $(\"#btn2\").click(function(){ $(\"em\").after(\"<i>After</i>\"); }); }); </script> </head> <body> <em>b\u6807\u7b7e</em> <br><br> <button id=\"btn1\">\u5728\u56fe\u7247\u524d\u9762\u6dfb\u52a0\u6587\u672c</button> <button id=\"btn2\">\u5728\u56fe\u7247\u540e\u9762\u6dfb\u52a0\u6587\u672c</button> \u4e94\u3001jQuery - \u5220\u9664\u5143\u7d20 \u5220\u9664\u5143\u7d20/\u5185\u5bb9 \u5982\u9700\u5220\u9664\u5143\u7d20\u548c\u5185\u5bb9\uff0c\u4e00\u822c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u4e24\u4e2a jQuery \u65b9\u6cd5\uff1a remove() - \u5220\u9664\u88ab\u9009\u5143\u7d20\uff08 \u53ca\u5176\u5b50\u5143\u7d20 \uff09 empty() - \u4ece\u88ab\u9009\u5143\u7d20\u4e2d\u5220\u9664\u5b50\u5143\u7d20 (1) jQuery remove() \u65b9\u6cd5 jQuery remove() \u65b9\u6cd5\u5220\u9664\u88ab\u9009\u5143\u7d20\u53ca\u5176\u5b50\u5143\u7d20\u3002 \u5b9e\u4f8b $(\"#div1\").remove() (2) jQuery empty() \u65b9\u6cd5 jQuery empty() \u65b9\u6cd5\u5220\u9664\u88ab\u9009\u5143\u7d20\u7684\u5b50\u5143\u7d20\uff08\u6e05\u7a7a\uff09\u3002 \u5b9e\u4f8b $(\"#div1\").empty(); (3) \u8fc7\u6ee4\u88ab\u5220\u9664\u7684\u5143\u7d20 jQuery remove() \u65b9\u6cd5\u4e5f\u53ef\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5141\u8bb8\u60a8\u5bf9\u88ab\u5220\u5143\u7d20\u8fdb\u884c\u8fc7\u6ee4\u3002 \u8be5\u53c2\u6570\u53ef\u4ee5\u662f\u4efb\u4f55 jQuery \u9009\u62e9\u5668\u7684\u8bed\u6cd5\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5220\u9664 class=\"italic\" \u7684\u6240\u6709 \u5143\u7d20\uff1a \u5b9e\u4f8b $(\"p\").remove(\".italic\"); \u516d\u3001jQuery - \u83b7\u53d6\u5e76\u8bbe\u7f6e CSS \u7c7b(\u4e86\u89e3) jQuery \u64cd\u4f5c CSS jQuery \u62e5\u6709\u82e5\u5e72\u8fdb\u884c CSS \u64cd\u4f5c\u7684\u65b9\u6cd5\u3002\u6211\u4eec\u5c06\u5b66\u4e60\u4e0b\u9762\u8fd9\u4e9b\uff1a addClass() - \u5411\u88ab\u9009\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u7c7b removeClass() - \u4ece\u88ab\u9009\u5143\u7d20\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u7c7b toggleClass() - \u5bf9\u88ab\u9009\u5143\u7d20\u8fdb\u884c\u6dfb\u52a0/\u5220\u9664\u7c7b\u7684\u5207\u6362\u64cd\u4f5c css() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6837\u5f0f\u5c5e\u6027 (1) jQuery addClass() \u65b9\u6cd5 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u5982\u4f55\u5411\u4e0d\u540c\u7684\u5143\u7d20\u6dfb\u52a0 class \u5c5e\u6027\u3002\u5f53\u7136\uff0c\u5728\u6dfb\u52a0\u7c7b\u65f6\uff0c\u60a8\u4e5f\u53ef\u4ee5\u9009\u53d6\u591a\u4e2a\u5143\u7d20\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"h1,h2,p\").addClass(\"blue\"); $(\"div\").addClass(\"important\"); }); \u60a8\u4e5f\u53ef\u4ee5\u5728 addClass() \u65b9\u6cd5\u4e2d\u6dfb\u52a0\u591a\u4e2a\u7c7b\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"#div1\").addClass(\"important blue\"); }); (2) jQuery removeClass() \u65b9\u6cd5 \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u4e0d\u540c\u7684\u5143\u7d20\u4e2d\u5220\u9664\u6307\u5b9a\u7684 class \u5c5e\u6027\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"h1,h2,p\").removeClass(\"blue\"); }); (3) jQuery toggleClass() \u65b9\u6cd5 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c06\u5c55\u793a\u5982\u4f55\u4f7f\u7528 jQuery toggleClass() \u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u5bf9\u88ab\u9009\u5143\u7d20\u8fdb\u884c\u6dfb\u52a0/\u5220\u9664\u7c7b\u7684\u5207\u6362\u64cd\u4f5c\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"h1,h2,p\").toggleClass(\"blue\"); }); \u4e03\u3001\u53d1\u9001json\u6570\u636e (1) \u4e4b\u524d\u53d1\u9001json\u6570\u636e resp = requests.post(url, json=data) # \u6b64\u65f6. \u53d1\u9001\u7684\u6570\u636e\u662f\u4ee5json\u683c\u5f0f\u53d1\u9001\u51fa\u53bb\u7684 \u6ce8\u610f \uff1a \u5185\u90e8\u5904\u7406\u628adata\u8f6c\u5316\u6210json\u5b57\u7b26\u4e32, json.dumps(data) \u628a\u8bf7\u6c42\u5934\u4e2d\u7684ContentType\u8bbe\u7f6e\u6210application/json \u4e0a\u8ff0\u65b9\u6848\u7684\u7f3a\u9677: json\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u4e2d\u4f1a\u6709\u7a7a\u683c. \u670d\u52a1\u5668\u80fd\u68c0\u6d4b\u5230. (2) \u5efa\u8bae\u4f7f\u7528\u65b9\u5f0f import json resp = requests.post(url, data=json.dumps(data, separators=(',', ':')), headers={\"Content-Type\": \"application/json\"}) # \u9700\u8981\u8bbe\u7f6e\u7c7b\u578b. \u5426\u5219\u670d\u52a1\u5668\u63a5\u53d7\u4e0d\u5230\u6570\u636e print(resp.text) separators\uff1a\u4f5c\u7528\u662f\u53bb\u6389 \uff0c \uff1a \u540e\u9762\u7684\u7a7a\u683c\uff0c (3) \u5b9e\u4f8b \u7f51\u5740\uff1a https://www.jiansheku.com/search/business/ \u8bf7\u6c42\u5934\u7c7b\u578b application/json \u8bf7\u6c42\u53d1\u9001\u53c2\u6570 \u4ee3\u7801\uff1a import requests url = 'https://capi.jiansheku.com/nationzj/jskBid/page' headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\", 'Content-Type': 'application/json', 'Timestamp': str(time), 'Sign': sign, } response = requests.post(url, headers=headers, data=json.dumps(data, separators=(',', ':'))) # \u6216 response = requests.post(url, headers=headers, json=data) \u516b\u3001Ajax (1) js\u539f\u751fAjax \u6982\u8ff0: JavaScript\u539f\u751fAjax\u6307\u7684\u662f\u4f7f\u7528JavaScript\u8bed\u8a00\u81ea\u5e26\u7684XMLHttpRequest\u5bf9\u8c61\u6765\u5b9e\u73b0\u5f02\u6b65\u6570\u636e\u4ea4\u4e92\u7684\u6280\u672f\u3002\u901a\u8fc7Ajax\uff0c\u53ef\u4ee5\u5728\u4e0d\u5237\u65b0\u6574\u4e2a\u9875\u9762\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u5e76\u83b7\u53d6\u54cd\u5e94\u6570\u636e\uff0c\u7136\u540e\u5229\u7528JavaScript\u52a8\u6001\u66f4\u65b0\u9875\u9762\u5185\u5bb9\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528\u539f\u751fAjax\u53d1\u9001GET\u8bf7\u6c42\u7684\u793a\u4f8b\u4ee3\u7801\uff1a ```javascript // \u521b\u5efa XMLHttpRequest \u5bf9\u8c61 var xhr = new XMLHttpRequest(); // \u76d1\u542c\u8bf7\u6c42\u72b6\u6001\u53d8\u5316 xhr.onreadystatechange = function() { if (xhr.readyState === 4 && xhr.status === 200) { // \u8bf7\u6c42\u5b8c\u6210\u4e14\u54cd\u5e94\u6210\u529f var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response); } }; // \u53d1\u9001 GET \u8bf7\u6c42 xhr.open('GET', 'http://example.com/api/data'); xhr.send(); ``` \u8bf4\u660e \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2aXMLHttpRequest\u5bf9\u8c61\uff0c\u5e76\u5b9a\u4e49\u4e86\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 onreadystatechange \uff0c\u8be5\u51fd\u6570\u4f1a\u5728\u8bf7\u6c42\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\u88ab\u8c03\u7528\u3002\u7136\u540e\uff0c\u901a\u8fc7 open \u65b9\u6cd5\u8bbe\u7f6e\u8bf7\u6c42\u65b9\u6cd5\u548cURL\uff0c\u6700\u540e\u4f7f\u7528 send \u65b9\u6cd5\u53d1\u9001\u8bf7\u6c42\u3002 \u5f53\u8bf7\u6c42\u72b6\u6001\u53d8\u4e3a4\uff08\u8868\u793a\u8bf7\u6c42\u5b8c\u6210\uff09\u4e14\u54cd\u5e94\u72b6\u6001\u7801\u4e3a200\uff08\u8868\u793a\u6210\u529f\uff09\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 responseText \u5c5e\u6027\u83b7\u53d6\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4ee5\u4e0a\u662f\u4e00\u4e2a\u57fa\u672c\u7684GET\u8bf7\u6c42\u793a\u4f8b\uff0c\u5982\u679c\u9700\u8981\u53d1\u9001POST\u8bf7\u6c42\uff0c\u8fd8\u9700\u8981\u4f7f\u7528 setRequestHeader \u65b9\u6cd5\u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c send \u65b9\u6cd5\u4f20\u9012\u8bf7\u6c42\u4f53\u6570\u636e\u3002 \u53e6\u5916\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u66f4\u65b9\u4fbf\u7684Fetch API\u548cAxios\u7b49\u5e93\u6765\u7b80\u5316Ajax\u64cd\u4f5c\uff0c\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u66f4\u52a0\u7b80\u6d01\u548c\u6613\u7528\u3002 XMLHttpRequest\u5bf9\u8c61\u7684\u8bf7\u6c42\u72b6\u6001\uff08readyState\uff09\u6709\u4e94\u79cd\uff1a 0\uff08\u672a\u521d\u59cb\u5316\uff09\uff1aXMLHttpRequest\u5bf9\u8c61\u5df2\u521b\u5efa\uff0c\u4f46\u5c1a\u672a\u8c03\u7528open\u65b9\u6cd5\u3002\u6b64\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u670d\u52a1\u5668\u7684\u54cd\u5e94\u3002 1\uff08\u6253\u5f00\uff09\uff1aopen\u65b9\u6cd5\u5df2\u8c03\u7528\uff0c\u4f46\u5c1a\u672a\u8c03\u7528send\u65b9\u6cd5\u3002\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c\u5176\u4ed6\u8bf7\u6c42\u53c2\u6570\u3002 2\uff08\u53d1\u9001\uff09\uff1asend\u65b9\u6cd5\u5df2\u8c03\u7528\uff0c\u4e14\u8bf7\u6c42\u6b63\u5728\u53d1\u9001\u4e2d\u3002\u6b64\u65f6\u53ef\u4ee5\u83b7\u53d6\u5230\u8bf7\u6c42\u7684\u72b6\u6001\u4fe1\u606f\u3002 3\uff08\u63a5\u6536\uff09\uff1a\u5df2\u63a5\u6536\u5230\u90e8\u5206\u54cd\u5e94\u6570\u636e\u3002\u6b64\u65f6\u53ef\u4ee5\u83b7\u53d6\u5230\u90e8\u5206\u54cd\u5e94\u5185\u5bb9\u3002 4\uff08\u5b8c\u6210\uff09\uff1a\u54cd\u5e94\u5df2\u5b8c\u6210\u4e14\u6210\u529f\u63a5\u6536\u5230\u5b8c\u6574\u7684\u54cd\u5e94\u6570\u636e\u3002\u6b64\u65f6\u53ef\u4ee5\u83b7\u53d6\u5230\u5b8c\u6574\u7684\u54cd\u5e94\u5185\u5bb9\u3002 \u901a\u5e38\uff0c\u6211\u4eec\u4e3b\u8981\u5173\u6ce8\u8bf7\u6c42\u72b6\u6001\u4e3a4\u65f6\u7684\u60c5\u51b5\uff0c\u5373\u8bf7\u6c42\u5df2\u5b8c\u6210\u5e76\u6210\u529f\u63a5\u6536\u5230\u5b8c\u6574\u7684\u54cd\u5e94\u6570\u636e\u3002\u5728\u8fd9\u4e2a\u72b6\u6001\u4e0b\uff0c\u53ef\u4ee5\u5bf9\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\u548c\u66f4\u65b0\u9875\u9762\u5185\u5bb9\u7b49\u64cd\u4f5c\u3002\u800c\u5176\u4ed6\u72b6\u6001\u5219\u53ef\u4ee5\u7528\u6765\u8fdb\u884c\u4e00\u4e9b\u8bf7\u6c42\u8fdb\u5ea6\u7684\u76d1\u63a7\u6216\u9519\u8bef\u5904\u7406\u7b49\u3002 GET\u8bf7\u6c42 GET\u8bf7\u6c42\u5c06\u53c2\u6570\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u9644\u52a0\u5230URL\u7684\u672b\u5c3e\uff0c\u4f8b\u5982\uff1a http://example.com/api?param1=value1&param2=value2 \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u539f\u751fAjax\u8fdb\u884cGET\u8bf7\u6c42\u4f20\u53c2\u7684\u793a\u4f8b\uff1a javascript var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() { if (xhr.readyState == 4 && xhr.status == 200) { var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e } }; var url = \"http://example.com/api\"; var params = \"param1=value1&param2=value2\"; xhr.open(\"GET\", url + \"?\" + params,); xhr.send(); POST\u8bf7\u6c42 POST\u8bf7\u6c42\u5c06\u53c2\u6570\u653e\u5728\u8bf7\u6c42\u4f53\u4e2d\u53d1\u9001\uff0c\u9700\u8981\u8bbe\u7f6e\u8bf7\u6c42\u5934\u7684Content-Type\u4e3a application/x-www-form-urlencoded \uff0c\u540c\u65f6\u5c06\u53c2\u6570\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u7f16\u7801\u540e\u53d1\u9001\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u539f\u751fAjax\u8fdb\u884cPOST\u8bf7\u6c42\u4f20\u53c2\u7684\u793a\u4f8b\uff1a \u4f20\u9012json\u6570\u636e javascript var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() { if (xhr.readyState == 4 && xhr.status == 200) { var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e } }; var url = \"http://example.com/api\"; xhr.open(\"POST\", url); xhr.setRequestHeader(\"Content-Type\", \"application/json\"); var params = {param1: 'value1', param2: 'value2'}; json_data = JSON.stringify(params); console.log(json_data); xhr.send(json_data); \u4f20\u9012\u8868\u5355\u6570\u636e\u6570\u636e javascript var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() { if (xhr.readyState == 4 && xhr.status == 200) { var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e } }; var url = \"http://example.com/api\"; var params = \"param1=value1&param2=value2\"; xhr.open(\"POST\", url); xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"); xhr.send(params); \u540e\u7aef\u4ee3\u7801 \u6587\u4ef6\u7ed3\u6784 manage.py \u540e\u7aefflask\u4ee3\u7801 ---- templates \u5b58\u653e\u524d\u7aefHTML\u9875\u9762\u7684\u6587\u4ef6\u5939 \u200b ajax.html manage.py ```python from flask import Flask,render_template,jsonify,request # \u5bfc\u5165flask\u7c7b # \u5b9e\u4f8b\u5316Flask\u7c7b app = Flask( name ) # \u521b\u5efa\u8def\u7531 \u5730\u5740\u4e3a 127.0.0.1:5000/ # \u6e32\u67d3ajax\u6a21\u677f @app.route('/') def index(): # \u6e32\u67d3Ajax\u9875\u9762\u5185\u5bb9 return render_template('ajax.html') # \u66f4\u6539\u8def\u7531\u8bf7\u6c42\u65b9\u5f0f\u4e3a get\u548cpost @app.route('/test_ajax/',methods=['GET','POST']) def test_ajax(): if request.method == 'POST': # \u63a5\u6536POST\u6570\u636e print(request.form) else: # \u63a5\u6536GET\u6570\u636e print(request.args) # \u8fd4\u56de\u54cd\u5e94JSON\u6570\u636e return jsonify({'code':200}) if name == ' main ': app.run(debug=True) # \u8fd0\u884c ``` (2) Hook Ajax Hook Ajax \u7b2c\u4e00\u6b65 \u5c06\u4f20\u9012\u8868\u5355\u6570\u636e\u8fdb\u884c\u6539\u9020 ```javascript Title button document.querySelector('button').addEventListener('click', function (){ var xhr = new XMLHttpRequest() var params = \"param1=value1&param2=value2\"; var url = \"http://127.0.0.1:5000/ajax/\"; xhr.onreadystatechange = function (){ if(xhr.readyState == 4 && xhr.status == 200){ var response = xhr.responseText; console.log(response) } } my_open() function my_open() { console.log('\u8fdb\u884c\u52a0\u5bc6\u5566') xhr.open(\"POST\", url + '?md5=abcdef---'); my_send() } function my_send() { xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"); xhr.send(params) } }) ``` \u901a\u8fc7\u6d4f\u89c8\u5668\u53d1\u73b0\u6b64\u523b\u5728\u4f20\u9012\u6570\u636e\u4e2d\u591a\u4e86\u52a0\u5bc6\u7684\u503c \u8fdb\u5165js\u8c03\u7528\u6808\u8fdb\u884c\u67e5\u627e \u53d1\u73b0\u5f88\u5bb9\u6613\u80fd\u591f\u627e\u5230\u52a0\u5bc6\u7684\u4f4d\u7f6e \u4ee3\u7801\u8fdb\u884c\u6539\u9020 \u4f7f\u7528hook \u9690\u85cf\u52a0\u5bc6 <!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <button type=\"button\">button</button> <script> document.querySelector('button').addEventListener('click', function (){ var xhr = new XMLHttpRequest() var params = \"param1=value1&param2=value2\"; var url = \"http://127.0.0.1:5000/ajax/\"; var my_open = XMLHttpRequest.prototype.open XMLHttpRequest.prototype.open = function () { console.log('\u8fdb\u884c\u52a0\u5bc6\u5566') var url = arguments[1] arguments[1] = url + '?md5=abcdef---' return my_open.apply(this, arguments) } xhr.onreadystatechange = function (){ if(xhr.readyState == 4 && xhr.status == 200){ var response = xhr.responseText; console.log(response) } } xhr.open(\"POST\", url) xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"); xhr.send(params) }) </script> </body> </html> \u5728\u6d4f\u89c8\u5668\u8fdb\u884c\u8c03\u8bd5\u67e5\u770b \u53d1\u73b0\u6b64\u523b\u65e0\u6cd5\u67e5\u627e\u5230\u52a0\u5bc6\u4f4d\u7f6e \u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u53ef\u4ee5\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c \u5728console\u4e2d\u8f93\u5165XMLHttpRequest.prototype.open \u901a\u8fc7\u6253\u5370\u67e5\u770b \u6b64\u523b\u80fd\u591f\u67e5\u770b\u5230\u5e76\u4e0d\u662f\u539f\u751f\u7684open \u800c\u662f\u88ab\u4fee\u6539\u540e\u7684open \u6b64\u523b\u4fbf\u67e5\u627e\u5230\u4e86\u52a0\u5bc6\u4f4d\u7f6e \u539f\u751f\u7684open\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u8fd9\u6837\u7684 \u88ab\u4fee\u6539\u540e\u7684open XMLHttpRequest.prototype.open Hook\u5b9e\u4f8b \u7f51\u5740\uff1a http://www.fangdi.com.cn/old_house/old_place.html?district3=27d3af3bd45acf5e \u70b9\u51fbjs\u8c03\u7528\u6808 \u70b9\u51fb\u8fdb\u5165\u540e \u901a\u8fc7\u6253\u65ad\u70b9 \u5e76\u6ca1\u6709\u53d1\u73b0\u5728\u8bf7\u6c42\u91cc\u9762\u90a3\u4e48\u957f\u7684\u53c2\u6570 \u6b64\u523b\u8fdb\u5165\u5230\u7ec8\u7aef \u67e5\u770b\u5f53\u524d\u662f\u5426\u4f7f\u7528hook\u8fdb\u884c\u4e86\u52a0\u5bc6 XMLHttpRequest.prototype.open \u70b9\u51fb\u8fdb\u5165 \u67e5\u627e\u5230\u52a0\u5bc6\u4f4d\u7f6e (3) JQuery Ajax \u6982\u8ff0 jQuery Ajax\u662f\u4e00\u4e2a\u7528\u4e8e\u8fdb\u884c\u5f02\u6b65\u8bf7\u6c42\u7684JavaScript\u5e93\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u800c\u5f3a\u5927\u7684\u65b9\u5f0f\u6765\u53d1\u9001HTTP\u8bf7\u6c42\uff0c\u5e76\u5728\u540e\u53f0\u4e0e\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u800c\u65e0\u9700\u5237\u65b0\u6574\u4e2a\u9875\u9762\u3002 \u8bf7\u6c42\u7c7b\u578b \u4f7f\u7528jQuery Ajax\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u53d1\u9001\u4e0d\u540c\u7c7b\u578b\u7684HTTP\u8bf7\u6c42\uff1a GET\u8bf7\u6c42\uff1a\u7528\u4e8e\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u3002 POST\u8bf7\u6c42\uff1a\u7528\u4e8e\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\u3002 PUT\u8bf7\u6c42\uff1a\u7528\u4e8e\u66f4\u65b0\u670d\u52a1\u5668\u4e0a\u7684\u6570\u636e\u3002 DELETE\u8bf7\u6c42\uff1a\u7528\u4e8e\u4ece\u670d\u52a1\u5668\u5220\u9664\u6570\u636e\u3002 jQuery Ajax\u53d1\u9001GET\u8bf7\u6c42\u7684\u793a\u4f8b\uff1a javascript $.ajax({ url: \"http://example.com/data\", type: \"GET\", // method: \"GET\", method\u548ctype\u90fd\u662f\u6307\u5b9a\u8bf7\u6c42\u7684\u65b9\u5f0f success: function(response) { // \u5728\u6210\u529f\u63a5\u6536\u5230\u54cd\u5e94\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(response); }, error: function(xhr, status, error) { // \u5728\u8bf7\u6c42\u5931\u8d25\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(\"\u8bf7\u6c42\u5931\u8d25\uff1a\" + error); } }); \u8bf4\u660e \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 $.ajax() \u51fd\u6570\u53d1\u9001\u4e00\u4e2aGET\u8bf7\u6c42\u5230\u6307\u5b9a\u7684URL\u3002 url \u53c2\u6570\u6307\u5b9a\u76ee\u6807URL\uff0c type \u53c2\u6570\u6307\u5b9a\u8bf7\u6c42\u7c7b\u578b\u4e3aGET\u3002 success \u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u6210\u529f\u63a5\u6536\u5230\u54cd\u5e94\u65f6\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002 error \u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u8bf7\u6c42\u5931\u8d25\u65f6\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u9519\u8bef\u4fe1\u606f\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002 jQuery Ajax\u53d1\u9001POST\u8bf7\u6c42\u7684\u793a\u4f8b\uff1a \u4f7f\u7528jQuery Ajax\u53d1\u9001POST\u8bf7\u6c42\u7684\u65b9\u6cd5\u4e0e\u53d1\u9001GET\u8bf7\u6c42\u7c7b\u4f3c\uff0c\u53ea\u9700\u5c06 type \u53c2\u6570\u8bbe\u7f6e\u4e3a\"POST\"\uff0c\u5e76\u901a\u8fc7 data \u53c2\u6570\u4f20\u9012\u8981\u53d1\u9001\u7684\u6570\u636e\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b javascript $.ajax({ url: \"http://example.com/submit\", type: \"POST\", // method: \"GET\", method\u548ctype\u90fd\u662f\u6307\u5b9a\u8bf7\u6c42\u7684\u65b9\u5f0f data: { name: \"John\", age: 25 }, success: function(response) { // \u5728\u6210\u529f\u63a5\u6536\u5230\u54cd\u5e94\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(response); }, error: function(xhr, error) { // \u5728\u8bf7\u6c42\u5931\u8d25\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(\"\u72b6\u6001\u7801\u4e3a\uff1a\" + xhr.status, \"\u8bf7\u6c42\u5931\u8d25\uff1a\" + error); } }); \u8bf4\u660e\uff1a \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 $.ajax() \u51fd\u6570\u53d1\u9001\u4e00\u4e2aPOST\u8bf7\u6c42\u5230\u6307\u5b9a\u7684URL\u3002 url \u53c2\u6570\u6307\u5b9a\u76ee\u6807URL\uff0c type \u53c2\u6570\u8bbe\u7f6e\u4e3a\"POST\"\u4ee5\u6307\u5b9a\u8bf7\u6c42\u7c7b\u578b\u4e3aPOST\u3002 data \u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u5305\u542b\u8981\u53d1\u9001\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6dfb\u52a0\u66f4\u591a\u5b57\u6bb5\u548c\u503c\u3002 \u5f53\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u8bf7\u6c42\u5e76\u8fd4\u56de\u54cd\u5e94\u65f6\uff0c success \u56de\u8c03\u51fd\u6570\u5c06\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002\u5728\u8bf7\u6c42\u5931\u8d25\u65f6\uff0c error \u56de\u8c03\u51fd\u6570\u5c06\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u9519\u8bef\u4fe1\u606f\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002 \u6ce8\u610f\uff1a \u5f53\u4f7f\u7528 $.ajax \u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u8bf7\u6c42\u5931\u8d25\u4e14 xhr.status \u7684\u503c\u4e3a 0\uff0c\u8868\u793a\u8be5\u8bf7\u6c42\u5728\u53d1\u9001\u8fc7\u7a0b\u4e2d\u53d1\u751f\u4e86\u9519\u8bef\uff0c\u65e0\u6cd5\u83b7\u53d6\u6709\u6548\u7684 HTTP \u72b6\u6001\u7801\u3002 (4) \u8de8\u57df\u8bf7\u6c42 4.1 \u6982\u8ff0 \u8de8\u57df\u8bf7\u6c42\u6307\u7684\u662f\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e0b\uff0c\u901a\u8fc7JavaScript\u4ee3\u7801\u5411\u4e0d\u540c\u6e90\uff08\u5373\u534f\u8bae\u3001\u57df\u540d\u6216\u7aef\u53e3\u4e0d\u540c\uff09\u7684\u670d\u52a1\u5668\u53d1\u9001 HTTP \u8bf7\u6c42\u3002\u7531\u4e8e\u6d4f\u89c8\u5668\u51fa\u4e8e\u5b89\u5168\u8003\u8651\u5b9e\u65bd\u4e86\u540c\u6e90\u7b56\u7565\uff08Same-Origin Policy\uff09\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cJavaScript \u53ea\u80fd\u4e0e\u540c\u4e00\u6e90\u7684\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u3002 \u5f53 JavaScript \u4ee3\u7801\u8bd5\u56fe\u5411\u4e0d\u540c\u6e90\u7684\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u963b\u6b62\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u4ee5\u4fdd\u62a4\u7528\u6237\u7684\u5b89\u5168\u548c\u9690\u79c1\u3002\u8fd9\u662f\u56e0\u4e3a\u8de8\u57df\u8bf7\u6c42\u53ef\u80fd\u4f1a\u5f15\u53d1\u4e00\u4e9b\u5b89\u5168\u98ce\u9669\uff0c\u4f8b\u5982\u8de8\u7ad9\u70b9\u811a\u672c\u653b\u51fb\uff08Cross-Site Scripting\uff0c\u7b80\u79f0 XSS\uff09\u3002\u540c\u6e90\u7b56\u7565\u8981\u6c42\u8bf7\u6c42\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u89c4\u5219\uff1a \u534f\u8bae\u76f8\u540c\uff1a\u4e24\u4e2a\u9875\u9762\u7684\u534f\u8bae\uff08\u5982 http \u6216 https\uff09\u5fc5\u987b\u76f8\u540c\u3002 \u57df\u540d\u76f8\u540c\uff1a\u4e24\u4e2a\u9875\u9762\u7684\u57df\u540d\u5fc5\u987b\u5b8c\u5168\u76f8\u540c\u3002 \u7aef\u53e3\u76f8\u540c\uff1a\u4e24\u4e2a\u9875\u9762\u7684\u7aef\u53e3\u53f7\u5fc5\u987b\u5b8c\u5168\u76f8\u540c\u3002 \u5982\u679c\u4e0d\u6ee1\u8db3\u4ee5\u4e0a\u5168\u90e8\u6761\u4ef6\uff0c\u5c31\u4f1a\u88ab\u89c6\u4e3a\u8de8\u57df\u8bf7\u6c42\u3002\u4f8b\u5982\uff0c\u5728\u7f51\u9875 http://example.com/index.html \u4e2d\u4f7f\u7528 JavaScript \u53d1\u9001\u8bf7\u6c42\u5230 http://api.example.com/data \u63a5\u53e3\uff0c\u5c31\u5c5e\u4e8e\u8de8\u57df\u8bf7\u6c42\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8de8\u57df\u8bf7\u6c42\u5e76\u4e0d\u9650\u4e8e AJAX \u8bf7\u6c42\uff0c\u5b83\u4e5f\u9002\u7528\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u8d44\u6e90\u8bf7\u6c42\uff0c\u6bd4\u5982 <img> \u3001 <script> \u3001 <link> \u7b49\u3002 \u4e3a\u4e86\u5728\u8de8\u57df\u60c5\u51b5\u4e0b\u5b9e\u73b0\u5b89\u5168\u7684\u901a\u4fe1\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u7279\u5b9a\u7684\u6280\u672f\u548c\u7b56\u7565\uff0c\u5982 JSONP\u3001CORS\u3001\u4ee3\u7406\u670d\u52a1\u5668\u7b49\u3002\u8fd9\u4e9b\u65b9\u5f0f\u53ef\u4ee5\u7ed5\u8fc7\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u9650\u5236\uff0c\u4ece\u800c\u5b9e\u73b0\u8de8\u57df\u8bf7\u6c42\u3002 4.2 \u4ee3\u7801\u51c6\u5907 \u670d\u52a1\u5668\u7aef\u4ee3\u7801 python from flask import Flask, render_template, request, make_response app = Flask(__name__) @app.route('/ajax/', methods=['GET', 'POST']) def ajax(): if request.method == 'POST': print(\"POST===>\", request.form) return {'name': 'POST'} if request.args: print('GET=>>>>>>', request.args) return {'name': 'GET'} return render_template('ajax.html') if __name__ == '__main__': app.run(debug=True) \u524d\u7aef\u4ee3\u7801 ajax.html ```html Title GET\u8bf7\u6c42 POST\u8bf7\u6c42 // post $('#jq_btn_post').click(function (){ // POST $.ajax({ url: 'http://127.0.0.1:5000/ajax/?name=lucky', type: 'POST', data: { name: 'lucky', age: 18, }, success: function(response){ console.log(response) }, error: function (xhr, error) { console.log(xhr.status, error) }}) }) // GET $('#jq_btn_get').click(function (){ $.ajax({ url: 'http://127.0.0.1:5000/ajax/?name=lucky', type: 'GET', success: function (response) { console.log(response.name) }, error: function (xhr, error) { console.log('xhr', xhr.status) console.log('error', error) }}) }) ``` 4.3 \u540c\u6e90\u8bbf\u95ee\u4e0e\u8de8\u57df\u8bbf\u95ee \u540c\u6e90\u8bbf\u95ee \u6b64\u523b\u5982\u679c\u6b63\u5728\u901a\u8fc7flask\u8fd0\u884c\u8bbf\u95ee http://127.0.0.1:5000/ajax/\u5219\u6b63\u5e38\u8bbf\u95ee \u56e0\u4e3a\u6b64\u523b\u4e3a\u540c\u6e90\u8bbf\u95ee \u8de8\u57df\u8bbf\u95ee \u4e5f\u5c31\u662f\u5355\u72ec\u8fd0\u884cHTML\u6587\u4ef6 \u6b64\u523b\u8bf7\u6c42\u5931\u8d25 \u51fa\u73b0\u4e86\u8de8\u57df\u8bf7\u6c42 4.4 \u89e3\u51b3\u65b9\u5f0f Access-Control-Allow-Origin \u5728\u670d\u52a1\u5668\u7aef\u8fdb\u884c\u8bbe\u5b9a\u54cd\u5e94\u5934 Access-Control-Allow-Origin ```python from flask import Flask, render_template, request, make_response app = Flask( name ) @app.route('/ajax/', mehods=['GET', 'POST']) def ajax(): if request.method == 'POST': print(\"POST===>\", request.form) response = make_response({'name': 'POST'}) # \u8bbe\u7f6e\u54cd\u5e94\u5934 \u5141\u8bb8\u8de8\u57df response.headers['Access-Control-Allow-Origin'] = '*' return response if request.args: print('GET=>>>>>>', request.args) response = make_response({'name': 'GET'}) # \u8bbe\u7f6e\u54cd\u5e94\u5934 \u5141\u8bb8\u8de8\u57df response.headers['Access-Control-Allow-Origin'] = '*' return response return render_template('ajax.html') if name == ' main ': app.run(debug=True) ``` \u8fdb\u884c\u8bbf\u95ee JSONP \u524d\u7aef\u4ee3\u7801 ```javascript <!DOCTYPE html> Title url = 'http://127.0.0.1:5000/new_ajax/' jsonp(function (data) { console.log(data) })</p> <pre><code>function jsonp(fn){ var time = Date.now(); // \u7528\u4e8e\u8d77\u4e0d\u91cd\u590d\u7684\u51fd\u6570\u540d var prefix = 'callback' // \u8bf7\u6c42\u4f20\u9012\u7684key\u540d\u79f0 url += `?${prefix}=${time}` // \u53c2\u6570\u62fc\u63a5\u5230url var my_script = document.createElement('script') // \u521b\u5efascript\u8282\u70b9 my_script.setAttribute('src', url) // \u8bbe\u7f6eurl console.log(my_script) document.querySelector('head').appendChild(my_script) window[prefixre+time] = fn // \u8bbe\u5b9a\u6267\u884c\u529f\u80fd\u7684\u51fd\u6570 } </code></pre> <p> ``` \u540e\u7aef\u4ee3\u7801 python @app.route('/new_ajax/') def new_ajax(): time = request.args.get('callback') return 'callback'+time+'({\"name\": \"lucky\", \"age\": 18, \"con\": \"\u670d\u52a1\u5668\u7aef\u8fd4\u56dejs\u6570\u636e\"})' \u6ce8\u610f \u53ea\u80fdget\u8bf7\u6c42 \u670d\u52a1\u7aef\u8fd4\u56de\u5185\u5bb9\u4e3ajs\u4ee3\u7801 \u6d4f\u89c8\u5668\u4f1a\u89e3\u6790\u6267\u884c\u8c03\u7528js\u4ee3\u7801 \u5f53\u524d\u8bf7\u6c42\u53ea\u4f1a\u51fa\u73b0\u5728js\u83dc\u5355\u4e2d \u4e0d\u518d\u662fxhr \u8fd0\u884c\u56fe\u4f8b \u627e\u5230\u5f53\u524d\u8bf7\u6c42\u67e5\u770b\u8bf7\u6c42\u53c2\u6570 \u67e5\u770b\u8bf7\u6c42\u8fd4\u56de\u5185\u5bb9 \u67e5\u770b\u63a7\u5236\u53f0\u6267\u884c\u6253\u5370\u5185\u5bb9 ajax\u7684JSONP \u524d\u7aef\u4ee3\u7801 javascript $('#JSONP').click(function (){ $.ajax({ url: 'http://127.0.0.1:5000/new_ajax/', dataType: 'jsonp', jsonp: 'callback', success: function(data) { // \u5904\u7406\u8fd4\u56de\u7684\u6570\u636e console.log('\u8fd4\u56de\u6570\u636e', data) }, }); }) \u540e\u7aef\u4ee3\u7801 python @app.route('/new_ajax/', methods=['GET', 'POST']) def new_ajax(): time = request.args.get('callback') print(time) return str(time)+'({\"name\": \"lucky\", \"age\": 18, \"con\": \"\u670d\u52a1\u5668\u7aef\u8fd4\u56dejs\u6570\u636e\"})' \u5b9e\u6218\u6848\u4f8b www.taobao.com \u67e5\u770b\u54cd\u5e94\u5185\u5bb9 \u67e5\u770b\u8bf7\u6c42\u5185\u5bb9 \u67e5\u770b\u5f53\u524d\u8bf7\u6c42\u7684url \u5f53\u524durl\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u8bf7\u6c42 www.jd.com \u6839\u636ejs\u70b9\u51fb\u67e5\u770b\u627e\u5230jsonp\u7684\u8bf7\u6c42 \u67e5\u770b\u54cd\u5e94\u5185\u5bb9 \u4e5d\u3001axios (1) \u6982\u8ff0 \u5728JavaScript\u4e2d\uff0cAxios\u662f\u4e00\u4e2a\u6d41\u884c\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u7528\u4e8e\u8fdb\u884cHTTP\u8bf7\u6c42\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u3001\u7075\u6d3b\u548c\u5f3a\u5927\u7684\u65b9\u5f0f\u6765\u4e0e\u540e\u7aef\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u5e76\u5904\u7406\u54cd\u5e94\u6570\u636e\u3002 Axios\u5177\u6709\u4ee5\u4e0b\u529f\u80fd\u548c\u4f5c\u7528\uff1a \u53d1\u9001HTTP\u8bf7\u6c42\uff1aAxios\u53ef\u4ee5\u53d1\u9001GET\u3001POST\u3001PUT\u3001DELETE\u7b49\u5404\u79cd\u7c7b\u578b\u7684HTTP\u8bf7\u6c42\u3002\u5b83\u63d0\u4f9b\u4e86\u7b80\u6d01\u7684\u8bed\u6cd5\u548c\u6613\u4e8e\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u53d1\u9001\u8bf7\u6c42\u53d8\u5f97\u975e\u5e38\u65b9\u4fbf\u3002 \u5904\u7406\u54cd\u5e94\u6570\u636e\uff1aAxios\u53ef\u4ee5\u63a5\u6536\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u591a\u79cd\u5904\u7406\u65b9\u5f0f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528Axios\u7684\u62e6\u622a\u5668\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u8fdb\u884c\u9884\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u54cd\u5e94\u6570\u636e\u8fdb\u884c\u8f6c\u6362\u3001\u8fc7\u6ee4\u3001\u5206\u6790\u7b49\u64cd\u4f5c\u3002 \u652f\u6301\u5e76\u53d1\u8bf7\u6c42\uff1aAxios\u652f\u6301\u540c\u65f6\u53d1\u9001\u591a\u4e2a\u5e76\u53d1\u8bf7\u6c42\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u5408\u5e76\u8fd4\u56de\u7ed3\u679c\u3001\u53d6\u6d88\u8bf7\u6c42\u7b49\u529f\u80fd\u3002\u8fd9\u5bf9\u4e8e\u9700\u8981\u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6570\u636e\u6216\u8005\u6279\u91cf\u63d0\u4ea4\u8868\u5355\u7b49\u573a\u666f\u975e\u5e38\u6709\u7528\u3002 \u8bbe\u7f6e\u8bf7\u6c42\u914d\u7f6e\uff1aAxios\u5141\u8bb8\u4f60\u8bbe\u7f6e\u8bf7\u6c42\u7684\u5404\u79cd\u914d\u7f6e\uff0c\u5305\u62ec\u8bf7\u6c42\u5934\u3001\u8d85\u65f6\u65f6\u95f4\u3001\u8ba4\u8bc1\u4fe1\u606f\u7b49\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5168\u5c40\u914d\u7f6e\u6216\u8005\u9488\u5bf9\u7279\u5b9a\u8bf7\u6c42\u8fdb\u884c\u5b9a\u5236\uff0c\u4ece\u800c\u6ee1\u8db3\u4e0d\u540c\u7684\u9700\u6c42\u3002 \u5904\u7406\u9519\u8bef\u548c\u5f02\u5e38\uff1aAxios\u53ef\u4ee5\u6355\u83b7\u8bf7\u6c42\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\u548c\u5f02\u5e38\uff0c\u5e76\u63d0\u4f9b\u9002\u5f53\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u8bf7\u6c42\u72b6\u6001\u7801\u3001\u7f51\u7edc\u9519\u8bef\u3001\u8d85\u65f6\u7b49\u60c5\u51b5\u6765\u5b9a\u5236\u9519\u8bef\u5904\u7406\u903b\u8f91\u3002 \u603b\u4e4b\uff0cAxios\u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u4e14\u6613\u4e8e\u4f7f\u7528\u7684HTTP\u8bf7\u6c42\u5e93\uff0c\u5728JavaScript\u4e2d\u5e7f\u6cdb\u5e94\u7528\u4e8e\u524d\u7aef\u5f00\u53d1\u4e2d\u4e0e\u540e\u7aefAPI\u8fdb\u884c\u901a\u4fe1\u7684\u573a\u666f\u3002\u5b83\u7b80\u5316\u4e86\u8bf7\u6c42\u8fc7\u7a0b\u7684\u64cd\u4f5c\u548c\u7ba1\u7406\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\u6765\u6ee1\u8db3\u5404\u79cd\u9700\u6c42\u3002 (2) \u901a\u8fc7axios.create\u521b\u5efa\u5bf9\u8c61\u8fdb\u884c\u53d1\u8d77\u8bf7\u6c42 \u9700\u8981\u53d1\u9001HTTP\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u901a\u8fc7\u521b\u5efaAxios\u5b9e\u4f8b\u6765\u4f7f\u7528Axios\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5f15\u5165Axios\u5e93\u5e76\u521b\u5efa\u5b9e\u4f8b ```html ``` \u4ee3\u7801\u5b9e\u4f8b javascript // \u521b\u5efaAxios\u5b9e\u4f8b const instance = axios.create({ baseURL: 'https://api.example.com', // \u8bbe\u7f6e\u57fa\u7840URL timeout: 5000, // \u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4 headers: { // \u8bbe\u7f6e\u8bf7\u6c42\u5934 'Content-Type': 'application/json', } }); \u53d1\u9001GET\u8bf7\u6c42\uff1a javascript instance.get('/api/users?name=lucky').then(response => { // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u53d1\u9001POST\u8bf7\u6c42\uff1a javascript instance.post('/api/users', { name: 'lucky', email: 'lucky@example.com' }) .then(response => // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u5b9e\u4f8b \u5ba2\u6237\u7aef\u4ee3\u7801 axios.html ```javascript Title \u70b9\u51fb\u53d1\u9001 $('button').click(function(){ var instance = axios.create({ baseURL: 'http://127.0.0.1:5000', timeout: 5000, headers:{ // 'Content-Type': 'application/json', // \u53d1\u9001JSON\u6570\u636e \"Content-Type\": \"application/x-www-form-urlencoded\", // \u53d1\u9001\u8868\u5355\u6570\u636e } }); // \u53d1\u9001JSON\u6570\u636e // instance.post('/axios/',{'name':'lucky'}).then(response=>{ // \u53d1\u9001\u8868\u5355\u6570\u636e instance.post('/axios/','name=lucky').then(response=>{ console.log(response.data, '\u6210\u529f') }).catch(error=>{ console.log('error', error) }) } ``` \u670d\u52a1\u7aef\u4ee3\u7801 manage.py ```python from flask import Flask,render_template,jsonify,request,make_response # \u5bfc\u5165flask\u7c7b # \u5b9e\u4f8b\u5316Flask\u7c7b app = Flask( name ) # \u6e32\u67d3ajax\u6a21\u677f @app.route('/') def post(): return render_template('axios.html') # \u66f4\u6539\u8def\u7531\u8bf7\u6c42\u65b9\u5f0f\u4e3apost\u548cget @app.route('/axios/',methods=['GET','POST']) def test_ajax(): if request.method == 'POST': # \u63a5\u6536POST\u6570\u636e print('\u63a5\u6536\u8868\u5355\u6570\u636e', request.form) # \u63a5\u6536\u8868\u5355\u6570\u636e # print('\u63a5\u6536JSON\u6570\u636e', request.json) # \u63a5\u6536JSON\u6570\u636e else: # \u63a5\u6536GET\u6570\u636e print(request.args) response = make_response({\"name\": \"lucky\", \"age\": 18, \"con\": \"\u670d\u52a1\u5668\u7aef\u8fd4\u56dejs\u6570\u636e\"}) # \u8bbe\u7f6e\u54cd\u5e94\u5934 \u5141\u8bb8\u8de8\u57df response.headers['Access-Control-Allow-Origin'] = '*' return response # \u5224\u65ad\u503c\u5728\u672c\u6a21\u5757\u624d\u8fd0\u884c if name == ' main ': app.run(debug=True) # \u8fd0\u884c ``` (3) \u76f4\u63a5\u8fdb\u884cget\u548cpost\u53d1\u8d77\u8bf7\u6c42 axios.get \u53d1\u9001GET\u8bf7\u6c42\u683c\u5f0f\uff1a javascript axios.get(url[, config]) .then(response => { // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u4f7f\u7528 axios.post \u53d1\u9001POST\u8bf7\u6c42\u683c\u5f0f\uff1a javascript axios.post(url[, data[, config]]) .then(response => { // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u6ce8\u610f\uff1a\u53d1\u9001post\u8bf7\u6c42\u9ed8\u8ba4\u8bf7\u6c42\u5934\u4e3a application/json \u53c2\u6570\u8bf4\u660e url \u662f\u8981\u53d1\u9001POST\u8bf7\u6c42\u7684\u76ee\u6807URL\u3002 data \u662f\u8981\u53d1\u9001\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u662f\u5bf9\u8c61\u3001\u5b57\u7b26\u4e32\u3001FormData\u7b49\u3002 config \u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u8bf7\u6c42\u3002\u5176\u4e2d\u5305\u62ec\u8bf7\u6c42\u5934\u3001\u8d85\u65f6\u65f6\u95f4\u7b49\u7b49\u3002 \u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u65f6\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u8981\u4f20\u9012\u4e0d\u540c\u7684\u53c2\u6570\uff0c\u5982URL\u3001\u8bf7\u6c42\u4f53\u6570\u636e\u3001\u8bf7\u6c42\u914d\u7f6e\u7b49\u3002\u7136\u540e\uff0c\u901a\u8fc7Promise\u7684 .then() \u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u6210\u529f\u540e\u7684\u54cd\u5e94\u6570\u636e\uff0c\u901a\u8fc7 .catch() \u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u51fa\u9519\u65f6\u7684\u9519\u8bef\u4fe1\u606f\u3002 \u5b9e\u4f8b get\u5b9e\u4f8b javascript axios.get('http://127.0.0.1:5000/axios/?name=lucky').then(response=>{ console.log(response.data, '\u6210\u529f') }).catch(error=>{ console.log('error', error) }) post\u5b9e\u4f8b javascript axios.post('http://127.0.0.1:5000/axios/',{'name':'lucky'}, {'Content-Type': 'application/json'}).then(response=>{ console.log(response.data, '\u6210\u529f') }).catch(error=>{ console.log('error', error) }) (4) \u6ce8\u610f Axios\u5e93\u4e2d\u7684\u6240\u6709\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5305\u62ec axios.get \u3001 axios.post \u7b49\uff0c\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2aPromise\u5b9e\u4f8b\u3002\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f7f\u7528Promise\u7684\u94fe\u5f0f\u8c03\u7528\u8bed\u6cd5\uff08 .then().catch() \uff09\u6765\u5904\u7406\u5f02\u6b65\u8bf7\u6c42\u7684\u7ed3\u679c\u3002 \u901a\u8fc7\u8c03\u7528 axios.get \u65b9\u6cd5\u53d1\u9001GET\u8bf7\u6c42\u65f6\uff0c\u5b83\u4f1a\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 .then() \u65b9\u6cd5\u6765\u5904\u7406\u8bf7\u6c42\u6210\u529f\u540e\u7684\u54cd\u5e94\u6570\u636e\uff0c\u4f7f\u7528 .catch() \u65b9\u6cd5\u6765\u5904\u7406\u8bf7\u6c42\u51fa\u9519\u65f6\u7684\u9519\u8bef\u4fe1\u606f\u3002 (5) axios.create\u548caxios.get/post \u7684\u533a\u522b axios.create \u548c axios.get \u662fAxios\u5e93\u4e2d\u7684\u4e24\u4e2a\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u5b83\u4eec\u6709\u4ee5\u4e0b\u533a\u522b\uff1a \u529f\u80fd\u4e0d\u540c\uff1a axios.create \uff1a axios.create \u65b9\u6cd5\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Axios\u5b9e\u4f8b\u3002\u901a\u8fc7\u8fd9\u4e2a\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u3001\u62e6\u622a\u5668\u3001\u9ed8\u8ba4\u8bf7\u6c42\u5934\u7b49\u3002\u521b\u5efa\u5b9e\u4f8b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u8be5\u5b9e\u4f8b\u53d1\u9001\u5404\u79cd\u7c7b\u578b\u7684HTTP\u8bf7\u6c42\u3002 axios.get \uff1a axios.get \u65b9\u6cd5\u662fAxios\u5e93\u63d0\u4f9b\u7684\u7279\u5b9a\u7684HTTP GET\u8bf7\u6c42\u65b9\u6cd5\uff0c\u7528\u4e8e\u53d1\u9001GET\u8bf7\u6c42\u5e76\u83b7\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u3002 \u4f7f\u7528\u65b9\u5f0f\u4e0d\u540c\uff1a axios.create \uff1a axios.create \u65b9\u6cd5\u9700\u8981\u5148\u8c03\u7528\u521b\u5efa\u5b9e\u4f8b\uff0c\u5e76\u5c06\u8fd4\u56de\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff0c\u7136\u540e\u901a\u8fc7\u8fd9\u4e2a\u53d8\u91cf\u6765\u53d1\u9001HTTP\u8bf7\u6c42\u3002\u521b\u5efa\u5b9e\u4f8b\u65f6\u53ef\u4ee5\u8bbe\u7f6e\u5168\u5c40\u7684\u57fa\u7840URL\u3001\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4\u3001\u8bf7\u6c42\u5934\u7b49\u914d\u7f6e\u3002 axios.get \uff1a axios.get \u65b9\u6cd5\u76f4\u63a5\u8c03\u7528Axios\u5e93\u63d0\u4f9b\u7684\u5168\u5c40\u7684GET\u8bf7\u6c42\u65b9\u6cd5\uff0c\u65e0\u9700\u521b\u5efa\u5b9e\u4f8b\u3002\u53ea\u9700\u63d0\u4f9b\u8bf7\u6c42\u7684URL\u548c\u53ef\u9009\u7684\u914d\u7f6e\u53c2\u6570\u5373\u53ef\u53d1\u9001GET\u8bf7\u6c42\u3002 #### (6) axios\u548cajax\u7684\u533a\u522b Axios\u548cAjax\u90fd\u662f\u7528\u4e8e\u5728\u524d\u7aef\u53d1\u9001HTTP\u8bf7\u6c42\u7684\u5de5\u5177\uff0c\u4f46\u5b83\u4eec\u4e4b\u95f4\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4e3b\u8981\u533a\u522b\uff1a \u5e95\u5c42\u5b9e\u73b0\u65b9\u5f0f\uff1a Axios: Axios\u662f\u4e00\u4e2a\u57fa\u4e8ePromise\u7684\u73b0\u4ee3\u5316\u7684HTTP\u5ba2\u6237\u7aef\u5e93\uff0c\u4f7f\u7528\u4e86\u6d4f\u89c8\u5668\u5185\u7f6e\u7684XMLHttpRequest\u6216\u8005Node.js\u4e2d\u7684http\u6a21\u5757\u6765\u5b9e\u73b0\u5e95\u5c42\u7684HTTP\u8bf7\u6c42\u3002 Ajax: Ajax\uff08Asynchronous JavaScript and XML\uff09\u662f\u4e00\u79cd\u4f7f\u7528\u539f\u751f\u7684JavaScript\u548cXMLHttpRequest\u5bf9\u8c61\u8fdb\u884c\u5f02\u6b65\u901a\u4fe1\u7684\u6280\u672f\u3002 \u8bed\u6cd5\u548c\u63a5\u53e3\uff1a Axios: Axios\u63d0\u4f9b\u4e86\u7b80\u6d01\u3001\u6613\u7528\u7684API\u63a5\u53e3\uff0c\u4ee5\u94fe\u5f0f\u8c03\u7528\u7684\u5f62\u5f0f\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u3002\u5b83\u8fd4\u56de\u7684\u662fPromise\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528async/await\u7b49\u8bed\u6cd5\u7cd6\u8fdb\u884c\u66f4\u52a0\u65b9\u4fbf\u7684\u5f02\u6b65\u64cd\u4f5c\u3002 Ajax: Ajax\u9700\u8981\u624b\u52a8\u521b\u5efaXMLHttpRequest\u5bf9\u8c61\uff0c\u5e76\u901a\u8fc7\u4e8b\u4ef6\u76d1\u542c\u7684\u65b9\u5f0f\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u3002\u5b83\u901a\u5e38\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u6765\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\uff0c\u4ee3\u7801\u7ed3\u6784\u8f83\u4e3a\u7e41\u7410\u3002 \u529f\u80fd\u548c\u7279\u6027\uff1a Axios: Axios\u652f\u6301\u5728\u6d4f\u89c8\u5668\u548cNode.js\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\uff0c\u5982\u62e6\u622a\u5668\u3001\u53d6\u6d88\u8bf7\u6c42\u3001\u5168\u5c40\u914d\u7f6e\u3001\u9519\u8bef\u5904\u7406\u7b49\u3002\u5b83\u8fd8\u80fd\u81ea\u52a8\u8f6c\u6362\u8bf7\u6c42\u548c\u54cd\u5e94\u6570\u636e\uff0c\u652f\u6301\u591a\u79cd\u683c\u5f0f\uff0c\u5982JSON\u3001FormData\u7b49\u3002 Ajax: Ajax\u4e3b\u8981\u7528\u4e8e\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\uff0c\u53ea\u63d0\u4f9b\u4e86\u57fa\u672c\u7684\u53d1\u9001HTTP\u8bf7\u6c42\u548c\u5904\u7406\u54cd\u5e94\u7684\u529f\u80fd\uff0c\u4e0d\u652f\u6301\u81ea\u52a8\u8f6c\u6362\u6570\u636e\u683c\u5f0f\u7b49\u9ad8\u7ea7\u7279\u6027\u3002 \u7efc\u4e0a\u6240\u8ff0\uff0cAxios\u662f\u4e00\u4e2a\u57fa\u4e8ePromise\u7684\u73b0\u4ee3\u5316HTTP\u5ba2\u6237\u7aef\u5e93\uff0c\u76f8\u6bd4\u4f20\u7edf\u7684Ajax\u66f4\u52a0\u6613\u7528\u3001\u529f\u80fd\u4e30\u5bcc\u3002\u5b83\u63d0\u4f9b\u4e86\u4f18\u96c5\u7684API\u63a5\u53e3\u548c\u8bb8\u591a\u4fbf\u6377\u7684\u529f\u80fd\uff0c\u4f7f\u5f97\u5728\u524d\u7aef\u5f00\u53d1\u4e2d\u5904\u7406HTTP\u8bf7\u6c42\u53d8\u5f97\u66f4\u52a0\u65b9\u4fbf\u548c\u9ad8\u6548\u3002 (5) \u62e6\u622a\u5668 interceptors \u6982\u8ff0 \u5b83\u63d0\u4f9b\u4e86\u62e6\u622a\u5668(interceptors)\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u5728\u8bf7\u6c42\u53d1\u9001\u6216\u54cd\u5e94\u8fd4\u56de\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u62e6\u622a\u548c\u5904\u7406\u3002 \u4f7f\u7528Axios\u62e6\u622a\u5668\u53ef\u4ee5\u5b9e\u73b0\u5f88\u591a\u529f\u80fd\uff0c\u4f8b\u5982\uff1a \u6dfb\u52a0\u516c\u5171\u8bf7\u6c42\u5934\uff1a\u4f60\u53ef\u4ee5\u5728\u8bf7\u6c42\u53d1\u9001\u4e4b\u524d\u901a\u8fc7\u62e6\u622a\u5668\u5411\u8bf7\u6c42\u4e2d\u6dfb\u52a0\u4e00\u4e9b\u516c\u5171\u7684\u8bf7\u6c42\u5934\u4fe1\u606f\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u91cd\u590d\u4ee3\u7801\u7684\u7f16\u5199\u3002 \u8bf7\u6c42\u9519\u8bef\u5904\u7406\uff1a\u5728\u8bf7\u6c42\u8fd4\u56de\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u62e6\u622a\u5668\u6765\u7edf\u4e00\u5904\u7406\u8bf7\u6c42\u7684\u9519\u8bef\uff0c\u6bd4\u5982\u7f51\u7edc\u9519\u8bef\u3001\u8ba4\u8bc1\u9519\u8bef\u7b49\u3002 \u8ba4\u8bc1\u5904\u7406\uff1a\u62e6\u622a\u5668\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5904\u7406\u8ba4\u8bc1\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u5728\u6bcf\u4e2a\u8bf7\u6c42\u4e2d\u6dfb\u52a0\u8ba4\u8bc1\u4fe1\u606f\u3001\u5237\u65b0token\u7b49\u3002 \u8fdb\u884c\u53cd\u6252\u5904\u7406 \u52a0\u5bc6\u6570\u636e \u643a\u5e26token \u8bf7\u6c42\u62e6\u622a\u5668 javascript axios.interceptors.request.use( (config) => { // \u6210\u529f\u6267\u884c\u51fd\u6570 // \u5728\u8bf7\u6c42\u53d1\u9001\u4e4b\u524d\u53ef\u4ee5\u5bf9\u8bf7\u6c42\u8fdb\u884c\u5904\u7406 console.log(config, '\u62e6\u622a\u6210\u529f') // \u6dfb\u52a0\u8bf7\u6c42\u5934\u7c7b\u578b config['headers']['Content-Type'] = 'application/json' return config },(error) => { // \u5931\u8d25\u6267\u884c\u51fd\u6570 // \u5904\u7406\u8bf7\u6c42\u9519\u8bef return Promise.reject(error, '\u62e6\u622a\u5931\u8d25'); }) \u54cd\u5e94\u62e6\u622a\u5668 \uff08\u7528\u4e8e\u5904\u7406\u9519\u8bef\u3001\u6216\u5bfe\u76f8\u5e94\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u7b49\u64cd\u4f5c\uff09 \u5728\u4e0a\u65b9\u8fdb\u884c\u62e6\u622a javascript // \u54cd\u5e94\u62e6\u622a\u5668 axios.interceptors.response.use( (response) => { // \u6210\u529f\u6267\u884c\u51fd\u6570 // \u5728\u54cd\u5e94\u8fd4\u56de\u4e4b\u524d\u53ef\u4ee5\u5bf9\u54cd\u5e94\u8fdb\u884c\u5904\u7406 response.data.name = '\u8fea\u4e3d\u70ed\u5df4' // \u8fdb\u884c\u89e3\u5bc6 \u5c06lucky\u89e3\u5bc6\u4e3a\u8fea\u4e3d\u70ed\u5df4 console.log(response, '\u54cd\u5e94\u62e6\u622a') return response; }, (error) => { // \u5931\u8d25\u6267\u884c\u51fd\u6570 // \u5904\u7406\u54cd\u5e94\u9519\u8bef return Promise.reject(error); } ); \u4e0a\u9762\u4f7f\u7528axios.create\u521b\u5efa\u7684\u8bf7\u6c42 \u9700\u8981\u4f7f\u7528\u5176\u5bf9\u5e94\u7684\u5bf9\u8c61\u8fdb\u884c\u62e6\u622a ```javascript // \u521b\u5efa\u8bf7\u6c42\u5bf9\u8c61instance let instance = axios.create({ baseURL: 'http://127.0.0.1:5000', // \u8bbe\u7f6e\u57fa\u7840URL timeout: 5000, // \u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4 headers: { // \u8bbe\u7f6e\u8bf7\u6c42\u5934 'Content-Type': 'application/json', } }); // \u8fdb\u884c\u62e6\u622a // \u8bf7\u6c42\u62e6\u622a\u5668 instance.interceptors.request.use(response=>{},error=>{}) // \u54cd\u5e94\u62e6\u622a\u5668 instance.interceptors.response.use(response=>{},error=>{}) instance.get('/axios/?name=lucky&age=18').then(response => { // instance.post('/axios/',{name: 'lucky', 'age': 18}).then(response => { console.log('response===>', response); }).catch(error => { // \u5904\u7406\u9519\u8bef console.error('error', error); }); ``` \u200b \u6ce8\u610f\uff1a\u62e6\u622a\u5668\u9700\u8981\u653e\u8bf7\u6c42\u4e0a\u65b9 (6) \u5b9e\u6218\u6848\u4f8b https://ctbpsp.com/#/ \u53d1\u73b0\u52a0\u5bc6\u6570\u636e \u901a\u8fc7\u8c03\u7528\u6808\u53d1\u73b0Promise.then \u8fd9\u79cd\u60c5\u51b5\u7edd\u5927\u591a\u6570\u4e3a\u62e6\u622a\u5668 \u76f4\u63a5\u641c\u7d22interceptors\u5373\u53ef \u641c\u7d22\u5230\u540e\u8fdb\u884c\u70b9\u51fb\u8fdb\u884c\u67e5\u770b \u901a\u8fc7\u67e5\u627e interceptors\u627e\u5230\u5f53\u524d\u8fdb\u884c\u89e3\u5bc6\u7684\u4ee3\u7801 \u627e\u5230\u62e6\u622a\u5668\u7684\u4f4d \u8fdb\u884c\u6253\u65ad\u70b9 \u901a\u8fc7\u65ad\u70b9 \u627e\u5230\u5f53\u524d\u89e3\u5bc6\u51fd\u6570 \u8fdb\u5165\u5230\u52a0\u5bc6\u51fd\u6570\u4f4d\u7f6e \u53d1\u73b0\u52a0\u5bc6\u7b97\u6cd5","title":"\u4e8c\u5341\u516d\u3001jQuery"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#jquery","text":"","title":"\u4e8c\u5341\u516d\u3001jQuery"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#_1","text":"jQuery \u4ecb\u7ecd jQuery \u662f\u4e00\u4e2a JavaScript \u5e93\u3002 jQuery \u6781\u5927\u5730\u7b80\u5316\u4e86 JavaScript \u7f16\u7a0b\u3002 \u4e0b\u8f7d jQuery \u5171\u6709\u4e24\u4e2a\u7248\u672c\u7684 jQuery \u53ef\u4f9b\u4e0b\u8f7d\uff1a\u4e00\u4efd\u662f\u7cbe\u7b80\u8fc7\u7684\uff0c\u53e6\u4e00\u4efd\u662f\u672a\u538b\u7f29\u7684\uff08\u4f9b\u8c03\u8bd5\u6216\u9605\u8bfb\uff09\u3002 \u5b57\u8282cdn: https://cdn.bytedance.com/ jquery: https://cdn.bytedance.com/?query=jquery&version=1.9.1 jQuery \u8bed\u6cd5 $(this).hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf\u5f53\u524d\u7684 HTML \u5143\u7d20\u3002 $(\"#test\").hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf id=\"test\" \u7684\u5143\u7d20\u3002 $(\"p\").hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf\u6240\u6709 \u5143\u7d20\u3002 $(\".test\").hide() \u6f14\u793a jQuery hide() \u51fd\u6570\uff0c\u9690\u85cf\u6240\u6709 class=\"test\" \u7684\u5143\u7d20\u3002 \u5165\u53e3\u64cd\u4f5c: ```javascript $(function(){ }) $(document).ready(function(){ }) ``` \u76f8\u5f53\u4e8ejs\u7684onlaod = functino(){} \u5728\u7ebfjs ```javascript ```","title":"\u4e00\u3001\u524d\u8a00"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#jquery_1","text":"","title":"\u4e8c\u3001jQuery \u9009\u62e9\u5668"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1-jquery","text":"jQuery \u4f7f\u7528 CSS \u9009\u62e9\u5668\u6765\u9009\u53d6 HTML \u5143\u7d20\u3002 $(\"p\") \u9009\u53d6 \u5143\u7d20\u3002 $(\"p.intro\") \u9009\u53d6\u6240\u6709 class=\"intro\" \u7684 \u5143\u7d20\u3002 $(\"p#demo\") \u9009\u53d6\u6240\u6709 id=\"demo\" \u7684 \u5143\u7d20\u3002 $('ul>li:nth-child(2)') $('li~p') $('li+p') $('ul li')","title":"(1) jQuery \u5143\u7d20\u9009\u62e9\u5668"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2-jquery","text":"jQuery \u4f7f\u7528 XPath \u8868\u8fbe\u5f0f\u6765\u9009\u62e9\u5e26\u6709\u7ed9\u5b9a\u5c5e\u6027\u7684\u5143\u7d20\u3002 $(\"[href]\") \u9009\u53d6\u6240\u6709\u5e26\u6709 href \u5c5e\u6027\u7684\u5143\u7d20\u3002 $(\"[href='#']\") \u9009\u53d6\u6240\u6709\u5e26\u6709 href \u503c\u7b49\u4e8e \"#\" \u7684\u5143\u7d20\u3002 $(\"[href!='#']\") \u9009\u53d6\u6240\u6709\u5e26\u6709 href \u503c\u4e0d\u7b49\u4e8e \"#\" \u7684\u5143\u7d20\u3002 $(\"[href$='.jpg']\") \u9009\u53d6\u6240\u6709 href \u503c\u4ee5 \".jpg\" \u7ed3\u5c3e\u7684\u5143\u7d20\u3002","title":"(2) jQuery \u5c5e\u6027\u9009\u62e9\u5668"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3-jquery-css","text":"jQuery CSS \u9009\u62e9\u5668\u53ef\u7528\u4e8e\u6539\u53d8 HTML \u5143\u7d20\u7684 CSS \u5c5e\u6027\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u628a\u6240\u6709 p \u5143\u7d20\u7684\u80cc\u666f\u989c\u8272\u66f4\u6539\u4e3a\u7ea2\u8272\uff1a $(\"p\").css(\"background-color\",\"red\");","title":"(3) jQuery CSS \u9009\u62e9\u5668"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#jquery-","text":"","title":"\u4e8c\u3001jQuery - \u83b7\u5f97\u5185\u5bb9\u548c\u5c5e\u6027"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#-texthtml-val","text":"\u4e09\u4e2a\u7b80\u5355\u5b9e\u7528\u7684\u7528\u4e8e DOM \u64cd\u4f5c\u7684 jQuery \u65b9\u6cd5\uff1a text() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9 html() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u5185\u5bb9\uff08\u5305\u62ec HTML \u6807\u8bb0 \u5f53\u5185\u5bb9\u5b58\u5728\u6807\u7b7e\u65f6\u624d\u4f1a\u8fdb\u884c\u8fd4\u56de \uff09 val() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u8868\u5355\u5b57\u6bb5\u7684\u503c \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u901a\u8fc7 jQuery text() \u548c html() \u65b9\u6cd5\u6765\u83b7\u5f97\u5185\u5bb9\uff1a","title":"\u83b7\u5f97\u5185\u5bb9 - text()\u3001html() \u4ee5\u53ca val()"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#_2","text":"<script> $(document).ready(function(){ $(\"#btn1\").click(function(){ alert(\"Text: \" + $(\"#test\").text()); }); $(\"#btn2\").click(function(){ alert(\"HTML: \" + $(\"#test\").html()); }); }); </script> </head> <body> <p id=\"test\">\u8fd9\u662f\u6bb5\u843d\u4e2d\u7684<b>\u7c97\u4f53</b>\u6587\u672c\u3002</p> <button id=\"btn1\">\u663e\u793a\u6587\u672c</button> <button id=\"btn2\">\u663e\u793a HTML</button> </body> \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u901a\u8fc7 jQuery val() \u65b9\u6cd5\u83b7\u5f97\u8f93\u5165\u5b57\u6bb5\u7684\u503c\uff1a","title":"\u5b9e\u4f8b"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#_3","text":"<script> $(document).ready(function(){ $(\"button\").click(function(){ alert(\"Value: \" + $(\"#test\").val()); }); }); </script> </head> <body> <p>\u59d3\u540d\uff1a<input type=\"text\" id=\"test\" value=\"\u7c73\u8001\u9f20\"></p> <button>\u663e\u793a\u503c</button>","title":"\u5b9e\u4f8b"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#-attr","text":"jQuery attr() \u65b9\u6cd5\u7528\u4e8e\u83b7\u53d6\u5c5e\u6027\u503c\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u83b7\u5f97\u94fe\u63a5\u4e2d href \u5c5e\u6027\u7684\u503c\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"button\").click(function(){ alert($(\"#lucky\").attr(\"href\")); }); }); </script> </head> <body> <p><a href=\"http://www.xialigang.com\" id=\"lucky\">xialigang.com</a></p> <button>\u663e\u793a href \u503c</button>","title":"\u83b7\u53d6\u5c5e\u6027 - attr()"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#jquery-_1","text":"","title":"\u4e09\u3001jQuery - \u8bbe\u7f6e\u5185\u5bb9\u548c\u5c5e\u6027"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1-texthtml-val","text":"\u6211\u4eec\u5c06\u4f7f\u7528\u524d\u4e00\u7ae0\u4e2d\u7684\u4e09\u4e2a\u76f8\u540c\u7684\u65b9\u6cd5\u6765\u8bbe\u7f6e\u5185\u5bb9\uff1a text() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9 html() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6240\u9009\u5143\u7d20\u7684\u5185\u5bb9\uff08\u5305\u62ec HTML \u6807\u8bb0\uff09 val() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u8868\u5355\u5b57\u6bb5\u7684\u503c \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u901a\u8fc7 text()\u3001html() \u4ee5\u53ca val() \u65b9\u6cd5\u6765\u8bbe\u7f6e\u5185\u5bb9\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"#test1\").text(\"Hello world!\"); }); $(\"#btn2\").click(function(){ $(\"#test2\").html(\"<b>Hello world!</b>\"); }); $(\"#btn3\").click(function(){ $(\"#test3\").val(\"Dolly Duck\"); }); }); </script> </head> <body> <p id=\"test1\">\u8fd9\u662f\u6bb5\u843d\u3002</p> <p id=\"test2\">\u8fd9\u662f\u53e6\u4e00\u4e2a\u6bb5\u843d\u3002</p> <p>Input field: <input type=\"text\" id=\"test3\" value=\"Mickey Mouse\"></p> <button id=\"btn1\">\u8bbe\u7f6e\u6587\u672c</button> <button id=\"btn2\">\u8bbe\u7f6e HTML</button> <button id=\"btn3\">\u8bbe\u7f6e\u503c</button>","title":"(1) \u8bbe\u7f6e\u5185\u5bb9 - text()\u3001html() \u4ee5\u53ca val()"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2-attr","text":"jQuery attr() \u65b9\u6cd5\u4e5f\u7528\u4e8e\u8bbe\u7f6e/\u6539\u53d8\u5c5e\u6027\u503c\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u6539\u53d8\uff08\u8bbe\u7f6e\uff09\u94fe\u63a5\u4e2d href \u5c5e\u6027\u7684\u503c\uff1a \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"button\").click(function(){ $(\"#w3s\").attr(\"href\",\"http://www.baidu.com\"); }); }); </script> </head> <body> <p><a href=\"http://http://www.xialigang.com\"\" id=\"w3s\">http://www.xialigang.com</a></p> <button>\u6539\u53d8 href \u503c</button> <p>\u8bf7\u628a\u9f20\u6807\u6307\u9488\u79fb\u52a8\u5230\u94fe\u63a5\u4e0a\uff0c\u6216\u8005\u70b9\u51fb\u8be5\u94fe\u63a5\uff0c\u6765\u67e5\u770b\u5df2\u7ecf\u6539\u53d8\u7684 href \u503c\u3002</p> </body> attr() \u65b9\u6cd5\u4e5f\u5141\u8bb8\u60a8\u540c\u65f6\u8bbe\u7f6e\u591a\u4e2a\u5c5e\u6027\u3002","title":"(2) \u8bbe\u7f6e\u5c5e\u6027 - attr()"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3-href-title","text":"\u5b9e\u4f8b <script> $(document).ready(function(){ $(\"button\").click(function(){ $(\"#w3s\").attr({ \"href\" : \"http://www.baidu.com\", \"title\" : \"title\" }); }); }); </script> </head> <body> <p><a href=\"http://www.xialigang.com\" id=\"w3s\">W3School.com.cn</a></p> <button>\u6539\u53d8 href \u548c title \u503c</button> <p>\u8bf7\u628a\u9f20\u6807\u6307\u9488\u79fb\u52a8\u5230\u94fe\u63a5\u4e0a\uff0c\u6216\u8005\u70b9\u51fb\u8be5\u94fe\u63a5\uff0c\u6765\u67e5\u770b\u5df2\u7ecf\u6539\u53d8\u7684 href \u503c\u548c\u5df2\u7ecf\u8bbe\u7f6e\u7684 title \u503c\u3002</p> </body>","title":"(3) \u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u540c\u65f6\u8bbe\u7f6e href \u548c title \u5c5e\u6027\uff1a"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#jquery-_2","text":"\u6dfb\u52a0\u65b0\u7684 HTML \u5185\u5bb9 \u6211\u4eec\u5c06\u5b66\u4e60\u7528\u4e8e\u6dfb\u52a0\u65b0\u5185\u5bb9\u7684\u56db\u4e2a jQuery \u65b9\u6cd5\uff1a append() - \u5728\u88ab\u9009\u5143\u7d20\u7684\u7ed3\u5c3e\u63d2\u5165\u5185\u5bb9 prepend() - \u5728\u88ab\u9009\u5143\u7d20\u7684\u5f00\u5934\u63d2\u5165\u5185\u5bb9 after() - \u5728\u88ab\u9009\u5143\u7d20\u4e4b\u540e\u63d2\u5165\u5185\u5bb9 before() - \u5728\u88ab\u9009\u5143\u7d20\u4e4b\u524d\u63d2\u5165\u5185\u5bb9","title":"\u56db\u3001jQuery - \u6dfb\u52a0\u5143\u7d20 \u4ee5\u53ca\u83b7\u53d6\u52a8\u6001\u6dfb\u52a0\u5143\u7d20\u7684\u8282\u70b9"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1-jquery-append","text":"jQuery append() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u7684\u7ed3\u5c3e\u63d2\u5165\u5185\u5bb9\u3002 \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"p\").append(\" <b>Appended text</b>.\"); }); $(\"#btn2\").click(function(){ $(\"ol\").append(\"<li>Appended item</li>\"); }); }); </script> </head> <body> <p>This is a paragraph.</p> <p>This is another paragraph.</p> <ol> <li>List item 1</li> <li>List item 2</li> <li>List item 3</li> </ol> <button id=\"btn1\">\u8ffd\u52a0\u6587\u672c</button> <button id=\"btn2\">\u8ffd\u52a0\u5217\u8868\u9879</button> </body>","title":"(1) jQuery append() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2-jquery-prepend","text":"jQuery prepend() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u7684\u5f00\u5934\u63d2\u5165\u5185\u5bb9\u3002 \u5b9e\u4f8b <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"p\").prepend(\"<b>Prepended text</b>\"); }); $(\"#btn2\").click(function(){ $(\"ol\").prepend(\"<li>Prepended item</li>\"); }); }); </script> </head> <body> <p>This is a paragraph.</p> <p>This is another paragraph.</p> <ol> <li>List item 1</li> <li>List item 2</li> <li>List item 3</li> </ol> <button id=\"btn1\">\u6dfb\u52a0\u6587\u672c</button> <button id=\"btn2\">\u6dfb\u52a0\u5217\u8868\u9879</button> </body>","title":"(2) jQuery prepend() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3-jquery-after-before","text":"jQuery after() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u4e4b\u540e\u63d2\u5165\u5185\u5bb9\u3002 \u6700\u591a\u53ea\u80fd\u6dfb\u52a03\u4e2a\u53c2\u6570\u503c jQuery before() \u65b9\u6cd5\u5728\u88ab\u9009\u5143\u7d20\u4e4b\u524d\u63d2\u5165\u5185\u5bb9\u3002 \u5b9e\u4f8b $(\"img\").after(\"Some\",\"text\",\"after\"); $(\"img\").before(\"Some\",\"text\",\" before\"); \u4f8b\u5b50 <script> $(document).ready(function(){ $(\"#btn1\").click(function(){ $(\"em\").before(\"<b>Before</b>\"); }); $(\"#btn2\").click(function(){ $(\"em\").after(\"<i>After</i>\"); }); }); </script> </head> <body> <em>b\u6807\u7b7e</em> <br><br> <button id=\"btn1\">\u5728\u56fe\u7247\u524d\u9762\u6dfb\u52a0\u6587\u672c</button> <button id=\"btn2\">\u5728\u56fe\u7247\u540e\u9762\u6dfb\u52a0\u6587\u672c</button>","title":"(3) jQuery after() \u548c before() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#jquery-_3","text":"\u5220\u9664\u5143\u7d20/\u5185\u5bb9 \u5982\u9700\u5220\u9664\u5143\u7d20\u548c\u5185\u5bb9\uff0c\u4e00\u822c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u4e24\u4e2a jQuery \u65b9\u6cd5\uff1a remove() - \u5220\u9664\u88ab\u9009\u5143\u7d20\uff08 \u53ca\u5176\u5b50\u5143\u7d20 \uff09 empty() - \u4ece\u88ab\u9009\u5143\u7d20\u4e2d\u5220\u9664\u5b50\u5143\u7d20","title":"\u4e94\u3001jQuery - \u5220\u9664\u5143\u7d20"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1-jquery-remove","text":"jQuery remove() \u65b9\u6cd5\u5220\u9664\u88ab\u9009\u5143\u7d20\u53ca\u5176\u5b50\u5143\u7d20\u3002 \u5b9e\u4f8b $(\"#div1\").remove()","title":"(1) jQuery remove() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2-jquery-empty","text":"jQuery empty() \u65b9\u6cd5\u5220\u9664\u88ab\u9009\u5143\u7d20\u7684\u5b50\u5143\u7d20\uff08\u6e05\u7a7a\uff09\u3002 \u5b9e\u4f8b $(\"#div1\").empty();","title":"(2) jQuery empty() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3","text":"jQuery remove() \u65b9\u6cd5\u4e5f\u53ef\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5141\u8bb8\u60a8\u5bf9\u88ab\u5220\u5143\u7d20\u8fdb\u884c\u8fc7\u6ee4\u3002 \u8be5\u53c2\u6570\u53ef\u4ee5\u662f\u4efb\u4f55 jQuery \u9009\u62e9\u5668\u7684\u8bed\u6cd5\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5220\u9664 class=\"italic\" \u7684\u6240\u6709 \u5143\u7d20\uff1a \u5b9e\u4f8b $(\"p\").remove(\".italic\");","title":"(3) \u8fc7\u6ee4\u88ab\u5220\u9664\u7684\u5143\u7d20"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#jquery-css","text":"jQuery \u64cd\u4f5c CSS jQuery \u62e5\u6709\u82e5\u5e72\u8fdb\u884c CSS \u64cd\u4f5c\u7684\u65b9\u6cd5\u3002\u6211\u4eec\u5c06\u5b66\u4e60\u4e0b\u9762\u8fd9\u4e9b\uff1a addClass() - \u5411\u88ab\u9009\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u7c7b removeClass() - \u4ece\u88ab\u9009\u5143\u7d20\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u7c7b toggleClass() - \u5bf9\u88ab\u9009\u5143\u7d20\u8fdb\u884c\u6dfb\u52a0/\u5220\u9664\u7c7b\u7684\u5207\u6362\u64cd\u4f5c css() - \u8bbe\u7f6e\u6216\u8fd4\u56de\u6837\u5f0f\u5c5e\u6027","title":"\u516d\u3001jQuery - \u83b7\u53d6\u5e76\u8bbe\u7f6e CSS \u7c7b(\u4e86\u89e3)"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1-jquery-addclass","text":"\u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u5982\u4f55\u5411\u4e0d\u540c\u7684\u5143\u7d20\u6dfb\u52a0 class \u5c5e\u6027\u3002\u5f53\u7136\uff0c\u5728\u6dfb\u52a0\u7c7b\u65f6\uff0c\u60a8\u4e5f\u53ef\u4ee5\u9009\u53d6\u591a\u4e2a\u5143\u7d20\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"h1,h2,p\").addClass(\"blue\"); $(\"div\").addClass(\"important\"); }); \u60a8\u4e5f\u53ef\u4ee5\u5728 addClass() \u65b9\u6cd5\u4e2d\u6dfb\u52a0\u591a\u4e2a\u7c7b\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"#div1\").addClass(\"important blue\"); });","title":"(1) jQuery addClass() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2-jquery-removeclass","text":"\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u5982\u4f55\u4e0d\u540c\u7684\u5143\u7d20\u4e2d\u5220\u9664\u6307\u5b9a\u7684 class \u5c5e\u6027\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"h1,h2,p\").removeClass(\"blue\"); });","title":"(2) jQuery removeClass() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3-jquery-toggleclass","text":"\u4e0b\u9762\u7684\u4f8b\u5b50\u5c06\u5c55\u793a\u5982\u4f55\u4f7f\u7528 jQuery toggleClass() \u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u5bf9\u88ab\u9009\u5143\u7d20\u8fdb\u884c\u6dfb\u52a0/\u5220\u9664\u7c7b\u7684\u5207\u6362\u64cd\u4f5c\uff1a \u5b9e\u4f8b $(\"button\").click(function(){ $(\"h1,h2,p\").toggleClass(\"blue\"); });","title":"(3) jQuery toggleClass() \u65b9\u6cd5"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#json","text":"","title":"\u4e03\u3001\u53d1\u9001json\u6570\u636e"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1-json","text":"resp = requests.post(url, json=data) # \u6b64\u65f6. \u53d1\u9001\u7684\u6570\u636e\u662f\u4ee5json\u683c\u5f0f\u53d1\u9001\u51fa\u53bb\u7684 \u6ce8\u610f \uff1a \u5185\u90e8\u5904\u7406\u628adata\u8f6c\u5316\u6210json\u5b57\u7b26\u4e32, json.dumps(data) \u628a\u8bf7\u6c42\u5934\u4e2d\u7684ContentType\u8bbe\u7f6e\u6210application/json \u4e0a\u8ff0\u65b9\u6848\u7684\u7f3a\u9677: json\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u4e2d\u4f1a\u6709\u7a7a\u683c. \u670d\u52a1\u5668\u80fd\u68c0\u6d4b\u5230.","title":"(1) \u4e4b\u524d\u53d1\u9001json\u6570\u636e"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2","text":"import json resp = requests.post(url, data=json.dumps(data, separators=(',', ':')), headers={\"Content-Type\": \"application/json\"}) # \u9700\u8981\u8bbe\u7f6e\u7c7b\u578b. \u5426\u5219\u670d\u52a1\u5668\u63a5\u53d7\u4e0d\u5230\u6570\u636e print(resp.text) separators\uff1a\u4f5c\u7528\u662f\u53bb\u6389 \uff0c \uff1a \u540e\u9762\u7684\u7a7a\u683c\uff0c","title":"(2) \u5efa\u8bae\u4f7f\u7528\u65b9\u5f0f"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3_1","text":"\u7f51\u5740\uff1a https://www.jiansheku.com/search/business/ \u8bf7\u6c42\u5934\u7c7b\u578b application/json \u8bf7\u6c42\u53d1\u9001\u53c2\u6570 \u4ee3\u7801\uff1a import requests url = 'https://capi.jiansheku.com/nationzj/jskBid/page' headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36\", 'Content-Type': 'application/json', 'Timestamp': str(time), 'Sign': sign, } response = requests.post(url, headers=headers, data=json.dumps(data, separators=(',', ':'))) # \u6216 response = requests.post(url, headers=headers, json=data)","title":"(3) \u5b9e\u4f8b"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#ajax","text":"","title":"\u516b\u3001Ajax"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1-jsajax","text":"\u6982\u8ff0: JavaScript\u539f\u751fAjax\u6307\u7684\u662f\u4f7f\u7528JavaScript\u8bed\u8a00\u81ea\u5e26\u7684XMLHttpRequest\u5bf9\u8c61\u6765\u5b9e\u73b0\u5f02\u6b65\u6570\u636e\u4ea4\u4e92\u7684\u6280\u672f\u3002\u901a\u8fc7Ajax\uff0c\u53ef\u4ee5\u5728\u4e0d\u5237\u65b0\u6574\u4e2a\u9875\u9762\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u5e76\u83b7\u53d6\u54cd\u5e94\u6570\u636e\uff0c\u7136\u540e\u5229\u7528JavaScript\u52a8\u6001\u66f4\u65b0\u9875\u9762\u5185\u5bb9\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528\u539f\u751fAjax\u53d1\u9001GET\u8bf7\u6c42\u7684\u793a\u4f8b\u4ee3\u7801\uff1a ```javascript // \u521b\u5efa XMLHttpRequest \u5bf9\u8c61 var xhr = new XMLHttpRequest(); // \u76d1\u542c\u8bf7\u6c42\u72b6\u6001\u53d8\u5316 xhr.onreadystatechange = function() { if (xhr.readyState === 4 && xhr.status === 200) { // \u8bf7\u6c42\u5b8c\u6210\u4e14\u54cd\u5e94\u6210\u529f var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response); } }; // \u53d1\u9001 GET \u8bf7\u6c42 xhr.open('GET', 'http://example.com/api/data'); xhr.send(); ``` \u8bf4\u660e \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2aXMLHttpRequest\u5bf9\u8c61\uff0c\u5e76\u5b9a\u4e49\u4e86\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 onreadystatechange \uff0c\u8be5\u51fd\u6570\u4f1a\u5728\u8bf7\u6c42\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\u88ab\u8c03\u7528\u3002\u7136\u540e\uff0c\u901a\u8fc7 open \u65b9\u6cd5\u8bbe\u7f6e\u8bf7\u6c42\u65b9\u6cd5\u548cURL\uff0c\u6700\u540e\u4f7f\u7528 send \u65b9\u6cd5\u53d1\u9001\u8bf7\u6c42\u3002 \u5f53\u8bf7\u6c42\u72b6\u6001\u53d8\u4e3a4\uff08\u8868\u793a\u8bf7\u6c42\u5b8c\u6210\uff09\u4e14\u54cd\u5e94\u72b6\u6001\u7801\u4e3a200\uff08\u8868\u793a\u6210\u529f\uff09\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 responseText \u5c5e\u6027\u83b7\u53d6\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4ee5\u4e0a\u662f\u4e00\u4e2a\u57fa\u672c\u7684GET\u8bf7\u6c42\u793a\u4f8b\uff0c\u5982\u679c\u9700\u8981\u53d1\u9001POST\u8bf7\u6c42\uff0c\u8fd8\u9700\u8981\u4f7f\u7528 setRequestHeader \u65b9\u6cd5\u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c send \u65b9\u6cd5\u4f20\u9012\u8bf7\u6c42\u4f53\u6570\u636e\u3002 \u53e6\u5916\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u66f4\u65b9\u4fbf\u7684Fetch API\u548cAxios\u7b49\u5e93\u6765\u7b80\u5316Ajax\u64cd\u4f5c\uff0c\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u66f4\u52a0\u7b80\u6d01\u548c\u6613\u7528\u3002 XMLHttpRequest\u5bf9\u8c61\u7684\u8bf7\u6c42\u72b6\u6001\uff08readyState\uff09\u6709\u4e94\u79cd\uff1a 0\uff08\u672a\u521d\u59cb\u5316\uff09\uff1aXMLHttpRequest\u5bf9\u8c61\u5df2\u521b\u5efa\uff0c\u4f46\u5c1a\u672a\u8c03\u7528open\u65b9\u6cd5\u3002\u6b64\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u670d\u52a1\u5668\u7684\u54cd\u5e94\u3002 1\uff08\u6253\u5f00\uff09\uff1aopen\u65b9\u6cd5\u5df2\u8c03\u7528\uff0c\u4f46\u5c1a\u672a\u8c03\u7528send\u65b9\u6cd5\u3002\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u8bf7\u6c42\u5934\u548c\u5176\u4ed6\u8bf7\u6c42\u53c2\u6570\u3002 2\uff08\u53d1\u9001\uff09\uff1asend\u65b9\u6cd5\u5df2\u8c03\u7528\uff0c\u4e14\u8bf7\u6c42\u6b63\u5728\u53d1\u9001\u4e2d\u3002\u6b64\u65f6\u53ef\u4ee5\u83b7\u53d6\u5230\u8bf7\u6c42\u7684\u72b6\u6001\u4fe1\u606f\u3002 3\uff08\u63a5\u6536\uff09\uff1a\u5df2\u63a5\u6536\u5230\u90e8\u5206\u54cd\u5e94\u6570\u636e\u3002\u6b64\u65f6\u53ef\u4ee5\u83b7\u53d6\u5230\u90e8\u5206\u54cd\u5e94\u5185\u5bb9\u3002 4\uff08\u5b8c\u6210\uff09\uff1a\u54cd\u5e94\u5df2\u5b8c\u6210\u4e14\u6210\u529f\u63a5\u6536\u5230\u5b8c\u6574\u7684\u54cd\u5e94\u6570\u636e\u3002\u6b64\u65f6\u53ef\u4ee5\u83b7\u53d6\u5230\u5b8c\u6574\u7684\u54cd\u5e94\u5185\u5bb9\u3002 \u901a\u5e38\uff0c\u6211\u4eec\u4e3b\u8981\u5173\u6ce8\u8bf7\u6c42\u72b6\u6001\u4e3a4\u65f6\u7684\u60c5\u51b5\uff0c\u5373\u8bf7\u6c42\u5df2\u5b8c\u6210\u5e76\u6210\u529f\u63a5\u6536\u5230\u5b8c\u6574\u7684\u54cd\u5e94\u6570\u636e\u3002\u5728\u8fd9\u4e2a\u72b6\u6001\u4e0b\uff0c\u53ef\u4ee5\u5bf9\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\u548c\u66f4\u65b0\u9875\u9762\u5185\u5bb9\u7b49\u64cd\u4f5c\u3002\u800c\u5176\u4ed6\u72b6\u6001\u5219\u53ef\u4ee5\u7528\u6765\u8fdb\u884c\u4e00\u4e9b\u8bf7\u6c42\u8fdb\u5ea6\u7684\u76d1\u63a7\u6216\u9519\u8bef\u5904\u7406\u7b49\u3002 GET\u8bf7\u6c42 GET\u8bf7\u6c42\u5c06\u53c2\u6570\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u9644\u52a0\u5230URL\u7684\u672b\u5c3e\uff0c\u4f8b\u5982\uff1a http://example.com/api?param1=value1&param2=value2 \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u539f\u751fAjax\u8fdb\u884cGET\u8bf7\u6c42\u4f20\u53c2\u7684\u793a\u4f8b\uff1a javascript var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() { if (xhr.readyState == 4 && xhr.status == 200) { var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e } }; var url = \"http://example.com/api\"; var params = \"param1=value1&param2=value2\"; xhr.open(\"GET\", url + \"?\" + params,); xhr.send(); POST\u8bf7\u6c42 POST\u8bf7\u6c42\u5c06\u53c2\u6570\u653e\u5728\u8bf7\u6c42\u4f53\u4e2d\u53d1\u9001\uff0c\u9700\u8981\u8bbe\u7f6e\u8bf7\u6c42\u5934\u7684Content-Type\u4e3a application/x-www-form-urlencoded \uff0c\u540c\u65f6\u5c06\u53c2\u6570\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u7f16\u7801\u540e\u53d1\u9001\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u539f\u751fAjax\u8fdb\u884cPOST\u8bf7\u6c42\u4f20\u53c2\u7684\u793a\u4f8b\uff1a \u4f20\u9012json\u6570\u636e javascript var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() { if (xhr.readyState == 4 && xhr.status == 200) { var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e } }; var url = \"http://example.com/api\"; xhr.open(\"POST\", url); xhr.setRequestHeader(\"Content-Type\", \"application/json\"); var params = {param1: 'value1', param2: 'value2'}; json_data = JSON.stringify(params); console.log(json_data); xhr.send(json_data); \u4f20\u9012\u8868\u5355\u6570\u636e\u6570\u636e javascript var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function() { if (xhr.readyState == 4 && xhr.status == 200) { var response = xhr.responseText; // \u5904\u7406\u54cd\u5e94\u6570\u636e } }; var url = \"http://example.com/api\"; var params = \"param1=value1&param2=value2\"; xhr.open(\"POST\", url); xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"); xhr.send(params); \u540e\u7aef\u4ee3\u7801 \u6587\u4ef6\u7ed3\u6784 manage.py \u540e\u7aefflask\u4ee3\u7801 ---- templates \u5b58\u653e\u524d\u7aefHTML\u9875\u9762\u7684\u6587\u4ef6\u5939 \u200b ajax.html manage.py ```python from flask import Flask,render_template,jsonify,request # \u5bfc\u5165flask\u7c7b # \u5b9e\u4f8b\u5316Flask\u7c7b app = Flask( name ) # \u521b\u5efa\u8def\u7531 \u5730\u5740\u4e3a 127.0.0.1:5000/ # \u6e32\u67d3ajax\u6a21\u677f @app.route('/') def index(): # \u6e32\u67d3Ajax\u9875\u9762\u5185\u5bb9 return render_template('ajax.html') # \u66f4\u6539\u8def\u7531\u8bf7\u6c42\u65b9\u5f0f\u4e3a get\u548cpost @app.route('/test_ajax/',methods=['GET','POST']) def test_ajax(): if request.method == 'POST': # \u63a5\u6536POST\u6570\u636e print(request.form) else: # \u63a5\u6536GET\u6570\u636e print(request.args) # \u8fd4\u56de\u54cd\u5e94JSON\u6570\u636e return jsonify({'code':200}) if name == ' main ': app.run(debug=True) # \u8fd0\u884c ```","title":"(1) js\u539f\u751fAjax"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2-hook-ajax","text":"Hook Ajax \u7b2c\u4e00\u6b65 \u5c06\u4f20\u9012\u8868\u5355\u6570\u636e\u8fdb\u884c\u6539\u9020 ```javascript Title button document.querySelector('button').addEventListener('click', function (){ var xhr = new XMLHttpRequest() var params = \"param1=value1&param2=value2\"; var url = \"http://127.0.0.1:5000/ajax/\"; xhr.onreadystatechange = function (){ if(xhr.readyState == 4 && xhr.status == 200){ var response = xhr.responseText; console.log(response) } } my_open() function my_open() { console.log('\u8fdb\u884c\u52a0\u5bc6\u5566') xhr.open(\"POST\", url + '?md5=abcdef---'); my_send() } function my_send() { xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"); xhr.send(params) } }) ``` \u901a\u8fc7\u6d4f\u89c8\u5668\u53d1\u73b0\u6b64\u523b\u5728\u4f20\u9012\u6570\u636e\u4e2d\u591a\u4e86\u52a0\u5bc6\u7684\u503c \u8fdb\u5165js\u8c03\u7528\u6808\u8fdb\u884c\u67e5\u627e \u53d1\u73b0\u5f88\u5bb9\u6613\u80fd\u591f\u627e\u5230\u52a0\u5bc6\u7684\u4f4d\u7f6e \u4ee3\u7801\u8fdb\u884c\u6539\u9020 \u4f7f\u7528hook \u9690\u85cf\u52a0\u5bc6 <!DOCTYPE html> <html> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <button type=\"button\">button</button> <script> document.querySelector('button').addEventListener('click', function (){ var xhr = new XMLHttpRequest() var params = \"param1=value1&param2=value2\"; var url = \"http://127.0.0.1:5000/ajax/\"; var my_open = XMLHttpRequest.prototype.open XMLHttpRequest.prototype.open = function () { console.log('\u8fdb\u884c\u52a0\u5bc6\u5566') var url = arguments[1] arguments[1] = url + '?md5=abcdef---' return my_open.apply(this, arguments) } xhr.onreadystatechange = function (){ if(xhr.readyState == 4 && xhr.status == 200){ var response = xhr.responseText; console.log(response) } } xhr.open(\"POST\", url) xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"); xhr.send(params) }) </script> </body> </html> \u5728\u6d4f\u89c8\u5668\u8fdb\u884c\u8c03\u8bd5\u67e5\u770b \u53d1\u73b0\u6b64\u523b\u65e0\u6cd5\u67e5\u627e\u5230\u52a0\u5bc6\u4f4d\u7f6e \u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u53ef\u4ee5\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c \u5728console\u4e2d\u8f93\u5165XMLHttpRequest.prototype.open \u901a\u8fc7\u6253\u5370\u67e5\u770b \u6b64\u523b\u80fd\u591f\u67e5\u770b\u5230\u5e76\u4e0d\u662f\u539f\u751f\u7684open \u800c\u662f\u88ab\u4fee\u6539\u540e\u7684open \u6b64\u523b\u4fbf\u67e5\u627e\u5230\u4e86\u52a0\u5bc6\u4f4d\u7f6e \u539f\u751f\u7684open\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u8fd9\u6837\u7684 \u88ab\u4fee\u6539\u540e\u7684open XMLHttpRequest.prototype.open Hook\u5b9e\u4f8b \u7f51\u5740\uff1a http://www.fangdi.com.cn/old_house/old_place.html?district3=27d3af3bd45acf5e \u70b9\u51fbjs\u8c03\u7528\u6808 \u70b9\u51fb\u8fdb\u5165\u540e \u901a\u8fc7\u6253\u65ad\u70b9 \u5e76\u6ca1\u6709\u53d1\u73b0\u5728\u8bf7\u6c42\u91cc\u9762\u90a3\u4e48\u957f\u7684\u53c2\u6570 \u6b64\u523b\u8fdb\u5165\u5230\u7ec8\u7aef \u67e5\u770b\u5f53\u524d\u662f\u5426\u4f7f\u7528hook\u8fdb\u884c\u4e86\u52a0\u5bc6 XMLHttpRequest.prototype.open \u70b9\u51fb\u8fdb\u5165 \u67e5\u627e\u5230\u52a0\u5bc6\u4f4d\u7f6e","title":"(2) Hook Ajax"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3-jquery-ajax","text":"\u6982\u8ff0 jQuery Ajax\u662f\u4e00\u4e2a\u7528\u4e8e\u8fdb\u884c\u5f02\u6b65\u8bf7\u6c42\u7684JavaScript\u5e93\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u800c\u5f3a\u5927\u7684\u65b9\u5f0f\u6765\u53d1\u9001HTTP\u8bf7\u6c42\uff0c\u5e76\u5728\u540e\u53f0\u4e0e\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u800c\u65e0\u9700\u5237\u65b0\u6574\u4e2a\u9875\u9762\u3002 \u8bf7\u6c42\u7c7b\u578b \u4f7f\u7528jQuery Ajax\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u53d1\u9001\u4e0d\u540c\u7c7b\u578b\u7684HTTP\u8bf7\u6c42\uff1a GET\u8bf7\u6c42\uff1a\u7528\u4e8e\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u3002 POST\u8bf7\u6c42\uff1a\u7528\u4e8e\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\u3002 PUT\u8bf7\u6c42\uff1a\u7528\u4e8e\u66f4\u65b0\u670d\u52a1\u5668\u4e0a\u7684\u6570\u636e\u3002 DELETE\u8bf7\u6c42\uff1a\u7528\u4e8e\u4ece\u670d\u52a1\u5668\u5220\u9664\u6570\u636e\u3002 jQuery Ajax\u53d1\u9001GET\u8bf7\u6c42\u7684\u793a\u4f8b\uff1a javascript $.ajax({ url: \"http://example.com/data\", type: \"GET\", // method: \"GET\", method\u548ctype\u90fd\u662f\u6307\u5b9a\u8bf7\u6c42\u7684\u65b9\u5f0f success: function(response) { // \u5728\u6210\u529f\u63a5\u6536\u5230\u54cd\u5e94\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(response); }, error: function(xhr, status, error) { // \u5728\u8bf7\u6c42\u5931\u8d25\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(\"\u8bf7\u6c42\u5931\u8d25\uff1a\" + error); } }); \u8bf4\u660e \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 $.ajax() \u51fd\u6570\u53d1\u9001\u4e00\u4e2aGET\u8bf7\u6c42\u5230\u6307\u5b9a\u7684URL\u3002 url \u53c2\u6570\u6307\u5b9a\u76ee\u6807URL\uff0c type \u53c2\u6570\u6307\u5b9a\u8bf7\u6c42\u7c7b\u578b\u4e3aGET\u3002 success \u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u6210\u529f\u63a5\u6536\u5230\u54cd\u5e94\u65f6\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002 error \u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u8bf7\u6c42\u5931\u8d25\u65f6\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u9519\u8bef\u4fe1\u606f\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002 jQuery Ajax\u53d1\u9001POST\u8bf7\u6c42\u7684\u793a\u4f8b\uff1a \u4f7f\u7528jQuery Ajax\u53d1\u9001POST\u8bf7\u6c42\u7684\u65b9\u6cd5\u4e0e\u53d1\u9001GET\u8bf7\u6c42\u7c7b\u4f3c\uff0c\u53ea\u9700\u5c06 type \u53c2\u6570\u8bbe\u7f6e\u4e3a\"POST\"\uff0c\u5e76\u901a\u8fc7 data \u53c2\u6570\u4f20\u9012\u8981\u53d1\u9001\u7684\u6570\u636e\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b javascript $.ajax({ url: \"http://example.com/submit\", type: \"POST\", // method: \"GET\", method\u548ctype\u90fd\u662f\u6307\u5b9a\u8bf7\u6c42\u7684\u65b9\u5f0f data: { name: \"John\", age: 25 }, success: function(response) { // \u5728\u6210\u529f\u63a5\u6536\u5230\u54cd\u5e94\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(response); }, error: function(xhr, error) { // \u5728\u8bf7\u6c42\u5931\u8d25\u65f6\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570 console.log(\"\u72b6\u6001\u7801\u4e3a\uff1a\" + xhr.status, \"\u8bf7\u6c42\u5931\u8d25\uff1a\" + error); } }); \u8bf4\u660e\uff1a \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 $.ajax() \u51fd\u6570\u53d1\u9001\u4e00\u4e2aPOST\u8bf7\u6c42\u5230\u6307\u5b9a\u7684URL\u3002 url \u53c2\u6570\u6307\u5b9a\u76ee\u6807URL\uff0c type \u53c2\u6570\u8bbe\u7f6e\u4e3a\"POST\"\u4ee5\u6307\u5b9a\u8bf7\u6c42\u7c7b\u578b\u4e3aPOST\u3002 data \u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u5305\u542b\u8981\u53d1\u9001\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6dfb\u52a0\u66f4\u591a\u5b57\u6bb5\u548c\u503c\u3002 \u5f53\u670d\u52a1\u5668\u6210\u529f\u5904\u7406\u8bf7\u6c42\u5e76\u8fd4\u56de\u54cd\u5e94\u65f6\uff0c success \u56de\u8c03\u51fd\u6570\u5c06\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002\u5728\u8bf7\u6c42\u5931\u8d25\u65f6\uff0c error \u56de\u8c03\u51fd\u6570\u5c06\u88ab\u8c03\u7528\uff0c\u5e76\u5c06\u9519\u8bef\u4fe1\u606f\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u8be5\u51fd\u6570\u3002 \u6ce8\u610f\uff1a \u5f53\u4f7f\u7528 $.ajax \u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u8bf7\u6c42\u5931\u8d25\u4e14 xhr.status \u7684\u503c\u4e3a 0\uff0c\u8868\u793a\u8be5\u8bf7\u6c42\u5728\u53d1\u9001\u8fc7\u7a0b\u4e2d\u53d1\u751f\u4e86\u9519\u8bef\uff0c\u65e0\u6cd5\u83b7\u53d6\u6709\u6548\u7684 HTTP \u72b6\u6001\u7801\u3002","title":"(3) JQuery Ajax"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#4","text":"","title":"(4) \u8de8\u57df\u8bf7\u6c42"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#41","text":"\u8de8\u57df\u8bf7\u6c42\u6307\u7684\u662f\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e0b\uff0c\u901a\u8fc7JavaScript\u4ee3\u7801\u5411\u4e0d\u540c\u6e90\uff08\u5373\u534f\u8bae\u3001\u57df\u540d\u6216\u7aef\u53e3\u4e0d\u540c\uff09\u7684\u670d\u52a1\u5668\u53d1\u9001 HTTP \u8bf7\u6c42\u3002\u7531\u4e8e\u6d4f\u89c8\u5668\u51fa\u4e8e\u5b89\u5168\u8003\u8651\u5b9e\u65bd\u4e86\u540c\u6e90\u7b56\u7565\uff08Same-Origin Policy\uff09\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cJavaScript \u53ea\u80fd\u4e0e\u540c\u4e00\u6e90\u7684\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u3002 \u5f53 JavaScript \u4ee3\u7801\u8bd5\u56fe\u5411\u4e0d\u540c\u6e90\u7684\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u963b\u6b62\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u4ee5\u4fdd\u62a4\u7528\u6237\u7684\u5b89\u5168\u548c\u9690\u79c1\u3002\u8fd9\u662f\u56e0\u4e3a\u8de8\u57df\u8bf7\u6c42\u53ef\u80fd\u4f1a\u5f15\u53d1\u4e00\u4e9b\u5b89\u5168\u98ce\u9669\uff0c\u4f8b\u5982\u8de8\u7ad9\u70b9\u811a\u672c\u653b\u51fb\uff08Cross-Site Scripting\uff0c\u7b80\u79f0 XSS\uff09\u3002\u540c\u6e90\u7b56\u7565\u8981\u6c42\u8bf7\u6c42\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u89c4\u5219\uff1a \u534f\u8bae\u76f8\u540c\uff1a\u4e24\u4e2a\u9875\u9762\u7684\u534f\u8bae\uff08\u5982 http \u6216 https\uff09\u5fc5\u987b\u76f8\u540c\u3002 \u57df\u540d\u76f8\u540c\uff1a\u4e24\u4e2a\u9875\u9762\u7684\u57df\u540d\u5fc5\u987b\u5b8c\u5168\u76f8\u540c\u3002 \u7aef\u53e3\u76f8\u540c\uff1a\u4e24\u4e2a\u9875\u9762\u7684\u7aef\u53e3\u53f7\u5fc5\u987b\u5b8c\u5168\u76f8\u540c\u3002 \u5982\u679c\u4e0d\u6ee1\u8db3\u4ee5\u4e0a\u5168\u90e8\u6761\u4ef6\uff0c\u5c31\u4f1a\u88ab\u89c6\u4e3a\u8de8\u57df\u8bf7\u6c42\u3002\u4f8b\u5982\uff0c\u5728\u7f51\u9875 http://example.com/index.html \u4e2d\u4f7f\u7528 JavaScript \u53d1\u9001\u8bf7\u6c42\u5230 http://api.example.com/data \u63a5\u53e3\uff0c\u5c31\u5c5e\u4e8e\u8de8\u57df\u8bf7\u6c42\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8de8\u57df\u8bf7\u6c42\u5e76\u4e0d\u9650\u4e8e AJAX \u8bf7\u6c42\uff0c\u5b83\u4e5f\u9002\u7528\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u8d44\u6e90\u8bf7\u6c42\uff0c\u6bd4\u5982 <img> \u3001 <script> \u3001 <link> \u7b49\u3002 \u4e3a\u4e86\u5728\u8de8\u57df\u60c5\u51b5\u4e0b\u5b9e\u73b0\u5b89\u5168\u7684\u901a\u4fe1\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u7279\u5b9a\u7684\u6280\u672f\u548c\u7b56\u7565\uff0c\u5982 JSONP\u3001CORS\u3001\u4ee3\u7406\u670d\u52a1\u5668\u7b49\u3002\u8fd9\u4e9b\u65b9\u5f0f\u53ef\u4ee5\u7ed5\u8fc7\u6d4f\u89c8\u5668\u7684\u540c\u6e90\u7b56\u7565\u9650\u5236\uff0c\u4ece\u800c\u5b9e\u73b0\u8de8\u57df\u8bf7\u6c42\u3002","title":"4.1 \u6982\u8ff0"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#42","text":"\u670d\u52a1\u5668\u7aef\u4ee3\u7801 python from flask import Flask, render_template, request, make_response app = Flask(__name__) @app.route('/ajax/', methods=['GET', 'POST']) def ajax(): if request.method == 'POST': print(\"POST===>\", request.form) return {'name': 'POST'} if request.args: print('GET=>>>>>>', request.args) return {'name': 'GET'} return render_template('ajax.html') if __name__ == '__main__': app.run(debug=True) \u524d\u7aef\u4ee3\u7801 ajax.html ```html Title GET\u8bf7\u6c42 POST\u8bf7\u6c42 // post $('#jq_btn_post').click(function (){ // POST $.ajax({ url: 'http://127.0.0.1:5000/ajax/?name=lucky', type: 'POST', data: { name: 'lucky', age: 18, }, success: function(response){ console.log(response) }, error: function (xhr, error) { console.log(xhr.status, error) }}) }) // GET $('#jq_btn_get').click(function (){ $.ajax({ url: 'http://127.0.0.1:5000/ajax/?name=lucky', type: 'GET', success: function (response) { console.log(response.name) }, error: function (xhr, error) { console.log('xhr', xhr.status) console.log('error', error) }}) }) ```","title":"4.2 \u4ee3\u7801\u51c6\u5907"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#43","text":"\u540c\u6e90\u8bbf\u95ee \u6b64\u523b\u5982\u679c\u6b63\u5728\u901a\u8fc7flask\u8fd0\u884c\u8bbf\u95ee http://127.0.0.1:5000/ajax/\u5219\u6b63\u5e38\u8bbf\u95ee \u56e0\u4e3a\u6b64\u523b\u4e3a\u540c\u6e90\u8bbf\u95ee \u8de8\u57df\u8bbf\u95ee \u4e5f\u5c31\u662f\u5355\u72ec\u8fd0\u884cHTML\u6587\u4ef6 \u6b64\u523b\u8bf7\u6c42\u5931\u8d25 \u51fa\u73b0\u4e86\u8de8\u57df\u8bf7\u6c42","title":"4.3 \u540c\u6e90\u8bbf\u95ee\u4e0e\u8de8\u57df\u8bbf\u95ee"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#44","text":"Access-Control-Allow-Origin \u5728\u670d\u52a1\u5668\u7aef\u8fdb\u884c\u8bbe\u5b9a\u54cd\u5e94\u5934 Access-Control-Allow-Origin ```python from flask import Flask, render_template, request, make_response app = Flask( name ) @app.route('/ajax/', mehods=['GET', 'POST']) def ajax(): if request.method == 'POST': print(\"POST===>\", request.form) response = make_response({'name': 'POST'}) # \u8bbe\u7f6e\u54cd\u5e94\u5934 \u5141\u8bb8\u8de8\u57df response.headers['Access-Control-Allow-Origin'] = '*' return response if request.args: print('GET=>>>>>>', request.args) response = make_response({'name': 'GET'}) # \u8bbe\u7f6e\u54cd\u5e94\u5934 \u5141\u8bb8\u8de8\u57df response.headers['Access-Control-Allow-Origin'] = '*' return response return render_template('ajax.html') if name == ' main ': app.run(debug=True) ``` \u8fdb\u884c\u8bbf\u95ee JSONP \u524d\u7aef\u4ee3\u7801 ```javascript <!DOCTYPE html> Title url = 'http://127.0.0.1:5000/new_ajax/' jsonp(function (data) { console.log(data) })</p> <pre><code>function jsonp(fn){ var time = Date.now(); // \u7528\u4e8e\u8d77\u4e0d\u91cd\u590d\u7684\u51fd\u6570\u540d var prefix = 'callback' // \u8bf7\u6c42\u4f20\u9012\u7684key\u540d\u79f0 url += `?${prefix}=${time}` // \u53c2\u6570\u62fc\u63a5\u5230url var my_script = document.createElement('script') // \u521b\u5efascript\u8282\u70b9 my_script.setAttribute('src', url) // \u8bbe\u7f6eurl console.log(my_script) document.querySelector('head').appendChild(my_script) window[prefixre+time] = fn // \u8bbe\u5b9a\u6267\u884c\u529f\u80fd\u7684\u51fd\u6570 } </code></pre> <p> ``` \u540e\u7aef\u4ee3\u7801 python @app.route('/new_ajax/') def new_ajax(): time = request.args.get('callback') return 'callback'+time+'({\"name\": \"lucky\", \"age\": 18, \"con\": \"\u670d\u52a1\u5668\u7aef\u8fd4\u56dejs\u6570\u636e\"})' \u6ce8\u610f \u53ea\u80fdget\u8bf7\u6c42 \u670d\u52a1\u7aef\u8fd4\u56de\u5185\u5bb9\u4e3ajs\u4ee3\u7801 \u6d4f\u89c8\u5668\u4f1a\u89e3\u6790\u6267\u884c\u8c03\u7528js\u4ee3\u7801 \u5f53\u524d\u8bf7\u6c42\u53ea\u4f1a\u51fa\u73b0\u5728js\u83dc\u5355\u4e2d \u4e0d\u518d\u662fxhr \u8fd0\u884c\u56fe\u4f8b \u627e\u5230\u5f53\u524d\u8bf7\u6c42\u67e5\u770b\u8bf7\u6c42\u53c2\u6570 \u67e5\u770b\u8bf7\u6c42\u8fd4\u56de\u5185\u5bb9 \u67e5\u770b\u63a7\u5236\u53f0\u6267\u884c\u6253\u5370\u5185\u5bb9 ajax\u7684JSONP \u524d\u7aef\u4ee3\u7801 javascript $('#JSONP').click(function (){ $.ajax({ url: 'http://127.0.0.1:5000/new_ajax/', dataType: 'jsonp', jsonp: 'callback', success: function(data) { // \u5904\u7406\u8fd4\u56de\u7684\u6570\u636e console.log('\u8fd4\u56de\u6570\u636e', data) }, }); }) \u540e\u7aef\u4ee3\u7801 python @app.route('/new_ajax/', methods=['GET', 'POST']) def new_ajax(): time = request.args.get('callback') print(time) return str(time)+'({\"name\": \"lucky\", \"age\": 18, \"con\": \"\u670d\u52a1\u5668\u7aef\u8fd4\u56dejs\u6570\u636e\"})' \u5b9e\u6218\u6848\u4f8b www.taobao.com \u67e5\u770b\u54cd\u5e94\u5185\u5bb9 \u67e5\u770b\u8bf7\u6c42\u5185\u5bb9 \u67e5\u770b\u5f53\u524d\u8bf7\u6c42\u7684url \u5f53\u524durl\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u8bf7\u6c42 www.jd.com \u6839\u636ejs\u70b9\u51fb\u67e5\u770b\u627e\u5230jsonp\u7684\u8bf7\u6c42 \u67e5\u770b\u54cd\u5e94\u5185\u5bb9","title":"4.4 \u89e3\u51b3\u65b9\u5f0f"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#axios","text":"","title":"\u4e5d\u3001axios"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#1","text":"\u5728JavaScript\u4e2d\uff0cAxios\u662f\u4e00\u4e2a\u6d41\u884c\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u7528\u4e8e\u8fdb\u884cHTTP\u8bf7\u6c42\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u3001\u7075\u6d3b\u548c\u5f3a\u5927\u7684\u65b9\u5f0f\u6765\u4e0e\u540e\u7aef\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u5e76\u5904\u7406\u54cd\u5e94\u6570\u636e\u3002 Axios\u5177\u6709\u4ee5\u4e0b\u529f\u80fd\u548c\u4f5c\u7528\uff1a \u53d1\u9001HTTP\u8bf7\u6c42\uff1aAxios\u53ef\u4ee5\u53d1\u9001GET\u3001POST\u3001PUT\u3001DELETE\u7b49\u5404\u79cd\u7c7b\u578b\u7684HTTP\u8bf7\u6c42\u3002\u5b83\u63d0\u4f9b\u4e86\u7b80\u6d01\u7684\u8bed\u6cd5\u548c\u6613\u4e8e\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u53d1\u9001\u8bf7\u6c42\u53d8\u5f97\u975e\u5e38\u65b9\u4fbf\u3002 \u5904\u7406\u54cd\u5e94\u6570\u636e\uff1aAxios\u53ef\u4ee5\u63a5\u6536\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u591a\u79cd\u5904\u7406\u65b9\u5f0f\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528Axios\u7684\u62e6\u622a\u5668\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u8fdb\u884c\u9884\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u54cd\u5e94\u6570\u636e\u8fdb\u884c\u8f6c\u6362\u3001\u8fc7\u6ee4\u3001\u5206\u6790\u7b49\u64cd\u4f5c\u3002 \u652f\u6301\u5e76\u53d1\u8bf7\u6c42\uff1aAxios\u652f\u6301\u540c\u65f6\u53d1\u9001\u591a\u4e2a\u5e76\u53d1\u8bf7\u6c42\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u5408\u5e76\u8fd4\u56de\u7ed3\u679c\u3001\u53d6\u6d88\u8bf7\u6c42\u7b49\u529f\u80fd\u3002\u8fd9\u5bf9\u4e8e\u9700\u8981\u540c\u65f6\u83b7\u53d6\u591a\u4e2a\u6570\u636e\u6216\u8005\u6279\u91cf\u63d0\u4ea4\u8868\u5355\u7b49\u573a\u666f\u975e\u5e38\u6709\u7528\u3002 \u8bbe\u7f6e\u8bf7\u6c42\u914d\u7f6e\uff1aAxios\u5141\u8bb8\u4f60\u8bbe\u7f6e\u8bf7\u6c42\u7684\u5404\u79cd\u914d\u7f6e\uff0c\u5305\u62ec\u8bf7\u6c42\u5934\u3001\u8d85\u65f6\u65f6\u95f4\u3001\u8ba4\u8bc1\u4fe1\u606f\u7b49\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5168\u5c40\u914d\u7f6e\u6216\u8005\u9488\u5bf9\u7279\u5b9a\u8bf7\u6c42\u8fdb\u884c\u5b9a\u5236\uff0c\u4ece\u800c\u6ee1\u8db3\u4e0d\u540c\u7684\u9700\u6c42\u3002 \u5904\u7406\u9519\u8bef\u548c\u5f02\u5e38\uff1aAxios\u53ef\u4ee5\u6355\u83b7\u8bf7\u6c42\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\u548c\u5f02\u5e38\uff0c\u5e76\u63d0\u4f9b\u9002\u5f53\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u8bf7\u6c42\u72b6\u6001\u7801\u3001\u7f51\u7edc\u9519\u8bef\u3001\u8d85\u65f6\u7b49\u60c5\u51b5\u6765\u5b9a\u5236\u9519\u8bef\u5904\u7406\u903b\u8f91\u3002 \u603b\u4e4b\uff0cAxios\u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u4e14\u6613\u4e8e\u4f7f\u7528\u7684HTTP\u8bf7\u6c42\u5e93\uff0c\u5728JavaScript\u4e2d\u5e7f\u6cdb\u5e94\u7528\u4e8e\u524d\u7aef\u5f00\u53d1\u4e2d\u4e0e\u540e\u7aefAPI\u8fdb\u884c\u901a\u4fe1\u7684\u573a\u666f\u3002\u5b83\u7b80\u5316\u4e86\u8bf7\u6c42\u8fc7\u7a0b\u7684\u64cd\u4f5c\u548c\u7ba1\u7406\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\u6765\u6ee1\u8db3\u5404\u79cd\u9700\u6c42\u3002","title":"(1) \u6982\u8ff0"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#2-axioscreate","text":"\u9700\u8981\u53d1\u9001HTTP\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u901a\u8fc7\u521b\u5efaAxios\u5b9e\u4f8b\u6765\u4f7f\u7528Axios\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5f15\u5165Axios\u5e93\u5e76\u521b\u5efa\u5b9e\u4f8b ```html ``` \u4ee3\u7801\u5b9e\u4f8b javascript // \u521b\u5efaAxios\u5b9e\u4f8b const instance = axios.create({ baseURL: 'https://api.example.com', // \u8bbe\u7f6e\u57fa\u7840URL timeout: 5000, // \u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4 headers: { // \u8bbe\u7f6e\u8bf7\u6c42\u5934 'Content-Type': 'application/json', } }); \u53d1\u9001GET\u8bf7\u6c42\uff1a javascript instance.get('/api/users?name=lucky').then(response => { // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u53d1\u9001POST\u8bf7\u6c42\uff1a javascript instance.post('/api/users', { name: 'lucky', email: 'lucky@example.com' }) .then(response => // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u5b9e\u4f8b \u5ba2\u6237\u7aef\u4ee3\u7801 axios.html ```javascript Title \u70b9\u51fb\u53d1\u9001 $('button').click(function(){ var instance = axios.create({ baseURL: 'http://127.0.0.1:5000', timeout: 5000, headers:{ // 'Content-Type': 'application/json', // \u53d1\u9001JSON\u6570\u636e \"Content-Type\": \"application/x-www-form-urlencoded\", // \u53d1\u9001\u8868\u5355\u6570\u636e } }); // \u53d1\u9001JSON\u6570\u636e // instance.post('/axios/',{'name':'lucky'}).then(response=>{ // \u53d1\u9001\u8868\u5355\u6570\u636e instance.post('/axios/','name=lucky').then(response=>{ console.log(response.data, '\u6210\u529f') }).catch(error=>{ console.log('error', error) }) } ``` \u670d\u52a1\u7aef\u4ee3\u7801 manage.py ```python from flask import Flask,render_template,jsonify,request,make_response # \u5bfc\u5165flask\u7c7b # \u5b9e\u4f8b\u5316Flask\u7c7b app = Flask( name ) # \u6e32\u67d3ajax\u6a21\u677f @app.route('/') def post(): return render_template('axios.html') # \u66f4\u6539\u8def\u7531\u8bf7\u6c42\u65b9\u5f0f\u4e3apost\u548cget @app.route('/axios/',methods=['GET','POST']) def test_ajax(): if request.method == 'POST': # \u63a5\u6536POST\u6570\u636e print('\u63a5\u6536\u8868\u5355\u6570\u636e', request.form) # \u63a5\u6536\u8868\u5355\u6570\u636e # print('\u63a5\u6536JSON\u6570\u636e', request.json) # \u63a5\u6536JSON\u6570\u636e else: # \u63a5\u6536GET\u6570\u636e print(request.args) response = make_response({\"name\": \"lucky\", \"age\": 18, \"con\": \"\u670d\u52a1\u5668\u7aef\u8fd4\u56dejs\u6570\u636e\"}) # \u8bbe\u7f6e\u54cd\u5e94\u5934 \u5141\u8bb8\u8de8\u57df response.headers['Access-Control-Allow-Origin'] = '*' return response # \u5224\u65ad\u503c\u5728\u672c\u6a21\u5757\u624d\u8fd0\u884c if name == ' main ': app.run(debug=True) # \u8fd0\u884c ```","title":"(2) \u901a\u8fc7axios.create\u521b\u5efa\u5bf9\u8c61\u8fdb\u884c\u53d1\u8d77\u8bf7\u6c42"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#3-getpost","text":"axios.get \u53d1\u9001GET\u8bf7\u6c42\u683c\u5f0f\uff1a javascript axios.get(url[, config]) .then(response => { // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u4f7f\u7528 axios.post \u53d1\u9001POST\u8bf7\u6c42\u683c\u5f0f\uff1a javascript axios.post(url[, data[, config]]) .then(response => { // \u5904\u7406\u54cd\u5e94\u6570\u636e console.log(response.data); }) .catch(error => { // \u5904\u7406\u9519\u8bef console.error(error); }); \u6ce8\u610f\uff1a\u53d1\u9001post\u8bf7\u6c42\u9ed8\u8ba4\u8bf7\u6c42\u5934\u4e3a application/json \u53c2\u6570\u8bf4\u660e url \u662f\u8981\u53d1\u9001POST\u8bf7\u6c42\u7684\u76ee\u6807URL\u3002 data \u662f\u8981\u53d1\u9001\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u662f\u5bf9\u8c61\u3001\u5b57\u7b26\u4e32\u3001FormData\u7b49\u3002 config \u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u7528\u4e8e\u914d\u7f6e\u8bf7\u6c42\u3002\u5176\u4e2d\u5305\u62ec\u8bf7\u6c42\u5934\u3001\u8d85\u65f6\u65f6\u95f4\u7b49\u7b49\u3002 \u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u65f6\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u8981\u4f20\u9012\u4e0d\u540c\u7684\u53c2\u6570\uff0c\u5982URL\u3001\u8bf7\u6c42\u4f53\u6570\u636e\u3001\u8bf7\u6c42\u914d\u7f6e\u7b49\u3002\u7136\u540e\uff0c\u901a\u8fc7Promise\u7684 .then() \u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u6210\u529f\u540e\u7684\u54cd\u5e94\u6570\u636e\uff0c\u901a\u8fc7 .catch() \u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u51fa\u9519\u65f6\u7684\u9519\u8bef\u4fe1\u606f\u3002 \u5b9e\u4f8b get\u5b9e\u4f8b javascript axios.get('http://127.0.0.1:5000/axios/?name=lucky').then(response=>{ console.log(response.data, '\u6210\u529f') }).catch(error=>{ console.log('error', error) }) post\u5b9e\u4f8b javascript axios.post('http://127.0.0.1:5000/axios/',{'name':'lucky'}, {'Content-Type': 'application/json'}).then(response=>{ console.log(response.data, '\u6210\u529f') }).catch(error=>{ console.log('error', error) })","title":"(3) \u76f4\u63a5\u8fdb\u884cget\u548cpost\u53d1\u8d77\u8bf7\u6c42"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#4_1","text":"Axios\u5e93\u4e2d\u7684\u6240\u6709\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5305\u62ec axios.get \u3001 axios.post \u7b49\uff0c\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2aPromise\u5b9e\u4f8b\u3002\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f7f\u7528Promise\u7684\u94fe\u5f0f\u8c03\u7528\u8bed\u6cd5\uff08 .then().catch() \uff09\u6765\u5904\u7406\u5f02\u6b65\u8bf7\u6c42\u7684\u7ed3\u679c\u3002 \u901a\u8fc7\u8c03\u7528 axios.get \u65b9\u6cd5\u53d1\u9001GET\u8bf7\u6c42\u65f6\uff0c\u5b83\u4f1a\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 .then() \u65b9\u6cd5\u6765\u5904\u7406\u8bf7\u6c42\u6210\u529f\u540e\u7684\u54cd\u5e94\u6570\u636e\uff0c\u4f7f\u7528 .catch() \u65b9\u6cd5\u6765\u5904\u7406\u8bf7\u6c42\u51fa\u9519\u65f6\u7684\u9519\u8bef\u4fe1\u606f\u3002","title":"(4) \u6ce8\u610f"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#5-axioscreateaxiosgetpost","text":"axios.create \u548c axios.get \u662fAxios\u5e93\u4e2d\u7684\u4e24\u4e2a\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u5b83\u4eec\u6709\u4ee5\u4e0b\u533a\u522b\uff1a \u529f\u80fd\u4e0d\u540c\uff1a axios.create \uff1a axios.create \u65b9\u6cd5\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Axios\u5b9e\u4f8b\u3002\u901a\u8fc7\u8fd9\u4e2a\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u3001\u62e6\u622a\u5668\u3001\u9ed8\u8ba4\u8bf7\u6c42\u5934\u7b49\u3002\u521b\u5efa\u5b9e\u4f8b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u8be5\u5b9e\u4f8b\u53d1\u9001\u5404\u79cd\u7c7b\u578b\u7684HTTP\u8bf7\u6c42\u3002 axios.get \uff1a axios.get \u65b9\u6cd5\u662fAxios\u5e93\u63d0\u4f9b\u7684\u7279\u5b9a\u7684HTTP GET\u8bf7\u6c42\u65b9\u6cd5\uff0c\u7528\u4e8e\u53d1\u9001GET\u8bf7\u6c42\u5e76\u83b7\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u3002 \u4f7f\u7528\u65b9\u5f0f\u4e0d\u540c\uff1a axios.create \uff1a axios.create \u65b9\u6cd5\u9700\u8981\u5148\u8c03\u7528\u521b\u5efa\u5b9e\u4f8b\uff0c\u5e76\u5c06\u8fd4\u56de\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff0c\u7136\u540e\u901a\u8fc7\u8fd9\u4e2a\u53d8\u91cf\u6765\u53d1\u9001HTTP\u8bf7\u6c42\u3002\u521b\u5efa\u5b9e\u4f8b\u65f6\u53ef\u4ee5\u8bbe\u7f6e\u5168\u5c40\u7684\u57fa\u7840URL\u3001\u8bf7\u6c42\u8d85\u65f6\u65f6\u95f4\u3001\u8bf7\u6c42\u5934\u7b49\u914d\u7f6e\u3002 axios.get \uff1a axios.get \u65b9\u6cd5\u76f4\u63a5\u8c03\u7528Axios\u5e93\u63d0\u4f9b\u7684\u5168\u5c40\u7684GET\u8bf7\u6c42\u65b9\u6cd5\uff0c\u65e0\u9700\u521b\u5efa\u5b9e\u4f8b\u3002\u53ea\u9700\u63d0\u4f9b\u8bf7\u6c42\u7684URL\u548c\u53ef\u9009\u7684\u914d\u7f6e\u53c2\u6570\u5373\u53ef\u53d1\u9001GET\u8bf7\u6c42\u3002 #### (6) axios\u548cajax\u7684\u533a\u522b Axios\u548cAjax\u90fd\u662f\u7528\u4e8e\u5728\u524d\u7aef\u53d1\u9001HTTP\u8bf7\u6c42\u7684\u5de5\u5177\uff0c\u4f46\u5b83\u4eec\u4e4b\u95f4\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4e3b\u8981\u533a\u522b\uff1a \u5e95\u5c42\u5b9e\u73b0\u65b9\u5f0f\uff1a Axios: Axios\u662f\u4e00\u4e2a\u57fa\u4e8ePromise\u7684\u73b0\u4ee3\u5316\u7684HTTP\u5ba2\u6237\u7aef\u5e93\uff0c\u4f7f\u7528\u4e86\u6d4f\u89c8\u5668\u5185\u7f6e\u7684XMLHttpRequest\u6216\u8005Node.js\u4e2d\u7684http\u6a21\u5757\u6765\u5b9e\u73b0\u5e95\u5c42\u7684HTTP\u8bf7\u6c42\u3002 Ajax: Ajax\uff08Asynchronous JavaScript and XML\uff09\u662f\u4e00\u79cd\u4f7f\u7528\u539f\u751f\u7684JavaScript\u548cXMLHttpRequest\u5bf9\u8c61\u8fdb\u884c\u5f02\u6b65\u901a\u4fe1\u7684\u6280\u672f\u3002 \u8bed\u6cd5\u548c\u63a5\u53e3\uff1a Axios: Axios\u63d0\u4f9b\u4e86\u7b80\u6d01\u3001\u6613\u7528\u7684API\u63a5\u53e3\uff0c\u4ee5\u94fe\u5f0f\u8c03\u7528\u7684\u5f62\u5f0f\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u3002\u5b83\u8fd4\u56de\u7684\u662fPromise\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528async/await\u7b49\u8bed\u6cd5\u7cd6\u8fdb\u884c\u66f4\u52a0\u65b9\u4fbf\u7684\u5f02\u6b65\u64cd\u4f5c\u3002 Ajax: Ajax\u9700\u8981\u624b\u52a8\u521b\u5efaXMLHttpRequest\u5bf9\u8c61\uff0c\u5e76\u901a\u8fc7\u4e8b\u4ef6\u76d1\u542c\u7684\u65b9\u5f0f\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u3002\u5b83\u901a\u5e38\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u6765\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\uff0c\u4ee3\u7801\u7ed3\u6784\u8f83\u4e3a\u7e41\u7410\u3002 \u529f\u80fd\u548c\u7279\u6027\uff1a Axios: Axios\u652f\u6301\u5728\u6d4f\u89c8\u5668\u548cNode.js\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\uff0c\u5982\u62e6\u622a\u5668\u3001\u53d6\u6d88\u8bf7\u6c42\u3001\u5168\u5c40\u914d\u7f6e\u3001\u9519\u8bef\u5904\u7406\u7b49\u3002\u5b83\u8fd8\u80fd\u81ea\u52a8\u8f6c\u6362\u8bf7\u6c42\u548c\u54cd\u5e94\u6570\u636e\uff0c\u652f\u6301\u591a\u79cd\u683c\u5f0f\uff0c\u5982JSON\u3001FormData\u7b49\u3002 Ajax: Ajax\u4e3b\u8981\u7528\u4e8e\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\uff0c\u53ea\u63d0\u4f9b\u4e86\u57fa\u672c\u7684\u53d1\u9001HTTP\u8bf7\u6c42\u548c\u5904\u7406\u54cd\u5e94\u7684\u529f\u80fd\uff0c\u4e0d\u652f\u6301\u81ea\u52a8\u8f6c\u6362\u6570\u636e\u683c\u5f0f\u7b49\u9ad8\u7ea7\u7279\u6027\u3002 \u7efc\u4e0a\u6240\u8ff0\uff0cAxios\u662f\u4e00\u4e2a\u57fa\u4e8ePromise\u7684\u73b0\u4ee3\u5316HTTP\u5ba2\u6237\u7aef\u5e93\uff0c\u76f8\u6bd4\u4f20\u7edf\u7684Ajax\u66f4\u52a0\u6613\u7528\u3001\u529f\u80fd\u4e30\u5bcc\u3002\u5b83\u63d0\u4f9b\u4e86\u4f18\u96c5\u7684API\u63a5\u53e3\u548c\u8bb8\u591a\u4fbf\u6377\u7684\u529f\u80fd\uff0c\u4f7f\u5f97\u5728\u524d\u7aef\u5f00\u53d1\u4e2d\u5904\u7406HTTP\u8bf7\u6c42\u53d8\u5f97\u66f4\u52a0\u65b9\u4fbf\u548c\u9ad8\u6548\u3002","title":"(5) axios.create\u548caxios.get/post \u7684\u533a\u522b"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#5-interceptors","text":"\u6982\u8ff0 \u5b83\u63d0\u4f9b\u4e86\u62e6\u622a\u5668(interceptors)\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u5728\u8bf7\u6c42\u53d1\u9001\u6216\u54cd\u5e94\u8fd4\u56de\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u62e6\u622a\u548c\u5904\u7406\u3002 \u4f7f\u7528Axios\u62e6\u622a\u5668\u53ef\u4ee5\u5b9e\u73b0\u5f88\u591a\u529f\u80fd\uff0c\u4f8b\u5982\uff1a \u6dfb\u52a0\u516c\u5171\u8bf7\u6c42\u5934\uff1a\u4f60\u53ef\u4ee5\u5728\u8bf7\u6c42\u53d1\u9001\u4e4b\u524d\u901a\u8fc7\u62e6\u622a\u5668\u5411\u8bf7\u6c42\u4e2d\u6dfb\u52a0\u4e00\u4e9b\u516c\u5171\u7684\u8bf7\u6c42\u5934\u4fe1\u606f\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u91cd\u590d\u4ee3\u7801\u7684\u7f16\u5199\u3002 \u8bf7\u6c42\u9519\u8bef\u5904\u7406\uff1a\u5728\u8bf7\u6c42\u8fd4\u56de\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u62e6\u622a\u5668\u6765\u7edf\u4e00\u5904\u7406\u8bf7\u6c42\u7684\u9519\u8bef\uff0c\u6bd4\u5982\u7f51\u7edc\u9519\u8bef\u3001\u8ba4\u8bc1\u9519\u8bef\u7b49\u3002 \u8ba4\u8bc1\u5904\u7406\uff1a\u62e6\u622a\u5668\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5904\u7406\u8ba4\u8bc1\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u5728\u6bcf\u4e2a\u8bf7\u6c42\u4e2d\u6dfb\u52a0\u8ba4\u8bc1\u4fe1\u606f\u3001\u5237\u65b0token\u7b49\u3002 \u8fdb\u884c\u53cd\u6252\u5904\u7406 \u52a0\u5bc6\u6570\u636e \u643a\u5e26token \u8bf7\u6c42\u62e6\u622a\u5668 javascript axios.interceptors.request.use( (config) => { // \u6210\u529f\u6267\u884c\u51fd\u6570 // \u5728\u8bf7\u6c42\u53d1\u9001\u4e4b\u524d\u53ef\u4ee5\u5bf9\u8bf7\u6c42\u8fdb\u884c\u5904\u7406 console.log(config, '\u62e6\u622a\u6210\u529f') // \u6dfb\u52a0\u8bf7\u6c42\u5934\u7c7b\u578b config['headers']['Content-Type'] = 'application/json' return config },(error) => { // \u5931\u8d25\u6267\u884c\u51fd\u6570 // \u5904\u7406\u8bf7\u6c42\u9519\u8bef return Promise.reject(error, '\u62e6\u622a\u5931\u8d25'); }) \u54cd\u5e94\u62e6\u622a\u5668 \uff08\u7528\u4e8e\u5904\u7406\u9519\u8bef\u3001\u6216\u5bfe\u76f8\u5e94\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u7b49\u64cd\u4f5c\uff09 \u5728\u4e0a\u65b9\u8fdb\u884c\u62e6\u622a javascript // \u54cd\u5e94\u62e6\u622a\u5668 axios.interceptors.response.use( (response) => { // \u6210\u529f\u6267\u884c\u51fd\u6570 // \u5728\u54cd\u5e94\u8fd4\u56de\u4e4b\u524d\u53ef\u4ee5\u5bf9\u54cd\u5e94\u8fdb\u884c\u5904\u7406 response.data.name = '\u8fea\u4e3d\u70ed\u5df4' // \u8fdb\u884c\u89e3\u5bc6 \u5c06lucky\u89e3\u5bc6\u4e3a\u8fea\u4e3d\u70ed\u5df4 console.log(response, '\u54cd\u5e94\u62e6\u622a') return response; }, (error) => { // \u5931\u8d25\u6267\u884c\u51fd\u6570 // \u5904\u7406\u54cd\u5e94\u9519\u8bef return Promise.reject(error); } ); \u4e0a\u9762\u4f7f\u7528axios.create\u521b\u5efa\u7684\u8bf7\u6c42 \u9700\u8981\u4f7f\u7528\u5176\u5bf9\u5e94\u7684\u5bf9\u8c61\u8fdb\u884c\u62e6\u622a ```javascript // \u521b\u5efa\u8bf7\u6c42\u5bf9\u8c61instance let instance = axios.create({ baseURL: 'http://127.0.0.1:5000', // \u8bbe\u7f6e\u57fa\u7840URL timeout: 5000, // \u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4 headers: { // \u8bbe\u7f6e\u8bf7\u6c42\u5934 'Content-Type': 'application/json', } }); // \u8fdb\u884c\u62e6\u622a // \u8bf7\u6c42\u62e6\u622a\u5668 instance.interceptors.request.use(response=>{},error=>{}) // \u54cd\u5e94\u62e6\u622a\u5668 instance.interceptors.response.use(response=>{},error=>{}) instance.get('/axios/?name=lucky&age=18').then(response => { // instance.post('/axios/',{name: 'lucky', 'age': 18}).then(response => { console.log('response===>', response); }).catch(error => { // \u5904\u7406\u9519\u8bef console.error('error', error); }); ``` \u200b \u6ce8\u610f\uff1a\u62e6\u622a\u5668\u9700\u8981\u653e\u8bf7\u6c42\u4e0a\u65b9","title":"(5) \u62e6\u622a\u5668 interceptors"},{"location":"26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html#6","text":"https://ctbpsp.com/#/ \u53d1\u73b0\u52a0\u5bc6\u6570\u636e \u901a\u8fc7\u8c03\u7528\u6808\u53d1\u73b0Promise.then \u8fd9\u79cd\u60c5\u51b5\u7edd\u5927\u591a\u6570\u4e3a\u62e6\u622a\u5668 \u76f4\u63a5\u641c\u7d22interceptors\u5373\u53ef \u641c\u7d22\u5230\u540e\u8fdb\u884c\u70b9\u51fb\u8fdb\u884c\u67e5\u770b \u901a\u8fc7\u67e5\u627e interceptors\u627e\u5230\u5f53\u524d\u8fdb\u884c\u89e3\u5bc6\u7684\u4ee3\u7801 \u627e\u5230\u62e6\u622a\u5668\u7684\u4f4d \u8fdb\u884c\u6253\u65ad\u70b9 \u901a\u8fc7\u65ad\u70b9 \u627e\u5230\u5f53\u524d\u89e3\u5bc6\u51fd\u6570 \u8fdb\u5165\u5230\u52a0\u5bc6\u51fd\u6570\u4f4d\u7f6e \u53d1\u73b0\u52a0\u5bc6\u7b97\u6cd5","title":"(6) \u5b9e\u6218\u6848\u4f8b"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html","text":"\u4e8c\u5341\u4e03\u3001JS\u9006\u541101 \u4e00\u3001\u6d4f\u89c8\u5668js\u8c03\u8bd5\u529f\u80fd\u8bf4\u660e 1\u3001\u8c03\u8bd5\u5de5\u5177\u680f\u6309\u94ae\u8bf4\u660e \u6309\u94ae\uff1a \u7b2c\u4e00\u4e2a\u6309\u94ae \u8c03\u8bd5\u5de5\u5177\u680f\u7b2c\u4e00\u4e2a\u6309\u94ae. \u8868\u793a, \u76f4\u63a5\u8fd0\u884c\u5230\u6700\u540e, \u6216\u8005\u4e0b\u4e00\u4e2a\u65ad\u70b9\u4f4d\u7f6e. \u7b2c\u4e8c\u4e2a\u6309\u94ae \u8868\u793a, \u6267\u884c\u5f53\u524d\u884c\u4ee3\u7801. \u4e0d\u8bba\u5f53\u524d\u884c\u662f\u5426\u6709\u51fd\u6570\u8c03\u7528. \u90fd\u4f1a\u6267\u884c\u5b8c \u7b2c\u4e09\u4e2a\u6309\u94ae \u8868\u793a, \u8fdb\u5165\u4e0b\u4e00\u6b65. \u5982\u679c\u6709\u51fd\u6570\u6389\u7528, \u4f1a\u8fdb\u5165\u51fd\u6570, \u5982\u679c\u6ca1\u6709, \u5c31\u662f\u4e0b\u4e00\u884c \u7b2c\u56db\u4e2a\u6309\u94ae \u8868\u793a, \u8fdb\u5165\u56de\u5230\u4e0a\u4e00\u6b65\uff08\u4f46\u662f\u4e0d\u597d\u7528\uff09 \u6700\u540e\u4e00\u4e2a\u6309\u94ae \u6240\u6709\u65ad\u70b9\u90fd\u4e0d\u751f\u6548 2\u3001\u53f3\u4fa7\u8c03\u8bd5\u9762\u677f\u8bf4\u660e \u82f1\u6587\u9762\u677f \u4e2d\u6587\u9762\u677f (1) Watch/\u76d1\u89c6 \u8bf4\u660e \u4f5c\u7528\uff1a \u76d1\u89c6\u5f53\u524d\u7684\u53d8\u91cf \u901a\u8fc7\u89c2\u5bdf\u53d8\u91cf\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u53d8\u5316 \u8f93\u5165\u8981\u76d1\u89c6\u7684\u53d8\u91cf h \u8f93\u5165\u5b8c\u56de\u8f66 \u70b9\u51fb \u7b2c\u4e8c\u4e2a\u6309\u94ae\u5411\u4e0b\u6267\u884c\u4e00\u6b65 \u901a\u8fc7\u4ee3\u7801\u4e0d\u65ad\u5411\u4e0b\u8fd0\u884c\u4ee5\u8fbe\u5230\u76d1\u89c6\u53d8\u91cf\u7684\u76ee\u7684 (2) Breakpoints/\u65ad\u70b9 \u4f5c\u7528\uff1a \u6240\u6709\u7684\u65ad\u70b9\u90fd\u4f1a\u518d\u6b21\u663e\u793a \u70b9\u51fb\u67e5\u770b \u79fb\u9664\u5f53\u524d/\u6240\u6709\u65ad\u70b9 (3) scope/\u4f5c\u7528\u57df \u4f5c\u7528\uff1a \u67e5\u770b\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf (4) Call Stack/\u8c03\u7528\u5806\u6808 \u4f5c\u7528\uff1a \u7528\u4e8e\u67e5\u770b\u5f53\u524d\u7684\u8c03\u7528\u987a\u5e8f \u4ee5\u6b64\u8fdb\u884c\u67e5\u770b\u5f53\u524d\u6bcf\u4e00\u6b65\u7684\u8c03\u7528\u6d41\u7a0b \u5f53\u524d\u4f4d\u7f6e \u67e5\u770b\u8c01\u8c03\u7528\u4e86d\u51fd\u6570 (5) XHR/\u63d0\u53d6\u65ad\u70b9 \u4f5c\u7528\uff1a \u5f53\u524d\u8bf7\u6c42\u4e2d\u6709\u5f02\u6b65\u7684\u90fd\u4f1a\u88ab\u963b\u65ad(\u4e5f\u5c31\u662f\u6dfb\u52a0\u4e0a\u65ad\u70b9) \u52fe\u9009 \u62e6\u622a\u6307\u5b9a\u7684url 3\u3001\u6d4f\u89c8\u5668\u914d\u7f6e \u4e8c\u3001\u627e\u52a0\u5bc6\u53c2\u6570\u65b9\u6848 URL\uff1a https://music.163.com/#/song?id=188451 1\u3001\u4ece\u8bf7\u6c42\u53d1\u51fa\u5904\u8fdb\u884c\u67e5\u627e \u8bf4\u660e\uff1a \u8fd9\u79cd\u65b9\u5f0f\u67e5\u627e\u8d77\u6765\u6bd4\u8f83\u65b9\u4fbf \u901a\u8fc7\u6293\u5305\u627e\u5230\u5f53\u524durl \u643a\u5e26\u53c2\u6570\u4e3a\u52a0\u5bc6\u53c2\u6570 \u67e5\u770b\u5f53\u524d\u54cd\u5e94 \u8fd4\u56de\u4e3a\u5f53\u524d\u97f3\u9891\u7684URL\u5730\u5740 \u8fdb\u5165\u8c03\u7528\u6808 \u627e\u5230\u6700\u540e\u4e00\u4e2a\u8c03\u7528\uff0c \u4e00\u5b9a\u4e3a\u5f53\u524d\u6700\u7ec8\u8c03\u7528\u7684send()\u65b9\u6cd5 \u4e5f\u5c31\u662f\u53d1\u9001\u51fa\u53bb\u7684\u90a3\u4e2a \u70b9\u51fb\u8fdb\u53bb \u70b9\u51fb\u8c03\u7528\u6808\u8fdb\u5165\u4ee5\u540e \u53d1\u73b0\u5230\u4e86\u5f53\u524d\u4f4d\u7f6e \u6253\u4e0a\u65ad\u70b9 \u63a5\u4e0b\u6765\u4e0d\u65ad\u5411\u4e0a\u8fdb\u884c\u67e5\u627e \u76f4\u5230\u627e\u5230\u52a0\u5bc6\u4f4d\u7f6e \u53d1\u73b0\u52a0\u5bc6\u7684\u503c \u5728arguments \u63a5\u4e0b\u6765\u9010\u6b65\u67e5\u627e \u662f\u5728\u54ea\u4e00\u6b65\u5c06\u53c2\u6570\u8fdb\u884c\u4e86\u52a0\u5bc6 \u5728\u8c03\u7528\u6808\u7684\u4f4d\u7f6e \u9010\u6b65\u5411\u4e0a\u4e00\u5c42\u8c03\u7528\u7684\u4f4d\u7f6e\u8fdb\u884c\u67e5\u627e \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u7ee7\u7eed\u4e0a\u4e00\u5c42 \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u7ee7\u7eed\u4e0a\u4e00\u5c42 \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u7ee7\u7eed\u4e0a\u4e00\u5c42 \u5230\u7b2c6\u5c42\u53d1\u73b0\u4e86\u53c2\u6570\u4e0d\u518d\u662f\u52a0\u5bc6\u7684 u7n.be8W\uff0c\u8fdb\u5165\u5230\u5f53\u524d\u51fd\u6570\u67e5\u770b\u5185\u90e8\u662f\u5982\u4f55\u52a0\u5bc6\u7684 \u70b9\u51fb\u8fdb\u5165 \u8fdb\u5165u7n.be8W\u51fd\u6570\u4ee5\u540e \u627e\u5230\u4e86\u5f53\u524d\u643a\u5e26\u53c2\u6570\u7684\u4f4d\u7f6e \u901a\u8fc7\u67e5\u770b\u53d1\u73b0\u5f53\u524d\u52a0\u5bc6\u5bf9\u8c61\u4e3abVc6W\uff0c\u63a5\u4e0b\u6765\u8fdb\u5165\u5230window.asrsea\u51fd\u6570 \u67e5\u770b\u662f\u5982\u4f55\u8fdb\u884c\u52a0\u5bc6\u7684 \u70b9\u51fb\u8fdb\u5165 \u627e\u5230\u6700\u7ec8\u52a0\u5bc6\u51fd\u6570d 2\u3001\u641c\u7d22\u5f53\u524dURL \u8bf4\u660e\uff1a \u641c\u7d22\u89c4\u5219 \u5f53\u524durl\u8def\u5f84\u4ece\u540e\u5f80\u524d\u9010\u4e00\u53bb\u641c \u65b9\u5f0f\uff1a \u6bd4\u5982\uff1a\u5f53\u524durl \u4e3a https://music.163.com/weapi/song/enhance/player/url/v1?csrf_token= \u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u641c\u7d22\uff1a v1 url/v1 player/url/v enhance/player/url/v1 \u7b49\u65b9\u5f0f\uff0c\u5982\u679c\u641c\u7d22\u51fa\u6765\u7684\u7ed3\u679c\u592a\u591a\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4e0d\u65ad\u5f80\u524d\u6dfb\u52a0\u8def\u5f84\u7ee7\u7eed\u641c\u7d22 \u641c\u7d22url\u4e2d enhance/player/url/v1 \u5728search\u4e2d\u641c\u7d22\u51fa\u7ed3\u679c \u70b9\u51fb\u8fdb\u5165\u67e5\u770b \u901a\u8fc7\u641c\u7d22\u5230\u5f97\u7ed3\u679c \u8fdb\u5165\u5230\u4ee3\u7801\u4e2d \u7ed9\u5f53\u524d\u4f4d\u7f6e\u6253\u4e0a\u65ad\u70b9 \u67e5\u770b\u5f53\u524d\u4ee3\u7801 \u53d1\u73b0\u51fd\u6570 u7n.be8W \u5185\u90e8\u6709\u4fe9\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u4e3a\u5f53\u524d\u6211\u4eec\u641c\u7d22\u7684URL \u8fdb\u5165\u8be5\u51fd\u6570\u67e5\u770b \u70b9\u51fb\u8fdb\u5165 \u627e\u5230\u52a0\u5bc6\u51fd\u6570\u4f4d\u7f6e 3\u3001\u76f4\u63a5\u641c\u7d22\u52a0\u5bc6\u53c2\u6570\u540d\u79f0 \u8bf4\u660e\uff1a \u5f53\u524d\u8fd9\u79cd\u65b9\u5f0f\u53ef\u80fd\u4f1a\u6709\u5f88\u591a\u5f53\u524d\u76f8\u540c\u540d\u5b57\u7684\u4ee3\u7801\u7684\u4f4d\u7f6e \u9700\u8981\u81ea\u5df1\u9010\u4e00\u53bb\u6392\u67e5 \u6839\u636e\u63d0\u793a\u7684\u4f4d\u7f6e\uff0c\u4e0b\u65ad\u70b9 \u8ba9\u7a0b\u5e8f\u6267\u884c \u901a\u8fc7\u6293\u5305\u627e\u5230\u5f53\u524durl \u53d1\u73b0\u5f53\u524d\u643a\u5e26\u53c2\u6570key\u4e3a params \u548c encSecKey \u8fdb\u884c\u641c\u7d22 \u9996\u5148\u641c\u641c params \u53d1\u73b0\u7ed3\u679c\u8fc7\u591a \u4e0d\u597d\u6392\u67e5 \u6362 \u4e0b\u4e00\u4e2a\u53c2\u6570 encSecKey \u7ee7\u7eed\u641c\u7d22 \u627e\u5230\u5f53\u524d\u52a0\u5bc6\u4f4d\u7f6e \u7ed9\u5f53\u524d\u52a0\u5bc6\u51fd\u6570\u6253\u4e0a\u65ad\u70b9 \u7136\u540e\u91cd\u65b0\u8fd0\u884c\u5f53\u524d\u7f51\u7ad9 \u901a\u8fc7\u53f3\u4fa7\u8c03\u7528\u6808\u67e5\u627e\u53bb\u67e5\u770b\u5f53\u524d\u8c03\u7528\u7684\u6d41\u7a0b \u901a\u8fc7\u8c03\u7528\u6808\u8fdb\u884c\u957f\u5c42\u67e5\u770b 4\u3001\u53c2\u6570\u4e3a\u8bf7\u6c42\u5934\u4e2d\u53c2\u6570 URL\uff1ahttps://www.jiansheku.com/search/business/p4/ \u5f53\u524dsign\u4e3a\u8bf7\u6c42\u5934\u4e2d\u53c2\u6570\u540d\u79f0 \u5982\u679c\u5f53\u524d\u52a0\u5bc6\u53c2\u6570\u4e3a\u8bf7\u6c42\u5934\u4e2d\u53c2\u6570 \u53ea\u641c\u7d22\u53c2\u6570\u540d\u65e0\u6cd5\u641c\u7d22\u5230\u6216\u8005\u641c\u7d22\u7684\u7ed3\u679c\u592a\u591a \u53ef\u4ee5\u5c1d\u8bd5\u641c\u7d22 headers.\u53c2\u6570\u540d 5\u3001\u5728\u65ad\u70b9\u5904\u60f3\u8fdb\u5165\u51fd\u6570\u7684\u65b9\u5f0f \u65b9\u5f0f\u4e00 \uff1a \u9009\u4e2d\u51fd\u6570 \u9009\u4e2d\u51fd\u6570 \u901a\u8fc7\u5f39\u51fa\u6846\u8fdb\u884c\u8fdb\u5165 \u65b9\u5f0f\u4e8c \uff1a\u4f7f\u7528console\u8f93\u51fa\u51fd\u6570 \u628a\u51fd\u6570\u590d\u5236\u5230console\u4e2d \u8fd0\u884c \u901a\u8fc7\u8f93\u51fa\u7ed3\u679c\u70b9\u51fb\u8fdb\u5165 \u8fdb\u5165\u5230\u5f53\u524d\u51fd\u6570\u5b9a\u4e49\u5904\u7684\u4f4d\u7f6e \u65b9\u5f0f\u4e09 \uff1a\u8c03\u8bd5\u5de5\u5177\u680f \u7b2c\u4e09\u4e2a\u6309\u94ae \u53ef\u4ee5\u70b9\u51fb\u8c03\u8bd5\u5de5\u5177\u680f, \u7b2c\u4e09\u4e2a\u6309\u94ae. \u53ef\u4ee5\u8fdb\u5165\u51fd\u6570. \u4f46\u662f. \u5982\u679c\u5728\u672c\u6b21\u8c03\u7528\u8fc7\u7a0b\u4e2d, \u63ba\u6742\u4e86\u5176\u4ed6\u51fd\u6570\u3001\u53ef\u80fd\u4f1a\u6709\u8bef\u5dee. \u5b9e\u4f8b \u7ed3\u679c \u4e09\u3001pycharm \u8fd0\u884cjs (1) \u8981\u6c42\u4e13\u4e1a\u7248 windwos\uff1a\u6839\u636e\u516c\u544a\u8fdb\u884c\u7834\u89e3\uff0c \u9700\u8981\u7248\u672c\u548c\u89c6\u9891\u5bf9\u5e94 Mac\uff1a\u6dd8\u5b9d\u6216\u8005\u62fc\u591a\u591a (2) \u7535\u8111\u5b89\u88c5node\u73af\u5883 \u4f5c\u7528\uff1a \u7528\u4e8e\u89e3\u91capycharm\u4e2d\u7684js\u6587\u4ef6\u7684\u4ee3\u7801\uff0c \u53ef\u4ee5\u7406\u89e3\u4e3a\u548cPython\u89e3\u91ca\u5668\u4e00\u6837 node\u5b89\u88c5\u5305\uff1a npm install \u5305\u540d \u641c\u7d22nodejs \u5b98\u7f51 https://nodejs.org/zh-cn \u7248\u672c windwos\uff1a \u70b9\u51fb\u5176\u5b83\u4e0b\u8f7d \u9009\u62e9 \u540e\u7f00\u4e3amsi\u7684\uff0c\u76f4\u63a5\u50bb\u74dc\u5f0f\u5b89\u88c5\u5c31\u53ef\u4ee5 Mac\uff1a \u76f4\u63a5\u4e0b\u8f7d \u5b89\u88c5\u5373\u53ef \u5b89\u88c5\u5b8c\u4ee5\u540e \u6253\u5f00\u7ec8\u7aef\u8f93\u5165 node \u67e5\u770b\u5b89\u88c5\u662f\u5426\u6210\u529f \u5b89\u88c5\u6b65\u9aa4 \u5c06npm\u8bbe\u7f6e\u4e3a\u56fd\u5185\u7684\u955c\u50cf windwos \u5728\u56fd\u5185\u4f7f\u7528npm\u4e0b\u8f7d\u5305\u901f\u5ea6\u6bd4\u8f83\u6162\uff0c\u53ef\u4ee5\u5c06npm\u8bbe\u7f6e\u4e3a\u56fd\u5185\u7684\u955c\u50cf\uff0c\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\u3002 \u4ee5\u4e0b\u662f\u5c06npm\u8bbe\u7f6e\u4e3a\u6dd8\u5b9d\u955c\u50cf\u7684\u6b65\u9aa4\uff1a \u6253\u5f00\u7ec8\u7aef\u6216\u547d\u4ee4\u884c\u7a97\u53e3 \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06npm\u7684registry\u8bbe\u7f6e\u4e3a\u6dd8\u5b9d\u955c\u50cf\uff1a cpp npm config set registry https://registry.npm.taobao.org/ \u68c0\u67e5\u8bbe\u7f6e\u662f\u5426\u751f\u6548\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a cpp npm config get registry \u5982\u679c\u8fd4\u56de\u7684\u7ed3\u679c\u4e3ahttps://registry.npm.taobao.org/\uff0c\u5219\u8bf4\u660e\u8bbe\u7f6e\u6210\u529f\u3002 \u73b0\u5728\u4f60\u53ef\u4ee5\u4f7f\u7528npm\u5b89\u88c5\u5305\uff0c\u901f\u5ea6\u4f1a\u66f4\u5feb\u4e86\u3002\u5982\u679c\u9700\u8981\u6062\u590d\u4e3a\u5b98\u65b9registry\uff0c\u53ea\u9700\u8981\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a cpp npm config set registry https://registry.npmjs.org/ Mac \u7ec8\u7aef\u547d\u4ee4 cpp npm config set registry https://registry.npm.taobao.org \u914d\u7f6e\u540e\u53ef\u901a\u8fc7\u4e0b\u9762\u65b9\u5f0f\u6765\u9a8c\u8bc1\u662f\u5426\u6210\u529f csharp npm config get registrynfig get registry (3) pycharm \u5b89\u88c5nodejs \u63d2\u4ef6 (4) \u6d4b\u8bd5 \u65b0\u5efajs\u6587\u4ef6 \u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801 javascript var a = 10; var b = 20; console.log(a + b) \u70b9\u51fb\u8fd0\u884c \u8fd0\u884c\u7ed3\u679c \u4e5f\u53ef\u4ee5\u5728\u7ec8\u7aef\u8f93\u5165 node \u6587\u4ef6\u540d\u79f0\u8fd0\u884c \u6ce8\u610f \u5982\u679c\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801\u8fd4\u56de Node.js (V8)\u5219\u6b63\u5e38 \u82e5\u8fd4\u56deNashorn \u5219\u91cd\u542f\u7535\u8111\u5373\u53ef python import execjs execjs.get().name (5) python\u8c03\u7528js\u4ee3\u7801 --- pyexecjs \u6ce8\u610f\uff1a \u5982\u679c\u662fMac M\u82af\u7247\u4f7f\u7528Python\u8c03\u7528js\u7684\u95ee\u9898\uff1a\u4f7f\u7528PyExecJs\u5e93\u9047\u5230execjs._exceptions.ProcessExitedWithNonZeroStatus\u9519\u8bef aise ProcessExitedWithNonZeroStatus(status=status, stdout=stdoutdata, stderr=stderrdata) execs._exceptions.ProcessExitedWithNonZeroStatus: (1, 'The operation couldn't be completed. Unable to locate a Jal va Runtime. Inplease visit http://www.java.com for information on installing Java. Inin!) \u89e3\u51b3\uff1a URL\uff1a https://www.azul.com/downloads/?version=java-8-lts&os=macos&package=jdk#zulu \u4e0b\u8f7dJDK \u50bb\u74dc\u5f0f\u5b89\u88c5\u5373\u53ef\uff08\u5982\u679c\u4f60\u7684Mac\u662fInter\u82af\u7247\uff0c\u90a3\u4e48\u5c31\u9009\u62e9 x86 64-bit \u7684\u7248\u672c\u3002\uff09 \u5b89\u88c5\u5b8c\u91cd\u65b0\u8fd0\u884c\u5373\u53ef \u8bf4\u660e \u8be5\u6a21\u5757\u53ef\u4ee5\u5b8c\u6210\u5bf9js\u4ee3\u7801\u7684\u8c03\u7528 \u5b89\u88c5\u6a21\u5757 pip install pyexecjs \u5bfc\u5165 import execjs \u6267\u884c\u4e00\u5c0f\u6bb5js\u4ee3\u7801 eval ```python import execjs fun = \"\"\" function(){ return 'lucky is a good man'; }() \"\"\" context = execjs.eval(fun) print(context) ``` \u6267\u884c\u5927\u6bb5js\u4ee3\u7801 call ```python import execjs with open('example1.js', 'r', encoding='UTF-8') as f: js_code = f.read() context = execjs.compile(js_code) result = context.call('add', 2, 3) print(result) ``` \u6211\u4eec\u8c03\u7528\u4e86JavaScript\u51fd\u6570 add \uff0c\u5e76\u4f20\u9012\u4e86\u4e24\u4e2a\u53c2\u65702\u548c3\u3002 call \u65b9\u6cd5\u8fd4\u56deJavaScript\u51fd\u6570\u7684\u6267\u884c\u7ed3\u679c\uff0c\u5e76\u5c06\u5176\u6253\u5370\u8f93\u51fa\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c pyexecjs \u6a21\u5757\u4f9d\u8d56\u4e8e\u5df2\u5b89\u88c5\u7684JavaScript\u8fd0\u884c\u65f6\u73af\u5883\u3002\u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5\u4efb\u4f55JavaScript\u8fd0\u884c\u65f6\u73af\u5883\uff0c pyexecjs \u6a21\u5757\u5c06\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5Node.js\u6216\u5176\u4ed6\u652f\u6301\u7684JavaScript\u8fd0\u884c\u65f6\u73af\u5883\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 (6) py_mini_racer \u6982\u8ff0 py_mini_racer \u548c pyexecjs \u662f\u4e24\u4e2a\u7528\u4e8e\u5728Python\u4e2d\u6267\u884cJavaScript\u4ee3\u7801\u7684\u5e93\u3002\u5b83\u4eec\u7684\u529f\u80fd\u6709\u4e00\u4e9b\u91cd\u53e0\uff0c\u4f46\u4e5f\u6709\u5404\u81ea\u7684\u7279\u70b9\u548c\u4f7f\u7528\u573a\u666f\u3002 py_mini_racer py_mini_racer \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684Python\u5e93\uff0c\u57fa\u4e8e libv8 \uff08Google\u7684V8 JavaScript\u5f15\u64ce\uff09\u5b9e\u73b0\u3002\u5b83\u4e3b\u8981\u7684\u7279\u70b9\u548c\u4f18\u70b9\u5305\u62ec\uff1a \u901f\u5ea6\u5feb \uff1a\u56e0\u4e3a\u5b83\u4f7f\u7528\u7684\u662f\u9ad8\u6027\u80fd\u7684V8\u5f15\u64ce\u3002 \u8f7b\u91cf\u7ea7 \uff1a\u76f8\u5bf9\u4e8e\u5176\u4ed6\u89e3\u51b3\u65b9\u6848\uff0c py_mini_racer \u7684\u4f9d\u8d56\u6bd4\u8f83\u5c11\u3002 \u5d4c\u5165\u5f0f\u73af\u5883 \uff1a\u9002\u5408\u9700\u8981\u9891\u7e41\u8c03\u7528JavaScript\u7684\u5d4c\u5165\u5f0f\u73af\u5883\u3002 API\u7b80\u6d01 \uff1a\u63d0\u4f9b\u4e86\u7b80\u6d01\u6613\u7528\u7684\u63a5\u53e3\uff0c\u65b9\u4fbf\u5feb\u901f\u6267\u884cJavaScript\u4ee3\u7801\u3002 `pyexecjs`` pyexecjs \u662f\u53e6\u4e00\u4e2aPython\u5e93\uff0c\u7528\u4e8e\u6267\u884cJavaScript\u4ee3\u7801\u3002\u5b83\u652f\u6301\u591a\u79cdJavaScript\u8fd0\u884c\u65f6\uff08\u5982Node.js\u3001PhantomJS\u3001Nashorn\u7b49\uff09\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u548c\u4f18\u70b9\u5305\u62ec\uff1a \u591a\u5f15\u64ce\u652f\u6301 \uff1a\u53ef\u4ee5\u9009\u62e9\u548c\u5207\u6362\u4e0d\u540c\u7684JavaScript\u5f15\u64ce\uff0c\u5982Node.js\u3001PhantomJS\u7b49\uff0c\u8fd9\u4f7f\u5f97\u5b83\u66f4\u7075\u6d3b\u3002 \u8de8\u5e73\u53f0 \uff1a\u652f\u6301\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u53ea\u8981\u6709\u76f8\u5e94\u7684JavaScript\u5f15\u64ce\u3002 \u517c\u5bb9\u6027\u597d \uff1a\u56e0\u4e3a\u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u5f15\u64ce\uff0c\u6240\u4ee5\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\u6709\u66f4\u597d\u7684\u517c\u5bb9\u6027\u3002 \u533a\u522b\u603b\u7ed3 \u4f9d\u8d56\u548c\u4f53\u79ef \uff1a py_mini_racer \u4f9d\u8d56\u4e8e libv8 \uff0c\u5b89\u88c5\u65f6\u53ef\u80fd\u9700\u8981\u7f16\u8bd1\uff0c\u4f53\u79ef\u76f8\u5bf9\u8f83\u5c0f\u3002 pyexecjs \u4f9d\u8d56\u4e8e\u5916\u90e8JavaScript\u5f15\u64ce\uff08\u5982Node.js\uff09\uff0c\u5b89\u88c5\u65f6\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e9b\u5f15\u64ce\uff0c\u4f53\u79ef\u76f8\u5bf9\u8f83\u5927\u3002 \u6027\u80fd \uff1a py_mini_racer \u4f7f\u7528V8\u5f15\u64ce\uff0c\u6027\u80fd\u8f83\u9ad8\uff0c\u9002\u5408\u9700\u8981\u9ad8\u6027\u80fdJavaScript\u6267\u884c\u7684\u573a\u666f\u3002 pyexecjs \u7684\u6027\u80fd\u53d6\u51b3\u4e8e\u6240\u9009\u62e9\u7684JavaScript\u5f15\u64ce\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4f7f\u7528Node.js\u4e5f\u80fd\u83b7\u5f97\u4e0d\u9519\u7684\u6027\u80fd\uff0c\u4f46\u603b\u4f53\u7565\u900a\u4e8e py_mini_racer \u3002 \u7075\u6d3b\u6027 \uff1a pyexecjs \u652f\u6301\u591a\u79cdJavaScript\u5f15\u64ce\uff0c\u7075\u6d3b\u6027\u66f4\u9ad8\uff0c\u9002\u5408\u9700\u8981\u517c\u5bb9\u591a\u79cd\u73af\u5883\u7684\u573a\u666f\u3002 py_mini_racer \u5219\u6bd4\u8f83\u4e13\u6ce8\u4e8eV8\u5f15\u64ce\uff0c\u7075\u6d3b\u6027\u7a0d\u900a\u3002 \u6613\u7528\u6027 \uff1a \u4e24\u8005\u7684API\u8bbe\u8ba1\u90fd\u6bd4\u8f83\u7b80\u6d01\uff0c\u4f46 py_mini_racer \u7684\u4f9d\u8d56\u66f4\u5c11\uff0c\u5b89\u88c5\u548c\u4f7f\u7528\u76f8\u5bf9\u66f4\u7b80\u5355\u3002 \u9009\u62e9\u5efa\u8bae \u5982\u679c\u4f60\u9700\u8981\u9ad8\u6027\u80fd\u3001\u8f7b\u91cf\u7ea7\u7684JavaScript\u6267\u884c\u73af\u5883\uff0c\u5e76\u4e14\u80fd\u591f\u63a5\u53d7V8\u5f15\u64ce\u7684\u4f9d\u8d56\uff0c\u90a3\u4e48 py_mini_racer \u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002 \u5982\u679c\u4f60\u9700\u8981\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u548c\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u5e76\u4e14\u5e0c\u671b\u6709\u591a\u79cdJavaScript\u5f15\u64ce\u7684\u9009\u62e9\uff0c\u90a3\u4e48 pyexecjs \u53ef\u80fd\u66f4\u9002\u5408\u4f60\u3002 \u793a\u4f8b\u4ee3\u7801 \u4f7f\u7528 py_mini_racer \uff1a ```python from py_mini_racer import py_mini_racer ctx = py_mini_racer.MiniRacer() result = ctx.eval(\"1 + 1\") print(result) # \u8f93\u51fa\uff1a2 ``` \u4f7f\u7528 pyexecjs \uff1a ```python python \u590d\u5236\u4ee3\u7801 import execjs ctx = execjs.compile(\"function add(x, y) { return x + y; }\") result = ctx.call(\"add\", 1, 1) print(result) # \u8f93\u51fa\uff1a2 ``` \u5e0c\u671b\u8fd9\u4e9b\u4fe1\u606f\u80fd\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u8fd9\u4e24\u4e2a\u5e93\u7684\u533a\u522b\u548c\u9009\u62e9\u3002 (7) \u4f7f\u7528pycharm\u8fd0\u884c\u7f51\u6613\u52a0\u5bc6\u4ee3\u7801 \u65b0\u5efawangyiyun.js\u6587\u4ef6 \u5c06\u4ece\u521a\u624d\u634b\u7684\u52a0\u5bc6\u4ee3\u7801\u8fdb\u884c\u590d\u5236\uff0c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u9700\u8981\u54ea\u4e2a\u4ee3\u7801\u5c31\u7c98\u8d34\u54ea\u4e2a\u4ee3\u7801 \u5bf9\u4e8e\u52a0\u5bc6\u53c2\u6570\u662f\u56fa\u5b9a\u7684\uff0c\u76f4\u63a5\u5728console\u4e2d\u8fd0\u884c\u51fa\u7ed3\u679c\u7c98\u8d34 \u8fc7\u6765\u5373\u53ef \u52a0\u5bc6\u5e93 crypto-js \u52a0\u5bc6\u7b97\u6cd5\u5e93 \u5305\u542bMD5,SHA-1,SHA-256,AES,Rabbit,MARC4,HMAC,HMAC-MD5,HMAC-SHA1,HMAC-SHA256,PBKDF2\u7b49 npm install crypto-js \u67e5\u770b\u5f53\u524dnode\u5b89\u88c5\u4e86\u54ea\u4e9b\u5305 npm ls --depth 0 \u6ce8\u610f\uff1a \u5728Node.js\u4e2d\uff0c crypto-js \u548c cryptojs \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u5e93\u3002 crypto-js \u662f\u4e00\u4e2aJavaScript\u52a0\u5bc6\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u8bb8\u591a\u5e38\u89c1\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5982AES\u3001DES\u3001SHA\u7b49\u3002\u4f7f\u7528 crypto-js \u53ef\u4ee5\u5728Node.js\u73af\u5883\u4e2d\u8fdb\u884c\u6570\u636e\u52a0\u5bc6\u548c\u89e3\u5bc6\u64cd\u4f5c\u3002 \u800c cryptojs \uff08\u4e5f\u79f0\u4e3a crypto-js@3.x.x \uff09\u662f\u4e00\u4e2a\u975e\u5b98\u65b9\u7684\u3001\u8fc7\u65f6\u7684\u7248\u672c\u7684 crypto-js \u5e93\u3002\u57282018\u5e74\u4e4b\u524d\uff0c cryptojs \u662f crypto-js \u7684\u5b98\u65b9\u540d\u79f0\uff0c\u4f46\u540e\u6765\u7531\u4e8e\u4e00\u4e9b\u539f\u56e0\uff0c\u5b98\u65b9\u5c06\u5176\u5e93\u540d\u6539\u4e3a\u4e86 crypto-js \u3002\u56e0\u6b64\uff0c\u73b0\u5728\u63a8\u8350\u4f7f\u7528\u5b98\u65b9\u7684 crypto-js \u5e93\uff0c\u800c\u4e0d\u662f cryptojs \u3002 \u6240\u4ee5\uff0c\u5728\u73b0\u4ee3\u7684Node.js\u9879\u76ee\u4e2d\uff0c\u5e94\u8be5\u4f7f\u7528 crypto-js \u5e93\u6765\u8fdb\u884c\u52a0\u5bc6\u76f8\u5173\u7684\u64cd\u4f5c\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7npm\u5b89\u88c5\u5b83\uff0c\u5e76\u5728js\u4ee3\u7801\u4e2d\u5f15\u5165\u5b83\uff1a javascript const CryptoJS = require('crypto-js'); \u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528 CryptoJS \u5bf9\u8c61\u6765\u8c03\u7528\u5e93\u4e2d\u7684\u5404\u79cd\u52a0\u5bc6\u7b97\u6cd5\u4e86\u3002 \u7528\u5230\u7684RSA\u52a0\u5bc6\u5b98\u7f51 RSAKeyPair https://ohdave.com/rsa/ \u5c06\u5176\u4e2d\u7528\u5230\u7684\u5e93\u7684js\u4ee3\u7801\u590d\u5236\u7c98\u8d34\u8fc7\u6765\uff0c\u4fdd\u5b58\u4e3arsa.js\uff0c\u5e76\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0\u8981\u5bfc\u51fa\u7528\u5230\u7684\u52a0\u5bc6\u51fd\u6570 module.exports = { setMaxDigits, RSAKeyPair, encryptedString, } \u5728test.js\u6587\u4ef6\u4e2d\u8fdb\u884c\u5bfc\u5165\u4f7f\u7528 \u9700\u8981\u6ce8\u610f\u7ed9\u8def\u5f84 var mysa = require('./rsa.js') \u5b8c\u6574\u4ee3\u7801 ```javascript var CryptoJS = require('crypto-js') var {setMaxDigits,RSAKeyPair,encryptedString} = require('./rsa.js') var bitsPerDigit = 16 function d(d, e, f, g) { var h = {}, i = a(16); return h.encText = b(d, g), h.encText = b(h.encText, i), h.encSecKey = c(i, e, f), h } function a(a) { var d, e, b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", c = \"\"; for (d = 0; a > d; d += 1) e = Math.random() * b.length, e = Math.floor(e), c += b.charAt(e); return c } function b(a, b) { var c = CryptoJS.enc.Utf8.parse(b) , d = CryptoJS.enc.Utf8.parse(\"0102030405060708\") , e = CryptoJS.enc.Utf8.parse(a) , f = CryptoJS.AES.encrypt(e, c, { iv: d, mode: CryptoJS.mode.CBC }); return f.toString() } function c(a, b, c) { var d, e; return setMaxDigits(131), d = new RSAKeyPair(b,\"\",c), e = encryptedString(d, a) } i7b = '{\"logs\":\"[{\\\"action\\\":\\\"play\\\",\\\"json\\\":{\\\"id\\\":\\\"188451\\\",\\\"type\\\":\\\"song\\\",\\\"content\\\":\\\"id=188451\\\"}}]\",\"csrf_token\":\"\"}' bs = '010001' k = '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7' f5 = '0CoJUm6Qyw8W8jud' console.log(d(i7b, bs, k, f5)) ``` (8) pyexecjs\u8c03\u7528js \u83b7\u53d6\u7f51\u6613\u4e91\u52a0\u5bc6 wangyiyun.js ```javascript var CryptoJS = require('crypto-js') var {setMaxDigits,RSAKeyPair,encryptedString} = require('./rsa.js') var bitsPerDigit = 16 function d(d, e, f, g) { var h = {}, i = a(16); return h.encText = b(d, g), h.encText = b(h.encText, i), h.encSecKey = c(i, e, f), h } function a(a) { var d, e, b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", c = \"\"; for (d = 0; a > d; d += 1) e = Math.random() * b.length, e = Math.floor(e), c += b.charAt(e); return c } function b(a, b) { var c = CryptoJS.enc.Utf8.parse(b) , d = CryptoJS.enc.Utf8.parse(\"0102030405060708\") , e = CryptoJS.enc.Utf8.parse(a) , f = CryptoJS.AES.encrypt(e, c, { iv: d, mode: CryptoJS.mode.CBC }); return f.toString() } function c(a, b, c) { var d, e; return setMaxDigits(131), d = new RSAKeyPair(b,\"\",c), e = encryptedString(d, a) } function main(){ var i7b = {ids: '[188451]', level: 'standard', encodeType: 'aac', csrf_token: ''} var bs = '010001' var k = '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7' var f5 = '0CoJUm6Qyw8W8jud' return d(JSON.stringify(i7b), bs, k, f5) } ``` python \u4ee3\u7801 ```python import execjs with open('wangyiyun.js', 'r', encoding='UTF-8') as f: js_code = f.read() context = execjs.compile(js_code) result = context.call('main') print(result) ``` (9) \u6ce8\u610f \u8bf4\u660e\uff1a pyexecjs\u8c03\u7528js\u7684\u65f6\u5019. \u6709\u53ef\u80fd\u4f1a\u51fa\u73b0\u9519\u8bef UnicodeDecodeError: 'gbk' codec can't decode byte 0xbd in position 37: illegal multibyte sequence \u539f\u56e0\uff1a \u662f\u7531\u4e8e\u7f16\u7801\u96c6\u9ed8\u8ba4\u662fgbk\u5bfc\u81f4\u7684. \u89e3\u51b3\uff1a \u9501\u5b9asubprocess\u7684encoding\u53c2\u6570. python import subprocess from functools import partial # \u4e13\u95e8\u7528\u6765\u56fa\u5b9a\u53c2\u6570\u7684 subprocess.Popen = partial(subprocess.Popen, encoding=\"utf-8\") \u6ce8\u610f\uff1a \u8bf7\u6ce8\u610f. \u4e00\u5b9a\u8981\u653e\u5728\u4ee3\u7801\u7684\u6700\u524d\u9762. (10) python\u9006\u5411\u7f51\u6613\u4e91\u5b8c\u6574\u4ee3\u7801 import subprocess from functools import partial # \u4e13\u95e8\u7528\u6765\u56fa\u5b9a\u53c2\u6570\u7684 subprocess.Popen = partial(subprocess.Popen, encoding=\"utf-8\") import execjs import requests import json with open('wangyiyun.js', 'r') as f: js_code = f.read() context = execjs.compile(js_code) result = context.call('main') print(result) url = 'https://music.163.com/weapi/song/enhance/player/url/v1?csrf_token=' headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36', 'Referer': 'https://music.163.com/', } data = { 'params': result['encText'], 'encSecKey': result['encSecKey'], } res = requests.post(url, headers=headers, data=data) print(res, res.text) # \u83b7\u53d6\u6b4c\u66f2\u7684URL\u5730\u5740 url = res.json()['data'][0]['url'] # \u4e0b\u8f7d\u97f3\u4e50 with open('\u97f3\u4e50.mp3', 'wb') as f: f.write(requests.get(url, headers=headers).content) \u54cd\u5e94 {\"data\":[{\"id\":188451,\"url\":\"http://m701.music.126.net/20230905150222/37727dd7d43e2e5d58c26bb1a525cfa1/jdyyaac/obj/w5rDlsOJwrLDjj7CmsOj/5637633350/e015/782a/b070/0001721641e4a098620da30fbb307bd6.m4a\",\"br\":96020,\"size\":3706079,\"md5\":\"0001721641e4a098620da30fbb307bd6\",\"code\":200,\"expi\":1200,\"type\":\"m4a\",\"gain\":0.0,\"peak\":0.9521,\"fee\":8,\"uf\":null,\"payed\":0,\"flag\":260,\"canExtend\":false,\"freeTrialInfo\":null,\"level\":\"standard\",\"encodeType\":\"aac\",\"freeTrialPrivilege\":{\"resConsumable\":false,\"userConsumable\":false,\"listenType\":null,\"cannotListenReason\":null},\"freeTimeTrialPrivilege\":{\"resConsumable\":false,\"userConsumable\":false,\"type\":0,\"remainTime\":0},\"urlSource\":0,\"rightSource\":0,\"podcastCtrp\":null,\"effectTypes\":null,\"time\":304293}],\"code\":200} \u56db\u3001\u9488\u5bf9\u7f51\u7ad9\u52a0\u5bc6\u7684\u89e3\u51b3\u65b9\u5f0f 1\u3001\u4eff\u7167\u7f51\u9875\u4e0a\u7684js, \u5b8c\u6210\u672c\u5730\u4ee3\u7801\u7f16\u5199. \u539f\u5219\uff1a\u5c3d\u53ef\u80fd\u7684\u4e0d\u53bb\u6539\u5b83\u7684\u4ee3\u7801. 2\u3001\u501f\u52a9\u7b2c\u4e09\u65b9\u5e93, \u5b8c\u6210\u4ee3\u7801\u7684\u62fc\u5199 \u6bd4\u5982\u91cc\u9762\u7528\u5230\u4e00\u4e9b\u4e09\u65b9\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5b89\u88c5\u5f53\u524d\u5e93\u5e76\u5bfc\u5165 3\u3001\u5982\u679c\u78b0\u5230\u4e0d\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93, \u5bf9\u7b2c\u4e09\u65b9\u5e93\u8fdb\u884c\u66f4\u6539\u8fc7\u7684. \u5982\u4f55\u786e\u8ba4\u662f\u5426\u662f\u88ab\u9b54\u6539\u4e86\u7684? \u627e\u4e2a\u6807\u51c6\u5e93\u5b9e\u9a8c\u4e00\u4e0b\u5373\u53ef... \u51c6\u5907\u597d\u62a0\u4ee3\u7801\u7684\u601d\u8def. \u51c6\u5907\u597d\u5165\u53e3\u51fd\u6570, \u4ee5\u53ca\u6d4b\u8bd5\u7528\u4f8b... \u5c1d\u8bd5\u8fd0\u884c\u4ee3\u7801. \u6839\u636e\u62a5\u9519\u63d0\u793a, \u8865\u5145\u76f8\u5173\u7684\u4ee3\u7801 \u5982\u679c\u9700\u8981\u8865\u5145\u7684\u4e1c\u897f\u8fc7\u591a. \u53ef\u4ee5\u8003\u8651\u627e\u8fb9\u754c. \u7136\u540e\u6279\u91cf\u7684\u8fdb\u884c\u4ee3\u7801\u62a0\u53d6 \u4e07\u80fd\u7684\u89e3\u51b3\u65b9\u6848... \u7f3a\u70b9...\u592a\u6162\u4e86|\u78b0\u5230promise\u4f1a\u5934\u75bc... 4\u3001\u8865\u73af\u5883. \u7f51\u7ad9\u7684\u4ee3\u7801\u4e0d\u5e0c\u671b. \u5b83\u7684\u4ee3\u7801\u5728node\u73af\u5883\u8fd0\u884c... \u7f51\u7ad9\u7684\u4f5c\u8005\u4f1a\u5bf9\u8fd0\u884c\u73af\u5883\u8fdb\u884c\u68c0\u6d4b. node\u73af\u5883\u662f\u4e00\u4e2a\u540e\u7aef\u73af\u5883. \u6ca1\u6709window, document 5\u3001\u7528python\u5b8c\u6210\u52a0\u5bc6\u903b\u8f91. \u4e94\u3001python\u4e2d\u5b9a\u65f6\u4efb\u52a1schedule\u5e93\u7528\u6cd5\u8be6\u89e3 schedule\u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u8f7b\u91cf\u7ea7\u7684\u4efb\u52a1\u8c03\u5ea6\u6a21\u5757\uff0c\u53ef\u4ee5\u6309\u7167\u79d2\uff0c\u5206\uff0c\u5c0f\u65f6\uff0c\u65e5\u671f\u6216\u8005\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6267\u884c\u65f6\u95f4\u3002 \u5982\u679c\u60f3\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2atask\u3002 \u9996\u5148\u5b89\u88c5schedule\u5e93\uff1a pip install schedule 1\u3001\u6309\u65f6\u95f4\u95f4\u9694\u6267\u884c\u5b9a\u65f6\u4efb\u52a1 \u793a\u4f8b\u4ee3\u78011\uff1a import schedule from datetime import datetime def task(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts) def task2(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + '666!') def func(): # \u6e05\u7a7a\u4efb\u52a1 schedule.clear() # \u521b\u5efa\u4e00\u4e2a\u63093\u79d2\u95f4\u9694\u6267\u884c\u4efb\u52a1 schedule.every(3).seconds.do(task) # \u521b\u5efa\u4e00\u4e2a\u63092\u79d2\u95f4\u9694\u6267\u884c\u4efb\u52a1 schedule.every(2).seconds.do(task2) while True: schedule.run_pending() func() \u8fd0\u884c\u7ed3\u679c\uff1a \u793a\u4f8b\u4ee3\u78012\uff1a import schedule import time def job(name): print(\"her name is : \", name) name = \"\u5f20\u4e09\" schedule.every(10).minutes.do(job, name) schedule.every().hour.do(job, name) schedule.every().day.at(\"10:30\").do(job, name) schedule.every(5).to(10).days.do(job, name) schedule.every().monday.do(job, name) schedule.every().wednesday.at(\"13:15\").do(job, name) while True: schedule.run_pending() time.sleep(1) \u53c2\u6570\u89e3\u91ca\uff1a \u6bcf\u9694\u5341\u5206\u949f\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u9694\u4e00\u5c0f\u65f6\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u5929\u768410:30\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u96945\u523010\u5929\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u5468\u4e00\u7684\u8fd9\u4e2a\u65f6\u5019\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u5468\u4e0913:15\u6267\u884c\u4e00\u6b21\u4efb\u52a1 run_pending\uff1a\u8fd0\u884c\u6240\u6709\u53ef\u4ee5\u8fd0\u884c\u7684\u4efb\u52a1 *\u6ce8\u610f\uff1a* schedule\u65b9\u6cd5\u662f\u4e32\u884c\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5404\u4e2a\u4efb\u52a1\u4e4b\u95f4\u65f6\u95f4\u4e0d\u51b2\u7a81\uff0c\u90a3\u662f\u6ca1\u95ee\u9898\u7684\uff1b\u5982\u679c\u65f6\u95f4\u6709\u51b2\u7a81\u7684\u8bdd\uff0c\u4f1a\u4e32\u884c\u7684\u6267\u884c\u547d\u4ee4\u3002 2\u3001\u88c5\u9970\u5668\uff1a\u901a\u8fc7 @ repeat () \u88c5\u9970\u9759\u6001\u65b9\u6cd5 \u793a\u4f8b\u4ee3\u7801\uff1a from datetime import datetime from schedule import every, repeat, run_pending @repeat(every(3).seconds) def task(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + '-333!') @repeat(every(5).seconds) def task2(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + \"-555555!\") while True: run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a 3\u3001\u4f20\u9012\u53c2\u6570 \u793a\u4f8b\u4ee3\u7801\uff1a from datetime import datetime import schedule def task(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) def task2(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) schedule.every(3).seconds.do(task, s='-333') schedule.every(5).seconds.do(task, s='-555') while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a 4\u3001\u4f7f\u7528\u88c5\u9970\u5668\u4f20\u9012\u53c2\u6570 \u793a\u4f8b\u4ee3\u7801\uff1a from datetime import datetime from schedule import every, repeat, run_pending @repeat(every(3).seconds, '-333') def task(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) @repeat(every(5).seconds, '-555') def task2(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) while True: run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a 5\u3001\u53d6\u6d88\u5b9a\u65f6\u4efb\u52a1 \u793a\u4f8b\u4ee3\u7801\uff1a import schedule i = 0 def some_task(): global i i += 1 print(i) if i == 5: schedule.cancel_job(job) print('cancel job') exit(0) job = schedule.every().second.do(some_task) while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a 6\u3001\u5728\u6307\u5b9a\u65f6\u95f4\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u793a\u4f8b\u4ee3\u7801\uff1a import time import schedule def job_that_executes_once(): print('Hello') return schedule.CancelJob schedule.every().minute.at(':30').do(job_that_executes_once) while True: schedule.run_pending() time.sleep(1) \u8fd0\u884c\u7ed3\u679c\uff1a 7\u3001\u6839\u636e\u6807\u7b7e\u68c0\u7d22\u4efb\u52a1 \u793a\u4f8b\u4ee3\u7801\uff1a # \u68c0\u7d22\u6240\u6709\u4efb\u52a1\uff1aschedule.get_jobs() import schedule def greet(name): print('Hello {}'.format(name)) schedule.every().day.do(greet, 'Andrea').tag('daily-tasks', 'friend') schedule.every().hour.do(greet, 'John').tag('hourly-tasks', 'friend') schedule.every().hour.do(greet, 'Monica').tag('hourly-tasks', 'customer') schedule.every().day.do(greet, 'Derek').tag('daily-tasks', 'guest') friends = schedule.get_jobs('friend') print(friends) \u8fd0\u884c\u7ed3\u679c\uff1a 8\u3001\u6839\u636e\u6807\u7b7e\u53d6\u6d88\u4efb\u52a1 \u793a\u4f8b\u4ee3\u7801\uff1a # \u53d6\u6d88\u6240\u6709\u4efb\u52a1\uff1aschedule.clear() import schedule def greet(name): print('Hello {}'.format(name)) if name == 'Cancel': schedule.clear('second-tasks') print('cancel second-tasks') schedule.every().second.do(greet, 'Andrea').tag('second-tasks', 'friend') schedule.every().second.do(greet, 'John').tag('second-tasks', 'friend') schedule.every().hour.do(greet, 'Monica').tag('hourly-tasks', 'customer') schedule.every(5).seconds.do(greet, 'Cancel').tag('daily-tasks', 'guest') while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a 9\u3001\u8fd0\u884c\u4efb\u52a1\u5230\u67d0\u65f6\u95f4 \u793a\u4f8b\u4ee3\u7801\uff1a import schedule from datetime import datetime, timedelta, time def job(): print('working...') schedule.every().second.until('23:59').do(job) # \u4eca\u592923:59\u505c\u6b62 schedule.every().second.until('2030-01-01 18:30').do(job) # 2030-01-01 18:30\u505c\u6b62 schedule.every().second.until(timedelta(hours=8)).do(job) # 8\u5c0f\u65f6\u540e\u505c\u6b62 schedule.every().second.until(time(23, 59, 59)).do(job) # \u4eca\u592923:59:59\u505c\u6b62 schedule.every().second.until(datetime(2030, 1, 1, 18, 30, 0)).do(job) # 2030-01-01 18:30\u505c\u6b62 while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a 10\u3001\u9a6c\u4e0a\u8fd0\u884c\u6240\u6709\u4efb\u52a1\uff08\u4e3b\u8981\u7528\u4e8e\u6d4b\u8bd5\uff09 \u793a\u4f8b\u4ee3\u7801\uff1a import schedule def job(): print('working...') def job1(): print('Hello...') schedule.every().monday.at('12:40').do(job) schedule.every().tuesday.at('16:40').do(job1) schedule.run_all() schedule.run_all(delay_seconds=3) # \u4efb\u52a1\u95f4\u5ef6\u8fdf3\u79d2 \u8fd0\u884c\u7ed3\u679c\uff1a 11\u3001\u5e76\u884c\u8fd0\u884c\uff1a\u4f7f\u7528 Python \u5185\u7f6e\u961f\u5217\u5b9e\u73b0 \u793a\u4f8b\u4ee3\u7801\uff1a import threading import time import schedule def job1(): print(\"I'm running on thread %s\" % threading.current_thread()) def job2(): print(\"I'm running on thread %s\" % threading.current_thread()) def job3(): print(\"I'm running on thread %s\" % threading.current_thread()) def run_threaded(job_func): job_thread = threading.Thread(target=job_func) job_thread.start() schedule.every(10).seconds.do(run_threaded, job1) schedule.every(10).seconds.do(run_threaded, job2) schedule.every(10).seconds.do(run_threaded, job3) while True: schedule.run_pending() time.sleep(1) \u8fd0\u884c\u7ed3\u679c\uff1a","title":"\u4e8c\u5341\u4e03\u3001JS\u9006\u541101"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#js01","text":"","title":"\u4e8c\u5341\u4e03\u3001JS\u9006\u541101"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#js","text":"","title":"\u4e00\u3001\u6d4f\u89c8\u5668js\u8c03\u8bd5\u529f\u80fd\u8bf4\u660e"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#1","text":"\u6309\u94ae\uff1a \u7b2c\u4e00\u4e2a\u6309\u94ae \u8c03\u8bd5\u5de5\u5177\u680f\u7b2c\u4e00\u4e2a\u6309\u94ae. \u8868\u793a, \u76f4\u63a5\u8fd0\u884c\u5230\u6700\u540e, \u6216\u8005\u4e0b\u4e00\u4e2a\u65ad\u70b9\u4f4d\u7f6e. \u7b2c\u4e8c\u4e2a\u6309\u94ae \u8868\u793a, \u6267\u884c\u5f53\u524d\u884c\u4ee3\u7801. \u4e0d\u8bba\u5f53\u524d\u884c\u662f\u5426\u6709\u51fd\u6570\u8c03\u7528. \u90fd\u4f1a\u6267\u884c\u5b8c \u7b2c\u4e09\u4e2a\u6309\u94ae \u8868\u793a, \u8fdb\u5165\u4e0b\u4e00\u6b65. \u5982\u679c\u6709\u51fd\u6570\u6389\u7528, \u4f1a\u8fdb\u5165\u51fd\u6570, \u5982\u679c\u6ca1\u6709, \u5c31\u662f\u4e0b\u4e00\u884c \u7b2c\u56db\u4e2a\u6309\u94ae \u8868\u793a, \u8fdb\u5165\u56de\u5230\u4e0a\u4e00\u6b65\uff08\u4f46\u662f\u4e0d\u597d\u7528\uff09 \u6700\u540e\u4e00\u4e2a\u6309\u94ae \u6240\u6709\u65ad\u70b9\u90fd\u4e0d\u751f\u6548","title":"1\u3001\u8c03\u8bd5\u5de5\u5177\u680f\u6309\u94ae\u8bf4\u660e"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#2","text":"\u82f1\u6587\u9762\u677f \u4e2d\u6587\u9762\u677f","title":"2\u3001\u53f3\u4fa7\u8c03\u8bd5\u9762\u677f\u8bf4\u660e"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#1-watch","text":"\u4f5c\u7528\uff1a \u76d1\u89c6\u5f53\u524d\u7684\u53d8\u91cf \u901a\u8fc7\u89c2\u5bdf\u53d8\u91cf\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u53d8\u5316 \u8f93\u5165\u8981\u76d1\u89c6\u7684\u53d8\u91cf h \u8f93\u5165\u5b8c\u56de\u8f66 \u70b9\u51fb \u7b2c\u4e8c\u4e2a\u6309\u94ae\u5411\u4e0b\u6267\u884c\u4e00\u6b65 \u901a\u8fc7\u4ee3\u7801\u4e0d\u65ad\u5411\u4e0b\u8fd0\u884c\u4ee5\u8fbe\u5230\u76d1\u89c6\u53d8\u91cf\u7684\u76ee\u7684","title":"(1) Watch/\u76d1\u89c6 \u8bf4\u660e"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#2-breakpoints","text":"\u4f5c\u7528\uff1a \u6240\u6709\u7684\u65ad\u70b9\u90fd\u4f1a\u518d\u6b21\u663e\u793a \u70b9\u51fb\u67e5\u770b \u79fb\u9664\u5f53\u524d/\u6240\u6709\u65ad\u70b9","title":"(2) Breakpoints/\u65ad\u70b9"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#3-scope","text":"\u4f5c\u7528\uff1a \u67e5\u770b\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf","title":"(3) scope/\u4f5c\u7528\u57df"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#4-call-stack","text":"\u4f5c\u7528\uff1a \u7528\u4e8e\u67e5\u770b\u5f53\u524d\u7684\u8c03\u7528\u987a\u5e8f \u4ee5\u6b64\u8fdb\u884c\u67e5\u770b\u5f53\u524d\u6bcf\u4e00\u6b65\u7684\u8c03\u7528\u6d41\u7a0b \u5f53\u524d\u4f4d\u7f6e \u67e5\u770b\u8c01\u8c03\u7528\u4e86d\u51fd\u6570","title":"(4) Call Stack/\u8c03\u7528\u5806\u6808"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#5-xhr","text":"\u4f5c\u7528\uff1a \u5f53\u524d\u8bf7\u6c42\u4e2d\u6709\u5f02\u6b65\u7684\u90fd\u4f1a\u88ab\u963b\u65ad(\u4e5f\u5c31\u662f\u6dfb\u52a0\u4e0a\u65ad\u70b9) \u52fe\u9009 \u62e6\u622a\u6307\u5b9a\u7684url","title":"(5) XHR/\u63d0\u53d6\u65ad\u70b9"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#3","text":"","title":"3\u3001\u6d4f\u89c8\u5668\u914d\u7f6e"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_1","text":"URL\uff1a https://music.163.com/#/song?id=188451","title":"\u4e8c\u3001\u627e\u52a0\u5bc6\u53c2\u6570\u65b9\u6848"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#1_1","text":"","title":"1\u3001\u4ece\u8bf7\u6c42\u53d1\u51fa\u5904\u8fdb\u884c\u67e5\u627e"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_2","text":"\u8fd9\u79cd\u65b9\u5f0f\u67e5\u627e\u8d77\u6765\u6bd4\u8f83\u65b9\u4fbf \u901a\u8fc7\u6293\u5305\u627e\u5230\u5f53\u524durl \u643a\u5e26\u53c2\u6570\u4e3a\u52a0\u5bc6\u53c2\u6570 \u67e5\u770b\u5f53\u524d\u54cd\u5e94 \u8fd4\u56de\u4e3a\u5f53\u524d\u97f3\u9891\u7684URL\u5730\u5740 \u8fdb\u5165\u8c03\u7528\u6808 \u627e\u5230\u6700\u540e\u4e00\u4e2a\u8c03\u7528\uff0c \u4e00\u5b9a\u4e3a\u5f53\u524d\u6700\u7ec8\u8c03\u7528\u7684send()\u65b9\u6cd5 \u4e5f\u5c31\u662f\u53d1\u9001\u51fa\u53bb\u7684\u90a3\u4e2a \u70b9\u51fb\u8fdb\u53bb \u70b9\u51fb\u8c03\u7528\u6808\u8fdb\u5165\u4ee5\u540e \u53d1\u73b0\u5230\u4e86\u5f53\u524d\u4f4d\u7f6e \u6253\u4e0a\u65ad\u70b9 \u63a5\u4e0b\u6765\u4e0d\u65ad\u5411\u4e0a\u8fdb\u884c\u67e5\u627e \u76f4\u5230\u627e\u5230\u52a0\u5bc6\u4f4d\u7f6e \u53d1\u73b0\u52a0\u5bc6\u7684\u503c \u5728arguments \u63a5\u4e0b\u6765\u9010\u6b65\u67e5\u627e \u662f\u5728\u54ea\u4e00\u6b65\u5c06\u53c2\u6570\u8fdb\u884c\u4e86\u52a0\u5bc6 \u5728\u8c03\u7528\u6808\u7684\u4f4d\u7f6e \u9010\u6b65\u5411\u4e0a\u4e00\u5c42\u8c03\u7528\u7684\u4f4d\u7f6e\u8fdb\u884c\u67e5\u627e \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u7ee7\u7eed\u4e0a\u4e00\u5c42 \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u7ee7\u7eed\u4e0a\u4e00\u5c42 \u8fdb\u5165 \u4e0a\u4e00\u5c42 \u4f9d\u7136\u4e3a\u52a0\u5bc6\u540e\u7684 \u7ee7\u7eed\u4e0a\u4e00\u5c42 \u5230\u7b2c6\u5c42\u53d1\u73b0\u4e86\u53c2\u6570\u4e0d\u518d\u662f\u52a0\u5bc6\u7684 u7n.be8W\uff0c\u8fdb\u5165\u5230\u5f53\u524d\u51fd\u6570\u67e5\u770b\u5185\u90e8\u662f\u5982\u4f55\u52a0\u5bc6\u7684 \u70b9\u51fb\u8fdb\u5165 \u8fdb\u5165u7n.be8W\u51fd\u6570\u4ee5\u540e \u627e\u5230\u4e86\u5f53\u524d\u643a\u5e26\u53c2\u6570\u7684\u4f4d\u7f6e \u901a\u8fc7\u67e5\u770b\u53d1\u73b0\u5f53\u524d\u52a0\u5bc6\u5bf9\u8c61\u4e3abVc6W\uff0c\u63a5\u4e0b\u6765\u8fdb\u5165\u5230window.asrsea\u51fd\u6570 \u67e5\u770b\u662f\u5982\u4f55\u8fdb\u884c\u52a0\u5bc6\u7684 \u70b9\u51fb\u8fdb\u5165 \u627e\u5230\u6700\u7ec8\u52a0\u5bc6\u51fd\u6570d","title":"\u8bf4\u660e\uff1a"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#2url","text":"","title":"2\u3001\u641c\u7d22\u5f53\u524dURL"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_3","text":"\u641c\u7d22\u89c4\u5219 \u5f53\u524durl\u8def\u5f84\u4ece\u540e\u5f80\u524d\u9010\u4e00\u53bb\u641c","title":"\u8bf4\u660e\uff1a"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_4","text":"\u6bd4\u5982\uff1a\u5f53\u524durl \u4e3a https://music.163.com/weapi/song/enhance/player/url/v1?csrf_token= \u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u641c\u7d22\uff1a v1 url/v1 player/url/v enhance/player/url/v1 \u7b49\u65b9\u5f0f\uff0c\u5982\u679c\u641c\u7d22\u51fa\u6765\u7684\u7ed3\u679c\u592a\u591a\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4e0d\u65ad\u5f80\u524d\u6dfb\u52a0\u8def\u5f84\u7ee7\u7eed\u641c\u7d22 \u641c\u7d22url\u4e2d enhance/player/url/v1 \u5728search\u4e2d\u641c\u7d22\u51fa\u7ed3\u679c \u70b9\u51fb\u8fdb\u5165\u67e5\u770b \u901a\u8fc7\u641c\u7d22\u5230\u5f97\u7ed3\u679c \u8fdb\u5165\u5230\u4ee3\u7801\u4e2d \u7ed9\u5f53\u524d\u4f4d\u7f6e\u6253\u4e0a\u65ad\u70b9 \u67e5\u770b\u5f53\u524d\u4ee3\u7801 \u53d1\u73b0\u51fd\u6570 u7n.be8W \u5185\u90e8\u6709\u4fe9\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u4e3a\u5f53\u524d\u6211\u4eec\u641c\u7d22\u7684URL \u8fdb\u5165\u8be5\u51fd\u6570\u67e5\u770b \u70b9\u51fb\u8fdb\u5165 \u627e\u5230\u52a0\u5bc6\u51fd\u6570\u4f4d\u7f6e","title":"\u65b9\u5f0f\uff1a"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#3_1","text":"","title":"3\u3001\u76f4\u63a5\u641c\u7d22\u52a0\u5bc6\u53c2\u6570\u540d\u79f0"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_5","text":"\u5f53\u524d\u8fd9\u79cd\u65b9\u5f0f\u53ef\u80fd\u4f1a\u6709\u5f88\u591a\u5f53\u524d\u76f8\u540c\u540d\u5b57\u7684\u4ee3\u7801\u7684\u4f4d\u7f6e \u9700\u8981\u81ea\u5df1\u9010\u4e00\u53bb\u6392\u67e5 \u6839\u636e\u63d0\u793a\u7684\u4f4d\u7f6e\uff0c\u4e0b\u65ad\u70b9 \u8ba9\u7a0b\u5e8f\u6267\u884c \u901a\u8fc7\u6293\u5305\u627e\u5230\u5f53\u524durl \u53d1\u73b0\u5f53\u524d\u643a\u5e26\u53c2\u6570key\u4e3a params \u548c encSecKey \u8fdb\u884c\u641c\u7d22 \u9996\u5148\u641c\u641c params \u53d1\u73b0\u7ed3\u679c\u8fc7\u591a \u4e0d\u597d\u6392\u67e5 \u6362 \u4e0b\u4e00\u4e2a\u53c2\u6570 encSecKey \u7ee7\u7eed\u641c\u7d22 \u627e\u5230\u5f53\u524d\u52a0\u5bc6\u4f4d\u7f6e \u7ed9\u5f53\u524d\u52a0\u5bc6\u51fd\u6570\u6253\u4e0a\u65ad\u70b9 \u7136\u540e\u91cd\u65b0\u8fd0\u884c\u5f53\u524d\u7f51\u7ad9 \u901a\u8fc7\u53f3\u4fa7\u8c03\u7528\u6808\u67e5\u627e\u53bb\u67e5\u770b\u5f53\u524d\u8c03\u7528\u7684\u6d41\u7a0b \u901a\u8fc7\u8c03\u7528\u6808\u8fdb\u884c\u957f\u5c42\u67e5\u770b","title":"\u8bf4\u660e\uff1a"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#4","text":"URL\uff1ahttps://www.jiansheku.com/search/business/p4/ \u5f53\u524dsign\u4e3a\u8bf7\u6c42\u5934\u4e2d\u53c2\u6570\u540d\u79f0 \u5982\u679c\u5f53\u524d\u52a0\u5bc6\u53c2\u6570\u4e3a\u8bf7\u6c42\u5934\u4e2d\u53c2\u6570 \u53ea\u641c\u7d22\u53c2\u6570\u540d\u65e0\u6cd5\u641c\u7d22\u5230\u6216\u8005\u641c\u7d22\u7684\u7ed3\u679c\u592a\u591a \u53ef\u4ee5\u5c1d\u8bd5\u641c\u7d22 headers.\u53c2\u6570\u540d","title":"4\u3001\u53c2\u6570\u4e3a\u8bf7\u6c42\u5934\u4e2d\u53c2\u6570"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#5","text":"","title":"5\u3001\u5728\u65ad\u70b9\u5904\u60f3\u8fdb\u5165\u51fd\u6570\u7684\u65b9\u5f0f"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_6","text":"\u9009\u4e2d\u51fd\u6570 \u901a\u8fc7\u5f39\u51fa\u6846\u8fdb\u884c\u8fdb\u5165","title":"\u65b9\u5f0f\u4e00 \uff1a \u9009\u4e2d\u51fd\u6570"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#console","text":"\u628a\u51fd\u6570\u590d\u5236\u5230console\u4e2d \u8fd0\u884c \u901a\u8fc7\u8f93\u51fa\u7ed3\u679c\u70b9\u51fb\u8fdb\u5165 \u8fdb\u5165\u5230\u5f53\u524d\u51fd\u6570\u5b9a\u4e49\u5904\u7684\u4f4d\u7f6e","title":"\u65b9\u5f0f\u4e8c \uff1a\u4f7f\u7528console\u8f93\u51fa\u51fd\u6570"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_7","text":"\u53ef\u4ee5\u70b9\u51fb\u8c03\u8bd5\u5de5\u5177\u680f, \u7b2c\u4e09\u4e2a\u6309\u94ae. \u53ef\u4ee5\u8fdb\u5165\u51fd\u6570. \u4f46\u662f. \u5982\u679c\u5728\u672c\u6b21\u8c03\u7528\u8fc7\u7a0b\u4e2d, \u63ba\u6742\u4e86\u5176\u4ed6\u51fd\u6570\u3001\u53ef\u80fd\u4f1a\u6709\u8bef\u5dee. \u5b9e\u4f8b \u7ed3\u679c","title":"\u65b9\u5f0f\u4e09 \uff1a\u8c03\u8bd5\u5de5\u5177\u680f \u7b2c\u4e09\u4e2a\u6309\u94ae"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#pycharm-js","text":"","title":"\u4e09\u3001pycharm \u8fd0\u884cjs"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#1_2","text":"windwos\uff1a\u6839\u636e\u516c\u544a\u8fdb\u884c\u7834\u89e3\uff0c \u9700\u8981\u7248\u672c\u548c\u89c6\u9891\u5bf9\u5e94 Mac\uff1a\u6dd8\u5b9d\u6216\u8005\u62fc\u591a\u591a","title":"(1) \u8981\u6c42\u4e13\u4e1a\u7248"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#2-node","text":"\u4f5c\u7528\uff1a \u7528\u4e8e\u89e3\u91capycharm\u4e2d\u7684js\u6587\u4ef6\u7684\u4ee3\u7801\uff0c \u53ef\u4ee5\u7406\u89e3\u4e3a\u548cPython\u89e3\u91ca\u5668\u4e00\u6837 node\u5b89\u88c5\u5305\uff1a npm install \u5305\u540d \u641c\u7d22nodejs \u5b98\u7f51 https://nodejs.org/zh-cn \u7248\u672c windwos\uff1a \u70b9\u51fb\u5176\u5b83\u4e0b\u8f7d \u9009\u62e9 \u540e\u7f00\u4e3amsi\u7684\uff0c\u76f4\u63a5\u50bb\u74dc\u5f0f\u5b89\u88c5\u5c31\u53ef\u4ee5 Mac\uff1a \u76f4\u63a5\u4e0b\u8f7d \u5b89\u88c5\u5373\u53ef \u5b89\u88c5\u5b8c\u4ee5\u540e \u6253\u5f00\u7ec8\u7aef\u8f93\u5165 node \u67e5\u770b\u5b89\u88c5\u662f\u5426\u6210\u529f \u5b89\u88c5\u6b65\u9aa4 \u5c06npm\u8bbe\u7f6e\u4e3a\u56fd\u5185\u7684\u955c\u50cf windwos \u5728\u56fd\u5185\u4f7f\u7528npm\u4e0b\u8f7d\u5305\u901f\u5ea6\u6bd4\u8f83\u6162\uff0c\u53ef\u4ee5\u5c06npm\u8bbe\u7f6e\u4e3a\u56fd\u5185\u7684\u955c\u50cf\uff0c\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\u3002 \u4ee5\u4e0b\u662f\u5c06npm\u8bbe\u7f6e\u4e3a\u6dd8\u5b9d\u955c\u50cf\u7684\u6b65\u9aa4\uff1a \u6253\u5f00\u7ec8\u7aef\u6216\u547d\u4ee4\u884c\u7a97\u53e3 \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06npm\u7684registry\u8bbe\u7f6e\u4e3a\u6dd8\u5b9d\u955c\u50cf\uff1a cpp npm config set registry https://registry.npm.taobao.org/ \u68c0\u67e5\u8bbe\u7f6e\u662f\u5426\u751f\u6548\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a cpp npm config get registry \u5982\u679c\u8fd4\u56de\u7684\u7ed3\u679c\u4e3ahttps://registry.npm.taobao.org/\uff0c\u5219\u8bf4\u660e\u8bbe\u7f6e\u6210\u529f\u3002 \u73b0\u5728\u4f60\u53ef\u4ee5\u4f7f\u7528npm\u5b89\u88c5\u5305\uff0c\u901f\u5ea6\u4f1a\u66f4\u5feb\u4e86\u3002\u5982\u679c\u9700\u8981\u6062\u590d\u4e3a\u5b98\u65b9registry\uff0c\u53ea\u9700\u8981\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a cpp npm config set registry https://registry.npmjs.org/ Mac \u7ec8\u7aef\u547d\u4ee4 cpp npm config set registry https://registry.npm.taobao.org \u914d\u7f6e\u540e\u53ef\u901a\u8fc7\u4e0b\u9762\u65b9\u5f0f\u6765\u9a8c\u8bc1\u662f\u5426\u6210\u529f csharp npm config get registrynfig get registry","title":"(2) \u7535\u8111\u5b89\u88c5node\u73af\u5883"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#3-pycharm-nodejs","text":"","title":"(3) pycharm \u5b89\u88c5nodejs \u63d2\u4ef6"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#4_1","text":"\u65b0\u5efajs\u6587\u4ef6 \u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801 javascript var a = 10; var b = 20; console.log(a + b) \u70b9\u51fb\u8fd0\u884c \u8fd0\u884c\u7ed3\u679c \u4e5f\u53ef\u4ee5\u5728\u7ec8\u7aef\u8f93\u5165 node \u6587\u4ef6\u540d\u79f0\u8fd0\u884c \u6ce8\u610f \u5982\u679c\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801\u8fd4\u56de Node.js (V8)\u5219\u6b63\u5e38 \u82e5\u8fd4\u56deNashorn \u5219\u91cd\u542f\u7535\u8111\u5373\u53ef python import execjs execjs.get().name","title":"(4) \u6d4b\u8bd5"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#5-pythonjs-pyexecjs","text":"\u6ce8\u610f\uff1a \u5982\u679c\u662fMac M\u82af\u7247\u4f7f\u7528Python\u8c03\u7528js\u7684\u95ee\u9898\uff1a\u4f7f\u7528PyExecJs\u5e93\u9047\u5230execjs._exceptions.ProcessExitedWithNonZeroStatus\u9519\u8bef aise ProcessExitedWithNonZeroStatus(status=status, stdout=stdoutdata, stderr=stderrdata) execs._exceptions.ProcessExitedWithNonZeroStatus: (1, 'The operation couldn't be completed. Unable to locate a Jal va Runtime. Inplease visit http://www.java.com for information on installing Java. Inin!) \u89e3\u51b3\uff1a URL\uff1a https://www.azul.com/downloads/?version=java-8-lts&os=macos&package=jdk#zulu \u4e0b\u8f7dJDK \u50bb\u74dc\u5f0f\u5b89\u88c5\u5373\u53ef\uff08\u5982\u679c\u4f60\u7684Mac\u662fInter\u82af\u7247\uff0c\u90a3\u4e48\u5c31\u9009\u62e9 x86 64-bit \u7684\u7248\u672c\u3002\uff09 \u5b89\u88c5\u5b8c\u91cd\u65b0\u8fd0\u884c\u5373\u53ef \u8bf4\u660e \u8be5\u6a21\u5757\u53ef\u4ee5\u5b8c\u6210\u5bf9js\u4ee3\u7801\u7684\u8c03\u7528 \u5b89\u88c5\u6a21\u5757 pip install pyexecjs \u5bfc\u5165 import execjs \u6267\u884c\u4e00\u5c0f\u6bb5js\u4ee3\u7801 eval ```python import execjs fun = \"\"\" function(){ return 'lucky is a good man'; }() \"\"\" context = execjs.eval(fun) print(context) ``` \u6267\u884c\u5927\u6bb5js\u4ee3\u7801 call ```python import execjs with open('example1.js', 'r', encoding='UTF-8') as f: js_code = f.read() context = execjs.compile(js_code) result = context.call('add', 2, 3) print(result) ``` \u6211\u4eec\u8c03\u7528\u4e86JavaScript\u51fd\u6570 add \uff0c\u5e76\u4f20\u9012\u4e86\u4e24\u4e2a\u53c2\u65702\u548c3\u3002 call \u65b9\u6cd5\u8fd4\u56deJavaScript\u51fd\u6570\u7684\u6267\u884c\u7ed3\u679c\uff0c\u5e76\u5c06\u5176\u6253\u5370\u8f93\u51fa\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c pyexecjs \u6a21\u5757\u4f9d\u8d56\u4e8e\u5df2\u5b89\u88c5\u7684JavaScript\u8fd0\u884c\u65f6\u73af\u5883\u3002\u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5\u4efb\u4f55JavaScript\u8fd0\u884c\u65f6\u73af\u5883\uff0c pyexecjs \u6a21\u5757\u5c06\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5Node.js\u6216\u5176\u4ed6\u652f\u6301\u7684JavaScript\u8fd0\u884c\u65f6\u73af\u5883\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002","title":"(5) python\u8c03\u7528js\u4ee3\u7801 --- pyexecjs"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#6-py_mini_racer","text":"\u6982\u8ff0 py_mini_racer \u548c pyexecjs \u662f\u4e24\u4e2a\u7528\u4e8e\u5728Python\u4e2d\u6267\u884cJavaScript\u4ee3\u7801\u7684\u5e93\u3002\u5b83\u4eec\u7684\u529f\u80fd\u6709\u4e00\u4e9b\u91cd\u53e0\uff0c\u4f46\u4e5f\u6709\u5404\u81ea\u7684\u7279\u70b9\u548c\u4f7f\u7528\u573a\u666f\u3002 py_mini_racer py_mini_racer \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684Python\u5e93\uff0c\u57fa\u4e8e libv8 \uff08Google\u7684V8 JavaScript\u5f15\u64ce\uff09\u5b9e\u73b0\u3002\u5b83\u4e3b\u8981\u7684\u7279\u70b9\u548c\u4f18\u70b9\u5305\u62ec\uff1a \u901f\u5ea6\u5feb \uff1a\u56e0\u4e3a\u5b83\u4f7f\u7528\u7684\u662f\u9ad8\u6027\u80fd\u7684V8\u5f15\u64ce\u3002 \u8f7b\u91cf\u7ea7 \uff1a\u76f8\u5bf9\u4e8e\u5176\u4ed6\u89e3\u51b3\u65b9\u6848\uff0c py_mini_racer \u7684\u4f9d\u8d56\u6bd4\u8f83\u5c11\u3002 \u5d4c\u5165\u5f0f\u73af\u5883 \uff1a\u9002\u5408\u9700\u8981\u9891\u7e41\u8c03\u7528JavaScript\u7684\u5d4c\u5165\u5f0f\u73af\u5883\u3002 API\u7b80\u6d01 \uff1a\u63d0\u4f9b\u4e86\u7b80\u6d01\u6613\u7528\u7684\u63a5\u53e3\uff0c\u65b9\u4fbf\u5feb\u901f\u6267\u884cJavaScript\u4ee3\u7801\u3002 `pyexecjs`` pyexecjs \u662f\u53e6\u4e00\u4e2aPython\u5e93\uff0c\u7528\u4e8e\u6267\u884cJavaScript\u4ee3\u7801\u3002\u5b83\u652f\u6301\u591a\u79cdJavaScript\u8fd0\u884c\u65f6\uff08\u5982Node.js\u3001PhantomJS\u3001Nashorn\u7b49\uff09\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u548c\u4f18\u70b9\u5305\u62ec\uff1a \u591a\u5f15\u64ce\u652f\u6301 \uff1a\u53ef\u4ee5\u9009\u62e9\u548c\u5207\u6362\u4e0d\u540c\u7684JavaScript\u5f15\u64ce\uff0c\u5982Node.js\u3001PhantomJS\u7b49\uff0c\u8fd9\u4f7f\u5f97\u5b83\u66f4\u7075\u6d3b\u3002 \u8de8\u5e73\u53f0 \uff1a\u652f\u6301\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u53ea\u8981\u6709\u76f8\u5e94\u7684JavaScript\u5f15\u64ce\u3002 \u517c\u5bb9\u6027\u597d \uff1a\u56e0\u4e3a\u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u5f15\u64ce\uff0c\u6240\u4ee5\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\u6709\u66f4\u597d\u7684\u517c\u5bb9\u6027\u3002 \u533a\u522b\u603b\u7ed3 \u4f9d\u8d56\u548c\u4f53\u79ef \uff1a py_mini_racer \u4f9d\u8d56\u4e8e libv8 \uff0c\u5b89\u88c5\u65f6\u53ef\u80fd\u9700\u8981\u7f16\u8bd1\uff0c\u4f53\u79ef\u76f8\u5bf9\u8f83\u5c0f\u3002 pyexecjs \u4f9d\u8d56\u4e8e\u5916\u90e8JavaScript\u5f15\u64ce\uff08\u5982Node.js\uff09\uff0c\u5b89\u88c5\u65f6\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e9b\u5f15\u64ce\uff0c\u4f53\u79ef\u76f8\u5bf9\u8f83\u5927\u3002 \u6027\u80fd \uff1a py_mini_racer \u4f7f\u7528V8\u5f15\u64ce\uff0c\u6027\u80fd\u8f83\u9ad8\uff0c\u9002\u5408\u9700\u8981\u9ad8\u6027\u80fdJavaScript\u6267\u884c\u7684\u573a\u666f\u3002 pyexecjs \u7684\u6027\u80fd\u53d6\u51b3\u4e8e\u6240\u9009\u62e9\u7684JavaScript\u5f15\u64ce\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4f7f\u7528Node.js\u4e5f\u80fd\u83b7\u5f97\u4e0d\u9519\u7684\u6027\u80fd\uff0c\u4f46\u603b\u4f53\u7565\u900a\u4e8e py_mini_racer \u3002 \u7075\u6d3b\u6027 \uff1a pyexecjs \u652f\u6301\u591a\u79cdJavaScript\u5f15\u64ce\uff0c\u7075\u6d3b\u6027\u66f4\u9ad8\uff0c\u9002\u5408\u9700\u8981\u517c\u5bb9\u591a\u79cd\u73af\u5883\u7684\u573a\u666f\u3002 py_mini_racer \u5219\u6bd4\u8f83\u4e13\u6ce8\u4e8eV8\u5f15\u64ce\uff0c\u7075\u6d3b\u6027\u7a0d\u900a\u3002 \u6613\u7528\u6027 \uff1a \u4e24\u8005\u7684API\u8bbe\u8ba1\u90fd\u6bd4\u8f83\u7b80\u6d01\uff0c\u4f46 py_mini_racer \u7684\u4f9d\u8d56\u66f4\u5c11\uff0c\u5b89\u88c5\u548c\u4f7f\u7528\u76f8\u5bf9\u66f4\u7b80\u5355\u3002 \u9009\u62e9\u5efa\u8bae \u5982\u679c\u4f60\u9700\u8981\u9ad8\u6027\u80fd\u3001\u8f7b\u91cf\u7ea7\u7684JavaScript\u6267\u884c\u73af\u5883\uff0c\u5e76\u4e14\u80fd\u591f\u63a5\u53d7V8\u5f15\u64ce\u7684\u4f9d\u8d56\uff0c\u90a3\u4e48 py_mini_racer \u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002 \u5982\u679c\u4f60\u9700\u8981\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u548c\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u5e76\u4e14\u5e0c\u671b\u6709\u591a\u79cdJavaScript\u5f15\u64ce\u7684\u9009\u62e9\uff0c\u90a3\u4e48 pyexecjs \u53ef\u80fd\u66f4\u9002\u5408\u4f60\u3002 \u793a\u4f8b\u4ee3\u7801 \u4f7f\u7528 py_mini_racer \uff1a ```python from py_mini_racer import py_mini_racer ctx = py_mini_racer.MiniRacer() result = ctx.eval(\"1 + 1\") print(result) # \u8f93\u51fa\uff1a2 ``` \u4f7f\u7528 pyexecjs \uff1a ```python python \u590d\u5236\u4ee3\u7801 import execjs ctx = execjs.compile(\"function add(x, y) { return x + y; }\") result = ctx.call(\"add\", 1, 1) print(result) # \u8f93\u51fa\uff1a2 ``` \u5e0c\u671b\u8fd9\u4e9b\u4fe1\u606f\u80fd\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u8fd9\u4e24\u4e2a\u5e93\u7684\u533a\u522b\u548c\u9009\u62e9\u3002","title":"(6) py_mini_racer"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#7-pycharm","text":"\u65b0\u5efawangyiyun.js\u6587\u4ef6 \u5c06\u4ece\u521a\u624d\u634b\u7684\u52a0\u5bc6\u4ee3\u7801\u8fdb\u884c\u590d\u5236\uff0c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u9700\u8981\u54ea\u4e2a\u4ee3\u7801\u5c31\u7c98\u8d34\u54ea\u4e2a\u4ee3\u7801 \u5bf9\u4e8e\u52a0\u5bc6\u53c2\u6570\u662f\u56fa\u5b9a\u7684\uff0c\u76f4\u63a5\u5728console\u4e2d\u8fd0\u884c\u51fa\u7ed3\u679c\u7c98\u8d34 \u8fc7\u6765\u5373\u53ef \u52a0\u5bc6\u5e93 crypto-js \u52a0\u5bc6\u7b97\u6cd5\u5e93 \u5305\u542bMD5,SHA-1,SHA-256,AES,Rabbit,MARC4,HMAC,HMAC-MD5,HMAC-SHA1,HMAC-SHA256,PBKDF2\u7b49 npm install crypto-js \u67e5\u770b\u5f53\u524dnode\u5b89\u88c5\u4e86\u54ea\u4e9b\u5305 npm ls --depth 0 \u6ce8\u610f\uff1a \u5728Node.js\u4e2d\uff0c crypto-js \u548c cryptojs \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u5e93\u3002 crypto-js \u662f\u4e00\u4e2aJavaScript\u52a0\u5bc6\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u8bb8\u591a\u5e38\u89c1\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5982AES\u3001DES\u3001SHA\u7b49\u3002\u4f7f\u7528 crypto-js \u53ef\u4ee5\u5728Node.js\u73af\u5883\u4e2d\u8fdb\u884c\u6570\u636e\u52a0\u5bc6\u548c\u89e3\u5bc6\u64cd\u4f5c\u3002 \u800c cryptojs \uff08\u4e5f\u79f0\u4e3a crypto-js@3.x.x \uff09\u662f\u4e00\u4e2a\u975e\u5b98\u65b9\u7684\u3001\u8fc7\u65f6\u7684\u7248\u672c\u7684 crypto-js \u5e93\u3002\u57282018\u5e74\u4e4b\u524d\uff0c cryptojs \u662f crypto-js \u7684\u5b98\u65b9\u540d\u79f0\uff0c\u4f46\u540e\u6765\u7531\u4e8e\u4e00\u4e9b\u539f\u56e0\uff0c\u5b98\u65b9\u5c06\u5176\u5e93\u540d\u6539\u4e3a\u4e86 crypto-js \u3002\u56e0\u6b64\uff0c\u73b0\u5728\u63a8\u8350\u4f7f\u7528\u5b98\u65b9\u7684 crypto-js \u5e93\uff0c\u800c\u4e0d\u662f cryptojs \u3002 \u6240\u4ee5\uff0c\u5728\u73b0\u4ee3\u7684Node.js\u9879\u76ee\u4e2d\uff0c\u5e94\u8be5\u4f7f\u7528 crypto-js \u5e93\u6765\u8fdb\u884c\u52a0\u5bc6\u76f8\u5173\u7684\u64cd\u4f5c\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7npm\u5b89\u88c5\u5b83\uff0c\u5e76\u5728js\u4ee3\u7801\u4e2d\u5f15\u5165\u5b83\uff1a javascript const CryptoJS = require('crypto-js'); \u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528 CryptoJS \u5bf9\u8c61\u6765\u8c03\u7528\u5e93\u4e2d\u7684\u5404\u79cd\u52a0\u5bc6\u7b97\u6cd5\u4e86\u3002 \u7528\u5230\u7684RSA\u52a0\u5bc6\u5b98\u7f51 RSAKeyPair https://ohdave.com/rsa/ \u5c06\u5176\u4e2d\u7528\u5230\u7684\u5e93\u7684js\u4ee3\u7801\u590d\u5236\u7c98\u8d34\u8fc7\u6765\uff0c\u4fdd\u5b58\u4e3arsa.js\uff0c\u5e76\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0\u8981\u5bfc\u51fa\u7528\u5230\u7684\u52a0\u5bc6\u51fd\u6570 module.exports = { setMaxDigits, RSAKeyPair, encryptedString, } \u5728test.js\u6587\u4ef6\u4e2d\u8fdb\u884c\u5bfc\u5165\u4f7f\u7528 \u9700\u8981\u6ce8\u610f\u7ed9\u8def\u5f84 var mysa = require('./rsa.js') \u5b8c\u6574\u4ee3\u7801 ```javascript var CryptoJS = require('crypto-js') var {setMaxDigits,RSAKeyPair,encryptedString} = require('./rsa.js') var bitsPerDigit = 16 function d(d, e, f, g) { var h = {}, i = a(16); return h.encText = b(d, g), h.encText = b(h.encText, i), h.encSecKey = c(i, e, f), h } function a(a) { var d, e, b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", c = \"\"; for (d = 0; a > d; d += 1) e = Math.random() * b.length, e = Math.floor(e), c += b.charAt(e); return c } function b(a, b) { var c = CryptoJS.enc.Utf8.parse(b) , d = CryptoJS.enc.Utf8.parse(\"0102030405060708\") , e = CryptoJS.enc.Utf8.parse(a) , f = CryptoJS.AES.encrypt(e, c, { iv: d, mode: CryptoJS.mode.CBC }); return f.toString() } function c(a, b, c) { var d, e; return setMaxDigits(131), d = new RSAKeyPair(b,\"\",c), e = encryptedString(d, a) } i7b = '{\"logs\":\"[{\\\"action\\\":\\\"play\\\",\\\"json\\\":{\\\"id\\\":\\\"188451\\\",\\\"type\\\":\\\"song\\\",\\\"content\\\":\\\"id=188451\\\"}}]\",\"csrf_token\":\"\"}' bs = '010001' k = '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7' f5 = '0CoJUm6Qyw8W8jud' console.log(d(i7b, bs, k, f5)) ```","title":"(7) \u4f7f\u7528pycharm\u8fd0\u884c\u7f51\u6613\u52a0\u5bc6\u4ee3\u7801"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#8-pyexecjsjs","text":"wangyiyun.js ```javascript var CryptoJS = require('crypto-js') var {setMaxDigits,RSAKeyPair,encryptedString} = require('./rsa.js') var bitsPerDigit = 16 function d(d, e, f, g) { var h = {}, i = a(16); return h.encText = b(d, g), h.encText = b(h.encText, i), h.encSecKey = c(i, e, f), h } function a(a) { var d, e, b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", c = \"\"; for (d = 0; a > d; d += 1) e = Math.random() * b.length, e = Math.floor(e), c += b.charAt(e); return c } function b(a, b) { var c = CryptoJS.enc.Utf8.parse(b) , d = CryptoJS.enc.Utf8.parse(\"0102030405060708\") , e = CryptoJS.enc.Utf8.parse(a) , f = CryptoJS.AES.encrypt(e, c, { iv: d, mode: CryptoJS.mode.CBC }); return f.toString() } function c(a, b, c) { var d, e; return setMaxDigits(131), d = new RSAKeyPair(b,\"\",c), e = encryptedString(d, a) } function main(){ var i7b = {ids: '[188451]', level: 'standard', encodeType: 'aac', csrf_token: ''} var bs = '010001' var k = '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7' var f5 = '0CoJUm6Qyw8W8jud' return d(JSON.stringify(i7b), bs, k, f5) } ``` python \u4ee3\u7801 ```python import execjs with open('wangyiyun.js', 'r', encoding='UTF-8') as f: js_code = f.read() context = execjs.compile(js_code) result = context.call('main') print(result) ```","title":"(8) pyexecjs\u8c03\u7528js \u83b7\u53d6\u7f51\u6613\u4e91\u52a0\u5bc6"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#9","text":"\u8bf4\u660e\uff1a pyexecjs\u8c03\u7528js\u7684\u65f6\u5019. \u6709\u53ef\u80fd\u4f1a\u51fa\u73b0\u9519\u8bef UnicodeDecodeError: 'gbk' codec can't decode byte 0xbd in position 37: illegal multibyte sequence \u539f\u56e0\uff1a \u662f\u7531\u4e8e\u7f16\u7801\u96c6\u9ed8\u8ba4\u662fgbk\u5bfc\u81f4\u7684. \u89e3\u51b3\uff1a \u9501\u5b9asubprocess\u7684encoding\u53c2\u6570. python import subprocess from functools import partial # \u4e13\u95e8\u7528\u6765\u56fa\u5b9a\u53c2\u6570\u7684 subprocess.Popen = partial(subprocess.Popen, encoding=\"utf-8\") \u6ce8\u610f\uff1a \u8bf7\u6ce8\u610f. \u4e00\u5b9a\u8981\u653e\u5728\u4ee3\u7801\u7684\u6700\u524d\u9762.","title":"(9) \u6ce8\u610f"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#10-python","text":"import subprocess from functools import partial # \u4e13\u95e8\u7528\u6765\u56fa\u5b9a\u53c2\u6570\u7684 subprocess.Popen = partial(subprocess.Popen, encoding=\"utf-8\") import execjs import requests import json with open('wangyiyun.js', 'r') as f: js_code = f.read() context = execjs.compile(js_code) result = context.call('main') print(result) url = 'https://music.163.com/weapi/song/enhance/player/url/v1?csrf_token=' headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36', 'Referer': 'https://music.163.com/', } data = { 'params': result['encText'], 'encSecKey': result['encSecKey'], } res = requests.post(url, headers=headers, data=data) print(res, res.text) # \u83b7\u53d6\u6b4c\u66f2\u7684URL\u5730\u5740 url = res.json()['data'][0]['url'] # \u4e0b\u8f7d\u97f3\u4e50 with open('\u97f3\u4e50.mp3', 'wb') as f: f.write(requests.get(url, headers=headers).content) \u54cd\u5e94 {\"data\":[{\"id\":188451,\"url\":\"http://m701.music.126.net/20230905150222/37727dd7d43e2e5d58c26bb1a525cfa1/jdyyaac/obj/w5rDlsOJwrLDjj7CmsOj/5637633350/e015/782a/b070/0001721641e4a098620da30fbb307bd6.m4a\",\"br\":96020,\"size\":3706079,\"md5\":\"0001721641e4a098620da30fbb307bd6\",\"code\":200,\"expi\":1200,\"type\":\"m4a\",\"gain\":0.0,\"peak\":0.9521,\"fee\":8,\"uf\":null,\"payed\":0,\"flag\":260,\"canExtend\":false,\"freeTrialInfo\":null,\"level\":\"standard\",\"encodeType\":\"aac\",\"freeTrialPrivilege\":{\"resConsumable\":false,\"userConsumable\":false,\"listenType\":null,\"cannotListenReason\":null},\"freeTimeTrialPrivilege\":{\"resConsumable\":false,\"userConsumable\":false,\"type\":0,\"remainTime\":0},\"urlSource\":0,\"rightSource\":0,\"podcastCtrp\":null,\"effectTypes\":null,\"time\":304293}],\"code\":200}","title":"(10) python\u9006\u5411\u7f51\u6613\u4e91\u5b8c\u6574\u4ee3\u7801"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_8","text":"","title":"\u56db\u3001\u9488\u5bf9\u7f51\u7ad9\u52a0\u5bc6\u7684\u89e3\u51b3\u65b9\u5f0f"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#1js","text":"\u539f\u5219\uff1a\u5c3d\u53ef\u80fd\u7684\u4e0d\u53bb\u6539\u5b83\u7684\u4ee3\u7801.","title":"1\u3001\u4eff\u7167\u7f51\u9875\u4e0a\u7684js, \u5b8c\u6210\u672c\u5730\u4ee3\u7801\u7f16\u5199."},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#2_1","text":"\u6bd4\u5982\u91cc\u9762\u7528\u5230\u4e00\u4e9b\u4e09\u65b9\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5b89\u88c5\u5f53\u524d\u5e93\u5e76\u5bfc\u5165","title":"2\u3001\u501f\u52a9\u7b2c\u4e09\u65b9\u5e93, \u5b8c\u6210\u4ee3\u7801\u7684\u62fc\u5199"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#3_2","text":"\u5982\u4f55\u786e\u8ba4\u662f\u5426\u662f\u88ab\u9b54\u6539\u4e86\u7684? \u627e\u4e2a\u6807\u51c6\u5e93\u5b9e\u9a8c\u4e00\u4e0b\u5373\u53ef... \u51c6\u5907\u597d\u62a0\u4ee3\u7801\u7684\u601d\u8def. \u51c6\u5907\u597d\u5165\u53e3\u51fd\u6570, \u4ee5\u53ca\u6d4b\u8bd5\u7528\u4f8b... \u5c1d\u8bd5\u8fd0\u884c\u4ee3\u7801. \u6839\u636e\u62a5\u9519\u63d0\u793a, \u8865\u5145\u76f8\u5173\u7684\u4ee3\u7801 \u5982\u679c\u9700\u8981\u8865\u5145\u7684\u4e1c\u897f\u8fc7\u591a. \u53ef\u4ee5\u8003\u8651\u627e\u8fb9\u754c. \u7136\u540e\u6279\u91cf\u7684\u8fdb\u884c\u4ee3\u7801\u62a0\u53d6 \u4e07\u80fd\u7684\u89e3\u51b3\u65b9\u6848... \u7f3a\u70b9...\u592a\u6162\u4e86|\u78b0\u5230promise\u4f1a\u5934\u75bc...","title":"3\u3001\u5982\u679c\u78b0\u5230\u4e0d\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93, \u5bf9\u7b2c\u4e09\u65b9\u5e93\u8fdb\u884c\u66f4\u6539\u8fc7\u7684."},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#4_2","text":"\u7f51\u7ad9\u7684\u4ee3\u7801\u4e0d\u5e0c\u671b. \u5b83\u7684\u4ee3\u7801\u5728node\u73af\u5883\u8fd0\u884c... \u7f51\u7ad9\u7684\u4f5c\u8005\u4f1a\u5bf9\u8fd0\u884c\u73af\u5883\u8fdb\u884c\u68c0\u6d4b. node\u73af\u5883\u662f\u4e00\u4e2a\u540e\u7aef\u73af\u5883. \u6ca1\u6709window, document","title":"4\u3001\u8865\u73af\u5883."},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#5python","text":"","title":"5\u3001\u7528python\u5b8c\u6210\u52a0\u5bc6\u903b\u8f91."},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#_9","text":"","title":""},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#pythonschedule","text":"schedule\u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u8f7b\u91cf\u7ea7\u7684\u4efb\u52a1\u8c03\u5ea6\u6a21\u5757\uff0c\u53ef\u4ee5\u6309\u7167\u79d2\uff0c\u5206\uff0c\u5c0f\u65f6\uff0c\u65e5\u671f\u6216\u8005\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6267\u884c\u65f6\u95f4\u3002 \u5982\u679c\u60f3\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2atask\u3002 \u9996\u5148\u5b89\u88c5schedule\u5e93\uff1a pip install schedule","title":"\u4e94\u3001python\u4e2d\u5b9a\u65f6\u4efb\u52a1schedule\u5e93\u7528\u6cd5\u8be6\u89e3"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#1_3","text":"\u793a\u4f8b\u4ee3\u78011\uff1a import schedule from datetime import datetime def task(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts) def task2(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + '666!') def func(): # \u6e05\u7a7a\u4efb\u52a1 schedule.clear() # \u521b\u5efa\u4e00\u4e2a\u63093\u79d2\u95f4\u9694\u6267\u884c\u4efb\u52a1 schedule.every(3).seconds.do(task) # \u521b\u5efa\u4e00\u4e2a\u63092\u79d2\u95f4\u9694\u6267\u884c\u4efb\u52a1 schedule.every(2).seconds.do(task2) while True: schedule.run_pending() func() \u8fd0\u884c\u7ed3\u679c\uff1a \u793a\u4f8b\u4ee3\u78012\uff1a import schedule import time def job(name): print(\"her name is : \", name) name = \"\u5f20\u4e09\" schedule.every(10).minutes.do(job, name) schedule.every().hour.do(job, name) schedule.every().day.at(\"10:30\").do(job, name) schedule.every(5).to(10).days.do(job, name) schedule.every().monday.do(job, name) schedule.every().wednesday.at(\"13:15\").do(job, name) while True: schedule.run_pending() time.sleep(1) \u53c2\u6570\u89e3\u91ca\uff1a \u6bcf\u9694\u5341\u5206\u949f\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u9694\u4e00\u5c0f\u65f6\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u5929\u768410:30\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u96945\u523010\u5929\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u5468\u4e00\u7684\u8fd9\u4e2a\u65f6\u5019\u6267\u884c\u4e00\u6b21\u4efb\u52a1 \u6bcf\u5468\u4e0913:15\u6267\u884c\u4e00\u6b21\u4efb\u52a1 run_pending\uff1a\u8fd0\u884c\u6240\u6709\u53ef\u4ee5\u8fd0\u884c\u7684\u4efb\u52a1 *\u6ce8\u610f\uff1a* schedule\u65b9\u6cd5\u662f\u4e32\u884c\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5404\u4e2a\u4efb\u52a1\u4e4b\u95f4\u65f6\u95f4\u4e0d\u51b2\u7a81\uff0c\u90a3\u662f\u6ca1\u95ee\u9898\u7684\uff1b\u5982\u679c\u65f6\u95f4\u6709\u51b2\u7a81\u7684\u8bdd\uff0c\u4f1a\u4e32\u884c\u7684\u6267\u884c\u547d\u4ee4\u3002","title":"1\u3001\u6309\u65f6\u95f4\u95f4\u9694\u6267\u884c\u5b9a\u65f6\u4efb\u52a1"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#2-repeat","text":"\u793a\u4f8b\u4ee3\u7801\uff1a from datetime import datetime from schedule import every, repeat, run_pending @repeat(every(3).seconds) def task(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + '-333!') @repeat(every(5).seconds) def task2(): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + \"-555555!\") while True: run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a","title":"2\u3001\u88c5\u9970\u5668\uff1a\u901a\u8fc7 @repeat() \u88c5\u9970\u9759\u6001\u65b9\u6cd5"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#3_3","text":"\u793a\u4f8b\u4ee3\u7801\uff1a from datetime import datetime import schedule def task(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) def task2(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) schedule.every(3).seconds.do(task, s='-333') schedule.every(5).seconds.do(task, s='-555') while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a","title":"3\u3001\u4f20\u9012\u53c2\u6570"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#4_3","text":"\u793a\u4f8b\u4ee3\u7801\uff1a from datetime import datetime from schedule import every, repeat, run_pending @repeat(every(3).seconds, '-333') def task(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) @repeat(every(5).seconds, '-555') def task2(s): now = datetime.now() ts = now.strftime(\"%Y-%m-%d %H:%M:%S\") print(ts + s) while True: run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a","title":"4\u3001\u4f7f\u7528\u88c5\u9970\u5668\u4f20\u9012\u53c2\u6570"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#5_1","text":"\u793a\u4f8b\u4ee3\u7801\uff1a import schedule i = 0 def some_task(): global i i += 1 print(i) if i == 5: schedule.cancel_job(job) print('cancel job') exit(0) job = schedule.every().second.do(some_task) while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a","title":"5\u3001\u53d6\u6d88\u5b9a\u65f6\u4efb\u52a1"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#6","text":"\u793a\u4f8b\u4ee3\u7801\uff1a import time import schedule def job_that_executes_once(): print('Hello') return schedule.CancelJob schedule.every().minute.at(':30').do(job_that_executes_once) while True: schedule.run_pending() time.sleep(1) \u8fd0\u884c\u7ed3\u679c\uff1a","title":"6\u3001\u5728\u6307\u5b9a\u65f6\u95f4\u6267\u884c\u4e00\u6b21\u4efb\u52a1"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#7","text":"\u793a\u4f8b\u4ee3\u7801\uff1a # \u68c0\u7d22\u6240\u6709\u4efb\u52a1\uff1aschedule.get_jobs() import schedule def greet(name): print('Hello {}'.format(name)) schedule.every().day.do(greet, 'Andrea').tag('daily-tasks', 'friend') schedule.every().hour.do(greet, 'John').tag('hourly-tasks', 'friend') schedule.every().hour.do(greet, 'Monica').tag('hourly-tasks', 'customer') schedule.every().day.do(greet, 'Derek').tag('daily-tasks', 'guest') friends = schedule.get_jobs('friend') print(friends) \u8fd0\u884c\u7ed3\u679c\uff1a","title":"7\u3001\u6839\u636e\u6807\u7b7e\u68c0\u7d22\u4efb\u52a1"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#8","text":"\u793a\u4f8b\u4ee3\u7801\uff1a # \u53d6\u6d88\u6240\u6709\u4efb\u52a1\uff1aschedule.clear() import schedule def greet(name): print('Hello {}'.format(name)) if name == 'Cancel': schedule.clear('second-tasks') print('cancel second-tasks') schedule.every().second.do(greet, 'Andrea').tag('second-tasks', 'friend') schedule.every().second.do(greet, 'John').tag('second-tasks', 'friend') schedule.every().hour.do(greet, 'Monica').tag('hourly-tasks', 'customer') schedule.every(5).seconds.do(greet, 'Cancel').tag('daily-tasks', 'guest') while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a","title":"8\u3001\u6839\u636e\u6807\u7b7e\u53d6\u6d88\u4efb\u52a1"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#9_1","text":"\u793a\u4f8b\u4ee3\u7801\uff1a import schedule from datetime import datetime, timedelta, time def job(): print('working...') schedule.every().second.until('23:59').do(job) # \u4eca\u592923:59\u505c\u6b62 schedule.every().second.until('2030-01-01 18:30').do(job) # 2030-01-01 18:30\u505c\u6b62 schedule.every().second.until(timedelta(hours=8)).do(job) # 8\u5c0f\u65f6\u540e\u505c\u6b62 schedule.every().second.until(time(23, 59, 59)).do(job) # \u4eca\u592923:59:59\u505c\u6b62 schedule.every().second.until(datetime(2030, 1, 1, 18, 30, 0)).do(job) # 2030-01-01 18:30\u505c\u6b62 while True: schedule.run_pending() \u8fd0\u884c\u7ed3\u679c\uff1a","title":"9\u3001\u8fd0\u884c\u4efb\u52a1\u5230\u67d0\u65f6\u95f4"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#10","text":"\u793a\u4f8b\u4ee3\u7801\uff1a import schedule def job(): print('working...') def job1(): print('Hello...') schedule.every().monday.at('12:40').do(job) schedule.every().tuesday.at('16:40').do(job1) schedule.run_all() schedule.run_all(delay_seconds=3) # \u4efb\u52a1\u95f4\u5ef6\u8fdf3\u79d2 \u8fd0\u884c\u7ed3\u679c\uff1a","title":"10\u3001\u9a6c\u4e0a\u8fd0\u884c\u6240\u6709\u4efb\u52a1\uff08\u4e3b\u8981\u7528\u4e8e\u6d4b\u8bd5\uff09"},{"location":"27%E3%80%81%E9%80%86%E5%90%9101.html#11-python","text":"\u793a\u4f8b\u4ee3\u7801\uff1a import threading import time import schedule def job1(): print(\"I'm running on thread %s\" % threading.current_thread()) def job2(): print(\"I'm running on thread %s\" % threading.current_thread()) def job3(): print(\"I'm running on thread %s\" % threading.current_thread()) def run_threaded(job_func): job_thread = threading.Thread(target=job_func) job_thread.start() schedule.every(10).seconds.do(run_threaded, job1) schedule.every(10).seconds.do(run_threaded, job2) schedule.every(10).seconds.do(run_threaded, job3) while True: schedule.run_pending() time.sleep(1) \u8fd0\u884c\u7ed3\u679c\uff1a","title":"11\u3001\u5e76\u884c\u8fd0\u884c\uff1a\u4f7f\u7528 Python \u5185\u7f6e\u961f\u5217\u5b9e\u73b0"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html","text":"\u4e8c\u5341\u516b\u3001\u9006\u541102 \u4e00\u3001\u5b57\u8282 1\u3001\u6982\u8ff0 \u4e00\u4e2a\u6c49\u5b57 UTF-8\u7f16\u7801\uff1a\u4e00\u4e2a\u4e2d\u6587\uff08\u542b\u7e41\u4f53\uff09\u5360\u4e09\u4e2a\u5b57\u8282\uff0c\u4e00\u4e2a\u4e2d\u6587\u6807\u70b9\u5360\u4e09\u4e2a\u5b57\u8282\u3002\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\u5360\u4e00\u4e2a\u5b57\u8282\uff0c\u4e00\u4e2a\u82f1\u6587\u6807\u70b9\u5360\u4e00\u4e2a\u5b57\u8282\u3002 \u5b98\u65b9\u6807\u51c6\uff1a 1\u5b57\u8282\uff08Byte)\uff1d8\u5b57\u4f4d\uff1d8\u4e2a\u4e8c\u8fdb\u5236\u6570 ###### 1\u5b57\u4f4d(bit)\uff1d1\u4e2a\u4e8c\u8fdb\u5236\u6570 \u4e5f\u5c31\u662f1B=8b 1KB=1024B 1MB=1024KB 1GB=1024MB \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u628aB\u79f0\u4e3a\u5b57\u8282\u3001b\u79f0\u4e3a\u5b57\u4f4d\u3001KB\u79f0\u4e3a\u5343\u5b57\u8282\u3001MB\u79f0\u4e3a\u5146\u5b57\u8282\u3001GB\u79f0\u4e3a\u5409\u5b57\u8282\u3002 \u62d3\u5c55\u8d44\u6599 \u5b57\u8282\u662f\u8ba1\u7b97\u673a\u4fe1\u606f\u6280\u672f\u7528\u4e8e\u8ba1\u91cf\u5b58\u50a8\u5bb9\u91cf\u7684\u4e00\u79cd\u8ba1\u91cf\u5355\u4f4d\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u4e00\u5b57\u8282\u7b49\u4e8e\u516b\u4f4d\uff0c[1]\u4e5f\u8868\u793a\u4e00\u4e9b\u8ba1\u7b97\u673a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u548c\u8bed\u8a00\u5b57\u7b26\u3002 B\u4e0ebit\uff1a \u6570\u636e\u5b58\u50a8\u662f\u4ee5\u201c\u5b57\u8282\u201d\uff08Byte\uff09\u4e3a\u5355\u4f4d\uff0c\u6570\u636e\u4f20\u8f93\u5927\u591a\u662f\u4ee5\u201c\u4f4d\u201d\uff08bit\uff0c\u53c8\u540d\u201c\u6bd4\u7279\u201d\uff09\u4e3a\u5355\u4f4d\uff0c\u4e00\u4e2a\u4f4d\u5c31\u4ee3\u8868\u4e00\u4e2a0\u62161\uff08\u5373\u4e8c\u8fdb\u5236\uff09\uff0c\u6bcf8\u4e2a\u4f4d\uff08bit\uff0c\u7b80\u5199\u4e3ab\uff09\u7ec4\u6210\u4e00\u4e2a\u5b57\u8282\uff08Byte\uff0c\u7b80\u5199\u4e3aB\uff09\uff0c\u662f\u6700\u5c0f\u4e00\u7ea7\u7684\u4fe1\u606f\u5355\u4f4d\u3002 2\u3001Python\u4e2d \u8bf4\u660e \u5728Python\u4e2d\uff0c\u5b57\u8282\uff08bytes\uff09\u662f\u4e00\u79cd\u4e0d\u53ef\u53d8\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7528\u4e8e\u8868\u793a\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u5b57\u8282\u5bf9\u8c61\u7531\u6574\u6570\u6784\u6210\u7684\u4e0d\u53ef\u53d8\u5e8f\u5217\uff0c\u6bcf\u4e2a\u6574\u6570\u8303\u56f4\u57280\u5230255\u4e4b\u95f4\uff0c\u5bf9\u5e94\u4e00\u4e2a\u5b57\u8282\u7684\u503c\u3002 \u5728Python 3\u4e2d\uff0c\u5b57\u8282\u5bf9\u8c61\u662f\u4ee5\u5b57\u9762\u503c\u8bed\u6cd5\u6216\u8005\u4f7f\u7528bytes()\u51fd\u6570\u6765\u521b\u5efa\u7684\u3002\u5b57\u9762\u503c\u8bed\u6cd5\u4f7f\u7528b\u524d\u7f00\uff0c\u540e\u9762\u8ddf\u7740\u7528\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u62ec\u8d77\u6765\u7684\u5b57\u7b26\u5e8f\u5217\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e9b\u521b\u5efa\u5b57\u8282\u5bf9\u8c61\u7684\u793a\u4f8b\uff1a Python b = b'hello' \u53ef\u4ee5\u4f7f\u7528\u5207\u7247\u3001\u7d22\u5f15\u548c\u8fed\u4ee3\u64cd\u4f5c\u8bbf\u95ee\u5b57\u8282\u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\u3002\u5b57\u8282\u5bf9\u8c61\u4e5f\u652f\u6301\u4e0e\u5176\u4ed6\u5b57\u8282\u5bf9\u8c61\u7684\u8fde\u63a5\u548c\u91cd\u590d\u64cd\u4f5c\u3002 ```Python b = b'hello' # \u5207\u7247\u64cd\u4f5c print(b[1:4]) # b'ell' # \u7d22\u5f15\u64cd\u4f5c print(b[0]) # 104 # \u8fed\u4ee3\u64cd\u4f5c for byte in b: print(byte) # \u5b57\u8282\u5bf9\u8c61\u8fde\u63a5\u548c\u91cd\u590d new_b = b + b' world' print(new_b) # b'hello world' repeated_b = b * 3 print(repeated_b) # b'hellohellohello' ``` \u5b57\u8282\u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\u548c\u51fd\u6570\u6765\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528decode()\u65b9\u6cd5\u5c06\u5b57\u8282\u5bf9\u8c61\u89e3\u7801\u4e3a\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u76f8\u5e94\u7684\u7f16\u7801\u65b9\u5f0f\uff1b\u53ef\u4ee5\u4f7f\u7528encode()\u65b9\u6cd5\u5c06\u5b57\u7b26\u4e32\u7f16\u7801\u4e3a\u5b57\u8282\u5bf9\u8c61\u3002\u6b64\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u4e00\u4e9b\u5de5\u5177\u51fd\u6570\uff0c\u4f8b\u5982len()\u8fd4\u56de\u5b57\u8282\u5bf9\u8c61\u7684\u957f\u5ea6\uff0chex()\u5c06\u6574\u6570\u8f6c\u6362\u4e3a\u5341\u516d\u8fdb\u5236\u8868\u793a\u7b49\u3002 ```Python b = b'hello' # \u89e3\u7801\u4e3a\u5b57\u7b26\u4e32 s = b.decode('utf-8') print(s) # 'hello' # \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a\u5b57\u8282\u5bf9\u8c61 new_b = s.encode('utf-8') print(new_b) # b'hello' # \u83b7\u53d6\u5b57\u8282\u5bf9\u8c61\u957f\u5ea6 length = len(b) print(length) # 5 # hex()\u5c06\u6574\u6570\u8f6c\u6362\u4e3a\u5341\u516d\u8fdb\u5236 hex_representation = hex(1234) print(hex_representation) # '0x4d2' ``` \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5b57\u8282\u5bf9\u8c61\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u5373\u4e0d\u80fd\u76f4\u63a5\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002\u5982\u679c\u9700\u8981\u4fee\u6539\u5b57\u8282\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5148\u5c06\u5176\u89e3\u7801\u4e3a\u53ef\u53d8\u7684\u5b57\u8282\u6570\u7ec4\uff08bytearray\uff09\uff0c\u8fdb\u884c\u4fee\u6539\u540e\u518d\u7f16\u7801\u56de\u5b57\u8282\u5bf9\u8c61\u3002 \u6269\u5c55 \u4e2d\u6587\u7f16\u7801\u540e\u663e\u793a\u5341\u516d\u8fdb\u5236\u7684\u539f\u56e0\uff1a \u7531\u4e8e\u6bcf\u4e2a\u5b57\u8282\u5305\u542b8\u4f4d\u4e8c\u8fdb\u5236\u6570\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5c55\u793a\u548c\u4f20\u8f93\uff0c\u5e38\u5e38\u5c06\u6bcf\u4e2a\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\u6570\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a\u6cd5\u3002\u8fd9\u6837\u505a\u53ef\u4ee5\u51cf\u5c11\u5b57\u7b26\u7684\u53ef\u89c6\u5bbd\u5ea6\uff0c\u5e76\u4e14\u66f4\u65b9\u4fbf\u8fdb\u884c\u4eba\u673a\u4ea4\u4e92\u548c\u8c03\u8bd5\u3002 \u56e0\u6b64\uff0c\u5f53\u4e2d\u6587\u5b57\u7b26\u88ab\u8f6c\u6362\u4e3aUTF-8\u7f16\u7801\u65f6\uff0c\u6240\u5f97\u5230\u7684\u7ed3\u679c\u662f\u4e00\u4e32\u5341\u516d\u8fdb\u5236\u6570\uff0c\u7528\u4ee5\u8868\u793a\u6bcf\u4e2a\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\u503c\u3002\u8fd9\u79cd\u5f62\u5f0f\u7684\u5c55\u793a\u65b9\u5f0f\u66f4\u6613\u4e8e\u7406\u89e3\u3001\u6bd4\u5bf9\u548c\u5904\u7406\u3002 python a = '\u54c8' # \u8f6c\u6362\u7f16\u7801\u4e3a\u5341\u516d\u8fdb\u5236 b'\\xe5\\x93\\x88' print(a.encode('UTF-8')) # \u53bb\u6389\u7b26\u53f7\u4f4d\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236 15045512 print(int('e59388', base=16)) # \u5341\u8fdb\u5236\u8f6c\u6362\u4e3a \u5341\u516d\u8fdb\u5236 0xe59388 print(hex(15045512)) # \u8ba1\u7b97\u957f\u5ea6 print(len(bin(15045512).replace('0b', ''))) # \u4e8c\u8fdb\u5236\u7684\u957f\u5ea6 print(len(b'\\xe5\\x93\\x88')) # \u5341\u516d\u8fdb\u5236\u7684\u957f\u5ea6 \u6570\u5b57\u548c\u5b57\u6bcd\u5728UTF-8\u7f16\u7801\u4e2d\u5e76\u4e0d\u53d1\u751f\u53d8\u5316\u5f97\u539f\u56e0\uff1a \u5728UTF-8\u7f16\u7801\u4e2d\uff0c\u6570\u5b57\u548c\u5b57\u6bcd\u4e4b\u6240\u4ee5\u5728\u7f16\u7801\u65f6\u4e0d\u53d1\u751f\u53d8\u5316\uff0c\u662f\u56e0\u4e3aUTF-8\u91c7\u7528\u4e86\u4e00\u79cd\u53d8\u957f\u7f16\u7801\u65b9\u5f0f\uff0c\u5373\u4e0d\u540c\u5b57\u7b26\u7684\u7f16\u7801\u957f\u5ea6\u53ef\u4ee5\u4e0d\u540c\u3002 \u6570\u5b57\u548c\u5927\u90e8\u5206\u82f1\u6587\u5b57\u6bcd\u5728ASCII\u5b57\u7b26\u96c6\u4e2d\u5df2\u7ecf\u5b9a\u4e49\u4e86\u56fa\u5b9a\u7684\u7f16\u7801\uff0c\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff088\u4f4d\uff09\uff0c\u56e0\u6b64\u5b83\u4eec\u5728UTF-8\u7f16\u7801\u4e2d\u4ecd\u7136\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff0c\u7f16\u7801\u503c\u548cASCII\u7f16\u7801\u76f8\u540c\u3002 \u4f8b\u5982\uff0c\u5b57\u6bcd'A'\u7684ASCII\u7f16\u7801\u662f65\uff08\u4e8c\u8fdb\u5236\u4e3a01000001\uff09\uff0c\u800c\u5728UTF-8\u4e2d\uff0c\u5b57\u6bcd'A'\u7684\u7f16\u7801\u540c\u6837\u4e3a01000001\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8eASCII\u5b57\u7b26\u96c6\u4e2d\u7684\u6570\u5b57\u548c\u5b57\u6bcd\uff0c\u5b83\u4eec\u7684UTF-8\u7f16\u7801\u4e0eASCII\u7f16\u7801\u662f\u4e00\u81f4\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cUTF-8\u7f16\u7801\u8fd8\u652f\u6301\u66f4\u5e7f\u6cdb\u7684\u5b57\u7b26\u96c6\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u7279\u6b8a\u5b57\u7b26\u548c\u975eASCII\u5b57\u7b26\uff0c\u5b83\u4eec\u53ef\u80fd\u5360\u7528\u66f4\u591a\u5b57\u8282\u8fdb\u884c\u7f16\u7801\u3002\u4f46\u5bf9\u4e8eASCII\u5b57\u7b26\uff0cUTF-8\u7f16\u7801\u4fdd\u6301\u4e86\u517c\u5bb9\u6027\uff0c\u4e0d\u5f15\u5165\u989d\u5916\u7684\u53d8\u5316\u3002 \u6570\u5b57\u548c\u5b57\u6bcd\u7684UTF-8\u7f16\u7801\u7ed3\u679c\u4e0e\u5176\u539f\u59cb\u7684ASCII\u7801\u503c\u5b8c\u5168\u76f8\u540c\uff0c\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u6837\u505a\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4f7f\u7528UTF-8\u7f16\u7801\u65f6\uff0c\u5bf9\u4e8e\u7eaf\u82f1\u6587\u5b57\u7b26\u7684\u5904\u7406\u4e0eASCII\u7801\u517c\u5bb9\uff0c\u786e\u4fdd\u4e86\u5411\u540e\u517c\u5bb9\u6027\u548c\u7b80\u5316\u4e86\u5b57\u7b26\u7684\u5904\u7406\u8fc7\u7a0b\u3002 0x\u548c\\x\u7684\u533a\u522b 0x\uff1a\u5728\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c0x\u524d\u7f00\u8868\u793a\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u6570\u3002\u4f8b\u5982\uff0c0x10\u8868\u793a\u5341\u516d\u8fdb\u5236\u657016\u3002 python hex_value = 0x10 print(hex_value) # \u8f93\u51fa 16 \\x\uff1a\u5728\u5b57\u7b26\u4e32\u4e2d\uff0c\\x\u540e\u8ddf\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u6570\u5b57\u8868\u793a\u4e00\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\u7f16\u7801\u3002\u4f8b\u5982\uff0c\\x41\u8868\u793aASCII\u5b57\u7b26'A'\u3002 python ascii_value = '\\x41' print(ascii_value) # \u8f93\u51fa 'A' \u603b\u7ed3\u8d77\u6765\uff0c0x\u7528\u4e8e\u8868\u793a\u6574\u6570\u7684\u5341\u516d\u8fdb\u5236\u6570\uff0c\u800c\\x\u7528\u4e8e\u8868\u793a\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u8282\u7f16\u7801\u3002 \u6bd4\u5982\uff1a 0x0\u548c \\x30\u8868\u793a\u7684\u533a\u522b 0x0\u8868\u793a\u5341\u516d\u8fdb\u5236\u6570\uff0c\u5176\u4e2d\u7684\"0x\"\u662f\u5341\u516d\u8fdb\u5236\u7684\u524d\u7f00\u3002\u5341\u516d\u8fdb\u5236\u662f\u4e00\u79cd\u4f7f\u752816\u4e2a\u5b57\u7b26\uff080-9\u548cA-F\uff09\u6765\u8868\u793a\u6570\u503c\u7684\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c0x0\u8868\u793a\u6570\u503c\u4e3a0\u3002 \\x30\u5219\u662f\u8868\u793aASCII\u5b57\u7b26\u7684\u8f6c\u4e49\u5e8f\u5217\u3002\u5728ASCII\u7f16\u7801\u4e2d\uff0c\u6bcf\u4e2a\u5b57\u7b26\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u552f\u4e00\u7684\u6574\u6570\u503c\u3002\u800c\\x30\u8868\u793a\u7684\u662fASCII\u7f16\u7801\u4e2d\u7684\u5341\u8fdb\u5236\u6570\u503c48\uff0c\u5bf9\u5e94\u4e8e\u5b57\u7b26'0'\u3002\u8fd9\u91cc\u7684\"\\x\"\u662f\u7528\u6765\u8868\u793a\u540e\u9762\u4e24\u4f4d\u6570\u5b57\u662f\u5341\u516d\u8fdb\u5236\u7684\u6807\u8bc6\u3002 \u6240\u4ee5\uff0c\u867d\u71360x0\u548c\\x30\u90fd\u53ef\u4ee5\u8868\u793a\u6570\u5b570\uff0c\u4f46\u5b83\u4eec\u7684\u542b\u4e49\u7565\u6709\u4e0d\u540c ,\u4e5f\u5c31\u662f\u7c7b\u578b\u4e0d\u540c\uff0c\u5b57\u7b26\u4e32\u76840\u548c\u6570\u503c\u76840 \u4e8c\u3001URLEncode (1) url\u7f16\u7801\u8bf4\u660e URL\u7f16\u7801\u662f\u6307\u5c06URL\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\u8f6c\u6362\u4e3a\u7279\u5b9a\u683c\u5f0f\u7684\u8fc7\u7a0b\u3002\u5b83\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u907f\u514d\u51b2\u7a81\uff1a\u5728URL\u4e2d\uff0c\u67d0\u4e9b\u5b57\u7b26\u5177\u6709\u7279\u6b8a\u542b\u4e49\u6216\u8005\u53ef\u80fd\u5f15\u8d77\u51b2\u7a81\uff0c\u4f8b\u5982\u7a7a\u683c\u3001\u659c\u6760\u3001\u95ee\u53f7\u7b49\u3002\u901a\u8fc7URL\u7f16\u7801\uff0c\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u7279\u6b8a\u5b57\u7b26\u8f6c\u6362\u6210\u7279\u5b9a\u7684\u7f16\u7801\u5f62\u5f0f\uff0c\u4ee5\u907f\u514d\u9020\u6210\u8bed\u6cd5\u9519\u8bef\u6216\u6df7\u6dc6\u3002 \u5b89\u5168\u6027\uff1aURL\u7f16\u7801\u8fd8\u80fd\u63d0\u9ad8\u5b89\u5168\u6027\u3002\u5bf9\u4e8e\u9700\u8981\u4f20\u8f93\u654f\u611f\u4fe1\u606f\u7684URL\uff0c\u4f7f\u7528URL\u7f16\u7801\u53ef\u4ee5\u5bf9\u53c2\u6570\u8fdb\u884c\u52a0\u5bc6\u5904\u7406\uff0c\u589e\u52a0\u6570\u636e\u7684\u5b89\u5168\u6027\uff0c\u9632\u6b62\u88ab\u6076\u610f\u7be1\u6539\u6216\u6ce8\u5165\u653b\u51fb\u3002 \u517c\u5bb9\u6027\uff1aURL\u7f16\u7801\u53ef\u4ee5\u786e\u4fddURL\u5728\u4e0d\u540c\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u7684\u517c\u5bb9\u6027\u3002\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u5bf9URL\u7684\u89e3\u6790\u65b9\u5f0f\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u901a\u8fc7URL\u7f16\u7801\u53ef\u4ee5\u7edf\u4e00\u7f16\u7801\u89c4\u5219\uff0c\u786e\u4fdd\u6240\u6709\u5e73\u53f0\u4e0a\u90fd\u80fd\u6b63\u786e\u8bc6\u522b\u5e76\u5904\u7406URL\u3002 \u603b\u7ed3\u6765\u8bf4\uff0cURL\u7f16\u7801\u7684\u4f5c\u7528\u662f\u4fdd\u8bc1URL\u7684\u6b63\u786e\u89e3\u6790\u548c\u4f20\u8f93\uff0c\u5e76\u63d0\u4f9b\u4e00\u5b9a\u7684\u5b89\u5168\u6027\u4fdd\u969c\u3002\u5b83\u53ef\u4ee5\u907f\u514d\u51b2\u7a81\u3001\u63d0\u9ad8\u517c\u5bb9\u6027\uff0c\u540c\u65f6\u4e5f\u6709\u52a9\u4e8e\u4fdd\u62a4\u4f20\u8f93\u7684\u6570\u636e\u5b89\u5168\u3002 (2) \u5b9e\u4f8b \u5728\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b \u590d\u5236\u51fa\u6765\u67e5\u770b https://www.baidu.com/s?wd=%E8%BF%AA%E4%B8%BD%E7%83%AD%E5%B7%B4&rsv_spt=1&rsv_iqid=0xbda64fb600039f37&issp=1&f=8&rsv_bp=1&rsv_idx=2&ie=utf-8&tn=baiduhome_pg&rsv_enter=1&rsv_dl=tb&rsv_sug3=7&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&rsv_btype=i&prefixsug=%25E8%25BF%25AA%25E4%25B8%25BD%25E7%2583%25AD%25E5%25B7%25B4&rsp=2&inputT=1053&rsv_sug4=1053 \u8bf4\u660e \u5176\u5b9e\u6211\u4eec\u5728\u8bbf\u95ee\u4e00\u4e2aurl\u7684\u65f6\u5019. \u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u7684\u8fdb\u884curlencode\u64cd\u4f5c. \u4f1a\u5bf9\u6211\u4eec\u8bf7\u6c42\u7684url\u8fdb\u884c\u7f16\u7801. \u8fd9\u79cd\u7f16\u7801\u89c4\u5219\u88ab\u79f0\u4e3a\u767e\u5206\u53f7\u7f16\u7801. \u662f\u4e13\u95e8\u4e3aurl(\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26)\u51c6\u5907\u7684\u4e00\u5957\u7f16\u7801\u89c4\u5219. (3) Python\u4e2d\u8fdb\u884cURL\u5904\u7406 URL\u7f16\u7801\u3001\u89e3\u7801\u539f\u56e0 \u901a\u5e38\u5982\u679c\u4e00\u6837\u4e1c\u897f\u9700\u8981\u7f16\u7801\uff0c\u8bf4\u660e\u5176\u5e76\u4e0d\u9002\u5408\u76f4\u63a5\u4f20\u8f93\u3002\u539f\u56e0\u591a\u79cd\u591a\u6837\uff0c\u5982Size\u8fc7\u5927\uff0c\u5305\u542b\u9690\u79c1\u6570\u636e\u3002\u5bf9\u4e8eUrl\u6765\u8bf4\uff0c\u4e4b\u6240\u4ee5\u8981\u8fdb\u884c\u7f16\u7801\uff0c\u662f\u56e0\u4e3aUrl\u4e2d\u6709\u4e9b\u5b57\u7b26\u4f1a\u5f15\u8d77\u6b67\u4e49\u3002 \u4f8b\u5982\uff0cUrl\u53c2\u6570\u5b57\u7b26\u4e32\u4e2d\u4f7f\u7528key=value\u952e\u503c\u5bf9\u8fd9\u6837\u7684\u5f62\u5f0f\u6765\u4f20\u53c2\uff0c\u952e\u503c\u5bf9\u4e4b\u95f4\u4ee5&\u7b26\u53f7\u5206\u9694\uff0c\u5982/s?q=abc&ie=utf-8\u3002\u5982\u679c\u4f60\u7684value\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u4e86=\u6216\u8005&\uff0c\u90a3\u4e48\u52bf\u5fc5\u4f1a\u9020\u6210\u63a5\u6536Url\u7684\u670d\u52a1\u5668\u89e3\u6790\u9519\u8bef\uff0c\u56e0\u6b64\u5fc5\u987b\u5c06\u5f15\u8d77\u6b67\u4e49\u7684&\u548c=\u7b26\u53f7\u8fdb\u884c\u8f6c\u4e49\uff0c\u4e5f\u5c31\u662f\u5bf9\u5176\u8fdb\u884c\u7f16\u7801\u3002 \u5b57\u7b26\u4e32\u88ab\u5f53\u4f5curl\u63d0\u4ea4\u65f6\u4f1a\u88ab\u81ea\u52a8\u8fdb\u884curl\u7f16\u7801\u5904\u7406\uff0c\u5728python\u91cc\u4e5f\u6709\u4e2aurllib.parse.urlencode\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u628a\u5b57\u5178\u5f62\u5f0f\u7684\u53c2\u6570\u8fdb\u884curl\u7f16\u7801\u3002\u5f53url\u5730\u5740\u542b\u6709\u4e2d\u6587\u6216\u8005\u201c/\u201d\u7684\u65f6\u5019\uff0c\u8fd9\u662f\u5c31\u9700\u8981\u7528\u505aurlencode\u4e00\u4e0b\u7f16\u7801\u8f6c\u6362\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/wf592523813/article/details/79141463/ urlencode quote quote_plus unquote \u5b9e\u4f8b from urllib.parse import urlencode, quote, unquote, quote_plus # print('\u7231\u5199\u4ee3\u7801'.encode('UTF-8')) \u548c\u4e0b\u9762\u8fdb\u884c\u5bf9\u6bd4\u533a\u522b print(quote('lucky=\u7231\u5199\u4ee3u\u7801&\u5e74/\u9f84 =18')) print(quote_plus('lucky=\u7231\u5199\u4ee3\u7801&\u5e74/\u9f84 =18')) # \u4f1a\u5bf9\u53c2\u6570\u4e2d\u7684/\u548c+\u8fd8\u6709\u7a7a\u683c\u5728\u8fdb\u884c\u5904\u7406 params = { 'lucky': '\u7231\u5199\u4ee3\u7801', '\u5e74/\u9f84 ': 18 } print(urlencode(params)) \u7ed3\u679c \u5728\u9006\u5411\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u987a\u5e8fquote\u3001quote_plus\u3001urlencode (4) JavaScript \u4e2d\u5bf9 URL \u8fdb\u884c\u7f16\u7801 \u8bf4\u660e \u5728 JavaScript \u4e2d encodeURIComponent() \u548c encodeURI() \u8fd9\u4e24\u4e2a\u5185\u7f6e\u51fd\u6570\u90fd\u53ef\u4ee5\u8fdb\u884c URL \u7f16\u7801\uff0c\u4f1a\u628a URL \u4e2d\u7684\u4fdd\u7559\u5b57\u7b26\u66ff\u6362\u4e3a\u5b83\u4eec\u7684 UTF-8 \u7f16\u7801\u540e\u7684\u5b57\u7b26\u3002 encodeURIComponent \u662f JavaScript \u4e2d\u7684\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9 URI\uff08Uniform Resource Identifier\uff09\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\u8fdb\u884c\u7f16\u7801\uff0c\u4f7f\u5176\u53ef\u4ee5\u5b89\u5168\u5730\u7528\u4f5c URL \u7684\u4e00\u90e8\u5206\u3002 ```javascript let originalString = \"Hello, World!\"; let encodedString = encodeURIComponent(originalString); console.log(encodedString); // \"Hello%2C%20World%21\" ``` decodeURIComponent \u4e8e\u89e3\u7801\u7531 encodeURIComponent \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u3002 javascript let decodedString = decodeURIComponent(\"Hello%2C%20World%21\"); console.log(decodedString); // \"Hello, World!\" encodeURI() \u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u8fdb\u884c URL\u7f16\u7801\u5f88\u5bb9\u6613\uff0c\u53ea\u9700\u8981\u8c03\u7528 encodeURI\uff0c\u4f20\u5165\u8981\u7f16\u7801\u7684\u5b57\u7b26\u4e32\u5373\u53ef\u3002\u6b64\u51fd\u6570\u4f1a\u8fd4\u56de\u7f16\u7801\u540e\u7684 URL\u3002 ```javascript let originalString = \"Hello, World!\"; let encodedString = encodeURI(originalString); console.log(encodedString); // Hello,%20World! ``` decodeURI() \u6b64\u51fd\u6570\u4f1a\u8fdb\u884c\u89e3\u7801\uff0c\u8c03\u7528 decodeURI \u51fd\u6570\uff0c\u4f20\u5165\u8981\u4e0a\u8ff0\u7f16\u7801\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5b83\u4f1a\u8fd4\u56de\u89e3\u7801\u540e\u7684\u6b63\u5e38\u7684\u5b57\u7b26\u4e32\u3002 ```javascript let originalString = \"Hello,%20World!\"; let encodedString = decodeURI(originalString); console.log(encodedString); // Hello, World! ``` unescape \u662f JavaScript \u4e2d\u7684\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9\u7ecf\u8fc7 escape \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u89e3\u7801\u3002\u8fd9\u4e24\u4e2a\u51fd\u6570\u5728\u8fc7\u53bb\u7528\u4e8e URI \u7f16\u7801\u548c\u89e3\u7801\uff0c\u4f46\u73b0\u5728\u5df2\u7ecf\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u800c\u662f\u5efa\u8bae\u4f7f\u7528 encodeURIComponent \u548c decodeURIComponent \u3002 ```javascript let encodedString = \"Hello%2C%20World%21\"; let decodedString = unescape(encodedString); console.log(decodedString); // \"Hello, World!\" ``` escape \u662f JavaScript \u4e2d\u7684\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u7f16\u7801\uff0c\u5c06\u5b57\u7b26\u4e32\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684 ASCII \u7f16\u7801\u5f62\u5f0f\u3002\u8fd9\u4e2a\u51fd\u6570\u5728\u8fc7\u53bb\u88ab\u7528\u4e8e URI \u7f16\u7801\uff0c\u4f46\u5728\u73b0\u4ee3 JavaScript \u4e2d\uff0c encodeURIComponent \u66f4\u5e38\u7528\uff0c\u56e0\u4e3a\u5b83\u63d0\u4f9b\u4e86\u66f4\u5b8c\u5584\u548c\u5b89\u5168\u7684\u7f16\u7801\u3002 ```javascript let originalString = \"Hello, World!\"; let encodedString = escape(originalString); console.log(encodedString); // \"Hello%2C%20World%21\" ``` \u4e09\u3001Base64 (1) Base64\u7f16\u7801\u8bf4\u660e Base64\u662f\u4e00\u79cd\u5e38\u7528\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5b83\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3a\u53ef\u6253\u5370\u7684ASCII\u5b57\u7b26\u3002\u5b83\u7684\u540d\u79f0\"Base64\"\u6e90\u81ea\u4e8e\u8be5\u7f16\u7801\u4f7f\u7528\u4e8664\u4e2a\u4e0d\u540c\u7684\u5b57\u7b26\u3002 Base64\u7f16\u7801\u7684\u539f\u7406\u662f\u5c06\u8f93\u5165\u7684\u6570\u636e\u6309\u7167\u6bcf6\u4f4d\u5212\u5206\u4e00\u7ec4\uff0c\u5bf9\u6bcf\u7ec4\u8fdb\u884c\u7f16\u7801\u8f6c\u6362\u3002\u6bcf\u7ec46\u4f4d\u4e8c\u8fdb\u5236\u6570\u53ef\u4ee5\u8868\u793a64\u79cd\u4e0d\u540c\u7684\u503c\uff0c\u56e0\u6b64\u9009\u62e9\u4e8664\u4e2a\u53ef\u6253\u5370\u5b57\u7b26\u4f5c\u4e3a\u7f16\u7801\u8868\u3002\u5e38\u89c1\u7684Base64\u7f16\u7801\u8868\u7531\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e24\u4e2a\u7279\u6b8a\u7b26\u53f7\u7ec4\u6210\uff08\u901a\u5e38\u662fA-Z\u3001a-z\u30010-9\u3001+\u548c/\uff09\uff0c\u5176\u4e2d\u8fd8\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u586b\u5145\u5b57\u7b26\"=\"\u3002 Base64\u7f16\u7801\u7684\u5e94\u7528\u5e7f\u6cdb\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u6570\u636e\u4f20\u8f93\uff1a\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\u4e8c\u8fdb\u5236\u6570\u636e\u65f6\uff0c\u7531\u4e8e\u67d0\u4e9b\u5b57\u7b26\u53ef\u80fd\u4e0e\u534f\u8bae\u6216\u7cfb\u7edf\u4fdd\u7559\u5b57\u7b26\u51b2\u7a81\uff0c\u56e0\u6b64\u9700\u8981\u5148\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3aBase64\u7f16\u7801\u5f62\u5f0f\uff0c\u518d\u8fdb\u884c\u4f20\u8f93\u3002\u63a5\u6536\u65b9\u6536\u5230\u540e\u89e3\u7801\u8fd8\u539f\u4e3a\u539f\u59cb\u4e8c\u8fdb\u5236\u6570\u636e\u3002 \u6570\u636e\u5b58\u50a8\uff1a\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u9700\u8981\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u4ee5\u6587\u672c\u5f62\u5f0f\u5b58\u50a8\uff0c\u4f8b\u5982\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u56fe\u7247\u3001\u97f3\u9891\u7b49\u6587\u4ef6\u3002\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528Base64\u7f16\u7801\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3a\u6587\u672c\u5f62\u5f0f\u5b58\u50a8\uff0c\u4fbf\u4e8e\u8bfb\u53d6\u548c\u5904\u7406\u3002 \u52a0\u5bc6\u7b97\u6cd5\uff1a\u5728\u4e00\u4e9b\u52a0\u5bc6\u7b97\u6cd5\u4e2d\uff0cBase64\u7f16\u7801\u4e5f\u88ab\u7528\u4e8e\u7f16\u7801\u6563\u5217\u503c\u3001\u5bc6\u94a5\u7b49\u4fe1\u606f\uff0c\u4fbf\u4e8e\u4f20\u8f93\u548c\u5904\u7406\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cBase64\u7f16\u7801\u4f1a\u5c06\u539f\u59cb\u6570\u636e\u6269\u5927\u7ea633%\u3002\u7531\u4e8e\u5b83\u53ea\u662f\u4e00\u79cd\u7f16\u7801\u65b9\u5f0f\uff0c\u800c\u4e0d\u662f\u52a0\u5bc6\u7b97\u6cd5\uff0c\u56e0\u6b64\u5e76\u4e0d\u80fd\u63d0\u4f9b\u6570\u636e\u7684\u5b89\u5168\u6027\u3002\u53e6\u5916\uff0cBase64\u7f16\u7801\u540e\u7684\u6570\u636e\u957f\u5ea6\u53ef\u80fd\u4e0d\u662f4\u7684\u500d\u6570\uff0c\u9700\u8981\u4f7f\u7528\u586b\u5145\u5b57\u7b26\"=\"\u6765\u8865\u9f50\u3002 (2) Base64\u7f16\u7801\u539f\u7406 Base64\u7f16\u7801\u4e4b\u6240\u4ee5\u79f0\u4e3aBase64\uff0c\u662f\u56e0\u4e3a\u5176\u4f7f\u752864\u4e2a\u5b57\u7b26\u6765\u5bf9\u4efb\u610f\u6570\u636e\u8fdb\u884c\u7f16\u7801\uff0c\u540c\u7406\u6709Base32\u3001Base16\u7f16\u7801\u3002\u6807\u51c6Base64\u7f16\u7801\u4f7f\u7528\u768464\u4e2a\u5b57\u7b26\u4e3a\uff1a Base64\u7f16\u7801\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6210\u6587\u672c\u6570\u636e\u7684\u65b9\u6848\u3002\u5bf9\u4e8e\u975e\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u662f\u5148\u5c06\u5176\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff0c\u7136\u540e\u6bcf\u8fde\u7eed6\u6bd4\u7279\uff082\u76846\u6b21\u65b9=64\uff09\u8ba1\u7b97\u5176\u5341\u8fdb\u5236\u503c\uff0c\u6839\u636e\u8be5\u503c\u5728\u4e0a\u9762\u7684\u7d22\u5f15\u8868\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u5b57\u7b26\uff0c\u6700\u7ec8\u5f97\u5230\u4e00\u4e2a\u6587\u672c\u5b57\u7b26\u4e32\u3002 \u5047\u8bbe\u6211\u4eec\u8981\u5bf9 Hello! \u8fdb\u884cBase64\u7f16\u7801\uff0c\u6309\u7167ASCII\u8868\uff0c\u5176\u8f6c\u6362\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u53ef\u77e5 Hello! \u7684Base64\u7f16\u7801\u7ed3\u679c\u4e3a SGVsbG8h\uff0c \u6bcf3\u4e2a\u539f\u59cb\u5b57\u7b26\u7ecfBase64\u7f16\u7801\u62104\u4e2a\u5b57\u7b26\u3002 \u90a3\u4e48\uff0c\u5f53\u539f\u59cb\u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u80fd\u88ab3\u6574\u9664\u65f6\uff0c\u600e\u4e48\u529e\u5462\uff1f \u4ee5 Hello!! \u4e3a\u4f8b\uff0c\u5176\u8f6c\u6362\u8fc7\u7a0b\u4e3a\uff1a Hello!! Base64\u7f16\u7801\u7684\u7ed3\u679c\u4e3a SGVsbG8hIQAA\u3002\u53ef\u89c1\uff0c\u4e0d\u80fd\u88ab3\u6574\u9664\u65f6\u4f1a\u91c7\u7528\u6765\u6765\u88650\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u7f16\u7801\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u6807\u51c6Base64\u7f16\u7801\u901a\u5e38\u7528 = \u5b57\u7b26\u6765\u66ff\u6362\u6700\u540e\u7684 A\uff0c\u5373\u7f16\u7801\u7ed3\u679c\u4e3a SGVsbG8hIQ==\u3002\u56e0\u4e3a = \u5b57\u7b26\u5e76\u4e0d\u5728Base64\u7f16\u7801\u7d22\u5f15\u8868\u4e2d\uff0c\u5176\u610f\u4e49\u5728\u4e8e\u7ed3\u675f\u7b26\u53f7\uff0c\u5728Base64\u89e3\u7801\u65f6\u9047\u5230 = \u65f6\u5373\u53ef\u77e5\u9053\u4e00\u4e2aBase64\u7f16\u7801\u5b57\u7b26\u4e32\u7ed3\u675f\u3002 (3) \u7f16\u7801\u4e0e\u89e3\u7801 \u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684base64\u6a21\u5757\u6765\u8fdb\u884cBase64\u7f16\u7801\u548c\u89e3\u7801\u3002\u4e0b\u9762\u662f\u4f7f\u7528Base64\u7684\u57fa\u672c\u793a\u4f8b\uff1a \u5bfc\u5165base64\u6a21\u5757\uff1a python import base64 \u7f16\u7801\uff1a \u4f7f\u7528 base64.b64encode() \u51fd\u6570\u8fdb\u884c\u7f16\u7801\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u5b57\u8282\u4e32\uff08bytes\uff09\u4f5c\u4e3a\u8f93\u5165\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2aBase64\u7f16\u7801\u540e\u7684\u5b57\u8282\u4e32\u3002 python # \u8f93\u5165\u8981\u7f16\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u5b57\u7b26\u4e32\u4e3a\u4f8b data = \"Hello, World!\" # \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u4e32 byte_data = data.encode('utf-8') # \u8fdb\u884cBase64\u7f16\u7801 encoded_data = base64.b64encode(byte_data).decode() # \u8f93\u51fa\u7f16\u7801\u540e\u7684\u7ed3\u679c print(encoded_data) \u89e3\u7801\uff1a \u4f7f\u7528 base64.b64decode() \u51fd\u6570\u8fdb\u884c\u89e3\u7801\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2aBase64\u7f16\u7801\u540e\u7684\u5b57\u8282\u4e32\u4f5c\u4e3a\u8f93\u5165\uff0c\u5e76\u8fd4\u56de\u89e3\u7801\u540e\u7684\u5b57\u8282\u4e32\u3002 python # \u8f93\u5165\u8981\u89e3\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u7f16\u7801\u540e\u7684\u7ed3\u679c\u4e3a\u4f8b encoded_data = 'SGVsbG8sIFdvcmxkIQ==' # \u8fdb\u884cBase64\u89e3\u7801 decoded_data = base64.b64decode(encoded_data) # \u5c06\u5b57\u8282\u4e32\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 result = decoded_data.decode() # \u8f93\u51fa\u89e3\u7801\u540e\u7684\u7ed3\u679c print(result) \u4ee5\u4e0a\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528Python\u7684base64\u6a21\u5757\u8fdb\u884cBase64\u7f16\u7801\u548c\u89e3\u7801\u64cd\u4f5c\u3002\u6839\u636e\u5177\u4f53\u9700\u6c42\uff0c\u53ef\u4ee5\u7075\u6d3b\u4f7f\u7528\u76f8\u5173\u51fd\u6570\u5bf9\u6570\u636e\u8fdb\u884c\u7f16\u7801\u548c\u89e3\u7801\u5904\u7406\u3002 (4) \u81ea\u5236\u89e3\u7801(\u4e86\u89e3) # \u6765\u5bf9\u6570\u636e\u8fdb\u884c\u7f16\u7801\u5f9764\u4e2a\u4efb\u610f\u5b57\u7b26 Base64Str = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/' # \u7f16\u7801\u540e\u7684base64\u7684\u503c encoded_data = 'SGVsbG8h' binary_system = '' # \u5b58\u50a8\u6700\u7ec8\u62fc\u63a5\u540e\u7684\u4e8c\u8fdb\u5236\u7684\u503c for i in encoded_data: # \u67e5\u627e\u5f53\u524d\u503c\u5728\u5b57\u7b26\u4e2d\u51fa\u73b0\u7684\u4f4d\u7f6e\u5e76\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236 \u5e76\u66ff\u6362\u6389\u7b26\u53f70b r = str(bin(Base64Str.index(i))).replace('0b', '') # \u56e0\u4e3a\u5f53\u524d\u5341\u8fdb\u5236\u662f\u75316\u4f4d\u7684\u4e8c\u8fdb\u5236\u8f6c\u6362\u800c\u6765 \u5bf9\u4e0d\u8db36\u4f4d\u7684\u4e8c\u8fdb\u5236\u75280\u6765\u8865\u5145 \u5e76\u62fc\u63a5\u5230\u4e00\u8d77 binary_system += '0'*(6-len(r))+r str = '' # \u5c06\u4e8c\u8fdb\u5236\u6309\u71678\u4f4d\u4e00\u622a\u53d6 \u622a\u53d6\u540e\u7684\u4e8c\u8fdb\u5236\u8f6c\u4e3a\u5341\u8fdb\u5236 \u5e76\u83b7\u53d6\u8f6c\u6362\u540e\u5bf9\u5e94\u7684\u503c for i in range(0, len(binary_system), 8): start = i end = i+8 v = binary_system[start:end] str += chr(int(v, base=2)) print(str) (5) urlsafe_b64decode \u8bf4\u660e \u7531\u4e8e\u6807\u51c6\u7684Base64\u7f16\u7801\u540e\u53ef\u80fd\u51fa\u73b0\u5b57\u7b26+\u548c/\uff0c\u5728URL\u4e2d\u5c31\u4e0d\u80fd\u76f4\u63a5\u4f5c\u4e3a\u53c2\u6570\uff0c\u6240\u4ee5\u53c8\u6709\u4e00\u79cd\"url safe\"\u7684base64\u7f16\u7801\uff0c\u5176\u5b9e\u5c31\u662f\u628a\u5b57\u7b26+\u548c/\u5206\u522b\u53d8\u6210-\u548c_ (URL\u4e2d\u7684+ URL\u4e2d\u7684+\u4f1a\u88ab\u6d4f\u89c8\u5668\u81ea\u52a8\u8f6c\u4e49\u6210\u4e3a\u7a7a\u683c, /\u4e3a\u5206\u9694\u7b26) Base64\u7f16\u7801\u540e\u51fa\u73b0\u7684+\u548c/\u5728Base64URL\u4f1a\u5206\u522b\u66ff\u6362\u4e3a-\u548c_ Base64\u7f16\u7801\u4e2d\u672b\u5c3e\u51fa\u73b0\u7684=\u7b26\u53f7\u7528\u4e8e\u8865\u4f4d\uff0c\u8fd9\u4e2a\u5b57\u7b26\u548cqueryString\u4e2d\u7684key=value\u952e\u503c\u5bf9\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u6240\u4ee5\u5728Base64URL\u4e2d=\u7b26\u53f7\u4f1a\u88ab\u7701\u7565\uff0c\u53bb\u6389=\u540e\u600e\u4e48\u89e3\u7801\u5462\uff1f\u56e0\u4e3aBase64\u662f\u628a3\u4e2a\u5b57\u8282\u53d8\u4e3a4\u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\uff0cBase64\u7f16\u7801\u7684\u957f\u5ea6\u6c38\u8fdc\u662f4\u7684\u500d\u6570\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u52a0\u4e0a=\u628aBase64\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u53d8\u4e3a4\u7684\u500d\u6570\uff0c\u5c31\u53ef\u4ee5\u6b63\u5e38\u89e3\u7801\u4e86\u3002 Base64\u7f16\u7801 python # \u8f93\u5165\u8981\u7f16\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u5b57\u7b26\u4e32\u4e3a\u4f8b data = \"\u6536\u62fe\" # \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u4e32 byte_data = data.encode('UTF-8') # \u8fdb\u884cBase64\u7f16\u7801 encoded_data = base64.b64encode(byte_data).decode() # \u8f93\u51fa\u7f16\u7801\u540e\u7684\u7ed3\u679c print(encoded_data) \u7ed3\u679c\uff1a 5pS25ou+ Base64URL\u7f16\u7801 python import base64 data = \"\u6536\u62fe\" # \u5f85\u7f16\u7801\u7684\u4e8c\u8fdb\u5236\u6570\u636e # Base64URL \u7f16\u7801 base64url_encoded = base64.urlsafe_b64encode(data.encode('UTF-8')).rstrip(b\"=\").decode(\"utf-8\") base64url_encoded = base64url_encoded print(\"Base64URL \u7f16\u7801\u7ed3\u679c: \", base64url_encoded) \u7ed3\u679c\uff1a 5pS25ou- \u5c06\u7f16\u7801\u540e\u7684\u52a0\u53f7\u66ff\u6362\u4e3a\u4e86- Base64URL\u89e3\u7801 python base64url_decoded = base64.urlsafe_b64decode(base64url_encoded) print(\"Base64URL \u89e3\u7801\u7ed3\u679c: \", base64url_decoded.decode('UTF-8')) Base64URL \u89e3\u7801\u7ed3\u679c: \u6536\u62fe \u5982\u679c\u5f53\u524d\u4e0d\u8db34\u7684\u500d\u6570\uff0c\u4f7f\u7528=\u8fdb\u884c\u8865\u4f4d (6) node\u4e2d\u8fdb\u884cbase64\u7f16\u7801 var Base64 = require(\"crypto-js/enc-base64\"); var CryptoJS = require(\"crypto-js\"); const encoded_data = Base64.stringify(CryptoJS.enc.Utf8.parse('lucky boy')); console.log(encoded_data) (7) \u6ce8\u610f b64\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u957f\u5ea6. \u4e00\u5b9a\u662f4\u7684\u500d\u6570. \u5982\u679c\u5728\u7f51\u9875\u4e0a\u770b\u5230\u6709\u4e9b\u5bc6\u6587\u7684b64\u957f\u5ea6\u4e0d\u662f4\u7684\u500d\u6570. \u4f1a\u62a5\u9519 \u5b9e\u4f8b # \u8f93\u5165\u8981\u89e3\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u7f16\u7801\u540e\u7684\u7ed3\u679c\u4e3a\u4f8b import base64 encoded_data = 'THVja3kgQm95IQ=' # \u8fdb\u884cBase64\u89e3\u7801 decoded_data = base64.b64decode(encoded_data) # \u5c06\u5b57\u8282\u4e32\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 result = decoded_data.decode('utf-8') \u6b64\u65f6\u8fd0\u884c\u51fa\u73b0\u4ee5\u4e0b\u95ee\u9898 \u89e3\u51b3\u601d\u8def . base64\u957f\u5ea6\u8981\u6c42. \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u662f4\u7684\u500d\u6570. \u586b\u5145\u4e00\u4e0b\u5373\u53ef import base64 s = \"THVja3kgQm95IQ=\" s += (\"=\" * (4 - len(s) % 4)) print(\"\u586b\u5145\u540e\", s) bb = base64.b64decode(s).decode(\"utf-8\") print(bb) \u586b\u5145\u540e\u8fd0\u884c\u7ed3\u679c (8) \u8865\u5145 \u8bf4\u660e \u5982\u679c\u6709\u4e9b\u7f51\u7ad9\u6309\u7167\u81ea\u5df1\u7684\u65b9\u5f0f\u5bf9\u7f16\u7801\u540e\u7684\u503c\u8fdb\u884c\u4e86\u7b26\u53f7(+/=)\u7684\u66ff\u6362\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u81ea\u5df1\u8fdb\u884c\u66ff\u6362\u4e3a\u6b63\u5e38\u7f16\u7801\u540e\u7684base64\u7684\u503c \u5b9e\u4f8b ```python import base64 s = \"Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6Jh8cIaWfLDqe22fTIyUU338TLmtutRx9thoVTDvyqjRe9c9k1kGoI1cHkCVEuYP-wpbIm0ROJO6-PveLLLs0UnHfdrEZ_xb-m7iyN6vLy1WBc_tnyKFL3cbR3NVNMuu3kLqFVl-iNZjHZHRUPZiABdcmSQwvC1ItEgcxe50pSO1onEZ6YworWuGIeVhJx1IL87ZO_kr-P2u30FTUiHlLrabyw5onmWOFK4xsjlVpuiN0oV__QC7FfhVr5C5BsxdXGjYBytECfksdak6OoZ0_3Rmuh8XKMrgnzEUfzD3sSLxk_grt1GLuRjC-vBdvectE4tUrBcBDbubFHEZwdG-Nde9PBUY4b5TFi6p4477UxIIA06TMt1lIjLrjYyomfV5QSm1WO2-I3VB78go32ELCpTVpE4DADAxkoATqAj4vOBo-Wpdni0Fbkh2DlIEaqUQNKyZext-RIY4G9Snmi8gx5e4H6iOLe5Ynk7SZ1qQ2YbsCcKrF2iZIULVWKFDeigMGTLaa4_JkVTPQa1YeTm7OJThbPV- CjG8lZNjs7xos6xAjdLPMfZeJ2QlNspNt7iAOhyh6XvLmq5yjovXyCOwb52iGcCDrTr-8 NpYB2pITmfVCKa5DtFaFndCiT0B7phq0t7-MUj5cEcVlvVZGVdUK2CfCR3mtS50o44CFm0qFpNDuFGodrbSv5aWAJRodkFObw-DA9R7RxhwxT0oxVdJOcEhlZHZmMO8sJMZDXj2gCq9gbkmyEQ0SAFh_0Mm9BB8Oo_uFHUcM72xAbovUqxyMd97fRyp66LDtR9BwUX0REruT4mC2un6LPoJhGmo5ZhIaqIy8ACNqF6YQ_TsRHxVKoCf3I1pukVFuOPIJZj_elM-ao4LqtFWL6Yfoy4ujx0I901fFPdVWyWvipw_lPbahI2LA4Uect1GkjH_V6Ok2xFVMyr5-Kimc2dk4I9Pz3LDc4pgcSSMHix7He7T0t4dovyCfUzV-8 Q3lsjYmIc5pXreW0xSZhoX-P7a0X7sRWlMQCxfKyBaPc_urpt9Nj-kK2cXoM8orh2hhfQLxrQs9WGQ971qvc4X5zsUypARDi2n2umlqIuE7odQWCfS9LZfIhmui4GJYk-GF-ewvpGpp3nWfskpJU7XvNhZTP-N3eKjwk2aY80WZG8TwVlWxz7pqTd0ahvJowMExOxEkDEJ72Y=\" s1 = s.replace(\"-\", \"+\").replace(\" \", \"/\") # \u901a\u5e38\u7684\u903b\u8f91 bs1 = base64.b64decode(s1) print(bs1) ``` (9) js\u4e2d\u7684base64 \u6ce8\u610f\uff1a \u53ea\u80fd\u5904\u7406\u57fa\u672c\u7684base64\u8fd0\u7b97 btoa \u548c atob \u662f JavaScript \u4e2d\u7528\u4e8e\u5904\u7406 Base64 \u7f16\u7801\u7684\u4e24\u4e2a\u51fd\u6570\u3002 btoa \u51fd\u6570\uff1a \u7528\u4e8e\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Base64 \u7f16\u7801\u3002 javascript let originalString = \"Hello, World!\"; let base64String = btoa(originalString); console.log(base64String); // \"SGVsbG8sIFdvcmxkIQ==\" \u6ce8\u610f\uff1a btoa \u53ef\u4ee5\u5904\u7406 ASCII \u5b57\u7b26\u4e32\uff0c\u4f46\u4e0d\u80fd\u5904\u7406\u975e ASCII \u5b57\u7b26\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u5f02\u5e38\u3002\u4e3a\u4e86\u5904\u7406\u975e ASCII \u5b57\u7b26\uff0c\u53ef\u4ee5\u5148\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u7f16\u7801\u3002 ```javascript function utf8_to_b64(str) { return btoa(unescape(encodeURIComponent(str))); } let base64StringUTF8 = utf8_to_b64(\"\u4f60\u597d\uff0c\u4e16\u754c\uff01\"); console.log(base64StringUTF8); ``` atob \u51fd\u6570\uff1a \u7528\u4e8e\u5c06 Base64 \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u89e3\u7801\u4e3a\u539f\u59cb\u5b57\u7b26\u4e32\u3002 javascript let decodedString = atob(base64StringUTF8); console.log(decodeURIComponent(escape(decodedString))); // \"\u4f60\u597d\uff0c\u4e16\u754c\uff01\" \u6ce8\u610f\uff1a atob \u89e3\u7801\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5982\u679c Base64 \u7f16\u7801\u7684\u5185\u5bb9\u4e0d\u662f\u6709\u6548\u7684 Base64 \u683c\u5f0f\uff0c\u4f1a\u8fd4\u56de DOMException \u3002 node\u73af\u5883\u4e2d node\u4ee3\u7801 npm install jsdom ```javascript const jsdom = require(\"jsdom\"); const {JSDOM} = jsdom; const dom = new JSDOM(); var window = dom.window; console.log(window.btoa(\"Hello World!\")); console.log(window.atob(\"SGVsbG8gV29ybGQh\")); ``` \u56db\u3001MD5\u52a0\u5bc6 (1) \u6982\u8ff0 MD5\uff08Message Digest 5\uff09\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u6458\u8981\u7b97\u6cd5\uff0c\u5b83\u5c06\u4efb\u610f\u957f\u5ea6\u7684\u6d88\u606f\u8f93\u5165\uff0c\u5e76\u8f93\u51fa\u4e00\u4e2a128\u4f4d\uff0816\u5b57\u8282\uff09\u7684\u6d88\u606f\u6458\u8981\u3002MD5\u7b97\u6cd5\u901a\u8fc7\u5bf9\u6d88\u606f\u8fdb\u884c\u4e00\u7cfb\u5217\u4f4d\u64cd\u4f5c\u548c\u903b\u8f91\u8fd0\u7b97\uff0c\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u56fa\u5b9a\u957f\u5ea6\u7684\u6458\u8981\u503c\u3002 \u6458\u8981\u7b97\u6cd5\uff1a \u53c8\u79f0\u54c8\u5e0c\u7b97\u6cd5\u3001\u6563\u5217\u7b97\u6cd5\u3002\u6458\u8981\u4e5f\u79f0\u54c8\u5e0c\u503c\uff0c\u8868\u793a\u8f93\u5165\u4efb\u610f\u957f\u5ea6\u7684\u6570\u636e\uff0c\u90fd\u4f1a\u8f93\u51fa\u56fa\u5b9a\u957f\u5ea6\u7684\u6570\u636e\u3002\u901a\u8fc7\u6458\u8981\u7b97\u6cd5\uff08\u6bd4\u5982MDS\u548cSHA-1\uff09\u5c31\u53ef\u4ee5\u5f97\u5230\u8be5\u54c8\u5e0c\u503c\u3002 MD5\u7b97\u6cd5\u7684\u4e3b\u8981\u7279\u70b9\u5305\u62ec\uff1a \u4e0d\u53ef\u9006\u6027\uff1aMD5\u7b97\u6cd5\u662f\u5355\u5411\u52a0\u5bc6\u7b97\u6cd5\uff0c\u65e0\u6cd5\u6839\u636e\u6458\u8981\u503c\u8fd8\u539f\u51fa\u539f\u59cb\u6d88\u606f\u5185\u5bb9\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u65e0\u6cd5\u901a\u8fc7\u6458\u8981\u503c\u53cd\u63a8\u51fa\u539f\u59cb\u6570\u636e\u3002 \u552f\u4e00\u6027\uff1a\u5bf9\u4e8e\u4e0d\u540c\u7684\u8f93\u5165\u6d88\u606f\uff0c\u5176\u751f\u6210\u7684\u6458\u8981\u503c\u901a\u5e38\u662f\u552f\u4e00\u7684\u3002\u5373\u4f7f\u8f93\u5165\u6d88\u606f\u53ea\u6709\u5fae\u5c0f\u7684\u53d8\u5316\uff0c\u751f\u6210\u7684\u6458\u8981\u503c\u4e5f\u4f1a\u6709\u8f83\u5927\u5dee\u5f02\u3002 \u56fa\u5b9a\u957f\u5ea6\uff1a\u65e0\u8bba\u8f93\u5165\u6d88\u606f\u7684\u957f\u5ea6\u5982\u4f55\uff0cMD5\u7b97\u6cd5\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684128\u4f4d\u6458\u8981\u503c\u3002 \u7136\u800c\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cMD5\u7b97\u6cd5\u5df2\u7ecf\u5b58\u5728\u4e00\u4e9b\u5b89\u5168\u6027\u95ee\u9898\u3002\u7531\u4e8e\u5176\u5f31\u78b0\u649e\u6297\u6027\u548c\u9884\u6620\u50cf\u653b\u51fb\u7b49\u95ee\u9898\uff0c\u73b0\u4eca\u4e0d\u63a8\u8350\u5c06MD5\u7528\u4e8e\u5bc6\u7801\u5b58\u50a8\u6216\u6570\u5b57\u7b7e\u540d\u7b49\u5b89\u5168\u5e94\u7528\u573a\u666f\u3002\u76f8\u5bf9\u800c\u8a00\uff0c\u66f4\u5b89\u5168\u7684\u6458\u8981\u7b97\u6cd5\u5305\u62ecSHA-256\uff08Secure Hash Algorithm 256-bit\uff09\u7b49 (2) MD5\u52a0\u5bc6\u4f7f\u7528 Python\u4e2d ```python from hashlib import md5 def md5_encrypt(text): # \u521b\u5efa\u4e00\u4e2aMD5\u5bf9\u8c61 MD5 = md5() # \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u6d41\u5e76\u8fdb\u884cMD5\u52a0\u5bc6 MD5.update(text.encode('utf-8')) # \u83b7\u53d6\u52a0\u5bc6\u540e\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a encrypted_text = MD5.hexdigest() return encrypted_text # \u8c03\u7528\u51fd\u6570\u8fdb\u884c\u52a0\u5bc6 text = 'Hello, World!' encrypted_text = md5_encrypt(text) print(encrypted_text) ``` \u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a 65a8e27d8879283831b664bd8b7f0ad4 \u3002\u8fd9\u5c31\u662f\u5c06\u5b57\u7b26\u4e32\"Hello, World!\"\u8fdb\u884cMD5\u52a0\u5bc6\u540e\u5f97\u5230\u7684\u7ed3\u679c\u3002 \u8bf7\u6ce8\u610f\uff0c\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u7684 text \u53d8\u91cf\u662f\u5f85\u52a0\u5bc6\u7684\u6587\u672c\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u4fee\u6539\u4e3a\u5176\u4ed6\u5b57\u7b26\u4e32\u3002\u53e6\u5916\uff0c md5_encrypt() \u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u52a0\u5bc6\u540e\u7684\u7ed3\u679c\u3002 node\u4e2dmd5\u52a0\u5bc6 ```javascript const CryptoJS = require('crypto-js'); const hash = CryptoJS.MD5('Hello, World!').toString(); console.log(hash); ``` (3) md5\u771f\u7684\u5b89\u5168\u5417? MD5\u52a0\u5bc6\u65e0\u6cd5\u89e3\u5bc6,\u662f\u5f88\u5b89\u5168\u7684\u3002\u5e76\u4e14\u5b9e\u9645\u60c5\u51b5\u4e5f\u662f\u5f88\u591ahttp\u8bf7\u6c42\u7528\u7684\u90fd\u662fMD5\u52a0\u5bc6\u3002\u4ece\u6280\u672f\u7684\u89d2\u5ea6\u8bb2,MD5\u771f\u7684\u5f88\u5b89\u5168,\u56e0\u4e3a\u65e0\u6cd5\u89e3\u5bc6,\u7834\u89e3MD5\u7684\u65b9\u5f0f\u53ea\u6709\u4e00\u4e2a:\u649e\u5e93 \u7406\u8bba\u4e0amd5\u52a0\u5bc6\u662f\u4e0d\u53ef\u9006\u7684,\u4f46\u662f\u4e3a\u4ec0\u4e48\u6709\u4e00\u4e9b\u7f51\u7ad9\u53ef\u4ee5\u5b9e\u73b0\u89e3\u5bc6\u5462? \u5176\u5b9emd5\u89e3\u5bc6\u5c31\u662f\u8fd9\u4e9b\u89e3\u5bc6\u7f51\u7ad9\u7684\u670d\u52a1\u5668\u4e00\u76f4\u5728\u8fdb\u884c \u968f\u673a\u7684\u52a0\u5bc6 \uff0c \u7136\u540e\u628a\u52a0\u5bc6\u7684\u5185\u5bb9\u548c\u52a0\u5bc6\u540e\u7684\u5185\u5bb9\u5b58\u5728\u6570\u636e\u5e93\u3002 \u89e3\u5bc6\u7684\u65f6\u5019\u68c0\u67e5\u6709\u6ca1\u6709\u91cd\u590d\u7684,\u6709\u91cd\u590d\u7684\u8c03\u7528\u52a0\u5bc6\u7684\u6570\u636e\u5c31\u53ef\u4ee5\u3002 \u53ea\u8981\u7a0d\u5fae\u590d\u6742\u7684\u5185\u5bb9\u662f\u6ca1\u529e\u6cd5\u89e3\u5bc6\u7684\u3002 \u5b9e\u4f8b url \u89e3\u5bc6 https://www.somd5.com \u52a0\u5bc6 https://md5jiami.bmcx.com \u52a0\u5bc6\u590d\u6742\u7684\u6587\u672c\u5728\u8fdb\u884c\u89e3\u5bc6 \u52a0\u5bc6 \uff0c\u3002+-qw\u6536\u62fe \u89e3\u5bc6 \u52a0\u5bc6\u7b80\u5355\u6587\u672c\u5728\u8fdb\u884c\u89e3\u5bc6 \u52a0\u5bc6 123456 \u89e3\u5bc6 (4) \u649e\u5e93 \u5c31\u662f\u5b83\u7f51\u7ad9\u91cc\u5b58\u50a8\u4e86\u5927\u91cf\u7684MD5\u7684\u503c. \u5c31\u50cf\u8fd9\u6837: \u800c\u9700\u8981\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019. \u53ea\u9700\u8981\u4e00\u6761select\u8bed\u53e5\u5c31\u53ef\u4ee5\u67e5\u8be2\u5230\u4e86. \u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u649e\u5e93. (5) \u89e3\u51b3\u649e\u5e93 \u907f\u514d\u649e\u5e93 : md5\u5728\u8fdb\u884c\u8ba1\u7b97\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u76d0. \u52a0\u76d0\u4e4b\u540e. \u5c31\u5f88\u96be\u649e\u5e93\u4e86. from hashlib import md5 salt = \"\u6211\u662f\u76d0.\u628a\u6211\u52a0\u8fdb\u53bb\u5c31\u6ca1\u4eba\u80fd\u7834\u89e3\u4e86\" obj = md5(salt.encode(\"utf-8\")) # \u52a0\u76d0 obj.update(\"lucky\".encode(\"utf-8\")) bs = obj.hexdigest() print(bs) (6) \u5982\u679c\u6211\u4eec\u9047\u5230\u4e86\u600e\u4e48\u529e\uff1f \u5982\u679c\u4f7f\u7528\u7684\u662f\u6ca1\u6709\u4efb\u4f55\u66f4\u6539\u7684md5 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528python\u6216\u8005js\u8fdb\u884c\u52a0\u5bc6\u5373\u53ef \u5982\u679c\u662f\u9b54\u6539\u7684\uff0c\u53ea\u80fd\u901a\u8fc7\u6263js\u4ee3\u7801\u6765\u89e3\u51b3 \u5982\u4f55\u5224\u65ad\u662f\u5426\u662f\u66f4\u6539\u540e\u7684\u52a0\u5bc6\u7b97\u6cd5 \u901a\u8fc7\u5f53\u524d\u7f51\u5740 https://1024tools.com/hash \u8fdb\u884c\u52a0\u5bc6\u5bf9\u6bd4 (7) \u5176\u5b83\u6458\u8981\u7b97\u6cd5\u7684\u4f7f\u7528 SHA-1\u7b97\u6cd5\uff1a SHA-1\uff08Secure Hash Algorithm 1\uff09\u662f\u4e00\u79cd\u8f83\u4e3a\u5e38\u89c1\u7684\u6458\u8981\u7b97\u6cd5\uff0c \u8f93\u51fa\u957f\u5ea6\u4e3a160\u4f4d\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528hashlib\u5e93\u4e2d\u7684sha1()\u51fd\u6570\u6765\u8ba1\u7b97SHA-1\u6458\u8981\u3002 ```python import hashlib message = \"Hello, World!\" sha1_hash = hashlib.sha1(message.encode()).hexdigest() print(sha1_hash) ``` SHA-256\u7b97\u6cd5\uff1a SHA-256\uff08Secure Hash Algorithm 256-bit\uff09\u662fSHA-2\u7cfb\u5217\u4e2d\u7684\u4e00\u79cd\u6458\u8981\u7b97\u6cd5\uff0c\u8f93\u51fa\u957f\u5ea6\u4e3a256\u4f4d\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528hashlib\u5e93\u4e2d\u7684sha256()\u51fd\u6570\u6765\u8ba1\u7b97SHA-256\u6458\u8981\u3002 ```python import hashlib message = \"Hello, World!\" sha256_hash = hashlib.sha256(message.encode()).hexdigest() print(sha256_hash) ``` SHA-512\u7b97\u6cd5\uff1a SHA-512\uff08Secure Hash Algorithm 512-bit\uff09\u4e5f\u662fSHA-2\u7cfb\u5217\u4e2d\u7684\u4e00\u79cd\u6458\u8981\u7b97\u6cd5\uff0c\u8f93\u51fa\u957f\u5ea6\u4e3a512\u4f4d\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528hashlib\u5e93\u4e2d\u7684sha512()\u51fd\u6570\u6765\u8ba1\u7b97SHA-512\u6458\u8981\u3002 ```python import hashlib message = \"Hello, World!\" sha512_hash = hashlib.sha512(message.encode()).hexdigest() print(sha512_hash) ``` \u4e94\u3001\u5bf9\u79f0\u52a0\u5bc6 (1) \u8bf4\u660e \u5bf9\u79f0\u52a0\u5bc6\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e5f\u88ab\u79f0\u4e3a\u79c1\u94a5\u52a0\u5bc6\u3002\u5728\u5bf9\u79f0\u52a0\u5bc6\u4e2d\uff0c\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u8fdb\u884c\u6570\u636e\u7684\u52a0\u5bc6\u548c\u89e3\u5bc6\u3002\u53d1\u9001\u65b9\u4f7f\u7528\u5bc6\u94a5\u5bf9\u8981\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\uff0c\u63a5\u6536\u65b9\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u5bf9\u63a5\u6536\u5230\u7684\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u3002 \u5bf9\u79f0\u52a0\u5bc6\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a \u5feb\u901f\uff1a\u7531\u4e8e\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u8fdb\u884c\u52a0\u5bc6\u548c\u89e3\u5bc6\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u901a\u5e38\u6267\u884c\u901f\u5ea6\u5f88\u5feb\u3002 \u7b80\u5355\uff1a\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u76f8\u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u52a0\u5bc6\u7b97\u6cd5\u6765\u8bf4\u8f83\u4e3a\u7b80\u5355\uff0c\u5b9e\u73b0\u8d77\u6765\u6bd4\u8f83\u5bb9\u6613\u3002 \u5b89\u5168\u6027\u4f9d\u8d56\u4e8e\u5bc6\u94a5\u4fdd\u7ba1\uff1a\u7531\u4e8e\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u8fdb\u884c\u52a0\u5bc6\u548c\u89e3\u5bc6\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7684\u5b89\u5168\u6027\u975e\u5e38\u4f9d\u8d56\u4e8e\u5bc6\u94a5\u7684\u4fdd\u7ba1\u3002\u5982\u679c\u5bc6\u94a5\u88ab\u6cc4\u9732\uff0c\u90a3\u4e48\u52a0\u5bc6\u6570\u636e\u5c31\u4f1a\u53d7\u5230\u5a01\u80c1\u3002 \u5e38\u89c1\u7684\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u5305\u62ecDES\uff08Data Encryption Standard\uff09\u3001AES\uff08Advanced Encryption Standard\uff09\u548cRC4\uff08Rivest Cipher 4\uff09\u3002\u8fd9\u4e9b\u7b97\u6cd5\u5df2\u7ecf\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f51\u7edc\u901a\u4fe1\u3001\u6570\u636e\u5b58\u50a8\u548c\u52a0\u5bc6\u534f\u8bae\u7b49\u9886\u57df\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027\u3002 \u6d4b\u8bd5\u7f51\u7ad9 : https://the-x.cn/cryptography/Aes.aspx (2) AES\u6a21\u5757\u5b89\u88c5 \u5b89\u88c5PyCryptodome\u5e93 python pip install pycryptodome \u5b89\u88c5\u4e0d\u4e0a\u62a5\u9519\u4e3avc++14.0 \u5347\u7ea7pip \u964d\u4f4e\u4f60\u7684python\u7248\u672c..(3.10) \u53bb\u627ehl\u6587\u4ef6 https://www.lfd.uci.edu/~gohlke/pythonlibs/ \u5982\u679c\u5b89\u88c5\u4e0a\u65e0\u6cd5\u4f7f\u7528 \u786e\u5b9a\u5f53\u524d\u4f7f\u7528\u7684\u73af\u5883\u548c\u5b89\u88c5\u7684\u662f\u540c\u4e00\u4e2a\u89e3\u91ca\u5668 \u53bbsite-packages\u4e2d\u627e\u5230crypto \u628a\u5c0f\u5199\u7684c \u6539\u4e3a \u5927\u5199\u7684C (3) AES - CBC\u6a21\u5f0f\u52a0\u5bc6\u89e3\u5bc6 \u5bfc\u5165\u5fc5\u8981\u7684\u6a21\u5757 python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad from Crypto.Random import get_random_bytes \u5b8c\u6574\u52a0\u5bc6\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad from Crypto.Random import get_random_bytes import base64 key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 plaintext = 'Lucky is a good man'.encode('UTF-8') iv = '1234567890000001'.encode('UTF-8') # iv = get_random_bytes(AES.block_size) # \u968f\u673a\u751f\u6210iv\u65b9\u6cd5 cipher = AES.new(key, AES.MODE_CBC, iv) # \u5c06\u4e00\u4e2a\u660e\u6587\uff08plaintext\uff09\u8fdb\u884c\u586b\u5145\uff08padding\uff09\u64cd\u4f5c\uff0c\u4f7f\u5176\u957f\u5ea6\u53d8\u4e3a16\u7684\u500d\u6570 # \u5f53\u524d16\u4e5f\u53ef\u4ee5\u4f7f\u7528AES.block_size\u8fdb\u884c\u66ff\u4ee3 # \u9ed8\u8ba4\u586b\u5145\u65b9\u5f0f\u4e3a pkcs7 padded_plaintext = pad(plaintext, 16) # \u4f7f\u7528cipher\u5bf9\u8c61\u5bf9padded_plaintext\u8fdb\u884c\u52a0\u5bc6\u64cd\u4f5c ciphertext = cipher.encrypt(padded_plaintext) print(\"\u52a0\u5bc6\u540e\u7684\u5bc6\u6587:\", ciphertext) # AES\u52a0\u5bc6\u540e\u7684byte\u6570\u636e\u4e0d\u80fd\u76f4\u63a5\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u6b64\u65f6\u53ef\u5c06\u5176\u52a0\u5bc6\u540e\u7684\u7ed3\u679c\u7528base64\u52a0\u5bc6\uff0c\u518d\u8f6c\u4e3a\u5b57\u7b26\u4e32\u5373\u53ef data = base64.b64encode(ciphertext) print(data.decode()) ``` \u5176\u4e2d\uff0c key \u662f\u52a0\u5bc6\u5bc6\u94a5\uff0c plaintext \u662f\u8981\u52a0\u5bc6\u7684\u660e\u6587\u3002\u51fd\u6570\u5185\u90e8\u4f7f\u7528 get_random_bytes \u51fd\u6570\u751f\u6210\u4e00\u4e2a\u968f\u673a\u7684\u521d\u59cb\u5411\u91cf\uff08IV\uff09\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2aAES\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528CBC\u6a21\u5f0f\u548c\u521d\u59cb\u5411\u91cf\u8fdb\u884c\u521d\u59cb\u5316\u3002\u63a5\u7740\uff0c\u5bf9\u660e\u6587\u8fdb\u884c\u586b\u5145\uff08\u4f7f\u7528 pad \u51fd\u6570\uff09\uff0c\u5e76\u4f7f\u7528AES\u5bf9\u8c61\u7684 encrypt \u65b9\u6cd5\u8fdb\u884c\u52a0\u5bc6\u3002\u6700\u540e\uff0c\u8fd4\u56de\u7531\u521d\u59cb\u5411\u91cf\u548c\u5bc6\u6587\u7ec4\u6210\u7684\u7ed3\u679c\u3002 \u5176\u4e2dkey\u7684\u957f\u5ea6\uff0ckey\u3001iv\u7684\u957f\u5ea6\u4e3a16\u300124\u300132\u3002\u52a0\u5bc6\u65b9\u5f0f\u5bf9\u5e94\u4e3a 16: AES-128 24: AES-192 32: AES-256 \u521d\u59cb\u5411\u91cfIV \uff1a\u521d\u59cb\u5411\u91cfIV\u7684\u4f5c\u7528\u662f\u4f7f\u52a0\u5bc6\u66f4\u52a0\u5b89\u5168\u53ef\u9760\uff0c\u6211\u4eec\u4f7f\u7528AES\u52a0\u5bc6\u65f6\u9700\u8981\u4e3b\u52a8\u63d0\u4f9b\u521d\u59cb\u5411\u91cf\uff0c\u800c\u4e14\u53ea\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u521d\u59cb\u5411\u91cf\u5c31\u591f\u4e86\uff0c\u540e\u9762\u6bcf\u6bb5\u6570\u636e\u7684\u52a0\u5bc6\u5411\u91cf\u90fd\u662f\u524d\u9762\u4e00\u6bb5\u7684\u5bc6\u6587 \u5bc6\u94a5 \uff1aAES\u8981\u6c42\u5bc6\u94a5\u7684\u957f\u5ea6\u53ef\u4ee5\u662f128\u4f4d16\u4e2a\u5b57\u8282\u3001192\u4f4d\u6216\u8005256\u4f4d\uff0c\u4f4d\u6570\u8d8a\u9ad8\uff0c\u52a0\u5bc6\u5f3a\u5ea6\u81ea\u7136\u8d8a\u5927\uff0c\u4f46\u662f\u52a0\u5bc6\u7684\u6548\u7387\u81ea\u7136\u4f1a\u4f4e\u4e00\u4e9b\uff0c\u56e0\u6b64\u8981\u505a\u597d\u8861\u91cf\u3002\u6211\u4eec\u5f00\u53d1\u901a\u5e38\u91c7\u7528128\u4f4d16\u4e2a\u5b57\u8282\u7684\u5bc6\u94a5\uff0c\u6211\u4eec\u4f7f\u7528AES\u52a0\u5bc6\u65f6\u9700\u8981\u4e3b\u52a8\u63d0\u4f9b\u5bc6\u94a5\uff0c\u800c\u4e14\u53ea\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u5bc6\u94a5\u5c31\u591f\u4e86\uff0c\u6bcf\u6bb5\u6570\u636e\u52a0\u5bc6\u4f7f\u7528\u7684\u90fd\u662f\u8fd9\u4e00\u4e2a\u5bc6\u94a5\uff0c\u5bc6\u94a5\u6765\u6e90\u4e3a\u968f\u673a\u751f\u6210\u3002 \u52a0\u5bc6\u56fe\u793a\uff08\u9700\u8981IV\uff09 \u5b8c\u6574\u89e3\u5bc6\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 iv = '1234567890000001'.encode('UTF-8') # \u52a0\u5bc6\u6570\u636e ciphertext = b'\\n\\x00{\\x8e\\xde\\xef\\x02\\x81j\\x0f\\x11\\x0fN\\xa1\\xd8\\xb1q#\\x13X\\xf0\\x01 )\\x1d\\x88\\x08\\xf7\\x03h.\\x99' cipher = AES.new(key, AES.MODE_CBC, iv) # \u8fdb\u884c\u89e3\u5bc6 padded_plaintext = cipher.decrypt(ciphertext) # unpad\u53bb\u9664\u88ab\u586b\u5145\u7684\u6587\u672c \u586b\u5145\u4e3a16\u7684\u500d\u6570 plaintext = unpad(padded_plaintext, 16) print(\"\u89e3\u5bc6\u540e\u7684\u660e\u6587:\", plaintext) ``` \u8fd9\u91cc\u7684\u53c2\u6570\u548c\u6b65\u9aa4\u4e0e\u52a0\u5bc6\u51fd\u6570\u76f8\u4f3c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u6211\u4eec\u9996\u5148\u4ece\u5bc6\u6587\u4e2d\u83b7\u53d6\u521d\u59cb\u5411\u91cf\uff08IV\uff09\uff0c\u7136\u540e\u4f7f\u7528AES\u5bf9\u8c61\u7684 decrypt \u65b9\u6cd5\u6765\u89e3\u5bc6\u5269\u4f59\u90e8\u5206\u7684\u5bc6\u6587\uff0c\u5e76\u5728\u89e3\u5bc6\u540e\u4f7f\u7528 unpad \u51fd\u6570\u53bb\u9664\u586b\u5145\uff0c\u5f97\u5230\u660e\u6587\u3002 AES\u52a0\u5bc6\u7b97\u6cd5\u4e2d\uff0c\u5bf9\u4e8e\u5f85\u52a0\u5bc6\u7684\u6570\u636e\uff0c\u9700\u8981\u8fdb\u884c\u586b\u5145\u64cd\u4f5c\u4f7f\u5176\u957f\u5ea6\u4e3a16\u7684\u500d\u6570\u3002\u8fd9\u662f\u56e0\u4e3aAES\u7b97\u6cd5\u91c7\u7528\u5206\u7ec4\u5bc6\u7801\u7684\u65b9\u5f0f\u8fdb\u884c\u52a0\u5bc6\uff0c\u6bcf\u4e2a\u5206\u7ec4\u7684\u957f\u5ea6\u56fa\u5b9a\u4e3a128\u4f4d\uff0816\u5b57\u8282\uff09\u3002\u5982\u679c\u5f85\u52a0\u5bc6\u7684\u6570\u636e\u957f\u5ea6\u4e0d\u662f16\u7684\u6574\u6570\u500d\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u586b\u5145\u64cd\u4f5c\u3002 (4) AES - ECB\u6a21\u5f0f\u52a0\u5bc6\u89e3\u5bc6 \u52a0\u5bc6\u56fe\u793a\uff08\u4e0d\u9700\u8981IV\uff09 \u5bfc\u5165\u6240\u9700\u7684\u6a21\u5757 python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad \u52a0\u5bc6\u5b8c\u6574\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad import base64 key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 plaintext = 'Lucky is a good man'.encode('UTF-8') print(AES.block_size) cipher = AES.new(key, AES.MODE_ECB) # \u9ed8\u8ba4\u586b\u5145\u65b9\u5f0f\u4e3a pkcs7 padded_plaintext = pad(plaintext, AES.block_size) ciphertext = cipher.encrypt(padded_plaintext) print(\"\u52a0\u5bc6\u540e\u7684\u5bc6\u6587:\", ciphertext) # \u53d8\u4e3a\u5b57\u7b26 ciphertext = base64.b64encode(ciphertext).decode() print(\"\u52a0\u5bc6\u540e\u7684\u5bc6\u6587:\", ciphertext) ``` \u5176\u4e2d\uff0c key \u662f\u52a0\u5bc6\u5bc6\u94a5\uff0c plaintext \u662f\u8981\u52a0\u5bc6\u7684\u660e\u6587\u3002\u51fd\u6570\u5185\u90e8\u521b\u5efa\u4e86\u4e00\u4e2aAES\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528ECB\u6a21\u5f0f\u8fdb\u884c\u521d\u59cb\u5316\u3002\u7136\u540e\uff0c\u5bf9\u660e\u6587\u8fdb\u884c\u586b\u5145\uff08\u4f7f\u7528 pad \u51fd\u6570\uff09\uff0c\u5e76\u4f7f\u7528AES\u5bf9\u8c61\u7684 encrypt \u65b9\u6cd5\u8fdb\u884c\u52a0\u5bc6\u3002\u6700\u540e\uff0c\u8fd4\u56de\u5bc6\u6587\u3002 \u89e3\u5bc6\u5b8c\u6574\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 # \u52a0\u5bc6\u6570\u636e ciphertext = b'\\x02=H*\\x9d\\x90\\xb1\\xc7\\xa0(rf4[CX\\x92\\xd4h%\\x0f,\\x9f\\x17\\x1b\\xd1\\xfeG\\xe5PJc' cipher = AES.new(key, AES.MODE_ECB) # \u8fdb\u884c\u89e3\u5bc6 padded_plaintext = cipher.decrypt(ciphertext) # unpad\u53bb\u9664\u88ab\u586b\u5145\u7684\u6587\u672c plaintext = unpad(padded_plaintext, 16) print(\"\u89e3\u5bc6\u540e\u7684\u660e\u6587:\", plaintext) ``` \u8fd9\u91cc\u7684\u53c2\u6570\u548c\u6b65\u9aa4\u4e0e\u52a0\u5bc6\u51fd\u6570\u76f8\u4f3c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u6211\u4eec\u4f7f\u7528AES\u5bf9\u8c61\u7684 decrypt \u65b9\u6cd5\u6765\u89e3\u5bc6\u5bc6\u6587\uff0c\u5e76\u5728\u89e3\u5bc6\u540e\u4f7f\u7528 unpad \u51fd\u6570\u53bb\u9664\u586b\u5145\uff0c\u5f97\u5230\u660e\u6587\u3002 (5) key\u7684\u957f\u5ea6 \u957f\u5ea6\u4e3a 16: AES-128 24: AES-192 32: AES-256 \u4f7f\u7528\u573a\u666f \u901a\u8fc7URL\u4e0b\u8f7d\u5230\u7684\u79d8\u94a5 \u957f\u5ea6\u4e3a16 (6) \u5e38\u89c1\u7684AES-ECB\u3001CBC\u52a0\u5bc6\u7b97\u6cd5\u5de5\u4f5c\u6a21\u5f0f\u53ca\u5176\u4f5c\u7528 AES.MODE_ECB \u7535\u5b50\u5bc6\u7801\u672c\u6a21\u5f0f\uff08Electronic Codebook Mode\uff09 \u6700\u7b80\u5355\u7684AES\u5de5\u4f5c\u6a21\u5f0f\uff0c\u5c06\u660e\u6587\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u5757\u72ec\u7acb\u52a0\u5bc6 \u4e0d\u5efa\u8bae\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u4f7f\u7528\uff0c\u56e0\u4e3a\u5bb9\u6613\u53d7\u5230\u91cd\u653e\u653b\u51fb\u548c\u6a21\u5f0f\u91cd\u590d\u7684\u95ee\u9898 AES.MODE_CBC \u5bc6\u7801\u5206\u7ec4\u94fe\u63a5\u6a21\u5f0f\uff08Cipher Block Chaining Mode\uff09 \u4f7f\u7528\u524d\u4e00\u4e2a\u5bc6\u6587\u5757\u4e0e\u5f53\u524d\u660e\u6587\u5757\u8fdb\u884c\u5f02\u6216\u8fd0\u7b97\u540e\u518d\u52a0\u5bc6 \u6dfb\u52a0\u4e86\u521d\u59cb\u5316\u5411\u91cf\uff08IV\uff09\u4ee5\u589e\u52a0\u968f\u673a\u6027\u548c\u5b89\u5168\u6027 (7) DES \u52a0\u5bc6\u89e3\u5bc6 \u52a0\u5bc6 ```python from Crypto.Cipher import DES from Crypto.Util.Padding import pad import base64 # \u8bbe\u7f6e\u5bc6\u94a5\uff088\u5b57\u8282\uff09 key = b'abcdefgh' # \u521b\u5efaDES\u5bf9\u8c61\u5e76\u8bbe\u7f6e\u4e3a\u52a0\u5bc6\u6a21\u5f0f cipher = DES.new(key, DES.MODE_ECB) # \u8981\u52a0\u5bc6\u7684\u6570\u636e\uff08\u5fc5\u987b\u662f8\u5b57\u8282\u7684\u6574\u6570\u500d\uff09 data = 'lucky is a good man'.encode('UTF-8') # \u8fdb\u884c\u586b\u5145\u4e3a8\u5b57\u8282\u7684\u6574\u6570\u500d padded_plaintext = pad(data, DES.block_size) # \u52a0\u5bc6\u6570\u636e encrypted_data = cipher.encrypt(padded_plaintext) print('\u52a0\u5bc6\u540e\u7684\u6570\u636e\uff1a', encrypted_data) # \u4f7f\u7528base64\u8f6c\u6362\u4e3a\u5b57\u7b26 data = base64.b64encode(encrypted_data).decode() print('\u52a0\u5bc6\u540e\u7684\u6570\u636e\uff1a', data) ``` \u89e3\u5bc6 ```python from Crypto.Cipher import DES from Crypto.Util.Padding import pad, unpad encrypted_data = b'\\xe8 \\xdd\\xb5\\x94\\xb6\\x8d\\xb0\\xc5\\xd8\\xbf~\\xd9\\xde\\x8a\\xfc\\xe6\\x06\\xe8\\x85K\\xe1f+' # \u8bbe\u7f6e\u5bc6\u94a5\uff088\u5b57\u8282\uff09 key = b'abcdefgh' # \u521b\u5efa\u65b0\u7684DES\u5bf9\u8c61\u5e76\u8bbe\u7f6e\u4e3a\u89e3\u5bc6\u6a21\u5f0f cipher_decrypt = DES.new(key, DES.MODE_ECB) # \u89e3\u5bc6\u6570\u636e decrypted_data = cipher_decrypt.decrypt(encrypted_data) # \u53bb\u9664\u586b\u5145\u4e3a8\u5b57\u8282\u7684\u6574\u6570\u500d padded_plaintext = unpad(decrypted_data, DES.block_size) print('\u89e3\u5bc6\u540e\u7684\u6570\u636e\uff1a', padded_plaintext.decode()) ``` \u516d\u3001\u975e\u5bf9\u79f0\u52a0\u5bc6 (1) \u6982\u8ff0 \u975e\u5bf9\u79f0\u52a0\u5bc6\uff0c\u4e5f\u79f0\u4e3a\u516c\u94a5\u52a0\u5bc6\uff0c\u662f\u4e00\u79cd\u52a0\u5bc6\u7b97\u6cd5\u7684\u7c7b\u578b\u3002\u4e0e\u5bf9\u79f0\u52a0\u5bc6\u4e0d\u540c\uff0c\u975e\u5bf9\u79f0\u52a0\u5bc6\u4f7f\u7528\u4e24\u4e2a\u4e0d\u540c\u4f46\u76f8\u5173\u7684\u5bc6\u94a5\uff0c\u5206\u522b\u79f0\u4e3a\u516c\u94a5\u548c\u79c1\u94a5\u3002 \u5728\u975e\u5bf9\u79f0\u52a0\u5bc6\u4e2d\uff0c\u516c\u94a5\u7528\u4e8e\u52a0\u5bc6\u6570\u636e\uff0c\u800c\u79c1\u94a5\u7528\u4e8e\u89e3\u5bc6\u6570\u636e\u3002\u516c\u94a5\u53ef\u4ee5\u516c\u5f00\u7ed9\u4efb\u4f55\u4eba\uff0c\u800c\u79c1\u94a5\u5219\u5fc5\u987b\u4fdd\u5bc6\u3002\u5f53\u53d1\u9001\u65b9\u4f7f\u7528\u63a5\u6536\u65b9\u7684\u516c\u94a5\u6765\u52a0\u5bc6\u6570\u636e\u65f6\uff0c\u53ea\u6709\u62e5\u6709\u76f8\u5e94\u79c1\u94a5\u7684\u63a5\u6536\u65b9\u624d\u80fd\u89e3\u5bc6\u5e76\u8bfb\u53d6\u6570\u636e\u3002 \u8fd9\u79cd\u52a0\u5bc6\u65b9\u6cd5\u5177\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u5b89\u5168\u6027\uff0c\u56e0\u4e3a\u79c1\u94a5\u4ec5\u7531\u63a5\u6536\u65b9\u6301\u6709\uff0c\u5176\u4ed6\u4eba\u65e0\u6cd5\u89e3\u5bc6\u6570\u636e\u3002 \u5141\u8bb8\u5b89\u5168\u5730\u5728\u4e0d\u5b89\u5168\u7684\u901a\u4fe1\u6e20\u9053\u4e0a\u4ea4\u6362\u516c\u94a5\u3002 \u53ef\u4ee5\u7528\u4e8e\u6570\u5b57\u7b7e\u540d\uff0c\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u8eab\u4efd\u8ba4\u8bc1\u3002 \u7136\u800c\uff0c\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u8fd0\u7b97\u901f\u5ea6\u6bd4\u5bf9\u79f0\u52a0\u5bc6\u6162\uff0c\u5e76\u4e14\u5728\u5904\u7406\u5927\u91cf\u6570\u636e\u65f6\u53ef\u80fd\u4f1a\u53d7\u5230\u6027\u80fd\u5f71\u54cd\u3002\u56e0\u6b64\uff0c\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u901a\u5e38\u4f1a\u5c06\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u975e\u5bf9\u79f0\u52a0\u5bc6\u7ed3\u5408\u4f7f\u7528\uff0c\u4ee5\u517c\u987e\u6548\u7387\u548c\u5b89\u5168\u6027\u3002 \u5e38\u89c1\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5: RSA, DSA\u7b49\u7b49, \u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a. RSA\u52a0\u5bc6, \u4e5f\u662f\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848 (2) \u521b\u5efa\u516c\u94a5\u548c\u79c1\u94a5 from Crypto.PublicKey import RSA # \u751f\u6210\u79d8\u94a5 rsakey = RSA.generate(2048)p # \u751f\u6210\u516c\u94a5 public_key = rsakey.publickey().exportKey() with open(\"rsa.public.pem\", mode=\"wb\") as f: f.write(public_key) # \u751f\u6210\u79c1\u94a5 private_key = rsakey.exportKey() with open(\"rsa.private.pem\", mode=\"wb\") as f: f.write(private_key) \u5bc6\u94a5\u957f\u5ea6\u6216RSA\u7684\u5927\u5c0f\uff08\u4ee5\u4f4d\u4e3a\u5355\u4f4d\uff09\u3002\u5b83\u5fc5\u987b\u81f3\u5c11\u4e3a1024\uff0c\u4f46\u5efa\u8bae\u4f7f\u7528 2048 \u6ce8\u610f\uff1a \u4ee5\u540e\u518d\u4ee3\u7801\u4e2d\u770b\u523065537\u6216\u800510001 \u90a3\u4e48\u90fd\u4e3arsa\u52a0\u5bc6 \u516c\u94a5\u6307\u6570\u662f\u53ef\u4ee5\u968f\u610f\u9009\u53d6\u7684\uff0c\u4f46\u662f\u4e3a\u4e86\u63d0\u9ad8RSA\u7684\u52a0\u5bc6\u901f\u5ea6\u5b9e\u9645\u4f7f\u7528\u4e2d\u516c\u94a5\u6307\u6570\u6700\u957f\u7528\u7684\u4e09\u4e2a\u503c\u662f3\u300117\u300165537 (3) RSA\u52a0\u5bc6 import base64 from Crypto.Cipher import PKCS1_v1_5 from Crypto.PublicKey import RSA # \u83b7\u53d6\u516c\u94a5 with open(\"rsa.public.pem\", mode=\"r\") as f: public_key = f.read()f # \u5bfc\u5165\u4e00\u4e2aRSA\u516c\u94a5 rsa_pk = RSA.importKey(public_key) # \u521b\u5efa\u4e00\u4e2a\u4f7f\u7528RSA\u516c\u94a5\u7684\u52a0\u5bc6\u5668\u5bf9\u8c61 rsa = PKCS1_v1_5.new(rsa_pk) # \u8fdb\u884crsa\u52a0\u5bc6 data = \"lucky is a good man\" result = rsa.encrypt(data.encode(\"utf-8\")) # \u5904\u7406\u6210b64\u65b9\u4fbf\u4f20\u8f93 b64_result = base64.b64encode(result).decode(\"utf-8\") print(b64_result) (3) RSA\u89e3\u5bc6 import base64 from Crypto.Cipher import PKCS1_v1_5 from Crypto.PublicKey import RSA # \u52a0\u5bc6\u7684RSA base64\u6570\u636e data = \"e9mlJn6+0veGo1SSj7J8MWthA9TsAY9iJWAykBWlvYBYzWfdXjZc9aEOFPNk7U/FGJEfwqpsowtKTcAlpyBh44vrfkCXmzWz1mHek2UozRYIdB8c+hBv30UvlQ9bT3ja/2Mz/OstDBeo0G4R821mNPYxwbr39n7sdZmETzf5o8w/9NFLSVEYFCy9rfSEnCTPwlyVEqJKsy6chPyZc04lMVJ1UxKd9Z3EfbuVj1xZoMrn8QzV/ItgQ2XWZdUoO61TWXORnnKnpZvOoChyW1pWUb9CuBkglCkkXbUKFKkgmphBHxbqXZbd3Z+1PZ9qh1qdaOrMmwhgrrdFIl2ly++KOQ==\" # \u8bfb\u53d6\u79c1\u94a5 with open(\"rsa.private.pem\", mode=\"r\") as f: priate_key = f.read() # \u5bfc\u5165\u4e00\u4e2aRSA\u79c1\u94a5 rsa_pk = RSA.importKey(priate_key) # \u521b\u5efa\u4e00\u4e2a\u4f7f\u7528RSA\u79c1\u94a5\u7684\u52a0\u5bc6\u5668\u5bf9\u8c61 rsa = PKCS1_v1_5.new(rsa_pk) # \u8fdb\u884c\u89e3\u5bc6 result = rsa.decrypt(base64.b64decode(data), None) print(result.decode(\"utf-8\")) \u4ee5\u4e0a\u4ee3\u7801\u4f7f\u7528Crypto\u5e93\u8bfb\u53d6\u4e86\u4e00\u4e2aRSA\u5bc6\u94a5\u5bf9\uff0c\u5e76\u4f7f\u7528\u79c1\u94a5\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u3002\u6700\u540e\u8f93\u51fa\u4e86\u89e3\u5bc6\u540e\u7684\u6570\u636e\u3002 (4) \u6d41\u7a0b\u56fe (5) \u6ce8\u610f \u4f7f\u7528RSA\u52a0\u5bc6\u6216\u8005\u89e3\u5bc6\u5efa\u8bae\u4f7f\u7528js \u8fdb\u884c\u5904\u7406 \u56e0\u4e3ajs\u66f4\u52a0\u7b80\u5355 \u53e6\u5916\u9700\u8981\u6ce8\u610f\u4e0b\u9762\u4e24\u79cd\u5f62\u5f0f\u7684RSA \u7f51\u6613\uff08\u65e0\u6cd5\u4f7f\u7528python\u7684crypto\u8fdb\u884c\u5904\u7406\uff09 \u4f7f\u7528\u7f51\u5740 https://ohdave.com/rsa/ \u4e2d\u5927\u7f51\u6821\uff08\u8fd9\u79cd\u548cpython\u7684\u662f\u60f3\u901a\u7684\uff09 \u5b89\u88c5\uff1anpm install node-jsencrypt \u67e5\u770b\u5df2\u5b89\u88c5\u7684\u6a21\u5757\uff1a npm ls --depth 0 \u4e03\u3001ob\u6df7\u6dc6 (1) \u6982\u8ff0 \"ob\u6df7\u6dc6\" \u662f\u6307\u5bf9\u4ee3\u7801\u8fdb\u884c\u6df7\u6dc6\uff0c\u4ee5\u589e\u52a0\u4ee3\u7801\u7684\u590d\u6742\u6027\u548c\u96be\u4ee5\u7406\u89e3\u6027\uff0c\u4ece\u800c\u589e\u52a0\u4ee3\u7801\u7684\u5b89\u5168\u6027\u548c\u9632\u6b62\u9006\u5411\u5de5\u7a0b\u3002\u901a\u8fc7ob\u6df7\u6dc6\uff0c\u4ee3\u7801\u7684\u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\u548c\u63a7\u5236\u6d41\u7a0b\u88ab\u91cd\u547d\u540d\u6216\u91cd\u7ec4\uff0c\u4f7f\u5f97\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u6666\u6da9\u548c\u96be\u4ee5\u5206\u6790\u3002\u8fd9\u6837\u53ef\u4ee5\u6709\u6548\u5730\u4fdd\u62a4\u4ee3\u7801\u7684\u77e5\u8bc6\u4ea7\u6743\u548c\u9632\u6b62\u6076\u610f\u7528\u6237\u5bf9\u4ee3\u7801\u8fdb\u884c\u9006\u5411\u5206\u6790 (2) ob\u6df7\u6dc6\u6709\u4ec0\u4e48\u7279\u70b9 \u53d8\u91cf\u548c\u51fd\u6570\u91cd\u547d\u540d\uff1aob\u6df7\u6dc6\u4f1a\u5c06\u4ee3\u7801\u4e2d\u7684\u53d8\u91cf\u548c\u51fd\u6570\u540d\u8fdb\u884c\u968f\u673a\u5316\u6216\u52a0\u5bc6\uff0c\u4f7f\u5176\u53d8\u5f97\u96be\u4ee5\u7406\u89e3\u548c\u8bc6\u522b\u3002\u8fd9\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u590d\u6742\u6027\uff0c\u4f7f\u5f97\u9006\u5411\u5de5\u7a0b\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\u3002 \u63a7\u5236\u6d41\u7a0b\u6df7\u6dc6\uff1aob\u6df7\u6dc6\u4f1a\u5bf9\u4ee3\u7801\u4e2d\u7684\u63a7\u5236\u6d41\u7a0b\u8fdb\u884c\u4fee\u6539\uff0c\u4f8b\u5982\u63d2\u5165\u65e0\u7528\u7684\u4ee3\u7801\u3001\u6539\u53d8\u5faa\u73af\u7ed3\u6784\u7b49\uff0c\u4f7f\u5f97\u4ee3\u7801\u7684\u903b\u8f91\u53d8\u5f97\u590d\u6742\u548c\u6df7\u4e71\uff0c\u589e\u52a0\u4e86\u5206\u6790\u548c\u7406\u89e3\u7684\u96be\u5ea6\u3002 \u5b57\u7b26\u4e32\u52a0\u5bc6\uff1aob\u6df7\u6dc6\u8fd8\u53ef\u4ee5\u5bf9\u4ee3\u7801\u4e2d\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u52a0\u5bc6\u6216\u7f16\u7801\uff0c\u4f7f\u5f97\u5b57\u7b26\u4e32\u5185\u5bb9\u4e0d\u53ef\u76f4\u63a5\u83b7\u53d6\uff0c\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u5b89\u5168\u6027\u3002 \u5e38\u91cf\u66ff\u6362\uff1aob\u6df7\u6dc6\u53ef\u4ee5\u5c06\u4ee3\u7801\u4e2d\u7684\u5e38\u91cf\u66ff\u6362\u4e3a\u7b49\u6548\u4f46\u96be\u4ee5\u7406\u89e3\u7684\u5f62\u5f0f\uff0c\u4f7f\u5f97\u4ee3\u7801\u7684\u542b\u4e49\u66f4\u52a0\u9690\u6666\u3002 \u53cd\u8c03\u8bd5\u548c\u53cd\u9006\u5411\u6280\u672f\uff1aob\u6df7\u6dc6\u8fd8\u53ef\u4ee5\u5e94\u7528\u53cd\u8c03\u8bd5\u548c\u53cd\u9006\u5411\u6280\u672f\uff0c\u4f8b\u5982\u68c0\u6d4b\u8c03\u8bd5\u5668\u3001\u53cd\u52a8\u6001\u5206\u6790\u7b49\uff0c\u4ee5\u9632\u6b62\u6076\u610f\u7528\u6237\u5bf9\u4ee3\u7801\u8fdb\u884c\u9006\u5411\u5de5\u7a0b\u3002 (3) \u5b9e\u4f8b \u539f\u59cb\u4ee3\u7801\u7247\u6bb5 function add(x, y) { return x + y; } console.log(add(1, 2)); \u901a\u8fc7ob\u6df7\u6dc6\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u4ee3\u7801\u8fdb\u884c\u53d8\u91cf\u548c\u51fd\u6570\u540d\u91cd\u547d\u540d\uff0c\u4ee5\u53ca\u63a7\u5236\u6d41\u7a0b\u6df7\u6dc6\u3002\u8fd9\u662f\u4e00\u4e2a\u53ef\u80fd\u7684ob\u6df7\u6dc6\u540e\u7684\u4ee3\u7801\u793a\u4f8b\uff1a function add(_0x3f3d, _0x2d3c) { return _0x3f3d + _0x2d3c; } console[_0x4a8d(\"0x0\")](_0x4a8d(\"0x1\"), add(0x1, 0x2)); (4) \u6df7\u6dc6\u6848\u4f8b \u827a\u6069 https://www.endata.com.cn/BoxOffice/BO/Year/index.html (5) ob\u8fd8\u539f \u89e3\u5bc6\u51fd\u6570 \u4e00\u4e9b function \u7684\u66ff\u6362 \u5b57\u7b26\u4e32\u76f8\u52a0\u8fd8\u539f\u3001\u4e00\u4e9b\u6570\u5b57\u8fd8\u539f \u516b\u3001js\u52a0\u5bc6 (1) MD5\u52a0\u5bc6 // node\u6807\u51c6\u5e93 let crypto = require('crypto'); function md5(e) { return crypto.createHash('md5').update(e.toString()).digest('hex'); } (2) AES\u52a0\u5bc6 let CryptoJS = require('crypto-js') // AES\u52a0\u5bc6 var AES = function(data) { var l = { key: CryptoJS.enc.Utf8.parse(\"\u5b57\u7b26\"), iv: CryptoJS.enc.Utf8.parse(\"\u5b57\u7b26\"), } return CryptoJS.AES.encrypt(data, l.key, { iv: l.iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString() } \u6ce8\u610f\uff1a let CryptoJS = require('crypto-js') // \u7528\u4e8e\u89e3\u6790 UTF-8 \u7f16\u7801\u7684\u6570\u636e console.log(CryptoJS.enc.Utf8.parse(\"fX@VyCQVvpdj8RCa\")) // \u7528\u4e8e\u89e3\u6790\u5341\u516d\u8fdb\u5236\u7f16\u7801\u7684\u6570\u636e\u3002 console.log(CryptoJS.enc.Hex.parse('66584056794351567670646a38524361')) /*\u603b\u7ed3 * CryptoJS.enc.Hex.parse * \u5c06\u5341\u516d\u8fdb\u5236\u7684\u5b57\u8282\u5904\u7406\u6210\u4e86\u4e00\u4e2a CryptoJS WordArray \u5bf9\u8c61\u3002 * * CryptoJS.enc.Utf8.parse * \u5c06UTF-8 \u7f16\u7801\u7684\u6570\u636e\u5904\u7406\u6210\u4e86\u4e00\u4e2a CryptoJS WordArray \u5bf9\u8c61 * * \u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5728 CryptoJS \u4e2d\u8fdb\u884c\u52a0\u5bc6\u3001\u89e3\u5bc6\u3001\u54c8\u5e0c\u7b49\u64cd\u4f5c\u3002 WordArray \u662f CryptoJS \u4e2d\u7528\u6765\u8868\u793a\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u7c7b\u578b\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u6570\u636e\u5904\u7406\u548c\u8f6c\u6362\u3002 * */ \u8fd0\u884c\u7ed3\u679c\uff1a \u4f7f\u7528python\u8fd8\u539f # \u5c06\u5341\u516d\u8fdb\u5236\u518d\u8f6c\u6362\u4e3a\u5b57\u7b26 import binascii s = '472424516177636b4766614c42393772' # \u5c06\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b57\u8282\u4e32 key = binascii.a2b_hex(s).decode() # print(key) # G$$QawckGfaLB97r \u4f7f\u7528js\u8fd8\u539f (3) DES\u52a0\u5bc6 var cryptoJs = require('crypto-js') function _(data) { var e = cryptoJs.enc.Utf8.parse(\"1qaz@wsx3e\") , i = cryptoJs.DES.decrypt({ ciphertext: cryptoJs.enc.Base64.parse(data) }, e, { mode: cryptoJs.mode.ECB, padding: cryptoJs.pad.Pkcs7 }); return i.toString(cryptoJs.enc.Utf8) } (4) RSA \u52a0\u5bc6 var JSEncrypt = require('node-jsencrypt') function rsa_encrypt(e) { var o = new JSEncrypt; return o.setPublicKey(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDA5Zq6ZdH/RMSvC8WKhp5gj6Ue4Lqjo0Q2PnyGbSkTlYku0HtVzbh3S9F9oHbxeO55E8tEEQ5wj/+52VMLavcuwkDypG66N6c1z0Fo2HgxV3e0tqt1wyNtmbwg7ruIYmFM+dErIpTiLRDvOy+0vgPcBVDfSUHwUSgUtIkyC47UNQIDAQAB\"), o.encrypt(e) } (5) Sha1\u52a0\u5bc6 // node\u6807\u51c6\u5e93 let crypto = require('crypto'); function do_sha1(e) { return crypto.createHash('Sha1').update(e.toString()).digest('hex'); } (6) Base64 \u7b80\u4ecb\uff1aBase64 \u662f\u4e00\u79cd\u7528 64 \u4e2a\u5b57\u7b26\u6765\u8868\u793a\u4efb\u610f\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u65b9\u6cd5\u3002 \u53c2\u8003\u8d44\u6599\uff1a Base64 \u767e\u5ea6\u767e\u79d1\uff1ahttps://baike.baidu.com/item/base64/8545775 Base64 \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Base64 JavaScript \u5b9e\u73b0 / \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function base64Encode() { var srcs = CryptoJS.enc.Utf8.parse(text); var encodeData = CryptoJS.enc.Base64.stringify(srcs); return encodeData } function base64Decode() { var srcs = CryptoJS.enc.Base64.parse(encodeData); var decodeData = srcs.toString(CryptoJS.enc.Utf8); return decodeData } var text = \"I love Python!\" var encodeData = base64Encode() var decodeData = base64Decode() console.log(\"Base64 \u7f16\u7801: \", encodeData) console.log(\"Base64 \u89e3\u7801: \", decodeData) // Base64 \u7f16\u7801: SSBsb3ZlIFB5dGhvbiE= // Base64 \u89e3\u7801: I love Python! (7) HMAC \u7b80\u4ecb\uff1a\u5168\u79f0\u6563\u5217\u6d88\u606f\u8ba4\u8bc1\u7801\u3001\u5bc6\u94a5\u76f8\u5173\u7684\u54c8\u5e0c\u8fd0\u7b97\u6d88\u606f\u8ba4\u8bc1\u7801\uff08\u82f1\u6587\u540d\u79f0\uff1aHash-based Message Authentication Code \u6216\u8005 Keyed-hash Message Authentication Code\uff09\uff0c\u4e8e 1996 \u5e74\u63d0\u51fa\uff0c1997 \u5e74\u4f5c\u4e3a RFC 2104 \u88ab\u516c\u5e03\uff0cHMAC \u52a0\u5bc6\u7b97\u6cd5\u662f\u4e00\u79cd\u5b89\u5168\u7684\u57fa\u4e8e\u52a0\u5bc6 Hash \u51fd\u6570\u548c\u5171\u4eab\u5bc6\u94a5\u7684\u6d88\u606f\u8ba4\u8bc1\u534f\u8bae\uff0c\u5b83\u8981\u6c42\u901a\u4fe1\u53cc\u65b9\u5171\u4eab\u5bc6\u94a5 key\u3001\u7ea6\u5b9a\u7b97\u6cd5\u3001\u5bf9\u62a5\u6587\u8fdb\u884c Hash \u8fd0\u7b97\uff0c\u5f62\u6210\u56fa\u5b9a\u957f\u5ea6\u7684\u8ba4\u8bc1\u7801\u3002\u901a\u4fe1\u53cc\u65b9\u901a\u8fc7\u8ba4\u8bc1\u7801\u7684\u6821\u9a8c\u6765\u786e\u5b9a\u62a5\u6587\u7684\u5408\u6cd5\u6027\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 2104\uff1ahttps://datatracker.ietf.org/doc/rfc2104/ HMAC \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/HMAC JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function HMACEncrypt() { var text = \"I love python!\" var key = \"secret\" return CryptoJS.HmacMD5(text, key).toString(); // return CryptoJS.HmacSHA1(text, key).toString(); // return CryptoJS.HmacSHA256(text, key).toString(); } console.log(HMACEncrypt()) (8) DES \u7b80\u4ecb\uff1a\u5168\u79f0\u6570\u636e\u52a0\u5bc6\u6807\u51c6\uff08\u82f1\u6587\u540d\u79f0\uff1aData Encryption Standard\uff09\uff0c\u52a0\u5bc6\u4e0e\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u5bc6\u94a5\uff0c\u5c5e\u4e8e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff0c1977 \u5e74\u88ab\u7f8e\u56fd\u8054\u90a6\u653f\u5e9c\u7684\u56fd\u5bb6\u6807\u51c6\u5c40\u786e\u5b9a\u4e3a\u8054\u90a6\u8d44\u6599\u5904\u7406\u6807\u51c6\uff08FIPS\uff09\uff0cDES \u662f\u4e00\u4e2a\u5206\u7ec4\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4f7f\u7528 56 \u4f4d\u7684\u5bc6\u94a5\uff08\u4e00\u822c\u8ba4\u4e3a\u5bc6\u94a5\u662f 64 \u4f4d\uff0c\u4f46\u662f\u5bc6\u94a5\u7684\u6bcf\u4e2a\u7b2c 8 \u4f4d\u8bbe\u7f6e\u4e3a\u5947\u5076\u6821\u9a8c\u4f4d\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u6709\u6548\u4f4d\u53ea\u6709 56 \u4f4d\uff09\uff0c\u7531\u4e8e 56 \u4f4d\u5bc6\u94a5\u957f\u5ea6\u76f8\u5bf9\u8f83\u77ed\uff0c\u6240\u4ee5 DES \u662f\u4e0d\u5b89\u5168\u7684\uff0c\u73b0\u5728\u57fa\u672c\u4e0a\u5df2\u88ab\u66f4\u9ad8\u7ea7\u7684\u52a0\u5bc6\u6807\u51c6 AES \u53d6\u4ee3\u3002 mode \u652f\u6301\uff1aCBC\uff0cCFB\uff0cCTR\uff0cCTRGladman\uff0cECB\uff0cOFB \u7b49\u3002 padding \u652f\u6301\uff1aZeroPadding\uff0cNoPadding\uff0cAnsiX923\uff0cIso10126\uff0cIso97971\uff0cPkcs7 \u7b49\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 4772\uff1ahttps://datatracker.ietf.org/doc/rfc4772/ DES \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Data_Encryption_Standard JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function desEncrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = CryptoJS.enc.Utf8.parse(text), // CBC \u52a0\u5bc6\u6a21\u5f0f\uff0cPkcs7 \u586b\u5145\u65b9\u5f0f encrypted = CryptoJS.DES.encrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }); return encrypted.toString(); } function desDecrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = encryptedData, // CBC \u52a0\u5bc6\u6a21\u5f0f\uff0cPkcs7 \u586b\u5145\u65b9\u5f0f decrypted = CryptoJS.DES.decrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }); return decrypted.toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" // \u5f85\u52a0\u5bc6\u5bf9\u8c61 var desKey = \"6f726c64f2c2057\" // \u5bc6\u94a5 var desIv = \"0123456789ABCDEF\" // \u521d\u59cb\u5411\u91cf var encryptedData = desEncrypt() var decryptedData = desDecrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: +ndbEkWNw2QAfIYQtwC14w== // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python! (9) 3DES \u7b80\u4ecb\uff1a\u5168\u79f0\u4e09\u91cd\u6570\u636e\u52a0\u5bc6\u7b97\u6cd5\uff08\u82f1\u6587\u540d\u79f0\uff1aTriple Data Encryption Standard\u3001 Triple Data Encryption Algorithm\u3001TDES\u3001TDEA\uff09\uff0c\u662f\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4e2d\u7684\u4e00\u79cd\u300270 \u5e74\u4ee3\u521d\u7531 IBM \u7814\u53d1\uff0c\u540e 1977 \u5e74\u88ab\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u5c40\u91c7\u7eb3\u4e3a\u6570\u636e\u52a0\u5bc6\u6807\u51c6\uff0c\u5b83\u76f8\u5f53\u4e8e\u662f\u5bf9\u6bcf\u4e2a\u6570\u636e\u5757\u5e94\u7528\u4e09\u6b21 DES \u52a0\u5bc6\u7b97\u6cd5\u3002\u7531\u4e8e\u8ba1\u7b97\u673a\u8fd0\u7b97\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u539f\u7248 DES \u5bc6\u7801\u7684\u5bc6\u94a5\u957f\u5ea6\u53d8\u5f97\u5bb9\u6613\u88ab\u66b4\u529b\u7834\u89e3\uff1b3DES \u5373\u662f\u8bbe\u8ba1\u7528\u6765\u63d0\u4f9b\u4e00\u79cd\u76f8\u5bf9\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5373\u901a\u8fc7\u589e\u52a0 DES \u7684\u5bc6\u94a5\u957f\u5ea6\u6765\u907f\u514d\u7834\u89e3\uff0c\u6240\u4ee5\u4e25\u683c\u6765\u8bf4 3DES \u4e0d\u662f\u8bbe\u8ba1\u4e00\u79cd\u5168\u65b0\u7684\u5757\u5bc6\u7801\u7b97\u6cd5\u3002 mode \u652f\u6301\uff1aCBC\uff0cCFB\uff0cCTR\uff0cCTRGladman\uff0cECB\uff0cOFB \u7b49\u3002 padding \u652f\u6301\uff1aZeroPadding\uff0cNoPadding\uff0cAnsiX923\uff0cIso10126\uff0cIso97971\uff0cPkcs7 \u7b49\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 1851\uff1ahttps://datatracker.ietf.org/doc/rfc1851/ 3DES \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Triple_DES JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function tripleDesEncrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = CryptoJS.enc.Utf8.parse(text), // ECB \u52a0\u5bc6\u65b9\u5f0f\uff0cIso10126 \u586b\u5145\u65b9\u5f0f encrypted = CryptoJS.TripleDES.encrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Iso10126 }); return encrypted.toString(); } function tripleDesDecrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = encryptedData, // ECB \u52a0\u5bc6\u65b9\u5f0f\uff0cIso10126 \u586b\u5145\u65b9\u5f0f decrypted = CryptoJS.TripleDES.decrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Iso10126 }); return decrypted.toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" // \u5f85\u52a0\u5bc6\u5bf9\u8c61 var desKey = \"6f726c64f2c2057c\" // \u5bc6\u94a5 var desIv = \"0123456789ABCDEF\" // \u504f\u79fb\u91cf var encryptedData = tripleDesEncrypt() var decryptedData = tripleDesDecrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: 3J0NX7x6GbewjjhoW2HKqg== // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python! (10) RC4 \u7b80\u4ecb\uff1a\u82f1\u6587\u540d\u79f0\uff1aRivest Cipher 4\uff0c\u4e5f\u79f0\u4e3a ARC4 \u6216 ARCFOUR\uff0c\u662f\u4e00\u79cd\u6d41\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5bc6\u94a5\u957f\u5ea6\u53ef\u53d8\u3002\u5b83\u52a0\u89e3\u5bc6\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\uff0c\u56e0\u6b64\u4e5f\u5c5e\u4e8e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u3002RC4 \u662f\u6709\u7ebf\u7b49\u6548\u52a0\u5bc6\uff08WEP\uff09\u4e2d\u91c7\u7528\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e5f\u66fe\u7ecf\u662f TLS \u53ef\u91c7\u7528\u7684\u7b97\u6cd5\u4e4b\u4e00\uff0c\u8be5\u7b97\u6cd5\u7684\u901f\u5ea6\u53ef\u4ee5\u8fbe\u5230 DES \u52a0\u5bc6\u7684 10 \u500d\u5de6\u53f3\uff0c\u4e14\u5177\u6709\u5f88\u9ad8\u7ea7\u522b\u7684\u975e\u7ebf\u6027\uff0c\u867d\u7136\u5b83\u5728\u8f6f\u4ef6\u65b9\u9762\u7684\u7b80\u5355\u6027\u548c\u901f\u5ea6\u975e\u5e38\u51fa\u8272\uff0c\u4f46\u5728 RC4 \u4e2d\u53d1\u73b0\u4e86\u591a\u4e2a\u6f0f\u6d1e\uff0c\u5b83\u7279\u522b\u5bb9\u6613\u53d7\u5230\u653b\u51fb\uff0cRC4 \u4f5c\u4e3a\u4e00\u79cd\u8001\u65e7\u7684\u9a8c\u8bc1\u548c\u52a0\u5bc6\u7b97\u6cd5\u6613\u4e8e\u53d7\u5230\u9ed1\u5ba2\u653b\u51fb\uff0c\u73b0\u5728\u9010\u6e10\u4e0d\u63a8\u8350\u4f7f\u7528\u4e86\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 7465\uff1ahttps://datatracker.ietf.org/doc/rfc7465/ RC4 \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/RC4 JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function RC4Encrypt() { return CryptoJS.RC4.encrypt(text, key).toString(); } function RC4Decrypt(){ return CryptoJS.RC4.decrypt(encryptedData, key).toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" var key = \"6f726c64f2c2057c\" var encryptedData = RC4Encrypt() var decryptedData = RC4Decrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: U2FsdGVkX18hMm9WWdoEQGPolnXzlg9ryArdGNwv // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python! (11) Rabbit \u7b80\u4ecb\uff1aRabbit \u52a0\u5bc6\u7b97\u6cd5\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u6d41\u5bc6\u7801\u52a0\u5bc6\u65b9\u5f0f\uff0c2003 \u5e74\u9996\u6b21\u88ab\u63d0\u51fa\uff0c\u5b83\u4ece 128 \u4f4d\u5bc6\u94a5\u548c 64 \u4f4d\u521d\u59cb\u5411\u91cf\uff08iv\uff09\u521b\u5efa\u4e00\u4e2a\u5bc6\u94a5\u6d41\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 4503\uff1ahttps://datatracker.ietf.org/doc/rfc4503/ Rabbit \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Rabbit_(cipher) JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function rabbitEncrypt() { return CryptoJS.Rabbit.encrypt(text, key).toString(); } function rabbitDecrypt() { return CryptoJS.Rabbit.decrypt(encryptedData, key).toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" var key = \"6f726c64f2c2057\" var encryptedData = rabbitEncrypt() var decryptedData = rabbitDecrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: U2FsdGVkX1+ZVCHRXlhmG5Xw87YPWMNIBlbukuh8 // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python! \u4e5d\u3001\u6293\u5305\u5de5\u5177\u5b89\u88c5 (1) fidder 9.1.1 \u914d\u7f6e\u8bc1\u4e66 \u53cc\u51fb\u5b89\u88c5\u5373\u53ef \u5b89\u88c5\u540e \u5728\u641c\u7d22\u680f\u641c\u7d22fidder \u914d\u7f6ehttps\u8bc1\u4e66 \u52fe\u9009Decrypt HTTPS traffic\uff08\u4fe1\u4efb\u8bc1\u4e66\uff09 \u70b9\u51fbyes \u70b9\u51fbyes \u70b9\u51fb\u662f \u70b9\u51fb\u786e\u5b9a \u6700\u540e\u628a\u4e0b\u9762\u7684: Ignore server certificate errors(unsafe)\u5ffd\u7565\u670d\u52a1\u5668\u8bc1\u4e66\u9519\u8bef\uff08\u4e0d\u5b89\u5168\uff09 check for certificate revocation (\u8bc1\u4e66\u64a4\u9500\u68c0\u67e5) \u8fd9\u4e24\u4e2a\u9009\u9879\u4e5f \u52fe\u9009\u4e0a ! \u6253\u5f00\u6d4f\u89c8\u5668 \u8bbf\u95ee\u4e00\u4e2ahttps\u7684\u7f51\u5740\uff0c \u5728\u62e6\u622a\u4e2d\u80fd\u591f\u770b\u5230https\u5219\u914d\u7f6e\u6210\u529f 9.1.2 \u914d\u7f6e\u672c\u5730\u6587\u4ef6\u66ff\u6362 \u6b65\u9aa4 \u7b2c\u4e00\u6b65 \u9009\u62e9\u8981\u8fdb\u884c\u66ff\u6362\u5904\u7406\u7684URL \u7b2c\u4e8c\u6b65 \u9009\u62e9AutoResponder \u7b2c\u4e09\u6b65 \u52fe\u9009\u5f53\u524d4\u4e2a\u6309\u94ae \u6309\u7167\u89c4\u5219\u5339\u914d \u7b2c\u56db\u6b65 \u9009\u62e9 \u6dfb\u52a0\u89c4\u5219 Add Rule \u7b2c\u56db\u6b65 \u9009\u62e9 \u7b2c\u4e8c\u4e2a\u6846\u7684\u4e0b\u62c9 \u7b2c\u4e94\u6b65 \u9009\u62e9 Find a File \u9009\u62e9\u4e00\u4e2a\u672c\u5730\u6587\u4ef6 \u7b2c\u516d\u90e8 \u91cd\u65b0\u8bbf\u95ee \u4f5c\u7528\uff1a\u901a\u5e38\u7528\u4e8e\u5904\u7406\u8fd4\u56de\u9875\u9762\u4e2d\u5e26\u6709\u53cd\u6252\u5904\u7406\u7684\u8bf7\u6c42\u94fe\u63a5\u7b49\uff0c\u628a\u53bb\u9664\u53cd\u722c\u7684\u94fe\u63a5\u540e\u7684\u6587\u4ef6\u91cd\u65b0\u54cd\u5e94\u8fd4\u56de \u8fdb\u884c\u9875\u9762\u5206\u6790 \u56fe\u4f8b \u6b63\u5e38\u8bbf\u95ee\u7684\u5185\u5bb9 \u66ff\u6362\u540e\u5f97\u9875\u9762\u5185\u5bb9 9.1.3 fiddler\u754c\u9762\u4ecb\u7ecd Fiddler\u83dc\u5355\u680f \u5305\u62ec\u6355\u83b7http\u8bf7\u6c42\uff0c\u505c\u6b62\u6355\u83b7\u8bf7\u6c42\uff0c\u4fdd\u5b58http\u8bf7\u6c42\uff0c\u8f7d\u5165\u672c\u5730session\u3001\u8bbe\u7f6e\u6355\u83b7\u89c4\u5219\u7b49\u529f\u80fd Fiddler\u7684\u5de5\u5177\u680f \u5305\u62ecFiddler\u9488\u5bf9\u5f53\u524dview\u7684\u64cd\u4f5c\uff08\u6682\u505c\uff0c\u6e05\u9664session,decode\u6a21\u5f0f\u3001\u6e05\u9664\u7f13\u5b58\u7b49\uff09 Web Session\u9762\u677f \u4e3b\u8981\u662fFiddler\u6293\u53d6\u5230\u7684\u6bcf\u6761http\u8bf7\u6c42\uff08\u6bcf\u4e00\u6761\u79f0\u4e3a\u4e00\u4e2asession\uff09,\u4e3b\u8981\u5305\u542b\u4e86\u8bf7\u6c42\u7684url\uff0c\u534f\u8bae\uff0c\u72b6\u6001\u7801\uff0cbody\u7b49\u4fe1\u606f \u8be6\u60c5\u548c\u6570\u636e\u7edf\u8ba1\u677f \u9488\u5bf9\u6bcf\u6761http\u8bf7\u6c42\u7684\u5177\u4f53\u7edf\u8ba1\uff08\u4f8b\u5982\u53d1\u9001/\u63a5\u53d7\u5b57\u8282\u6570\uff0c\u53d1\u9001/\u63a5\u6536\u65f6\u95f4\uff0c\u8fd8\u6709\u7c97\u7565\u7edf\u8ba1\u4e16\u754c\u5404\u5730\u8bbf\u95ee\u8be5\u670d\u52a1\u5668\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff09\u548c\u6570\u636e\u5305\u5206\u6790\u3002\u5982inspector\u9762\u677f\u4e0b\uff0c\u63d0\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f Inspector \u63d0\u4f9b\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f,\u5206\u4e3a\u4e0a\u4e0b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e0a\u534a\u90e8\u5206\u662f\u8bf7\u6c42\u5934\u90e8\u5206\uff0c\u4e0b\u534a\u90e8\u5206\u662f\u54cd\u5e94\u5934\u90e8\u5206\u3002 ImageView\u6807\u7b7e JPG \u683c\u5f0f\u4f7f\u7528 ImageView \u5c31\u53ef\u4ee5\u770b\u5230\u56fe\u7247 TextView \u6807\u7b7e HTML/JS/CSS \u4f7f\u7528 TextView \u53ef\u4ee5\u770b\u5230\u54cd\u5e94\u7684\u5185\u5bb9\u3002\u9009\u62e9\u4e00\u6761Content-Type\u662ftext/html\u7684\u4f1a\u8bdd Raw\u6807\u7b7e Raw\u6807\u7b7e\u53ef\u4ee5\u67e5\u770b\u54cd\u5e94\u62a5\u6587\u548c\u54cd\u5e94\u6b63\u6587,\u4f46\u662f\u4e0d\u5305\u542b\u8bf7\u6c42\u62a5\u6587 Cookies\u6807\u7b7e Cookies\u6807\u7b7e\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42\u7684cookie\u548c\u54cd\u5e94\u7684set-cookie\u5934\u4fe1\u606f\u3002 WebForms post\u8bf7\u6c42\u6240\u6709\u8868\u5355\u6570\u636e Headers \u8bf7\u6c42\u5934\u548c\u54cd\u5e94\u5934\u4fe1\u606f Json\\XML Json\u6216XML\u683c\u5f0f\u7684\u6570\u636e Statistics\u9762\u677f HTTP\u8bf7\u6c42\u7684\u6027\u80fd\u548c\u5176\u4ed6\u6570\u636e\u5206\u6790 composer\u9762\u677f \u53ef\u4ee5\u6a21\u62df\u5411\u76f8\u5e94\u7684\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u7684\u8fc7\u7a0b Filters\u9762\u677f Filter\u6807\u7b7e\u5219\u53ef\u4ee5\u8bbe\u7f6eFiddler\u7684\u8fc7\u6ee4\u89c4\u5219\uff0c\u6765\u8fbe\u5230\u8fc7\u6ee4http\u8bf7\u6c42\u7684\u76ee\u7684\u3002\u6700\u7b80\u5355\u5982\uff1a\u8fc7\u6ee4\u5185\u7f51http\u8bf7\u6c42\u800c\u53ea\u6293\u53d6internet\u7684http\u8bf7\u6c42\uff0c\u6216\u5219\u8fc7\u6ee4\u76f8\u5e94\u57df\u540d\u7684http\u8bf7\u6c42\u3002Fiddler\u7684\u8fc7\u6ee4\u5668\u975e\u5e38\u5f3a\u5927\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9ahttp\u72b6\u6001\u7801\u7684\u8bf7\u6c42\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9a\u8bf7\u6c42\u7c7b\u578b\u7684http\u8bf7\u6c42\uff08\u5982css\u8bf7\u6c42\uff0cimage\u8bf7\u6c42\uff0cjs\u8bf7\u6c42\u7b49\uff09\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u8bf7\u6c42\u62a5\u6587\u5927\u4e8e\u6216\u5219\u5c0f\u4e8e\u6307\u5b9a\u5927\u5c0f\uff08byte\uff09\u7684\u8bf7\u6c42 \u5173\u95edfiddler \u5de6\u4e0a\u89d2File,\u53cd\u9009Capture Traffic WebSession\u8fc7\u6ee4\u529f\u80fd \u70b9\u51fb\u5de5\u5177\u680f\u4e2d\u7684X\u7b26\u53f7 WebSession\u9009\u62e9\u529f\u80fd \u5de6\u4e0b\u89d2\u7684\u9ed1\u8272\u5bf9\u8bdd\u6846 select json\\html\\image cls\u6e05\u9664\u6240\u6709\u8bf7\u6c42 ?xxx\u641c\u7d22 (2) Window Charles 9.2.1 \u914d\u7f6e\u8bc1\u4e66 \u5b89\u88c5 -> \u50bb\u74dc\u5f0f\u5b89\u88c5 \u914d\u7f6ehttps\u8bc1\u4e66 \u70b9\u51fb\u5b89\u88c5\u8bc1\u4e66 \u9009\u62e9\u672c\u5730\u8ba1\u7b97\u673a -> \u4e0b\u4e00\u6b65 \u9009\u62e9\u662f \u9009\u62e9 \u5c06\u6240\u6709\u7684\u8bc1\u4e66\u90fd\u653e\u5165\u4e0b\u5217\u5b58\u50a8->\u6d4f\u89c8->\u53d7\u4fe1\u4efb\u7684\u6839\u8bc1\u4e66\u9881\u53d1\u673a\u6784->\u786e\u5b9a->\u4e0b\u4e00\u6b65 \u5b8c\u6210 \u5bfc\u5165\u6210\u529f \u5f00\u542fhttps\u7aef\u53e3\u7684\u76d1\u542c \u52fe\u9009 \u9009\u62e9add-> \u6ce8\u610f \u5728windows\u73af\u5883\u4e0b\u5982\u679c\u51fa\u73b0\u8bc1\u4e66\u4e0d\u53ef\u7528\u7684\u60c5\u51b5.\u9700\u8981\u624b\u5de5\u53bbwindows\u7684\u8bc1\u4e66\u7ba1\u7406\u5668\u4e2d, \u628aCharles\u7684\u8bc1\u4e66\u62d6\u62fd\u5230\u53ef\u4fe1\u4efb\u8bc1\u4e66\u90a3\u4e00\u680f. \u7136\u540e\u91cd\u542f\u6d4f\u89c8\u5668\u548ccharles\u5c31\u53ef\u4ee5\u7528\u4e86 \u5982\u679c\u8bc1\u4e66\u9ed8\u8ba4\u5c31\u53ef\u7528. \u5c31\u4e0d\u8981\u80e1\u4e71\u62d6\u62fd window\u8bc1\u4e66\u7ba1\u7406\u5668: win+r: \u8f93\u5165certlm.msc 9.2.2 \u914d\u7f6e\u672c\u5730\u6587\u4ef6\u66ff\u6362 \u6b65\u9aa4 \u6839\u636eURL\u627e\u5230\u5f53\u524d\u8981\u66ff\u6362\u7684\u54cd\u5e94\u7684\u5185\u5bb9 \u9009\u62e9\u54cd\u5e94\u5185\u5bb9\u7684\u6587\u4ef6 \u53f3\u952e Map Local \u9009\u62e9 Map to\u83dc\u5355\u4e2d\u7684 Choose\u6309\u94ae \u9009\u62e9\u672c\u5730\u7684\u6587\u4ef6 \u6d4f\u89c8\u5668\u4e2d\u91cd\u65b0\u5237\u65b0\u8bf7\u6c42\u65e2\u53ef \u53d6\u6d88\u672c\u5730\u66ff\u6362 \u70b9\u51fb\u83dc\u5355\u4e2d\u7684tools \u9009\u62e9 Map Local \u53d6\u6d88\u52fe\u9009 \u6216\u8005\u79fb\u9664\u65e2\u53ef \u56fe\u4f8b \u4e4b\u524d\u6b63\u5e38\u8bbf\u95ee\u7684\u54cd\u5e94 \u66ff\u6362\u540e\u7684\u54cd\u5e94 \u53d6\u6d88\u672c\u5730\u66ff\u6362 \u53d6\u6d88\u52fe\u9009\u6216\u79fb\u9664 (3) Mac Charles help-> SSL Proxying -> install \u8f93\u5165\u5bc6\u7801 \u9009\u62e9\u7cfb\u7edf \uff08\u6309\u5982\u4e0b\u6240\u793a\u64cd\u4f5c\uff09 \u914d\u7f6e\u76d1\u542c\u7aef\u53e3 (4) \u6ce8\u610f \u5982\u679c\u5b89\u88c5\u4e0a\u8ff0\u914d\u7f6e\u5b8c\u6210\u4ee5\u540e \u8bc1\u4e66\u8fd8\u662f\u4e0d\u53ef\u7528 \u5219\u91cd\u542f\u6d4f\u89c8\u5668\uff0c\u91cd\u542f\u62e6\u622a\u5de5\u5177 \u8bc1\u4e66\u8fc7\u671f\u5904\u7406 https://blog.csdn.net/windyJ809/article/details/141862153 (5) \u5f00\u542fCharles \u8fd0\u884c\u4ee3\u7801\u5931\u8d25\u89e3\u51b3 5.1 \u8bf4\u660e\uff1a \u5f53\u6253\u5f00\u6293\u5305\u5de5\u5177\u4ee5\u540e pycharm\u4e2d\u8fd0\u884c\u7684\u4ee3\u7801\u5219\u8bf7\u6c42\u5931\u8d25 \u51fa\u73b0\u5982\u4e0b\u9519\u8bef 5.2 \u89e3\u51b3 5.2.1 \u70b9\u5f00proxy -> proxy settings \u51fa\u73b0\u5982\u4e0b\u754c\u9762 5.2.2 \u4ee3\u7801\u4e2d\u6dfb\u52a0\u4ee3\u7406\uff0c\u5173\u95ed\u8bc1\u4e66\u9a8c\u8bc1 import requests url = 'https://app.mi.com/catTopList/0?page=1' headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u6dfb\u52a0\u4ee3\u7406 proxy = { 'http': '127.0.0.1:8888', 'https': '127.0.0.1:8888', } # \u6dfb\u52a0\u4ee3\u7406\uff0c \u5e76\u5173\u95ed\u8bc1\u4e66\u9a8c\u8bc1 res = requests.get(url, headers=headers, proxies=proxy, verify=False) content = res.content.decode() print(content)","title":"\u4e8c\u5341\u516b\u3001\u9006\u541102"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#02","text":"","title":"\u4e8c\u5341\u516b\u3001\u9006\u541102"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#_1","text":"","title":"\u4e00\u3001\u5b57\u8282"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1","text":"\u4e00\u4e2a\u6c49\u5b57 UTF-8\u7f16\u7801\uff1a\u4e00\u4e2a\u4e2d\u6587\uff08\u542b\u7e41\u4f53\uff09\u5360\u4e09\u4e2a\u5b57\u8282\uff0c\u4e00\u4e2a\u4e2d\u6587\u6807\u70b9\u5360\u4e09\u4e2a\u5b57\u8282\u3002\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\u5360\u4e00\u4e2a\u5b57\u8282\uff0c\u4e00\u4e2a\u82f1\u6587\u6807\u70b9\u5360\u4e00\u4e2a\u5b57\u8282\u3002 \u5b98\u65b9\u6807\u51c6\uff1a 1\u5b57\u8282\uff08Byte)\uff1d8\u5b57\u4f4d\uff1d8\u4e2a\u4e8c\u8fdb\u5236\u6570 ###### 1\u5b57\u4f4d(bit)\uff1d1\u4e2a\u4e8c\u8fdb\u5236\u6570 \u4e5f\u5c31\u662f1B=8b 1KB=1024B 1MB=1024KB 1GB=1024MB \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u628aB\u79f0\u4e3a\u5b57\u8282\u3001b\u79f0\u4e3a\u5b57\u4f4d\u3001KB\u79f0\u4e3a\u5343\u5b57\u8282\u3001MB\u79f0\u4e3a\u5146\u5b57\u8282\u3001GB\u79f0\u4e3a\u5409\u5b57\u8282\u3002 \u62d3\u5c55\u8d44\u6599 \u5b57\u8282\u662f\u8ba1\u7b97\u673a\u4fe1\u606f\u6280\u672f\u7528\u4e8e\u8ba1\u91cf\u5b58\u50a8\u5bb9\u91cf\u7684\u4e00\u79cd\u8ba1\u91cf\u5355\u4f4d\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u4e00\u5b57\u8282\u7b49\u4e8e\u516b\u4f4d\uff0c[1]\u4e5f\u8868\u793a\u4e00\u4e9b\u8ba1\u7b97\u673a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u548c\u8bed\u8a00\u5b57\u7b26\u3002 B\u4e0ebit\uff1a \u6570\u636e\u5b58\u50a8\u662f\u4ee5\u201c\u5b57\u8282\u201d\uff08Byte\uff09\u4e3a\u5355\u4f4d\uff0c\u6570\u636e\u4f20\u8f93\u5927\u591a\u662f\u4ee5\u201c\u4f4d\u201d\uff08bit\uff0c\u53c8\u540d\u201c\u6bd4\u7279\u201d\uff09\u4e3a\u5355\u4f4d\uff0c\u4e00\u4e2a\u4f4d\u5c31\u4ee3\u8868\u4e00\u4e2a0\u62161\uff08\u5373\u4e8c\u8fdb\u5236\uff09\uff0c\u6bcf8\u4e2a\u4f4d\uff08bit\uff0c\u7b80\u5199\u4e3ab\uff09\u7ec4\u6210\u4e00\u4e2a\u5b57\u8282\uff08Byte\uff0c\u7b80\u5199\u4e3aB\uff09\uff0c\u662f\u6700\u5c0f\u4e00\u7ea7\u7684\u4fe1\u606f\u5355\u4f4d\u3002","title":"1\u3001\u6982\u8ff0"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2python","text":"\u8bf4\u660e \u5728Python\u4e2d\uff0c\u5b57\u8282\uff08bytes\uff09\u662f\u4e00\u79cd\u4e0d\u53ef\u53d8\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7528\u4e8e\u8868\u793a\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u5b57\u8282\u5bf9\u8c61\u7531\u6574\u6570\u6784\u6210\u7684\u4e0d\u53ef\u53d8\u5e8f\u5217\uff0c\u6bcf\u4e2a\u6574\u6570\u8303\u56f4\u57280\u5230255\u4e4b\u95f4\uff0c\u5bf9\u5e94\u4e00\u4e2a\u5b57\u8282\u7684\u503c\u3002 \u5728Python 3\u4e2d\uff0c\u5b57\u8282\u5bf9\u8c61\u662f\u4ee5\u5b57\u9762\u503c\u8bed\u6cd5\u6216\u8005\u4f7f\u7528bytes()\u51fd\u6570\u6765\u521b\u5efa\u7684\u3002\u5b57\u9762\u503c\u8bed\u6cd5\u4f7f\u7528b\u524d\u7f00\uff0c\u540e\u9762\u8ddf\u7740\u7528\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u62ec\u8d77\u6765\u7684\u5b57\u7b26\u5e8f\u5217\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e9b\u521b\u5efa\u5b57\u8282\u5bf9\u8c61\u7684\u793a\u4f8b\uff1a Python b = b'hello' \u53ef\u4ee5\u4f7f\u7528\u5207\u7247\u3001\u7d22\u5f15\u548c\u8fed\u4ee3\u64cd\u4f5c\u8bbf\u95ee\u5b57\u8282\u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\u3002\u5b57\u8282\u5bf9\u8c61\u4e5f\u652f\u6301\u4e0e\u5176\u4ed6\u5b57\u8282\u5bf9\u8c61\u7684\u8fde\u63a5\u548c\u91cd\u590d\u64cd\u4f5c\u3002 ```Python b = b'hello' # \u5207\u7247\u64cd\u4f5c print(b[1:4]) # b'ell' # \u7d22\u5f15\u64cd\u4f5c print(b[0]) # 104 # \u8fed\u4ee3\u64cd\u4f5c for byte in b: print(byte) # \u5b57\u8282\u5bf9\u8c61\u8fde\u63a5\u548c\u91cd\u590d new_b = b + b' world' print(new_b) # b'hello world' repeated_b = b * 3 print(repeated_b) # b'hellohellohello' ``` \u5b57\u8282\u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\u548c\u51fd\u6570\u6765\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528decode()\u65b9\u6cd5\u5c06\u5b57\u8282\u5bf9\u8c61\u89e3\u7801\u4e3a\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u76f8\u5e94\u7684\u7f16\u7801\u65b9\u5f0f\uff1b\u53ef\u4ee5\u4f7f\u7528encode()\u65b9\u6cd5\u5c06\u5b57\u7b26\u4e32\u7f16\u7801\u4e3a\u5b57\u8282\u5bf9\u8c61\u3002\u6b64\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u4e00\u4e9b\u5de5\u5177\u51fd\u6570\uff0c\u4f8b\u5982len()\u8fd4\u56de\u5b57\u8282\u5bf9\u8c61\u7684\u957f\u5ea6\uff0chex()\u5c06\u6574\u6570\u8f6c\u6362\u4e3a\u5341\u516d\u8fdb\u5236\u8868\u793a\u7b49\u3002 ```Python b = b'hello' # \u89e3\u7801\u4e3a\u5b57\u7b26\u4e32 s = b.decode('utf-8') print(s) # 'hello' # \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a\u5b57\u8282\u5bf9\u8c61 new_b = s.encode('utf-8') print(new_b) # b'hello' # \u83b7\u53d6\u5b57\u8282\u5bf9\u8c61\u957f\u5ea6 length = len(b) print(length) # 5 # hex()\u5c06\u6574\u6570\u8f6c\u6362\u4e3a\u5341\u516d\u8fdb\u5236 hex_representation = hex(1234) print(hex_representation) # '0x4d2' ``` \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5b57\u8282\u5bf9\u8c61\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u5373\u4e0d\u80fd\u76f4\u63a5\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002\u5982\u679c\u9700\u8981\u4fee\u6539\u5b57\u8282\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5148\u5c06\u5176\u89e3\u7801\u4e3a\u53ef\u53d8\u7684\u5b57\u8282\u6570\u7ec4\uff08bytearray\uff09\uff0c\u8fdb\u884c\u4fee\u6539\u540e\u518d\u7f16\u7801\u56de\u5b57\u8282\u5bf9\u8c61\u3002 \u6269\u5c55 \u4e2d\u6587\u7f16\u7801\u540e\u663e\u793a\u5341\u516d\u8fdb\u5236\u7684\u539f\u56e0\uff1a \u7531\u4e8e\u6bcf\u4e2a\u5b57\u8282\u5305\u542b8\u4f4d\u4e8c\u8fdb\u5236\u6570\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5c55\u793a\u548c\u4f20\u8f93\uff0c\u5e38\u5e38\u5c06\u6bcf\u4e2a\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\u6570\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a\u6cd5\u3002\u8fd9\u6837\u505a\u53ef\u4ee5\u51cf\u5c11\u5b57\u7b26\u7684\u53ef\u89c6\u5bbd\u5ea6\uff0c\u5e76\u4e14\u66f4\u65b9\u4fbf\u8fdb\u884c\u4eba\u673a\u4ea4\u4e92\u548c\u8c03\u8bd5\u3002 \u56e0\u6b64\uff0c\u5f53\u4e2d\u6587\u5b57\u7b26\u88ab\u8f6c\u6362\u4e3aUTF-8\u7f16\u7801\u65f6\uff0c\u6240\u5f97\u5230\u7684\u7ed3\u679c\u662f\u4e00\u4e32\u5341\u516d\u8fdb\u5236\u6570\uff0c\u7528\u4ee5\u8868\u793a\u6bcf\u4e2a\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\u503c\u3002\u8fd9\u79cd\u5f62\u5f0f\u7684\u5c55\u793a\u65b9\u5f0f\u66f4\u6613\u4e8e\u7406\u89e3\u3001\u6bd4\u5bf9\u548c\u5904\u7406\u3002 python a = '\u54c8' # \u8f6c\u6362\u7f16\u7801\u4e3a\u5341\u516d\u8fdb\u5236 b'\\xe5\\x93\\x88' print(a.encode('UTF-8')) # \u53bb\u6389\u7b26\u53f7\u4f4d\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236 15045512 print(int('e59388', base=16)) # \u5341\u8fdb\u5236\u8f6c\u6362\u4e3a \u5341\u516d\u8fdb\u5236 0xe59388 print(hex(15045512)) # \u8ba1\u7b97\u957f\u5ea6 print(len(bin(15045512).replace('0b', ''))) # \u4e8c\u8fdb\u5236\u7684\u957f\u5ea6 print(len(b'\\xe5\\x93\\x88')) # \u5341\u516d\u8fdb\u5236\u7684\u957f\u5ea6 \u6570\u5b57\u548c\u5b57\u6bcd\u5728UTF-8\u7f16\u7801\u4e2d\u5e76\u4e0d\u53d1\u751f\u53d8\u5316\u5f97\u539f\u56e0\uff1a \u5728UTF-8\u7f16\u7801\u4e2d\uff0c\u6570\u5b57\u548c\u5b57\u6bcd\u4e4b\u6240\u4ee5\u5728\u7f16\u7801\u65f6\u4e0d\u53d1\u751f\u53d8\u5316\uff0c\u662f\u56e0\u4e3aUTF-8\u91c7\u7528\u4e86\u4e00\u79cd\u53d8\u957f\u7f16\u7801\u65b9\u5f0f\uff0c\u5373\u4e0d\u540c\u5b57\u7b26\u7684\u7f16\u7801\u957f\u5ea6\u53ef\u4ee5\u4e0d\u540c\u3002 \u6570\u5b57\u548c\u5927\u90e8\u5206\u82f1\u6587\u5b57\u6bcd\u5728ASCII\u5b57\u7b26\u96c6\u4e2d\u5df2\u7ecf\u5b9a\u4e49\u4e86\u56fa\u5b9a\u7684\u7f16\u7801\uff0c\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff088\u4f4d\uff09\uff0c\u56e0\u6b64\u5b83\u4eec\u5728UTF-8\u7f16\u7801\u4e2d\u4ecd\u7136\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff0c\u7f16\u7801\u503c\u548cASCII\u7f16\u7801\u76f8\u540c\u3002 \u4f8b\u5982\uff0c\u5b57\u6bcd'A'\u7684ASCII\u7f16\u7801\u662f65\uff08\u4e8c\u8fdb\u5236\u4e3a01000001\uff09\uff0c\u800c\u5728UTF-8\u4e2d\uff0c\u5b57\u6bcd'A'\u7684\u7f16\u7801\u540c\u6837\u4e3a01000001\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8eASCII\u5b57\u7b26\u96c6\u4e2d\u7684\u6570\u5b57\u548c\u5b57\u6bcd\uff0c\u5b83\u4eec\u7684UTF-8\u7f16\u7801\u4e0eASCII\u7f16\u7801\u662f\u4e00\u81f4\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cUTF-8\u7f16\u7801\u8fd8\u652f\u6301\u66f4\u5e7f\u6cdb\u7684\u5b57\u7b26\u96c6\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u7279\u6b8a\u5b57\u7b26\u548c\u975eASCII\u5b57\u7b26\uff0c\u5b83\u4eec\u53ef\u80fd\u5360\u7528\u66f4\u591a\u5b57\u8282\u8fdb\u884c\u7f16\u7801\u3002\u4f46\u5bf9\u4e8eASCII\u5b57\u7b26\uff0cUTF-8\u7f16\u7801\u4fdd\u6301\u4e86\u517c\u5bb9\u6027\uff0c\u4e0d\u5f15\u5165\u989d\u5916\u7684\u53d8\u5316\u3002 \u6570\u5b57\u548c\u5b57\u6bcd\u7684UTF-8\u7f16\u7801\u7ed3\u679c\u4e0e\u5176\u539f\u59cb\u7684ASCII\u7801\u503c\u5b8c\u5168\u76f8\u540c\uff0c\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u6837\u505a\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4f7f\u7528UTF-8\u7f16\u7801\u65f6\uff0c\u5bf9\u4e8e\u7eaf\u82f1\u6587\u5b57\u7b26\u7684\u5904\u7406\u4e0eASCII\u7801\u517c\u5bb9\uff0c\u786e\u4fdd\u4e86\u5411\u540e\u517c\u5bb9\u6027\u548c\u7b80\u5316\u4e86\u5b57\u7b26\u7684\u5904\u7406\u8fc7\u7a0b\u3002 0x\u548c\\x\u7684\u533a\u522b 0x\uff1a\u5728\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c0x\u524d\u7f00\u8868\u793a\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u6570\u3002\u4f8b\u5982\uff0c0x10\u8868\u793a\u5341\u516d\u8fdb\u5236\u657016\u3002 python hex_value = 0x10 print(hex_value) # \u8f93\u51fa 16 \\x\uff1a\u5728\u5b57\u7b26\u4e32\u4e2d\uff0c\\x\u540e\u8ddf\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u6570\u5b57\u8868\u793a\u4e00\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\u7f16\u7801\u3002\u4f8b\u5982\uff0c\\x41\u8868\u793aASCII\u5b57\u7b26'A'\u3002 python ascii_value = '\\x41' print(ascii_value) # \u8f93\u51fa 'A' \u603b\u7ed3\u8d77\u6765\uff0c0x\u7528\u4e8e\u8868\u793a\u6574\u6570\u7684\u5341\u516d\u8fdb\u5236\u6570\uff0c\u800c\\x\u7528\u4e8e\u8868\u793a\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u8282\u7f16\u7801\u3002 \u6bd4\u5982\uff1a 0x0\u548c \\x30\u8868\u793a\u7684\u533a\u522b 0x0\u8868\u793a\u5341\u516d\u8fdb\u5236\u6570\uff0c\u5176\u4e2d\u7684\"0x\"\u662f\u5341\u516d\u8fdb\u5236\u7684\u524d\u7f00\u3002\u5341\u516d\u8fdb\u5236\u662f\u4e00\u79cd\u4f7f\u752816\u4e2a\u5b57\u7b26\uff080-9\u548cA-F\uff09\u6765\u8868\u793a\u6570\u503c\u7684\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c0x0\u8868\u793a\u6570\u503c\u4e3a0\u3002 \\x30\u5219\u662f\u8868\u793aASCII\u5b57\u7b26\u7684\u8f6c\u4e49\u5e8f\u5217\u3002\u5728ASCII\u7f16\u7801\u4e2d\uff0c\u6bcf\u4e2a\u5b57\u7b26\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u552f\u4e00\u7684\u6574\u6570\u503c\u3002\u800c\\x30\u8868\u793a\u7684\u662fASCII\u7f16\u7801\u4e2d\u7684\u5341\u8fdb\u5236\u6570\u503c48\uff0c\u5bf9\u5e94\u4e8e\u5b57\u7b26'0'\u3002\u8fd9\u91cc\u7684\"\\x\"\u662f\u7528\u6765\u8868\u793a\u540e\u9762\u4e24\u4f4d\u6570\u5b57\u662f\u5341\u516d\u8fdb\u5236\u7684\u6807\u8bc6\u3002 \u6240\u4ee5\uff0c\u867d\u71360x0\u548c\\x30\u90fd\u53ef\u4ee5\u8868\u793a\u6570\u5b570\uff0c\u4f46\u5b83\u4eec\u7684\u542b\u4e49\u7565\u6709\u4e0d\u540c ,\u4e5f\u5c31\u662f\u7c7b\u578b\u4e0d\u540c\uff0c\u5b57\u7b26\u4e32\u76840\u548c\u6570\u503c\u76840","title":"2\u3001Python\u4e2d"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#urlencode","text":"","title":"\u4e8c\u3001URLEncode"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1-url","text":"URL\u7f16\u7801\u662f\u6307\u5c06URL\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\u8f6c\u6362\u4e3a\u7279\u5b9a\u683c\u5f0f\u7684\u8fc7\u7a0b\u3002\u5b83\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u907f\u514d\u51b2\u7a81\uff1a\u5728URL\u4e2d\uff0c\u67d0\u4e9b\u5b57\u7b26\u5177\u6709\u7279\u6b8a\u542b\u4e49\u6216\u8005\u53ef\u80fd\u5f15\u8d77\u51b2\u7a81\uff0c\u4f8b\u5982\u7a7a\u683c\u3001\u659c\u6760\u3001\u95ee\u53f7\u7b49\u3002\u901a\u8fc7URL\u7f16\u7801\uff0c\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u7279\u6b8a\u5b57\u7b26\u8f6c\u6362\u6210\u7279\u5b9a\u7684\u7f16\u7801\u5f62\u5f0f\uff0c\u4ee5\u907f\u514d\u9020\u6210\u8bed\u6cd5\u9519\u8bef\u6216\u6df7\u6dc6\u3002 \u5b89\u5168\u6027\uff1aURL\u7f16\u7801\u8fd8\u80fd\u63d0\u9ad8\u5b89\u5168\u6027\u3002\u5bf9\u4e8e\u9700\u8981\u4f20\u8f93\u654f\u611f\u4fe1\u606f\u7684URL\uff0c\u4f7f\u7528URL\u7f16\u7801\u53ef\u4ee5\u5bf9\u53c2\u6570\u8fdb\u884c\u52a0\u5bc6\u5904\u7406\uff0c\u589e\u52a0\u6570\u636e\u7684\u5b89\u5168\u6027\uff0c\u9632\u6b62\u88ab\u6076\u610f\u7be1\u6539\u6216\u6ce8\u5165\u653b\u51fb\u3002 \u517c\u5bb9\u6027\uff1aURL\u7f16\u7801\u53ef\u4ee5\u786e\u4fddURL\u5728\u4e0d\u540c\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u7684\u517c\u5bb9\u6027\u3002\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u5bf9URL\u7684\u89e3\u6790\u65b9\u5f0f\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u901a\u8fc7URL\u7f16\u7801\u53ef\u4ee5\u7edf\u4e00\u7f16\u7801\u89c4\u5219\uff0c\u786e\u4fdd\u6240\u6709\u5e73\u53f0\u4e0a\u90fd\u80fd\u6b63\u786e\u8bc6\u522b\u5e76\u5904\u7406URL\u3002 \u603b\u7ed3\u6765\u8bf4\uff0cURL\u7f16\u7801\u7684\u4f5c\u7528\u662f\u4fdd\u8bc1URL\u7684\u6b63\u786e\u89e3\u6790\u548c\u4f20\u8f93\uff0c\u5e76\u63d0\u4f9b\u4e00\u5b9a\u7684\u5b89\u5168\u6027\u4fdd\u969c\u3002\u5b83\u53ef\u4ee5\u907f\u514d\u51b2\u7a81\u3001\u63d0\u9ad8\u517c\u5bb9\u6027\uff0c\u540c\u65f6\u4e5f\u6709\u52a9\u4e8e\u4fdd\u62a4\u4f20\u8f93\u7684\u6570\u636e\u5b89\u5168\u3002","title":"(1) url\u7f16\u7801\u8bf4\u660e"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2","text":"\u5728\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b \u590d\u5236\u51fa\u6765\u67e5\u770b https://www.baidu.com/s?wd=%E8%BF%AA%E4%B8%BD%E7%83%AD%E5%B7%B4&rsv_spt=1&rsv_iqid=0xbda64fb600039f37&issp=1&f=8&rsv_bp=1&rsv_idx=2&ie=utf-8&tn=baiduhome_pg&rsv_enter=1&rsv_dl=tb&rsv_sug3=7&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&rsv_btype=i&prefixsug=%25E8%25BF%25AA%25E4%25B8%25BD%25E7%2583%25AD%25E5%25B7%25B4&rsp=2&inputT=1053&rsv_sug4=1053 \u8bf4\u660e \u5176\u5b9e\u6211\u4eec\u5728\u8bbf\u95ee\u4e00\u4e2aurl\u7684\u65f6\u5019. \u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u7684\u8fdb\u884curlencode\u64cd\u4f5c. \u4f1a\u5bf9\u6211\u4eec\u8bf7\u6c42\u7684url\u8fdb\u884c\u7f16\u7801. \u8fd9\u79cd\u7f16\u7801\u89c4\u5219\u88ab\u79f0\u4e3a\u767e\u5206\u53f7\u7f16\u7801. \u662f\u4e13\u95e8\u4e3aurl(\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26)\u51c6\u5907\u7684\u4e00\u5957\u7f16\u7801\u89c4\u5219.","title":"(2) \u5b9e\u4f8b"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3-pythonurl","text":"URL\u7f16\u7801\u3001\u89e3\u7801\u539f\u56e0 \u901a\u5e38\u5982\u679c\u4e00\u6837\u4e1c\u897f\u9700\u8981\u7f16\u7801\uff0c\u8bf4\u660e\u5176\u5e76\u4e0d\u9002\u5408\u76f4\u63a5\u4f20\u8f93\u3002\u539f\u56e0\u591a\u79cd\u591a\u6837\uff0c\u5982Size\u8fc7\u5927\uff0c\u5305\u542b\u9690\u79c1\u6570\u636e\u3002\u5bf9\u4e8eUrl\u6765\u8bf4\uff0c\u4e4b\u6240\u4ee5\u8981\u8fdb\u884c\u7f16\u7801\uff0c\u662f\u56e0\u4e3aUrl\u4e2d\u6709\u4e9b\u5b57\u7b26\u4f1a\u5f15\u8d77\u6b67\u4e49\u3002 \u4f8b\u5982\uff0cUrl\u53c2\u6570\u5b57\u7b26\u4e32\u4e2d\u4f7f\u7528key=value\u952e\u503c\u5bf9\u8fd9\u6837\u7684\u5f62\u5f0f\u6765\u4f20\u53c2\uff0c\u952e\u503c\u5bf9\u4e4b\u95f4\u4ee5&\u7b26\u53f7\u5206\u9694\uff0c\u5982/s?q=abc&ie=utf-8\u3002\u5982\u679c\u4f60\u7684value\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u4e86=\u6216\u8005&\uff0c\u90a3\u4e48\u52bf\u5fc5\u4f1a\u9020\u6210\u63a5\u6536Url\u7684\u670d\u52a1\u5668\u89e3\u6790\u9519\u8bef\uff0c\u56e0\u6b64\u5fc5\u987b\u5c06\u5f15\u8d77\u6b67\u4e49\u7684&\u548c=\u7b26\u53f7\u8fdb\u884c\u8f6c\u4e49\uff0c\u4e5f\u5c31\u662f\u5bf9\u5176\u8fdb\u884c\u7f16\u7801\u3002 \u5b57\u7b26\u4e32\u88ab\u5f53\u4f5curl\u63d0\u4ea4\u65f6\u4f1a\u88ab\u81ea\u52a8\u8fdb\u884curl\u7f16\u7801\u5904\u7406\uff0c\u5728python\u91cc\u4e5f\u6709\u4e2aurllib.parse.urlencode\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u628a\u5b57\u5178\u5f62\u5f0f\u7684\u53c2\u6570\u8fdb\u884curl\u7f16\u7801\u3002\u5f53url\u5730\u5740\u542b\u6709\u4e2d\u6587\u6216\u8005\u201c/\u201d\u7684\u65f6\u5019\uff0c\u8fd9\u662f\u5c31\u9700\u8981\u7528\u505aurlencode\u4e00\u4e0b\u7f16\u7801\u8f6c\u6362\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/wf592523813/article/details/79141463/ urlencode quote quote_plus unquote \u5b9e\u4f8b from urllib.parse import urlencode, quote, unquote, quote_plus # print('\u7231\u5199\u4ee3\u7801'.encode('UTF-8')) \u548c\u4e0b\u9762\u8fdb\u884c\u5bf9\u6bd4\u533a\u522b print(quote('lucky=\u7231\u5199\u4ee3u\u7801&\u5e74/\u9f84 =18')) print(quote_plus('lucky=\u7231\u5199\u4ee3\u7801&\u5e74/\u9f84 =18')) # \u4f1a\u5bf9\u53c2\u6570\u4e2d\u7684/\u548c+\u8fd8\u6709\u7a7a\u683c\u5728\u8fdb\u884c\u5904\u7406 params = { 'lucky': '\u7231\u5199\u4ee3\u7801', '\u5e74/\u9f84 ': 18 } print(urlencode(params)) \u7ed3\u679c \u5728\u9006\u5411\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u987a\u5e8fquote\u3001quote_plus\u3001urlencode","title":"(3) Python\u4e2d\u8fdb\u884cURL\u5904\u7406"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4-javascript-url","text":"\u8bf4\u660e \u5728 JavaScript \u4e2d encodeURIComponent() \u548c encodeURI() \u8fd9\u4e24\u4e2a\u5185\u7f6e\u51fd\u6570\u90fd\u53ef\u4ee5\u8fdb\u884c URL \u7f16\u7801\uff0c\u4f1a\u628a URL \u4e2d\u7684\u4fdd\u7559\u5b57\u7b26\u66ff\u6362\u4e3a\u5b83\u4eec\u7684 UTF-8 \u7f16\u7801\u540e\u7684\u5b57\u7b26\u3002 encodeURIComponent \u662f JavaScript \u4e2d\u7684\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9 URI\uff08Uniform Resource Identifier\uff09\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\u8fdb\u884c\u7f16\u7801\uff0c\u4f7f\u5176\u53ef\u4ee5\u5b89\u5168\u5730\u7528\u4f5c URL \u7684\u4e00\u90e8\u5206\u3002 ```javascript let originalString = \"Hello, World!\"; let encodedString = encodeURIComponent(originalString); console.log(encodedString); // \"Hello%2C%20World%21\" ``` decodeURIComponent \u4e8e\u89e3\u7801\u7531 encodeURIComponent \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u3002 javascript let decodedString = decodeURIComponent(\"Hello%2C%20World%21\"); console.log(decodedString); // \"Hello, World!\" encodeURI() \u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u8fdb\u884c URL\u7f16\u7801\u5f88\u5bb9\u6613\uff0c\u53ea\u9700\u8981\u8c03\u7528 encodeURI\uff0c\u4f20\u5165\u8981\u7f16\u7801\u7684\u5b57\u7b26\u4e32\u5373\u53ef\u3002\u6b64\u51fd\u6570\u4f1a\u8fd4\u56de\u7f16\u7801\u540e\u7684 URL\u3002 ```javascript let originalString = \"Hello, World!\"; let encodedString = encodeURI(originalString); console.log(encodedString); // Hello,%20World! ``` decodeURI() \u6b64\u51fd\u6570\u4f1a\u8fdb\u884c\u89e3\u7801\uff0c\u8c03\u7528 decodeURI \u51fd\u6570\uff0c\u4f20\u5165\u8981\u4e0a\u8ff0\u7f16\u7801\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5b83\u4f1a\u8fd4\u56de\u89e3\u7801\u540e\u7684\u6b63\u5e38\u7684\u5b57\u7b26\u4e32\u3002 ```javascript let originalString = \"Hello,%20World!\"; let encodedString = decodeURI(originalString); console.log(encodedString); // Hello, World! ``` unescape \u662f JavaScript \u4e2d\u7684\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9\u7ecf\u8fc7 escape \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u89e3\u7801\u3002\u8fd9\u4e24\u4e2a\u51fd\u6570\u5728\u8fc7\u53bb\u7528\u4e8e URI \u7f16\u7801\u548c\u89e3\u7801\uff0c\u4f46\u73b0\u5728\u5df2\u7ecf\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u800c\u662f\u5efa\u8bae\u4f7f\u7528 encodeURIComponent \u548c decodeURIComponent \u3002 ```javascript let encodedString = \"Hello%2C%20World%21\"; let decodedString = unescape(encodedString); console.log(decodedString); // \"Hello, World!\" ``` escape \u662f JavaScript \u4e2d\u7684\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u7f16\u7801\uff0c\u5c06\u5b57\u7b26\u4e32\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684 ASCII \u7f16\u7801\u5f62\u5f0f\u3002\u8fd9\u4e2a\u51fd\u6570\u5728\u8fc7\u53bb\u88ab\u7528\u4e8e URI \u7f16\u7801\uff0c\u4f46\u5728\u73b0\u4ee3 JavaScript \u4e2d\uff0c encodeURIComponent \u66f4\u5e38\u7528\uff0c\u56e0\u4e3a\u5b83\u63d0\u4f9b\u4e86\u66f4\u5b8c\u5584\u548c\u5b89\u5168\u7684\u7f16\u7801\u3002 ```javascript let originalString = \"Hello, World!\"; let encodedString = escape(originalString); console.log(encodedString); // \"Hello%2C%20World%21\" ```","title":"(4) JavaScript \u4e2d\u5bf9 URL \u8fdb\u884c\u7f16\u7801"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#base64","text":"","title":"\u4e09\u3001Base64"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1-base64","text":"Base64\u662f\u4e00\u79cd\u5e38\u7528\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5b83\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3a\u53ef\u6253\u5370\u7684ASCII\u5b57\u7b26\u3002\u5b83\u7684\u540d\u79f0\"Base64\"\u6e90\u81ea\u4e8e\u8be5\u7f16\u7801\u4f7f\u7528\u4e8664\u4e2a\u4e0d\u540c\u7684\u5b57\u7b26\u3002 Base64\u7f16\u7801\u7684\u539f\u7406\u662f\u5c06\u8f93\u5165\u7684\u6570\u636e\u6309\u7167\u6bcf6\u4f4d\u5212\u5206\u4e00\u7ec4\uff0c\u5bf9\u6bcf\u7ec4\u8fdb\u884c\u7f16\u7801\u8f6c\u6362\u3002\u6bcf\u7ec46\u4f4d\u4e8c\u8fdb\u5236\u6570\u53ef\u4ee5\u8868\u793a64\u79cd\u4e0d\u540c\u7684\u503c\uff0c\u56e0\u6b64\u9009\u62e9\u4e8664\u4e2a\u53ef\u6253\u5370\u5b57\u7b26\u4f5c\u4e3a\u7f16\u7801\u8868\u3002\u5e38\u89c1\u7684Base64\u7f16\u7801\u8868\u7531\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e24\u4e2a\u7279\u6b8a\u7b26\u53f7\u7ec4\u6210\uff08\u901a\u5e38\u662fA-Z\u3001a-z\u30010-9\u3001+\u548c/\uff09\uff0c\u5176\u4e2d\u8fd8\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u586b\u5145\u5b57\u7b26\"=\"\u3002 Base64\u7f16\u7801\u7684\u5e94\u7528\u5e7f\u6cdb\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u6570\u636e\u4f20\u8f93\uff1a\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\u4e8c\u8fdb\u5236\u6570\u636e\u65f6\uff0c\u7531\u4e8e\u67d0\u4e9b\u5b57\u7b26\u53ef\u80fd\u4e0e\u534f\u8bae\u6216\u7cfb\u7edf\u4fdd\u7559\u5b57\u7b26\u51b2\u7a81\uff0c\u56e0\u6b64\u9700\u8981\u5148\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3aBase64\u7f16\u7801\u5f62\u5f0f\uff0c\u518d\u8fdb\u884c\u4f20\u8f93\u3002\u63a5\u6536\u65b9\u6536\u5230\u540e\u89e3\u7801\u8fd8\u539f\u4e3a\u539f\u59cb\u4e8c\u8fdb\u5236\u6570\u636e\u3002 \u6570\u636e\u5b58\u50a8\uff1a\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u9700\u8981\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u4ee5\u6587\u672c\u5f62\u5f0f\u5b58\u50a8\uff0c\u4f8b\u5982\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u56fe\u7247\u3001\u97f3\u9891\u7b49\u6587\u4ef6\u3002\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528Base64\u7f16\u7801\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3a\u6587\u672c\u5f62\u5f0f\u5b58\u50a8\uff0c\u4fbf\u4e8e\u8bfb\u53d6\u548c\u5904\u7406\u3002 \u52a0\u5bc6\u7b97\u6cd5\uff1a\u5728\u4e00\u4e9b\u52a0\u5bc6\u7b97\u6cd5\u4e2d\uff0cBase64\u7f16\u7801\u4e5f\u88ab\u7528\u4e8e\u7f16\u7801\u6563\u5217\u503c\u3001\u5bc6\u94a5\u7b49\u4fe1\u606f\uff0c\u4fbf\u4e8e\u4f20\u8f93\u548c\u5904\u7406\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cBase64\u7f16\u7801\u4f1a\u5c06\u539f\u59cb\u6570\u636e\u6269\u5927\u7ea633%\u3002\u7531\u4e8e\u5b83\u53ea\u662f\u4e00\u79cd\u7f16\u7801\u65b9\u5f0f\uff0c\u800c\u4e0d\u662f\u52a0\u5bc6\u7b97\u6cd5\uff0c\u56e0\u6b64\u5e76\u4e0d\u80fd\u63d0\u4f9b\u6570\u636e\u7684\u5b89\u5168\u6027\u3002\u53e6\u5916\uff0cBase64\u7f16\u7801\u540e\u7684\u6570\u636e\u957f\u5ea6\u53ef\u80fd\u4e0d\u662f4\u7684\u500d\u6570\uff0c\u9700\u8981\u4f7f\u7528\u586b\u5145\u5b57\u7b26\"=\"\u6765\u8865\u9f50\u3002","title":"(1) Base64\u7f16\u7801\u8bf4\u660e"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2-base64","text":"Base64\u7f16\u7801\u4e4b\u6240\u4ee5\u79f0\u4e3aBase64\uff0c\u662f\u56e0\u4e3a\u5176\u4f7f\u752864\u4e2a\u5b57\u7b26\u6765\u5bf9\u4efb\u610f\u6570\u636e\u8fdb\u884c\u7f16\u7801\uff0c\u540c\u7406\u6709Base32\u3001Base16\u7f16\u7801\u3002\u6807\u51c6Base64\u7f16\u7801\u4f7f\u7528\u768464\u4e2a\u5b57\u7b26\u4e3a\uff1a Base64\u7f16\u7801\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6210\u6587\u672c\u6570\u636e\u7684\u65b9\u6848\u3002\u5bf9\u4e8e\u975e\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u662f\u5148\u5c06\u5176\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff0c\u7136\u540e\u6bcf\u8fde\u7eed6\u6bd4\u7279\uff082\u76846\u6b21\u65b9=64\uff09\u8ba1\u7b97\u5176\u5341\u8fdb\u5236\u503c\uff0c\u6839\u636e\u8be5\u503c\u5728\u4e0a\u9762\u7684\u7d22\u5f15\u8868\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u5b57\u7b26\uff0c\u6700\u7ec8\u5f97\u5230\u4e00\u4e2a\u6587\u672c\u5b57\u7b26\u4e32\u3002 \u5047\u8bbe\u6211\u4eec\u8981\u5bf9 Hello! \u8fdb\u884cBase64\u7f16\u7801\uff0c\u6309\u7167ASCII\u8868\uff0c\u5176\u8f6c\u6362\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u53ef\u77e5 Hello! \u7684Base64\u7f16\u7801\u7ed3\u679c\u4e3a SGVsbG8h\uff0c \u6bcf3\u4e2a\u539f\u59cb\u5b57\u7b26\u7ecfBase64\u7f16\u7801\u62104\u4e2a\u5b57\u7b26\u3002 \u90a3\u4e48\uff0c\u5f53\u539f\u59cb\u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u80fd\u88ab3\u6574\u9664\u65f6\uff0c\u600e\u4e48\u529e\u5462\uff1f \u4ee5 Hello!! \u4e3a\u4f8b\uff0c\u5176\u8f6c\u6362\u8fc7\u7a0b\u4e3a\uff1a Hello!! Base64\u7f16\u7801\u7684\u7ed3\u679c\u4e3a SGVsbG8hIQAA\u3002\u53ef\u89c1\uff0c\u4e0d\u80fd\u88ab3\u6574\u9664\u65f6\u4f1a\u91c7\u7528\u6765\u6765\u88650\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u7f16\u7801\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u6807\u51c6Base64\u7f16\u7801\u901a\u5e38\u7528 = \u5b57\u7b26\u6765\u66ff\u6362\u6700\u540e\u7684 A\uff0c\u5373\u7f16\u7801\u7ed3\u679c\u4e3a SGVsbG8hIQ==\u3002\u56e0\u4e3a = \u5b57\u7b26\u5e76\u4e0d\u5728Base64\u7f16\u7801\u7d22\u5f15\u8868\u4e2d\uff0c\u5176\u610f\u4e49\u5728\u4e8e\u7ed3\u675f\u7b26\u53f7\uff0c\u5728Base64\u89e3\u7801\u65f6\u9047\u5230 = \u65f6\u5373\u53ef\u77e5\u9053\u4e00\u4e2aBase64\u7f16\u7801\u5b57\u7b26\u4e32\u7ed3\u675f\u3002","title":"(2) Base64\u7f16\u7801\u539f\u7406"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3","text":"\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684base64\u6a21\u5757\u6765\u8fdb\u884cBase64\u7f16\u7801\u548c\u89e3\u7801\u3002\u4e0b\u9762\u662f\u4f7f\u7528Base64\u7684\u57fa\u672c\u793a\u4f8b\uff1a \u5bfc\u5165base64\u6a21\u5757\uff1a python import base64 \u7f16\u7801\uff1a \u4f7f\u7528 base64.b64encode() \u51fd\u6570\u8fdb\u884c\u7f16\u7801\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u5b57\u8282\u4e32\uff08bytes\uff09\u4f5c\u4e3a\u8f93\u5165\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2aBase64\u7f16\u7801\u540e\u7684\u5b57\u8282\u4e32\u3002 python # \u8f93\u5165\u8981\u7f16\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u5b57\u7b26\u4e32\u4e3a\u4f8b data = \"Hello, World!\" # \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u4e32 byte_data = data.encode('utf-8') # \u8fdb\u884cBase64\u7f16\u7801 encoded_data = base64.b64encode(byte_data).decode() # \u8f93\u51fa\u7f16\u7801\u540e\u7684\u7ed3\u679c print(encoded_data) \u89e3\u7801\uff1a \u4f7f\u7528 base64.b64decode() \u51fd\u6570\u8fdb\u884c\u89e3\u7801\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2aBase64\u7f16\u7801\u540e\u7684\u5b57\u8282\u4e32\u4f5c\u4e3a\u8f93\u5165\uff0c\u5e76\u8fd4\u56de\u89e3\u7801\u540e\u7684\u5b57\u8282\u4e32\u3002 python # \u8f93\u5165\u8981\u89e3\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u7f16\u7801\u540e\u7684\u7ed3\u679c\u4e3a\u4f8b encoded_data = 'SGVsbG8sIFdvcmxkIQ==' # \u8fdb\u884cBase64\u89e3\u7801 decoded_data = base64.b64decode(encoded_data) # \u5c06\u5b57\u8282\u4e32\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 result = decoded_data.decode() # \u8f93\u51fa\u89e3\u7801\u540e\u7684\u7ed3\u679c print(result) \u4ee5\u4e0a\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528Python\u7684base64\u6a21\u5757\u8fdb\u884cBase64\u7f16\u7801\u548c\u89e3\u7801\u64cd\u4f5c\u3002\u6839\u636e\u5177\u4f53\u9700\u6c42\uff0c\u53ef\u4ee5\u7075\u6d3b\u4f7f\u7528\u76f8\u5173\u51fd\u6570\u5bf9\u6570\u636e\u8fdb\u884c\u7f16\u7801\u548c\u89e3\u7801\u5904\u7406\u3002","title":"(3) \u7f16\u7801\u4e0e\u89e3\u7801"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4","text":"# \u6765\u5bf9\u6570\u636e\u8fdb\u884c\u7f16\u7801\u5f9764\u4e2a\u4efb\u610f\u5b57\u7b26 Base64Str = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/' # \u7f16\u7801\u540e\u7684base64\u7684\u503c encoded_data = 'SGVsbG8h' binary_system = '' # \u5b58\u50a8\u6700\u7ec8\u62fc\u63a5\u540e\u7684\u4e8c\u8fdb\u5236\u7684\u503c for i in encoded_data: # \u67e5\u627e\u5f53\u524d\u503c\u5728\u5b57\u7b26\u4e2d\u51fa\u73b0\u7684\u4f4d\u7f6e\u5e76\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236 \u5e76\u66ff\u6362\u6389\u7b26\u53f70b r = str(bin(Base64Str.index(i))).replace('0b', '') # \u56e0\u4e3a\u5f53\u524d\u5341\u8fdb\u5236\u662f\u75316\u4f4d\u7684\u4e8c\u8fdb\u5236\u8f6c\u6362\u800c\u6765 \u5bf9\u4e0d\u8db36\u4f4d\u7684\u4e8c\u8fdb\u5236\u75280\u6765\u8865\u5145 \u5e76\u62fc\u63a5\u5230\u4e00\u8d77 binary_system += '0'*(6-len(r))+r str = '' # \u5c06\u4e8c\u8fdb\u5236\u6309\u71678\u4f4d\u4e00\u622a\u53d6 \u622a\u53d6\u540e\u7684\u4e8c\u8fdb\u5236\u8f6c\u4e3a\u5341\u8fdb\u5236 \u5e76\u83b7\u53d6\u8f6c\u6362\u540e\u5bf9\u5e94\u7684\u503c for i in range(0, len(binary_system), 8): start = i end = i+8 v = binary_system[start:end] str += chr(int(v, base=2)) print(str)","title":"(4) \u81ea\u5236\u89e3\u7801(\u4e86\u89e3)"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#5-urlsafe_b64decode","text":"\u8bf4\u660e \u7531\u4e8e\u6807\u51c6\u7684Base64\u7f16\u7801\u540e\u53ef\u80fd\u51fa\u73b0\u5b57\u7b26+\u548c/\uff0c\u5728URL\u4e2d\u5c31\u4e0d\u80fd\u76f4\u63a5\u4f5c\u4e3a\u53c2\u6570\uff0c\u6240\u4ee5\u53c8\u6709\u4e00\u79cd\"url safe\"\u7684base64\u7f16\u7801\uff0c\u5176\u5b9e\u5c31\u662f\u628a\u5b57\u7b26+\u548c/\u5206\u522b\u53d8\u6210-\u548c_ (URL\u4e2d\u7684+ URL\u4e2d\u7684+\u4f1a\u88ab\u6d4f\u89c8\u5668\u81ea\u52a8\u8f6c\u4e49\u6210\u4e3a\u7a7a\u683c, /\u4e3a\u5206\u9694\u7b26) Base64\u7f16\u7801\u540e\u51fa\u73b0\u7684+\u548c/\u5728Base64URL\u4f1a\u5206\u522b\u66ff\u6362\u4e3a-\u548c_ Base64\u7f16\u7801\u4e2d\u672b\u5c3e\u51fa\u73b0\u7684=\u7b26\u53f7\u7528\u4e8e\u8865\u4f4d\uff0c\u8fd9\u4e2a\u5b57\u7b26\u548cqueryString\u4e2d\u7684key=value\u952e\u503c\u5bf9\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u6240\u4ee5\u5728Base64URL\u4e2d=\u7b26\u53f7\u4f1a\u88ab\u7701\u7565\uff0c\u53bb\u6389=\u540e\u600e\u4e48\u89e3\u7801\u5462\uff1f\u56e0\u4e3aBase64\u662f\u628a3\u4e2a\u5b57\u8282\u53d8\u4e3a4\u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\uff0cBase64\u7f16\u7801\u7684\u957f\u5ea6\u6c38\u8fdc\u662f4\u7684\u500d\u6570\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u52a0\u4e0a=\u628aBase64\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u53d8\u4e3a4\u7684\u500d\u6570\uff0c\u5c31\u53ef\u4ee5\u6b63\u5e38\u89e3\u7801\u4e86\u3002 Base64\u7f16\u7801 python # \u8f93\u5165\u8981\u7f16\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u5b57\u7b26\u4e32\u4e3a\u4f8b data = \"\u6536\u62fe\" # \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u4e32 byte_data = data.encode('UTF-8') # \u8fdb\u884cBase64\u7f16\u7801 encoded_data = base64.b64encode(byte_data).decode() # \u8f93\u51fa\u7f16\u7801\u540e\u7684\u7ed3\u679c print(encoded_data) \u7ed3\u679c\uff1a 5pS25ou+ Base64URL\u7f16\u7801 python import base64 data = \"\u6536\u62fe\" # \u5f85\u7f16\u7801\u7684\u4e8c\u8fdb\u5236\u6570\u636e # Base64URL \u7f16\u7801 base64url_encoded = base64.urlsafe_b64encode(data.encode('UTF-8')).rstrip(b\"=\").decode(\"utf-8\") base64url_encoded = base64url_encoded print(\"Base64URL \u7f16\u7801\u7ed3\u679c: \", base64url_encoded) \u7ed3\u679c\uff1a 5pS25ou- \u5c06\u7f16\u7801\u540e\u7684\u52a0\u53f7\u66ff\u6362\u4e3a\u4e86- Base64URL\u89e3\u7801 python base64url_decoded = base64.urlsafe_b64decode(base64url_encoded) print(\"Base64URL \u89e3\u7801\u7ed3\u679c: \", base64url_decoded.decode('UTF-8')) Base64URL \u89e3\u7801\u7ed3\u679c: \u6536\u62fe \u5982\u679c\u5f53\u524d\u4e0d\u8db34\u7684\u500d\u6570\uff0c\u4f7f\u7528=\u8fdb\u884c\u8865\u4f4d","title":"(5) urlsafe_b64decode"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#6-nodebase64","text":"var Base64 = require(\"crypto-js/enc-base64\"); var CryptoJS = require(\"crypto-js\"); const encoded_data = Base64.stringify(CryptoJS.enc.Utf8.parse('lucky boy')); console.log(encoded_data)","title":"(6) node\u4e2d\u8fdb\u884cbase64\u7f16\u7801"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#7","text":"b64\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u957f\u5ea6. \u4e00\u5b9a\u662f4\u7684\u500d\u6570. \u5982\u679c\u5728\u7f51\u9875\u4e0a\u770b\u5230\u6709\u4e9b\u5bc6\u6587\u7684b64\u957f\u5ea6\u4e0d\u662f4\u7684\u500d\u6570. \u4f1a\u62a5\u9519 \u5b9e\u4f8b # \u8f93\u5165\u8981\u89e3\u7801\u7684\u6570\u636e\uff0c\u8fd9\u91cc\u4ee5\u7f16\u7801\u540e\u7684\u7ed3\u679c\u4e3a\u4f8b import base64 encoded_data = 'THVja3kgQm95IQ=' # \u8fdb\u884cBase64\u89e3\u7801 decoded_data = base64.b64decode(encoded_data) # \u5c06\u5b57\u8282\u4e32\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 result = decoded_data.decode('utf-8') \u6b64\u65f6\u8fd0\u884c\u51fa\u73b0\u4ee5\u4e0b\u95ee\u9898 \u89e3\u51b3\u601d\u8def . base64\u957f\u5ea6\u8981\u6c42. \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u662f4\u7684\u500d\u6570. \u586b\u5145\u4e00\u4e0b\u5373\u53ef import base64 s = \"THVja3kgQm95IQ=\" s += (\"=\" * (4 - len(s) % 4)) print(\"\u586b\u5145\u540e\", s) bb = base64.b64decode(s).decode(\"utf-8\") print(bb) \u586b\u5145\u540e\u8fd0\u884c\u7ed3\u679c","title":"(7) \u6ce8\u610f"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#8","text":"\u8bf4\u660e \u5982\u679c\u6709\u4e9b\u7f51\u7ad9\u6309\u7167\u81ea\u5df1\u7684\u65b9\u5f0f\u5bf9\u7f16\u7801\u540e\u7684\u503c\u8fdb\u884c\u4e86\u7b26\u53f7(+/=)\u7684\u66ff\u6362\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u81ea\u5df1\u8fdb\u884c\u66ff\u6362\u4e3a\u6b63\u5e38\u7f16\u7801\u540e\u7684base64\u7684\u503c \u5b9e\u4f8b ```python import base64 s = \"Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6Jh8cIaWfLDqe22fTIyUU338TLmtutRx9thoVTDvyqjRe9c9k1kGoI1cHkCVEuYP-wpbIm0ROJO6-PveLLLs0UnHfdrEZ_xb-m7iyN6vLy1WBc_tnyKFL3cbR3NVNMuu3kLqFVl-iNZjHZHRUPZiABdcmSQwvC1ItEgcxe50pSO1onEZ6YworWuGIeVhJx1IL87ZO_kr-P2u30FTUiHlLrabyw5onmWOFK4xsjlVpuiN0oV__QC7FfhVr5C5BsxdXGjYBytECfksdak6OoZ0_3Rmuh8XKMrgnzEUfzD3sSLxk_grt1GLuRjC-vBdvectE4tUrBcBDbubFHEZwdG-Nde9PBUY4b5TFi6p4477UxIIA06TMt1lIjLrjYyomfV5QSm1WO2-I3VB78go32ELCpTVpE4DADAxkoATqAj4vOBo-Wpdni0Fbkh2DlIEaqUQNKyZext-RIY4G9Snmi8gx5e4H6iOLe5Ynk7SZ1qQ2YbsCcKrF2iZIULVWKFDeigMGTLaa4_JkVTPQa1YeTm7OJThbPV- CjG8lZNjs7xos6xAjdLPMfZeJ2QlNspNt7iAOhyh6XvLmq5yjovXyCOwb52iGcCDrTr-8 NpYB2pITmfVCKa5DtFaFndCiT0B7phq0t7-MUj5cEcVlvVZGVdUK2CfCR3mtS50o44CFm0qFpNDuFGodrbSv5aWAJRodkFObw-DA9R7RxhwxT0oxVdJOcEhlZHZmMO8sJMZDXj2gCq9gbkmyEQ0SAFh_0Mm9BB8Oo_uFHUcM72xAbovUqxyMd97fRyp66LDtR9BwUX0REruT4mC2un6LPoJhGmo5ZhIaqIy8ACNqF6YQ_TsRHxVKoCf3I1pukVFuOPIJZj_elM-ao4LqtFWL6Yfoy4ujx0I901fFPdVWyWvipw_lPbahI2LA4Uect1GkjH_V6Ok2xFVMyr5-Kimc2dk4I9Pz3LDc4pgcSSMHix7He7T0t4dovyCfUzV-8 Q3lsjYmIc5pXreW0xSZhoX-P7a0X7sRWlMQCxfKyBaPc_urpt9Nj-kK2cXoM8orh2hhfQLxrQs9WGQ971qvc4X5zsUypARDi2n2umlqIuE7odQWCfS9LZfIhmui4GJYk-GF-ewvpGpp3nWfskpJU7XvNhZTP-N3eKjwk2aY80WZG8TwVlWxz7pqTd0ahvJowMExOxEkDEJ72Y=\" s1 = s.replace(\"-\", \"+\").replace(\" \", \"/\") # \u901a\u5e38\u7684\u903b\u8f91 bs1 = base64.b64decode(s1) print(bs1) ```","title":"(8) \u8865\u5145"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#9-jsbase64","text":"\u6ce8\u610f\uff1a \u53ea\u80fd\u5904\u7406\u57fa\u672c\u7684base64\u8fd0\u7b97 btoa \u548c atob \u662f JavaScript \u4e2d\u7528\u4e8e\u5904\u7406 Base64 \u7f16\u7801\u7684\u4e24\u4e2a\u51fd\u6570\u3002 btoa \u51fd\u6570\uff1a \u7528\u4e8e\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Base64 \u7f16\u7801\u3002 javascript let originalString = \"Hello, World!\"; let base64String = btoa(originalString); console.log(base64String); // \"SGVsbG8sIFdvcmxkIQ==\" \u6ce8\u610f\uff1a btoa \u53ef\u4ee5\u5904\u7406 ASCII \u5b57\u7b26\u4e32\uff0c\u4f46\u4e0d\u80fd\u5904\u7406\u975e ASCII \u5b57\u7b26\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u5f02\u5e38\u3002\u4e3a\u4e86\u5904\u7406\u975e ASCII \u5b57\u7b26\uff0c\u53ef\u4ee5\u5148\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u7f16\u7801\u3002 ```javascript function utf8_to_b64(str) { return btoa(unescape(encodeURIComponent(str))); } let base64StringUTF8 = utf8_to_b64(\"\u4f60\u597d\uff0c\u4e16\u754c\uff01\"); console.log(base64StringUTF8); ``` atob \u51fd\u6570\uff1a \u7528\u4e8e\u5c06 Base64 \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u89e3\u7801\u4e3a\u539f\u59cb\u5b57\u7b26\u4e32\u3002 javascript let decodedString = atob(base64StringUTF8); console.log(decodeURIComponent(escape(decodedString))); // \"\u4f60\u597d\uff0c\u4e16\u754c\uff01\" \u6ce8\u610f\uff1a atob \u89e3\u7801\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5982\u679c Base64 \u7f16\u7801\u7684\u5185\u5bb9\u4e0d\u662f\u6709\u6548\u7684 Base64 \u683c\u5f0f\uff0c\u4f1a\u8fd4\u56de DOMException \u3002 node\u73af\u5883\u4e2d node\u4ee3\u7801 npm install jsdom ```javascript const jsdom = require(\"jsdom\"); const {JSDOM} = jsdom; const dom = new JSDOM(); var window = dom.window; console.log(window.btoa(\"Hello World!\")); console.log(window.atob(\"SGVsbG8gV29ybGQh\")); ```","title":"(9) js\u4e2d\u7684base64"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#md5","text":"","title":"\u56db\u3001MD5\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1_1","text":"MD5\uff08Message Digest 5\uff09\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u6458\u8981\u7b97\u6cd5\uff0c\u5b83\u5c06\u4efb\u610f\u957f\u5ea6\u7684\u6d88\u606f\u8f93\u5165\uff0c\u5e76\u8f93\u51fa\u4e00\u4e2a128\u4f4d\uff0816\u5b57\u8282\uff09\u7684\u6d88\u606f\u6458\u8981\u3002MD5\u7b97\u6cd5\u901a\u8fc7\u5bf9\u6d88\u606f\u8fdb\u884c\u4e00\u7cfb\u5217\u4f4d\u64cd\u4f5c\u548c\u903b\u8f91\u8fd0\u7b97\uff0c\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u56fa\u5b9a\u957f\u5ea6\u7684\u6458\u8981\u503c\u3002 \u6458\u8981\u7b97\u6cd5\uff1a \u53c8\u79f0\u54c8\u5e0c\u7b97\u6cd5\u3001\u6563\u5217\u7b97\u6cd5\u3002\u6458\u8981\u4e5f\u79f0\u54c8\u5e0c\u503c\uff0c\u8868\u793a\u8f93\u5165\u4efb\u610f\u957f\u5ea6\u7684\u6570\u636e\uff0c\u90fd\u4f1a\u8f93\u51fa\u56fa\u5b9a\u957f\u5ea6\u7684\u6570\u636e\u3002\u901a\u8fc7\u6458\u8981\u7b97\u6cd5\uff08\u6bd4\u5982MDS\u548cSHA-1\uff09\u5c31\u53ef\u4ee5\u5f97\u5230\u8be5\u54c8\u5e0c\u503c\u3002 MD5\u7b97\u6cd5\u7684\u4e3b\u8981\u7279\u70b9\u5305\u62ec\uff1a \u4e0d\u53ef\u9006\u6027\uff1aMD5\u7b97\u6cd5\u662f\u5355\u5411\u52a0\u5bc6\u7b97\u6cd5\uff0c\u65e0\u6cd5\u6839\u636e\u6458\u8981\u503c\u8fd8\u539f\u51fa\u539f\u59cb\u6d88\u606f\u5185\u5bb9\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u65e0\u6cd5\u901a\u8fc7\u6458\u8981\u503c\u53cd\u63a8\u51fa\u539f\u59cb\u6570\u636e\u3002 \u552f\u4e00\u6027\uff1a\u5bf9\u4e8e\u4e0d\u540c\u7684\u8f93\u5165\u6d88\u606f\uff0c\u5176\u751f\u6210\u7684\u6458\u8981\u503c\u901a\u5e38\u662f\u552f\u4e00\u7684\u3002\u5373\u4f7f\u8f93\u5165\u6d88\u606f\u53ea\u6709\u5fae\u5c0f\u7684\u53d8\u5316\uff0c\u751f\u6210\u7684\u6458\u8981\u503c\u4e5f\u4f1a\u6709\u8f83\u5927\u5dee\u5f02\u3002 \u56fa\u5b9a\u957f\u5ea6\uff1a\u65e0\u8bba\u8f93\u5165\u6d88\u606f\u7684\u957f\u5ea6\u5982\u4f55\uff0cMD5\u7b97\u6cd5\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684128\u4f4d\u6458\u8981\u503c\u3002 \u7136\u800c\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cMD5\u7b97\u6cd5\u5df2\u7ecf\u5b58\u5728\u4e00\u4e9b\u5b89\u5168\u6027\u95ee\u9898\u3002\u7531\u4e8e\u5176\u5f31\u78b0\u649e\u6297\u6027\u548c\u9884\u6620\u50cf\u653b\u51fb\u7b49\u95ee\u9898\uff0c\u73b0\u4eca\u4e0d\u63a8\u8350\u5c06MD5\u7528\u4e8e\u5bc6\u7801\u5b58\u50a8\u6216\u6570\u5b57\u7b7e\u540d\u7b49\u5b89\u5168\u5e94\u7528\u573a\u666f\u3002\u76f8\u5bf9\u800c\u8a00\uff0c\u66f4\u5b89\u5168\u7684\u6458\u8981\u7b97\u6cd5\u5305\u62ecSHA-256\uff08Secure Hash Algorithm 256-bit\uff09\u7b49","title":"(1) \u6982\u8ff0"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2-md5","text":"Python\u4e2d ```python from hashlib import md5 def md5_encrypt(text): # \u521b\u5efa\u4e00\u4e2aMD5\u5bf9\u8c61 MD5 = md5() # \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u6d41\u5e76\u8fdb\u884cMD5\u52a0\u5bc6 MD5.update(text.encode('utf-8')) # \u83b7\u53d6\u52a0\u5bc6\u540e\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a encrypted_text = MD5.hexdigest() return encrypted_text # \u8c03\u7528\u51fd\u6570\u8fdb\u884c\u52a0\u5bc6 text = 'Hello, World!' encrypted_text = md5_encrypt(text) print(encrypted_text) ``` \u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a 65a8e27d8879283831b664bd8b7f0ad4 \u3002\u8fd9\u5c31\u662f\u5c06\u5b57\u7b26\u4e32\"Hello, World!\"\u8fdb\u884cMD5\u52a0\u5bc6\u540e\u5f97\u5230\u7684\u7ed3\u679c\u3002 \u8bf7\u6ce8\u610f\uff0c\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u7684 text \u53d8\u91cf\u662f\u5f85\u52a0\u5bc6\u7684\u6587\u672c\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u4fee\u6539\u4e3a\u5176\u4ed6\u5b57\u7b26\u4e32\u3002\u53e6\u5916\uff0c md5_encrypt() \u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u52a0\u5bc6\u540e\u7684\u7ed3\u679c\u3002 node\u4e2dmd5\u52a0\u5bc6 ```javascript const CryptoJS = require('crypto-js'); const hash = CryptoJS.MD5('Hello, World!').toString(); console.log(hash); ```","title":"(2) MD5\u52a0\u5bc6\u4f7f\u7528"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3-md5","text":"MD5\u52a0\u5bc6\u65e0\u6cd5\u89e3\u5bc6,\u662f\u5f88\u5b89\u5168\u7684\u3002\u5e76\u4e14\u5b9e\u9645\u60c5\u51b5\u4e5f\u662f\u5f88\u591ahttp\u8bf7\u6c42\u7528\u7684\u90fd\u662fMD5\u52a0\u5bc6\u3002\u4ece\u6280\u672f\u7684\u89d2\u5ea6\u8bb2,MD5\u771f\u7684\u5f88\u5b89\u5168,\u56e0\u4e3a\u65e0\u6cd5\u89e3\u5bc6,\u7834\u89e3MD5\u7684\u65b9\u5f0f\u53ea\u6709\u4e00\u4e2a:\u649e\u5e93 \u7406\u8bba\u4e0amd5\u52a0\u5bc6\u662f\u4e0d\u53ef\u9006\u7684,\u4f46\u662f\u4e3a\u4ec0\u4e48\u6709\u4e00\u4e9b\u7f51\u7ad9\u53ef\u4ee5\u5b9e\u73b0\u89e3\u5bc6\u5462? \u5176\u5b9emd5\u89e3\u5bc6\u5c31\u662f\u8fd9\u4e9b\u89e3\u5bc6\u7f51\u7ad9\u7684\u670d\u52a1\u5668\u4e00\u76f4\u5728\u8fdb\u884c \u968f\u673a\u7684\u52a0\u5bc6 \uff0c \u7136\u540e\u628a\u52a0\u5bc6\u7684\u5185\u5bb9\u548c\u52a0\u5bc6\u540e\u7684\u5185\u5bb9\u5b58\u5728\u6570\u636e\u5e93\u3002 \u89e3\u5bc6\u7684\u65f6\u5019\u68c0\u67e5\u6709\u6ca1\u6709\u91cd\u590d\u7684,\u6709\u91cd\u590d\u7684\u8c03\u7528\u52a0\u5bc6\u7684\u6570\u636e\u5c31\u53ef\u4ee5\u3002 \u53ea\u8981\u7a0d\u5fae\u590d\u6742\u7684\u5185\u5bb9\u662f\u6ca1\u529e\u6cd5\u89e3\u5bc6\u7684\u3002 \u5b9e\u4f8b url \u89e3\u5bc6 https://www.somd5.com \u52a0\u5bc6 https://md5jiami.bmcx.com \u52a0\u5bc6\u590d\u6742\u7684\u6587\u672c\u5728\u8fdb\u884c\u89e3\u5bc6 \u52a0\u5bc6 \uff0c\u3002+-qw\u6536\u62fe \u89e3\u5bc6 \u52a0\u5bc6\u7b80\u5355\u6587\u672c\u5728\u8fdb\u884c\u89e3\u5bc6 \u52a0\u5bc6 123456 \u89e3\u5bc6","title":"(3) md5\u771f\u7684\u5b89\u5168\u5417?"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4_1","text":"\u5c31\u662f\u5b83\u7f51\u7ad9\u91cc\u5b58\u50a8\u4e86\u5927\u91cf\u7684MD5\u7684\u503c. \u5c31\u50cf\u8fd9\u6837: \u800c\u9700\u8981\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019. \u53ea\u9700\u8981\u4e00\u6761select\u8bed\u53e5\u5c31\u53ef\u4ee5\u67e5\u8be2\u5230\u4e86. \u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u649e\u5e93.","title":"(4) \u649e\u5e93"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#5","text":"\u907f\u514d\u649e\u5e93 : md5\u5728\u8fdb\u884c\u8ba1\u7b97\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u76d0. \u52a0\u76d0\u4e4b\u540e. \u5c31\u5f88\u96be\u649e\u5e93\u4e86. from hashlib import md5 salt = \"\u6211\u662f\u76d0.\u628a\u6211\u52a0\u8fdb\u53bb\u5c31\u6ca1\u4eba\u80fd\u7834\u89e3\u4e86\" obj = md5(salt.encode(\"utf-8\")) # \u52a0\u76d0 obj.update(\"lucky\".encode(\"utf-8\")) bs = obj.hexdigest() print(bs)","title":"(5) \u89e3\u51b3\u649e\u5e93"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#6","text":"\u5982\u679c\u4f7f\u7528\u7684\u662f\u6ca1\u6709\u4efb\u4f55\u66f4\u6539\u7684md5 \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528python\u6216\u8005js\u8fdb\u884c\u52a0\u5bc6\u5373\u53ef \u5982\u679c\u662f\u9b54\u6539\u7684\uff0c\u53ea\u80fd\u901a\u8fc7\u6263js\u4ee3\u7801\u6765\u89e3\u51b3 \u5982\u4f55\u5224\u65ad\u662f\u5426\u662f\u66f4\u6539\u540e\u7684\u52a0\u5bc6\u7b97\u6cd5 \u901a\u8fc7\u5f53\u524d\u7f51\u5740 https://1024tools.com/hash \u8fdb\u884c\u52a0\u5bc6\u5bf9\u6bd4","title":"(6) \u5982\u679c\u6211\u4eec\u9047\u5230\u4e86\u600e\u4e48\u529e\uff1f"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#7_1","text":"SHA-1\u7b97\u6cd5\uff1a SHA-1\uff08Secure Hash Algorithm 1\uff09\u662f\u4e00\u79cd\u8f83\u4e3a\u5e38\u89c1\u7684\u6458\u8981\u7b97\u6cd5\uff0c \u8f93\u51fa\u957f\u5ea6\u4e3a160\u4f4d\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528hashlib\u5e93\u4e2d\u7684sha1()\u51fd\u6570\u6765\u8ba1\u7b97SHA-1\u6458\u8981\u3002 ```python import hashlib message = \"Hello, World!\" sha1_hash = hashlib.sha1(message.encode()).hexdigest() print(sha1_hash) ``` SHA-256\u7b97\u6cd5\uff1a SHA-256\uff08Secure Hash Algorithm 256-bit\uff09\u662fSHA-2\u7cfb\u5217\u4e2d\u7684\u4e00\u79cd\u6458\u8981\u7b97\u6cd5\uff0c\u8f93\u51fa\u957f\u5ea6\u4e3a256\u4f4d\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528hashlib\u5e93\u4e2d\u7684sha256()\u51fd\u6570\u6765\u8ba1\u7b97SHA-256\u6458\u8981\u3002 ```python import hashlib message = \"Hello, World!\" sha256_hash = hashlib.sha256(message.encode()).hexdigest() print(sha256_hash) ``` SHA-512\u7b97\u6cd5\uff1a SHA-512\uff08Secure Hash Algorithm 512-bit\uff09\u4e5f\u662fSHA-2\u7cfb\u5217\u4e2d\u7684\u4e00\u79cd\u6458\u8981\u7b97\u6cd5\uff0c\u8f93\u51fa\u957f\u5ea6\u4e3a512\u4f4d\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528hashlib\u5e93\u4e2d\u7684sha512()\u51fd\u6570\u6765\u8ba1\u7b97SHA-512\u6458\u8981\u3002 ```python import hashlib message = \"Hello, World!\" sha512_hash = hashlib.sha512(message.encode()).hexdigest() print(sha512_hash) ```","title":"(7) \u5176\u5b83\u6458\u8981\u7b97\u6cd5\u7684\u4f7f\u7528"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#_2","text":"","title":"\u4e94\u3001\u5bf9\u79f0\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1_2","text":"\u5bf9\u79f0\u52a0\u5bc6\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e5f\u88ab\u79f0\u4e3a\u79c1\u94a5\u52a0\u5bc6\u3002\u5728\u5bf9\u79f0\u52a0\u5bc6\u4e2d\uff0c\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u8fdb\u884c\u6570\u636e\u7684\u52a0\u5bc6\u548c\u89e3\u5bc6\u3002\u53d1\u9001\u65b9\u4f7f\u7528\u5bc6\u94a5\u5bf9\u8981\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\uff0c\u63a5\u6536\u65b9\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u5bf9\u63a5\u6536\u5230\u7684\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u3002 \u5bf9\u79f0\u52a0\u5bc6\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a \u5feb\u901f\uff1a\u7531\u4e8e\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u8fdb\u884c\u52a0\u5bc6\u548c\u89e3\u5bc6\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u901a\u5e38\u6267\u884c\u901f\u5ea6\u5f88\u5feb\u3002 \u7b80\u5355\uff1a\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u76f8\u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u52a0\u5bc6\u7b97\u6cd5\u6765\u8bf4\u8f83\u4e3a\u7b80\u5355\uff0c\u5b9e\u73b0\u8d77\u6765\u6bd4\u8f83\u5bb9\u6613\u3002 \u5b89\u5168\u6027\u4f9d\u8d56\u4e8e\u5bc6\u94a5\u4fdd\u7ba1\uff1a\u7531\u4e8e\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\u8fdb\u884c\u52a0\u5bc6\u548c\u89e3\u5bc6\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7684\u5b89\u5168\u6027\u975e\u5e38\u4f9d\u8d56\u4e8e\u5bc6\u94a5\u7684\u4fdd\u7ba1\u3002\u5982\u679c\u5bc6\u94a5\u88ab\u6cc4\u9732\uff0c\u90a3\u4e48\u52a0\u5bc6\u6570\u636e\u5c31\u4f1a\u53d7\u5230\u5a01\u80c1\u3002 \u5e38\u89c1\u7684\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u5305\u62ecDES\uff08Data Encryption Standard\uff09\u3001AES\uff08Advanced Encryption Standard\uff09\u548cRC4\uff08Rivest Cipher 4\uff09\u3002\u8fd9\u4e9b\u7b97\u6cd5\u5df2\u7ecf\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f51\u7edc\u901a\u4fe1\u3001\u6570\u636e\u5b58\u50a8\u548c\u52a0\u5bc6\u534f\u8bae\u7b49\u9886\u57df\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027\u3002 \u6d4b\u8bd5\u7f51\u7ad9 : https://the-x.cn/cryptography/Aes.aspx","title":"(1) \u8bf4\u660e"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2-aes","text":"\u5b89\u88c5PyCryptodome\u5e93 python pip install pycryptodome \u5b89\u88c5\u4e0d\u4e0a\u62a5\u9519\u4e3avc++14.0 \u5347\u7ea7pip \u964d\u4f4e\u4f60\u7684python\u7248\u672c..(3.10) \u53bb\u627ehl\u6587\u4ef6 https://www.lfd.uci.edu/~gohlke/pythonlibs/ \u5982\u679c\u5b89\u88c5\u4e0a\u65e0\u6cd5\u4f7f\u7528 \u786e\u5b9a\u5f53\u524d\u4f7f\u7528\u7684\u73af\u5883\u548c\u5b89\u88c5\u7684\u662f\u540c\u4e00\u4e2a\u89e3\u91ca\u5668 \u53bbsite-packages\u4e2d\u627e\u5230crypto \u628a\u5c0f\u5199\u7684c \u6539\u4e3a \u5927\u5199\u7684C","title":"(2) AES\u6a21\u5757\u5b89\u88c5"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3-aes-cbc","text":"\u5bfc\u5165\u5fc5\u8981\u7684\u6a21\u5757 python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad from Crypto.Random import get_random_bytes \u5b8c\u6574\u52a0\u5bc6\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad from Crypto.Random import get_random_bytes import base64 key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 plaintext = 'Lucky is a good man'.encode('UTF-8') iv = '1234567890000001'.encode('UTF-8') # iv = get_random_bytes(AES.block_size) # \u968f\u673a\u751f\u6210iv\u65b9\u6cd5 cipher = AES.new(key, AES.MODE_CBC, iv) # \u5c06\u4e00\u4e2a\u660e\u6587\uff08plaintext\uff09\u8fdb\u884c\u586b\u5145\uff08padding\uff09\u64cd\u4f5c\uff0c\u4f7f\u5176\u957f\u5ea6\u53d8\u4e3a16\u7684\u500d\u6570 # \u5f53\u524d16\u4e5f\u53ef\u4ee5\u4f7f\u7528AES.block_size\u8fdb\u884c\u66ff\u4ee3 # \u9ed8\u8ba4\u586b\u5145\u65b9\u5f0f\u4e3a pkcs7 padded_plaintext = pad(plaintext, 16) # \u4f7f\u7528cipher\u5bf9\u8c61\u5bf9padded_plaintext\u8fdb\u884c\u52a0\u5bc6\u64cd\u4f5c ciphertext = cipher.encrypt(padded_plaintext) print(\"\u52a0\u5bc6\u540e\u7684\u5bc6\u6587:\", ciphertext) # AES\u52a0\u5bc6\u540e\u7684byte\u6570\u636e\u4e0d\u80fd\u76f4\u63a5\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u6b64\u65f6\u53ef\u5c06\u5176\u52a0\u5bc6\u540e\u7684\u7ed3\u679c\u7528base64\u52a0\u5bc6\uff0c\u518d\u8f6c\u4e3a\u5b57\u7b26\u4e32\u5373\u53ef data = base64.b64encode(ciphertext) print(data.decode()) ``` \u5176\u4e2d\uff0c key \u662f\u52a0\u5bc6\u5bc6\u94a5\uff0c plaintext \u662f\u8981\u52a0\u5bc6\u7684\u660e\u6587\u3002\u51fd\u6570\u5185\u90e8\u4f7f\u7528 get_random_bytes \u51fd\u6570\u751f\u6210\u4e00\u4e2a\u968f\u673a\u7684\u521d\u59cb\u5411\u91cf\uff08IV\uff09\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2aAES\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528CBC\u6a21\u5f0f\u548c\u521d\u59cb\u5411\u91cf\u8fdb\u884c\u521d\u59cb\u5316\u3002\u63a5\u7740\uff0c\u5bf9\u660e\u6587\u8fdb\u884c\u586b\u5145\uff08\u4f7f\u7528 pad \u51fd\u6570\uff09\uff0c\u5e76\u4f7f\u7528AES\u5bf9\u8c61\u7684 encrypt \u65b9\u6cd5\u8fdb\u884c\u52a0\u5bc6\u3002\u6700\u540e\uff0c\u8fd4\u56de\u7531\u521d\u59cb\u5411\u91cf\u548c\u5bc6\u6587\u7ec4\u6210\u7684\u7ed3\u679c\u3002 \u5176\u4e2dkey\u7684\u957f\u5ea6\uff0ckey\u3001iv\u7684\u957f\u5ea6\u4e3a16\u300124\u300132\u3002\u52a0\u5bc6\u65b9\u5f0f\u5bf9\u5e94\u4e3a 16: AES-128 24: AES-192 32: AES-256 \u521d\u59cb\u5411\u91cfIV \uff1a\u521d\u59cb\u5411\u91cfIV\u7684\u4f5c\u7528\u662f\u4f7f\u52a0\u5bc6\u66f4\u52a0\u5b89\u5168\u53ef\u9760\uff0c\u6211\u4eec\u4f7f\u7528AES\u52a0\u5bc6\u65f6\u9700\u8981\u4e3b\u52a8\u63d0\u4f9b\u521d\u59cb\u5411\u91cf\uff0c\u800c\u4e14\u53ea\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u521d\u59cb\u5411\u91cf\u5c31\u591f\u4e86\uff0c\u540e\u9762\u6bcf\u6bb5\u6570\u636e\u7684\u52a0\u5bc6\u5411\u91cf\u90fd\u662f\u524d\u9762\u4e00\u6bb5\u7684\u5bc6\u6587 \u5bc6\u94a5 \uff1aAES\u8981\u6c42\u5bc6\u94a5\u7684\u957f\u5ea6\u53ef\u4ee5\u662f128\u4f4d16\u4e2a\u5b57\u8282\u3001192\u4f4d\u6216\u8005256\u4f4d\uff0c\u4f4d\u6570\u8d8a\u9ad8\uff0c\u52a0\u5bc6\u5f3a\u5ea6\u81ea\u7136\u8d8a\u5927\uff0c\u4f46\u662f\u52a0\u5bc6\u7684\u6548\u7387\u81ea\u7136\u4f1a\u4f4e\u4e00\u4e9b\uff0c\u56e0\u6b64\u8981\u505a\u597d\u8861\u91cf\u3002\u6211\u4eec\u5f00\u53d1\u901a\u5e38\u91c7\u7528128\u4f4d16\u4e2a\u5b57\u8282\u7684\u5bc6\u94a5\uff0c\u6211\u4eec\u4f7f\u7528AES\u52a0\u5bc6\u65f6\u9700\u8981\u4e3b\u52a8\u63d0\u4f9b\u5bc6\u94a5\uff0c\u800c\u4e14\u53ea\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u5bc6\u94a5\u5c31\u591f\u4e86\uff0c\u6bcf\u6bb5\u6570\u636e\u52a0\u5bc6\u4f7f\u7528\u7684\u90fd\u662f\u8fd9\u4e00\u4e2a\u5bc6\u94a5\uff0c\u5bc6\u94a5\u6765\u6e90\u4e3a\u968f\u673a\u751f\u6210\u3002 \u52a0\u5bc6\u56fe\u793a\uff08\u9700\u8981IV\uff09 \u5b8c\u6574\u89e3\u5bc6\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 iv = '1234567890000001'.encode('UTF-8') # \u52a0\u5bc6\u6570\u636e ciphertext = b'\\n\\x00{\\x8e\\xde\\xef\\x02\\x81j\\x0f\\x11\\x0fN\\xa1\\xd8\\xb1q#\\x13X\\xf0\\x01 )\\x1d\\x88\\x08\\xf7\\x03h.\\x99' cipher = AES.new(key, AES.MODE_CBC, iv) # \u8fdb\u884c\u89e3\u5bc6 padded_plaintext = cipher.decrypt(ciphertext) # unpad\u53bb\u9664\u88ab\u586b\u5145\u7684\u6587\u672c \u586b\u5145\u4e3a16\u7684\u500d\u6570 plaintext = unpad(padded_plaintext, 16) print(\"\u89e3\u5bc6\u540e\u7684\u660e\u6587:\", plaintext) ``` \u8fd9\u91cc\u7684\u53c2\u6570\u548c\u6b65\u9aa4\u4e0e\u52a0\u5bc6\u51fd\u6570\u76f8\u4f3c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u6211\u4eec\u9996\u5148\u4ece\u5bc6\u6587\u4e2d\u83b7\u53d6\u521d\u59cb\u5411\u91cf\uff08IV\uff09\uff0c\u7136\u540e\u4f7f\u7528AES\u5bf9\u8c61\u7684 decrypt \u65b9\u6cd5\u6765\u89e3\u5bc6\u5269\u4f59\u90e8\u5206\u7684\u5bc6\u6587\uff0c\u5e76\u5728\u89e3\u5bc6\u540e\u4f7f\u7528 unpad \u51fd\u6570\u53bb\u9664\u586b\u5145\uff0c\u5f97\u5230\u660e\u6587\u3002 AES\u52a0\u5bc6\u7b97\u6cd5\u4e2d\uff0c\u5bf9\u4e8e\u5f85\u52a0\u5bc6\u7684\u6570\u636e\uff0c\u9700\u8981\u8fdb\u884c\u586b\u5145\u64cd\u4f5c\u4f7f\u5176\u957f\u5ea6\u4e3a16\u7684\u500d\u6570\u3002\u8fd9\u662f\u56e0\u4e3aAES\u7b97\u6cd5\u91c7\u7528\u5206\u7ec4\u5bc6\u7801\u7684\u65b9\u5f0f\u8fdb\u884c\u52a0\u5bc6\uff0c\u6bcf\u4e2a\u5206\u7ec4\u7684\u957f\u5ea6\u56fa\u5b9a\u4e3a128\u4f4d\uff0816\u5b57\u8282\uff09\u3002\u5982\u679c\u5f85\u52a0\u5bc6\u7684\u6570\u636e\u957f\u5ea6\u4e0d\u662f16\u7684\u6574\u6570\u500d\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u586b\u5145\u64cd\u4f5c\u3002","title":"(3) AES - CBC\u6a21\u5f0f\u52a0\u5bc6\u89e3\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4-aes-ecb","text":"\u52a0\u5bc6\u56fe\u793a\uff08\u4e0d\u9700\u8981IV\uff09 \u5bfc\u5165\u6240\u9700\u7684\u6a21\u5757 python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad \u52a0\u5bc6\u5b8c\u6574\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad import base64 key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 plaintext = 'Lucky is a good man'.encode('UTF-8') print(AES.block_size) cipher = AES.new(key, AES.MODE_ECB) # \u9ed8\u8ba4\u586b\u5145\u65b9\u5f0f\u4e3a pkcs7 padded_plaintext = pad(plaintext, AES.block_size) ciphertext = cipher.encrypt(padded_plaintext) print(\"\u52a0\u5bc6\u540e\u7684\u5bc6\u6587:\", ciphertext) # \u53d8\u4e3a\u5b57\u7b26 ciphertext = base64.b64encode(ciphertext).decode() print(\"\u52a0\u5bc6\u540e\u7684\u5bc6\u6587:\", ciphertext) ``` \u5176\u4e2d\uff0c key \u662f\u52a0\u5bc6\u5bc6\u94a5\uff0c plaintext \u662f\u8981\u52a0\u5bc6\u7684\u660e\u6587\u3002\u51fd\u6570\u5185\u90e8\u521b\u5efa\u4e86\u4e00\u4e2aAES\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528ECB\u6a21\u5f0f\u8fdb\u884c\u521d\u59cb\u5316\u3002\u7136\u540e\uff0c\u5bf9\u660e\u6587\u8fdb\u884c\u586b\u5145\uff08\u4f7f\u7528 pad \u51fd\u6570\uff09\uff0c\u5e76\u4f7f\u7528AES\u5bf9\u8c61\u7684 encrypt \u65b9\u6cd5\u8fdb\u884c\u52a0\u5bc6\u3002\u6700\u540e\uff0c\u8fd4\u56de\u5bc6\u6587\u3002 \u89e3\u5bc6\u5b8c\u6574\u64cd\u4f5c ```python from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad key = 'mysecretpassword'.encode('UTF-8') # \u52a0\u5bc6\u5bc6\u94a5\uff0c\u957f\u5ea6\u5fc5\u987b\u4e3a16\u300124\u621632\u5b57\u8282 # \u52a0\u5bc6\u6570\u636e ciphertext = b'\\x02=H*\\x9d\\x90\\xb1\\xc7\\xa0(rf4[CX\\x92\\xd4h%\\x0f,\\x9f\\x17\\x1b\\xd1\\xfeG\\xe5PJc' cipher = AES.new(key, AES.MODE_ECB) # \u8fdb\u884c\u89e3\u5bc6 padded_plaintext = cipher.decrypt(ciphertext) # unpad\u53bb\u9664\u88ab\u586b\u5145\u7684\u6587\u672c plaintext = unpad(padded_plaintext, 16) print(\"\u89e3\u5bc6\u540e\u7684\u660e\u6587:\", plaintext) ``` \u8fd9\u91cc\u7684\u53c2\u6570\u548c\u6b65\u9aa4\u4e0e\u52a0\u5bc6\u51fd\u6570\u76f8\u4f3c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u6211\u4eec\u4f7f\u7528AES\u5bf9\u8c61\u7684 decrypt \u65b9\u6cd5\u6765\u89e3\u5bc6\u5bc6\u6587\uff0c\u5e76\u5728\u89e3\u5bc6\u540e\u4f7f\u7528 unpad \u51fd\u6570\u53bb\u9664\u586b\u5145\uff0c\u5f97\u5230\u660e\u6587\u3002","title":"(4) AES - ECB\u6a21\u5f0f\u52a0\u5bc6\u89e3\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#5-key","text":"\u957f\u5ea6\u4e3a 16: AES-128 24: AES-192 32: AES-256 \u4f7f\u7528\u573a\u666f \u901a\u8fc7URL\u4e0b\u8f7d\u5230\u7684\u79d8\u94a5 \u957f\u5ea6\u4e3a16","title":"(5) key\u7684\u957f\u5ea6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#6-aes-ecbcbc","text":"AES.MODE_ECB \u7535\u5b50\u5bc6\u7801\u672c\u6a21\u5f0f\uff08Electronic Codebook Mode\uff09 \u6700\u7b80\u5355\u7684AES\u5de5\u4f5c\u6a21\u5f0f\uff0c\u5c06\u660e\u6587\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u5757\u72ec\u7acb\u52a0\u5bc6 \u4e0d\u5efa\u8bae\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u4f7f\u7528\uff0c\u56e0\u4e3a\u5bb9\u6613\u53d7\u5230\u91cd\u653e\u653b\u51fb\u548c\u6a21\u5f0f\u91cd\u590d\u7684\u95ee\u9898 AES.MODE_CBC \u5bc6\u7801\u5206\u7ec4\u94fe\u63a5\u6a21\u5f0f\uff08Cipher Block Chaining Mode\uff09 \u4f7f\u7528\u524d\u4e00\u4e2a\u5bc6\u6587\u5757\u4e0e\u5f53\u524d\u660e\u6587\u5757\u8fdb\u884c\u5f02\u6216\u8fd0\u7b97\u540e\u518d\u52a0\u5bc6 \u6dfb\u52a0\u4e86\u521d\u59cb\u5316\u5411\u91cf\uff08IV\uff09\u4ee5\u589e\u52a0\u968f\u673a\u6027\u548c\u5b89\u5168\u6027","title":"(6) \u5e38\u89c1\u7684AES-ECB\u3001CBC\u52a0\u5bc6\u7b97\u6cd5\u5de5\u4f5c\u6a21\u5f0f\u53ca\u5176\u4f5c\u7528"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#7-des","text":"\u52a0\u5bc6 ```python from Crypto.Cipher import DES from Crypto.Util.Padding import pad import base64 # \u8bbe\u7f6e\u5bc6\u94a5\uff088\u5b57\u8282\uff09 key = b'abcdefgh' # \u521b\u5efaDES\u5bf9\u8c61\u5e76\u8bbe\u7f6e\u4e3a\u52a0\u5bc6\u6a21\u5f0f cipher = DES.new(key, DES.MODE_ECB) # \u8981\u52a0\u5bc6\u7684\u6570\u636e\uff08\u5fc5\u987b\u662f8\u5b57\u8282\u7684\u6574\u6570\u500d\uff09 data = 'lucky is a good man'.encode('UTF-8') # \u8fdb\u884c\u586b\u5145\u4e3a8\u5b57\u8282\u7684\u6574\u6570\u500d padded_plaintext = pad(data, DES.block_size) # \u52a0\u5bc6\u6570\u636e encrypted_data = cipher.encrypt(padded_plaintext) print('\u52a0\u5bc6\u540e\u7684\u6570\u636e\uff1a', encrypted_data) # \u4f7f\u7528base64\u8f6c\u6362\u4e3a\u5b57\u7b26 data = base64.b64encode(encrypted_data).decode() print('\u52a0\u5bc6\u540e\u7684\u6570\u636e\uff1a', data) ``` \u89e3\u5bc6 ```python from Crypto.Cipher import DES from Crypto.Util.Padding import pad, unpad encrypted_data = b'\\xe8 \\xdd\\xb5\\x94\\xb6\\x8d\\xb0\\xc5\\xd8\\xbf~\\xd9\\xde\\x8a\\xfc\\xe6\\x06\\xe8\\x85K\\xe1f+' # \u8bbe\u7f6e\u5bc6\u94a5\uff088\u5b57\u8282\uff09 key = b'abcdefgh' # \u521b\u5efa\u65b0\u7684DES\u5bf9\u8c61\u5e76\u8bbe\u7f6e\u4e3a\u89e3\u5bc6\u6a21\u5f0f cipher_decrypt = DES.new(key, DES.MODE_ECB) # \u89e3\u5bc6\u6570\u636e decrypted_data = cipher_decrypt.decrypt(encrypted_data) # \u53bb\u9664\u586b\u5145\u4e3a8\u5b57\u8282\u7684\u6574\u6570\u500d padded_plaintext = unpad(decrypted_data, DES.block_size) print('\u89e3\u5bc6\u540e\u7684\u6570\u636e\uff1a', padded_plaintext.decode()) ```","title":"(7) DES \u52a0\u5bc6\u89e3\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#_3","text":"","title":"\u516d\u3001\u975e\u5bf9\u79f0\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1_3","text":"\u975e\u5bf9\u79f0\u52a0\u5bc6\uff0c\u4e5f\u79f0\u4e3a\u516c\u94a5\u52a0\u5bc6\uff0c\u662f\u4e00\u79cd\u52a0\u5bc6\u7b97\u6cd5\u7684\u7c7b\u578b\u3002\u4e0e\u5bf9\u79f0\u52a0\u5bc6\u4e0d\u540c\uff0c\u975e\u5bf9\u79f0\u52a0\u5bc6\u4f7f\u7528\u4e24\u4e2a\u4e0d\u540c\u4f46\u76f8\u5173\u7684\u5bc6\u94a5\uff0c\u5206\u522b\u79f0\u4e3a\u516c\u94a5\u548c\u79c1\u94a5\u3002 \u5728\u975e\u5bf9\u79f0\u52a0\u5bc6\u4e2d\uff0c\u516c\u94a5\u7528\u4e8e\u52a0\u5bc6\u6570\u636e\uff0c\u800c\u79c1\u94a5\u7528\u4e8e\u89e3\u5bc6\u6570\u636e\u3002\u516c\u94a5\u53ef\u4ee5\u516c\u5f00\u7ed9\u4efb\u4f55\u4eba\uff0c\u800c\u79c1\u94a5\u5219\u5fc5\u987b\u4fdd\u5bc6\u3002\u5f53\u53d1\u9001\u65b9\u4f7f\u7528\u63a5\u6536\u65b9\u7684\u516c\u94a5\u6765\u52a0\u5bc6\u6570\u636e\u65f6\uff0c\u53ea\u6709\u62e5\u6709\u76f8\u5e94\u79c1\u94a5\u7684\u63a5\u6536\u65b9\u624d\u80fd\u89e3\u5bc6\u5e76\u8bfb\u53d6\u6570\u636e\u3002 \u8fd9\u79cd\u52a0\u5bc6\u65b9\u6cd5\u5177\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u5b89\u5168\u6027\uff0c\u56e0\u4e3a\u79c1\u94a5\u4ec5\u7531\u63a5\u6536\u65b9\u6301\u6709\uff0c\u5176\u4ed6\u4eba\u65e0\u6cd5\u89e3\u5bc6\u6570\u636e\u3002 \u5141\u8bb8\u5b89\u5168\u5730\u5728\u4e0d\u5b89\u5168\u7684\u901a\u4fe1\u6e20\u9053\u4e0a\u4ea4\u6362\u516c\u94a5\u3002 \u53ef\u4ee5\u7528\u4e8e\u6570\u5b57\u7b7e\u540d\uff0c\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u8eab\u4efd\u8ba4\u8bc1\u3002 \u7136\u800c\uff0c\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u8fd0\u7b97\u901f\u5ea6\u6bd4\u5bf9\u79f0\u52a0\u5bc6\u6162\uff0c\u5e76\u4e14\u5728\u5904\u7406\u5927\u91cf\u6570\u636e\u65f6\u53ef\u80fd\u4f1a\u53d7\u5230\u6027\u80fd\u5f71\u54cd\u3002\u56e0\u6b64\uff0c\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u901a\u5e38\u4f1a\u5c06\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u975e\u5bf9\u79f0\u52a0\u5bc6\u7ed3\u5408\u4f7f\u7528\uff0c\u4ee5\u517c\u987e\u6548\u7387\u548c\u5b89\u5168\u6027\u3002 \u5e38\u89c1\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5: RSA, DSA\u7b49\u7b49, \u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a. RSA\u52a0\u5bc6, \u4e5f\u662f\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848","title":"(1) \u6982\u8ff0"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2_1","text":"from Crypto.PublicKey import RSA # \u751f\u6210\u79d8\u94a5 rsakey = RSA.generate(2048)p # \u751f\u6210\u516c\u94a5 public_key = rsakey.publickey().exportKey() with open(\"rsa.public.pem\", mode=\"wb\") as f: f.write(public_key) # \u751f\u6210\u79c1\u94a5 private_key = rsakey.exportKey() with open(\"rsa.private.pem\", mode=\"wb\") as f: f.write(private_key) \u5bc6\u94a5\u957f\u5ea6\u6216RSA\u7684\u5927\u5c0f\uff08\u4ee5\u4f4d\u4e3a\u5355\u4f4d\uff09\u3002\u5b83\u5fc5\u987b\u81f3\u5c11\u4e3a1024\uff0c\u4f46\u5efa\u8bae\u4f7f\u7528 2048 \u6ce8\u610f\uff1a \u4ee5\u540e\u518d\u4ee3\u7801\u4e2d\u770b\u523065537\u6216\u800510001 \u90a3\u4e48\u90fd\u4e3arsa\u52a0\u5bc6 \u516c\u94a5\u6307\u6570\u662f\u53ef\u4ee5\u968f\u610f\u9009\u53d6\u7684\uff0c\u4f46\u662f\u4e3a\u4e86\u63d0\u9ad8RSA\u7684\u52a0\u5bc6\u901f\u5ea6\u5b9e\u9645\u4f7f\u7528\u4e2d\u516c\u94a5\u6307\u6570\u6700\u957f\u7528\u7684\u4e09\u4e2a\u503c\u662f3\u300117\u300165537","title":"(2) \u521b\u5efa\u516c\u94a5\u548c\u79c1\u94a5"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3-rsa","text":"import base64 from Crypto.Cipher import PKCS1_v1_5 from Crypto.PublicKey import RSA # \u83b7\u53d6\u516c\u94a5 with open(\"rsa.public.pem\", mode=\"r\") as f: public_key = f.read()f # \u5bfc\u5165\u4e00\u4e2aRSA\u516c\u94a5 rsa_pk = RSA.importKey(public_key) # \u521b\u5efa\u4e00\u4e2a\u4f7f\u7528RSA\u516c\u94a5\u7684\u52a0\u5bc6\u5668\u5bf9\u8c61 rsa = PKCS1_v1_5.new(rsa_pk) # \u8fdb\u884crsa\u52a0\u5bc6 data = \"lucky is a good man\" result = rsa.encrypt(data.encode(\"utf-8\")) # \u5904\u7406\u6210b64\u65b9\u4fbf\u4f20\u8f93 b64_result = base64.b64encode(result).decode(\"utf-8\") print(b64_result)","title":"(3) RSA\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3-rsa_1","text":"import base64 from Crypto.Cipher import PKCS1_v1_5 from Crypto.PublicKey import RSA # \u52a0\u5bc6\u7684RSA base64\u6570\u636e data = \"e9mlJn6+0veGo1SSj7J8MWthA9TsAY9iJWAykBWlvYBYzWfdXjZc9aEOFPNk7U/FGJEfwqpsowtKTcAlpyBh44vrfkCXmzWz1mHek2UozRYIdB8c+hBv30UvlQ9bT3ja/2Mz/OstDBeo0G4R821mNPYxwbr39n7sdZmETzf5o8w/9NFLSVEYFCy9rfSEnCTPwlyVEqJKsy6chPyZc04lMVJ1UxKd9Z3EfbuVj1xZoMrn8QzV/ItgQ2XWZdUoO61TWXORnnKnpZvOoChyW1pWUb9CuBkglCkkXbUKFKkgmphBHxbqXZbd3Z+1PZ9qh1qdaOrMmwhgrrdFIl2ly++KOQ==\" # \u8bfb\u53d6\u79c1\u94a5 with open(\"rsa.private.pem\", mode=\"r\") as f: priate_key = f.read() # \u5bfc\u5165\u4e00\u4e2aRSA\u79c1\u94a5 rsa_pk = RSA.importKey(priate_key) # \u521b\u5efa\u4e00\u4e2a\u4f7f\u7528RSA\u79c1\u94a5\u7684\u52a0\u5bc6\u5668\u5bf9\u8c61 rsa = PKCS1_v1_5.new(rsa_pk) # \u8fdb\u884c\u89e3\u5bc6 result = rsa.decrypt(base64.b64decode(data), None) print(result.decode(\"utf-8\")) \u4ee5\u4e0a\u4ee3\u7801\u4f7f\u7528Crypto\u5e93\u8bfb\u53d6\u4e86\u4e00\u4e2aRSA\u5bc6\u94a5\u5bf9\uff0c\u5e76\u4f7f\u7528\u79c1\u94a5\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u3002\u6700\u540e\u8f93\u51fa\u4e86\u89e3\u5bc6\u540e\u7684\u6570\u636e\u3002","title":"(3) RSA\u89e3\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4_2","text":"","title":"(4) \u6d41\u7a0b\u56fe"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#5_1","text":"\u4f7f\u7528RSA\u52a0\u5bc6\u6216\u8005\u89e3\u5bc6\u5efa\u8bae\u4f7f\u7528js \u8fdb\u884c\u5904\u7406 \u56e0\u4e3ajs\u66f4\u52a0\u7b80\u5355 \u53e6\u5916\u9700\u8981\u6ce8\u610f\u4e0b\u9762\u4e24\u79cd\u5f62\u5f0f\u7684RSA \u7f51\u6613\uff08\u65e0\u6cd5\u4f7f\u7528python\u7684crypto\u8fdb\u884c\u5904\u7406\uff09 \u4f7f\u7528\u7f51\u5740 https://ohdave.com/rsa/ \u4e2d\u5927\u7f51\u6821\uff08\u8fd9\u79cd\u548cpython\u7684\u662f\u60f3\u901a\u7684\uff09 \u5b89\u88c5\uff1anpm install node-jsencrypt \u67e5\u770b\u5df2\u5b89\u88c5\u7684\u6a21\u5757\uff1a npm ls --depth 0","title":"(5) \u6ce8\u610f"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#ob","text":"","title":"\u4e03\u3001ob\u6df7\u6dc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1_4","text":"\"ob\u6df7\u6dc6\" \u662f\u6307\u5bf9\u4ee3\u7801\u8fdb\u884c\u6df7\u6dc6\uff0c\u4ee5\u589e\u52a0\u4ee3\u7801\u7684\u590d\u6742\u6027\u548c\u96be\u4ee5\u7406\u89e3\u6027\uff0c\u4ece\u800c\u589e\u52a0\u4ee3\u7801\u7684\u5b89\u5168\u6027\u548c\u9632\u6b62\u9006\u5411\u5de5\u7a0b\u3002\u901a\u8fc7ob\u6df7\u6dc6\uff0c\u4ee3\u7801\u7684\u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\u548c\u63a7\u5236\u6d41\u7a0b\u88ab\u91cd\u547d\u540d\u6216\u91cd\u7ec4\uff0c\u4f7f\u5f97\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u6666\u6da9\u548c\u96be\u4ee5\u5206\u6790\u3002\u8fd9\u6837\u53ef\u4ee5\u6709\u6548\u5730\u4fdd\u62a4\u4ee3\u7801\u7684\u77e5\u8bc6\u4ea7\u6743\u548c\u9632\u6b62\u6076\u610f\u7528\u6237\u5bf9\u4ee3\u7801\u8fdb\u884c\u9006\u5411\u5206\u6790","title":"(1) \u6982\u8ff0"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2-ob","text":"\u53d8\u91cf\u548c\u51fd\u6570\u91cd\u547d\u540d\uff1aob\u6df7\u6dc6\u4f1a\u5c06\u4ee3\u7801\u4e2d\u7684\u53d8\u91cf\u548c\u51fd\u6570\u540d\u8fdb\u884c\u968f\u673a\u5316\u6216\u52a0\u5bc6\uff0c\u4f7f\u5176\u53d8\u5f97\u96be\u4ee5\u7406\u89e3\u548c\u8bc6\u522b\u3002\u8fd9\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u590d\u6742\u6027\uff0c\u4f7f\u5f97\u9006\u5411\u5de5\u7a0b\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\u3002 \u63a7\u5236\u6d41\u7a0b\u6df7\u6dc6\uff1aob\u6df7\u6dc6\u4f1a\u5bf9\u4ee3\u7801\u4e2d\u7684\u63a7\u5236\u6d41\u7a0b\u8fdb\u884c\u4fee\u6539\uff0c\u4f8b\u5982\u63d2\u5165\u65e0\u7528\u7684\u4ee3\u7801\u3001\u6539\u53d8\u5faa\u73af\u7ed3\u6784\u7b49\uff0c\u4f7f\u5f97\u4ee3\u7801\u7684\u903b\u8f91\u53d8\u5f97\u590d\u6742\u548c\u6df7\u4e71\uff0c\u589e\u52a0\u4e86\u5206\u6790\u548c\u7406\u89e3\u7684\u96be\u5ea6\u3002 \u5b57\u7b26\u4e32\u52a0\u5bc6\uff1aob\u6df7\u6dc6\u8fd8\u53ef\u4ee5\u5bf9\u4ee3\u7801\u4e2d\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u52a0\u5bc6\u6216\u7f16\u7801\uff0c\u4f7f\u5f97\u5b57\u7b26\u4e32\u5185\u5bb9\u4e0d\u53ef\u76f4\u63a5\u83b7\u53d6\uff0c\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u5b89\u5168\u6027\u3002 \u5e38\u91cf\u66ff\u6362\uff1aob\u6df7\u6dc6\u53ef\u4ee5\u5c06\u4ee3\u7801\u4e2d\u7684\u5e38\u91cf\u66ff\u6362\u4e3a\u7b49\u6548\u4f46\u96be\u4ee5\u7406\u89e3\u7684\u5f62\u5f0f\uff0c\u4f7f\u5f97\u4ee3\u7801\u7684\u542b\u4e49\u66f4\u52a0\u9690\u6666\u3002 \u53cd\u8c03\u8bd5\u548c\u53cd\u9006\u5411\u6280\u672f\uff1aob\u6df7\u6dc6\u8fd8\u53ef\u4ee5\u5e94\u7528\u53cd\u8c03\u8bd5\u548c\u53cd\u9006\u5411\u6280\u672f\uff0c\u4f8b\u5982\u68c0\u6d4b\u8c03\u8bd5\u5668\u3001\u53cd\u52a8\u6001\u5206\u6790\u7b49\uff0c\u4ee5\u9632\u6b62\u6076\u610f\u7528\u6237\u5bf9\u4ee3\u7801\u8fdb\u884c\u9006\u5411\u5de5\u7a0b\u3002","title":"(2) ob\u6df7\u6dc6\u6709\u4ec0\u4e48\u7279\u70b9"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3_1","text":"\u539f\u59cb\u4ee3\u7801\u7247\u6bb5 function add(x, y) { return x + y; } console.log(add(1, 2)); \u901a\u8fc7ob\u6df7\u6dc6\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u4ee3\u7801\u8fdb\u884c\u53d8\u91cf\u548c\u51fd\u6570\u540d\u91cd\u547d\u540d\uff0c\u4ee5\u53ca\u63a7\u5236\u6d41\u7a0b\u6df7\u6dc6\u3002\u8fd9\u662f\u4e00\u4e2a\u53ef\u80fd\u7684ob\u6df7\u6dc6\u540e\u7684\u4ee3\u7801\u793a\u4f8b\uff1a function add(_0x3f3d, _0x2d3c) { return _0x3f3d + _0x2d3c; } console[_0x4a8d(\"0x0\")](_0x4a8d(\"0x1\"), add(0x1, 0x2));","title":"(3) \u5b9e\u4f8b"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4_3","text":"\u827a\u6069 https://www.endata.com.cn/BoxOffice/BO/Year/index.html","title":"(4) \u6df7\u6dc6\u6848\u4f8b"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#5-ob","text":"\u89e3\u5bc6\u51fd\u6570 \u4e00\u4e9b function \u7684\u66ff\u6362 \u5b57\u7b26\u4e32\u76f8\u52a0\u8fd8\u539f\u3001\u4e00\u4e9b\u6570\u5b57\u8fd8\u539f","title":"(5) ob\u8fd8\u539f"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#js","text":"","title":"\u516b\u3001js\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1-md5","text":"// node\u6807\u51c6\u5e93 let crypto = require('crypto'); function md5(e) { return crypto.createHash('md5').update(e.toString()).digest('hex'); }","title":"(1) MD5\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2-aes_1","text":"let CryptoJS = require('crypto-js') // AES\u52a0\u5bc6 var AES = function(data) { var l = { key: CryptoJS.enc.Utf8.parse(\"\u5b57\u7b26\"), iv: CryptoJS.enc.Utf8.parse(\"\u5b57\u7b26\"), } return CryptoJS.AES.encrypt(data, l.key, { iv: l.iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString() } \u6ce8\u610f\uff1a let CryptoJS = require('crypto-js') // \u7528\u4e8e\u89e3\u6790 UTF-8 \u7f16\u7801\u7684\u6570\u636e console.log(CryptoJS.enc.Utf8.parse(\"fX@VyCQVvpdj8RCa\")) // \u7528\u4e8e\u89e3\u6790\u5341\u516d\u8fdb\u5236\u7f16\u7801\u7684\u6570\u636e\u3002 console.log(CryptoJS.enc.Hex.parse('66584056794351567670646a38524361')) /*\u603b\u7ed3 * CryptoJS.enc.Hex.parse * \u5c06\u5341\u516d\u8fdb\u5236\u7684\u5b57\u8282\u5904\u7406\u6210\u4e86\u4e00\u4e2a CryptoJS WordArray \u5bf9\u8c61\u3002 * * CryptoJS.enc.Utf8.parse * \u5c06UTF-8 \u7f16\u7801\u7684\u6570\u636e\u5904\u7406\u6210\u4e86\u4e00\u4e2a CryptoJS WordArray \u5bf9\u8c61 * * \u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5728 CryptoJS \u4e2d\u8fdb\u884c\u52a0\u5bc6\u3001\u89e3\u5bc6\u3001\u54c8\u5e0c\u7b49\u64cd\u4f5c\u3002 WordArray \u662f CryptoJS \u4e2d\u7528\u6765\u8868\u793a\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u7c7b\u578b\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u6570\u636e\u5904\u7406\u548c\u8f6c\u6362\u3002 * */ \u8fd0\u884c\u7ed3\u679c\uff1a \u4f7f\u7528python\u8fd8\u539f # \u5c06\u5341\u516d\u8fdb\u5236\u518d\u8f6c\u6362\u4e3a\u5b57\u7b26 import binascii s = '472424516177636b4766614c42393772' # \u5c06\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b57\u8282\u4e32 key = binascii.a2b_hex(s).decode() # print(key) # G$$QawckGfaLB97r \u4f7f\u7528js\u8fd8\u539f","title":"(2) AES\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3-des","text":"var cryptoJs = require('crypto-js') function _(data) { var e = cryptoJs.enc.Utf8.parse(\"1qaz@wsx3e\") , i = cryptoJs.DES.decrypt({ ciphertext: cryptoJs.enc.Base64.parse(data) }, e, { mode: cryptoJs.mode.ECB, padding: cryptoJs.pad.Pkcs7 }); return i.toString(cryptoJs.enc.Utf8) }","title":"(3) DES\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4-rsa","text":"var JSEncrypt = require('node-jsencrypt') function rsa_encrypt(e) { var o = new JSEncrypt; return o.setPublicKey(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDA5Zq6ZdH/RMSvC8WKhp5gj6Ue4Lqjo0Q2PnyGbSkTlYku0HtVzbh3S9F9oHbxeO55E8tEEQ5wj/+52VMLavcuwkDypG66N6c1z0Fo2HgxV3e0tqt1wyNtmbwg7ruIYmFM+dErIpTiLRDvOy+0vgPcBVDfSUHwUSgUtIkyC47UNQIDAQAB\"), o.encrypt(e) }","title":"(4) RSA \u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#5-sha1","text":"// node\u6807\u51c6\u5e93 let crypto = require('crypto'); function do_sha1(e) { return crypto.createHash('Sha1').update(e.toString()).digest('hex'); }","title":"(5) Sha1\u52a0\u5bc6"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#6-base64","text":"\u7b80\u4ecb\uff1aBase64 \u662f\u4e00\u79cd\u7528 64 \u4e2a\u5b57\u7b26\u6765\u8868\u793a\u4efb\u610f\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u65b9\u6cd5\u3002 \u53c2\u8003\u8d44\u6599\uff1a Base64 \u767e\u5ea6\u767e\u79d1\uff1ahttps://baike.baidu.com/item/base64/8545775 Base64 \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Base64 JavaScript \u5b9e\u73b0 / \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function base64Encode() { var srcs = CryptoJS.enc.Utf8.parse(text); var encodeData = CryptoJS.enc.Base64.stringify(srcs); return encodeData } function base64Decode() { var srcs = CryptoJS.enc.Base64.parse(encodeData); var decodeData = srcs.toString(CryptoJS.enc.Utf8); return decodeData } var text = \"I love Python!\" var encodeData = base64Encode() var decodeData = base64Decode() console.log(\"Base64 \u7f16\u7801: \", encodeData) console.log(\"Base64 \u89e3\u7801: \", decodeData) // Base64 \u7f16\u7801: SSBsb3ZlIFB5dGhvbiE= // Base64 \u89e3\u7801: I love Python!","title":"(6) Base64"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#7-hmac","text":"\u7b80\u4ecb\uff1a\u5168\u79f0\u6563\u5217\u6d88\u606f\u8ba4\u8bc1\u7801\u3001\u5bc6\u94a5\u76f8\u5173\u7684\u54c8\u5e0c\u8fd0\u7b97\u6d88\u606f\u8ba4\u8bc1\u7801\uff08\u82f1\u6587\u540d\u79f0\uff1aHash-based Message Authentication Code \u6216\u8005 Keyed-hash Message Authentication Code\uff09\uff0c\u4e8e 1996 \u5e74\u63d0\u51fa\uff0c1997 \u5e74\u4f5c\u4e3a RFC 2104 \u88ab\u516c\u5e03\uff0cHMAC \u52a0\u5bc6\u7b97\u6cd5\u662f\u4e00\u79cd\u5b89\u5168\u7684\u57fa\u4e8e\u52a0\u5bc6 Hash \u51fd\u6570\u548c\u5171\u4eab\u5bc6\u94a5\u7684\u6d88\u606f\u8ba4\u8bc1\u534f\u8bae\uff0c\u5b83\u8981\u6c42\u901a\u4fe1\u53cc\u65b9\u5171\u4eab\u5bc6\u94a5 key\u3001\u7ea6\u5b9a\u7b97\u6cd5\u3001\u5bf9\u62a5\u6587\u8fdb\u884c Hash \u8fd0\u7b97\uff0c\u5f62\u6210\u56fa\u5b9a\u957f\u5ea6\u7684\u8ba4\u8bc1\u7801\u3002\u901a\u4fe1\u53cc\u65b9\u901a\u8fc7\u8ba4\u8bc1\u7801\u7684\u6821\u9a8c\u6765\u786e\u5b9a\u62a5\u6587\u7684\u5408\u6cd5\u6027\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 2104\uff1ahttps://datatracker.ietf.org/doc/rfc2104/ HMAC \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/HMAC JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function HMACEncrypt() { var text = \"I love python!\" var key = \"secret\" return CryptoJS.HmacMD5(text, key).toString(); // return CryptoJS.HmacSHA1(text, key).toString(); // return CryptoJS.HmacSHA256(text, key).toString(); } console.log(HMACEncrypt())","title":"(7) HMAC"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#8-des","text":"\u7b80\u4ecb\uff1a\u5168\u79f0\u6570\u636e\u52a0\u5bc6\u6807\u51c6\uff08\u82f1\u6587\u540d\u79f0\uff1aData Encryption Standard\uff09\uff0c\u52a0\u5bc6\u4e0e\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u5bc6\u94a5\uff0c\u5c5e\u4e8e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff0c1977 \u5e74\u88ab\u7f8e\u56fd\u8054\u90a6\u653f\u5e9c\u7684\u56fd\u5bb6\u6807\u51c6\u5c40\u786e\u5b9a\u4e3a\u8054\u90a6\u8d44\u6599\u5904\u7406\u6807\u51c6\uff08FIPS\uff09\uff0cDES \u662f\u4e00\u4e2a\u5206\u7ec4\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4f7f\u7528 56 \u4f4d\u7684\u5bc6\u94a5\uff08\u4e00\u822c\u8ba4\u4e3a\u5bc6\u94a5\u662f 64 \u4f4d\uff0c\u4f46\u662f\u5bc6\u94a5\u7684\u6bcf\u4e2a\u7b2c 8 \u4f4d\u8bbe\u7f6e\u4e3a\u5947\u5076\u6821\u9a8c\u4f4d\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u6709\u6548\u4f4d\u53ea\u6709 56 \u4f4d\uff09\uff0c\u7531\u4e8e 56 \u4f4d\u5bc6\u94a5\u957f\u5ea6\u76f8\u5bf9\u8f83\u77ed\uff0c\u6240\u4ee5 DES \u662f\u4e0d\u5b89\u5168\u7684\uff0c\u73b0\u5728\u57fa\u672c\u4e0a\u5df2\u88ab\u66f4\u9ad8\u7ea7\u7684\u52a0\u5bc6\u6807\u51c6 AES \u53d6\u4ee3\u3002 mode \u652f\u6301\uff1aCBC\uff0cCFB\uff0cCTR\uff0cCTRGladman\uff0cECB\uff0cOFB \u7b49\u3002 padding \u652f\u6301\uff1aZeroPadding\uff0cNoPadding\uff0cAnsiX923\uff0cIso10126\uff0cIso97971\uff0cPkcs7 \u7b49\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 4772\uff1ahttps://datatracker.ietf.org/doc/rfc4772/ DES \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Data_Encryption_Standard JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function desEncrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = CryptoJS.enc.Utf8.parse(text), // CBC \u52a0\u5bc6\u6a21\u5f0f\uff0cPkcs7 \u586b\u5145\u65b9\u5f0f encrypted = CryptoJS.DES.encrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }); return encrypted.toString(); } function desDecrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = encryptedData, // CBC \u52a0\u5bc6\u6a21\u5f0f\uff0cPkcs7 \u586b\u5145\u65b9\u5f0f decrypted = CryptoJS.DES.decrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }); return decrypted.toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" // \u5f85\u52a0\u5bc6\u5bf9\u8c61 var desKey = \"6f726c64f2c2057\" // \u5bc6\u94a5 var desIv = \"0123456789ABCDEF\" // \u521d\u59cb\u5411\u91cf var encryptedData = desEncrypt() var decryptedData = desDecrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: +ndbEkWNw2QAfIYQtwC14w== // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python!","title":"(8) DES"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#9-3des","text":"\u7b80\u4ecb\uff1a\u5168\u79f0\u4e09\u91cd\u6570\u636e\u52a0\u5bc6\u7b97\u6cd5\uff08\u82f1\u6587\u540d\u79f0\uff1aTriple Data Encryption Standard\u3001 Triple Data Encryption Algorithm\u3001TDES\u3001TDEA\uff09\uff0c\u662f\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4e2d\u7684\u4e00\u79cd\u300270 \u5e74\u4ee3\u521d\u7531 IBM \u7814\u53d1\uff0c\u540e 1977 \u5e74\u88ab\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u5c40\u91c7\u7eb3\u4e3a\u6570\u636e\u52a0\u5bc6\u6807\u51c6\uff0c\u5b83\u76f8\u5f53\u4e8e\u662f\u5bf9\u6bcf\u4e2a\u6570\u636e\u5757\u5e94\u7528\u4e09\u6b21 DES \u52a0\u5bc6\u7b97\u6cd5\u3002\u7531\u4e8e\u8ba1\u7b97\u673a\u8fd0\u7b97\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u539f\u7248 DES \u5bc6\u7801\u7684\u5bc6\u94a5\u957f\u5ea6\u53d8\u5f97\u5bb9\u6613\u88ab\u66b4\u529b\u7834\u89e3\uff1b3DES \u5373\u662f\u8bbe\u8ba1\u7528\u6765\u63d0\u4f9b\u4e00\u79cd\u76f8\u5bf9\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5373\u901a\u8fc7\u589e\u52a0 DES \u7684\u5bc6\u94a5\u957f\u5ea6\u6765\u907f\u514d\u7834\u89e3\uff0c\u6240\u4ee5\u4e25\u683c\u6765\u8bf4 3DES \u4e0d\u662f\u8bbe\u8ba1\u4e00\u79cd\u5168\u65b0\u7684\u5757\u5bc6\u7801\u7b97\u6cd5\u3002 mode \u652f\u6301\uff1aCBC\uff0cCFB\uff0cCTR\uff0cCTRGladman\uff0cECB\uff0cOFB \u7b49\u3002 padding \u652f\u6301\uff1aZeroPadding\uff0cNoPadding\uff0cAnsiX923\uff0cIso10126\uff0cIso97971\uff0cPkcs7 \u7b49\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 1851\uff1ahttps://datatracker.ietf.org/doc/rfc1851/ 3DES \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Triple_DES JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function tripleDesEncrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = CryptoJS.enc.Utf8.parse(text), // ECB \u52a0\u5bc6\u65b9\u5f0f\uff0cIso10126 \u586b\u5145\u65b9\u5f0f encrypted = CryptoJS.TripleDES.encrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Iso10126 }); return encrypted.toString(); } function tripleDesDecrypt() { var key = CryptoJS.enc.Utf8.parse(desKey), iv = CryptoJS.enc.Utf8.parse(desIv), srcs = encryptedData, // ECB \u52a0\u5bc6\u65b9\u5f0f\uff0cIso10126 \u586b\u5145\u65b9\u5f0f decrypted = CryptoJS.TripleDES.decrypt(srcs, key, { iv: iv, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Iso10126 }); return decrypted.toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" // \u5f85\u52a0\u5bc6\u5bf9\u8c61 var desKey = \"6f726c64f2c2057c\" // \u5bc6\u94a5 var desIv = \"0123456789ABCDEF\" // \u504f\u79fb\u91cf var encryptedData = tripleDesEncrypt() var decryptedData = tripleDesDecrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: 3J0NX7x6GbewjjhoW2HKqg== // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python!","title":"(9) 3DES"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#10-rc4","text":"\u7b80\u4ecb\uff1a\u82f1\u6587\u540d\u79f0\uff1aRivest Cipher 4\uff0c\u4e5f\u79f0\u4e3a ARC4 \u6216 ARCFOUR\uff0c\u662f\u4e00\u79cd\u6d41\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5bc6\u94a5\u957f\u5ea6\u53ef\u53d8\u3002\u5b83\u52a0\u89e3\u5bc6\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\uff0c\u56e0\u6b64\u4e5f\u5c5e\u4e8e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u3002RC4 \u662f\u6709\u7ebf\u7b49\u6548\u52a0\u5bc6\uff08WEP\uff09\u4e2d\u91c7\u7528\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e5f\u66fe\u7ecf\u662f TLS \u53ef\u91c7\u7528\u7684\u7b97\u6cd5\u4e4b\u4e00\uff0c\u8be5\u7b97\u6cd5\u7684\u901f\u5ea6\u53ef\u4ee5\u8fbe\u5230 DES \u52a0\u5bc6\u7684 10 \u500d\u5de6\u53f3\uff0c\u4e14\u5177\u6709\u5f88\u9ad8\u7ea7\u522b\u7684\u975e\u7ebf\u6027\uff0c\u867d\u7136\u5b83\u5728\u8f6f\u4ef6\u65b9\u9762\u7684\u7b80\u5355\u6027\u548c\u901f\u5ea6\u975e\u5e38\u51fa\u8272\uff0c\u4f46\u5728 RC4 \u4e2d\u53d1\u73b0\u4e86\u591a\u4e2a\u6f0f\u6d1e\uff0c\u5b83\u7279\u522b\u5bb9\u6613\u53d7\u5230\u653b\u51fb\uff0cRC4 \u4f5c\u4e3a\u4e00\u79cd\u8001\u65e7\u7684\u9a8c\u8bc1\u548c\u52a0\u5bc6\u7b97\u6cd5\u6613\u4e8e\u53d7\u5230\u9ed1\u5ba2\u653b\u51fb\uff0c\u73b0\u5728\u9010\u6e10\u4e0d\u63a8\u8350\u4f7f\u7528\u4e86\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 7465\uff1ahttps://datatracker.ietf.org/doc/rfc7465/ RC4 \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/RC4 JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function RC4Encrypt() { return CryptoJS.RC4.encrypt(text, key).toString(); } function RC4Decrypt(){ return CryptoJS.RC4.decrypt(encryptedData, key).toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" var key = \"6f726c64f2c2057c\" var encryptedData = RC4Encrypt() var decryptedData = RC4Decrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: U2FsdGVkX18hMm9WWdoEQGPolnXzlg9ryArdGNwv // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python!","title":"(10) RC4"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#11-rabbit","text":"\u7b80\u4ecb\uff1aRabbit \u52a0\u5bc6\u7b97\u6cd5\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u6d41\u5bc6\u7801\u52a0\u5bc6\u65b9\u5f0f\uff0c2003 \u5e74\u9996\u6b21\u88ab\u63d0\u51fa\uff0c\u5b83\u4ece 128 \u4f4d\u5bc6\u94a5\u548c 64 \u4f4d\u521d\u59cb\u5411\u91cf\uff08iv\uff09\u521b\u5efa\u4e00\u4e2a\u5bc6\u94a5\u6d41\u3002 \u53c2\u8003\u8d44\u6599\uff1a RFC 4503\uff1ahttps://datatracker.ietf.org/doc/rfc4503/ Rabbit \u7ef4\u57fa\u767e\u79d1\uff1ahttps://en.wikipedia.org/wiki/Rabbit_(cipher) JavaScript \u5b9e\u73b0 // \u5f15\u7528 crypto-js \u52a0\u5bc6\u6a21\u5757 var CryptoJS = require('crypto-js') function rabbitEncrypt() { return CryptoJS.Rabbit.encrypt(text, key).toString(); } function rabbitDecrypt() { return CryptoJS.Rabbit.decrypt(encryptedData, key).toString(CryptoJS.enc.Utf8); } var text = \"I love Python!\" var key = \"6f726c64f2c2057\" var encryptedData = rabbitEncrypt() var decryptedData = rabbitDecrypt() console.log(\"\u52a0\u5bc6\u5b57\u7b26\u4e32: \", encryptedData) console.log(\"\u89e3\u5bc6\u5b57\u7b26\u4e32: \", decryptedData) // \u52a0\u5bc6\u5b57\u7b26\u4e32: U2FsdGVkX1+ZVCHRXlhmG5Xw87YPWMNIBlbukuh8 // \u89e3\u5bc6\u5b57\u7b26\u4e32: I love Python!","title":"(11) Rabbit"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#_4","text":"","title":"\u4e5d\u3001\u6293\u5305\u5de5\u5177\u5b89\u88c5"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#1-fidder","text":"","title":"(1) fidder"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#911","text":"\u53cc\u51fb\u5b89\u88c5\u5373\u53ef \u5b89\u88c5\u540e \u5728\u641c\u7d22\u680f\u641c\u7d22fidder \u914d\u7f6ehttps\u8bc1\u4e66 \u52fe\u9009Decrypt HTTPS traffic\uff08\u4fe1\u4efb\u8bc1\u4e66\uff09 \u70b9\u51fbyes \u70b9\u51fbyes \u70b9\u51fb\u662f \u70b9\u51fb\u786e\u5b9a \u6700\u540e\u628a\u4e0b\u9762\u7684: Ignore server certificate errors(unsafe)\u5ffd\u7565\u670d\u52a1\u5668\u8bc1\u4e66\u9519\u8bef\uff08\u4e0d\u5b89\u5168\uff09 check for certificate revocation (\u8bc1\u4e66\u64a4\u9500\u68c0\u67e5) \u8fd9\u4e24\u4e2a\u9009\u9879\u4e5f \u52fe\u9009\u4e0a ! \u6253\u5f00\u6d4f\u89c8\u5668 \u8bbf\u95ee\u4e00\u4e2ahttps\u7684\u7f51\u5740\uff0c \u5728\u62e6\u622a\u4e2d\u80fd\u591f\u770b\u5230https\u5219\u914d\u7f6e\u6210\u529f","title":"9.1.1 \u914d\u7f6e\u8bc1\u4e66"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#912","text":"\u6b65\u9aa4 \u7b2c\u4e00\u6b65 \u9009\u62e9\u8981\u8fdb\u884c\u66ff\u6362\u5904\u7406\u7684URL \u7b2c\u4e8c\u6b65 \u9009\u62e9AutoResponder \u7b2c\u4e09\u6b65 \u52fe\u9009\u5f53\u524d4\u4e2a\u6309\u94ae \u6309\u7167\u89c4\u5219\u5339\u914d \u7b2c\u56db\u6b65 \u9009\u62e9 \u6dfb\u52a0\u89c4\u5219 Add Rule \u7b2c\u56db\u6b65 \u9009\u62e9 \u7b2c\u4e8c\u4e2a\u6846\u7684\u4e0b\u62c9 \u7b2c\u4e94\u6b65 \u9009\u62e9 Find a File \u9009\u62e9\u4e00\u4e2a\u672c\u5730\u6587\u4ef6 \u7b2c\u516d\u90e8 \u91cd\u65b0\u8bbf\u95ee \u4f5c\u7528\uff1a\u901a\u5e38\u7528\u4e8e\u5904\u7406\u8fd4\u56de\u9875\u9762\u4e2d\u5e26\u6709\u53cd\u6252\u5904\u7406\u7684\u8bf7\u6c42\u94fe\u63a5\u7b49\uff0c\u628a\u53bb\u9664\u53cd\u722c\u7684\u94fe\u63a5\u540e\u7684\u6587\u4ef6\u91cd\u65b0\u54cd\u5e94\u8fd4\u56de \u8fdb\u884c\u9875\u9762\u5206\u6790 \u56fe\u4f8b \u6b63\u5e38\u8bbf\u95ee\u7684\u5185\u5bb9 \u66ff\u6362\u540e\u5f97\u9875\u9762\u5185\u5bb9","title":"9.1.2 \u914d\u7f6e\u672c\u5730\u6587\u4ef6\u66ff\u6362"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#913-fiddler","text":"Fiddler\u83dc\u5355\u680f \u5305\u62ec\u6355\u83b7http\u8bf7\u6c42\uff0c\u505c\u6b62\u6355\u83b7\u8bf7\u6c42\uff0c\u4fdd\u5b58http\u8bf7\u6c42\uff0c\u8f7d\u5165\u672c\u5730session\u3001\u8bbe\u7f6e\u6355\u83b7\u89c4\u5219\u7b49\u529f\u80fd Fiddler\u7684\u5de5\u5177\u680f \u5305\u62ecFiddler\u9488\u5bf9\u5f53\u524dview\u7684\u64cd\u4f5c\uff08\u6682\u505c\uff0c\u6e05\u9664session,decode\u6a21\u5f0f\u3001\u6e05\u9664\u7f13\u5b58\u7b49\uff09 Web Session\u9762\u677f \u4e3b\u8981\u662fFiddler\u6293\u53d6\u5230\u7684\u6bcf\u6761http\u8bf7\u6c42\uff08\u6bcf\u4e00\u6761\u79f0\u4e3a\u4e00\u4e2asession\uff09,\u4e3b\u8981\u5305\u542b\u4e86\u8bf7\u6c42\u7684url\uff0c\u534f\u8bae\uff0c\u72b6\u6001\u7801\uff0cbody\u7b49\u4fe1\u606f \u8be6\u60c5\u548c\u6570\u636e\u7edf\u8ba1\u677f \u9488\u5bf9\u6bcf\u6761http\u8bf7\u6c42\u7684\u5177\u4f53\u7edf\u8ba1\uff08\u4f8b\u5982\u53d1\u9001/\u63a5\u53d7\u5b57\u8282\u6570\uff0c\u53d1\u9001/\u63a5\u6536\u65f6\u95f4\uff0c\u8fd8\u6709\u7c97\u7565\u7edf\u8ba1\u4e16\u754c\u5404\u5730\u8bbf\u95ee\u8be5\u670d\u52a1\u5668\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff09\u548c\u6570\u636e\u5305\u5206\u6790\u3002\u5982inspector\u9762\u677f\u4e0b\uff0c\u63d0\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f Inspector \u63d0\u4f9b\u4f9bheaders\u3001textview\u3001hexview,Raw\u7b49\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\u5355\u6761http\u8bf7\u6c42\u7684\u8bf7\u6c42\u62a5\u6587\u7684\u4fe1\u606f,\u5206\u4e3a\u4e0a\u4e0b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e0a\u534a\u90e8\u5206\u662f\u8bf7\u6c42\u5934\u90e8\u5206\uff0c\u4e0b\u534a\u90e8\u5206\u662f\u54cd\u5e94\u5934\u90e8\u5206\u3002 ImageView\u6807\u7b7e JPG \u683c\u5f0f\u4f7f\u7528 ImageView \u5c31\u53ef\u4ee5\u770b\u5230\u56fe\u7247 TextView \u6807\u7b7e HTML/JS/CSS \u4f7f\u7528 TextView \u53ef\u4ee5\u770b\u5230\u54cd\u5e94\u7684\u5185\u5bb9\u3002\u9009\u62e9\u4e00\u6761Content-Type\u662ftext/html\u7684\u4f1a\u8bdd Raw\u6807\u7b7e Raw\u6807\u7b7e\u53ef\u4ee5\u67e5\u770b\u54cd\u5e94\u62a5\u6587\u548c\u54cd\u5e94\u6b63\u6587,\u4f46\u662f\u4e0d\u5305\u542b\u8bf7\u6c42\u62a5\u6587 Cookies\u6807\u7b7e Cookies\u6807\u7b7e\u53ef\u4ee5\u770b\u5230\u8bf7\u6c42\u7684cookie\u548c\u54cd\u5e94\u7684set-cookie\u5934\u4fe1\u606f\u3002 WebForms post\u8bf7\u6c42\u6240\u6709\u8868\u5355\u6570\u636e Headers \u8bf7\u6c42\u5934\u548c\u54cd\u5e94\u5934\u4fe1\u606f Json\\XML Json\u6216XML\u683c\u5f0f\u7684\u6570\u636e Statistics\u9762\u677f HTTP\u8bf7\u6c42\u7684\u6027\u80fd\u548c\u5176\u4ed6\u6570\u636e\u5206\u6790 composer\u9762\u677f \u53ef\u4ee5\u6a21\u62df\u5411\u76f8\u5e94\u7684\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u7684\u8fc7\u7a0b Filters\u9762\u677f Filter\u6807\u7b7e\u5219\u53ef\u4ee5\u8bbe\u7f6eFiddler\u7684\u8fc7\u6ee4\u89c4\u5219\uff0c\u6765\u8fbe\u5230\u8fc7\u6ee4http\u8bf7\u6c42\u7684\u76ee\u7684\u3002\u6700\u7b80\u5355\u5982\uff1a\u8fc7\u6ee4\u5185\u7f51http\u8bf7\u6c42\u800c\u53ea\u6293\u53d6internet\u7684http\u8bf7\u6c42\uff0c\u6216\u5219\u8fc7\u6ee4\u76f8\u5e94\u57df\u540d\u7684http\u8bf7\u6c42\u3002Fiddler\u7684\u8fc7\u6ee4\u5668\u975e\u5e38\u5f3a\u5927\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9ahttp\u72b6\u6001\u7801\u7684\u8bf7\u6c42\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u7279\u5b9a\u8bf7\u6c42\u7c7b\u578b\u7684http\u8bf7\u6c42\uff08\u5982css\u8bf7\u6c42\uff0cimage\u8bf7\u6c42\uff0cjs\u8bf7\u6c42\u7b49\uff09\uff0c\u53ef\u4ee5\u8fc7\u6ee4\u8bf7\u6c42\u62a5\u6587\u5927\u4e8e\u6216\u5219\u5c0f\u4e8e\u6307\u5b9a\u5927\u5c0f\uff08byte\uff09\u7684\u8bf7\u6c42 \u5173\u95edfiddler \u5de6\u4e0a\u89d2File,\u53cd\u9009Capture Traffic WebSession\u8fc7\u6ee4\u529f\u80fd \u70b9\u51fb\u5de5\u5177\u680f\u4e2d\u7684X\u7b26\u53f7 WebSession\u9009\u62e9\u529f\u80fd \u5de6\u4e0b\u89d2\u7684\u9ed1\u8272\u5bf9\u8bdd\u6846 select json\\html\\image cls\u6e05\u9664\u6240\u6709\u8bf7\u6c42 ?xxx\u641c\u7d22","title":"9.1.3 fiddler\u754c\u9762\u4ecb\u7ecd"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#2-window-charles","text":"","title":"(2) Window Charles"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#921","text":"\u5b89\u88c5 -> \u50bb\u74dc\u5f0f\u5b89\u88c5 \u914d\u7f6ehttps\u8bc1\u4e66 \u70b9\u51fb\u5b89\u88c5\u8bc1\u4e66 \u9009\u62e9\u672c\u5730\u8ba1\u7b97\u673a -> \u4e0b\u4e00\u6b65 \u9009\u62e9\u662f \u9009\u62e9 \u5c06\u6240\u6709\u7684\u8bc1\u4e66\u90fd\u653e\u5165\u4e0b\u5217\u5b58\u50a8->\u6d4f\u89c8->\u53d7\u4fe1\u4efb\u7684\u6839\u8bc1\u4e66\u9881\u53d1\u673a\u6784->\u786e\u5b9a->\u4e0b\u4e00\u6b65 \u5b8c\u6210 \u5bfc\u5165\u6210\u529f \u5f00\u542fhttps\u7aef\u53e3\u7684\u76d1\u542c \u52fe\u9009 \u9009\u62e9add-> \u6ce8\u610f \u5728windows\u73af\u5883\u4e0b\u5982\u679c\u51fa\u73b0\u8bc1\u4e66\u4e0d\u53ef\u7528\u7684\u60c5\u51b5.\u9700\u8981\u624b\u5de5\u53bbwindows\u7684\u8bc1\u4e66\u7ba1\u7406\u5668\u4e2d, \u628aCharles\u7684\u8bc1\u4e66\u62d6\u62fd\u5230\u53ef\u4fe1\u4efb\u8bc1\u4e66\u90a3\u4e00\u680f. \u7136\u540e\u91cd\u542f\u6d4f\u89c8\u5668\u548ccharles\u5c31\u53ef\u4ee5\u7528\u4e86 \u5982\u679c\u8bc1\u4e66\u9ed8\u8ba4\u5c31\u53ef\u7528. \u5c31\u4e0d\u8981\u80e1\u4e71\u62d6\u62fd window\u8bc1\u4e66\u7ba1\u7406\u5668: win+r: \u8f93\u5165certlm.msc","title":"9.2.1 \u914d\u7f6e\u8bc1\u4e66"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#922","text":"\u6b65\u9aa4 \u6839\u636eURL\u627e\u5230\u5f53\u524d\u8981\u66ff\u6362\u7684\u54cd\u5e94\u7684\u5185\u5bb9 \u9009\u62e9\u54cd\u5e94\u5185\u5bb9\u7684\u6587\u4ef6 \u53f3\u952e Map Local \u9009\u62e9 Map to\u83dc\u5355\u4e2d\u7684 Choose\u6309\u94ae \u9009\u62e9\u672c\u5730\u7684\u6587\u4ef6 \u6d4f\u89c8\u5668\u4e2d\u91cd\u65b0\u5237\u65b0\u8bf7\u6c42\u65e2\u53ef \u53d6\u6d88\u672c\u5730\u66ff\u6362 \u70b9\u51fb\u83dc\u5355\u4e2d\u7684tools \u9009\u62e9 Map Local \u53d6\u6d88\u52fe\u9009 \u6216\u8005\u79fb\u9664\u65e2\u53ef \u56fe\u4f8b \u4e4b\u524d\u6b63\u5e38\u8bbf\u95ee\u7684\u54cd\u5e94 \u66ff\u6362\u540e\u7684\u54cd\u5e94 \u53d6\u6d88\u672c\u5730\u66ff\u6362 \u53d6\u6d88\u52fe\u9009\u6216\u79fb\u9664","title":"9.2.2 \u914d\u7f6e\u672c\u5730\u6587\u4ef6\u66ff\u6362"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#3-mac-charles","text":"help-> SSL Proxying -> install \u8f93\u5165\u5bc6\u7801 \u9009\u62e9\u7cfb\u7edf \uff08\u6309\u5982\u4e0b\u6240\u793a\u64cd\u4f5c\uff09 \u914d\u7f6e\u76d1\u542c\u7aef\u53e3","title":"(3) Mac Charles"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#4_4","text":"\u5982\u679c\u5b89\u88c5\u4e0a\u8ff0\u914d\u7f6e\u5b8c\u6210\u4ee5\u540e \u8bc1\u4e66\u8fd8\u662f\u4e0d\u53ef\u7528 \u5219\u91cd\u542f\u6d4f\u89c8\u5668\uff0c\u91cd\u542f\u62e6\u622a\u5de5\u5177 \u8bc1\u4e66\u8fc7\u671f\u5904\u7406 https://blog.csdn.net/windyJ809/article/details/141862153","title":"(4) \u6ce8\u610f"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#5-charles","text":"","title":"(5) \u5f00\u542fCharles \u8fd0\u884c\u4ee3\u7801\u5931\u8d25\u89e3\u51b3"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#51","text":"\u5f53\u6253\u5f00\u6293\u5305\u5de5\u5177\u4ee5\u540e pycharm\u4e2d\u8fd0\u884c\u7684\u4ee3\u7801\u5219\u8bf7\u6c42\u5931\u8d25 \u51fa\u73b0\u5982\u4e0b\u9519\u8bef","title":"5.1 \u8bf4\u660e\uff1a"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#52","text":"","title":"5.2\u89e3\u51b3"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#521-proxy-proxy-settings","text":"\u51fa\u73b0\u5982\u4e0b\u754c\u9762","title":"5.2.1 \u70b9\u5f00proxy -&gt; proxy settings"},{"location":"28%E3%80%81%E9%80%86%E5%90%9102.html#522","text":"import requests url = 'https://app.mi.com/catTopList/0?page=1' headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36' } # \u6dfb\u52a0\u4ee3\u7406 proxy = { 'http': '127.0.0.1:8888', 'https': '127.0.0.1:8888', } # \u6dfb\u52a0\u4ee3\u7406\uff0c \u5e76\u5173\u95ed\u8bc1\u4e66\u9a8c\u8bc1 res = requests.get(url, headers=headers, proxies=proxy, verify=False) content = res.content.decode() print(content)","title":"5.2.2 \u4ee3\u7801\u4e2d\u6dfb\u52a0\u4ee3\u7406\uff0c\u5173\u95ed\u8bc1\u4e66\u9a8c\u8bc1"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html","text":"\u4e8c\u5341\u4e5d\u3001\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9006\u5411\u5f00\u53d1 1. \u524d\u7f6e\u77e5\u8bc6\u70b9 1.1 wxapkg\u6587\u4ef6 \u5982\u4f55\u67e5\u770b\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5305\u6587\u4ef6 \u6253\u5f00\u5fae\u4fe1\u7684\u8bbe\u7f6e\uff1a .wxapkg\u6982\u8ff0 .wxapkg\u662f\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7684\u5305\u6587\u4ef6\u683c\u5f0f\uff0c\u4e14\u5176\u5177\u6709 \u72ec\u7279\u7684\u7ed3\u6784 \u548c \u52a0\u5bc6\u65b9\u5f0f \u3002\u5b83\u4e0d\u4ec5\u5305\u542b\u4e86\u5c0f\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\uff0c\u8fd8\u5305\u62ec\u4e86\u56fe\u50cf\u548c\u5176\u4ed6\u8d44\u6e90\u6587\u4ef6\uff0c\u8fd9\u4e9b\u5185\u5bb9\u5728\u666e\u901a\u7684\u6587\u4ef6\u6d4f\u89c8\u5668\u4e2d\u662f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u7684\u3002\u8fd9\u79cd\u7279\u6b8a\u7684\u5305\u88c5\u65b9\u5f0f\u662f\u4e3a\u4e86\u4fdd\u62a4\u5c0f\u7a0b\u5e8f\u7684\u4ee3\u7801\u548c\u8d44\u6e90\u4e0d\u88ab\u8f7b\u6613\u83b7\u53d6\u548c\u7be1\u6539\uff0c\u786e\u4fdd\u4e86\u5c0f\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\u3002 1.2 \u89e3\u5bc6\u5de5\u5177unpackminiapp unpackminiapp\u4e3b\u8981\u7528\u4e8e\u89e3\u5bc6\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7684.wxapkg\u6587\u4ef6\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a\u53ef\u4ee5\u8fdb\u4e00\u6b65\u53cd\u7f16\u8bd1\u7684\u683c\u5f0f\u3002\u8be5\u5de5\u5177\u80fd\u591f\u81ea\u52a8\u89e3\u5bc6\u5c0f\u7a0b\u5e8f\u5305\uff0c\u5e76\u5c06\u89e3\u5bc6\u540e\u7684\u6587\u4ef6\u5b58\u50a8\u5728\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u4e2d\uff0c\u4f9b\u540e\u7eed\u6b65\u9aa4\u4f7f\u7528\u3002 \u6ce8\u610f\uff1a \u5728\u4f7f\u7528\u8be5\u5de5\u5177\u65f6\uff0c\u9700\u8981\u5728\u8be5\u5de5\u5177\u540c\u7ea7\u76ee\u5f55\u4e0b \u65b0\u5efa\u4e00\u4e2awxpack\u7684\u6587\u4ef6\u5939 \uff0c\u7528\u4e8e\u5b58\u50a8\u89e3\u5bc6\u540e\u7684wxapkg\u6587\u4ef6\u3002 \u5982\u679c\u8981\u89e3\u5bc6\u591a\u4e2a\u6587\u4ef6\uff0c\u5219\u9700\u8981\u5bf9\u89e3\u5bc6\u540e\u7684\u6587\u4ef6\u4f9d\u6b21\u8fdb\u884c\u91cd\u547d\u540d\u3002\u56e0\u4e3a\u8be5\u5de5\u5177\u5bf9\u89e3\u5bc6\u540e\u7684\u6bcf\u4e00\u4e2a\u6587\u4ef6\u7684\u547d\u540d\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u91cd\u65b0\u547d\u540d\u4f1a\u4ea7\u751f\u6587\u4ef6\u8986\u76d6\u3002 1.3 \u53cd\u7f16\u8bd1\u5de5\u5177unveilr \u4f7f\u7528unveilr\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u884c\u5bf9.wxapkg\u6587\u4ef6\u8fdb\u884c\u53cd\u7f16\u8bd1\uff0c\u5e76\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u4e2d\u3002 1.4 \u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177 \u5f53\u4f7f\u7528unveilr\u5b8c\u6210\u5bf9\u5c0f\u7a0b\u5e8f\u7684\u53cd\u7f16\u8bd1\u540e\uff0c\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u5c06\u53d1\u6325\u5176\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u8fdb\u4e00\u6b65\u8fdb\u884c\u5f00\u53d1\u548c\u8c03\u8bd5\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u3002 \u6253\u5f00\u5e94\u7528\u540e\uff0c\u8bbe\u7f6e\u8be6\u60c5\uff1a 1.5 NodeJs\u5f00\u53d1\u73af\u5883 Node\u662f\u5728\u6d4f\u89c8\u5668\u4e4b\u5916\u8fd0\u884cjs\u4ee3\u7801\u7684\u5f00\u53d1\u73af\u5883\uff0c\u53ef\u4ee5\u8131\u79bb\u6d4f\u89c8\u5668\u5728\u5916\u90e8\u8fd0\u884cjs\u7a0b\u5e8f\u3002 2. \u9006\u5411\u6848\u4f8b1 \u8be5\u5c0f\u7a0b\u5e8f\u4e2d\uff0c\u4f17\u591a\u6570\u636e\u5305\u90fd\u9700\u8981\u7528\u5230\u4e24\u4e2a\u52a0\u5bc6\u7684\u8bf7\u6c42\u5934\u53c2\u6570\uff08Signature\u548cMessageId\uff09\uff0c\u63a5\u4e0b\u6765\u5c31\u9006\u5411\u8fd9\u4e24\u4e2a\u53c2\u6570\uff01 \u5728\u5fae\u4fe1\u4e2d\u67e5\u770b\u8be5\u5c0f\u7a0b\u5e8f\u52a0\u5bc6\u4e14\u7f16\u8bd1\u540e\u7684\u6587\u4ef6 \u4f7f\u7528\u89e3\u5bc6\u5de5\u5177\u548c\u53cd\u7f16\u8bd1\u5de5\u5177\u5bf9\u8be5\u5c0f\u7a0b\u5e8f\u5305\u6587\u4ef6\u8fdb\u884c\u5904\u7406 \u4f7f\u7528\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u6253\u5f00\u7f16\u8bd1\u540e\u7684\u8be5\u5c0f\u7a0b\u5e8f\u9879\u76ee \u5728\u8be6\u60c5\u7684\u672c\u5730\u8bbe\u7f6e\u4e2d\u70b9\u9009\u4e0a\u3010\u4e0d\u6821\u9a8c\u5408\u6cd5\u57df\u540d......\u3011 \u5728\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\uff0c\u6253\u5f00network\u7684XHR\uff0c\u7136\u540e\u5728\u9996\u9875\u8fdb\u5165\u7b2c\u4e00\u5bb6\u5e97\u94fa\uff0c\u4e0b\u62c9\u67e5\u770b\u3010\u5708\u5b50\u3011\uff0c\u7136\u540e\u6e05\u7a7a\u6570\u636e\u5305\uff0c\u4e0b\u62c9\u5237\u65b0\u3010\u5708\u5b50\u3011\uff0c\u6355\u83b7\u52a0\u8f7d\u6570\u636e\u7684\u6570\u636e\u5305\uff1a \u6570\u636e\u5305\u5206\u6790\uff1a \u7ecf\u8fc7\u591a\u6b21\u8bf7\u6c42\u53d1\u73b0\uff0c\u8be5\u6570\u636e\u5305\u7684url\u4e0d\u53d8 \u8bf7\u6c42\u5934\u4e2d\u5b58\u5728\u4e00\u4e2a Signature \uff0c\u4fdd\u5b58\u7684\u6570\u636e\u662f\u4e00\u7ec416\u8fdb\u5236\u7684\u6570\u636e\uff0c\u4e14\u662f\u52a8\u6001\u53d8\u5316\u7684\u9700\u8981\u9006\u5411\u3002 \u8bf7\u6c42\u5934\u4e2d\u5b58\u5728\u4e00\u4e2a MessageId \uff0c\u4e14\u662f\u52a8\u6001\u53d8\u5316\u7684\u9700\u8981\u9006\u5411\u3002 Signature\u9006\u5411\uff1a \u641c\u7d22\u201dSignature\uff1a\u201c\u5173\u952e\u5b57\uff0c\u5b9a\u4f4d\u5728common.js\u6570\u636e\u5305\uff0c\u6ce8\u610f\uff0c\u5728js\u6570\u636e\u5305\u4e2d\uff0c\u5148\u683c\u5f0f\u5316\u518d\u6253\u65ad\u70b9\uff1a \u7ee7\u7eed\u4e0b\u62c9\u9875\u9762\uff0c\u52a0\u8f7d\u66f4\u591a\u3010\u5708\u5b50\u3011\u5185\u5bb9\uff0c\u4f1a\u6267\u884c\u5982\u4e0b\u65ad\u70b9\uff1a \u5176\u6838\u5fc3js\u4ee3\u7801\u4e3a\uff1a js //\u8c03\u7528(0, s.o$)\u8fd4\u56de\u7684\u51fd\u6570\uff0c\u4f20\u516510\u4e2a\u53c2\u6570\uff0c\u8fd4\u56de\u6570\u636e\u8d4b\u503c\u7ed9header.Signature t.header.Signature = (0, s.o$)(t.header.Timestamp, o, i, u, c, a, d, f, p, encodeURIComponent(t.url.split(\"betterwood.com\")[1].split(\"?\")[0])) //\u53c2\u65701\uff1at.header.Timestamp\u4e3a\u5f53\u524d\u65f6\u95f4\u6233 //\u53c2\u65702-9\uff1ao, i, u, c, a, d, f, p //\u53c2\u657010\uff1aencodeURIComponent(t.url.split(\"betterwood.com\")[1].split(\"?\")[0])\uff0c\u5176\u4e2dt.url\u53ef\u4ee5\u6293\u5305\u5de5\u5177\u4e2d\u67e5\u770b\u4e3a\u56fa\u5b9a\u503c \u5728\u4e0a\u8ff0\u4ee3\u7801\u4e0a\u9762\u5c31\u53ef\u4ee5\u67e5\u770b\u53c2\u65702-8\u7684\u503c\u5404\u81ea\u4e3a\uff1a ```js //\u53c2\u65702-9\uff1ao, i, u, c, a, d, f, p\uff0c\u4ee5\u6b64\u5728\u6293\u5305\u5de5\u5177\u4e2d\u67e5\u770b\u5404\u81ea\u53d8\u91cf\u7684\u503c var e = t.header //\u53ef\u76f4\u63a5\u5220\u9664\u53d8\u91cfe , o = e.OsVersion , i = e.DeviceManufacture , u = e.DeviceModel , c = e.ClientType , a = e.AppVersion , d = e.Channel , f = e.MessageId , p = e.Authorization; //\u89e3\u6790\u53d8\u91cf\u503c\u540e\uff0c\u5404\u4e2a\u53d8\u91cf\u4e3a\uff1a var o = \"iOS 10.0.1\" , i = \"devtools\" , u = \"iPhone 12/13 (Pro)\" , c = \"5\" , a = \"3.0.1\" , d = \"bdw\" , f = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , p = undefined; ``` \u8fdb\u5165(0, s.o$)\u51fd\u6570\uff0c\u67e5\u770b\u51fd\u6570\u5b9e\u73b0\uff1a ```js L = function L(t, n, e, r, o, i, u, a, s, d) { var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = c()(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } //\u6539\u5199\u8be5\u51fd\u6570\uff0c\u5c06\u53c2\u6570\u5c01\u88c5\u5728\u51fd\u6570\u5185\u90e8 function L(t, n, e, r, o, i, u, a, s, d) { var t = Date.now();//\u53c2\u65701 // \u53c2\u657010 var d = encodeURIComponent('https://api.betterwood.com/content/moment/feature/list'.split(\"betterwood.com\")[1].split(\"?\")[0]); //\u53c2\u65702-9\uff1a var n = \"iOS 10.0.1\" , e = \"devtools\" , r = \"iPhone 12/13 (Pro)\" , o = \"5\" , i = \"3.0.1\" , u = \"bdw\" , a = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , s = undefined; var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = c()(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } ``` \u8865\u5168c()\u51fd\u6570\uff0c\u5728\u4e0a\u8ff0\u4ee3\u7801c()\u51fd\u6570\u5904\u6253\u65ad\u70b9\uff0c\u7136\u540e\u8fdb\u5165c\u51fd\u6570\u5185\u90e8\uff1a ```js function(e) { return new Md5(!0).update(e) t ; } //\u6b64\u5904\u4e3amd5\u52a0\u5bc6\u3002\u7136\u540ereturn\u5904\u6253\u4e0a\u65ad\u70b9\u67e5\u770b\u672a\u77e5\u9879t\u662f\u4ec0\u4e48\uff1f\u53d1\u73b0t\u4e3ahex\uff08\u5c06\u52a0\u5bc6\u6570\u636e\u8f6c\u6362\u621016\u8fdb\u5236\u7684\u5f62\u5f0f\uff09 //\u57fa\u4e8ecrypto-js\u6a21\u5757\u6539\u5199\u8be5c()\u51fd\u6570\u5b9e\u73b0\u7684\u6570\u636e\u52a0\u5bc6 function md5_encrypt(e){ //npm install crypto-js var CryptoJS = require('crypto-js'); return CryptoJS.MD5(e).toString(); } ``` \u5b8c\u6574\u4ee3\u7801\uff1a ```js function md5_encrypt(e){ var CryptoJS = require('crypto-js'); return CryptoJS.MD5(e).toString(); } function L() { var t = Date.now();//\u53c2\u65701 var d = encodeURIComponent('https://api.betterwood.com/content/moment/feature/list'.split(\"betterwood.com\")[1].split(\"?\")[0]);// \u53c2\u657010 //\u53c2\u65702-9\uff1a var n = \"iOS 10.0.1\" , e = \"devtools\" , r = \"iPhone 12/13 (Pro)\" , o = \"5\" , i = \"3.0.1\" , u = \"bdw\" , a = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , s = undefined; var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = md5_encrypt(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } ``` MessageId\u9006\u5411\uff1a \u5168\u5c40\u641c\u7d22\u201cMessageId\uff1a\",\u5b9a\u4f4d\u5230\u4e86common.js\u6570\u636e\u5305\uff1a \u5176\u4e2dI\u7684\u751f\u6210\u51fd\u6570\u7684r\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u201d\u201c \u5206\u6790\u751f\u6210I\u7684\u51fd\u6570\uff0c\u8fdb\u5165\u5176\u5185\u90e8\uff1a ```js function H() { for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\", n = [], e = \"0123456789abcdef\", r = 0; r < 36; r++) { var o = Math.floor(16 * Math.random()); n[r] = e.substring(o, o + 1); } n[14] = \"4\"; var i = 3 & Number(n[19]) | 8; n[19] = e.substring(i, i + 1), n[8] = n[13] = n[18] = n[23] = \"-\"; var u = n.join(\"\") //\u5176\u4e2dR\u548cc\u662f\u672a\u77e5\uff0c\u4f46\u662f\u6b64\u5904\u7684c()\u5c31\u662fSignature\u53c2\u6570\u9006\u5411\u65f6\u7684md5\u52a0\u5bc6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e4b\u524d\u7684md5_encrypt\u51fd\u6570\u4ee3\u66ffc() //, a = R(c()(u + new Date().getTime() + t)); //md5_encrypt\u51fd\u6570\u4ee3\u66ffc() , a = R(md5_encrypt(u + new Date().getTime() + t)); return a; } ``` \u5206\u6790R\u51fd\u6570\uff0c\u5728console\u4e2d\u8f93\u5165R\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\u8fdb\u5165R\u51fd\u6570\u5b9e\u73b0\u5185\u90e8\uff1a js //\u65e0\u9700\u8865\u5145\u4efb\u4f55\u5185\u5bb9 function R(t) { for (var n = [8, 13, 18, 23], e = 0; e < n.length; e++) t = t.slice(0, n[e]) + \"-\" + t.slice(n[e]); return t; } \u5206\u6790c\u51fd\u6570\uff1a\u5c31\u662fmd\u52a0\u5bc6\uff0c\u53ef\u4ee5\u4f7f\u7528md5_encrypt\u51fd\u6570\u5373\u53ef \u5b8c\u6574\u4ee3\u7801\uff1a js function H() { for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\", n = [], e = \"0123456789abcdef\", r = 0; r < 36; r++) { var o = Math.floor(16 * Math.random()); n[r] = e.substring(o, o + 1); } n[14] = \"4\"; var i = 3 & Number(n[19]) | 8; n[19] = e.substring(i, i + 1), n[8] = n[13] = n[18] = n[23] = \"-\"; var u = n.join(\"\") , a = R(md5_encrypt(u + new Date().getTime() + t)); return a; } function R(t) { for (var n = [8, 13, 18, 23], e = 0; e < n.length; e++) t = t.slice(0, n[e]) + \"-\" + t.slice(n[e]); return t; } 2\u4e2a\u9006\u5411\u53c2\u6570\u5b8c\u6574\u9006\u5411js\u4ee3\u7801 function md5_encrypt(e){ var CryptoJS = require('crypto-js'); return CryptoJS.MD5(e).toString(); } //\u83b7\u53d6Signature\u9006\u5411\u503c\u7684L\u51fd\u6570 function L() { var t = Date.now();//\u53c2\u65701 var d = encodeURIComponent('https://api.betterwood.com/content/moment/feature/list'.split(\"betterwood.com\")[1].split(\"?\")[0]);// \u53c2\u657010 //\u53c2\u65702-9\uff1a var n = \"iOS 10.0.1\" , e = \"devtools\" , r = \"iPhone 12/13 (Pro)\" , o = \"5\" , i = \"3.0.1\" , u = \"bdw\" , a = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , s = undefined; var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = md5_encrypt(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } //\u83b7\u53d6MessageId\u9006\u5411\u503c\u7684H\u51fd\u6570 function H() { for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\", n = [], e = \"0123456789abcdef\", r = 0; r < 36; r++) { var o = Math.floor(16 * Math.random()); n[r] = e.substring(o, o + 1); } n[14] = \"4\"; var i = 3 & Number(n[19]) | 8; n[19] = e.substring(i, i + 1), n[8] = n[13] = n[18] = n[23] = \"-\"; var u = n.join(\"\") , a = R(md5_encrypt(u + new Date().getTime() + t)); return a; } function R(t) { for (var n = [8, 13, 18, 23], e = 0; e < n.length; e++) t = t.slice(0, n[e]) + \"-\" + t.slice(n[e]); return t; } 3. \u9006\u5411\u6848\u4f8b2 \u6398\u91d1\u58c1\u7eb8\uff1a\u8bf7\u6c42\u5934\u53c2\u6570\u9006\u5411\uff08requestData\u548civ\uff09+\u52a0\u5bc6\u54cd\u5e94\u6570\u636e\u89e3\u5bc6\u3002 \u8fdb\u5165\u5c0f\u7a0b\u5e8f\u540e\uff0c\u641c\u7d22666\u6216\u8005888\u5bf9\u5e94\u6570\u636e\u5305\u7684\u6570\u636e\uff0c\u6216\u8005\u641c\u7d22\u7ed3\u679c\u9875\u9762\u4e2d\u5168\u90e8\u6216\u8005\u58c1\u7eb8\u7b49\u9009\u9879\u5361\u7684pageIndex\u8bf7\u6c42\u6570\u636e\u3002 \u5168\u5c40\u641c\u7d22requestData\u5173\u952e\u5b57\uff0c\u5b9a\u4f4d\u5230api\u7684\u6570\u636e\u5305 /* \u5904\u7406\u53c2\u6570requestData\u7684\u503c\uff1a\u901a\u8fc7\u8c03\u7528\u5e26\u53c2\u6570\u7684\u51fd\u6570t\u8fd4\u56de\uff0c\u4e14t\u51fd\u6570\u5b9a\u4e49\u4e2d\u53ea\u4f7f\u7528\u4e86 \u524d\u4e24\u4e2a\u53c2\u6570c(\u56fa\u5b9a\u503c)\u548cu(AES\u7684iv)\u548c\u4e00\u4e2aundefine */ //\u76f4\u63a5\u62f7\u8d1dJSON.stringify(c)\u7684\u503c\u5373\u53ef\uff08\u56fa\u5b9a\u503c\uff09 var c = `{\"acc_id\":78,\"page\":1,\"class\":1,\"sort\":\"4\",\"appid\":\"wx41cd4f32cf8164b3\",\"ver\":\"7.0.0\",\"min_push\":0,\"scene\":1001}` //\u53c2\u6570u\u7684\u5904\u7406\uff1a\u4e0a\u4e00\u884c\u51fd\u6570d() function d(){ for (var e = \"\", a = [\"1\", \"2\", \"4\", \"5\", \"3\", \"8\", \"0\", \"7\", \"9\", \"6\", \"A\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", \"q\", \"w\", \"S\", \"e\", \"a\", \"s\", \"d\", \"z\", \"x\", \"c\", \"v\", \"f\", \"r\", \"t\", \"g\", \"b\", \"y\", \"h\", \"n\", \"m\", \"j\", \"u\", \"i\", \"o\", \"k\", \"l\", \"p\"], n = 0; n < 16; n++) e += a[(Math.random() * (a.length - 1)).toFixed(0)]; return e } var u = d(); //\u51fd\u6570t\u7684\u5c01\u88c5 function t(e, n) { const CryptoJS = require(\"crypto-js\"); var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"WAG0JIUGYALACVJF\" , i = CryptoJS.enc.Utf8.parse(r) , t = CryptoJS.enc.Utf8.parse(n); return CryptoJS.AES.encrypt(e, i, { iv: t, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString() } //\u8fd4\u56de\u4e24\u4e2a\u9006\u5411\u53c2\u6570\u7ed3\u679c\u7684s\u5c01\u88c5\uff0c\u53ef\u76f4\u63a5\u4f5c\u4e3a\u8bf7\u6c42\u53c2\u6570 function s(){ return { 'requestData':t(c,u,undefined), 'iv':u } } /* \u52a0\u5bc6\u54cd\u5e94\u6570\u636e\u89e3\u5bc6\uff0c\u6570\u636e\u5305\u8fd4\u56de\u7684json\u6570\u636e\uff0c\u5176\u4e2ddata\u7684value\u503c\u662f\u5bc6\u6587\u6570\u636e \u5c1d\u8bd51\uff1a\u5168\u5c40\u641c\u7d22data\u5173\u952e\u5b57\uff0c\u6570\u636e\u5305\u592a\u591a\u4e86\uff0c\u653e\u5f03 \u5c1d\u8bd52\uff1a\u641c\u7d22ajax\u8bf7\u6c42\u5173\u952e\u5b57\uff08ajx\u6216\u8005XMLHttpRequest\uff09\u5b9a\u4f4d\u4e0d\u5230\uff0c\u653e\u5f03 \u5c1d\u8bd53\uff1a\u641c\u7d22\u6570\u636e\u5305\u7684\u90e8\u5206url\uff08Product/pageIndex\uff09\u653e\u5f03 \u5c1d\u8bd54\uff1a\u641c\u7d22\u52a0\u5bc6\u7b97\u6cd5\u5173\u952e\u5b57\uff08AES\uff09\u53ef\u884capi\u5305\u4e2d\uff08\u56e0\u4e3a\u8bf7\u6c42\u5934\u53c2\u6570\u5c31\u662fAES\u52a0\u5bc6\uff09 */ //\u6570\u636e\u89e3\u5bc6\u539f\u51fd\u6570 var i = function(e, n) { //\u53c2\u6570e\u662f\u52a0\u5bc6\u6570\u636e\uff0cn\u662f\u56fa\u5b9a\u503c var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"WAG0JIUGYALACVJF\" , i = a.CryptoJS.enc.Utf8.parse(r) //t\u662f\u901a\u8fc7n\u5f97\u6765\u7684 , t = a.CryptoJS.enc.Utf8.parse(n); return a.CryptoJS.AES.decrypt(e, i, { iv: t, // iv\u662ft\uff0ct\u662fn\uff0c\u5219iv\u5c31\u662f\u51fd\u6570\u53c2\u6570n\u8fd9\u4e2a\u56fa\u5b9a\u503c mode: a.CryptoJS.mode.CBC, padding: a.CryptoJS.pad.Pkcs7 }).toString(a.CryptoJS.enc.Utf8) } function decrype(e,n = 'HI9Z3B5DD8CYQ8WH'){ const CryptoJS = require(\"crypto-js\"); var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"WAG0JIUGYALACVJF\" , i = CryptoJS.enc.Utf8.parse(r) , t = CryptoJS.enc.Utf8.parse(n); return CryptoJS.AES.decrypt(e, i, { iv: t, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString(CryptoJS.enc.Utf8) } //\u89e3\u5bc6\u6d4b\u8bd5 var data = 'xxx' var iv = \"HI9Z3B5DD8CYQ8WH\"; console.log(decrype(data,iv)) python\u4ee3\u7801 import requests import execjs import time import subprocess from functools import partial subprocess.Popen = partial(subprocess.Popen, encoding='utf-8') node = execjs.get() fp = open('main.js','r',encoding='utf-8') ctx = node.compile(fp.read()) #\u83b7\u53d6\u52a0\u5bc6\u6570\u636e url = 'https://min-api.xliii.cn/miniapi/Product/pageIndex' headers = { 'User-Agent':'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1 wechatdevtools/1.06.2407110 MicroMessenger/8.0.5 webview/', } s = ctx.eval('s()') response = requests.get(url,params=s).json() encrypt_data = response['data']['data'] print(encrypt_data) \u9519\u8bef\u5904\u7406 \u4e61\u4fe1\u52a9\u519c","title":"\u4e8c\u5341\u4e5d\u3001\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9006\u5411\u5f00\u53d1"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#_1","text":"","title":"\u4e8c\u5341\u4e5d\u3001\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9006\u5411\u5f00\u53d1"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#1","text":"","title":"1. \u524d\u7f6e\u77e5\u8bc6\u70b9"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#11-wxapkg","text":"\u5982\u4f55\u67e5\u770b\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5305\u6587\u4ef6 \u6253\u5f00\u5fae\u4fe1\u7684\u8bbe\u7f6e\uff1a .wxapkg\u6982\u8ff0 .wxapkg\u662f\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7684\u5305\u6587\u4ef6\u683c\u5f0f\uff0c\u4e14\u5176\u5177\u6709 \u72ec\u7279\u7684\u7ed3\u6784 \u548c \u52a0\u5bc6\u65b9\u5f0f \u3002\u5b83\u4e0d\u4ec5\u5305\u542b\u4e86\u5c0f\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\uff0c\u8fd8\u5305\u62ec\u4e86\u56fe\u50cf\u548c\u5176\u4ed6\u8d44\u6e90\u6587\u4ef6\uff0c\u8fd9\u4e9b\u5185\u5bb9\u5728\u666e\u901a\u7684\u6587\u4ef6\u6d4f\u89c8\u5668\u4e2d\u662f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u7684\u3002\u8fd9\u79cd\u7279\u6b8a\u7684\u5305\u88c5\u65b9\u5f0f\u662f\u4e3a\u4e86\u4fdd\u62a4\u5c0f\u7a0b\u5e8f\u7684\u4ee3\u7801\u548c\u8d44\u6e90\u4e0d\u88ab\u8f7b\u6613\u83b7\u53d6\u548c\u7be1\u6539\uff0c\u786e\u4fdd\u4e86\u5c0f\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\u3002","title":"1.1 wxapkg\u6587\u4ef6"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#12-unpackminiapp","text":"unpackminiapp\u4e3b\u8981\u7528\u4e8e\u89e3\u5bc6\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7684.wxapkg\u6587\u4ef6\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a\u53ef\u4ee5\u8fdb\u4e00\u6b65\u53cd\u7f16\u8bd1\u7684\u683c\u5f0f\u3002\u8be5\u5de5\u5177\u80fd\u591f\u81ea\u52a8\u89e3\u5bc6\u5c0f\u7a0b\u5e8f\u5305\uff0c\u5e76\u5c06\u89e3\u5bc6\u540e\u7684\u6587\u4ef6\u5b58\u50a8\u5728\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u4e2d\uff0c\u4f9b\u540e\u7eed\u6b65\u9aa4\u4f7f\u7528\u3002 \u6ce8\u610f\uff1a \u5728\u4f7f\u7528\u8be5\u5de5\u5177\u65f6\uff0c\u9700\u8981\u5728\u8be5\u5de5\u5177\u540c\u7ea7\u76ee\u5f55\u4e0b \u65b0\u5efa\u4e00\u4e2awxpack\u7684\u6587\u4ef6\u5939 \uff0c\u7528\u4e8e\u5b58\u50a8\u89e3\u5bc6\u540e\u7684wxapkg\u6587\u4ef6\u3002 \u5982\u679c\u8981\u89e3\u5bc6\u591a\u4e2a\u6587\u4ef6\uff0c\u5219\u9700\u8981\u5bf9\u89e3\u5bc6\u540e\u7684\u6587\u4ef6\u4f9d\u6b21\u8fdb\u884c\u91cd\u547d\u540d\u3002\u56e0\u4e3a\u8be5\u5de5\u5177\u5bf9\u89e3\u5bc6\u540e\u7684\u6bcf\u4e00\u4e2a\u6587\u4ef6\u7684\u547d\u540d\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u91cd\u65b0\u547d\u540d\u4f1a\u4ea7\u751f\u6587\u4ef6\u8986\u76d6\u3002","title":"1.2 \u89e3\u5bc6\u5de5\u5177unpackminiapp"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#13-unveilr","text":"\u4f7f\u7528unveilr\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u547d\u4ee4\u884c\u5bf9.wxapkg\u6587\u4ef6\u8fdb\u884c\u53cd\u7f16\u8bd1\uff0c\u5e76\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u4e2d\u3002","title":"1.3 \u53cd\u7f16\u8bd1\u5de5\u5177unveilr"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#14","text":"\u5f53\u4f7f\u7528unveilr\u5b8c\u6210\u5bf9\u5c0f\u7a0b\u5e8f\u7684\u53cd\u7f16\u8bd1\u540e\uff0c\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u5c06\u53d1\u6325\u5176\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u8fdb\u4e00\u6b65\u8fdb\u884c\u5f00\u53d1\u548c\u8c03\u8bd5\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u3002 \u6253\u5f00\u5e94\u7528\u540e\uff0c\u8bbe\u7f6e\u8be6\u60c5\uff1a","title":"1.4 \u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#15-nodejs","text":"Node\u662f\u5728\u6d4f\u89c8\u5668\u4e4b\u5916\u8fd0\u884cjs\u4ee3\u7801\u7684\u5f00\u53d1\u73af\u5883\uff0c\u53ef\u4ee5\u8131\u79bb\u6d4f\u89c8\u5668\u5728\u5916\u90e8\u8fd0\u884cjs\u7a0b\u5e8f\u3002","title":"1.5 NodeJs\u5f00\u53d1\u73af\u5883"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#2-1","text":"\u8be5\u5c0f\u7a0b\u5e8f\u4e2d\uff0c\u4f17\u591a\u6570\u636e\u5305\u90fd\u9700\u8981\u7528\u5230\u4e24\u4e2a\u52a0\u5bc6\u7684\u8bf7\u6c42\u5934\u53c2\u6570\uff08Signature\u548cMessageId\uff09\uff0c\u63a5\u4e0b\u6765\u5c31\u9006\u5411\u8fd9\u4e24\u4e2a\u53c2\u6570\uff01 \u5728\u5fae\u4fe1\u4e2d\u67e5\u770b\u8be5\u5c0f\u7a0b\u5e8f\u52a0\u5bc6\u4e14\u7f16\u8bd1\u540e\u7684\u6587\u4ef6 \u4f7f\u7528\u89e3\u5bc6\u5de5\u5177\u548c\u53cd\u7f16\u8bd1\u5de5\u5177\u5bf9\u8be5\u5c0f\u7a0b\u5e8f\u5305\u6587\u4ef6\u8fdb\u884c\u5904\u7406 \u4f7f\u7528\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u6253\u5f00\u7f16\u8bd1\u540e\u7684\u8be5\u5c0f\u7a0b\u5e8f\u9879\u76ee \u5728\u8be6\u60c5\u7684\u672c\u5730\u8bbe\u7f6e\u4e2d\u70b9\u9009\u4e0a\u3010\u4e0d\u6821\u9a8c\u5408\u6cd5\u57df\u540d......\u3011 \u5728\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\uff0c\u6253\u5f00network\u7684XHR\uff0c\u7136\u540e\u5728\u9996\u9875\u8fdb\u5165\u7b2c\u4e00\u5bb6\u5e97\u94fa\uff0c\u4e0b\u62c9\u67e5\u770b\u3010\u5708\u5b50\u3011\uff0c\u7136\u540e\u6e05\u7a7a\u6570\u636e\u5305\uff0c\u4e0b\u62c9\u5237\u65b0\u3010\u5708\u5b50\u3011\uff0c\u6355\u83b7\u52a0\u8f7d\u6570\u636e\u7684\u6570\u636e\u5305\uff1a \u6570\u636e\u5305\u5206\u6790\uff1a \u7ecf\u8fc7\u591a\u6b21\u8bf7\u6c42\u53d1\u73b0\uff0c\u8be5\u6570\u636e\u5305\u7684url\u4e0d\u53d8 \u8bf7\u6c42\u5934\u4e2d\u5b58\u5728\u4e00\u4e2a Signature \uff0c\u4fdd\u5b58\u7684\u6570\u636e\u662f\u4e00\u7ec416\u8fdb\u5236\u7684\u6570\u636e\uff0c\u4e14\u662f\u52a8\u6001\u53d8\u5316\u7684\u9700\u8981\u9006\u5411\u3002 \u8bf7\u6c42\u5934\u4e2d\u5b58\u5728\u4e00\u4e2a MessageId \uff0c\u4e14\u662f\u52a8\u6001\u53d8\u5316\u7684\u9700\u8981\u9006\u5411\u3002","title":"2. \u9006\u5411\u6848\u4f8b1"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#signature","text":"\u641c\u7d22\u201dSignature\uff1a\u201c\u5173\u952e\u5b57\uff0c\u5b9a\u4f4d\u5728common.js\u6570\u636e\u5305\uff0c\u6ce8\u610f\uff0c\u5728js\u6570\u636e\u5305\u4e2d\uff0c\u5148\u683c\u5f0f\u5316\u518d\u6253\u65ad\u70b9\uff1a \u7ee7\u7eed\u4e0b\u62c9\u9875\u9762\uff0c\u52a0\u8f7d\u66f4\u591a\u3010\u5708\u5b50\u3011\u5185\u5bb9\uff0c\u4f1a\u6267\u884c\u5982\u4e0b\u65ad\u70b9\uff1a \u5176\u6838\u5fc3js\u4ee3\u7801\u4e3a\uff1a js //\u8c03\u7528(0, s.o$)\u8fd4\u56de\u7684\u51fd\u6570\uff0c\u4f20\u516510\u4e2a\u53c2\u6570\uff0c\u8fd4\u56de\u6570\u636e\u8d4b\u503c\u7ed9header.Signature t.header.Signature = (0, s.o$)(t.header.Timestamp, o, i, u, c, a, d, f, p, encodeURIComponent(t.url.split(\"betterwood.com\")[1].split(\"?\")[0])) //\u53c2\u65701\uff1at.header.Timestamp\u4e3a\u5f53\u524d\u65f6\u95f4\u6233 //\u53c2\u65702-9\uff1ao, i, u, c, a, d, f, p //\u53c2\u657010\uff1aencodeURIComponent(t.url.split(\"betterwood.com\")[1].split(\"?\")[0])\uff0c\u5176\u4e2dt.url\u53ef\u4ee5\u6293\u5305\u5de5\u5177\u4e2d\u67e5\u770b\u4e3a\u56fa\u5b9a\u503c \u5728\u4e0a\u8ff0\u4ee3\u7801\u4e0a\u9762\u5c31\u53ef\u4ee5\u67e5\u770b\u53c2\u65702-8\u7684\u503c\u5404\u81ea\u4e3a\uff1a ```js //\u53c2\u65702-9\uff1ao, i, u, c, a, d, f, p\uff0c\u4ee5\u6b64\u5728\u6293\u5305\u5de5\u5177\u4e2d\u67e5\u770b\u5404\u81ea\u53d8\u91cf\u7684\u503c var e = t.header //\u53ef\u76f4\u63a5\u5220\u9664\u53d8\u91cfe , o = e.OsVersion , i = e.DeviceManufacture , u = e.DeviceModel , c = e.ClientType , a = e.AppVersion , d = e.Channel , f = e.MessageId , p = e.Authorization; //\u89e3\u6790\u53d8\u91cf\u503c\u540e\uff0c\u5404\u4e2a\u53d8\u91cf\u4e3a\uff1a var o = \"iOS 10.0.1\" , i = \"devtools\" , u = \"iPhone 12/13 (Pro)\" , c = \"5\" , a = \"3.0.1\" , d = \"bdw\" , f = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , p = undefined; ``` \u8fdb\u5165(0, s.o$)\u51fd\u6570\uff0c\u67e5\u770b\u51fd\u6570\u5b9e\u73b0\uff1a ```js L = function L(t, n, e, r, o, i, u, a, s, d) { var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = c()(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } //\u6539\u5199\u8be5\u51fd\u6570\uff0c\u5c06\u53c2\u6570\u5c01\u88c5\u5728\u51fd\u6570\u5185\u90e8 function L(t, n, e, r, o, i, u, a, s, d) { var t = Date.now();//\u53c2\u65701 // \u53c2\u657010 var d = encodeURIComponent('https://api.betterwood.com/content/moment/feature/list'.split(\"betterwood.com\")[1].split(\"?\")[0]); //\u53c2\u65702-9\uff1a var n = \"iOS 10.0.1\" , e = \"devtools\" , r = \"iPhone 12/13 (Pro)\" , o = \"5\" , i = \"3.0.1\" , u = \"bdw\" , a = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , s = undefined; var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = c()(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } ``` \u8865\u5168c()\u51fd\u6570\uff0c\u5728\u4e0a\u8ff0\u4ee3\u7801c()\u51fd\u6570\u5904\u6253\u65ad\u70b9\uff0c\u7136\u540e\u8fdb\u5165c\u51fd\u6570\u5185\u90e8\uff1a ```js function(e) { return new Md5(!0).update(e) t ; } //\u6b64\u5904\u4e3amd5\u52a0\u5bc6\u3002\u7136\u540ereturn\u5904\u6253\u4e0a\u65ad\u70b9\u67e5\u770b\u672a\u77e5\u9879t\u662f\u4ec0\u4e48\uff1f\u53d1\u73b0t\u4e3ahex\uff08\u5c06\u52a0\u5bc6\u6570\u636e\u8f6c\u6362\u621016\u8fdb\u5236\u7684\u5f62\u5f0f\uff09 //\u57fa\u4e8ecrypto-js\u6a21\u5757\u6539\u5199\u8be5c()\u51fd\u6570\u5b9e\u73b0\u7684\u6570\u636e\u52a0\u5bc6 function md5_encrypt(e){ //npm install crypto-js var CryptoJS = require('crypto-js'); return CryptoJS.MD5(e).toString(); } ``` \u5b8c\u6574\u4ee3\u7801\uff1a ```js function md5_encrypt(e){ var CryptoJS = require('crypto-js'); return CryptoJS.MD5(e).toString(); } function L() { var t = Date.now();//\u53c2\u65701 var d = encodeURIComponent('https://api.betterwood.com/content/moment/feature/list'.split(\"betterwood.com\")[1].split(\"?\")[0]);// \u53c2\u657010 //\u53c2\u65702-9\uff1a var n = \"iOS 10.0.1\" , e = \"devtools\" , r = \"iPhone 12/13 (Pro)\" , o = \"5\" , i = \"3.0.1\" , u = \"bdw\" , a = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , s = undefined; var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = md5_encrypt(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } ```","title":"Signature\u9006\u5411\uff1a"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#messageid","text":"\u5168\u5c40\u641c\u7d22\u201cMessageId\uff1a\",\u5b9a\u4f4d\u5230\u4e86common.js\u6570\u636e\u5305\uff1a \u5176\u4e2dI\u7684\u751f\u6210\u51fd\u6570\u7684r\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u201d\u201c \u5206\u6790\u751f\u6210I\u7684\u51fd\u6570\uff0c\u8fdb\u5165\u5176\u5185\u90e8\uff1a ```js function H() { for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\", n = [], e = \"0123456789abcdef\", r = 0; r < 36; r++) { var o = Math.floor(16 * Math.random()); n[r] = e.substring(o, o + 1); } n[14] = \"4\"; var i = 3 & Number(n[19]) | 8; n[19] = e.substring(i, i + 1), n[8] = n[13] = n[18] = n[23] = \"-\"; var u = n.join(\"\") //\u5176\u4e2dR\u548cc\u662f\u672a\u77e5\uff0c\u4f46\u662f\u6b64\u5904\u7684c()\u5c31\u662fSignature\u53c2\u6570\u9006\u5411\u65f6\u7684md5\u52a0\u5bc6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e4b\u524d\u7684md5_encrypt\u51fd\u6570\u4ee3\u66ffc() //, a = R(c()(u + new Date().getTime() + t)); //md5_encrypt\u51fd\u6570\u4ee3\u66ffc() , a = R(md5_encrypt(u + new Date().getTime() + t)); return a; } ``` \u5206\u6790R\u51fd\u6570\uff0c\u5728console\u4e2d\u8f93\u5165R\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\u8fdb\u5165R\u51fd\u6570\u5b9e\u73b0\u5185\u90e8\uff1a js //\u65e0\u9700\u8865\u5145\u4efb\u4f55\u5185\u5bb9 function R(t) { for (var n = [8, 13, 18, 23], e = 0; e < n.length; e++) t = t.slice(0, n[e]) + \"-\" + t.slice(n[e]); return t; } \u5206\u6790c\u51fd\u6570\uff1a\u5c31\u662fmd\u52a0\u5bc6\uff0c\u53ef\u4ee5\u4f7f\u7528md5_encrypt\u51fd\u6570\u5373\u53ef \u5b8c\u6574\u4ee3\u7801\uff1a js function H() { for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\", n = [], e = \"0123456789abcdef\", r = 0; r < 36; r++) { var o = Math.floor(16 * Math.random()); n[r] = e.substring(o, o + 1); } n[14] = \"4\"; var i = 3 & Number(n[19]) | 8; n[19] = e.substring(i, i + 1), n[8] = n[13] = n[18] = n[23] = \"-\"; var u = n.join(\"\") , a = R(md5_encrypt(u + new Date().getTime() + t)); return a; } function R(t) { for (var n = [8, 13, 18, 23], e = 0; e < n.length; e++) t = t.slice(0, n[e]) + \"-\" + t.slice(n[e]); return t; } 2\u4e2a\u9006\u5411\u53c2\u6570\u5b8c\u6574\u9006\u5411js\u4ee3\u7801 function md5_encrypt(e){ var CryptoJS = require('crypto-js'); return CryptoJS.MD5(e).toString(); } //\u83b7\u53d6Signature\u9006\u5411\u503c\u7684L\u51fd\u6570 function L() { var t = Date.now();//\u53c2\u65701 var d = encodeURIComponent('https://api.betterwood.com/content/moment/feature/list'.split(\"betterwood.com\")[1].split(\"?\")[0]);// \u53c2\u657010 //\u53c2\u65702-9\uff1a var n = \"iOS 10.0.1\" , e = \"devtools\" , r = \"iPhone 12/13 (Pro)\" , o = \"5\" , i = \"3.0.1\" , u = \"bdw\" , a = \"3e85ee4b-653d-4d22-e84d-fba176ca1db8\" , s = undefined; var f = \"987EBBF8450544D7A52D5539DF9A92A2\" , l = \"\"; return l = s ? \"AppVersion=\".concat(i, \"Authorization=\").concat(s, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d) : \"AppVersion=\".concat(i, \"Channel=\").concat(u, \"ClientType=\").concat(o, \"DeviceManufacture=\").concat(e, \"DeviceModel=\").concat(r, \"MessageId=\").concat(a, \"OsVersion=\").concat(n, \"Timestamp=\").concat(t, \"AppKey=\").concat(f, \"Url=\").concat(d), //\u6b64\u5904\u53ea\u6709c()\u9700\u8981\u8865\u5168\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c l = md5_encrypt(l.replace(/\\s*/g, \"\")).substring(4, 28).toLocaleUpperCase(); } //\u83b7\u53d6MessageId\u9006\u5411\u503c\u7684H\u51fd\u6570 function H() { for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\", n = [], e = \"0123456789abcdef\", r = 0; r < 36; r++) { var o = Math.floor(16 * Math.random()); n[r] = e.substring(o, o + 1); } n[14] = \"4\"; var i = 3 & Number(n[19]) | 8; n[19] = e.substring(i, i + 1), n[8] = n[13] = n[18] = n[23] = \"-\"; var u = n.join(\"\") , a = R(md5_encrypt(u + new Date().getTime() + t)); return a; } function R(t) { for (var n = [8, 13, 18, 23], e = 0; e < n.length; e++) t = t.slice(0, n[e]) + \"-\" + t.slice(n[e]); return t; }","title":"MessageId\u9006\u5411\uff1a"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#3-2","text":"\u6398\u91d1\u58c1\u7eb8\uff1a\u8bf7\u6c42\u5934\u53c2\u6570\u9006\u5411\uff08requestData\u548civ\uff09+\u52a0\u5bc6\u54cd\u5e94\u6570\u636e\u89e3\u5bc6\u3002 \u8fdb\u5165\u5c0f\u7a0b\u5e8f\u540e\uff0c\u641c\u7d22666\u6216\u8005888\u5bf9\u5e94\u6570\u636e\u5305\u7684\u6570\u636e\uff0c\u6216\u8005\u641c\u7d22\u7ed3\u679c\u9875\u9762\u4e2d\u5168\u90e8\u6216\u8005\u58c1\u7eb8\u7b49\u9009\u9879\u5361\u7684pageIndex\u8bf7\u6c42\u6570\u636e\u3002 \u5168\u5c40\u641c\u7d22requestData\u5173\u952e\u5b57\uff0c\u5b9a\u4f4d\u5230api\u7684\u6570\u636e\u5305 /* \u5904\u7406\u53c2\u6570requestData\u7684\u503c\uff1a\u901a\u8fc7\u8c03\u7528\u5e26\u53c2\u6570\u7684\u51fd\u6570t\u8fd4\u56de\uff0c\u4e14t\u51fd\u6570\u5b9a\u4e49\u4e2d\u53ea\u4f7f\u7528\u4e86 \u524d\u4e24\u4e2a\u53c2\u6570c(\u56fa\u5b9a\u503c)\u548cu(AES\u7684iv)\u548c\u4e00\u4e2aundefine */ //\u76f4\u63a5\u62f7\u8d1dJSON.stringify(c)\u7684\u503c\u5373\u53ef\uff08\u56fa\u5b9a\u503c\uff09 var c = `{\"acc_id\":78,\"page\":1,\"class\":1,\"sort\":\"4\",\"appid\":\"wx41cd4f32cf8164b3\",\"ver\":\"7.0.0\",\"min_push\":0,\"scene\":1001}` //\u53c2\u6570u\u7684\u5904\u7406\uff1a\u4e0a\u4e00\u884c\u51fd\u6570d() function d(){ for (var e = \"\", a = [\"1\", \"2\", \"4\", \"5\", \"3\", \"8\", \"0\", \"7\", \"9\", \"6\", \"A\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", \"q\", \"w\", \"S\", \"e\", \"a\", \"s\", \"d\", \"z\", \"x\", \"c\", \"v\", \"f\", \"r\", \"t\", \"g\", \"b\", \"y\", \"h\", \"n\", \"m\", \"j\", \"u\", \"i\", \"o\", \"k\", \"l\", \"p\"], n = 0; n < 16; n++) e += a[(Math.random() * (a.length - 1)).toFixed(0)]; return e } var u = d(); //\u51fd\u6570t\u7684\u5c01\u88c5 function t(e, n) { const CryptoJS = require(\"crypto-js\"); var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"WAG0JIUGYALACVJF\" , i = CryptoJS.enc.Utf8.parse(r) , t = CryptoJS.enc.Utf8.parse(n); return CryptoJS.AES.encrypt(e, i, { iv: t, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString() } //\u8fd4\u56de\u4e24\u4e2a\u9006\u5411\u53c2\u6570\u7ed3\u679c\u7684s\u5c01\u88c5\uff0c\u53ef\u76f4\u63a5\u4f5c\u4e3a\u8bf7\u6c42\u53c2\u6570 function s(){ return { 'requestData':t(c,u,undefined), 'iv':u } } /* \u52a0\u5bc6\u54cd\u5e94\u6570\u636e\u89e3\u5bc6\uff0c\u6570\u636e\u5305\u8fd4\u56de\u7684json\u6570\u636e\uff0c\u5176\u4e2ddata\u7684value\u503c\u662f\u5bc6\u6587\u6570\u636e \u5c1d\u8bd51\uff1a\u5168\u5c40\u641c\u7d22data\u5173\u952e\u5b57\uff0c\u6570\u636e\u5305\u592a\u591a\u4e86\uff0c\u653e\u5f03 \u5c1d\u8bd52\uff1a\u641c\u7d22ajax\u8bf7\u6c42\u5173\u952e\u5b57\uff08ajx\u6216\u8005XMLHttpRequest\uff09\u5b9a\u4f4d\u4e0d\u5230\uff0c\u653e\u5f03 \u5c1d\u8bd53\uff1a\u641c\u7d22\u6570\u636e\u5305\u7684\u90e8\u5206url\uff08Product/pageIndex\uff09\u653e\u5f03 \u5c1d\u8bd54\uff1a\u641c\u7d22\u52a0\u5bc6\u7b97\u6cd5\u5173\u952e\u5b57\uff08AES\uff09\u53ef\u884capi\u5305\u4e2d\uff08\u56e0\u4e3a\u8bf7\u6c42\u5934\u53c2\u6570\u5c31\u662fAES\u52a0\u5bc6\uff09 */ //\u6570\u636e\u89e3\u5bc6\u539f\u51fd\u6570 var i = function(e, n) { //\u53c2\u6570e\u662f\u52a0\u5bc6\u6570\u636e\uff0cn\u662f\u56fa\u5b9a\u503c var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"WAG0JIUGYALACVJF\" , i = a.CryptoJS.enc.Utf8.parse(r) //t\u662f\u901a\u8fc7n\u5f97\u6765\u7684 , t = a.CryptoJS.enc.Utf8.parse(n); return a.CryptoJS.AES.decrypt(e, i, { iv: t, // iv\u662ft\uff0ct\u662fn\uff0c\u5219iv\u5c31\u662f\u51fd\u6570\u53c2\u6570n\u8fd9\u4e2a\u56fa\u5b9a\u503c mode: a.CryptoJS.mode.CBC, padding: a.CryptoJS.pad.Pkcs7 }).toString(a.CryptoJS.enc.Utf8) } function decrype(e,n = 'HI9Z3B5DD8CYQ8WH'){ const CryptoJS = require(\"crypto-js\"); var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"WAG0JIUGYALACVJF\" , i = CryptoJS.enc.Utf8.parse(r) , t = CryptoJS.enc.Utf8.parse(n); return CryptoJS.AES.decrypt(e, i, { iv: t, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString(CryptoJS.enc.Utf8) } //\u89e3\u5bc6\u6d4b\u8bd5 var data = 'xxx' var iv = \"HI9Z3B5DD8CYQ8WH\"; console.log(decrype(data,iv)) python\u4ee3\u7801 import requests import execjs import time import subprocess from functools import partial subprocess.Popen = partial(subprocess.Popen, encoding='utf-8') node = execjs.get() fp = open('main.js','r',encoding='utf-8') ctx = node.compile(fp.read()) #\u83b7\u53d6\u52a0\u5bc6\u6570\u636e url = 'https://min-api.xliii.cn/miniapi/Product/pageIndex' headers = { 'User-Agent':'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1 wechatdevtools/1.06.2407110 MicroMessenger/8.0.5 webview/', } s = ctx.eval('s()') response = requests.get(url,params=s).json() encrypt_data = response['data']['data'] print(encrypt_data)","title":"3. \u9006\u5411\u6848\u4f8b2"},{"location":"29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html#_2","text":"\u4e61\u4fe1\u52a9\u519c","title":"\u9519\u8bef\u5904\u7406"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html","text":"\u4e09\u5341\u3001\u7f51\u6613\u6613\u76fe \u4e00\u3001\u524d\u8a00\u5206\u6790 https://dun.163.com/trial/jigsaw 1\u3001URL\u8bf7\u6c42\u987a\u5e8f https://dun.163.com/trial/jigsaw \u52a0\u8f7d\u9996\u9875 https://ac.dun.163.com/v3/b https://ac.dun.163.com/v3/d https://c.dun.163.com/api/v2/getconf \u8fd4\u56de\u4e0b\u9762\u8bf7\u6c42\u6240\u9700\u8981\u7684\u53c2\u6570\uff08dt\u3001token\u7b49\uff09 https://c.dun.163.com/api/v3/get \u8fd4\u56de\u5f53\u524d\u9a8c\u8bc1\u7801\u56fe\u7247 https://c.dun.163.com/api/v3/check \u6ed1\u52a8\u9a8c\u8bc1 2\u3001\u6bcf\u4e2a\u8bf7\u6c42\u5bf9\u5e94\u53c2\u6570 (1) https://ac.dun.163.com/v3/b \u643a\u5e26\u6570\u636e javascript { \"d\": \u52a0\u5bc6\u53c2\u6570, \"v\": \"33d41777\", \"cb\": \"__wmjsonp_b698549\" } \u8bf7\u6c42\u5934 javascript Request URL: https://ac.dun.163.com/v3/b Request Method: POST \u54cd\u5e94\u7ed3\u679c \u5f53\u524d\u7ed3\u679c\u540e\u9762\u7528\u4e0d\u5230 javascript __wmjsonp_c9109e0([200,1712716036847,\"++EpHZyivcFBQUQRVEPA+aEitnWfyeUZ\"]) (2) https://ac.dun.163.com/v3/d \u643a\u5e26\u6570\u636e javascript { d: \u52a0\u5bc6\u53c2\u6570 v: 33d41777 cb: __wmjsonp_2f29b02 } \u8bf7\u6c42\u5934 javascript Request URL: https://ac.dun.163.com/v3/d Request Method: POST \u54cd\u5e94\u7ed3\u679c \u5f53\u524d\u7ed3\u679c\u540e\u9762\u7528\u4e0d\u5230 javascript __wmjsonp_aa0dd6f([ 200, 1712716036806, \"++EpHZyivcFBQUQRVEPA+aEitnWfyeUZ\", \"D5Jf7cFvq9RFAVRRFQaVuLBm4iCK3PVI\", null, \"NBtgnXKndXyY4S+eme2OrG59TNwdiqsKQuG1fE+GnchCg8xBUoupVv8pCAnuBx4W1tGQSdgcXhpLWlNGyQLeY+ilePUP4OPQRcxhsJVb8DMjGnXws5QVOtDvOvCCBZb4RnQ=\" ]) (3) https://c.dun.163.com/api/v2/getconf \u8bf7\u6c42\u53c2\u6570 javascript { referer: https://dun.163.com/trial/jigsaw zoneId: id: 07e2387ab53a4d6f930b8d9a9be71bdf # \u56fa\u5b9a\u503c ipv6: false runEnv: 10 iv: 4 type: 2 loadVersion: 2.4.0 callback: __JSONP_eom26dc_0 } \u6ca1\u6709\u9700\u8981\u9006\u5411\u7684 \u8bf7\u6c42\u5934 javascript Request URL: https://c.dun.163.com/api/v2/getconf?referer=https%3A%2F%2Fdun.163.com%2Ftrial%2Fjigsaw&zoneId=&id=07e2387ab53a4d6f930b8d9a9be71bdf&ipv6=false&runEnv=10&iv=4&type=2&loadVersion=2.4.0&callback=__JSONP_eom26dc_0 Request Method: GET \u54cd\u5e94\u7ed3\u679c \u8fd4\u56de\u7684\u6570\u636e\u591a\u4e2a\u53c2\u6570\u7528\u4e8e\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u6240\u643a\u5e26 javascript __JSONP_eom26dc_0({ \"data\": { \"dt\": \"Ze+/O/RGrV1AElRVVQLAqaUm9ySPe66n\", \"ac\": { \"enable\": 1, \"bid\": \"07e2387ab53a4d6f930b8d9a9be71bdf\", \"pn\": \"YD20160637306799\", \"token\": \"9ca17ae2e6fecda16ae2e6eeb5cb528ab69db8ea65bcaeaf9ad05b9c94a3a3c434898987d2b25ef4b2a983bb2af0feacc3b92ae2f4ee95a132e29aa3b1cd72abae8cd1d44eb0b7bb82f55bb08fa3afd437fffeb3\" }, \"imageServer\": [\"necaptcha.nosdn.127.net\", \"necaptcha1.nosdn.127.net\"], \"zoneId\": \"CN31\", \"resources\": [\"/2.27.0/core-optimi.a3391c.v2.27.0.min.js\"], \"apiServer\": [\"c.dun.163.com\", \"c.dun.163yun.com\"], \"theme\": \"light\", \"audio\": true, \"customStyles\": true, \"smart\": false, \"staticServers\": [\"cstaticdun.126.net\", \"cstaticdun1.126.net\"] }, \"error\": 0, \"msg\": \"ok\" }); (4) https://c.dun.163.com/api/v3/get \u8bf7\u6c42\u53c2\u6570 javascript referer: https://dun.163.com/trial/jigsaw zoneId: CN31 dt: +d46R9cod/pFExRFRQOAudR1RIARdYH2 acToken: 9ca17ae2e6ffcda170e2e6eeb7ed52b49dbd83b65b91b48ab3d55e879b8a83d57a8b8affb6e25b8694bdb2ef2af0feaec3b92a899fc0bbd021b2e9c083e25a829b9eb2c54fa68fe185c86d8c9898d5ec52a799ee9e id: 07e2387ab53a4d6f930b8d9a9be71bdf fp: 05aw7/a447/OOW/KYZhTf+UaC6EhQY+/5UUZQ/ck4Cycm3i5B426XQvvZN6iZD6xOA+TQ857lyC\\zM0PIAndnGEdGRKKhB0OHfr7YusWtSgYa9+T+5g0Jv/yj84hITJ/LhDlKrJYNwLAVixZ0ZTu5GNoA\\dRzZnkNTXJBGhY0jueXehO:1711614684226 https: true type: 2 version: 2.26.1 dpr: 2 dev: 1 cb: aQ+5A1adrUfsVhWqxjeTnY2LiRO/EJQCKnvKdym6Elcxjz4YGaKbRhuMN4ukKUVh1xgy92YM8QrBKiCryBjjNfukvoE7 ipv6: false runEnv: 10 group: scene: lang: zh-CN sdkVersion: undefined iv: 3 width: 320 audio: false sizeType: 10 smsVersion: v3 token: callback: __JSONP_37iwidr_1 \u9006\u5411\u53c2\u6570 dt\uff1a \u4e0a\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u7684dt\u503c acToken\uff1a\u9700\u8981\u9006\u5411 id\uff1a \u4e0a\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u7684bid\u503c cb\uff1a\u9006\u5411 fp\uff1a \u53ef\u4ee5\u4e3a\u7a7aundefined \u8bf7\u6c42\u5934 javascript Request URL: https://c.dun.163.com/api/v3/get?referer=https%3A%2F%2Fdun.163.com%2Ftrial%2Fjigsaw&zoneId=CN31&dt=Ze%2B%2FO%2FRGrV1AElRVVQLAqaUm9ySPe66n&acToken=9ca17ae2e6ffcda170e2e6eea5b842a6e9ada7f57bfb8e8aa2d55a929a9f82d57f909ea3d5ec4989eda0b7cc2af0feaec3b92a8b94baa2d03fed9e869ac94a828b9bb3c85ba78abb82d563f7b798b1fb21babeee9e&id=07e2387ab53a4d6f930b8d9a9be71bdf&fp=w9L%2FQH3wVVhrk35VIVsz24L7tbXO5%2F2JvAT9NMOyB%2FusJttIyls4mg7BgLwE1dzhpVUPvhIT2KuHGaZT8QSkf0VWp8T9QaVQuJCHcwgzjgmmyLHN62hfJVQh9rf6OjklxOLGG%2B3aUpqLX29VeCpofDqVeKAqrRujTQn2rvu2nmQlYx1b%3A1712716525125&https=true&type=2&version=2.27.0&dpr=2&dev=1&cb=Chbwi3kazuHSOkSuIZJ5P.8%2FAYKt9GJFGNeQXmxQ5r.462S4aapgRkDPsbDXEe6PCSHqL05YRi4.xIXtukprjSE3ZtV7&ipv6=false&runEnv=10&group=&scene=&lang=zh-CN&sdkVersion=undefined&iv=4&width=320&audio=false&sizeType=10&smsVersion=v3&token=&callback=__JSONP_omvo7l4_0 Request Method: GET \u54cd\u5e94\u7ed3\u679c \u8fd4\u56de\u5f53\u524d\u9a8c\u8bc1\u7801\u56fe\u7247 javascript __JSONP_xi83x4b_2({ \"data\": { \"bg\": [\"https://necaptcha.nosdn.127.net/a265b421c68e4478962e380efe76df47@2x.jpg\", \"https://necaptcha1.nosdn.127.net/a265b421c68e4478962e380efe76df47@2x.jpg\"], \"front\": [\"https://necaptcha.nosdn.127.net/6653fdf16a9d4e498932caf3ac46279c@2x.png\", \"https://necaptcha1.nosdn.127.net/6653fdf16a9d4e498932caf3ac46279c@2x.png\"], \"token\": \"4d8cce7c78dd413899e876dee49483b4\", \"type\": 2, \"zoneId\": \"CN31\" }, \"error\": 0, \"msg\": \"ok\" }); \u6ed1\u52a8\u5931\u8d25\u4f1a\u91cd\u65b0\u6267\u884c (5) https://c.dun.163.com/api/v3/get \u8bf7\u6c42\u53c2\u6570 javascript referer: https://dun.163.com/trial/jigsaw zoneId: CN31 dt: vwjizRDzBbBEAgUFEULE9/EjUswZUEOM id: 07e2387ab53a4d6f930b8d9a9be71bdf token: \u4e0a\u4e00\u4e2aURL\u54cd\u5e94\u7684 acToken: undefined data: {\"d\":\"EpJz826dJcFxSBXYQ+MlMprgdEwJ3w1NyODt2xa91fIwf.uEVDkrwaxaAyVZTjrS+OEGmU/Gx/qJTdgbTjY4oMUf9dC0PCEdk8FljcUImur+0CWNklyUppxRdgg/ph4UFX.nOgRhc+mw9dznLPkZPcfYTg3ycS5J6jQC.VMHK8JHH49j.LsaMwLI6QhhFQPyyHfuTEnvvKnCztmdDtE9xlvO2o9gGyy9GhynsKgAnpbhiSlWpNC1+csPZZfiyn4vr.ysHM61CBMoJ0F8qn3KY.HMhdcef1uxqxfrnEM2FJUR4s58Drgtmsyeqwf35tx6MDqfAQJf/LiET8fmHILXUSHi.09NR0/WJJkSk4UEQcO8V/oZcUY+ZGs22nF/Fi2XP8sfvXCo1T5GZzEHPHcNH5x1y2.l+0m4phVNNawMRqgvVfF8ZFr4P98TCp1zjwmDQds5YqkeLXHeDckLx+.xOABmfrDfPVPstbneuA1d006/JfhF1eU+/AXTkK33pZgRWDYmeM77\",\"m\":\"\",\"p\":\"XiYO1mxjZ046xExmw8RqWt.buhT1Gn6GKtFdwg1ITCIuyHpt48A/x0DG948YJMKfYH8pkwFBxwnKgWqzT3wb3GLHuXY7\",\"f\":\"/n3pnkVuxawgPyzhiq+HQt2fkKrlZ3/adyaLMn/e/FRlMF4RryBAxShnNZ9X9SHm3WaHrrN94nFEY5AgEzDVG8CpLWIm.c86NGzPwerWhIQk4hNKlEtPihAmNtnrDanKR25faUwODNyEvm2QEE/sxuSVu6yzIisnyNUalG.xKzbHEPLVeomvCpGkNRzrsGCdPnqJ9sZ9E2ubm5ItlKsspxZaFXYMZfJAAfriO..42GnV3GhQ6eqcpmgN3lhr8aq2lesZZxsI+/r+QNKEdjrugQf4I0L//ENSvD6/UPoQq5Gl2cAimfoWH6bH4OgYzjI+y/s4bosDqgyqfh8Kj38+/KloK8viF9FAc+uLygzuQCIXMCfjD/8BinowmmIu.4F0cE3ZfvtDXZWthPbu3GmUJmRolq4eEwxVDZPIQuY3Sulsw+jd\",\"ext\":\"5RjhyovDbfwbZ/zX5trvEvx0DFJ6/UDrHClub.hhgTsvh1Uzgn.nS/3qZdWJjEpkZsUAXfYJD2JrHFJ0AbxhHbDJFdY7\"} width: 320 type: 2 version: 2.25.0 cb: ckibuKyYZEaGG.fzVzDYaN..+tLMJUPcE4juv8CAD/FxajmYD65t0PZ4lzaTpKVmqpCGhUI/SGUG64DWpqu5WmN10TE7 extraData: bf: 0 runEnv: 10 sdkVersion: undefined iv: 3 callback: __JSONP_m8c7mu7_2 \u9006\u5411\u53c2\u6570 dt: \u7b2c\u4e09\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684dt id\uff1a\u56fa\u5b9a\u7684 token\uff1a \u7b2c\u4e09\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684token data\uff1a\u9700\u8981\u9006\u5411\uff08\u7531\u8f68\u8ff9\u548c\u6ed1\u52a8\u8ddd\u79bb\u52a0\u5bc6\u7ec4\u6210\uff09 cb\uff1a \u9006\u5411 \u8bf7\u6c42\u5934 javascript Request URL: https://c.dun.163.com/api/v3/check?referer=https%3A%2F%2Fdun.163.com%2Ftrial%2Fjigsaw&zoneId=CN31&dt=Ze%2B%2FO%2FRGrV1AElRVVQLAqaUm9ySPe66n&id=07e2387ab53a4d6f930b8d9a9be71bdf&token=ea93d2443e9d48febc75c28933fdef09&acToken=undefined&data=%7B%22d%22%3A%226Pt9KmwAN3nVbBF8ZyhIK8zqMSGYiDSH4Ihz4Sy0C1zweGvcKk.WFDPA%2F%2B%2BAmAiMTQT02GAVa4EOHcPcAfCy%2BiVnkNJjO4DJFJI.E%2FsH5ba%2BP0oSKOrc3sGq0dEH9JAS%2FN%2B9%2Fz5wo.iK6gXU6tvUr0EyghuN.3OAgzYTYTj8E4j2wWq0uO2ElVNFV%2BoU2Woa.OFF%2BdJERlO5DYwMGesMJEUgdT%2Bdnd9iWeMLxnr5pejil9GL5jsMH%2FSAA4AXxHvi8oormNA8Fk2UuvDqrIFNk6ha4tCrBbjH%2BeJGQg2apN5FPr1DqjK2z6XnCGpX.fUTcL01GAIa5TJ3s3RPXFqxB3SnpB4.%2BKe1C1TZeeE80mUJ6S6YIEu%2BgG0BN%2BRP%2Fo%2BHM1%2F9zmJ6DVrTHKyv%2BrJ3MIxmd4kW1Vb49QDd36ztrOV5CFYzX9b5rG0HJEya%2FQZaetAcUUq8nLQK2NQbFewoZBPnOTs%2BbtrR%2BlGjIQb0R5dTHKso5lQUn%2FFmIsl4skc1pvzSc%2FVgPo%2FtIaxSqnlFnv%2Bla3rTF.Vku%2FNh%2Byy0CVChPuVc1YC0M04ohRiWz9FTL9HfiitncR2clN6sGWKL3Oz34vRTqmLMhAnA5EMoVEL8KDFCrtcVr44XZlMH2u6LHY1AXAsQiylVp%2B9G3d991QoutLQx4fgvvMoP95AeaZlbMc6p6O2l4M94tpyTE1lpSa4nx1Z0yQizrnL4x3%2F%2F.8Q%2FFKM4Bwlw3%2FB82IXyiUY0CIRRAjke88mb%2FXrsIkOECmog36ZiN%2Fjspxizhf1RPxOR%2BY5Vjd1UCSQgohxKXT8ncZOUFFjKH5RFObw%2FAi82Snfho5s%2FYG8KEZaj%2BnLla5z%2FhjN0a2QE%2BJXPT3nVcRyQxLjkNQOktmGFF.MjpQpVpDBpfqlfyphYNWh%2FiGt3xC3N6%2Blowg6xlkur4ydvg0uf9V1e%22%2C%22m%22%3A%22%22%2C%22p%22%3A%22.b4Xst6NfXQozNcANX1tmWZezuIIxz6jUJUW.ECz6tRqH0xcAx6eG%2FejA%2BVjz242RUi%2FIst.gUKnIcmcgcPcOmW6VEI7%22%2C%22f%22%3A%22Iy4GwvvDZp.ZdpAqoBv2nXekUG%2FoyPRIKVzQnfSpaST.a6F0re.azZR1aXDxiO4X2YvXDGe3gUvUWvdtxuO0Tauyf0rPsnB1dFiCNaOlBl9jQhAKmIQu8kHRyB5wn%2Fmf%2FTLVVHQEJtGP3P%2BHv4g3b8.c3EMScsiB%2FMViTAkK6SGTRCIMjTAPeL4lANIegK1uFxlfZjyTzfRRvdxJmm%2BPkpaPWjh%2FuQx6qQKjX6Hqj3uVyDHhjuyJW%2B%2FHE08O86vNmCAHNrDe5qr4uooqvJ4FS1RHi%2FC.Wo.pxl%2F1roHpO1TADmqIQdUPqXEilvd5h%2BArpfYcXr5N3mGiwnIkrqmTZPlmRhsai6iWSSVktkAEX2R9h%2B%2B98AuI489pxH3bxeDcke9q6k%2B8NXlE4iWzOg%2FT.jSPJPUkXPzzGqRbBAJgOQshknk4q2V5zPZSCDpXHMVVWXFgxugp2K0OwqGvZNv%2BzDu5DFxqLZORa%2F8c.rDLGNpt.09PpqLgbm2s3TTmZIDwoJT%2BsM77%22%2C%22ext%22%3A%22tbYifjNopoPCwp5CdZecn%2BkGgztLx30q3gqCxBrFUasdHaX6OqWrubgxfhIHzao3UHz4IPcSzjzgTpQC23DCe6vpybs7%22%7D&width=320&type=2&version=2.27.0&cb=BOSB6gMqVRLbSoWni0E6xh4SKtblxZOIFMcRUg6ynjWFqmO5i0K42yCNQy5bS1gW%2B3DZNs%2BuKsl1rOGHTeFv2%2FjUsEX7&extraData=&bf=0&runEnv=10&sdkVersion=undefined&iv=4&callback=__JSONP_uoycyxc_1 Request Method: GET \u54cd\u5e94\u7ed3\u679c \u9a8c\u8bc1\u5931\u8d25result\u4e3afalse\u3001\u6210\u529f\u4e3atrue \u5982\u679c\u663e\u793a\u53c2\u6570\u9a8c\u8bc1\u9519\u8bef\uff0c\u5219\u5f53\u524d\u53c2\u6570\u6709\u9006\u5411\u5931\u8d25\u7684\uff0c\u9700\u8981\u91cd\u65b0\u9006\u5411\u5bf9\u6bd4\u4e00\u4e0b javascript __JSONP_uoycyxc_1({ \"data\": { \"result\": false, \"zoneId\": \"CN31\", \"token\": \"ea93d2443e9d48febc75c28933fdef09\", \"validate\": \"\" }, \"error\": 0, \"msg\": \"ok\" }); \u6ed1\u52a8\u9a8c\u8bc1\u5931\u8d25 \u91cd\u65b0\u8bf7\u6c423\u7684\u5730\u5740 \u8fd4\u56de\u65b0\u7684\u9a8c\u8bc1\u7801\u56fe\u7247 \u4e8c\u3001\u9006\u5411d \u548cb\u8bf7\u6c42\u662f\u540c\u4e00\u4e2a\u5efa\u8bae\u770b\u4e0b\u9762\u7684b 1\u3001URL https://ac.dun.163.com/v3/d 2\u3001 \u8bf7\u6c42\u53c2\u6570 d: SKL5Artg.gDRIjp9d3N.KS7wV/KaytkbioYeGmq+fzIYDeDe+2ClX2CzFdkGt45ByCDC19c3AkRN/ggbArZ/rZhMs3KmU5Bi6wLSgw5VGP9ZiunBrNWmDJJyfny9I5W3R1jQXyYgygwyWLLm27VzR5bL/hqF4o2NKNC7ruNuWjilyUMaUbSHjpLyvKnsq/Oq4o5d4kuHXs6Jq7npD2akVcTbVFbwtL0EVasDwbF6reJz+rJ156vvAow0lWVOE/AvfSiLQGbfwkg3PECGJtgepZiacdpBa6dJZwD.dKh4qYsAdgrlQMt4.pGaSGFFW2./ySeO0/ZJFEMMyMbBmpKJf++/sN5mCEeFHlbLO/ggHNE95DbQLQnMpaubpWomIUK1yj9t3vdSMpsviTmNUKrvXHhKyGnlatiziYVk3KFZRkkiOrOI2qcsk2DMCcw725Q5YKqv3ppnW7Uo/CVByvb5H91AErHAnQF9MJE8p+Cvem3qUhBGsY8CZMriMgDC5w.cgU/c/8opIQVUgppCUKsycWt6oU2H5SWfZ8pHajqUcNGomF1aJagDG95Hy9LVvfjYQpQU2qj5XAO7y27V2vwBnEkO5N.pea9SesFHftz8L+85X6AHadu9jd/9RVZJPPzzSYvJojZsKsgpKe4X+fRNWsZfdd67f4CVu6k7AEXOITVKpFoaim.mS8wGdhr21B76sLarW.5sMYZHOU5J.V.l29zXX+Ju3OvwBfcoeDG7+zPiQTFuPF4RRjlgKHV6MXlU3XYSWviEXZkeNpGy+k+wTTTSdk9LApo6FnAgkdRUgO6mmO1DQCouaI3ZArEb7AeS26zEEtE6.Bzj00Npa161gVwbi7V0pFI5F1srNE3Fsv3cdbgpPRM8/Z0lc+q0PR7JR0PRoksKfaG4CN2h08zSY5iDhb8Czv6slRlgFEXPTjDTjn4t v: 33d41777 cb: __wmjsonp_202808e 3\u3001\u9006\u5411\u53c2\u6570d\u8bf4\u660e \u8bf4\u660e\uff1a \u7531\u4e8e\u5f53\u524d\u7f51\u6613\u6613\u76fe\u6bcf\u6b21\u5237\u65b0\u90fd\u4f1a\u91cd\u65b0\u8bf7\u6c42js \uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u53c2\u6570d\uff0c\u6bcf\u6b21\u6dfb\u52a0\u5b8c\u65ad\u70b9\u4ee5\u540e \u90fd\u4f1a\u91cd\u65b0\u6c42\u60c5\u4e00\u904djs \u8fd9\u6837\u5c31\u6ca1\u529e\u6cd5\u5728\u7ee7\u7eed\u8c03\u8bd5\uff0c\u4e4b\u524d\u7684\u65ad\u70b9\u4e5f\u90fd\u65e0\u6cd5\u518d\u7ee7\u7eed\u4f7f\u7528\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4f7f\u7528Charles\u8fdb\u884c\u672c\u5730js\u6587\u4ef6\u66ff\u6362\uff0c\u5c06\u603b\u662f\u91cd\u65b0\u8bf7\u6c42\u7684js\u6587\u4ef6https://cstaticdun.126.net/wm.3.0.0_33d41777.min.js?v=28524019 \u4e2d\u7684\u5185\u5bb9\u4fdd\u5b58\u5230\u672c\u5730\uff0c\u7136\u540e\u8fdb\u884c\u66ff\u6362\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u60f3\u8981\u8c03\u8bd5\u7684\u4f4d\u7f6e\u6dfb\u52a0debugger\u65ad\u70b9\u6765\u4e0d\u65ad\u8c03\u8bd5\uff0c\u6700\u7ec8\u627e\u5230\u52a0\u5bc6\u7684\u53c2\u6570\u4f4d\u7f6e 4\u3001 Charles\u672c\u5730\u66ff\u6362\u914d\u7f6e \u9009\u52fe\u9009 \u53bb\u9664\u7f13\u5b58 \u5148\u6839\u636e\u5f53\u524djs\u57df\u540d\u8fdb\u884c\u8fc7\u6ee4 \u627e\u5230\u8fd9\u4e2aURL https://cstaticdun.126.net \u5c06wm.3.0.0_33d41777.min.js\u5f97\u5185\u5bb9\u4fdd\u5b58\u5230\u672c\u5730 \u9009\u62e9Ma Local \u9009\u62e9\u672c\u5730\u4fdd\u5b58\u7684js\u6587\u4ef6 \u5728\u6d4f\u89c8\u5668\u4e2d\u6b7b\u5237\u65b0\u4e00\u4e0b\u65e2\u53ef \u5728network\u4e2d\u67e5\u770b\u662f\u5426\u66ff\u6362\u6210\u529f 5\u3001 \u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u8c03\u8bd5 (1)\u3001\u7ed9\u5f53\u524d\u5e26\u6709d\u53c2\u6570\u7684URL\u6dfb\u52a0\u65ad\u70b9\u6355\u83b7 URL https://ac.dun.163.com/v3/d (2)\u3001\u91cd\u65b0\u5237\u65b0\u6d4f\u89c8\u5668 \u65ad\u70b9\u8fdb\u884c\u62e6\u622a (3)\u3001\u8c03\u7528\u6808\u67e5\u627e \u987a\u7740\u5f53\u524d\u65ad\u70b9\u4e0d\u65ad\u5411\u4e0a\u67e5\u627e\uff0c\u8ba4\u4e3a\u662f\u751f\u6210\u6216\u8005\u662f\u53ef\u4ee5\u8c03\u8bd5\u7684\u4f4d\u7f6e\uff0c\u5728\u672c\u5730\u5f53\u524d\u4ee3\u7801\u4f4d\u7f6e\u6dfb\u52a0\u4e0adebugger;\u65e2\u53ef\uff0c\u91cd\u65b0\u5237\u65b0\u6d4f\u89c8\u5668\uff0c\u90a3\u4e48\u5f53\u524d\u7684js\u5c31\u4f1a\u51fa\u73b0\u4f60\u6dfb\u52a0\u7684debugger \u6b64\u523b\u53ef\u80fd\u4f1a\u6709\u5f88\u591a\u8bf7\u6c42\u90fd\u7ecf\u8fc7\u4f60\u7ed9\u7684debugger\u65ad\u70b9\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u6839\u636e\u5f53\u524d\u7684\u65ad\u70b9\u4e0a\u7684\u53c2\u6570\u8fdb\u884c\u5224\u65ad\uff0c\u662f\u5426\u4e3ad\u8bf7\u6c42\u7684\u53c2\u6570\uff0c\u5176\u4e2d\u53ea\u6709b\u53c2\u6570\u8bf7\u6c42\u53ef\u80fd\u4f1a\u6df7\u4e71d\u53c2\u6570\uff0c\u56e0\u4e3a\u503c\u4e0d\u597d\u533a\u5206 \u67e5\u627e \u5f53\u524d\u622a\u56fe\u5355\u7eaf\u6f14\u793a\u6dfb\u52a0debugger\u540e\u7684\u8c03\u8bd5(\u53ef\u4ee5\u7565\u8fc7) \u6253\u5370\u53c2\u6570a \u627e\u5230\u5f53\u524d\u52a0\u5bc6\u7684\u4f4d\u7f6e r = RE(iE, Z[678], void 0)(a.concat(r, t)) \u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u5bf9\u6bd4-\u6210\u529f\u627e\u5230 \u5728\u672c\u5730js\u4ee3\u7801\u4e2d\u641c\u7d22\u5f53\u524d\u52a0\u5bc6\u4ee3\u7801\uff0c\u6dfb\u52a0debugger \u5982\u679c\u91cd\u65b0\u5237\u65b0\u4e0d\u8d77\u4f5c\u7528 \u5c06application\u4e2d\u7684\u7f13\u5b58\u6570\u636e\u5168\u90e8\u6e05\u9664\u540e\u91cd\u65b0\u5237\u65b0 debugger\u62e6\u622a \u5f53\u524d\u751f\u6210\u6570\u7ec4\u7684f()\u51fd\u6570 \u548c\u53c2\u6570b(https://ac.dun.163.com/v3/b)\u4e2d\u7684f\u662f\u540c\u4e00\u4e2af\u51fd\u6570 \u4e09\u3001\u9006\u5411v3/get 1\u3001url https://c.dun.163.com/api/v3/get 2\u3001\u9006\u5411\u53c2\u6570\u53c2\u6570 cb acToken fp \u53ef\u4ee5\u4e3aundefined \u5176\u5b83\u53c2\u6570 token: https://c.dun.163.com/api/v3/check\u54cd\u5e94\u8fd4\u56de\u7684 referer: https://dun.163.com/trial/jigsaw zoneId: CN31 acToken: 9ca17ae2e6ffcda170e2e6eed8b150a6f0f897ef7db8b08aa6d15a868b8a83d47f82bcac85dc668fb783b2ca2af0feaec3b92a8db0a894e44787b7e5a8b75e829e9aa2d85a949bbbb2d947ed8b8ba6d94b8691ee9e id: 07e2387ab53a4d6f930b8d9a9be71bdf fp: w3c9dXEIB+kt15BeVA2GmhaPfcVYPW52yz4AWjspw5ezwEWjfvpBUvoG\\5vVxBkvRqMG2EKdEc28SdAxfkPtwsA2f\\KRIeOyIHnouxtzW8569gfijf6zQuDeb27U\\Rkdclzk6yzaKqE9\\Uq3tmb5vHTJNK8PhsITXsXfNT+AM1Ox72yk:1709534154145 https: true type: 2 version: 2.26.0 dpr: 2 dev: 1 cb: 5FGdlJcy1cojk43lMhvwpme3OYoRQicW2WEe9RGFgKPxp5JKv/j/g9j.ol1EnkVow5HIrosoQhha+utzCCNdfF.ikF97 ipv6: false runEnv: 10 group: scene: lang: zh-CN sdkVersion: undefined iv: 3 width: 320 audio: false sizeType: 10 smsVersion: v3 token: ca50711fb86549cab90f5f37f9c01365 callback: __JSONP_eucmko4_47 3\u3001 cb\u53c2\u6570\u9006\u5411\u67e5\u627e \u901a\u8fc7\u67e5\u627eactoken \u67e5\u627e\u5230\u5f53\u524d\u7684cb\u53c2\u6570\u7684\u52a0\u5bc6\u4f4d\u7f6e \u56e0\u4e3a\u5f53\u524d\u7684actoken\u7684\u503c\u4e3aundefined \u6240\u4ee5\u5bf9\u5e94\u7684URL\u4e3ahttps://c.dun.163.com/api/v3/check \u6700\u7ec8\u7ed3\u679c 4\u3001acToken\u9006\u5411\u67e5\u627e \u901a\u8fc7\u8c03\u7528\u6808\u8fdb\u884c\u67e5\u627e e\u4e3a\u751f\u6210\u7684\u4f4d\u7f6e \u6ce8\u610f \u9700\u8981\u5c06application\u4e2d\u7684storage\u548ccookie\u7684\u6570\u636e\u6e05\u7a7a\u5728\u6ed1\u52a8\u540e\u8fdb\u884c\u8bf7\u6c42 \u5c31\u4f1a\u5b9a\u4f4d\u5230\u4e0b\u9762\u7684\u65ad\u70b9\u5904 \u8fdb\u5165pE\u51fd\u6570 \u901a\u8fc7\u67e5\u770b\u53d1\u73b0X\u51fd\u6570\u751f\u6210\u52a0\u5bc6\u5b57\u7b26\u4e32 \u8fdb\u5165X\u51fd\u6570 \u7ecf\u8fc7\u8c03\u8bd5\uff0c\u53d1\u73b0\u5f53\u524dr\u7684\u503c\u662f\u56fa\u5b9a\u7684\u6bcf\u6b21\u7684\u7ed3\u679c\u5747\u4e3a 72Df08vlwtpFERRFUFbQuBdddYnMiMQK \u5728\u8fd9\u91cc\u80fd\u591f\u770b\u5230\u6211\u4eec\u5f53\u524d\u4f4d\u7f6ev6\u7684\u503c\u548c\u524d\u9762\u52a0\u5bc6\u4ee3\u7801oE(JSON h[397] )\u7684\u7ed3\u679c\u662f\u540c\u4e00\u4e2a \u6700\u7ec8\u7ed3\u679c\u5bf9\u6bd4 \uff08\u5230\u8fd9\u513facToken\u5c31\u6263\u4ee3\u7801\u5b8c\u6210\uff09 \u4ee3\u7801\u6263\u7684\u7ed3\u679c \u5f53\u524d\u6263\u7684\u4ee3\u7801 5\u3001python\u4e2d\u8fdb\u884c\u8c03\u7528 6\u3001\u9006\u5411\u53c2\u6570fp(\u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u4e0d\u6263) \u67e5\u627e \u6253\u5370gu \u8fdb\u884c\u5bf9\u6bd4 \u67e5\u627e\u4e0a\u4e00\u5c42gG\u4f20\u9012\u53c2\u6570 \u67e5\u627ethis[rE(0x434)] \u901a\u8fc7\u641c\u7d22fingerprint fingerprint\u503c\u662fSi,Si\u5f97\u503c\u662f\u7531window['gdxidpyhxde']\u800c\u6765 \u901a\u8fc7hook\u65b9\u5f0f\u8fdb\u884c\u83b7\u53d6 javascript (function(){ var hook_gdxidpyhxde = \"\"; Object.defineProperty(window, 'gdxidpyhxde', { set: function(val) { console.log('\u8bbe\u7f6efp\u53c2\u6570\u7684\u503c\u4e3a\uff1a ', val); debugger; this._value = val; return val; }, get:function () { console.log('\u83b7\u53d6fp\u53c2\u6570\u7684\u503c\u4e3a\uff1a ', hook_gdxidpyhxde); return hook_gdxidpyhxde; } }); })(); \u5c06\u5f53\u524d\u6587\u4ef6\u4f7f\u7528charles\u8fdb\u884c\u672c\u5730\u66ff\u6362\uff0c\u5c06hook\u4ee3\u7801\u6254\u8fdb\u5f53\u524d\u4ee3\u7801\u9876\u90e8 charles\u66ff\u6362\u7684\u65b9\u5f0f\u5c31\u4e0d\u518d\u8d58\u8ff0\u4e86~ \u91cd\u65b0\u5237\u65b0 hook\u5230\u5f53\u524d\u7684\u503c \u901a\u8fc7\u8c03\u7528\u6808\u8fdb\u884c\u5411\u4e0a\u5c42\u8c03\u7528\u8fdb\u884c\u67e5\u627e \u627e\u5230\u4f4d\u7f6e\uff0c\u63a5\u4e0b\u6765\u8981\u6263\u7684\u5c31\u662f\u5f53\u524dSD\u51fd\u6570\uff0c\u4e0d\u7528\u5168\u6263 \u6700\u7ec8\u7ed3\u679c \u5934\u5f97\u7ed9\u5168 \u53ef\u4ee5\u4e3a\u7a7a fp \u56db\u3001\u9006\u5411 b 1\u3001url https://ac.dun.163.com/v3/b 2\u3001\u9006\u5411\u53c2\u6570\u53c2\u6570d d d: bqtvARGHuCJ2qrNXcT1a3R86WNXTob.mep/GQFK0uEPU3yqaKdiMzAFg+f0uk8NR/.FE4.cnm8lia9Z9/64bTGja5gLHZgj2jPj6CDvPV8ISK0fHO0Nt9sApmeviRaqJ8+2hqzo+U7aTlznPXz8GuB.V25XWo1Xk0.KGySeN8LCO6apu3Q6r35XgTt93dIXhu3ZKeJNya3Py4WdtWfnSqOCGH5zZEEoUz6cH7NEaDc66pQ67wvLEQWEcCIuDFCcVwRNprD2eSKJRyHGNm0ulVeSI2.7VJ9y4wRPAn4i0MXDvcuyHiQ04Q.6GgO2w39s7000m5hdZCmVnYs2mgbr0PQHESSnV2wegyWaTppSj9gvhgIlcIXrGMFXisHrl6z2fAttktNECmwnsHtGqar2mEqIwhKC/a8I2NLk310s47jvOkN9KZjA3pmjAa.. v: 33d41777 cb: __wmjsonp_1698b20 3\u3001 \u8bf4\u660e \u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u5f53\u524d\u73af\u5883\u68c0\u6d4b\u7684\u8bf7\u6c42 4\u3001 \u901a\u8fc7\u8fdb\u5165\u8c03\u7528\u6808\u67e5\u627e\u751f\u6210\u52a0\u5bc6\u7684\u4f4d\u7f6e \u901a\u8fc7\u65ad\u70b9\u4e0d\u65ad\u5411\u4e0a\u8c03\u8bd5\uff0c\u627e\u5230\u5f53\u524dd\u53c2\u6570\u52a0\u5bc6\u751f\u6210\u7684\u4f4d\u7f6e \u548c\u7f51\u7edc\u8bf7\u6c42\u4e2d\u7684\u53c2\u6570\u8fdb\u884c\u5bf9\u6bd4 \u4e00\u81f4 5\u3001 \u6263E = f(); \u51fd\u6570 \u51fd\u6570\u4f4d\u7f6e \u8fdb\u5165f\u51fd\u6570 \u67e5\u770b\u5f53\u524df\u51fd\u6570\u5bf9\u5e94\u7684E\u53d8\u91cf\u7684\u53d6\u503c wa[h[420]][Y[75]] \u53d6\u503c\u7ed3\u679c \u901a\u8fc7\u641c\u7d22\u5bf9\u8c61\u4e2d apiServers \u53c2\u6570\u503c \u67e5\u627e\u5f53\u524d\u5bf9\u8c61\u521b\u5efa\u4f4d\u7f6e \u4f46\u662f\u53d1\u73b0\u5f53\u524d\u5bf9\u8c61\u4e2d\u7f3a\u5c11\u4e00\u4e9b\u4e0a\u9762\u7684\u53c2\u6570\uff0c\u6bd4\u5982S\uff08\u65f6\u95f4\u6233\u53c2\u6570\uff09 \u63a5\u4e0b\u6765\u641c\u7d22\u67e5\u770b\u662f\u54ea\u4e2a\u4f4d\u7f6e\u7ed9\u5f53\u524doptions\u8d4b\u503c\u7684 \u4ee5\u6b64\u6765\u5206\u6790\u7f3a\u5c11\u53c2\u6570\u7684\u6e90\u5934\u518d\u54ea\u513f \u901a\u8fc7\u641c\u7d22\u67e5\u627e\u5230\u4e86\u5f53\u524doptions\u8d4b\u503c\u7684\u4f4d\u7f6e \u662f\u53c2\u6570Z \u63a5\u4e0b\u6765\u6253\u4e0a\u65ad\u70b9 \u901a\u8fc7\u8c03\u7528\u6808\u4e0d\u65ad\u5411\u4e0a\u67e5\u627e \u901a\u8fc7\u8c03\u7528\u6808\u5411\u4e0a\u67e5\u627e\u3001\u627e\u5230\u5f53\u524d\u521b\u5efaoptions\u5c5e\u6027\u503c\u7684\u4f4d\u7f6e Z\u4e5f\u5c31\u662f\u5f53\u524d\u7684this.j \u63a5\u4e0b\u6765\u641c\u7d22this.j \u6eaf\u6e90\u5230\u4e86\u4e4b\u524d\u641c\u7d22apiServer\u7684\u4f4d\u7f6e \u73b0\u5728\u6574\u4e2a\u6d41\u7a0b\u90fd\u758f\u901a\u4e86 \u63a5\u4e0b\u6765\u641c\u7d22this.j \u67e5\u627e\u786e\u5b9e\u7684\u53c2\u6570\u662f\u518d\u54ea\u513f\u8fdb\u884c\u8d4b\u503c\u7684 \u641c\u7d22this.j \u67e5\u627e\u5230\u4e86\u5728\u54ea\u513f\u8fdb\u884c\u8d4b\u503c\u7684 \u8fdb\u5165kE\u51fd\u6570 \u67e5\u770b\u662f\u5982\u4f55\u751f\u6210\u7684 \u53d1\u73b0\u662f\u4e4b\u524dacToken\u91cc\u9762\u6263\u8fc7\u7684 \u76f4\u63a5\u590d\u5236\u8fc7\u6765\u65e2\u53ef \u5c06this.j\u5bf9\u8c61\u548c\u5728\u7ec8\u7aef\u6253\u5370\u51fa\u6765\u7684\u5bf9\u8c61\u8fdb\u884c\u5206\u6790\u54ea\u4e9b\u53c2\u6570\u662f\u52a8\u6001 \u54ea\u4e9b\u662f\u56fa\u5b9a\u7684 \u901a\u8fc7\u641c\u7d22\u53d1\u73b0 productNumber \u4e0e na \u53c2\u6570\u503c\u5747\u662f\u6709getconf\u8bf7\u6c42\u8fd4\u56de\u7684\u503c \u63a5\u4e0b\u6765\u4ee3\u7801\u56de\u5230f\u51fd\u6570 \u901a\u8fc7\u4e0d\u65ad\u6253\u5370 \u8c03\u8bd5 \u53d1\u73b0\u5f53\u524da\u548cr\u7684\u7ed3\u679c\u6bcf\u6b21\u90fd\u662f\u4e0d\u53d8\u7684 \u6240\u4ee5\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u503c \u4e0b\u9762\u8fd9\u4e9b\u51fd\u6570\u6b63\u5e38\u6263\u8fc7\u6765\u5c31\u53ef\u4ee5 \u641c\u7d22\u53d8\u91cf return\u91cc\u9762\u7684\u51fd\u6570\u6b63\u5e38\u6263\u5c31\u53ef\u4ee5\u4e86\uff0c\u6ca1\u5565\u7279\u6b8a\u7684 \u4e94\u3001\u9006\u5411data\u53c2\u6570 1\u3001 url https://c.dun.163.com/api/v3/check 2\u3001\u8bf7\u6c42\u53c2\u6570 referer: https://dun.163.com/trial/jigsaw zoneId: CN31 dt: RXNmMmP5y+pAFhVRQRaE+IVkMjrQBHOj id: 07e2387ab53a4d6f930b8d9a9be71bdf token: 776c302cd4f14404a616f0e681d9bb83 acToken: undefined data: {\"d\":\"0fBiAvE8Yd.Lq24j.+lInKZW/f+mkgNUPKui+WcfvNDnph8Z.9hmPbRJe+PXOi2HYZVPMxoLPI.2ulbvpJcUoe8lhhsx0qD2/f5Eedv1yWOMDlTF0l/fE+aMRqqtWTi3VTO.2/56O8G2CnyrWFdkos26nduzvGtK6YvDKgUltfVdQ4Ez4qX8yjZFuNWIZS8TMA2xCjljlRBB4LkzRGSmLp41hPuPSDLUFdWbX0dHRzdmTA4eoxtVQVu9Yj5HqghZT8MGq88WQbSASTR0XDBU+GYvCCOTiUPFOHCKaQd6JliFbP3twvKkWtrJDhKtn+FsZbDK/kNFkPCSqeclEzo8FEEOkjX7\",\"m\":\"\",\"p\":\"TktNOc6F1YTjLbKQOlDff6.yQzSOqT/E0t.qE3FRb1lMmcgf5JBFYTd+9AuZHNqCqidFGEsjfj8Cczj3jH89ez+hFvM7\",\"f\":\"NphN+FaMEu64kF9AL5mjaZPZohI1dIX.LEgRa6bTkASAMeolYrR1PdLObwMlpwxCr5SFUhO9kZbmsmPq.24e.ZrfgmE3.Aueb4Ce4WPUso1GVKRnmvY.iwfhViU089w/cucu.2TCwHXXG8Ovr0jgcqM1R9zuObjPu/GWeiVxmCZEnd9vHmEUQ2/NMJtqMjdqWXskaKeD1+wQe2t/ro/aXc8GfBhFf9Aas0UGxFdH0P6nFh5XsT0O1ePFEHU3Xz0VfdxnsPEJ.lwWELZVDP8yyq1ZwDS/gNdOLCp4gfOynuaXhgYOZ04lWjIcOgz8N8b+Rv/xl8ue95iiaf5Wb9CewZDIgmxigb5VwQADE3qaIcAHJwbsyUlUDmYQKQnHguGnX6b2qv.orrTgSe92f9uq6y1JbJ9NpJz.bYSd50lXwRrO3nyl\",\"ext\":\"NF8N9FhEqNdtJVzxg8GUeT8Isylsl4Rse4VZiW1d82q4GFFsa1SjrcLzD0VwG8aIjRePKNQe.1NFjLFg33jT9QkFQ197\"} width: 320 type: 2 version: 2.26.1 cb: hDxZifz49AUqLIBr0Z5TqLTYad.BbLUTvMSLlCeC2hL6PlBOQmHxzesWNzjzClEtq+CJYhKIF9wqe16PoS8ODV2jeo87 extraData: bf: 0 runEnv: 10 sdkVersion: undefined iv: 3 callback: __JSONP_ves283o_3 3\u3001\u9006\u5411\u53c2\u6570 data \u5176\u4f59\u53c2\u6570\u5df2\u9006\u5411\u5b8c\u6bd5 4\u3001\u67e5\u627e\u5f53\u524d\u53c2\u6570\u4f4d\u7f6e \u641c\u7d22\u53c2\u6570 sdkVersion \u6253\u4e0a\u65ad\u70b9\uff0c\u91cd\u65b0\u62d6\u62fd\u6ed1\u5757 \u4fbf\u627e\u5230\u4e86\u5f53\u524d\u53c2\u6570\u4f4d\u7f6e \u67e5\u627eT4 \u67e5\u627egA \u65ad\u70b9\u5411\u4e0a\u8d70\u4e00\u5c42 \u53d1\u73b0o\u5305\u542b\u4e86data\uff0c\u7ee7\u7eed\u5411\u4e0a\u627e \u7ee7\u7eed\u5411\u4e0a\u627e \u627e\u5230\u53c2\u6570gF \u7ee7\u7eed\u5411\u4e0a\u67e5\u627e \u627e\u5230\u5f53\u524d\u52a0\u5bc6\u53c2\u6570data\u7684\u4f4d\u7f6e 5\u3001\u6263data\u7b2c\u4e00\u4e2a\u503c d \u5f53\u524d\u6263\u53d6\u7b2c\u4e00\u4e2ad var Q = F[DB(0x328)](this[DB(0x81a)], z) \u4e3ad\u8fdb\u884c\u52a0\u5bc6\u7684\u503c\uff0c\u5176\u4e2dz\u7684\u503c\u4e3a\u56fa\u5b9a\u768450(\u53ea\u5bf9\u524d50\u4e2a\u8f68\u8ff9\u8fdb\u884c\u52a0\u5bc6) \u5f53\u524dd\u53c2\u6570\u4e2d\u7684Q\u662f\u7531\u4e0a\u9762\u7684\u65ad\u70b9\u751f\u6210\u7684\uff0cthis[DB(0x81a)]\uff08this['traceData']\uff09\u4e3a\u6ed1\u52a8\u7684\u52a0\u5bc6\u8f68\u8ff9 \u5411\u4e0a\u67e5\u627ethis['traceData']\u751f\u6210\u7684\u4f4d\u7f6e \u5728\u9f20\u6807\u79fb\u52a8\u8fd9\u91cc\uff0c\u6309\u7167\u5f53\u524d\u56fe\u6dfb\u52a0\u65ad\u70b9 \u7136\u540e\u6ed1\u52a8\u6ed1\u5757 \u6ed1\u52a8\u4ee5\u540e \u65ad\u70b9\u505c\u7559\u5f53\u524d\u4f4d\u7f6e \u7ee7\u7eed\u6263j\u51fd\u6570\u65e2\u53ef\uff08\u6263\u5b8c\u540e\u8fdb\u884c\u5bf9\u6bd4\uff09 \u63a5\u4e0b\u6765\u6263q\u51fd\u6570 q\u51fd\u6570\u4e2d\u5c31\u6709\u4e00\u4e2a\u9700\u8981\u8865\u73af\u5883\u7684\u4f4d\u7f6e\u5f53\u7136\u4e0d\u8865\u4e5f\u53ef\u4ee5 \u8865\u5b8c\u4ee5\u540e\u7528\u5728\u5f53\u524d\u8fd9\u4e2a\u4f4d\u7f6e\uff08\u6240\u6709\u8bf4\u4e0d\u8865\u4e5f\u53ef\u4ee5\uff09 \u4ee3\u7801\u6263\u5b8c\u6d4b\u8bd5\u7ed3\u679c \u5f53\u524d\u4ee3\u7801 ``javascript const jsdom = require(\"jsdom\"); const {JSDOM} = jsdom; // \u521b\u5efa\u4e00\u4e2a\u65b0\u7684DOM\u5b9e\u4f8b const dom = new JSDOM( `); // \u83b7\u53d6document\u5bf9\u8c61 const {document} = dom.window; var sample = function (X, O) { var K = X['length']; if (K <= O) return X; for (var F = [], Z = 0x0, H = 0x0; H < K; H++) H >= Z * (K - 0x1) / (O - 0x1) && (F 'push' , Z += 0x1); return F; } // ===========\u5230\u8fd9\u513f\u90fd\u662fgr\u7684\u51fd\u6570\u6263\u7684\u5f00\u59cb function A() { // \u4f7f\u7528jsdom\u8865\u73af\u5883 var v = 'NECaptchaSafeWindow' , R = function () { var O = document 'getElementById' ; O && (document['body'] 'removeChild' , O = null); } , a = document 'getElementById' ; if (a) return { 'safeGlobal': a['contentWindow'], 'destroy': R }; var D = document; try { var X = document 'createElement' ; X 'setAttribute' , X['style']['display'] = 'none', document['body'] 'appendChild' , D = X['contentWindow']; } catch (O) { D = document; } return { 'safeGlobal': D, 'destroy': R }; } function O(V) { return V < -0x80 ? O(0x100 + V) : V > 0x7f ? O(V - 0x100) : V; } // \u6539\u540dzz \u56e0\u4e3a\u4e0b\u9762\u6709\u4e2a\u53d8\u91cfz function zz(V) { V = '' + V; for (var U = [], W = A(), x = W['safeGlobal'], M = 0x0, C = 0x0, E = V['length'] / 0x2; M < E; M++) { var w = x 'parseInt' } function gr(V) { V = encodeURIComponent(V); for (var U = [], W = 0x0, x = V['length']; W < x; W++) '%' === V 'charAt' ? W + 0x2 < x && U 'push' + V 'charAt' )[0x0]) : U 'push' )); return U; } // ===========\u5230\u8fd9\u513f\u90fd\u662fgr\u7684\u51fd\u6570\u6263\u7684\u7ed3\u675f // ============g7\u51fd\u6570\u5f00\u59cb============= function Q() { for (var gP = [], gh = 0x0; gh < 0x4; gh++) gP[gh] = O(Math 'floor' } function H(gP) { var gh = []; if (!gP['length']) return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; if (gP['length'] >= 0x40) return gP 'splice' ; for (var gf = 0x0; gf < 0x40; gf++) gh[gf] = gP[gf % gP['length']]; return gh; } function Z(V, U) { return O(O(V) ^ O(U)); } function gZ() { for (var V = arguments['length'] > 0x0 && void 0x0 !== arguments[0x0] ? arguments[0x0] : [], U = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : [], W = [], x = U['length'], M = 0x0, C = V['length']; M < C; M++) W[M] = Z(V[M], U[M % x]); return W; } var gk = 'fd6a43ae25f74398b61c03c83be37449' // \u56fa\u5b9a\u7684 \u53ef\u4ee5\u641c\u7d22\u5230 function g7() { var gP = gr(gk) , gh = Q(); return gP = H(gP), gP = gZ(gP, H(gh)), gP = H(gP), [gP, gh]; } // ============g7\u51fd\u6570\u7ed3\u675f============= // ============gT\u51fd\u6570\u5f00\u59cb============= function gT(gh, gf) { if (Array 'isArray' ) return gh; if (Symbol['iterator'] in Object(gh)) return gP(gh, gf); // \u8fd9\u513f\u6ca1\u6263 \u56e0\u4e3a\u4e0a\u9762\u4e3atrue throw new TypeError('Invalid attempt to destructure non-iterable instance'); } // ============gT\u51fd\u6570\u7ed3\u675f============= // ============gm\u51fd\u6570\u5f00\u59cb============= function k(V) { var U = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f']; return '' + U[V >>> 0x4 & 0xf] + U[0xf & V]; } function P(V) { return V 'map' 'join' ; } function S(V) { var U = []; return U[0x0] = O(V >>> 0x18 & 0xff), U[0x1] = O(V >>> 0x10 & 0xff), U[0x2] = O(V >>> 0x8 & 0xff), U[0x3] = O(0xff & V), U; } function q(V) { return P(S(V)); } function gm(V) { for (var U = [0x0, 0x77073096, 0xee0e612c, 0x990951ba, 0x76dc419, 0x706af48f, 0xe963a535, 0x9e6495a3, 0xedb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988, 0x9b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9, 0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b, 0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599, 0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924, 0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190, 0x1db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x6b6b51f, 0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0xf00f934, 0x9609a88e, 0xe10e9818, 0x7f6a0dbb, 0x86d3d2d, 0x91646c97, 0xe6635c01, 0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950, 0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f, 0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17, 0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6, 0x3b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x4db2615, 0x73dc1683, 0xe3630b12, 0x94643b84, 0xd6d6a3e, 0x7a6a5aa8, 0xe40ecf0b, 0x9309ff9d, 0xa00ae27, 0x7d079eb1, 0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb, 0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5, 0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef, 0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236, 0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe, 0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x26d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x5005713, 0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0xcb61b38, 0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0xbdbdf21, 0x86d3d2d4, 0xf1d4e242, 0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c, 0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66, 0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9, 0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d], W = 0xffffffff, x = 0x0, M = V['length']; x < M; x++) W = W >>> 0x8 ^ U[0xff & (W ^ V[x])]; return q(0xffffffff ^ W); } // ============gm\u51fd\u6570\u7ed3\u675f============= // ============ZZ\u51fd\u6570\u5f00\u59cb============= // \u539f\u540d\u4e3aZ \u4f46\u662f\u4e0a\u9762\u6709Z\u51fd\u6570\u4e86 \u6240\u4ee5\u6539\u540d\u4e3aZZ function ZZ(gP) { if (Array 'isArray' ) { for (var gh = 0x0, gf = Array(gP['length']); gh < gP['length']; gh++) gf[gh] = gP[gh]; return gf; } return Array 'from' ; } // ============ZZ\u51fd\u6570\u5f00\u59cb============= // ============qq\u51fd\u6570\u5f00\u59cb============= // q\u51fd\u6570\u6539\u540d\u4e3aqq \u56e0\u4e3a\u4e0a\u9762\u6709q\u51fd\u6570\u4e86 function gp_j(V, U, W, x, M) { for (var C = 0x0, E = V['length']; C < M; C++) U + C < E && (W[x + C] = V[U + C]); return W; } function qq(gP) { if (!gP['length']) return [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]; var gh = [] , gf = gP['length'] , gq = gf % 0x40 <= 0x3c ? 0x40 - gf % 0x40 - 0x4 : 0x80 - gf % 0x40 - 0x4; gp_j(gP, 0x0, gh, 0x0, gf); for (var ge = 0x0; ge < gq; ge++) gh[gf + ge] = 0x0; return gp_j(S(gf), 0x0, gh, gf + gq, 0x4), gh; } // ============qq\u51fd\u6570\u7ed3\u675f============= // ============GG\u51fd\u6570\u5f00\u59cb============= function GG(gP) { if (gP['length'] % 0x40 !== 0x0) return []; for (var gh = [], gf = gP['length'] / 0x40, gq = 0x0, ge = 0x0; gq < gf; gq++) { gh[gq] = []; for (var gd = 0x0; gd < 0x40; gd++) gh[gq][gd] = gP[ge++]; } return gh; } // ============GG\u51fd\u6570\u7ed3\u675f============= // ============g6\u51fd\u6570\u5f00\u59cb============= function K(V, U) { return O(V + U); } function g5(gP) { var m2 = T , gh = arguments[m2(0x539)] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : 0x0; return gh + 0x100 >= 0x0 ? gP : []; } function J(gP, gh) { var pQ = T; if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g2(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g0(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g3(gP, gh) { var m0 = T; if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g1(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g4(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function gv(V) { V = '' + V; var U = A() , W = U['safeGlobal'] , x = W 'parseInt' } var gN = '037606da0296055c' function g6(gP) { for (var gh = [g5, J, g2, g0, g3, g1, g4], gf = gN, gq = 0x0, ge = gf['length']; gq < ge;) { var gd = gf 'substring' , gj = gv(gd 'substring' ) , gb = gv(gd 'substring' ); gP = gh gj , gq += 0x4; } return gP; } // ============g6\u51fd\u6570\u7ed3\u675f============= // ============gX\u51fd\u6570\u5f00\u59cb============= function gX() { for (var V = arguments['length'] > 0x0 && void 0x0 !== arguments[0x0] ? arguments[0x0] : [], U = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : [], W = [], x = U['length'], M = 0x0, C = V['length']; M < C; M++) W[M] = K(V[M], U[M % x]); return W; } // ============gX\u51fd\u6570\u7ed3\u675f============= // ============W\u51fd\u6570\u5f00\u59cb============= // gL\u662f\u56fa\u5b9a\u7684 \u53ef\u4ee5\u641c\u7d22\u5230 var gL = 'a7be3f3933fa8c5fcf86c4b6908b569ba1e26c1a6d7cfbf60ae4b00e074a194dac4b73e7f898541159a39d08183b76eedee3ed341e6685d2357440158394b1ff03a9004cbbb5ca7dcb7f41489a16e03dcc9c71eb3c9796685b1d01b4d56193a6e1f1a2470445c191ae49c5d82765dc82c350f263387a24a502fcbf442e2dddaad0e936d9ea22b89275307b42518fbc3a626ba806d4ecd6d725f50cc8c72fefa4551ccd6fc9b2b7ab954f815c7264c6e51f4eaf99885a79892b1b60a0b3526e57ba5d178d370958847eb9fd28f9ce0bc023f4148a2adfe632126769057043d3bd8eda0df7872629f3809ef05310e83113216afe202c460fc23e789f77d1addb5e' function W(gP) { var gh = zz(gL) , gf = function (gj) { return gh[0x10 * (gj >>> 0x4 & 0xf) + (0xf & gj)]; }; if (!gP['length']) return []; for (var gq = [], ge = 0x0, gd = gP['length']; ge < gd; ge++) gq[ge] = gf(gP[ge]); return gq; } // ============W\u51fd\u6570\u7ed3\u675f============= // ============gl\u51fd\u6570\u5f00\u59cb============= function R(k, N, P) { var h = void 0x0 , f = void 0x0 , q = void 0x0 , j = []; switch (k['length']) { case 0x1: h = k[0x0], f = q = 0x0, j 'push' ; break; case 0x2: h = k[0x0], f = k[0x1], q = 0x0, j 'push' ; break; case 0x3: h = k[0x0], f = k[0x1], q = k[0x2], j 'push' ; break; default: return ''; } return j 'join' ; } function D(k, N, P) { if (!k || 0x0 === k['length']) return ''; try { for (var h = 0x0, f = []; h < k['length'];) { if (!(h + 0x3 <= k['length'])) { var q = k 'slice' ; f 'push' ; break; } var j = k 'slice' ; f 'push' , h += 0x3; } return f 'join' ; } catch (b) { return ''; } } var I = 'MB.CfHUzEeJpsuGkgNwhqiSaI4Fd9L6jYKZAxn1/Vml0c5rbXRP+8tD3QTO2vWyo' var L = '7' function gl(k, N, P) { var h = void 0x0 !== N && null !== N ? N : I , f = void 0x0 !== P && null !== P ? P : L; return D(k, h 'split' , f); } // ============gl\u51fd\u6570\u7ed3\u675f============= function gg(gP) { for (var gh = gr(gP), gf = g7(), gq = gT(gf, 0x2), ge = gq[0x0], gd = gq[0x1], gj = gr(gm(gh)), gb = qq([] 'concat' ), gG = GG(gb), gA = [] 'concat' , gV = ge, gn = 0x0, gt = gG['length']; gn < gt; gn++) { var gu = gZ(g6(gG[gn]), ge) , gU = gX(gu, gV); gu = gZ(gU, gV), gV = W(W(gu)), gp_j(gV, 0x0, gA, 0x40 * gn + 0x4, 0x40); } return gl(gA); } // ============gg(QQ 'join' ), gg\u51fd\u6570\u6263\u5b8c============= var unique2DArray = function (O) { var K = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : 0x0; if (!Array 'isArray' ) return O; for (var F = {}, Z = [], H = 0x0, S = O['length']; H < S; H++) { var z = O[H][K]; null === z || void 0x0 === z || F[z] || (F[z] = !0x0, Z 'push' ); } return Z; } // ============\u52a0\u5bc6\u8f68\u8ff9\u51fd\u6570\u7684\u5f00\u59cb============= function gz(k) { var N = ['i', '/', 'x', '1', 'X', 'g', 'U', '0', 'z', '7', 'k', '8', 'N', '+', 'l', 'C', 'p', 'O', 'n', 'P', 'r', 'v', '6', '\\x5c', 'q', 'u', '2', 'G', 'j', '9', 'H', 'R', 'c', 'w', 'T', 'Y', 'Z', '4', 'b', 'f', 'S', 'J', 'B', 'h', 'a', 'W', 's', 't', 'A', 'e', 'o', 'M', 'I', 'E', 'Q', '5', 'm', 'D', 'd', 'V', 'F', 'L', 'K', 'y'] , P = '3'; return D(k, N, P); } function generate_guiji(gP, gh) { var gf = gr(gh) , gq = gr(gP); return gz(gZ(gf, gq)); } // ============\u52a0\u5bc6\u8f68\u8ff9\u51fd\u6570\u7684\u5f00\u59cb============= // \u5b58\u50a8\u8f68\u8ff9\u7684\u53d8\u91cf var traceData = [] var token = '99eb297e5ce94d50adf33355f5ac3bb6' var guiji = [[10, -4, 51], [17, 4, 95], [22, -2, 136], [30, -4, 166], [36, 3, 196], [44, -5, 230], [51, -5, 270], [56, -2, 310], [62, -2, 350], [69, 1, 397], [76, 3, 438], [82, 3, 481], [89, 0, 524], [95, 0, 571], [100, 0, 614], [108, -3, 653], [115, -3, 683], [118, -1, 715], [121, 0, 754], [123, 0, 795], [127, 0, 828], [129, 0, 860], [131, -5, 906], [133, -5, 937], [136, -2, 974], [140, 2, 1019], [142, 4, 1066], [145, 4, 1103], [146, 4, 1145], [148, 4, 1192], [150, 4, 1230], [152, 4, 1278], [154, -4, 1326], [155, -4, 1360], [156, 4, 1400], [157, 2, 1438], [158, 1, 1480], [160, 1, 1518], [161, 1, 1562], [162, 2, 1605], [163, -3, 1645], [163, -3, 1683], [164, -3, 1723], [165, 3, 1759], [165, 1, 1792], [166, 1, 1833], [166, 1, 1863], [167, 1, 1909], [167, 1, 1942], [167, 1, 1980], [167, 1, 2018], [168, 1, 2048], [168, 2, 2083], [169, 2, 2130], [170, 2, 2169], [170, 2, 2208], [171, 5, 2255], [171, 5, 2295], [171, -3, 2325], [171, -3, 2355], [172, 0, 2393], [172, 0, 2436], [173, 2, 2474], [173, 2, 2513], [173, 2, 2543], [173, 2, 2583], [174, -3, 2624], [175, -3, 2671], [175, 2, 2709], [175, -5, 2748], [176, -5, 2786], [176, 5, 2818], [177, -1, 2859], [177, -1, 2904], [178, -1, 2949], [179, -1, 2988], [180, -5, 3030], [180, -5, 3064], [181, 4, 3103], [181, 3, 3145], [181, 2, 3177], [181, 1, 3218], [180, -3, 3265], [180, 2, 3305], [181, -5, 3349], [182, -4, 3386], [183, -4, 3422], [182, -5, 3467], [181, -5, 3500], [182, -5, 3548], [181, -4, 3582], [181, -4, 3622], [182, -2, 3657], [181, -2, 3704], [181, -1, 3741], [181, -1, 3774], [180, 4, 3817], [180, 2, 3860], [181, 5, 3907], [180, -3, 3955], [180, -3, 3985], [181, -3, 4017], [182, -1, 4052], [181, -1, 4087], [182, 3, 4121], [182, 3, 4154], [181, 0, 4201], [180, -1, 4233], [180, -4, 4271], [180, -4, 4315], [181, 0, 4350], [181, -1, 4396], [182, -1, 4430], [181, -1, 4470], [181, -1, 4517], [180, 1, 4560], [181, -4, 4601], [181, -4, 4635], [181, -4, 4667], [182, -3, 4715], [182, -3, 4754], [183, 2, 4796], [184, 5, 4842], [183, 4, 4878], [182, 5, 4920], [182, 2, 4951], [182, 2, 4983], [183, 2, 5022], [184, 2, 5061], [184, 2, 5109], [185, 2, 5151], [185, -4, 5184], [186, 1, 5223], [185, -4, 5261], [185, -2, 5302], [185, 4, 5348], [185, 4, 5393], [184, 4, 5428], [183, 3, 5462], [184, 2, 5492], [183, 4, 5540], [182, 4, 5588], [181, 4, 5621], [180, 4, 5666], [180, -2, 5697], [181, 2, 5732], [182, 2, 5780], [182, -1, 5823], [182, -1, 5856], [181, 2, 5897], [180, 2, 5932], [181, 2, 5976], [182, 0, 6019], [181, -2, 6063], [180, -2, 6109], [181, -2, 6142], [181, -2, 6183], [181, 3, 6219], [181, 3, 6260], [180, -4, 6305], [181, -4, 6344], [182, -2, 6381], [182, -2, 6422], [182, 5, 6454], [182, 5, 6502], [183, 0, 6537], [183, -1, 6579], [182, -1, 6622], [183, -1, 6655], [183, 4, 6697], [184, 4, 6730], [184, -1, 6775], [183, -1, 6808], [184, -2, 6851], [184, -5, 6883], [183, 2, 6921], [183, 2, 6961], [184, 1, 6999], [184, 1, 7033], [185, 1, 7066], [184, 1, 7111], [185, 1, 7144], [184, 1, 7183], [183, -2, 7225], [182, -2, 7257], [183, 2, 7288], [183, -2, 7320], [184, -2, 7368], [184, -2, 7409], [184, -1, 7442], [183, -1, 7481], [182, -1, 7518], [182, -1, 7550], [181, 4, 7596], [182, 4, 7629], [183, 2, 7664], [182, -2, 7711], [183, -4, 7751], [182, 2, 7785], [183, 2, 7825], [184, 3, 7867], [183, 4, 7914], [183, 4, 7945], [182, 4, 7993], [181, 1, 8037], [180, 2, 8085], [180, -3, 8127], [181, 2, 8167], [181, -3, 8211], [182, 0, 8250], [181, 0, 8292], [181, 1, 8323], [180, 3, 8361], [181, 3, 8393], [181, 0, 8437], [180, 0, 8477], [181, 0, 8523], [180, 1, 8555], [180, 2, 8603], [181, -1, 8648], [180, 2, 8686], [180, 2, 8716], [181, 2, 8763], [181, -5, 8810], [181, 3, 8845], [182, 3, 8888], [182, 3, 8930], [183, 3, 8960], [182, 3, 9008], [182, 3, 9044], [183, -1, 9080], [182, -1, 9121], [181, -1, 9160], [182, -1, 9200], [181, -1, 9237], [182, 3, 9273], [183, 3, 9308], [183, -3, 9344], [184, -3, 9380], [184, -3, 9426], [183, 1, 9460], [183, 1, 9498], [184, 5, 9542], [183, 4, 9574], [182, -2, 9604], [181, 0, 9649], [180, -2, 9691], [181, -2, 9729], [180, -2, 9763], [181, -2, 9809], [181, 0, 9852], [180, 0, 9896], [181, 4, 9934], [182, -1, 9972], [183, -1, 10018], [183, -1, 10064], [182, -1, 10109], [182, 4, 10152], [182, -3, 10191], [183, -3, 10222], [182, -5, 10260], [182, -5, 10306], [181, -5, 10354], [182, -5, 10386], [182, -5, 10434], [182, -5, 10482], [181, -3, 10525], [180, -3, 10556], [180, 5, 10594], [180, 3, 10626], [181, -2, 10672], [180, -2, 10709], [180, -3, 10751], [181, -3, 10789], [181, -3, 10831], [182, -3, 10876], [183, -2, 10918], [184, -2, 10955], [184, -2, 10990], [183, -1, 11026], [184, -1, 11072], [185, 5, 11116], [185, 5, 11163], [184, 5, 11197], [185, 2, 11237], [186, -4, 11276], [186, -5, 11313], [186, -5, 11347], [185, -3, 11392], [186, -2, 11424], [187, -2, 11459], [188, -2, 11504], [188, -2, 11534], [189, -2, 11566], [190, -2, 11601], [190, 0, 11606]] for (const arr of guiji) { var gj = generate_guiji(token, arr + ''); traceData.push(gj) } z = 50 var QQ = sample(traceData, z) // \u53ea\u5bf9\u524d50\u4e2a\u8fdb\u884c\u52a0\u5bc6\u5904\u7406 console.log(gg(QQ 'join' )) process.exit() // var J = this['$store']['state']['token'] // \u8fd9\u4e2aToken\u503c\u662f\u901a\u8fc7 https://c.dun.163.com/api/v3/get\u8bf7\u6c42\u8fd4\u56de\u7684 // \u8ba1\u7b97\u6ed1\u52a8\u8ddd\u79bb // \u8fd9\u91cc\u662f\u53d6\u51fa\u9a8c\u8bc1\u7801\u62d6\u62fd\u7684\u6ed1\u5757\u6807\u7b7e\u62d6\u62fd\u7684\u8ddd\u79bb // var g0 = q(j(J, parseInt(this['$jigsaw']['style']['left'], 0xa) / this['width'] * 0x64 + '')) // var g1 = Z(unique2DArray(this['atomTraceData'], 0x2)); var data = { 'data': JSON 'stringify' ), 'm': '', 'p': g0, 'f': q(j(J, g1 'join' )), 'ext': q(j(J, this['mouseDownCounts'] + ',' + this['traceData']['length'])) }) }; ``` \u751f\u6210\u8f68\u8ff9\u548c\u8bc6\u522b\u8ddd\u79bb\u7684\u4ee3\u7801 ```python import random from matplotlib import pyplot import cv2 # \u8bc6\u522b\u6ed1\u5757\u6ed1\u52a8\u7684\u8ddd\u79bb def get_x(): # opencv\u6765\u5b8c\u6210\u8ba1\u7b97 \"\"\" # \u6328\u4e2a\u8dd1... pip install python-opencv pip install opencv-python # x_jvli, guiji, tuodongshijian import cv2 # \u5bfc\u5165cv2\u4e4b\u540e\u6ca1\u6709\u4ee3\u7801\u63d0\u793a. \u600e\u4e48\u529e? :return: \"\"\" # \u8bfb\u53d6\u4e24\u5f20\u56fe bg = cv2.imread(\"bg.jpg\") slice = cv2.imread(\"slice.jpg\") # \u505a\u7070\u5ea6\u5904\u7406 bg = cv2.cvtColor(bg, cv2.COLOR_BGR2GRAY) slice = cv2.cvtColor(slice, cv2.COLOR_BGR2GRAY) # \u56fe\u7247\u8fb9\u7f18\u5904\u7406 bg_can = cv2.Canny(bg, 255, 255) slice = cv2.Canny(slice, 255, 255) # \u5339\u914d\u56fe\u50cf\u7684\u76f8\u4f3c\u5ea6, TM_CCOEFF_NORMED\u53c2\u6570\u56fa\u5b9a\u5373\u53ef r = cv2.matchTemplate(bg_can, slice, cv2.TM_CCOEFF_NORMED) # \u83b7\u53d6\u5339\u914d\u5ea6\u6700\u597d\u7684\u4e00\u4e2a\u7ed3\u679c minVal, maxVal, minLoc, maxLoc = cv2.minMaxLoc(r) x = maxLoc[0] y = maxLoc[1] # \u4e3a\u4e86\u6d4b\u8bd5\u7684 # bg = cv2.rectangle(bg, (x, y), (x+50, y + 50), (255, 255, 255)) # cv2.imshow(\"tu\", bg) # \u5f39\u7a97 # cv2.waitKey(0) # \u9632\u6b62\u7a0b\u5e8f\u4e00\u95ea\u5c31\u6ca1\u4e86 # cv2.destroyAllWindows() # \u5173\u6389\u6240\u6709\u7a97\u53e3 # \u5f53\u524d\u4e0b\u8f7d\u7684\u56fe\u7247\u5bbd\u5ea6\u4e3a480\uff0c\u5728\u6d4f\u89c8\u5668\u4e0a\u663e\u793a\u7684\u5bbd\u5ea6\u4e3a320\uff0c\u6240\u4ee5480/320\u4e3a1.5 \u8bc6\u522b\u7684\u8ddd\u79bb/1.5\u5219\u4e3a\u6b63\u5e38\u8bc6\u522b\u7684\u8f68\u8ff9 return x/1.5 # \u751f\u6210\u8f68\u8ff9 def get_track(dis=0): dis = dis or get_x() track = [] x = random.randint(0, 10) # \u79fb\u52a8X\u5750\u6807 y = random.randint(-5, 5) # \u79fb\u52a8y\u5750\u6807 pass_time = random.randint(10, 90) # \u79fb\u52a8\u65f6\u95f4 move_dis = x # \u79fb\u52a8\u8ddd\u79bb track.append([x, y, pass_time]) # \u6a21\u62df\u5f00\u59cb\u62d6\u52a8\u65f6\u4f1a\u4ea7\u751f0-3\u4e2a\u7c7b\u4f3c\u7684x\u76f8\u540c\u7684\u8f68\u8ff9 for _ in range(random.randint(0, 3)): pass_time += random.randint(2, 5) # \u79fb\u52a8\u65f6\u95f4 y = random.randint(-1, 1) track.append([x, y, pass_time]) # \u5f00\u59cb\u6a21\u62df\u8f68\u8ff9\uff0c\u4e00\u822c\u5f00\u59cb\u62d6\u52a8\u65f6\u4f1a\u5f88\u5feb\uff0c\u8d8a\u63a5\u8fd1\u76ee\u6807\u70b9\u8d8a\u6162 while move_dis < dis: if move_dis > dis * 0.95: offset = random.randint(-1, 1) # \u6a21\u62df\u5feb\u5230\u76ee\u6807\u70b9\u65f6\u8c03\u6574\u6ed1\u5757\u65f6\u7684\u8f68\u8ff9\uff0c\u4e00\u822c\u4f1a\u5de6\u53f3\u79fb\u52a8\u51e0\u4e0b\u5bf9\u9f50 elif move_dis > dis * 0.85: offset = random.randint(0, 1) elif move_dis > dis * 0.75: offset = random.randint(1, 2) elif move_dis > dis * 0.6: offset = random.randint(2, 4) else: offset = random.randint(5, 8) pass_time += random.randint(30, 48) move_dis += offset y = random.choice([y, random.randint(-5, 5)]) # \u79fb\u52a8y\u5750\u6807 track.append([move_dis, y, pass_time]) # \u6a21\u62df\u505c\u6b62\u65f6\u4f1a\u4ea7\u751f0-3\u4e2a\u7c7b\u4f3c\u7684x\u76f8\u540c\u7684\u8f68\u8ff9 for _ in range(random.randint(0, 3)): pass_time += random.randint(2, 5) # \u79fb\u52a8\u65f6\u95f4 y = random.randint(-1, 1) track.append([move_dis, y, pass_time]) return track, dis if name == ' main ': track, dis = get_track() print(track) print(dis) ``` 6\u3001\u6263\u7b2c\u4e8c\u4e2a\u52a0\u5bc6\u53c2\u6570p \u622a\u56fe \u5f53\u524d\u51fd\u6570\u4e2d\u7684\u53c2\u6570J\u4e3aget\u8bf7\u6c42\u7684token\uff0c\u548c\u4e0a\u9762\u7684\u8f68\u8ff9\u52a0\u5bc6\u662f\u540c\u4e00\u4e2atoken \u5176\u4e2d parseInt(this[DB(0x7c7)][DB(0x796)]['left'], 0xa) \u8f6c\u4e49 \u540e\u4e3a \u83b7\u53d6\u5f53\u524d\u62d6\u52a8\u6ed1\u5757\u7684\u8ddd\u79bb \u5904\u7406\u540e\u7684\u4ee3\u7801 var p = gg(generate_guiji(token, parseInt(x_guiji, 0xa) / 320 * 0x64 + '')) \u6d4f\u89c8\u5668\u8fd0\u884c\u7684\u7ed3\u679c \u76f8\u540c 7\u3001\u6263\u7b2c\u4e09\u4e2a\u52a0\u5bc6\u53c2\u6570f \u622a\u56fe \u6263g1 var g1 = Z(F[DB(0x1c8)](this[DB(0x51a)], 0x2)); \u89e3\u6790\u540e (\u56e0\u4e3ag1\u91cd\u540d\uff0c\u6240\u4ee5\u6539\u4e3afg1) var fg1 = Z(F['unique2DArray'](this['atomTraceData'], 0x2)); \u63a5\u4e0b\u6765\u6263F['unique2DArray']\u51fd\u6570 \u8fdb\u5165\u51fd\u6570\u5185\u90e8 \u6263\u5b8cunique2DArray javascript var unique2DArray = function (O) { var K = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : 0x0; if (!Array['isArray'](O)) return O; for (var F = {}, Z = [], H = 0x0, S = O['length']; H < S; H++) { var z = O[H][K]; null === z || void 0x0 === z || F[z] || (F[z] = !0x0, Z['push'](O[H])); } return Z; } this['atomTraceData']\u4e3a\u6ed1\u52a8\u8f68\u8ff9 javascript var fg1 = Z(unique2DArray(this['atomTraceData'], 0x2)); \u641c\u7d220x51a \u901a\u8fc7\u5bf9\u6bd4\u4e0a\u4e00\u4e2a\u8f68\u8ff9\u52a0\u5bc6\u4f4d\u7f6e\u7684\u8f68\u8ff9\u548c\u5f53\u524d\u7684\u8f68\u8ff9\u662f\u540c\u4e00\u4e2a \u62a0\u51fag1\u5f97\u4ee3\u7801 \u5728\u4ee3\u7801\u4e2d \u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u7ed3\u679c \uff08\u5bf9\u6bd4\u76f8\u540c\uff09 \u6b64\u523b\u7b2c\u4e8c\u4e2a\u53c2\u6570f\u6263\u5b8c~ 8\u3001\u6263\u7b2c\u56db\u4e2a\u52a0\u5bc6\u53c2\u6570 \u622a\u56fe \u7ffb\u8bd1\u8fc7\u6765\u5c31\u662f javascript q(j(J, this[DB(0x72b)] + ',' + this[DB(0x81a)][DB(0x539)])) javascript q(j(J, this['mouseDownCounts'] + ',' + this['traceData']['length' ])) \u6d4b\u8bd5this['mouseDownCounts'] \u7ed3\u679c\u6bcf\u6b21\u90fd\u662f1 \u53ef\u4ee5\u7ed9\u4e2a\u56fa\u5b9a\u76841 \u516d\u3001\u6ce8\u610f \u8bf7\u6c42\u5934\u5f97\u7ed9\u5168 \u5f53\u524d\u9875\u9762\u5237\u65b0\u540e\u65ad\u70b9\u4f1a\u6d88\u5931 \u53ef\u4ee5\u4f7f\u7528Charles\u8fdb\u884c\u6587\u4ef6\u66ff\u6362\u6765\u5b9e\u73b0\u6dfb\u52a0debugger\u65ad\u70b9 \u5f53\u524dwm.3.0.0_33d41777.min.js?v=1712806392223\u6587\u4ef6 \u8be5\u6587\u4ef6\u52a0\u8f7d\u65f6\u5019\u540e\u9762\u6709\u4e2a\u65f6\u95f4\u6233\uff0c\u662f\u4f1a\u52a8\u6001\u6539\u53d8\u7684\uff0c\u65f6\u95f4\u6233\u6539\u53d8js\u56de\u91cd\u65b0\u52a0\u8f7d\uff0c\u6240\u4ee5\u8981\u628a\u65f6\u95f4\u6233\u503c\u56fa\u5b9a\u4e0b\u6765 \u89e3\u51b3\u65b9\u5f0f \u7b2c\u4e00\u79cd\u65b9\u5f0f\uff1a\u4f7f\u7528Charles\u8fdb\u884c\u672c\u5730\u66ff\u6362wm.3.0.0_33d41777.min\u6587\u4ef6\uff0c \u6dfb\u52a0debugger\u8fdb\u884c\u8c03\u8bd5 \u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff1a\u627e\u5230\u5f53\u524d\u6587\u4ef6\u66f4\u6362\u7684\u539f\u56e0 \u4e5f\u5c31\u7b97\u5f53\u524djs\u6587\u4ef6\u540e\u7f00\u7684\u65f6\u95f4\u6233\u53d1\u751f\u6539\u53d8 \u5219\u4f1a\u81ea\u52a8\u91cd\u65b0\u8bf7\u6c42js\u3001\u627e\u5230load.min.js\uff0c\u672c\u5730\u66ff\u6362\u4e0b\u641c\u7d22script:\uff0c\u4f1a\u627e\u5230\u65f6\u95f4\u6233\u8d4b\u503c\u7684\u5730\u65b9\uff0c\u6211\u8fd9\u91cc\u6539\u6210\u4e861\uff0c\u5237\u65b0\u9875\u9762 \u4fdd\u5b58\u5230\u672c\u5730\u8fdb\u884c\u66f4\u6539\uff0c\u7136\u540e\u4f7f\u7528Charles\u66ff\u6362 \u66ff\u6362 \u66ff\u6362\u540e\u5728\u6d4f\u89c8\u5668\u91cd\u65b0\u641c\u7d22\u67e5\u770b\u7ed3\u679c ---- this.cacheTime && (t = t + \"?v=\" + h","title":"\u4e09\u5341\u3001\u7f51\u6613\u6613\u76fe"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#_1","text":"","title":"\u4e09\u5341\u3001\u7f51\u6613\u6613\u76fe"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#_2","text":"https://dun.163.com/trial/jigsaw","title":"\u4e00\u3001\u524d\u8a00\u5206\u6790"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#1url","text":"https://dun.163.com/trial/jigsaw \u52a0\u8f7d\u9996\u9875 https://ac.dun.163.com/v3/b https://ac.dun.163.com/v3/d https://c.dun.163.com/api/v2/getconf \u8fd4\u56de\u4e0b\u9762\u8bf7\u6c42\u6240\u9700\u8981\u7684\u53c2\u6570\uff08dt\u3001token\u7b49\uff09 https://c.dun.163.com/api/v3/get \u8fd4\u56de\u5f53\u524d\u9a8c\u8bc1\u7801\u56fe\u7247 https://c.dun.163.com/api/v3/check \u6ed1\u52a8\u9a8c\u8bc1","title":"1\u3001URL\u8bf7\u6c42\u987a\u5e8f"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#2","text":"","title":"2\u3001\u6bcf\u4e2a\u8bf7\u6c42\u5bf9\u5e94\u53c2\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#1-httpsacdun163comv3b","text":"\u643a\u5e26\u6570\u636e javascript { \"d\": \u52a0\u5bc6\u53c2\u6570, \"v\": \"33d41777\", \"cb\": \"__wmjsonp_b698549\" } \u8bf7\u6c42\u5934 javascript Request URL: https://ac.dun.163.com/v3/b Request Method: POST \u54cd\u5e94\u7ed3\u679c \u5f53\u524d\u7ed3\u679c\u540e\u9762\u7528\u4e0d\u5230 javascript __wmjsonp_c9109e0([200,1712716036847,\"++EpHZyivcFBQUQRVEPA+aEitnWfyeUZ\"])","title":"(1) https://ac.dun.163.com/v3/b"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#2-httpsacdun163comv3d","text":"\u643a\u5e26\u6570\u636e javascript { d: \u52a0\u5bc6\u53c2\u6570 v: 33d41777 cb: __wmjsonp_2f29b02 } \u8bf7\u6c42\u5934 javascript Request URL: https://ac.dun.163.com/v3/d Request Method: POST \u54cd\u5e94\u7ed3\u679c \u5f53\u524d\u7ed3\u679c\u540e\u9762\u7528\u4e0d\u5230 javascript __wmjsonp_aa0dd6f([ 200, 1712716036806, \"++EpHZyivcFBQUQRVEPA+aEitnWfyeUZ\", \"D5Jf7cFvq9RFAVRRFQaVuLBm4iCK3PVI\", null, \"NBtgnXKndXyY4S+eme2OrG59TNwdiqsKQuG1fE+GnchCg8xBUoupVv8pCAnuBx4W1tGQSdgcXhpLWlNGyQLeY+ilePUP4OPQRcxhsJVb8DMjGnXws5QVOtDvOvCCBZb4RnQ=\" ])","title":"(2) https://ac.dun.163.com/v3/d"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#3-httpscdun163comapiv2getconf","text":"\u8bf7\u6c42\u53c2\u6570 javascript { referer: https://dun.163.com/trial/jigsaw zoneId: id: 07e2387ab53a4d6f930b8d9a9be71bdf # \u56fa\u5b9a\u503c ipv6: false runEnv: 10 iv: 4 type: 2 loadVersion: 2.4.0 callback: __JSONP_eom26dc_0 } \u6ca1\u6709\u9700\u8981\u9006\u5411\u7684 \u8bf7\u6c42\u5934 javascript Request URL: https://c.dun.163.com/api/v2/getconf?referer=https%3A%2F%2Fdun.163.com%2Ftrial%2Fjigsaw&zoneId=&id=07e2387ab53a4d6f930b8d9a9be71bdf&ipv6=false&runEnv=10&iv=4&type=2&loadVersion=2.4.0&callback=__JSONP_eom26dc_0 Request Method: GET \u54cd\u5e94\u7ed3\u679c \u8fd4\u56de\u7684\u6570\u636e\u591a\u4e2a\u53c2\u6570\u7528\u4e8e\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u6240\u643a\u5e26 javascript __JSONP_eom26dc_0({ \"data\": { \"dt\": \"Ze+/O/RGrV1AElRVVQLAqaUm9ySPe66n\", \"ac\": { \"enable\": 1, \"bid\": \"07e2387ab53a4d6f930b8d9a9be71bdf\", \"pn\": \"YD20160637306799\", \"token\": \"9ca17ae2e6fecda16ae2e6eeb5cb528ab69db8ea65bcaeaf9ad05b9c94a3a3c434898987d2b25ef4b2a983bb2af0feacc3b92ae2f4ee95a132e29aa3b1cd72abae8cd1d44eb0b7bb82f55bb08fa3afd437fffeb3\" }, \"imageServer\": [\"necaptcha.nosdn.127.net\", \"necaptcha1.nosdn.127.net\"], \"zoneId\": \"CN31\", \"resources\": [\"/2.27.0/core-optimi.a3391c.v2.27.0.min.js\"], \"apiServer\": [\"c.dun.163.com\", \"c.dun.163yun.com\"], \"theme\": \"light\", \"audio\": true, \"customStyles\": true, \"smart\": false, \"staticServers\": [\"cstaticdun.126.net\", \"cstaticdun1.126.net\"] }, \"error\": 0, \"msg\": \"ok\" });","title":"(3) https://c.dun.163.com/api/v2/getconf"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#4-httpscdun163comapiv3get","text":"\u8bf7\u6c42\u53c2\u6570 javascript referer: https://dun.163.com/trial/jigsaw zoneId: CN31 dt: +d46R9cod/pFExRFRQOAudR1RIARdYH2 acToken: 9ca17ae2e6ffcda170e2e6eeb7ed52b49dbd83b65b91b48ab3d55e879b8a83d57a8b8affb6e25b8694bdb2ef2af0feaec3b92a899fc0bbd021b2e9c083e25a829b9eb2c54fa68fe185c86d8c9898d5ec52a799ee9e id: 07e2387ab53a4d6f930b8d9a9be71bdf fp: 05aw7/a447/OOW/KYZhTf+UaC6EhQY+/5UUZQ/ck4Cycm3i5B426XQvvZN6iZD6xOA+TQ857lyC\\zM0PIAndnGEdGRKKhB0OHfr7YusWtSgYa9+T+5g0Jv/yj84hITJ/LhDlKrJYNwLAVixZ0ZTu5GNoA\\dRzZnkNTXJBGhY0jueXehO:1711614684226 https: true type: 2 version: 2.26.1 dpr: 2 dev: 1 cb: aQ+5A1adrUfsVhWqxjeTnY2LiRO/EJQCKnvKdym6Elcxjz4YGaKbRhuMN4ukKUVh1xgy92YM8QrBKiCryBjjNfukvoE7 ipv6: false runEnv: 10 group: scene: lang: zh-CN sdkVersion: undefined iv: 3 width: 320 audio: false sizeType: 10 smsVersion: v3 token: callback: __JSONP_37iwidr_1 \u9006\u5411\u53c2\u6570 dt\uff1a \u4e0a\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u7684dt\u503c acToken\uff1a\u9700\u8981\u9006\u5411 id\uff1a \u4e0a\u4e00\u4e2a\u8bf7\u6c42\u54cd\u5e94\u7684bid\u503c cb\uff1a\u9006\u5411 fp\uff1a \u53ef\u4ee5\u4e3a\u7a7aundefined \u8bf7\u6c42\u5934 javascript Request URL: https://c.dun.163.com/api/v3/get?referer=https%3A%2F%2Fdun.163.com%2Ftrial%2Fjigsaw&zoneId=CN31&dt=Ze%2B%2FO%2FRGrV1AElRVVQLAqaUm9ySPe66n&acToken=9ca17ae2e6ffcda170e2e6eea5b842a6e9ada7f57bfb8e8aa2d55a929a9f82d57f909ea3d5ec4989eda0b7cc2af0feaec3b92a8b94baa2d03fed9e869ac94a828b9bb3c85ba78abb82d563f7b798b1fb21babeee9e&id=07e2387ab53a4d6f930b8d9a9be71bdf&fp=w9L%2FQH3wVVhrk35VIVsz24L7tbXO5%2F2JvAT9NMOyB%2FusJttIyls4mg7BgLwE1dzhpVUPvhIT2KuHGaZT8QSkf0VWp8T9QaVQuJCHcwgzjgmmyLHN62hfJVQh9rf6OjklxOLGG%2B3aUpqLX29VeCpofDqVeKAqrRujTQn2rvu2nmQlYx1b%3A1712716525125&https=true&type=2&version=2.27.0&dpr=2&dev=1&cb=Chbwi3kazuHSOkSuIZJ5P.8%2FAYKt9GJFGNeQXmxQ5r.462S4aapgRkDPsbDXEe6PCSHqL05YRi4.xIXtukprjSE3ZtV7&ipv6=false&runEnv=10&group=&scene=&lang=zh-CN&sdkVersion=undefined&iv=4&width=320&audio=false&sizeType=10&smsVersion=v3&token=&callback=__JSONP_omvo7l4_0 Request Method: GET \u54cd\u5e94\u7ed3\u679c \u8fd4\u56de\u5f53\u524d\u9a8c\u8bc1\u7801\u56fe\u7247 javascript __JSONP_xi83x4b_2({ \"data\": { \"bg\": [\"https://necaptcha.nosdn.127.net/a265b421c68e4478962e380efe76df47@2x.jpg\", \"https://necaptcha1.nosdn.127.net/a265b421c68e4478962e380efe76df47@2x.jpg\"], \"front\": [\"https://necaptcha.nosdn.127.net/6653fdf16a9d4e498932caf3ac46279c@2x.png\", \"https://necaptcha1.nosdn.127.net/6653fdf16a9d4e498932caf3ac46279c@2x.png\"], \"token\": \"4d8cce7c78dd413899e876dee49483b4\", \"type\": 2, \"zoneId\": \"CN31\" }, \"error\": 0, \"msg\": \"ok\" }); \u6ed1\u52a8\u5931\u8d25\u4f1a\u91cd\u65b0\u6267\u884c","title":"(4) https://c.dun.163.com/api/v3/get"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#5-httpscdun163comapiv3get","text":"\u8bf7\u6c42\u53c2\u6570 javascript referer: https://dun.163.com/trial/jigsaw zoneId: CN31 dt: vwjizRDzBbBEAgUFEULE9/EjUswZUEOM id: 07e2387ab53a4d6f930b8d9a9be71bdf token: \u4e0a\u4e00\u4e2aURL\u54cd\u5e94\u7684 acToken: undefined data: {\"d\":\"EpJz826dJcFxSBXYQ+MlMprgdEwJ3w1NyODt2xa91fIwf.uEVDkrwaxaAyVZTjrS+OEGmU/Gx/qJTdgbTjY4oMUf9dC0PCEdk8FljcUImur+0CWNklyUppxRdgg/ph4UFX.nOgRhc+mw9dznLPkZPcfYTg3ycS5J6jQC.VMHK8JHH49j.LsaMwLI6QhhFQPyyHfuTEnvvKnCztmdDtE9xlvO2o9gGyy9GhynsKgAnpbhiSlWpNC1+csPZZfiyn4vr.ysHM61CBMoJ0F8qn3KY.HMhdcef1uxqxfrnEM2FJUR4s58Drgtmsyeqwf35tx6MDqfAQJf/LiET8fmHILXUSHi.09NR0/WJJkSk4UEQcO8V/oZcUY+ZGs22nF/Fi2XP8sfvXCo1T5GZzEHPHcNH5x1y2.l+0m4phVNNawMRqgvVfF8ZFr4P98TCp1zjwmDQds5YqkeLXHeDckLx+.xOABmfrDfPVPstbneuA1d006/JfhF1eU+/AXTkK33pZgRWDYmeM77\",\"m\":\"\",\"p\":\"XiYO1mxjZ046xExmw8RqWt.buhT1Gn6GKtFdwg1ITCIuyHpt48A/x0DG948YJMKfYH8pkwFBxwnKgWqzT3wb3GLHuXY7\",\"f\":\"/n3pnkVuxawgPyzhiq+HQt2fkKrlZ3/adyaLMn/e/FRlMF4RryBAxShnNZ9X9SHm3WaHrrN94nFEY5AgEzDVG8CpLWIm.c86NGzPwerWhIQk4hNKlEtPihAmNtnrDanKR25faUwODNyEvm2QEE/sxuSVu6yzIisnyNUalG.xKzbHEPLVeomvCpGkNRzrsGCdPnqJ9sZ9E2ubm5ItlKsspxZaFXYMZfJAAfriO..42GnV3GhQ6eqcpmgN3lhr8aq2lesZZxsI+/r+QNKEdjrugQf4I0L//ENSvD6/UPoQq5Gl2cAimfoWH6bH4OgYzjI+y/s4bosDqgyqfh8Kj38+/KloK8viF9FAc+uLygzuQCIXMCfjD/8BinowmmIu.4F0cE3ZfvtDXZWthPbu3GmUJmRolq4eEwxVDZPIQuY3Sulsw+jd\",\"ext\":\"5RjhyovDbfwbZ/zX5trvEvx0DFJ6/UDrHClub.hhgTsvh1Uzgn.nS/3qZdWJjEpkZsUAXfYJD2JrHFJ0AbxhHbDJFdY7\"} width: 320 type: 2 version: 2.25.0 cb: ckibuKyYZEaGG.fzVzDYaN..+tLMJUPcE4juv8CAD/FxajmYD65t0PZ4lzaTpKVmqpCGhUI/SGUG64DWpqu5WmN10TE7 extraData: bf: 0 runEnv: 10 sdkVersion: undefined iv: 3 callback: __JSONP_m8c7mu7_2 \u9006\u5411\u53c2\u6570 dt: \u7b2c\u4e09\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684dt id\uff1a\u56fa\u5b9a\u7684 token\uff1a \u7b2c\u4e09\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684token data\uff1a\u9700\u8981\u9006\u5411\uff08\u7531\u8f68\u8ff9\u548c\u6ed1\u52a8\u8ddd\u79bb\u52a0\u5bc6\u7ec4\u6210\uff09 cb\uff1a \u9006\u5411 \u8bf7\u6c42\u5934 javascript Request URL: https://c.dun.163.com/api/v3/check?referer=https%3A%2F%2Fdun.163.com%2Ftrial%2Fjigsaw&zoneId=CN31&dt=Ze%2B%2FO%2FRGrV1AElRVVQLAqaUm9ySPe66n&id=07e2387ab53a4d6f930b8d9a9be71bdf&token=ea93d2443e9d48febc75c28933fdef09&acToken=undefined&data=%7B%22d%22%3A%226Pt9KmwAN3nVbBF8ZyhIK8zqMSGYiDSH4Ihz4Sy0C1zweGvcKk.WFDPA%2F%2B%2BAmAiMTQT02GAVa4EOHcPcAfCy%2BiVnkNJjO4DJFJI.E%2FsH5ba%2BP0oSKOrc3sGq0dEH9JAS%2FN%2B9%2Fz5wo.iK6gXU6tvUr0EyghuN.3OAgzYTYTj8E4j2wWq0uO2ElVNFV%2BoU2Woa.OFF%2BdJERlO5DYwMGesMJEUgdT%2Bdnd9iWeMLxnr5pejil9GL5jsMH%2FSAA4AXxHvi8oormNA8Fk2UuvDqrIFNk6ha4tCrBbjH%2BeJGQg2apN5FPr1DqjK2z6XnCGpX.fUTcL01GAIa5TJ3s3RPXFqxB3SnpB4.%2BKe1C1TZeeE80mUJ6S6YIEu%2BgG0BN%2BRP%2Fo%2BHM1%2F9zmJ6DVrTHKyv%2BrJ3MIxmd4kW1Vb49QDd36ztrOV5CFYzX9b5rG0HJEya%2FQZaetAcUUq8nLQK2NQbFewoZBPnOTs%2BbtrR%2BlGjIQb0R5dTHKso5lQUn%2FFmIsl4skc1pvzSc%2FVgPo%2FtIaxSqnlFnv%2Bla3rTF.Vku%2FNh%2Byy0CVChPuVc1YC0M04ohRiWz9FTL9HfiitncR2clN6sGWKL3Oz34vRTqmLMhAnA5EMoVEL8KDFCrtcVr44XZlMH2u6LHY1AXAsQiylVp%2B9G3d991QoutLQx4fgvvMoP95AeaZlbMc6p6O2l4M94tpyTE1lpSa4nx1Z0yQizrnL4x3%2F%2F.8Q%2FFKM4Bwlw3%2FB82IXyiUY0CIRRAjke88mb%2FXrsIkOECmog36ZiN%2Fjspxizhf1RPxOR%2BY5Vjd1UCSQgohxKXT8ncZOUFFjKH5RFObw%2FAi82Snfho5s%2FYG8KEZaj%2BnLla5z%2FhjN0a2QE%2BJXPT3nVcRyQxLjkNQOktmGFF.MjpQpVpDBpfqlfyphYNWh%2FiGt3xC3N6%2Blowg6xlkur4ydvg0uf9V1e%22%2C%22m%22%3A%22%22%2C%22p%22%3A%22.b4Xst6NfXQozNcANX1tmWZezuIIxz6jUJUW.ECz6tRqH0xcAx6eG%2FejA%2BVjz242RUi%2FIst.gUKnIcmcgcPcOmW6VEI7%22%2C%22f%22%3A%22Iy4GwvvDZp.ZdpAqoBv2nXekUG%2FoyPRIKVzQnfSpaST.a6F0re.azZR1aXDxiO4X2YvXDGe3gUvUWvdtxuO0Tauyf0rPsnB1dFiCNaOlBl9jQhAKmIQu8kHRyB5wn%2Fmf%2FTLVVHQEJtGP3P%2BHv4g3b8.c3EMScsiB%2FMViTAkK6SGTRCIMjTAPeL4lANIegK1uFxlfZjyTzfRRvdxJmm%2BPkpaPWjh%2FuQx6qQKjX6Hqj3uVyDHhjuyJW%2B%2FHE08O86vNmCAHNrDe5qr4uooqvJ4FS1RHi%2FC.Wo.pxl%2F1roHpO1TADmqIQdUPqXEilvd5h%2BArpfYcXr5N3mGiwnIkrqmTZPlmRhsai6iWSSVktkAEX2R9h%2B%2B98AuI489pxH3bxeDcke9q6k%2B8NXlE4iWzOg%2FT.jSPJPUkXPzzGqRbBAJgOQshknk4q2V5zPZSCDpXHMVVWXFgxugp2K0OwqGvZNv%2BzDu5DFxqLZORa%2F8c.rDLGNpt.09PpqLgbm2s3TTmZIDwoJT%2BsM77%22%2C%22ext%22%3A%22tbYifjNopoPCwp5CdZecn%2BkGgztLx30q3gqCxBrFUasdHaX6OqWrubgxfhIHzao3UHz4IPcSzjzgTpQC23DCe6vpybs7%22%7D&width=320&type=2&version=2.27.0&cb=BOSB6gMqVRLbSoWni0E6xh4SKtblxZOIFMcRUg6ynjWFqmO5i0K42yCNQy5bS1gW%2B3DZNs%2BuKsl1rOGHTeFv2%2FjUsEX7&extraData=&bf=0&runEnv=10&sdkVersion=undefined&iv=4&callback=__JSONP_uoycyxc_1 Request Method: GET \u54cd\u5e94\u7ed3\u679c \u9a8c\u8bc1\u5931\u8d25result\u4e3afalse\u3001\u6210\u529f\u4e3atrue \u5982\u679c\u663e\u793a\u53c2\u6570\u9a8c\u8bc1\u9519\u8bef\uff0c\u5219\u5f53\u524d\u53c2\u6570\u6709\u9006\u5411\u5931\u8d25\u7684\uff0c\u9700\u8981\u91cd\u65b0\u9006\u5411\u5bf9\u6bd4\u4e00\u4e0b javascript __JSONP_uoycyxc_1({ \"data\": { \"result\": false, \"zoneId\": \"CN31\", \"token\": \"ea93d2443e9d48febc75c28933fdef09\", \"validate\": \"\" }, \"error\": 0, \"msg\": \"ok\" }); \u6ed1\u52a8\u9a8c\u8bc1\u5931\u8d25 \u91cd\u65b0\u8bf7\u6c423\u7684\u5730\u5740 \u8fd4\u56de\u65b0\u7684\u9a8c\u8bc1\u7801\u56fe\u7247","title":"(5) https://c.dun.163.com/api/v3/get"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#d-bb","text":"","title":"\u4e8c\u3001\u9006\u5411d \u548cb\u8bf7\u6c42\u662f\u540c\u4e00\u4e2a\u5efa\u8bae\u770b\u4e0b\u9762\u7684b"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#1url_1","text":"https://ac.dun.163.com/v3/d","title":"1\u3001URL"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#2_1","text":"d: SKL5Artg.gDRIjp9d3N.KS7wV/KaytkbioYeGmq+fzIYDeDe+2ClX2CzFdkGt45ByCDC19c3AkRN/ggbArZ/rZhMs3KmU5Bi6wLSgw5VGP9ZiunBrNWmDJJyfny9I5W3R1jQXyYgygwyWLLm27VzR5bL/hqF4o2NKNC7ruNuWjilyUMaUbSHjpLyvKnsq/Oq4o5d4kuHXs6Jq7npD2akVcTbVFbwtL0EVasDwbF6reJz+rJ156vvAow0lWVOE/AvfSiLQGbfwkg3PECGJtgepZiacdpBa6dJZwD.dKh4qYsAdgrlQMt4.pGaSGFFW2./ySeO0/ZJFEMMyMbBmpKJf++/sN5mCEeFHlbLO/ggHNE95DbQLQnMpaubpWomIUK1yj9t3vdSMpsviTmNUKrvXHhKyGnlatiziYVk3KFZRkkiOrOI2qcsk2DMCcw725Q5YKqv3ppnW7Uo/CVByvb5H91AErHAnQF9MJE8p+Cvem3qUhBGsY8CZMriMgDC5w.cgU/c/8opIQVUgppCUKsycWt6oU2H5SWfZ8pHajqUcNGomF1aJagDG95Hy9LVvfjYQpQU2qj5XAO7y27V2vwBnEkO5N.pea9SesFHftz8L+85X6AHadu9jd/9RVZJPPzzSYvJojZsKsgpKe4X+fRNWsZfdd67f4CVu6k7AEXOITVKpFoaim.mS8wGdhr21B76sLarW.5sMYZHOU5J.V.l29zXX+Ju3OvwBfcoeDG7+zPiQTFuPF4RRjlgKHV6MXlU3XYSWviEXZkeNpGy+k+wTTTSdk9LApo6FnAgkdRUgO6mmO1DQCouaI3ZArEb7AeS26zEEtE6.Bzj00Npa161gVwbi7V0pFI5F1srNE3Fsv3cdbgpPRM8/Z0lc+q0PR7JR0PRoksKfaG4CN2h08zSY5iDhb8Czv6slRlgFEXPTjDTjn4t v: 33d41777 cb: __wmjsonp_202808e","title":"2\u3001 \u8bf7\u6c42\u53c2\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#3d","text":"\u8bf4\u660e\uff1a \u7531\u4e8e\u5f53\u524d\u7f51\u6613\u6613\u76fe\u6bcf\u6b21\u5237\u65b0\u90fd\u4f1a\u91cd\u65b0\u8bf7\u6c42js \uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u53c2\u6570d\uff0c\u6bcf\u6b21\u6dfb\u52a0\u5b8c\u65ad\u70b9\u4ee5\u540e \u90fd\u4f1a\u91cd\u65b0\u6c42\u60c5\u4e00\u904djs \u8fd9\u6837\u5c31\u6ca1\u529e\u6cd5\u5728\u7ee7\u7eed\u8c03\u8bd5\uff0c\u4e4b\u524d\u7684\u65ad\u70b9\u4e5f\u90fd\u65e0\u6cd5\u518d\u7ee7\u7eed\u4f7f\u7528\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4f7f\u7528Charles\u8fdb\u884c\u672c\u5730js\u6587\u4ef6\u66ff\u6362\uff0c\u5c06\u603b\u662f\u91cd\u65b0\u8bf7\u6c42\u7684js\u6587\u4ef6https://cstaticdun.126.net/wm.3.0.0_33d41777.min.js?v=28524019 \u4e2d\u7684\u5185\u5bb9\u4fdd\u5b58\u5230\u672c\u5730\uff0c\u7136\u540e\u8fdb\u884c\u66ff\u6362\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u60f3\u8981\u8c03\u8bd5\u7684\u4f4d\u7f6e\u6dfb\u52a0debugger\u65ad\u70b9\u6765\u4e0d\u65ad\u8c03\u8bd5\uff0c\u6700\u7ec8\u627e\u5230\u52a0\u5bc6\u7684\u53c2\u6570\u4f4d\u7f6e","title":"3\u3001\u9006\u5411\u53c2\u6570d\u8bf4\u660e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#4-charles","text":"\u9009\u52fe\u9009 \u53bb\u9664\u7f13\u5b58 \u5148\u6839\u636e\u5f53\u524djs\u57df\u540d\u8fdb\u884c\u8fc7\u6ee4 \u627e\u5230\u8fd9\u4e2aURL https://cstaticdun.126.net \u5c06wm.3.0.0_33d41777.min.js\u5f97\u5185\u5bb9\u4fdd\u5b58\u5230\u672c\u5730 \u9009\u62e9Ma Local \u9009\u62e9\u672c\u5730\u4fdd\u5b58\u7684js\u6587\u4ef6 \u5728\u6d4f\u89c8\u5668\u4e2d\u6b7b\u5237\u65b0\u4e00\u4e0b\u65e2\u53ef \u5728network\u4e2d\u67e5\u770b\u662f\u5426\u66ff\u6362\u6210\u529f","title":"4\u3001 Charles\u672c\u5730\u66ff\u6362\u914d\u7f6e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#5","text":"","title":"5\u3001 \u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u8c03\u8bd5"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#1durl","text":"URL https://ac.dun.163.com/v3/d","title":"(1)\u3001\u7ed9\u5f53\u524d\u5e26\u6709d\u53c2\u6570\u7684URL\u6dfb\u52a0\u65ad\u70b9\u6355\u83b7"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#2_2","text":"","title":"(2)\u3001\u91cd\u65b0\u5237\u65b0\u6d4f\u89c8\u5668 \u65ad\u70b9\u8fdb\u884c\u62e6\u622a"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#3","text":"\u987a\u7740\u5f53\u524d\u65ad\u70b9\u4e0d\u65ad\u5411\u4e0a\u67e5\u627e\uff0c\u8ba4\u4e3a\u662f\u751f\u6210\u6216\u8005\u662f\u53ef\u4ee5\u8c03\u8bd5\u7684\u4f4d\u7f6e\uff0c\u5728\u672c\u5730\u5f53\u524d\u4ee3\u7801\u4f4d\u7f6e\u6dfb\u52a0\u4e0adebugger;\u65e2\u53ef\uff0c\u91cd\u65b0\u5237\u65b0\u6d4f\u89c8\u5668\uff0c\u90a3\u4e48\u5f53\u524d\u7684js\u5c31\u4f1a\u51fa\u73b0\u4f60\u6dfb\u52a0\u7684debugger \u6b64\u523b\u53ef\u80fd\u4f1a\u6709\u5f88\u591a\u8bf7\u6c42\u90fd\u7ecf\u8fc7\u4f60\u7ed9\u7684debugger\u65ad\u70b9\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u6839\u636e\u5f53\u524d\u7684\u65ad\u70b9\u4e0a\u7684\u53c2\u6570\u8fdb\u884c\u5224\u65ad\uff0c\u662f\u5426\u4e3ad\u8bf7\u6c42\u7684\u53c2\u6570\uff0c\u5176\u4e2d\u53ea\u6709b\u53c2\u6570\u8bf7\u6c42\u53ef\u80fd\u4f1a\u6df7\u4e71d\u53c2\u6570\uff0c\u56e0\u4e3a\u503c\u4e0d\u597d\u533a\u5206 \u67e5\u627e \u5f53\u524d\u622a\u56fe\u5355\u7eaf\u6f14\u793a\u6dfb\u52a0debugger\u540e\u7684\u8c03\u8bd5(\u53ef\u4ee5\u7565\u8fc7) \u6253\u5370\u53c2\u6570a \u627e\u5230\u5f53\u524d\u52a0\u5bc6\u7684\u4f4d\u7f6e r = RE(iE, Z[678], void 0)(a.concat(r, t)) \u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u5bf9\u6bd4-\u6210\u529f\u627e\u5230 \u5728\u672c\u5730js\u4ee3\u7801\u4e2d\u641c\u7d22\u5f53\u524d\u52a0\u5bc6\u4ee3\u7801\uff0c\u6dfb\u52a0debugger \u5982\u679c\u91cd\u65b0\u5237\u65b0\u4e0d\u8d77\u4f5c\u7528 \u5c06application\u4e2d\u7684\u7f13\u5b58\u6570\u636e\u5168\u90e8\u6e05\u9664\u540e\u91cd\u65b0\u5237\u65b0 debugger\u62e6\u622a \u5f53\u524d\u751f\u6210\u6570\u7ec4\u7684f()\u51fd\u6570 \u548c\u53c2\u6570b(https://ac.dun.163.com/v3/b)\u4e2d\u7684f\u662f\u540c\u4e00\u4e2af\u51fd\u6570","title":"(3)\u3001\u8c03\u7528\u6808\u67e5\u627e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#v3get","text":"","title":"\u4e09\u3001\u9006\u5411v3/get"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#1url_2","text":"https://c.dun.163.com/api/v3/get","title":"1\u3001url"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#2_3","text":"cb acToken fp \u53ef\u4ee5\u4e3aundefined \u5176\u5b83\u53c2\u6570 token: https://c.dun.163.com/api/v3/check\u54cd\u5e94\u8fd4\u56de\u7684 referer: https://dun.163.com/trial/jigsaw zoneId: CN31 acToken: 9ca17ae2e6ffcda170e2e6eed8b150a6f0f897ef7db8b08aa6d15a868b8a83d47f82bcac85dc668fb783b2ca2af0feaec3b92a8db0a894e44787b7e5a8b75e829e9aa2d85a949bbbb2d947ed8b8ba6d94b8691ee9e id: 07e2387ab53a4d6f930b8d9a9be71bdf fp: w3c9dXEIB+kt15BeVA2GmhaPfcVYPW52yz4AWjspw5ezwEWjfvpBUvoG\\5vVxBkvRqMG2EKdEc28SdAxfkPtwsA2f\\KRIeOyIHnouxtzW8569gfijf6zQuDeb27U\\Rkdclzk6yzaKqE9\\Uq3tmb5vHTJNK8PhsITXsXfNT+AM1Ox72yk:1709534154145 https: true type: 2 version: 2.26.0 dpr: 2 dev: 1 cb: 5FGdlJcy1cojk43lMhvwpme3OYoRQicW2WEe9RGFgKPxp5JKv/j/g9j.ol1EnkVow5HIrosoQhha+utzCCNdfF.ikF97 ipv6: false runEnv: 10 group: scene: lang: zh-CN sdkVersion: undefined iv: 3 width: 320 audio: false sizeType: 10 smsVersion: v3 token: ca50711fb86549cab90f5f37f9c01365 callback: __JSONP_eucmko4_47","title":"2\u3001\u9006\u5411\u53c2\u6570\u53c2\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#3-cb","text":"\u901a\u8fc7\u67e5\u627eactoken \u67e5\u627e\u5230\u5f53\u524d\u7684cb\u53c2\u6570\u7684\u52a0\u5bc6\u4f4d\u7f6e \u56e0\u4e3a\u5f53\u524d\u7684actoken\u7684\u503c\u4e3aundefined \u6240\u4ee5\u5bf9\u5e94\u7684URL\u4e3ahttps://c.dun.163.com/api/v3/check \u6700\u7ec8\u7ed3\u679c","title":"3\u3001 cb\u53c2\u6570\u9006\u5411\u67e5\u627e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#4actoken","text":"\u901a\u8fc7\u8c03\u7528\u6808\u8fdb\u884c\u67e5\u627e e\u4e3a\u751f\u6210\u7684\u4f4d\u7f6e \u6ce8\u610f \u9700\u8981\u5c06application\u4e2d\u7684storage\u548ccookie\u7684\u6570\u636e\u6e05\u7a7a\u5728\u6ed1\u52a8\u540e\u8fdb\u884c\u8bf7\u6c42 \u5c31\u4f1a\u5b9a\u4f4d\u5230\u4e0b\u9762\u7684\u65ad\u70b9\u5904 \u8fdb\u5165pE\u51fd\u6570 \u901a\u8fc7\u67e5\u770b\u53d1\u73b0X\u51fd\u6570\u751f\u6210\u52a0\u5bc6\u5b57\u7b26\u4e32 \u8fdb\u5165X\u51fd\u6570 \u7ecf\u8fc7\u8c03\u8bd5\uff0c\u53d1\u73b0\u5f53\u524dr\u7684\u503c\u662f\u56fa\u5b9a\u7684\u6bcf\u6b21\u7684\u7ed3\u679c\u5747\u4e3a 72Df08vlwtpFERRFUFbQuBdddYnMiMQK \u5728\u8fd9\u91cc\u80fd\u591f\u770b\u5230\u6211\u4eec\u5f53\u524d\u4f4d\u7f6ev6\u7684\u503c\u548c\u524d\u9762\u52a0\u5bc6\u4ee3\u7801oE(JSON h[397] )\u7684\u7ed3\u679c\u662f\u540c\u4e00\u4e2a \u6700\u7ec8\u7ed3\u679c\u5bf9\u6bd4 \uff08\u5230\u8fd9\u513facToken\u5c31\u6263\u4ee3\u7801\u5b8c\u6210\uff09 \u4ee3\u7801\u6263\u7684\u7ed3\u679c \u5f53\u524d\u6263\u7684\u4ee3\u7801","title":"4\u3001acToken\u9006\u5411\u67e5\u627e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#5python","text":"","title":"5\u3001python\u4e2d\u8fdb\u884c\u8c03\u7528"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#6fp","text":"\u67e5\u627e \u6253\u5370gu \u8fdb\u884c\u5bf9\u6bd4 \u67e5\u627e\u4e0a\u4e00\u5c42gG\u4f20\u9012\u53c2\u6570 \u67e5\u627ethis[rE(0x434)] \u901a\u8fc7\u641c\u7d22fingerprint fingerprint\u503c\u662fSi,Si\u5f97\u503c\u662f\u7531window['gdxidpyhxde']\u800c\u6765 \u901a\u8fc7hook\u65b9\u5f0f\u8fdb\u884c\u83b7\u53d6 javascript (function(){ var hook_gdxidpyhxde = \"\"; Object.defineProperty(window, 'gdxidpyhxde', { set: function(val) { console.log('\u8bbe\u7f6efp\u53c2\u6570\u7684\u503c\u4e3a\uff1a ', val); debugger; this._value = val; return val; }, get:function () { console.log('\u83b7\u53d6fp\u53c2\u6570\u7684\u503c\u4e3a\uff1a ', hook_gdxidpyhxde); return hook_gdxidpyhxde; } }); })(); \u5c06\u5f53\u524d\u6587\u4ef6\u4f7f\u7528charles\u8fdb\u884c\u672c\u5730\u66ff\u6362\uff0c\u5c06hook\u4ee3\u7801\u6254\u8fdb\u5f53\u524d\u4ee3\u7801\u9876\u90e8 charles\u66ff\u6362\u7684\u65b9\u5f0f\u5c31\u4e0d\u518d\u8d58\u8ff0\u4e86~ \u91cd\u65b0\u5237\u65b0 hook\u5230\u5f53\u524d\u7684\u503c \u901a\u8fc7\u8c03\u7528\u6808\u8fdb\u884c\u5411\u4e0a\u5c42\u8c03\u7528\u8fdb\u884c\u67e5\u627e \u627e\u5230\u4f4d\u7f6e\uff0c\u63a5\u4e0b\u6765\u8981\u6263\u7684\u5c31\u662f\u5f53\u524dSD\u51fd\u6570\uff0c\u4e0d\u7528\u5168\u6263 \u6700\u7ec8\u7ed3\u679c \u5934\u5f97\u7ed9\u5168 \u53ef\u4ee5\u4e3a\u7a7a fp","title":"6\u3001\u9006\u5411\u53c2\u6570fp(\u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u4e0d\u6263)"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#b","text":"","title":"\u56db\u3001\u9006\u5411 b"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#1url_3","text":"https://ac.dun.163.com/v3/b","title":"1\u3001url"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#2d","text":"d d: bqtvARGHuCJ2qrNXcT1a3R86WNXTob.mep/GQFK0uEPU3yqaKdiMzAFg+f0uk8NR/.FE4.cnm8lia9Z9/64bTGja5gLHZgj2jPj6CDvPV8ISK0fHO0Nt9sApmeviRaqJ8+2hqzo+U7aTlznPXz8GuB.V25XWo1Xk0.KGySeN8LCO6apu3Q6r35XgTt93dIXhu3ZKeJNya3Py4WdtWfnSqOCGH5zZEEoUz6cH7NEaDc66pQ67wvLEQWEcCIuDFCcVwRNprD2eSKJRyHGNm0ulVeSI2.7VJ9y4wRPAn4i0MXDvcuyHiQ04Q.6GgO2w39s7000m5hdZCmVnYs2mgbr0PQHESSnV2wegyWaTppSj9gvhgIlcIXrGMFXisHrl6z2fAttktNECmwnsHtGqar2mEqIwhKC/a8I2NLk310s47jvOkN9KZjA3pmjAa.. v: 33d41777 cb: __wmjsonp_1698b20","title":"2\u3001\u9006\u5411\u53c2\u6570\u53c2\u6570d"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#3_1","text":"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u5f53\u524d\u73af\u5883\u68c0\u6d4b\u7684\u8bf7\u6c42","title":"3\u3001 \u8bf4\u660e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#4","text":"\u901a\u8fc7\u65ad\u70b9\u4e0d\u65ad\u5411\u4e0a\u8c03\u8bd5\uff0c\u627e\u5230\u5f53\u524dd\u53c2\u6570\u52a0\u5bc6\u751f\u6210\u7684\u4f4d\u7f6e \u548c\u7f51\u7edc\u8bf7\u6c42\u4e2d\u7684\u53c2\u6570\u8fdb\u884c\u5bf9\u6bd4 \u4e00\u81f4","title":"4\u3001 \u901a\u8fc7\u8fdb\u5165\u8c03\u7528\u6808\u67e5\u627e\u751f\u6210\u52a0\u5bc6\u7684\u4f4d\u7f6e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#5-e-f","text":"\u51fd\u6570\u4f4d\u7f6e \u8fdb\u5165f\u51fd\u6570 \u67e5\u770b\u5f53\u524df\u51fd\u6570\u5bf9\u5e94\u7684E\u53d8\u91cf\u7684\u53d6\u503c wa[h[420]][Y[75]] \u53d6\u503c\u7ed3\u679c \u901a\u8fc7\u641c\u7d22\u5bf9\u8c61\u4e2d apiServers \u53c2\u6570\u503c \u67e5\u627e\u5f53\u524d\u5bf9\u8c61\u521b\u5efa\u4f4d\u7f6e \u4f46\u662f\u53d1\u73b0\u5f53\u524d\u5bf9\u8c61\u4e2d\u7f3a\u5c11\u4e00\u4e9b\u4e0a\u9762\u7684\u53c2\u6570\uff0c\u6bd4\u5982S\uff08\u65f6\u95f4\u6233\u53c2\u6570\uff09 \u63a5\u4e0b\u6765\u641c\u7d22\u67e5\u770b\u662f\u54ea\u4e2a\u4f4d\u7f6e\u7ed9\u5f53\u524doptions\u8d4b\u503c\u7684 \u4ee5\u6b64\u6765\u5206\u6790\u7f3a\u5c11\u53c2\u6570\u7684\u6e90\u5934\u518d\u54ea\u513f \u901a\u8fc7\u641c\u7d22\u67e5\u627e\u5230\u4e86\u5f53\u524doptions\u8d4b\u503c\u7684\u4f4d\u7f6e \u662f\u53c2\u6570Z \u63a5\u4e0b\u6765\u6253\u4e0a\u65ad\u70b9 \u901a\u8fc7\u8c03\u7528\u6808\u4e0d\u65ad\u5411\u4e0a\u67e5\u627e \u901a\u8fc7\u8c03\u7528\u6808\u5411\u4e0a\u67e5\u627e\u3001\u627e\u5230\u5f53\u524d\u521b\u5efaoptions\u5c5e\u6027\u503c\u7684\u4f4d\u7f6e Z\u4e5f\u5c31\u662f\u5f53\u524d\u7684this.j \u63a5\u4e0b\u6765\u641c\u7d22this.j \u6eaf\u6e90\u5230\u4e86\u4e4b\u524d\u641c\u7d22apiServer\u7684\u4f4d\u7f6e \u73b0\u5728\u6574\u4e2a\u6d41\u7a0b\u90fd\u758f\u901a\u4e86 \u63a5\u4e0b\u6765\u641c\u7d22this.j \u67e5\u627e\u786e\u5b9e\u7684\u53c2\u6570\u662f\u518d\u54ea\u513f\u8fdb\u884c\u8d4b\u503c\u7684 \u641c\u7d22this.j \u67e5\u627e\u5230\u4e86\u5728\u54ea\u513f\u8fdb\u884c\u8d4b\u503c\u7684 \u8fdb\u5165kE\u51fd\u6570 \u67e5\u770b\u662f\u5982\u4f55\u751f\u6210\u7684 \u53d1\u73b0\u662f\u4e4b\u524dacToken\u91cc\u9762\u6263\u8fc7\u7684 \u76f4\u63a5\u590d\u5236\u8fc7\u6765\u65e2\u53ef \u5c06this.j\u5bf9\u8c61\u548c\u5728\u7ec8\u7aef\u6253\u5370\u51fa\u6765\u7684\u5bf9\u8c61\u8fdb\u884c\u5206\u6790\u54ea\u4e9b\u53c2\u6570\u662f\u52a8\u6001 \u54ea\u4e9b\u662f\u56fa\u5b9a\u7684 \u901a\u8fc7\u641c\u7d22\u53d1\u73b0 productNumber \u4e0e na \u53c2\u6570\u503c\u5747\u662f\u6709getconf\u8bf7\u6c42\u8fd4\u56de\u7684\u503c \u63a5\u4e0b\u6765\u4ee3\u7801\u56de\u5230f\u51fd\u6570 \u901a\u8fc7\u4e0d\u65ad\u6253\u5370 \u8c03\u8bd5 \u53d1\u73b0\u5f53\u524da\u548cr\u7684\u7ed3\u679c\u6bcf\u6b21\u90fd\u662f\u4e0d\u53d8\u7684 \u6240\u4ee5\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u56fa\u5b9a\u503c \u4e0b\u9762\u8fd9\u4e9b\u51fd\u6570\u6b63\u5e38\u6263\u8fc7\u6765\u5c31\u53ef\u4ee5 \u641c\u7d22\u53d8\u91cf return\u91cc\u9762\u7684\u51fd\u6570\u6b63\u5e38\u6263\u5c31\u53ef\u4ee5\u4e86\uff0c\u6ca1\u5565\u7279\u6b8a\u7684","title":"5\u3001 \u6263E = f(); \u51fd\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#data","text":"","title":"\u4e94\u3001\u9006\u5411data\u53c2\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#1-url","text":"https://c.dun.163.com/api/v3/check","title":"1\u3001 url"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#2_4","text":"referer: https://dun.163.com/trial/jigsaw zoneId: CN31 dt: RXNmMmP5y+pAFhVRQRaE+IVkMjrQBHOj id: 07e2387ab53a4d6f930b8d9a9be71bdf token: 776c302cd4f14404a616f0e681d9bb83 acToken: undefined data: {\"d\":\"0fBiAvE8Yd.Lq24j.+lInKZW/f+mkgNUPKui+WcfvNDnph8Z.9hmPbRJe+PXOi2HYZVPMxoLPI.2ulbvpJcUoe8lhhsx0qD2/f5Eedv1yWOMDlTF0l/fE+aMRqqtWTi3VTO.2/56O8G2CnyrWFdkos26nduzvGtK6YvDKgUltfVdQ4Ez4qX8yjZFuNWIZS8TMA2xCjljlRBB4LkzRGSmLp41hPuPSDLUFdWbX0dHRzdmTA4eoxtVQVu9Yj5HqghZT8MGq88WQbSASTR0XDBU+GYvCCOTiUPFOHCKaQd6JliFbP3twvKkWtrJDhKtn+FsZbDK/kNFkPCSqeclEzo8FEEOkjX7\",\"m\":\"\",\"p\":\"TktNOc6F1YTjLbKQOlDff6.yQzSOqT/E0t.qE3FRb1lMmcgf5JBFYTd+9AuZHNqCqidFGEsjfj8Cczj3jH89ez+hFvM7\",\"f\":\"NphN+FaMEu64kF9AL5mjaZPZohI1dIX.LEgRa6bTkASAMeolYrR1PdLObwMlpwxCr5SFUhO9kZbmsmPq.24e.ZrfgmE3.Aueb4Ce4WPUso1GVKRnmvY.iwfhViU089w/cucu.2TCwHXXG8Ovr0jgcqM1R9zuObjPu/GWeiVxmCZEnd9vHmEUQ2/NMJtqMjdqWXskaKeD1+wQe2t/ro/aXc8GfBhFf9Aas0UGxFdH0P6nFh5XsT0O1ePFEHU3Xz0VfdxnsPEJ.lwWELZVDP8yyq1ZwDS/gNdOLCp4gfOynuaXhgYOZ04lWjIcOgz8N8b+Rv/xl8ue95iiaf5Wb9CewZDIgmxigb5VwQADE3qaIcAHJwbsyUlUDmYQKQnHguGnX6b2qv.orrTgSe92f9uq6y1JbJ9NpJz.bYSd50lXwRrO3nyl\",\"ext\":\"NF8N9FhEqNdtJVzxg8GUeT8Isylsl4Rse4VZiW1d82q4GFFsa1SjrcLzD0VwG8aIjRePKNQe.1NFjLFg33jT9QkFQ197\"} width: 320 type: 2 version: 2.26.1 cb: hDxZifz49AUqLIBr0Z5TqLTYad.BbLUTvMSLlCeC2hL6PlBOQmHxzesWNzjzClEtq+CJYhKIF9wqe16PoS8ODV2jeo87 extraData: bf: 0 runEnv: 10 sdkVersion: undefined iv: 3 callback: __JSONP_ves283o_3","title":"2\u3001\u8bf7\u6c42\u53c2\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#3_2","text":"data \u5176\u4f59\u53c2\u6570\u5df2\u9006\u5411\u5b8c\u6bd5","title":"3\u3001\u9006\u5411\u53c2\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#4_1","text":"\u641c\u7d22\u53c2\u6570 sdkVersion \u6253\u4e0a\u65ad\u70b9\uff0c\u91cd\u65b0\u62d6\u62fd\u6ed1\u5757 \u4fbf\u627e\u5230\u4e86\u5f53\u524d\u53c2\u6570\u4f4d\u7f6e \u67e5\u627eT4 \u67e5\u627egA \u65ad\u70b9\u5411\u4e0a\u8d70\u4e00\u5c42 \u53d1\u73b0o\u5305\u542b\u4e86data\uff0c\u7ee7\u7eed\u5411\u4e0a\u627e \u7ee7\u7eed\u5411\u4e0a\u627e \u627e\u5230\u53c2\u6570gF \u7ee7\u7eed\u5411\u4e0a\u67e5\u627e \u627e\u5230\u5f53\u524d\u52a0\u5bc6\u53c2\u6570data\u7684\u4f4d\u7f6e","title":"4\u3001\u67e5\u627e\u5f53\u524d\u53c2\u6570\u4f4d\u7f6e"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#5data-d","text":"\u5f53\u524d\u6263\u53d6\u7b2c\u4e00\u4e2ad var Q = F[DB(0x328)](this[DB(0x81a)], z) \u4e3ad\u8fdb\u884c\u52a0\u5bc6\u7684\u503c\uff0c\u5176\u4e2dz\u7684\u503c\u4e3a\u56fa\u5b9a\u768450(\u53ea\u5bf9\u524d50\u4e2a\u8f68\u8ff9\u8fdb\u884c\u52a0\u5bc6) \u5f53\u524dd\u53c2\u6570\u4e2d\u7684Q\u662f\u7531\u4e0a\u9762\u7684\u65ad\u70b9\u751f\u6210\u7684\uff0cthis[DB(0x81a)]\uff08this['traceData']\uff09\u4e3a\u6ed1\u52a8\u7684\u52a0\u5bc6\u8f68\u8ff9 \u5411\u4e0a\u67e5\u627ethis['traceData']\u751f\u6210\u7684\u4f4d\u7f6e \u5728\u9f20\u6807\u79fb\u52a8\u8fd9\u91cc\uff0c\u6309\u7167\u5f53\u524d\u56fe\u6dfb\u52a0\u65ad\u70b9 \u7136\u540e\u6ed1\u52a8\u6ed1\u5757 \u6ed1\u52a8\u4ee5\u540e \u65ad\u70b9\u505c\u7559\u5f53\u524d\u4f4d\u7f6e \u7ee7\u7eed\u6263j\u51fd\u6570\u65e2\u53ef\uff08\u6263\u5b8c\u540e\u8fdb\u884c\u5bf9\u6bd4\uff09 \u63a5\u4e0b\u6765\u6263q\u51fd\u6570 q\u51fd\u6570\u4e2d\u5c31\u6709\u4e00\u4e2a\u9700\u8981\u8865\u73af\u5883\u7684\u4f4d\u7f6e\u5f53\u7136\u4e0d\u8865\u4e5f\u53ef\u4ee5 \u8865\u5b8c\u4ee5\u540e\u7528\u5728\u5f53\u524d\u8fd9\u4e2a\u4f4d\u7f6e\uff08\u6240\u6709\u8bf4\u4e0d\u8865\u4e5f\u53ef\u4ee5\uff09 \u4ee3\u7801\u6263\u5b8c\u6d4b\u8bd5\u7ed3\u679c \u5f53\u524d\u4ee3\u7801 ``javascript const jsdom = require(\"jsdom\"); const {JSDOM} = jsdom; // \u521b\u5efa\u4e00\u4e2a\u65b0\u7684DOM\u5b9e\u4f8b const dom = new JSDOM( `); // \u83b7\u53d6document\u5bf9\u8c61 const {document} = dom.window; var sample = function (X, O) { var K = X['length']; if (K <= O) return X; for (var F = [], Z = 0x0, H = 0x0; H < K; H++) H >= Z * (K - 0x1) / (O - 0x1) && (F 'push' , Z += 0x1); return F; } // ===========\u5230\u8fd9\u513f\u90fd\u662fgr\u7684\u51fd\u6570\u6263\u7684\u5f00\u59cb function A() { // \u4f7f\u7528jsdom\u8865\u73af\u5883 var v = 'NECaptchaSafeWindow' , R = function () { var O = document 'getElementById' ; O && (document['body'] 'removeChild' , O = null); } , a = document 'getElementById' ; if (a) return { 'safeGlobal': a['contentWindow'], 'destroy': R }; var D = document; try { var X = document 'createElement' ; X 'setAttribute' , X['style']['display'] = 'none', document['body'] 'appendChild' , D = X['contentWindow']; } catch (O) { D = document; } return { 'safeGlobal': D, 'destroy': R }; } function O(V) { return V < -0x80 ? O(0x100 + V) : V > 0x7f ? O(V - 0x100) : V; } // \u6539\u540dzz \u56e0\u4e3a\u4e0b\u9762\u6709\u4e2a\u53d8\u91cfz function zz(V) { V = '' + V; for (var U = [], W = A(), x = W['safeGlobal'], M = 0x0, C = 0x0, E = V['length'] / 0x2; M < E; M++) { var w = x 'parseInt' } function gr(V) { V = encodeURIComponent(V); for (var U = [], W = 0x0, x = V['length']; W < x; W++) '%' === V 'charAt' ? W + 0x2 < x && U 'push' + V 'charAt' )[0x0]) : U 'push' )); return U; } // ===========\u5230\u8fd9\u513f\u90fd\u662fgr\u7684\u51fd\u6570\u6263\u7684\u7ed3\u675f // ============g7\u51fd\u6570\u5f00\u59cb============= function Q() { for (var gP = [], gh = 0x0; gh < 0x4; gh++) gP[gh] = O(Math 'floor' } function H(gP) { var gh = []; if (!gP['length']) return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; if (gP['length'] >= 0x40) return gP 'splice' ; for (var gf = 0x0; gf < 0x40; gf++) gh[gf] = gP[gf % gP['length']]; return gh; } function Z(V, U) { return O(O(V) ^ O(U)); } function gZ() { for (var V = arguments['length'] > 0x0 && void 0x0 !== arguments[0x0] ? arguments[0x0] : [], U = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : [], W = [], x = U['length'], M = 0x0, C = V['length']; M < C; M++) W[M] = Z(V[M], U[M % x]); return W; } var gk = 'fd6a43ae25f74398b61c03c83be37449' // \u56fa\u5b9a\u7684 \u53ef\u4ee5\u641c\u7d22\u5230 function g7() { var gP = gr(gk) , gh = Q(); return gP = H(gP), gP = gZ(gP, H(gh)), gP = H(gP), [gP, gh]; } // ============g7\u51fd\u6570\u7ed3\u675f============= // ============gT\u51fd\u6570\u5f00\u59cb============= function gT(gh, gf) { if (Array 'isArray' ) return gh; if (Symbol['iterator'] in Object(gh)) return gP(gh, gf); // \u8fd9\u513f\u6ca1\u6263 \u56e0\u4e3a\u4e0a\u9762\u4e3atrue throw new TypeError('Invalid attempt to destructure non-iterable instance'); } // ============gT\u51fd\u6570\u7ed3\u675f============= // ============gm\u51fd\u6570\u5f00\u59cb============= function k(V) { var U = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f']; return '' + U[V >>> 0x4 & 0xf] + U[0xf & V]; } function P(V) { return V 'map' 'join' ; } function S(V) { var U = []; return U[0x0] = O(V >>> 0x18 & 0xff), U[0x1] = O(V >>> 0x10 & 0xff), U[0x2] = O(V >>> 0x8 & 0xff), U[0x3] = O(0xff & V), U; } function q(V) { return P(S(V)); } function gm(V) { for (var U = [0x0, 0x77073096, 0xee0e612c, 0x990951ba, 0x76dc419, 0x706af48f, 0xe963a535, 0x9e6495a3, 0xedb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988, 0x9b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9, 0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b, 0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599, 0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924, 0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190, 0x1db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x6b6b51f, 0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0xf00f934, 0x9609a88e, 0xe10e9818, 0x7f6a0dbb, 0x86d3d2d, 0x91646c97, 0xe6635c01, 0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950, 0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f, 0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17, 0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6, 0x3b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x4db2615, 0x73dc1683, 0xe3630b12, 0x94643b84, 0xd6d6a3e, 0x7a6a5aa8, 0xe40ecf0b, 0x9309ff9d, 0xa00ae27, 0x7d079eb1, 0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb, 0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5, 0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef, 0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236, 0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe, 0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x26d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x5005713, 0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0xcb61b38, 0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0xbdbdf21, 0x86d3d2d4, 0xf1d4e242, 0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c, 0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66, 0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9, 0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d], W = 0xffffffff, x = 0x0, M = V['length']; x < M; x++) W = W >>> 0x8 ^ U[0xff & (W ^ V[x])]; return q(0xffffffff ^ W); } // ============gm\u51fd\u6570\u7ed3\u675f============= // ============ZZ\u51fd\u6570\u5f00\u59cb============= // \u539f\u540d\u4e3aZ \u4f46\u662f\u4e0a\u9762\u6709Z\u51fd\u6570\u4e86 \u6240\u4ee5\u6539\u540d\u4e3aZZ function ZZ(gP) { if (Array 'isArray' ) { for (var gh = 0x0, gf = Array(gP['length']); gh < gP['length']; gh++) gf[gh] = gP[gh]; return gf; } return Array 'from' ; } // ============ZZ\u51fd\u6570\u5f00\u59cb============= // ============qq\u51fd\u6570\u5f00\u59cb============= // q\u51fd\u6570\u6539\u540d\u4e3aqq \u56e0\u4e3a\u4e0a\u9762\u6709q\u51fd\u6570\u4e86 function gp_j(V, U, W, x, M) { for (var C = 0x0, E = V['length']; C < M; C++) U + C < E && (W[x + C] = V[U + C]); return W; } function qq(gP) { if (!gP['length']) return [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]; var gh = [] , gf = gP['length'] , gq = gf % 0x40 <= 0x3c ? 0x40 - gf % 0x40 - 0x4 : 0x80 - gf % 0x40 - 0x4; gp_j(gP, 0x0, gh, 0x0, gf); for (var ge = 0x0; ge < gq; ge++) gh[gf + ge] = 0x0; return gp_j(S(gf), 0x0, gh, gf + gq, 0x4), gh; } // ============qq\u51fd\u6570\u7ed3\u675f============= // ============GG\u51fd\u6570\u5f00\u59cb============= function GG(gP) { if (gP['length'] % 0x40 !== 0x0) return []; for (var gh = [], gf = gP['length'] / 0x40, gq = 0x0, ge = 0x0; gq < gf; gq++) { gh[gq] = []; for (var gd = 0x0; gd < 0x40; gd++) gh[gq][gd] = gP[ge++]; } return gh; } // ============GG\u51fd\u6570\u7ed3\u675f============= // ============g6\u51fd\u6570\u5f00\u59cb============= function K(V, U) { return O(V + U); } function g5(gP) { var m2 = T , gh = arguments[m2(0x539)] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : 0x0; return gh + 0x100 >= 0x0 ? gP : []; } function J(gP, gh) { var pQ = T; if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g2(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g0(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g3(gP, gh) { var m0 = T; if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g1(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function g4(gP, gh) { if (!gP['length']) return []; gh = O(gh); for (var gf = [], gq = 0x0, ge = gP['length']; gq < ge; gq++) gf 'push' ; return gf; } function gv(V) { V = '' + V; var U = A() , W = U['safeGlobal'] , x = W 'parseInt' } var gN = '037606da0296055c' function g6(gP) { for (var gh = [g5, J, g2, g0, g3, g1, g4], gf = gN, gq = 0x0, ge = gf['length']; gq < ge;) { var gd = gf 'substring' , gj = gv(gd 'substring' ) , gb = gv(gd 'substring' ); gP = gh gj , gq += 0x4; } return gP; } // ============g6\u51fd\u6570\u7ed3\u675f============= // ============gX\u51fd\u6570\u5f00\u59cb============= function gX() { for (var V = arguments['length'] > 0x0 && void 0x0 !== arguments[0x0] ? arguments[0x0] : [], U = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : [], W = [], x = U['length'], M = 0x0, C = V['length']; M < C; M++) W[M] = K(V[M], U[M % x]); return W; } // ============gX\u51fd\u6570\u7ed3\u675f============= // ============W\u51fd\u6570\u5f00\u59cb============= // gL\u662f\u56fa\u5b9a\u7684 \u53ef\u4ee5\u641c\u7d22\u5230 var gL = 'a7be3f3933fa8c5fcf86c4b6908b569ba1e26c1a6d7cfbf60ae4b00e074a194dac4b73e7f898541159a39d08183b76eedee3ed341e6685d2357440158394b1ff03a9004cbbb5ca7dcb7f41489a16e03dcc9c71eb3c9796685b1d01b4d56193a6e1f1a2470445c191ae49c5d82765dc82c350f263387a24a502fcbf442e2dddaad0e936d9ea22b89275307b42518fbc3a626ba806d4ecd6d725f50cc8c72fefa4551ccd6fc9b2b7ab954f815c7264c6e51f4eaf99885a79892b1b60a0b3526e57ba5d178d370958847eb9fd28f9ce0bc023f4148a2adfe632126769057043d3bd8eda0df7872629f3809ef05310e83113216afe202c460fc23e789f77d1addb5e' function W(gP) { var gh = zz(gL) , gf = function (gj) { return gh[0x10 * (gj >>> 0x4 & 0xf) + (0xf & gj)]; }; if (!gP['length']) return []; for (var gq = [], ge = 0x0, gd = gP['length']; ge < gd; ge++) gq[ge] = gf(gP[ge]); return gq; } // ============W\u51fd\u6570\u7ed3\u675f============= // ============gl\u51fd\u6570\u5f00\u59cb============= function R(k, N, P) { var h = void 0x0 , f = void 0x0 , q = void 0x0 , j = []; switch (k['length']) { case 0x1: h = k[0x0], f = q = 0x0, j 'push' ; break; case 0x2: h = k[0x0], f = k[0x1], q = 0x0, j 'push' ; break; case 0x3: h = k[0x0], f = k[0x1], q = k[0x2], j 'push' ; break; default: return ''; } return j 'join' ; } function D(k, N, P) { if (!k || 0x0 === k['length']) return ''; try { for (var h = 0x0, f = []; h < k['length'];) { if (!(h + 0x3 <= k['length'])) { var q = k 'slice' ; f 'push' ; break; } var j = k 'slice' ; f 'push' , h += 0x3; } return f 'join' ; } catch (b) { return ''; } } var I = 'MB.CfHUzEeJpsuGkgNwhqiSaI4Fd9L6jYKZAxn1/Vml0c5rbXRP+8tD3QTO2vWyo' var L = '7' function gl(k, N, P) { var h = void 0x0 !== N && null !== N ? N : I , f = void 0x0 !== P && null !== P ? P : L; return D(k, h 'split' , f); } // ============gl\u51fd\u6570\u7ed3\u675f============= function gg(gP) { for (var gh = gr(gP), gf = g7(), gq = gT(gf, 0x2), ge = gq[0x0], gd = gq[0x1], gj = gr(gm(gh)), gb = qq([] 'concat' ), gG = GG(gb), gA = [] 'concat' , gV = ge, gn = 0x0, gt = gG['length']; gn < gt; gn++) { var gu = gZ(g6(gG[gn]), ge) , gU = gX(gu, gV); gu = gZ(gU, gV), gV = W(W(gu)), gp_j(gV, 0x0, gA, 0x40 * gn + 0x4, 0x40); } return gl(gA); } // ============gg(QQ 'join' ), gg\u51fd\u6570\u6263\u5b8c============= var unique2DArray = function (O) { var K = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : 0x0; if (!Array 'isArray' ) return O; for (var F = {}, Z = [], H = 0x0, S = O['length']; H < S; H++) { var z = O[H][K]; null === z || void 0x0 === z || F[z] || (F[z] = !0x0, Z 'push' ); } return Z; } // ============\u52a0\u5bc6\u8f68\u8ff9\u51fd\u6570\u7684\u5f00\u59cb============= function gz(k) { var N = ['i', '/', 'x', '1', 'X', 'g', 'U', '0', 'z', '7', 'k', '8', 'N', '+', 'l', 'C', 'p', 'O', 'n', 'P', 'r', 'v', '6', '\\x5c', 'q', 'u', '2', 'G', 'j', '9', 'H', 'R', 'c', 'w', 'T', 'Y', 'Z', '4', 'b', 'f', 'S', 'J', 'B', 'h', 'a', 'W', 's', 't', 'A', 'e', 'o', 'M', 'I', 'E', 'Q', '5', 'm', 'D', 'd', 'V', 'F', 'L', 'K', 'y'] , P = '3'; return D(k, N, P); } function generate_guiji(gP, gh) { var gf = gr(gh) , gq = gr(gP); return gz(gZ(gf, gq)); } // ============\u52a0\u5bc6\u8f68\u8ff9\u51fd\u6570\u7684\u5f00\u59cb============= // \u5b58\u50a8\u8f68\u8ff9\u7684\u53d8\u91cf var traceData = [] var token = '99eb297e5ce94d50adf33355f5ac3bb6' var guiji = [[10, -4, 51], [17, 4, 95], [22, -2, 136], [30, -4, 166], [36, 3, 196], [44, -5, 230], [51, -5, 270], [56, -2, 310], [62, -2, 350], [69, 1, 397], [76, 3, 438], [82, 3, 481], [89, 0, 524], [95, 0, 571], [100, 0, 614], [108, -3, 653], [115, -3, 683], [118, -1, 715], [121, 0, 754], [123, 0, 795], [127, 0, 828], [129, 0, 860], [131, -5, 906], [133, -5, 937], [136, -2, 974], [140, 2, 1019], [142, 4, 1066], [145, 4, 1103], [146, 4, 1145], [148, 4, 1192], [150, 4, 1230], [152, 4, 1278], [154, -4, 1326], [155, -4, 1360], [156, 4, 1400], [157, 2, 1438], [158, 1, 1480], [160, 1, 1518], [161, 1, 1562], [162, 2, 1605], [163, -3, 1645], [163, -3, 1683], [164, -3, 1723], [165, 3, 1759], [165, 1, 1792], [166, 1, 1833], [166, 1, 1863], [167, 1, 1909], [167, 1, 1942], [167, 1, 1980], [167, 1, 2018], [168, 1, 2048], [168, 2, 2083], [169, 2, 2130], [170, 2, 2169], [170, 2, 2208], [171, 5, 2255], [171, 5, 2295], [171, -3, 2325], [171, -3, 2355], [172, 0, 2393], [172, 0, 2436], [173, 2, 2474], [173, 2, 2513], [173, 2, 2543], [173, 2, 2583], [174, -3, 2624], [175, -3, 2671], [175, 2, 2709], [175, -5, 2748], [176, -5, 2786], [176, 5, 2818], [177, -1, 2859], [177, -1, 2904], [178, -1, 2949], [179, -1, 2988], [180, -5, 3030], [180, -5, 3064], [181, 4, 3103], [181, 3, 3145], [181, 2, 3177], [181, 1, 3218], [180, -3, 3265], [180, 2, 3305], [181, -5, 3349], [182, -4, 3386], [183, -4, 3422], [182, -5, 3467], [181, -5, 3500], [182, -5, 3548], [181, -4, 3582], [181, -4, 3622], [182, -2, 3657], [181, -2, 3704], [181, -1, 3741], [181, -1, 3774], [180, 4, 3817], [180, 2, 3860], [181, 5, 3907], [180, -3, 3955], [180, -3, 3985], [181, -3, 4017], [182, -1, 4052], [181, -1, 4087], [182, 3, 4121], [182, 3, 4154], [181, 0, 4201], [180, -1, 4233], [180, -4, 4271], [180, -4, 4315], [181, 0, 4350], [181, -1, 4396], [182, -1, 4430], [181, -1, 4470], [181, -1, 4517], [180, 1, 4560], [181, -4, 4601], [181, -4, 4635], [181, -4, 4667], [182, -3, 4715], [182, -3, 4754], [183, 2, 4796], [184, 5, 4842], [183, 4, 4878], [182, 5, 4920], [182, 2, 4951], [182, 2, 4983], [183, 2, 5022], [184, 2, 5061], [184, 2, 5109], [185, 2, 5151], [185, -4, 5184], [186, 1, 5223], [185, -4, 5261], [185, -2, 5302], [185, 4, 5348], [185, 4, 5393], [184, 4, 5428], [183, 3, 5462], [184, 2, 5492], [183, 4, 5540], [182, 4, 5588], [181, 4, 5621], [180, 4, 5666], [180, -2, 5697], [181, 2, 5732], [182, 2, 5780], [182, -1, 5823], [182, -1, 5856], [181, 2, 5897], [180, 2, 5932], [181, 2, 5976], [182, 0, 6019], [181, -2, 6063], [180, -2, 6109], [181, -2, 6142], [181, -2, 6183], [181, 3, 6219], [181, 3, 6260], [180, -4, 6305], [181, -4, 6344], [182, -2, 6381], [182, -2, 6422], [182, 5, 6454], [182, 5, 6502], [183, 0, 6537], [183, -1, 6579], [182, -1, 6622], [183, -1, 6655], [183, 4, 6697], [184, 4, 6730], [184, -1, 6775], [183, -1, 6808], [184, -2, 6851], [184, -5, 6883], [183, 2, 6921], [183, 2, 6961], [184, 1, 6999], [184, 1, 7033], [185, 1, 7066], [184, 1, 7111], [185, 1, 7144], [184, 1, 7183], [183, -2, 7225], [182, -2, 7257], [183, 2, 7288], [183, -2, 7320], [184, -2, 7368], [184, -2, 7409], [184, -1, 7442], [183, -1, 7481], [182, -1, 7518], [182, -1, 7550], [181, 4, 7596], [182, 4, 7629], [183, 2, 7664], [182, -2, 7711], [183, -4, 7751], [182, 2, 7785], [183, 2, 7825], [184, 3, 7867], [183, 4, 7914], [183, 4, 7945], [182, 4, 7993], [181, 1, 8037], [180, 2, 8085], [180, -3, 8127], [181, 2, 8167], [181, -3, 8211], [182, 0, 8250], [181, 0, 8292], [181, 1, 8323], [180, 3, 8361], [181, 3, 8393], [181, 0, 8437], [180, 0, 8477], [181, 0, 8523], [180, 1, 8555], [180, 2, 8603], [181, -1, 8648], [180, 2, 8686], [180, 2, 8716], [181, 2, 8763], [181, -5, 8810], [181, 3, 8845], [182, 3, 8888], [182, 3, 8930], [183, 3, 8960], [182, 3, 9008], [182, 3, 9044], [183, -1, 9080], [182, -1, 9121], [181, -1, 9160], [182, -1, 9200], [181, -1, 9237], [182, 3, 9273], [183, 3, 9308], [183, -3, 9344], [184, -3, 9380], [184, -3, 9426], [183, 1, 9460], [183, 1, 9498], [184, 5, 9542], [183, 4, 9574], [182, -2, 9604], [181, 0, 9649], [180, -2, 9691], [181, -2, 9729], [180, -2, 9763], [181, -2, 9809], [181, 0, 9852], [180, 0, 9896], [181, 4, 9934], [182, -1, 9972], [183, -1, 10018], [183, -1, 10064], [182, -1, 10109], [182, 4, 10152], [182, -3, 10191], [183, -3, 10222], [182, -5, 10260], [182, -5, 10306], [181, -5, 10354], [182, -5, 10386], [182, -5, 10434], [182, -5, 10482], [181, -3, 10525], [180, -3, 10556], [180, 5, 10594], [180, 3, 10626], [181, -2, 10672], [180, -2, 10709], [180, -3, 10751], [181, -3, 10789], [181, -3, 10831], [182, -3, 10876], [183, -2, 10918], [184, -2, 10955], [184, -2, 10990], [183, -1, 11026], [184, -1, 11072], [185, 5, 11116], [185, 5, 11163], [184, 5, 11197], [185, 2, 11237], [186, -4, 11276], [186, -5, 11313], [186, -5, 11347], [185, -3, 11392], [186, -2, 11424], [187, -2, 11459], [188, -2, 11504], [188, -2, 11534], [189, -2, 11566], [190, -2, 11601], [190, 0, 11606]] for (const arr of guiji) { var gj = generate_guiji(token, arr + ''); traceData.push(gj) } z = 50 var QQ = sample(traceData, z) // \u53ea\u5bf9\u524d50\u4e2a\u8fdb\u884c\u52a0\u5bc6\u5904\u7406 console.log(gg(QQ 'join' )) process.exit() // var J = this['$store']['state']['token'] // \u8fd9\u4e2aToken\u503c\u662f\u901a\u8fc7 https://c.dun.163.com/api/v3/get\u8bf7\u6c42\u8fd4\u56de\u7684 // \u8ba1\u7b97\u6ed1\u52a8\u8ddd\u79bb // \u8fd9\u91cc\u662f\u53d6\u51fa\u9a8c\u8bc1\u7801\u62d6\u62fd\u7684\u6ed1\u5757\u6807\u7b7e\u62d6\u62fd\u7684\u8ddd\u79bb // var g0 = q(j(J, parseInt(this['$jigsaw']['style']['left'], 0xa) / this['width'] * 0x64 + '')) // var g1 = Z(unique2DArray(this['atomTraceData'], 0x2)); var data = { 'data': JSON 'stringify' ), 'm': '', 'p': g0, 'f': q(j(J, g1 'join' )), 'ext': q(j(J, this['mouseDownCounts'] + ',' + this['traceData']['length'])) }) }; ``` \u751f\u6210\u8f68\u8ff9\u548c\u8bc6\u522b\u8ddd\u79bb\u7684\u4ee3\u7801 ```python import random from matplotlib import pyplot import cv2 # \u8bc6\u522b\u6ed1\u5757\u6ed1\u52a8\u7684\u8ddd\u79bb def get_x(): # opencv\u6765\u5b8c\u6210\u8ba1\u7b97 \"\"\" # \u6328\u4e2a\u8dd1... pip install python-opencv pip install opencv-python # x_jvli, guiji, tuodongshijian import cv2 # \u5bfc\u5165cv2\u4e4b\u540e\u6ca1\u6709\u4ee3\u7801\u63d0\u793a. \u600e\u4e48\u529e? :return: \"\"\" # \u8bfb\u53d6\u4e24\u5f20\u56fe bg = cv2.imread(\"bg.jpg\") slice = cv2.imread(\"slice.jpg\") # \u505a\u7070\u5ea6\u5904\u7406 bg = cv2.cvtColor(bg, cv2.COLOR_BGR2GRAY) slice = cv2.cvtColor(slice, cv2.COLOR_BGR2GRAY) # \u56fe\u7247\u8fb9\u7f18\u5904\u7406 bg_can = cv2.Canny(bg, 255, 255) slice = cv2.Canny(slice, 255, 255) # \u5339\u914d\u56fe\u50cf\u7684\u76f8\u4f3c\u5ea6, TM_CCOEFF_NORMED\u53c2\u6570\u56fa\u5b9a\u5373\u53ef r = cv2.matchTemplate(bg_can, slice, cv2.TM_CCOEFF_NORMED) # \u83b7\u53d6\u5339\u914d\u5ea6\u6700\u597d\u7684\u4e00\u4e2a\u7ed3\u679c minVal, maxVal, minLoc, maxLoc = cv2.minMaxLoc(r) x = maxLoc[0] y = maxLoc[1] # \u4e3a\u4e86\u6d4b\u8bd5\u7684 # bg = cv2.rectangle(bg, (x, y), (x+50, y + 50), (255, 255, 255)) # cv2.imshow(\"tu\", bg) # \u5f39\u7a97 # cv2.waitKey(0) # \u9632\u6b62\u7a0b\u5e8f\u4e00\u95ea\u5c31\u6ca1\u4e86 # cv2.destroyAllWindows() # \u5173\u6389\u6240\u6709\u7a97\u53e3 # \u5f53\u524d\u4e0b\u8f7d\u7684\u56fe\u7247\u5bbd\u5ea6\u4e3a480\uff0c\u5728\u6d4f\u89c8\u5668\u4e0a\u663e\u793a\u7684\u5bbd\u5ea6\u4e3a320\uff0c\u6240\u4ee5480/320\u4e3a1.5 \u8bc6\u522b\u7684\u8ddd\u79bb/1.5\u5219\u4e3a\u6b63\u5e38\u8bc6\u522b\u7684\u8f68\u8ff9 return x/1.5 # \u751f\u6210\u8f68\u8ff9 def get_track(dis=0): dis = dis or get_x() track = [] x = random.randint(0, 10) # \u79fb\u52a8X\u5750\u6807 y = random.randint(-5, 5) # \u79fb\u52a8y\u5750\u6807 pass_time = random.randint(10, 90) # \u79fb\u52a8\u65f6\u95f4 move_dis = x # \u79fb\u52a8\u8ddd\u79bb track.append([x, y, pass_time]) # \u6a21\u62df\u5f00\u59cb\u62d6\u52a8\u65f6\u4f1a\u4ea7\u751f0-3\u4e2a\u7c7b\u4f3c\u7684x\u76f8\u540c\u7684\u8f68\u8ff9 for _ in range(random.randint(0, 3)): pass_time += random.randint(2, 5) # \u79fb\u52a8\u65f6\u95f4 y = random.randint(-1, 1) track.append([x, y, pass_time]) # \u5f00\u59cb\u6a21\u62df\u8f68\u8ff9\uff0c\u4e00\u822c\u5f00\u59cb\u62d6\u52a8\u65f6\u4f1a\u5f88\u5feb\uff0c\u8d8a\u63a5\u8fd1\u76ee\u6807\u70b9\u8d8a\u6162 while move_dis < dis: if move_dis > dis * 0.95: offset = random.randint(-1, 1) # \u6a21\u62df\u5feb\u5230\u76ee\u6807\u70b9\u65f6\u8c03\u6574\u6ed1\u5757\u65f6\u7684\u8f68\u8ff9\uff0c\u4e00\u822c\u4f1a\u5de6\u53f3\u79fb\u52a8\u51e0\u4e0b\u5bf9\u9f50 elif move_dis > dis * 0.85: offset = random.randint(0, 1) elif move_dis > dis * 0.75: offset = random.randint(1, 2) elif move_dis > dis * 0.6: offset = random.randint(2, 4) else: offset = random.randint(5, 8) pass_time += random.randint(30, 48) move_dis += offset y = random.choice([y, random.randint(-5, 5)]) # \u79fb\u52a8y\u5750\u6807 track.append([move_dis, y, pass_time]) # \u6a21\u62df\u505c\u6b62\u65f6\u4f1a\u4ea7\u751f0-3\u4e2a\u7c7b\u4f3c\u7684x\u76f8\u540c\u7684\u8f68\u8ff9 for _ in range(random.randint(0, 3)): pass_time += random.randint(2, 5) # \u79fb\u52a8\u65f6\u95f4 y = random.randint(-1, 1) track.append([move_dis, y, pass_time]) return track, dis if name == ' main ': track, dis = get_track() print(track) print(dis) ```","title":"5\u3001\u6263data\u7b2c\u4e00\u4e2a\u503c d"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#6p","text":"\u622a\u56fe \u5f53\u524d\u51fd\u6570\u4e2d\u7684\u53c2\u6570J\u4e3aget\u8bf7\u6c42\u7684token\uff0c\u548c\u4e0a\u9762\u7684\u8f68\u8ff9\u52a0\u5bc6\u662f\u540c\u4e00\u4e2atoken \u5176\u4e2d parseInt(this[DB(0x7c7)][DB(0x796)]['left'], 0xa) \u8f6c\u4e49 \u540e\u4e3a \u83b7\u53d6\u5f53\u524d\u62d6\u52a8\u6ed1\u5757\u7684\u8ddd\u79bb \u5904\u7406\u540e\u7684\u4ee3\u7801 var p = gg(generate_guiji(token, parseInt(x_guiji, 0xa) / 320 * 0x64 + '')) \u6d4f\u89c8\u5668\u8fd0\u884c\u7684\u7ed3\u679c \u76f8\u540c","title":"6\u3001\u6263\u7b2c\u4e8c\u4e2a\u52a0\u5bc6\u53c2\u6570p"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#7f","text":"\u622a\u56fe \u6263g1 var g1 = Z(F[DB(0x1c8)](this[DB(0x51a)], 0x2)); \u89e3\u6790\u540e (\u56e0\u4e3ag1\u91cd\u540d\uff0c\u6240\u4ee5\u6539\u4e3afg1) var fg1 = Z(F['unique2DArray'](this['atomTraceData'], 0x2)); \u63a5\u4e0b\u6765\u6263F['unique2DArray']\u51fd\u6570 \u8fdb\u5165\u51fd\u6570\u5185\u90e8 \u6263\u5b8cunique2DArray javascript var unique2DArray = function (O) { var K = arguments['length'] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : 0x0; if (!Array['isArray'](O)) return O; for (var F = {}, Z = [], H = 0x0, S = O['length']; H < S; H++) { var z = O[H][K]; null === z || void 0x0 === z || F[z] || (F[z] = !0x0, Z['push'](O[H])); } return Z; } this['atomTraceData']\u4e3a\u6ed1\u52a8\u8f68\u8ff9 javascript var fg1 = Z(unique2DArray(this['atomTraceData'], 0x2)); \u641c\u7d220x51a \u901a\u8fc7\u5bf9\u6bd4\u4e0a\u4e00\u4e2a\u8f68\u8ff9\u52a0\u5bc6\u4f4d\u7f6e\u7684\u8f68\u8ff9\u548c\u5f53\u524d\u7684\u8f68\u8ff9\u662f\u540c\u4e00\u4e2a \u62a0\u51fag1\u5f97\u4ee3\u7801 \u5728\u4ee3\u7801\u4e2d \u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u7ed3\u679c \uff08\u5bf9\u6bd4\u76f8\u540c\uff09 \u6b64\u523b\u7b2c\u4e8c\u4e2a\u53c2\u6570f\u6263\u5b8c~","title":"7\u3001\u6263\u7b2c\u4e09\u4e2a\u52a0\u5bc6\u53c2\u6570f"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#8","text":"\u622a\u56fe \u7ffb\u8bd1\u8fc7\u6765\u5c31\u662f javascript q(j(J, this[DB(0x72b)] + ',' + this[DB(0x81a)][DB(0x539)])) javascript q(j(J, this['mouseDownCounts'] + ',' + this['traceData']['length' ])) \u6d4b\u8bd5this['mouseDownCounts'] \u7ed3\u679c\u6bcf\u6b21\u90fd\u662f1 \u53ef\u4ee5\u7ed9\u4e2a\u56fa\u5b9a\u76841","title":"8\u3001\u6263\u7b2c\u56db\u4e2a\u52a0\u5bc6\u53c2\u6570"},{"location":"30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html#_3","text":"\u8bf7\u6c42\u5934\u5f97\u7ed9\u5168 \u5f53\u524d\u9875\u9762\u5237\u65b0\u540e\u65ad\u70b9\u4f1a\u6d88\u5931 \u53ef\u4ee5\u4f7f\u7528Charles\u8fdb\u884c\u6587\u4ef6\u66ff\u6362\u6765\u5b9e\u73b0\u6dfb\u52a0debugger\u65ad\u70b9 \u5f53\u524dwm.3.0.0_33d41777.min.js?v=1712806392223\u6587\u4ef6 \u8be5\u6587\u4ef6\u52a0\u8f7d\u65f6\u5019\u540e\u9762\u6709\u4e2a\u65f6\u95f4\u6233\uff0c\u662f\u4f1a\u52a8\u6001\u6539\u53d8\u7684\uff0c\u65f6\u95f4\u6233\u6539\u53d8js\u56de\u91cd\u65b0\u52a0\u8f7d\uff0c\u6240\u4ee5\u8981\u628a\u65f6\u95f4\u6233\u503c\u56fa\u5b9a\u4e0b\u6765 \u89e3\u51b3\u65b9\u5f0f \u7b2c\u4e00\u79cd\u65b9\u5f0f\uff1a\u4f7f\u7528Charles\u8fdb\u884c\u672c\u5730\u66ff\u6362wm.3.0.0_33d41777.min\u6587\u4ef6\uff0c \u6dfb\u52a0debugger\u8fdb\u884c\u8c03\u8bd5 \u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff1a\u627e\u5230\u5f53\u524d\u6587\u4ef6\u66f4\u6362\u7684\u539f\u56e0 \u4e5f\u5c31\u7b97\u5f53\u524djs\u6587\u4ef6\u540e\u7f00\u7684\u65f6\u95f4\u6233\u53d1\u751f\u6539\u53d8 \u5219\u4f1a\u81ea\u52a8\u91cd\u65b0\u8bf7\u6c42js\u3001\u627e\u5230load.min.js\uff0c\u672c\u5730\u66ff\u6362\u4e0b\u641c\u7d22script:\uff0c\u4f1a\u627e\u5230\u65f6\u95f4\u6233\u8d4b\u503c\u7684\u5730\u65b9\uff0c\u6211\u8fd9\u91cc\u6539\u6210\u4e861\uff0c\u5237\u65b0\u9875\u9762 \u4fdd\u5b58\u5230\u672c\u5730\u8fdb\u884c\u66f4\u6539\uff0c\u7136\u540e\u4f7f\u7528Charles\u66ff\u6362 \u66ff\u6362 \u66ff\u6362\u540e\u5728\u6d4f\u89c8\u5668\u91cd\u65b0\u641c\u7d22\u67e5\u770b\u7ed3\u679c ---- this.cacheTime && (t = t + \"?v=\" + h","title":"\u516d\u3001\u6ce8\u610f"},{"location":"31%E3%80%81rpc.html","text":"\u4e09\u5341\u4e00\u3001RPC js\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u8bf7\u6c42 javascript ws = new WebSocket('ws://127.0.0.1:8848/browser/?name=wencai'); ws.onmessage = function (msg) { // console.log('\u63a5\u53d7\u670d\u52a1\u5668\u7aef\u6d88\u606f=====',msg.data) ws.send('123456789') } Python\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u8bf7\u6c42 ```python import websockets import asyncio async def main(): async with websockets.connect('ws://127.0.0.1:8848/python/?name=wencai') as ws: print('\u8fde\u63a5') await ws.send('python\u53d1\u9001\u7684\u8bf7\u6c42') msg = await ws.recv() print('\u670d\u52a1\u5668\u53d1\u56de\u7684\u6d88\u606f\uff1a', msg) if name == ' main ': asyncio.run(main()) ``` \u670d\u52a1\u7aef pip install websockets ```python import websockets import asyncio import re # \u5b58\u50a8ws\u8fde\u63a5\u5bf9\u8c61 python_server = {} js_server = {} # \u5904\u7406\u4e8b\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u8fd8\u662fpython\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42 async def register(ws, path): # \u6839\u636e\u8bf7\u6c42\u7c7b\u578b\u4e0d\u540c\u5b58\u50a8\u5bf9\u5e94\u7684\u5bf9\u8c61 obj = re.compile(r\"/(?P . ?)/\\?name=(?P . )\") search_result = obj.search(path) action = search_result.group(\"action\") name = search_result.group(\"name\") print(name,'name') # \u5224\u65ad\u662f\u6d4f\u89c8\u5668\u8fd8\u662fpython\u7aef if action == 'browser': js_server[name] = ws return action, name elif action == 'python': python_server[name] = ws return action, name async def handle(ws, path): print(ws, path, '------') action,name = await register(ws, path) async for msg in ws: if action == 'browser': print('\u63a5\u53d7\u5230\u4e86browser\u4f20\u9012\u8fc7\u6765\u7684\u8bf7\u6c42=====', msg) # \u628a\u6d4f\u89c8\u5668\u7aef\u6570\u636e\u53d1\u7ed9python\u7aef await python_server[name].send(msg) elif action == 'python': print('\u63a5\u53d7\u5230\u4e86python\u4f20\u9012\u8fc7\u6765\u7684\u8bf7\u6c42=====', msg) await js_server[name].send(msg) async def main(): async with websockets.serve(handle, '127.0.0.1', 8848) as wbs: print('\u6210\u529f\u542f\u52a8\u4e86websocket\u670d\u52a1') await asyncio.Future() if name == ' main ': asyncio.run(main()) ``` \u5f02\u6b65\u7684web\u670d\u52a1\u7aef \u7528\u4e8e\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u7684\u63a5\u53e3 \u5b89\u88c5 pip install sanic ```python from sanic import Sanic, HTTPResponse import websockets import asyncio app = Sanic( name ) import json @app.route(\"/get\", methods=[\"GET\", \"POST\"]) async def func(req): # \u5728\u8fd9\u91cc. \u4f60\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570. \u6307\u5b9a\u54ea\u4e2a\u9879\u76ee rs4 # \u5728url\u4e0a\u9762\u4f20\u53c2\u8fc7\u6765 project_name = req.args.get(\"project_name\") # \u6211\u5236\u5b9a\u7684\u89c4\u5219\u662f: # url\u4e0a\u9762\u4f20\u9012\u7684\u53c2\u6570: project_name. # \u8be5\u9879\u76ee\u9700\u8981\u7684\u5176\u4ed6\u53c2\u6570, \u5168\u90e8\u901a\u8fc7json\u7684\u5f62\u5f0f\u4f20\u9012\u8fc7\u6765 # \u5f3a\u5236\u89c4\u5b9a\u4e86. \u6709\u53c2\u6570\u5fc5\u987b\u8d70post. \u53c2\u6570\u901a\u8fc7json\u4f20\u9012\u8fc7\u6765.... # \u6b64\u65f6\u6d4f\u89c8\u5668\u4e0a\u5c31\u65e0\u6cd5\u5b8c\u6210\u6d4b\u8bd5\u4e86.... project_params = req.json # {url: \"xxxxx\"} if not project_params: project_params = \"\u6ca1\u53c2\u6570\" if project_name: async with websockets.connect(f\"ws://127.0.0.1:8848/python/?name={project_name}\") as ws: await ws.send(json.dumps(project_params)) # \u53d1\u9001\u6570\u636e\u8fc7\u53bb print(\"\u8fde\u63a5\u6210\u529f\u4e86\") ret = await ws.recv() return HTTPResponse(ret) else: return HTTPResponse(\"\u81f3\u5c11\u8981\u7ed9\u6211\u4e00\u4e2aproject_name\") if name == ' main ': app.run() ```","title":"\u4e09\u5341\u4e00\u3001RPC"},{"location":"31%E3%80%81rpc.html#rpc","text":"js\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u8bf7\u6c42 javascript ws = new WebSocket('ws://127.0.0.1:8848/browser/?name=wencai'); ws.onmessage = function (msg) { // console.log('\u63a5\u53d7\u670d\u52a1\u5668\u7aef\u6d88\u606f=====',msg.data) ws.send('123456789') } Python\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u8bf7\u6c42 ```python import websockets import asyncio async def main(): async with websockets.connect('ws://127.0.0.1:8848/python/?name=wencai') as ws: print('\u8fde\u63a5') await ws.send('python\u53d1\u9001\u7684\u8bf7\u6c42') msg = await ws.recv() print('\u670d\u52a1\u5668\u53d1\u56de\u7684\u6d88\u606f\uff1a', msg) if name == ' main ': asyncio.run(main()) ``` \u670d\u52a1\u7aef pip install websockets ```python import websockets import asyncio import re # \u5b58\u50a8ws\u8fde\u63a5\u5bf9\u8c61 python_server = {} js_server = {} # \u5904\u7406\u4e8b\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u8fd8\u662fpython\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42 async def register(ws, path): # \u6839\u636e\u8bf7\u6c42\u7c7b\u578b\u4e0d\u540c\u5b58\u50a8\u5bf9\u5e94\u7684\u5bf9\u8c61 obj = re.compile(r\"/(?P . ?)/\\?name=(?P . )\") search_result = obj.search(path) action = search_result.group(\"action\") name = search_result.group(\"name\") print(name,'name') # \u5224\u65ad\u662f\u6d4f\u89c8\u5668\u8fd8\u662fpython\u7aef if action == 'browser': js_server[name] = ws return action, name elif action == 'python': python_server[name] = ws return action, name async def handle(ws, path): print(ws, path, '------') action,name = await register(ws, path) async for msg in ws: if action == 'browser': print('\u63a5\u53d7\u5230\u4e86browser\u4f20\u9012\u8fc7\u6765\u7684\u8bf7\u6c42=====', msg) # \u628a\u6d4f\u89c8\u5668\u7aef\u6570\u636e\u53d1\u7ed9python\u7aef await python_server[name].send(msg) elif action == 'python': print('\u63a5\u53d7\u5230\u4e86python\u4f20\u9012\u8fc7\u6765\u7684\u8bf7\u6c42=====', msg) await js_server[name].send(msg) async def main(): async with websockets.serve(handle, '127.0.0.1', 8848) as wbs: print('\u6210\u529f\u542f\u52a8\u4e86websocket\u670d\u52a1') await asyncio.Future() if name == ' main ': asyncio.run(main()) ``` \u5f02\u6b65\u7684web\u670d\u52a1\u7aef \u7528\u4e8e\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u7684\u63a5\u53e3 \u5b89\u88c5 pip install sanic ```python from sanic import Sanic, HTTPResponse import websockets import asyncio app = Sanic( name ) import json @app.route(\"/get\", methods=[\"GET\", \"POST\"]) async def func(req): # \u5728\u8fd9\u91cc. \u4f60\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570. \u6307\u5b9a\u54ea\u4e2a\u9879\u76ee rs4 # \u5728url\u4e0a\u9762\u4f20\u53c2\u8fc7\u6765 project_name = req.args.get(\"project_name\") # \u6211\u5236\u5b9a\u7684\u89c4\u5219\u662f: # url\u4e0a\u9762\u4f20\u9012\u7684\u53c2\u6570: project_name. # \u8be5\u9879\u76ee\u9700\u8981\u7684\u5176\u4ed6\u53c2\u6570, \u5168\u90e8\u901a\u8fc7json\u7684\u5f62\u5f0f\u4f20\u9012\u8fc7\u6765 # \u5f3a\u5236\u89c4\u5b9a\u4e86. \u6709\u53c2\u6570\u5fc5\u987b\u8d70post. \u53c2\u6570\u901a\u8fc7json\u4f20\u9012\u8fc7\u6765.... # \u6b64\u65f6\u6d4f\u89c8\u5668\u4e0a\u5c31\u65e0\u6cd5\u5b8c\u6210\u6d4b\u8bd5\u4e86.... project_params = req.json # {url: \"xxxxx\"} if not project_params: project_params = \"\u6ca1\u53c2\u6570\" if project_name: async with websockets.connect(f\"ws://127.0.0.1:8848/python/?name={project_name}\") as ws: await ws.send(json.dumps(project_params)) # \u53d1\u9001\u6570\u636e\u8fc7\u53bb print(\"\u8fde\u63a5\u6210\u529f\u4e86\") ret = await ws.recv() return HTTPResponse(ret) else: return HTTPResponse(\"\u81f3\u5c11\u8981\u7ed9\u6211\u4e00\u4e2aproject_name\") if name == ' main ': app.run() ```","title":"\u4e09\u5341\u4e00\u3001RPC"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html","text":"\u4e09\u5341\u4e8c\u3001TLS\u6307\u7eb9\u7ed5\u8fc7 \u4ec0\u4e48\u662fTLS\u6307\u7eb9\u6821\u9a8c? \u5ba2\u6237\u7aef http \u670d\u52a1\u7aef \u5ba2\u6237\u7aef https = TLS/SSL + http \u670d\u52a1\u7aef \u4e5f\u5c31\u662f\u8bf4\uff0cTLS\u53ea\u5b58\u5728\u4e8ehttps\u8bf7\u6c42\u4e2d \u670d\u52a1\u7aef\u63a5\u6536\u8bf7\u6c42\u540e \uff1a \u200b \u7b2c1\u6b21 TLS/SSL(\u63e1\u624b\u901a\u8fc7/\u4e0d\u901a\u8fc7) \u200b \u7b2c2\u6b21 http(\u6570\u636e) \u89c6\u9891\u8d44\u6599 https://www.bilibili.com/video/BV16u4y1j7eN?vd_source=87cd9028314be53c0d99d132ffe7796d&spm_id_from=333.788.player.switch&p=2 1\u3001\u6848\u4f8b \u7f51\u7ad9\uff1ahttps://ascii2d.net/ \u6d4f\u89c8\u5668\u8bbf\u95ee \u4ee3\u7801\u8bbf\u95ee import requests url = \"https://ascii2d.net/\" res = requests.get(url,headers={'user-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac os x 10_15_7) ApplewebKit/537.36 (KHTML, like Gecko)Chrome/96.0.4664.93 safari/537.36'}) print(res.text) \u8fd4\u56de\u7ed3\u679c 2\u3001\u68c0\u6d4b\u5e76\u8fd4\u56de\u6307\u7eb9\u4fe1\u606f \u7f51\u5740\uff1a https://tls.browserleaks.com/json 3\u3001\u66f4\u7ec6\u81f4\u5206\u6790TLS\u5de5\u5177 (1) \u7f51\u5740\u548c\u4e0b\u8f7d \u7f51\u5740 \uff1ahttps://www.wireshark.org/download.html \u5982\u679c\u60f3\u8981\u66f4\u7ec6\u81f4\u5206\u6790TLS\u3001\u53ef\u4ee5\u4f7f\u7528wireshark (2) \u6293\u7f51\u5361 \u6253\u5f00wireshark\uff0c\u9009\u62e9\u8981\u6293\u5305\u76d1\u6d4b\u7684\u7f51\u5361\uff0c\u9009\u62e9\u4f60\u4e0a\u7f51\u4f7f\u7528\u7684\u90a3\u4e2a\u7f51\u5361\u3002 (3) \u7b5b\u9009IP \u83b7\u53d6\u57df\u540dip\u5e76\u7b5b\u9009 (4) \u67e5\u770b\u4ee3\u7801/\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\u7684TLS\u6307\u7eb9 2\u3001\u7ed5\u8fc7TLS\u6307\u7eb9 (1) \u65b9\u5f0f\u4e00 urllib3\u89e3\u51b3\uff08\u6709\u7684\u53ef\u80fd\u4e0d\u8fc7\uff0c\u56e0\u4e3a\u8fd8\u4f1a\u68c0\u6d4b\u522b\u7684\u503c\uff09 requests\u53d1\u9001\u8bf7\u6c42\u4f9d\u8d56\u4e8e -> urllib3 \u90a3\u4e48\u5f53\u524d\u4ee3\u7801\u4e2d\u751f\u6210\u6307\u7eb9\u7684\u4f4d\u7f6e \u6ce8\u610f\u7248\u672c(\u5982\u679c\u4f60\u5f53\u524d\u7684\u7248\u672c\u641c\u4e0d\u5230\u3001\u90a3\u4e48\u5c1d\u8bd5\u964d\u4f4e\u7248\u672c\u5b89\u88c5\u4ee5\u4e0b\u7248\u672c\u5728\u67e5\u627e) pip install urllib3==1.26.15 pip install urllib3==1.26.16 pip install urllib3=-2.0.7 import requests urllib3.util.ssl_.DEFAULT_CIPHERS =\":\".join([ # \"ECDHE+AESGCM\" # \"ECDHE+CHACHA20\" # \"DHE+AESGCM\"\uff0c # \"DHE+CHACHA20\" # \"ECDH+AESGCM\" # \"DH+AESGCM\" # \"ECDH+AES\" \"DH+AES\", \"RSA+AESGCM\", \"RSA+AES\", \"!aNULL\", \"!eNULL\", \"!MD5\", \"!DSS\", ]) url = \"https://tls.browserleaks.com/json\" res = requests.get(url,headers={'user-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac os x 10_15_7) ApplewebKit/537.36 (KHTML, like Gecko)Chrome/96.0.4664.93 safari/537.36'}) print(res.json()) \u8bf4\u660e\uff1a \u6ce8\u91ca\u6389\u4e00\u4e9b\u5185\u5bb9\uff0c\u4f7f\u5f53\u524d\u7684\u503c\u53d1\u751f\u66f4\u6539\uff0c\u4ee5\u7ed5\u8fc7SSL\u6307\u7eb9 (2) \u65b9\u5f0f\u4e8c curl-cffi \u89e3\u51b3\uff08\u63a8\u8350\uff09 \u6a21\u5757\u5730\u5740\uff1a https://pypi.org/project/curl-cffi/#description curl\u662f\u4e00\u4e2a\u53ef\u4ee5\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u7684\u5de5\u5177 curl-impersonate\u662f\u4e00\u4e2a\u57fa\u4e8ecurl\u57fa\u7840\u4e0a\u8fdb\u884c\u5f00\u53d1\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u53ef\u4ee5\u5b8c\u7f8e\u7684\u6a21\u62df\u4e3b\u6d41\u7684\u6d4f\u89c8\u5668 curl_cffi\uff0c\u662f\u5957\u58f3curl-impersonate\uff0c\u8ba9\u6b64\u5de5\u5177\u53ef\u4ee5\u66f4\u65b9\u4fbf\u7684\u5e94\u7528\u5728Python\u4e2d\u3002 \u5b89\u88c5 pip install curl-cffi \u4f7f\u7528 from curl_cffi import requests # TLS\u68c0\u6d4b\u7f51\u7ad9 url = \"https://ascii2d.net/\" res = requests.get(url,headers={'user-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac os x 10_15_7) ApplewebKit/537.36 (KHTML, like Gecko)Chrome/96.0.4664.93 safari/537.36'},impersonate=\"chrome101\") print(res.text)","title":"\u4e09\u5341\u4e8c\u3001TLS\u6307\u7eb9\u7ed5\u8fc7"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#tls","text":"\u4ec0\u4e48\u662fTLS\u6307\u7eb9\u6821\u9a8c? \u5ba2\u6237\u7aef http \u670d\u52a1\u7aef \u5ba2\u6237\u7aef https = TLS/SSL + http \u670d\u52a1\u7aef \u4e5f\u5c31\u662f\u8bf4\uff0cTLS\u53ea\u5b58\u5728\u4e8ehttps\u8bf7\u6c42\u4e2d \u670d\u52a1\u7aef\u63a5\u6536\u8bf7\u6c42\u540e \uff1a \u200b \u7b2c1\u6b21 TLS/SSL(\u63e1\u624b\u901a\u8fc7/\u4e0d\u901a\u8fc7) \u200b \u7b2c2\u6b21 http(\u6570\u636e) \u89c6\u9891\u8d44\u6599 https://www.bilibili.com/video/BV16u4y1j7eN?vd_source=87cd9028314be53c0d99d132ffe7796d&spm_id_from=333.788.player.switch&p=2","title":"\u4e09\u5341\u4e8c\u3001TLS\u6307\u7eb9\u7ed5\u8fc7"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#1","text":"\u7f51\u7ad9\uff1ahttps://ascii2d.net/ \u6d4f\u89c8\u5668\u8bbf\u95ee \u4ee3\u7801\u8bbf\u95ee import requests url = \"https://ascii2d.net/\" res = requests.get(url,headers={'user-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac os x 10_15_7) ApplewebKit/537.36 (KHTML, like Gecko)Chrome/96.0.4664.93 safari/537.36'}) print(res.text) \u8fd4\u56de\u7ed3\u679c","title":"1\u3001\u6848\u4f8b"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#2","text":"\u7f51\u5740\uff1a https://tls.browserleaks.com/json","title":"2\u3001\u68c0\u6d4b\u5e76\u8fd4\u56de\u6307\u7eb9\u4fe1\u606f"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#3tls","text":"","title":"3\u3001\u66f4\u7ec6\u81f4\u5206\u6790TLS\u5de5\u5177"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#1_1","text":"\u7f51\u5740 \uff1ahttps://www.wireshark.org/download.html \u5982\u679c\u60f3\u8981\u66f4\u7ec6\u81f4\u5206\u6790TLS\u3001\u53ef\u4ee5\u4f7f\u7528wireshark","title":"(1) \u7f51\u5740\u548c\u4e0b\u8f7d"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#2_1","text":"\u6253\u5f00wireshark\uff0c\u9009\u62e9\u8981\u6293\u5305\u76d1\u6d4b\u7684\u7f51\u5361\uff0c\u9009\u62e9\u4f60\u4e0a\u7f51\u4f7f\u7528\u7684\u90a3\u4e2a\u7f51\u5361\u3002","title":"(2) \u6293\u7f51\u5361"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#3-ip","text":"\u83b7\u53d6\u57df\u540dip\u5e76\u7b5b\u9009","title":"(3) \u7b5b\u9009IP"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#4-tls","text":"","title":"(4) \u67e5\u770b\u4ee3\u7801/\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\u7684TLS\u6307\u7eb9"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#2tls","text":"","title":"2\u3001\u7ed5\u8fc7TLS\u6307\u7eb9"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#1_2","text":"urllib3\u89e3\u51b3\uff08\u6709\u7684\u53ef\u80fd\u4e0d\u8fc7\uff0c\u56e0\u4e3a\u8fd8\u4f1a\u68c0\u6d4b\u522b\u7684\u503c\uff09 requests\u53d1\u9001\u8bf7\u6c42\u4f9d\u8d56\u4e8e -> urllib3 \u90a3\u4e48\u5f53\u524d\u4ee3\u7801\u4e2d\u751f\u6210\u6307\u7eb9\u7684\u4f4d\u7f6e \u6ce8\u610f\u7248\u672c(\u5982\u679c\u4f60\u5f53\u524d\u7684\u7248\u672c\u641c\u4e0d\u5230\u3001\u90a3\u4e48\u5c1d\u8bd5\u964d\u4f4e\u7248\u672c\u5b89\u88c5\u4ee5\u4e0b\u7248\u672c\u5728\u67e5\u627e) pip install urllib3==1.26.15 pip install urllib3==1.26.16 pip install urllib3=-2.0.7 import requests urllib3.util.ssl_.DEFAULT_CIPHERS =\":\".join([ # \"ECDHE+AESGCM\" # \"ECDHE+CHACHA20\" # \"DHE+AESGCM\"\uff0c # \"DHE+CHACHA20\" # \"ECDH+AESGCM\" # \"DH+AESGCM\" # \"ECDH+AES\" \"DH+AES\", \"RSA+AESGCM\", \"RSA+AES\", \"!aNULL\", \"!eNULL\", \"!MD5\", \"!DSS\", ]) url = \"https://tls.browserleaks.com/json\" res = requests.get(url,headers={'user-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac os x 10_15_7) ApplewebKit/537.36 (KHTML, like Gecko)Chrome/96.0.4664.93 safari/537.36'}) print(res.json()) \u8bf4\u660e\uff1a \u6ce8\u91ca\u6389\u4e00\u4e9b\u5185\u5bb9\uff0c\u4f7f\u5f53\u524d\u7684\u503c\u53d1\u751f\u66f4\u6539\uff0c\u4ee5\u7ed5\u8fc7SSL\u6307\u7eb9","title":"(1) \u65b9\u5f0f\u4e00"},{"location":"32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html#2_2","text":"curl-cffi \u89e3\u51b3\uff08\u63a8\u8350\uff09 \u6a21\u5757\u5730\u5740\uff1a https://pypi.org/project/curl-cffi/#description curl\u662f\u4e00\u4e2a\u53ef\u4ee5\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u7684\u5de5\u5177 curl-impersonate\u662f\u4e00\u4e2a\u57fa\u4e8ecurl\u57fa\u7840\u4e0a\u8fdb\u884c\u5f00\u53d1\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u53ef\u4ee5\u5b8c\u7f8e\u7684\u6a21\u62df\u4e3b\u6d41\u7684\u6d4f\u89c8\u5668 curl_cffi\uff0c\u662f\u5957\u58f3curl-impersonate\uff0c\u8ba9\u6b64\u5de5\u5177\u53ef\u4ee5\u66f4\u65b9\u4fbf\u7684\u5e94\u7528\u5728Python\u4e2d\u3002 \u5b89\u88c5 pip install curl-cffi \u4f7f\u7528 from curl_cffi import requests # TLS\u68c0\u6d4b\u7f51\u7ad9 url = \"https://ascii2d.net/\" res = requests.get(url,headers={'user-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac os x 10_15_7) ApplewebKit/537.36 (KHTML, like Gecko)Chrome/96.0.4664.93 safari/537.36'},impersonate=\"chrome101\") print(res.text)","title":"(2) \u65b9\u5f0f\u4e8c"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html","text":"\u4e09\u5341\u4e09\u3001\u9ad8\u7ea7\u9006\u5411 \u4e00\u3001JavaScript\u57fa\u7840\u4e0e\u8fdb\u9636 1.1\u3001JavaScript\u57fa\u7840\u8bed\u6cd5 \u30101\u3011JavaScript\u521d\u8bc6 JavaScript \u662f\u4e00\u79cd\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\uff08\u5373\u7528\u6237\u7684\u6d4f\u89c8\u5668\uff09\u4e0a\u8fd0\u884c\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u5b83\u662f\u4e00\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u53ef\u4ee5\u76f4\u63a5\u5d4c\u5165\u5230 HTML \u9875\u9762\u4e2d\uff0c\u5e76\u7531\u6d4f\u89c8\u5668\u89e3\u91ca\u548c\u6267\u884c\u3002 \u5728\u5ba2\u6237\u7aef\u73af\u5883\u4e2d\uff0cJavaScript \u53ef\u4ee5\u4e0e\u7528\u6237\u4ea4\u4e92\uff0c\u64cd\u4f5c\u548c\u4fee\u6539\u7f51\u9875\u7684\u5185\u5bb9\u3001\u7ed3\u6784\u548c\u6837\u5f0f\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u5904\u7406\u7528\u6237\u8f93\u5165\u3001\u54cd\u5e94\u4e8b\u4ef6\u3001\u8fdb\u884c\u8868\u5355\u9a8c\u8bc1\u3001\u521b\u5efa\u52a8\u6001\u6548\u679c\u7b49\u3002JavaScript \u8fd8\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684 API \u8bbf\u95ee\u6d4f\u89c8\u5668\u529f\u80fd\uff0c\u4f8b\u5982\u64cd\u4f5c DOM\uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u3001\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u3001\u5904\u7406\u672c\u5730\u5b58\u50a8\u7b49\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u4e5f\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u7aef\u8fd0\u884c\uff0c\u4f8b\u5982\u4f7f\u7528 Node.js \u73af\u5883\u3002\u5728\u670d\u52a1\u5668\u7aef\uff0cJavaScript \u53ef\u4ee5\u7528\u4e8e\u6784\u5efa\u7f51\u7edc\u5e94\u7528\u3001\u5904\u7406\u540e\u7aef\u903b\u8f91\u7b49\u3002\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u5e76\u4e0d\u662f\u5178\u578b\u7684\u201c\u5ba2\u6237\u7aef\u8bed\u8a00\u201d\uff0c\u800c\u662f\u4f5c\u4e3a\u4e00\u79cd\u901a\u7528\u7684\u811a\u672c\u8bed\u8a00\u4f7f\u7528\u3002 demo\u670d\u52a1\u7aef\uff1a from flask import Flask, render_template, jsonify import datetime app = Flask(__name__, template_folder=\"templates\", static_folder='static') @app.get(\"/index\") def index(): timer = datetime.datetime.now().strftime(\"%Y-%m-%d:%X\") return render_template(\"index.html\", **{\"timer\": timer}) @app.get(\"/books\") def get_books(): # \u6570\u636e\u5e93\u83b7\u53d6\u4e66\u7c4d books = [\"\u804a\u658b\u5fd7\u5f02\", \"\u91d1\u74f6\u6885\", \"\u56fd\u8272\u5929\u9999\", \"\u526a\u706f\u65b0\u8bdd\"] return jsonify(books) app.run() demo\u5ba2\u6237\u7aef\uff1a <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> p { color: rebeccapurple; } </style> </head> <body> <h3>Hello Alex!</h3> <p>\u5f53\u524d\u65f6\u95f4\uff1a{{timer}}</p> <p class=\"books\">\u56db\u5927\u540d\u8457</p> <p class=\"books_box\"></p> <script> var dom = document.getElementsByTagName(\"h3\")[0] dom.onclick = function () { this.style.color = \"green\" } </script> <script src=\"https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.js\"></script> <script> $(\".books\").click(function () { $.ajax({ url: \"http://127.0.0.1:5000/books\", success: function (res) { console.log(\"\u54cd\u5e94\u6570\u636e:\", res); $(\".books_box\").append(res.join(\"\uff0c\")) } }) }) </script> </body> </html> \u767b\u9646\u9875\u9762\uff1a <!DOCTYPE html> <html> <head> <title>Login</title> <meta charset=\"utf8\"> <script> function validateForm() { var username = document.getElementById(\"username\").value; // \u9a8c\u8bc1\u7528\u6237\u540d\u662f\u5426\u4e3a\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u6216\u624b\u673a\u53f7\u7801 var emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/; var phoneRegex = /^\\d{10}$/; if (!emailRegex.test(username) && !phoneRegex.test(username)) { alert(\"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u6216\u624b\u673a\u53f7\u7801\u4f5c\u4e3a\u7528\u6237\u540d\uff01\"); return false; // \u9a8c\u8bc1\u5931\u8d25\uff0c\u963b\u6b62\u8868\u5355\u63d0\u4ea4 } } </script> </head> <body> <h1>Login</h1> <form onsubmit=\"return validateForm()\"> <label for=\"username\">Username:</label> <input type=\"text\" id=\"username\" name=\"username\" required> <br><br> <label for=\"password\">Password:</label> <input type=\"password\" id=\"password\" name=\"password\" required> <br><br> <input type=\"submit\" value=\"Login\"> </form> </body> </html> \u30102\u3011\u57fa\u672c\u8bed\u6cd5 // JS\u4ee3\u7801\u5bfc\u5165\u65b9\u5f0f\uff1a // 1 \u76f4\u63a5\u7f16\u5199 /* <script> console.log('hello yuan') </script> */ // 2 \u5bfc\u5165\u6587\u4ef6 // <script src=\"hello.js\"></script> // \u5355\u884c\u6ce8\u91ca /* \u8fd9\u662f \u591a\u884c \u6ce8\u91ca */ // \u8bed\u53e5\u5206\u9694\u7b26 ; \u8868\u793a\u4e00\u884c\u4ee3\u7801\u7684\u7ed3\u675f \u30103\u3011\u53d8\u91cf\u4e0e\u6570\u636e\u7c7b\u578b // (1) \u58f0\u660e\u53d8\u91cf var x; // \u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u53ebx, x\u6ca1\u6709\u503c. \u6b64\u65f6\u6253\u5370x\u7684\u5185\u5bb9\u662fundefined(\u6ca1\u6709\u88ab\u5b9a\u4e49) x = 10 console.log(x); // (2) \u57fa\u672c\u6570\u636e\u7c7b\u578b\uff1anumber string bool var x = 3.1415; console.log(typeof x); // \u53ef\u4ee5\u67e5\u770b\u6570\u636e\u7c7b\u578b. \u4f46\u662f\u53ea\u80fd\u770b\u57fa\u7840\u6570\u636e\u7c7b\u578b. var x = \"hello yuan\"; console.log(typeof x); // string \u5b57\u7b26\u4e32 var x1 = true; var x2 = false; // \u5e03\u5c14\u503c. python\u91cc\u9762\u662f\u5927\u5199\u7684. js\u91cc\u9762\u662f\u5c0f\u5199. console.log(typeof x1); // boolean \u5e03\u5c14. python\u7b80\u5316\u6210bool // (3) \u9ad8\u7ea7\u6570\u636e\u7c7b\u578b\uff1a \u6570\u7ec4[] \u5bf9\u8c61{} var x = [1,2,3]; // \u6570\u7ec4. => python\u7684\u5217\u8868. console.log(typeof x); // \u7c7b\u578b\u53ebobject var x = {name:\"yuan\",age:22}; // \u5bf9\u8c61 => python\u7684\u5b57\u5178. console.log(typeof x); // \u4e5f\u662fobject // (4) \u4e24\u4e2a\u7279\u6b8a\u503c: undefined null var x; // undefined console.log(typeof x); // undefined\u7c7b\u578b... \u4e0d\u5360\u7528\u5185\u5b58\u7a7a\u95f4\u7684 var x = null; // \u7a7a.... \u662fpython\u7684None, \u8981\u4f7f\u7528\u5806\u5185\u5b58\u7684.... console.log(typeof x); // object\u7c7b\u578b // \u4e00\u6b21\u6027\u53ef\u4ee5\u58f0\u660e\u591a\u4e2a\u53d8\u91cf var name=\"yuan\", age=20, job=\"lecturer\"; var a, b, c=3, d, e = 5; // \u4ece\u5de6\u5230\u53f3,\u58f0\u660e5\u4e2a\u53d8\u91cf, \u5176\u4e2d, c=3, e=5 \u7c7b\u578b\u8f6c\u6362\uff1a // \u5728js\u4e2d. \u6240\u6709\u7684\u6570\u636e\u548c\u5b57\u7b26\u4e32\u76f8\u52a0. \u7ed3\u679c\u90fd\u662f\u5b57\u7b26\u4e32\u62fc\u63a5.(\u91cd\u70b9) var a = 123; var b = \"\u6211\u7231\u4f60\"; console.log(a + b); console.log(1+1); // 2 var a = \"123\"; // \u5b57\u7b26\u4e32 // \u5b57\u7b26\u4e32\u8f6c\u5316\u6210\u6574\u6570 // parse \u8f6c\u6362 // Int \u6574\u6570 a = parseInt(a); console.log(a + 3); // 126 \u6570\u5b66\u4e0a\u7684\u52a0\u6cd5. \u8bc1\u660e\u8f6c\u5316\u6210\u529f\u4e86. var a = 123; // \u8f6c\u5316\u6210\u5b57\u7b26\u4e32 var b = a.toString(); // \u628a\u6570\u5b57, \u8f6c\u5316\u6210\u5b57\u7b26\u4e32 console.log(b + 3); //\"1233\" // \u4e00\u822c\u7684\u7a0b\u5e8f\u5458\u4e0d\u7528toString()\u7684. var a = 123; var b = a + \"\"; // \u5728\u9006\u5411\u7684\u8fc7\u7a0b\u4e2d. \u8fd9\u79cd\u5199\u6cd5\u662f\u6700\u591a\u7684. console.log(b+333); // \"123333\" \u5b57\u7b26\u4e32 var a = 123; // \u6570\u5b57\u7684toString()\u53ef\u4ee5\u6307\u5b9a\u8fdb\u5236 var b = a.toString(16); console.log(b); var m = '7b'; // \u773c\u775b\u770b\u7740\u662f\u5b57\u7b26\u4e32. \u4f46\u662f\u6211\u4eec\u77e5\u9053\u5b83\u5e94\u8be5\u662f\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u7684\u5b57\u7b26\u4e32. // \u5b57\u7b26\u4e32, \u8f6c\u5316\u6210\u6574\u6570 parseInt var n = parseInt(m, 16); console.log(n) \u30104\u3011\u8fd0\u7b97\u7b26 // \uff081\uff09 \u79d1\u5b66\u8fd0\u7b97\u7b26 + - * / % // \uff082\uff09\u6bd4\u8f83\u8fd0\u7b97\u7b26 > < <= >= === !== // \uff083\uff09 \u8d4b\u503c\u8fd0\u7b97\u7b26 += -= *= /= ++ // \u5728\u5355\u72ec\u4f7f\u7528a++\u548c++a\u662f\u6ca1\u6709\u533a\u522b\u7684. \u90fd\u662f\u8ba9a\u81ea\u589e1 var b = a ++; // \u5148\u8d4b\u503c, \u540e\u8fd0\u7b97... console.log(a); // 11 console.log(b); // 10 var b = ++ a; // \u5148\u8ba1\u7b97, \u540e\u8d4b\u503c console.log(a); console.log(b); // \uff084\uff09\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a Python\u4e2d\u7684and, or, not // &&, \u5e76\u4e14, \u5de6\u53f3\u4e24\u7aef\u5fc5\u987b\u540c\u65f6\u4e3a\u771f, \u7ed3\u679c\u624d\u80fd\u662f\u771f.. // ||, \u6216\u8005, \u5de6\u53f3\u4e24\u7aef, \u6709\u4e00\u4e2a\u662f\u771f, \u7ed3\u679c\u5c31\u662f\u771f // !, \u975e/\u4e0d, \u975e\u771f\u5373\u5047, \u975e\u5047\u65e2\u771f. console.log(1 > 2 || 3 < 5); console.log(1 > 2 && 3 < 5); console.log(!true); console.log(!false); // x() && y() // \u8be5\u903b\u8f91\u53eb\u77ed\u8def...\u5982\u679c\u524d\u9762\u7684\u8868\u8fbe\u5f0f\u5df2\u7ecf\u5f97\u5230\u7ed3\u679c\u4e86. \u540e\u9762\u5c31\u4e0d\u8fd0\u884c\u4e86. \u76f8\u540c\u7684\u903b\u8f91\u8fd8\u6709|| // \u5982\u679cx()\u8fd4\u56de\u771f. \u5219\u8fd0\u884cy() // \u5982\u679cx()\u8fd4\u56de\u5047, \u5219\u4e0d\u8fd0\u884cy(). \u76f4\u63a5\u7ed3\u675f\u5224\u65ad\u4e86. // \uff085\uff09\u9017\u53f7\u8fd0\u7b97\u7b26 a = 1,2,3,4 b = (1,\"yuan\",true) // \uff086\uff09\u4e09\u76ee\u8fd0\u7b97\uff1a\u6761\u4ef6? \u6210\u7acb: \u4e0d\u6210\u7acb // \u6848\u4f8b1 var a = 100; var b = 20; var c = a > b ? a: b; console.log(c); // \u6848\u4f8b2:\u7ec8\u6781\u4e00\u7ec3 let a = 10; let b = 20; let c = 5; let d = 17; let e; let m; e = (e = a > 3 ? b : c, m = e < b++ ? c-- : a = 3 > b % d ? 27: 37, m++); // e = a > 3 ? b : c; // e = 20 // b = 21 , m \u548c a\u90fd\u662f37 // m = e < b++ ? c-- : a = 3 > b % d ? 27: 37; // e = m++; // e 37 m 38 a 37 \u30105\u3011\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5 \u5206\u652f\u8bed\u53e5 // \u5206\u652f\u8bed\u53e5 if(\u6761\u4ef6){ // \u6761\u4ef6\u4e3atrue\u65f6,\u6267\u884c\u7684\u4ee3\u7801 }else{ // \u6761\u4ef6\u4e3afalse\u65f6,\u6267\u884c\u7684\u4ee3\u7801 } switch(\u6761\u4ef6){ case \u7ed3\u679c1: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c1\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; case \u7ed3\u679c2: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c2\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; ... default: // \u6761\u4ef6\u548c\u4e0a\u8ff0\u6240\u6709\u7ed3\u679c\u90fd\u4e0d\u76f8\u7b49\u65f6,\u5219\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \uff081\uff09\u53cc\u5206\u652f var age = 23 if (age > 18) { console.log(\"\u64ad\u653e\u6210\u4eba\u7535\u5f71\uff01\") } else { console.log(\"\u64ad\u653e\u672a\u6210\u5e74\u7535\u5f71\") } // \uff082\uff09\u591a\u5206\u652f var score = 45; if (score >= 90) { console.log(\"A\"); } else if (score >= 80) { console.log(\"B\"); } else if (score >= 70) { console.log(\"C\"); } else if (score >= 60) { console.log(\"D\"); } else { console.log(\"E\"); } // \uff083\uff09switch\u591a\u5206\u652f var week = 3; switch(week){ case 1: console.log(\"\u661f\u671f\u4e00\"); break; case 2: console.log(\"\u661f\u671f\u4e8c\"); break; case 3: // \u67d0\u4e00\u4e2acase\u5339\u914d\u6210\u529f. \u90a3\u4e48\u540e\u9762\u7684case\u5c31\u4e0d\u5224\u65ad\u4e86, \u76f4\u63a5\u88ab\u6267\u884c. console.log(\"\u661f\u671f\u4e09\"); break; case 4: console.log(\"\u661f\u671f\u56db\"); break; case 5: console.log(\"\u661f\u671f\u4e94\"); break; case 6: console.log(\"\u661f\u671f\u516d\"); break; case 7: console.log(\"\u661f\u671f\u5929\"); break; default: console.log(\"\u5565\u4e5f\u4e0d\u662f!\"); break; } \u5faa\u73af\u8bed\u53e5 /* // \u5faa\u73af\u8bed\u53e5 while(\u5faa\u73af\u7684\u6761\u4ef6){ // \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \u5faa\u73af\u4e09\u8981\u7d20 for(1.\u58f0\u660e\u5faa\u73af\u7684\u5f00\u59cb; 2.\u6761\u4ef6; 4.\u5faa\u73af\u7684\u8ba1\u6570){ // 3. \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } * 1. \u9996\u5148, \u4f1a\u6267\u884c\u8bed\u53e51, \u901a\u5e38\u4f1a\u5728\u8bed\u53e51\u91cc\u5b8c\u6210\u5bf9\u5faa\u73af\u53d8\u91cf\u7684\u521d\u59cb\u5316 * 2. \u7136\u540e, \u5224\u65ad\u8868\u8fbe\u5f0f2\u8ba1\u7b97\u7684\u7ed3\u679c\u662f\u5426\u662f\u771f, \u5982\u679c\u662f\u771f, \u5219\u6267\u884c\u5faa\u73af\u4f53, \u5982\u679c\u662f\u5047, \u7ed3\u675f\u5faa\u73af * 3. \u6267\u884c\u5b8c\u5faa\u73af\u4f53\u540e. \u6267\u884c\u8868\u8fbe\u5f0f3\uff0c\u7136\u540e\u56de\u5230\u7b2c\u4e8c\u6b65... */ // while \u5faa\u73af var a = 0; // 1. \u521d\u59cb\u53d8\u91cf while (a < 100) { // 2. \u6761\u4ef6\u5224\u65ad console.log(\"\u6211\u7231\u4f60\"); // \u4e1a\u52a1\u9700\u6c42...\u5faa\u73af\u5185\u5bb9... a++; // 3. \u6b65\u8fdb\u8bed\u53e5 } for(var i = 0; i < 10; i++){ console.log(i); } \u30106\u3011\u5b57\u7b26\u4e32\u5bf9\u8c61 // js\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61 var s = \"Hello Yuan \" console.log(s.toUpperCase()) console.log(s.toLowerCase()) console.log(s.slice(0, 5)) console.log(s.split(\" \")) // [\"Hello\",\"Yuan\"] console.log(s.length) console.log(s.trim(\" \").length) console.log(s.trimEnd(\" \").length) console.log(s.indexOf(\"Yuan\")) console.log(s.replace(\"Yuan\",\"Rain\")) console.log(s.startsWith(\"Hel\")) console.log(s.charCodeAt(i)) // \u67d0\u4e2a\u4f4d\u7f6e\u7684\u5b57\u7b26\u7684ascii console.log(s.charAt(i)) // \u7b2ci\u7d22\u5f15\u4f4d\u7f6e\u7684\u5b57\u7b26 s[i] \u30107\u3011\u6570\u7ec4\u5bf9\u8c61 // \u6ce8\u610f, \u524d\u7aefjs\u91cc\u9762\u7684\u6570\u7ec4. \u76f8\u5f53\u4e8epython\u7684\u5217\u8868, java\u7684List // \u521b\u5efa\u6570\u7ec4\u7684\u65b9\u6cd5; // 1. \u76f4\u63a5\u8d4b\u503c\u4e00\u4e2a\u6570\u7ec4 var arr1 = [11,22,33]; console.log(arr1); // new\u8868\u793a\u521b\u5efa\u5bf9\u8c61. \u7406\u89e3\u6210\u5206\u914d\u5185\u5b58. var arr2 = new Array(); // var arr2 = [] // 1. push \u5728\u6570\u7ec4\u7684\u672b\u5c3e\u6dfb\u52a0\u6570\u636e... // 2. pop \u5728\u6570\u7ec4\u7684\u672b\u5c3e\u5220\u9664\u6570\u636e var arr = [11,22,33,44]; arr.push(55); var item = arr.pop(); console.log(item); // 1 unshift \u5728\u6570\u7ec4\u7684\u9996\u4f4d\u6dfb\u52a0\u6570\u636e... 2 shift \u5220\u9664\u6570\u7ec4\u7684\u9996\u4f4d\u6570\u636e var arr = [11,22,33]; arr.unshift(0); // \u5728\u6570\u7ec4\u7684\u524d\u9762\u63d2\u5165\u6570\u636e // console.log(arr); var item = arr.shift(); console.log(item); console.log(arr); var arr = [\"a\",\"b\",\"c\"]; arr.splice(1,1); arr.splice(1,0,\"b\") arr.splice(1,1,\"B\") arr.reverse(); // slice(\u5f00\u59cb\u4e0b\u6807,\u7ed3\u675f\u4e0b\u6807) \u5207\u7247,\u5f00\u533a\u95f4 arr.slice(1,3) var arr = [\"\u5317\u4eac\",\"\u6df1\u5733\",\"\u5e7f\u5dde\"]; console.log(arr.join(\",\")); // \u628a\u6570\u7ec4\u8f6c\u5316\u6210\u5b57\u7b26\u4e32 // \u5faa\u73af\u548c\u904d\u5386 // key 0 1 2 3 4 5 var arr = [\"\u9ad8\u5706\u5706\", \"\u8d75\u4e3d\u9896\", \"\u8303\u51b0\u51b0\", \"\u6ce2\u591a\u91ce\u7ed3\u8863\", \"\u68ee\u6cfd\u4f73\u5948\", \"\u6a58\u68a8\u7eb1\"]; // \u4e09\u8981\u7d20for\u5faa\u73af for(var i = 0; i < arr.length; i++){ console.log(arr[i]); } // for-in for(var x in arr){ // \u6b64\u65f6\u62ff\u5230\u7684\u662f\u6570\u7ec4\u7684\u7d22\u5f15(key) console.log(x); } // for-of for (var x of arr){ // \u6b64\u65f6\u62ff\u5230\u7684\u662f\u6570\u7ec4\u7684\u5143\u7d20(value) console.log(x); } // arr\u4e2d\u7684\u6bcf\u4e00\u9879\u5faa\u73af\u51fa\u6765. \u5206\u522b\u53bb\u8c03\u7528function\u51fd\u6570, \u4f1a\u81ea\u52a8\u7684\u5c06`\u6570\u636e`\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570 arr.forEach(function(e, i){ // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684 console.log(i+\"__\"+e); }); // arr\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u6267\u884c\u91cc\u9762\u4f20\u9012\u8fdb\u53bb\u7684\u51fd\u6570 // \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f \u5143\u7d20\u548c\u7d22\u5f15 console.log(ret); // \u9ad8\u9636\u51fd\u6570 map filter \u30108\u3011object\u5bf9\u8c61 var obj = { \"name\": \"yuan\", age: 18, girl_friend: { name: \"\u9ad8\u5706\u5706\", age: 28 } } // \u5f53\u4ed6\u662fpython\u7684\u5b57\u5178, \u65e0\u7f1d\u8854\u63a5\u7684. `[]` \u4e5f\u53ef\u4ee5\u7ffb\u8bd1\u6210`\u7684` console.log(obj['girl_friend']['name']); // \u5f53\u4ed6\u662f\u5bf9\u8c61... \u5bf9\u8c61.\u5c5e\u6027 `.`\u53ef\u4ee5\u7ffb\u8bd1\u6210`\u7684` console.log(obj.name) console.log(obj.girl_friend.name) // \u5b83\u4fe9\u53ef\u4ee5\u6df7\u7740\u6765. var w = \"girl_friend\" console.log(obj[w].name); console.log(obj.girl_friend['name']); // js\u7684\u5bf9\u8c61\u5728\u4f7f\u7528\u7684\u65f6\u5019. \u65e2\u53ef\u4ee5\u901a\u8fc7`[]`\u6765\u83b7\u53d6\u5c5e\u6027\u7684\u503c. \u4e5f\u53ef\u4ee5\u901a\u8fc7`.`\u6765\u83b7\u53d6\u5c5e\u6027\u7684\u503c // \u533a\u522b: []\u91cc\u9762\u5fc5\u987b\u653e\u5b57\u7b26\u4e32. // .\u540e\u9762\u653e\u7684\u5fc5\u987b\u662f\u5c5e\u6027\u540d(\u4e0d\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32) console.log(obj.girl_friend.name); // 68 // \u5982\u679c\u60f3\u8981\u5bf9\u4ee3\u7801\u8fdb\u884c\u4f2a\u88c5,\u6df7\u6dc6. \u5c31\u4e0d\u80fd\u7528`.` console.log(obj['girl_friend']['name']); // \u9ad8\u5706\u5706 console.log(obj.girl_friend.name); // \u9ad8\u5706\u5706 var obj = {}; obj.name = \"alvin\"; // \u5bf9\u8c61.\u5c5e\u6027 = \u503c. \u53ef\u4ee5\u7ed9\u5bf9\u8c61\u589e\u52a0\u65b0\u7684\u5c5e\u6027(\u8bbe\u7f6e\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027) obj['age'] = 28; console.log(obj); \u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\uff1a \u65b9\u6cd5 \u63cf\u8ff0 JSON.stringify(obj) \u628aobj\u5bf9\u8c61\u8f6c\u6362\u6210json\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u4f1a\u79fb\u9664\u5bf9\u8c61\u65b9\u6cd5 JSON.parse(str) \u628a\u7b26\u5408json\u8bed\u6cd5\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u6210js\u5bf9\u8c61 \u30109\u3011\u5176\u5b83\u5e38\u7528\u5bf9\u8c61 // Math\u5bf9\u8c61 Date\u7c7b var now=new Date(); console.log(now.toLocaleString( )); // console.log(Math.random()); console.log( Math.round(Math.random() * 10 )); 1.2\u3001\u51fd\u6570 \u30101\u3011\u51fd\u6570\u521d\u8bc6 // \u51fd\u6570\u58f0\u660e function \u51fd\u6570\u540d(\u5f62\u53c2){ return // \u8fd4\u56de\u503c } // \u51fd\u6570\u8c03\u7528 \u51fd\u6570\u540d(\u5b9e\u53c2) // \u7f16\u8bd1\u8fd0\u884c // \u9ed8\u8ba4\u8fd4\u56deundefined // arguments\u53c2\u6570 \u30102\u3011\u4f5c\u7528\u57df \u4f5c\u7528\u57df\uff08Scope\uff09\u662f\u6307\u5728\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u53d8\u91cf\u7684\u53ef\u8bbf\u95ee\u6027\u548c\u53ef\u89c1\u6027\u7684\u8303\u56f4\u3002\u5b83\u51b3\u5b9a\u4e86\u5728\u4ee3\u7801\u4e2d\u7684\u54ea\u4e9b\u4f4d\u7f6e\u53ef\u4ee5\u8bbf\u95ee\u6216\u5f15\u7528\u7279\u5b9a\u53d8\u91cf\u3001\u51fd\u6570\u6216\u5bf9\u8c61\u3002 \u5728\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u5305\u62ec JavaScript\uff0c\u5728\u4e0d\u540c\u7684\u4f5c\u7528\u57df\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u5177\u6709\u4e0d\u540c\u7684\u53ef\u89c1\u6027\u548c\u751f\u547d\u5468\u671f\u3002\u5e38\u89c1\u7684\u4f5c\u7528\u57df\u7c7b\u578b\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a \u5168\u5c40\u4f5c\u7528\u57df\uff08Global Scope\uff09\uff1a\u5168\u5c40\u4f5c\u7528\u57df\u662f\u5728\u6574\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u53ef\u8bbf\u95ee\u7684\u4f5c\u7528\u57df\u3002\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u53ef\u4ee5\u5728\u7a0b\u5e8f\u7684\u4efb\u4f55\u4f4d\u7f6e\u88ab\u8bbf\u95ee\u3002 \u51fd\u6570\u4f5c\u7528\u57df\uff08Function Scope\uff09\uff1a\u51fd\u6570\u4f5c\u7528\u57df\u662f\u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u4f5c\u7528\u57df\u3002\u5728\u51fd\u6570\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u5728\u51fd\u6570\u5185\u90e8\u88ab\u8bbf\u95ee\uff0c\u5b83\u4eec\u5bf9\u4e8e\u51fd\u6570\u5916\u90e8\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u6bcf\u5f53\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u4f5c\u7528\u57df\u3002 \u5757\u7ea7\u4f5c\u7528\u57df\uff08Block Scope\uff09\uff1a\u5757\u7ea7\u4f5c\u7528\u57df\u662f\u5728\u4ee3\u7801\u5757\uff08\u901a\u5e38\u7531\u82b1\u62ec\u53f7 {} \u5305\u56f4\uff09\u5185\u5b9a\u4e49\u7684\u4f5c\u7528\u57df\u3002\u5728\u5757\u7ea7\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u5728\u8be5\u5757\u5185\u90e8\u88ab\u8bbf\u95ee\uff0c\u800c\u5728\u5757\u5916\u90e8\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u5728 ES6 \u4e2d\u5f15\u5165\u7684 let \u548c const \u5173\u952e\u5b57\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u5757\u7ea7\u4f5c\u7528\u57df\u3002 // \u9996\u5148\u719f\u6089\u4e0bvar var name = \"yuan\"; // \u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf name\u5e76\u8d4b\u503c\u201dyuan\u201c name = \"\u5f20\u4e09\"; // \u5bf9\u5df2\u7ecf\u5b58\u5728\u7684\u53d8\u91cfname\u91cd\u65b0\u8d4b\u503c \u201d\u5f20\u4e09\u201c console.log(name); age = 18 // \u4e4b\u524d\u4e0d\u5b58\u5728age\u53d8\u91cf\uff0c\u8fd9\u91cc\u7b49\u540c\u4e8evar age = 19 \u5373\u58f0\u660e\u5168\u5c40\u53d8\u91cfage\u5e76\u8d4b\u503c\u4e3a18 var gender = \"male\" var gender = \"female\" // \u539f\u5185\u5b58\u91ca\u653e\u4e0e\u65b0\u5185\u5b58\u5f00\u8f9f\uff0c\u6307\u9488\u6307\u5411\u65b0\u5f00\u8f9f\u7684\u5185\u5b58 console.log(gender) \u4f5c\u7528\u57df\u6848\u4f8b\uff1a var num = 10; // \u5728\u51fd\u6570\u5916\u90e8\u58f0\u660e\u7684\u53d8\u91cf, \u5168\u5c40\u53d8\u91cf function func(){ // num = 20; // \u51fd\u6570\u5185\u90e8\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf,\u5219\u9ed8\u8ba4\u8c03\u7528\u4e86\u5168\u5c40\u7684\u53d8\u91cf, //var num = 20; console.log(\"\u51fd\u6570\u5185\u90e8num\uff1a\",num) } func(); console.log(\"\u5168\u5c40num\uff1a\",num); \u4f5c\u7528\u57df\u7684\u6b63\u786e\u4f7f\u7528\u53ef\u4ee5\u907f\u514d\u53d8\u91cf\u540d\u51b2\u7a81\u548c\u6570\u636e\u6cc4\u6f0f\uff0c\u5e76\u63d0\u4f9b\u66f4\u597d\u7684\u4ee3\u7801\u5c01\u88c5\u548c\u9694\u79bb\u6027\u3002\u7406\u89e3\u4f5c\u7528\u57df\u7684\u6982\u5ff5\u5bf9\u4e8e\u7f16\u5199\u53ef\u7ef4\u62a4\u548c\u53ef\u6269\u5c55\u7684\u4ee3\u7801\u975e\u5e38\u91cd\u8981\u3002 \u30103\u3011\u533f\u540d\u51fd\u6570 \u5728 JavaScript \u4e2d\uff0c\u533f\u540d\u51fd\u6570\u662f\u4e00\u79cd\u6ca1\u6709\u540d\u79f0\u7684\u51fd\u6570\u5b9a\u4e49\u3002\u533f\u540d\u51fd\u6570\u53ef\u4ee5\u88ab\u76f4\u63a5\u4f20\u9012\u7ed9\u5176\u4ed6\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf\u6216\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4ee5\u4fbf\u7a0d\u540e\u8c03\u7528\u3002 // \u533f\u540d\u51fd\u6570\u8d4b\u503c\u53d8\u91cf var foo = function () { console.log(\"\u8fd9\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff01\") }; // \u533f\u540d\u51fd\u6570\u7684\u81ea\u6267\u884c (function (x,y) { console.log(x+y); })(2,3) // \u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u4e00\u4e2a\u9ad8\u9636\u51fd\u6570\u4f7f\u7528 function bar() { return function () { console.log(\"inner\u51fd\u6570\uff01\") } } bar()() \u533f\u540d\u51fd\u6570\u5e38\u7528\u4e8e\u56de\u8c03\u51fd\u6570\u3001\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u3001\u5f02\u6b65\u64cd\u4f5c\u7b49\u573a\u666f\uff0c\u5b83\u4eec\u5141\u8bb8\u6211\u4eec\u5728\u9700\u8981\u65f6\u52a8\u6001\u5b9a\u4e49\u51fd\u6570\u903b\u8f91\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a\u503c\u4f20\u9012\u6216\u5b58\u50a8\uff0c\u800c\u4e0d\u9700\u8981\u4e3a\u51fd\u6570\u547d\u540d\u3002\u8fd9\u63d0\u4f9b\u4e86\u66f4\u7075\u6d3b\u548c\u7b80\u6d01\u7684\u7f16\u7a0b\u65b9\u5f0f\u3002 \u30104\u3011\u95ed\u5305\u51fd\u6570 \u95ed\u5305\uff08closures\uff09\u662f Javascript \u8bed\u8a00\u7684\u4e00\u4e2a\u96be\u70b9\uff0c\u4e5f\u662f\u5b83\u7684\u7279\u8272\uff0c\u5f88\u591a\u9ad8\u7ea7\u5e94\u7528\u90fd\u662f\u4f9d\u9760\u95ed\u5305\u5b9e\u73b0\u7684\u3002\u95ed\u5305\u4e0e\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u4ee5\u53ca\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u5bc6\u5207\u76f8\u5173\uff0c\u672c\u8282\u6211\u4eec\u5c31\u6765\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002 \u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\uff0c\u95ed\u5305\uff08\u82f1\u8bed\uff1aClosure\uff09\uff0c\u53c8\u79f0\u8bcd\u6cd5\u95ed\u5305\uff08Lexical Closure\uff09\u6216\u51fd\u6570\u95ed\u5305\uff08function closures\uff09\uff0c\u662f\u5f15\u7528\u4e86\u81ea\u7531\u53d8\u91cf\uff08\u5916\u90e8\u975e\u5168\u5c40\uff09\u7684\u51fd\u6570\u3002 \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e2d\u5f15\u7528\u4e86\u51fd\u6570\u5916\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u8be5\u51fd\u6570\u53ef\u4ee5\u5728\u5176\u5b9a\u4e49\u73af\u5883\u5916\u88ab\u6267\u884c\u3002\u8fd9\u6837\u7684\u4e00\u4e2a\u51fd\u6570\u6211\u4eec\u79f0\u4e4b\u4e3a\u95ed\u5305\u51fd\u6570\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <script> function getCounter() { let count = 0 function counter() { let name = \"yuan\" count++ // count = count+1 return count } window.yuan = counter // counter() // counter() // counter() return counter } // c1 = getCounter() // c1() // c1() // c2 = getCounter() // c2() // c2(); getCounter() let c3 = window.yuan console.log(c3()) console.log(c3()) console.log(c3()) </script> <script> var count = 100 </script> </head> <body> <button onclick=\"c1()\">add1</button> <button onclick=\"c2()\">add2</button> </body> </html> \u30105\u3011ES6\u4e2d\u7684\u7bad\u5934\u51fd\u6570 \u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. // es6\u5141\u8bb8\u4f7f\u7528\u201c\u7bad\u5934\u201d(=>)\u5b9a\u4e49\u51fd\u6570\u3002 var f = v => v*v // \u7b49\u540c\u4e8e var f = function(v) { return v } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u4e0d\u9700\u8981\u53c2\u6570\u6216\u9700\u8981\u591a\u4e2a\u53c2\u6570\uff0c\u5c31\u4f7f\u7528\u4e00\u4e2a\u5706\u62ec\u53f7\u4ee3\u8868\u53c2\u6570\u90e8\u5206\u3002 var f = () => 5 // \u7b49\u540c\u4e8e var f = function() { return 5 } var sum = (num1, num2) => num1 + num2 // \u7b49\u540c\u4e8e var sum = function(num1, num2) { return num1 + num2 } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u7684\u4ee3\u7801\u5757\u90e8\u5206\u591a\u4e8e\u4e00\u6761\u8bed\u53e5\uff0c\u5c31\u8981\u4f7f\u7528\u5927\u62ec\u53f7\u5c06\u5b83\u4eec\u62ec\u8d77\u6765\uff0c\u5e76\u4e14\u4f7f\u7528return\u8bed\u53e5\u8fd4\u56de\u3002 var sum = (num1, num2) => {return num1 + num2} //\u7531\u4e8e\u5927\u62ec\u53f7\u88ab\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\uff0c\u6240\u4ee5\u5982\u679c\u7bad\u5934\u51fd\u6570\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5fc5\u987b\u5728\u5bf9\u8c61\u5916\u9762\u52a0\u4e0a\u62ec\u53f7\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 // \u62a5\u9519 let getUser = id => {id: id, name: \"yuan\"} // \u4e0d\u62a5\u9519 let getUser = id => ({id: id, name: \"yuan\"}) // \u7bad\u5934\u51fd\u6570\u7684\u4e00\u4e2a\u7528\u5904\u662f\u7b80\u5316\u56de\u8c03\u51fd\u6570\u3002 // \u6b63\u5e38\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(function(x) { return x * x }) // \u7bad\u5934\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(x => x * x) \u30106\u3011\u5bfc\u5165\u6a21\u5757 \u5f53\u6d89\u53ca\u5230\u5b9e\u9645\u6848\u4f8b\u65f6\uff0c\u6211\u5c06\u7ed9\u51fa\u4e00\u4e2a\u5e38\u89c1\u7684\u793a\u4f8b\uff0c\u4ee5\u8bf4\u660e\u5982\u4f55\u5728 JavaScript \u4e2d\u4f7f\u7528 require \u6216 import \u5bfc\u5165\u6a21\u5757\u3002 \u5047\u8bbe\u6211\u4eec\u6709\u4e24\u4e2a\u6587\u4ef6\uff1a math.js \u548c main.js \u3002 \u9996\u5148\uff0c\u8ba9\u6211\u4eec\u521b\u5efa math.js \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u51fd\u6570\uff1a // math.js const add = (a, b) => { return a + b; }; const multiply = (a, b) => { return a * b; }; module.exports = { add, multiply }; \u5728 math.js \u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e24\u4e2a\u51fd\u6570 add \u548c multiply \uff0c\u5e76\u4f7f\u7528 module.exports \u5bfc\u51fa\u8fd9\u4e9b\u51fd\u6570\uff0c\u4f7f\u5176\u53ef\u4ee5\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u4f7f\u7528\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u521b\u5efa main.js \u6587\u4ef6\uff0c\u5b83\u5c06\u4f7f\u7528 math.js \u4e2d\u7684\u51fd\u6570\uff1a \u4f7f\u7528 require \uff08CommonJS \u6a21\u5757\u7cfb\u7edf\uff09\u7684\u793a\u4f8b\uff1a // main.js const math = require('./math'); console.log(math.add(2, 3)); // \u8f93\u51fa\uff1a5 console.log(math.multiply(2, 3)); // \u8f93\u51fa\uff1a6 \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 require \u51fd\u6570\u5c06 math.js \u6587\u4ef6\u5bfc\u5165\u5230 main.js \u6587\u4ef6\u4e2d\u3002 require('./math') \u8868\u793a\u6211\u4eec\u5bfc\u5165\u4e0e main.js \u6587\u4ef6\u76f8\u540c\u76ee\u5f55\u4e0b\u7684 math.js \u6587\u4ef6\u3002 \u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 math.add() \u548c math.multiply() \u8c03\u7528 math.js \u4e2d\u5bfc\u51fa\u7684\u51fd\u6570\u3002 \u4f7f\u7528 import \uff08ES \u6a21\u5757\u7cfb\u7edf\uff09\u7684\u793a\u4f8b\uff1a function add(a, b) { return a + b; } function multiply(a, b) { return a * b; } export default { add: add, multiply: multiply, } // main.js import cal from './cal.js' console.log(cal.add(1,2)) console.log(cal.multiply(1,2)) <script type=\"module\" src=\"main.js\"></script> 1.3\u3001Window\u5bf9\u8c61 window \u662f\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\u7684\u57fa\u7c7b\uff0cwindow \u5bf9\u8c61\u662f\u5ba2\u6237\u7aef JavaScript \u7684\u5168\u5c40\u5bf9\u8c61\u3002\u4e00\u4e2a window \u5bf9\u8c61\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u7a97\u53e3\uff0c\u5bf9\u4e8e\u6846\u67b6\u9875\u9762\u6765\u8bf4\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u6bcf\u4e2a\u6846\u67b6\u90fd\u5305\u542b\u4e00\u4e2a window \u5bf9\u8c61\u3002 \u30101\u3011\u5168\u5c40\u4f5c\u7528\u57df \u5728\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u4e2d\uff0cwindow \u5bf9\u8c61\u662f\u8bbf\u95ee BOM \u7684\u63a5\u53e3\uff0c\u5982\u5f15\u7528 document \u5bf9\u8c61\u7684 document \u5c5e\u6027\uff0c\u5f15\u7528\u81ea\u8eab\u7684 window \u548c self \u5c5e\u6027\u7b49\u3002\u540c\u65f6 window \u4e5f\u4e3a\u5ba2\u6237\u7aef JavaScript \u63d0\u4f9b\u5168\u5c40\u4f5c\u7528\u57df\u3002 \u7531\u4e8e window \u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u6b64\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\u90fd\u88ab\u89e3\u6790\u4e3a\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 <script> var username = \"yuanhao\"; //\u5168\u5c40\u53d8\u91cf function f() { //\u5168\u5c40\u51fd\u6570 console.log(username); } console.log(window.username); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d window.f(); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d </script> \u30102\u3011\u4f7f\u7528\u7cfb\u7edf\u5bf9\u8bdd\u6846 window \u5bf9\u8c61\u5b9a\u4e49\u4e86 3 \u4e2a\u4eba\u673a\u4ea4\u4e92\u7684\u65b9\u6cd5\uff0c\u4e3b\u8981\u65b9\u4fbf\u5bf9 JavaScript \u4ee3\u7801\u8fdb\u884c\u8c03\u8bd5\u3002 alert()\uff1a\u786e\u5b9a\u63d0\u793a\u6846\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\u3002\u8be5\u65b9\u6cd5\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 confirm()\uff1a\u9009\u62e9\u63d0\u793a\u6846\u3002\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\uff0c\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u5305\u542b\u4e24\u4e2a\u6309\u94ae\uff0c\u5206\u522b\u8868\u793a\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u6309\u94ae\u3002\u5982\u679c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de true\uff1b\u5355\u51fb\u201c\u53d6\u6d88\u201d\u6309\u94ae\uff0c\u5219\u8fd4\u56de false\u3002confirm() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 prompt()\uff1a\u8f93\u5165\u63d0\u793a\u6846\u3002\u53ef\u4ee5\u63a5\u6536\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\uff0c\u5e76\u8fd4\u56de\u8f93\u5165\u7684\u4fe1\u606f\u3002prompt() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u6ca1\u6709\u63d0\u793a\u4fe1\u606f\u7684\u8f93\u5165\u6587\u672c\u5bf9\u8bdd\u6846\u3002 \u30103\u3011\u4f7f\u7528\u5b9a\u65f6\u5668 window \u5bf9\u8c61\u5305\u542b 4 \u4e2a\u5b9a\u65f6\u5668\u4e13\u7528\u65b9\u6cd5\uff0c\u8bf4\u660e\u5982\u4e0b\u8868\u6240\u793a\uff0c\u4f7f\u7528\u5b83\u4eec\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u5b9a\u65f6\u6267\u884c\uff0c\u6216\u8005\u5ef6\u8fdf\u6267\u884c\uff0c\u4f7f\u7528\u5b9a\u65f6\u5668\u53ef\u4ee5\u8bbe\u8ba1\u6f14\u793a\u52a8\u753b\u3002 \u65b9\u6cd5 \u8bf4\u660e setInterval() \u6309\u7167\u6267\u884c\u7684\u5468\u671f\uff08\u5355\u4f4d\u4e3a\u6beb\u79d2\uff09\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f setTimeout() \u5728\u6307\u5b9a\u7684\u6beb\u79d2\u6570\u540e\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f clearInterval() \u53d6\u6d88\u7531 setInterval() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 clearTimeout() \u53d6\u6d88\u7531 setTimeout() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 setTimeout() \u65b9\u6cd5\u80fd\u591f\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u6bb5\u540e\u6267\u884c\u7279\u5b9a\u4ee3\u7801\u3002\u7528\u6cd5\u5982\u4e0b\uff1a var o = setTimeout(code, delay) \u53c2\u6570 code \u8868\u793a\u8981\u5ef6\u8fdf\u6267\u884c\u7684\u5b57\u7b26\u4e32\u578b\u4ee3\u7801\uff0c\u5c06\u5728 Windows \u73af\u5883\u4e2d\u6267\u884c\uff0c\u5982\u679c\u5305\u542b\u591a\u4e2a\u8bed\u53e5\uff0c\u5e94\u8be5\u4f7f\u7528\u5206\u53f7\u8fdb\u884c\u5206\u9694\u3002delay \u8868\u793a\u5ef6\u8fdf\u65f6\u95f4\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u503c\u662f\u4e00\u4e2a Timer ID\uff0c\u8fd9\u4e2a ID \u7f16\u53f7\u6307\u5411\u5ef6\u8fdf\u6267\u884c\u7684\u4ee3\u7801\u63a7\u5236\u53e5\u67c4\u3002\u5982\u679c\u628a\u8fd9\u4e2a\u53e5\u67c4\u4f20\u9012\u7ed9 clearTimeout() \u65b9\u6cd5\uff0c\u5219\u4f1a\u53d6\u6d88\u4ee3\u7801\u7684\u5ef6\u8fdf\u6267\u884c\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <input id=\"ID1\" type=\"text\" > <button onclick=\"begin()\">\u5f00\u59cb</button> <button onclick=\"end()\">\u505c\u6b62</button> <script> function showTime(){ var nowd2=new Date().toLocaleString(); var temp=document.getElementById(\"ID1\"); temp.value=nowd2; } var ID; function begin(){ if (ID==undefined){ showTime(); ID=setInterval(showTime,1000); } } function end(){ clearInterval(ID); ID=undefined; } </script> </body> </html> \u30104\u3011\u8bbf\u95ee\u5ba2\u6237\u7aef\u5bf9\u8c61 \u4f7f\u7528 window \u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u5ba2\u6237\u7aef\u5176\u4ed6\u5bf9\u8c61\uff0c\u8fd9\u79cd\u5173\u7cfb\u6784\u6210\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff0cwindow \u5bf9\u8c61\u4ee3\u8868\u6839\u8282\u70b9\uff0c\u6d4f\u89c8\u5668\u5bf9\u8c61\u5173\u7cfb\u7684\u5173\u7cfb\u5982\u56fe\u6240\u793a\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u8bf4\u660e\u5982\u4e0b\u3002 window\uff1a\u5ba2\u6237\u7aef JavaScript \u9876\u5c42\u5bf9\u8c61\u3002\u6bcf\u5f53 \u6216 \u6807\u7b7e\u51fa\u73b0\u65f6\uff0cwindow \u5bf9\u8c61\u5c31\u4f1a\u88ab\u81ea\u52a8\u521b\u5efa\u3002 navigator\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u6709\u5173\u6d4f\u89c8\u5668\u4fe1\u606f\u3002 screen\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u5c4f\u5e55\u7684\u4fe1\u606f\u3002 history\uff1a\u5305\u542b\u6d4f\u89c8\u5668\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684 URL \u4fe1\u606f\u3002 location\uff1a\u5305\u542b\u5f53\u524d\u7f51\u9875\u6587\u6863\u7684 URL \u4fe1\u606f\u3002 document\uff1a\u5305\u542b\u6574\u4e2a HTML \u6587\u6863\uff0c\u53ef\u88ab\u7528\u6765\u8bbf\u95ee\u6587\u6863\u5185\u5bb9\u53ca\u5176\u6240\u6709\u9875\u9762\u5143\u7d20\u3002 window\u5bf9\u8c61\u6811 \u4e8c\u3001JS\u9006\u5411\u5fc5\u5907\u77e5\u8bc6\u70b9 2.1\u3001\u7f16\u7801 \u30101\u3011url\u7f16\u7801 import urllib.parse # s = 'a' s = ' 123' ret = urllib.parse.quote(s) print(ret) s = urllib.parse.unquote(ret) print(s) params = {'name': '\u5f20\u4e09', 'age': 20, 'address': '\u5317\u4eac\u5e02\u6d77\u6dc0\u533a'} query_string = urllib.parse.urlencode(params) print(query_string) query_string = 'name=%E5%BC%A0%E4%B8%89&age=20&address=%E5%8C%97%E4%BA%AC%E5%B8%82%E6%B5%B7%E6%B7%80%E5%8C%BA' params = urllib.parse.parse_qs(query_string) print(params, type(params)) \u30102\u3011 base64\u7f16\u7801 \uff081\uff09base64\u662f\u4ec0\u4e48 Base64\u7f16\u7801\uff0c\u662f\u753164\u4e2a\u5b57\u7b26\u7ec4\u6210\u7f16\u7801\u96c6\uff1a 26\u4e2a\u5927\u5199\u5b57\u6bcdA~Z\uff0c26\u4e2a\u5c0f\u5199\u5b57\u6bcda~z\uff0c10\u4e2a\u6570\u5b570~9\uff0c\u7b26\u53f7\u201c+\u201d\u4e0e\u7b26\u53f7\u201c/\u201d \u3002Base64\u7f16\u7801\u7684\u57fa\u672c\u601d\u8def\u662f \u5c06\u539f\u59cb\u6570\u636e\u7684\u4e09\u4e2a\u5b57\u8282\u62c6\u5206\u8f6c\u5316\u4e3a\u56db\u4e2a\u5b57\u8282 \uff0c\u7136\u540e\u6839\u636eBase64\u7684\u5bf9\u5e94\u8868\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u7f16\u7801\u6570\u636e\u3002 \u5f53\u539f\u59cb\u6570\u636e\u51d1\u4e0d\u591f\u4e09\u4e2a\u5b57\u8282\u65f6\uff0c\u7f16\u7801\u7ed3\u679c\u4e2d\u4f1a\u4f7f\u7528\u989d\u5916\u7684 \u7b26\u53f7\u201c=\u201d \u6765\u8868\u793a\u8fd9\u79cd\u60c5\u51b5\u3002 \uff082\uff09base64\u539f\u7406 \u4e00\u4e2aBase64\u5b57\u7b26\u5b9e\u9645\u4e0a\u4ee3\u8868\u77406\u4e2a\u4e8c\u8fdb\u5236\u4f4d(bit)\uff0c4\u4e2aBase64\u5b57\u7b26\u5bf9\u5e943\u5b57\u8282\u5b57\u7b26\u4e32/\u4e8c\u8fdb\u5236\u6570\u636e\u3002 3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7684base64\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u5c0f\u4e8e3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u603b\u7ed3\uff1abase64\u8fc7\u7a0b \u6700\u540e\u5904\u7406\u5b8c\u7684\u7f16\u7801\u5b57\u7b26\u518d\u8f6c\u5b57\u8282\u4e2d\u4e0d\u518d\u6709base64\u4ee5\u5916\u7684\u4efb\u4f55\u5b57\u7b26\u3002 \uff083\uff09base64\u6d4b\u8bd5 import base64 bs = \"you\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) bs = \"yo\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) # \u731c\u6d4b\u7ed3\u679c bs = \"y\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) \u6ce8\u610f, b64\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u957f\u5ea6. \u4e00\u5b9a\u662f4\u7684\u500d\u6570. \u5982\u679c\u5728\u7f51\u9875\u4e0a\u770b\u5230\u6709\u4e9b\u5bc6\u6587\u7684b64\u957f\u5ea6\u4e0d\u662f4\u7684\u500d\u6570. \u4f1a\u62a5\u9519 \u4f8b\u5982, import base64 s = \"eW91\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ==\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ\" ret = base64.b64decode(s) print(ret) \u89e3\u51b3\u601d\u8def. base64\u957f\u5ea6\u8981\u6c42. \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u662f4\u7684\u500d\u6570. \u586b\u5145\u4e00\u4e0b\u5373\u53ef s = \"eW91eQ\" # ret = base64.b64decode(s) # print(ret) s += (\"=\" * (4 - len(s) % 4)) print(\"\u586b\u5145\u540e\", s) ret = base64.b64decode(s).decode() print(ret) \uff084\uff09base64\u53d8\u79cd # \u65b9\u5f0f1 data = res.text.replace(\"-\", \"+\").replace(\"_\", \"/\") base64.b64decode(data) # \u65b9\u5f0f2 data = base64.b64decode(res.text, altchars=b\"-_\") # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 \uff085\uff09\u4e3a\u4ec0\u4e48\u8981base64\u7f16\u7801 base64 \u7f16\u7801\u7684\u4f18\u70b9\uff1a \u7b97\u6cd5\u662f\u7f16\u7801\uff0c\u4e0d\u662f\u538b\u7f29\uff0c\u7f16\u7801\u540e\u53ea\u4f1a\u589e\u52a0\u5b57\u8282\u6570\uff08\u4e00\u822c\u662f\u6bd4\u4e4b\u524d\u7684\u591a1/3\uff0c\u6bd4\u5982\u4e4b\u524d\u662f3\uff0c \u7f16\u7801\u540e\u662f4\uff09 \u7b97\u6cd5\u7b80\u5355\uff0c\u57fa\u672c\u4e0d\u5f71\u54cd\u6548\u7387 \u7b97\u6cd5\u53ef\u9006\uff0c\u89e3\u7801\u5f88\u65b9\u4fbf\uff0c\u4e0d\u7528\u4e8e\u79c1\u5bc6\u4f20\u8f93\u3002 \u52a0\u5bc6\u540e\u7684\u5b57\u7b26\u4e32\u53ea\u6709\u30100-9a-zA-Z+/=\u3011 \uff0c\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\uff08\u8f6c\u8bd1\u5b57\u7b26\uff09\u4e5f\u53ef\u4ee5\u4f20\u8f93\uff08\u5173\u952e\uff01\uff01\uff01\uff09 \u6709\u4e9b\u7f51\u7edc\u4f20\u8f93\u534f\u8bae\u662f\u4e3a\u4e86\u4f20\u8f93 ASCII\u6587\u672c \u8bbe\u8ba1\u7684\uff0c\u5f53\u4f60\u4f7f\u7528\u5176\u4f20\u8f93\u4e8c\u8fdb\u5236\u6d41\u65f6\uff08\u6bd4\u5982\u89c6\u9891/\u56fe\u7247\uff09\uff0c\u4e8c\u8fdb\u5236\u6d41\u4e2d\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u88ab\u534f\u8bae\u9519\u8bef\u7684\u8bc6\u522b\u4e3a\u63a7\u5236\u5b57\u7b26\u7b49\u7b49\uff0c\u56e0\u800c\u51fa\u73b0\u9519\u8bef\u3002\u90a3\u8fd9\u65f6\u5c31\u8981\u5c06\u4e8c\u8fdb\u5236\u6d41\u4f20\u8f93\u7f16\u7801\uff0c\u56e0\u4e3a\u6709\u4e9b8Bit\u5b57\u8282\u7801\u5e76\u6ca1\u6709\u5bf9\u5e94\u7684ASCII\u5b57\u7b26\u3002 \u6bd4\u5982\u5341\u8fdb\u5236ASCII\u78018\u5bf9\u5e94\u7684\u662f\u540e\u9000\u7b26\u53f7(backspace), \u5982\u679c\u88ab\u7f16\u7801\u7684\u6570\u636e\u4e2d\u5305\u542b\u8fd9\u4e2a\u6570\u503c\uff0c\u90a3\u4e48\u7f16\u7801\u51fa\u6765\u7684\u7ed3\u679c\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u91cc\u4f1a\u5bfc\u81f4\u524d\u4e00\u4e2a\u5b57\u7b26\u88ab\u5220\u6389\u3002\u53c8\u6bd4\u5982ASCII\u78010\u5bf9\u5e94\u7684\u662f\u7a7a\u5b57\u7b26\uff0c\u5728\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u91cc\u4ee3\u8868\u5b57\u7b26\u4e32\u7ed3\u675f\uff0c\u540e\u7eed\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u88ab\u5904\u7406\u4e86\u3002 \u7528Base64\u7f16\u7801\u56e0\u4e3a\u9650\u5b9a\u4e86\u7528\u4e8e\u7f16\u7801\u7684\u5b57\u7b26\u96c6\uff0c\u786e\u4fdd\u7f16\u7801\u7684\u7ed3\u679c\u53ef\u6253\u5370\u4e14\u65e0\u6b67\u4e49\u3002 \u4e0d\u540c\u7684\u7f51\u7edc\u8282\u70b9\u8bbe\u5907\u4ea4\u4e92\u6570\u636e\u9700\u8981\uff1a\u8bbe\u5907A\u628abase64\u7f16\u7801\u540e\u7684\u6570\u636e\u5c01\u88c5\u5728 json\u5b57\u7b26\u4e32 \u91cc\uff0c\u8bbe\u5907B\u5148\u89e3\u6790json\u62ff\u5230value\uff0c\u518d\u8fdb\u884cbase64\u89e3\u7801\u62ff\u5230\u60f3\u8981\u7684\u6570\u636e\u3002 \u65e9\u5e74\u5236\u5b9a\u7684\u4e00\u4e9b\u534f\u8bae\u90fd\u662f\u53ea\u652f\u6301\u6587\u672c\u8bbe\u5b9a\u7684\u3002\u968f\u7740\u4e0d\u65ad\u53d1\u5c55\u9700\u8981\u652f\u6301\u975e\u6587\u672c\u4e86\uff0c\u624d\u641e\u4e86\u4e00\u4e2abase64\u505a\u517c\u5bb9 \u867d\u7136\u7f16\u7801\u4e4b\u540e\u7684\u6570\u636e\u4e0e\u52a0\u5bc6\u4e00\u6837\u90fd\u5177\u6709\u4e0d\u53ef\u89c1\u6027\uff0c\u4f46\u7f16\u7801\u4e0e\u52a0\u5bc6\u7684\u6982\u5ff5\u5e76\u4e0d\u4e00\u6837\u3002\u7f16\u7801\u662f\u516c\u5f00\u7684\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u89e3\u7801\uff1b\u800c\u52a0\u5bc6\u5219\u76f8\u53cd\uff0c\u4f60\u53ea\u5e0c\u671b\u81ea\u5df1\u6216\u8005\u7279\u5b9a\u7684\u4eba\u624d\u53ef\u4ee5\u5bf9\u5185\u5bb9\u8fdb\u884c\u89e3\u5bc6\u3002 base64\u5904\u7406\u56fe\u7247\u6570\u636e\uff1a import base64 source = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA7VBMVEUAAAD////////s8v////+txP+qwv+4zf/w9f/2+P+hu//Q3f+yyP+4zf/Q3f////+kvv+90P+80f+2yv/S4P/T4P/M2//z9/+cuP/V4P9Whv////9Uhf9Sg/9Pgf9NgP/8/f9di/9Xh/9lkf5aif9qlP7z9//k7P/c5v+2y/94nv51nP6lv/+LrP6Ep/6BpP5gjf7v9P+wxv/U4f/M2/+sxP+vxv73+f/P3v/J2v+5zf+ivP+fuv9xmf+Ytv6Usv6Hqf58of5vl/7m7v/g6f+zyf6QsP75+//q8P/B0v/W4//C1P6+0P6qwv6ct/76fHZiAAAAGnRSTlMAGAaVR/Py45aC9Mfy2b8t9OPZ2ce/v4L0x/e74/EAAAIZSURBVDjLZVPXYuIwEDSmQ4BLv5O0ku3Yhwu2IZTQe0hy7f8/57QSoYR5sVea1c424wgzl324LRRuH7I507hEJluYucCFEOBGhWzmy7X5+N0WwIjTbrcdBsKulM0z96onGCGE2X6n+cTkj/CqJ480igzkNXp26E9JkABSbBz8i4Bn3EkH840mKHoxs49fZQzt2Kd03FQEzSB3WsejB9Jqf1CJQBM0wCurABWBoub0gkDENwyStTHA62pwSWDtklRQ4FLfjnaiPqVW60hAYeLKNHIREOZuKTL80H6XBFCwn4BAmDOyLiOQUIlOSEjaoS+Ju57NZuul73Fml4w6yAivSLBW3MGfcfBmIegmArg3alICdJHgy1jQt8Z/6CcC4DdGXhLIoiWRACpbLYbDYW80GnXp2GH8ShP+PUvEoHsAIFq9Xm8+kXlIwkkI9pm+05Tm3yWqu9EiB0pkwjWBx2i+tND1XqeZqpPU4VhUbq/ekR8CwTRVoRxf3ifTbeIwcONNsJZ2lxFVKDMv1KNvS2zXdrnD+COvR1PQpTZKNlKD3cLCOJNnivgVxkw169BunlKFaV9/B+LQbqOsByY4IVgDB59dl/cjR9TIJV1Lh7CGqUqH/DDPhhZYOPkdLz6m0X7GrzPHsSe6zJwzxvm+5NeNi8U5ABfn7mz7zHJFrZ6+BY6rd7m8kQtcAtwwXzq4n69/vZbP1+pn6/8fsrRmHUhmpYYAAAAASUVORK5CYII=\" s = source.split(\",\")[1] with open(\"a.png\", \"wb\") as f: f.write(base64.b64decode(s)) J\u7684base64\u7f16\u7801\u4e0e\u89e3\u7801 // \u7f16\u7801 btoa() // \u89e3\u7801 atob() 2.2\u3001\u6458\u8981&\u52a0\u5bc6\u7b97\u6cd5 \u30101\u3011\u6458\u8981\u7b97\u6cd5\uff1a\u4e00\u5207\u4eceMD5\u5f00\u59cb MD5\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u89c1\u7684\u6458\u8981(hash)\u903b\u8f91. \u5176\u7279\u70b9\u5c31\u662f\u5c0f\u5de7. \u901f\u5ea6\u5feb. \u6781\u96be\u88ab\u7834\u89e3. \u6240\u4ee5, md5\u4f9d\u7136\u662f\u56fd\u5185\u975e\u5e38\u591a\u7684\u4e92\u8054\u7f51\u516c\u53f8\u9009\u62e9\u7684\u5bc6\u7801\u6458\u8981\u7b97\u6cd5. \u8fd9\u73a9\u610f\u4e0d\u53ef\u9006. \u6240\u4ee5. \u6458\u8981\u7b97\u6cd5\u5c31\u4e0d\u662f\u4e00\u4e2a\u52a0\u5bc6\u903b\u8f91. \u76f8\u540c\u7684\u5185\u5bb9\u8ba1\u7b97\u51fa\u6765\u7684\u6458\u8981\u662f\u4e00\u6837\u7684 \u4e0d\u540c\u7684\u5185\u5bb9(\u54ea\u6015\u662f\u4e00\u4e22\u4e22\u4e22\u4e22\u4e22\u4e0d\u4e00\u6837) \u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c\u5dee\u522b\u975e\u5e38\u5927 \u5728\u6570\u5b66\u4e0a. \u6458\u8981\u5176\u5b9e\u8ba1\u7b97\u903b\u8f91\u5c31\u662fhash. hash(\u6570\u636e) => \u6570\u5b57 1. \u5bc6\u7801 2. \u4e00\u81f4\u6027\u68c0\u6d4b md5\u7684python\u5b9e\u73b0: from hashlib import md5 obj = md5() obj.update(\"yuan\".encode(\"utf-8\")) # obj.update(\"alex\".encode('utf-8')) # \u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u88ab\u52a0\u5bc6\u7684\u5185\u5bb9 bs = obj.hexdigest() print(bs) \u6211\u4eec\u628a\u5bc6\u6587\u4e22\u5230\u7f51\u9875\u91cc. \u53d1\u73b0\u6709\u4e9b\u7f51\u7ad9\u53ef\u4ee5\u76f4\u63a5\u89e3\u5bc6. \u4f46\u5176\u5b9e\u4e0d\u7136. \u8fd9\u91cc\u5e76\u4e0d\u662f\u76f4\u63a5\u89e3\u5bc6MD5. \u800c\u662f\"\u649e\u5e93\". \u5c31\u662f\u5b83\u7f51\u7ad9\u91cc\u5b58\u50a8\u4e86\u5927\u91cf\u7684MD5\u7684\u503c. \u5c31\u50cf\u8fd9\u6837: \u800c\u9700\u8981\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019. \u53ea\u9700\u8981\u4e00\u6761select\u8bed\u53e5\u5c31\u53ef\u4ee5\u67e5\u8be2\u5230\u4e86. \u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u649e\u5e93. \u5982\u4f55\u907f\u514d\u649e\u5e93: md5\u5728\u8fdb\u884c\u8ba1\u7b97\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u76d0. \u52a0\u76d0\u4e4b\u540e. \u5c31\u5f88\u96be\u649e\u5e93\u4e86. from hashlib import md5 salt = \"\u6211\u662f\u76d0.\u628a\u6211\u52a0\u8fdb\u53bb\u5c31\u6ca1\u4eba\u80fd\u7834\u89e3\u4e86\" obj = md5(salt.encode(\"utf-8\")) # \u52a0\u76d0 obj.update(\"alex\".encode(\"utf-8\")) bs = obj.hexdigest() print(bs) \u6269\u5c55; sha256 from hashlib import sha1, sha256 sha = sha256(b'salt') sha.update(b'alex') print(sha.hexdigest()) \u4e0d\u8bba\u662fsha1, sha256, md5\u90fd\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5. \u90fd\u662f\u5728\u8ba1\u7b97hash\u503c. \u53ea\u662f\u6563\u5217\u7684\u7a0b\u5ea6\u4e0d\u540c\u800c\u5df2. \u8fd9\u79cd\u7b97\u6cd5\u6709\u4e00\u4e2a\u7279\u6027. \u4ed6\u4eec\u662f\u6563\u5217. \u4e0d\u662f\u52a0\u5bc6. \u800c\u4e14, \u7531\u4e8ehash\u7b97\u6cd5\u662f\u4e0d\u53ef\u9006\u7684, \u6240\u4ee5\u4e0d\u5b58\u5728\u89e3\u5bc6\u7684\u903b\u8f91. \u30102\u3011\u5bf9\u79f0\u52a0\u5bc6\uff08AES\u4e0eDES\uff09 AES\u662f\u4e00\u79cd\u5bf9\u79f0\u52a0\u5bc6\uff0c\u6240\u8c13\u5bf9\u79f0\u52a0\u5bc6\u5c31\u662f\u52a0\u5bc6\u4e0e\u89e3\u5bc6\u4f7f\u7528\u7684\u79d8\u94a5\u662f\u4e00\u4e2a\u3002 \u5e38\u89c1\u7684\u5bf9\u79f0\u52a0\u5bc6: AES, DES, 3DES. \u6211\u4eec\u8fd9\u91cc\u8ba8\u8bbaAES\u3002 \u5b89\u88c5\uff1a pip install pycryptodome AES \u52a0\u5bc6\u6700\u5e38\u7528\u7684\u6a21\u5f0f\u5c31\u662f CBC \u6a21\u5f0f\u548c ECB\u6a21\u5f0f \uff0c\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u5176\u5b83\u6a21\u5f0f\uff0c\u4ed6\u4eec\u90fd\u5c5e\u4e8eAES\u52a0\u5bc6\u3002ECB\u6a21\u5f0f\u548cCBC \u6a21\u5f0f\u4fe9\u8005\u533a\u522b\u5c31\u662f ECB \u4e0d\u9700\u8981 iv\u504f\u79fb\u91cf\uff0c\u800cCBC\u9700\u8981\u3002 \"\"\" key\u7684\u957f\u5ea6 16: *AES-128* 24: *AES-192* 32: *AES-256* iv\u7684\u5b57\u8282\u957f\u5ea6\u53ea\u80fd\u662f16\u4f4d MODE \u52a0\u5bc6\u6a21\u5f0f. \u5e38\u89c1\u7684ECB, CBC ECB\uff1a\u662f\u4e00\u79cd\u57fa\u7840\u7684\u52a0\u5bc6\u65b9\u5f0f\uff0c\u5bc6\u6587\u88ab\u5206\u5272\u6210\u5206\u7ec4\u957f\u5ea6\u76f8\u7b49\u7684\u5757\uff08\u4e0d\u8db3\u8865\u9f50\uff09\uff0c\u7136\u540e\u5355\u72ec\u4e00\u4e2a\u4e2a\u52a0\u5bc6\uff0c\u4e00\u4e2a\u4e2a\u8f93\u51fa\u7ec4\u6210\u5bc6\u6587\u3002 CBC\uff1a\u662f\u4e00\u79cd\u5faa\u73af\u6a21\u5f0f\uff0c\u524d\u4e00\u4e2a\u5206\u7ec4\u7684\u5bc6\u6587\u548c\u5f53\u524d\u5206\u7ec4\u7684\u660e\u6587\u5f02\u6216\u6216\u64cd\u4f5c\u540e\u518d\u52a0\u5bc6\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u589e\u5f3a\u7834\u89e3\u96be\u5ea6\u3002 \"\"\" CBC\u52a0\u5bc6\u6848\u4f8b\uff08\u9009\u62e9aes-128\uff09\uff1a from Crypto.Cipher import AES from Crypto.Util.Padding import pad import base64 key = '0123456789abcdef'.encode() # \u79d8\u94a5: \u56e0\u4e3aaes-128\u6a21\u5f0f\uff0c\u6240\u4ee5\u5fc5\u987b16\u5b57\u8282 iv = b'abcdabcdabcdabcd' # \u504f\u79fb\u91cf\uff1a\u56e0\u4e3aaes-128\u6a21\u5f0f\uff0c\u6240\u4ee5\u5fc5\u987b16\u5b57\u8282 text = 'alex is a monkey!' # \u52a0\u5bc6\u5185\u5bb9\uff0c\u56e0\u4e3aaes-128\u6a21\u5f0f\uff0c\u6240\u4ee5\u5b57\u8282\u957f\u5ea6\u5fc5\u987b\u662f16\u7684\u500d\u6570 # while len(text.encode('utf-8')) % 16 != 0: # \u5982\u679ctext\u4e0d\u8db316\u4f4d\u7684\u500d\u6570\u5c31\u7528\u7a7a\u683c\u8865\u8db3\u4e3a16\u4f4d # text += '\\0' text = pad(text.encode(), 16) print(\"\u5b8c\u6574text:\", text) aes = AES.new(key, AES.MODE_CBC, iv) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 en_text = aes.encrypt(text) # \u52a0\u5bc6\u660e\u6587 print(\"aes\u52a0\u5bc6\u6570\u636e:::\", en_text) # b\"_\\xf04\\x7f/R\\xef\\xe9\\x14#q\\xd8A\\x12\\x8e\\xe3\\xa5\\x93\\x96'zOP\\xc1\\x85{\\xad\\xc2c\\xddn\\x86\" en_text = base64.b64encode(en_text).decode() # \u5c06\u8fd4\u56de\u7684\u5b57\u8282\u578b\u6570\u636e\u8f6c\u8fdb\u884cbase64\u7f16\u7801 print(en_text) # X/A0fy9S7+kUI3HYQRKO46WTlid6T1DBhXutwmPdboY= CBC\u89e3\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 from Crypto.Util.Padding import unpad key = '0123456789abcdef'.encode() iv = b'abcdabcdabcdabcd' aes = AES.new(key, AES.MODE_CBC, iv) text = 'X/A0fy9S7+kUI3HYQRKO46WTlid6T1DBhXutwmPdboY='.encode() # \u9700\u8981\u89e3\u5bc6\u7684\u6587\u672c ecrypted_base64 = base64.b64decode(text) # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 source = aes.decrypt(ecrypted_base64) # \u89e3\u5bc6 print(\"aes\u89e3\u5bc6\u6570\u636e:::\", source.decode()) print(\"aes\u89e3\u5bc6\u6570\u636e:::\", unpad(source, 16).decode()) \u5728Python\u4e2d\u8fdb\u884cAES\u52a0\u5bc6\u89e3\u5bc6\u65f6\uff0c\u6240\u4f20\u5165\u7684\u5bc6\u6587\u3001\u660e\u6587\u3001\u79d8\u94a5\u3001iv\u504f\u79fb\u91cf\u3001\u90fd\u9700\u8981\u662fbytes\uff08\u5b57\u8282\u578b\uff09\u6570\u636e\u3002python \u5728\u6784\u5efaaes\u5bf9\u8c61\u65f6\u4e5f\u53ea\u80fd\u63a5\u53d7bytes\u7c7b\u578b\u6570\u636e\u3002 \u5f53\u79d8\u94a5\uff0civ\u504f\u79fb\u91cf\uff0c\u5f85\u52a0\u5bc6\u7684\u660e\u6587\uff0c\u5b57\u8282\u957f\u5ea6\u4e0d\u591f16\u5b57\u8282\u6216\u800516\u5b57\u8282\u500d\u6570\u7684\u65f6\u5019\u9700\u8981\u8fdb\u884c\u8865\u5168\u3002 CBC\u6a21\u5f0f\u9700\u8981\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\uff0c\u4e3a\u4e86\u9632\u6b62\u8fd9\u7c7b\u9519\u8bef\uff0c\u65e0\u8bba\u662f\u4ec0\u4e48\u6a21\u5f0f\u90fd\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\u5c31\u53ef\u4ee5\u4e86\u3002 \u30103\u3011\u975e\u5bf9\u79f0\u52a0\u5bc6(RSA) \u975e\u5bf9\u79f0\u52a0\u5bc6. \u52a0\u5bc6\u548c\u89e3\u5bc6\u7684\u79d8\u94a5\u4e0d\u662f\u540c\u4e00\u4e2a\u79d8\u94a5. \u8fd9\u91cc\u9700\u8981\u4e24\u628a\u94a5\u5319. \u4e00\u4e2a\u516c\u94a5, \u4e00\u4e2a\u79c1\u94a5. \u516c\u94a5\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef. \u53d1\u9001\u7aef\u7528\u516c\u94a5\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u5bc6. \u518d\u53d1\u9001\u7ed9\u63a5\u6536\u7aef, \u63a5\u6536\u7aef\u4f7f\u7528\u79c1\u94a5\u6765\u5bf9\u6570\u636e\u89e3\u5bc6. \u7531\u4e8e\u79c1\u94a5\u53ea\u5b58\u653e\u5728\u63a5\u53d7\u7aef\u8fd9\u8fb9. \u6240\u4ee5\u5373\u4f7f\u6570\u636e\u88ab\u622a\u83b7\u4e86. \u4e5f\u662f\u65e0\u6cd5\u8fdb\u884c\u89e3\u5bc6\u7684. \u516c\u94a5\u548c\u79c1\u94a5 \u5e38\u89c1\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5: RSA, DSA\u7b49\u7b49, \u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a. RSA\u52a0\u5bc6, \u4e5f\u662f\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848 \u521b\u5efa\u516c\u94a5\u548c\u79c1\u94a5 from Crypto.PublicKey import RSA # \u751f\u6210\u79d8\u94a5 rsakey = RSA.generate(1024) with open(\"rsa.public.pem\", mode=\"wb\") as f: f.write(rsakey.publickey().exportKey()) with open(\"rsa.private.pem\", mode=\"wb\") as f: f.write(rsakey.exportKey()) \u52a0\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 # \u52a0\u5bc6 data = \"\u6211\u559c\u6b22\u4f60\" with open(\"rsa.public.pem\", mode=\"r\") as f: pk = f.read() rsa_pk = RSA.importKey(pk) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.encrypt(data.encode(\"utf-8\")) # \u5904\u7406\u6210b64\u65b9\u4fbf\u4f20\u8f93 b64_result = base64.b64encode(result).decode(\"utf-8\") print(b64_result) \u89e3\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 data = \"BkiKG8jzVGzbWOl4m8NXJEYglgtxhOB05MGmap8JSP97GzoewPBmDTs7c5iACUof3k/uJf0H88GygajVgBvkcbckJp7oO+Qj6VSUQYTOHhKN/VG2a8v+WzL34EO/S7BYoj2oOxIDAr8wDLxYxjBeXq/Be6Q1yBbnZcKaMkifhP8=\" # \u89e3\u5bc6 with open(\"rsa.private.pem\", mode=\"r\") as f: prikey = f.read() rsa_pk = RSA.importKey(prikey) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.decrypt(base64.b64decode(data), None) print(\"rsa\u89e3\u5bc6\u6570\u636e:::\", result.decode(\"utf-8\") 2.3\u3001JS\u7248\u672c\u7684\u52a0\u5bc6\u7b97\u6cd5 \u30101\u3011md5\u6458\u8981\u7b97\u6cd5 const CryptoJS = require('crypto-js'); // \u539f\u59cb\u6570\u636e const data = '123456'; // \u751f\u6210MD5\u6458\u8981 const md5Digest = CryptoJS.MD5(data).toString(); console.log(md5Digest); \u30102\u3011AES\u52a0\u5bc6 const CryptoJS = require(\"crypto-js\") // \u5bc6\u94a5\uff08128\u4f4d\uff0c16\u5b57\u8282\uff09 var key = CryptoJS.enc.Utf8.parse('0123456789abcdef'); // \u521d\u59cb\u5316\u5411\u91cf\uff08IV\uff09\uff08128\u4f4d\uff0c16\u5b57\u8282\uff09 var iv = CryptoJS.enc.Utf8.parse('1234567890abcdef'); // \u5f85\u52a0\u5bc6\u7684\u6570\u636e var plaintext = 'Hello, yuan!'; // \u8fdb\u884cAES-128\u52a0\u5bc6\uff0c\u4f7f\u7528CBC\u6a21\u5f0f\u548cPKCS7\u586b\u5145 var encrypted = CryptoJS.AES.encrypt(plaintext, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }); // \u83b7\u53d6\u52a0\u5bc6\u540e\u7684\u5bc6\u6587 var ciphertext = encrypted.toString(); console.log(ciphertext); \u4e09\u3001JS\u9006\u5411\u5b9e\u6218\u6848\u4f8b 1. Webpack\u9006\u5411 \u30101\u3011\u6982\u5ff5 Webpack\u662f\u4e00\u4e2a\u73b0\u4ee3\u7684\u9759\u6001\u6a21\u5757\u6253\u5305\u5de5\u5177\uff0c\u5b83\u4e3b\u8981\u7528\u4e8e\u524d\u7aef\u5f00\u53d1\u4e2d\u7684\u6a21\u5757\u5316\u6253\u5305\u548c\u6784\u5efa\u3002\u901a\u8fc7Webpack\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u5c06\u591a\u4e2a\u6a21\u5757\uff08\u5305\u62ecJavaScript\u3001CSS\u3001\u56fe\u7247\u7b49\uff09\u8fdb\u884c\u6253\u5305\uff0c\u751f\u6210\u4f18\u5316\u540e\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\uff0c\u4ee5\u4f9b\u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u548c\u8fd0\u884c\u3002 Webpack\u7684\u4e3b\u8981\u529f\u80fd\u548c\u7279\u70b9\u5305\u62ec\uff1a \u6a21\u5757\u5316\u652f\u6301\uff1aWebpack\u5c06\u5e94\u7528\u7a0b\u5e8f\u62c6\u5206\u4e3a\u591a\u4e2a\u6a21\u5757\uff0c\u901a\u8fc7\u6a21\u5757\u5316\u7684\u65b9\u5f0f\u7ba1\u7406\u548c\u52a0\u8f7d\u4f9d\u8d56\u5173\u7cfb\u3002\u5b83\u652f\u6301CommonJS\u3001ES module\u3001AMD\u7b49\u591a\u79cd\u6a21\u5757\u5316\u89c4\u8303\uff0c\u5e76\u4e14\u80fd\u591f\u5c06\u8fd9\u4e9b\u6a21\u5757\u6253\u5305\u6210\u6700\u7ec8\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u3002 \u6253\u5305\u548c\u538b\u7f29\uff1aWebpack\u53ef\u4ee5\u5c06\u591a\u4e2a\u6a21\u5757\u6253\u5305\u6210\u4e00\u4e2a\u6216\u591a\u4e2a\u6700\u7ec8\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u3002\u5b83\u652f\u6301\u5bf9JavaScript\u3001CSS\u3001\u56fe\u7247\u7b49\u8d44\u6e90\u8fdb\u884c\u538b\u7f29\u3001\u5408\u5e76\u548c\u4f18\u5316\uff0c\u4ee5\u51cf\u5c0f\u6587\u4ef6\u5927\u5c0f\uff0c\u63d0\u5347\u52a0\u8f7d\u901f\u5ea6\u548c\u6027\u80fd\u3002 \u8d44\u6e90\u52a0\u8f7d\u7ba1\u7406\uff1aWebpack\u53ef\u4ee5\u5904\u7406\u5404\u79cd\u7c7b\u578b\u7684\u8d44\u6e90\u6587\u4ef6\uff0c\u4f8b\u5982JavaScript\u3001CSS\u3001\u56fe\u7247\u3001\u5b57\u4f53\u7b49\u3002\u901a\u8fc7\u52a0\u8f7d\u5668\uff08Loader\uff09\u7684\u914d\u7f6e\uff0cWebpack\u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u8d44\u6e90\u6587\u4ef6\u8fdb\u884c\u8f6c\u6362\u548c\u5904\u7406\uff0c\u4f7f\u5176\u80fd\u591f\u88ab\u5e94\u7528\u7a0b\u5e8f\u6b63\u786e\u5730\u5f15\u7528\u548c\u52a0\u8f7d\u3002 /* !function(\u5f62\u53c2){\u52a0\u8f7d\u5668}([\u6a21\u57571\uff0c\u6a21\u57572,...]) !function(\u5f62\u53c2){\u52a0\u8f7d\u5668}({\"k1\":\"\u6a21\u57571\",\"k2\":\"\u6a21\u57572\"}) */ window = global; !function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; e[r].call(o.exports, o, o.exports, n); return o.exports.exports; } window.loader = n; // n(\"1002\"); }([ function () { console.log(\"foo\"); this.exports = 100; }, function () { console.log(\"bar\"); this.exports = 200; }] ); console.log(window.loader(0)); console.log(window.loader(1)); window = global; !function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; e[r].call(o.exports, o, o.exports, n); return o.exports.exports; // \u8fd4\u56de o.exports.exports\uff0c\u800c\u4e0d\u662f\u6574\u4e2a o.exports \u5bf9\u8c61 } window.loader = n; // n(\"1002\"); }({ \"1001\": function () { console.log(\"foo\"); this.exports = 100; // \u76f4\u63a5\u4fee\u6539 exports \u53d8\u91cf }, \"1002\": function () { console.log(\"bar\"); this.exports = 200; } }); console.log(window.loader(\"1001\")); \u30102\u3011\u533b\u4fdd\u5c40\u6848\u4f8b # \u9875\u9762\uff1a `https://fuwu.nhsa.gov.cn/nationalHallSt/#/search/pharmacies?code=90000&flag=false&gbFlag=true` # \u63a5\u53e3\uff1a `https://fuwu.nhsa.gov.cn/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo` \u30103\u3011\u54cd\u5e94\u89e3\u5bc6 \u30104\u3011\u5165\u53e3\u5b9a\u4f4d \u641c\u7d22 interceptors.response.use \u30105\u3011\u57fa\u4e8ewebpack\u9006\u5411\u89e3\u5bc6 \u53ef\u4ee5\u8fdb\u5165u.b\u6df1\u5165\u6316\u6398\u548c\u590d\u539f\uff0c\u4f46\u662f\u66f4\u7b80\u5355\u7684\u505a\u6cd5\u662f\u76f4\u63a5\u6784\u5efau.b \u5c06loader\u62ff\u5230\u672c\u5730,\u6784\u5efaloader.js \u8865\u4e0awindow\u5bf9\u8c61 \u5c06\u6784\u5efa\u51fd\u6570\u8d4b\u503c\u7ed9window\u5bf9\u8c61\uff0c\u65b9\u4fbf\u5168\u5c40\u8c03\u7528 \u6ce8\u91ca\u4e00\u4e9b\u521d\u59cb\u5316\u4ee3\u7801\uff0c\u9632\u6b62\u8865\u65e0\u6548\u73af\u5883 \u5c06\u8c03\u7528\u6a21\u5757\u6253\u4e0a\u65e5\u5fd7\uff0c\u53ef\u4ee5\u89c2\u5bdf\u8c03\u7528\u4fe1\u606f \u6784\u5efa\u4e3b\u903b\u8f91main.js require(\"./loader\") console.log(window.yuan(\"7d92\")) u = window.yuan(\"7d92\") // 1. \u6d4b\u8bd5\u89e3\u5bc6\u4ee3\u7801 // \u6ce8\u610fe\u522b\u62ff\u9519\u4e86 function decrypt() { e = { \"data\": { \"code\": 0, \"data\": { \"signData\": \"4QJOwsGQ893uRFwW8Q0VqkJxck81/Qk3gIvEFaQ5QsjkPxHgI7nKWfXLwmTTz2MyIr+riAuQLAq/mOewQoj+eQ==\", \"encType\": \"SM4\", \"data\": { \"encData\": \"943195DDA5E5337E08E0A527071CC637E0074CBD73D293A3643B2199C79561872E19ABE7BB2600D23E9CDB14C1A75194C1D3C735D2DCC50E297311A423B72BF0AE4781F770874C1AC923AD26618311F182DFD96DBF46FD4EB0475F347756783DC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8ABAA64B40827F66C7103DA3EC1CB79357FA4DE3E012936C754BE9094F60BF6B2766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B92DA07444DA1526331109FAA4B5190B528103F9EDABB6C76CA5A6C1F24BDBFBD81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DFF94B8CA83EDEE175700A24EEC5F869495626E7300E3E1C43B432B84E47D8B0109BA756CBF627CA3CA91138F764E4E79AC1D8FD1A1155B7DCE9665B3A1856E1BB6193DDE8EC8D80ECD137DC24B04BFC7DC3EEE373E0A71DDCBEAA0D6F8350F6A423CA60D48BE079AB959EB56975CF1DD2FD2EA5223C14436C0A1BCD6095A980452F7E0A6E85087957FBC1FA19369DCDCF2FF575E5A08224248A668A514D1EFBDB7A11056C9481CD9B3BAD3A6EB6E62B4BCA23D6131B2B2958BD807E1453C5447EAF0BC5D15EFD6B978B4F44C0CD088034929FD30C638E7F5CC7435914EB1582FF2C2BB08DBE0B2BD1B51D9E023B61B03AFDBECFE523CF3EA2DF64CF27421C0DFA374E70E692C52655A4B78BAA0F62FA0B70165FA33E1A32E6430EC13911F08993941400D3F018F4D3E814C13ECD2E8B098DF426A1A90422D40FE350AA784246D2582ED934A2128B607854B0A38F84DAA630D4F1229ED3A1B9A54758C46F1654A6FA86E3F98B0EB5C8BE9E93D8BB65E30097D9663D775BA1483515B9D36E8AF8598BC5CC1309E79CD4D9A6401DA15F5F821A81D03D58A49869A51AB219E228808A37222075760E5D8FD3BFE2FF70D827AA18CAFDBB5EEEAF0DACBB17BDDC993D0F9027473065419DD7AD3B182A745585CA21D57D8782DFB3EAAD3170EE20045CAC80B046CBC22D5D5F71986E59A08EEF3AE412EE5DA72B65BFEFE9CA98FCEFF3DE75D6F24E3D0925FD1B0FBDF905FBB1641DC00B2C059FF432406F67960E6BA12F934748FE06769569BBC4E47D1DBBE6E4DF17DBF0AF690467B3A81157327E1C1B12547A651EC2F1F754187475C3E806AFFA8F635ACA0FA92614BF9B9D02E31BDD417B8840242DF9095293D8240B3736D157246C9C9E24BF8151DE0737E76497F195B88CFE3489F0CC825C24908F0F356D54F2306B41914731409C6E254BB84C870C6B938FB449B3366909044B240D4745961F9F7871370E77A523F9991C659F0CCB3F53A3E33BD924E023CB4D2466FE5FD8808027665DC09B81DD86C4FBAF26D4AD0D3D99C54A971331C1310095F1798A6D5127735CD1B6D22CD0C8C09CDA1E6F972FECBC7DD09970E3A28577413984D5027523668887593B3E35A88FBF7FA063DF18AAC85044EAB1691D6A120810293193A755FE43F994D4A56470C7B0458C80BE5B8CB156B6C07FEAE5DF62DDC46358440021AD99E46B818627912383E163B0705F510B8F1A4BB3EE5241197B24C16DC3271506884F6FC59D86D02876EE5CF2C2FCD02422AECF3892FD08C8EEE0C6D1B004E462B1AC835F03A779BE611D970852E512FB1F52323EADEB7420AD34B9ABF4740826770C4FE19C344AD90AA910DAA361F6FC54CBF9BD275AFD7BFFA665837708052B4BD9B64923A6C39EA92374F9DBAE2E91D757CCFB10FCEFE2E92408CF49C45774F384EA4914C930BC75B26D631CC3D1BFDD4E0A2D4D5C6D2646F8FC6E15C17577ABEA801BCA1E9297489C2F26A03C5630F760D3389C522FDCD358AF61907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E55AA1DE72CB2FB53B89CC69386A27D0E115BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60ADAD2ABD62EEF87E582AC769848583ECE29FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D21A91C78B848DED57CA24306716CE130E42B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB1B5799057B17FC5DAA9C2854EC75D5AC00B787AFA653C5964747618DFBCED145843B8A934B01B9CCF6E6DC8CA1045AA8A1BA0CB34A761326BDBA6ED6B4CB64887505E4F46E47B3CA40AC55CB8162BD146EB4471EB225248A5D756F5A9F7EE8598C33F277B985298F23DE9CB2815527DD8FCC5A373E4C2CB2CBF10CCEE7874FAD31B2E8A796AF977BA38F66B781D11F64B814B3C4709EA945FCC22E2564102114900C3F00534BEFC5758CE38A616BE18AD6DDA7119F8428138AABB75A2A291B6BBE5FF87174B9D0288BFC3670B8DBDD431C5D6F06307389DC291E48C151719519493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1AEE7021A0E3FADE7493B070C9CDDE94E05D0AA02749823F1B93B16ECF30AF6308218550D8DFF01F48E02BD424E92512C5C5B1A27867767F7BEEF279DFCFE4E681BBBD5DB53EA5E7154071E74EF0BE481E71BBECD3DB8BF0D94D5BB630597E70D1BBBD5DB53EA5E7154071E74EF0BE481EC937762E26C1C310788AB9A66822912263CC20EB6AF79BF07AD98986282B0CA1A193DCD8F079025A99D6E4D42EC9370BC08285E0BF5E5852448A15060CE14BC8AD214202C3712F8FB1B3AFE8CB9886E077830FC1D7FF0FCEC441B45B5839C9DF3BF53F786F8C7E12124F7C6D689A648B9F1142B244FF669F76CD2085344C73F5803E042ABF683F9718FA3EE7A21679BABDAD417EB5EDC97C94E7B340CFBE464E17B4768EA5561668E6850B7AE2C37B1CC84AF2A50887752A72B01584E9C0004EF22CDB67245D1A126F384CD163DD825CF3DA643F9DA436999D1F963BFC00285D2C4B51E46CC029AE6E4ECA8EFC4F5100BDFEE756603654E9264669C2E90E56B54E1C1EF869BA6BF4E370AB9EE65307C6534D3F4F84B12E2B578DA72AF53290571473444F8ADDC5E726EF9FB6EA1469A4F71B48E4D7BD653DAD071E0FF53604253C40DA6DA556EF16716BE3D07296E08D8D760DBB39F47EE77675B19498478D239A72D11B42B012A3FECD2F6F25A290F9934B5CF8FC6B9A65AF9540F414FAC1E811AAF12D40A6B62BF3F76DBCA09248770392DB77A7F2D2CA58AEFC1E8686CADDB37F912821EF5FD88C7BF7E4A8BD51A644D25F61DC577194B9B7FE7DB08C03A29BA2727D169BF7B14D998651A2AD2C388111B4EDA3BE273BC7EC402EEDAD329D4D48E440F62D692AFFA3FDC969C2711C6A6FDE1381DCFAC20033D0B114ECE1F7F2E7460846A4D90F253D2F597F40221D7DCB60BBF30E033754691B5509222D89661481F7E683E5D67ECFB4D968FA1A6C640C947444C755210A36291EC920394FC81058A6786D0422B05C18C0CC1D60E94C077BB4831C80E78820138D02A3F3B910C7589B30AA97E737160F13E111A336400B6621C9E19828E1D1BBE352EDBE1798070B0160B2A19B32E913D7BA20375AE84EA79F0E113FFC541D234D451D8E1D523C856783C6E7089E51EA8C1499142E574A19983EAF96C252FD2CA4FB76BD3E8EAC4796E6A4B2C425695DA335940597C70F3AD1203B122E33E4C0EF2DB2E6E4589102D1E82EC3EFAA18996C1825200E26EAE4B33519F04F370F01B9115456393815FCABFABE9509A2DA3C61A20078B4D389B18B6B1C39322647DA4963B40BC483BD82482309349C6940B789B5ABB44565D87627E132D6E8281823416F1B46907C9863497333FCF64E2B7AEDE1B85EC5210F35F57B08B9B878F40C63C649A5B5987C9F48ED0ED2F84D721D60709D659971D9C0926A245E4BED5121356CBC6FBC18EC8B31EB047C322A6E8FF34D04C16DDE809EB0B5A4A449BC2E9402B964FE80EFE6B84B34174F107BF18A7973CCDA7AEC778B189EF445FA79737DB5BE38133F444900A7F1DC60803B5D392B0054FC75663B6A513AAA8686FAE63251D126C31208DCFB0F5D40EF0F18AC8126B0B2A3AF1FCE60A6DBAA20743A287A19310A57711FCA418578F73CC86C032B474492C48332B881964D1DF9197B2B1CF63648A1565F98D5378DE78C8A41A40C053E10205EFF98A4F24F0A5D71CDAE9CB9B232B529F6F80FC310DCF9A05C01F5E125121007D782891DC51DD2FE76D0A6A3E11DBD9888307BF6853C0D24B153FD7CF812BA1B515ADDA4303AFBAE80030E37D1E77DEE97718B79A6C1D2C11C18F0B3AB1E2B3A28359D28B28F791025CD2F7A333964C8994427E653FFB0CA3061E7E6B6846218B446AB60720919F6284D7E4B367AEF4E57EF5554E70DF20419FB905BF6F98DDAAF0F8483CD69C20312A73A7ABB226BAD300628B4ED8F04BD59BBC1BA98C13220AA96A343A18374560F91D963371004EC5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3B977432A1F68BB3E6B878728012295CC6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1CD28418CE406FC2C1BA6AF765B3397B47987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B7942990037055ED3A24F07066B0A82E088BAB2629BD546AEDA7E1C04D24144D0928BE79DC6EADE64277410265C843B404779EE07558B0563C70DCC882F06920DEEFFE04A935B6753ED56B7A7E34A57835EA5355B3A00DC92A40FE29F6F1F1C4E0A8BB8E5972ACD3C0454F966671A0028A76C0967E51EC7A59DC479FDE871384B0DB900551F22DB202380E822B0311C7EE0C21227A0678F5121A42A8D0AEC73A30DB900551F22DB202380E822B0311C7E793EF792D491E0DDDF11EA99F8639A4FA51EFBE85B1660718232C81F7FBB6CCF204ADE2544CD6FCA894BB59990DEB3C51518A23323C8535EEC4FC125010E9390C4D48C14620BF456F4C5688F319B4612E716B3D9C3FFB338EA53382CF610D71AB9FAD7CC239E35538657A66CF301EF0ABA7B1422E824D3C047372237899C4C52B712B224CBD69CE64D734686D2714A9C285322B3C52E8ABC74DF9AF8206F3D26187DDCF931500041E33B714D0D338934F174F1A5200DC2EE0E23DA4EC49DCEDD5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3E5638D7EA4D23B75FC48C4695A85952F6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1C8D8FC0CED5F7A956AAF354F16471475E987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B181C46666049DE9E13AD1D2B2E085E6188BAB2629BD546AEDA7E1C04D24144D042A19DAEB379CA2BC6011DC4A1FB176C7D32930FE120DBBB30585C7327A004AD446BF88DD66F2061F3B48196C3C874CC9700AFBC1F89C4BCEB43C54B3D30C87879BFE00E77258A07010562067813CE59F2A02F00756C8A8BEB8039D420D6D36ED9096C7C2120531BC96EECCFC7DE250B177A69F7A2EDACE2093ACB2BCD47C45B656D5FB82D89286AC381C231F8428931D1FE9E2ACCDC48D54DD0DC4B3DD55F5DB1505B8802CE9347C9B2D0EE0ED66EF09597365E92C07D603B240081D2D9A297B3E67441249CCCF702AA68216D9017F8F4CEDB4EFF2975DA8BFB6D050148BC673324B051B6AB4CA1E3A7D42D14EDA8560D96F51DB4A51B877983975263B15922721624DBCB49BBCDF1B20FFC8AB1EF5DDA7FACF4AE61F63578C15F32826373DA2F512A50FEF595D569AA6FB631EAC04D8B9DB33416EC234496A6AAD671735B24BBBD5DB53EA5E7154071E74EF0BE481EC429551452268BE9C4919E923688457A987C9F48ED0ED2F84D721D60709D65992710F996D1E31CD59B0DA2948536E1ED5D4993D6599F2007E8DD123839F16A3F5205374DBA8E71242A15CBC9A068EFC31A2A4FFAD3221479093EFB3207D13498F9E5D6121EEA43BFF204A958A7A896B86C3E0F10B2FFFFCCF5A13B1766B4870DCE2AD69681A4BF45325339CE9F01DB90A61DF6FAC08BC9F808BE116002CB1C1BC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8D5E84E1A7ECB9F678655BFDFE7C6185ADE0D4642EC3033A4DC63003938262E8C766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B9B1648DC03DC2493069270ADFE0B58C5C0F88C2157260C25949B2934A28164AC81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DF81A014114D2A35BF113427ECC99BC4BCB95C51588CC417BFA9AB6F43DB55F34CD6047F37D38BE114350EFD1C8D811ABA7F091FCCF971D0B2B17597DC54F0902162E7C55C3C31D5BA0EDB1F9A9D3C19CEC3EEE373E0A71DDCBEAA0D6F8350F6A428A6A7791FCB75AA3EA49208C7A7E3C3AAABD3D76CA9A8A11C42BF5F5FB74B3160AA0AB5EC8EF5E1CB1276645ACE06BBC986BB3AF3A476493CCA7C7FF4E22C052E062A59E6A733D780BFCC2D2D4AABABCE6262DD74FE4E49DC60480748E6B1A992DA614F4D7FAAEF80ECEFE8107264D568D685E0B7A639C4387A43E7789DEB2D791680837C1FF9217DAF5B3AF03D2B39A996331794514801140377E70A74A9D8AB8CE9260F2C3ABF5548FFADB39F01C4BBBD5DB53EA5E7154071E74EF0BE481ECBE780167AA8A242146E3369B7732A2B3815FCABFABE9509A2DA3C61A20078B48A19771A677EDE403A2BA518E5D5ACF87942990037055ED3A24F07066B0A82E07454806472F90D4783C65BA282381D309EF7F74D2A5E852B4E26CD310AF64DDDAD6123B0CFD169D8BC296A04C0F728C4A902FAE39F74B40214651C5200047B0A60A50A9A4E8506A912A75356C2D677DE61AF6A2CEEC3345345E39B12144809A597D9663D775BA1483515B9D36E8AF8593567DB4E4A9011423E13A442EFF6F60A97D9663D775BA1483515B9D36E8AF8591F2CFC1C65A65B934FD56C104FE3640333BF4512BB432390A58F386BB41D3C268CBA1E5C0A86B6C6BAF6371722C96EA22445F6B3FBE14A0B6F6BDD6F1785A88D803E042ABF683F9718FA3EE7A21679BA5E91A3A2D09491FC4806EFE8B6C518390DDEAB7A89CC8E722A89B6B84B2E2539064E75FA72FF95EDE936D931CF9867CD3D3765C46B89D9CEDB6BC24CDC84E1A670E6F2B7E27419F7AF63923503A71E6800484E9FC4FA99C364015E1B1C71DE4AE7D84F6B2091AEB79947C7104CFB4400322870F31AFDC579D440B85A5DFC58D149781294547B1B41D87A0EDE7A6B82FFBBBD5DB53EA5E7154071E74EF0BE481E5F1E209932A07A74284CA6A2B38A6EEC2E60AFAD5B06EBD8BD1168C553E6E63C43CBA3899789DB7D6CC2742B36E171A5A68800C0180A6487C4A11DE09A70AD9A7762D77689AB4C70B818AB1A333C62C7F24E151085638879EC198D3A62FD261BBB724289FF9ADF421138E8D9719A176D342AE8150E7CEF39F66C6FC799C2B708581DCF80F575AFBE4CD2CD589EEB4F17B02CD8F7EA2B9C5BE548D0FB04AC4BB5738215D6C4598C41DADE77782ADF75E3F8F0A1F3608706F0BA78B859D3D8DFC3485CB655C350BDC856AD5A76506922850A17FB9517EA6B059FCC219C0BD98782A3218505C098E22823D6FE0F81AEFE78A8797D1E92CB6B4B8030CFACC8FB57CC907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E56854AED9B10AA2C1C82C6143BD6AA8D415BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60A1177FA7A10D393FE326F70356D951EC129FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D20F899C42EB990616BE2EEB4EEAA1DC4042B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB9A13A323744DB41781DC619818F34062B018602D747390CA88298E186A2EDBE43C2B5309E67A21BF89D2C2A7C43064E96A0BAE165ADC39234D05EC8A514C8CF60415B5C89ED64D651402034273A66F06E15DCAB2E9BE6B060C7CFC983D60911AF9BFED3E18BC6E12CFD374FE979F4511F0958EF7545AFB0E9BC8B3B863C43444187E5D73626EEA5856BBEF8CB8F21794C3767CB9A068F9DBDD2BEB65E50241F9CAB0DD5B5A18C48543C2428318BB4474354D09F5EBC845EEF08929E3D8B9DA990B458152E444C1A608286AE20178FA75C2F65FBCAD578FFE2B7541D2BF4C385F2E062A59E6A733D780BFCC2D2D4AABAB304DC51633924B0FE0D4D3ACFBF2055CE53EE6E3150396DE1D60B3B7435DAAC8212BFF39A31D407E2F8E1352D46D51C198EB9FEF9BF90ABDC3BDC228DA5F5C05403886195DEC70209990180F4D8291104DA1C6B11562D46194578A5BB1B95324493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1A502BDB6869C7D0CA8ED04501D481F0F85C49DBE377E736AA4E8ACF7B70373A8C3D49E10769ADF903F53E58FBB514FC2332F763EDD3197C938C322D46B3231B2080C83A717C0DD2C4513CBEC008A07432CB4C761CAE1DC4452664292099E09A8A24BB18281CF5B37B1BB7046EF26BD1BF35FF0C62640FDE24BA32BB172BBF45F24F6D231DD03926E08B733492616DA2987A749A04019F42FE6BC721013AF4CA8CCFB3E92CB7A47470A5D154588BE22E404AB3CD75FBE5589EDB5008A512CC1B40A5B9328442FDE48667E19087CD3AEBA89FABC82F326D3AE62AEBBFBE71D425C442E75B4597DCD21C5C6C29E49A002860802F5456AF8E1A53E18A4E92A76E7F4E\" }, \"signType\": \"SM2\", \"appCode\": \"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\", \"version\": \"1.0.0\", \"timestamp\": \"1736589824238\" }, \"message\": \"\u6210\u529f\", \"timestamp\": \"1736589824\", \"type\": \"success\" }, \"status\": 200, \"statusText\": \"OK\", \"headers\": { \"access-control-allow-credentials\": \"true\", \"access-control-allow-methods\": \"GET,POST,OPTIONS\", \"access-control-allow-origin\": \"https://fuwu.nhsa.gov.cn\", \"access-control-expose-headers\": \"Content-Length,Content-Range\", \"cache-control\": \"no-store\", \"connection\": \"keep-alive\", \"content-language\": \"zh-CN\", \"content-type\": \"application/json;charset=UTF-8\", \"date\": \"Sat, 11 Jan 2025 10:03:44 GMT\", \"server\": \"WAF\", \"strict-transport-security\": \"max-age=0; preload\", \"transfer-encoding\": \"chunked\", \"x-mg-code\": \"200\", \"x-mg-timestamp\": \"1736589824243\", \"x-mg-traceid\": \"647f0aae-9ee9-4f75-8e7f-ec56188a98ec\", \"x-request-id\": \"71a2300fd91fe9be166c43c4a40ae906\", \"x-ser\": \"i32399_c4103, i32859_c25015\" }, \"config\": { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\", \"x-tif-signature\": \"cfef8145813ab89ee6d9f36db876e211d9cfd2a9e864b9c26d10922c05804d6e\", \"x-tif-timestamp\": 1736589824, \"x-tif-nonce\": \"L3aL9aHK\", \"contentType\": \"application/x-www-form-urlencoded\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": \"{\\\"data\\\":{\\\"data\\\":{\\\"encData\\\":\\\"3DFBCA4667B978F639BB23B95DCE4CC74CE34C33DC32F1068E9E23CA546C9EA8CCD20943B4DAE96380B41164D761DE97BBBD5DB53EA5E7154071E74EF0BE481E2BADC2FDCC843E425B4CA14CEDBC102CA979CA4202C06C9F2CD837D90C6DA45E64DE712DF3683DE81C358841664CBE17561D0390069F11B0D412FE38BE15BA5C\\\"},\\\"appCode\\\":\\\"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\\\",\\\"version\\\":\\\"1.0.0\\\",\\\"encType\\\":\\\"SM4\\\",\\\"signType\\\":\\\"SM2\\\",\\\"timestamp\\\":1736589824,\\\"signData\\\":\\\"Ugk5SiJz4NMjy1pn5rbAHzbBaDJAeyHjkjWqn0nbFVaqYhVBP1Xcv4fnXon5s6yvPVmlJKtaoMrm1FYT7svv0w==\\\"}}\" }, \"request\": { \"_ty_rum\": 1, \"__ty_xhr_hooked_type\": \"onreadystatechange\" } } ret = u.b(\"SM4\", e.data) console.log(ret) return ret } decrypt() \u30106\u3011\u8bf7\u6c42\u52a0\u5bc6 \u5165\u53e3\u5b9a\u4f4d \u8def\u5f84\u5173\u952e\u5b57\uff1a\u641c\u7d22 /CommQuery/queryRtalPhacBInfo \u30107\u3011\u9006\u5411\u52a0\u5bc6 \u53d1\u73b0\u8fd9\u4e2au\u5bf9\u8c61\u548c\u4e0a\u9762\u54cd\u5e94\u89e3\u5bc6\u7684\u662f\u4e00\u4e2a,\u4e0a\u9762\u662fu.b\uff0c\u8fd9\u91cc\u662fu.a function encrypt(page) { let source_data = { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"common\": { \"Accept\": \"application/json, text/plain, */*\" }, \"delete\": {}, \"get\": {}, \"head\": {}, \"post\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"put\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"patch\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": { \"addr\": \"\", \"regnCode\": \"110000\", \"medinsName\": \"\", \"businessLvOutMedOtp\": \"\", \"pageNum\": page, \"pageSize\": 10, \"queryDataSource\": \"es\" } } return u.a(source_data) } console.log(encrypt(1)) \u30108\u3011\u5b8c\u6574\u5b9e\u73b0 main.js require(\"./loader\") console.log(window.yuan(\"7d92\")) u = window.yuan(\"7d92\") // 1. \u6d4b\u8bd5\u89e3\u5bc6\u4ee3\u7801 // \u6ce8\u610fe\u522b\u62ff\u9519\u4e86 function decrypt(e) { /* e = { \"data\": { \"code\": 0, \"data\": { \"signData\": \"4QJOwsGQ893uRFwW8Q0VqkJxck81/Qk3gIvEFaQ5QsjkPxHgI7nKWfXLwmTTz2MyIr+riAuQLAq/mOewQoj+eQ==\", \"encType\": \"SM4\", \"data\": { \"encData\": \"943195DDA5E5337E08E0A527071CC637E0074CBD73D293A3643B2199C79561872E19ABE7BB2600D23E9CDB14C1A75194C1D3C735D2DCC50E297311A423B72BF0AE4781F770874C1AC923AD26618311F182DFD96DBF46FD4EB0475F347756783DC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8ABAA64B40827F66C7103DA3EC1CB79357FA4DE3E012936C754BE9094F60BF6B2766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B92DA07444DA1526331109FAA4B5190B528103F9EDABB6C76CA5A6C1F24BDBFBD81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DFF94B8CA83EDEE175700A24EEC5F869495626E7300E3E1C43B432B84E47D8B0109BA756CBF627CA3CA91138F764E4E79AC1D8FD1A1155B7DCE9665B3A1856E1BB6193DDE8EC8D80ECD137DC24B04BFC7DC3EEE373E0A71DDCBEAA0D6F8350F6A423CA60D48BE079AB959EB56975CF1DD2FD2EA5223C14436C0A1BCD6095A980452F7E0A6E85087957FBC1FA19369DCDCF2FF575E5A08224248A668A514D1EFBDB7A11056C9481CD9B3BAD3A6EB6E62B4BCA23D6131B2B2958BD807E1453C5447EAF0BC5D15EFD6B978B4F44C0CD088034929FD30C638E7F5CC7435914EB1582FF2C2BB08DBE0B2BD1B51D9E023B61B03AFDBECFE523CF3EA2DF64CF27421C0DFA374E70E692C52655A4B78BAA0F62FA0B70165FA33E1A32E6430EC13911F08993941400D3F018F4D3E814C13ECD2E8B098DF426A1A90422D40FE350AA784246D2582ED934A2128B607854B0A38F84DAA630D4F1229ED3A1B9A54758C46F1654A6FA86E3F98B0EB5C8BE9E93D8BB65E30097D9663D775BA1483515B9D36E8AF8598BC5CC1309E79CD4D9A6401DA15F5F821A81D03D58A49869A51AB219E228808A37222075760E5D8FD3BFE2FF70D827AA18CAFDBB5EEEAF0DACBB17BDDC993D0F9027473065419DD7AD3B182A745585CA21D57D8782DFB3EAAD3170EE20045CAC80B046CBC22D5D5F71986E59A08EEF3AE412EE5DA72B65BFEFE9CA98FCEFF3DE75D6F24E3D0925FD1B0FBDF905FBB1641DC00B2C059FF432406F67960E6BA12F934748FE06769569BBC4E47D1DBBE6E4DF17DBF0AF690467B3A81157327E1C1B12547A651EC2F1F754187475C3E806AFFA8F635ACA0FA92614BF9B9D02E31BDD417B8840242DF9095293D8240B3736D157246C9C9E24BF8151DE0737E76497F195B88CFE3489F0CC825C24908F0F356D54F2306B41914731409C6E254BB84C870C6B938FB449B3366909044B240D4745961F9F7871370E77A523F9991C659F0CCB3F53A3E33BD924E023CB4D2466FE5FD8808027665DC09B81DD86C4FBAF26D4AD0D3D99C54A971331C1310095F1798A6D5127735CD1B6D22CD0C8C09CDA1E6F972FECBC7DD09970E3A28577413984D5027523668887593B3E35A88FBF7FA063DF18AAC85044EAB1691D6A120810293193A755FE43F994D4A56470C7B0458C80BE5B8CB156B6C07FEAE5DF62DDC46358440021AD99E46B818627912383E163B0705F510B8F1A4BB3EE5241197B24C16DC3271506884F6FC59D86D02876EE5CF2C2FCD02422AECF3892FD08C8EEE0C6D1B004E462B1AC835F03A779BE611D970852E512FB1F52323EADEB7420AD34B9ABF4740826770C4FE19C344AD90AA910DAA361F6FC54CBF9BD275AFD7BFFA665837708052B4BD9B64923A6C39EA92374F9DBAE2E91D757CCFB10FCEFE2E92408CF49C45774F384EA4914C930BC75B26D631CC3D1BFDD4E0A2D4D5C6D2646F8FC6E15C17577ABEA801BCA1E9297489C2F26A03C5630F760D3389C522FDCD358AF61907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E55AA1DE72CB2FB53B89CC69386A27D0E115BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60ADAD2ABD62EEF87E582AC769848583ECE29FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D21A91C78B848DED57CA24306716CE130E42B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB1B5799057B17FC5DAA9C2854EC75D5AC00B787AFA653C5964747618DFBCED145843B8A934B01B9CCF6E6DC8CA1045AA8A1BA0CB34A761326BDBA6ED6B4CB64887505E4F46E47B3CA40AC55CB8162BD146EB4471EB225248A5D756F5A9F7EE8598C33F277B985298F23DE9CB2815527DD8FCC5A373E4C2CB2CBF10CCEE7874FAD31B2E8A796AF977BA38F66B781D11F64B814B3C4709EA945FCC22E2564102114900C3F00534BEFC5758CE38A616BE18AD6DDA7119F8428138AABB75A2A291B6BBE5FF87174B9D0288BFC3670B8DBDD431C5D6F06307389DC291E48C151719519493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1AEE7021A0E3FADE7493B070C9CDDE94E05D0AA02749823F1B93B16ECF30AF6308218550D8DFF01F48E02BD424E92512C5C5B1A27867767F7BEEF279DFCFE4E681BBBD5DB53EA5E7154071E74EF0BE481E71BBECD3DB8BF0D94D5BB630597E70D1BBBD5DB53EA5E7154071E74EF0BE481EC937762E26C1C310788AB9A66822912263CC20EB6AF79BF07AD98986282B0CA1A193DCD8F079025A99D6E4D42EC9370BC08285E0BF5E5852448A15060CE14BC8AD214202C3712F8FB1B3AFE8CB9886E077830FC1D7FF0FCEC441B45B5839C9DF3BF53F786F8C7E12124F7C6D689A648B9F1142B244FF669F76CD2085344C73F5803E042ABF683F9718FA3EE7A21679BABDAD417EB5EDC97C94E7B340CFBE464E17B4768EA5561668E6850B7AE2C37B1CC84AF2A50887752A72B01584E9C0004EF22CDB67245D1A126F384CD163DD825CF3DA643F9DA436999D1F963BFC00285D2C4B51E46CC029AE6E4ECA8EFC4F5100BDFEE756603654E9264669C2E90E56B54E1C1EF869BA6BF4E370AB9EE65307C6534D3F4F84B12E2B578DA72AF53290571473444F8ADDC5E726EF9FB6EA1469A4F71B48E4D7BD653DAD071E0FF53604253C40DA6DA556EF16716BE3D07296E08D8D760DBB39F47EE77675B19498478D239A72D11B42B012A3FECD2F6F25A290F9934B5CF8FC6B9A65AF9540F414FAC1E811AAF12D40A6B62BF3F76DBCA09248770392DB77A7F2D2CA58AEFC1E8686CADDB37F912821EF5FD88C7BF7E4A8BD51A644D25F61DC577194B9B7FE7DB08C03A29BA2727D169BF7B14D998651A2AD2C388111B4EDA3BE273BC7EC402EEDAD329D4D48E440F62D692AFFA3FDC969C2711C6A6FDE1381DCFAC20033D0B114ECE1F7F2E7460846A4D90F253D2F597F40221D7DCB60BBF30E033754691B5509222D89661481F7E683E5D67ECFB4D968FA1A6C640C947444C755210A36291EC920394FC81058A6786D0422B05C18C0CC1D60E94C077BB4831C80E78820138D02A3F3B910C7589B30AA97E737160F13E111A336400B6621C9E19828E1D1BBE352EDBE1798070B0160B2A19B32E913D7BA20375AE84EA79F0E113FFC541D234D451D8E1D523C856783C6E7089E51EA8C1499142E574A19983EAF96C252FD2CA4FB76BD3E8EAC4796E6A4B2C425695DA335940597C70F3AD1203B122E33E4C0EF2DB2E6E4589102D1E82EC3EFAA18996C1825200E26EAE4B33519F04F370F01B9115456393815FCABFABE9509A2DA3C61A20078B4D389B18B6B1C39322647DA4963B40BC483BD82482309349C6940B789B5ABB44565D87627E132D6E8281823416F1B46907C9863497333FCF64E2B7AEDE1B85EC5210F35F57B08B9B878F40C63C649A5B5987C9F48ED0ED2F84D721D60709D659971D9C0926A245E4BED5121356CBC6FBC18EC8B31EB047C322A6E8FF34D04C16DDE809EB0B5A4A449BC2E9402B964FE80EFE6B84B34174F107BF18A7973CCDA7AEC778B189EF445FA79737DB5BE38133F444900A7F1DC60803B5D392B0054FC75663B6A513AAA8686FAE63251D126C31208DCFB0F5D40EF0F18AC8126B0B2A3AF1FCE60A6DBAA20743A287A19310A57711FCA418578F73CC86C032B474492C48332B881964D1DF9197B2B1CF63648A1565F98D5378DE78C8A41A40C053E10205EFF98A4F24F0A5D71CDAE9CB9B232B529F6F80FC310DCF9A05C01F5E125121007D782891DC51DD2FE76D0A6A3E11DBD9888307BF6853C0D24B153FD7CF812BA1B515ADDA4303AFBAE80030E37D1E77DEE97718B79A6C1D2C11C18F0B3AB1E2B3A28359D28B28F791025CD2F7A333964C8994427E653FFB0CA3061E7E6B6846218B446AB60720919F6284D7E4B367AEF4E57EF5554E70DF20419FB905BF6F98DDAAF0F8483CD69C20312A73A7ABB226BAD300628B4ED8F04BD59BBC1BA98C13220AA96A343A18374560F91D963371004EC5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3B977432A1F68BB3E6B878728012295CC6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1CD28418CE406FC2C1BA6AF765B3397B47987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B7942990037055ED3A24F07066B0A82E088BAB2629BD546AEDA7E1C04D24144D0928BE79DC6EADE64277410265C843B404779EE07558B0563C70DCC882F06920DEEFFE04A935B6753ED56B7A7E34A57835EA5355B3A00DC92A40FE29F6F1F1C4E0A8BB8E5972ACD3C0454F966671A0028A76C0967E51EC7A59DC479FDE871384B0DB900551F22DB202380E822B0311C7EE0C21227A0678F5121A42A8D0AEC73A30DB900551F22DB202380E822B0311C7E793EF792D491E0DDDF11EA99F8639A4FA51EFBE85B1660718232C81F7FBB6CCF204ADE2544CD6FCA894BB59990DEB3C51518A23323C8535EEC4FC125010E9390C4D48C14620BF456F4C5688F319B4612E716B3D9C3FFB338EA53382CF610D71AB9FAD7CC239E35538657A66CF301EF0ABA7B1422E824D3C047372237899C4C52B712B224CBD69CE64D734686D2714A9C285322B3C52E8ABC74DF9AF8206F3D26187DDCF931500041E33B714D0D338934F174F1A5200DC2EE0E23DA4EC49DCEDD5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3E5638D7EA4D23B75FC48C4695A85952F6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1C8D8FC0CED5F7A956AAF354F16471475E987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B181C46666049DE9E13AD1D2B2E085E6188BAB2629BD546AEDA7E1C04D24144D042A19DAEB379CA2BC6011DC4A1FB176C7D32930FE120DBBB30585C7327A004AD446BF88DD66F2061F3B48196C3C874CC9700AFBC1F89C4BCEB43C54B3D30C87879BFE00E77258A07010562067813CE59F2A02F00756C8A8BEB8039D420D6D36ED9096C7C2120531BC96EECCFC7DE250B177A69F7A2EDACE2093ACB2BCD47C45B656D5FB82D89286AC381C231F8428931D1FE9E2ACCDC48D54DD0DC4B3DD55F5DB1505B8802CE9347C9B2D0EE0ED66EF09597365E92C07D603B240081D2D9A297B3E67441249CCCF702AA68216D9017F8F4CEDB4EFF2975DA8BFB6D050148BC673324B051B6AB4CA1E3A7D42D14EDA8560D96F51DB4A51B877983975263B15922721624DBCB49BBCDF1B20FFC8AB1EF5DDA7FACF4AE61F63578C15F32826373DA2F512A50FEF595D569AA6FB631EAC04D8B9DB33416EC234496A6AAD671735B24BBBD5DB53EA5E7154071E74EF0BE481EC429551452268BE9C4919E923688457A987C9F48ED0ED2F84D721D60709D65992710F996D1E31CD59B0DA2948536E1ED5D4993D6599F2007E8DD123839F16A3F5205374DBA8E71242A15CBC9A068EFC31A2A4FFAD3221479093EFB3207D13498F9E5D6121EEA43BFF204A958A7A896B86C3E0F10B2FFFFCCF5A13B1766B4870DCE2AD69681A4BF45325339CE9F01DB90A61DF6FAC08BC9F808BE116002CB1C1BC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8D5E84E1A7ECB9F678655BFDFE7C6185ADE0D4642EC3033A4DC63003938262E8C766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B9B1648DC03DC2493069270ADFE0B58C5C0F88C2157260C25949B2934A28164AC81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DF81A014114D2A35BF113427ECC99BC4BCB95C51588CC417BFA9AB6F43DB55F34CD6047F37D38BE114350EFD1C8D811ABA7F091FCCF971D0B2B17597DC54F0902162E7C55C3C31D5BA0EDB1F9A9D3C19CEC3EEE373E0A71DDCBEAA0D6F8350F6A428A6A7791FCB75AA3EA49208C7A7E3C3AAABD3D76CA9A8A11C42BF5F5FB74B3160AA0AB5EC8EF5E1CB1276645ACE06BBC986BB3AF3A476493CCA7C7FF4E22C052E062A59E6A733D780BFCC2D2D4AABABCE6262DD74FE4E49DC60480748E6B1A992DA614F4D7FAAEF80ECEFE8107264D568D685E0B7A639C4387A43E7789DEB2D791680837C1FF9217DAF5B3AF03D2B39A996331794514801140377E70A74A9D8AB8CE9260F2C3ABF5548FFADB39F01C4BBBD5DB53EA5E7154071E74EF0BE481ECBE780167AA8A242146E3369B7732A2B3815FCABFABE9509A2DA3C61A20078B48A19771A677EDE403A2BA518E5D5ACF87942990037055ED3A24F07066B0A82E07454806472F90D4783C65BA282381D309EF7F74D2A5E852B4E26CD310AF64DDDAD6123B0CFD169D8BC296A04C0F728C4A902FAE39F74B40214651C5200047B0A60A50A9A4E8506A912A75356C2D677DE61AF6A2CEEC3345345E39B12144809A597D9663D775BA1483515B9D36E8AF8593567DB4E4A9011423E13A442EFF6F60A97D9663D775BA1483515B9D36E8AF8591F2CFC1C65A65B934FD56C104FE3640333BF4512BB432390A58F386BB41D3C268CBA1E5C0A86B6C6BAF6371722C96EA22445F6B3FBE14A0B6F6BDD6F1785A88D803E042ABF683F9718FA3EE7A21679BA5E91A3A2D09491FC4806EFE8B6C518390DDEAB7A89CC8E722A89B6B84B2E2539064E75FA72FF95EDE936D931CF9867CD3D3765C46B89D9CEDB6BC24CDC84E1A670E6F2B7E27419F7AF63923503A71E6800484E9FC4FA99C364015E1B1C71DE4AE7D84F6B2091AEB79947C7104CFB4400322870F31AFDC579D440B85A5DFC58D149781294547B1B41D87A0EDE7A6B82FFBBBD5DB53EA5E7154071E74EF0BE481E5F1E209932A07A74284CA6A2B38A6EEC2E60AFAD5B06EBD8BD1168C553E6E63C43CBA3899789DB7D6CC2742B36E171A5A68800C0180A6487C4A11DE09A70AD9A7762D77689AB4C70B818AB1A333C62C7F24E151085638879EC198D3A62FD261BBB724289FF9ADF421138E8D9719A176D342AE8150E7CEF39F66C6FC799C2B708581DCF80F575AFBE4CD2CD589EEB4F17B02CD8F7EA2B9C5BE548D0FB04AC4BB5738215D6C4598C41DADE77782ADF75E3F8F0A1F3608706F0BA78B859D3D8DFC3485CB655C350BDC856AD5A76506922850A17FB9517EA6B059FCC219C0BD98782A3218505C098E22823D6FE0F81AEFE78A8797D1E92CB6B4B8030CFACC8FB57CC907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E56854AED9B10AA2C1C82C6143BD6AA8D415BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60A1177FA7A10D393FE326F70356D951EC129FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D20F899C42EB990616BE2EEB4EEAA1DC4042B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB9A13A323744DB41781DC619818F34062B018602D747390CA88298E186A2EDBE43C2B5309E67A21BF89D2C2A7C43064E96A0BAE165ADC39234D05EC8A514C8CF60415B5C89ED64D651402034273A66F06E15DCAB2E9BE6B060C7CFC983D60911AF9BFED3E18BC6E12CFD374FE979F4511F0958EF7545AFB0E9BC8B3B863C43444187E5D73626EEA5856BBEF8CB8F21794C3767CB9A068F9DBDD2BEB65E50241F9CAB0DD5B5A18C48543C2428318BB4474354D09F5EBC845EEF08929E3D8B9DA990B458152E444C1A608286AE20178FA75C2F65FBCAD578FFE2B7541D2BF4C385F2E062A59E6A733D780BFCC2D2D4AABAB304DC51633924B0FE0D4D3ACFBF2055CE53EE6E3150396DE1D60B3B7435DAAC8212BFF39A31D407E2F8E1352D46D51C198EB9FEF9BF90ABDC3BDC228DA5F5C05403886195DEC70209990180F4D8291104DA1C6B11562D46194578A5BB1B95324493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1A502BDB6869C7D0CA8ED04501D481F0F85C49DBE377E736AA4E8ACF7B70373A8C3D49E10769ADF903F53E58FBB514FC2332F763EDD3197C938C322D46B3231B2080C83A717C0DD2C4513CBEC008A07432CB4C761CAE1DC4452664292099E09A8A24BB18281CF5B37B1BB7046EF26BD1BF35FF0C62640FDE24BA32BB172BBF45F24F6D231DD03926E08B733492616DA2987A749A04019F42FE6BC721013AF4CA8CCFB3E92CB7A47470A5D154588BE22E404AB3CD75FBE5589EDB5008A512CC1B40A5B9328442FDE48667E19087CD3AEBA89FABC82F326D3AE62AEBBFBE71D425C442E75B4597DCD21C5C6C29E49A002860802F5456AF8E1A53E18A4E92A76E7F4E\" }, \"signType\": \"SM2\", \"appCode\": \"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\", \"version\": \"1.0.0\", \"timestamp\": \"1736589824238\" }, \"message\": \"\u6210\u529f\", \"timestamp\": \"1736589824\", \"type\": \"success\" }, \"status\": 200, \"statusText\": \"OK\", \"headers\": { \"access-control-allow-credentials\": \"true\", \"access-control-allow-methods\": \"GET,POST,OPTIONS\", \"access-control-allow-origin\": \"https://fuwu.nhsa.gov.cn\", \"access-control-expose-headers\": \"Content-Length,Content-Range\", \"cache-control\": \"no-store\", \"connection\": \"keep-alive\", \"content-language\": \"zh-CN\", \"content-type\": \"application/json;charset=UTF-8\", \"date\": \"Sat, 11 Jan 2025 10:03:44 GMT\", \"server\": \"WAF\", \"strict-transport-security\": \"max-age=0; preload\", \"transfer-encoding\": \"chunked\", \"x-mg-code\": \"200\", \"x-mg-timestamp\": \"1736589824243\", \"x-mg-traceid\": \"647f0aae-9ee9-4f75-8e7f-ec56188a98ec\", \"x-request-id\": \"71a2300fd91fe9be166c43c4a40ae906\", \"x-ser\": \"i32399_c4103, i32859_c25015\" }, \"config\": { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\", \"x-tif-signature\": \"cfef8145813ab89ee6d9f36db876e211d9cfd2a9e864b9c26d10922c05804d6e\", \"x-tif-timestamp\": 1736589824, \"x-tif-nonce\": \"L3aL9aHK\", \"contentType\": \"application/x-www-form-urlencoded\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": \"{\\\"data\\\":{\\\"data\\\":{\\\"encData\\\":\\\"3DFBCA4667B978F639BB23B95DCE4CC74CE34C33DC32F1068E9E23CA546C9EA8CCD20943B4DAE96380B41164D761DE97BBBD5DB53EA5E7154071E74EF0BE481E2BADC2FDCC843E425B4CA14CEDBC102CA979CA4202C06C9F2CD837D90C6DA45E64DE712DF3683DE81C358841664CBE17561D0390069F11B0D412FE38BE15BA5C\\\"},\\\"appCode\\\":\\\"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\\\",\\\"version\\\":\\\"1.0.0\\\",\\\"encType\\\":\\\"SM4\\\",\\\"signType\\\":\\\"SM2\\\",\\\"timestamp\\\":1736589824,\\\"signData\\\":\\\"Ugk5SiJz4NMjy1pn5rbAHzbBaDJAeyHjkjWqn0nbFVaqYhVBP1Xcv4fnXon5s6yvPVmlJKtaoMrm1FYT7svv0w==\\\"}}\" }, \"request\": { \"_ty_rum\": 1, \"__ty_xhr_hooked_type\": \"onreadystatechange\" } }*/ ret = u.b(\"SM4\", e) console.log(ret) return ret } // decrypt() // 2. \u6d4b\u8bd5\u52a0\u5bc6\u4ee3\u7801 function encrypt(page) { let source_data = { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"common\": { \"Accept\": \"application/json, text/plain, */*\" }, \"delete\": {}, \"get\": {}, \"head\": {}, \"post\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"put\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"patch\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": { \"addr\": \"\", \"regnCode\": \"110000\", \"medinsName\": \"\", \"businessLvOutMedOtp\": \"\", \"pageNum\": page, \"pageSize\": 10, \"queryDataSource\": \"es\" } } return u.a(source_data)[\"data\"] } // console.log(encrypt(1)) main.py import json import time import requests import execjs js_compile = execjs.compile(open(\"main.js\").read()) cookies = { 'amap_local': '110000', 'yb_header_active': '-1', } headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', } for i in range(10): # \u4e00\u3001\u8bf7\u6c42\u52a0\u5bc6 data = js_compile.call(\"encrypt\", 2) response = requests.post( 'https://fuwu.nhsa.gov.cn/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo', cookies=cookies, headers=headers, json=json.loads(data), ) print(\"response.text:::\", response.text) res = response.json() # \u4e8c\u3001\u54cd\u5e94\u89e3\u5bc6 ret = js_compile.call(\"decrypt\", res) for i in ret[\"list\"]: print(i.get(\"medinsName\"), i.get(\"addr\")) time.sleep(2) 2. JS\u9006\u5411\u5b9e\u6218\u6848\u4f8b\u89e3\u6790\u3010\u8865\u73af\u5883\u3011 \u30101\u3011\u8865\u73af\u5883\u7684\u539f\u7406 \u6d4f\u89c8\u5668\u73af\u5883\u548cnode\u73af\u5883\u5bf9\u6bd4\uff1a \u6d4f\u89c8\u5668\u4e0b\uff1a node.js \u4e0b \u6d4f\u89c8\u5668\u73af\u5883 \uff1a \u662f\u6307 JS\u4ee3\u7801\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u5b83\u5305\u62ecV8\u81ea\u52a8\u6784\u5efa\u7684\u5bf9\u8c61\uff08\u5373ECMAScript\u7684\u5185\u5bb9,\u5982Date\u3001Array\uff09\uff0c\u6d4f\u89c8\u5668\uff08\u5185\u7f6e\uff09\u4f20\u9012\u7ed9V8\u7684\u64cd\u4f5cDOM\u548cBOM\u7684\u5bf9\u8c61\uff08\u5982document\u3001navigator\uff09\uff1b Node\u73af\u5883 \uff1a\u662f\u57fa\u4e8eV8\u5f15\u64ce\u7684Js\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u5b83\u5305\u62ecV8\u4e0e\u5176\u81ea\u5df1\u7684\u5185\u7f6eAPI\uff0c\u5982fs\uff0chttp\uff0cpath\uff1b Node\u73af\u5883 \u4e0e \u6d4f\u89c8\u5668\u73af\u5883 \u7684\u5f02\u540c\u70b9\u53ef\u4ee5\u7b80\u5355\u6982\u62ec\u5982\u56fe\uff1a \u6240\u4ee5\u6211\u4eec\u6240\u8bf4\u7684 \u201c\u8865\u6d4f\u89c8\u5668\u73af\u5883 \u201d \u5176\u5b9e\u662f\u8865\u6d4f\u89c8\u5668\u6709 \u800cNode\u6ca1\u6709\u7684\u73af\u5883\uff0c\u5373 \u8865BOM\u548cDOM\u7684\u5bf9\u8c61\uff1b \u5f53\u6211\u4eec\u8f9b\u82e6\u5c06\u6d4f\u89c8\u5668\u73af\u5883\u7684\u52a0\u5bc6\u6216\u8005\u89e3\u5bc6\u5165\u53e3\u627e\u5230\uff0c\u628a\u52a0\u5bc6\u6216\u8005\u89e3\u5bc6\u7684JS\u7684\u4ee3\u7801\u62f7\u8d1d\u5230\u672c\u5730\uff0c\u7531node\u89e3\u91ca\u5668\u9a71\u52a8\u6267\u884c\u7684\u65f6\u5019\uff0c\u4f1a\u56e0\u4e3a\u62f7\u8d1d\u7684JS\u4ee3\u7801\u4e2d\u5305\u62ec\u53ea\u80fd\u7531\u6d4f\u89c8\u5668\u8c03\u7528\u7684API\uff0c\u73b0\u5728\u88abnode\u6267\u884c\u5c31\u4f1a\u62a5\u9519\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u5728\u62f7\u8d1d\u7684\u4ee3\u7801\u73af\u5883\u4e2d\u6a21\u62df\u8865\u5145\u9700\u8981\u7684\u524d\u7aef\u5bf9\u8c61\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u975e\u5e38\u6709\u5fc5\u8981\u638c\u63e1\u6d4f\u89c8\u5668\u63a5\u53e3\u5bf9\u8c61\u5e38\u7528\u7684==\u516b\u5927\u524d\u7aef\u5bf9\u8c61== \u30102\u3011\u524d\u7aef8\u5927\u5fc5\u5907\u5bf9\u8c61 window:\u7a97\u53e3\u5bf9\u8c61\uff0c\u4e5f\u662f\u6700\u91cd\u8981\u7684\u4e00\u4e2a\u5bf9\u8c61 ```css addEventListener:f setInterval:f setTimeout:f name self document navigator location screen history toString:f ``` window\u662f\u9876\u7ea7\u53d8\u91cf\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u4efb\u4f55\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u6216\u51fd\u6570\u90fd\u4f1a\u6210\u4e3a window \u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf var yuan = 10;\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 window.yuan\u3002 window \u4ec5\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u5b58\u5728\u3002\u5728 Node.js \u7b49\u5176\u4ed6\u73af\u5883\u4e2d\uff0c\u9876\u7ea7\u5bf9\u8c61\u662f global \u3002 document\uff1a\u6587\u6863\u5bf9\u8c61\uff1a\u7b2c\u4e8c\u91cd\u8981\u5bf9\u8c61 ```css body documentElement cookie getElementById:f getElementByTagName:f getElementByClassName:f createElement:f toString:f ``` navigator\uff1a\u5bfc\u822a\u5bf9\u8c61 css userAgent toString:f location\uff1a\u5730\u5740\u680f\u5bf9\u8c61 css href toString:f screen\uff1a\u5c4f\u5e55\u5bf9\u8c61 css availHeight availLeft availTop availWidth toString:f history:\u5386\u53f2\u5bf9\u8c61 css back forward go toString:f localStorage\u548csessionStorage\uff1a\u672c\u5730\u5b58\u50a8\u5bf9\u8c61 css getItem:f setItem:f removeItem:f toString:f element\uff1a\u6cdb\u6307\uff0c\u6807\u7b7e\u5bf9\u8c61 ```css # \u5e38\u7528\u6807\u7b7e\u5bf9\u8c61 h1-h6\u6807\u7b7e p\u6807\u7b7e input\u6807\u7b7e div\u548cspan\u6807\u7b7e img\u6807\u7b7e table\u6807\u7b7e form\u6807\u7b7e canvas\u6807\u7b7e\uff1atoDataURL\uff1af # \u6807\u7b7e\u5bf9\u8c61\u5e38\u7528\u5c5e\u6027\u548c\u65b9\u6cd5 ele.style ele.innerHtml ele.getAttribute() ``` \u4e3a\u4e86\u66f4\u597d\u7684\u8ba9\u5927\u5bb6\u7406\u89e3\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u5b9e\u6218\u8865\u73af\u5883\u6848\u4f8b\uff0c\u6211\u5148\u7ed9\u5927\u5bb6\u6a21\u62df\u4e86\u4e00\u5957\u7b80\u5355\u7684JS\u9006\u5411\u4ee3\u7801 ```js function get_sign() { // \u9ed1\u5323\u5b50\uff0c\u7701\u7565\u5f88\u591a\u4ee3\u7801 // (1) BOM\u548cDOM\u6b63\u5e38\u7684\u524d\u7aef\u52a8\u4f5c window.addEventListener(\"test\") // \u641c\u7d22\u6846 let kw = document.getElementById(\"kw\") let _class = kw.getAttribute(\"class\") // \u521b\u5efa\u753b\u5e03 let canvas = document.createElement(\"canvas\") let ctx = canvas.getContext(\"2d\"); ctx.fillRect(10, 10, 100, 100); // (2) \u57fa\u4e8eDOM\u548cBOM\u8fdb\u884c\u73af\u5883\u6821\u9a8c if (navigator.toString() === '[object Navigator]') { let navLength = navigator.userAgent.length return \"u82d1660a\" + navLength // Yuan\u8001\u5e08\u7684\u5fae\u4fe1\uff0c\u60f3\u6df1\u5165\u5b66\u9006\u5411\u722c\u866b\u7684\u8054\u7cfb\u6211\uff0c\u7ed3\u4e00\u6bb5\u5584\u7f18! } else { return false } } console.log(get_sign()) ``` \u5728\u8fd9\u91cc\uff0c\u6574\u5c42\u7684JS\u52a0\u5bc6\u4ee3\u7801\u5bf9\u4e8e\u6211\u4eec\u800c\u8a00\u5c31\u662f\u4e00\u4e2a\u9ed1\u5323\u5b50\uff0c\u6709\u5343\u5343\u4e07\u4e07\u884c\u4ee3\u7801\uff0c\u751a\u81f3\u505a\u4e86\u6df7\u6dc6\u5904\u7406\uff0c\u6211\u4eec\u4e0d\u80fd\u53bb\u4e00\u884c\u884c\u8bfb\uff0c\u770b\u770b\u6574\u4e2a\u8fc7\u7a0b\u5230\u5e95\u7528\u5230\u4e86\u54ea\u4e9b\u5bf9\u8c61\u4ee5\u53ca\u5bf9\u5e94\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u3002\u6240\u4ee5\u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u4e86\u5230\u4e86\u8865\u73af\u5883\u6700\u7ec8\u7684\u4e00\u4ef6\u4e8b\u60c5\uff1a==\u4ee3\u7406\u76d1\u63a7== \u30103\u3011Proxy\u4ee3\u7406 JavaScript\u4e2d\u7684Proxy\u662f\u4e00\u79cd\u5185\u7f6e\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u8bbf\u95ee\u6216\u64cd\u4f5c\u5bf9\u8c61\u4e4b\u524d\u62e6\u622a\u548c\u81ea\u5b9a\u4e49\u5e95\u5c42\u64cd\u4f5c\u7684\u884c\u4e3a\u3002\u901a\u8fc7\u4f7f\u7528Proxy\uff0c\u4f60\u53ef\u4ee5\u4fee\u6539\u5bf9\u8c61\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u903b\u8f91\u6216\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4ee5\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u64cd\u4f5c\u548c\u63a7\u5236\u3002 Proxy\u5bf9\u8c61\u5305\u88c5\u4e86\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff08\u76ee\u6807\u5bf9\u8c61\uff09\uff0c\u5e76\u5141\u8bb8\u4f60\u5b9a\u4e49\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u6765\u62e6\u622a\u5bf9\u76ee\u6807\u5bf9\u8c61\u7684\u64cd\u4f5c\u3002\u5904\u7406\u7a0b\u5e8f\u662f\u4e00\u4e2a\u5e26\u6709\u7279\u5b9a\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u88ab\u79f0\u4e3a\"\u6355\u83b7\u5668\"\uff08traps\uff09\uff0c\u5b83\u4eec\u4f1a\u5728\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u65f6\u88ab\u8c03\u7528\u3002 var yuan = { username: \"yuan\", age: 22, wx: \"u82d1660a\" } yuan = new Proxy(yuan, { get(target, p, receiver) { console.log(target, \"\u67e5\u8be2\u4e86\u5c5e\u6027\", p) // return window['username'];/// \u8fd9\u91cc\u5982\u679c\u8fd9\u6837\u5199. \u6709\u9012\u5f52\u98ce\u9669\u7684... // return Reflect.get(...arguments); return Reflect.get(target, p); }, set(target, p, value, receiver) { console.log(target, \"\u8bbe\u7f6e\u4e86\u5c5e\u6027\", p, \"\u503c\u4e3a\uff1a\", value) Reflect.set(target, p, value); } }); yuan.username; yuan.age; yuan.username = \"rain\" yuan.age = 18 \u57fa\u4e8eProxy\u7684\u7279\u6027\uff0c\u884d\u751f\u4e86\u57fa\u672c\u8865\u73af\u5883\u601d\u8def\uff1a\u5728\u672c\u5730\uff0c\u7528 Proxy \u4ee3\u7406\u76d1\u63a7\u6d4f\u89c8\u5668\u6240\u6709\u7684BOM\u3001DOM\u5bf9\u8c61\uff0c\u76f8\u5f53\u4e8e\u5728node.js\u4e2d\uff0c\u5bf9\u6574\u4e2a\u6d4f\u89c8\u5668\u73af\u5883\u5bf9\u8c61\u8fdb\u884c\u4e86\u4ee3\u7406\uff0c\u62f7\u8d1d\u7684\u52a0\u5bc6JS\u4ee3\u7801\u4f7f\u7528\u4efb\u4f55==\u6d4f\u89c8\u5668 api==\u90fd\u80fd\u88ab\u6211\u4eec\u6240\u62e6\u622a\u3002\u7136\u540e\u6211\u4eec\u9488\u5bf9\u62e6\u622a\u5230\u7684\u73af\u5883\u68c0\u6d4b\u70b9\u53bb\u8865\u5bf9\u5e94\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u56e0\u4e3a\u63a5\u4e0b\u6765\u7684\u8865\u73af\u5883\u4e2d\uff0c\u6d89\u53ca\u5230\u9700\u8981\u76d1\u63a7\u7684\u524d\u7aef\u5bf9\u8c61\u8fd8\u662f\u6bd4\u8f83\u591a\u7684 \uff0c\u5982\u679c\u6bcf\u4e00\u4e2a\u90fd\u6309\u7740\u4e0a\u9762\u5bf9yuan\u7684Proxy\u4ee3\u7406\uff0c\u5c31\u4f1a\u5bfc\u81f4\u76d1\u63a7\u4ee3\u7801\u5927\u91cf\u91cd\u590d\u4e0d\u7b80\u6d01\u3002\u6240\u4ee5\uff0c\u5728\u8fd9\u91cc\uff0c\u722c\u866b\u5de5\u7a0b\u5e08\u90fd\u9700\u8981\u4e00\u4e2a\u7b80\u5355\u7684\u529f\u80fd\u51fd\u6570\uff0c\u5bf9\u9700\u8981\u76d1\u63a7\u7684\u6570\u7ec4\u5bf9\u8c61\u5faa\u73af\u76d1\u63a7\uff1a function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const objName = proxyObjArr[i]; const handler = { get(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", target[property], \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", value, \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(target, property, value, receiver); } }; // \u68c0\u67e5\u5e76\u521d\u59cb\u5316\u5bf9\u8c61 let targetObject = global[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global global[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global } } \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u5c06\u8fd9\u6bb5Proxy\u76d1\u63a7\u51fd\u6570\u6ce8\u5165\u5230\u521a\u624d\u6211\u4eec\u7684\u6848\u4f8b\u4e2d\uff1a window = global window.addEventListener = function () { } kw = { getAttribute() { } } ctx = { fillRect: function () { } } canvas = { getContext() { return ctx } } document = { getElementById(id) { console.log(\"document getElementById by:\", id) if (id === \"kw\") { return kw } }, createElement(ele) { console.log(\"document createElement \", ele) return canvas } } navigator = { userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', toString: function () { return '[object Navigator]' } } function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const objName = proxyObjArr[i]; const handler = { get(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", target[property], \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", value, \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(target, property, value, receiver); } }; // \u68c0\u67e5\u5e76\u521d\u59cb\u5316\u5bf9\u8c61 let targetObject = global[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global global[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global } } setProxyArr([\"window\", \"document\", \"navigator\"]) function get_sign() { // \u9ed1\u5323\u5b50\uff0c\u7701\u7565\u5f88\u591a\u4ee3\u7801 // (1) BOM\u548cDOM\u6b63\u5e38\u7684\u524d\u7aef\u52a8\u4f5c window.addEventListener(\"test\") // \u641c\u7d22\u6846 let kw = document.getElementById(\"kw\") let _class = kw.getAttribute(\"class\") // \u521b\u5efa\u753b\u5e03 let canvas = document.createElement(\"canvas\") let ctx = canvas.getContext(\"2d\"); ctx.fillRect(10, 10, 100, 100); // (2) \u57fa\u4e8eDOM\u548cBOM\u8fdb\u884c\u73af\u5883\u6821\u9a8c if (navigator.toString() === '[object Navigator]') { let navLength = navigator.userAgent.length return \"u82d1660a\" + navLength // Yuan\u8001\u5e08\u7684\u5fae\u4fe1\uff0c\u60f3\u6df1\u5165\u5b66\u9006\u5411\u722c\u866b\u7684\u8054\u7cfb\u6211\uff0c\u7ed3\u4e00\u6bb5\u5584\u7f18! } else { return false } } console.log(get_sign()) \u73af\u5883\u9a8c\u8bc1\u7684JS\u4ee3\u7801\u5176\u5b9e\u4e00\u5171\u6709\u4e24\u4e2a\u601d\u8def\uff0c\u601d\u8def\u4e00\u662f\u57fa\u4e8e\u5f53\u524d\u73af\u5883\u662f\u4e0d\u662f\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u662f\u7684\u8bdd\u6b63\u5e38\u6267\u884c\u3002\u601d\u8def\u4e8c\u662f\u5f53\u524d\u73af\u5883\u662f\u4e0d\u662fnode\u73af\u5883\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5219\u6b63\u5e38\u6267\u884c\uff0c\u6269\u5c55\u6848\u4f8b\uff1a window = global delete global delete process delete Buffer delete __dirname delete __filename window.addEventListener = function () { } kw = { getAttribute() { } } ctx = { fillRect: function () { } } canvas = { getContext() { return ctx } } document = { getElementById(id) { console.log(\"document getElementById by:\", id) if (id === \"kw\") { return kw } }, createElement(ele) { console.log(\"document createElement \", ele) return canvas } } navigator = { userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', toString: function () { return '[object Navigator]' } } function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const objName = proxyObjArr[i]; const handler = { get(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", target[property], \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", value, \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(target, property, value, receiver); } }; // \u68c0\u67e5\u5e76\u521d\u59cb\u5316\u5bf9\u8c61 // let targetObject = global[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global // global[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global let targetObject = window[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global window[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global } } setProxyArr([\"window\", \"document\", \"navigator\"]) function get_sign() { // \u9ed1\u5323\u5b50\uff0c\u7701\u7565\u5f88\u591a\u4ee3\u7801 // (1) BOM\u548cDOM\u6b63\u5e38\u7684\u524d\u7aef\u52a8\u4f5c window.addEventListener(\"test\") // \u641c\u7d22\u6846 let kw = document.getElementById(\"kw\") let _class = kw.getAttribute(\"class\") // \u521b\u5efa\u753b\u5e03 let canvas = document.createElement(\"canvas\") let ctx = canvas.getContext(\"2d\"); ctx.fillRect(10, 10, 100, 100); let navLength = navigator.userAgent.length // (2) \u57fa\u4e8eDOM\u548cBOM\u8fdb\u884c\u73af\u5883\u6821\u9a8c if (navigator.toString() === '[object Navigator]') { // (3) \u57fa\u4e8enode\u5173\u952e\u5b57\u5224\u65ad\u662f\u4e0d\u662f\u6d4f\u89c8\u5668\u73af\u5883 const isNode = typeof process !== 'undefined' && typeof global !== 'undefined'; if (isNode) { console.log(\"\u5f53\u524d\u73af\u5883\u662f Node.js\"); return false } else { console.log(\"\u5f53\u524d\u73af\u5883\u4e0d\u662f Node.js\"); return \"u82d1660a\".toUpperCase() + navLength // Yuan\u8001\u5e08\u7684\u5fae\u4fe1\uff0c\u60f3\u6df1\u5165\u5b66\u9006\u5411\u722c\u866b\u7684\u8054\u7cfb\u6211\uff0c\u7ed3\u4e00\u6bb5\u5584\u7f18! } } else { return false } } console.log(get_sign()) JavaScript\u4e2d\u7684Proxy\u662f\u4e00\u79cd\u5185\u7f6e\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u8bbf\u95ee\u6216\u64cd\u4f5c\u5bf9\u8c61\u4e4b\u524d\u62e6\u622a\u548c\u81ea\u5b9a\u4e49\u5e95\u5c42\u64cd\u4f5c\u7684\u884c\u4e3a\u3002\u901a\u8fc7\u4f7f\u7528Proxy\uff0c\u4f60\u53ef\u4ee5\u4fee\u6539\u5bf9\u8c61\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u903b\u8f91\u6216\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4ee5\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u64cd\u4f5c\u548c\u63a7\u5236\u3002 Proxy\u5bf9\u8c61\u5305\u88c5\u4e86\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff08\u76ee\u6807\u5bf9\u8c61\uff09\uff0c\u5e76\u5141\u8bb8\u4f60\u5b9a\u4e49\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u6765\u62e6\u622a\u5bf9\u76ee\u6807\u5bf9\u8c61\u7684\u64cd\u4f5c\u3002\u5904\u7406\u7a0b\u5e8f\u662f\u4e00\u4e2a\u5e26\u6709\u7279\u5b9a\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u88ab\u79f0\u4e3a\"\u6355\u83b7\u5668\"\uff08traps\uff09\uff0c\u5b83\u4eec\u4f1a\u5728\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u65f6\u88ab\u8c03\u7528\u3002 var yuan = { username: \"yuan\", age: 22 } yuan = new Proxy(yuan, { get(target, p, receiver) { console.log(\"target: \", target); console.log(\"p: \", p); // return window['username'];/// \u8fd9\u91cc\u5982\u679c\u8fd9\u6837\u5199. \u6709\u9012\u5f52\u98ce\u9669\u7684... // return Reflect.get(...arguments); return Reflect.get(target, p); }, set(target, p, value, receiver) { console.log(\"\u8bbe\u7f6e\u64cd\u4f5c\") Reflect.set(target, p, value); } }); console.log(yuan.username); console.log(yuan.age); yuan.username = \"rain\" yuan.age = 18 console.log(yuan.username); console.log(yuan.age); \u57fa\u4e8eProxy\u7684\u7279\u6027\uff0c\u884d\u751f\u4e86\u4e24\u79cd\u8865\u73af\u5883\u601d\u8def\uff1a Proxy \u4ee3\u7406\u6d4f\u89c8\u5668\u6240\u6709\u7684 BOM\u3001DOM\u5bf9\u8c61\u53ca\u5176\u5c5e\u6027 \uff0c\u518d\u914d\u5408 node vm2\u6a21\u5757 \u63d0\u4f9b\u7684 \u7eaf\u51c0V8\u73af\u5883 \uff0c\u5c31\u76f8\u5f53\u4e8e\u5728node\u4e2d\uff0c\u5bf9\u6574\u4e2a\u6d4f\u89c8\u5668\u73af\u5883\u5bf9\u8c61\u8fdb\u884c\u4e86\u4ee3\u7406\uff0cJS\u4ee3\u7801\u4f7f\u7528\u4efb\u4f55 \u6d4f\u89c8\u5668\u73af\u5883 api\u90fd\u80fd\u88ab\u6211\u4eec\u6240\u62e6\u622a\u3002\u7136\u540e\u6211\u4eec\u9488\u5bf9\u62e6\u622a\u5230\u7684\u73af\u5883\u68c0\u6d4b\u70b9\u53bb\u8865\u3002 \u642d\u5efa\u8865\u73af\u5883\u6846\u67b6\uff0c\u7528JS\u6a21\u62df\u6d4f\u89c8\u5668\u57fa\u4e8e\u539f\u578b\u94fe\u53bb\u4f2a\u9020\u5b9e\u73b0\u5404\u4e2aBOM\u3001DOM\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u8fd9\u4e9bJS\u7ec4\u7ec7\u8d77\u6765\uff0c\u5f62\u6210\u4e00\u4e2a \u7eafJS\u7248\u6d4f\u89c8\u5668\u73af\u5883 \uff0c\u8865\u73af\u5883\u8d8a\u5b8c\u5584\uff0c\u8d8a\u63a5\u8fd1\u771f\u5b9e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u80fd\u901a\u6740\u7684js\u73af\u5883\u68c0\u6d4b\u5c31\u8d8a\u591a\u3002 \u57fa\u4e8e\u4e0a\u9762\u7684\u8bed\u6cd5\uff0c\u6211\u4eec\u6784\u5efa\u4e00\u5957\u5b8c\u6574\u7684\u4ee3\u7406\u8865\u73af\u5883\u7684\u529f\u80fd\u51fd\u6570 function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const handler = `{ get: function(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get \", \"\u5bf9\u8c61:\", \"${proxyObjArr[i]}\", \" \u5c5e\u6027:\", property, \" \u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \", \u5c5e\u6027\u503c\uff1a\", target[property], \", \u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set: function(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set \", \"\u5bf9\u8c61:\", \"${proxyObjArr[i]}\", \" \u5c5e\u6027:\", property, \" \u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \", \u5c5e\u6027\u503c\uff1a\", value, \", \u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(...arguments); } }`; eval(`try { ${proxyObjArr[i]}; ${proxyObjArr[i]} = new Proxy(${proxyObjArr[i]}, ${handler}); } catch (e) { ${proxyObjArr[i]} = {}; ${proxyObjArr[i]} = new Proxy(${proxyObjArr[i]}, ${handler}); }`); } } 3. \u745e\u6570\u4e4b\u8865\u73af\u5883 3.1\u3001\u745e\u6570\u4ecb\u7ecd \u200c\u745e\u6570\u4fe1\u606f\u662f\u4e00\u5bb6\u4e13\u6ce8\u4e8e\u63d0\u4f9b\u4e92\u8054\u7f51\u52a8\u6001\u4e1a\u52a1\u5e94\u7528\u5b89\u5168\u9632\u62a4\u89e3\u51b3\u65b9\u6848\u7684\u516c\u53f8 \u745e\u6570\u52a8\u6001\u5b89\u5168 Botgate\uff08 \u673a\u5668\u4eba \u9632\u706b\u5899\uff09\u4ee5\u201c\u52a8\u6001\u5b89\u5168\u201d\u6280\u672f\u4e3a\u6838\u5fc3\uff0c\u901a\u8fc7\u52a8\u6001\u5c01\u88c5\u3001\u52a8\u6001\u9a8c\u8bc1\u3001\u52a8\u6001\u6df7\u6dc6\u3001\u52a8\u6001\u4ee4\u724c\u7b49\u6280\u672f\u5bf9\u670d\u52a1\u5668\u7f51\u9875\u5e95\u5c42\u4ee3\u7801\u6301\u7eed\u52a8\u6001\u53d8\u6362\uff0c\u589e\u52a0\u670d\u52a1\u5668\u884c\u4e3a\u7684\u201c\u4e0d\u53ef\u9884\u6d4b\u6027\u201d\uff0c\u5b9e\u73b0\u4e86\u4ece\u7528\u6237\u7aef\u5230\u670d\u52a1\u5668\u7aef\u7684\u5168\u65b9\u4f4d\u201c\u4e3b\u52a8\u9632\u62a4\u201d\uff0c\u4e3a\u5404\u7c7b Web\u3001HTML5 \u63d0\u4f9b\u5f3a\u5927\u7684\u5b89\u5168\u4fdd\u62a4\u3002 \u745e\u6570\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u6211\u4eec\u8fdb\u5165\u5230JS\u9006\u5411\u4e16\u754c\u7684\u6807\u5fd7 \u8fc7\u745e\u6570\u7684\u65b9\u6cd5\u57fa\u672c\u4e0a\u6709\u4ee5\u4e0b\u51e0\u79cd \u81ea\u52a8\u5316\u5de5\u5177 \u8865\u73af\u5883 \u7eaf\u7b97 3.2\u3001\u745e\u6570\u6d41\u7a0b rs\u7684\u7f51\u7ad9\u4f1a\u8bf7\u6c42\u4e24\u6b21page_url\uff08\u6587\u6863\u8bf7\u6c42\uff09\uff0c\u7b2c1\u6b21page_url\uff08\u6587\u6863\u8bf7\u6c42\uff09\u4f1a\u8fd4\u56de\u4e00\u4e2acookie1\uff0c\u548c\u4e00\u4e2a\u54cd\u5e94\u4f53\uff08HTML\u6e90\u7801\uff09\uff0c\u4ee5\u53ca\u8bf7\u6c42\u54cd\u5e94\u7801\u662f 202\u6216\u8005 412 \u54cd\u5e94\u4f53\uff08HTML\u6e90\u7801\uff09\u5305\u62ec3\u4e2a\u90e8\u5206\uff1a \u4e00\u4e2ameta\u6807\u7b7e \uff0c\u5176content\u5185\u5bb9\u5f88\u957f\u4e14\u662f \u52a8\u6001 \u7684\uff08\u6bcf\u6b21\u8bf7\u6c42\u4f1a\u53d8\u5316\uff09\uff0c\u4f1a\u5728eval\u6267\u884c\u7b2c\u4e8c\u5c42JS\u4ee3\u7801\u65f6\u4f7f\u7528\u5230\uff1b \u4e00\u4e2ats\u4ee3\u7801 \uff0c\u4e0b\u9762\u7684\u81ea\u6267\u884c\u51fd\u6570\u4f1a\u89e3\u5bc6\u6587\u4ef6\u5185\u5bb9\u751f\u6210eval\u6267\u884c\u65f6\u9700\u8981\u7684JS\u6e90\u7801\uff0c\u4e5f\u5c31\u662f\u7b2c\u4e8c\u5c42vm\u4ee3\u7801\uff1b \u4e00\u4e2a\u5927\u81ea\u6267\u884c\u51fd\u6570 \uff08\u6bcf\u6b21\u8bf7\u6c42\u9996\u9875\u90fd\u4f1a \u52a8\u6001 \u53d8\u5316\uff09\uff0c\u4e3b\u8981\u662f\u89e3\u5bc6\u5916\u94feJS\u5185\u5bb9\uff0c\u7ed9window\u6dfb\u52a0\u4e00\u4e9b\u5c5e\u6027\u5982$_ts\uff0c\u4f1a\u5728vm\u4e2d\u4f7f\u7528; \u8fd9\u4e09\u4e2a\u8981\u7d20\u7528\u4e8e\u5728\u672c\u5730\u751f\u6210\u4e00\u4e2acookie2\uff0c\u7528\u4e8e\u7b2c2\u6b21\u8bf7\u6c42 \u7b2c2\u6b21page_url\uff08\u6587\u6863\u8bf7\u6c42\uff09\u643a\u5e26cookie1\u548cncookie2\uff0c\u83b7\u53d6\u771f\u6b63\u7684\u9875\u9762\u5185\u5bb9\uff01 \u745e\u6570 3\u30014 \u4ee3\u6709\u4ee5 T \u548c S \u7ed3\u5c3e\u7684\u4e24\u4e2a Cookie\uff0c\u5176\u4e2d\u4ee5 S \u5f00\u5934\u7684 Cookie \u662f\u7b2c\u4e00\u6b21\u7684 201 \u90a3\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684\uff0c\u4ee5 T \u5f00\u5934\u7684 Cookie \u662f\u7531 JS \u751f\u6210\u7684\uff0c\u52a8\u6001\u53d8\u5316\u7684\uff0cT \u548c S \u524d\u9762\u4e00\u822c\u4f1a\u8ddf 80 \u6216 443 \u7684\u6570\u5b57\uff0cCookie \u503c\u7b2c\u4e00\u4e2a\u6570\u5b57\u4e3a\u745e\u6570\u7684\u7248\u672c\u3002 \u745e\u6570 5 \u4ee3\u4e5f\u6709\u4ee5 T \u548c S \u7ed3\u5c3e\u7684\u4e24\u4e2a Cookie\uff0c\u4f46\u6709\u4e9b\u7279\u6b8a\u7684 5 \u4ee3\u745e\u6570\u4e5f\u6709\u4ee5 O \u548c P \u7ed3\u5c3e\u7684\uff0c\u540c\u6837\u7684\uff0c\u4ee5 O \u5f00\u5934\u7684\u662f\u7b2c\u4e00\u6b21\u7684 412 \u90a3\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684\uff0c\u4ee5 P \u5f00\u5934\u7684\u662f\u7531 JS \u751f\u6210\u7684\uff0cCookie \u503c\u7b2c\u4e00\u4e2a\u6570\u5b57\u540c\u6837\u4e3a\u745e\u6570\u7684\u7248\u672c\u3002 3.3\u3001\u745e\u6570\u6848\u4f8b\u89e3\u6790 \u30101\u3011\u5165\u53e3\u5b9a\u4f4d \u5148\u5b9a\u4f4d\u5165\u53e3\uff0c\u8fd9\u91cc\u6d89\u53ca\u4e00\u4e2aVM\u73af\u5883 \u201cVM\u201d\u8868\u793a\u7684\u662fVirtual Machine\uff08\u865a\u62df\u673a\uff09\uff0c\u8fd9\u4e9b\u6587\u4ef6\u901a\u5e38\u8868\u793a \u7531\u6d4f\u89c8\u5668\u751f\u6210\u548c\u6267\u884c\u7684\u865a\u62df\u673a\u811a\u672c\u73af\u5883\u4e2d\u7684\u4e34\u65f6\u811a\u672c \u3002\u8fd9\u4e9b\u811a\u672c\u5e76\u4e0d\u662f\u9879\u76ee\u6e90\u4ee3\u7801\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u4e0d\u662f\u5b9e\u9645\u5b58\u5728\u7684\u7269\u7406\u6587\u4ef6\u3002 \u5b83\u4eec \u5728\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d\u521b\u5efa\u5e76\u6267\u884c \u3002 \u6bd4\u5982\u8bf4\uff0c\u5f53\u4f60\u5728\u8c03\u8bd5\u4e00\u4e2a\u7f51\u9875\u65f6\uff0c\u5982\u679c\u5728\u67d0\u4e9b\u52a8\u6001\u751f\u6210\u5e76\u6267\u884c\u7684JS\u4ee3\u7801\u4e0a\u8bbe\u5b9a\u4e86\u65ad\u70b9\uff0cChrome\u8c03\u8bd5\u5668\u4f1a\u5728\u4e00\u4e2a\u4ee5\"VM\"\u5f00\u5934\u7684\u6587\u4ef6\u4e2d\u663e\u793a\u8fd9\u4e9b\u4ee3\u7801\uff0c\u4f8b\u5982\"VM111.js\"\u3002\u8fd9\u4e2a\"VM\"\u6587\u4ef6\u7684\u5b58\u5728\u53ea\u662f\u4e3a\u4e86\u8c03\u8bd5\u76ee\u7684\uff0c\u5b83\u5e76\u4e0d\u5b58\u5728\u4e8e\u670d\u52a1\u5668\u7aef\uff0c\u4e5f\u4e0d\u4f1a\u88ab\u5b58\u50a8\u5728\u672c\u5730\uff0c\u800c\u662f\u5b58\u5728\u4e8e\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8fd9\u7c7b\u6587\u4ef6\u7684\u51fa\u73b0\u662f\u56e0\u4e3a\u6d4f\u89c8\u5668\u5bf9JavaScript\u4ee3\u7801\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u5982\u52a8\u6001\u7f16\u8bd1\u6216\u8005JavaScript\u5806\u6808\u8ddf\u8e2a\u3002 \u901a\u8fc7eval\u51fd\u6570\u6216\u8005new Function\u65b9\u6cd5\uff0cChrome\u6d4f\u89c8\u5668\u4f1a\u521b\u5efa\u4e00\u4e2a\"VM\"\u6587\u4ef6\u6765\u5c55\u793a\u8fd9\u6bb5\u4e34\u65f6\u6267\u884c\u7684\u4ee3\u7801 \u901a\u8fc7\u811a\u672c\u65ad\u70b9\u53ef\u4ee5\u65ad\u4f4fts\u548c\u81ea\u6267\u884c\u51fd\u6570\uff0c\u56e0\u4e3a\u7b2c\u4e00\u6b21\u54cd\u5e94\u7684index.html\u662f\u52a8\u6001\u7684\uff0c\u6240\u4ee5\u4e3a\u4e86\u540e\u9762\u8c03\u8bd5\uff0c\u6211\u4eec\u5148\u8bd5\u7528\u6587\u4ef6\u66ff\u6362\u672c\u5730\u5316\u3002 \u63a5\u4e0b\u6765\u5728index.html\u4e2d\u76f4\u63a5\u4f7f\u7528\u6b63\u5219\u5feb\u901f\u5b9a\u4f4d\u5165\u53e3\u51fd\u6570\uff1a # \u745e\u65705:\u6b63\u5219\u641c\u7d22 \\S{4} = \\S{4}\\[\\S{4}\\[\\d{2}\\]\\]\\(\\S{4}, # \u745e\u65706:\u641c\u7d22.call \u8fd9\u4e2a\u4f4d\u7f6e\u901a\u5e38\u5728\u5206\u6790\u745e\u6570\u7684\u65f6\u5019\u4f5c\u4e3a\u5165\u53e3\uff0c\u56fe\u4e2d == $BH== \u5b9e\u9645\u4e0a\u662f ==eval== \u65b9\u6cd5\uff0c\u4f20\u5165\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570 == $4u== \u662f ==Window \u5bf9\u8c61==\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u8c61 ==_$wt== \u662f\u6211\u4eec\u524d\u9762\u770b\u5230\u7684 VM \u865a\u62df\u673a\u4e2d\u7684 IIFE \u81ea\u6267\u884c\u4ee3\u7801\u3002 \u6700\u540e\u5728\u5165\u53e3\u4f4d\u7f6e\u5355\u6b65\u8c03\u8bd5\uff0c\u5373\u53ef\u8fdb\u5165\u5230VM\u73af\u5883\uff01 \u540e\u9762\u7684\u65ad\u70b9\u8c03\u8bd5\u5c31\u5728\u8fd9\u4e2a\u73af\u5883\u4e2d\u3002 \u30102\u3011\u8865\u73af\u5883 \u6ce8\u610fcontent\u7684\u503c\u548cauto.js\u662f\u5173\u8054\u7684\uff0c\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\uff01 \u521d\u59cb\u5316\u8865\u73af\u5883\u6587\u4ef6 delete __dirname delete __filename top = self = window = global document = {} location = {} navigator = {} history = {} screen = {} function getEnv(proxy_array) { for (var i = 0; i < proxy_array.length; i++) { handler = `{\\n get: function(target, property, receiver) {\\n console.log('\u65b9\u6cd5\uff1aget',' \u5bf9\u8c61\uff1a${proxy_array[i]}',' \u5c5e\u6027\uff1a',property,' \u5c5e\u6027\u7c7b\u578b\uff1a',typeof property,' \u5c5e\u6027\u503c\u7c7b\u578b\uff1a',typeof target[property]); return target[property]; }, set: function(target, property, value, receiver){\\n console.log('\u65b9\u6cd5\uff1aset',' \u5bf9\u8c61\uff1a${proxy_array[i]}',' \u5c5e\u6027\uff1a',property,' \u5c5e\u6027\u7c7b\u578b\uff1a',typeof property,' \u5c5e\u6027\u503c\u7c7b\u578b\uff1a',typeof target[property]); return Reflect.set(...arguments); } }` eval(` try { ${proxy_array[i]}; ${proxy_array[i]} = new Proxy(${proxy_array[i]}, ${handler}); } catch (e) { ${proxy_array[i]} = {}; ${proxy_array[i]} = new Proxy(${proxy_array[i]}, ${handler}); } `) } } proxy_array = ['window', 'document', 'location', 'navigator', 'history', 'screen'] getEnv(proxy_array) \u63a5\u4e0b\u6765\u5c31\u662f\u6309\u4e4b\u524d\u6559\u7ed9\u5927\u5bb6\u7684\u76d1\u63a7\u5668\u8865\u73af\u5883\u3002 4. Web\u81ea\u52a8\u5316-DrissionPage 4.1\u3001DP\u521d\u8bc6 \u5728\u5f53\u4eca\u4e92\u8054\u7f51\u9ad8\u901f\u53d1\u5c55\u7684\u65f6\u4ee3\uff0c\u7f51\u9875\u6570\u636e\u7684\u83b7\u53d6\u548c\u5904\u7406\u53d8\u5f97\u6108\u53d1\u91cd\u8981\u3002\u4f20\u7edf\u7684\u81ea\u52a8\u5316\u5de5\u5177\u5982 Selenium \u5728\u67d0\u4e9b\u65b9\u9762\u9010\u6e10\u663e\u9732\u51fa\u4e00\u4e9b\u5c40\u9650\u6027\uff0c\u800c DrissionPage \u6b63\u662f\u5728\u8fd9\u6837\u7684\u80cc\u666f\u4e0b\u5d2d\u9732\u5934\u89d2\u3002 DrissionPage \u7684\u53d1\u5c55\u5386\u7a0b\u5145\u6ee1\u4e86\u521b\u65b0\u4e0e\u7a81\u7834\u3002\u5b83\u6700\u521d\u7684\u8bbe\u8ba1\u7406\u5ff5\u662f\u5c06\u6d4f\u89c8\u5668\u81ea\u52a8\u5316\u548c\u6570\u636e\u5305\u64cd\u63a7\u76f8\u7ed3\u5408\uff0c\u4ee5\u89e3\u51b3\u4f20\u7edf\u5de5\u5177\u5728\u9762\u5bf9\u590d\u6742\u7f51\u9875\u4ea4\u4e92\u548c\u53cd\u722c\u673a\u5236\u65f6\u7684\u4e0d\u8db3\u3002\u4ece\u65e9\u671f\u7684\u7248\u672c\u5f00\u59cb\uff0cDrissionPage \u5c31\u81f4\u529b\u4e8e\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e00\u79cd\u66f4\u9ad8\u6548\u3001\u66f4\u4fbf\u6377\u7684\u7f51\u9875\u81ea\u52a8\u5316\u89e3\u51b3\u65b9\u6848\u3002 \u5728\u53d1\u5c55\u8fc7\u7a0b\u4e2d\uff0cDrissionPage \u4e0d\u65ad\u4f18\u5316\u548c\u6539\u8fdb\u81ea\u8eab\u7684\u529f\u80fd\u3002\u5b83\u6446\u8131\u4e86\u5bf9 Selenium \u7684\u4f9d\u8d56\uff0c\u4ece 3.0 \u7248\u672c\u5f00\u59cb\uff0c\u4f5c\u8005\u53e6\u8d77\u7089\u7076\uff0c\u7528 chromium \u534f\u8bae\u81ea\u884c\u5b9e\u73b0\u4e86\u7c7b\u4f3c Selenium \u7684\u5168\u90e8\u529f\u80fd\uff0c\u5e76\u4e14\u5728\u6b64\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u8bb8\u591a\u72ec\u7279\u7684\u7279\u6027\u3002\u4f8b\u5982\uff0c\u65e0 webdriver \u7279\u5f81\u4f7f\u5f97\u5b83\u66f4\u96be\u88ab\u7f51\u7ad9\u8bc6\u522b\uff0c\u51cf\u5c11\u4e86\u88ab\u963b\u6b62\u6216\u9650\u5236\u8bbf\u95ee\u7684\u98ce\u9669\u3002 \u540c\u65f6\uff0cDrissionPage \u8fd8\u5728\u6613\u7528\u6027\u65b9\u9762\u4e0b\u8db3\u4e86\u529f\u592b\u3002\u4e0e\u5176\u4ed6\u9700\u8981\u9488\u5bf9\u4e0d\u540c\u6d4f\u89c8\u5668\u7248\u672c\u4e0b\u8f7d\u5bf9\u5e94\u9a71\u52a8\u7684\u5de5\u5177\u4e0d\u540c\uff0c\u5b83\u7b80\u5316\u4e86\u914d\u7f6e\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u8bbe\u7f6e\u548c\u4f7f\u7528\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u5feb\u6377\u3002\u5b98\u65b9\u6587\u6863\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u5b89\u88c5\u3001\u914d\u7f6e\u4ee5\u53ca\u4f7f\u7528\u65b9\u6cd5\uff0c\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5b66\u4e60\u8d44\u6e90\u3002 \u968f\u7740\u6280\u672f\u7684\u4e0d\u65ad\u8fdb\u6b65\uff0cDrissionPage \u7684\u529f\u80fd\u4e5f\u5728\u4e0d\u65ad\u62d3\u5c55\u3002\u5b83\u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u8fd8\u5728\u722c\u866b\u5f00\u53d1\u7b49\u9886\u57df\u5c55\u73b0\u51fa\u5f3a\u5927\u7684\u6f5c\u529b\u3002\u65e0\u8bba\u662f\u5904\u7406\u590d\u6742\u7684\u8868\u5355\u4ea4\u4e92\uff0c\u8fd8\u662f\u7ed5\u8fc7\u524d\u7aef\u7684\u4e00\u4e9b\u9650\u5236\uff0cDrissionPage \u90fd\u80fd\u53d1\u6325\u51fa\u91cd\u8981\u4f5c\u7528\u3002 \u603b\u4e4b\uff0cDrissionPage \u4ee5\u5176\u72ec\u7279\u7684\u8bbe\u8ba1\u7406\u5ff5\u548c\u4e0d\u65ad\u521b\u65b0\u7684\u7cbe\u795e\uff0c\u5728\u81ea\u52a8\u5316\u722c\u866b\u9886\u57df\u9010\u6e10\u5d1b\u8d77\uff0c\u4e3a\u5f00\u53d1\u8005\u5e26\u6765\u4e86\u5168\u65b0\u7684\u4f53\u9a8c\u548c\u66f4\u591a\u7684\u53ef\u80fd\u6027\u3002 \u4e3a\u4ec0\u4e48\u53ebDrissionPag\uff1fSelenium\u6846\u67b6\u7528\u4e8e\u64cd\u4f5c\u6d4f\u89c8\u5668\u7684\u5bf9\u8c61\u53eb Driver\uff0crequests \u7528\u4e8e\u7ba1\u7406\u8bf7\u6c42\u8fde\u63a5\u7684\u5bf9\u8c61\u53eb Session\uff0c\u56e0\u6b64Drission \u5c31\u662f\u5b83\u4eec\u4e24\u8005\u7684\u5408\u4f53\u3002\u5728\u65e7\u7248\u672c\u4e2d\uff0c\u662f\u901a\u8fc7\u5bf9 selenium \u548c requests \u7684\u91cd\u65b0\u5c01\u88c5\u5b9e\u73b0\u7684\u3002\u56e0\u6b64 Drission \u8bfb\u4f5c \u201c\u62fd\u795e\u201d\u3002\u4f46\u4ece 3.0 \u7248\u5f00\u59cb\uff0c\u4f5c\u8005\u53e6\u8d77\u7089\u7076\uff0c\u7528 chromium \u534f\u8bae\u81ea\u884c\u5b9e\u73b0\u4e86 selenium \u5168\u90e8\u529f\u80fd\uff0c\u4ece\u800c\u6446\u8131\u4e86\u5bf9 selenium \u7684\u4f9d\u8d56\uff0c\u529f\u80fd\u66f4\u591a\u66f4\u5f3a\uff0c\u8fd0\u884c\u6548\u7387\u66f4\u9ad8\uff0c\u5f00\u53d1\u66f4\u7075\u6d3b\u3002 \u672c\u5e93\u91c7\u7528\u5168\u81ea\u7814\u7684\u5185\u6838\uff0c\u5185\u7f6e\u4e86 N \u591a\u5b9e\u7528\u529f\u80fd\uff0c\u5bf9\u5e38\u7528\u529f\u80fd\u4f5c\u4e86\u6574\u5408\u548c\u4f18\u5316\uff0c\u5bf9\u6bd4 selenium\uff0c\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u65e0 webdriver \u7279\u5f81 \u65e0\u9700\u4e3a\u4e0d\u540c\u7248\u672c\u7684\u6d4f\u89c8\u5668\u4e0b\u8f7d\u4e0d\u540c\u7684\u9a71\u52a8 \u8fd0\u884c\u901f\u5ea6\u66f4\u5feb \u53ef\u4ee5\u8de8 iframe \u67e5\u627e\u5143\u7d20\uff0c\u65e0\u9700\u5207\u5165\u5207\u51fa \u628a iframe \u770b\u4f5c\u666e\u901a\u5143\u7d20\uff0c\u83b7\u53d6\u540e\u53ef\u76f4\u63a5\u5728\u5176\u4e2d\u67e5\u627e\u5143\u7d20\uff0c\u903b\u8f91\u66f4\u6e05\u6670 \u53ef\u4ee5\u540c\u65f6\u64cd\u4f5c\u6d4f\u89c8\u5668\u4e2d\u7684\u591a\u4e2a\u6807\u7b7e\u9875\uff0c\u5373\u4f7f\u6807\u7b7e\u9875\u4e3a\u975e\u6fc0\u6d3b\u72b6\u6001\uff0c\u65e0\u9700\u5207\u6362 \u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u6d4f\u89c8\u5668\u7f13\u5b58\u6765\u4fdd\u5b58\u56fe\u7247\uff0c\u65e0\u9700\u7528 GUI \u70b9\u51fb\u53e6\u5b58 \u53ef\u4ee5\u5bf9\u6574\u4e2a\u7f51\u9875\u622a\u56fe\uff0c\u5305\u62ec\u89c6\u53e3\u5916\u7684\u90e8\u5206\uff0890\u4ee5\u4e0a\u7248\u672c\u6d4f\u89c8\u5668\u652f\u6301\uff09 \u53ef\u5904\u7406\u975e open \u72b6\u6001\u7684 shadow-root \u9664\u4e86\u4ee5\u4e0a\u4f18\u70b9\uff0c\u672c\u5e93\u8fd8\u5185\u7f6e\u4e86\u65e0\u6570\u4eba\u6027\u5316\u8bbe\u8ba1\u3002 \u6781\u7b80\u7684\u8bed\u6cd5\u89c4\u5219\uff0c\u96c6\u6210\u5927\u91cf\u5e38\u7528\u529f\u80fd\uff0c\u4ee3\u7801\u66f4\u4f18\u96c5\uff1b \u5b9a\u4f4d\u5143\u7d20\u66f4\u52a0\u5bb9\u6613\uff0c\u529f\u80fd\u66f4\u5f3a\u5927\u7a33\u5b9a\uff1b \u65e0\u5904\u4e0d\u5728\u7684\u7b49\u5f85\u548c\u81ea\u52a8\u91cd\u8bd5\u529f\u80fd\u3002\u4f7f\u4e0d\u7a33\u5b9a\u7684\u7f51\u7edc\u53d8\u5f97\u6613\u4e8e\u63a7\u5236\uff0c\u7a0b\u5e8f\u66f4\u7a33\u5b9a\uff0c\u7f16\u5199\u66f4\u7701\u5fc3\uff1b \u63d0\u4f9b\u5f3a\u5927\u7684\u4e0b\u8f7d\u5de5\u5177\u3002\u64cd\u4f5c\u6d4f\u89c8\u5668\u65f6\u4e5f\u80fd\u4eab\u53d7\u5feb\u6377\u53ef\u9760\u7684\u4e0b\u8f7d\u529f\u80fd\uff1b \u5141\u8bb8\u53cd\u590d\u4f7f\u7528\u5df2\u7ecf\u6253\u5f00\u7684\u6d4f\u89c8\u5668\u3002\u65e0\u9700\u6bcf\u6b21\u8fd0\u884c\u4ece\u5934\u542f\u52a8\u6d4f\u89c8\u5668\uff0c\u8c03\u8bd5\u8d85\u65b9\u4fbf\uff1b \u4f7f\u7528 ini \u6587\u4ef6\u4fdd\u5b58\u5e38\u7528\u914d\u7f6e\uff0c\u81ea\u52a8\u8c03\u7528\uff0c\u63d0\u4f9b\u4fbf\u6377\u7684\u8bbe\u7f6e\uff0c\u8fdc\u79bb\u7e41\u6742\u7684\u914d\u7f6e\u9879\uff1b \u5185\u7f6e lxml \u4f5c\u4e3a\u89e3\u6790\u5f15\u64ce\uff0c\u89e3\u6790\u901f\u5ea6\u6210\u51e0\u4e2a\u6570\u91cf\u7ea7\u63d0\u5347\uff1b \u4f7f\u7528 POM \u6a21\u5f0f\u5c01\u88c5\uff0c\u53ef\u76f4\u63a5\u7528\u4e8e\u6d4b\u8bd5\uff0c\u4fbf\u4e8e\u6269\u5c55\uff1b \u9996\u5148\uff0c\u4f60\u9700\u8981\u5b89\u88c5 drissionpage \u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a pip install drissionpage \u5b98\u7f51\uff1a https://drissionpage.cn/ # \u5b89\u88c5\u53ca\u5bfc\u5165 pip install DrissionPage -i https://pypi.org/simple from DrissionPage import ChromiumPage from DrissionPage import SessionPage as Session from DrissionPage import WebPage # \u5de5\u5177\u8bb2\u89e3 - ChromiumPage - \u7c7b\u4f3c selenium\u7684 driver.Chrome(...) \u4f1a\u6253\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3 - \u53ea\u80fd\u8fdb\u884cGET\u8bf7\u6c42 - SessionPage - \u4f7f\u7528\u8d77\u6765\u7c7b\u4f3c requests\u6a21\u5757\u7684 session,\u4f46\u6bd4session\u66f4\u5f3a\u5927 - \u4e3a\u4e86\u65b9\u4fbf\u6211\u76f4\u63a5\u53d6\u4e86\u522b\u540d - GET/POST \u90fd\u53ef\u4ee5\u6ee1\u8db3\u4ee5\u53ca\u4ee3\u7406 - WebPage - \u96c6\u6210\u4e86 ChromiumPage \u548c SessionPage,\u8fd8\u53ef\u4ee5\u5728\u4e24\u8005\u4e4b\u95f4\u81ea\u7531\u5207\u6362,\u975e\u5e38\u5f3a\u5927 \u6211\u4eec\u4ee5ChromiumPage\u4e3a\u4e3b\uff0c\u7f51\u7ad9\u4ee5\u767e\u5ea6\u4e00\u4e0b\u4e3a\u6848\u4f8b( https://www.baidu.com/ ) # \u6848\u4f8b1 from DrissionPage import ChromiumPage, ChromiumOptions co = ChromiumOptions() co.headless(False) # 1\u3001\u8bbe\u7f6e\u65e0\u5934\u6a21\u5f0f\uff1aco.headless(True) # 2\u3001\u8bbe\u7f6e\u65e0\u75d5\u6a21\u5f0f\uff1aco.incognito(True) # 3\u3001\u8bbe\u7f6e\u8bbf\u5ba2\u6a21\u5f0f\uff1aco.set_argument('--guest') # 4\u3001\u8bbe\u7f6e\u8bf7\u6c42\u5934user-agent\uff1aco.set_user_agent() # 5\u3001\u8bbe\u7f6e\u6307\u5b9a\u7aef\u53e3\u53f7\uff1aco.set_local_port(7890) # 6\u3001\u8bbe\u7f6e\u4ee3\u7406\uff1aco.set_proxy('http://localhost:2222') page = ChromiumPage(co) url = \"https://www.baidu.com\" page.get(url) page.wait.load_start() # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u5b8c\u6210 page.ele(\"css:#kw\").input(\"\u7f8e\u5973\") page.ele(\"css:#su\").click() print(page.html) # \u6848\u4f8b2 from DrissionPage import ChromiumPage cp = ChromiumPage() cp.get('https://www.baidu.com/') cp.ele(\"#kw\").input(\"IP\u5730\u5740\") # \u5b9a\u4f4d\u5230\u641c\u7d22\u6846\u5e76\u586b\u5145\u6570\u636e cp.wait.load_start() # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u5b8c\u6210 cp.ele(\"#su\").click() # \u627e\u5230\u641c\u7d22\u6309\u94ae\u5e76\u70b9\u51fb\u641c\u7d22 cp.listen.start('qifu-api.baidubce.com/ip/local/geo/v1/district') res = cp.listen.wait() # \u7b49\u5f85\u5e76\u83b7\u53d6\u4e00\u4e2a\u6570\u636e\u5305 print(res.url) # \u8f93\u51fa\u6570\u636e\u5305url print(res.response.headers) # \u8f93\u51fa\u54cd\u5e94\u5934 print(res.response.statusText) # \u8f93\u51fa\u54cd\u5e94\u72b6\u6001\u7801 print(res.response.body) # \u8f93\u51fa\u54cd\u5e94\u5185\u5bb9 4.2\u3001\u91cd\u70b9\u8bed\u6cd5 \u30101\u3011get\u65b9\u6cd5 \u8be5\u65b9\u6cd5\u7528\u4e8e\u8df3\u8f6c\u5230\u4e00\u4e2a\u7f51\u5740\u3002\u5f53\u8fde\u63a5\u5931\u8d25\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u8fdb\u884c\u91cd\u8bd5\uff1a \u30102\u3011\u5143\u7d20\u67e5\u627e # \u6839\u636e\u5c5e\u6027\u67e5\u627e\uff0c@ \u540e\u9762\u53ef\u8ddf\u4efb\u610f\u5c5e\u6027 page.ele('@id:ele_id', timeout=2) # \u67e5\u627e id \u4e3a ele_id \u7684\u5143\u7d20\uff0c\u8bbe\u7f6e\u7b49\u5f85\u65f6\u95f42\u79d2 page.eles('@class') # \u67e5\u627e\u6240\u6709\u62e5\u6709 class \u5c5e\u6027\u7684\u5143\u7d20 page.eles('@class:class_name') # \u67e5\u627e\u6240\u6709 class \u542b\u6709 ele_class \u7684\u5143\u7d20 page.eles('@class=class_name') # \u67e5\u627e\u6240\u6709 class \u7b49\u4e8e ele_class \u7684\u5143\u7d20 # \u6839\u636e class \u6216 id \u67e5\u627e page.ele('#ele_id') # \u7b49\u4ef7\u4e8e page.ele('@id=ele_id') page.ele('#:ele_id') # \u7b49\u4ef7\u4e8e page.ele('@id:ele_id') page.ele('.ele_class') # \u7b49\u4ef7\u4e8e page.ele('@class=ele_class') page.ele('.:ele_class') # \u7b49\u4ef7\u4e8e page.ele('@class:ele_class') # \u6839\u636e tag name \u67e5\u627e page.ele('tag:li') # \u67e5\u627e\u7b2c\u4e00\u4e2a li \u5143\u7d20 page.eles('tag:li') # \u67e5\u627e\u6240\u6709 li \u5143\u7d20 # \u6839\u636e tag name \u53ca\u5c5e\u6027\u67e5\u627e page.ele('tag:div@class=div_class') # \u67e5\u627e class \u4e3a div_class \u7684 div \u5143\u7d20 page.ele('tag:div@class:ele_class') # \u67e5\u627e class \u542b\u6709 ele_class \u7684 div \u5143\u7d20 page.ele('tag:div@class=ele_class') # \u67e5\u627e class \u7b49\u4e8e ele_class \u7684 div \u5143\u7d20 page.ele('tag:div@text():search_text') # \u67e5\u627e\u6587\u672c\u542b\u6709 search_text \u7684 div \u5143\u7d20 page.ele('tag:div@text()=search_text') # \u67e5\u627e\u6587\u672c\u7b49\u4e8e search_text \u7684 div \u5143\u7d20 # \u6839\u636e\u6587\u672c\u5185\u5bb9\u67e5\u627e page.ele('search text') # \u67e5\u627e\u5305\u542b\u4f20\u5165\u6587\u672c\u7684\u5143\u7d20 page.eles('text:search text') # \u5982\u6587\u672c\u4ee5 @\u3001tag:\u3001css:\u3001xpath:\u3001text: \u5f00\u5934\uff0c\u5219\u5e94\u5728\u524d\u52a0\u4e0a text: \u907f\u514d\u51b2\u7a81 page.eles('text=search text') # \u6587\u672c\u7b49\u4e8e search_text \u7684\u5143\u7d20 # \u6839\u636e xpath \u6216 css selector \u67e5\u627e page.eles('xpath://div[@class=\"ele_class\"]') page.eles('css:div.ele_class') # \u67e5\u627e\u4e0b\u7ea7\u5143\u7d20 element = page.ele('@id:ele_id') element.ele('@class:class_name') # \u5728 element \u4e0b\u7ea7\u67e5\u627e\u7b2c\u4e00\u4e2a class \u4e3a ele_class \u7684\u5143\u7d20 element.eles('tag:li') # \u5728 ele_id \u4e0b\u7ea7\u67e5\u627e\u6240\u6709li\u5143\u7d20 # \u6839\u636e\u4f4d\u7f6e\u67e5\u627e element.parent # \u7236\u5143\u7d20 element.next # \u4e0b\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 element.prev # \u4e0a\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 # \u83b7\u53d6 shadow-root\uff0c\u628a\u5b83\u4f5c\u4e3a\u5143\u7d20\u5bf9\u5f85\u3002\u53ea\u652f\u6301 open \u7684 shadow-root ele1 = element.shadow_root.ele('tag:div') # \u4e32\u8fde\u67e5\u627e page.ele('@id:ele_id').ele('tag:div').next.ele('some text').eles('tag:a') # \u7b80\u5316\u5199\u6cd5 eles = page('@id:ele_id')('tag:div').next('some text').eles('tag:a') ele2 = ele1('tag:li').next('some text') \u7b80\u5316\u5199\u6cd5\u5bf9\u5e94\u5217\u8868 \u539f\u5199\u6cd5 \u7b80\u5316\u5199\u6cd5 \u8bf4\u660e @id # \u8868\u793a id \u5c5e\u6027\uff0c\u7b80\u5316\u5199\u6cd5\u53ea\u5728\u8bed\u53e5\u6700\u524d\u9762\u4e14\u5355\u72ec\u4f7f\u7528\u65f6\u751f\u6548 @class . \u8868\u793a class \u5c5e\u6027\uff0c\u7b80\u5316\u5199\u6cd5\u53ea\u5728\u8bed\u53e5\u6700\u524d\u9762\u4e14\u5355\u72ec\u4f7f\u7528\u65f6\u751f\u6548 text tx \u6309\u6587\u672c\u5339\u914d @text() @tx() \u6309\u6587\u672c\u67e5\u627e\u4e0e @ \u6216 @@ \u914d\u5408\u4f7f\u7528\u65f6 tag t \u6309\u6807\u7b7e\u7c7b\u578b\u5339\u914d xpath x \u7528 xpath \u65b9\u5f0f\u67e5\u627e\u5143\u7d20 css c \u7528 css selector \u65b9\u5f0f\u67e5\u627e\u5143\u7d20 \u30103\u3011\u5143\u7d20\u64cd\u4f5c element.click(by_js) # \u70b9\u51fb\u5143\u7d20\uff0c\u53ef\u9009\u62e9\u662f\u5426\u7528 js \u65b9\u5f0f\u70b9\u51fb element.input(value) # \u8f93\u5165\u6587\u672c element.run_script(js) # \u5bf9\u5143\u7d20\u8fd0\u884c JavaScript \u811a\u672c element.submit() # \u63d0\u4ea4 element.clear() # \u6e05\u7a7a\u5143\u7d20 element.screenshot(path, filename) # \u5bf9\u5143\u7d20\u622a\u56fe element.select(text) # \u6839\u636e\u6587\u672c\u9009\u62e9\u4e0b\u62c9\u5217\u8868 element.set_attr(attr, value) # \u8bbe\u7f6e\u5143\u7d20\u5c5e\u6027\u503c element.remove_attr(attr) # \u5220\u9664\u5c5e\u6027 element.drag(x, y, speed, shake) # \u62d6\u52a8\u5143\u7d20\u76f8\u5bf9\u8ddd\u79bb\uff0c\u53ef\u8bbe\u7f6e\u901f\u5ea6\u548c\u662f\u5426\u968f\u673a\u6296\u52a8 element.drag_to(ele_or_loc, speed, shake) # \u62d6\u52a8\u5143\u7d20\u5230\u53e6\u4e00\u4e2a\u5143\u7d20\u6216\u67d0\u4e2a\u5750\u6807\uff0c\u53ef\u8bbe\u7f6e\u901f\u5ea6\u548c\u662f\u5426\u968f\u673a\u6296\u52a8 element.hover() # \u5728\u5143\u7d20\u4e0a\u60ac\u505c\u9f20\u6807 \u30104\u3011\u5143\u7d20\u5c5e\u6027\u548c\u65b9\u6cd5 element.html # \u8fd4\u56de\u5143\u7d20 outerHTML element.inner_html # \u8fd4\u56de\u5143\u7d20 innerHTML element.tag # \u8fd4\u56de\u5143\u7d20 tag name element.text # \u8fd4\u56de\u5143\u7d20 innerText \u503c element.comments # \u8fd4\u56de\u5143\u7d20\u5185\u6ce8\u91ca\u5217\u8868 element.link # \u8fd4\u56de\u5143\u7d20 href \u6216 src \u7edd\u5bf9 url element.texts() # \u8fd4\u56de\u5143\u7d20\u5185\u6240\u6709\u76f4\u63a5\u5b50\u8282\u70b9\u7684\u6587\u672c\uff0c\u5305\u62ec\u5143\u7d20\u548c\u6587\u672c\u8282\u70b9\uff0c\u53ef\u6307\u5b9a\u53ea\u8fd4\u56de\u6587\u672c\u8282\u70b9 element.attrs # \u8fd4\u56de\u5143\u7d20\u6240\u6709\u5c5e\u6027\u7684\u5b57\u5178 element.attr(attr) # \u8fd4\u56de\u5143\u7d20\u6307\u5b9a\u5c5e\u6027\u7684\u503c element.css_path # \u8fd4\u56de\u5143\u7d20\u7edd\u5bf9 css \u8def\u5f84 element.xpath # \u8fd4\u56de\u5143\u7d20\u7edd\u5bf9 xpath \u8def\u5f84 element.parent # \u8fd4\u56de\u5143\u7d20\u7236\u5143\u7d20 element.next # \u8fd4\u56de\u5143\u7d20\u540e\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 element.prev # \u8fd4\u56de\u5143\u7d20\u524d\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 element.parent() # \u8fd4\u56de\u7b2c 1 \u7ea7\u7236\u5143\u7d20 element.parents(num) # \u8fd4\u56de\u7b2c num \u7ea7\u7236\u5143\u7d20 element.nexts(num, mode) # \u8fd4\u56de\u540e\u9762\u7b2c\u51e0\u4e2a\u5143\u7d20\u6216\u8282\u70b9 element.prevs(num, mode) # \u8fd4\u56de\u524d\u9762\u7b2c\u51e0\u4e2a\u5143\u7d20\u6216\u8282\u70b9 element.ele(loc_or_str, timeout) # \u8fd4\u56de\u5f53\u524d\u5143\u7d20\u4e0b\u7ea7\u7b2c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u5143\u7d20\u3001\u5c5e\u6027\u6216\u8282\u70b9\u6587\u672c element.eles(loc_or_str, timeout) # \u8fd4\u56de\u5f53\u524d\u5143\u7d20\u4e0b\u7ea7\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u5143\u7d20\u3001\u5c5e\u6027\u6216\u8282\u70b9\u6587\u672c \u6848\u4f8b\uff1a from DrissionPage import ChromiumPage, ChromiumOptions from loguru import logger import platform if platform.system().lower() == 'windows': co = ChromiumOptions().set_paths(browser_path=r\"C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe\") else: co = ChromiumOptions() # .set_paths(browser_path=r\"/opt/google/chrome/google-chrome\") co.set_local_port(9211) co.set_user_agent( user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36') # \u8bbe\u7f6eua co.headless(True) # \u8bbe\u7f6e\u65e0\u5934\u52a0\u8f7d \u65e0\u5934\u6a21\u5f0f\u662f\u4e00\u79cd\u5728\u6d4f\u89c8\u5668\u6ca1\u6709\u754c\u9762\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u7684\u6a21\u5f0f\uff0c\u5b83\u53ef\u4ee5\u63d0\u9ad8\u6d4f\u89c8\u5668\u7684\u6027\u80fd\u548c\u52a0\u8f7d\u901f\u5ea6 co.incognito(True) # \u65e0\u75d5\u9690\u8eab\u6a21\u5f0f\u6253\u5f00\u7684\u8bdd\uff0c\u4e0d\u4f1a\u8bb0\u4f4f\u4f60\u7684\u7f51\u7ad9\u8d26\u53f7\u5bc6\u7801\u7684 co.set_argument('--guest') # \u8bbe\u7f6e\u8bbf\u5ba2\u6a21\u5f0f\uff0c\u4e0d\u4f1a\u8bb0\u4f4f\u4f60\u7684\u7f51\u7ad9\u8d26\u53f7\u5bc6\u7801\u7684\u7b49cookie co.set_argument( '--no-sandbox') # \u7981\u7528\u6c99\u7bb1 \u7981\u7528\u6c99\u7bb1\u53ef\u4ee5\u907f\u514d\u6d4f\u89c8\u5668\u5728\u52a0\u8f7d\u9875\u9762\u65f6\u8fdb\u884c\u5b89\u5168\u68c0\u67e5,\u4ece\u800c\u63d0\u9ad8\u52a0\u8f7d\u901f\u5ea6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709Chrome \u7528\u6237\u90fd\u542f\u7528\u4e86\u9690\u79c1\u6c99\u76d2\u9009\u9879 https://zhuanlan.zhihu.com/p/475639754 co.set_argument(\"--disable-gpu\") # \u7981\u7528GPU\u52a0\u901f\u53ef\u4ee5\u907f\u514d\u6d4f\u89c8\u5668\u5728\u52a0\u8f7d\u9875\u9762\u65f6\u4f7f\u7528\u8fc7\u591a\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u9ad8\u52a0\u8f7d\u901f\u5ea6 # \u521b\u5efa\u6d4f\u89c8\u5668\u5bf9\u8c61 cp = ChromiumPage(co) # \u521b\u5efa\u5bf9\u8c61 cp.get(\"https://www.itjuzi.com/ipo\", retry=3, interval=2, timeout=15) # \u8bbf\u95ee\u7f51 detail_links_all = [] for tr in cp.eles(\"css:.el-table__row\"): tds = [td.text.strip() for td in tr.eles(\"x:.//td\")[1:]] company = tr.ele(\"tag:a\").text a_href = tr.ele(\"tag:a\").attr(\"href\") detail_links_all.append(a_href) logger.info(f\"list_page_company is {company} , a_href is {a_href}\") logger.success(f\">>>>>total_detail_urls is : {len(detail_links_all)}\") cp.quit() 4.3\u3001\u6848\u4f8b\u89e3\u6790 \u30101\u3011\u62db\u8058\u5e73\u53f0 import time from DrissionPage import ChromiumPage, ChromiumOptions import pandas as pd page = ChromiumPage() page.listen.start('/wapi/zpgeek/search/joblist.json') page.get('https://www.zhipin.com/web/geek/job?query=python&city=101010100') res = page.listen.wait() print(\"res:::\",res.response.body) joblist = res.response.body['zpData']['jobList'] for i in range(10): time.sleep(1) btn = page.ele('.ui-icon-arrow-right') btn_a = btn.parent().attr('class') if btn_a != 'disabled': btn.click() res = page.listen.wait() joblist += res.response.body['zpData']['jobList'] print(joblist) else: print('\u722c\u866b\u7ed3\u675f\uff01') break # \u5199\u5165\u5230excel\u4e2d df = pd.DataFrame(joblist) df.to_excel('boss\u76f4\u8058.xlsx', index=False) page.quit() \u30102\u3011\u745e\u6570\u6848\u4f8b\uff1aSZU import time from DrissionPage import WebPage, ChromiumOptions page = WebPage() url = \"https://sugh.szu.edu.cn/Html/News/Columns/7/Index.html\" page.get(url, retry=3, interval=2, timeout=15) def show(page): els = page.eles('x: //*[@id=\"zoom\"]/li') for ele in els: # print(ele) href = ele.ele(\"x: ./a\").attr(\"href\") title = ele.ele(\"x: ./a\").text if not title: title = ele.ele(\"x: ./a[2]\").text print(href, title) # \u5c55\u793a\u7b2c\u4e00\u9875 show(page) for i in range(5): time.sleep(1) btn = page.ele('x: //*[@class=\"pagination_nextpage ui-state-default ui-corner-all\"]') print(\"btn:::\", btn) btn.click() show(page) \u30103\u3011\u745e\u6570\u6848\u4f8b\u4e4bYJJ\uff1a from DrissionPage import ChromiumPage cp = ChromiumPage() cp.listen.start(\"/datasearch/data/nmpadata/search\") cp.get(\"https://www.nmpa.gov.cn/datasearch/home-index.html#category=yp\") cp.eles('tag:input@class=el-input__inner')[1].input(\"\u5e03\u6d1b\u82ac\") cp.ele('x=//*[@id=\"home\"]/main/div[1]/div[7]/div/div[2]/div/button').click() cp.wait.load_start() cp.get(\"https://www.nmpa.gov.cn/datasearch/search-result.html\") for i in range(100): res = cp.listen.wait() data = res.response.body print(data) cp.ele(\".btn-next\").click() \u30104\u3011\u6dd8\u5b9d\u6848\u4f8b import re import time from DrissionPage import ChromiumPage from user import user, pwd import json cp = ChromiumPage() # cp.get(\"https://login.taobao.com/member/login.jhtml\") # time.sleep(2) # cp.ele(\"css:#fm-login-id\").input(user) # time.sleep(2) # cp.ele(\"css:#fm-login-password\").input(pwd) # time.sleep(2) # cp.ele(\"css:.fm-button.fm-submit.password-login\").click() cp.listen.start('h5/mtop.relationrecommend.wirelessrecommend.recommend/2.0') cp.get(\"https://taobao.com/\") res = cp.listen.wait() body = res.response.body print(\"body:::\", body) cp.ele('css:#q').input(\"iphone 16 pro max\") cp.ele('css:.btn-search.tb-bg').click() while 1: print(\"\u63a5\u6536\u54cd\u5e94\") try: res = cp.listen.wait() body = res.response.body if body.find(\"itemsArray\") != -1: # print(body) ret = re.findall(\"mtopjsonp\\d+\\((.*)\\)\", body)[0] # print(\"ret:::\",ret) data = json.loads(ret) itemsArray = data.get(\"data\").get(\"itemsArray\") print(\"len:::\", len(itemsArray)) for i in itemsArray: title = i.get(\"title\") priceWap = i.get(\"priceWap\") print(title, priceWap) break time.sleep(1) except Exception as e: pass","title":"\u4e09\u5341\u4e09\u3001\u9ad8\u7ea7\u9006\u5411"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_1","text":"","title":"\u4e09\u5341\u4e09\u3001\u9ad8\u7ea7\u9006\u5411"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#javascript","text":"","title":"\u4e00\u3001JavaScript\u57fa\u7840\u4e0e\u8fdb\u9636"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#11javascript","text":"","title":"1.1\u3001JavaScript\u57fa\u7840\u8bed\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1javascript","text":"JavaScript \u662f\u4e00\u79cd\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\uff08\u5373\u7528\u6237\u7684\u6d4f\u89c8\u5668\uff09\u4e0a\u8fd0\u884c\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u5b83\u662f\u4e00\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u53ef\u4ee5\u76f4\u63a5\u5d4c\u5165\u5230 HTML \u9875\u9762\u4e2d\uff0c\u5e76\u7531\u6d4f\u89c8\u5668\u89e3\u91ca\u548c\u6267\u884c\u3002 \u5728\u5ba2\u6237\u7aef\u73af\u5883\u4e2d\uff0cJavaScript \u53ef\u4ee5\u4e0e\u7528\u6237\u4ea4\u4e92\uff0c\u64cd\u4f5c\u548c\u4fee\u6539\u7f51\u9875\u7684\u5185\u5bb9\u3001\u7ed3\u6784\u548c\u6837\u5f0f\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u5904\u7406\u7528\u6237\u8f93\u5165\u3001\u54cd\u5e94\u4e8b\u4ef6\u3001\u8fdb\u884c\u8868\u5355\u9a8c\u8bc1\u3001\u521b\u5efa\u52a8\u6001\u6548\u679c\u7b49\u3002JavaScript \u8fd8\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684 API \u8bbf\u95ee\u6d4f\u89c8\u5668\u529f\u80fd\uff0c\u4f8b\u5982\u64cd\u4f5c DOM\uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u3001\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u3001\u5904\u7406\u672c\u5730\u5b58\u50a8\u7b49\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u4e5f\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u7aef\u8fd0\u884c\uff0c\u4f8b\u5982\u4f7f\u7528 Node.js \u73af\u5883\u3002\u5728\u670d\u52a1\u5668\u7aef\uff0cJavaScript \u53ef\u4ee5\u7528\u4e8e\u6784\u5efa\u7f51\u7edc\u5e94\u7528\u3001\u5904\u7406\u540e\u7aef\u903b\u8f91\u7b49\u3002\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u5e76\u4e0d\u662f\u5178\u578b\u7684\u201c\u5ba2\u6237\u7aef\u8bed\u8a00\u201d\uff0c\u800c\u662f\u4f5c\u4e3a\u4e00\u79cd\u901a\u7528\u7684\u811a\u672c\u8bed\u8a00\u4f7f\u7528\u3002 demo\u670d\u52a1\u7aef\uff1a from flask import Flask, render_template, jsonify import datetime app = Flask(__name__, template_folder=\"templates\", static_folder='static') @app.get(\"/index\") def index(): timer = datetime.datetime.now().strftime(\"%Y-%m-%d:%X\") return render_template(\"index.html\", **{\"timer\": timer}) @app.get(\"/books\") def get_books(): # \u6570\u636e\u5e93\u83b7\u53d6\u4e66\u7c4d books = [\"\u804a\u658b\u5fd7\u5f02\", \"\u91d1\u74f6\u6885\", \"\u56fd\u8272\u5929\u9999\", \"\u526a\u706f\u65b0\u8bdd\"] return jsonify(books) app.run() demo\u5ba2\u6237\u7aef\uff1a <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> p { color: rebeccapurple; } </style> </head> <body> <h3>Hello Alex!</h3> <p>\u5f53\u524d\u65f6\u95f4\uff1a{{timer}}</p> <p class=\"books\">\u56db\u5927\u540d\u8457</p> <p class=\"books_box\"></p> <script> var dom = document.getElementsByTagName(\"h3\")[0] dom.onclick = function () { this.style.color = \"green\" } </script> <script src=\"https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.js\"></script> <script> $(\".books\").click(function () { $.ajax({ url: \"http://127.0.0.1:5000/books\", success: function (res) { console.log(\"\u54cd\u5e94\u6570\u636e:\", res); $(\".books_box\").append(res.join(\"\uff0c\")) } }) }) </script> </body> </html> \u767b\u9646\u9875\u9762\uff1a <!DOCTYPE html> <html> <head> <title>Login</title> <meta charset=\"utf8\"> <script> function validateForm() { var username = document.getElementById(\"username\").value; // \u9a8c\u8bc1\u7528\u6237\u540d\u662f\u5426\u4e3a\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u6216\u624b\u673a\u53f7\u7801 var emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/; var phoneRegex = /^\\d{10}$/; if (!emailRegex.test(username) && !phoneRegex.test(username)) { alert(\"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u6216\u624b\u673a\u53f7\u7801\u4f5c\u4e3a\u7528\u6237\u540d\uff01\"); return false; // \u9a8c\u8bc1\u5931\u8d25\uff0c\u963b\u6b62\u8868\u5355\u63d0\u4ea4 } } </script> </head> <body> <h1>Login</h1> <form onsubmit=\"return validateForm()\"> <label for=\"username\">Username:</label> <input type=\"text\" id=\"username\" name=\"username\" required> <br><br> <label for=\"password\">Password:</label> <input type=\"password\" id=\"password\" name=\"password\" required> <br><br> <input type=\"submit\" value=\"Login\"> </form> </body> </html>","title":"\u30101\u3011JavaScript\u521d\u8bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2","text":"// JS\u4ee3\u7801\u5bfc\u5165\u65b9\u5f0f\uff1a // 1 \u76f4\u63a5\u7f16\u5199 /* <script> console.log('hello yuan') </script> */ // 2 \u5bfc\u5165\u6587\u4ef6 // <script src=\"hello.js\"></script> // \u5355\u884c\u6ce8\u91ca /* \u8fd9\u662f \u591a\u884c \u6ce8\u91ca */ // \u8bed\u53e5\u5206\u9694\u7b26 ; \u8868\u793a\u4e00\u884c\u4ee3\u7801\u7684\u7ed3\u675f","title":"\u30102\u3011\u57fa\u672c\u8bed\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3","text":"// (1) \u58f0\u660e\u53d8\u91cf var x; // \u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u53ebx, x\u6ca1\u6709\u503c. \u6b64\u65f6\u6253\u5370x\u7684\u5185\u5bb9\u662fundefined(\u6ca1\u6709\u88ab\u5b9a\u4e49) x = 10 console.log(x); // (2) \u57fa\u672c\u6570\u636e\u7c7b\u578b\uff1anumber string bool var x = 3.1415; console.log(typeof x); // \u53ef\u4ee5\u67e5\u770b\u6570\u636e\u7c7b\u578b. \u4f46\u662f\u53ea\u80fd\u770b\u57fa\u7840\u6570\u636e\u7c7b\u578b. var x = \"hello yuan\"; console.log(typeof x); // string \u5b57\u7b26\u4e32 var x1 = true; var x2 = false; // \u5e03\u5c14\u503c. python\u91cc\u9762\u662f\u5927\u5199\u7684. js\u91cc\u9762\u662f\u5c0f\u5199. console.log(typeof x1); // boolean \u5e03\u5c14. python\u7b80\u5316\u6210bool // (3) \u9ad8\u7ea7\u6570\u636e\u7c7b\u578b\uff1a \u6570\u7ec4[] \u5bf9\u8c61{} var x = [1,2,3]; // \u6570\u7ec4. => python\u7684\u5217\u8868. console.log(typeof x); // \u7c7b\u578b\u53ebobject var x = {name:\"yuan\",age:22}; // \u5bf9\u8c61 => python\u7684\u5b57\u5178. console.log(typeof x); // \u4e5f\u662fobject // (4) \u4e24\u4e2a\u7279\u6b8a\u503c: undefined null var x; // undefined console.log(typeof x); // undefined\u7c7b\u578b... \u4e0d\u5360\u7528\u5185\u5b58\u7a7a\u95f4\u7684 var x = null; // \u7a7a.... \u662fpython\u7684None, \u8981\u4f7f\u7528\u5806\u5185\u5b58\u7684.... console.log(typeof x); // object\u7c7b\u578b // \u4e00\u6b21\u6027\u53ef\u4ee5\u58f0\u660e\u591a\u4e2a\u53d8\u91cf var name=\"yuan\", age=20, job=\"lecturer\"; var a, b, c=3, d, e = 5; // \u4ece\u5de6\u5230\u53f3,\u58f0\u660e5\u4e2a\u53d8\u91cf, \u5176\u4e2d, c=3, e=5 \u7c7b\u578b\u8f6c\u6362\uff1a // \u5728js\u4e2d. \u6240\u6709\u7684\u6570\u636e\u548c\u5b57\u7b26\u4e32\u76f8\u52a0. \u7ed3\u679c\u90fd\u662f\u5b57\u7b26\u4e32\u62fc\u63a5.(\u91cd\u70b9) var a = 123; var b = \"\u6211\u7231\u4f60\"; console.log(a + b); console.log(1+1); // 2 var a = \"123\"; // \u5b57\u7b26\u4e32 // \u5b57\u7b26\u4e32\u8f6c\u5316\u6210\u6574\u6570 // parse \u8f6c\u6362 // Int \u6574\u6570 a = parseInt(a); console.log(a + 3); // 126 \u6570\u5b66\u4e0a\u7684\u52a0\u6cd5. \u8bc1\u660e\u8f6c\u5316\u6210\u529f\u4e86. var a = 123; // \u8f6c\u5316\u6210\u5b57\u7b26\u4e32 var b = a.toString(); // \u628a\u6570\u5b57, \u8f6c\u5316\u6210\u5b57\u7b26\u4e32 console.log(b + 3); //\"1233\" // \u4e00\u822c\u7684\u7a0b\u5e8f\u5458\u4e0d\u7528toString()\u7684. var a = 123; var b = a + \"\"; // \u5728\u9006\u5411\u7684\u8fc7\u7a0b\u4e2d. \u8fd9\u79cd\u5199\u6cd5\u662f\u6700\u591a\u7684. console.log(b+333); // \"123333\" \u5b57\u7b26\u4e32 var a = 123; // \u6570\u5b57\u7684toString()\u53ef\u4ee5\u6307\u5b9a\u8fdb\u5236 var b = a.toString(16); console.log(b); var m = '7b'; // \u773c\u775b\u770b\u7740\u662f\u5b57\u7b26\u4e32. \u4f46\u662f\u6211\u4eec\u77e5\u9053\u5b83\u5e94\u8be5\u662f\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u7684\u5b57\u7b26\u4e32. // \u5b57\u7b26\u4e32, \u8f6c\u5316\u6210\u6574\u6570 parseInt var n = parseInt(m, 16); console.log(n)","title":"\u30103\u3011\u53d8\u91cf\u4e0e\u6570\u636e\u7c7b\u578b"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4","text":"// \uff081\uff09 \u79d1\u5b66\u8fd0\u7b97\u7b26 + - * / % // \uff082\uff09\u6bd4\u8f83\u8fd0\u7b97\u7b26 > < <= >= === !== // \uff083\uff09 \u8d4b\u503c\u8fd0\u7b97\u7b26 += -= *= /= ++ // \u5728\u5355\u72ec\u4f7f\u7528a++\u548c++a\u662f\u6ca1\u6709\u533a\u522b\u7684. \u90fd\u662f\u8ba9a\u81ea\u589e1 var b = a ++; // \u5148\u8d4b\u503c, \u540e\u8fd0\u7b97... console.log(a); // 11 console.log(b); // 10 var b = ++ a; // \u5148\u8ba1\u7b97, \u540e\u8d4b\u503c console.log(a); console.log(b); // \uff084\uff09\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a Python\u4e2d\u7684and, or, not // &&, \u5e76\u4e14, \u5de6\u53f3\u4e24\u7aef\u5fc5\u987b\u540c\u65f6\u4e3a\u771f, \u7ed3\u679c\u624d\u80fd\u662f\u771f.. // ||, \u6216\u8005, \u5de6\u53f3\u4e24\u7aef, \u6709\u4e00\u4e2a\u662f\u771f, \u7ed3\u679c\u5c31\u662f\u771f // !, \u975e/\u4e0d, \u975e\u771f\u5373\u5047, \u975e\u5047\u65e2\u771f. console.log(1 > 2 || 3 < 5); console.log(1 > 2 && 3 < 5); console.log(!true); console.log(!false); // x() && y() // \u8be5\u903b\u8f91\u53eb\u77ed\u8def...\u5982\u679c\u524d\u9762\u7684\u8868\u8fbe\u5f0f\u5df2\u7ecf\u5f97\u5230\u7ed3\u679c\u4e86. \u540e\u9762\u5c31\u4e0d\u8fd0\u884c\u4e86. \u76f8\u540c\u7684\u903b\u8f91\u8fd8\u6709|| // \u5982\u679cx()\u8fd4\u56de\u771f. \u5219\u8fd0\u884cy() // \u5982\u679cx()\u8fd4\u56de\u5047, \u5219\u4e0d\u8fd0\u884cy(). \u76f4\u63a5\u7ed3\u675f\u5224\u65ad\u4e86. // \uff085\uff09\u9017\u53f7\u8fd0\u7b97\u7b26 a = 1,2,3,4 b = (1,\"yuan\",true) // \uff086\uff09\u4e09\u76ee\u8fd0\u7b97\uff1a\u6761\u4ef6? \u6210\u7acb: \u4e0d\u6210\u7acb // \u6848\u4f8b1 var a = 100; var b = 20; var c = a > b ? a: b; console.log(c); // \u6848\u4f8b2:\u7ec8\u6781\u4e00\u7ec3 let a = 10; let b = 20; let c = 5; let d = 17; let e; let m; e = (e = a > 3 ? b : c, m = e < b++ ? c-- : a = 3 > b % d ? 27: 37, m++); // e = a > 3 ? b : c; // e = 20 // b = 21 , m \u548c a\u90fd\u662f37 // m = e < b++ ? c-- : a = 3 > b % d ? 27: 37; // e = m++; // e 37 m 38 a 37","title":"\u30104\u3011\u8fd0\u7b97\u7b26"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5","text":"\u5206\u652f\u8bed\u53e5 // \u5206\u652f\u8bed\u53e5 if(\u6761\u4ef6){ // \u6761\u4ef6\u4e3atrue\u65f6,\u6267\u884c\u7684\u4ee3\u7801 }else{ // \u6761\u4ef6\u4e3afalse\u65f6,\u6267\u884c\u7684\u4ee3\u7801 } switch(\u6761\u4ef6){ case \u7ed3\u679c1: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c1\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; case \u7ed3\u679c2: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c2\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; ... default: // \u6761\u4ef6\u548c\u4e0a\u8ff0\u6240\u6709\u7ed3\u679c\u90fd\u4e0d\u76f8\u7b49\u65f6,\u5219\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \uff081\uff09\u53cc\u5206\u652f var age = 23 if (age > 18) { console.log(\"\u64ad\u653e\u6210\u4eba\u7535\u5f71\uff01\") } else { console.log(\"\u64ad\u653e\u672a\u6210\u5e74\u7535\u5f71\") } // \uff082\uff09\u591a\u5206\u652f var score = 45; if (score >= 90) { console.log(\"A\"); } else if (score >= 80) { console.log(\"B\"); } else if (score >= 70) { console.log(\"C\"); } else if (score >= 60) { console.log(\"D\"); } else { console.log(\"E\"); } // \uff083\uff09switch\u591a\u5206\u652f var week = 3; switch(week){ case 1: console.log(\"\u661f\u671f\u4e00\"); break; case 2: console.log(\"\u661f\u671f\u4e8c\"); break; case 3: // \u67d0\u4e00\u4e2acase\u5339\u914d\u6210\u529f. \u90a3\u4e48\u540e\u9762\u7684case\u5c31\u4e0d\u5224\u65ad\u4e86, \u76f4\u63a5\u88ab\u6267\u884c. console.log(\"\u661f\u671f\u4e09\"); break; case 4: console.log(\"\u661f\u671f\u56db\"); break; case 5: console.log(\"\u661f\u671f\u4e94\"); break; case 6: console.log(\"\u661f\u671f\u516d\"); break; case 7: console.log(\"\u661f\u671f\u5929\"); break; default: console.log(\"\u5565\u4e5f\u4e0d\u662f!\"); break; } \u5faa\u73af\u8bed\u53e5 /* // \u5faa\u73af\u8bed\u53e5 while(\u5faa\u73af\u7684\u6761\u4ef6){ // \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \u5faa\u73af\u4e09\u8981\u7d20 for(1.\u58f0\u660e\u5faa\u73af\u7684\u5f00\u59cb; 2.\u6761\u4ef6; 4.\u5faa\u73af\u7684\u8ba1\u6570){ // 3. \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } * 1. \u9996\u5148, \u4f1a\u6267\u884c\u8bed\u53e51, \u901a\u5e38\u4f1a\u5728\u8bed\u53e51\u91cc\u5b8c\u6210\u5bf9\u5faa\u73af\u53d8\u91cf\u7684\u521d\u59cb\u5316 * 2. \u7136\u540e, \u5224\u65ad\u8868\u8fbe\u5f0f2\u8ba1\u7b97\u7684\u7ed3\u679c\u662f\u5426\u662f\u771f, \u5982\u679c\u662f\u771f, \u5219\u6267\u884c\u5faa\u73af\u4f53, \u5982\u679c\u662f\u5047, \u7ed3\u675f\u5faa\u73af * 3. \u6267\u884c\u5b8c\u5faa\u73af\u4f53\u540e. \u6267\u884c\u8868\u8fbe\u5f0f3\uff0c\u7136\u540e\u56de\u5230\u7b2c\u4e8c\u6b65... */ // while \u5faa\u73af var a = 0; // 1. \u521d\u59cb\u53d8\u91cf while (a < 100) { // 2. \u6761\u4ef6\u5224\u65ad console.log(\"\u6211\u7231\u4f60\"); // \u4e1a\u52a1\u9700\u6c42...\u5faa\u73af\u5185\u5bb9... a++; // 3. \u6b65\u8fdb\u8bed\u53e5 } for(var i = 0; i < 10; i++){ console.log(i); }","title":"\u30105\u3011\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6","text":"// js\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61 var s = \"Hello Yuan \" console.log(s.toUpperCase()) console.log(s.toLowerCase()) console.log(s.slice(0, 5)) console.log(s.split(\" \")) // [\"Hello\",\"Yuan\"] console.log(s.length) console.log(s.trim(\" \").length) console.log(s.trimEnd(\" \").length) console.log(s.indexOf(\"Yuan\")) console.log(s.replace(\"Yuan\",\"Rain\")) console.log(s.startsWith(\"Hel\")) console.log(s.charCodeAt(i)) // \u67d0\u4e2a\u4f4d\u7f6e\u7684\u5b57\u7b26\u7684ascii console.log(s.charAt(i)) // \u7b2ci\u7d22\u5f15\u4f4d\u7f6e\u7684\u5b57\u7b26 s[i]","title":"\u30106\u3011\u5b57\u7b26\u4e32\u5bf9\u8c61"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#7","text":"// \u6ce8\u610f, \u524d\u7aefjs\u91cc\u9762\u7684\u6570\u7ec4. \u76f8\u5f53\u4e8epython\u7684\u5217\u8868, java\u7684List // \u521b\u5efa\u6570\u7ec4\u7684\u65b9\u6cd5; // 1. \u76f4\u63a5\u8d4b\u503c\u4e00\u4e2a\u6570\u7ec4 var arr1 = [11,22,33]; console.log(arr1); // new\u8868\u793a\u521b\u5efa\u5bf9\u8c61. \u7406\u89e3\u6210\u5206\u914d\u5185\u5b58. var arr2 = new Array(); // var arr2 = [] // 1. push \u5728\u6570\u7ec4\u7684\u672b\u5c3e\u6dfb\u52a0\u6570\u636e... // 2. pop \u5728\u6570\u7ec4\u7684\u672b\u5c3e\u5220\u9664\u6570\u636e var arr = [11,22,33,44]; arr.push(55); var item = arr.pop(); console.log(item); // 1 unshift \u5728\u6570\u7ec4\u7684\u9996\u4f4d\u6dfb\u52a0\u6570\u636e... 2 shift \u5220\u9664\u6570\u7ec4\u7684\u9996\u4f4d\u6570\u636e var arr = [11,22,33]; arr.unshift(0); // \u5728\u6570\u7ec4\u7684\u524d\u9762\u63d2\u5165\u6570\u636e // console.log(arr); var item = arr.shift(); console.log(item); console.log(arr); var arr = [\"a\",\"b\",\"c\"]; arr.splice(1,1); arr.splice(1,0,\"b\") arr.splice(1,1,\"B\") arr.reverse(); // slice(\u5f00\u59cb\u4e0b\u6807,\u7ed3\u675f\u4e0b\u6807) \u5207\u7247,\u5f00\u533a\u95f4 arr.slice(1,3) var arr = [\"\u5317\u4eac\",\"\u6df1\u5733\",\"\u5e7f\u5dde\"]; console.log(arr.join(\",\")); // \u628a\u6570\u7ec4\u8f6c\u5316\u6210\u5b57\u7b26\u4e32 // \u5faa\u73af\u548c\u904d\u5386 // key 0 1 2 3 4 5 var arr = [\"\u9ad8\u5706\u5706\", \"\u8d75\u4e3d\u9896\", \"\u8303\u51b0\u51b0\", \"\u6ce2\u591a\u91ce\u7ed3\u8863\", \"\u68ee\u6cfd\u4f73\u5948\", \"\u6a58\u68a8\u7eb1\"]; // \u4e09\u8981\u7d20for\u5faa\u73af for(var i = 0; i < arr.length; i++){ console.log(arr[i]); } // for-in for(var x in arr){ // \u6b64\u65f6\u62ff\u5230\u7684\u662f\u6570\u7ec4\u7684\u7d22\u5f15(key) console.log(x); } // for-of for (var x of arr){ // \u6b64\u65f6\u62ff\u5230\u7684\u662f\u6570\u7ec4\u7684\u5143\u7d20(value) console.log(x); } // arr\u4e2d\u7684\u6bcf\u4e00\u9879\u5faa\u73af\u51fa\u6765. \u5206\u522b\u53bb\u8c03\u7528function\u51fd\u6570, \u4f1a\u81ea\u52a8\u7684\u5c06`\u6570\u636e`\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570 arr.forEach(function(e, i){ // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684 console.log(i+\"__\"+e); }); // arr\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u6267\u884c\u91cc\u9762\u4f20\u9012\u8fdb\u53bb\u7684\u51fd\u6570 // \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f \u5143\u7d20\u548c\u7d22\u5f15 console.log(ret); // \u9ad8\u9636\u51fd\u6570 map filter","title":"\u30107\u3011\u6570\u7ec4\u5bf9\u8c61"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#8object","text":"var obj = { \"name\": \"yuan\", age: 18, girl_friend: { name: \"\u9ad8\u5706\u5706\", age: 28 } } // \u5f53\u4ed6\u662fpython\u7684\u5b57\u5178, \u65e0\u7f1d\u8854\u63a5\u7684. `[]` \u4e5f\u53ef\u4ee5\u7ffb\u8bd1\u6210`\u7684` console.log(obj['girl_friend']['name']); // \u5f53\u4ed6\u662f\u5bf9\u8c61... \u5bf9\u8c61.\u5c5e\u6027 `.`\u53ef\u4ee5\u7ffb\u8bd1\u6210`\u7684` console.log(obj.name) console.log(obj.girl_friend.name) // \u5b83\u4fe9\u53ef\u4ee5\u6df7\u7740\u6765. var w = \"girl_friend\" console.log(obj[w].name); console.log(obj.girl_friend['name']); // js\u7684\u5bf9\u8c61\u5728\u4f7f\u7528\u7684\u65f6\u5019. \u65e2\u53ef\u4ee5\u901a\u8fc7`[]`\u6765\u83b7\u53d6\u5c5e\u6027\u7684\u503c. \u4e5f\u53ef\u4ee5\u901a\u8fc7`.`\u6765\u83b7\u53d6\u5c5e\u6027\u7684\u503c // \u533a\u522b: []\u91cc\u9762\u5fc5\u987b\u653e\u5b57\u7b26\u4e32. // .\u540e\u9762\u653e\u7684\u5fc5\u987b\u662f\u5c5e\u6027\u540d(\u4e0d\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32) console.log(obj.girl_friend.name); // 68 // \u5982\u679c\u60f3\u8981\u5bf9\u4ee3\u7801\u8fdb\u884c\u4f2a\u88c5,\u6df7\u6dc6. \u5c31\u4e0d\u80fd\u7528`.` console.log(obj['girl_friend']['name']); // \u9ad8\u5706\u5706 console.log(obj.girl_friend.name); // \u9ad8\u5706\u5706 var obj = {}; obj.name = \"alvin\"; // \u5bf9\u8c61.\u5c5e\u6027 = \u503c. \u53ef\u4ee5\u7ed9\u5bf9\u8c61\u589e\u52a0\u65b0\u7684\u5c5e\u6027(\u8bbe\u7f6e\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027) obj['age'] = 28; console.log(obj); \u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\uff1a \u65b9\u6cd5 \u63cf\u8ff0 JSON.stringify(obj) \u628aobj\u5bf9\u8c61\u8f6c\u6362\u6210json\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u4f1a\u79fb\u9664\u5bf9\u8c61\u65b9\u6cd5 JSON.parse(str) \u628a\u7b26\u5408json\u8bed\u6cd5\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u6210js\u5bf9\u8c61","title":"\u30108\u3011object\u5bf9\u8c61"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#9","text":"// Math\u5bf9\u8c61 Date\u7c7b var now=new Date(); console.log(now.toLocaleString( )); // console.log(Math.random()); console.log( Math.round(Math.random() * 10 ));","title":"\u30109\u3011\u5176\u5b83\u5e38\u7528\u5bf9\u8c61"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#12","text":"","title":"1.2\u3001\u51fd\u6570"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1","text":"// \u51fd\u6570\u58f0\u660e function \u51fd\u6570\u540d(\u5f62\u53c2){ return // \u8fd4\u56de\u503c } // \u51fd\u6570\u8c03\u7528 \u51fd\u6570\u540d(\u5b9e\u53c2) // \u7f16\u8bd1\u8fd0\u884c // \u9ed8\u8ba4\u8fd4\u56deundefined // arguments\u53c2\u6570","title":"\u30101\u3011\u51fd\u6570\u521d\u8bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_1","text":"\u4f5c\u7528\u57df\uff08Scope\uff09\u662f\u6307\u5728\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u53d8\u91cf\u7684\u53ef\u8bbf\u95ee\u6027\u548c\u53ef\u89c1\u6027\u7684\u8303\u56f4\u3002\u5b83\u51b3\u5b9a\u4e86\u5728\u4ee3\u7801\u4e2d\u7684\u54ea\u4e9b\u4f4d\u7f6e\u53ef\u4ee5\u8bbf\u95ee\u6216\u5f15\u7528\u7279\u5b9a\u53d8\u91cf\u3001\u51fd\u6570\u6216\u5bf9\u8c61\u3002 \u5728\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u5305\u62ec JavaScript\uff0c\u5728\u4e0d\u540c\u7684\u4f5c\u7528\u57df\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u5177\u6709\u4e0d\u540c\u7684\u53ef\u89c1\u6027\u548c\u751f\u547d\u5468\u671f\u3002\u5e38\u89c1\u7684\u4f5c\u7528\u57df\u7c7b\u578b\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a \u5168\u5c40\u4f5c\u7528\u57df\uff08Global Scope\uff09\uff1a\u5168\u5c40\u4f5c\u7528\u57df\u662f\u5728\u6574\u4e2a\u7a0b\u5e8f\u4e2d\u90fd\u53ef\u8bbf\u95ee\u7684\u4f5c\u7528\u57df\u3002\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u53ef\u4ee5\u5728\u7a0b\u5e8f\u7684\u4efb\u4f55\u4f4d\u7f6e\u88ab\u8bbf\u95ee\u3002 \u51fd\u6570\u4f5c\u7528\u57df\uff08Function Scope\uff09\uff1a\u51fd\u6570\u4f5c\u7528\u57df\u662f\u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u4f5c\u7528\u57df\u3002\u5728\u51fd\u6570\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u5728\u51fd\u6570\u5185\u90e8\u88ab\u8bbf\u95ee\uff0c\u5b83\u4eec\u5bf9\u4e8e\u51fd\u6570\u5916\u90e8\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u6bcf\u5f53\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u4f5c\u7528\u57df\u3002 \u5757\u7ea7\u4f5c\u7528\u57df\uff08Block Scope\uff09\uff1a\u5757\u7ea7\u4f5c\u7528\u57df\u662f\u5728\u4ee3\u7801\u5757\uff08\u901a\u5e38\u7531\u82b1\u62ec\u53f7 {} \u5305\u56f4\uff09\u5185\u5b9a\u4e49\u7684\u4f5c\u7528\u57df\u3002\u5728\u5757\u7ea7\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u5728\u8be5\u5757\u5185\u90e8\u88ab\u8bbf\u95ee\uff0c\u800c\u5728\u5757\u5916\u90e8\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u5728 ES6 \u4e2d\u5f15\u5165\u7684 let \u548c const \u5173\u952e\u5b57\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u5757\u7ea7\u4f5c\u7528\u57df\u3002 // \u9996\u5148\u719f\u6089\u4e0bvar var name = \"yuan\"; // \u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf name\u5e76\u8d4b\u503c\u201dyuan\u201c name = \"\u5f20\u4e09\"; // \u5bf9\u5df2\u7ecf\u5b58\u5728\u7684\u53d8\u91cfname\u91cd\u65b0\u8d4b\u503c \u201d\u5f20\u4e09\u201c console.log(name); age = 18 // \u4e4b\u524d\u4e0d\u5b58\u5728age\u53d8\u91cf\uff0c\u8fd9\u91cc\u7b49\u540c\u4e8evar age = 19 \u5373\u58f0\u660e\u5168\u5c40\u53d8\u91cfage\u5e76\u8d4b\u503c\u4e3a18 var gender = \"male\" var gender = \"female\" // \u539f\u5185\u5b58\u91ca\u653e\u4e0e\u65b0\u5185\u5b58\u5f00\u8f9f\uff0c\u6307\u9488\u6307\u5411\u65b0\u5f00\u8f9f\u7684\u5185\u5b58 console.log(gender) \u4f5c\u7528\u57df\u6848\u4f8b\uff1a var num = 10; // \u5728\u51fd\u6570\u5916\u90e8\u58f0\u660e\u7684\u53d8\u91cf, \u5168\u5c40\u53d8\u91cf function func(){ // num = 20; // \u51fd\u6570\u5185\u90e8\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf,\u5219\u9ed8\u8ba4\u8c03\u7528\u4e86\u5168\u5c40\u7684\u53d8\u91cf, //var num = 20; console.log(\"\u51fd\u6570\u5185\u90e8num\uff1a\",num) } func(); console.log(\"\u5168\u5c40num\uff1a\",num); \u4f5c\u7528\u57df\u7684\u6b63\u786e\u4f7f\u7528\u53ef\u4ee5\u907f\u514d\u53d8\u91cf\u540d\u51b2\u7a81\u548c\u6570\u636e\u6cc4\u6f0f\uff0c\u5e76\u63d0\u4f9b\u66f4\u597d\u7684\u4ee3\u7801\u5c01\u88c5\u548c\u9694\u79bb\u6027\u3002\u7406\u89e3\u4f5c\u7528\u57df\u7684\u6982\u5ff5\u5bf9\u4e8e\u7f16\u5199\u53ef\u7ef4\u62a4\u548c\u53ef\u6269\u5c55\u7684\u4ee3\u7801\u975e\u5e38\u91cd\u8981\u3002","title":"\u30102\u3011\u4f5c\u7528\u57df"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_1","text":"\u5728 JavaScript \u4e2d\uff0c\u533f\u540d\u51fd\u6570\u662f\u4e00\u79cd\u6ca1\u6709\u540d\u79f0\u7684\u51fd\u6570\u5b9a\u4e49\u3002\u533f\u540d\u51fd\u6570\u53ef\u4ee5\u88ab\u76f4\u63a5\u4f20\u9012\u7ed9\u5176\u4ed6\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf\u6216\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4ee5\u4fbf\u7a0d\u540e\u8c03\u7528\u3002 // \u533f\u540d\u51fd\u6570\u8d4b\u503c\u53d8\u91cf var foo = function () { console.log(\"\u8fd9\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff01\") }; // \u533f\u540d\u51fd\u6570\u7684\u81ea\u6267\u884c (function (x,y) { console.log(x+y); })(2,3) // \u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u4e00\u4e2a\u9ad8\u9636\u51fd\u6570\u4f7f\u7528 function bar() { return function () { console.log(\"inner\u51fd\u6570\uff01\") } } bar()() \u533f\u540d\u51fd\u6570\u5e38\u7528\u4e8e\u56de\u8c03\u51fd\u6570\u3001\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u3001\u5f02\u6b65\u64cd\u4f5c\u7b49\u573a\u666f\uff0c\u5b83\u4eec\u5141\u8bb8\u6211\u4eec\u5728\u9700\u8981\u65f6\u52a8\u6001\u5b9a\u4e49\u51fd\u6570\u903b\u8f91\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a\u503c\u4f20\u9012\u6216\u5b58\u50a8\uff0c\u800c\u4e0d\u9700\u8981\u4e3a\u51fd\u6570\u547d\u540d\u3002\u8fd9\u63d0\u4f9b\u4e86\u66f4\u7075\u6d3b\u548c\u7b80\u6d01\u7684\u7f16\u7a0b\u65b9\u5f0f\u3002","title":"\u30103\u3011\u533f\u540d\u51fd\u6570"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_1","text":"\u95ed\u5305\uff08closures\uff09\u662f Javascript \u8bed\u8a00\u7684\u4e00\u4e2a\u96be\u70b9\uff0c\u4e5f\u662f\u5b83\u7684\u7279\u8272\uff0c\u5f88\u591a\u9ad8\u7ea7\u5e94\u7528\u90fd\u662f\u4f9d\u9760\u95ed\u5305\u5b9e\u73b0\u7684\u3002\u95ed\u5305\u4e0e\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u4ee5\u53ca\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u5bc6\u5207\u76f8\u5173\uff0c\u672c\u8282\u6211\u4eec\u5c31\u6765\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002 \u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\uff0c\u95ed\u5305\uff08\u82f1\u8bed\uff1aClosure\uff09\uff0c\u53c8\u79f0\u8bcd\u6cd5\u95ed\u5305\uff08Lexical Closure\uff09\u6216\u51fd\u6570\u95ed\u5305\uff08function closures\uff09\uff0c\u662f\u5f15\u7528\u4e86\u81ea\u7531\u53d8\u91cf\uff08\u5916\u90e8\u975e\u5168\u5c40\uff09\u7684\u51fd\u6570\u3002 \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e2d\u5f15\u7528\u4e86\u51fd\u6570\u5916\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u8be5\u51fd\u6570\u53ef\u4ee5\u5728\u5176\u5b9a\u4e49\u73af\u5883\u5916\u88ab\u6267\u884c\u3002\u8fd9\u6837\u7684\u4e00\u4e2a\u51fd\u6570\u6211\u4eec\u79f0\u4e4b\u4e3a\u95ed\u5305\u51fd\u6570\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <script> function getCounter() { let count = 0 function counter() { let name = \"yuan\" count++ // count = count+1 return count } window.yuan = counter // counter() // counter() // counter() return counter } // c1 = getCounter() // c1() // c1() // c2 = getCounter() // c2() // c2(); getCounter() let c3 = window.yuan console.log(c3()) console.log(c3()) console.log(c3()) </script> <script> var count = 100 </script> </head> <body> <button onclick=\"c1()\">add1</button> <button onclick=\"c2()\">add2</button> </body> </html>","title":"\u30104\u3011\u95ed\u5305\u51fd\u6570"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5es6","text":"\u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. // es6\u5141\u8bb8\u4f7f\u7528\u201c\u7bad\u5934\u201d(=>)\u5b9a\u4e49\u51fd\u6570\u3002 var f = v => v*v // \u7b49\u540c\u4e8e var f = function(v) { return v } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u4e0d\u9700\u8981\u53c2\u6570\u6216\u9700\u8981\u591a\u4e2a\u53c2\u6570\uff0c\u5c31\u4f7f\u7528\u4e00\u4e2a\u5706\u62ec\u53f7\u4ee3\u8868\u53c2\u6570\u90e8\u5206\u3002 var f = () => 5 // \u7b49\u540c\u4e8e var f = function() { return 5 } var sum = (num1, num2) => num1 + num2 // \u7b49\u540c\u4e8e var sum = function(num1, num2) { return num1 + num2 } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u7684\u4ee3\u7801\u5757\u90e8\u5206\u591a\u4e8e\u4e00\u6761\u8bed\u53e5\uff0c\u5c31\u8981\u4f7f\u7528\u5927\u62ec\u53f7\u5c06\u5b83\u4eec\u62ec\u8d77\u6765\uff0c\u5e76\u4e14\u4f7f\u7528return\u8bed\u53e5\u8fd4\u56de\u3002 var sum = (num1, num2) => {return num1 + num2} //\u7531\u4e8e\u5927\u62ec\u53f7\u88ab\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\uff0c\u6240\u4ee5\u5982\u679c\u7bad\u5934\u51fd\u6570\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5fc5\u987b\u5728\u5bf9\u8c61\u5916\u9762\u52a0\u4e0a\u62ec\u53f7\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 // \u62a5\u9519 let getUser = id => {id: id, name: \"yuan\"} // \u4e0d\u62a5\u9519 let getUser = id => ({id: id, name: \"yuan\"}) // \u7bad\u5934\u51fd\u6570\u7684\u4e00\u4e2a\u7528\u5904\u662f\u7b80\u5316\u56de\u8c03\u51fd\u6570\u3002 // \u6b63\u5e38\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(function(x) { return x * x }) // \u7bad\u5934\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(x => x * x)","title":"\u30105\u3011ES6\u4e2d\u7684\u7bad\u5934\u51fd\u6570"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6_1","text":"\u5f53\u6d89\u53ca\u5230\u5b9e\u9645\u6848\u4f8b\u65f6\uff0c\u6211\u5c06\u7ed9\u51fa\u4e00\u4e2a\u5e38\u89c1\u7684\u793a\u4f8b\uff0c\u4ee5\u8bf4\u660e\u5982\u4f55\u5728 JavaScript \u4e2d\u4f7f\u7528 require \u6216 import \u5bfc\u5165\u6a21\u5757\u3002 \u5047\u8bbe\u6211\u4eec\u6709\u4e24\u4e2a\u6587\u4ef6\uff1a math.js \u548c main.js \u3002 \u9996\u5148\uff0c\u8ba9\u6211\u4eec\u521b\u5efa math.js \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u51fd\u6570\uff1a // math.js const add = (a, b) => { return a + b; }; const multiply = (a, b) => { return a * b; }; module.exports = { add, multiply }; \u5728 math.js \u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e24\u4e2a\u51fd\u6570 add \u548c multiply \uff0c\u5e76\u4f7f\u7528 module.exports \u5bfc\u51fa\u8fd9\u4e9b\u51fd\u6570\uff0c\u4f7f\u5176\u53ef\u4ee5\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u4f7f\u7528\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u521b\u5efa main.js \u6587\u4ef6\uff0c\u5b83\u5c06\u4f7f\u7528 math.js \u4e2d\u7684\u51fd\u6570\uff1a \u4f7f\u7528 require \uff08CommonJS \u6a21\u5757\u7cfb\u7edf\uff09\u7684\u793a\u4f8b\uff1a // main.js const math = require('./math'); console.log(math.add(2, 3)); // \u8f93\u51fa\uff1a5 console.log(math.multiply(2, 3)); // \u8f93\u51fa\uff1a6 \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 require \u51fd\u6570\u5c06 math.js \u6587\u4ef6\u5bfc\u5165\u5230 main.js \u6587\u4ef6\u4e2d\u3002 require('./math') \u8868\u793a\u6211\u4eec\u5bfc\u5165\u4e0e main.js \u6587\u4ef6\u76f8\u540c\u76ee\u5f55\u4e0b\u7684 math.js \u6587\u4ef6\u3002 \u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 math.add() \u548c math.multiply() \u8c03\u7528 math.js \u4e2d\u5bfc\u51fa\u7684\u51fd\u6570\u3002 \u4f7f\u7528 import \uff08ES \u6a21\u5757\u7cfb\u7edf\uff09\u7684\u793a\u4f8b\uff1a function add(a, b) { return a + b; } function multiply(a, b) { return a * b; } export default { add: add, multiply: multiply, } // main.js import cal from './cal.js' console.log(cal.add(1,2)) console.log(cal.multiply(1,2)) <script type=\"module\" src=\"main.js\"></script>","title":"\u30106\u3011\u5bfc\u5165\u6a21\u5757"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#13window","text":"window \u662f\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\u7684\u57fa\u7c7b\uff0cwindow \u5bf9\u8c61\u662f\u5ba2\u6237\u7aef JavaScript \u7684\u5168\u5c40\u5bf9\u8c61\u3002\u4e00\u4e2a window \u5bf9\u8c61\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u7a97\u53e3\uff0c\u5bf9\u4e8e\u6846\u67b6\u9875\u9762\u6765\u8bf4\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u6bcf\u4e2a\u6846\u67b6\u90fd\u5305\u542b\u4e00\u4e2a window \u5bf9\u8c61\u3002","title":"1.3\u3001Window\u5bf9\u8c61"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_1","text":"\u5728\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u4e2d\uff0cwindow \u5bf9\u8c61\u662f\u8bbf\u95ee BOM \u7684\u63a5\u53e3\uff0c\u5982\u5f15\u7528 document \u5bf9\u8c61\u7684 document \u5c5e\u6027\uff0c\u5f15\u7528\u81ea\u8eab\u7684 window \u548c self \u5c5e\u6027\u7b49\u3002\u540c\u65f6 window \u4e5f\u4e3a\u5ba2\u6237\u7aef JavaScript \u63d0\u4f9b\u5168\u5c40\u4f5c\u7528\u57df\u3002 \u7531\u4e8e window \u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u6b64\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\u90fd\u88ab\u89e3\u6790\u4e3a\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 <script> var username = \"yuanhao\"; //\u5168\u5c40\u53d8\u91cf function f() { //\u5168\u5c40\u51fd\u6570 console.log(username); } console.log(window.username); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d window.f(); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d </script>","title":"\u30101\u3011\u5168\u5c40\u4f5c\u7528\u57df"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_2","text":"window \u5bf9\u8c61\u5b9a\u4e49\u4e86 3 \u4e2a\u4eba\u673a\u4ea4\u4e92\u7684\u65b9\u6cd5\uff0c\u4e3b\u8981\u65b9\u4fbf\u5bf9 JavaScript \u4ee3\u7801\u8fdb\u884c\u8c03\u8bd5\u3002 alert()\uff1a\u786e\u5b9a\u63d0\u793a\u6846\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\u3002\u8be5\u65b9\u6cd5\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 confirm()\uff1a\u9009\u62e9\u63d0\u793a\u6846\u3002\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\uff0c\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u5305\u542b\u4e24\u4e2a\u6309\u94ae\uff0c\u5206\u522b\u8868\u793a\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u6309\u94ae\u3002\u5982\u679c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de true\uff1b\u5355\u51fb\u201c\u53d6\u6d88\u201d\u6309\u94ae\uff0c\u5219\u8fd4\u56de false\u3002confirm() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 prompt()\uff1a\u8f93\u5165\u63d0\u793a\u6846\u3002\u53ef\u4ee5\u63a5\u6536\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\uff0c\u5e76\u8fd4\u56de\u8f93\u5165\u7684\u4fe1\u606f\u3002prompt() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u6ca1\u6709\u63d0\u793a\u4fe1\u606f\u7684\u8f93\u5165\u6587\u672c\u5bf9\u8bdd\u6846\u3002","title":"\u30102\u3011\u4f7f\u7528\u7cfb\u7edf\u5bf9\u8bdd\u6846"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_2","text":"window \u5bf9\u8c61\u5305\u542b 4 \u4e2a\u5b9a\u65f6\u5668\u4e13\u7528\u65b9\u6cd5\uff0c\u8bf4\u660e\u5982\u4e0b\u8868\u6240\u793a\uff0c\u4f7f\u7528\u5b83\u4eec\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u5b9a\u65f6\u6267\u884c\uff0c\u6216\u8005\u5ef6\u8fdf\u6267\u884c\uff0c\u4f7f\u7528\u5b9a\u65f6\u5668\u53ef\u4ee5\u8bbe\u8ba1\u6f14\u793a\u52a8\u753b\u3002 \u65b9\u6cd5 \u8bf4\u660e setInterval() \u6309\u7167\u6267\u884c\u7684\u5468\u671f\uff08\u5355\u4f4d\u4e3a\u6beb\u79d2\uff09\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f setTimeout() \u5728\u6307\u5b9a\u7684\u6beb\u79d2\u6570\u540e\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f clearInterval() \u53d6\u6d88\u7531 setInterval() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 clearTimeout() \u53d6\u6d88\u7531 setTimeout() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 setTimeout() \u65b9\u6cd5\u80fd\u591f\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u6bb5\u540e\u6267\u884c\u7279\u5b9a\u4ee3\u7801\u3002\u7528\u6cd5\u5982\u4e0b\uff1a var o = setTimeout(code, delay) \u53c2\u6570 code \u8868\u793a\u8981\u5ef6\u8fdf\u6267\u884c\u7684\u5b57\u7b26\u4e32\u578b\u4ee3\u7801\uff0c\u5c06\u5728 Windows \u73af\u5883\u4e2d\u6267\u884c\uff0c\u5982\u679c\u5305\u542b\u591a\u4e2a\u8bed\u53e5\uff0c\u5e94\u8be5\u4f7f\u7528\u5206\u53f7\u8fdb\u884c\u5206\u9694\u3002delay \u8868\u793a\u5ef6\u8fdf\u65f6\u95f4\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u503c\u662f\u4e00\u4e2a Timer ID\uff0c\u8fd9\u4e2a ID \u7f16\u53f7\u6307\u5411\u5ef6\u8fdf\u6267\u884c\u7684\u4ee3\u7801\u63a7\u5236\u53e5\u67c4\u3002\u5982\u679c\u628a\u8fd9\u4e2a\u53e5\u67c4\u4f20\u9012\u7ed9 clearTimeout() \u65b9\u6cd5\uff0c\u5219\u4f1a\u53d6\u6d88\u4ee3\u7801\u7684\u5ef6\u8fdf\u6267\u884c\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <input id=\"ID1\" type=\"text\" > <button onclick=\"begin()\">\u5f00\u59cb</button> <button onclick=\"end()\">\u505c\u6b62</button> <script> function showTime(){ var nowd2=new Date().toLocaleString(); var temp=document.getElementById(\"ID1\"); temp.value=nowd2; } var ID; function begin(){ if (ID==undefined){ showTime(); ID=setInterval(showTime,1000); } } function end(){ clearInterval(ID); ID=undefined; } </script> </body> </html>","title":"\u30103\u3011\u4f7f\u7528\u5b9a\u65f6\u5668"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_2","text":"\u4f7f\u7528 window \u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u5ba2\u6237\u7aef\u5176\u4ed6\u5bf9\u8c61\uff0c\u8fd9\u79cd\u5173\u7cfb\u6784\u6210\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff0cwindow \u5bf9\u8c61\u4ee3\u8868\u6839\u8282\u70b9\uff0c\u6d4f\u89c8\u5668\u5bf9\u8c61\u5173\u7cfb\u7684\u5173\u7cfb\u5982\u56fe\u6240\u793a\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u8bf4\u660e\u5982\u4e0b\u3002 window\uff1a\u5ba2\u6237\u7aef JavaScript \u9876\u5c42\u5bf9\u8c61\u3002\u6bcf\u5f53 \u6216 \u6807\u7b7e\u51fa\u73b0\u65f6\uff0cwindow \u5bf9\u8c61\u5c31\u4f1a\u88ab\u81ea\u52a8\u521b\u5efa\u3002 navigator\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u6709\u5173\u6d4f\u89c8\u5668\u4fe1\u606f\u3002 screen\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u5c4f\u5e55\u7684\u4fe1\u606f\u3002 history\uff1a\u5305\u542b\u6d4f\u89c8\u5668\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684 URL \u4fe1\u606f\u3002 location\uff1a\u5305\u542b\u5f53\u524d\u7f51\u9875\u6587\u6863\u7684 URL \u4fe1\u606f\u3002 document\uff1a\u5305\u542b\u6574\u4e2a HTML \u6587\u6863\uff0c\u53ef\u88ab\u7528\u6765\u8bbf\u95ee\u6587\u6863\u5185\u5bb9\u53ca\u5176\u6240\u6709\u9875\u9762\u5143\u7d20\u3002 window\u5bf9\u8c61\u6811","title":"\u30104\u3011\u8bbf\u95ee\u5ba2\u6237\u7aef\u5bf9\u8c61"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#js","text":"","title":"\u4e8c\u3001JS\u9006\u5411\u5fc5\u5907\u77e5\u8bc6\u70b9"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#21","text":"","title":"2.1\u3001\u7f16\u7801"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1url","text":"import urllib.parse # s = 'a' s = ' 123' ret = urllib.parse.quote(s) print(ret) s = urllib.parse.unquote(ret) print(s) params = {'name': '\u5f20\u4e09', 'age': 20, 'address': '\u5317\u4eac\u5e02\u6d77\u6dc0\u533a'} query_string = urllib.parse.urlencode(params) print(query_string) query_string = 'name=%E5%BC%A0%E4%B8%89&age=20&address=%E5%8C%97%E4%BA%AC%E5%B8%82%E6%B5%B7%E6%B7%80%E5%8C%BA' params = urllib.parse.parse_qs(query_string) print(params, type(params))","title":"\u30101\u3011url\u7f16\u7801"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-base64","text":"","title":"\u30102\u3011 base64\u7f16\u7801"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1base64","text":"Base64\u7f16\u7801\uff0c\u662f\u753164\u4e2a\u5b57\u7b26\u7ec4\u6210\u7f16\u7801\u96c6\uff1a 26\u4e2a\u5927\u5199\u5b57\u6bcdA~Z\uff0c26\u4e2a\u5c0f\u5199\u5b57\u6bcda~z\uff0c10\u4e2a\u6570\u5b570~9\uff0c\u7b26\u53f7\u201c+\u201d\u4e0e\u7b26\u53f7\u201c/\u201d \u3002Base64\u7f16\u7801\u7684\u57fa\u672c\u601d\u8def\u662f \u5c06\u539f\u59cb\u6570\u636e\u7684\u4e09\u4e2a\u5b57\u8282\u62c6\u5206\u8f6c\u5316\u4e3a\u56db\u4e2a\u5b57\u8282 \uff0c\u7136\u540e\u6839\u636eBase64\u7684\u5bf9\u5e94\u8868\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u7f16\u7801\u6570\u636e\u3002 \u5f53\u539f\u59cb\u6570\u636e\u51d1\u4e0d\u591f\u4e09\u4e2a\u5b57\u8282\u65f6\uff0c\u7f16\u7801\u7ed3\u679c\u4e2d\u4f1a\u4f7f\u7528\u989d\u5916\u7684 \u7b26\u53f7\u201c=\u201d \u6765\u8868\u793a\u8fd9\u79cd\u60c5\u51b5\u3002","title":"\uff081\uff09base64\u662f\u4ec0\u4e48"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2base64","text":"\u4e00\u4e2aBase64\u5b57\u7b26\u5b9e\u9645\u4e0a\u4ee3\u8868\u77406\u4e2a\u4e8c\u8fdb\u5236\u4f4d(bit)\uff0c4\u4e2aBase64\u5b57\u7b26\u5bf9\u5e943\u5b57\u8282\u5b57\u7b26\u4e32/\u4e8c\u8fdb\u5236\u6570\u636e\u3002 3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7684base64\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u5c0f\u4e8e3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u603b\u7ed3\uff1abase64\u8fc7\u7a0b \u6700\u540e\u5904\u7406\u5b8c\u7684\u7f16\u7801\u5b57\u7b26\u518d\u8f6c\u5b57\u8282\u4e2d\u4e0d\u518d\u6709base64\u4ee5\u5916\u7684\u4efb\u4f55\u5b57\u7b26\u3002","title":"\uff082\uff09base64\u539f\u7406"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3base64","text":"import base64 bs = \"you\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) bs = \"yo\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) # \u731c\u6d4b\u7ed3\u679c bs = \"y\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) \u6ce8\u610f, b64\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u957f\u5ea6. \u4e00\u5b9a\u662f4\u7684\u500d\u6570. \u5982\u679c\u5728\u7f51\u9875\u4e0a\u770b\u5230\u6709\u4e9b\u5bc6\u6587\u7684b64\u957f\u5ea6\u4e0d\u662f4\u7684\u500d\u6570. \u4f1a\u62a5\u9519 \u4f8b\u5982, import base64 s = \"eW91\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ==\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ\" ret = base64.b64decode(s) print(ret) \u89e3\u51b3\u601d\u8def. base64\u957f\u5ea6\u8981\u6c42. \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u662f4\u7684\u500d\u6570. \u586b\u5145\u4e00\u4e0b\u5373\u53ef s = \"eW91eQ\" # ret = base64.b64decode(s) # print(ret) s += (\"=\" * (4 - len(s) % 4)) print(\"\u586b\u5145\u540e\", s) ret = base64.b64decode(s).decode() print(ret)","title":"\uff083\uff09base64\u6d4b\u8bd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4base64","text":"# \u65b9\u5f0f1 data = res.text.replace(\"-\", \"+\").replace(\"_\", \"/\") base64.b64decode(data) # \u65b9\u5f0f2 data = base64.b64decode(res.text, altchars=b\"-_\") # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41","title":"\uff084\uff09base64\u53d8\u79cd"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5base64","text":"base64 \u7f16\u7801\u7684\u4f18\u70b9\uff1a \u7b97\u6cd5\u662f\u7f16\u7801\uff0c\u4e0d\u662f\u538b\u7f29\uff0c\u7f16\u7801\u540e\u53ea\u4f1a\u589e\u52a0\u5b57\u8282\u6570\uff08\u4e00\u822c\u662f\u6bd4\u4e4b\u524d\u7684\u591a1/3\uff0c\u6bd4\u5982\u4e4b\u524d\u662f3\uff0c \u7f16\u7801\u540e\u662f4\uff09 \u7b97\u6cd5\u7b80\u5355\uff0c\u57fa\u672c\u4e0d\u5f71\u54cd\u6548\u7387 \u7b97\u6cd5\u53ef\u9006\uff0c\u89e3\u7801\u5f88\u65b9\u4fbf\uff0c\u4e0d\u7528\u4e8e\u79c1\u5bc6\u4f20\u8f93\u3002 \u52a0\u5bc6\u540e\u7684\u5b57\u7b26\u4e32\u53ea\u6709\u30100-9a-zA-Z+/=\u3011 \uff0c\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\uff08\u8f6c\u8bd1\u5b57\u7b26\uff09\u4e5f\u53ef\u4ee5\u4f20\u8f93\uff08\u5173\u952e\uff01\uff01\uff01\uff09 \u6709\u4e9b\u7f51\u7edc\u4f20\u8f93\u534f\u8bae\u662f\u4e3a\u4e86\u4f20\u8f93 ASCII\u6587\u672c \u8bbe\u8ba1\u7684\uff0c\u5f53\u4f60\u4f7f\u7528\u5176\u4f20\u8f93\u4e8c\u8fdb\u5236\u6d41\u65f6\uff08\u6bd4\u5982\u89c6\u9891/\u56fe\u7247\uff09\uff0c\u4e8c\u8fdb\u5236\u6d41\u4e2d\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u88ab\u534f\u8bae\u9519\u8bef\u7684\u8bc6\u522b\u4e3a\u63a7\u5236\u5b57\u7b26\u7b49\u7b49\uff0c\u56e0\u800c\u51fa\u73b0\u9519\u8bef\u3002\u90a3\u8fd9\u65f6\u5c31\u8981\u5c06\u4e8c\u8fdb\u5236\u6d41\u4f20\u8f93\u7f16\u7801\uff0c\u56e0\u4e3a\u6709\u4e9b8Bit\u5b57\u8282\u7801\u5e76\u6ca1\u6709\u5bf9\u5e94\u7684ASCII\u5b57\u7b26\u3002 \u6bd4\u5982\u5341\u8fdb\u5236ASCII\u78018\u5bf9\u5e94\u7684\u662f\u540e\u9000\u7b26\u53f7(backspace), \u5982\u679c\u88ab\u7f16\u7801\u7684\u6570\u636e\u4e2d\u5305\u542b\u8fd9\u4e2a\u6570\u503c\uff0c\u90a3\u4e48\u7f16\u7801\u51fa\u6765\u7684\u7ed3\u679c\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u91cc\u4f1a\u5bfc\u81f4\u524d\u4e00\u4e2a\u5b57\u7b26\u88ab\u5220\u6389\u3002\u53c8\u6bd4\u5982ASCII\u78010\u5bf9\u5e94\u7684\u662f\u7a7a\u5b57\u7b26\uff0c\u5728\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u91cc\u4ee3\u8868\u5b57\u7b26\u4e32\u7ed3\u675f\uff0c\u540e\u7eed\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u88ab\u5904\u7406\u4e86\u3002 \u7528Base64\u7f16\u7801\u56e0\u4e3a\u9650\u5b9a\u4e86\u7528\u4e8e\u7f16\u7801\u7684\u5b57\u7b26\u96c6\uff0c\u786e\u4fdd\u7f16\u7801\u7684\u7ed3\u679c\u53ef\u6253\u5370\u4e14\u65e0\u6b67\u4e49\u3002 \u4e0d\u540c\u7684\u7f51\u7edc\u8282\u70b9\u8bbe\u5907\u4ea4\u4e92\u6570\u636e\u9700\u8981\uff1a\u8bbe\u5907A\u628abase64\u7f16\u7801\u540e\u7684\u6570\u636e\u5c01\u88c5\u5728 json\u5b57\u7b26\u4e32 \u91cc\uff0c\u8bbe\u5907B\u5148\u89e3\u6790json\u62ff\u5230value\uff0c\u518d\u8fdb\u884cbase64\u89e3\u7801\u62ff\u5230\u60f3\u8981\u7684\u6570\u636e\u3002 \u65e9\u5e74\u5236\u5b9a\u7684\u4e00\u4e9b\u534f\u8bae\u90fd\u662f\u53ea\u652f\u6301\u6587\u672c\u8bbe\u5b9a\u7684\u3002\u968f\u7740\u4e0d\u65ad\u53d1\u5c55\u9700\u8981\u652f\u6301\u975e\u6587\u672c\u4e86\uff0c\u624d\u641e\u4e86\u4e00\u4e2abase64\u505a\u517c\u5bb9 \u867d\u7136\u7f16\u7801\u4e4b\u540e\u7684\u6570\u636e\u4e0e\u52a0\u5bc6\u4e00\u6837\u90fd\u5177\u6709\u4e0d\u53ef\u89c1\u6027\uff0c\u4f46\u7f16\u7801\u4e0e\u52a0\u5bc6\u7684\u6982\u5ff5\u5e76\u4e0d\u4e00\u6837\u3002\u7f16\u7801\u662f\u516c\u5f00\u7684\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u89e3\u7801\uff1b\u800c\u52a0\u5bc6\u5219\u76f8\u53cd\uff0c\u4f60\u53ea\u5e0c\u671b\u81ea\u5df1\u6216\u8005\u7279\u5b9a\u7684\u4eba\u624d\u53ef\u4ee5\u5bf9\u5185\u5bb9\u8fdb\u884c\u89e3\u5bc6\u3002 base64\u5904\u7406\u56fe\u7247\u6570\u636e\uff1a import base64 source = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA7VBMVEUAAAD////////s8v////+txP+qwv+4zf/w9f/2+P+hu//Q3f+yyP+4zf/Q3f////+kvv+90P+80f+2yv/S4P/T4P/M2//z9/+cuP/V4P9Whv////9Uhf9Sg/9Pgf9NgP/8/f9di/9Xh/9lkf5aif9qlP7z9//k7P/c5v+2y/94nv51nP6lv/+LrP6Ep/6BpP5gjf7v9P+wxv/U4f/M2/+sxP+vxv73+f/P3v/J2v+5zf+ivP+fuv9xmf+Ytv6Usv6Hqf58of5vl/7m7v/g6f+zyf6QsP75+//q8P/B0v/W4//C1P6+0P6qwv6ct/76fHZiAAAAGnRSTlMAGAaVR/Py45aC9Mfy2b8t9OPZ2ce/v4L0x/e74/EAAAIZSURBVDjLZVPXYuIwEDSmQ4BLv5O0ku3Yhwu2IZTQe0hy7f8/57QSoYR5sVea1c424wgzl324LRRuH7I507hEJluYucCFEOBGhWzmy7X5+N0WwIjTbrcdBsKulM0z96onGCGE2X6n+cTkj/CqJ480igzkNXp26E9JkABSbBz8i4Bn3EkH840mKHoxs49fZQzt2Kd03FQEzSB3WsejB9Jqf1CJQBM0wCurABWBoub0gkDENwyStTHA62pwSWDtklRQ4FLfjnaiPqVW60hAYeLKNHIREOZuKTL80H6XBFCwn4BAmDOyLiOQUIlOSEjaoS+Ju57NZuul73Fml4w6yAivSLBW3MGfcfBmIegmArg3alICdJHgy1jQt8Z/6CcC4DdGXhLIoiWRACpbLYbDYW80GnXp2GH8ShP+PUvEoHsAIFq9Xm8+kXlIwkkI9pm+05Tm3yWqu9EiB0pkwjWBx2i+tND1XqeZqpPU4VhUbq/ekR8CwTRVoRxf3ifTbeIwcONNsJZ2lxFVKDMv1KNvS2zXdrnD+COvR1PQpTZKNlKD3cLCOJNnivgVxkw169BunlKFaV9/B+LQbqOsByY4IVgDB59dl/cjR9TIJV1Lh7CGqUqH/DDPhhZYOPkdLz6m0X7GrzPHsSe6zJwzxvm+5NeNi8U5ABfn7mz7zHJFrZ6+BY6rd7m8kQtcAtwwXzq4n69/vZbP1+pn6/8fsrRmHUhmpYYAAAAASUVORK5CYII=\" s = source.split(\",\")[1] with open(\"a.png\", \"wb\") as f: f.write(base64.b64decode(s)) J\u7684base64\u7f16\u7801\u4e0e\u89e3\u7801 // \u7f16\u7801 btoa() // \u89e3\u7801 atob()","title":"\uff085\uff09\u4e3a\u4ec0\u4e48\u8981base64\u7f16\u7801"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#22","text":"","title":"2.2\u3001\u6458\u8981&amp;\u52a0\u5bc6\u7b97\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1md5","text":"MD5\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u89c1\u7684\u6458\u8981(hash)\u903b\u8f91. \u5176\u7279\u70b9\u5c31\u662f\u5c0f\u5de7. \u901f\u5ea6\u5feb. \u6781\u96be\u88ab\u7834\u89e3. \u6240\u4ee5, md5\u4f9d\u7136\u662f\u56fd\u5185\u975e\u5e38\u591a\u7684\u4e92\u8054\u7f51\u516c\u53f8\u9009\u62e9\u7684\u5bc6\u7801\u6458\u8981\u7b97\u6cd5. \u8fd9\u73a9\u610f\u4e0d\u53ef\u9006. \u6240\u4ee5. \u6458\u8981\u7b97\u6cd5\u5c31\u4e0d\u662f\u4e00\u4e2a\u52a0\u5bc6\u903b\u8f91. \u76f8\u540c\u7684\u5185\u5bb9\u8ba1\u7b97\u51fa\u6765\u7684\u6458\u8981\u662f\u4e00\u6837\u7684 \u4e0d\u540c\u7684\u5185\u5bb9(\u54ea\u6015\u662f\u4e00\u4e22\u4e22\u4e22\u4e22\u4e22\u4e0d\u4e00\u6837) \u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c\u5dee\u522b\u975e\u5e38\u5927 \u5728\u6570\u5b66\u4e0a. \u6458\u8981\u5176\u5b9e\u8ba1\u7b97\u903b\u8f91\u5c31\u662fhash. hash(\u6570\u636e) => \u6570\u5b57 1. \u5bc6\u7801 2. \u4e00\u81f4\u6027\u68c0\u6d4b md5\u7684python\u5b9e\u73b0: from hashlib import md5 obj = md5() obj.update(\"yuan\".encode(\"utf-8\")) # obj.update(\"alex\".encode('utf-8')) # \u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u88ab\u52a0\u5bc6\u7684\u5185\u5bb9 bs = obj.hexdigest() print(bs) \u6211\u4eec\u628a\u5bc6\u6587\u4e22\u5230\u7f51\u9875\u91cc. \u53d1\u73b0\u6709\u4e9b\u7f51\u7ad9\u53ef\u4ee5\u76f4\u63a5\u89e3\u5bc6. \u4f46\u5176\u5b9e\u4e0d\u7136. \u8fd9\u91cc\u5e76\u4e0d\u662f\u76f4\u63a5\u89e3\u5bc6MD5. \u800c\u662f\"\u649e\u5e93\". \u5c31\u662f\u5b83\u7f51\u7ad9\u91cc\u5b58\u50a8\u4e86\u5927\u91cf\u7684MD5\u7684\u503c. \u5c31\u50cf\u8fd9\u6837: \u800c\u9700\u8981\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019. \u53ea\u9700\u8981\u4e00\u6761select\u8bed\u53e5\u5c31\u53ef\u4ee5\u67e5\u8be2\u5230\u4e86. \u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u649e\u5e93. \u5982\u4f55\u907f\u514d\u649e\u5e93: md5\u5728\u8fdb\u884c\u8ba1\u7b97\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u76d0. \u52a0\u76d0\u4e4b\u540e. \u5c31\u5f88\u96be\u649e\u5e93\u4e86. from hashlib import md5 salt = \"\u6211\u662f\u76d0.\u628a\u6211\u52a0\u8fdb\u53bb\u5c31\u6ca1\u4eba\u80fd\u7834\u89e3\u4e86\" obj = md5(salt.encode(\"utf-8\")) # \u52a0\u76d0 obj.update(\"alex\".encode(\"utf-8\")) bs = obj.hexdigest() print(bs) \u6269\u5c55; sha256 from hashlib import sha1, sha256 sha = sha256(b'salt') sha.update(b'alex') print(sha.hexdigest()) \u4e0d\u8bba\u662fsha1, sha256, md5\u90fd\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5. \u90fd\u662f\u5728\u8ba1\u7b97hash\u503c. \u53ea\u662f\u6563\u5217\u7684\u7a0b\u5ea6\u4e0d\u540c\u800c\u5df2. \u8fd9\u79cd\u7b97\u6cd5\u6709\u4e00\u4e2a\u7279\u6027. \u4ed6\u4eec\u662f\u6563\u5217. \u4e0d\u662f\u52a0\u5bc6. \u800c\u4e14, \u7531\u4e8ehash\u7b97\u6cd5\u662f\u4e0d\u53ef\u9006\u7684, \u6240\u4ee5\u4e0d\u5b58\u5728\u89e3\u5bc6\u7684\u903b\u8f91.","title":"\u30101\u3011\u6458\u8981\u7b97\u6cd5\uff1a\u4e00\u5207\u4eceMD5\u5f00\u59cb"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2aesdes","text":"AES\u662f\u4e00\u79cd\u5bf9\u79f0\u52a0\u5bc6\uff0c\u6240\u8c13\u5bf9\u79f0\u52a0\u5bc6\u5c31\u662f\u52a0\u5bc6\u4e0e\u89e3\u5bc6\u4f7f\u7528\u7684\u79d8\u94a5\u662f\u4e00\u4e2a\u3002 \u5e38\u89c1\u7684\u5bf9\u79f0\u52a0\u5bc6: AES, DES, 3DES. \u6211\u4eec\u8fd9\u91cc\u8ba8\u8bbaAES\u3002 \u5b89\u88c5\uff1a pip install pycryptodome AES \u52a0\u5bc6\u6700\u5e38\u7528\u7684\u6a21\u5f0f\u5c31\u662f CBC \u6a21\u5f0f\u548c ECB\u6a21\u5f0f \uff0c\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u5176\u5b83\u6a21\u5f0f\uff0c\u4ed6\u4eec\u90fd\u5c5e\u4e8eAES\u52a0\u5bc6\u3002ECB\u6a21\u5f0f\u548cCBC \u6a21\u5f0f\u4fe9\u8005\u533a\u522b\u5c31\u662f ECB \u4e0d\u9700\u8981 iv\u504f\u79fb\u91cf\uff0c\u800cCBC\u9700\u8981\u3002 \"\"\" key\u7684\u957f\u5ea6 16: *AES-128* 24: *AES-192* 32: *AES-256* iv\u7684\u5b57\u8282\u957f\u5ea6\u53ea\u80fd\u662f16\u4f4d MODE \u52a0\u5bc6\u6a21\u5f0f. \u5e38\u89c1\u7684ECB, CBC ECB\uff1a\u662f\u4e00\u79cd\u57fa\u7840\u7684\u52a0\u5bc6\u65b9\u5f0f\uff0c\u5bc6\u6587\u88ab\u5206\u5272\u6210\u5206\u7ec4\u957f\u5ea6\u76f8\u7b49\u7684\u5757\uff08\u4e0d\u8db3\u8865\u9f50\uff09\uff0c\u7136\u540e\u5355\u72ec\u4e00\u4e2a\u4e2a\u52a0\u5bc6\uff0c\u4e00\u4e2a\u4e2a\u8f93\u51fa\u7ec4\u6210\u5bc6\u6587\u3002 CBC\uff1a\u662f\u4e00\u79cd\u5faa\u73af\u6a21\u5f0f\uff0c\u524d\u4e00\u4e2a\u5206\u7ec4\u7684\u5bc6\u6587\u548c\u5f53\u524d\u5206\u7ec4\u7684\u660e\u6587\u5f02\u6216\u6216\u64cd\u4f5c\u540e\u518d\u52a0\u5bc6\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u589e\u5f3a\u7834\u89e3\u96be\u5ea6\u3002 \"\"\" CBC\u52a0\u5bc6\u6848\u4f8b\uff08\u9009\u62e9aes-128\uff09\uff1a from Crypto.Cipher import AES from Crypto.Util.Padding import pad import base64 key = '0123456789abcdef'.encode() # \u79d8\u94a5: \u56e0\u4e3aaes-128\u6a21\u5f0f\uff0c\u6240\u4ee5\u5fc5\u987b16\u5b57\u8282 iv = b'abcdabcdabcdabcd' # \u504f\u79fb\u91cf\uff1a\u56e0\u4e3aaes-128\u6a21\u5f0f\uff0c\u6240\u4ee5\u5fc5\u987b16\u5b57\u8282 text = 'alex is a monkey!' # \u52a0\u5bc6\u5185\u5bb9\uff0c\u56e0\u4e3aaes-128\u6a21\u5f0f\uff0c\u6240\u4ee5\u5b57\u8282\u957f\u5ea6\u5fc5\u987b\u662f16\u7684\u500d\u6570 # while len(text.encode('utf-8')) % 16 != 0: # \u5982\u679ctext\u4e0d\u8db316\u4f4d\u7684\u500d\u6570\u5c31\u7528\u7a7a\u683c\u8865\u8db3\u4e3a16\u4f4d # text += '\\0' text = pad(text.encode(), 16) print(\"\u5b8c\u6574text:\", text) aes = AES.new(key, AES.MODE_CBC, iv) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 en_text = aes.encrypt(text) # \u52a0\u5bc6\u660e\u6587 print(\"aes\u52a0\u5bc6\u6570\u636e:::\", en_text) # b\"_\\xf04\\x7f/R\\xef\\xe9\\x14#q\\xd8A\\x12\\x8e\\xe3\\xa5\\x93\\x96'zOP\\xc1\\x85{\\xad\\xc2c\\xddn\\x86\" en_text = base64.b64encode(en_text).decode() # \u5c06\u8fd4\u56de\u7684\u5b57\u8282\u578b\u6570\u636e\u8f6c\u8fdb\u884cbase64\u7f16\u7801 print(en_text) # X/A0fy9S7+kUI3HYQRKO46WTlid6T1DBhXutwmPdboY= CBC\u89e3\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 from Crypto.Util.Padding import unpad key = '0123456789abcdef'.encode() iv = b'abcdabcdabcdabcd' aes = AES.new(key, AES.MODE_CBC, iv) text = 'X/A0fy9S7+kUI3HYQRKO46WTlid6T1DBhXutwmPdboY='.encode() # \u9700\u8981\u89e3\u5bc6\u7684\u6587\u672c ecrypted_base64 = base64.b64decode(text) # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 source = aes.decrypt(ecrypted_base64) # \u89e3\u5bc6 print(\"aes\u89e3\u5bc6\u6570\u636e:::\", source.decode()) print(\"aes\u89e3\u5bc6\u6570\u636e:::\", unpad(source, 16).decode()) \u5728Python\u4e2d\u8fdb\u884cAES\u52a0\u5bc6\u89e3\u5bc6\u65f6\uff0c\u6240\u4f20\u5165\u7684\u5bc6\u6587\u3001\u660e\u6587\u3001\u79d8\u94a5\u3001iv\u504f\u79fb\u91cf\u3001\u90fd\u9700\u8981\u662fbytes\uff08\u5b57\u8282\u578b\uff09\u6570\u636e\u3002python \u5728\u6784\u5efaaes\u5bf9\u8c61\u65f6\u4e5f\u53ea\u80fd\u63a5\u53d7bytes\u7c7b\u578b\u6570\u636e\u3002 \u5f53\u79d8\u94a5\uff0civ\u504f\u79fb\u91cf\uff0c\u5f85\u52a0\u5bc6\u7684\u660e\u6587\uff0c\u5b57\u8282\u957f\u5ea6\u4e0d\u591f16\u5b57\u8282\u6216\u800516\u5b57\u8282\u500d\u6570\u7684\u65f6\u5019\u9700\u8981\u8fdb\u884c\u8865\u5168\u3002 CBC\u6a21\u5f0f\u9700\u8981\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\uff0c\u4e3a\u4e86\u9632\u6b62\u8fd9\u7c7b\u9519\u8bef\uff0c\u65e0\u8bba\u662f\u4ec0\u4e48\u6a21\u5f0f\u90fd\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\u5c31\u53ef\u4ee5\u4e86\u3002","title":"\u30102\u3011\u5bf9\u79f0\u52a0\u5bc6\uff08AES\u4e0eDES\uff09"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3rsa","text":"\u975e\u5bf9\u79f0\u52a0\u5bc6. \u52a0\u5bc6\u548c\u89e3\u5bc6\u7684\u79d8\u94a5\u4e0d\u662f\u540c\u4e00\u4e2a\u79d8\u94a5. \u8fd9\u91cc\u9700\u8981\u4e24\u628a\u94a5\u5319. \u4e00\u4e2a\u516c\u94a5, \u4e00\u4e2a\u79c1\u94a5. \u516c\u94a5\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef. \u53d1\u9001\u7aef\u7528\u516c\u94a5\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u5bc6. \u518d\u53d1\u9001\u7ed9\u63a5\u6536\u7aef, \u63a5\u6536\u7aef\u4f7f\u7528\u79c1\u94a5\u6765\u5bf9\u6570\u636e\u89e3\u5bc6. \u7531\u4e8e\u79c1\u94a5\u53ea\u5b58\u653e\u5728\u63a5\u53d7\u7aef\u8fd9\u8fb9. \u6240\u4ee5\u5373\u4f7f\u6570\u636e\u88ab\u622a\u83b7\u4e86. \u4e5f\u662f\u65e0\u6cd5\u8fdb\u884c\u89e3\u5bc6\u7684. \u516c\u94a5\u548c\u79c1\u94a5 \u5e38\u89c1\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5: RSA, DSA\u7b49\u7b49, \u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a. RSA\u52a0\u5bc6, \u4e5f\u662f\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848 \u521b\u5efa\u516c\u94a5\u548c\u79c1\u94a5 from Crypto.PublicKey import RSA # \u751f\u6210\u79d8\u94a5 rsakey = RSA.generate(1024) with open(\"rsa.public.pem\", mode=\"wb\") as f: f.write(rsakey.publickey().exportKey()) with open(\"rsa.private.pem\", mode=\"wb\") as f: f.write(rsakey.exportKey()) \u52a0\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 # \u52a0\u5bc6 data = \"\u6211\u559c\u6b22\u4f60\" with open(\"rsa.public.pem\", mode=\"r\") as f: pk = f.read() rsa_pk = RSA.importKey(pk) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.encrypt(data.encode(\"utf-8\")) # \u5904\u7406\u6210b64\u65b9\u4fbf\u4f20\u8f93 b64_result = base64.b64encode(result).decode(\"utf-8\") print(b64_result) \u89e3\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 data = \"BkiKG8jzVGzbWOl4m8NXJEYglgtxhOB05MGmap8JSP97GzoewPBmDTs7c5iACUof3k/uJf0H88GygajVgBvkcbckJp7oO+Qj6VSUQYTOHhKN/VG2a8v+WzL34EO/S7BYoj2oOxIDAr8wDLxYxjBeXq/Be6Q1yBbnZcKaMkifhP8=\" # \u89e3\u5bc6 with open(\"rsa.private.pem\", mode=\"r\") as f: prikey = f.read() rsa_pk = RSA.importKey(prikey) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.decrypt(base64.b64decode(data), None) print(\"rsa\u89e3\u5bc6\u6570\u636e:::\", result.decode(\"utf-8\")","title":"\u30103\u3011\u975e\u5bf9\u79f0\u52a0\u5bc6(RSA)"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#23js","text":"","title":"2.3\u3001JS\u7248\u672c\u7684\u52a0\u5bc6\u7b97\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1md5_1","text":"const CryptoJS = require('crypto-js'); // \u539f\u59cb\u6570\u636e const data = '123456'; // \u751f\u6210MD5\u6458\u8981 const md5Digest = CryptoJS.MD5(data).toString(); console.log(md5Digest);","title":"\u30101\u3011md5\u6458\u8981\u7b97\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2aes","text":"const CryptoJS = require(\"crypto-js\") // \u5bc6\u94a5\uff08128\u4f4d\uff0c16\u5b57\u8282\uff09 var key = CryptoJS.enc.Utf8.parse('0123456789abcdef'); // \u521d\u59cb\u5316\u5411\u91cf\uff08IV\uff09\uff08128\u4f4d\uff0c16\u5b57\u8282\uff09 var iv = CryptoJS.enc.Utf8.parse('1234567890abcdef'); // \u5f85\u52a0\u5bc6\u7684\u6570\u636e var plaintext = 'Hello, yuan!'; // \u8fdb\u884cAES-128\u52a0\u5bc6\uff0c\u4f7f\u7528CBC\u6a21\u5f0f\u548cPKCS7\u586b\u5145 var encrypted = CryptoJS.AES.encrypt(plaintext, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }); // \u83b7\u53d6\u52a0\u5bc6\u540e\u7684\u5bc6\u6587 var ciphertext = encrypted.toString(); console.log(ciphertext);","title":"\u30102\u3011AES\u52a0\u5bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#js_1","text":"","title":"\u4e09\u3001JS\u9006\u5411\u5b9e\u6218\u6848\u4f8b"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-webpack","text":"","title":"1. Webpack\u9006\u5411"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_2","text":"Webpack\u662f\u4e00\u4e2a\u73b0\u4ee3\u7684\u9759\u6001\u6a21\u5757\u6253\u5305\u5de5\u5177\uff0c\u5b83\u4e3b\u8981\u7528\u4e8e\u524d\u7aef\u5f00\u53d1\u4e2d\u7684\u6a21\u5757\u5316\u6253\u5305\u548c\u6784\u5efa\u3002\u901a\u8fc7Webpack\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u5c06\u591a\u4e2a\u6a21\u5757\uff08\u5305\u62ecJavaScript\u3001CSS\u3001\u56fe\u7247\u7b49\uff09\u8fdb\u884c\u6253\u5305\uff0c\u751f\u6210\u4f18\u5316\u540e\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\uff0c\u4ee5\u4f9b\u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u548c\u8fd0\u884c\u3002 Webpack\u7684\u4e3b\u8981\u529f\u80fd\u548c\u7279\u70b9\u5305\u62ec\uff1a \u6a21\u5757\u5316\u652f\u6301\uff1aWebpack\u5c06\u5e94\u7528\u7a0b\u5e8f\u62c6\u5206\u4e3a\u591a\u4e2a\u6a21\u5757\uff0c\u901a\u8fc7\u6a21\u5757\u5316\u7684\u65b9\u5f0f\u7ba1\u7406\u548c\u52a0\u8f7d\u4f9d\u8d56\u5173\u7cfb\u3002\u5b83\u652f\u6301CommonJS\u3001ES module\u3001AMD\u7b49\u591a\u79cd\u6a21\u5757\u5316\u89c4\u8303\uff0c\u5e76\u4e14\u80fd\u591f\u5c06\u8fd9\u4e9b\u6a21\u5757\u6253\u5305\u6210\u6700\u7ec8\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u3002 \u6253\u5305\u548c\u538b\u7f29\uff1aWebpack\u53ef\u4ee5\u5c06\u591a\u4e2a\u6a21\u5757\u6253\u5305\u6210\u4e00\u4e2a\u6216\u591a\u4e2a\u6700\u7ec8\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u3002\u5b83\u652f\u6301\u5bf9JavaScript\u3001CSS\u3001\u56fe\u7247\u7b49\u8d44\u6e90\u8fdb\u884c\u538b\u7f29\u3001\u5408\u5e76\u548c\u4f18\u5316\uff0c\u4ee5\u51cf\u5c0f\u6587\u4ef6\u5927\u5c0f\uff0c\u63d0\u5347\u52a0\u8f7d\u901f\u5ea6\u548c\u6027\u80fd\u3002 \u8d44\u6e90\u52a0\u8f7d\u7ba1\u7406\uff1aWebpack\u53ef\u4ee5\u5904\u7406\u5404\u79cd\u7c7b\u578b\u7684\u8d44\u6e90\u6587\u4ef6\uff0c\u4f8b\u5982JavaScript\u3001CSS\u3001\u56fe\u7247\u3001\u5b57\u4f53\u7b49\u3002\u901a\u8fc7\u52a0\u8f7d\u5668\uff08Loader\uff09\u7684\u914d\u7f6e\uff0cWebpack\u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u8d44\u6e90\u6587\u4ef6\u8fdb\u884c\u8f6c\u6362\u548c\u5904\u7406\uff0c\u4f7f\u5176\u80fd\u591f\u88ab\u5e94\u7528\u7a0b\u5e8f\u6b63\u786e\u5730\u5f15\u7528\u548c\u52a0\u8f7d\u3002 /* !function(\u5f62\u53c2){\u52a0\u8f7d\u5668}([\u6a21\u57571\uff0c\u6a21\u57572,...]) !function(\u5f62\u53c2){\u52a0\u8f7d\u5668}({\"k1\":\"\u6a21\u57571\",\"k2\":\"\u6a21\u57572\"}) */ window = global; !function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; e[r].call(o.exports, o, o.exports, n); return o.exports.exports; } window.loader = n; // n(\"1002\"); }([ function () { console.log(\"foo\"); this.exports = 100; }, function () { console.log(\"bar\"); this.exports = 200; }] ); console.log(window.loader(0)); console.log(window.loader(1)); window = global; !function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; e[r].call(o.exports, o, o.exports, n); return o.exports.exports; // \u8fd4\u56de o.exports.exports\uff0c\u800c\u4e0d\u662f\u6574\u4e2a o.exports \u5bf9\u8c61 } window.loader = n; // n(\"1002\"); }({ \"1001\": function () { console.log(\"foo\"); this.exports = 100; // \u76f4\u63a5\u4fee\u6539 exports \u53d8\u91cf }, \"1002\": function () { console.log(\"bar\"); this.exports = 200; } }); console.log(window.loader(\"1001\"));","title":"\u30101\u3011\u6982\u5ff5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_3","text":"# \u9875\u9762\uff1a `https://fuwu.nhsa.gov.cn/nationalHallSt/#/search/pharmacies?code=90000&flag=false&gbFlag=true` # \u63a5\u53e3\uff1a `https://fuwu.nhsa.gov.cn/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo`","title":"\u30102\u3011\u533b\u4fdd\u5c40\u6848\u4f8b"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_3","text":"","title":"\u30103\u3011\u54cd\u5e94\u89e3\u5bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_3","text":"\u641c\u7d22 interceptors.response.use","title":"\u30104\u3011\u5165\u53e3\u5b9a\u4f4d"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5webpack","text":"\u53ef\u4ee5\u8fdb\u5165u.b\u6df1\u5165\u6316\u6398\u548c\u590d\u539f\uff0c\u4f46\u662f\u66f4\u7b80\u5355\u7684\u505a\u6cd5\u662f\u76f4\u63a5\u6784\u5efau.b \u5c06loader\u62ff\u5230\u672c\u5730,\u6784\u5efaloader.js \u8865\u4e0awindow\u5bf9\u8c61 \u5c06\u6784\u5efa\u51fd\u6570\u8d4b\u503c\u7ed9window\u5bf9\u8c61\uff0c\u65b9\u4fbf\u5168\u5c40\u8c03\u7528 \u6ce8\u91ca\u4e00\u4e9b\u521d\u59cb\u5316\u4ee3\u7801\uff0c\u9632\u6b62\u8865\u65e0\u6548\u73af\u5883 \u5c06\u8c03\u7528\u6a21\u5757\u6253\u4e0a\u65e5\u5fd7\uff0c\u53ef\u4ee5\u89c2\u5bdf\u8c03\u7528\u4fe1\u606f \u6784\u5efa\u4e3b\u903b\u8f91main.js require(\"./loader\") console.log(window.yuan(\"7d92\")) u = window.yuan(\"7d92\") // 1. \u6d4b\u8bd5\u89e3\u5bc6\u4ee3\u7801 // \u6ce8\u610fe\u522b\u62ff\u9519\u4e86 function decrypt() { e = { \"data\": { \"code\": 0, \"data\": { \"signData\": \"4QJOwsGQ893uRFwW8Q0VqkJxck81/Qk3gIvEFaQ5QsjkPxHgI7nKWfXLwmTTz2MyIr+riAuQLAq/mOewQoj+eQ==\", \"encType\": \"SM4\", \"data\": { \"encData\": \"943195DDA5E5337E08E0A527071CC637E0074CBD73D293A3643B2199C79561872E19ABE7BB2600D23E9CDB14C1A75194C1D3C735D2DCC50E297311A423B72BF0AE4781F770874C1AC923AD26618311F182DFD96DBF46FD4EB0475F347756783DC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8ABAA64B40827F66C7103DA3EC1CB79357FA4DE3E012936C754BE9094F60BF6B2766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B92DA07444DA1526331109FAA4B5190B528103F9EDABB6C76CA5A6C1F24BDBFBD81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DFF94B8CA83EDEE175700A24EEC5F869495626E7300E3E1C43B432B84E47D8B0109BA756CBF627CA3CA91138F764E4E79AC1D8FD1A1155B7DCE9665B3A1856E1BB6193DDE8EC8D80ECD137DC24B04BFC7DC3EEE373E0A71DDCBEAA0D6F8350F6A423CA60D48BE079AB959EB56975CF1DD2FD2EA5223C14436C0A1BCD6095A980452F7E0A6E85087957FBC1FA19369DCDCF2FF575E5A08224248A668A514D1EFBDB7A11056C9481CD9B3BAD3A6EB6E62B4BCA23D6131B2B2958BD807E1453C5447EAF0BC5D15EFD6B978B4F44C0CD088034929FD30C638E7F5CC7435914EB1582FF2C2BB08DBE0B2BD1B51D9E023B61B03AFDBECFE523CF3EA2DF64CF27421C0DFA374E70E692C52655A4B78BAA0F62FA0B70165FA33E1A32E6430EC13911F08993941400D3F018F4D3E814C13ECD2E8B098DF426A1A90422D40FE350AA784246D2582ED934A2128B607854B0A38F84DAA630D4F1229ED3A1B9A54758C46F1654A6FA86E3F98B0EB5C8BE9E93D8BB65E30097D9663D775BA1483515B9D36E8AF8598BC5CC1309E79CD4D9A6401DA15F5F821A81D03D58A49869A51AB219E228808A37222075760E5D8FD3BFE2FF70D827AA18CAFDBB5EEEAF0DACBB17BDDC993D0F9027473065419DD7AD3B182A745585CA21D57D8782DFB3EAAD3170EE20045CAC80B046CBC22D5D5F71986E59A08EEF3AE412EE5DA72B65BFEFE9CA98FCEFF3DE75D6F24E3D0925FD1B0FBDF905FBB1641DC00B2C059FF432406F67960E6BA12F934748FE06769569BBC4E47D1DBBE6E4DF17DBF0AF690467B3A81157327E1C1B12547A651EC2F1F754187475C3E806AFFA8F635ACA0FA92614BF9B9D02E31BDD417B8840242DF9095293D8240B3736D157246C9C9E24BF8151DE0737E76497F195B88CFE3489F0CC825C24908F0F356D54F2306B41914731409C6E254BB84C870C6B938FB449B3366909044B240D4745961F9F7871370E77A523F9991C659F0CCB3F53A3E33BD924E023CB4D2466FE5FD8808027665DC09B81DD86C4FBAF26D4AD0D3D99C54A971331C1310095F1798A6D5127735CD1B6D22CD0C8C09CDA1E6F972FECBC7DD09970E3A28577413984D5027523668887593B3E35A88FBF7FA063DF18AAC85044EAB1691D6A120810293193A755FE43F994D4A56470C7B0458C80BE5B8CB156B6C07FEAE5DF62DDC46358440021AD99E46B818627912383E163B0705F510B8F1A4BB3EE5241197B24C16DC3271506884F6FC59D86D02876EE5CF2C2FCD02422AECF3892FD08C8EEE0C6D1B004E462B1AC835F03A779BE611D970852E512FB1F52323EADEB7420AD34B9ABF4740826770C4FE19C344AD90AA910DAA361F6FC54CBF9BD275AFD7BFFA665837708052B4BD9B64923A6C39EA92374F9DBAE2E91D757CCFB10FCEFE2E92408CF49C45774F384EA4914C930BC75B26D631CC3D1BFDD4E0A2D4D5C6D2646F8FC6E15C17577ABEA801BCA1E9297489C2F26A03C5630F760D3389C522FDCD358AF61907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E55AA1DE72CB2FB53B89CC69386A27D0E115BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60ADAD2ABD62EEF87E582AC769848583ECE29FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D21A91C78B848DED57CA24306716CE130E42B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB1B5799057B17FC5DAA9C2854EC75D5AC00B787AFA653C5964747618DFBCED145843B8A934B01B9CCF6E6DC8CA1045AA8A1BA0CB34A761326BDBA6ED6B4CB64887505E4F46E47B3CA40AC55CB8162BD146EB4471EB225248A5D756F5A9F7EE8598C33F277B985298F23DE9CB2815527DD8FCC5A373E4C2CB2CBF10CCEE7874FAD31B2E8A796AF977BA38F66B781D11F64B814B3C4709EA945FCC22E2564102114900C3F00534BEFC5758CE38A616BE18AD6DDA7119F8428138AABB75A2A291B6BBE5FF87174B9D0288BFC3670B8DBDD431C5D6F06307389DC291E48C151719519493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1AEE7021A0E3FADE7493B070C9CDDE94E05D0AA02749823F1B93B16ECF30AF6308218550D8DFF01F48E02BD424E92512C5C5B1A27867767F7BEEF279DFCFE4E681BBBD5DB53EA5E7154071E74EF0BE481E71BBECD3DB8BF0D94D5BB630597E70D1BBBD5DB53EA5E7154071E74EF0BE481EC937762E26C1C310788AB9A66822912263CC20EB6AF79BF07AD98986282B0CA1A193DCD8F079025A99D6E4D42EC9370BC08285E0BF5E5852448A15060CE14BC8AD214202C3712F8FB1B3AFE8CB9886E077830FC1D7FF0FCEC441B45B5839C9DF3BF53F786F8C7E12124F7C6D689A648B9F1142B244FF669F76CD2085344C73F5803E042ABF683F9718FA3EE7A21679BABDAD417EB5EDC97C94E7B340CFBE464E17B4768EA5561668E6850B7AE2C37B1CC84AF2A50887752A72B01584E9C0004EF22CDB67245D1A126F384CD163DD825CF3DA643F9DA436999D1F963BFC00285D2C4B51E46CC029AE6E4ECA8EFC4F5100BDFEE756603654E9264669C2E90E56B54E1C1EF869BA6BF4E370AB9EE65307C6534D3F4F84B12E2B578DA72AF53290571473444F8ADDC5E726EF9FB6EA1469A4F71B48E4D7BD653DAD071E0FF53604253C40DA6DA556EF16716BE3D07296E08D8D760DBB39F47EE77675B19498478D239A72D11B42B012A3FECD2F6F25A290F9934B5CF8FC6B9A65AF9540F414FAC1E811AAF12D40A6B62BF3F76DBCA09248770392DB77A7F2D2CA58AEFC1E8686CADDB37F912821EF5FD88C7BF7E4A8BD51A644D25F61DC577194B9B7FE7DB08C03A29BA2727D169BF7B14D998651A2AD2C388111B4EDA3BE273BC7EC402EEDAD329D4D48E440F62D692AFFA3FDC969C2711C6A6FDE1381DCFAC20033D0B114ECE1F7F2E7460846A4D90F253D2F597F40221D7DCB60BBF30E033754691B5509222D89661481F7E683E5D67ECFB4D968FA1A6C640C947444C755210A36291EC920394FC81058A6786D0422B05C18C0CC1D60E94C077BB4831C80E78820138D02A3F3B910C7589B30AA97E737160F13E111A336400B6621C9E19828E1D1BBE352EDBE1798070B0160B2A19B32E913D7BA20375AE84EA79F0E113FFC541D234D451D8E1D523C856783C6E7089E51EA8C1499142E574A19983EAF96C252FD2CA4FB76BD3E8EAC4796E6A4B2C425695DA335940597C70F3AD1203B122E33E4C0EF2DB2E6E4589102D1E82EC3EFAA18996C1825200E26EAE4B33519F04F370F01B9115456393815FCABFABE9509A2DA3C61A20078B4D389B18B6B1C39322647DA4963B40BC483BD82482309349C6940B789B5ABB44565D87627E132D6E8281823416F1B46907C9863497333FCF64E2B7AEDE1B85EC5210F35F57B08B9B878F40C63C649A5B5987C9F48ED0ED2F84D721D60709D659971D9C0926A245E4BED5121356CBC6FBC18EC8B31EB047C322A6E8FF34D04C16DDE809EB0B5A4A449BC2E9402B964FE80EFE6B84B34174F107BF18A7973CCDA7AEC778B189EF445FA79737DB5BE38133F444900A7F1DC60803B5D392B0054FC75663B6A513AAA8686FAE63251D126C31208DCFB0F5D40EF0F18AC8126B0B2A3AF1FCE60A6DBAA20743A287A19310A57711FCA418578F73CC86C032B474492C48332B881964D1DF9197B2B1CF63648A1565F98D5378DE78C8A41A40C053E10205EFF98A4F24F0A5D71CDAE9CB9B232B529F6F80FC310DCF9A05C01F5E125121007D782891DC51DD2FE76D0A6A3E11DBD9888307BF6853C0D24B153FD7CF812BA1B515ADDA4303AFBAE80030E37D1E77DEE97718B79A6C1D2C11C18F0B3AB1E2B3A28359D28B28F791025CD2F7A333964C8994427E653FFB0CA3061E7E6B6846218B446AB60720919F6284D7E4B367AEF4E57EF5554E70DF20419FB905BF6F98DDAAF0F8483CD69C20312A73A7ABB226BAD300628B4ED8F04BD59BBC1BA98C13220AA96A343A18374560F91D963371004EC5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3B977432A1F68BB3E6B878728012295CC6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1CD28418CE406FC2C1BA6AF765B3397B47987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B7942990037055ED3A24F07066B0A82E088BAB2629BD546AEDA7E1C04D24144D0928BE79DC6EADE64277410265C843B404779EE07558B0563C70DCC882F06920DEEFFE04A935B6753ED56B7A7E34A57835EA5355B3A00DC92A40FE29F6F1F1C4E0A8BB8E5972ACD3C0454F966671A0028A76C0967E51EC7A59DC479FDE871384B0DB900551F22DB202380E822B0311C7EE0C21227A0678F5121A42A8D0AEC73A30DB900551F22DB202380E822B0311C7E793EF792D491E0DDDF11EA99F8639A4FA51EFBE85B1660718232C81F7FBB6CCF204ADE2544CD6FCA894BB59990DEB3C51518A23323C8535EEC4FC125010E9390C4D48C14620BF456F4C5688F319B4612E716B3D9C3FFB338EA53382CF610D71AB9FAD7CC239E35538657A66CF301EF0ABA7B1422E824D3C047372237899C4C52B712B224CBD69CE64D734686D2714A9C285322B3C52E8ABC74DF9AF8206F3D26187DDCF931500041E33B714D0D338934F174F1A5200DC2EE0E23DA4EC49DCEDD5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3E5638D7EA4D23B75FC48C4695A85952F6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1C8D8FC0CED5F7A956AAF354F16471475E987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B181C46666049DE9E13AD1D2B2E085E6188BAB2629BD546AEDA7E1C04D24144D042A19DAEB379CA2BC6011DC4A1FB176C7D32930FE120DBBB30585C7327A004AD446BF88DD66F2061F3B48196C3C874CC9700AFBC1F89C4BCEB43C54B3D30C87879BFE00E77258A07010562067813CE59F2A02F00756C8A8BEB8039D420D6D36ED9096C7C2120531BC96EECCFC7DE250B177A69F7A2EDACE2093ACB2BCD47C45B656D5FB82D89286AC381C231F8428931D1FE9E2ACCDC48D54DD0DC4B3DD55F5DB1505B8802CE9347C9B2D0EE0ED66EF09597365E92C07D603B240081D2D9A297B3E67441249CCCF702AA68216D9017F8F4CEDB4EFF2975DA8BFB6D050148BC673324B051B6AB4CA1E3A7D42D14EDA8560D96F51DB4A51B877983975263B15922721624DBCB49BBCDF1B20FFC8AB1EF5DDA7FACF4AE61F63578C15F32826373DA2F512A50FEF595D569AA6FB631EAC04D8B9DB33416EC234496A6AAD671735B24BBBD5DB53EA5E7154071E74EF0BE481EC429551452268BE9C4919E923688457A987C9F48ED0ED2F84D721D60709D65992710F996D1E31CD59B0DA2948536E1ED5D4993D6599F2007E8DD123839F16A3F5205374DBA8E71242A15CBC9A068EFC31A2A4FFAD3221479093EFB3207D13498F9E5D6121EEA43BFF204A958A7A896B86C3E0F10B2FFFFCCF5A13B1766B4870DCE2AD69681A4BF45325339CE9F01DB90A61DF6FAC08BC9F808BE116002CB1C1BC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8D5E84E1A7ECB9F678655BFDFE7C6185ADE0D4642EC3033A4DC63003938262E8C766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B9B1648DC03DC2493069270ADFE0B58C5C0F88C2157260C25949B2934A28164AC81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DF81A014114D2A35BF113427ECC99BC4BCB95C51588CC417BFA9AB6F43DB55F34CD6047F37D38BE114350EFD1C8D811ABA7F091FCCF971D0B2B17597DC54F0902162E7C55C3C31D5BA0EDB1F9A9D3C19CEC3EEE373E0A71DDCBEAA0D6F8350F6A428A6A7791FCB75AA3EA49208C7A7E3C3AAABD3D76CA9A8A11C42BF5F5FB74B3160AA0AB5EC8EF5E1CB1276645ACE06BBC986BB3AF3A476493CCA7C7FF4E22C052E062A59E6A733D780BFCC2D2D4AABABCE6262DD74FE4E49DC60480748E6B1A992DA614F4D7FAAEF80ECEFE8107264D568D685E0B7A639C4387A43E7789DEB2D791680837C1FF9217DAF5B3AF03D2B39A996331794514801140377E70A74A9D8AB8CE9260F2C3ABF5548FFADB39F01C4BBBD5DB53EA5E7154071E74EF0BE481ECBE780167AA8A242146E3369B7732A2B3815FCABFABE9509A2DA3C61A20078B48A19771A677EDE403A2BA518E5D5ACF87942990037055ED3A24F07066B0A82E07454806472F90D4783C65BA282381D309EF7F74D2A5E852B4E26CD310AF64DDDAD6123B0CFD169D8BC296A04C0F728C4A902FAE39F74B40214651C5200047B0A60A50A9A4E8506A912A75356C2D677DE61AF6A2CEEC3345345E39B12144809A597D9663D775BA1483515B9D36E8AF8593567DB4E4A9011423E13A442EFF6F60A97D9663D775BA1483515B9D36E8AF8591F2CFC1C65A65B934FD56C104FE3640333BF4512BB432390A58F386BB41D3C268CBA1E5C0A86B6C6BAF6371722C96EA22445F6B3FBE14A0B6F6BDD6F1785A88D803E042ABF683F9718FA3EE7A21679BA5E91A3A2D09491FC4806EFE8B6C518390DDEAB7A89CC8E722A89B6B84B2E2539064E75FA72FF95EDE936D931CF9867CD3D3765C46B89D9CEDB6BC24CDC84E1A670E6F2B7E27419F7AF63923503A71E6800484E9FC4FA99C364015E1B1C71DE4AE7D84F6B2091AEB79947C7104CFB4400322870F31AFDC579D440B85A5DFC58D149781294547B1B41D87A0EDE7A6B82FFBBBD5DB53EA5E7154071E74EF0BE481E5F1E209932A07A74284CA6A2B38A6EEC2E60AFAD5B06EBD8BD1168C553E6E63C43CBA3899789DB7D6CC2742B36E171A5A68800C0180A6487C4A11DE09A70AD9A7762D77689AB4C70B818AB1A333C62C7F24E151085638879EC198D3A62FD261BBB724289FF9ADF421138E8D9719A176D342AE8150E7CEF39F66C6FC799C2B708581DCF80F575AFBE4CD2CD589EEB4F17B02CD8F7EA2B9C5BE548D0FB04AC4BB5738215D6C4598C41DADE77782ADF75E3F8F0A1F3608706F0BA78B859D3D8DFC3485CB655C350BDC856AD5A76506922850A17FB9517EA6B059FCC219C0BD98782A3218505C098E22823D6FE0F81AEFE78A8797D1E92CB6B4B8030CFACC8FB57CC907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E56854AED9B10AA2C1C82C6143BD6AA8D415BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60A1177FA7A10D393FE326F70356D951EC129FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D20F899C42EB990616BE2EEB4EEAA1DC4042B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB9A13A323744DB41781DC619818F34062B018602D747390CA88298E186A2EDBE43C2B5309E67A21BF89D2C2A7C43064E96A0BAE165ADC39234D05EC8A514C8CF60415B5C89ED64D651402034273A66F06E15DCAB2E9BE6B060C7CFC983D60911AF9BFED3E18BC6E12CFD374FE979F4511F0958EF7545AFB0E9BC8B3B863C43444187E5D73626EEA5856BBEF8CB8F21794C3767CB9A068F9DBDD2BEB65E50241F9CAB0DD5B5A18C48543C2428318BB4474354D09F5EBC845EEF08929E3D8B9DA990B458152E444C1A608286AE20178FA75C2F65FBCAD578FFE2B7541D2BF4C385F2E062A59E6A733D780BFCC2D2D4AABAB304DC51633924B0FE0D4D3ACFBF2055CE53EE6E3150396DE1D60B3B7435DAAC8212BFF39A31D407E2F8E1352D46D51C198EB9FEF9BF90ABDC3BDC228DA5F5C05403886195DEC70209990180F4D8291104DA1C6B11562D46194578A5BB1B95324493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1A502BDB6869C7D0CA8ED04501D481F0F85C49DBE377E736AA4E8ACF7B70373A8C3D49E10769ADF903F53E58FBB514FC2332F763EDD3197C938C322D46B3231B2080C83A717C0DD2C4513CBEC008A07432CB4C761CAE1DC4452664292099E09A8A24BB18281CF5B37B1BB7046EF26BD1BF35FF0C62640FDE24BA32BB172BBF45F24F6D231DD03926E08B733492616DA2987A749A04019F42FE6BC721013AF4CA8CCFB3E92CB7A47470A5D154588BE22E404AB3CD75FBE5589EDB5008A512CC1B40A5B9328442FDE48667E19087CD3AEBA89FABC82F326D3AE62AEBBFBE71D425C442E75B4597DCD21C5C6C29E49A002860802F5456AF8E1A53E18A4E92A76E7F4E\" }, \"signType\": \"SM2\", \"appCode\": \"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\", \"version\": \"1.0.0\", \"timestamp\": \"1736589824238\" }, \"message\": \"\u6210\u529f\", \"timestamp\": \"1736589824\", \"type\": \"success\" }, \"status\": 200, \"statusText\": \"OK\", \"headers\": { \"access-control-allow-credentials\": \"true\", \"access-control-allow-methods\": \"GET,POST,OPTIONS\", \"access-control-allow-origin\": \"https://fuwu.nhsa.gov.cn\", \"access-control-expose-headers\": \"Content-Length,Content-Range\", \"cache-control\": \"no-store\", \"connection\": \"keep-alive\", \"content-language\": \"zh-CN\", \"content-type\": \"application/json;charset=UTF-8\", \"date\": \"Sat, 11 Jan 2025 10:03:44 GMT\", \"server\": \"WAF\", \"strict-transport-security\": \"max-age=0; preload\", \"transfer-encoding\": \"chunked\", \"x-mg-code\": \"200\", \"x-mg-timestamp\": \"1736589824243\", \"x-mg-traceid\": \"647f0aae-9ee9-4f75-8e7f-ec56188a98ec\", \"x-request-id\": \"71a2300fd91fe9be166c43c4a40ae906\", \"x-ser\": \"i32399_c4103, i32859_c25015\" }, \"config\": { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\", \"x-tif-signature\": \"cfef8145813ab89ee6d9f36db876e211d9cfd2a9e864b9c26d10922c05804d6e\", \"x-tif-timestamp\": 1736589824, \"x-tif-nonce\": \"L3aL9aHK\", \"contentType\": \"application/x-www-form-urlencoded\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": \"{\\\"data\\\":{\\\"data\\\":{\\\"encData\\\":\\\"3DFBCA4667B978F639BB23B95DCE4CC74CE34C33DC32F1068E9E23CA546C9EA8CCD20943B4DAE96380B41164D761DE97BBBD5DB53EA5E7154071E74EF0BE481E2BADC2FDCC843E425B4CA14CEDBC102CA979CA4202C06C9F2CD837D90C6DA45E64DE712DF3683DE81C358841664CBE17561D0390069F11B0D412FE38BE15BA5C\\\"},\\\"appCode\\\":\\\"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\\\",\\\"version\\\":\\\"1.0.0\\\",\\\"encType\\\":\\\"SM4\\\",\\\"signType\\\":\\\"SM2\\\",\\\"timestamp\\\":1736589824,\\\"signData\\\":\\\"Ugk5SiJz4NMjy1pn5rbAHzbBaDJAeyHjkjWqn0nbFVaqYhVBP1Xcv4fnXon5s6yvPVmlJKtaoMrm1FYT7svv0w==\\\"}}\" }, \"request\": { \"_ty_rum\": 1, \"__ty_xhr_hooked_type\": \"onreadystatechange\" } } ret = u.b(\"SM4\", e.data) console.log(ret) return ret } decrypt()","title":"\u30105\u3011\u57fa\u4e8ewebpack\u9006\u5411\u89e3\u5bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6_2","text":"\u5165\u53e3\u5b9a\u4f4d \u8def\u5f84\u5173\u952e\u5b57\uff1a\u641c\u7d22 /CommQuery/queryRtalPhacBInfo","title":"\u30106\u3011\u8bf7\u6c42\u52a0\u5bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#7_1","text":"\u53d1\u73b0\u8fd9\u4e2au\u5bf9\u8c61\u548c\u4e0a\u9762\u54cd\u5e94\u89e3\u5bc6\u7684\u662f\u4e00\u4e2a,\u4e0a\u9762\u662fu.b\uff0c\u8fd9\u91cc\u662fu.a function encrypt(page) { let source_data = { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"common\": { \"Accept\": \"application/json, text/plain, */*\" }, \"delete\": {}, \"get\": {}, \"head\": {}, \"post\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"put\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"patch\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": { \"addr\": \"\", \"regnCode\": \"110000\", \"medinsName\": \"\", \"businessLvOutMedOtp\": \"\", \"pageNum\": page, \"pageSize\": 10, \"queryDataSource\": \"es\" } } return u.a(source_data) } console.log(encrypt(1))","title":"\u30107\u3011\u9006\u5411\u52a0\u5bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#8","text":"main.js require(\"./loader\") console.log(window.yuan(\"7d92\")) u = window.yuan(\"7d92\") // 1. \u6d4b\u8bd5\u89e3\u5bc6\u4ee3\u7801 // \u6ce8\u610fe\u522b\u62ff\u9519\u4e86 function decrypt(e) { /* e = { \"data\": { \"code\": 0, \"data\": { \"signData\": \"4QJOwsGQ893uRFwW8Q0VqkJxck81/Qk3gIvEFaQ5QsjkPxHgI7nKWfXLwmTTz2MyIr+riAuQLAq/mOewQoj+eQ==\", \"encType\": \"SM4\", \"data\": { \"encData\": \"943195DDA5E5337E08E0A527071CC637E0074CBD73D293A3643B2199C79561872E19ABE7BB2600D23E9CDB14C1A75194C1D3C735D2DCC50E297311A423B72BF0AE4781F770874C1AC923AD26618311F182DFD96DBF46FD4EB0475F347756783DC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8ABAA64B40827F66C7103DA3EC1CB79357FA4DE3E012936C754BE9094F60BF6B2766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B92DA07444DA1526331109FAA4B5190B528103F9EDABB6C76CA5A6C1F24BDBFBD81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DFF94B8CA83EDEE175700A24EEC5F869495626E7300E3E1C43B432B84E47D8B0109BA756CBF627CA3CA91138F764E4E79AC1D8FD1A1155B7DCE9665B3A1856E1BB6193DDE8EC8D80ECD137DC24B04BFC7DC3EEE373E0A71DDCBEAA0D6F8350F6A423CA60D48BE079AB959EB56975CF1DD2FD2EA5223C14436C0A1BCD6095A980452F7E0A6E85087957FBC1FA19369DCDCF2FF575E5A08224248A668A514D1EFBDB7A11056C9481CD9B3BAD3A6EB6E62B4BCA23D6131B2B2958BD807E1453C5447EAF0BC5D15EFD6B978B4F44C0CD088034929FD30C638E7F5CC7435914EB1582FF2C2BB08DBE0B2BD1B51D9E023B61B03AFDBECFE523CF3EA2DF64CF27421C0DFA374E70E692C52655A4B78BAA0F62FA0B70165FA33E1A32E6430EC13911F08993941400D3F018F4D3E814C13ECD2E8B098DF426A1A90422D40FE350AA784246D2582ED934A2128B607854B0A38F84DAA630D4F1229ED3A1B9A54758C46F1654A6FA86E3F98B0EB5C8BE9E93D8BB65E30097D9663D775BA1483515B9D36E8AF8598BC5CC1309E79CD4D9A6401DA15F5F821A81D03D58A49869A51AB219E228808A37222075760E5D8FD3BFE2FF70D827AA18CAFDBB5EEEAF0DACBB17BDDC993D0F9027473065419DD7AD3B182A745585CA21D57D8782DFB3EAAD3170EE20045CAC80B046CBC22D5D5F71986E59A08EEF3AE412EE5DA72B65BFEFE9CA98FCEFF3DE75D6F24E3D0925FD1B0FBDF905FBB1641DC00B2C059FF432406F67960E6BA12F934748FE06769569BBC4E47D1DBBE6E4DF17DBF0AF690467B3A81157327E1C1B12547A651EC2F1F754187475C3E806AFFA8F635ACA0FA92614BF9B9D02E31BDD417B8840242DF9095293D8240B3736D157246C9C9E24BF8151DE0737E76497F195B88CFE3489F0CC825C24908F0F356D54F2306B41914731409C6E254BB84C870C6B938FB449B3366909044B240D4745961F9F7871370E77A523F9991C659F0CCB3F53A3E33BD924E023CB4D2466FE5FD8808027665DC09B81DD86C4FBAF26D4AD0D3D99C54A971331C1310095F1798A6D5127735CD1B6D22CD0C8C09CDA1E6F972FECBC7DD09970E3A28577413984D5027523668887593B3E35A88FBF7FA063DF18AAC85044EAB1691D6A120810293193A755FE43F994D4A56470C7B0458C80BE5B8CB156B6C07FEAE5DF62DDC46358440021AD99E46B818627912383E163B0705F510B8F1A4BB3EE5241197B24C16DC3271506884F6FC59D86D02876EE5CF2C2FCD02422AECF3892FD08C8EEE0C6D1B004E462B1AC835F03A779BE611D970852E512FB1F52323EADEB7420AD34B9ABF4740826770C4FE19C344AD90AA910DAA361F6FC54CBF9BD275AFD7BFFA665837708052B4BD9B64923A6C39EA92374F9DBAE2E91D757CCFB10FCEFE2E92408CF49C45774F384EA4914C930BC75B26D631CC3D1BFDD4E0A2D4D5C6D2646F8FC6E15C17577ABEA801BCA1E9297489C2F26A03C5630F760D3389C522FDCD358AF61907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E55AA1DE72CB2FB53B89CC69386A27D0E115BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60ADAD2ABD62EEF87E582AC769848583ECE29FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D21A91C78B848DED57CA24306716CE130E42B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB1B5799057B17FC5DAA9C2854EC75D5AC00B787AFA653C5964747618DFBCED145843B8A934B01B9CCF6E6DC8CA1045AA8A1BA0CB34A761326BDBA6ED6B4CB64887505E4F46E47B3CA40AC55CB8162BD146EB4471EB225248A5D756F5A9F7EE8598C33F277B985298F23DE9CB2815527DD8FCC5A373E4C2CB2CBF10CCEE7874FAD31B2E8A796AF977BA38F66B781D11F64B814B3C4709EA945FCC22E2564102114900C3F00534BEFC5758CE38A616BE18AD6DDA7119F8428138AABB75A2A291B6BBE5FF87174B9D0288BFC3670B8DBDD431C5D6F06307389DC291E48C151719519493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1AEE7021A0E3FADE7493B070C9CDDE94E05D0AA02749823F1B93B16ECF30AF6308218550D8DFF01F48E02BD424E92512C5C5B1A27867767F7BEEF279DFCFE4E681BBBD5DB53EA5E7154071E74EF0BE481E71BBECD3DB8BF0D94D5BB630597E70D1BBBD5DB53EA5E7154071E74EF0BE481EC937762E26C1C310788AB9A66822912263CC20EB6AF79BF07AD98986282B0CA1A193DCD8F079025A99D6E4D42EC9370BC08285E0BF5E5852448A15060CE14BC8AD214202C3712F8FB1B3AFE8CB9886E077830FC1D7FF0FCEC441B45B5839C9DF3BF53F786F8C7E12124F7C6D689A648B9F1142B244FF669F76CD2085344C73F5803E042ABF683F9718FA3EE7A21679BABDAD417EB5EDC97C94E7B340CFBE464E17B4768EA5561668E6850B7AE2C37B1CC84AF2A50887752A72B01584E9C0004EF22CDB67245D1A126F384CD163DD825CF3DA643F9DA436999D1F963BFC00285D2C4B51E46CC029AE6E4ECA8EFC4F5100BDFEE756603654E9264669C2E90E56B54E1C1EF869BA6BF4E370AB9EE65307C6534D3F4F84B12E2B578DA72AF53290571473444F8ADDC5E726EF9FB6EA1469A4F71B48E4D7BD653DAD071E0FF53604253C40DA6DA556EF16716BE3D07296E08D8D760DBB39F47EE77675B19498478D239A72D11B42B012A3FECD2F6F25A290F9934B5CF8FC6B9A65AF9540F414FAC1E811AAF12D40A6B62BF3F76DBCA09248770392DB77A7F2D2CA58AEFC1E8686CADDB37F912821EF5FD88C7BF7E4A8BD51A644D25F61DC577194B9B7FE7DB08C03A29BA2727D169BF7B14D998651A2AD2C388111B4EDA3BE273BC7EC402EEDAD329D4D48E440F62D692AFFA3FDC969C2711C6A6FDE1381DCFAC20033D0B114ECE1F7F2E7460846A4D90F253D2F597F40221D7DCB60BBF30E033754691B5509222D89661481F7E683E5D67ECFB4D968FA1A6C640C947444C755210A36291EC920394FC81058A6786D0422B05C18C0CC1D60E94C077BB4831C80E78820138D02A3F3B910C7589B30AA97E737160F13E111A336400B6621C9E19828E1D1BBE352EDBE1798070B0160B2A19B32E913D7BA20375AE84EA79F0E113FFC541D234D451D8E1D523C856783C6E7089E51EA8C1499142E574A19983EAF96C252FD2CA4FB76BD3E8EAC4796E6A4B2C425695DA335940597C70F3AD1203B122E33E4C0EF2DB2E6E4589102D1E82EC3EFAA18996C1825200E26EAE4B33519F04F370F01B9115456393815FCABFABE9509A2DA3C61A20078B4D389B18B6B1C39322647DA4963B40BC483BD82482309349C6940B789B5ABB44565D87627E132D6E8281823416F1B46907C9863497333FCF64E2B7AEDE1B85EC5210F35F57B08B9B878F40C63C649A5B5987C9F48ED0ED2F84D721D60709D659971D9C0926A245E4BED5121356CBC6FBC18EC8B31EB047C322A6E8FF34D04C16DDE809EB0B5A4A449BC2E9402B964FE80EFE6B84B34174F107BF18A7973CCDA7AEC778B189EF445FA79737DB5BE38133F444900A7F1DC60803B5D392B0054FC75663B6A513AAA8686FAE63251D126C31208DCFB0F5D40EF0F18AC8126B0B2A3AF1FCE60A6DBAA20743A287A19310A57711FCA418578F73CC86C032B474492C48332B881964D1DF9197B2B1CF63648A1565F98D5378DE78C8A41A40C053E10205EFF98A4F24F0A5D71CDAE9CB9B232B529F6F80FC310DCF9A05C01F5E125121007D782891DC51DD2FE76D0A6A3E11DBD9888307BF6853C0D24B153FD7CF812BA1B515ADDA4303AFBAE80030E37D1E77DEE97718B79A6C1D2C11C18F0B3AB1E2B3A28359D28B28F791025CD2F7A333964C8994427E653FFB0CA3061E7E6B6846218B446AB60720919F6284D7E4B367AEF4E57EF5554E70DF20419FB905BF6F98DDAAF0F8483CD69C20312A73A7ABB226BAD300628B4ED8F04BD59BBC1BA98C13220AA96A343A18374560F91D963371004EC5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3B977432A1F68BB3E6B878728012295CC6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1CD28418CE406FC2C1BA6AF765B3397B47987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B7942990037055ED3A24F07066B0A82E088BAB2629BD546AEDA7E1C04D24144D0928BE79DC6EADE64277410265C843B404779EE07558B0563C70DCC882F06920DEEFFE04A935B6753ED56B7A7E34A57835EA5355B3A00DC92A40FE29F6F1F1C4E0A8BB8E5972ACD3C0454F966671A0028A76C0967E51EC7A59DC479FDE871384B0DB900551F22DB202380E822B0311C7EE0C21227A0678F5121A42A8D0AEC73A30DB900551F22DB202380E822B0311C7E793EF792D491E0DDDF11EA99F8639A4FA51EFBE85B1660718232C81F7FBB6CCF204ADE2544CD6FCA894BB59990DEB3C51518A23323C8535EEC4FC125010E9390C4D48C14620BF456F4C5688F319B4612E716B3D9C3FFB338EA53382CF610D71AB9FAD7CC239E35538657A66CF301EF0ABA7B1422E824D3C047372237899C4C52B712B224CBD69CE64D734686D2714A9C285322B3C52E8ABC74DF9AF8206F3D26187DDCF931500041E33B714D0D338934F174F1A5200DC2EE0E23DA4EC49DCEDD5EA62FFE81A56DB7B4FCE6D08A383A01444900A7F1DC60803B5D392B0054FC75A2DB48F3FA6E14D5D5F2401E65433BC2961F9F7871370E77A523F9991C659F0C4B19F01672256066F29B06EF7F7FF1B7268E4B6602FF142D01E0860103E90DF9F5A6008408AD264E09112A7317809EF313398FFB689CA58AC611301DD1B37AD3E5638D7EA4D23B75FC48C4695A85952F6A93FB1F98E4B0A12DDDE7A3494616BE181C46666049DE9E13AD1D2B2E085E61C768AD29CFA2B6B32CA347D9F206DD174AC0FD61AD5503F744E927D6D9483E51F39E9029292E41403B95CF3F2E251883629F6B8E51D170F2F0A2FE4CA17891F91E14A5DC37720712CE0F2EA22AF50114C8CABC772776CADEFBD1E0ADC6356B1C8D8FC0CED5F7A956AAF354F16471475E987C9F48ED0ED2F84D721D60709D6599564F2D2F4C08ECBA9CF7E1C9D9EF5FD4DABF2D33EBCBD8B268CC1DEFA5EFC341962625E2EDEF651766FCAFD7CCD294C53815FCABFABE9509A2DA3C61A20078B4CFC8FC2B37372BC988CC8334813A21BD97D9663D775BA1483515B9D36E8AF859175A801AC65C8D6CE7BE5E0285D6AA6F3815FCABFABE9509A2DA3C61A20078B46758C414F8DF0E3C839C66F3425CC5E6A3F712410D40A97CB2B2BBD27E83C14BD03D1D4E2FB7DF972493679EF395559B181C46666049DE9E13AD1D2B2E085E6188BAB2629BD546AEDA7E1C04D24144D042A19DAEB379CA2BC6011DC4A1FB176C7D32930FE120DBBB30585C7327A004AD446BF88DD66F2061F3B48196C3C874CC9700AFBC1F89C4BCEB43C54B3D30C87879BFE00E77258A07010562067813CE59F2A02F00756C8A8BEB8039D420D6D36ED9096C7C2120531BC96EECCFC7DE250B177A69F7A2EDACE2093ACB2BCD47C45B656D5FB82D89286AC381C231F8428931D1FE9E2ACCDC48D54DD0DC4B3DD55F5DB1505B8802CE9347C9B2D0EE0ED66EF09597365E92C07D603B240081D2D9A297B3E67441249CCCF702AA68216D9017F8F4CEDB4EFF2975DA8BFB6D050148BC673324B051B6AB4CA1E3A7D42D14EDA8560D96F51DB4A51B877983975263B15922721624DBCB49BBCDF1B20FFC8AB1EF5DDA7FACF4AE61F63578C15F32826373DA2F512A50FEF595D569AA6FB631EAC04D8B9DB33416EC234496A6AAD671735B24BBBD5DB53EA5E7154071E74EF0BE481EC429551452268BE9C4919E923688457A987C9F48ED0ED2F84D721D60709D65992710F996D1E31CD59B0DA2948536E1ED5D4993D6599F2007E8DD123839F16A3F5205374DBA8E71242A15CBC9A068EFC31A2A4FFAD3221479093EFB3207D13498F9E5D6121EEA43BFF204A958A7A896B86C3E0F10B2FFFFCCF5A13B1766B4870DCE2AD69681A4BF45325339CE9F01DB90A61DF6FAC08BC9F808BE116002CB1C1BC91AC1A85DDB6CF1E859ED27C0247D0B8E38E87D09B74B6183D722C9C5BC1FC8D5E84E1A7ECB9F678655BFDFE7C6185ADE0D4642EC3033A4DC63003938262E8C766C9AE3D07CE1FBB7E810B20BD8C3724DB6D42E72B47D0195A67AE2B577CD1D85691761F12307EFB8EC17C4BB862B453EDEDBBC80BDA91EEA41F58FD3084EE54C4635B12D1596B64ED66980BEAA24874B2922A40A9EB2B42DFA547101ED9203E6C5FE982E8DB540CAABCF72755B3D344B45B84A1FF82F77F00CA1BC99A6E68BDE8A1062158A1E40CC34236D58F32E155DD963A198B81AA0C508CB8912AAF75B9B1648DC03DC2493069270ADFE0B58C5C0F88C2157260C25949B2934A28164AC81A8A4440B0BB5493048C4001EE2B6F88791A859764475AE5365FE5F2D3207DF81A014114D2A35BF113427ECC99BC4BCB95C51588CC417BFA9AB6F43DB55F34CD6047F37D38BE114350EFD1C8D811ABA7F091FCCF971D0B2B17597DC54F0902162E7C55C3C31D5BA0EDB1F9A9D3C19CEC3EEE373E0A71DDCBEAA0D6F8350F6A428A6A7791FCB75AA3EA49208C7A7E3C3AAABD3D76CA9A8A11C42BF5F5FB74B3160AA0AB5EC8EF5E1CB1276645ACE06BBC986BB3AF3A476493CCA7C7FF4E22C052E062A59E6A733D780BFCC2D2D4AABABCE6262DD74FE4E49DC60480748E6B1A992DA614F4D7FAAEF80ECEFE8107264D568D685E0B7A639C4387A43E7789DEB2D791680837C1FF9217DAF5B3AF03D2B39A996331794514801140377E70A74A9D8AB8CE9260F2C3ABF5548FFADB39F01C4BBBD5DB53EA5E7154071E74EF0BE481ECBE780167AA8A242146E3369B7732A2B3815FCABFABE9509A2DA3C61A20078B48A19771A677EDE403A2BA518E5D5ACF87942990037055ED3A24F07066B0A82E07454806472F90D4783C65BA282381D309EF7F74D2A5E852B4E26CD310AF64DDDAD6123B0CFD169D8BC296A04C0F728C4A902FAE39F74B40214651C5200047B0A60A50A9A4E8506A912A75356C2D677DE61AF6A2CEEC3345345E39B12144809A597D9663D775BA1483515B9D36E8AF8593567DB4E4A9011423E13A442EFF6F60A97D9663D775BA1483515B9D36E8AF8591F2CFC1C65A65B934FD56C104FE3640333BF4512BB432390A58F386BB41D3C268CBA1E5C0A86B6C6BAF6371722C96EA22445F6B3FBE14A0B6F6BDD6F1785A88D803E042ABF683F9718FA3EE7A21679BA5E91A3A2D09491FC4806EFE8B6C518390DDEAB7A89CC8E722A89B6B84B2E2539064E75FA72FF95EDE936D931CF9867CD3D3765C46B89D9CEDB6BC24CDC84E1A670E6F2B7E27419F7AF63923503A71E6800484E9FC4FA99C364015E1B1C71DE4AE7D84F6B2091AEB79947C7104CFB4400322870F31AFDC579D440B85A5DFC58D149781294547B1B41D87A0EDE7A6B82FFBBBD5DB53EA5E7154071E74EF0BE481E5F1E209932A07A74284CA6A2B38A6EEC2E60AFAD5B06EBD8BD1168C553E6E63C43CBA3899789DB7D6CC2742B36E171A5A68800C0180A6487C4A11DE09A70AD9A7762D77689AB4C70B818AB1A333C62C7F24E151085638879EC198D3A62FD261BBB724289FF9ADF421138E8D9719A176D342AE8150E7CEF39F66C6FC799C2B708581DCF80F575AFBE4CD2CD589EEB4F17B02CD8F7EA2B9C5BE548D0FB04AC4BB5738215D6C4598C41DADE77782ADF75E3F8F0A1F3608706F0BA78B859D3D8DFC3485CB655C350BDC856AD5A76506922850A17FB9517EA6B059FCC219C0BD98782A3218505C098E22823D6FE0F81AEFE78A8797D1E92CB6B4B8030CFACC8FB57CC907228575692F06822201465AEF3F844987C9F48ED0ED2F84D721D60709D65998445F52CAAEA8A93FB4FD203C7EACB507942990037055ED3A24F07066B0A82E05CD081B1BA63346C6354C8497CB0862AAD0D3D99C54A971331C1310095F1798AB0A49036B1E8947ED3A6BE0C8083A54B007D758DBE404BBCE666CDDFD56719E56854AED9B10AA2C1C82C6143BD6AA8D415BF94C575D25BE66DD75BFDD7E075D697D9663D775BA1483515B9D36E8AF859E0225BF1FB9E7004DD40097742F940293815FCABFABE9509A2DA3C61A20078B46A855D0BCC3615E3A63A1861677123A2EC6B5C96694E69963053D0A6F0DA70178594696D042559F474208688CE821485D5C1396BAADB01031C1A3B469CA6A60A1177FA7A10D393FE326F70356D951EC129FAC03CA372F7A6D0765D6D68BE08165D4122B52FE86038CA0E7A33AEAE03D20F899C42EB990616BE2EEB4EEAA1DC4042B1E36871B2AE2FDF14F135CE72FB5BD84F6987D9F23D9FDE76D1CD4EB1B48435FAC7CDF743DB43E10C50355C0AB5537DABBDB59EA2F8549823D373342CCFBC640C947444C755210A36291EC920394FCA37CD8D9BD895566C8462E43F8407CE70E5C50B8BAD6953F84A34FB06FA640218EC6F9A44A974D9B23C10556F766BB7200162303EC72ABC55B1B0A9F40A4ECB97D9663D775BA1483515B9D36E8AF859D256A8CD4A6FA861DFF480017267354824DD5BF0EC07D029D31CE465790837FB9A13A323744DB41781DC619818F34062B018602D747390CA88298E186A2EDBE43C2B5309E67A21BF89D2C2A7C43064E96A0BAE165ADC39234D05EC8A514C8CF60415B5C89ED64D651402034273A66F06E15DCAB2E9BE6B060C7CFC983D60911AF9BFED3E18BC6E12CFD374FE979F4511F0958EF7545AFB0E9BC8B3B863C43444187E5D73626EEA5856BBEF8CB8F21794C3767CB9A068F9DBDD2BEB65E50241F9CAB0DD5B5A18C48543C2428318BB4474354D09F5EBC845EEF08929E3D8B9DA990B458152E444C1A608286AE20178FA75C2F65FBCAD578FFE2B7541D2BF4C385F2E062A59E6A733D780BFCC2D2D4AABAB304DC51633924B0FE0D4D3ACFBF2055CE53EE6E3150396DE1D60B3B7435DAAC8212BFF39A31D407E2F8E1352D46D51C198EB9FEF9BF90ABDC3BDC228DA5F5C05403886195DEC70209990180F4D8291104DA1C6B11562D46194578A5BB1B95324493EF7929CF1F3D21CD4F0CCBA3E6507E74492A65EA3BCF285E6573C14EF1C2F2C0DA2D0100600B53858408177C59C05987C9F48ED0ED2F84D721D60709D6599F4961FFD22A3208CD49DD84B8CFAEFE818EC8B31EB047C322A6E8FF34D04C16D2F1274B247E0629F951B7C148B264FFDC98B6EB8989D8202AA3516FFA29B3A1A502BDB6869C7D0CA8ED04501D481F0F85C49DBE377E736AA4E8ACF7B70373A8C3D49E10769ADF903F53E58FBB514FC2332F763EDD3197C938C322D46B3231B2080C83A717C0DD2C4513CBEC008A07432CB4C761CAE1DC4452664292099E09A8A24BB18281CF5B37B1BB7046EF26BD1BF35FF0C62640FDE24BA32BB172BBF45F24F6D231DD03926E08B733492616DA2987A749A04019F42FE6BC721013AF4CA8CCFB3E92CB7A47470A5D154588BE22E404AB3CD75FBE5589EDB5008A512CC1B40A5B9328442FDE48667E19087CD3AEBA89FABC82F326D3AE62AEBBFBE71D425C442E75B4597DCD21C5C6C29E49A002860802F5456AF8E1A53E18A4E92A76E7F4E\" }, \"signType\": \"SM2\", \"appCode\": \"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\", \"version\": \"1.0.0\", \"timestamp\": \"1736589824238\" }, \"message\": \"\u6210\u529f\", \"timestamp\": \"1736589824\", \"type\": \"success\" }, \"status\": 200, \"statusText\": \"OK\", \"headers\": { \"access-control-allow-credentials\": \"true\", \"access-control-allow-methods\": \"GET,POST,OPTIONS\", \"access-control-allow-origin\": \"https://fuwu.nhsa.gov.cn\", \"access-control-expose-headers\": \"Content-Length,Content-Range\", \"cache-control\": \"no-store\", \"connection\": \"keep-alive\", \"content-language\": \"zh-CN\", \"content-type\": \"application/json;charset=UTF-8\", \"date\": \"Sat, 11 Jan 2025 10:03:44 GMT\", \"server\": \"WAF\", \"strict-transport-security\": \"max-age=0; preload\", \"transfer-encoding\": \"chunked\", \"x-mg-code\": \"200\", \"x-mg-timestamp\": \"1736589824243\", \"x-mg-traceid\": \"647f0aae-9ee9-4f75-8e7f-ec56188a98ec\", \"x-request-id\": \"71a2300fd91fe9be166c43c4a40ae906\", \"x-ser\": \"i32399_c4103, i32859_c25015\" }, \"config\": { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\", \"x-tif-signature\": \"cfef8145813ab89ee6d9f36db876e211d9cfd2a9e864b9c26d10922c05804d6e\", \"x-tif-timestamp\": 1736589824, \"x-tif-nonce\": \"L3aL9aHK\", \"contentType\": \"application/x-www-form-urlencoded\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": \"{\\\"data\\\":{\\\"data\\\":{\\\"encData\\\":\\\"3DFBCA4667B978F639BB23B95DCE4CC74CE34C33DC32F1068E9E23CA546C9EA8CCD20943B4DAE96380B41164D761DE97BBBD5DB53EA5E7154071E74EF0BE481E2BADC2FDCC843E425B4CA14CEDBC102CA979CA4202C06C9F2CD837D90C6DA45E64DE712DF3683DE81C358841664CBE17561D0390069F11B0D412FE38BE15BA5C\\\"},\\\"appCode\\\":\\\"T98HPCGN5ZVVQBS8LZQNOAEXVI9GYHKQ\\\",\\\"version\\\":\\\"1.0.0\\\",\\\"encType\\\":\\\"SM4\\\",\\\"signType\\\":\\\"SM2\\\",\\\"timestamp\\\":1736589824,\\\"signData\\\":\\\"Ugk5SiJz4NMjy1pn5rbAHzbBaDJAeyHjkjWqn0nbFVaqYhVBP1Xcv4fnXon5s6yvPVmlJKtaoMrm1FYT7svv0w==\\\"}}\" }, \"request\": { \"_ty_rum\": 1, \"__ty_xhr_hooked_type\": \"onreadystatechange\" } }*/ ret = u.b(\"SM4\", e) console.log(ret) return ret } // decrypt() // 2. \u6d4b\u8bd5\u52a0\u5bc6\u4ee3\u7801 function encrypt(page) { let source_data = { \"transformRequest\": {}, \"transformResponse\": {}, \"timeout\": 30000, \"xsrfCookieName\": \"XSRF-TOKEN\", \"xsrfHeaderName\": \"X-XSRF-TOKEN\", \"maxContentLength\": -1, \"headers\": { \"common\": { \"Accept\": \"application/json, text/plain, */*\" }, \"delete\": {}, \"get\": {}, \"head\": {}, \"post\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"put\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"patch\": { \"Content-Type\": \"application/x-www-form-urlencoded\" }, \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"channel\": \"web\" }, \"withCredentials\": false, \"baseURL\": \"/ebus/fuwu/api\", \"method\": \"post\", \"url\": \"/nthl/api/CommQuery/queryRtalPhacBInfo\", \"data\": { \"addr\": \"\", \"regnCode\": \"110000\", \"medinsName\": \"\", \"businessLvOutMedOtp\": \"\", \"pageNum\": page, \"pageSize\": 10, \"queryDataSource\": \"es\" } } return u.a(source_data)[\"data\"] } // console.log(encrypt(1)) main.py import json import time import requests import execjs js_compile = execjs.compile(open(\"main.js\").read()) cookies = { 'amap_local': '110000', 'yb_header_active': '-1', } headers = { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', } for i in range(10): # \u4e00\u3001\u8bf7\u6c42\u52a0\u5bc6 data = js_compile.call(\"encrypt\", 2) response = requests.post( 'https://fuwu.nhsa.gov.cn/ebus/fuwu/api/nthl/api/CommQuery/queryRtalPhacBInfo', cookies=cookies, headers=headers, json=json.loads(data), ) print(\"response.text:::\", response.text) res = response.json() # \u4e8c\u3001\u54cd\u5e94\u89e3\u5bc6 ret = js_compile.call(\"decrypt\", res) for i in ret[\"list\"]: print(i.get(\"medinsName\"), i.get(\"addr\")) time.sleep(2)","title":"\u30108\u3011\u5b8c\u6574\u5b9e\u73b0"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-js","text":"","title":"2. JS\u9006\u5411\u5b9e\u6218\u6848\u4f8b\u89e3\u6790\u3010\u8865\u73af\u5883\u3011"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_3","text":"\u6d4f\u89c8\u5668\u73af\u5883\u548cnode\u73af\u5883\u5bf9\u6bd4\uff1a \u6d4f\u89c8\u5668\u4e0b\uff1a node.js \u4e0b \u6d4f\u89c8\u5668\u73af\u5883 \uff1a \u662f\u6307 JS\u4ee3\u7801\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u5b83\u5305\u62ecV8\u81ea\u52a8\u6784\u5efa\u7684\u5bf9\u8c61\uff08\u5373ECMAScript\u7684\u5185\u5bb9,\u5982Date\u3001Array\uff09\uff0c\u6d4f\u89c8\u5668\uff08\u5185\u7f6e\uff09\u4f20\u9012\u7ed9V8\u7684\u64cd\u4f5cDOM\u548cBOM\u7684\u5bf9\u8c61\uff08\u5982document\u3001navigator\uff09\uff1b Node\u73af\u5883 \uff1a\u662f\u57fa\u4e8eV8\u5f15\u64ce\u7684Js\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u5b83\u5305\u62ecV8\u4e0e\u5176\u81ea\u5df1\u7684\u5185\u7f6eAPI\uff0c\u5982fs\uff0chttp\uff0cpath\uff1b Node\u73af\u5883 \u4e0e \u6d4f\u89c8\u5668\u73af\u5883 \u7684\u5f02\u540c\u70b9\u53ef\u4ee5\u7b80\u5355\u6982\u62ec\u5982\u56fe\uff1a \u6240\u4ee5\u6211\u4eec\u6240\u8bf4\u7684 \u201c\u8865\u6d4f\u89c8\u5668\u73af\u5883 \u201d \u5176\u5b9e\u662f\u8865\u6d4f\u89c8\u5668\u6709 \u800cNode\u6ca1\u6709\u7684\u73af\u5883\uff0c\u5373 \u8865BOM\u548cDOM\u7684\u5bf9\u8c61\uff1b \u5f53\u6211\u4eec\u8f9b\u82e6\u5c06\u6d4f\u89c8\u5668\u73af\u5883\u7684\u52a0\u5bc6\u6216\u8005\u89e3\u5bc6\u5165\u53e3\u627e\u5230\uff0c\u628a\u52a0\u5bc6\u6216\u8005\u89e3\u5bc6\u7684JS\u7684\u4ee3\u7801\u62f7\u8d1d\u5230\u672c\u5730\uff0c\u7531node\u89e3\u91ca\u5668\u9a71\u52a8\u6267\u884c\u7684\u65f6\u5019\uff0c\u4f1a\u56e0\u4e3a\u62f7\u8d1d\u7684JS\u4ee3\u7801\u4e2d\u5305\u62ec\u53ea\u80fd\u7531\u6d4f\u89c8\u5668\u8c03\u7528\u7684API\uff0c\u73b0\u5728\u88abnode\u6267\u884c\u5c31\u4f1a\u62a5\u9519\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u5728\u62f7\u8d1d\u7684\u4ee3\u7801\u73af\u5883\u4e2d\u6a21\u62df\u8865\u5145\u9700\u8981\u7684\u524d\u7aef\u5bf9\u8c61\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u975e\u5e38\u6709\u5fc5\u8981\u638c\u63e1\u6d4f\u89c8\u5668\u63a5\u53e3\u5bf9\u8c61\u5e38\u7528\u7684==\u516b\u5927\u524d\u7aef\u5bf9\u8c61==","title":"\u30101\u3011\u8865\u73af\u5883\u7684\u539f\u7406"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#28","text":"window:\u7a97\u53e3\u5bf9\u8c61\uff0c\u4e5f\u662f\u6700\u91cd\u8981\u7684\u4e00\u4e2a\u5bf9\u8c61 ```css addEventListener:f setInterval:f setTimeout:f name self document navigator location screen history toString:f ``` window\u662f\u9876\u7ea7\u53d8\u91cf\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u4efb\u4f55\u5728\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u6216\u51fd\u6570\u90fd\u4f1a\u6210\u4e3a window \u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf var yuan = 10;\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 window.yuan\u3002 window \u4ec5\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u5b58\u5728\u3002\u5728 Node.js \u7b49\u5176\u4ed6\u73af\u5883\u4e2d\uff0c\u9876\u7ea7\u5bf9\u8c61\u662f global \u3002 document\uff1a\u6587\u6863\u5bf9\u8c61\uff1a\u7b2c\u4e8c\u91cd\u8981\u5bf9\u8c61 ```css body documentElement cookie getElementById:f getElementByTagName:f getElementByClassName:f createElement:f toString:f ``` navigator\uff1a\u5bfc\u822a\u5bf9\u8c61 css userAgent toString:f location\uff1a\u5730\u5740\u680f\u5bf9\u8c61 css href toString:f screen\uff1a\u5c4f\u5e55\u5bf9\u8c61 css availHeight availLeft availTop availWidth toString:f history:\u5386\u53f2\u5bf9\u8c61 css back forward go toString:f localStorage\u548csessionStorage\uff1a\u672c\u5730\u5b58\u50a8\u5bf9\u8c61 css getItem:f setItem:f removeItem:f toString:f element\uff1a\u6cdb\u6307\uff0c\u6807\u7b7e\u5bf9\u8c61 ```css # \u5e38\u7528\u6807\u7b7e\u5bf9\u8c61 h1-h6\u6807\u7b7e p\u6807\u7b7e input\u6807\u7b7e div\u548cspan\u6807\u7b7e img\u6807\u7b7e table\u6807\u7b7e form\u6807\u7b7e canvas\u6807\u7b7e\uff1atoDataURL\uff1af # \u6807\u7b7e\u5bf9\u8c61\u5e38\u7528\u5c5e\u6027\u548c\u65b9\u6cd5 ele.style ele.innerHtml ele.getAttribute() ``` \u4e3a\u4e86\u66f4\u597d\u7684\u8ba9\u5927\u5bb6\u7406\u89e3\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u5b9e\u6218\u8865\u73af\u5883\u6848\u4f8b\uff0c\u6211\u5148\u7ed9\u5927\u5bb6\u6a21\u62df\u4e86\u4e00\u5957\u7b80\u5355\u7684JS\u9006\u5411\u4ee3\u7801 ```js function get_sign() { // \u9ed1\u5323\u5b50\uff0c\u7701\u7565\u5f88\u591a\u4ee3\u7801 // (1) BOM\u548cDOM\u6b63\u5e38\u7684\u524d\u7aef\u52a8\u4f5c window.addEventListener(\"test\") // \u641c\u7d22\u6846 let kw = document.getElementById(\"kw\") let _class = kw.getAttribute(\"class\") // \u521b\u5efa\u753b\u5e03 let canvas = document.createElement(\"canvas\") let ctx = canvas.getContext(\"2d\"); ctx.fillRect(10, 10, 100, 100); // (2) \u57fa\u4e8eDOM\u548cBOM\u8fdb\u884c\u73af\u5883\u6821\u9a8c if (navigator.toString() === '[object Navigator]') { let navLength = navigator.userAgent.length return \"u82d1660a\" + navLength // Yuan\u8001\u5e08\u7684\u5fae\u4fe1\uff0c\u60f3\u6df1\u5165\u5b66\u9006\u5411\u722c\u866b\u7684\u8054\u7cfb\u6211\uff0c\u7ed3\u4e00\u6bb5\u5584\u7f18! } else { return false } } console.log(get_sign()) ``` \u5728\u8fd9\u91cc\uff0c\u6574\u5c42\u7684JS\u52a0\u5bc6\u4ee3\u7801\u5bf9\u4e8e\u6211\u4eec\u800c\u8a00\u5c31\u662f\u4e00\u4e2a\u9ed1\u5323\u5b50\uff0c\u6709\u5343\u5343\u4e07\u4e07\u884c\u4ee3\u7801\uff0c\u751a\u81f3\u505a\u4e86\u6df7\u6dc6\u5904\u7406\uff0c\u6211\u4eec\u4e0d\u80fd\u53bb\u4e00\u884c\u884c\u8bfb\uff0c\u770b\u770b\u6574\u4e2a\u8fc7\u7a0b\u5230\u5e95\u7528\u5230\u4e86\u54ea\u4e9b\u5bf9\u8c61\u4ee5\u53ca\u5bf9\u5e94\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u3002\u6240\u4ee5\u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u4e86\u5230\u4e86\u8865\u73af\u5883\u6700\u7ec8\u7684\u4e00\u4ef6\u4e8b\u60c5\uff1a==\u4ee3\u7406\u76d1\u63a7==","title":"\u30102\u3011\u524d\u7aef8\u5927\u5fc5\u5907\u5bf9\u8c61"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3proxy","text":"JavaScript\u4e2d\u7684Proxy\u662f\u4e00\u79cd\u5185\u7f6e\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u8bbf\u95ee\u6216\u64cd\u4f5c\u5bf9\u8c61\u4e4b\u524d\u62e6\u622a\u548c\u81ea\u5b9a\u4e49\u5e95\u5c42\u64cd\u4f5c\u7684\u884c\u4e3a\u3002\u901a\u8fc7\u4f7f\u7528Proxy\uff0c\u4f60\u53ef\u4ee5\u4fee\u6539\u5bf9\u8c61\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u903b\u8f91\u6216\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4ee5\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u64cd\u4f5c\u548c\u63a7\u5236\u3002 Proxy\u5bf9\u8c61\u5305\u88c5\u4e86\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff08\u76ee\u6807\u5bf9\u8c61\uff09\uff0c\u5e76\u5141\u8bb8\u4f60\u5b9a\u4e49\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u6765\u62e6\u622a\u5bf9\u76ee\u6807\u5bf9\u8c61\u7684\u64cd\u4f5c\u3002\u5904\u7406\u7a0b\u5e8f\u662f\u4e00\u4e2a\u5e26\u6709\u7279\u5b9a\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u88ab\u79f0\u4e3a\"\u6355\u83b7\u5668\"\uff08traps\uff09\uff0c\u5b83\u4eec\u4f1a\u5728\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u65f6\u88ab\u8c03\u7528\u3002 var yuan = { username: \"yuan\", age: 22, wx: \"u82d1660a\" } yuan = new Proxy(yuan, { get(target, p, receiver) { console.log(target, \"\u67e5\u8be2\u4e86\u5c5e\u6027\", p) // return window['username'];/// \u8fd9\u91cc\u5982\u679c\u8fd9\u6837\u5199. \u6709\u9012\u5f52\u98ce\u9669\u7684... // return Reflect.get(...arguments); return Reflect.get(target, p); }, set(target, p, value, receiver) { console.log(target, \"\u8bbe\u7f6e\u4e86\u5c5e\u6027\", p, \"\u503c\u4e3a\uff1a\", value) Reflect.set(target, p, value); } }); yuan.username; yuan.age; yuan.username = \"rain\" yuan.age = 18 \u57fa\u4e8eProxy\u7684\u7279\u6027\uff0c\u884d\u751f\u4e86\u57fa\u672c\u8865\u73af\u5883\u601d\u8def\uff1a\u5728\u672c\u5730\uff0c\u7528 Proxy \u4ee3\u7406\u76d1\u63a7\u6d4f\u89c8\u5668\u6240\u6709\u7684BOM\u3001DOM\u5bf9\u8c61\uff0c\u76f8\u5f53\u4e8e\u5728node.js\u4e2d\uff0c\u5bf9\u6574\u4e2a\u6d4f\u89c8\u5668\u73af\u5883\u5bf9\u8c61\u8fdb\u884c\u4e86\u4ee3\u7406\uff0c\u62f7\u8d1d\u7684\u52a0\u5bc6JS\u4ee3\u7801\u4f7f\u7528\u4efb\u4f55==\u6d4f\u89c8\u5668 api==\u90fd\u80fd\u88ab\u6211\u4eec\u6240\u62e6\u622a\u3002\u7136\u540e\u6211\u4eec\u9488\u5bf9\u62e6\u622a\u5230\u7684\u73af\u5883\u68c0\u6d4b\u70b9\u53bb\u8865\u5bf9\u5e94\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u56e0\u4e3a\u63a5\u4e0b\u6765\u7684\u8865\u73af\u5883\u4e2d\uff0c\u6d89\u53ca\u5230\u9700\u8981\u76d1\u63a7\u7684\u524d\u7aef\u5bf9\u8c61\u8fd8\u662f\u6bd4\u8f83\u591a\u7684 \uff0c\u5982\u679c\u6bcf\u4e00\u4e2a\u90fd\u6309\u7740\u4e0a\u9762\u5bf9yuan\u7684Proxy\u4ee3\u7406\uff0c\u5c31\u4f1a\u5bfc\u81f4\u76d1\u63a7\u4ee3\u7801\u5927\u91cf\u91cd\u590d\u4e0d\u7b80\u6d01\u3002\u6240\u4ee5\uff0c\u5728\u8fd9\u91cc\uff0c\u722c\u866b\u5de5\u7a0b\u5e08\u90fd\u9700\u8981\u4e00\u4e2a\u7b80\u5355\u7684\u529f\u80fd\u51fd\u6570\uff0c\u5bf9\u9700\u8981\u76d1\u63a7\u7684\u6570\u7ec4\u5bf9\u8c61\u5faa\u73af\u76d1\u63a7\uff1a function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const objName = proxyObjArr[i]; const handler = { get(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", target[property], \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", value, \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(target, property, value, receiver); } }; // \u68c0\u67e5\u5e76\u521d\u59cb\u5316\u5bf9\u8c61 let targetObject = global[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global global[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global } } \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u5c06\u8fd9\u6bb5Proxy\u76d1\u63a7\u51fd\u6570\u6ce8\u5165\u5230\u521a\u624d\u6211\u4eec\u7684\u6848\u4f8b\u4e2d\uff1a window = global window.addEventListener = function () { } kw = { getAttribute() { } } ctx = { fillRect: function () { } } canvas = { getContext() { return ctx } } document = { getElementById(id) { console.log(\"document getElementById by:\", id) if (id === \"kw\") { return kw } }, createElement(ele) { console.log(\"document createElement \", ele) return canvas } } navigator = { userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', toString: function () { return '[object Navigator]' } } function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const objName = proxyObjArr[i]; const handler = { get(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", target[property], \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", value, \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(target, property, value, receiver); } }; // \u68c0\u67e5\u5e76\u521d\u59cb\u5316\u5bf9\u8c61 let targetObject = global[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global global[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global } } setProxyArr([\"window\", \"document\", \"navigator\"]) function get_sign() { // \u9ed1\u5323\u5b50\uff0c\u7701\u7565\u5f88\u591a\u4ee3\u7801 // (1) BOM\u548cDOM\u6b63\u5e38\u7684\u524d\u7aef\u52a8\u4f5c window.addEventListener(\"test\") // \u641c\u7d22\u6846 let kw = document.getElementById(\"kw\") let _class = kw.getAttribute(\"class\") // \u521b\u5efa\u753b\u5e03 let canvas = document.createElement(\"canvas\") let ctx = canvas.getContext(\"2d\"); ctx.fillRect(10, 10, 100, 100); // (2) \u57fa\u4e8eDOM\u548cBOM\u8fdb\u884c\u73af\u5883\u6821\u9a8c if (navigator.toString() === '[object Navigator]') { let navLength = navigator.userAgent.length return \"u82d1660a\" + navLength // Yuan\u8001\u5e08\u7684\u5fae\u4fe1\uff0c\u60f3\u6df1\u5165\u5b66\u9006\u5411\u722c\u866b\u7684\u8054\u7cfb\u6211\uff0c\u7ed3\u4e00\u6bb5\u5584\u7f18! } else { return false } } console.log(get_sign()) \u73af\u5883\u9a8c\u8bc1\u7684JS\u4ee3\u7801\u5176\u5b9e\u4e00\u5171\u6709\u4e24\u4e2a\u601d\u8def\uff0c\u601d\u8def\u4e00\u662f\u57fa\u4e8e\u5f53\u524d\u73af\u5883\u662f\u4e0d\u662f\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u662f\u7684\u8bdd\u6b63\u5e38\u6267\u884c\u3002\u601d\u8def\u4e8c\u662f\u5f53\u524d\u73af\u5883\u662f\u4e0d\u662fnode\u73af\u5883\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5219\u6b63\u5e38\u6267\u884c\uff0c\u6269\u5c55\u6848\u4f8b\uff1a window = global delete global delete process delete Buffer delete __dirname delete __filename window.addEventListener = function () { } kw = { getAttribute() { } } ctx = { fillRect: function () { } } canvas = { getContext() { return ctx } } document = { getElementById(id) { console.log(\"document getElementById by:\", id) if (id === \"kw\") { return kw } }, createElement(ele) { console.log(\"document createElement \", ele) return canvas } } navigator = { userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', toString: function () { return '[object Navigator]' } } function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const objName = proxyObjArr[i]; const handler = { get(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", target[property], \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set\", \"\u5bf9\u8c61:\", objName, \"\u5c5e\u6027:\", property, \"\u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \"\u5c5e\u6027\u503c\uff1a\", value, \"\u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(target, property, value, receiver); } }; // \u68c0\u67e5\u5e76\u521d\u59cb\u5316\u5bf9\u8c61 // let targetObject = global[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global // global[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global let targetObject = window[objName] || {}; // \u5728 Node.js \u73af\u5883\u4e2d\u4f7f\u7528 global window[objName] = new Proxy(targetObject, handler); // \u5728 Node.js \u4e2d\u4f7f\u7528 global } } setProxyArr([\"window\", \"document\", \"navigator\"]) function get_sign() { // \u9ed1\u5323\u5b50\uff0c\u7701\u7565\u5f88\u591a\u4ee3\u7801 // (1) BOM\u548cDOM\u6b63\u5e38\u7684\u524d\u7aef\u52a8\u4f5c window.addEventListener(\"test\") // \u641c\u7d22\u6846 let kw = document.getElementById(\"kw\") let _class = kw.getAttribute(\"class\") // \u521b\u5efa\u753b\u5e03 let canvas = document.createElement(\"canvas\") let ctx = canvas.getContext(\"2d\"); ctx.fillRect(10, 10, 100, 100); let navLength = navigator.userAgent.length // (2) \u57fa\u4e8eDOM\u548cBOM\u8fdb\u884c\u73af\u5883\u6821\u9a8c if (navigator.toString() === '[object Navigator]') { // (3) \u57fa\u4e8enode\u5173\u952e\u5b57\u5224\u65ad\u662f\u4e0d\u662f\u6d4f\u89c8\u5668\u73af\u5883 const isNode = typeof process !== 'undefined' && typeof global !== 'undefined'; if (isNode) { console.log(\"\u5f53\u524d\u73af\u5883\u662f Node.js\"); return false } else { console.log(\"\u5f53\u524d\u73af\u5883\u4e0d\u662f Node.js\"); return \"u82d1660a\".toUpperCase() + navLength // Yuan\u8001\u5e08\u7684\u5fae\u4fe1\uff0c\u60f3\u6df1\u5165\u5b66\u9006\u5411\u722c\u866b\u7684\u8054\u7cfb\u6211\uff0c\u7ed3\u4e00\u6bb5\u5584\u7f18! } } else { return false } } console.log(get_sign()) JavaScript\u4e2d\u7684Proxy\u662f\u4e00\u79cd\u5185\u7f6e\u5bf9\u8c61\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u8bbf\u95ee\u6216\u64cd\u4f5c\u5bf9\u8c61\u4e4b\u524d\u62e6\u622a\u548c\u81ea\u5b9a\u4e49\u5e95\u5c42\u64cd\u4f5c\u7684\u884c\u4e3a\u3002\u901a\u8fc7\u4f7f\u7528Proxy\uff0c\u4f60\u53ef\u4ee5\u4fee\u6539\u5bf9\u8c61\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u903b\u8f91\u6216\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4ee5\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u64cd\u4f5c\u548c\u63a7\u5236\u3002 Proxy\u5bf9\u8c61\u5305\u88c5\u4e86\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff08\u76ee\u6807\u5bf9\u8c61\uff09\uff0c\u5e76\u5141\u8bb8\u4f60\u5b9a\u4e49\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u6765\u62e6\u622a\u5bf9\u76ee\u6807\u5bf9\u8c61\u7684\u64cd\u4f5c\u3002\u5904\u7406\u7a0b\u5e8f\u662f\u4e00\u4e2a\u5e26\u6709\u7279\u5b9a\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u88ab\u79f0\u4e3a\"\u6355\u83b7\u5668\"\uff08traps\uff09\uff0c\u5b83\u4eec\u4f1a\u5728\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u65f6\u88ab\u8c03\u7528\u3002 var yuan = { username: \"yuan\", age: 22 } yuan = new Proxy(yuan, { get(target, p, receiver) { console.log(\"target: \", target); console.log(\"p: \", p); // return window['username'];/// \u8fd9\u91cc\u5982\u679c\u8fd9\u6837\u5199. \u6709\u9012\u5f52\u98ce\u9669\u7684... // return Reflect.get(...arguments); return Reflect.get(target, p); }, set(target, p, value, receiver) { console.log(\"\u8bbe\u7f6e\u64cd\u4f5c\") Reflect.set(target, p, value); } }); console.log(yuan.username); console.log(yuan.age); yuan.username = \"rain\" yuan.age = 18 console.log(yuan.username); console.log(yuan.age); \u57fa\u4e8eProxy\u7684\u7279\u6027\uff0c\u884d\u751f\u4e86\u4e24\u79cd\u8865\u73af\u5883\u601d\u8def\uff1a Proxy \u4ee3\u7406\u6d4f\u89c8\u5668\u6240\u6709\u7684 BOM\u3001DOM\u5bf9\u8c61\u53ca\u5176\u5c5e\u6027 \uff0c\u518d\u914d\u5408 node vm2\u6a21\u5757 \u63d0\u4f9b\u7684 \u7eaf\u51c0V8\u73af\u5883 \uff0c\u5c31\u76f8\u5f53\u4e8e\u5728node\u4e2d\uff0c\u5bf9\u6574\u4e2a\u6d4f\u89c8\u5668\u73af\u5883\u5bf9\u8c61\u8fdb\u884c\u4e86\u4ee3\u7406\uff0cJS\u4ee3\u7801\u4f7f\u7528\u4efb\u4f55 \u6d4f\u89c8\u5668\u73af\u5883 api\u90fd\u80fd\u88ab\u6211\u4eec\u6240\u62e6\u622a\u3002\u7136\u540e\u6211\u4eec\u9488\u5bf9\u62e6\u622a\u5230\u7684\u73af\u5883\u68c0\u6d4b\u70b9\u53bb\u8865\u3002 \u642d\u5efa\u8865\u73af\u5883\u6846\u67b6\uff0c\u7528JS\u6a21\u62df\u6d4f\u89c8\u5668\u57fa\u4e8e\u539f\u578b\u94fe\u53bb\u4f2a\u9020\u5b9e\u73b0\u5404\u4e2aBOM\u3001DOM\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u8fd9\u4e9bJS\u7ec4\u7ec7\u8d77\u6765\uff0c\u5f62\u6210\u4e00\u4e2a \u7eafJS\u7248\u6d4f\u89c8\u5668\u73af\u5883 \uff0c\u8865\u73af\u5883\u8d8a\u5b8c\u5584\uff0c\u8d8a\u63a5\u8fd1\u771f\u5b9e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u80fd\u901a\u6740\u7684js\u73af\u5883\u68c0\u6d4b\u5c31\u8d8a\u591a\u3002 \u57fa\u4e8e\u4e0a\u9762\u7684\u8bed\u6cd5\uff0c\u6211\u4eec\u6784\u5efa\u4e00\u5957\u5b8c\u6574\u7684\u4ee3\u7406\u8865\u73af\u5883\u7684\u529f\u80fd\u51fd\u6570 function setProxyArr(proxyObjArr) { for (let i = 0; i < proxyObjArr.length; i++) { const handler = `{ get: function(target, property, receiver) { console.log(\"\u65b9\u6cd5:\", \"get \", \"\u5bf9\u8c61:\", \"${proxyObjArr[i]}\", \" \u5c5e\u6027:\", property, \" \u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \", \u5c5e\u6027\u503c\uff1a\", target[property], \", \u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return target[property]; }, set: function(target, property, value, receiver) { console.log(\"\u65b9\u6cd5:\", \"set \", \"\u5bf9\u8c61:\", \"${proxyObjArr[i]}\", \" \u5c5e\u6027:\", property, \" \u5c5e\u6027\u7c7b\u578b\uff1a\", typeof property, \", \u5c5e\u6027\u503c\uff1a\", value, \", \u5c5e\u6027\u503c\u7c7b\u578b\uff1a\", typeof target[property]); return Reflect.set(...arguments); } }`; eval(`try { ${proxyObjArr[i]}; ${proxyObjArr[i]} = new Proxy(${proxyObjArr[i]}, ${handler}); } catch (e) { ${proxyObjArr[i]} = {}; ${proxyObjArr[i]} = new Proxy(${proxyObjArr[i]}, ${handler}); }`); } }","title":"\u30103\u3011Proxy\u4ee3\u7406"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_4","text":"","title":"3. \u745e\u6570\u4e4b\u8865\u73af\u5883"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#31","text":"\u200c\u745e\u6570\u4fe1\u606f\u662f\u4e00\u5bb6\u4e13\u6ce8\u4e8e\u63d0\u4f9b\u4e92\u8054\u7f51\u52a8\u6001\u4e1a\u52a1\u5e94\u7528\u5b89\u5168\u9632\u62a4\u89e3\u51b3\u65b9\u6848\u7684\u516c\u53f8 \u745e\u6570\u52a8\u6001\u5b89\u5168 Botgate\uff08 \u673a\u5668\u4eba \u9632\u706b\u5899\uff09\u4ee5\u201c\u52a8\u6001\u5b89\u5168\u201d\u6280\u672f\u4e3a\u6838\u5fc3\uff0c\u901a\u8fc7\u52a8\u6001\u5c01\u88c5\u3001\u52a8\u6001\u9a8c\u8bc1\u3001\u52a8\u6001\u6df7\u6dc6\u3001\u52a8\u6001\u4ee4\u724c\u7b49\u6280\u672f\u5bf9\u670d\u52a1\u5668\u7f51\u9875\u5e95\u5c42\u4ee3\u7801\u6301\u7eed\u52a8\u6001\u53d8\u6362\uff0c\u589e\u52a0\u670d\u52a1\u5668\u884c\u4e3a\u7684\u201c\u4e0d\u53ef\u9884\u6d4b\u6027\u201d\uff0c\u5b9e\u73b0\u4e86\u4ece\u7528\u6237\u7aef\u5230\u670d\u52a1\u5668\u7aef\u7684\u5168\u65b9\u4f4d\u201c\u4e3b\u52a8\u9632\u62a4\u201d\uff0c\u4e3a\u5404\u7c7b Web\u3001HTML5 \u63d0\u4f9b\u5f3a\u5927\u7684\u5b89\u5168\u4fdd\u62a4\u3002 \u745e\u6570\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u6211\u4eec\u8fdb\u5165\u5230JS\u9006\u5411\u4e16\u754c\u7684\u6807\u5fd7 \u8fc7\u745e\u6570\u7684\u65b9\u6cd5\u57fa\u672c\u4e0a\u6709\u4ee5\u4e0b\u51e0\u79cd \u81ea\u52a8\u5316\u5de5\u5177 \u8865\u73af\u5883 \u7eaf\u7b97","title":"3.1\u3001\u745e\u6570\u4ecb\u7ecd"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#32","text":"rs\u7684\u7f51\u7ad9\u4f1a\u8bf7\u6c42\u4e24\u6b21page_url\uff08\u6587\u6863\u8bf7\u6c42\uff09\uff0c\u7b2c1\u6b21page_url\uff08\u6587\u6863\u8bf7\u6c42\uff09\u4f1a\u8fd4\u56de\u4e00\u4e2acookie1\uff0c\u548c\u4e00\u4e2a\u54cd\u5e94\u4f53\uff08HTML\u6e90\u7801\uff09\uff0c\u4ee5\u53ca\u8bf7\u6c42\u54cd\u5e94\u7801\u662f 202\u6216\u8005 412 \u54cd\u5e94\u4f53\uff08HTML\u6e90\u7801\uff09\u5305\u62ec3\u4e2a\u90e8\u5206\uff1a \u4e00\u4e2ameta\u6807\u7b7e \uff0c\u5176content\u5185\u5bb9\u5f88\u957f\u4e14\u662f \u52a8\u6001 \u7684\uff08\u6bcf\u6b21\u8bf7\u6c42\u4f1a\u53d8\u5316\uff09\uff0c\u4f1a\u5728eval\u6267\u884c\u7b2c\u4e8c\u5c42JS\u4ee3\u7801\u65f6\u4f7f\u7528\u5230\uff1b \u4e00\u4e2ats\u4ee3\u7801 \uff0c\u4e0b\u9762\u7684\u81ea\u6267\u884c\u51fd\u6570\u4f1a\u89e3\u5bc6\u6587\u4ef6\u5185\u5bb9\u751f\u6210eval\u6267\u884c\u65f6\u9700\u8981\u7684JS\u6e90\u7801\uff0c\u4e5f\u5c31\u662f\u7b2c\u4e8c\u5c42vm\u4ee3\u7801\uff1b \u4e00\u4e2a\u5927\u81ea\u6267\u884c\u51fd\u6570 \uff08\u6bcf\u6b21\u8bf7\u6c42\u9996\u9875\u90fd\u4f1a \u52a8\u6001 \u53d8\u5316\uff09\uff0c\u4e3b\u8981\u662f\u89e3\u5bc6\u5916\u94feJS\u5185\u5bb9\uff0c\u7ed9window\u6dfb\u52a0\u4e00\u4e9b\u5c5e\u6027\u5982$_ts\uff0c\u4f1a\u5728vm\u4e2d\u4f7f\u7528; \u8fd9\u4e09\u4e2a\u8981\u7d20\u7528\u4e8e\u5728\u672c\u5730\u751f\u6210\u4e00\u4e2acookie2\uff0c\u7528\u4e8e\u7b2c2\u6b21\u8bf7\u6c42 \u7b2c2\u6b21page_url\uff08\u6587\u6863\u8bf7\u6c42\uff09\u643a\u5e26cookie1\u548cncookie2\uff0c\u83b7\u53d6\u771f\u6b63\u7684\u9875\u9762\u5185\u5bb9\uff01 \u745e\u6570 3\u30014 \u4ee3\u6709\u4ee5 T \u548c S \u7ed3\u5c3e\u7684\u4e24\u4e2a Cookie\uff0c\u5176\u4e2d\u4ee5 S \u5f00\u5934\u7684 Cookie \u662f\u7b2c\u4e00\u6b21\u7684 201 \u90a3\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684\uff0c\u4ee5 T \u5f00\u5934\u7684 Cookie \u662f\u7531 JS \u751f\u6210\u7684\uff0c\u52a8\u6001\u53d8\u5316\u7684\uff0cT \u548c S \u524d\u9762\u4e00\u822c\u4f1a\u8ddf 80 \u6216 443 \u7684\u6570\u5b57\uff0cCookie \u503c\u7b2c\u4e00\u4e2a\u6570\u5b57\u4e3a\u745e\u6570\u7684\u7248\u672c\u3002 \u745e\u6570 5 \u4ee3\u4e5f\u6709\u4ee5 T \u548c S \u7ed3\u5c3e\u7684\u4e24\u4e2a Cookie\uff0c\u4f46\u6709\u4e9b\u7279\u6b8a\u7684 5 \u4ee3\u745e\u6570\u4e5f\u6709\u4ee5 O \u548c P \u7ed3\u5c3e\u7684\uff0c\u540c\u6837\u7684\uff0c\u4ee5 O \u5f00\u5934\u7684\u662f\u7b2c\u4e00\u6b21\u7684 412 \u90a3\u4e2a\u8bf7\u6c42\u8fd4\u56de\u7684\uff0c\u4ee5 P \u5f00\u5934\u7684\u662f\u7531 JS \u751f\u6210\u7684\uff0cCookie \u503c\u7b2c\u4e00\u4e2a\u6570\u5b57\u540c\u6837\u4e3a\u745e\u6570\u7684\u7248\u672c\u3002","title":"3.2\u3001\u745e\u6570\u6d41\u7a0b"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#33","text":"","title":"3.3\u3001\u745e\u6570\u6848\u4f8b\u89e3\u6790"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_4","text":"\u5148\u5b9a\u4f4d\u5165\u53e3\uff0c\u8fd9\u91cc\u6d89\u53ca\u4e00\u4e2aVM\u73af\u5883 \u201cVM\u201d\u8868\u793a\u7684\u662fVirtual Machine\uff08\u865a\u62df\u673a\uff09\uff0c\u8fd9\u4e9b\u6587\u4ef6\u901a\u5e38\u8868\u793a \u7531\u6d4f\u89c8\u5668\u751f\u6210\u548c\u6267\u884c\u7684\u865a\u62df\u673a\u811a\u672c\u73af\u5883\u4e2d\u7684\u4e34\u65f6\u811a\u672c \u3002\u8fd9\u4e9b\u811a\u672c\u5e76\u4e0d\u662f\u9879\u76ee\u6e90\u4ee3\u7801\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u4e0d\u662f\u5b9e\u9645\u5b58\u5728\u7684\u7269\u7406\u6587\u4ef6\u3002 \u5b83\u4eec \u5728\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d\u521b\u5efa\u5e76\u6267\u884c \u3002 \u6bd4\u5982\u8bf4\uff0c\u5f53\u4f60\u5728\u8c03\u8bd5\u4e00\u4e2a\u7f51\u9875\u65f6\uff0c\u5982\u679c\u5728\u67d0\u4e9b\u52a8\u6001\u751f\u6210\u5e76\u6267\u884c\u7684JS\u4ee3\u7801\u4e0a\u8bbe\u5b9a\u4e86\u65ad\u70b9\uff0cChrome\u8c03\u8bd5\u5668\u4f1a\u5728\u4e00\u4e2a\u4ee5\"VM\"\u5f00\u5934\u7684\u6587\u4ef6\u4e2d\u663e\u793a\u8fd9\u4e9b\u4ee3\u7801\uff0c\u4f8b\u5982\"VM111.js\"\u3002\u8fd9\u4e2a\"VM\"\u6587\u4ef6\u7684\u5b58\u5728\u53ea\u662f\u4e3a\u4e86\u8c03\u8bd5\u76ee\u7684\uff0c\u5b83\u5e76\u4e0d\u5b58\u5728\u4e8e\u670d\u52a1\u5668\u7aef\uff0c\u4e5f\u4e0d\u4f1a\u88ab\u5b58\u50a8\u5728\u672c\u5730\uff0c\u800c\u662f\u5b58\u5728\u4e8e\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8fd9\u7c7b\u6587\u4ef6\u7684\u51fa\u73b0\u662f\u56e0\u4e3a\u6d4f\u89c8\u5668\u5bf9JavaScript\u4ee3\u7801\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u5982\u52a8\u6001\u7f16\u8bd1\u6216\u8005JavaScript\u5806\u6808\u8ddf\u8e2a\u3002 \u901a\u8fc7eval\u51fd\u6570\u6216\u8005new Function\u65b9\u6cd5\uff0cChrome\u6d4f\u89c8\u5668\u4f1a\u521b\u5efa\u4e00\u4e2a\"VM\"\u6587\u4ef6\u6765\u5c55\u793a\u8fd9\u6bb5\u4e34\u65f6\u6267\u884c\u7684\u4ee3\u7801 \u901a\u8fc7\u811a\u672c\u65ad\u70b9\u53ef\u4ee5\u65ad\u4f4fts\u548c\u81ea\u6267\u884c\u51fd\u6570\uff0c\u56e0\u4e3a\u7b2c\u4e00\u6b21\u54cd\u5e94\u7684index.html\u662f\u52a8\u6001\u7684\uff0c\u6240\u4ee5\u4e3a\u4e86\u540e\u9762\u8c03\u8bd5\uff0c\u6211\u4eec\u5148\u8bd5\u7528\u6587\u4ef6\u66ff\u6362\u672c\u5730\u5316\u3002 \u63a5\u4e0b\u6765\u5728index.html\u4e2d\u76f4\u63a5\u4f7f\u7528\u6b63\u5219\u5feb\u901f\u5b9a\u4f4d\u5165\u53e3\u51fd\u6570\uff1a # \u745e\u65705:\u6b63\u5219\u641c\u7d22 \\S{4} = \\S{4}\\[\\S{4}\\[\\d{2}\\]\\]\\(\\S{4}, # \u745e\u65706:\u641c\u7d22.call \u8fd9\u4e2a\u4f4d\u7f6e\u901a\u5e38\u5728\u5206\u6790\u745e\u6570\u7684\u65f6\u5019\u4f5c\u4e3a\u5165\u53e3\uff0c\u56fe\u4e2d == $BH== \u5b9e\u9645\u4e0a\u662f ==eval== \u65b9\u6cd5\uff0c\u4f20\u5165\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570 == $4u== \u662f ==Window \u5bf9\u8c61==\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u8c61 ==_$wt== \u662f\u6211\u4eec\u524d\u9762\u770b\u5230\u7684 VM \u865a\u62df\u673a\u4e2d\u7684 IIFE \u81ea\u6267\u884c\u4ee3\u7801\u3002 \u6700\u540e\u5728\u5165\u53e3\u4f4d\u7f6e\u5355\u6b65\u8c03\u8bd5\uff0c\u5373\u53ef\u8fdb\u5165\u5230VM\u73af\u5883\uff01 \u540e\u9762\u7684\u65ad\u70b9\u8c03\u8bd5\u5c31\u5728\u8fd9\u4e2a\u73af\u5883\u4e2d\u3002","title":"\u30101\u3011\u5165\u53e3\u5b9a\u4f4d"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_4","text":"\u6ce8\u610fcontent\u7684\u503c\u548cauto.js\u662f\u5173\u8054\u7684\uff0c\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\uff01 \u521d\u59cb\u5316\u8865\u73af\u5883\u6587\u4ef6 delete __dirname delete __filename top = self = window = global document = {} location = {} navigator = {} history = {} screen = {} function getEnv(proxy_array) { for (var i = 0; i < proxy_array.length; i++) { handler = `{\\n get: function(target, property, receiver) {\\n console.log('\u65b9\u6cd5\uff1aget',' \u5bf9\u8c61\uff1a${proxy_array[i]}',' \u5c5e\u6027\uff1a',property,' \u5c5e\u6027\u7c7b\u578b\uff1a',typeof property,' \u5c5e\u6027\u503c\u7c7b\u578b\uff1a',typeof target[property]); return target[property]; }, set: function(target, property, value, receiver){\\n console.log('\u65b9\u6cd5\uff1aset',' \u5bf9\u8c61\uff1a${proxy_array[i]}',' \u5c5e\u6027\uff1a',property,' \u5c5e\u6027\u7c7b\u578b\uff1a',typeof property,' \u5c5e\u6027\u503c\u7c7b\u578b\uff1a',typeof target[property]); return Reflect.set(...arguments); } }` eval(` try { ${proxy_array[i]}; ${proxy_array[i]} = new Proxy(${proxy_array[i]}, ${handler}); } catch (e) { ${proxy_array[i]} = {}; ${proxy_array[i]} = new Proxy(${proxy_array[i]}, ${handler}); } `) } } proxy_array = ['window', 'document', 'location', 'navigator', 'history', 'screen'] getEnv(proxy_array) \u63a5\u4e0b\u6765\u5c31\u662f\u6309\u4e4b\u524d\u6559\u7ed9\u5927\u5bb6\u7684\u76d1\u63a7\u5668\u8865\u73af\u5883\u3002","title":"\u30102\u3011\u8865\u73af\u5883"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4-web-drissionpage","text":"","title":"4. Web\u81ea\u52a8\u5316-DrissionPage"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#41dp","text":"\u5728\u5f53\u4eca\u4e92\u8054\u7f51\u9ad8\u901f\u53d1\u5c55\u7684\u65f6\u4ee3\uff0c\u7f51\u9875\u6570\u636e\u7684\u83b7\u53d6\u548c\u5904\u7406\u53d8\u5f97\u6108\u53d1\u91cd\u8981\u3002\u4f20\u7edf\u7684\u81ea\u52a8\u5316\u5de5\u5177\u5982 Selenium \u5728\u67d0\u4e9b\u65b9\u9762\u9010\u6e10\u663e\u9732\u51fa\u4e00\u4e9b\u5c40\u9650\u6027\uff0c\u800c DrissionPage \u6b63\u662f\u5728\u8fd9\u6837\u7684\u80cc\u666f\u4e0b\u5d2d\u9732\u5934\u89d2\u3002 DrissionPage \u7684\u53d1\u5c55\u5386\u7a0b\u5145\u6ee1\u4e86\u521b\u65b0\u4e0e\u7a81\u7834\u3002\u5b83\u6700\u521d\u7684\u8bbe\u8ba1\u7406\u5ff5\u662f\u5c06\u6d4f\u89c8\u5668\u81ea\u52a8\u5316\u548c\u6570\u636e\u5305\u64cd\u63a7\u76f8\u7ed3\u5408\uff0c\u4ee5\u89e3\u51b3\u4f20\u7edf\u5de5\u5177\u5728\u9762\u5bf9\u590d\u6742\u7f51\u9875\u4ea4\u4e92\u548c\u53cd\u722c\u673a\u5236\u65f6\u7684\u4e0d\u8db3\u3002\u4ece\u65e9\u671f\u7684\u7248\u672c\u5f00\u59cb\uff0cDrissionPage \u5c31\u81f4\u529b\u4e8e\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e00\u79cd\u66f4\u9ad8\u6548\u3001\u66f4\u4fbf\u6377\u7684\u7f51\u9875\u81ea\u52a8\u5316\u89e3\u51b3\u65b9\u6848\u3002 \u5728\u53d1\u5c55\u8fc7\u7a0b\u4e2d\uff0cDrissionPage \u4e0d\u65ad\u4f18\u5316\u548c\u6539\u8fdb\u81ea\u8eab\u7684\u529f\u80fd\u3002\u5b83\u6446\u8131\u4e86\u5bf9 Selenium \u7684\u4f9d\u8d56\uff0c\u4ece 3.0 \u7248\u672c\u5f00\u59cb\uff0c\u4f5c\u8005\u53e6\u8d77\u7089\u7076\uff0c\u7528 chromium \u534f\u8bae\u81ea\u884c\u5b9e\u73b0\u4e86\u7c7b\u4f3c Selenium \u7684\u5168\u90e8\u529f\u80fd\uff0c\u5e76\u4e14\u5728\u6b64\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u8bb8\u591a\u72ec\u7279\u7684\u7279\u6027\u3002\u4f8b\u5982\uff0c\u65e0 webdriver \u7279\u5f81\u4f7f\u5f97\u5b83\u66f4\u96be\u88ab\u7f51\u7ad9\u8bc6\u522b\uff0c\u51cf\u5c11\u4e86\u88ab\u963b\u6b62\u6216\u9650\u5236\u8bbf\u95ee\u7684\u98ce\u9669\u3002 \u540c\u65f6\uff0cDrissionPage \u8fd8\u5728\u6613\u7528\u6027\u65b9\u9762\u4e0b\u8db3\u4e86\u529f\u592b\u3002\u4e0e\u5176\u4ed6\u9700\u8981\u9488\u5bf9\u4e0d\u540c\u6d4f\u89c8\u5668\u7248\u672c\u4e0b\u8f7d\u5bf9\u5e94\u9a71\u52a8\u7684\u5de5\u5177\u4e0d\u540c\uff0c\u5b83\u7b80\u5316\u4e86\u914d\u7f6e\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u8bbe\u7f6e\u548c\u4f7f\u7528\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u5feb\u6377\u3002\u5b98\u65b9\u6587\u6863\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u5b89\u88c5\u3001\u914d\u7f6e\u4ee5\u53ca\u4f7f\u7528\u65b9\u6cd5\uff0c\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5b66\u4e60\u8d44\u6e90\u3002 \u968f\u7740\u6280\u672f\u7684\u4e0d\u65ad\u8fdb\u6b65\uff0cDrissionPage \u7684\u529f\u80fd\u4e5f\u5728\u4e0d\u65ad\u62d3\u5c55\u3002\u5b83\u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u8fd8\u5728\u722c\u866b\u5f00\u53d1\u7b49\u9886\u57df\u5c55\u73b0\u51fa\u5f3a\u5927\u7684\u6f5c\u529b\u3002\u65e0\u8bba\u662f\u5904\u7406\u590d\u6742\u7684\u8868\u5355\u4ea4\u4e92\uff0c\u8fd8\u662f\u7ed5\u8fc7\u524d\u7aef\u7684\u4e00\u4e9b\u9650\u5236\uff0cDrissionPage \u90fd\u80fd\u53d1\u6325\u51fa\u91cd\u8981\u4f5c\u7528\u3002 \u603b\u4e4b\uff0cDrissionPage \u4ee5\u5176\u72ec\u7279\u7684\u8bbe\u8ba1\u7406\u5ff5\u548c\u4e0d\u65ad\u521b\u65b0\u7684\u7cbe\u795e\uff0c\u5728\u81ea\u52a8\u5316\u722c\u866b\u9886\u57df\u9010\u6e10\u5d1b\u8d77\uff0c\u4e3a\u5f00\u53d1\u8005\u5e26\u6765\u4e86\u5168\u65b0\u7684\u4f53\u9a8c\u548c\u66f4\u591a\u7684\u53ef\u80fd\u6027\u3002 \u4e3a\u4ec0\u4e48\u53ebDrissionPag\uff1fSelenium\u6846\u67b6\u7528\u4e8e\u64cd\u4f5c\u6d4f\u89c8\u5668\u7684\u5bf9\u8c61\u53eb Driver\uff0crequests \u7528\u4e8e\u7ba1\u7406\u8bf7\u6c42\u8fde\u63a5\u7684\u5bf9\u8c61\u53eb Session\uff0c\u56e0\u6b64Drission \u5c31\u662f\u5b83\u4eec\u4e24\u8005\u7684\u5408\u4f53\u3002\u5728\u65e7\u7248\u672c\u4e2d\uff0c\u662f\u901a\u8fc7\u5bf9 selenium \u548c requests \u7684\u91cd\u65b0\u5c01\u88c5\u5b9e\u73b0\u7684\u3002\u56e0\u6b64 Drission \u8bfb\u4f5c \u201c\u62fd\u795e\u201d\u3002\u4f46\u4ece 3.0 \u7248\u5f00\u59cb\uff0c\u4f5c\u8005\u53e6\u8d77\u7089\u7076\uff0c\u7528 chromium \u534f\u8bae\u81ea\u884c\u5b9e\u73b0\u4e86 selenium \u5168\u90e8\u529f\u80fd\uff0c\u4ece\u800c\u6446\u8131\u4e86\u5bf9 selenium \u7684\u4f9d\u8d56\uff0c\u529f\u80fd\u66f4\u591a\u66f4\u5f3a\uff0c\u8fd0\u884c\u6548\u7387\u66f4\u9ad8\uff0c\u5f00\u53d1\u66f4\u7075\u6d3b\u3002 \u672c\u5e93\u91c7\u7528\u5168\u81ea\u7814\u7684\u5185\u6838\uff0c\u5185\u7f6e\u4e86 N \u591a\u5b9e\u7528\u529f\u80fd\uff0c\u5bf9\u5e38\u7528\u529f\u80fd\u4f5c\u4e86\u6574\u5408\u548c\u4f18\u5316\uff0c\u5bf9\u6bd4 selenium\uff0c\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u65e0 webdriver \u7279\u5f81 \u65e0\u9700\u4e3a\u4e0d\u540c\u7248\u672c\u7684\u6d4f\u89c8\u5668\u4e0b\u8f7d\u4e0d\u540c\u7684\u9a71\u52a8 \u8fd0\u884c\u901f\u5ea6\u66f4\u5feb \u53ef\u4ee5\u8de8 iframe \u67e5\u627e\u5143\u7d20\uff0c\u65e0\u9700\u5207\u5165\u5207\u51fa \u628a iframe \u770b\u4f5c\u666e\u901a\u5143\u7d20\uff0c\u83b7\u53d6\u540e\u53ef\u76f4\u63a5\u5728\u5176\u4e2d\u67e5\u627e\u5143\u7d20\uff0c\u903b\u8f91\u66f4\u6e05\u6670 \u53ef\u4ee5\u540c\u65f6\u64cd\u4f5c\u6d4f\u89c8\u5668\u4e2d\u7684\u591a\u4e2a\u6807\u7b7e\u9875\uff0c\u5373\u4f7f\u6807\u7b7e\u9875\u4e3a\u975e\u6fc0\u6d3b\u72b6\u6001\uff0c\u65e0\u9700\u5207\u6362 \u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u6d4f\u89c8\u5668\u7f13\u5b58\u6765\u4fdd\u5b58\u56fe\u7247\uff0c\u65e0\u9700\u7528 GUI \u70b9\u51fb\u53e6\u5b58 \u53ef\u4ee5\u5bf9\u6574\u4e2a\u7f51\u9875\u622a\u56fe\uff0c\u5305\u62ec\u89c6\u53e3\u5916\u7684\u90e8\u5206\uff0890\u4ee5\u4e0a\u7248\u672c\u6d4f\u89c8\u5668\u652f\u6301\uff09 \u53ef\u5904\u7406\u975e open \u72b6\u6001\u7684 shadow-root \u9664\u4e86\u4ee5\u4e0a\u4f18\u70b9\uff0c\u672c\u5e93\u8fd8\u5185\u7f6e\u4e86\u65e0\u6570\u4eba\u6027\u5316\u8bbe\u8ba1\u3002 \u6781\u7b80\u7684\u8bed\u6cd5\u89c4\u5219\uff0c\u96c6\u6210\u5927\u91cf\u5e38\u7528\u529f\u80fd\uff0c\u4ee3\u7801\u66f4\u4f18\u96c5\uff1b \u5b9a\u4f4d\u5143\u7d20\u66f4\u52a0\u5bb9\u6613\uff0c\u529f\u80fd\u66f4\u5f3a\u5927\u7a33\u5b9a\uff1b \u65e0\u5904\u4e0d\u5728\u7684\u7b49\u5f85\u548c\u81ea\u52a8\u91cd\u8bd5\u529f\u80fd\u3002\u4f7f\u4e0d\u7a33\u5b9a\u7684\u7f51\u7edc\u53d8\u5f97\u6613\u4e8e\u63a7\u5236\uff0c\u7a0b\u5e8f\u66f4\u7a33\u5b9a\uff0c\u7f16\u5199\u66f4\u7701\u5fc3\uff1b \u63d0\u4f9b\u5f3a\u5927\u7684\u4e0b\u8f7d\u5de5\u5177\u3002\u64cd\u4f5c\u6d4f\u89c8\u5668\u65f6\u4e5f\u80fd\u4eab\u53d7\u5feb\u6377\u53ef\u9760\u7684\u4e0b\u8f7d\u529f\u80fd\uff1b \u5141\u8bb8\u53cd\u590d\u4f7f\u7528\u5df2\u7ecf\u6253\u5f00\u7684\u6d4f\u89c8\u5668\u3002\u65e0\u9700\u6bcf\u6b21\u8fd0\u884c\u4ece\u5934\u542f\u52a8\u6d4f\u89c8\u5668\uff0c\u8c03\u8bd5\u8d85\u65b9\u4fbf\uff1b \u4f7f\u7528 ini \u6587\u4ef6\u4fdd\u5b58\u5e38\u7528\u914d\u7f6e\uff0c\u81ea\u52a8\u8c03\u7528\uff0c\u63d0\u4f9b\u4fbf\u6377\u7684\u8bbe\u7f6e\uff0c\u8fdc\u79bb\u7e41\u6742\u7684\u914d\u7f6e\u9879\uff1b \u5185\u7f6e lxml \u4f5c\u4e3a\u89e3\u6790\u5f15\u64ce\uff0c\u89e3\u6790\u901f\u5ea6\u6210\u51e0\u4e2a\u6570\u91cf\u7ea7\u63d0\u5347\uff1b \u4f7f\u7528 POM \u6a21\u5f0f\u5c01\u88c5\uff0c\u53ef\u76f4\u63a5\u7528\u4e8e\u6d4b\u8bd5\uff0c\u4fbf\u4e8e\u6269\u5c55\uff1b \u9996\u5148\uff0c\u4f60\u9700\u8981\u5b89\u88c5 drissionpage \u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a pip install drissionpage \u5b98\u7f51\uff1a https://drissionpage.cn/ # \u5b89\u88c5\u53ca\u5bfc\u5165 pip install DrissionPage -i https://pypi.org/simple from DrissionPage import ChromiumPage from DrissionPage import SessionPage as Session from DrissionPage import WebPage # \u5de5\u5177\u8bb2\u89e3 - ChromiumPage - \u7c7b\u4f3c selenium\u7684 driver.Chrome(...) \u4f1a\u6253\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3 - \u53ea\u80fd\u8fdb\u884cGET\u8bf7\u6c42 - SessionPage - \u4f7f\u7528\u8d77\u6765\u7c7b\u4f3c requests\u6a21\u5757\u7684 session,\u4f46\u6bd4session\u66f4\u5f3a\u5927 - \u4e3a\u4e86\u65b9\u4fbf\u6211\u76f4\u63a5\u53d6\u4e86\u522b\u540d - GET/POST \u90fd\u53ef\u4ee5\u6ee1\u8db3\u4ee5\u53ca\u4ee3\u7406 - WebPage - \u96c6\u6210\u4e86 ChromiumPage \u548c SessionPage,\u8fd8\u53ef\u4ee5\u5728\u4e24\u8005\u4e4b\u95f4\u81ea\u7531\u5207\u6362,\u975e\u5e38\u5f3a\u5927 \u6211\u4eec\u4ee5ChromiumPage\u4e3a\u4e3b\uff0c\u7f51\u7ad9\u4ee5\u767e\u5ea6\u4e00\u4e0b\u4e3a\u6848\u4f8b( https://www.baidu.com/ ) # \u6848\u4f8b1 from DrissionPage import ChromiumPage, ChromiumOptions co = ChromiumOptions() co.headless(False) # 1\u3001\u8bbe\u7f6e\u65e0\u5934\u6a21\u5f0f\uff1aco.headless(True) # 2\u3001\u8bbe\u7f6e\u65e0\u75d5\u6a21\u5f0f\uff1aco.incognito(True) # 3\u3001\u8bbe\u7f6e\u8bbf\u5ba2\u6a21\u5f0f\uff1aco.set_argument('--guest') # 4\u3001\u8bbe\u7f6e\u8bf7\u6c42\u5934user-agent\uff1aco.set_user_agent() # 5\u3001\u8bbe\u7f6e\u6307\u5b9a\u7aef\u53e3\u53f7\uff1aco.set_local_port(7890) # 6\u3001\u8bbe\u7f6e\u4ee3\u7406\uff1aco.set_proxy('http://localhost:2222') page = ChromiumPage(co) url = \"https://www.baidu.com\" page.get(url) page.wait.load_start() # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u5b8c\u6210 page.ele(\"css:#kw\").input(\"\u7f8e\u5973\") page.ele(\"css:#su\").click() print(page.html) # \u6848\u4f8b2 from DrissionPage import ChromiumPage cp = ChromiumPage() cp.get('https://www.baidu.com/') cp.ele(\"#kw\").input(\"IP\u5730\u5740\") # \u5b9a\u4f4d\u5230\u641c\u7d22\u6846\u5e76\u586b\u5145\u6570\u636e cp.wait.load_start() # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u5b8c\u6210 cp.ele(\"#su\").click() # \u627e\u5230\u641c\u7d22\u6309\u94ae\u5e76\u70b9\u51fb\u641c\u7d22 cp.listen.start('qifu-api.baidubce.com/ip/local/geo/v1/district') res = cp.listen.wait() # \u7b49\u5f85\u5e76\u83b7\u53d6\u4e00\u4e2a\u6570\u636e\u5305 print(res.url) # \u8f93\u51fa\u6570\u636e\u5305url print(res.response.headers) # \u8f93\u51fa\u54cd\u5e94\u5934 print(res.response.statusText) # \u8f93\u51fa\u54cd\u5e94\u72b6\u6001\u7801 print(res.response.body) # \u8f93\u51fa\u54cd\u5e94\u5185\u5bb9","title":"4.1\u3001DP\u521d\u8bc6"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#42","text":"","title":"4.2\u3001\u91cd\u70b9\u8bed\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1get","text":"\u8be5\u65b9\u6cd5\u7528\u4e8e\u8df3\u8f6c\u5230\u4e00\u4e2a\u7f51\u5740\u3002\u5f53\u8fde\u63a5\u5931\u8d25\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u8fdb\u884c\u91cd\u8bd5\uff1a","title":"\u30101\u3011get\u65b9\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_5","text":"# \u6839\u636e\u5c5e\u6027\u67e5\u627e\uff0c@ \u540e\u9762\u53ef\u8ddf\u4efb\u610f\u5c5e\u6027 page.ele('@id:ele_id', timeout=2) # \u67e5\u627e id \u4e3a ele_id \u7684\u5143\u7d20\uff0c\u8bbe\u7f6e\u7b49\u5f85\u65f6\u95f42\u79d2 page.eles('@class') # \u67e5\u627e\u6240\u6709\u62e5\u6709 class \u5c5e\u6027\u7684\u5143\u7d20 page.eles('@class:class_name') # \u67e5\u627e\u6240\u6709 class \u542b\u6709 ele_class \u7684\u5143\u7d20 page.eles('@class=class_name') # \u67e5\u627e\u6240\u6709 class \u7b49\u4e8e ele_class \u7684\u5143\u7d20 # \u6839\u636e class \u6216 id \u67e5\u627e page.ele('#ele_id') # \u7b49\u4ef7\u4e8e page.ele('@id=ele_id') page.ele('#:ele_id') # \u7b49\u4ef7\u4e8e page.ele('@id:ele_id') page.ele('.ele_class') # \u7b49\u4ef7\u4e8e page.ele('@class=ele_class') page.ele('.:ele_class') # \u7b49\u4ef7\u4e8e page.ele('@class:ele_class') # \u6839\u636e tag name \u67e5\u627e page.ele('tag:li') # \u67e5\u627e\u7b2c\u4e00\u4e2a li \u5143\u7d20 page.eles('tag:li') # \u67e5\u627e\u6240\u6709 li \u5143\u7d20 # \u6839\u636e tag name \u53ca\u5c5e\u6027\u67e5\u627e page.ele('tag:div@class=div_class') # \u67e5\u627e class \u4e3a div_class \u7684 div \u5143\u7d20 page.ele('tag:div@class:ele_class') # \u67e5\u627e class \u542b\u6709 ele_class \u7684 div \u5143\u7d20 page.ele('tag:div@class=ele_class') # \u67e5\u627e class \u7b49\u4e8e ele_class \u7684 div \u5143\u7d20 page.ele('tag:div@text():search_text') # \u67e5\u627e\u6587\u672c\u542b\u6709 search_text \u7684 div \u5143\u7d20 page.ele('tag:div@text()=search_text') # \u67e5\u627e\u6587\u672c\u7b49\u4e8e search_text \u7684 div \u5143\u7d20 # \u6839\u636e\u6587\u672c\u5185\u5bb9\u67e5\u627e page.ele('search text') # \u67e5\u627e\u5305\u542b\u4f20\u5165\u6587\u672c\u7684\u5143\u7d20 page.eles('text:search text') # \u5982\u6587\u672c\u4ee5 @\u3001tag:\u3001css:\u3001xpath:\u3001text: \u5f00\u5934\uff0c\u5219\u5e94\u5728\u524d\u52a0\u4e0a text: \u907f\u514d\u51b2\u7a81 page.eles('text=search text') # \u6587\u672c\u7b49\u4e8e search_text \u7684\u5143\u7d20 # \u6839\u636e xpath \u6216 css selector \u67e5\u627e page.eles('xpath://div[@class=\"ele_class\"]') page.eles('css:div.ele_class') # \u67e5\u627e\u4e0b\u7ea7\u5143\u7d20 element = page.ele('@id:ele_id') element.ele('@class:class_name') # \u5728 element \u4e0b\u7ea7\u67e5\u627e\u7b2c\u4e00\u4e2a class \u4e3a ele_class \u7684\u5143\u7d20 element.eles('tag:li') # \u5728 ele_id \u4e0b\u7ea7\u67e5\u627e\u6240\u6709li\u5143\u7d20 # \u6839\u636e\u4f4d\u7f6e\u67e5\u627e element.parent # \u7236\u5143\u7d20 element.next # \u4e0b\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 element.prev # \u4e0a\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 # \u83b7\u53d6 shadow-root\uff0c\u628a\u5b83\u4f5c\u4e3a\u5143\u7d20\u5bf9\u5f85\u3002\u53ea\u652f\u6301 open \u7684 shadow-root ele1 = element.shadow_root.ele('tag:div') # \u4e32\u8fde\u67e5\u627e page.ele('@id:ele_id').ele('tag:div').next.ele('some text').eles('tag:a') # \u7b80\u5316\u5199\u6cd5 eles = page('@id:ele_id')('tag:div').next('some text').eles('tag:a') ele2 = ele1('tag:li').next('some text') \u7b80\u5316\u5199\u6cd5\u5bf9\u5e94\u5217\u8868 \u539f\u5199\u6cd5 \u7b80\u5316\u5199\u6cd5 \u8bf4\u660e @id # \u8868\u793a id \u5c5e\u6027\uff0c\u7b80\u5316\u5199\u6cd5\u53ea\u5728\u8bed\u53e5\u6700\u524d\u9762\u4e14\u5355\u72ec\u4f7f\u7528\u65f6\u751f\u6548 @class . \u8868\u793a class \u5c5e\u6027\uff0c\u7b80\u5316\u5199\u6cd5\u53ea\u5728\u8bed\u53e5\u6700\u524d\u9762\u4e14\u5355\u72ec\u4f7f\u7528\u65f6\u751f\u6548 text tx \u6309\u6587\u672c\u5339\u914d @text() @tx() \u6309\u6587\u672c\u67e5\u627e\u4e0e @ \u6216 @@ \u914d\u5408\u4f7f\u7528\u65f6 tag t \u6309\u6807\u7b7e\u7c7b\u578b\u5339\u914d xpath x \u7528 xpath \u65b9\u5f0f\u67e5\u627e\u5143\u7d20 css c \u7528 css selector \u65b9\u5f0f\u67e5\u627e\u5143\u7d20","title":"\u30102\u3011\u5143\u7d20\u67e5\u627e"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_5","text":"element.click(by_js) # \u70b9\u51fb\u5143\u7d20\uff0c\u53ef\u9009\u62e9\u662f\u5426\u7528 js \u65b9\u5f0f\u70b9\u51fb element.input(value) # \u8f93\u5165\u6587\u672c element.run_script(js) # \u5bf9\u5143\u7d20\u8fd0\u884c JavaScript \u811a\u672c element.submit() # \u63d0\u4ea4 element.clear() # \u6e05\u7a7a\u5143\u7d20 element.screenshot(path, filename) # \u5bf9\u5143\u7d20\u622a\u56fe element.select(text) # \u6839\u636e\u6587\u672c\u9009\u62e9\u4e0b\u62c9\u5217\u8868 element.set_attr(attr, value) # \u8bbe\u7f6e\u5143\u7d20\u5c5e\u6027\u503c element.remove_attr(attr) # \u5220\u9664\u5c5e\u6027 element.drag(x, y, speed, shake) # \u62d6\u52a8\u5143\u7d20\u76f8\u5bf9\u8ddd\u79bb\uff0c\u53ef\u8bbe\u7f6e\u901f\u5ea6\u548c\u662f\u5426\u968f\u673a\u6296\u52a8 element.drag_to(ele_or_loc, speed, shake) # \u62d6\u52a8\u5143\u7d20\u5230\u53e6\u4e00\u4e2a\u5143\u7d20\u6216\u67d0\u4e2a\u5750\u6807\uff0c\u53ef\u8bbe\u7f6e\u901f\u5ea6\u548c\u662f\u5426\u968f\u673a\u6296\u52a8 element.hover() # \u5728\u5143\u7d20\u4e0a\u60ac\u505c\u9f20\u6807","title":"\u30103\u3011\u5143\u7d20\u64cd\u4f5c"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_4","text":"element.html # \u8fd4\u56de\u5143\u7d20 outerHTML element.inner_html # \u8fd4\u56de\u5143\u7d20 innerHTML element.tag # \u8fd4\u56de\u5143\u7d20 tag name element.text # \u8fd4\u56de\u5143\u7d20 innerText \u503c element.comments # \u8fd4\u56de\u5143\u7d20\u5185\u6ce8\u91ca\u5217\u8868 element.link # \u8fd4\u56de\u5143\u7d20 href \u6216 src \u7edd\u5bf9 url element.texts() # \u8fd4\u56de\u5143\u7d20\u5185\u6240\u6709\u76f4\u63a5\u5b50\u8282\u70b9\u7684\u6587\u672c\uff0c\u5305\u62ec\u5143\u7d20\u548c\u6587\u672c\u8282\u70b9\uff0c\u53ef\u6307\u5b9a\u53ea\u8fd4\u56de\u6587\u672c\u8282\u70b9 element.attrs # \u8fd4\u56de\u5143\u7d20\u6240\u6709\u5c5e\u6027\u7684\u5b57\u5178 element.attr(attr) # \u8fd4\u56de\u5143\u7d20\u6307\u5b9a\u5c5e\u6027\u7684\u503c element.css_path # \u8fd4\u56de\u5143\u7d20\u7edd\u5bf9 css \u8def\u5f84 element.xpath # \u8fd4\u56de\u5143\u7d20\u7edd\u5bf9 xpath \u8def\u5f84 element.parent # \u8fd4\u56de\u5143\u7d20\u7236\u5143\u7d20 element.next # \u8fd4\u56de\u5143\u7d20\u540e\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 element.prev # \u8fd4\u56de\u5143\u7d20\u524d\u4e00\u4e2a\u5144\u5f1f\u5143\u7d20 element.parent() # \u8fd4\u56de\u7b2c 1 \u7ea7\u7236\u5143\u7d20 element.parents(num) # \u8fd4\u56de\u7b2c num \u7ea7\u7236\u5143\u7d20 element.nexts(num, mode) # \u8fd4\u56de\u540e\u9762\u7b2c\u51e0\u4e2a\u5143\u7d20\u6216\u8282\u70b9 element.prevs(num, mode) # \u8fd4\u56de\u524d\u9762\u7b2c\u51e0\u4e2a\u5143\u7d20\u6216\u8282\u70b9 element.ele(loc_or_str, timeout) # \u8fd4\u56de\u5f53\u524d\u5143\u7d20\u4e0b\u7ea7\u7b2c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u5143\u7d20\u3001\u5c5e\u6027\u6216\u8282\u70b9\u6587\u672c element.eles(loc_or_str, timeout) # \u8fd4\u56de\u5f53\u524d\u5143\u7d20\u4e0b\u7ea7\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u5143\u7d20\u3001\u5c5e\u6027\u6216\u8282\u70b9\u6587\u672c \u6848\u4f8b\uff1a from DrissionPage import ChromiumPage, ChromiumOptions from loguru import logger import platform if platform.system().lower() == 'windows': co = ChromiumOptions().set_paths(browser_path=r\"C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe\") else: co = ChromiumOptions() # .set_paths(browser_path=r\"/opt/google/chrome/google-chrome\") co.set_local_port(9211) co.set_user_agent( user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36') # \u8bbe\u7f6eua co.headless(True) # \u8bbe\u7f6e\u65e0\u5934\u52a0\u8f7d \u65e0\u5934\u6a21\u5f0f\u662f\u4e00\u79cd\u5728\u6d4f\u89c8\u5668\u6ca1\u6709\u754c\u9762\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u7684\u6a21\u5f0f\uff0c\u5b83\u53ef\u4ee5\u63d0\u9ad8\u6d4f\u89c8\u5668\u7684\u6027\u80fd\u548c\u52a0\u8f7d\u901f\u5ea6 co.incognito(True) # \u65e0\u75d5\u9690\u8eab\u6a21\u5f0f\u6253\u5f00\u7684\u8bdd\uff0c\u4e0d\u4f1a\u8bb0\u4f4f\u4f60\u7684\u7f51\u7ad9\u8d26\u53f7\u5bc6\u7801\u7684 co.set_argument('--guest') # \u8bbe\u7f6e\u8bbf\u5ba2\u6a21\u5f0f\uff0c\u4e0d\u4f1a\u8bb0\u4f4f\u4f60\u7684\u7f51\u7ad9\u8d26\u53f7\u5bc6\u7801\u7684\u7b49cookie co.set_argument( '--no-sandbox') # \u7981\u7528\u6c99\u7bb1 \u7981\u7528\u6c99\u7bb1\u53ef\u4ee5\u907f\u514d\u6d4f\u89c8\u5668\u5728\u52a0\u8f7d\u9875\u9762\u65f6\u8fdb\u884c\u5b89\u5168\u68c0\u67e5,\u4ece\u800c\u63d0\u9ad8\u52a0\u8f7d\u901f\u5ea6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709Chrome \u7528\u6237\u90fd\u542f\u7528\u4e86\u9690\u79c1\u6c99\u76d2\u9009\u9879 https://zhuanlan.zhihu.com/p/475639754 co.set_argument(\"--disable-gpu\") # \u7981\u7528GPU\u52a0\u901f\u53ef\u4ee5\u907f\u514d\u6d4f\u89c8\u5668\u5728\u52a0\u8f7d\u9875\u9762\u65f6\u4f7f\u7528\u8fc7\u591a\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u9ad8\u52a0\u8f7d\u901f\u5ea6 # \u521b\u5efa\u6d4f\u89c8\u5668\u5bf9\u8c61 cp = ChromiumPage(co) # \u521b\u5efa\u5bf9\u8c61 cp.get(\"https://www.itjuzi.com/ipo\", retry=3, interval=2, timeout=15) # \u8bbf\u95ee\u7f51 detail_links_all = [] for tr in cp.eles(\"css:.el-table__row\"): tds = [td.text.strip() for td in tr.eles(\"x:.//td\")[1:]] company = tr.ele(\"tag:a\").text a_href = tr.ele(\"tag:a\").attr(\"href\") detail_links_all.append(a_href) logger.info(f\"list_page_company is {company} , a_href is {a_href}\") logger.success(f\">>>>>total_detail_urls is : {len(detail_links_all)}\") cp.quit()","title":"\u30104\u3011\u5143\u7d20\u5c5e\u6027\u548c\u65b9\u6cd5"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#43","text":"","title":"4.3\u3001\u6848\u4f8b\u89e3\u6790"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_5","text":"import time from DrissionPage import ChromiumPage, ChromiumOptions import pandas as pd page = ChromiumPage() page.listen.start('/wapi/zpgeek/search/joblist.json') page.get('https://www.zhipin.com/web/geek/job?query=python&city=101010100') res = page.listen.wait() print(\"res:::\",res.response.body) joblist = res.response.body['zpData']['jobList'] for i in range(10): time.sleep(1) btn = page.ele('.ui-icon-arrow-right') btn_a = btn.parent().attr('class') if btn_a != 'disabled': btn.click() res = page.listen.wait() joblist += res.response.body['zpData']['jobList'] print(joblist) else: print('\u722c\u866b\u7ed3\u675f\uff01') break # \u5199\u5165\u5230excel\u4e2d df = pd.DataFrame(joblist) df.to_excel('boss\u76f4\u8058.xlsx', index=False) page.quit()","title":"\u30101\u3011\u62db\u8058\u5e73\u53f0"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2szu","text":"import time from DrissionPage import WebPage, ChromiumOptions page = WebPage() url = \"https://sugh.szu.edu.cn/Html/News/Columns/7/Index.html\" page.get(url, retry=3, interval=2, timeout=15) def show(page): els = page.eles('x: //*[@id=\"zoom\"]/li') for ele in els: # print(ele) href = ele.ele(\"x: ./a\").attr(\"href\") title = ele.ele(\"x: ./a\").text if not title: title = ele.ele(\"x: ./a[2]\").text print(href, title) # \u5c55\u793a\u7b2c\u4e00\u9875 show(page) for i in range(5): time.sleep(1) btn = page.ele('x: //*[@class=\"pagination_nextpage ui-state-default ui-corner-all\"]') print(\"btn:::\", btn) btn.click() show(page)","title":"\u30102\u3011\u745e\u6570\u6848\u4f8b\uff1aSZU"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3yjj","text":"from DrissionPage import ChromiumPage cp = ChromiumPage() cp.listen.start(\"/datasearch/data/nmpadata/search\") cp.get(\"https://www.nmpa.gov.cn/datasearch/home-index.html#category=yp\") cp.eles('tag:input@class=el-input__inner')[1].input(\"\u5e03\u6d1b\u82ac\") cp.ele('x=//*[@id=\"home\"]/main/div[1]/div[7]/div/div[2]/div/button').click() cp.wait.load_start() cp.get(\"https://www.nmpa.gov.cn/datasearch/search-result.html\") for i in range(100): res = cp.listen.wait() data = res.response.body print(data) cp.ele(\".btn-next\").click()","title":"\u30103\u3011\u745e\u6570\u6848\u4f8b\u4e4bYJJ\uff1a"},{"location":"33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_5","text":"import re import time from DrissionPage import ChromiumPage from user import user, pwd import json cp = ChromiumPage() # cp.get(\"https://login.taobao.com/member/login.jhtml\") # time.sleep(2) # cp.ele(\"css:#fm-login-id\").input(user) # time.sleep(2) # cp.ele(\"css:#fm-login-password\").input(pwd) # time.sleep(2) # cp.ele(\"css:.fm-button.fm-submit.password-login\").click() cp.listen.start('h5/mtop.relationrecommend.wirelessrecommend.recommend/2.0') cp.get(\"https://taobao.com/\") res = cp.listen.wait() body = res.response.body print(\"body:::\", body) cp.ele('css:#q').input(\"iphone 16 pro max\") cp.ele('css:.btn-search.tb-bg').click() while 1: print(\"\u63a5\u6536\u54cd\u5e94\") try: res = cp.listen.wait() body = res.response.body if body.find(\"itemsArray\") != -1: # print(body) ret = re.findall(\"mtopjsonp\\d+\\((.*)\\)\", body)[0] # print(\"ret:::\",ret) data = json.loads(ret) itemsArray = data.get(\"data\").get(\"itemsArray\") print(\"len:::\", len(itemsArray)) for i in itemsArray: title = i.get(\"title\") priceWap = i.get(\"priceWap\") print(title, priceWap) break time.sleep(1) except Exception as e: pass","title":"\u30104\u3011\u6dd8\u5b9d\u6848\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html","text":"\u4e09\u5341\u56db\u3001\u9ad8\u7ea7\u9006\u5411 \u7b2c\u4e00\u7ae0. \u722c\u866b\u521d\u8bc6\u30101\u3011 1.1\u3001web\u5f00\u53d1\u6838\u5fc3 \u30101\u3011http\u534f\u8bae 1. \u4ec0\u4e48\u662f\u8bf7\u6c42\u5934\u8bf7\u6c42\u4f53\uff0c\u54cd\u5e94\u5934\u54cd\u5e94\u4f53 2. URL\u5730\u5740\u5305\u62ec\u4ec0\u4e48 3. get\u8bf7\u6c42\u548cpost\u8bf7\u6c42\u5230\u5e95\u662f\u4ec0\u4e48 4. Content-Type\u662f\u4ec0\u4e48 \uff081\uff09\u7b80\u4ecb HTTP\u534f\u8bae\u662fHyper Text Transfer Protocol\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09\u7684\u7f29\u5199,\u662f\u7528\u4e8e\u4e07\u7ef4\u7f51\uff08WWW:World Wide Web \uff09\u670d\u52a1\u5668\u4e0e\u672c\u5730\u6d4f\u89c8\u5668\u4e4b\u95f4\u4f20\u8f93\u8d85\u6587\u672c\u7684\u4f20\u9001\u534f\u8bae\u3002HTTP\u662f\u4e00\u4e2a\u5c5e\u4e8e\u5e94\u7528\u5c42\u7684\u9762\u5411\u5bf9\u8c61\u7684\u534f\u8bae\uff0c\u7531\u4e8e\u5176\u7b80\u6377\u3001\u5feb\u901f\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u8d85\u5a92\u4f53\u4fe1\u606f\u7cfb\u7edf\u3002\u5b83\u4e8e1990\u5e74\u63d0\u51fa\uff0c\u7ecf\u8fc7\u51e0\u5e74\u7684\u4f7f\u7528\u4e0e\u53d1\u5c55\uff0c\u5f97\u5230\u4e0d\u65ad\u5730\u5b8c\u5584\u548c\u6269\u5c55\u3002HTTP\u534f\u8bae\u5de5\u4f5c\u4e8e\u5ba2\u6237\u7aef-\u670d\u52a1\u7aef\u67b6\u6784\u4e3a\u4e0a\u3002\u6d4f\u89c8\u5668\u4f5c\u4e3aHTTP\u5ba2\u6237\u7aef\u901a\u8fc7URL\u5411HTTP\u670d\u52a1\u7aef\u5373WEB\u670d\u52a1\u5668\u53d1\u9001\u6240\u6709\u8bf7\u6c42\u3002Web\u670d\u52a1\u5668\u6839\u636e\u63a5\u6536\u5230\u7684\u8bf7\u6c42\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u54cd\u5e94\u4fe1\u606f\u3002 \uff082\uff09http\u534f\u8bae\u7279\u6027 ```htaccess (1) \u57fa\u4e8eTCP/IP\u534f\u8bae http\u534f\u8bae\u662f\u57fa\u4e8eTCP/IP\u534f\u8bae\u4e4b\u4e0a\u7684\u5e94\u7528\u5c42\u534f\u8bae\u3002 (2) \u57fa\u4e8e\u8bf7\u6c42\uff0d\u54cd\u5e94\u6a21\u5f0f HTTP\u534f\u8bae\u89c4\u5b9a,\u8bf7\u6c42\u4ece\u5ba2\u6237\u7aef\u53d1\u51fa,\u6700\u540e\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u8be5\u8bf7\u6c42\u5e76\u8fd4\u56de\u3002\u6362\u53e5\u8bdd\u8bf4,\u80af\u5b9a\u662f\u5148\u4ece\u5ba2\u6237\u7aef\u5f00\u59cb\u5efa\u7acb\u901a\u4fe1\u7684,\u670d\u52a1\u5668\u7aef\u5728\u6ca1\u6709\u63a5\u6536\u5230\u8bf7\u6c42\u4e4b\u524d\u4e0d\u4f1a\u53d1\u9001\u54cd\u5e94 (3) \u65e0\u72b6\u6001\u4fdd\u5b58 HTTP\u662f\u4e00\u79cd\u4e0d\u4fdd\u5b58\u72b6\u6001,\u5373\u65e0\u72b6\u6001(stateless)\u534f\u8bae\u3002HTTP\u534f\u8bae\u81ea\u8eab\u4e0d\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u4e4b\u95f4\u7684\u901a\u4fe1\u72b6\u6001\u8fdb\u884c\u4fdd\u5b58\u3002\u4e5f\u5c31\u662f\u8bf4\u5728HTTP\u8fd9\u4e2a\u7ea7\u522b,\u534f\u8bae\u5bf9\u4e8e\u53d1\u9001\u8fc7\u7684\u8bf7\u6c42\u6216\u54cd\u5e94\u90fd\u4e0d\u505a\u6301\u4e45\u5316\u5904\u7406\u3002 \u4f7f\u7528HTTP\u534f\u8bae,\u6bcf\u5f53\u6709\u65b0\u7684\u8bf7\u6c42\u53d1\u9001\u65f6,\u5c31\u4f1a\u6709\u5bf9\u5e94\u7684\u65b0\u54cd\u5e94\u4ea7\u751f\u3002\u534f\u8bae\u672c\u8eab\u5e76\u4e0d\u4fdd\u7559\u4e4b\u524d\u4e00\u5207\u7684\u8bf7\u6c42\u6216\u54cd\u5e94\u62a5\u6587\u7684\u4fe1\u606f\u3002\u8fd9\u662f\u4e3a\u4e86\u66f4\u5feb\u5730\u5904\u7406\u5927\u91cf\u4e8b\u52a1,\u786e\u4fdd\u534f\u8bae\u7684\u53ef\u4f38\u7f29\u6027,\u800c\u7279\u610f\u628aHTTP\u534f\u8bae\u8bbe\u8ba1\u6210\u5982\u6b64\u7b80\u5355\u7684\u3002 (4) \u77ed\u8fde\u63a5\u548c\u957f\u8fde\u63a5 HTTP1.0\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f\u77ed\u8fde\u63a5\u3002\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u6bcf\u8fdb\u884c\u4e00\u6b21HTTP\u64cd\u4f5c\uff0c\u5c31\u5efa\u7acb\u4e00\u6b21\u8fde\u63a5\uff0c\u4efb\u52a1\u7ed3\u675f\u5c31\u4e2d\u65ad\u8fde\u63a5\u3002 HTTP/1.1\u8d77\uff0c\u9ed8\u8ba4\u4f7f\u7528\u957f\u8fde\u63a5\u3002\u8981\u4f7f\u7528\u957f\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7684HTTP\u9996\u90e8\u7684Connection\u90fd\u8981\u8bbe\u7f6e\u4e3akeep-alive\uff0c\u624d\u80fd\u652f\u6301\u957f\u8fde\u63a5\u3002 HTTP\u957f\u8fde\u63a5\uff0c\u6307\u7684\u662f\u590d\u7528TCP\u8fde\u63a5\u3002\u591a\u4e2aHTTP\u8bf7\u6c42\u53ef\u4ee5\u590d\u7528\u540c\u4e00\u4e2aTCP\u8fde\u63a5\uff0c\u8fd9\u5c31\u8282\u7701\u4e86TCP\u8fde\u63a5\u5efa\u7acb\u548c\u65ad\u5f00\u7684\u6d88\u8017\u3002 ``` \uff083\uff09http\u8bf7\u6c42\u534f\u8bae\u4e0e\u54cd\u5e94\u534f\u8bae http\u534f\u8bae\u5305\u542b\u7531\u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\u5230\u670d\u52a1\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u4e0e\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u5230\u6d4f\u89c8\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u3002\u7528\u4e8eHTTP\u534f\u8bae\u4ea4\u4e92\u7684\u4fe1\u88ab\u4e3aHTTP\u62a5\u6587\u3002\u8bf7\u6c42\u7aef(\u5ba2\u6237\u7aef)\u7684HTTP\u62a5\u6587 \u505a\u8bf7\u6c42\u62a5\u6587,\u54cd\u5e94\u7aef(\u670d\u52a1\u5668\u7aef)\u7684 \u505a\u54cd\u5e94\u62a5\u6587\u3002HTTP\u62a5\u6587\u672c\u8eab\u662f\u7531\u591a\u884c\u6570\u636e\u6784\u6210\u7684\u5b57\u6587\u672c\u3002 \u4e00\u4e2a\u5b8c\u6574\u7684URL\u5305\u62ec\uff1a\u534f\u8bae\u3001ip\u3001\u7aef\u53e3\u3001\u8def\u5f84\u3001\u53c2\u6570 \u4f8b\u5982\uff1a https://www.baidu.com/s?wd=yuan \u5176\u4e2dhttps\u662f\u534f\u8bae\uff0cwww.baidu.com \u662fIP\uff0c\u7aef\u53e3\u9ed8\u8ba480\uff0c/s\u662f\u8def\u5f84\uff0c\u53c2\u6570\u662fwd=yuan \u8bf7\u6c42\u65b9\u5f0f: get\u4e0epost\u8bf7\u6c42 GET\u63d0\u4ea4\u7684\u6570\u636e\u4f1a\u653e\u5728URL\u4e4b\u540e\uff0c\u4ee5?\u5206\u5272URL\u548c\u4f20\u8f93\u6570\u636e\uff0c\u53c2\u6570\u4e4b\u95f4\u4ee5&\u76f8\u8fde\uff0c\u5982EditBook?name=test1&id=123456. POST\u65b9\u6cd5\u662f\u628a\u63d0\u4ea4\u7684\u6570\u636e\u653e\u5728HTTP\u5305\u7684\u8bf7\u6c42\u4f53\u4e2d. GET\u63d0\u4ea4\u7684\u6570\u636e\u5927\u5c0f\u6709\u9650\u5236\uff08\u56e0\u4e3a\u6d4f\u89c8\u5668\u5bf9URL\u7684\u957f\u5ea6\u6709\u9650\u5236\uff09\uff0c\u800cPOST\u65b9\u6cd5\u63d0\u4ea4\u7684\u6570\u636e\u6ca1\u6709\u9650\u5236 \u54cd\u5e94\u72b6\u6001\u7801\uff1a\u72b6\u6001\u7801\u7684\u804c \u662f\u5f53\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u7aef\u53d1\u9001\u8bf7\u6c42\u65f6, \u8fd4\u56de\u7684\u8bf7\u6c42 \u7ed3\u679c\u3002\u501f\u52a9\u72b6\u6001\u7801,\u7528\u6237\u53ef\u4ee5\u77e5\u9053\u670d\u52a1\u5668\u7aef\u662f\u6b63\u5e38 \u7406\u4e86\u8bf7\u6c42,\u8fd8\u662f\u51fa \u73b0\u4e86 \u3002\u72b6\u6001\u7801\u5982200 OK,\u4ee53\u4f4d\u6570\u5b57\u548c\u539f\u56e0\u7ec4\u6210\u3002 \u30102\u3011\u6700\u7b80\u5355\u7684web\u5e94\u7528\u7a0b\u5e8f import socket sock = socket.socket() sock.bind((\"127.0.0.1\", 7777)) sock.listen(3) print(\"\u4eac\u4e1c\u670d\u52a1\u5668\u5df2\u7ecf\u542f\u52a8...\") while 1: conn, addr = sock.accept() data = conn.recv(1024) print(\"data:\", data) conn.send( b\"HTTP/1.1 200 ok\\r\\ncontent-type:text/plain\\r\\n\\r\\n<h1>alex black girl!</h1><img \" b\"src='https://img0.baidu.com/it/u=4011424408,4733765&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=750'>\") conn.close() \u57fa\u4e8epostman\u5b8c\u6210\u6d4b\u8bd5\uff01 \u30103\u3011\u57fa\u4e8eflask\u642d\u5efaweb\u7f51\u7ad9 from flask import Flask, render_template app = Flask(__name__, template_folder=\"templates\") @app.get(\"/index\") def index(): return render_template(\"index.html\") @app.get(\"/timer\") def timer(): import datetime now = datetime.datetime.now().strftime(\"%Y-%m-%d %X\") return render_template(\"timer.html\", **{ \"now\": nowa }) app.run() \u30104\u3011\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\uff08\u91cd\u70b9\uff09 \uff081\uff09Elements \uff082\uff09Network \uff083\uff09Application \u7b2c\u4e8c\u7ae0. \u524d\u7aef\u57fa\u7840\u30103\u3011 2.1 \u3001HTML \u4e86\u89e3\u4e86web\u76f8\u5173\u57fa\u672c\u6982\u5ff5\u4ee5\u540e\uff0c\u6211\u4eec\u5f00\u59cb\u6b63\u5f0f\u63a5\u89e6\u7f51\u9875\u5f00\u53d1\uff0c\u7f51\u9875\u5f00\u53d1\u7684\u57fa\u7840\u662fHTML\uff0c\u6240\u4ee5\uff0c\u672c\u7ae0\u5185\u5bb9\u4e3b\u8981\u5206\u4e24\u90e8\u5206\uff0c\u4e00\u662f\u4ecb\u7ecdHTML\u7684\u76f8\u5173\u6982\u5ff5\u3001\u53d1\u5c55\u5386\u53f2\uff0c\u4e8c\u662f \u521b\u5efaHTML\u7f51\u9875\u6587\u6863\u548c\u8ba4\u8bc6HTML\u7684\u57fa\u672c\u7ed3\u6784\u3002\u6211\u4eec\u5b66\u4f1a\u5982\u4f55\u65b0\u5efa\u4e00\u4e2a HTML \u9875\u9762\u548c\u719f\u8bb0HTML\u6587\u6863\u7684\u57fa\u672c\u7ed3\u6784\u548c\u4e3b\u8981\u6807\u7b7e\u3002 2.1.1\u3001 HTML\u6982\u8ff0 HTML\uff0c\u5373\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\uff08HyperText Markup Language ]\uff09\uff0c\u7531SGML (\u6807\u51c6\u901a\u7528\u6807\u8bb0\u8bed\u8a00) \u53d1\u5c55\u800c\u6765\uff0c\u4e5f\u53ebweb\u9875\u9762\u3002\u6269\u5c55\u540d\u662f .html \u6216\u662f .htm \u3002 HTML\uff0c\u662f\u4e00\u79cd\u7528\u6765\u5236\u4f5c\u7f51\u9875\u7684\u6807\u51c6\u6807\u8bb0\u8bed\u8a00\u3002\u8d85\u6587\u672c\uff0c\u6307\u7684\u5c31\u662f\u8d85\u51fa\u666e\u901a\u6587\u672c\u8303\u7574\u7684\u6587\u6863\uff0c\u53ef\u4ee5\u5305\u542b\u6587\u672c\u3001\u56fe\u7247\u3001\u89c6\u9891\u3001\u97f3\u9891\u3001\u94fe\u63a5\u7b49\u5143\u7d20\u3002 HTML \u4e0d\u662f\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u800c\u662f\u4e00\u79cd\u5199\u7ed9\u7f51\u9875\u6d4f\u89c8\u5668\u3001\u5177\u6709\u63cf\u8ff0\u6027\u7684\u6807\u8bb0\u8bed\u8a00\u3002 \u81ea1990\u5e74\u4ee5\u6765HTML\u5c31\u4e00\u76f4\u88ab\u7528\u4f5cWWW\uff08World Wide Web\u7684\u7f29\u5199\uff0c\u4e5f\u53ef\u7b80\u5199WEB\uff0c\u4e2d\u6587\u53eb\u505a\u4e07\u7ef4\u7f51\uff09\u7684\u4fe1\u606f\u8868\u793a\u8bed\u8a00\uff0c\u4f7f\u7528HTML\u8bed\u8a00\u63cf\u8ff0\u7684\u6587\u4ef6\uff0c\u9700\u8981\u901a\u8fc7\u7f51\u9875\u6d4f\u89c8\u5668\u663e\u793a\u51fa\u6548\u679c\u3002\u7528\u6237\u5728\u8bbf\u95ee\u7f51\u9875\u65f6\uff0c\u662f\u628a\u670d\u52a1\u5668\u7684HTML\u6587\u6863 \u4e0b\u8f7d \u5230\u672c\u5730\u5ba2\u6237\u8bbe\u5907\u4e2d\uff0c\u7136\u540e\u901a\u8fc7\u672c\u5730\u5ba2\u6237\u8bbe\u5907\u7684\u6d4f\u89c8\u5668\u5c06\u6587\u6863\u6309\u987a\u5e8f\u89e3\u91ca\u6e32\u67d3\u6210\u5bf9\u5e94\u7684\u7f51\u9875\u6548\u679c\u3002 \u7f51\u9875\u672c\u8eab\u662f\u4e00\u79cd\u6587\u672c\u6587\u4ef6\uff0c\u901a\u8fc7\u5728\u6587\u672c\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5404\u79cd\u5404\u6837\u7684\u6807\u8bb0\u6807\u7b7e\uff0c\u53ef\u4ee5\u544a\u8bc9 \u6d4f\u89c8\u5668 \u5982\u4f55\u663e\u793a\u6807\u8bb0\u4e2d\u7684\u4ee3\u8868\u7684\u5185\u5bb9\uff0c\u5982\uff1aHTML\u4e2d\u6709\u7684\u6807\u7b7e\u53ef\u4ee5\u544a\u8bc9\u6d4f\u89c8\u5668\u8981\u628a\u5b57\u4f53\u653e\u5927\uff0c\u5c31\u50cfword\u4e00\u6837\uff0c\u4e5f\u6709\u7684\u6807\u7b7e\u53ef\u4ee5\u544a\u8bc9\u6d4f\u89c8\u5668\u663e\u793a\u6307\u5b9a\u7684\u56fe\u7247\uff0c\u8fd8\u6709\u7684\u6807\u7b7e\u53ef\u4ee5\u544a\u8bc9\u6d4f\u89c8\u5668\u628a\u5185\u5bb9\u5c45\u4e2d\u6216\u8005\u503e\u659c\u7b49\u7b49\u3002 \u6bcf\u4e00\u4e2aHTML\u6807\u7b7e\u4ee3\u8868\u7684\u610f\u4e49\u90fd\u4e0d\u4e00\u6837\u3002\u540c\u6837\uff0c\u4ed6\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u8868\u73b0\u51fa\u6765\u7684\u5916\u89c2\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\u3002 2.1.2\u3001 HTML\u7ed3\u6784\u548c\u6807\u7b7e\u683c\u5f0f <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> </body> </html> 1\u3001 <!DOCTYPE html> \u544a\u8bc9\u6d4f\u89c8\u5668\u4f7f\u7528\u4ec0\u4e48\u6837\u7684 html \u6216\u8005 xhtml \u6765\u89e3\u6790 html \u6587\u6863 2\u3001 <html></html> \u662f\u6587\u6863\u7684\u5f00\u59cb\u6807\u8bb0\u548c\u7ed3\u675f\u6807\u8bb0\u3002\u6b64\u5143\u7d20\u544a\u8bc9\u6d4f\u89c8\u5668\u5176\u81ea\u8eab\u662f\u4e00\u4e2a HTML \u6587\u6863\uff0c\u5728\u5b83\u4eec\u4e4b\u95f4\u662f\u6587\u6863\u7684\u5934\u90e8 <head> \u548c\u4e3b\u4f53 <body> \u3002 3\u3001 \u5143\u7d20\u51fa\u73b0\u5728\u6587\u6863\u7684\u5f00\u5934\u90e8\u5206\u3002 \u4e0e \u4e4b\u95f4\u7684\u5185\u5bb9\u4e0d\u4f1a\u5728\u6d4f\u89c8\u5668\u7684\u6587\u6863\u7a97\u53e3\u663e\u793a\uff0c\u4f46\u662f\u5176\u95f4\u7684\u5143\u7d20\u6709\u7279\u6b8a\u91cd\u8981\u7684\u610f\u4e49\u3002 4\u3001 <title></title> \u5b9a\u4e49\u7f51\u9875\u6807\u9898\uff0c\u5728\u6d4f\u89c8\u5668\u6807\u9898\u680f\u663e\u793a\u3002 5\u3001 <meta charset=\"UTF-8\"> \u58f0\u660e\u7f16\u7801\u65b9\u5f0f\u7528utf8 6\u3001 <body></body> \u4e4b\u95f4\u7684\u6587\u672c\u662f\u53ef\u89c1\u7684\u7f51\u9875\u4e3b\u4f53\u5185\u5bb9 2.1.3\u3001\u6807\u7b7e\u7684\u8bed\u6cd5 <\u6807\u7b7e\u540d \u5c5e\u60271=\u201c\u5c5e\u6027\u503c1\u201d \u5c5e\u60272=\u201c\u5c5e\u6027\u503c2\u201d\u2026\u2026>\u5185\u5bb9\u90e8\u5206</\u6807\u7b7e\u540d> <\u6807\u7b7e\u540d \u5c5e\u60271=\u201c\u5c5e\u6027\u503c1\u201d \u5c5e\u60272=\u201c\u5c5e\u6027\u503c2\u201d\u2026\u2026 /> 1\u3001HTML\u6807\u7b7e\u662f\u7531\u5c16\u62ec\u53f7\u5305\u56f4\u7684\u7279\u5b9a\u5173\u952e\u8bcd 2\u3001\u6807\u7b7e\u5206\u4e3a\u95ed\u5408\u548c\u81ea\u95ed\u5408\u4e24\u79cd\u6807\u7b7e 3\u3001HTML\u4e0d\u533a\u5206\u5927\u5c0f\u5199 4\u3001\u6807\u7b7e\u53ef\u4ee5\u6709\u82e5\u5e72\u4e2a\u5c5e\u6027,\u4e5f\u53ef\u4ee5\u4e0d\u5e26\u5c5e\u6027,\u6bd4\u5982 \u5c31\u4e0d\u5e26\u4efb\u4f55\u5c5e\u6027 5\u3001\u6807\u7b7e\u53ef\u4ee5\u5d4c\u5957,\u4f46\u662f\u4e0d\u53ef\u4ee5\u4ea4\u53c9\u5d4c\u5957 XHTML\u662f\u5b9e\u73b0 HTML \u5230 XML\u7684 \u8fc7\u6e21\u3002 2.1.4\u3001\u57fa\u672c\u6807\u7b7e \uff081\uff09\u6807\u9898\u6807\u7b7e <h1>\u6807\u98981</h1> <h2>\u6807\u98982</h2> <h3>\u6807\u98983</h3> <h4>\u6807\u98984</h4> <h5>\u6807\u98985</h5> <h6>\u6807\u98986</h6> \uff082\uff09\u6362\u884c\u6807\u7b7e \u609f\u9053\u4f11\u8a00\u5929\u547d\uff0c<br> \u4fee\u884c\u52ff\u53d6\u771f\u7ecf\u3002<br> \u4e00\u60b2\u4e00\u559c\u4e00\u67af\u8363\uff0c<br> \u54ea\u4e2a\u524d\u751f\u6ce8\u5b9a\uff1f \uff083\uff09\u6bb5\u843d\u6807\u7b7e <p>\u83e9\u63d0\u672c\u65e0\u6811\uff0c</p> <p>\u660e\u955c\u4ea6\u975e\u53f0\u3002</p> <p>\u672c\u6765\u65e0\u4e00\u7269\uff0c</p> <p>\u4f55\u5904\u60f9\u5c18\u57c3\u3002</p> \uff084\uff09\u6587\u672c\u683c\u5f0f\u5316\u6807\u7b7e HTML\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u7528\u4e8e\u683c\u5f0f\u5316\u6587\u672c\u7684\u6807\u7b7e\uff0c\u53ef\u4ee5\u8ba9\u6211\u4eec\u8f93\u51fa\u4e0d\u540c\u5916\u89c2\u7684\u5143\u7d20\uff0c\u6bd4\u5982\u7c97\u4f53\u548c\u659c\u4f53\u5b57\u3002\u5982\u679c\u9700\u8981\u5728\u7f51\u9875\u4e2d\uff0c\u9700\u8981\u8ba9\u67d0\u4e9b\u6587\u672c\u5185\u5bb9\u5c55\u793a\u7684\u6548\u679c\u4e30\u5bcc\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7684\u6807\u7b7e\u6765\u8fdb\u884c\u683c\u5f0f\u5316\u3002 <b>\u5b9a\u4e49\u7c97\u4f53\u6587\u672c</b><br /> <strong>\u5b9a\u4e49\u7c97\u4f53\u6587\u672c\u65b9\u5f0f2</strong><br /> <em>\u5b9a\u4e49\u659c\u4f53\u5b57</em><br /> <i>\u5b9a\u4e49\u659c\u4f53\u5b57\u65b9\u5f0f2</i><br /> <del>\u5b9a\u4e49\u5220\u9664\u6587\u672c</del><br /> \uff085\uff09\u7279\u6b8a\u7b26\u53f7 &reg; &nbsp; &copy; \u6807\u7b7e\u5927\u81f4\u53ef\u5206\u4e3a\u4e24\u7c7b \u5757\u7ea7\u6807\u7b7e(block) -- \u72ec\u5360\u4e00\u884c \u5185\u8054\u6807\u7b7e(inline) -- \u6309\u6587\u672c\u5185\u5bb9\u5360\u4f4d (6\uff09div\u548cspan\u6807\u7b7e <div>\u53ea\u662f\u4e00\u4e2a\u5757\u7ea7\u5143\u7d20\uff0c\u5e76\u65e0\u5b9e\u9645\u7684\u610f\u4e49\u3002\u4e3b\u8981\u901a\u8fc7CSS\u6837\u5f0f\u4e3a\u5176\u8d4b\u4e88\u4e0d\u540c\u7684\u8868\u73b0. <span>\u8868\u793a\u4e86\u5185\u8054\u884c(\u884c\u5185\u5143\u7d20),\u5e76\u65e0\u5b9e\u9645\u7684\u610f\u4e49,\u4e3b\u8981\u901a\u8fc7CSS\u6837\u5f0f\u4e3a\u5176\u8d4b\u4e88\u4e0d\u540c\u7684\u8868\u73b0 \u5757\u7ea7\u5143\u7d20\u4e0e\u884c\u5185\u5143\u7d20\u7684\u533a\u522b\u6240\u8c13\u5757\u5143\u7d20\uff0c\u662f\u4ee5\u53e6\u8d77\u4e00\u884c\u5f00\u59cb\u6e32\u67d3\u7684\u5143\u7d20\uff0c\u884c\u5185\u5143\u7d20\u5219\u4e0d\u9700\u53e6\u8d77\u4e00\u884c\u3002\u5982\u679c\u5355\u72ec\u5728\u7f51\u9875\u4e2d\u63d2\u5165\u8fd9\u4e24\u4e2a\u5143\u7d20\uff0c\u4e0d\u4f1a\u5bf9\u9875\u9762\u4ea7\u751f\u4efb\u4f55\u7684\u5f71\u54cd\u3002\u8fd9\u4e24\u4e2a\u5143\u7d20\u662f\u4e13\u95e8\u4e3a\u5b9a\u4e49CSS\u6837\u5f0f\u800c\u751f\u7684\u3002 2.1.5\u3001\u8d85\u94fe\u63a5\u6807\u7b7e \u8d85\u94fe\u63a5\u57fa\u672c\u4f7f\u7528 \u8d85\u94fe\u63a5\u662f\u6d4f\u89c8\u8005\u548c\u670d\u52a1\u5668\u7684\u4ea4\u4e92\u7684\u4e3b\u8981\u624b\u6bb5\uff0c\u4e5f\u53eb\u8d85\u7ea7\u94fe\u63a5\u6216a\u94fe\u63a5\uff0c\u662f\u7f51\u9875\u4e2d\u6307\u5411\u4e00\u4e2a\u76ee\u6807\u7684\u8fde\u63a5\u5173\u7cfb\uff0c\u8fd9\u4e2a\u76ee\u6807\u53ef\u4ee5\u662f\u7f51\u9875\u3001\u7f51\u9875\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u3001\u56fe\u7247\u3001\u90ae\u4ef6\u5730\u5740\u3001\u6587\u4ef6\u3001\u5e94\u7528\u7a0b\u5e8f\u7b49\u3002 \u8d85\u94fe\u63a5\u662f\u7f51\u9875\u4e2d\u6700\u91cd\u8981\u7684\u5143\u7d20\u4e4b\u4e00\u3002\u4e00\u4e2a\u7f51\u7ad9\u7684\u5404\u4e2a\u7f51\u9875\u5c31\u662f\u901a\u8fc7\u8d85\u94fe\u63a5\u5173\u8054\u8d77\u6765\u7684\uff0c\u7528\u6237\u901a\u8fc7\u70b9\u51fb\u8d85\u94fe\u63a5\u53ef\u4ee5\u4ece\u4e00\u4e2a\u7f51\u9875\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u7f51\u9875\u3002 \u51e0\u4e4e\u53ef\u4ee5\u5728\u6240\u6709\u7684\u7f51\u9875\u4e2d\u627e\u5230\u94fe\u63a5\u3002\u70b9\u51fb\u94fe\u63a5\u53ef\u4ee5\u4ece\u4e00\u5f20\u9875\u9762\u8df3\u8f6c\u5230\u53e6\u4e00\u5f20\u9875\u9762\u3002\u4f8b\u5982,\u5728\u9605\u8bfb\u67d0\u4e2a\u7f51\u7ad9\u65f6\uff0c\u9047\u5230\u4e00\u4e2a\u4e0d\u8ba4\u8bc6\u7684\u82f1\u6587\uff0c\u4f60\u53ea\u8981\u5728\u8fd9\u4e2a\u5355\u8bcd\u4e0a\u5355\u51fb\u4e00\u4e0b\uff0c\u5373\u53ef\u8df3\u8f6c\u5230\u5b83\u7684\u7ffb\u8bd1\u9875\u9762\u4e2d\uff0c\u770b\u5b8c\u5355\u8bcd\u7684\u89e3\u91ca\u540e\u70b9\u4e00\u4e0b\u8fd4\u56de\u6309\u94ae\uff0c\u53c8\u53ef\u7ee7\u7eed\u9605\u8bfb\uff0c\u8fd9\u5c31\u662f\u8d85\u94fe\u63a5\u7684\u5e38\u89c1\u7528\u9014\u3002\u8fd8\u6709\u7ecf\u5e38\u5230\u8d2d\u7269\u7f51\u7ad9\u4e2d\u53bb\uff0c\u6211\u4eec\u90fd\u662f\u5728\u767e\u5ea6\u641c\u7d22\uff0c\u7136\u540e\u70b9\u51fb\u5bf9\u5e94\u7684\u641c\u7d22\u9879\u8fdb\u5165\u5230\u5bf9\u5e94\u7684\u8d2d\u7269\u7f51\u7ad9\u7684\uff0c\u8fd9\u4e5f\u662f\u8d85\u94fe\u63a5\u7684\u4f5c\u7528\u3002\u8d85\u94fe\u63a5\u7684\u5c5e\u6027\uff1a \u5c5e\u6027 \u503c \u63cf\u8ff0 href \u7f51\u7edc\u94fe\u63a5 [ \u4f8b\u5982: http://www.baidu.com ] \u672c\u5730\u94fe\u63a5 [ \u4f8b\u5982\uff1aF:\\html\\index.html ] \u89c4\u5b9a\u94fe\u63a5\u7684\u8df3\u8f6c\u76ee\u6807 title \u767e\u5ea6 \u94fe\u63a5\u7684\u63d0\u793a\u4fe1\u606f target _blank [ \u5728\u65b0\u5efa\u7a97\u53e3\u4e2d\u6253\u5f00\u7f51\u9875 ] _self [ \u9ed8\u8ba4\u503c\uff0c\u8986\u76d6\u81ea\u8eab\u7a97\u53e3\u6253\u5f00\u7f51\u9875 ] _parent [ \u5728\u7236\u7ea7\u6846\u67b6\u4e2d\u6253\u5f00\u7f51\u9875 ] _top [ \u5728\u9876\u7ea7\u6846\u67b6\u4e2d\u6253\u5f00\u7f51\u9875 ] framename [ \u5728\u6307\u5b9a\u7684\u6846\u67b6\u4e2d\u6253\u5f00\u7f51\u9875] \u4e0e\u524d\u9762\u56db\u9879\u56fa\u5b9a\u503c\u4e0d\u540c\uff0cframename\u662f\u6cdb\u6307\uff0c\u5e76\u4e0d\u662f\u8fd9\u4e2a\u503c\uff0c\u8fd9\u70b9\u5c06\u5728\u540e\u9762\u6846\u67b6\u90e8\u5206\u5185\u5bb9\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u53ef\u4ee5\u6682\u65f6\u5148\u7565\u8fc7 1\u3001href\u662f\u8d85\u94fe\u63a5\u6700\u91cd\u8981\u7684\u5c5e\u6027\uff0c\u89c4\u5b9a\u4e86\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u4ee5\u540e\u7684\u8df3\u8f6c\u76ee\u6807\uff0c\u8fd9\u4e2a\u76ee\u6807\u53ef\u4ee5\u662f \u7f51\u7edc\u8fde\u63a5\uff0c\u4e5f\u53ef\u4ee5\u662f\u672c\u5730\u8fde\u63a5\u3002 2\u3001\u7f51\u7edc\u94fe\u63a5\u6307\u7684\u662f\u4f9d\u9760\u7f51\u7edc\u6765\u8fdb\u884c\u5173\u8054\u7684\u5730\u5740\uff0c\u4e00\u822c\u5728\u5730\u5740\u524d\u9762\u662f\u4ee5 http://\u6216\u8005https://\u8fd9\u6837\u5f00\u5934\u7684\uff0c\u5982\u679c\u6ca1\u6709\u7f51\u7edc\uff0c\u5219\u7528\u6237\u70b9\u51fb\u4e86\u8d85\u94fe\u63a5\u4e5f\u65e0\u6cd5\u8bbf\u95ee\u5bf9\u5e94\u7684\u76ee\u6807\u3002 3\u3001\u672c\u5730\u94fe\u63a5\u8df3\u8f6c\u6307\u7684\u662f\u672c\u5730\u8ba1\u7b97\u673a\u7684\u5730\u5740\uff0c\u4e00\u822c\u5728\u5730\u5740\u524d\u9762\u662f\u4ee5 file:///\u5f00\u5934\u6216\u76f4\u63a5\u4ee5 C:/\u3001D:/\u3001E:/\u5f00\u5934\u7684\uff0c\u4e0d\u9700\u8981\u7ecf\u8fc7\u7f51\u7edc\u3002 4\u3001\u5982\u679chref\u7684\u503c\u7559\u7a7a\uff0c\u5219\u9ed8\u8ba4\u662f\u8df3\u8f6c\u5230\u5f53\u524d\u9875\u9762\uff0c\u4e5f\u5c31\u662f\u5237\u65b0\u5f53\u524d\u9875\u9762\u3002 \u951a\u70b9\u5e94\u7528 \u951a\u70b9( anchor )\u662f\u8d85\u94fe\u63a5\u7684\u4e00\u79cd\u5e94\u7528\uff0c\u4e5f\u53eb\u547d\u540d\u951a\u8bb0\uff0c\u951a\u70b9\u53ef\u4ee5\u50cf\u4e00\u4e2a\u5b9a\u4f4d\u5668\u4e00\u6837\uff0c\u53ef\u4ee5\u5b9e\u73b0\u9875\u9762\u5185\u7684\u94fe\u63a5\u8df3\u8f6c\uff0c\u8fd0\u7528\u76f8\u5f53\u666e\u904d\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u7f51\u9875\uff0c\u7531\u4e8e\u5185\u5bb9\u592a\u591a\uff0c\u5bfc\u81f4\u9875\u9762\u5f88\u957f\uff0c\u800c\u4e14\u91cc\u9762\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u5206\u4e3aN\u4e2a\u90e8\u5206\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u7f51\u9875\u7684\u9876\u90e8\u8bbe\u7f6e\u4e00\u4e9b\u951a\u70b9\uff0c\u8fd9\u6837\u4fbf\u53ef\u4ee5\u65b9\u4fbf\u6d4f\u89c8\u8005\u70b9\u51fb\u76f8\u5e94\u7684\u951a\u70b9\uff0c\u5230\u8fbe\u672c\u9875\u5185\u76f8\u5e94\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5fc5\u5728\u4e00\u4e2a\u5f88\u957f\u7684\u7f51\u9875\u91cc\u81ea\u884c\u5bfb\u627e\u3002\u53c8\u4f8b\u5982\uff0c\u6211\u4eec\u9875\u9762\u4e2d\uff0c\u6709\u4e2a\u94fe\u63a5\u9700\u8981\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u9875\u9762\u7684\u4e2d\u95f4\u6216\u8005\u811a\u90e8\u53bb\uff0c\u8fd9\u65f6\u5019\u4e5f\u53ef\u4ee5\u8fd0\u7528\u4e0a\u951a\u70b9\u6280\u672f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u951a\u70b9\u7684\u4f7f\u7528</title> </head> <body> <a href=\"#i1\">\u7b2c\u4e00\u7ae0</a> <a href=\"#i2\">\u7b2c\u4e8c\u7ae0</a> <a href=\"#i3\">\u7b2c\u4e09\u7ae0</a> <div id=\"i1\"> <p>\u7b2c\u4e00\u7ae0\u5185\u5bb9</p> </div> <div id=\"i2\"> <p>\u7b2c\u4e8c\u7ae0\u5185\u5bb9</p> </div> <div id=\"i3\"> <p> \u7b2c\u4e09\u7ae0\u5185\u5bb9</p> </div> </body> </html> 2.1.6\u3001img\u6807\u7b7e \u5728HTML\u4e2d\uff0c\u56fe\u50cf\u7531 \u6807\u7b7e\u5b9a\u4e49\u7684\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u52a0\u8f7d\u56fe\u7247\u5230html\u7f51\u9875\u4e2d\u663e\u793a\u3002\u7f51\u9875\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4e09\u79cd\u56fe\u7247\u683c\u5f0f\u88ab\u5e7f\u6cdb\u5e94\u7528\u5230web\u91cc\uff0c\u5206\u522b\u662f jpg\u3001png\u3001gif\u3002 img\u6807\u7b7e\u7684\u5c5e\u6027\uff1a /* src\u5c5e\u6027\uff1a \u6307\u5b9a\u56fe\u50cf\u7684URL\u5730\u5740\uff0c\u662f\u82f1\u6587source\u7684\u7b80\u5199\uff0c\u8868\u793a\u5f15\u5165\u8d44\u6e90\u3002 src\u7684\u503c\u53ef\u4ee5\u662f\u672c\u5730\u8ba1\u7b97\u673a\u5b58\u50a8\u7684\u56fe\u7247\u7684\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u662f\u7f51\u7edc\u4e0a\u5916\u90e8\u7f51\u7ad9\u7684\u56fe\u7247\u7684\u5730\u5740\u3002 \u5982\u679csrc\u7684\u503c\u4e0d\u6b63\u786e\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u65e0\u6cd5\u6b63\u786e\u7684\u56fe\u7247\uff0c\u800c\u662f\u663e\u793a\u4e00\u5f20\u88c2\u56fe\u3002 alt\u5c5e\u6027\uff1a\u6307\u5b9a\u56fe\u50cf\u65e0\u6cd5\u663e\u793a\u65f6\u7684\u66ff\u6362\u6587\u672c\u3002\u5f53\u56fe\u50cf\u663e\u793a\u9519\u8bef\u65f6\uff0c\u5728\u56fe\u50cf\u4f4d\u7f6e\u4e0a\u663e\u793aalt\u7684\u503c\u3002\u5982\u4e0a\u6240\u793a\uff0c\u5c31\u662f\u8c37\u6b4c\u6d4f\u89c8\u5668\u4e2d\uff0c\u5f15\u5165\u56fe\u50cf\u5931\u8d25\u540e\uff0c\u663e\u793a\u4e86\u66ff\u6362\u6587\u672c\u3002alt\u5c5e\u6027\u4e00\u822c \u4f5c\u4e3aSEO\u4f18\u5316\u7684\u624b\u6bb5\u4e4b\u4e00\uff0c\u6240\u4ee5\uff0c\u4f7f\u7528\u4e86img\u6807\u7b7e\u5c31\u9700\u8981\u52a0\u4e0aalt\u5c5e\u6027\u3002 width\u5c5e\u6027\uff1a \u6307\u5b9a\u5f15\u5165\u56fe\u7247\u7684\u663e\u793a\u5bbd\u5ea6\u3002 height\u5c5e\u6027\uff1a\u6307\u5b9a\u5f15\u5165\u56fe\u7247\u7684\u663e\u793a\u9ad8\u5ea6\u3002 border\u5c5e\u6027\uff1a\u6307\u5b9a\u5f15\u5165\u56fe\u7247\u7684\u8fb9\u6846\u5bbd\u5ea6\uff0c\u9ed8\u8ba4\u4e3a0\u3002 title\u5c5e\u6027\uff1a\u60ac\u6d6e\u56fe\u7247\u4e0a\u7684\u63d0\u793a\u6587\u5b57 */ \u70b9\u51fb\u56fe\u7247\u8df3\u8f6c\u53ef\u4ee5\u914d\u5408a\u6807\u7b7e\u4f7f\u7528 <a><img src=\"\" alt=\"\"></a> 2.1.7\u3001\u5217\u8868\u6807\u7b7e <ul type=\"square\"> <li>item1</li> <li>item2</li> <li>item3</li> </ul> <ol start=\"100\"> <li>item1</li> <li>item2</li> <li>item3</li> </ol> 2.1.8\u3001\u8868\u683c\u6807\u7b7e \u5728HTML\u4e2d\u4f7f\u7528table\u6765\u5b9a\u4e49\u8868\u683c\u3002\u7f51\u9875\u7684\u8868\u683c\u548c\u529e\u516c\u8f6f\u4ef6\u91cc\u9762\u7684xls\u4e00\u6837\uff0c\u90fd\u662f\u6709\u884c\u6709\u5217\u7684\u3002HTML\u4f7f\u7528tr\u6807\u7b7e\u5b9a\u4e49\u884c\uff0c\u4f7f\u7528td\u6807\u7b7e\u5b9a\u4e49\u5217\u3002 \u8bed\u6cd5\uff1a <table border=\"1\"> <tr> <td>\u5355\u5143\u683c\u7684\u5185\u5bb9</td> \u2026\u2026 </tr> \u2026\u2026 </table> 1\u3001 <table> \u548c </table> \u8868\u793a\u4e00\u4e2a\u8868\u683c\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002\u4e00\u7ec4 <table>...</table> \u8868\u793a\u4e00\u4e2a\u8868\u683c\u3002 2\u3001border\u7528\u4e8e\u8bbe\u7f6e\u6574\u4e2a\u8868\u683c\u7684\u8fb9\u6846\u5bbd\u5ea6\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u4e0d\u663e\u793a\u8fb9\u6846\u3002 3\u3001 <tr> \u548c </tr> \u8868\u793a\u8868\u683c\u4e2d\u7684\u4e00\u884c\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002\u4e00\u7ec4 <tr>...</tr> \uff0c\u4e00\u4e2a\u8868\u683c\u53ef\u4ee5\u6709\u591a\u884c\u3002\u901a\u8fc7\u8ba1\u7b97table\u6807\u7b7e\u4e2d\u5305\u542b\u591a\u5c11\u5bf9tr\u5b50\u6807\u7b7e\u5373\u53ef\u77e5\u9053\u4e00\u4e2a\u8868\u683c\u6709\u591a\u5c11\u884c\u3002 4\u3001 <td> \u548c </td> \u8868\u793a\u8868\u683c\u4e2d\u7684\u4e00\u4e2a\u5355\u5143\u683c\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002\u901a\u8fc7\u8ba1\u7b97\u4e00\u4e2atr\u91cc\u9762\u5305\u542b\u4e86\u591a\u5c11\u5bf9td\u81ea\u6807\u7b7e\u5373\u53ef\u77e5\u9053\u4e00\u4e2a\u8868\u683c\u6709\u591a\u5c11\u5217\uff0c\u591a\u5c11\u7684\u5355\u5143\u683c\u4e86\u3002 table\u5c5e\u6027 \u5c5e\u6027 \u503c \u63cf\u8ff0 width px\u3001% \u89c4\u5b9a\u8868\u683c\u7684\u5bbd\u5ea6\u3002 height px\u3001% \u89c4\u5b9a\u8868\u683c\u7684\u9ad8\u5ea6\u3002 align left\u3001center\u3001right \u89c4\u5b9a\u8868\u683c\u76f8\u5bf9\u5468\u56f4\u5143\u7d20\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002 bgcolor rgb(x,x,x)\u3001#xxxxxx\u3001colorname \u89c4\u5b9a\u8868\u683c\u7684\u80cc\u666f\u989c\u8272\u3002 background url \u89c4\u5b9a\u8868\u683c\u7684\u80cc\u666f\u56fe\u7247\u3002 border px \u89c4\u5b9a\u8868\u683c\u8fb9\u6846\u7684\u5bbd\u5ea6\u3002 cellpadding px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u8fb9\u6846\u4e0e\u5176\u5185\u5bb9\u4e4b\u95f4\u7684\u7a7a\u767d\u3002 cellspacing px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u4e4b\u95f4\u7684\u7a7a\u9699\u3002 td\u5c5e\u6027 \u8868\u683c\u4e2d\u9664\u4e86\u884c\u5143\u7d20\u4ee5\u5916\uff0c\u8fd8\u6709\u5355\u5143\u683c\uff0c\u5355\u5143\u683c\u7684\u5c5e\u6027\u548c\u884c\u7684\u5c5e\u6027\u7c7b\u4f3c\u3002td\u548cth\u90fd\u662f\u5355\u5143\u683c\u3002 \u5c5e\u6027 \u503c \u63cf\u8ff0 height px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u7684\u9ad8\u5ea6\u3002 width px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u7684\u5bbd\u5ea6\u3002 align left\u3001center\u3001right \u89c4\u5b9a\u5355\u5143\u683c\u5185\u5bb9\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002 valign top\u3001middle\u3001bottom \u89c4\u5b9a\u5355\u5143\u683c\u5185\u5bb9\u7684\u5782\u76f4\u5bf9\u9f50\u65b9\u5f0f\u3002 bgcolor rgb(x,x,x)\u3001#xxxxxx\u3001colorname \u89c4\u5b9a\u5355\u5143\u683c\u7684\u80cc\u666f\u989c\u8272\u3002 background url \u89c4\u5b9a\u5355\u5143\u683c\u7684\u80cc\u666f\u56fe\u7247\u3002 rowspan number \u89c4\u5b9a\u5355\u5143\u683c\u5408\u5e76\u7684\u884c\u6570 colspan number \u89c4\u5b9a\u5355\u5143\u683c\u5408\u5e76\u7684\u5217\u6570 2.1.9\u3001\u8868\u5355\u6807\u7b7e \u8868\u5355\u4e3b\u8981\u662f\u7528\u6765\u6536\u96c6\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u63d0\u4f9b\u4e86\u7528\u6237\u6570\u636e\u5f55\u5165\u7684\u65b9\u5f0f\uff0c\u6709\u591a\u9009\u3001\u5355\u9009\u3001\u5355\u884c\u6587\u672c\u3001\u4e0b\u62c9\u5217\u8868\u7b49\u8f93\u5165\u6846\uff0c\u4fbf\u4e8e\u7f51\u7ad9\u7ba1\u7406\u5458\u6536\u96c6\u7528\u6237\u7684\u6570\u636e\uff0c\u662fWeb\u6d4f\u89c8\u5668\u548cWeb\u670d\u52a1\u5668\u4e4b\u95f4\u5b9e\u73b0\u4fe1\u606f\u4ea4\u6d41\u548c\u6570\u636e\u4f20\u9012\u7684\u6865\u6881. \u8868\u5355\u88abform\u6807\u7b7e\u5305\u542b\uff0c\u5185\u90e8\u4f7f\u7528\u4e0d\u540c\u7684\u8868\u5355\u5143\u7d20\u6765\u5448\u73b0\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u4f9b\u7528\u6237\u8f93\u5165\u6216\u9009\u62e9\u3002\u5f53\u7528\u6237\u8f93\u5165\u597d\u6570\u636e\u540e\uff0c\u5c31\u53ef\u4ee5\u628a\u8868\u5355\u6570\u636e\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7aef\u3002 \u4e00\u4e2a\u8868\u5355\u5143\u7d20\u6709\u4e09\u4e2a\u57fa\u672c\u7ec4\u6210\u90e8\u5206\uff1a \u8868\u5355\u6807\u7b7e\uff0c\u5305\u542b\u4e86\u8868\u5355\u5904\u7406\u7a0b\u5e8f\u6240\u5728\u7684URL\u4ee5\u53ca\u6570\u636e\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7684\u65b9\u6cd5\u7b49\u8868\u5355\u4fe1\u606f\u3002 \u8868\u5355\u57df\uff0c\u5305\u542b\u4e86\u6587\u672c\u6846\u3001\u5bc6\u7801\u6846\u3001\u9690\u85cf\u57df\u3001\u591a\u884c\u6587\u672c\u6846\u3001\u590d\u9009\u6846\u3001\u5355\u9009\u6846\u3001\u4e0b\u62c9\u9009\u62e9\u6846\u548c\u6587\u4ef6\u4e0a\u4f20\u6846\u7b49\u8868\u5355\u63a7\u4ef6\u3002 \u8868\u5355\u6309\u94ae\uff0c\u5305\u62ec\u63d0\u4ea4\u6309\u94ae\u3001\u590d\u4f4d\u6309\u94ae\u548c\u4e00\u822c\u6309\u94ae\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u4f20\u9001\u5230\u670d\u52a1\u5668\u4e0a\u7684CGI\u811a\u672c\u6216\u8005\u53d6\u6d88\u8f93\u5165\uff0c\u8fd8\u53ef\u4ee5\u7528\u8868\u5355\u6309\u94ae\u6765\u63a7\u5236\u5176\u4ed6\u5b9a\u4e49\u4e86\u5904\u7406\u811a\u672c\u7684\u5904\u7406\u5de5\u4f5c\u3002 \u5728HTML\u4e2d\u521b\u5efa\u8868\u5355\u7528form\u6807\u7b7e\u3002\u6bcf\u4e2a\u8868\u5355\u90fd\u53ef\u4ee5\u5305\u542b\u4e00\u5230\u591a\u4e2a\u8868\u5355\u57df\u6216\u6309\u94ae\u3002form\u6807\u7b7e\u5c5e\u6027\uff1a \u5c5e\u6027 \u503c \u63cf\u8ff0 action \u8bbf\u95ee\u670d\u52a1\u5668\u5730\u5740 \u670d\u52a1\u5668\u7aef\u8868\u5355\u5904\u7406\u7a0b\u5e8f\u7684URL\u5730\u5740 method post\u3001get[\u9ed8\u8ba4\u503c] \u8868\u5355\u6570\u636e\u7684\u63d0\u4ea4\u65b9\u6cd5 target \u53c2\u8003\u8d85\u94fe\u63a5\u7684target\u5c5e\u6027 \u8868\u5355\u6570\u636e\u63d0\u4ea4\u65f6URL\u7684\u6253\u5f00\u65b9\u5f0f enctype application/x-www-form-urlencoded[\u9ed8\u8ba4\u503c] multipart/form-data [\u7528\u4e8e\u6587\u4ef6\u4e0a\u4f20] text/plain [\u7528\u4e8e\u7eaf\u6587\u672c\u6570\u636e\u53d1\u9001] \u8868\u5355\u63d0\u4ea4\u6570\u636e\u65f6\u7684\u7f16\u7801\u65b9\u5f0f <h3>\u7528\u6237\u6ce8\u518c</h3> <form action=\"http://127.0.0.1:8800\" method=\"get\"> <p><label for=\"user\">\u59d3\u540d</label>\uff1a <input type=\"text\" name=\"user\" id=\"user\"></p> <p>\u5bc6\u7801\uff1a <input type=\"password\" name=\"pwd\"></p> <p>\u7231\u597d\uff1a <input type=\"checkbox\" name=\"hobby\" value=\"basketball\">\u7bee\u7403 <input type=\"checkbox\" name=\"hobby\" value=\"football\">\u8db3\u7403 <input type=\"checkbox\" name=\"hobby\" value=\"shuangseqiu\" checked>\u53cc\u8272\u7403 </p> <p>\u6027\u522b\uff1a <input type=\"radio\" name=\"gender\" value=\"men\">\u7537 <input type=\"radio\" name=\"gender\" value=\"female\">\u5973 <input type=\"radio\" name=\"gender\" value=\"qita\">\u5176\u4ed6 </p> <p>\u751f\u65e5\uff1a<input type=\"date\" name=\"birth\"></p> <p>\u7c4d\u8d2f\uff1a <select name=\"province\" id=\"\" multiple size=\"2\"> <option value=\"\">\u5e7f\u4e1c\u7701</option> <option value=\"\" selected>\u5c71\u4e1c\u7701</option> <option value=\"\">\u6cb3\u5317\u7701</option> </select> </p> <p> <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"\u4e2a\u4eba\u7b80\u4ecb\"></textarea> </p> <div> <p><input type=\"reset\" value=\"\u91cd\u7f6e\"></p> <p><input type=\"button\" value=\"\u666e\u901a\u6309\u94ae\"></p> <p><button>\u666e\u901a\u6309\u94ae</button></p> <p><input type=\"submit\" value=\"\u63d0\u4ea4\"></p> </div> </form> 2.2 \u3001CSS CSS\u5c31\u662fCascading Style Sheet\u7684\u7f29\u5199\uff0c\u4e2d\u6587\u8bd1\u4f5c\u201c\u5c42\u53e0\u6837\u5f0f\u8868\u201d\u6216\u8005\u662f\u201c\u7ea7\u8054\u6837\u5f0f\u8868\u201d\uff0c\u662f\u7528\u4e8e\u63a7\u5236\u7f51\u9875\u5916\u89c2\u5904\u7406\u5e76\u5141\u8bb8\u5c06\u7f51\u9875\u7684\u8868\u73b0\u4e0e\u5185\u5bb9\u5206\u79bb\u7684\u4e00\u79cd\u6807\u8bb0\u6027\u8bed\u8a00\uff0cCSS\u4e0d\u9700\u8981\u7f16\u8bd1,\u53ef\u4ee5\u76f4\u63a5\u7531\u6d4f\u89c8\u5668\u6267\u884c(\u5c5e\u4e8e\u6d4f\u89c8\u5668\u89e3\u91ca\u578b\u8bed\u8a00)\uff0c\u662fWeb\u7f51\u9875\u5f00\u53d1\u6280\u672f\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002 \u90a3\u4e48\u63a5\u4e0b\u6765\uff0c\u7ee7\u7eed\u770b\u4e0b\uff0c\u4f7f\u7528CSS\u6709\u4ec0\u4e48\u597d\u5904\u5427\u3002 \u4f7f\u7528CSS\u6837\u5f0f\u53ef\u4ee5\u6709\u6548\u5730\u5bf9\u9875\u9762\u8fdb\u884c\u5e03\u5c40\uff0c\u66f4\u52a0\u7075\u6d3b\u591a\u6837\u3002 \u4f7f\u7528CSS\u6837\u5f0f\u53ef\u4ee5\u5bf9\u9875\u9762\u5b57\u4f53\u3001\u989c\u8272\u3001\u80cc\u666f\u548c\u5176\u4ed6\u6548\u679c\u5b9e\u73b0\u7cbe\u786e\u63a7\u5236\uff0c\u540c\u65f6\u5bf9\u5b83\u4eec\u7684\u4fee\u6539\u548c\u63a7\u5236\u53d8\u5f97\u66f4\u52a0\u5feb\u6377\uff0c\u66f4\u52a0\u5f3a\u5927\u3002 \u7ad9\u70b9\u4e2d\u6240\u6709\u7684\u7f51\u9875\u98ce\u683c\u90fd\u4f7f\u7528\u4e00\u4e2aCSS\u6587\u4ef6\u8fdb\u884c\u7edf\u4e00\u63a7\u5236\uff0c\u8fbe\u5230\u4e00\u6539\u5168\u6539\u3002\u8fd8\u53ef\u4ee5\u5feb\u901f\u5207\u6362\u4e3b\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u628aHTML\u6bd4\u4f5c\u662f\u9aa8\u67b6\uff0cCSS\u662f\u8863\u670d\u3002\u540c\u4e00\u4e2aHTML\u9aa8\u67b6\u7ed3\u6784\uff0c\u4e0d\u540cCSS\u6837\u5f0f\uff0c\u6240\u5f97\u5230\u7684\u7f8e\u5316\u5e03\u5c40\u6548\u679c\u4e0d\u540c\u3002 CSS\u53ef\u4ee5\u652f\u6301\u591a\u79cd\u8bbe\u5907,\u6bd4\u5982\u624b\u673a,PDA,\u6253\u5370\u673a,\u7535\u89c6\u673a,\u6e38\u620f\u673a\u7b49\u3002 CSS\u53ef\u4ee5\u5c06\u7f51\u9875\u7684\u8868\u73b0\u4e0e\u7ed3\u6784\u5206\u79bb\uff0c\u4f7f\u9875\u9762\u8f7d\u5165\u5f97\u66f4\u5feb,\u66f4\u5229\u4e8e\u7ef4\u62a4\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u7684\u3002 CSS\u57fa\u672c\u8bed\u6cd5: CSS\u7684\u57fa\u672c\u8bed\u6cd5\u7531\u9009\u62e9\u5668\u3001\u5c5e\u6027\u3001\u5c5e\u6027\u7684\u503c\u7ec4\u6210\uff0c\u5982\u679c\u9009\u62e9\u7b26\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u7531\u5206\u53f7\u9694\u5f00\u3002 \u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u4ee3\u7801\u90fd\u662f\u82f1\u6587\u683c\u5f0f\uff0c\u4f8b\u5982\u82b1\u62ec\u53f7\u3001\u5192\u53f7\u548c\u5206\u53f7\u3002 2.2.1\u3001CSS\u7684\u5f15\u5165\u65b9\u5f0f CSS\u6837\u5f0f\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u5206\u522b\u662f\u884c\u5185\u6837\u5f0f\uff0c\u5d4c\u5165\u6837\u5f0f\u4ee5\u53ca\u94fe\u63a5\u5f0f\u3002\u6211\u4eec\u9700\u8981\u6839\u636e\u4e0d\u540c\u7684\u573a\u5408\u4e0d\u540c\u7684\u9700\u6c42\u6765\u4f7f\u7528\u4e0d\u540c\u7684\u6837\u5f0f\u3002 \u884c\u5185\u6837\u5f0f \u884c\u5185\u6837\u5f0f\uff0c\u5c31\u662f\u5199\u5728\u5143\u7d20\u7684style\u5c5e\u6027\u4e2d\u7684\u6837\u5f0f\uff0c\u8fd9\u79cd\u6837\u5f0f\u4ec5\u9650\u4e8e\u5143\u7d20\u5185\u90e8\u8d77\u4f5c\u7528\u3002\u5f53\u4e2a\u522b\u5143\u7d20\u9700\u8981\u5e94\u7528\u7279\u6b8a\u6837\u5f0f\u65f6\u5c31\u53ef\u4ee5\u4f7f\u7528\u5185\u8054\u6837\u5f0f\u3002\u4f46\u4e0d\u63a8\u8350\u5927\u91cf\u4f7f\u7528\u5185\u8054\u6837\u5f0f\uff0c\u56e0\u4e3a\u90a3\u6837\u4e0d\u5229\u4e8e\u540e\u671f\u7ef4\u62a4\u3002 <div style=\"color: white;background-color: #369;text-align: center\">\u884c\u5185\u8bbe\u7f6e</div> \u5d4c\u5165\u5f0f \u5d4c\u5165\u5f0f\uff0c\u662f\u628aCSS\u6837\u5f0f\u5199\u5728HTML\u6587\u6863\u5185\u90e8head\u6807\u7b7e\u4e2d\u7684style\u6807\u7b7e\u91cc\u3002\u6d4f\u89c8\u5668\u52a0\u8f7dHTML\u7684\u540c\u65f6\u5c31\u5df2\u7ecf\u52a0\u8f7d\u4e86CSS\u6837\u5f0f\u4e86\u3002\u5f53\u5355\u4e2a\u6587\u6863\u9700\u8981\u7279\u6b8a\uff0c\u5355\u72ec\u7684\u6837\u5f0f\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u90e8\u6837\u5f0f\u8868\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u951a\u70b9\u7684\u4f7f\u7528</title> <meta charset=\"utf8\"> <style> div{ color: white; background-color: #369; text-align: center } </style> </head> <body> <div> \u5d4c\u5165\u5f0f</div> </body> </html> \u94fe\u63a5\u5f0f \u94fe\u63a5\u5f0f\uff0c\u5c31\u662f\u628aCSS\u6837\u5f0f\u5199\u5728HTML\u6587\u6863\u7684\u5916\u90e8\uff0c\u4e00\u4e2a\u540e\u7f00\u4e3a .css \u7684\u5916\u90e8\u6837\u5f0f\u8868\u4e2d\uff0c\u7136\u540e\u4f7f\u7528\u65f6\u5728head\u6807\u7b7e\u4e2d\uff0c\u4f7f\u7528link\u6807\u7b7e\u7684href\u5c5e\u6027\u5f15\u5165\u6587\u4ef6\u5373\u53ef\u3002\u5f53CSS\u6837\u5f0f\u9700\u8981\u5e94\u7528\u5728\u5f88\u591a\u9875\u9762\u65f6\uff0c\u5916\u90e8\u6837\u5f0f\u8868\u662f\u6700\u7406\u60f3\u7684\u9009\u62e9\u3002\u5728\u4f7f\u7528\u5916\u90e8\u6837\u5f0f\u8868\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u4e00\u4e2a\u6587\u4ef6\u6765\u6539\u53d8\u8fd9\u6240\u6709\u9875\u9762\u7684\u5916\u89c2\u3002 common.css div{ color: white; background-color: #369; text-align: center } html\u6587\u4ef6 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u951a\u70b9\u7684\u4f7f\u7528</title> <meta charset=\"utf8\"> <link rel=\"stylesheet\" href=\"common.css\"> </head> <body> <div>\u94fe\u63a5\u5f0f</div> </body> </html> 2.2.2\u3001CSS\u7684\u9009\u62e9\u5668 \u57fa\u672c\u9009\u62e9\u5668 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> #i1{ color: red; } .c1{ color: red; } .c2{ font-size: 32px; } </style> </head> <body> <div id=\"i1\">item1</div> <div id=\"i2\">item2</div> <div id=\"i3\">item3</div> <div class=\"c1 c2\">item4</div> <div class=\"c1\">item5</div> <div class=\"c1\">item6</div> </body> </html> \u7ec4\u5408\u9009\u62e9\u5668 \u540e\u4ee3\u5b50\u4ee3\u9009\u62e9\u5668 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u540e\u4ee3\u9009\u62e9\u5668*/ .c1 .c2{ color: red; } /*\u5b50\u4ee3\u9009\u62e9\u5668*/ .c3 .c5{ color: red; } .c3 > .c5{ color: red; } .c3 .c4 .c5{ color: red; } </style> </head> <body> <!--\u540e\u4ee3\u9009\u62e9\u5668--> <div class=\"c1\"> <div class=\"c2\">item1</div> </div> <div class=\"c2\">item2</div> <!--\u5b50\u4ee3\u9009\u62e9\u5668--> <div class=\"c3\"> <div class=\"c4\"> <div class=\"c5\">item3</div> </div> <div class=\"c5\">item4</div> </div> </body> </html> \u4e0e\u6216\u9009\u62e9\u5668 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u4e0e\u9009\u62e9\u5668*/ p.c1{ color: red; } /*\u6216\u9009\u62e9\u5668*/ p.c1,#i1{ color: red; } </style> </head> <body> <!--\u4e0e\u9009\u62e9\u5668--> <div class=\"c1\">item1</div> <p class=\"c1\">item2</p> <div>item3</div> <p id=\"i1\">item4</p> </body> </html> \u5144\u5f1f\u9009\u62e9\u5668 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u6bd7\u90bb\u9009\u62e9\u5668*/ #i1 + div.c1{ color: red; } #i1 + div.c2{ color: red; } /*\u5144\u5f1f\u9009\u62e9\u5668*/ #i1 ~ div.c2{ color: red; } #i1 ~ div{ color: red; } </style> </head> <body> <p id=\"i1\">item0</p> <div class=\"c1\">item1</div> <div class=\"c2\">item2</div> <div class=\"c3\">item3</div> <div class=\"c4\">item4</div> </body> </html> \u5c5e\u6027\u9009\u62e9\u5668 /* E[att] \u5339\u914d\u6240\u6709\u5177\u6709att\u5c5e\u6027\u7684E\u5143\u7d20\uff0c\u4e0d\u8003\u8651\u5b83\u7684\u503c\u3002\uff08\u6ce8\u610f\uff1aE\u5728\u6b64\u5904\u53ef\u4ee5\u7701\u7565\u3002 \u6bd4\u5982\u201c[cheacked]\u201d\u3002\u4ee5\u4e0b\u540c\u3002\uff09 p[title] { color:#f00; } E[att=val] \u5339\u914d\u6240\u6709att\u5c5e\u6027\u7b49\u4e8e\u201cval\u201d\u7684E\u5143\u7d20 div[class=\u201derror\u201d] { color:#f00; } E[att~=val] \u5339\u914d\u6240\u6709att\u5c5e\u6027\u5177\u6709\u591a\u4e2a\u7a7a\u683c\u5206\u9694\u7684\u503c\u3001\u5176\u4e2d\u4e00\u4e2a\u503c\u7b49\u4e8e\u201cval\u201d\u7684E\u5143\u7d20 td[class~=\u201dname\u201d] { color:#f00; } E[attr^=val] \u5339\u914d\u5c5e\u6027\u503c\u4ee5\u6307\u5b9a\u503c\u5f00\u5934\u7684\u6bcf\u4e2a\u5143\u7d20 div[class^=\"test\"]{background:#ffff00;} E[attr$=val] \u5339\u914d\u5c5e\u6027\u503c\u4ee5\u6307\u5b9a\u503c\u7ed3\u5c3e\u7684\u6bcf\u4e2a\u5143\u7d20 div[class$=\"test\"]{background:#ffff00;} E[attr*=val] \u5339\u914d\u5c5e\u6027\u503c\u4e2d\u5305\u542b\u6307\u5b9a\u503c\u7684\u6bcf\u4e2a\u5143\u7d20 div[class*=\"test\"]{background:#ffff00;}*/ <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u5c5e\u6027\u9009\u62e9\u5668*/ [type=\"text\"]{ border: 1px solid red; } [index]{ font-size: 32px; font-style: italic; } [href*=\"png\"]{ color: red; } </style> </head> <body> <input type=\"text\"> <input type=\"password\"> <div index=\"1\">1</div> <div index=\"2\">2</div> <div index=\"3\">3</div> <ul> <li><a href=\"1.png\">item1</a></li> <li><a href=\"2.jpg\">item2</a></li> <li><a href=\"3.jpg\">item3</a></li> <li><a href=\"4.png\">item4</a></li> <li><a href=\"5.gif\">item5</a></li> </ul> </body> </html> \u4f2a\u7c7b\u9009\u62e9\u5668 anchor\u4f2a\u7c7b\uff1a\u4e13\u7528\u4e8e\u63a7\u5236\u94fe\u63a5\u7684\u663e\u793a\u6548\u679c :link a:link \u9009\u62e9\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u7684\u94fe\u63a5\u3002 :visited a:visited \u9009\u62e9\u6240\u6709\u5df2\u88ab\u8bbf\u95ee\u7684\u94fe\u63a5\u3002 :active a:active \u9009\u62e9\u6d3b\u52a8\u94fe\u63a5\u3002 :hover a:hover \u9009\u62e9\u9f20\u6807\u6307\u9488\u4f4d\u4e8e\u5176\u4e0a\u7684\u94fe\u63a5\u3002 <style> a:link{ color: red; } a:visited{ color: coral; } a:hover{ color: blue; } a:active{ color: rebeccapurple; } </style> before after\u4f2a\u7c7b :first-child p:first-child \u9009\u62e9\u5c5e\u4e8e\u7236\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5b50\u5143\u7d20\u7684\u6bcf\u4e2a \u5143\u7d20\u3002 :last-child p:last-child \u9009\u62e9\u5c5e\u4e8e\u5176\u7236\u5143\u7d20\u6700\u540e\u4e00\u4e2a\u5b50\u5143\u7d20\u6bcf\u4e2a \u5143\u7d20\u3002 :before p:before \u5728\u6bcf\u4e2a \u5143\u7d20\u7684\u5185\u5bb9\u4e4b\u524d\u63d2\u5165\u5185\u5bb9\u3002 :after p:after \u5728\u6bcf\u4e2a \u5143\u7d20\u7684\u5185\u5bb9\u4e4b\u540e\u63d2\u5165\u5185\u5bb9\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> .c1 p:first-child{ color: red; } .c1 div:last-child{ color: red; } p#i1:after{ content:\"hello\"; color:red; display: block; } </style> </head> <body> <div class=\"c1\"> <p>item1</p> <p>item1</p> <div>item1</div> <p>item1</p> </div> <p id=\"i1\">p\u6807\u7b7e</p> </body> </html> \u6837\u5f0f\u7ee7\u627f CSS\u7684\u6837\u5f0f\u8868\u7ee7\u627f\u6307\u7684\u662f\uff0c\u7279\u5b9a\u7684CSS\u5c5e\u6027\u5411\u4e0b\u4f20\u9012\u5230\u5b50\u5b59\u5143\u7d20\u3002\u603b\u7684\u6765\u8bf4\uff0c\u4e00\u4e2aHTML\u6587\u6863\u5c31\u662f\u4e00\u4e2a\u5bb6\u65cf\uff0c\u7136\u540ehtml\u5143\u7d20\u6709\u4e24\u4e2a\u5b50\u5143\u7d20\uff0c\u76f8\u5f53\u4e8e\u5b83\u7684\u513f\u5b50\uff0c\u5206\u522b\u662fhead\u548cbody\uff0c\u7136\u540ebody\u548chead\u5404\u81ea\u8fd8\u4f1a\u6709\u81ea\u5df1\u7684\u513f\u5b50\uff0c\u6700\u7ec8\u5f62\u6210\u4e86\u4e00\u5f20\u4ee5\u4e0b\u7684\u5bb6\u65cf\u8c31\u3002 \u5728\u4e0a\u56fe\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\uff0cbody\u7684\u5b50\u5143\u7d20\u6709\u4e09\u4e2a\uff0ch1\u3001p\u548cul\uff0cul\u4e5f\u6709\u51e0\u4e2a\u5b50\u5143\u7d20\uff0cp\u4e5f\u67091\u4e2a\u5b50\u5143\u7d20\uff0c\u90a3\u4e48li\u548ca\u5c31\u90fd\u662fbody\u7684\u540e\u4ee3\u5143\u7d20\u3002\u6709\u65f6\u53ef\u80fd\u6211\u4eec\u5728body\u91cc\u9762\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u5c5e\u6027\uff0c\u7ed3\u679c\uff0cbody\u4e0b\u9762\u6240\u6709\u7684\u540e\u4ee3\u5143\u7d20\u90fd\u53ef\u80fd\u4eab\u53d7\u5230\uff0c\u8fd9\u5c31\u662f\u6837\u5f0f\u7ee7\u627f\u3002\u5c31\u50cf\u4e00\u53e5\u4fd7\u8bed\u4e00\u6837\uff0c\u201c\u9f99\u751f\u9f99\uff0c\u51e4\u751f\u51e4\uff0c\u8001\u9f20\u7684\u513f\u5b50\u4f1a\u6253\u6d1e\u201d\u3002\u6837\u5f0f\u7ee7\u627f\uff0c\u53ef\u4ee5\u7ed9\u6211\u4eec\u7684\u7f51\u9875\u5e03\u5c40\u5e26\u6765\u5f88\u591a\u7684\u4fbf\u5229\uff0c\u8ba9\u6211\u4eec\u7684\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u7b80\u6d01\uff0c\u4f46\u662f\uff0c\u5982\u679c\u4e0d\u4e86\u89e3\uff0c\u6216\u8005\u4f7f\u7528\u4e0d\u5f53\uff0c\u4e5f\u6709\u53ef\u80fd\u4f1a\u7ed9\u6211\u4eec\u5e26\u6765\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u4e86\u89e3\u4e86\u54ea\u4e9b\u6837\u5f0f\u662f\u4f1a\u7ee7\u627f\u5230\u540e\u4ee3\u5143\u7d20\u7684\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u907f\u514d\u8fd9\u4e9b\u95ee\u9898\u7684\u53d1\u751f\u4e86\u3002 \u6587\u672c\u76f8\u5173\u5c5e\u6027 font-family font-size letter-spacing line-height font-style font-variant text-align text-indent font-weight font text-transform word-spacing color direction \u5217\u8868\u76f8\u5173\u5c5e\u6027 list-style-image list-style-position list-style-type list-style \u8868\u683c\u548c\u5176\u4ed6\u76f8\u5173\u5c5e\u6027 border-collapse border-spacing caption-side empty-cells cursor \u9009\u62e9\u5668\u4f18\u5148\u7ea7 \u7ee7\u627f \u7ee7\u627f\u662fCSS\u7684\u4e00\u4e2a\u4e3b\u8981\u7279\u5f81\uff0c\u5b83\u662f\u4f9d\u8d56\u4e8e\u7956\u5148-\u540e\u4ee3\u7684\u5173\u7cfb\u7684\u3002\u7ee7\u627f\u662f\u4e00\u79cd\u673a\u5236\uff0c\u5b83\u5141\u8bb8\u6837\u5f0f\u4e0d\u4ec5\u53ef\u4ee5\u5e94\u7528\u4e8e\u67d0\u4e2a\u7279\u5b9a\u7684\u5143\u7d20\uff0c\u8fd8\u53ef\u4ee5\u5e94\u7528\u4e8e\u5b83\u7684\u540e\u4ee3\u3002\u4f8b\u5982\u4e00\u4e2aBODY\u5b9a\u4e49\u4e86\u7684\u989c\u8272\u503c\u4e5f\u4f1a\u5e94\u7528\u5230\u6bb5\u843d\u7684\u6587\u672c\u4e2d\u3002 body{color:red;} <p>helloyuan</p> \u8fd9\u6bb5\u6587\u5b57\u90fd\u7ee7\u627f\u4e86\u7531body {color:red;}\u6837\u5f0f\u5b9a\u4e49\u7684\u989c\u8272\u3002\u7136\u800cCSS\u7ee7\u627f\u6027\u7684\u6743\u91cd\u662f\u975e\u5e38\u4f4e\u7684\uff0c\u662f\u6bd4\u666e\u901a\u5143\u7d20\u7684\u6743\u91cd\u8fd8\u8981\u4f4e\u76840\u3002 p{color:green} \u53d1\u73b0\u53ea\u9700\u8981\u7ed9\u52a0\u4e2a\u989c\u8272\u503c\u5c31\u80fd\u8986\u76d6\u6389\u5b83\u7ee7\u627f\u7684\u6837\u5f0f\u989c\u8272\u3002\u7531\u6b64\u53ef\u89c1\uff1a\u4efb\u4f55\u663e\u793a\u7533\u660e\u7684\u89c4\u5219\u90fd\u53ef\u4ee5\u8986\u76d6\u5176\u7ee7\u627f\u6837\u5f0f\u3002 \u6b64\u5916\uff0c\u7ee7\u627f\u662fCSS\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u751a\u81f3\u4e0d\u7528\u53bb\u8003\u8651\u5b83\u4e3a\u4ec0\u4e48\u80fd\u591f\u8fd9\u6837\uff0c\u4f46CSS\u7ee7\u627f\u4e5f\u662f\u6709\u9650\u5236\u7684\u3002\u6709\u4e00\u4e9b\u5c5e\u6027\u4e0d\u80fd\u88ab\u7ee7\u627f\uff0c\u5982\uff1aborder, margin, padding, background\u7b49\u3002 \u4f18\u5148\u7ea7 \u6240\u8c13CSS\u4f18\u5148\u7ea7\uff0c\u5373\u662f\u6307CSS\u6837\u5f0f\u5728\u6d4f\u89c8\u5668\u4e2d\u88ab\u89e3\u6790\u7684\u5148\u540e\u987a\u5e8f\u3002\u6837\u5f0f\u8868\u4e2d\u7684\u7279\u6b8a\u6027\u63cf\u8ff0\u4e86\u4e0d\u540c\u89c4\u5219\u7684\u76f8\u5bf9\u6743\u91cd\u3002 /* !important > \u884c\u5185\u6837\u5f0f>ID\u9009\u62e9\u5668 > \u7c7b\u9009\u62e9\u5668 > \u6807\u7b7e > \u901a\u914d\u7b26 > \u7ee7\u627f > \u6d4f\u89c8\u5668\u9ed8\u8ba4\u5c5e\u6027 1 \u5185\u8054\u6837\u5f0f\u8868\u7684\u6743\u503c\u6700\u9ad8 style=\"\" 1000\uff1b 2 \u7edf\u8ba1\u9009\u62e9\u7b26\u4e2d\u7684ID\u5c5e\u6027\u4e2a\u6570\u3002 #id 100 3 \u7edf\u8ba1\u9009\u62e9\u7b26\u4e2d\u7684CLASS\u5c5e\u6027\u4e2a\u6570\u3002 .class 10 4 \u7edf\u8ba1\u9009\u62e9\u7b26\u4e2d\u7684HTML\u6807\u7b7e\u540d\u4e2a\u6570\u3002 \u6807\u7b7e\u540d 1 \u6309\u8fd9\u4e9b\u89c4\u5219\u5c06\u6570\u5b57\u7b26\u4e32\u9010\u4f4d\u76f8\u52a0\uff0c\u5c31\u5f97\u5230\u6700\u7ec8\u7684\u6743\u91cd\uff0c\u7136\u540e\u5728\u6bd4\u8f83\u53d6\u820d\u65f6\u6309\u7167\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f\u9010\u4f4d\u6bd4\u8f83\u3002 */ <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> .c1{ color: red; } #i1{ color: coral; } div{ color: greenyellow; } /*.c2 .c3 .c4 span{*/ /* color: orange;*/ /*}*/ .c2 .c4 span{ color: blue; } .c2 .c3 .c5{ color: rebeccapurple; } .c2 .c4 .c5{ color: darkcyan; } </style> </head> <body> <div class=\"c1\" id=\"i1\">item1</div> <div class=\"c2\"> <div class=\"c3\"> <div class=\"c4\"> <span class=\"c5\">item2</span> </div> </div> </div> </body> </html> 1\u3001\u6709!important\u58f0\u660e\u7684\u89c4\u5219\u9ad8\u4e8e\u4e00\u5207\u3002 2\u3001\u5982\u679c!important\u58f0\u660e\u51b2\u7a81\uff0c\u5219\u6bd4\u8f83\u4f18\u5148\u6743\u3002 3\u3001\u5982\u679c\u4f18\u5148\u6743\u4e00\u6837\uff0c\u5219\u6309\u7167\u5728\u6e90\u7801\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u51b3\u5b9a\uff0c\u540e\u6765\u8005\u5c45\u4e0a\u3002 4\u3001\u7531\u7ee7\u627f\u800c\u5f97\u5230\u7684\u6837\u5f0f\u6ca1\u6709specificity\u7684\u8ba1\u7b97\uff0c\u5b83\u4f4e\u4e8e\u4e00\u5207\u5176\u5b83\u89c4\u5219(\u6bd4\u5982\u5168\u5c40\u9009\u62e9\u7b26*\u5b9a\u4e49\u7684\u89c4\u5219)\u3002 5\u3001\u7528\u6570\u5b57\u8868\u793a\u53ea\u662f\u8bf4\u660e\u601d\u60f3\uff0c\u4e00\u4e07\u4e2aclass\u4e5f\u4e0d\u5982\u4e00\u4e2aid\u6743\u503c\u9ad8 2.2.3\u3001CSS\u7684\u5c5e\u6027\u64cd\u4f5c \u6587\u672c\u5c5e\u6027 font-style\uff08\u5b57\u4f53\u6837\u5f0f\u98ce\u683c\uff09 /* \u5c5e\u6027\u503c\uff1a normal\uff1a\u8bbe\u7f6e\u5b57\u4f53\u6837\u5f0f\u4e3a\u6b63\u4f53\u3002\u9ed8\u8ba4\u503c\u3002 italic\uff1a\u8bbe\u7f6e\u5b57\u4f53\u6837\u5f0f\u4e3a\u659c\u4f53\u3002\u8fd9\u662f\u9009\u62e9\u5b57\u4f53\u5e93\u4e2d\u7684\u659c\u4f53\u5b57\u3002 oblique\uff1a\u8bbe\u7f6e\u5b57\u4f53\u6837\u5f0f\u4e3a\u659c\u4f53\u3002\u4eba\u4e3a\u7684\u4f7f\u6587\u5b57\u503e\u659c\uff0c\u800c\u4e0d\u662f\u53bb\u4f7f\u7528\u5b57\u4f53\u5e93\u7684\u659c\u4f53\u5b57\u3002 */ font-weight\uff08\u5b57\u4f53\u7c97\u7ec6\uff09 /* \u5c5e\u6027\u503c\uff1a normal\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u6b63\u5e38\u5b57\u4f53\u3002\u76f8\u5f53\u4e8e\u6570\u5b57\u503c400 bold\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u7c97\u4f53\u3002\u76f8\u5f53\u4e8e\u6570\u5b57\u503c700\u3002 bolder\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u6bd4\u7236\u7ea7\u5143\u7d20\u5b57\u4f53\u66f4\u7c97\u7684\u5b57\u4f53\u3002 lighter\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u6bd4\u7236\u7ea7\u5143\u7d20\u5b57\u4f53\u66f4\u7ec6\u7684\u5b57\u4f53\u3002 number\uff1a\u7528\u6570\u5b57\u8868\u793a\u5b57\u4f53\u7c97\u7ec6\u3002\u4ece\u5c0f\u5230\u5927\uff0c\u8d8a\u6765\u7ea6\u7c97\uff0c\u53d6\u503c\u8303\u56f4\uff1a100\u3001200\u3001300\u3001400\u3001500\u3001600\u3001700\u3001800\u3001900\u3002 \u6ce8\u610f\uff1a font-weight\u7684\u5e38\u7528\u503c\u6709\u4e24\u4e2anormal\u548cbold\uff0c\u5176\u4ed6\u7684\u503c\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u652f\u6301\u5e76\u4e0d\u597d\u3002 */ font-size\uff08\u5b57\u4f53\u5927\u5c0f\uff09 /* font-size\u7684\u503c\u6709\u5f88\u591a\uff0c\u6709xx-small\u3001x-small\u3001small\u3001medium\u3001large\u3001x-large\u3001xx-large\u3001smaller\u548clarger\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u503c\u4e3a\u5177\u4f53\u7684\u6570\u503c\u52a0\u4e0a\u5bf9\u5e94\u7684\u8ba1\u7b97\u5355\u4f4d\u6765\u8868\u793a\u5b57\u4f53\u7684\u5927\u5c0f\u3002\u5b57\u4f53\u5355\u4f4d\u6709\u50cf\u7d20\uff08 px \uff09\u3001\u5b57\u7b26\uff08 em\uff0c\u9ed8\u8ba41em\u7b49\u4e8e16px\uff0c2em\u7b49\u4e8e32px\uff0c\u6839\u636e\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u5b57\u4f53\u5927\u5c0f\u800c\u51b3\u5b9a \uff09\u3001\u767e\u5206\u6bd4\uff08 % \uff09\uff0c\u78c5[\u70b9]\uff08 pt \uff09\u3002 \u5b57\u4f53\u4e0d\u6307\u5b9a\u5927\u5c0f\u65f6\uff0c\u4e3b\u6d41\u6d4f\u89c8\u5668\u9ed8\u8ba4\u662f15\u50cf\u7d20\u523016\u50cf\u7d20\u3002\u65e7\u7248\u672c\u7684\u8c37\u6b4c\u6d4f\u89c8\u5668\uff0c\u5b57\u4f53\u6700\u5c0f\u53ea\u80fd\u8bbe\u7f6e\u621012\u50cf\u7d20\uff0c\u65b0\u7248\u5df2\u7ecf\u4fee\u590d\u3002*/ font-family\uff08\u5b57\u4f53\u65cf\uff09 /* font-family\u53ef\u4ee5\u6307\u5b9a\u5143\u7d20\u4f7f\u7528\u7684\u5b57\u4f53\u7cfb\u5217\u6216\u5b57\u4f53\u65cf\u3002\u5f53\u6211\u4eec\u4f7f\u7528font-family\u6307\u5b9a\u5b57\u4f53\u65cf\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6307\u5b9a\u591a\u79cd\u5b57\u4f53,\u4f5c\u4e3a\u5019\u8865\u3002\u6307\u5b9a\u591a\u4e2a\u5b57\u4f53\u7684\u65f6\u5019\uff0c\u9700\u8981\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u3002 \u5982\u679ccss\u4e2d\u6ca1\u6709\u58f0\u660e\u5f53\u524d\u5185\u5bb9\u4f7f\u7528\u7684\u5b57\u4f53\u65cf\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\uff1a \u4e2d\u6587\uff1a \u5b8b\u4f53 [ win7\u4ee5\u540e\u9ed8\u8ba4\u662f \u5fae\u8f6f\u96c5\u9ed1 ] \u82f1\u6587\uff1a Arial */ color\uff08\u5b57\u4f53\u989c\u8272\uff09 // \u53ef\u4ee5\u4f7f\u7528color\u6765\u8868\u793a\u5b57\u4f53\u7684\u989c\u8272\uff0c\u989c\u8272\u503c\u6700\u5e38\u7528\u7684\u6709\u4e09\u79cd\u5f62\u5f0f\uff0c\u82f1\u6587\u5355\u8bcd\uff0c\u5341\u516d\u8fdb\u5236\uff0cRGB\u5341\u8fdb\u5236\u3002\u66f4\u9ad8\u7ea7\u7684\u6709 RGBA\u3001HSL\u3001HSLA\uff0c\u4e0d\u8fc7\u4f4e\u7248\u672c\u7684\u6d4f\u89c8\u5668\u5e76\u4e0d\u652f\u6301\u3002 <style> .c1{ color: red; } .c1{ color: #369; } .c1{ color: RGB(0,0,255); } </style> \u53e6\u5916\u8981\u6ce8\u610f\uff0c\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a\u989c\u8272\u503c\u7684\u65f6\u5019\uff0c\u5982\u679c\u5b57\u7b26\u7684\u683c\u5f0f\u7c7b\u4f3c\u4e8e\u201cAAAAAA\u201d\u7684\u8fd9\u79cd\uff0c\u516d\u4e2a\u5b57\u7b26\u4e00\u6837\u7684\uff1b\u53c8\u6216\u8005\u662f\u201cAABBCC\u201d\uff0c\u8fd9\u79cd\uff0c\u4e00\u4e8c\uff0c\u4e09\u56db\uff0c\u4e94\u516d \u4f4d\u7f6e\u4e0a\u7684\u6570\u5b57\u4e00\u6837\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7b80\u5199\u6765\u8868\u8fbe\u3002 text-align\uff08\u6587\u672c\u5bf9\u9f50\u65b9\u5f0f\uff09 /* text-align\u5c5e\u6027\u53ef\u4ee5\u8bbe\u7f6e\u6587\u672c\u5185\u5bb9\u7684\u6c34\u5e73\u5bf9\u9f50\u65b9\u5f0f\u3002\u5c5e\u6027\u503c\u5e38\u7528\u7684\u6709 \u5de6\u5bf9\u9f50left\u3001\u5c45\u4e2d\u5bf9\u9f50center\u3001\u53f3\u5bf9\u9f50right\u3002justify \u5b9e\u73b0\u4e24\u7aef\u5bf9\u9f50\u6587\u672c\u6548\u679c\u3002 */ text-decoration // \u4f7f\u7528text-decoration\u53ef\u4ee5\u8bbe\u7f6e\u6587\u672c\u5185\u5bb9\u7684\u88c5\u9970\u7ebf\u6761\uff0c\u6b63\u5e38\u7684\u6587\u672c\u662f\u6ca1\u6709\u7ebf\u6761\u7684\uff0c\u5e38\u7528\u7684\u503c\u6709none\uff0cunderline\uff0coverline\uff0cline-through\u56db\u79cd\u3002 line-height\uff08\u5b57\u4f53\u884c\u9ad8\uff09 // \u5b57\u4f53\u884c\u9ad8\u5373\u5b57\u4f53\u6700\u5e95\u7aef\u4e0e\u5b57\u4f53\u5185\u90e8\u9876\u7aef\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u503c\u53ef\u4ee5\u662fnormal\u3001px\u3001number\u3001%\u3002 \u884c\u9ad8 = \u5b57\u4f53\u5927\u5c0f + \u4e0a\u534a\u884c\u8ddd + \u4e0b\u534a\u884c\u8ddd vertical-align vertical-align \u5c5e\u6027\u8bbe\u7f6e\u5143\u7d20\u7684\u5782\u76f4\u5bf9\u9f50\u65b9\u5f0f\u3002 <img src=\"\" alt=\"\"><span>yuan</span> \u80cc\u666f\u5c5e\u6027 background-color\uff08\u80cc\u666f\u989c\u8272\uff09 \u9875\u9762\u7684\u80cc\u666f\u989c\u8272\u6709\u56db\u79cd\u5c5e\u6027\u503c\u8868\u793a\uff0c\u5206\u522b\u662ftransparent\uff08\u900f\u660e\uff09\uff0cRGB\u5341\u8fdb\u5236\u989c\u8272\u8868\u793a\uff0c\u5341\u516d\u8fdb\u5236\u989c\u8272\u8868\u793a\u548c\u989c\u8272\u5355\u8bcd\u8868\u793a\u3002 \u5c5e\u6027\u4f7f\u7528\uff1a /* background-color: transparent; // \u900f\u660e background-color: rgb(255,0,0); // \u7ea2\u8272\u80cc\u666f background-color: #ff0000; // \u7ea2\u8272\u80cc\u666f background-color: red; // \u7ea2\u8272\u80cc\u666f */ background-image\uff08\u80cc\u666f\u56fe\u7247\uff09 background-image\u53ef\u4ee5\u5f15\u5165\u4e00\u5f20\u56fe\u7247\u4f5c\u4e3a\u5143\u7d20\u7684\u80cc\u666f\u56fe\u50cf\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cbackground-image\u653e\u7f6e\u5728\u5143\u7d20\u7684\u5de6\u4e0a\u89d2\uff0c\u5e76\u5728\u5782\u76f4\u548c\u6c34\u5e73\u65b9\u5411\u91cd\u590d\u5e73\u94fa\u3002 \u8bed\u6cd5\uff1a // background-image: url('\u56fe\u7247\u5730\u5740') \u5f53\u540c\u65f6\u5b9a\u4e49\u4e86\u80cc\u666f\u989c\u8272\u548c\u80cc\u666f\u56fe\u50cf\u65f6\uff0c\u80cc\u666f\u56fe\u50cf\u8986\u76d6\u5728\u80cc\u666f\u989c\u8272\u4e4b\u4e0a\u3002 \u6240\u4ee5\u5f53\u80cc\u666f\u56fe\u7247\u6ca1\u6709\u88ab\u52a0\u8f7d\u5230\uff0c\u6216\u8005\u4e0d\u80fd\u5b8c\u5168\u94fa\u6ee1\u5143\u7d20\u65f6\uff0c\u5c31\u4f1a\u663e\u793a\u80cc\u666f\u989c\u8272\u3002 background-repeat\uff08\u80cc\u666f\u5e73\u94fa\u65b9\u5f0f\uff09 CSS\u4e2d\uff0c\u5f53\u4f7f\u7528\u56fe\u50cf\u4f5c\u4e3a\u80cc\u666f\u4e86\u4ee5\u540e\uff0c\u90fd\u662f\u9ed8\u8ba4\u628a\u6574\u4e2a\u9875\u9762\u5e73\u94fa\u6ee1\u7684\uff0c\u4f46\u662f\u6709\u65f6\u5019\u5728\u5f88\u591a\u573a\u5408\u4e0b\u9762\uff0c\u9875\u9762\u5e76\u4e0d\u9700\u8981\u8fd9\u79cd\u9ed8\u8ba4\u7684\u6548\u679c\uff0c\u800c\u53ef\u80fd\u9700\u8981\u80cc\u666f\u56fe\u50cf\u53ea\u663e\u793a\u4e00\u6b21\uff0c\u6216\u8005\u53ea\u6309\u7167\u6307\u5b9a\u65b9\u5f0f\u8fdb\u884c\u5e73\u94fa\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f7f\u7528background-repeat\u6765\u8fdb\u884c\u8bbe\u7f6e\u3002 background-repeat\u4e13\u95e8\u7528\u4e8e\u8bbe\u7f6e\u80cc\u666f\u56fe\u50cf\u7684\u5e73\u94fa\u65b9\u5f0f\uff0c\u4e00\u822c\u6709\u56db\u4e2a\u503c\uff0c\u9ed8\u8ba4\u662frepeat\uff08\u5e73\u94fa\uff09\uff0cno-repeat\uff08\u4e0d\u5e73\u94fa\uff09\uff0crepeat-x\uff08X\u8f74\u5e73\u94fa\uff09\uff0crepeat-y\uff08Y\u8f74\u5e73\u94fa\uff09\u3002 background-position\uff08\u80cc\u666f\u5b9a\u4f4d\uff09 CSS\u4e2d\u652f\u6301\u5143\u7d20\u5bf9\u80cc\u666f\u56fe\u50cf\u7684\u5b9a\u4f4d\u6446\u653e\u529f\u80fd\uff0c\u5c31\u662f\u5229\u7528background-position\u5c5e\u6027\u6765\u5b9e\u73b0\uff0c\u4ee5\u9875\u9762\u4e2d\u5143\u7d20\u7684\u5de6\u4e0a\u89d2\u4e3a\u539f\u70b9\uff080\uff0c0\uff09\uff0c\u628a\u5143\u7d20\u7684\u5185\u90e8\u533a\u57df\u5f53\u6210\u4e00\u4e2a\u5750\u6807\u8f74\uff08\u4e0a\u8fb9\u6846\u4e3aX\u8f74\uff0c\u8d8a\u5f80\u5de6X\u7684\u503c\u8d8a\u5927\uff0c\u5de6\u8fb9\u6846\u4e3aY\u8f74\uff0c\u8d8a\u5f80\u4e0bY\u8f74\u7684\u503c\u5c31\u8d8a\u5927\uff0c\u53cd\u4e4b\u4ea6\u7136\uff09\uff0c\u7136\u540e\u8ba1\u7b97\u51fa\u80cc\u666f\u56fe\u7247\u7684\u5de6\u4e0a\u89d2\u4e0e\u5706\u70b9\u7684\u8ddd\u79bb\uff08x\u8f74\u548cy\u8f74\u7684\u8ddd\u79bb\uff09\uff0c\u7136\u540e\u628a\u80cc\u666f\u56fe\u7247\u653e\u5165\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u4e0a\uff0c\u5bf9\u80cc\u666f\u56fe\u7247\u7684\u4f4d\u7f6e\u8fdb\u884c\u7cbe\u786e\u7684\u63a7\u5236\u548c\u6446\u653e\u3002 \u200b background-position\u7684\u503c\u5206\u6210\u4e24\u4e2a\uff0c\u4f7f\u7528\u7a7a\u683c\u9694\u5f00\uff0c\u524d\u9762\u4e00\u4e2a\u662f\u80cc\u666f\u56fe\u7247\u5de6\u4e0a\u89d2\u7684x\u8f74\u5750\u6807\uff0c\u540e\u9762\u4e00\u4e2a\u662f\u80cc\u666f\u56fe\u7247\u5de6\u4e0a\u89d2\u7684y\u8f74\u5750\u6807\u3002\u4e24\u4e2a\u503c\u90fd\u53ef\u4ee5\u662f\u6b63\u3001\u8d1f\u503c\u3002 \u8bed\u6cd5\uff1a // background-position: x\u8f74\u5750\u6807 y\u8f74\u5750\u6807 \u80cc\u666f\u5b9a\u4f4d\u7684\u503c\u9664\u4e86\u662f\u5177\u4f53\u7684\u6570\u503c\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u662f\u5de6\uff08left\uff09\u3001\u4e2d\uff08center\uff09\u3001\u53f3\uff08right\uff09 background\uff08\u80cc\u666f\u6837\u5f0f\u7f29\u5199\uff09 \u548c\u5b57\u4f53\u5c5e\u6027\u4e00\u6837\uff0c\u591a\u4e2a\u4e0d\u540c\u80cc\u666f\u6837\u5f0f\u5c5e\u6027\u4e5f\u662f\u53ef\u4ee5\u540c\u65f6\u7f29\u5199\u7684\uff0c\u4e0d\u8fc7\u4e0d\u9700\u8981\u50cf\u5b57\u4f53\u90a3\u6837\u6309\u7167\u4e00\u5b9a\u7684\u987a\u5e8f\uff0c\u80cc\u666f\u6837\u5f0f\u7684\u7f29\u5199\u5c5e\u6027\u7684\u987a\u5e8f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u53ef\u4ee5\u4efb\u610f\u7f16\u6392\u3002 \u8bed\u6cd5\uff1a // background: \u80cc\u666f\u989c\u8272 \u80cc\u666f\u56fe\u7247 \u80cc\u666f\u5e73\u94fa\u65b9\u5f0f \u80cc\u666f\u5b9a\u4f4d; \u8fb9\u6846\u5c5e\u6027 border-style\uff08\u8fb9\u6846\u98ce\u683c\uff09 \u5b9a\u4e49\u8fb9\u6846\u7684\u98ce\u683c\uff0c\u503c\u53ef\u4ee5\u6709 /* none\uff1a\u6ca1\u6709\u8fb9\u6846\uff0c\u5f53border\u7684\u503c\u4e3anone\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u5c06\u4f1a\u5ffd\u7565[border-color] hidden\uff1a\u9690\u85cf\u8fb9\u6846\uff0c\u4f4e\u7248\u672c\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u3002 dotted\uff1a\u70b9\u72b6\u8fb9\u6846\u3002 dashed\uff1a\u865a\u7ebf\u8fb9\u6846\u3002 solid\uff1a\u5b9e\u7ebf\u8fb9\u6846\u3002 double\uff1a\u53cc\u5b9e\u7ebf\u8fb9\u6846\uff0c\u4e24\u6761\u5355\u7ebf\u4e0e\u5176\u95f4\u9694\u7684\u548c\u7b49\u4e8eborder-width\u503c\u3002 */ border-style\u7684\u503c\u53ef\u4ee5\u7f29\u5199\u7684\uff1a /* \u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u8fb9\u6846\u98ce\u683c\u3002 \u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u8fb9\u6846\u98ce\u683c\u3002 \u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u8fb9\u6846\u98ce\u683c\u3002 \u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u8fb9\u6846\u98ce\u683c\u3002 */ border-style\u8fd8\u53ef\u4ee5\u5355\u72ec\u6307\u5b9a\u4e0d\u540c\u65b9\u5411\uff1a /* border-top-style \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u8fb9\u6846\u98ce\u683c border-bottom-style \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u8fb9\u6846\u98ce\u683c border-left-style \u8bbe\u7f6e\u5de6\u8fb9\u7684\u8fb9\u6846\u98ce\u683c border-right-style \u8bbe\u7f6e\u53f3\u8fb9\u7684\u8fb9\u6846\u98ce\u683c */ border-width\uff08\u8fb9\u6846\u5bbd\u5ea6\uff09 \u4f7f\u7528border-width\u53ef\u4ee5\u5b9a\u4e49\u8fb9\u6846\u7684\u539a\u5ea6\uff0c\u503c\u53ef\u4ee5\u662fmedium\uff0cthin\uff0cthick\u548c\u6307\u5b9a\u6570\u503c\u7684\u5bbd\u5ea6\u3002 \u540c\u65f6\uff0cborder-width\u4e5f\u53ef\u4ee5\u8fdb\u884c\u7f29\u5199\uff1a /* \u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 \u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 \u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 \u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 */ border-width\u4e5f\u53ef\u4ee5\u5355\u72ec\u6307\u5b9a\u4e0d\u540c\u65b9\u5411\uff1a /* border-top-width \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 border-bottom-width \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 border-left-width \u8bbe\u7f6e\u5de6\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 border-right-width \u8bbe\u7f6e\u53f3\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 */ border-color\uff08\u8fb9\u6846\u989c\u8272\uff09 \u5b9a\u4e49\u8fb9\u6846\u7684\u989c\u8272\uff0c\u503c\u8868\u793a\u7684\u65b9\u5f0f\u53ef\u4ee5\u662f\u5341\u516d\u8fdb\u5236\uff0cRGB\u5341\u8fdb\u5236\u548c\u5355\u8bcd\u8868\u793a\u6cd5\u3002 \u540c\u4e0a\uff0cborder-color\u7684\u7f29\u5199\uff1a /* \u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u8fb9\u6846\u989c\u8272\u3002 \u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u8fb9\u6846\u989c\u8272\u3002 \u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u8fb9\u6846\u989c\u8272\u3002 \u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u8fb9\u6846\u989c\u8272\u3002 */ border-color\u4e5f\u53ef\u4ee5\u5355\u72ec\u6307\u5b9a\u4e0d\u540c\u65b9\u5411\uff1a /* border-top-color \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u8fb9\u6846\u989c\u8272 border-bottom-color \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u8fb9\u6846\u989c\u8272 border-left-color \u8bbe\u7f6e\u5de6\u8fb9\u7684\u8fb9\u6846\u989c\u8272 border-right-color \u8bbe\u7f6e\u53f3\u8fb9\u7684\u8fb9\u6846\u989c\u8272 */ \u8fb9\u6846\u6837\u5f0f\u7f29\u5199 \u8fd8\u53ef\u4ee5\u628a\u8fb9\u6846\u98ce\u683c\uff0c\u8fb9\u6846\u5bbd\u5ea6\uff0c\u8fb9\u6846\u989c\u8272\u8fdb\u884c\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u8fdb\u884c\u7f29\u5199\uff1a\u8bed\u6cd5\uff1a // border: \u8fb9\u6846\u5bbd\u5ea6 \u8fb9\u6846\u6837\u5f0f \u8fb9\u6846\u989c\u8272; \u6ce8\u610f\uff0cborder\u7684\u7f29\u5199\u503c\u53ef\u4ee5\u4e0d\u6309\u7167\u987a\u5e8f\u6765\u8fdb\u884c\u4e66\u5199\u3002\u8fd9\u6837\u7684\u7f29\u5199\u53ef\u4ee5\u540c\u65f6\u63a7\u52364\u4e2a\u65b9\u5411\u7684\u8fb9\u6846\u6837\u5f0f\u3002 \u5217\u8868\u5c5e\u6027 CSS\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5217\u8868\u5c5e\u6027\u53ef\u4ee5\u7528\u6765\uff1a \u200b (1)\u3001\u8bbe\u7f6e\u4e0d\u540c\u7684\u5217\u8868\u9879\u6807\u8bb0\u4e3a\u6709\u5e8f\u5217\u8868 \u200b (2)\u3001\u8bbe\u7f6e\u4e0d\u540c\u7684\u5217\u8868\u9879\u6807\u8bb0\u4e3a\u65e0\u5e8f\u5217\u8868 \u200b (3)\u3001\u8bbe\u7f6e\u5217\u8868\u9879\u6807\u8bb0\u4e3a\u56fe\u50cf list-style-type\uff08\u7cfb\u7edf\u63d0\u4f9b\u7684\u5217\u8868\u9879\u76ee\u7b26\u53f7\uff09 list-style-image\uff08\u81ea\u5b9a\u4e49\u7684\u5217\u8868\u9879\u76ee\u7b26\u53f7\uff09 li { list-style-image:url('qq.gif'); } dispaly\u5c5e\u6027 display\u53ef\u4ee5\u6307\u5b9a\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\uff0c\u5b83\u53ef\u4ee5\u628a\u884c\u5185\u5143\u7d20\u4fee\u6539\u6210\u5757\u72b6\u5143\u7d20\uff0c\u4e5f\u53ef\u4ee5\u628a\u522b\u7684\u6a21\u5f0f\u7684\u5143\u7d20\u6539\u6210\u884c\u5185\u5143\u7d20\u3002diisplay\u5e38\u7528\u7684\u503c\u6709\u56db\u4e2a\u3002 \u8bed\u6cd5\uff1a /* display: block; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u5757\u72b6\u5143\u7d20 display: inline; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u884c\u5185\u5143\u7d20 display: inline-block; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u884c\u5185\u5757\u72b6\u5143\u7d20 display: none; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u9690\u85cf */ \u76d2\u5b50\u6a21\u578b\uff08\u91cd\u70b9\uff09 \u76d2\u6a21\u578b\u662fCSS\u7684\u6838\u5fc3\u77e5\u8bc6\u70b9\u4e4b\u4e00\uff0c\u5b83\u6307\u5b9a\u5143\u7d20\u5982\u4f55\u663e\u793a\u4ee5\u53ca\u5982\u4f55\u76f8\u4e92\u4ea4\u4e92\u3002HTML\u9875\u9762\u4e0a\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u53ef\u4ee5\u770b\u6210\u4e00\u4e2a\u4e2a\u65b9\u76d2\u5b50\uff0c\u8fd9\u4e9b\u76d2\u5b50\u7531\u5143\u7d20\u7684content\uff08\u5185\u5bb9\uff09\u3001padding\uff08\u5185\u8fb9\u8ddd\uff09\u3001border\uff08\u8fb9\u6846\uff09\u3001margin\uff08\u5916\u8fb9\u8ddd\uff09\u7ec4\u6210\u3002 padding\uff08\u5185\u8fb9\u8ddd\u53ca\u5176\u7f29\u5199\uff09 \u5185\u8fb9\u8ddd\uff0c\u4e5f\u53eb\u201c\u5185\u8865\u767d\u201d\uff0c\u8868\u793a\u9875\u9762\u4e2d\u5143\u7d20\u7684\u8fb9\u6846\u4e0e\u5185\u5bb9\u7684\u8ddd\u79bb\u3002\u5185\u8fb9\u8ddd\u7684\u503c\u4e0d\u80fd\u662f\u8d1f\u503c\uff0c\u76f8\u5f53\u4e8etable\u6807\u7b7e\u7684cellpadding\u5c5e\u6027\u3002 \u5185\u8fb9\u8ddd\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u503c\uff1a /* \u5f53padding\u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u5185\u8fb9\u8ddd\u3002 \u5f53padding\u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u5185\u8fb9\u8ddd\u3002 \u5f53padding\u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u5185\u8fb9\u8ddd\u3002 \u5f53padding\u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u5185\u8fb9\u8ddd\u3002 */ \u5185\u8fb9\u8ddd\u4e5f\u53ef\u4ee5\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\uff1a /* padding-top \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u5916\u8fb9\u8ddd padding -bottom \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u5916\u8fb9\u8ddd padding -left \u8bbe\u7f6e\u5de6\u8fb9\u7684\u5916\u8fb9\u8ddd padding -right \u8bbe\u7f6e\u53f3\u8fb9\u7684\u5916\u8fb9\u8ddd */ margin\uff08\u5916\u8fb9\u8ddd\u53ca\u5176\u7f29\u5199\uff09 \u5916\u8fb9\u8ddd\uff0c\u4e5f\u53eb\u201c\u5916\u8865\u767d\u201d\uff0c\u8868\u793a\u9875\u9762\u4e2d\u5143\u7d20\u4e0e\u5143\u7d20\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u5916\u8fb9\u8ddd\u8d8a\u5927\uff0c\u4e24\u8005\u7684\u8ddd\u79bb\u5c31\u8d8a\u8fdc\uff0c\u53cd\u4e4b\uff0c\u5982\u679c\u5916\u8fb9\u8ddd\u8d8a\u5c0f\uff0c\u5219\u5143\u7d20\u4e4b\u95f4\u7684\u8ddd\u79bb\u5c31\u8d8a\u8fd1\uff0c\u5916\u8fb9\u8ddd\u7684\u503c\u53ef\u4ee5\u662f\u6b63\u6570\uff0c\u4e5f\u53ef\u4ee5\u662f\u8d1f\u503c\u3002 margin\u4e5f\u53ef\u4ee5\u50cfpadding\u4e00\u6837\u8bbe\u7f6e\u591a\u4e2a\u503c\u548c\u5355\u72ec\u65b9\u5411\u8bbe\u7f6e\uff0c\u7528\u6cd5\u4e00\u6837\u3002 1\u3001\u5728\u7f51\u9875\u7684\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u8ba9\u4e00\u4e2a\u5143\u7d20\u76f8\u5bf9\u4e8e\u7236\u7ea7\u5143\u7d20\u4f5c\u6c34\u5e73\u5c45\u4e2d\u65f6\uff0c\u53ef\u4ee5\u501f\u52a9margin\u7684\u7279\u6027\u6765\u5b9e\u73b0\u3002 \u200b \u4f7f\u7528margin\u8ba9\u5143\u7d20\u81ea\u8eab\u5c45\u4e2d\uff1a margin: 0 auto; 2\u3001\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u8fb9\u8ddd\u6e05\u96f6 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> .c1{ width: 100%; height: 600px; border: 1px solid red; } .c2{ width: 50%; height: 40px; background-color: rebeccapurple; margin: 10px auto; } </style> </head> <body> <div class=\"c1\"> <div class=\"c2\"></div> <div class=\"c2\"></div> </div> </body> </html> \u8fb9\u8ddd\u6848\u4f8b\uff1a <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <meta charset=\"utf8\"> <style> *{ margin: 0; padding: 0; } .c1{ width: 80%; margin: 100px auto; } .c1 .J_categoryList{ list-style: none; } .c1 .J_categoryList li{ display: inline-block; margin: 10px; } .c1 .J_categoryList li a{ font-size: 16px; color: #333; padding: 20px; border: 1px solid rebeccapurple; text-decoration: none; } </style> </head> <body> <div class=\"c1\"> <ul class=\"J_categoryList\"> <li><a href=\"\"><span>\u7ea2\u7c73</span></a></li> <li><a href=\"\"><span>\u7535\u89c6</span></a></li> <li><a href=\"\"><span>\u7b14\u8bb0\u672c</span></a></li> <li><a href=\"\"><span>\u5bb6\u7535</span></a></li> <li><a href=\"\"><span>\u5c0f\u7c73\u624b\u673a</span></a></li> </ul> </div> </body> </html> float\u5c5e\u6027\uff08\u91cd\u70b9\uff09 \u6d41\u52a8\u5e03\u5c40 \u6d41\u52a8\u6a21\u578b\uff08Flow\uff09\uff0c\u5373\u6587\u6863\u6d41\uff0c\u6d4f\u89c8\u5668\u6253\u5f00HTML\u7f51\u9875\u65f6\uff0c\u4ece\u4e0a\u5f80\u4e0b\uff0c\u4ece\u5de6\u5f80\u53f3\uff0c\u9010\u4e00\u52a0\u8f7d\u3002 \u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cHTML\u5143\u7d20\u90fd\u4f1a\u6839\u636e\u6587\u6863\u6d41\u6765\u5206\u5e03\u7f51\u9875\u5185\u5bb9\u7684\u3002 \u6587\u6863\u6d41\u67092\u5927\u7279\u5f81\uff1a \u2460 \u5757\u72b6\u5143\u7d20\u4f1a\u968f\u7740\u6d4f\u89c8\u5668\u8bfb\u53d6\u6587\u6863\u7684\u987a\u5e8f\uff0c\u81ea\u4e0a\u800c\u4e0b\u5782\u76f4\u5206\u5e03\uff0c\u4e00\u884c\u4e00\u4e2a\u7684\u5f62\u5f0f\u5360\u636e\u9875\u9762\u4f4d\u7f6e\u3002 \u2461 \u884c\u5185\u5143\u7d20\u4f1a\u968f\u7740\u6d4f\u89c8\u5668\u533a\u961f\u6587\u6863\u7684\u987a\u5e8f\uff0c\u4ece\u5de6\u5f80\u53f3\u6c34\u5e73\u5206\u5e03\uff0c\u4e00\u884c\u591a\u4e2a\u7684\u5f62\u5f0f\u5360\u636e\u9875\u9762\u4f4d\u7f6e\u3002\u884c\u5185\u5143\u7d20\u6446\u653e\u6ee1\u4e00\u884c\u4ee5\u540e\u624d\u4f1a\u5230\u4e0b\u4e00\u884c\u7ee7\u7eed\u6392\u5217\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title></title> <style> div{ border: 1px solid #f00; margin: 4px; } .d3{ width: 100px; } </style> </head> <body> <div>d1</div> <div>d2</div> <div class=\"d3\"> <span>span1</span> <a>a1</a> <a>a2</a> <span>span2</span> </div> </body> </html> \u6d6e\u52a8\u6a21\u578b \u8981\u5b66\u4e60\u6d6e\u52a8\u6a21\u578b\u7684\u5e03\u5c40\u6a21\u5f0f\uff0c\u5c31\u8981\u4e86\u89e3CSS\u63d0\u4f9b\u7684\u6d6e\u52a8\u5c5e\u6027\uff08float\uff09\u3002\u6d6e\u52a8\u5c5e\u6027\u662f\u7f51\u9875\u5e03\u5c40\u4e2d\u6700\u5e38\u7528\u7684\u5c5e\u6027\u4e4b\u4e00\uff0c\u901a\u8fc7\u6d6e\u52a8\u5c5e\u6027\u4e0d\u4f46\u53ef\u4ee5\u5f88\u597d\u7684\u5b9e\u73b0\u9875\u9762\u5e03\u5c40\uff0c\u800c\u4e14\u8fd8\u53ef\u4ee5\u4f9d\u9760\u5b83\u6765\u5236\u4f5c\u5bfc\u822a\u680f\u7b49\u9875\u9762\u529f\u80fd\u3002 \u7b80\u5355\u6d6e\u52a8\uff1a <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u7b80\u5355\u6d6e\u52a8</title> <style> .c1{ width: 200px; height: 200px; background-color: indianred; float: left; } .c2{ width: 300px; height: 200px; background-color: orange; float: left; } .c3{ width: 400px; height: 200px; background-color: lightblue; float: left; } </style> </head> <body> <div class=\"c1\"></div> <div class=\"c2\"></div> <div class=\"c3\"></div> </body> </html> \u5b57\u56f4\u6548\u679c <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u5b57\u56f4\u6548\u679c</title> <style> .c1{ width: 200px; height: 200px; background-color: indianred; } .c2{ width: 300px; height: 200px; background-color: orange; float: left; } .c3{ width: 400px; height: 400px; background-color: lightblue; } </style> </head> <body> <div class=\"c1\">111</div> <div class=\"c2\">222</div> <div class=\"c3\">333</div>> </body> </html> \u6848\u4f8b\uff1a <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u5b57\u56f4\u6848\u4f8b</title> <meta charset=\"utf8\"> <style> .c1{ width: 500px; } img{ float: left; width: 300px; height: 200px; } </style> </head> <body> <div class=\"c1\"> <img src=\"\" alt=\"\"> <span class=\"text\"> </span> </div> </body> </html> \u5f53\u4e00\u4e2a\u5143\u7d20\u88ab\u8bbe\u7f6e\u6d6e\u52a8\u540e\uff0c\u5c06\u5177\u6709\u4ee5\u4e0b\u7279\u6027\uff1a \u4efb\u4f55\u7533\u660e\u4e3afloat \u7684\u5143\u7d20\u90fd\u4f1a\u81ea\u52a8\u88ab\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u884c\u5185\u5757\u72b6\u5143\u7d20\uff0c\u5177\u6709\u884c\u5185\u5757\u72b6\u5143\u7d20\u7684\u7279\u6027\u3002 \u5047\u5982\u67d0\u4e2a\u5143\u7d20A\u662f\u6d6e\u52a8\u7684\uff0c\u5982\u679cA\u5143\u7d20\u4e0a\u4e00\u4e2a\u5143\u7d20\u4e5f\u662f\u6d6e\u52a8\u7684\uff0c\u90a3\u4e48A\u5143\u7d20\u4f1a\u8ddf\u968f\u5728\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u540e\u8fb9(\u5982\u679c\u4e00\u884c\u653e\u4e0d\u4e0b\u8fd9\u4e24\u4e2a\u5143\u7d20\uff0c\u90a3\u4e48A\u5143\u7d20\u4f1a\u88ab\u6324\u5230\u4e0b\u4e00\u884c)\uff1b\u5982\u679cA\u5143\u7d20\u4e0a\u4e00\u4e2a\u5143\u7d20\u662f\u6807\u51c6\u6d41\u4e2d\u7684\u5143\u7d20\uff0c\u90a3\u4e48A\u7684\u76f8\u5bf9\u5782\u76f4\u4f4d\u7f6e\u4e0d\u4f1a\u6539\u53d8\uff0c\u4e5f\u5c31\u662f\u8bf4A\u7684\u9876\u90e8\u603b\u662f\u548c\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u5e95\u90e8\u5bf9\u9f50\u3002 \u5728\u6807\u51c6\u6d4f\u89c8\u5668\u4e2d\u5982\u679c\u6d6e\u52a8\u5143\u7d20a\u8131\u79bb\u4e86\u6587\u6863\u6d41\uff0c\u90a3\u4e48\u6392\u5728\u6d6e\u52a8\u5143\u7d20a\u540e\u7684\u5143\u7d20\u5c06\u4f1a\u5f80\u56de\u6392\u5217\u5360\u636e\u6d6e\u52a8\u5143\u7d20a\u672c\u6765\u6240\u5904\u7684\u4f4d\u7f6e\uff0c\u4f7f\u9875\u9762\u5e03\u5c40\u4ea7\u751f\u53d8\u5316\u3002 \u5982\u679c\u6c34\u5e73\u65b9\u5411\u4e0a\u6ca1\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5bb9\u7eb3\u6d6e\u52a8\u5143\u7d20\uff0c\u5219\u8f6c\u5411\u4e0b\u4e00\u884c\u3002 \u5b57\u56f4\u6548\u679c\uff1a\u6587\u5b57\u5185\u5bb9\u4f1a\u56f4\u7ed5\u5728\u6d6e\u52a8\u5143\u7d20\u5468\u56f4\u3002 \u6d6e\u52a8\u5143\u7d20\u53ea\u80fd\u6d6e\u52a8\u81f3\u5de6\u4fa7\u6216\u8005\u53f3\u4fa7\u3002 \u6d6e\u52a8\u5143\u7d20\u53ea\u80fd\u5f71\u54cd\u6392\u5728\u5176\u540e\u9762\u5143\u7d20\u7684\u5e03\u5c40\uff0c\u5374\u65e0\u6cd5\u5f71\u54cd\u51fa\u73b0\u5728\u6d6e\u52a8\u5143\u7d20\u4e4b\u524d\u7684\u5143\u7d20\u3002 \u6e05\u9664\u6d6e\u52a8 \u7f51\u9875\u5e03\u5c40\u4e2d\uff0c\u6700\u5e38\u7528\u7684\u5e03\u5c40\u4fbf\u662f\u6d6e\u52a8\u6a21\u578b\u3002\u4f46\u662f\u6d6e\u52a8\u4e86\u4ee5\u540e\u5c31\u4f1a\u7834\u574f\u539f\u6709\u7684\u6587\u6863\u6d41\uff0c\u4f7f\u9875\u9762\u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u6539\u52a8\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u5728\u6d6e\u52a8\u4e86\u4ee5\u540e\uff0c\u8fbe\u5230\u76ee\u7684\u4e86\uff0c\u5c31\u7d27\u63a5\u7740\u6e05\u9664\u6d6e\u52a8\u3002 \u5728\u4e3b\u6d41\u6d4f\u89c8\u5668\uff08\u5982Firefox\uff09\u4e0b\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6eheight\uff0c\u5143\u7d20\u7684\u9ad8\u5ea6\u9ed8\u8ba4\u4e3aauto\uff0c\u4e14\u5176\u5185\u5bb9\u4e2d\u6709\u6d6e\u52a8\u5143\u7d20\u65f6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5143\u7d20\u7684\u9ad8\u5ea6\u4e0d\u80fd\u81ea\u52a8\u4f38\u957f\u4ee5\u9002\u5e94\u5185\u5bb9\u7684\u9ad8\u5ea6\uff0c\u4f7f\u5f97\u5185\u5bb9\u6ea2\u51fa\u5230\u5bb9\u5668\u5916\u9762\u800c\u5f71\u54cd\uff08\u751a\u81f3\u7834\u574f\uff09\u5e03\u5c40\u7684\u60c5\u51b5\uff0c\u53eb\u201c\u6d6e\u52a8\u6ea2\u51fa\u201d\uff0c\u4e3a\u4e86\u9632\u6b62\u8fd9\u4e2a\u73b0\u8c61\u7684\u51fa\u73b0\u800c\u8fdb\u884c\u7684CSS\u5904\u7406\u64cd\u4f5c\uff0cCSS\u91cc\u9762\u53eb\u201c\u6e05\u9664\u6d6e\u52a8\u201d\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title></title> <meta charset=\"utf8\"> <style> .box{ border: 1px solid red; } .c1{ width: 200px; height: 200px; background-color: #336699; float: left; } .c2{ width: 200px; height: 200px; background-color: orange; float: right; } .footer{ width: 100%; height: 60px; background-color: yellowgreen; } </style> </head> <body> <div class=\"box\"> <div class=\"c1\"></div> <div class=\"c2\"></div> </div> <div class=\"footer\"></div> </body> </html> clear\u662fcss\u4e2d\u4e13\u7528\u4e8e\u6e05\u9664\u6d6e\u52a8\u7684\uff0c\u5e38\u7528\u7684\u5c5e\u6027\u503c\u6709\u4ee5\u4e0b\u51e0\u4e2a\uff1a \u503c \u63cf\u8ff0 left \u5728\u5de6\u4fa7\u4e0d\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u3002 right \u5728\u53f3\u4fa7\u4e0d\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u3002 both \u5728\u5de6\u53f3\u4e24\u4fa7\u5747\u4e0d\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u3002 none \u9ed8\u8ba4\u503c\u3002\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u51fa\u73b0\u5728\u4e24\u4fa7\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u7b80\u5355\u6d6e\u52a8</title> <style> .c1{ width: 200px; height: 200px; background-color: indianred; float: left; /*float: right;*/ } .c2{ width: 300px; height: 200px; background-color: orange; float: left; clear: left; /*clear: both;*/ } .c3{ width: 400px; height: 200px; background-color: lightblue; float: left; } </style> </head> <body> <div class=\"c1\"></div> <div class=\"c2\"></div> <div class=\"c3\"></div> </body> </html> \u6e05\u9664\u6d6e\u52a8\u89e3\u51b3\u7236\u7ea7\u584c\u9677\u95ee\u9898\uff1a .clearfix:after { /*\u5728\u7c7b\u540d\u4e3a\u201cclearfix\u201d\u7684\u5143\u7d20\u5185\u6700\u540e\u9762\u52a0\u5165\u5185\u5bb9*/ content: \".\"; /*\u5185\u5bb9\u4e3a\u201c.\u201d\u5c31\u662f\u4e00\u4e2a\u82f1\u6587\u7684\u53e5\u53f7\u800c\u5df2\u3002\u4e5f\u53ef\u4ee5\u4e0d\u5199\u3002*/ display: block; /*\u52a0\u5165\u7684\u8fd9\u4e2a\u5143\u7d20\u8f6c\u6362\u4e3a\u5757\u7ea7\u5143\u7d20\u3002*/ clear: both; /*\u6e05\u9664\u5de6\u53f3\u4e24\u8fb9\u6d6e\u52a8\u3002*/ visibility: hidden; /*\u53ef\u89c1\u5ea6\u8bbe\u4e3a\u9690\u85cf\u3002\u6ce8\u610f\u5b83\u548cdisplay:none;\u662f\u6709\u533a\u522b\u7684\u3002*/ /* visibility:hidden;\u4ecd\u7136\u5360\u636e\u7a7a\u95f4\uff0c\u53ea\u662f\u770b\u4e0d\u5230\u800c\u5df2\uff1b*/ line-height: 0; /*\u884c\u9ad8\u4e3a0\uff1b*/ height: 0; /*\u9ad8\u5ea6\u4e3a0\uff1b*/ font-size:0; /*\u5b57\u4f53\u5927\u5c0f\u4e3a0\uff1b*/ } \u6574\u6bb5\u4ee3\u7801\u5c31\u76f8\u5f53\u4e8e\u5728\u6d6e\u52a8\u5143\u7d20\u540e\u9762\u8ddf\u4e86\u4e2a\u5bbd\u9ad8\u4e3a0\u7684\u7a7adiv\uff0c\u7136\u540e\u8bbe\u5b9a\u5b83clear:both\u6765\u8fbe\u5230\u6e05\u9664\u6d6e\u52a8\u7684\u6548\u679c\u3002 \u4e4b\u6240\u4ee5\u7528\u5b83\uff0c\u662f\u56e0\u4e3a\uff0c\u4f60\u4e0d\u5fc5\u5728html\u6587\u4ef6\u4e2d\u5199\u5165\u5927\u91cf\u65e0\u610f\u4e49\u7684\u7a7a\u6807\u7b7e\uff0c\u53c8\u80fd\u6e05\u9664\u6d6e\u52a8\u3002 <div class=\"head clearfix\"></div> \u6b64\u5916\uff0c\u8fd8\u7ed9\u7236\u5143\u7d20\u52a0\u4e0a\u6ea2\u51fa\u9690\u85cf\u5c5e\u6027\uff08overflow: hidden;\uff09\u6765\u8fdb\u884c\u6e05\u9664\u6d6e\u52a8\u3002 2.3\u3001JavaScript\u57fa\u7840 \u4e00\u95e8\u5f31\u7c7b\u578b\u7684\u7f16\u7a0b\u8bed\u8a00,\u5c5e\u4e8e\u57fa\u4e8e\u5bf9\u8c61\u548c\u57fa\u4e8e\u539f\u578b\u7684\u811a\u672c\u8bed\u8a00. 1 \u76f4\u63a5\u7f16\u5199 <script> console.log('hello yuan') </script> 2 \u5bfc\u5165\u6587\u4ef6 <script src=\"hello.js\"></script> \u30101\u3011\u57fa\u672c\u8bed\u6cd5 // \u53d8\u91cf // \u6570\u636e\u7c7b\u578b // \u8fd0\u7b97\u7b26 // \u6d41\u7a0b\u63a7\u5236\u8bed\u53e5 // \u51fd\u6570 // \uff081\uff09\u53d8\u91cf\u58f0\u660e\u8d4b\u503c var x = 10; // \u5982\u679c\u4e0d\u5199var\u5219\u662f\u5168\u5c40\u53d8\u91cf // \uff082\uff09\u6570\u636e\u7c7b\u578b var age = 10 var name = \"yuan\" var isMarried = false var names = [\"rain\",\"eric\",\"yuan\"] var info = {name:\"yuan\",age:18,isMarried:false} var info2 = { \"name\": \"yuan\", \"age\":22, \"sex\": true, \"son\": { \"name\":\"alex\", \"age\": 38 }, \"hobby\": [\"\u7bee\u7403\",\"\u5531\",\"\u8df3\"] } // \uff083\uff09\u8fd0\u7b97\u7b26 + - * / ++ += > < <=. >=. ===. !== && || ! // \uff084\uff09\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5 // \u5206\u652f\u8bed\u53e5 if(\u6761\u4ef6){ // \u6761\u4ef6\u4e3atrue\u65f6,\u6267\u884c\u7684\u4ee3\u7801 }else{ // \u6761\u4ef6\u4e3afalse\u65f6,\u6267\u884c\u7684\u4ee3\u7801 } switch(\u6761\u4ef6){ case \u7ed3\u679c1: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c1\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; case \u7ed3\u679c2: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c2\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; ... default: // \u6761\u4ef6\u548c\u4e0a\u8ff0\u6240\u6709\u7ed3\u679c\u90fd\u4e0d\u76f8\u7b49\u65f6,\u5219\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \u5faa\u73af\u8bed\u53e5 while(\u5faa\u73af\u7684\u6761\u4ef6){ // \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \u5faa\u73af\u4e09\u8981\u7d20 for(1.\u58f0\u660e\u5faa\u73af\u7684\u5f00\u59cb; 2.\u6761\u4ef6; 4. \u5faa\u73af\u7684\u8ba1\u6570){ // 3. \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \uff085\uff09\u51fd\u6570 function add(x,y){ return x + y } add() \u30102\u3011\u6570\u636e\u7c7b\u578b\u5185\u7f6e\u65b9\u6cd5 // (1) \u5b57\u7b26\u4e32\u5185\u7f6e\u65b9\u6cd5 var str = \"hello world\"; console.log( str.length ); str.toUpperCase() str.toLowerCase() str.slice(3,6); str.split(\" \"); str.trim(); // (2) \u6570\u7ec4\u5185\u7f6e\u65b9\u6cd5 var arr = [1,2,3,4,5]; arr.push(6); // \u7ed9\u6570\u7ec4\u540e\u9762\u8ffd\u52a0\u6210\u5458 arr.pop(); // \u5220\u9664\u6700\u540e\u4e00\u4e2a\u6210\u5458\u4f5c\u4e3a\u8fd4\u56de\u503c arr.shift() // shift\u662f\u5c06\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5220\u9664 arr.unshift(0) // unshift\u662f\u5c06value\u503c\u63d2\u5165\u5230\u6570\u7ec4\u7684\u5f00\u59cb var arr = [\"a\",\"b\",\"c\"]; arr.splice(1,1); arr.splice(1,0,\"b\") arr.splice(1,1,\"B\") arr.reverse(); // slice(\u5f00\u59cb\u4e0b\u6807,\u7ed3\u675f\u4e0b\u6807) \u5207\u7247,\u5f00\u533a\u95f4 arr.slice(1,3) // filter() \u9ad8\u9636\u51fd\u6570, \u5bf9\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u6210\u5458\u8fdb\u884c\u8fc7\u6ee4,\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c var arr = [4, 6, 5, 7]; function func(num) { // \u4e5f\u53ef\u4ee5\u4f7f\u7528\u533f\u540d\u51fd\u6570\u6216\u8005\u7bad\u5934\u51fd\u6570 if (num % 2 === 0) { return num; } } var ret = arr.filter(func); // \u6240\u6709\u7684\u51fd\u6570\u540d\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u5230\u53e6\u4e00\u4e2a\u51fd\u6570\u4e2d\u88ab\u6267\u884c console.log(ret); // map() \u5bf9\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u6210\u5458\u8fdb\u884c\u5904\u7406,\u8fd4\u56de\u5904\u7406\u540e\u7684\u6bcf\u4e00\u4e2a\u6210\u5458 var arr = [1, 2, 3, 4, 5]; var ret = arr.map((num) => { return num ** 3; }); console.log(ret); // [1, 8, 27, 64, 125] \u5e8f\u5217\u5316\uff1a \u65b9\u6cd5 \u63cf\u8ff0 JSON.stringify(obj) \u628aobj\u5bf9\u8c61\u8f6c\u6362\u6210json\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u4f1a\u79fb\u9664\u5bf9\u8c61\u65b9\u6cd5 JSON.parse(str) \u628a\u7b26\u5408json\u8bed\u6cd5\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u6210js\u5bf9\u8c61 \u30103\u3011DOM\u5bf9\u8c61 DOM \uff08document Object Model\uff1a \u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09 // \u6574\u4e2ahtml\u6587\u6863,\u4f1a\u4fdd\u5b58\u4e00\u4e2a\u6587\u6863\u5bf9\u8c61document // console.log( document ); // \u83b7\u53d6\u5f53\u524d\u6587\u6863\u7684\u5bf9\u8c61 \u67e5\u627e\u6807\u7b7e \u76f4\u63a5\u67e5\u627e\u6807\u7b7e document.getElementsByTagName(\"\u6807\u7b7e\u540d\") document.getElementById(\"id\u503c\") document.getElementsByClassName(\"\u7c7b\u540d\") 1\u3001\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662fdom\u5bf9\u8c61\u8fd8\u662f\u6570\u7ec4 2\u3001document\u5bf9\u8c61\u53ef\u4ee5\u662f\u4efb\u610fdom\u5bf9\u8c61\uff0c\u5c06\u67e5\u8be2\u8303\u56f4\u9650\u5236\u5728\u5f53\u524ddom\u5bf9\u8c61 \u5bfc\u822a\u67e5\u627e\u6807\u7b7e elementNode.parentElement // \u7236\u8282\u70b9\u6807\u7b7e\u5143\u7d20 elementNode.children // \u6240\u6709\u5b50\u6807\u7b7e elementNode.firstElementChild // \u7b2c\u4e00\u4e2a\u5b50\u6807\u7b7e\u5143\u7d20 elementNode.lastElementChild // \u6700\u540e\u4e00\u4e2a\u5b50\u6807\u7b7e\u5143\u7d20 elementNode.nextElementSibling // \u4e0b\u4e00\u4e2a\u5144\u5f1f\u6807\u7b7e\u5143\u7d20 elementNode.previousElementSibling // \u4e0a\u4e00\u4e2a\u5144\u5f1f\u6807\u7b7e\u5143\u7d20 CSS\u9009\u62e9\u5668\u67e5\u627e document.querySelector(\"css\u9009\u62e9\u5668\") //\u6839\u636ecss\u9009\u62e9\u7b26\u6765\u83b7\u53d6\u67e5\u627e\u5230\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u6807\u7b7e\u5bf9\u8c61\uff08dom\u5bf9\u8c61\uff09 document.querySelectorAll(\"css\u9009\u62e9\u5668\"); // \u6839\u636ecss\u9009\u62e9\u7b26\u6765\u83b7\u53d6\u67e5\u627e\u5230\u7684\u6240\u6709\u5143\u7d20,\u8fd4\u56de\u6570\u7ec4 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <div id=\"i1\">DIV1</div> <div class=\"c1\">DIV</div> <div class=\"c1\">DIV</div> <div class=\"c1\">DIV</div> <div class=\"outer\"> <div class=\"c1\">item</div> </div> <div class=\"c2\"> <div class=\"c3\"> <ul class=\"c4\"> <li class=\"c5\" id=\"i2\">111</li> <li>222</li> <li>333</li> </ul> </div> </div> <script> // \u76f4\u63a5\u67e5\u627e var ele = document.getElementById(\"i1\"); // ele\u5c31\u662f\u4e00\u4e2adom\u5bf9\u8c61 console.log(ele); var eles = document.getElementsByClassName(\"c1\"); // eles\u662f\u4e00\u4e2a\u6570\u7ec4 [dom1,dom2,...] console.log(eles); var eles2 = document.getElementsByTagName(\"div\"); // eles2\u662f\u4e00\u4e2a\u6570\u7ec4 [dom1,dom2,...] console.log(eles2); var outer = document.getElementsByClassName(\"outer\")[0]; var te = outer.getElementsByClassName(\"c1\"); console.log(te); // \u5bfc\u822a\u67e5\u627e var c5 = document.getElementsByClassName(\"c5\")[0]; console.log(c5); // c5\u662f\u4e00\u4e2aDOM\u5bf9\u8c61 console.log(c5.parentElement.lastElementChild); // \u8fd4\u56de\u503c\u662fdom\u5bf9\u8c61 console.log(c5.parentElement.children); // \u8fd4\u56de\u503c\u662fdom\u5bf9\u8c61\u6570\u7ec4 console.log(c5.nextElementSibling.nextElementSibling); console.log(c5.parentElement.children); // css\u9009\u62e9\u5668 var dom = document.querySelector(\".c2 .c3 .c5\"); console.log(\":::\",dom); var doms = document.querySelectorAll(\"ul li\"); console.log(\":::\",doms); </script> </body> </html> \u7ed1\u5b9a\u4e8b\u4ef6 \u9759\u6001\u7ed1\u5b9a \uff1a\u76f4\u63a5\u628a\u4e8b\u4ef6\u5199\u5728\u6807\u7b7e\u5143\u7d20\u4e2d <div id=\"div\" onclick=\"foo(this)\">click</div> <script> function foo(self){ // \u5f62\u53c2\u4e0d\u80fd\u662fthis; console.log(\"foo\u51fd\u6570\"); console.log(self); } </script> \u52a8\u6001\u7ed1\u5b9a\uff1a\u5728js\u4e2d\u901a\u8fc7\u4ee3\u7801\u83b7\u53d6\u5143\u7d20\u5bf9\u8c61,\u7136\u540e\u7ed9\u8fd9\u4e2a\u5bf9\u8c61\u8fdb\u884c\u540e\u7eed\u7ed1\u5b9a <p id=\"i1\">\u8bd5\u4e00\u8bd5!</p> <script> var ele=document.getElementById(\"i1\"); ele.onclick=function(){ console.log(\"ok\"); console.log(this); // this\u76f4\u63a5\u7528 }; </script> \u4e00\u4e2a\u5143\u7d20\u672c\u8eab\u53ef\u4ee5\u7ed1\u5b9a\u591a\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6, \u4f46\u662f\u5982\u679c\u591a\u6b21\u7ed1\u5b9a\u540c\u4e00\u4e2a\u4e8b\u4ef6,\u5219\u540e\u9762\u7684\u4e8b\u4ef6\u4ee3\u7801\u4f1a\u8986\u76d6\u524d\u9762\u7684\u4e8b\u4ef6\u4ee3\u7801 \u591a\u4e2a\u6807\u7b7e\u7ed1\u5b9a\u4e8b\u4ef6 <ul> <li>111</li> <li>222</li> <li>333</li> <li>444</li> <li>555</li> </ul> <script> var eles = document.querySelectorAll(\"ul li\"); for(var i=0;i<eles.length;i++){ eles[i].onclick = function (){ console.log(this.innerHTML) } } </script> \u64cd\u4f5c\u6807\u7b7e <\u6807\u7b7e\u540d \u5c5e\u60271=\u201c\u5c5e\u6027\u503c1\u201d \u5c5e\u60272=\u201c\u5c5e\u6027\u503c2\u201d\u2026\u2026>\u6587\u672c</\u6807\u7b7e\u540d> \u6587\u672c\u64cd\u4f5c <div class=\"c1\"><span>click</span></div> <script> var ele =document.querySelector(\".c1\"); ele.ondblclick = function (){ // \u67e5\u770b\u6807\u7b7e\u6587\u672c console.log(this.innerHTML) // \u8bbe\u7f6e\u6807\u7b7e\u6587\u672c this.innerHTML = \"<a href='#'>yuan</a>\" } </script> value\u64cd\u4f5c \u50cfinput\u6807\u7b7e\uff0cselect\u6807\u7b7e\u4ee5\u53catextarea\u6807\u7b7e\u662f\u6ca1\u6709\u6587\u672c\u7684\uff0c\u4f46\u662f\u663e\u793a\u5185\u5bb9\u7531value\u5c5e\u6027\u51b3\u5b9a <input type=\"text\" id=\"i1\" value=\"yuan\"> <script> // input\u6807\u7b7e var ele1 =document.getElementById(\"i1\"); console.log(ele1.value); ele1.onmouseover = function (){ this.value = \"alvin\" } </script> css\u6837\u5f0f\u64cd\u4f5c <p id=\"i1\">Hello world!</p> <script> var ele = document.getElementById(\"i1\"); ele.onclick = function (){ this.style.color = \"red\" } </script> \u5c5e\u6027\u64cd\u4f5c elementNode.setAttribute(\"\u5c5e\u6027\u540d\",\"\u5c5e\u6027\u503c\") elementNode.getAttribute(\"\u5c5e\u6027\u540d\") elementNode.removeAttribute(\"\u5c5e\u6027\u540d\"); \u5e76\u4e0d\u662f\u6240\u6709\u5c5e\u6027\u90fd\u53ef\u4ee5\u50cfvalue\u90a3\u6837\u64cd\u4f5c\u3002 class\u5c5e\u6027\u64cd\u4f5c elementNode.className elementNode.classList.add elementNode.classList.remove \u6848\u4f8b\uff1atab\u5207\u6362 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> *{ margin: 0; padding: 0; } .tab{ width: 800px; height: 300px; /*border: 1px solid red;*/ margin: 200px auto; } .tab ul{ list-style: none; } .tab-title{ background-color: #f7f7f7; border: 1px solid #eee; border-bottom: 1px solid #e4393c; } .tab .tab-title li{ display: inline-block; padding: 10px 25px; font-size: 14px; } li.current { background-color: #e4393c; color: #fff; cursor: default; } .hide{ display: none; } </style> </head> <body> <div class=\"tab\"> <ul class=\"tab-title\"> <li class=\"current\" index=\"0\">\u5546\u54c1\u4ecb\u7ecd</li> <li class=\"\" index=\"1\">\u89c4\u683c\u4e0e\u5305\u88c5</li> <li class=\"\" index=\"2\">\u552e\u540e\u4fdd\u969c</li> <li class=\"\" index=\"3\">\u5546\u54c1\u8bc4\u4ef7</li> </ul> <ul class=\"tab-content\"> <li>\u5546\u54c1\u4ecb\u7ecd...</li> <li class=\"hide\">\u89c4\u683c\u4e0e\u5305\u88c5...</li> <li class=\"hide\">\u552e\u540e\u4fdd\u969c...</li> <li class=\"hide\">\u5546\u54c1\u8bc4\u4ef7...</li> </ul> </div> <script> var titles = document.querySelectorAll(\".tab-title li\"); var contents = document.querySelectorAll(\".tab-content li\"); for (var i = 0;i<titles.length;i++){ titles[i].onclick = function () { // (1) \u89e6\u53d1\u4e8b\u4ef6\u6807\u7b7e\u62e5\u6709current\u6837\u5f0f for (var j = 0;j<titles.length;j++){ titles[j].classList.remove(\"current\") } console.log(this); this.classList.add(\"current\"); // (2) \u663e\u793a\u70b9\u51fbtitle\u5bf9\u5e94\u7684\u8be6\u60c5\u5185\u5bb9 var index = this.getAttribute(\"index\"); // console.log(this.getAttribute(\"index\")); // console.log(contents[index]); for (var z = 0;z<contents.length;z++){ contents[z].classList.add(\"hide\"); } contents[index].classList.remove(\"hide\"); } } </script> </body> </html> \u30104\u3011jQuery jQuery\u662f\u4e00\u4e2a\u5feb\u901f\u3001\u7b80\u6d01\u7684JavaScript\u6846\u67b6\uff0c\u662f\u7ee7Prototype\u4e4b\u540e\u53c8\u4e00\u4e2a\u4f18\u79c0\u7684JavaScript\u4ee3\u7801\u5e93\uff08 \u6216JavaScript\u6846\u67b6 \uff09\u3002jQuery\u8bbe\u8ba1\u7684\u5b97\u65e8\u662f\u201cwrite Less\uff0cDo More\u201d\uff0c\u5373\u5021\u5bfc\u5199\u66f4\u5c11\u7684\u4ee3\u7801\uff0c\u505a\u66f4\u591a\u7684\u4e8b\u60c5\u3002\u5b83\u5c01\u88c5JavaScript\u5e38\u7528\u7684\u529f\u80fd\u4ee3\u7801\uff0c\u63d0\u4f9b\u4e00\u79cd\u7b80\u4fbf\u7684JavaScript\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4f18\u5316HTML\u6587\u6863\u64cd\u4f5c\u3001\u4e8b\u4ef6\u5904\u7406\u3001\u52a8\u753b\u8bbe\u8ba1\u548cAjax\u4ea4\u4e92\u3002 jQuery\u7684\u6838\u5fc3\u7279\u6027\u53ef\u4ee5\u603b\u7ed3\u4e3a\uff1a\u5177\u6709\u72ec\u7279\u7684\u94fe\u5f0f\u8bed\u6cd5\u548c\u77ed\u5c0f\u6e05\u6670\u7684\u591a\u529f\u80fd\u63a5\u53e3\uff1b\u5177\u6709\u9ad8\u6548\u7075\u6d3b\u7684css\u9009\u62e9\u5668\uff0c\u5e76\u4e14\u53ef\u5bf9CSS\u9009\u62e9\u5668\u8fdb\u884c\u6269\u5c55\uff1b\u62e5\u6709\u4fbf\u6377\u7684\u63d2\u4ef6\u6269\u5c55\u673a\u5236\u548c\u4e30\u5bcc\u7684\u63d2\u4ef6\u3002jQuery\u517c\u5bb9\u5404\u79cd\u4e3b\u6d41\u6d4f\u89c8\u5668\uff0c\u5982IE 6.0+\u3001FF 1.5+\u3001Safari 2.0+\u3001Opera 9.0+\u7b49 \u76ee\u524d\u5728\u5e02\u573a\u4e0a, 1.x , 2.x, 3.x \u529f\u80fd\u7684\u5b8c\u5584\u57281.x, 2.x\u7684\u65f6\u5019\u662f\u5c5e\u4e8e\u5220\u9664\u65e7\u4ee3\u7801,\u53bb\u9664\u5bf9\u4e8e\u65e7\u7684\u6d4f\u89c8\u5668\u517c\u5bb9\u4ee3\u7801\u30023.x\u7684\u65f6\u5019\u589e\u52a0es\u7684\u65b0\u7279\u6027\u4ee5\u53ca\u8c03\u6574\u6838\u5fc3\u4ee3\u7801\u7684\u7ed3\u6784 \u6839\u672c\u4e0ajquery\u5c31\u662f\u4e00\u4e2a\u5199\u597d\u7684js\u6587\u4ef6,\u6240\u4ee5\u60f3\u8981\u4f7f\u7528jQuery\u7684\u8bed\u6cd5\u5fc5\u987b\u5148\u5f15\u5165\u5230\u672c\u5730 <script src=\"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js\"></script> \u67e5\u627e\u6807\u7b7e /* \u57fa\u672c\u9009\u62e9\u5668 : $(\"#id\") $(\".class\") $(\"element\") $(\".class,p,div\") \u540e\u4ee3\u9009\u62e9\u5668\uff1a $(\".outer div\") \u7b5b\u9009\u5668\uff1a $().first() $().last() $().eq() \u5bfc\u822a\u67e5\u627e\uff1a $(\"div\").children(\".test\") $(\"div\").find(\".test\") // \u5411\u4e0b\u67e5\u627e\u5144\u5f1f\u6807\u7b7e $(\".test\").next() // \u67e5\u627e\u6240\u6709\u5144\u5f1f\u6807\u7b7e $(\"div\").siblings() // \u67e5\u627e\u7236\u6807\u7b7e\uff1a $(\".test\").parent() */ \u7ed1\u5b9a\u4e8b\u4ef6 1. on \u548c off // \u7ed1\u5b9a\u4e8b\u4ef6 $().on(\"\u4e8b\u4ef6\u540d\",\u533f\u540d\u51fd\u6570) // \u89e3\u7ed1\u4e8b\u4ef6,\u7ed9\u6307\u5b9a\u5143\u7d20\u89e3\u9664\u4e8b\u4ef6\u7684\u7ed1\u5b9a $().off(\"\u4e8b\u4ef6\u540d\") 2. \u76f4\u63a5\u901a\u8fc7\u4e8b\u4ef6\u540d\u6765\u8fdb\u884c\u8c03\u7528 $().\u4e8b\u4ef6\u540d(\u533f\u540d\u51fd\u6570) \u64cd\u4f5c\u6807\u7b7e \u6587\u672c\u64cd\u4f5c $(\"\u9009\u62e9\u7b26\").html() // \u8bfb\u53d6\u6307\u5b9a\u5143\u7d20\u7684\u5185\u5bb9,\u5982\u679c$()\u51fd\u6570\u83b7\u53d6\u4e86\u6709\u591a\u4e2a\u5143\u7d20,\u63d0\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20 $(\"\u9009\u62e9\u7b26\").html(\u5185\u5bb9) // \u4fee\u6539\u5185\u5bb9,\u5982\u679c$()\u51fd\u6570\u83b7\u53d6\u4e86\u591a\u4e2a\u5143\u7d20, \u5219\u6279\u91cf\u4fee\u6539\u5185\u5bb9 value\u64cd\u4f5c $().val() \u5c5e\u6027\u64cd\u4f5c //\u8bfb\u53d6\u5c5e\u6027\u503c $(\"\u9009\u62e9\u7b26\").attr(\"\u5c5e\u6027\u540d\"); // \u83b7\u53d6\u975e\u8868\u5355\u5143\u7d20\u7684\u5c5e\u6027\u503c,\u53ea\u4f1a\u63d0\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u5c5e\u6027\u503c //\u64cd\u4f5c\u5c5e\u6027 $(\"\u9009\u62e9\u7b26\").attr(\"\u5c5e\u6027\u540d\",\"\u5c5e\u6027\u503c\"); // \u4fee\u6539\u975e\u8868\u5355\u5143\u7d20\u7684\u5c5e\u6027\u503c,\u5982\u679c\u5143\u7d20\u6709\u591a\u4e2a,\u5219\u5168\u90e8\u4fee\u6539 css\u6837\u5f0f\u64cd\u4f5c \u83b7\u53d6\u6837\u5f0f $().css(\"\u6837\u5f0f\u5c5e\u6027\"); // \u83b7\u53d6\u5143\u7d20\u7684\u6307\u5b9a\u6837\u5f0f\u5c5e\u6027\u7684\u503c,\u5982\u679c\u6709\u591a\u4e2a\u5143\u7d20,\u53ea\u5f97\u5230\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u503c \u64cd\u4f5c\u6837\u5f0f $().css(\"\u6837\u5f0f\u5c5e\u6027\",\"\u6837\u5f0f\u503c\").css(\"\u6837\u5f0f\u5c5e\u6027\",\"\u6837\u5f0f\u503c\"); $().css({\"\u6837\u5f0f\u5c5e\u60271\":\"\u6837\u5f0f\u503c1\",\"\u6837\u5f0f\u5c5e\u60272\":\"\u6837\u5f0f\u503c2\",....}) class \u5c5e\u6027\u64cd\u4f5c $().addClass(\"class1 class2 ... ...\") // \u7ed9\u83b7\u53d6\u5230\u7684\u6240\u6709\u5143\u7d20\u6dfb\u52a0\u6307\u5b9aclass\u6837\u5f0f $().removeClass() // \u7ed9\u83b7\u53d6\u5230\u7684\u6240\u6709\u5143\u7d20\u5220\u9664\u6307\u5b9aclass\u6837\u5f0f $().toggleClass() // \u7ed9\u83b7\u53d6\u5230\u7684\u6240\u6709\u5143\u7d20\u8fdb\u884c\u5224\u65ad,\u5982\u679c\u62e5\u6709\u6307\u5b9aclass\u6837\u5f0f\u7684\u5219\u5220\u9664,\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u6837\u5f0f\u5219\u6dfb\u52a0 \u8282\u70b9\u64cd\u4f5c $(\"\").append(content|fn) // $(\"p\").append(\"<b>Hello</b>\"); \u30105\u3011Ajax\u8bf7\u6c42 # \u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u7684\u65b9\u5f0f\uff1a 1. \u5730\u5740\u680f\u8bf7\u6c42\u3002get 2. a\u6807\u7b7e\u3002get 3. form\u8868\u5355 get post \u540c\u6b65\uff0c\u9875\u9762\u5237\u65b0 4. ajax\u8bf7\u6c42 \u5f02\u6b65, \u5c40\u90e8\u5237\u65b0 Ajax\uff0c\u4e00\u822c\u4e2d\u6587\u79f0\u4e4b\u4e3a\uff1a\"\u963f\u8d3e\u514b\u65af\"\uff0c\u662f\u82f1\u6587 \u201cAsync Javascript And Xml\u201d\u7684\u7b80\u5199\uff0c\u8bd1\u4f5c\uff1a\u5f02\u6b65js\u548cxml\u4f20\u8f93\u6570\u636e\u6280\u672f\u3002 ajax\u7684\u4f5c\u7528\uff1a ajax\u53ef\u4ee5\u8ba9js\u4ee3\u66ff\u6d4f\u89c8\u5668\u5411\u540e\u7aef\u7a0b\u5e8f\u53d1\u9001 http \u8bf7\u6c42\uff0c\u4e0e\u540e\u7aef\u901a\u4fe1\uff0c\u5728\u7528\u6237\u4e0d\u77e5\u9053\u7684\u60c5\u51b5\u4e0b\u64cd\u4f5c\u6570\u636e\u548c\u4fe1\u606f\uff0c\u4ece\u800c\u5b9e\u73b0\u9875\u9762\u5c40\u90e8\u5237\u65b0\u6570\u636e/\u65e0\u5237\u65b0\u66f4\u65b0\u6570\u636e\u3002 \u6240\u4ee5\u5f00\u53d1\u4e2dajax\u662f\u5f88\u5e38\u7528\u7684\u6280\u672f\uff0c\u4e3b\u8981\u7528\u4e8e\u64cd\u4f5c\u540e\u7aef\u63d0\u4f9b\u7684 \u6570\u636e\u63a5\u53e3 \uff0c\u4ece\u800c\u5b9e\u73b0\u7f51\u7ad9\u7684 \u524d\u540e\u7aef\u5206\u79bb \u3002 ajax\u6280\u672f\u7684\u539f\u7406\u662f\u5b9e\u4f8b\u5316js\u7684XMLHttpRequest\u5bf9\u8c61\uff0c\u4f7f\u7528\u6b64\u5bf9\u8c61\u63d0\u4f9b\u7684\u5185\u7f6e\u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e0e\u540e\u7aef\u8fdb\u884c\u6570\u636e\u901a\u4fe1\u3002 \u6570\u636e\u63a5\u53e3 \u6570\u636e\u63a5\u53e3\uff0c\u4e5f\u53ebapi\u63a5\u53e3\uff0c\u8868\u793a \u540e\u7aef\u63d0\u4f9b \u64cd\u4f5c\u6570\u636e/\u529f\u80fd\u7684url\u5730\u5740\u7ed9\u5ba2\u6237\u7aef\u4f7f\u7528\u3002 \u5ba2\u6237\u7aef\u901a\u8fc7\u53d1\u8d77\u8bf7\u6c42\u5411\u670d\u52a1\u7aef\u63d0\u4f9b\u7684url\u5730\u5740\u7533\u8bf7\u64cd\u4f5c\u6570\u636e\u3010\u64cd\u4f5c\u4e00\u822c\uff1a\u589e\u5220\u67e5\u6539\u3011 \u540c\u65f6\u5728\u5de5\u4f5c\u4e2d\uff0c\u5927\u90e8\u5206\u6570\u636e\u63a5\u53e3\u90fd\u4e0d\u662f\u624b\u5199\uff0c\u800c\u662f\u901a\u8fc7\u51fd\u6570\u5e93/\u6846\u67b6\u6765\u751f\u6210\u3002 \u524d\u540e\u7aef\u5206\u79bb \u5728\u5f00\u53d1Web\u5e94\u7528\u4e2d\uff0c\u6709\u4e24\u79cd\u5e94\u7528\u6a21\u5f0f\uff1a \u524d\u540e\u7aef\u4e0d\u5206\u79bb \u524d\u540e\u7aef\u5206\u79bb ajax\u7684\u4f7f\u7528 ajax\u7684\u4f7f\u7528\u5fc5\u987b\u4e0e\u670d\u52a1\u7aef\u7a0b\u5e8f\u914d\u5408\u4f7f\u7528\uff0c\u4f46\u662f\u5f00\u53d1\u4e2d\u6211\u4eec\u5bf9\u4e8eajax\u8bf7\u6c42\u7684\u6570\u636e\uff0c\u4e0d\u4ec5\u4ec5\u53ef\u4ee5\u662f\u81ea\u5df1\u5199\u7684\u670d\u52a1\u7aef\u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u662f\u522b\u4eba\u5199\u597d\u7684\u6570\u636e\u63a5\u53e3\u8fdb\u884c\u8c03\u7528\u3002 \u6570\u636e\u63a5\u53e3\uff1a # \u5929\u6c14\u63a5\u53e3 https://v0.yiketianqi.com/api?unescape=1&version=v91&appid=43656176&appsecret=I42og6Lm&ext=&cityid=&city= # \u97f3\u4e50\u63a5\u53e3 https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg?g_tk=5381&uin=0&format=json&inCharset=utf-8&outCharset=utf-8%C2%ACice=0&platform=h5&needNewCode=1&tpl=3&page=detail&type=top&topid=36&_=1520777874472%E4%BD%9C%E8%80%85%EF%BC%9Atsia%E9%93%BE%E6%8E%A5%EF%BC%9Ahttps://www.jianshu.com/p/67e4bd47d981 \u7b2c\u4e09\u7ae0. \u6570\u636e\u89e3\u6790 3.1\u3001\u6b63\u5219\u8868\u8fbe\u5f0f Regular Expression\uff0c\u8bd1\u4f5c\u6b63\u5219\u8868\u8fbe\u5f0f\u6216\u6b63\u89c4\u8868\u793a\u6cd5\uff0c\u8868\u793a\u6709\u89c4\u5219\u7684\u8868\u8fbe\u5f0f\uff0c\u610f\u601d\u662f\u8bf4\uff0c\u63cf\u8ff0\u4e00\u6bb5\u6587\u672c\u6392\u5217\u89c4\u5219\u7684\u8868\u8fbe\u5f0f\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u5e76\u4e0d\u662fPython\u7684\u4e00\u90e8\u5206\u3002\u800c\u662f\u4e00\u5957\u72ec\u7acb\u4e8e\u7f16\u7a0b\u8bed\u8a00\uff0c\u7528\u4e8e\u5904\u7406\u590d\u6742\u6587\u672c\u4fe1\u606f\u7684\u5f3a\u5927\u7684\u9ad8\u7ea7\u6587\u672c\u64cd\u4f5c\u5de5\u5177\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u62e5\u6709\u81ea\u5df1\u72ec\u7279\u7684\u89c4\u5219\u8bed\u6cd5\u4ee5\u53ca\u4e00\u4e2a\u72ec\u7acb\u7684\u6b63\u5219\u5904\u7406\u5f15\u64ce\uff0c\u6211\u4eec\u6839\u636e\u6b63\u5219\u8bed\u6cd5\u7f16\u5199\u597d\u89c4\u5219\uff08\u6a21\u5f0f\uff09\u4ee5\u540e\uff0c\u5f15\u64ce\u4e0d\u4ec5\u80fd\u591f\u6839\u636e\u89c4\u5219\u8fdb\u884c\u6a21\u7cca\u6587\u672c\u67e5\u627e\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u884c\u6a21\u7cca\u5206\u5272\uff0c\u66ff\u6362\u7b49\u590d\u6742\u7684\u6587\u672c\u64cd\u4f5c\uff0c\u80fd\u8ba9\u5f00\u53d1\u8005\u968f\u5fc3\u6240\u6b32\u5730\u5904\u7406\u6587\u672c\u4fe1\u606f\u3002\u6b63\u5219\u5f15\u64ce\u4e00\u822c\u7531\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u64cd\u4f5c\uff0c\u50cfpython\u5c31\u63d0\u4f9b\u4e86re\u6a21\u5757\u6216regex\u6a21\u5757\u6765\u8c03\u7528\u6b63\u5219\u5904\u7406\u5f15\u64ce\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u5728\u5904\u7406\u6587\u672c\u7684\u6548\u7387\u4e0a\u4e0d\u5982\u7cfb\u7edf\u81ea\u5e26\u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\uff0c\u4f46\u529f\u80fd\u5374\u6bd4\u7cfb\u7edf\u81ea\u5e26\u7684\u8981\u5f3a\u5927\u8bb8\u591a\u3002 \u6700\u65e9\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u6e90\u4e8ePerl\u8bed\u8a00\uff0c\u540e\u9762\u5176\u4ed6\u7684\u7f16\u7a0b\u8bed\u8a00\u5728\u63d0\u4f9b\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u65f6\u57fa\u672c\u6cbf\u7528\u4e86Perl\u8bed\u8a00\u7684\u6b63\u5219\u8bed\u6cd5\uff0c\u6240\u4ee5\u6211\u4eec\u5b66\u4e60python\u7684\u6b63\u5219\u4ee5\u540e\uff0c\u4e5f\u53ef\u4ee5\u5728java\uff0cphp\uff0cgo\uff0cjavascript\uff0csql\u7b49\u7f16\u7a0b\u8bed\u8a00\u4e2d\u4f7f\u7528\u3002 \u6b63\u5219\u5bf9\u5b57\u7b26\u4e32\u6216\u6587\u672c\u7684\u64cd\u4f5c\uff0c\u65e0\u975e\u662f\u5206\u5272\u3001\u5339\u914d\u3001\u67e5\u627e\u548c\u66ff\u6362\u3002 \u5728\u7ebf\u6d4b\u8bd5\u5de5\u5177 http://tool.chinaz.com/regex/ \u30101\u3011\u5143\u5b57\u7b26(Metacharacters) \u5143\u5b57\u7b26\u662f\u5177\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5b57\u7b26\u3002 \u5143\u5b57\u7b26 \u63cf\u8ff0 . \u53eb\u901a\u914d\u7b26\u3001\u4e07\u80fd\u901a\u914d\u7b26\u6216\u901a\u914d\u5143\u5b57\u7b26\uff0c\u5339\u914d1\u4e2a\u9664\u4e86\u6362\u884c\u7b26\\n\u4ee5\u5916\u4efb\u4f55\u539f\u5b50 [] \u5339\u914d\u4e00\u4e2a\u4e2d\u62ec\u53f7\u4e2d\u51fa\u73b0\u7684\u4efb\u610f\u539f\u5b50 [^\u539f\u5b50] \u5339\u914d\u4e00\u4e2a\u6ca1\u6709\u5728\u4e2d\u62ec\u53f7\u51fa\u73b0\u7684\u4efb\u610f\u539f\u5b50 + \u53eb\u52a0\u53f7\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u51fa\u73b01\u6b21\u6216\u591a\u6b21 * \u53eb\u661f\u53f7\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u51fa\u73b00\u6b21\u6216\u591a\u6b21 ? \u53eb\u975e\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u51fa\u73b00\u6b21\u62161\u6b21 {n,m} \u53eb\u6570\u91cf\u8303\u56f4\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u7684\u6570\u91cf\u8303\u56f4\uff0c\u6709{n}\uff0c{n, }, {,m}, {n,m}\u56db\u79cd\u5199\u6cd5\uff0c\u5176\u4e2dn\u4e0em\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002 ^ \u53eb\u5f00\u59cb\u8fb9\u754c\u7b26\u6216\u5f00\u59cb\u951a\u70b9\u7b26\uff0c\u5339\u914d\u4e00\u884c\u7684\u5f00\u5934\u4f4d\u7f6e $ \u53eb\u7ed3\u675f\u8fb9\u754c\u7b26\u6216\u7ed3\u675f\u951a\u70b9\u7b26\uff0c\u5339\u914d\u4e00\u884c\u7684\u7ed3\u675f\u4f4d\u7f6e | \u6307\u5b9a\u539f\u5b50\u6216\u6b63\u5219\u6a21\u5f0f\u8fdb\u884c\u4e8c\u9009\u4e00\u6216\u591a\u9009\u4e00 () \u5bf9\u539f\u5b50\u6216\u6b63\u5219\u6a21\u5f0f\u8fdb\u884c\u6355\u83b7\u63d0\u53d6\u548c\u5206\u7ec4\u5212\u5206\u6574\u4f53\u64cd\u4f5c\uff0c \\ \u8f6c\u4e49\u5b57\u7b26\uff0c\u53ef\u4ee5\u628a\u539f\u5b50\u8f6c\u6362\u7279\u6b8a\u5143\u5b57\u7b26\uff0c\u4e5f\u53ef\u4ee5\u628a\u7279\u6b8a\u5143\u5b57\u7b26\u8f6c\u6210\u539f\u5b50\u3002 import re \"\"\"re.findall(\u6b63\u5219\u6a21\u5f0f, \u6587\u672c) \u57fa\u4e8e\u6b63\u5219\u6a21\u5f0f\u67e5\u627e\u6240\u6709\u5339\u914d\u7684\u6587\u672c\u5185\u5bb9\"\"\" # part1: \u901a\u914d\u7b26->. \u5b57\u7b26\u96c6-> [] ret1 = re.findall(\"a\", \"a,b,c,d,e\") ret1 = re.findall(\".\", \"a,b,c,d,e\") ret1 = re.findall(\"[ace]\", \"a,b,c,d,e\") ret1 = re.findall(\"[a-z]\", \"a,b,c,d,e\") ret1 = re.findall(\"[0-9]\", \"1,2,3,4,5\") ret1 = re.findall(\"\\d\", \"1,2,3,4,5\") ret1 = re.findall(\"[0-9a-z]\", \"1,a,2,b,3\") ret1 = re.findall(\"[^a-z]\", \"1,a,2,b,3\") ret1 = re.findall(\"[^0-9,]\", \"1,a,2,b,3\") print(ret1) # part2:\u91cd\u590d\u5143\u5b57\u7b26-> + * {} ? ret2 = re.findall(\"[0-9a-zA-Z]\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w+\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w+?\", \"apple,banana,orange,melon\") # \u53d6\u6d88\u8d2a\u5a6a\u5339\u914d ret2 = re.findall(\"\\w*\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w{6}\", \"apple,banana,orange,melon\") # part3: \u4f4d\u7f6e\u5143\u5b57\u7b26-> ^ $ ret3 = re.findall(\"^\\w{5}\", \"apple,banana,peach,orange,melon\") ret3 = re.findall(\"\\w{5}$\", \"apple,banana,peach,orange,melon\") ret3 = re.findall(\"^\\w{5}$\", \"apple,banana,peach,orange,melon\") print(ret3) # part4: # | \u6307\u5b9a\u539f\u5b50\u6216\u6b63\u5219\u6a21\u5f0f\u8fdb\u884c\u4e8c\u9009\u4e00\u6216\u591a\u9009\u4e00 # () \u5177\u5907\u6a21\u5f0f\u6355\u83b7\u7684\u80fd\u529b\uff0c\u4e5f\u5c31\u662f\u4f18\u5148\u63d0\u53d6\u6570\u636e\u7684\u80fd\u529b\uff0c\u901a\u8fc7(?:) \u53ef\u4ee5\u53d6\u6d88\u6a21\u5f0f\u6355\u83b7 ret4 = re.findall(\",\\w{5},\", \",apple,banana,peach,orange,melon,\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\",(\\w{5}),\", \",apple,banana,peach,orange,melon,\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\"\\w+@\\w+\\.com\", \"123abc@163.com,....234xyz@qq.com,....\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\"(\\w+)@qq\\.com\", \"123abc@163.com,....234xyz@qq.com,....\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\"(?:\\w+)@(?:qq|163)\\.com\", \"123abc@163.com,....234xyz@qq.com,....\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd print(ret4) # part5: \u8f6c\u4e49\u7b26-> \\d \\D \\w \\W \\n \\s \\S \\b \\B \"\"\" \\b 1\u4e2a\u5355\u8bcd\u8fb9\u754c\u539f\u5b50 \"\"\" txt = \"my name is nana. nihao,nana\" ret = re.findall(r\"na\", txt) ret = re.findall(r\"\\bna\", txt) ret = re.findall(r\"\\bna\\w{2}\", txt) print(ret) # ['na', 'na', 'na'] \u8f6c\u4e49\u5143\u5b57\u7b26\u662f \\ \u5f00\u5934\u7684\u5143\u5b57\u7b26\uff0c\u7531\u4e8e\u67d0\u4e9b\u6b63\u5219\u6a21\u5f0f\u4f1a\u5728\u5f00\u53d1\u4e2d\u53cd\u590d\u88ab\u7528\u5230\uff0c\u6240\u4ee5\u6b63\u5219\u8bed\u6cd5\u9884\u5b9a\u4e49\u4e86\u4e00\u4e9b\u7279\u6b8a\u6b63\u5219\u6a21\u5f0f\u4ee5\u65b9\u4fbf\u6211\u4eec\u7b80\u5199\u3002 \u5143\u5b57\u7b26 \u63cf\u8ff0 \u793a\u4f8b \\d \u5339\u914d\u4e00\u4e2a\u6570\u5b57\u539f\u5b50\uff0c\u7b49\u4ef7\u4e8e [0-9] \u3002 \\d \\D \u5339\u914d\u4e00\u4e2a\u975e\u6570\u5b57\u539f\u5b50\u3002\u7b49\u4ef7\u4e8e [^0-9] \u6216 [^\\d] \u3002 \"\\D\" \\b \u5339\u914d\u4e00\u4e2a\u5355\u8bcd\u8fb9\u754c\u539f\u5b50\uff0c\u4e5f\u5c31\u662f\u6307\u5355\u8bcd\u548c\u7a7a\u683c\u95f4\u7684\u4f4d\u7f6e\u3002 er\\b \\B \u5339\u914d\u4e00\u4e2a\u975e\u5355\u8bcd\u8fb9\u754c\u539f\u5b50\uff0c\u7b49\u4ef7\u4e8e [^\\b] r\"\\Bain\"r\"ain\\B\" \\n \u5339\u914d\u4e00\u4e2a\u6362\u884c\u7b26 \\t \u5339\u914d\u4e00\u4e2a\u5236\u8868\u7b26\uff0ctab\u952e \\s \u5339\u914d\u4e00\u4e2a\u4efb\u4f55\u7a7a\u767d\u5b57\u7b26\u539f\u5b50\uff0c\u5305\u62ec\u7a7a\u683c\u3001\u5236\u8868\u7b26\u3001\u6362\u9875\u7b26\u7b49\u7b49\u3002\u7b49\u4ef7\u4e8e [ \\f\\n\\r\\t\\v] \u3002 \"\\s\" \\S \u5339\u914d\u4e00\u4e2a\u4efb\u4f55\u975e\u7a7a\u767d\u5b57\u7b26\u539f\u5b50\u3002\u7b49\u4ef7\u4e8e [^ \\f\\n\\r\\t\\v] \u6216 [^\\s] \u3002 \"\\S\" \\w \u5339\u914d\u4e00\u4e2a\u5305\u62ec\u4e0b\u5212\u7ebf\u7684\u5355\u8bcd\u539f\u5b50\u3002\u7b49\u4ef7\u4e8e [A-Za-z0-9_] \u3002 \"\\w\" \\W \u5339\u914d\u4efb\u4f55\u975e\u5355\u8bcd\u5b57\u7b26\u3002\u7b49\u4ef7\u4e8e [^A-Za-z0-9_] \u6216 [^\\w] \u3002 \"\\W\" \u6ce8\u610f\uff1apython\u672c\u8eab\u6ca1\u6709\u5185\u7f6e\u6b63\u5219\u5904\u7406\u7684\uff0cpython\u4e2d\u7684\u6b63\u5219\u5c31\u662f\u4e00\u6bb5\u5b57\u7b26\u4e32\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528python\u6a21\u5757\u4e2d\u63d0\u4f9b\u7684\u51fd\u6570\u628a\u5b57\u7b26\u4e32\u53d1\u9001\u7ed9\u6b63\u5219\u5f15\u64ce\uff0c\u6b63\u5219\u5f15\u64ce\u4f1a\u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u771f\u6b63\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5904\u7406\u6587\u672c\u5185\u5bb9\u3002 \u30102\u3011re\u6a21\u5757\u4e2d\u7684\u5e38\u7528\u51fd\u6570 re \u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u7ec4\u6b63\u5219\u5904\u7406\u51fd\u6570\uff0c\u4f7f\u6211\u4eec\u53ef\u4ee5\u5728\u5b57\u7b26\u4e32\u4e2d\u641c\u7d22\u5339\u914d\u9879\uff1a \u51fd\u6570 \u63cf\u8ff0 findall \u6309\u6307\u5b9a\u7684\u6b63\u5219\u6a21\u5f0f\u67e5\u627e\u6587\u672c\u4e2d\u6240\u6709\u7b26\u5408\u6b63\u5219\u6a21\u5f0f\u7684\u5339\u914d\u9879\uff0c\u4ee5\u5217\u8868\u683c\u5f0f\u8fd4\u56de\u7ed3\u679c\u3002 search \u5728\u5b57\u7b26\u4e32\u4e2d \u4efb\u4f55\u4f4d\u7f6e \u67e5\u627e\u9996\u4e2a\u7b26\u5408\u6b63\u5219\u6a21\u5f0f\u7684\u5339\u914d\u9879\uff0c\u5b58\u5728\u5219\u8fd4\u56dere.Match\u5bf9\u8c61\uff0c\u4e0d\u5b58\u5728\u8fd4\u56deNone match \u5224\u5b9a\u5b57\u7b26\u4e32 \u5f00\u59cb\u4f4d\u7f6e \u662f\u5426\u5339\u914d\u6b63\u5219\u6a21\u5f0f\u7684\u89c4\u5219\uff0c\u5339\u914d\u5219\u8fd4\u56dere.Match\u5bf9\u8c61\uff0c\u4e0d\u5339\u914d\u8fd4\u56deNone split \u6309\u6307\u5b9a\u7684\u6b63\u5219\u6a21\u5f0f\u6765\u5206\u5272\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u5206\u5272\u540e\u7684\u5217\u8868 sub \u628a\u5b57\u7b26\u4e32\u6309\u6307\u5b9a\u7684\u6b63\u5219\u6a21\u5f0f\u6765\u67e5\u627e\u7b26\u5408\u6b63\u5219\u6a21\u5f0f\u7684\u5339\u914d\u9879\uff0c\u5e76\u53ef\u4ee5\u66ff\u6362\u4e00\u4e2a\u6216\u591a\u4e2a\u5339\u914d\u9879\u6210\u5176\u4ed6\u5185\u5bb9\u3002 findall def findall(pattern, string, flags=0) findall() \u51fd\u6570\u8fd4\u56de\u5305\u542b\u6240\u6709\u5339\u914d\u9879\u7684\u5217\u8868\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5217\u8868\u3002 search def search(pattern, string, flags=0) search() \u51fd\u6570\u641c\u7d22\u5339\u914d\u7684\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u5339\u914d\u4e0a\u5219\u8fd4\u56de\u5339\u914d\u5bf9\u8c61re.Match\u3002\u5982\u679c\u6709\u591a\u4e2a\u5339\u914d\u9879\uff0c\u5219\u4ec5\u8fd4\u56de\u5339\u914d\u9879\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u503c\u4e3aNone import re ret = re.search(\"1[3-9]\\d{9}\", \"\u6211\u7684\u624b\u673a\u53f7\u7801\u662f13928835900,\u6211\u5973\u670b\u53cb\u7684\u624b\u673a\u53f7\u662f15100363326\") print(ret) print(ret.start(), ret.end(), ret.span()) print(ret.group()) ret = re.search(\"(?P<tel>1[3-9]\\d{9}).*?(?P<email>\\d+@qq.com)\", \"\u6211\u7684\u624b\u673a\u53f7\u7801\u662f13928835900,\u6211\u7684\u90ae\u7bb1\u662f123@qq.com\") print(ret) print(ret.group(\"tel\")) print(ret.group(\"email\")) match def match(pattern, string, flags=0) match() \u51fd\u6570\u641c\u7d22\u5339\u914d\u7684\u5b57\u7b26\u4e32\u5f00\u59cb\u4f4d\u7f6e\uff0c\u5982\u679c\u5339\u914d\u4e0a\u5219\u8fd4\u56de\u5339\u914d\u5bf9\u8c61\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u503c\u4e3aNone split def split(patter, string, maxsplit=0, flags=0) split() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u6b63\u5219\u5206\u5272\u3002 import re txt = \"my name is moluo\" ret = re.split(\"\\s\", txt) print(ret) # ['my', 'name', 'is', 'moluo'] \u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a maxsplit \u53c2\u6570\u6765\u63a7\u5236\u5206\u5272\u7684\u6b21\u6570\uff0c\u4f8b\u5982\uff0c\u4ec5\u5728\u7b2c1\u6b21\u51fa\u73b0\u65f6\u624d\u62c6\u5206\u5b57\u7b26\u4e32\uff1a import re txt = \"my name is yuan\" ret = re.split(\"\\s+\", txt) print(ret) sub\u548csubn def sub(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c def subn(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c\u548c\u6b21\u6570 sub() \u51fd\u6570\u7528\u9009\u62e9\u7684\u6587\u672c\u66ff\u6362\u5339\u914d: import re txt = \"my name is yuan\" # ret = re.sub(\"\\s+\",\" \" ,txt) ret = re.sub(\"\\s+\", \" \", txt, 2) print(ret) compile() def compile(pattern, flags=0) import re re_email = re.compile(r\"(?:\\+86)?1[3-9]\\d{9}\") ret = re_email.findall(\"15100649928,123@qq.com,13653287791,666@163.com\") print(ret) \u5982\u679c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u8981\u4f7f\u7528\u51e0\u5343\u904d\uff0c\u6bcf\u4e00\u6b21\u90fd\u4f1a\u7f16\u8bd1\uff0c\u51fa\u4e8e\u6548\u7387\u7684\u8003\u8651\u8fdb\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7f16\u8bd1\uff0c\u5c31\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u7f16\u8bd1\u4e86\uff0c\u8282\u7701\u4e86\u7f16\u8bd1\u7684\u65f6\u95f4\uff0c\u4ece\u800c\u63d0\u5347\u6548\u7387 \u30104\u3011\u6b63\u5219\u8fdb\u9636 .*? import re text = '<12> <xyz> <!@#$%> <1a!#e2> <>' ret = re.findall(\"<\\d+>\", text) ret = re.findall(\"<\\w+>\", text) ret = re.findall(\"<.+>\", text) ret = re.findall(\"<.+?>\", text) ret = re.findall(\"<.*?>\", text) print(ret) \u6a21\u5f0f\u4fee\u6b63\u7b26 \u6a21\u5f0f\u4fee\u6b63\u7b26\uff0c\u4e5f\u53eb\u6b63\u5219\u4fee\u9970\u7b26\uff0c\u6a21\u5f0f\u4fee\u6b63\u7b26\u5c31\u662f\u7ed9\u6b63\u5219\u6a21\u5f0f\u589e\u5f3a\u6216\u589e\u52a0\u529f\u80fd\u7684\u3002 \u901a\u7528flags\uff08\u4fee\u6b63\u7b26\uff09 \u503c \u8bf4\u660e re.I \u662f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f re.L \u505a\u672c\u5730\u5316\u8bc6\u522b\u5339\u914d re.M \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd\u5230^\u548c$ re.S \u4f7f.\u5339\u914d\u5305\u62ec\u6362\u884c\u7b26\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26 re.U \u6839\u636eUnicode\u5b57\u7b26\u96c6\u89e3\u6790\u5b57\u7b26\uff0c\u5f71\u54cd\\w\u3001\\W\u3001\\b\u3001\\B re.X \u901a\u8fc7\u7ed9\u4e88\u6211\u4eec\u529f\u80fd\u7075\u6d3b\u7684\u683c\u5f0f\u4ee5\u4fbf\u66f4\u597d\u7684\u7406\u89e3\u6b63\u5219\u8868\u8fbe\u5f0f import re text = \"\"\" <12 > <x yz> <!@#$%> <1a!# e2> <> \"\"\" ret = re.findall(\"<.*?>\", text) ret = re.findall(\"<.*?>\", text, re.S) print(ret) \u7ec3\u4e60\uff1a\u8c46\u74e3Top250\u9875\u9762\u89e3\u6790 \u30105\u3011\u7ec3\u4e60 \u5de5\u4f5c\u4e2d\uff0c\u6b63\u5219\u4e00\u822c\u7528\u4e8e\u9a8c\u8bc1\u6570\u636e\u3001\u6821\u9a8c\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\u3001\u722c\u866b\u3001\u8fd0\u7ef4\u65e5\u5fd7\u5206\u6790\u7b49\u3002\u5176\u4e2d\u5982\u679c\u662f\u9a8c\u8bc1\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\uff1a \u573a\u666f \u6b63\u5219\u8868\u8fbe\u5f0f \u7528\u6237\u540d ^[a-z0-9_-]{3,16}$ \u5bc6\u7801 ^[a-z0-9_-]{6,18}$ \u624b\u673a\u53f7\u7801 ^(?:\\+86)?1[3-9]\\d{9}$ \u989c\u8272\u7684\u5341\u516d\u8fdb\u5236\u503c ^#?([a-f0-9]{6}|[a-f0-9]{3})$ \u7535\u5b50\u90ae\u7bb1 ^[a-z\\d]+(\\.[a-z\\d]+)*@([\\da-z](-[\\da-z])?)+\\.[a-z]+$ URL ^(?:https:\\/\\/|http:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]+).\\w+$ IP \u5730\u5740 ((2[0-4]\\d|25[0-5]|[01]?\\d\\d?)\\.){3}(2[0-4]\\d|25[0-5]|[01]?\\d\\d?) HTML \u6807\u7b7e ^<([a-z]+)([^<]+)*(?:>(.*)<\\/\\1> utf-8\u7f16\u7801\u4e0b\u7684\u6c49\u5b57\u8303\u56f4 ^[\\u2E80-\\u9FFF]+$ 1\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u6574\u6570\u6216\u8005\u5c0f\u6570\uff08\u5305\u62ec\u6b63\u6570\u548c\u8d1f\u6570\uff09 2\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u5e74\u6708\u65e5\u65e5\u671f \u683c\u5f0f2018-12-31 3\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914dqq\u53f7 5-12 4\u3001\u7f16\u5199\u6b63\u5219\uff0c11\u4f4d\u7684\u7535\u8bdd\u53f7\u7801 5\u3001\u7f16\u5199\u6b63\u5219\uff0c\u957f\u5ea6\u4e3a8-10\u4f4d\u7684\u7528\u6237\u5bc6\u7801 \uff1a \u5305\u542b\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf 6\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece18\u4f4d\u7701\u4efd\u8bc1\u4e2d\u63d0\u53d6\u7528\u6237\u751f\u65e5\u65e5\u671f 7\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece\u6587\u672c\"a@com b@qq.com 333@qq.com 333@168.com 19022@sina.com.cn\"\u4e2d\u5339\u914dqq\u90ae\u7bb1\u5730\u5740 8\u3001\u4ece\u4ee5\u4e0b\u591a\u884c\u6587\u672c\u4e2d\u63d0\u53d6href=\"\"\u4e2d\u7684\u53cc\u5f15\u53f7\u7684\u503c\uff0c\u5e76\u63d0\u53d6\u6807\u7b7e\u5185\u5bb9 <a>\u5185\u5bb9<a> \"\"\" <a href=\"http://www.badu.com/s?wd=hahaha\">hahaha</a> <a href=\"http://www.tmall.com/\">tmall</a> <a href=\"http://www.tmall.com/\">tmall</a> \"\"\" \u8bfe\u5802\u4ee3\u7801 import re \"\"\" 1\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u6587\u672c\u4e2d\u7684\u6574\u6570\u6216\u8005\u5c0f\u6570\uff08\u5305\u62ec\u6b63\u6570\u548c\u8d1f\u6570\uff09 \"\"\" # txt = \"10.3 10 20 -20 +20 --20 ++20 -30.5444\" # # ret = re.findall(r\"-?\\+?\\d+\", txt) # ret = re.findall(r\"[\\+\\-]?(?:(?:\\d+\\.\\d+)|(?:\\d+))\", txt) # print(ret) # # ['10', '3', '10', '20', '-20', '+20', '-20', '+20'] \"\"\" 2\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u5e74\u6708\u65e5\u65e5\u671f \u683c\u5f0f: 2018-12-31 \"\"\" # txt = \"2018-12-31 2018-12-01 2018-12 2018-31 0000-12-31 2018-1-31 2018-01-31 20-01-31 20-01-1 2020-1-1 2020-01-01\" # ret = re.findall(r\"[12]\\d{3}-\\d+-\\d+\", txt) # print(ret) # ['2018-12-31', '2018-12-01', '2018-1-31', '2018-01-31', '2020-1-1', '2020-01-01'] # \"\"\" 3\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914dqq\u53f7 5-12\u6570\u5b57 \"\"\" # txt = \"20181231 40001 2202020133 13311233220222 20202012024222 222050sss2222 33020202222 2001 202011 2020.0101222\" # ret = re.findall(r\"[1-9]\\d{4,11}\", txt) # print(ret) # ['20181231', '40001', '2202020133', '133112332202', '202020120242', '222050', '33020202222', '202011', '101222'] \"\"\" 4\u3001\u7f16\u5199\u6b63\u5219\uff0c11\u4f4d\u7684\u624b\u673a\u53f7\u7801 \"\"\" # txt = \"1331234546 1501233453 15812345678 158-1234-5678 158 1234 5678 20022221111 10012345678 19012345678\" # ret = re.findall(r\"1[3-9]\\d{9}\", txt) # print(ret) # # # # \u5982\u679c 158-1234-5678 \u548c 158 1234 5678\u4e5f\u7b97\u5462\uff1f # txt = \"1331234546 1501233453 15812345678 158-1234-5678 158 1234 5678 20022221111 10012345678 19012345678\" # ret = re.findall(r\"1[3-9]\\d[\\- ]?\\d{4}[\\- ]?\\d{4}\", txt) # print(ret) # \"\"\" 5\u3001\u7f16\u5199\u6b63\u5219\uff0c\u957f\u5ea6\u4e3a8-10\u4f4d\u7684\u7528\u6237\u5bc6\u7801 \uff1a \u5305\u542b\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf \"\"\" # password = input(\"\u8bf7\u8f93\u5165\u957f\u5ea6\u4e3a8-10\u4f4d\u7684\u7528\u6237\u5bc6\u7801\uff08\u5305\u542b\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf\uff09\uff1a\") # ret = re.match(r\"^\\w{8,10}$\", password) # print(ret) \"\"\" 6\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece18\u4f4d\u7701\u4efd\u8bc1\u4e2d\u63d0\u53d6\u7528\u6237\u751f\u65e5\u65e5\u671f \"\"\" # idCard = \"51142119991021155x\" # ret = re.findall(r\"^[1-6]\\d{5}(\\d{8})\\d{3}[\\dxX]$\", idCard) # # ret = re.findall(r\"^(?:1[1-5]|2[1-3]|3[1-7]|4[1-6]|5[0-4]|6[1-5])\\d{4}(\\d{8})\\d{3}[\\dxX]$\", idCard) # print(ret) \"\"\" 7\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece\u6587\u672c\"a@com b@qq.com 333@qq.com 333@168.com 19022@sina.com.cn\"\u4e2d\u5339\u914dqq\u90ae\u7bb1\u5730\u5740 \"\"\" # txt = \"a@com b@qq.com 333@qq.com 333@168.com 19022@sina.com.cn\" # ret = re.findall(r\"\\w+@\\w+\\.\\w+(?:.cn)?\", txt) # print(ret) # ['b@qq.com', '333@qq.com', '333@168.com', '19022@sina.com.cn'] \"\"\" 8\u3001\u4ece\u4ee5\u4e0b\u591a\u884c\u6587\u672c\u4e2d\u63d0\u53d6href=\"\"\u4e2d\u7684\u53cc\u5f15\u53f7\u7684\u503c\uff0c\u5e76\u63d0\u53d6\u6807\u7b7e\u5185\u5bb9 <a>\u5185\u5bb9<a> \"\"\" # txt = \"\"\" # <a href=\"http://www.badu.com/s?wd=hahaha\">hahaha</a> # <a href=\"http://www.tmall.com/\">tmall</a> # <a href=\"http://www.tmall.com/\">tmall</a> # \"\"\" # ret = re.findall(r'<a href=\"(?P<href>.*?)\">(?P<content>.*?)</a>', txt, re.M+re.S) # print(ret) 3.2\u3001BS4 \u30101\u3011\u7b80\u4ecb \u7b80\u5355\u6765\u8bf4\uff0cBeautiful Soup\u662fpython\u7684\u4e00\u4e2a\u5e93\uff0c\u6700\u4e3b\u8981\u7684\u529f\u80fd\u662f\u4ece\u7f51\u9875\u6293\u53d6\u6570\u636e\u3002\u5b98\u65b9\u89e3\u91ca\u5982\u4e0b\uff1a ''' Beautiful Soup\u63d0\u4f9b\u4e00\u4e9b\u7b80\u5355\u7684\u3001python\u5f0f\u7684\u51fd\u6570\u7528\u6765\u5904\u7406\u5bfc\u822a\u3001\u641c\u7d22\u3001\u4fee\u6539\u5206\u6790\u6811\u7b49\u529f\u80fd\u3002 \u5b83\u662f\u4e00\u4e2a\u5de5\u5177\u7bb1\uff0c\u901a\u8fc7\u89e3\u6790\u6587\u6863\u4e3a\u7528\u6237\u63d0\u4f9b\u9700\u8981\u6293\u53d6\u7684\u6570\u636e\uff0c\u56e0\u4e3a\u7b80\u5355\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u591a\u5c11\u4ee3\u7801\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u3002 ''' Beautiful Soup \u662f\u4e00\u4e2a\u53ef\u4ee5\u4eceHTML\u6216XML\u6587\u4ef6\u4e2d\u63d0\u53d6\u6570\u636e\u7684Python\u5e93.\u5b83\u80fd\u591f\u901a\u8fc7\u4f60\u559c\u6b22\u7684\u8f6c\u6362\u5668\u5b9e\u73b0\u60ef\u7528\u7684\u6587\u6863\u5bfc\u822a,\u67e5\u627e,\u4fee\u6539\u6587\u6863\u7684\u65b9\u5f0f.Beautiful Soup\u4f1a\u5e2e\u4f60\u8282\u7701\u6570\u5c0f\u65f6\u751a\u81f3\u6570\u5929\u7684\u5de5\u4f5c\u65f6\u95f4.\u4f60\u53ef\u80fd\u5728\u5bfb\u627e Beautiful Soup3 \u7684\u6587\u6863,Beautiful Soup 3 \u76ee\u524d\u5df2\u7ecf\u505c\u6b62\u5f00\u53d1,\u5b98\u7f51\u63a8\u8350\u5728\u73b0\u5728\u7684\u9879\u76ee\u4e2d\u4f7f\u7528Beautiful Soup 4\u3002 \u5b98\u65b9\u6587\u6863: https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/ # pip install bs4 \u5b89\u88c5 from bs4 import BeautifulSoup Beautiful Soup\u652f\u6301Python\u6807\u51c6\u5e93\u4e2d\u7684HTML\u89e3\u6790\u5668,\u8fd8\u652f\u6301\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684\u89e3\u6790\u5668\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u5b89\u88c5\u5b83\uff0c\u5219 Python \u4f1a\u4f7f\u7528 Python\u9ed8\u8ba4\u7684\u89e3\u6790\u5668\uff0clxml \u89e3\u6790\u5668\u66f4\u52a0\u5f3a\u5927\uff0c\u901f\u5ea6\u66f4\u5feb\uff0c\u63a8\u8350\u5b89\u88c5\u3002 pip3 install lxml \u53e6\u4e00\u4e2a\u53ef\u4f9b\u9009\u62e9\u7684\u89e3\u6790\u5668\u662f\u7eafPython\u5b9e\u73b0\u7684 html5lib , html5lib\u7684\u89e3\u6790\u65b9\u5f0f\u4e0e\u6d4f\u89c8\u5668\u76f8\u540c,\u53ef\u4ee5\u9009\u62e9\u4e0b\u5217\u65b9\u6cd5\u6765\u5b89\u88c5html5lib: pip3 install html5lib \u89e3\u6790\u5668\u5bf9\u6bd4\uff1a \u7b80\u5355\u4f7f\u7528\uff1a \u4ece\u4e00\u4e2a soup \u5bf9\u8c61\u5f00\u59cb\uff0c\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u751f\u6210\u4e00\u4e2asoup\u5bf9\u8c61 from bs4 import BeautifulSoup soup = BeautifulSoup(open(\"index.html\")) ##\u4f20\u5165\u6587\u4ef6 soup = BeautifulSoup(\"<html>data</html>\") ##\u6587\u672c \u6784\u9020soup\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u4f20\u5165\u89e3\u6790\u5668\u53c2\u6570\uff0c\u5982\u679c\u4e0d\u4f20\u5165\u7684\u8bdd\uff0c\u4f1a\u4ee5\u6700\u597d\u7684\u65b9\u5f0f\u53bb\u89e3\u6790 \u4e0b\u9762\u7684\u4e00\u6bb5HTML\u4ee3\u7801\u5c06\u4f5c\u4e3a\u4f8b\u5b50\u88ab\u591a\u6b21\u7528\u5230.\u8fd9\u662f \u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u7684 \u7684\u4e00\u6bb5\u5185\u5bb9(\u4ee5\u540e\u5185\u5bb9\u4e2d\u7b80\u79f0\u4e3a \u7231\u4e3d\u4e1d \u7684\u6587\u6863): html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" \u4f7f\u7528BeautifulSoup\u89e3\u6790\u8fd9\u6bb5\u4ee3\u7801,\u80fd\u591f\u5f97\u5230\u4e00\u4e2a BeautifulSoup \u7684\u5bf9\u8c61 from bs4 import BeautifulSoup soup = BeautifulSoup(html_doc, 'html.parser') \u4ece\u6587\u6863\u4e2d\u627e\u5230\u6240\u6709 \u6807\u7b7e\u7684\u94fe\u63a5: for link in soup.find_all('a'): print(link.get('href')) \u4ece\u6587\u6863\u4e2d\u83b7\u53d6\u6240\u6709\u6587\u5b57\u5185\u5bb9: print(soup.get_text()) \u30102\u3011\u56db\u79cd\u5bf9\u8c61 Beautiful Soup\u5c06\u590d\u6742HTML\u6587\u6863\u8f6c\u6362\u6210\u4e00\u4e2a\u590d\u6742\u7684\u6811\u5f62\u7ed3\u6784,\u6bcf\u4e2a\u8282\u70b9\u90fd\u662fPython\u5bf9\u8c61,\u6240\u6709\u5bf9\u8c61\u53ef\u4ee5\u5f52\u7eb3\u4e3a4\u79cd BeautifulSoup \uff0c Tag , NavigableString , Comment tag\u5bf9\u8c61\uff0c\u540c\u7f51\u9875\u4e2d\u7684 \u6807\u7b7e \u7684\u610f\u601d from bs4 import BeautifulSoup html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" # \u4e00\u3001\u67e5\u627etag\u5bf9\u8c61 soup = BeautifulSoup(html_doc, 'html.parser') print(soup.head, type(soup.head)) print(soup.title, type(soup.title)) print(soup.a, type(soup.a)) # \u7b2c\u4e00\u4e2aa\u6807\u7b7e\uff0c\u5982\u679c\u60f3\u83b7\u53d6\u6240\u6709a\u6807\u7b7e\u8981\u7528\u5230soup.find_all('a') print(soup.p.b) # \u4e8c\u3001\u67e5\u627etag\u5bf9\u8c61\u7684\u6807\u7b7e\u540d\u548c\u5c5e\u6027 print(soup.a.name) # a print(soup.p.b.name) # b print(soup.a[\"href\"]) print(soup.a.attrs) ''' \u4e09\u3001 HTML 4\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u503c\u7684\u5c5e\u6027.\u5728HTML5\u4e2d\u79fb\u9664\u4e86\u4e00\u4e9b,\u5374\u589e\u52a0\u66f4\u591a. \u6700\u5e38\u89c1\u7684\u591a\u503c\u7684\u5c5e\u6027\u662f class (\u4e00\u4e2atag\u53ef\u4ee5\u6709\u591a\u4e2aCSS\u7684class). \u8fd8\u6709\u4e00\u4e9b\u5c5e\u6027 rel , rev , accept-charset , headers , accesskey . \u5728Beautiful Soup\u4e2d\u591a\u503c\u5c5e\u6027\u7684\u8fd4\u56de\u7c7b\u578b\u662flist ''' print(soup.a[\"class\"]) # \u8fd4\u56de\u5217\u8868 # \u56db\u3001tag\u7684\u5c5e\u6027\u53ef\u4ee5\u88ab\u6dfb\u52a0,\u5220\u9664\u6216\u4fee\u6539(tag\u7684\u5c5e\u6027\u64cd\u4f5c\u65b9\u6cd5\u4e0e\u5b57\u5178\u4e00\u6837) # soup.a[\"class\"] = [\"sister c1\"] # del soup.a[\"id\"] # print(soup) # \u4e94\u3001\u83b7\u53d6\u6807\u7b7e\u5bf9\u8c61\u7684\u6587\u672c\u5185\u5bb9 print(soup.p.string) # p\u4e0b\u7684\u6587\u672c\u53ea\u6709\u4e00\u4e2a\u65f6\uff0c\u53d6\u5230\uff0c\u5426\u5219\u4e3aNone print(soup.p.strings) # \u62ff\u5230\u4e00\u4e2a\u751f\u6210\u5668\u5bf9\u8c61, \u53d6\u5230p\u4e0b\u6240\u6709\u7684\u6587\u672c\u5185\u5bb9 for i in soup.p.strings: print(i) # \u5982\u679ctag\u5305\u542b\u4e86\u591a\u4e2a\u5b50\u8282\u70b9,tag\u5c31\u65e0\u6cd5\u786e\u5b9a .string \u65b9\u6cd5\u5e94\u8be5\u8c03\u7528\u54ea\u4e2a\u5b50\u8282\u70b9\u7684\u5185\u5bb9, .string \u7684\u8f93\u51fa\u7ed3\u679c\u662f None\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\u90a3\u4e48\u5c31\u8f93\u51fa\u8be5\u5b50\u8282\u70b9\u7684\u6587\u672c\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u8fd9\u79cd\u7ed3\u6784\uff0csoup.p.string \u8fd4\u56de\u4e3aNone,\u4f46soup.p.strings\u5c31\u53ef\u4ee5\u627e\u5230\u6240\u6709\u6587\u672c p2 = soup.find_all(\"p\")[1] print(p2.string) print(p2.strings) for i in p2.strings: print(i) # text \u548c string print(soup.p.string) print(soup.p.text) # \u53d6\u5230p\u4e0b\u6240\u6709\u7684\u6587\u672c\u5185\u5bb9,text\u5c5e\u6027\u66f4\u5e38\u7528\uff0c\u5e76\u4e14\u5b83\u53ef\u4ee5\u76f4\u63a5\u8fc7\u6ee4\u6389\u6ce8\u91ca print(p2.text) \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f1a\u4ea7\u751fComment\u5bf9\u8c61 markup = \"<b><!--Hey, buddy. Want to buy a used parser?--></b>\" soup = BeautifulSoup(markup,\"html.parser\") comment = soup.b.string print(comment) print(type(comment)) \u7ed3\u679c\u4e3a\uff1a Hey, buddy. Want to buy a used parser? <class 'bs4.element.Comment'> \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8fd9\u65f6\u5019.string\u8fd4\u56de\u7684\u5bf9\u8c61\u4e0d\u518d\u662f bs4.element.NavigableString \uff0c\u800c\u662f Comment \u30103\u3011\u904d\u5386\u6587\u6863\u6811\uff08\u5bfc\u822a\u6587\u6863\u6811\uff09 from bs4 import BeautifulSoup html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" soup = BeautifulSoup(html_doc, 'html.parser') # 1\u3001\u5d4c\u5957\u9009\u62e9 print(soup.head.title.text) print(soup.body.a.text) # 2\u3001\u5b50\u8282\u70b9\u3001\u5b50\u5b59\u8282\u70b9 print(soup.p.contents) # p\u4e0b\u6240\u6709\u5b50\u8282\u70b9 print(soup.p.children) # \u5f97\u5230\u4e00\u4e2a\u8fed\u4ee3\u5668,\u5305\u542bp\u4e0b\u6240\u6709\u5b50\u8282\u70b9 for i, child in enumerate(soup.p.children, 1): print(i, child) print(soup.p.descendants) # \u83b7\u53d6\u5b50\u5b59\u8282\u70b9,p\u4e0b\u6240\u6709\u7684\u6807\u7b7e\u90fd\u4f1a\u9009\u62e9\u51fa\u6765 for i, child in enumerate(soup.p.descendants, 1): print(i, child) for i, child in enumerate(soup.find_all(\"p\")[1].descendants, 1): print(i, child) # 3\u3001\u7236\u8282\u70b9\u3001\u7956\u5148\u8282\u70b9 print(soup.a.parent) # \u83b7\u53d6a\u6807\u7b7e\u7684\u7236\u8282\u70b9 print(soup.a.parent.text) # \u83b7\u53d6a\u6807\u7b7e\u7684\u7236\u8282\u70b9 print(soup.a.parents) # \u627e\u5230a\u6807\u7b7e\u6240\u6709\u7684\u7956\u5148\u8282\u70b9\uff0c\u7236\u4eb2\u7684\u7236\u4eb2\uff0c\u7236\u4eb2\u7684\u7236\u4eb2\u7684\u7236\u4eb2... # 4\u3001\u5144\u5f1f\u8282\u70b9 print(\"===\") print(soup.a.next_sibling) # \u4e0b\u4e00\u4e2a\u5144\u5f1f,\u7c7b\u578b\uff1a<class 'bs4.element.NavigableString'> print(soup.a.next_sibling.next_sibling) print(soup.a.previous_sibling.previous_sibling) print(soup.a.previous_siblings) # \u4e0a\u9762\u7684\u5144\u5f1f\u4eec=>\u751f\u6210\u5668\u5bf9\u8c61 \u30104\u3011\u641c\u7d22\u6587\u6863\u6811 recursive \u662f\u5426\u4ece\u5f53\u524d\u4f4d\u7f6e\u9012\u5f52\u5f80\u4e0b\u67e5\u8be2\uff0c\u5982\u679c\u4e0d\u9012\u5f52\uff0c\u53ea\u4f1a\u67e5\u8be2\u5f53\u524d soup \u6587\u6863\u7684\u5b50\u5143\u7d20 string \u8fd9\u91cc\u662f\u901a\u8fc7tag\u7684\u5185\u5bb9\u6765\u641c\u7d22\uff0c\u5e76\u4e14 \u8fd4\u56de\u7684\u662f\u7c7b\u5bb9\uff0c\u800c\u4e0d\u662ftag\u7c7b\u578b\u7684\u5143\u7d20 **kwargs \u81ea\u52a8\u62c6\u5305\u63a5\u53d7\u5c5e\u6027\u503c\uff0c\u6240\u4ee5\u624d\u4f1a\u6709 soup.find_all('a',id='title') \uff0cid='title'\u4e3a **kwargs \u81ea\u52a8\u62c6\u5305\u63ba\u5165 BeautifulSoup\u5b9a\u4e49\u4e86\u5f88\u591a\u641c\u7d22\u65b9\u6cd5,\u8fd9\u91cc\u7740\u91cd\u4ecb\u7ecd2\u4e2a: find() \u548c find_all() .\u5176\u5b83\u65b9\u6cd5\u7684\u53c2\u6570\u548c\u7528\u6cd5\u7c7b\u4f3c \u53c2\u6570\u5217\u8868\u89e3\u8bfb \uff081\uff09find_all find_all( name , attrs , recursive , string , **kwargs ) name\u53c2\u6570 soup = BeautifulSoup(html_doc, 'lxml') # \u4e00\u3001 name \u56db\u79cd\u8fc7\u6ee4\u5668: \u5b57\u7b26\u4e32\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u3001\u5217\u8868\u3001\u65b9\u6cd5 # 1\u3001\u5b57\u7b26\u4e32\uff1a\u5373\u6807\u7b7e\u540d print(soup.find_all(name='a')) # 2\u3001\u6b63\u5219\u8868\u8fbe\u5f0f print(soup.find_all(name=re.compile('^b'))) # \u627e\u51fab\u5f00\u5934\u7684\u6807\u7b7e\uff0c\u7ed3\u679c\u6709body\u548cb\u6807\u7b7e # 3\u3001\u5217\u8868\uff1a\u5982\u679c\u4f20\u5165\u5217\u8868\u53c2\u6570,Beautiful Soup\u4f1a\u5c06\u4e0e\u5217\u8868\u4e2d\u4efb\u4e00\u5143\u7d20\u5339\u914d\u7684\u5185\u5bb9\u8fd4\u56de.\u4e0b\u9762\u4ee3\u7801\u627e\u5230\u6587\u6863\u4e2d\u6240\u6709<a>\u6807\u7b7e\u548c<b>\u6807\u7b7e: print(soup.find_all(name=['a', 'b'])) # 4\u3001\u65b9\u6cd5:\u5982\u679c\u6ca1\u6709\u5408\u9002\u8fc7\u6ee4\u5668,\u90a3\u4e48\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5,\u65b9\u6cd5\u53ea\u63a5\u53d7\u4e00\u4e2a\u5143\u7d20\u53c2\u6570 ,\u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de True \u8868\u793a\u5f53\u524d\u5143\u7d20\u5339\u914d\u5e76\u4e14\u88ab\u627e\u5230,\u5982\u679c\u4e0d\u662f\u5219\u53cd\u56de False def has_class_but_no_id(tag): return tag.has_attr('class') and tag.has_attr('id') print(soup.find_all(name=has_class_but_no_id)) keyword \u53c2\u6570 \u5982\u679c\u4e00\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u53c2\u6570\u4e0d\u662f\u641c\u7d22\u5185\u7f6e\u7684\u53c2\u6570\u540d,\u641c\u7d22\u65f6\u4f1a\u628a\u8be5\u53c2\u6570\u5f53\u4f5c\u6307\u5b9a\u540d\u5b57tag\u7684\u5c5e\u6027\u6765\u641c\u7d22,\u5982\u679c\u5305\u542b\u4e00\u4e2a\u540d\u5b57\u4e3a id \u7684\u53c2\u6570,Beautiful Soup\u4f1a\u641c\u7d22\u6bcf\u4e2atag\u7684\u201did\u201d\u5c5e\u6027. print(soup.find_all(href=\"http://example.com/tillie\")) print(soup.find_all(href=re.compile(\"^http://\"))) print(soup.find_all(id=True)) # \u62e5\u6709id\u5c5e\u6027\u7684tag print(soup.find_all(href=re.compile(\"http://\"), id='link1') # \u591a\u4e2a\u5c5e\u6027 print(soup.find_all(\"a\", class_=\"sister\")) # \u6ce8\u610f\uff0cclass\u662fPython\u7684\u5173\u952e\u5b57\uff0c\u6240\u4ee5class\u5c5e\u6027\u7528class_ print(soup.find_all(\"a\",attrs={\"href\": re.compile(\"^http://\"), \"id\": re.compile(\"^link[12]\")})) # \u901a\u8fc7 find_all() \u65b9\u6cd5\u7684 attrs \u53c2\u6570\u5b9a\u4e49\u4e00\u4e2a\u5b57\u5178\u53c2\u6570\u6765\u641c\u7d22\u5305\u542b\u7279\u6b8a\u5c5e\u6027\u7684tag: data_soup.find_all(attrs={\"data-foo\": \"value\"}) text\u53c2\u6570 import re print(soup.find_all(text=\"Elsie\")) # ['Elsie'] print(soup.find_all(text=[\"Tillie\", \"Elsie\", \"Lacie\"])) # ['Elsie', 'Lacie', 'Tillie'] # \u53ea\u8981\u5305\u542bDormouse\u5c31\u53ef\u4ee5 print(soup.find_all(text=re.compile(\"Dormouse\"))) # [\"The Dormouse's story\", \"The Dormouse's story\"] limit\u53c2\u6570 find_all() \u65b9\u6cd5\u8fd4\u56de\u5168\u90e8\u7684\u641c\u7d22\u7ed3\u6784,\u5982\u679c\u6587\u6863\u6811\u5f88\u5927\u90a3\u4e48\u641c\u7d22\u4f1a\u5f88\u6162.\u5982\u679c\u6211\u4eec\u4e0d\u9700\u8981\u5168\u90e8\u7ed3\u679c,\u53ef\u4ee5\u4f7f\u7528 limit \u53c2\u6570\u9650\u5236\u8fd4\u56de\u7ed3\u679c\u7684\u6570\u91cf.\u6548\u679c\u4e0eSQL\u4e2d\u7684limit\u5173\u952e\u5b57\u7c7b\u4f3c,\u5f53\u641c\u7d22\u5230\u7684\u7ed3\u679c\u6570\u91cf\u8fbe\u5230 limit \u7684\u9650\u5236\u65f6,\u5c31\u505c\u6b62\u641c\u7d22\u8fd4\u56de\u7ed3\u679c. print(soup.find_all(\"a\",limit=2)) recursive \u53c2\u6570 \u8c03\u7528tag\u7684 find_all() \u65b9\u6cd5\u65f6,Beautiful Soup\u4f1a\u68c0\u7d22\u5f53\u524dtag\u7684\u6240\u6709\u5b50\u5b59\u8282\u70b9,\u5982\u679c\u53ea\u60f3\u641c\u7d22tag\u7684\u76f4\u63a5\u5b50\u8282\u70b9,\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570 recursive=False \uff082\uff09find find( name , attrs , recursive , string , **kwargs ) find_all() \u65b9\u6cd5\u5c06\u8fd4\u56de\u6587\u6863\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709tag,\u5c3d\u7ba1\u6709\u65f6\u5019\u6211\u4eec\u53ea\u60f3\u5f97\u5230\u4e00\u4e2a\u7ed3\u679c.\u6bd4\u5982\u6587\u6863\u4e2d\u53ea\u6709\u4e00\u4e2a \u6807\u7b7e,\u90a3\u4e48\u4f7f\u7528 find_all() \u65b9\u6cd5\u6765\u67e5\u627e \u6807\u7b7e\u5c31\u4e0d\u592a\u5408\u9002, \u4f7f\u7528 find_all \u65b9\u6cd5\u5e76\u8bbe\u7f6e limit=1 \u53c2\u6570\u4e0d\u5982\u76f4\u63a5\u4f7f\u7528 find() \u65b9\u6cd5.\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\u662f\u7b49\u4ef7\u7684: soup.find_all('title', limit=1) # [<title>The Dormouse's story</title>] soup.find('title') # <title>The Dormouse's story</title> \u552f\u4e00\u7684\u533a\u522b\u662f find_all() \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u503c\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u7684\u5217\u8868,\u800c find() \u65b9\u6cd5\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c. find_all() \u65b9\u6cd5\u6ca1\u6709\u627e\u5230\u76ee\u6807\u662f\u8fd4\u56de\u7a7a\u5217\u8868, find() \u65b9\u6cd5\u627e\u4e0d\u5230\u76ee\u6807\u65f6,\u8fd4\u56de None . soup.head.title \u662f tag\u7684\u540d\u5b57 \u65b9\u6cd5\u7684\u7b80\u5199.\u8fd9\u4e2a\u7b80\u5199\u7684\u539f\u7406\u5c31\u662f\u591a\u6b21\u8c03\u7528\u5f53\u524dtag\u7684 find() \u65b9\u6cd5: soup.head.title # <title>The Dormouse's story</title> soup.find(\"head\").find(\"title\") # <title>The Dormouse's story</title> \uff083\uff09\u5176\u5b83\u65b9\u6cd5 #\uff081\uff09 find_parents() \u548c find_parent() a_string = soup.find(text=\"Lacie\") print(a_string) # Lacie print(a_string.find_parent()) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(a_string.find_parents()) print(a_string.find_parent(\"p\")) ''' <p class=\"story\"> Once upon a time there were three little sisters; and their names were <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> and <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well. </p> ''' # \uff082\uff09find_next_siblings() \u548c find_next_sibling() ''' \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_siblings \u5c5e\u6027\u5bf9\u5f53tag\u7684\u6240\u6709\u540e\u9762\u89e3\u6790\u7684\u5144\u5f1ftag\u8282\u70b9\u8fdb\u884c\u8fed\u4ee3, find_next_siblings() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u5144\u5f1f\u8282\u70b9, find_next_sibling() \u53ea\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u7b2c\u4e00\u4e2atag\u8282\u70b9. ''' first_link = soup.a print(first_link.find_next_sibling(\"a\")) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(first_link.find_next_siblings(\"a\")) ''' [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ] ''' # find_previous_siblings() \u548c find_previous_sibling()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_next_sibling\u548cfind_next_siblings\u3002 # \uff083\uff09find_all_next() \u548c find_next() ''' \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_elements \u5c5e\u6027\u5bf9\u5f53\u524dtag\u7684\u4e4b\u540e\u7684tag\u548c\u5b57\u7b26\u4e32\u8fdb\u884c\u8fed\u4ee3, find_all_next() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9, find_next() \u65b9\u6cd5\u8fd4\u56de\u7b2c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9:\u3000 ''' first_link = soup.a print(first_link.find_all_next(string=True)) # ['Elsie', ',\\n', 'Lacie', ' and\\n', 'Tillie', ';\\nand they lived at the bottom of a well.', '\\n', '...', '\\n'] print(first_link.find_next(string=True)) # Elsie # find_all_previous() \u548c find_previous()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_all_next() \u548c find_next()\u3002 \u30105\u3011Css\u9009\u62e9\u5668 select css\u9009\u62e9\u5668\u7684\u65b9\u6cd5\u4e3aselect(css_selector) \u76ee\u524d\u652f\u6301\u7684\u9009\u62e9\u5668\u5982\u4e0b\u6848\u4f8b\uff0ccss\u9009\u62e9\u5668\u53ef\u4ee5\u53c2\u8003https://www.w3school.com.cn/cssref/css_selectors.ASP soup.select(\"title\") # [<title>The Dormouse's story</title>] soup.select(\"p nth-of-type(3)\") # [<p class=\"story\">...</p>] soup.select(\"body a\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"html head title\") # [<title>The Dormouse's story</title>] soup.select(\"head > title\") # [<title>The Dormouse's story</title>] soup.select(\"p > a\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"p > a:nth-of-type(2)\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select(\"p > #link1\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] soup.select(\"body > a\") soup.select(\"#link1 ~ .sister\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"#link1 + .sister\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select(\".sister\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"[class~=sister]\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"#link1\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] soup.select(\"a#link2\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select(\"#link1,#link2\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select('a[href]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select('a[href=\"http://example.com/elsie\"]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] soup.select('a[href^=\"http://example.com/\"]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select('a[href$=\"tillie\"]') # [<a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select('a[href*=\".com/el\"]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] multilingual_markup = \"\"\" <p lang=\"en\">Hello</p> <p lang=\"en-us\">Howdy, y'all</p> <p lang=\"en-gb\">Pip-pip, old fruit</p> <p lang=\"fr\">Bonjour mes amis</p> \"\"\" multilingual_soup = BeautifulSoup(multilingual_markup) multilingual_soup.select('p[lang|=en]') # [<p lang=\"en\">Hello</p>, # <p lang=\"en-us\">Howdy, y'all</p>, # <p lang=\"en-gb\">Pip-pip, old fruit</p>] select_one \u8fd4\u56de\u67e5\u627e\u5230\u7684\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a \u30106\u3011\u7ec3\u4e60 \u4f7f\u7528bs4\u722c\u53d6\u8c46\u74e3\u7535\u5f71\u6392\u884c\u699c\u4fe1\u606f from bs4 import BeautifulSoup soup = BeautifulSoup(s, 'html.parser') s=soup.find_all(class_=\"item\") for item in s: print(item.find(class_=\"pic\").a.get(\"href\")) print(item.find(class_=\"pic\").em.string) print(item.find(class_=\"info\").contents[1].a.span.string) print(item.find(class_=\"info\").contents[3].contents[3].contents[3].string) print(item.find(class_=\"info\").contents[3].contents[3].contents[7].string) 3.3\u3001xpath xpath\u5728Python\u7684\u722c\u866b\u5b66\u4e60\u4e2d\uff0c\u8d77\u7740\u4e3e\u8db3\u8f7b\u91cd\u7684\u5730\u4f4d\uff0c\u5bf9\u6bd4\u6b63\u5219\u8868\u8fbe\u5f0f re\u4e24\u8005\u53ef\u4ee5\u5b8c\u6210\u540c\u6837\u7684\u5de5\u4f5c\uff0c\u5b9e\u73b0\u7684\u529f\u80fd\u4e5f\u5dee\u4e0d\u591a\uff0c\u4f46xpath\u660e\u663e\u6bd4re\u5177\u6709\u4f18\u52bf\uff0c\u5728\u7f51\u9875\u5206\u6790\u4e0a\u4f7fre\u9000\u5c45\u4e8c\u7ebf\u3002 xpath \u5168\u79f0\u4e3a XML Path Language \u4e00\u79cd\u5c0f\u578b\u7684 \u67e5\u8be2\u8bed\u8a00 xpath\u7684\u4f18\u70b9\uff1a \u53ef\u5728XML\u4e2d\u67e5\u627e\u4fe1\u606f \u652f\u6301HTML\u7684\u67e5\u627e \u901a\u8fc7\u5143\u7d20\u548c\u5c5e\u6027\u8fdb\u884c\u5bfc\u822a python\u5f00\u53d1\u4f7f\u7528XPath\u6761\u4ef6\uff1a \u7531\u4e8eXPath\u5c5e\u4e8elxml\u5e93\u6a21\u5757\uff0c\u6240\u4ee5\u9996\u5148\u8981\u5b89\u88c5\u5e93lxml\u3002 from lxml import etree selector=etree.HTML(\u6e90\u7801) #\u5c06\u6e90\u7801\u8f6c\u5316\u4e3a\u80fd\u88abXPath\u5339\u914d\u7684\u683c\u5f0f selector.xpath(\u8868\u8fbe\u5f0f) #\u8fd4\u56de\u4e3a\u4e00\u5217\u8868 \u30101\u3011\u8def\u5f84\u8868\u8fbe\u5f0f \u8868\u8fbe\u5f0f \u63cf\u8ff0 \u5b9e\u4f8b \u89e3\u6790 / \u4ece\u6839\u8282\u70b9\u9009\u53d6 /body/div[1] \u9009\u53d6\u6839\u7ed3\u70b9\u4e0b\u7684body\u4e0b\u7684\u7b2c\u4e00\u4e2adiv\u6807\u7b7e // \u4ece\u5339\u914d\u9009\u62e9\u7684\u5f53\u524d\u8282\u70b9\u9009\u62e9\u6587\u6863\u4e2d\u7684\u8282\u70b9\uff0c\u800c\u4e0d\u8003\u8651\u5b83\u4eec\u7684\u4f4d\u7f6e //a \u9009\u53d6\u6587\u6863\u4e2d\u6240\u6709\u7684a\u6807\u7b7e ./ \u5f53\u524d\u8282\u70b9\u518d\u6b21\u8fdb\u884cxpath ./a \u9009\u53d6\u5f53\u524d\u8282\u70b9\u4e0b\u7684\u6240\u6709a\u6807\u7b7e @ \u9009\u53d6\u5c5e\u6027 //@calss \u9009\u53d6\u6240\u6709\u7684class\u5c5e\u6027 \u30102\u3011\u8c13\u8bed\uff08Predicates\uff09 \u8c13\u8bed\u7528\u6765\u67e5\u627e\u67d0\u4e2a\u7279\u5b9a\u7684\u8282\u70b9\u6216\u8005\u5305\u542b\u67d0\u4e2a\u6307\u5b9a\u7684\u503c\u7684\u8282\u70b9\u3002 \u8c13\u8bed\u88ab\u5d4c\u5728\u65b9\u62ec\u53f7\u4e2d\u3002 \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u5e26\u6709\u8c13\u8bed\u7684\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/li[1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u6700\u540e\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()-1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u5012\u6570\u7b2c\u4e8c\u4e2a li\u5143\u7d20\u3002 //ul/li[position()<3] \u9009\u53d6\u6700\u524d\u9762\u7684\u4e24\u4e2a\u5c5e\u4e8e ul\u5143\u7d20\u7684\u5b50\u5143\u7d20\u7684 li\u5143\u7d20\u3002 //a[@title] \u9009\u53d6\u6240\u6709\u62e5\u6709\u540d\u4e3a title\u7684\u5c5e\u6027\u7684 a\u5143\u7d20\u3002 //a[@title='xx'] \u9009\u53d6\u6240\u6709 a\u5143\u7d20\uff0c\u4e14\u8fd9\u4e9b\u5143\u7d20\u62e5\u6709\u503c\u4e3a xx\u7684 title\u5c5e\u6027\u3002 //a[@title>10] > < >= <= != \u9009\u53d6 a\u5143\u7d20\u7684\u6240\u6709 title\u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 title\u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 10\u3002 /body/div[@price>35.00] \u9009\u53d6body\u4e0bprice\u5143\u7d20\u503c\u5927\u4e8e35\u7684div\u8282\u70b9 //dd[text()=\"\u539f\u521b\"] \u9009\u53d6\u6587\u672c\u662f\u539f\u521b\u7684dd\u6807\u7b7e \u30103\u3011\u9009\u53d6\u672a\u77e5\u8282\u70b9 XPath \u901a\u914d\u7b26\u53ef\u7528\u6765\u9009\u53d6\u672a\u77e5\u7684 XML \u5143\u7d20\u3002 \u901a\u914d\u7b26 \u63cf\u8ff0 * \u5339\u914d\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u3002 @* \u5339\u914d\u4efb\u4f55\u5c5e\u6027\u8282\u70b9\u3002 node() \u5339\u914d\u4efb\u4f55\u7c7b\u578b\u7684\u8282\u70b9\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/* \u9009\u53d6 bookstore \u5143\u7d20\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002 //* \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 //title[@*] \u9009\u53d6\u6240\u6709\u5e26\u6709\u5c5e\u6027\u7684 title \u5143\u7d20\u3002 //node() \u83b7\u53d6\u6240\u6709\u8282\u70b9 \u30104\u3011\u9009\u53d6\u82e5\u5e72\u8def\u5f84 \u901a\u8fc7\u5728\u8def\u5f84\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\u201c|\u201d\u8fd0\u7b97\u7b26\uff0c\u60a8\u53ef\u4ee5\u9009\u53d6\u82e5\u5e72\u4e2a\u8def\u5f84\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c //book/title | //book/price \u9009\u53d6 book \u5143\u7d20\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 //title | //price \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 /bookstore/book/title | //price \u9009\u53d6\u5c5e\u4e8e bookstore \u5143\u7d20\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4ee5\u53ca\u6587\u6863\u4e2d\u6240\u6709\u7684 price \u5143\u7d20\u3002 \u903b\u8f91\u8fd0\u7b97 python //div[@id=\"head\" and @class=\"s_down\"] # \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8ehead\u5e76\u4e14class\u5c5e\u6027\u7b49\u4e8es_down\u7684div\u6807\u7b7e //title | //price # \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20,\u201c|\u201d\u4e24\u8fb9\u5fc5\u987b\u662f\u5b8c\u6574\u7684xpath\u8def\u5f84 \u5c5e\u6027\u67e5\u8be2 python //div[@id] # \u627e\u6240\u6709\u5305\u542bid\u5c5e\u6027\u7684div\u8282\u70b9 //div[@id=\"maincontent\"] # \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8emaincontent\u7684div\u6807\u7b7e //@class //li[@name=\"xx\"]//text() # \u83b7\u53d6li\u6807\u7b7ename\u4e3axx\u7684\u91cc\u9762\u7684\u6587\u672c\u5185\u5bb9 \u83b7\u53d6\u7b2c\u51e0\u4e2a\u6807\u7b7e \u7d22\u5f15\u4ece1\u5f00\u59cb python tree.xpath('//li[1]/a/text()') # \u83b7\u53d6\u7b2c\u4e00\u4e2a tree.xpath('//li[last()]/a/text()') # \u83b7\u53d6\u6700\u540e\u4e00\u4e2a tree.xpath('//li[last()-1]/a/text()') # \u83b7\u53d6\u5012\u6570\u7b2c\u4e8c\u4e2a \u6a21\u7cca\u67e5\u8be2 ```python //div[contains(@id, \"he\")] # \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u542bhe\u7684div\u6807\u7b7e //div[starts-with(@id, \"he\")] # \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u4ee5he\u5f00\u5934\u7684div\u6807\u7b7e //div/h1/text() # \u67e5\u627e\u6240\u6709div\u6807\u7b7e\u4e0b\u7684\u76f4\u63a5\u5b50\u8282\u70b9h1\u7684\u5185\u5bb9 //div/a/@href # \u83b7\u53d6a\u91cc\u9762\u7684href\u5c5e\u6027\u503c // #\u83b7\u53d6\u6240\u6709 // [@class=\"xx\"] #\u83b7\u53d6\u6240\u6709class\u4e3axx\u7684\u6807\u7b7e # \u83b7\u53d6\u8282\u70b9\u5185\u5bb9\u8f6c\u6362\u6210\u5b57\u7b26\u4e32 c = tree.xpath('//li/a')[0] result=etree.tostring(c, encoding='utf-8') print(result.decode('UTF-8')) ``` \u30105\u3011\u6848\u4f8b \u8c46\u74e3Top250\u57fa\u4e8expath\u89e3\u6790\uff1a import requests from lxml import etree url = \"https://movie.douban.com/top250?start=0\" headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.82 Safari/537.36\" } resp = requests.get(url, headers=headers) tree = etree.HTML(resp.text) # \u52a0\u8f7d\u9875\u9762\u6e90\u4ee3\u7801 items = tree.xpath('//li/div[@class=\"item\"]/div[@class=\"info\"]') for item in items: title = item.xpath('./div[@class=\"hd\"]/a/span[1]/text()')[0] rating_num = item.xpath('./div[@class=\"bd\"]/div[@class=\"star\"]/span[@class=\"rating_num\"]/text()')[0] comment_num = item.xpath('./div[@class=\"bd\"]/div[@class=\"star\"]/span[4]/text()')[0] print(title, rating_num, comment_num) \u7ec3\u4e60\uff1a\u57fa\u4e8expath\u5b8c\u6210\u89e3\u6790\u7ec3\u4e60 import requests from lxml import etree res = requests.get(\"https://top.baidu.com/board?platform=pc&sa=pcindex_entry\", ) selector = etree.HTML(res.text) rets = selector.xpath('//div[@theme=\"car\"]//div[contains(@class,\"item-wrap_Z0BrP \")]') info = {} for i in rets: name = i.xpath('./div[@class=\"normal_1glFU\"]/a/text()') link = i.xpath('./div[@class=\"normal_1glFU\"]/a/@href') info[name[0]] = link[0] print(info) print(len(info)) \u7b2c\u56db\u7ae0.\u722c\u866b\u6838\u5fc3\u6a21\u5757 4.1\u3001requests\u6a21\u5757 requests \u4f5c\u4e3a\u4e00\u4e2a\u4e13\u95e8\u4e3a\u300c\u4eba\u7c7b\u300d\u7f16\u5199\u7684 HTTP \u8bf7\u6c42\u5e93\uff0c\u5176\u6613\u7528\u6027\u5f88\u5f3a\uff0c\u56e0\u6b64\u5728\u63a8\u51fa\u4e4b\u540e\u5c31\u8fc5\u901f\u6210\u4e3a Python \u4e2d\u9996\u9009\u7684 HTTP \u8bf7\u6c42\u5e93\u3002requests \u5e93\u7684\u6700\u5927\u7279\u70b9\u662f\u63d0\u4f9b\u4e86\u7b80\u5355\u6613\u7528\u7684 API\uff0c\u8ba9\u7f16\u7a0b\u4eba\u5458\u53ef\u4ee5\u8f7b\u677e\u5730\u63d0\u9ad8\u6548\u7387\u3002\u7531\u4e8e requests \u4e0d\u662f Python \u7684\u6807\u51c6\u5e93\uff0c\u56e0\u6b64\u5728\u4f7f\u7528\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u5b89\u88c5\uff1a pip install requests \u901a\u8fc7 requests \u53ef\u4ee5\u5b8c\u6210\u5404\u79cd\u7c7b\u578b\u7684 HTTP \u8bf7\u6c42\uff0c\u5305\u62ec HTTP\u3001HTTPS\u3001HTTP1.0\u3001HTTP1.1 \u53ca\u5404\u79cd\u8bf7\u6c42\u65b9\u6cd5\u3002requests \u5e93\u652f\u6301\u7684 HTTP \u65b9\u6cd5\u3002 \u30101\u3011requests\u652f\u6301\u7684\u65b9\u6cd5 requests\u6a21\u5757\u652f\u6301\u7684\u8bf7\u6c42\uff1a import requests requests.get(\"http://httpbin.org/get\") requests.post(\"http://httpbin.org/post\") requests.put(\"http://httpbin.org/put\") requests.delete(\"http://httpbin.org/delete\") requests.head(\"http://httpbin.org/get\") requests.options(\"http://httpbin.org/get\")\u3000\u3000 \u25a0 get\u2014\u2014\u53d1\u9001\u4e00\u4e2a GET \u8bf7\u6c42\uff0c\u7528\u4e8e\u8bf7\u6c42\u9875\u9762\u4fe1\u606f\u3002 \u25a0 options\u2014\u2014\u53d1\u9001\u4e00\u4e2a OPTIONS \u8bf7\u6c42\uff0c\u7528\u4e8e\u68c0\u67e5\u670d\u52a1\u5668\u7aef\u76f8\u5173\u4fe1\u606f\u3002 \u25a0 head\u2014\u2014\u53d1\u9001\u4e00\u4e2a HEAD \u8bf7\u6c42\uff0c\u7c7b\u4f3c\u4e8e GET \u8bf7\u6c42\uff0c\u4f46\u53ea\u8bf7\u6c42\u9875\u9762\u7684\u54cd\u5e94\u5934\u4fe1\u606f\u3002 \u25a0 post\u2014\u2014\u53d1\u9001\u4e00\u4e2a POST \u8bf7\u6c42\uff0c\u901a\u8fc7 body \u5411\u6307\u5b9a\u8d44\u6e90\u63d0\u4ea4\u7528\u6237\u6570\u636e\u3002 \u25a0 put\u2014\u2014\u53d1\u9001\u4e00\u4e2a PUT \u8bf7\u6c42\uff0c\u5411\u6307\u5b9a\u8d44\u6e90\u4e0a\u4f20\u6700\u65b0\u5185\u5bb9\u3002 \u25a0 patch\u2014\u2014\u53d1\u9001\u4e00\u4e2a PATCH \u8bf7\u6c42\uff0c\u540c PUT \u7c7b\u4f3c\uff0c\u53ef\u4ee5\u7528\u4e8e\u90e8\u5206\u5185\u5bb9\u66f4\u65b0\u3002 \u25a0 delete\u2014\u2014\u53d1\u9001\u4e00\u4e2a DELETE \u8bf7\u6c42\uff0c\u5411\u6307\u5b9a\u8d44\u6e90\u53d1\u9001\u4e00\u4e2a\u5220\u9664\u8bf7\u6c42\u3002 \u53ef\u4ee5\u770b\u5230\uff0crequests \u4f7f\u7528\u4e0e HTTP \u8bf7\u6c42\u65b9\u6cd5\u540c\u540d\u7684 API \u6765\u63d0\u4f9b\u76f8\u5e94\u7684 HTTP \u8bf7\u6c42\u670d\u52a1\uff0c\u4ece\u800c\u964d\u4f4e\u4e86\u7f16\u7a0b\u4eba\u5458\u7684\u5b66\u4e60\u548c\u8bb0\u5fc6\u6210\u672c\u3002\u53e6\u5916\uff0c\u8fd9\u4e9b API \u65b9\u6cd5\u90fd\u8c03\u7528\u540c\u4e00\u4e2a\u57fa\u7840\u65b9\u6cd5\uff0c\u56e0\u6b64\u5728\u8c03\u7528\u53c2\u6570\u7684\u4f7f\u7528\u4e0a\u4e5f\u57fa\u672c\u4fdd\u6301\u4e00\u81f4\u3002 import requests res = requests.get(\"https://www.taobao.com/\") # print(res.text) with open(\"taobao.html\", \"wb\") as f: f.write(res.content) \u30102\u3011requests\u7684\u54cd\u5e94\u4fe1\u606f 1. \u57fa\u672c\u4fe1\u606f print(respone.status_code) print(respone.headers) print(respone.text)\u3000 print(response.json) 2. \u7f16\u7801 ```python print(respone.content)\u3000 print(response.encoding) #### 3. \u4e0b\u8f7d\u56fe\u7247\u3001\u89c6\u9891 ```python # \u4e0b\u8f7d\u56fe\u7247 import requests res = requests.get(\"https://img0.baidu.com/it/u=3330672963,1063627283&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\") with open(\"\u7f8e\u5973.jpg\", \"wb\") as f: f.write(res.content) # \u4e0b\u8f7d\u89c6\u9891 import requests res = requests.get(\"https://video.pearvideo.com/mp4/adshort/20180613/cont-1365496-12251302_adpkg-ad_hd.mp4\") with open(\"\u68a8\u89c6\u9891.mp4\", \"wb\") as f: for item in res.iter_content(): f.write(item) \u30103\u3011requests\u7684\u8bf7\u6c42\u53c2\u6570 1. \u8bf7\u6c42\u5934\u53c2\u6570 \uff081\uff09UA\u53cd\u722c \u8bbf\u95ee\u767e\u5ea6\u9996\u9875\u7684\u65b0\u95fb\u4fe1\u606f # \u722c\u53d6\u767e\u5ea6\u9996\u9875 res = requests.get(\"https://www.baidu.com/\") res.encoding = \"utf8\" with open(\"baidu.html\", \"wb\") as f: f.write(res.content) \u7ed3\u679c\u662f\uff1a \u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u4e86\u6700\u7b80\u5355\u7684UA\u53cd\u722c\uff0c\u767e\u5ea6\u670d\u52a1\u5668\u901a\u8fc7UA\u8bf7\u6c42\u5934\u8fa8\u522b\u662f\u5426\u4e3a\u6b63\u5e38\u8bf7\u6c42\u7528\u6237\uff0c\u6240\u4ee5\u4e3a\u4e86\u653b\u7834\u8fd9\u4e2a\u7b80\u5355\u7684\u53cd\u722c\uff0c\u53ea\u9700\u8981\u5728requests\u8bf7\u6c42\u4e2d\u52a0\u5165UA\u8bf7\u6c42\u5934\u5373\u53ef\u3002 res = requests.get(\"https://www.baidu.com/\", headers={ \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\" }) \u57fa\u4e8expath\u89e3\u6790\u65b0\u95fb\u6570\u636e\uff1a import requests from lxml import etree # \u767e\u5ea6\u9996\u9875 res = requests.get(\"https://www.baidu.com/\", headers={ \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\" }) selector = etree.HTML(res.text) items = selector.xpath('//ul[@class=\"s-hotsearch-content\"]/li[contains(@class,\"hotsearch-item\")]') print(\"items:\", items) for item in items: href = item.xpath('./a/@href')[0] title = item.xpath('.//span[@class=\"title-content-title\"]/text()')[0] print(title, href) \uff082\uff09Referer\u53cd\u722c import requests # https://movie.douban.com/explore headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', 'Referer': 'https://movie.douban.com/explore', } url = 'https://m.douban.com/rexxar/api/v2/movie/recommend?refresh=0&start=0&count=20&selected_categories=%7B%7D&uncollect=false&tags=' res = requests.get(url, headers=headers) print(res.json()) items = res.json()['items'] for m in items: print(m.get('title')) 2. \u8bf7\u6c42\u53c2\u6570 import requests # https://movie.douban.com/explore headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', 'Referer': 'https://movie.douban.com/explore', } url = 'https://m.douban.com/rexxar/api/v2/movie/recommend' res = requests.get(url, headers=headers, params={ \"tags\": \"\u6b27\u7f8e\", \"sort\": \"S\" }) print(res.json()) items = res.json()['items'] for m in items: print(m.get('title')) 3. \u8bf7\u6c42\u4f53\u6570\u636e import requests while 1: kd = input(\"\u8bf7\u8f93\u5165\u7ffb\u8bd1\u5185\u5bb9:\") res = requests.post(\"https://aidemo.youdao.com/trans\", data={ \"q\": kd.strip() }) # print(res.text) print(res.json()[\"web\"][0][\"value\"]) \u30104\u3011Cookie\u4e0eSession \uff081\uff09cookie\u7684\u73a9\u6cd5 # server.py from flask import Flask, request, make_response, render_template import json app = Flask(__name__, template_folder=\"temps\") COOKIE = \"sadfnwejfnfcvxwerw213kbnkj2k3j23234jk2k\" @app.route(\"/login\") def login(): return render_template(\"login.html\") @app.route(\"/auth\", methods=['POST']) def auth(): user = request.form.get(\"user\") pwd = request.form.get(\"pwd\") if user == \"yuan\" and pwd == \"123\": # \u8bbe\u7f6e\u54cd\u5e94\u4f53 resp = make_response(\"\u767b\u5f55\u6210\u529f\") resp.set_cookie(\"cookie\", COOKIE) return resp else: print(\"OK\") return \"\u767b\u5f55\u5931\u8d25\uff01\" @app.route(\"/\") def index(): return render_template(\"index.html\") @app.route(\"/books\") def books(): print(request.cookies.get(\"cookie\")) if request.cookies.get(\"cookie\") == COOKIE: data = [\"\u897f\u6e38\u8bb0\", \"\u4e09\u56fd\u6f14\u4e49\", \"\u6c34\u6d52\u4f20\", \"\u91d1\u74f6\u6885\"] return json.dumps(data, ensure_ascii=False) else: return \"\u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01\" if __name__ == '__main__': app.run() # \u9ed8\u8ba4\u7aef\u53e3\u53f7 # index.html <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <script src=\"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js\"></script> </head> <body> <h1>\u56db\u5927\u540d\u8457</h1> <p class=\"content\"></p> <script> $.ajax({ url: \"/books\", success: function (res) { console.log(res) $(\".content\").html(res) } }) </script> </body> </html> \uff082\uff09\u722c\u866b\u7684cookie\u5e94\u7528 # \u8bf7\u6c42cookie requests.get(url=\"\", headers={}, cookies={}) # \u54cd\u5e94cookie print(respone.cookies) print(respone.cookies.get_dict()) print(respone.cookies.items()) session\u5bf9\u8c61:\u8be5\u5bf9\u8c61\u548crequests\u6a21\u5757\u7528\u6cd5\u51e0\u4e4e\u4e00\u81f4.\u5982\u679c\u5728\u8bf7\u6c42\u7684\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u4e86cookie,\u5982\u679c\u8be5\u8bf7\u6c42\u4f7f\u7528session\u53d1\u8d77\u7684,\u5219cookie\u4f1a\u88ab\u81ea\u52a8\u5b58\u50a8\u5230session\u4e2d. import requests headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u83b7\u53d6\u4ece\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u7684cookie url = 'https://xueqiu.com/' res = requests.get(url, headers=headers) cookies = dict(res.cookies) url = 'https://stock.xueqiu.com/v5/stock/batch/quote.json?symbol=SH000001,SZ399001,SZ399006,SH000688,SH000016,SH000300,BJ899050,HKHSI,HKHSCEI,HKHSTECH,.DJI,.IXIC,.INX' res = requests.get(url, headers=headers, cookies=cookies) # print(res.json()) print(res.content.decode()) \uff082\uff09session\u5bf9\u8c61 import requests headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u83b7\u53d6\u4ece\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u7684cookie url = 'https://xueqiu.com/' session = requests.session() session.get(url, headers=headers) url = 'https://stock.xueqiu.com/v5/stock/batch/quote.json?symbol=SH000001,SZ399001,SZ399006,SH000688,SH000016,SH000300,BJ899050,HKHSI,HKHSCEI,HKHSTECH,.DJI,.IXIC,.INX' res = session.get(url, headers=headers) print(res.json()) \u30105\u3011\u4ee3\u7406IP \u4ee3\u7406IP\uff1a \u53cd\u53cd\u722c\u4f7f\u7528\u4ee3\u7406ip\u662f\u975e\u5e38\u5fc5\u8981\u7684\u4e00\u79cd\u53cd\u53cd\u722c\u7684\u65b9\u5f0f\uff0c\u4f46\u662f\u5373\u4f7f\u4f7f\u7528\u4e86\u4ee3\u7406ip\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u4efb\u7136\u4f1a\u6709\u5f88\u591a\u7684\u65b9\u5f0f\u6765\u68c0\u6d4b\u6211\u4eec\u662f\u5426\u662f\u4e00\u4e2a\u722c\u866b\uff0c\u6bd4\u5982\uff1a\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u68c0\u6d4bIP\u8bbf\u95ee\u7684\u9891\u7387\uff0c\u8bbf\u95ee\u592a\u591a\u9891\u7e41\u4f1a\u5c4f\u853d\uff1b\u68c0\u67e5Cookie\uff0cUser-Agent\uff0cReferer\u7b49header\u53c2\u6570\uff0c\u82e5\u6ca1\u6709\u5219\u5c4f\u853d\uff1b\u670d\u52a1\u65b9\u8d2d\u4e70\u6240\u6709\u4ee3\u7406\u63d0\u4f9b\u5546\uff0c\u52a0\u5165\u5230\u53cd\u722c\u866b\u6570\u636e\u5e93\u91cc\uff0c\u82e5\u68c0\u6d4b\u662f\u4ee3\u7406\u5219\u5c4f\u853d\u7b49\u3002\u6240\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5728\u4f7f\u7528\u4ee3\u7406ip\u7684\u65f6\u5019\u4f7f\u7528\u968f\u673a\u7684\u65b9\u5f0f\u8fdb\u884c\u9009\u62e9\u4f7f\u7528\uff0c\u4e0d\u8981\u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u4ee3\u7406ip res = requests.get(\"http://httpbin.org/ip\", proxies={ \"http\": \"101.132.25.152:50001\" } ) print(res.text) \u4ee3\u7406ip\u6c60\u7684\u66f4\u65b0\uff1a \u8d2d\u4e70\u7684\u4ee3\u7406ip\u5f88\u591a\u65f6\u5019\u5927\u90e8\u5206(\u8d85\u8fc760%)\u53ef\u80fd\u90fd\u6ca1\u529e\u6cd5\u4f7f\u7528\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u901a\u8fc7\u7a0b\u5e8f\u53bb\u68c0\u6d4b\u54ea\u4e9b\u53ef\u7528\uff0c\u628a\u4e0d\u80fd\u7528\u7684\u5220\u9664\u6389\u3002 \u514d\u8d39\u4ee3\u7406IP\uff1ahttps://www.kuaidaili.com/free/inha/ 4.2\u3001\u722c\u866b\u6848\u4f8b \u30101\u3011\u4e0b\u8f7d\u7535\u5f71\u5c01\u9762 import random import time import requests # https://movie.douban.com/explore headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', 'Referer': 'https://movie.douban.com/explore', } url = 'https://m.douban.com/rexxar/api/v2/movie/recommend?refresh=0&start=0&count=20&selected_categories=%7B%7D&uncollect=false&tags=&ck=DvZ3' res = requests.get(url, headers=headers) items = res.json()['items'] # \u5faa\u73af\u83b7\u53d6\u4e0b\u8f7d i = 0 for m in items: title = m[\"title\"] # \u8fdb\u884c\u56fe\u7247\u7684\u4e0b\u8f7d res = requests.get(m['pic']['large'], headers=headers) with open(f'./imgs/{title}.jpg', 'wb') as f: f.write(res.content) print(title, '\u4e0b\u8f7d\u5b8c\u6210\uff01') # \u7ed9\u4e00\u4e2a\u81ea\u7701\u65f6\u95f4 \u9632\u6b62\u7ed9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u7684\u538b\u529b \u907f\u514d\u670d\u52a1\u5668\u5d29\u6e83\u6216\u8005\u5f53\u524d\u88ab\u5c01 time.sleep(random.randint(1, 4)) i += 1 \u7ec3\u4e60\uff1a\u4e0b\u8f7d\u684c\u9762\u56fe\u7247\uff1a http://www.netbian.com/desk/30360-1920x1080.htm \u30102\u3011\u722c\u53d6\u5c0f\u8bf4\u7f51\u7684\u5c0f\u8bf4 \u7b2c\u4e00\u7248 import requests headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u53d1\u9001\u767b\u9646\u5904\u7406\u63a5\u53e3\u7684url\u5730\u5740 url = 'https://passport.17k.com/ck/user/login' # \u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e data = { 'loginName': '13121758648', 'password': 'yuan0316' } session = requests.Session() session.post(url, headers=headers, data=data) # \u6293\u53d6\u767b\u5f55\u540e\u7684\u6570\u636e url = 'https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919' res = session.get(url, headers=headers) # \u83b7\u53d6\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = res.json().get(\"data\") print(shelf_books) \u7b2c\u4e8c\u7248 import requests from lxml import etree import os import time headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u53d1\u9001\u767b\u9646\u5904\u7406\u63a5\u53e3\u7684url\u5730\u5740 url = 'https://passport.17k.com/ck/user/login' # \u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e data = { 'loginName': '13121758648', 'password': 'yuan0316' } session = requests.Session() session.post(url, headers=headers, data=data) # \u6293\u53d6\u767b\u5f55\u540e\u7684\u6570\u636e url = 'https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919' res = session.get(url, headers=headers) # \u83b7\u53d6\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = res.json().get(\"data\") # print(shelf_books) if not os.path.exists(\"shelf_books\"): os.mkdir(\"shelf_books\") for book in shelf_books: # print(book) # print(book[\"bookId\"]) bookName = book[\"bookName\"] bookId = book[\"bookId\"] res = requests.get(f\"https://www.17k.com/list/{bookId}.html\") res.encoding = \"utf8\" selector = etree.HTML(res.text) chapter_links = selector.xpath('//dl[@class=\"Volume\"][last()]/dd/a') os.mkdir(\"./shelf_books/\" + bookName) for chapter_link in chapter_links: chapter_name = chapter_link.xpath(\"./span/text()\")[0].strip() chapter_href = chapter_link.xpath(\"./@href\")[0] print(chapter_name, chapter_href) res = requests.get(f\"https://www.17k.com\" + chapter_href) res.encoding = \"utf8\" selector = etree.HTML(res.text) ret = selector.xpath('//div[contains(@class,\"content\")]/div[@class=\"p\"]/p[position()<last()-1]/text()') print(ret) path = os.path.join(\"shelf_books\", bookName, chapter_name) with open(path, \"w\") as f: for line in ret: f.write(line + \"\\n\") time.sleep(1) print(f\"{chapter_name}\u4e0b\u8f7d\u5b8c\u6210\uff01\") \u7b2c\u4e09\u7248[\u51fd\u6570] import requests from lxml import etree import os import time import random headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } def login(): # \u53d1\u9001\u767b\u9646\u5904\u7406\u63a5\u53e3\u7684url\u5730\u5740 login_url = 'https://passport.17k.com/ck/user/login' # \u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e data = { 'loginName': '13121758648', 'password': 'yuan0316' } session.post(login_url, headers=headers, data=data) def get_shelf_books(): # \u6293\u53d6\u767b\u5f55\u540e\u7684\u6570\u636e url = 'https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919' res = session.get(url, headers=headers) # \u83b7\u53d6\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = res.json().get(\"data\") return shelf_books def get_book_chapter_links(book): # print(book) # print(book[\"bookId\"]) bookName = book[\"bookName\"] bookId = book[\"bookId\"] res = requests.get(f\"https://www.17k.com/list/{bookId}.html\") res.encoding = \"utf8\" selector = etree.HTML(res.text) chapter_links = selector.xpath('//dl[@class=\"Volume\"][last()]/dd/a') return bookName, chapter_links def get_book_chapter_texts(book_name, chapter_links): book_path = os.path.join(\"my_shelf_books\", book_name) if not os.path.exists(book_path): os.mkdir(book_path) for chapter_link in chapter_links: chapter_name = chapter_link.xpath(\"./span/text()\")[0].strip() chapter_href = chapter_link.xpath(\"./@href\")[0] print(chapter_name, chapter_href) res = requests.get(f\"https://www.17k.com\" + chapter_href) res.encoding = \"utf8\" selector = etree.HTML(res.text) ret_text = selector.xpath('//div[contains(@class,\"content\")]/div[@class=\"p\"]/p[position()<last()-1]/text()') print(ret_text) download_chapter_text(book_name, chapter_name, ret_text) def download_chapter_text(book_name, chapter_name, ret_text): path = os.path.join(\"my_shelf_books\", book_name, chapter_name) with open(path, \"w\") as f: for line in ret_text: f.write(line + \"\\n\") time.sleep(random.randint(1, 5)) print(f\"{book_name}\u7684{chapter_name} \u4e0b\u8f7d\u5b8c\u6210\uff01\") if __name__ == '__main__': # \u6784\u5efasession\u5bf9\u8c61 session = requests.Session() # \u6a21\u62df\u767b\u5f55 login() # \u83b7\u53d6\u767b\u5f55\u4eba\u7684\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = get_shelf_books() # \u521b\u5efamy_shelf_books\u6587\u4ef6\u5939 if not os.path.exists(\"my_shelf_books\"): os.mkdir(\"my_shelf_books\") for book in shelf_books: bookName, chapter_links = get_book_chapter_links(book) # \u6293\u53d6\u5e76\u4e0b\u8f7d\u6bcf\u4e00\u7ae0\u6587\u672c get_book_chapter_texts(bookName, chapter_links) 4.3\u3001websockets\u6a21\u5757 \u65b0\u6d6a\u8d22\u7ecf Websocket\uff08\u7b80\u79f0\uff1aws\uff09\u662fweb\u524d\u7aefHTML5\u63d0\u4f9b\u7684\u4e00\u79cd\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u8fdb\u884c\u5168\u53cc\u5de5\u901a\u8baf\u7684\u7f51\u7edc\u6280\u672f\uff0c\u5c5e\u4e8e\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u57fa\u4e8eTCP\u534f\u8bae\u5f00\u53d1\u800c\u6765\uff0c\u5e76\u590d\u7528HTTP\u7684\u63e1\u624b\u901a\u9053\u3002 \u8c03\u7528\u7b80\u5355\uff0c\u7531\u6d4f\u89c8\u5668\u8fdb\u884c\u4e86\u5c01\u88c5\u63d0\u4f9b\u5f3a\u5927\u7684\u64cd\u4f5c\u63a5\u53e3\uff0c\u76f4\u63a5\u4f7f\u7528\u6d4f\u89c8\u5668\u7684websocket\u5bf9\u8c61\u5373\u53ef\u901a\u8fc7\u4e8b\u4ef6\u4e0e\u670d\u52a1\u7aef\u8fdb\u884cwebsocket\u901a\u4fe1\u3002 \u652f\u6301\u4e8c\u8fdb\u5236\uff0c \u652f\u6301\u53cc\u5411\u901a\u4fe1, \u66f4\u7075\u6d3b, \u66f4\u5b9e\u65f6\u6027\uff0c \u66f4\u9ad8\u6548\uff0c\u53ef\u6269\u5c55\u6027\u66f4\u597d \u722c\u866b\u4e5f\u7ecf\u5e38\u4f1a\u9047\u5230websocket\u534f\u8bae\u4e0b\u7684\u8bf7\u6c42\u6570\u636e\uff0c\u6211\u4eec\u901a\u8fc7websockets\u6765\u5b9e\u73b0\u76f8\u5173\u722c\u866b\u3002 import websockets import asyncio import ssl import certifi ssl_context = ssl.create_default_context() ssl_context.load_verify_locations(certifi.where()) # https://finance.sina.com.cn/realstock/company/sh000001/nc.shtml async def main(): url = \"wss://hq.sinajs.cn/wskt?list=sh000001\" # extra_headers\u7ed9ws \u4f20\u9012\u8bf7\u6c42\u5934. async with websockets.connect(url, extra_headers={ \"Origin\": \"https://finance.sina.com.cn\", \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36\" }, ssl=ssl_context) as ws: await ws.send(\"\") ret = await ws.recv() print(ret) if __name__ == '__main__': asyncio.run(main()) \u7b2c\u4e94\u7ae0. \u5e76\u53d1\u722c\u866b 1. \u5e76\u53d1\u4e0e\u5e76\u884c 2. IO\u5bc6\u96c6\u578b\u4efb\u52a1\u548c\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1 3. \u540c\u6b65\u4e0e\u5f02\u6b65 4. IO\u6a21\u578b\uff08IO\u591a\u8def\u590d\u7528\uff09 5. \u5185\u6838\u6001\u591a\u7ebf\u7a0b\uff0c\u7528\u6237\u6001\u591a\u7ebf\u7a0b \u6240\u8c13\u5e76\u53d1\u7f16\u7a0b\u662f\u6307\u5728\u4e00\u53f0\u5904\u7406\u5668\u4e0a\u201c\u540c\u65f6\u201d\u5904\u7406\u591a\u4e2a\u4efb\u52a1\u3002\u5e76\u53d1\u662f\u5728\u540c\u4e00\u5b9e\u4f53\u4e0a\u7684\u591a\u4e2a\u4e8b\u4ef6 \u3002\u5f3a\u8c03\u591a\u4e2a\u4e8b\u4ef6\u5728\u540c\u4e00\u65f6\u95f4\u95f4\u9694\u53d1\u751f\u3002 1\u3001\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u4ee5\u53ca\u534f\u7a0b \u30101\u3011\u8fdb\u7a0b\u6982\u5ff5 \u6211\u4eec\u90fd\u77e5\u9053\u8ba1\u7b97\u673a\u7684\u6838\u5fc3\u662fCPU\uff0c\u5b83\u627f\u62c5\u4e86\u6240\u6709\u7684\u8ba1\u7b97\u4efb\u52a1\uff1b\u800c\u64cd\u4f5c\u7cfb\u7edf\u662f\u8ba1\u7b97\u673a\u7684\u7ba1\u7406\u8005\uff0c\u5b83\u8d1f\u8d23\u4efb\u52a1\u7684\u8c03\u5ea6\u3001\u8d44\u6e90\u7684\u5206\u914d\u548c\u7ba1\u7406\uff0c\u7edf\u9886\u6574\u4e2a\u8ba1\u7b97\u673a\u786c\u4ef6\uff1b\u5e94\u7528\u7a0b\u5e8f\u5219\u662f\u5177\u6709\u67d0\u79cd\u529f\u80fd\u7684\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u662f\u8fd0\u884c\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u7684\u3002 \u8fdb\u7a0b\u662f\u4e00\u4e2a\u5177\u6709\u4e00\u5b9a\u72ec\u7acb\u529f\u80fd\u7684\u7a0b\u5e8f\u5728\u4e00\u4e2a\u6570\u636e\u96c6\u4e0a\u7684\u4e00\u6b21\u52a8\u6001\u6267\u884c\u7684 \u8fc7\u7a0b \uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u4e00\u4e2a\u72ec\u7acb\u5355\u4f4d\uff0c\u662f\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u7684\u8f7d\u4f53\u3002 \u591a\u9053\u6280\u672f\uff1a\u7a7a\u95f4\u590d\u7528+\u65f6\u95f4\u590d\u7528\uff0c\u4e8e\u662f\u6709\u4e86\u8fdb\u7a0b\uff01 \u8fdb\u7a0b\u662f\u4e00\u79cd\u62bd\u8c61\u7684\u6982\u5ff5\uff0c\u4ece\u6765\u6ca1\u6709\u7edf\u4e00\u7684\u6807\u51c6\u5b9a\u4e49\u3002\u8fdb\u7a0b\u4e00\u822c\u7531\u7a0b\u5e8f\u3001\u6570\u636e\u96c6\u5408\u548c\u8fdb\u7a0b\u63a7\u5236\u5757\u4e09\u90e8\u5206\u7ec4\u6210\u3002 \u4f8b\u5b50\uff1a\u6211\u548c\u6211\u7684\u5973\u670b\u53cb\u4eec\u7684\u6545\u4e8b \u6211\u5c31\u662fCPU\uff0c\u6211\u8ddf\u4e09\u4e2a\u5973\u670b\u53cb\u73a9\u5c31\u662f\u4e09\u4e2a\u4efb\u52a1 1. \u6211\u6559\u7b2c\u4e00\u4e2a\u5973\u670b\u53cb\u505a\u83dc\uff0c\u83dc\u8c31\u5c31\u662f\u7a0b\u5e8f\uff0c\u98df\u6750\u5c31\u662f\u6570\u636e\uff0c\u6211\u505a\u996d\u7684\u8fc7\u7a0b\u5c31\u662f\u4e00\u4e2a\u8fdb\u7a0b\uff08\u5207\u6362\uff0c\u72b6\u6001\u4fdd\u5b58\uff09 2. \u6211\u7ed9\u7b2c\u4e8c\u4e2a\u5973\u670b\u53cb\u6cbb\u7597\u811a\u4f24\uff0c\u533b\u7597\u624b\u518c\u5c31\u662f\u7a0b\u5e8f\uff0c\u533b\u836f\u7bb1\u5c31\u662f\u6570\u636e\uff0c\u6cbb\u7597\u811a\u4f24\u7684\u8fc7\u7a0b\u5c31\u662f\u7b2c\u4e8c\u4e2a\u8fdb\u7a0b \u3002\u3002\u3002 \u8fdb\u7a0b \u72b6\u6001\u53cd\u6620\u8fdb\u7a0b\u6267\u884c\u8fc7\u7a0b\u7684\u53d8\u5316\u3002\u8fd9\u4e9b\u72b6\u6001\u968f\u7740\u8fdb\u7a0b\u7684\u6267\u884c\u548c\u5916\u754c\u6761\u4ef6\u7684\u53d8\u5316\u800c\u8f6c\u6362\u3002\u5728\u4e09\u6001\u6a21\u578b\u4e2d\uff0c\u8fdb\u7a0b\u72b6\u6001\u5206\u4e3a\u4e09\u4e2a\u57fa\u672c\u72b6\u6001\uff0c\u5373\u8fd0\u884c\u6001\uff0c\u5c31\u7eea\u6001\uff0c\u963b\u585e\u6001\u3002\u5728\u4e94\u6001\u6a21\u578b\u4e2d\uff0c\u8fdb\u7a0b\u5206\u4e3a \u65b0\u5efa \u6001\u3001\u7ec8\u6b62\u6001\uff0c\u8fd0\u884c\u6001\uff0c\u5c31\u7eea\u6001\uff0c\u963b\u585e\u6001\u3002 \u30102\u3011\u7ebf\u7a0b\u7684\u6982\u5ff5 \u5728\u65e9\u671f\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u5e76\u6ca1\u6709\u7ebf\u7a0b\u7684\u6982\u5ff5\uff0c\u8fdb\u7a0b\u662f\u80fd\u62e5\u6709\u8d44\u6e90\u548c\u72ec\u7acb\u8fd0\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4e5f\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u4efb\u52a1\u8c03\u5ea6\u91c7\u7528\u7684\u662f\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u62a2\u5360\u5f0f\u8c03\u5ea6\u65b9\u5f0f\uff0c\u800c\u8fdb\u7a0b\u662f\u4efb\u52a1\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u5404\u81ea\u72ec\u7acb\u7684\u4e00\u5757\u5185\u5b58\uff0c\u4f7f\u5f97\u5404\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u5185\u5b58\u5730\u5740\u76f8\u4e92\u9694\u79bb\u3002\u540e\u6765\uff0c\u968f\u7740\u8ba1\u7b97\u673a\u7684\u53d1\u5c55\uff0c\u5bf9CPU\u7684\u8981\u6c42\u8d8a\u6765\u8d8a\u9ad8\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5207\u6362\u5f00\u9500\u8f83\u5927\uff0c\u5df2\u7ecf\u65e0\u6cd5\u6ee1\u8db3\u8d8a\u6765\u8d8a\u590d\u6742\u7684\u7a0b\u5e8f\u7684\u8981\u6c42\u4e86\u3002\u4e8e\u662f\u5c31\u53d1\u660e\u4e86\u7ebf\u7a0b\u3002 \u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u4e2d\u4e00\u4e2a\u5355\u4e00\u7684\u987a\u5e8f\u63a7\u5236\u6d41\u7a0b\uff0c\u662f\u7a0b\u5e8f\u6267\u884c\u6d41\u7684\u6700\u5c0f\u5355\u5143\uff0c\u662f\u5904\u7406\u5668\u8c03\u5ea6\u548c\u5206\u6d3e\u7684\u57fa\u672c\u5355\u4f4d\u3002 \u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5404\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u7a0b\u5e8f\u7684\u5185\u5b58\u7a7a\u95f4(\u4e5f\u5c31\u662f\u6240\u5728\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4)\u3002\u4e00\u4e2a\u6807\u51c6\u7684\u7ebf\u7a0b\u7531\u7ebf\u7a0bID\u3001\u5f53\u524d\u6307\u4ee4\u6307\u9488(PC)\u3001\u5bc4\u5b58\u5668\u548c\u5806\u6808\u7ec4\u6210\u3002\u800c\u8fdb\u7a0b\u7531\u5185\u5b58\u7a7a\u95f4(\u4ee3\u7801\u3001\u6570\u636e\u3001\u8fdb\u7a0b\u7a7a\u95f4\u3001\u6253\u5f00\u7684\u6587\u4ef6)\u548c\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\u7ec4\u6210\u3002 \u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f \u5f53\u7ebf\u7a0b\u7684\u6570\u91cf\u5c0f\u4e8e\u5904\u7406\u5668\u7684\u6570\u91cf\u65f6\uff0c\u7ebf\u7a0b\u7684\u5e76\u53d1\u662f\u771f\u6b63\u7684\u5e76\u53d1\uff0c\u4e0d\u540c\u7684\u7ebf\u7a0b\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u5904\u7406\u5668\u4e0a\u3002\u4f46\u5f53\u7ebf\u7a0b\u7684\u6570\u91cf\u5927\u4e8e\u5904\u7406\u5668\u7684\u6570\u91cf\u65f6\uff0c\u7ebf\u7a0b\u7684\u5e76\u53d1\u4f1a\u53d7\u5230\u4e00\u4e9b\u963b\u788d\uff0c\u6b64\u65f6\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u5e76\u53d1\uff0c\u56e0\u4e3a\u6b64\u65f6\u81f3\u5c11\u6709\u4e00\u4e2a\u5904\u7406\u5668\u4f1a\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\u3002 \u5728\u5355\u4e2a\u5904\u7406\u5668\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\u65f6\uff0c\u5e76\u53d1\u662f\u4e00\u79cd\u6a21\u62df\u51fa\u6765\u7684\u72b6\u6001\u3002\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u65b9\u5f0f\u8f6e\u6d41\u6267\u884c\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u3002\u73b0\u5728\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u7684\u90fd\u662f\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u62a2\u5360\u5f0f\u8c03\u5ea6\u65b9\u5f0f\uff0c\u5982\u6211\u4eec\u719f\u6089\u7684Unix\u3001Linux\u3001Windows\u53camacOS\u7b49\u6d41\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002 \u6211\u4eec\u77e5\u9053\u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4e5f\u662f\u4efb\u52a1\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u5728\u65e9\u671f\u53ea\u6709\u8fdb\u7a0b\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u8fdb\u7a0b\u6709\u4e94\u79cd\u72b6\u6001\uff0c\u521b\u5efa\u3001\u5c31\u7eea\u3001\u8fd0\u884c\u3001\u963b\u585e(\u7b49\u5f85)\u3001\u9000\u51fa\u3002\u65e9\u671f\u7684\u8fdb\u7a0b\u76f8\u5f53\u4e8e\u73b0\u5728\u7684\u53ea\u6709\u5355\u4e2a\u7ebf\u7a0b\u7684\u8fdb\u7a0b\uff0c\u90a3\u4e48\u73b0\u5728\u7684\u591a\u7ebf\u7a0b\u4e5f\u6709\u4e94\u79cd\u72b6\u6001\uff0c\u73b0\u5728\u7684\u591a\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f\u4e0e\u65e9\u671f\u8fdb\u7a0b\u7684\u751f\u547d\u5468\u671f\u7c7b\u4f3c\u3002 \u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f # \u521b\u5efa\uff1a\u4e00\u4e2a\u65b0\u7684\u7ebf\u7a0b\u88ab\u521b\u5efa\uff0c\u7b49\u5f85\u8be5\u7ebf\u7a0b\u88ab\u8c03\u7528\u6267\u884c\uff1b # \u5c31\u7eea\uff1a\u65f6\u95f4\u7247\u5df2\u7528\u5b8c\uff0c\u6b64\u7ebf\u7a0b\u88ab\u5f3a\u5236\u6682\u505c\uff0c\u7b49\u5f85\u4e0b\u4e00\u4e2a\u5c5e\u4e8e\u5b83\u7684\u65f6\u95f4\u7247\u5230\u6765\uff1b # \u8fd0\u884c\uff1a\u6b64\u7ebf\u7a0b\u6b63\u5728\u6267\u884c\uff0c\u6b63\u5728\u5360\u7528\u65f6\u95f4\u7247\uff1b # \u963b\u585e\uff1a\u4e5f\u53eb\u7b49\u5f85\u72b6\u6001\uff0c\u7b49\u5f85\u67d0\u4e00\u4e8b\u4ef6(\u5982IO\u6216\u53e6\u4e00\u4e2a\u7ebf\u7a0b)\u6267\u884c\u5b8c\uff1b # \u9000\u51fa\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u5b8c\u6210\u4efb\u52a1\u6216\u8005\u5176\u4ed6\u7ec8\u6b62\u6761\u4ef6\u53d1\u751f\uff0c\u8be5\u7ebf\u7a0b\u7ec8\u6b62\u8fdb\u5165\u9000\u51fa\u72b6\u6001\uff0c\u9000\u51fa\u72b6\u6001\u91ca\u653e\u8be5\u7ebf\u7a0b\u6240\u5206\u914d\u7684\u8d44\u6e90\u3002 \u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7684\u533a\u522b \u524d\u9762\u8bb2\u4e86\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\uff0c\u4f46\u53ef\u80fd\u4f60\u8fd8\u89c9\u5f97\u8ff7\u7cca\uff0c\u611f\u89c9\u4ed6\u4eec\u5f88\u7c7b\u4f3c\u3002\u7684\u786e\uff0c\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u6709\u7740\u5343\u4e1d\u4e07\u7f15\u7684\u5173\u7cfb\uff0c\u4e0b\u9762\u5c31\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u7406\u4e00\u7406\uff1a \u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u800c\u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u8d44\u6e90\u7684\u6700\u5c0f\u5355\u4f4d\uff1b \u4e00\u4e2a\u8fdb\u7a0b\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\u7ec4\u6210\uff0c\u7ebf\u7a0b\u662f\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u4ee3\u7801\u7684\u4e0d\u540c\u6267\u884c\u8def\u7ebf\uff1b \u8fdb\u7a0b\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u4f46\u540c\u4e00\u8fdb\u7a0b\u4e0b\u7684\u5404\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u7a0b\u5e8f\u7684\u5185\u5b58\u7a7a\u95f4(\u5305\u62ec\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u96c6\u3001\u5806\u7b49)\u53ca\u4e00\u4e9b\u8fdb\u7a0b\u7ea7\u7684\u8d44\u6e90(\u5982\u6253\u5f00\u6587\u4ef6\u548c\u4fe1\u53f7)\uff0c\u67d0\u8fdb\u7a0b\u5185\u7684\u7ebf\u7a0b\u5728\u5176\u5b83\u8fdb\u7a0b\u4e0d\u53ef\u89c1\uff1b \u8c03\u5ea6\u548c\u5207\u6362\uff1a\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u6bd4\u8fdb\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u8981\u5feb\u5f97\u591a\u3002 \u30103\u3011\u534f\u7a0b(Coroutines) \u534f\u7a0b \uff08Co-routine\uff09\uff0c\u4e5f\u53ef\u79f0\u4e3a\u5fae\u7ebf\u7a0b\uff0c\u6216\u975e\u62a2\u5360\u5f0f\u7684\u591a\u4efb\u52a1\u5b50\u4f8b\u7a0b\uff0c\u4e00\u79cd\u7528\u6237\u6001\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u6280\u672f\uff08\u901a\u8fc7\u4e00\u4e2a\u7ebf\u7a0b\u5b9e\u73b0\u4ee3\u7801\u5757\u95f4\u7684\u76f8\u4e92\u5207\u6362\u6267\u884c\uff09\u3002\u8fd9\u79cd\u7531\u7a0b\u5e8f\u5458\u81ea\u5df1\u5199\u7a0b\u5e8f\u6765\u7ba1\u7406\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\u53eb\u505a\u300e\u7528\u6237\u7a7a\u95f4\u7ebf\u7a0b\u300f\uff0c\u5177\u6709\u5bf9\u5185\u6838\u6765\u8bf4\u4e0d\u53ef\u89c1\u7684\u7279\u6027\u3002\u6b63\u5982\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\u4e00\u6837\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u534f\u7a0b\u3002 \u534f\u7a0b\u89e3\u51b3\u7684\u662f\u7ebf\u7a0b\u7684\u5207\u6362\u548c\u5185\u5b58\u5f00\u9500\u7684\u95ee\u9898 * \u7528\u6237\u7a7a\u95f4 \u9996\u5148\u662f\u5728\u7528\u6237\u7a7a\u95f4, \u907f\u514d\u5185\u6838\u6001\u548c\u7528\u6237\u6001\u7684\u5207\u6362\u5bfc\u81f4\u7684\u6210\u672c\u3002 * \u7531\u8bed\u8a00\u6216\u8005\u6846\u67b6\u5c42\u8c03\u5ea6 * \u66f4\u5c0f\u7684\u6808\u7a7a\u95f4\u5141\u8bb8\u521b\u5efa\u5927\u91cf\u5b9e\u4f8b\uff08\u767e\u4e07\u7ea7\u522b\uff09 2\u3001\u591a\u7ebf\u7a0b\u5b9e\u73b0 \u30101\u3011threading\u6a21\u5757 Python\u63d0\u4f9b\u4e24\u4e2a\u6a21\u5757\u8fdb\u884c\u591a\u7ebf\u7a0b\u7684\u64cd\u4f5c\uff0c\u5206\u522b\u662f thread \u548c threading \uff0c\u524d\u8005\u662f\u6bd4\u8f83\u4f4e\u7ea7\u7684\u6a21\u5757\uff0c\u7528\u4e8e\u66f4\u5e95\u5c42\u7684\u64cd\u4f5c\uff0c\u4e00\u822c\u5e94\u7528\u7ea7\u522b\u7684\u5f00\u53d1\u4e0d\u5e38\u7528\u3002 import time def foo(): print(\"foo start...\") time.sleep(5) print(\"foo end...\") def bar(): print(\"bar start...\") time.sleep(3) print(\"bar end...\") # \u4e32\u884c\u7248\u672c # start = time.time() # foo() # bar() # end = time.time() # print(\"cost timer:\", end - start) # \u591a\u7ebf\u7a0b\u5e76\u53d1\u7248\u672c import threading start = time.time() t1 = threading.Thread(target=foo, args=()) t1.start() t2 = threading.Thread(target=bar, args=()) t2.start() # \u7b49\u5f85\u6240\u6709\u5b50\u7ebf\u7a0b\u7ed3\u675f # t1.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt1 # t2.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt2 end = time.time() print(end - start) \u30102\u3011\u4e92\u65a5\u9501 import time import threading Lock = threading.Lock() def addNum(): global num # \u5728\u6bcf\u4e2a\u7ebf\u7a0b\u4e2d\u90fd\u83b7\u53d6\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf # \u4e0a\u9501 Lock.acquire() t = num - 1 time.sleep(0.0001) num = t Lock.release() # \u653e\u9501 num = 100 # \u8bbe\u5b9a\u4e00\u4e2a\u5171\u4eab\u53d8\u91cf thread_list = [] for i in range(100): t = threading.Thread(target=addNum) t.start() thread_list.append(t) for t in thread_list: # \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5 t.join() print('Result: ', num) \u30103\u3011\u7ebf\u7a0b\u6c60 \u7cfb\u7edf\u542f\u52a8\u4e00\u4e2a\u65b0\u7ebf\u7a0b\u7684\u6210\u672c\u662f\u6bd4\u8f83\u9ad8\u7684\uff0c\u56e0\u4e3a\u5b83\u6d89\u53ca\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u7684\u4ea4\u4e92\u3002\u5728\u8fd9\u79cd\u60c5\u5f62\u4e0b\uff0c\u4f7f\u7528\u7ebf\u7a0b\u6c60\u53ef\u4ee5\u5f88\u597d\u5730\u63d0\u5347\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5f53\u7a0b\u5e8f\u4e2d\u9700\u8981\u521b\u5efa\u5927\u91cf\u751f\u5b58\u671f\u5f88\u77ed\u6682\u7684\u7ebf\u7a0b\u65f6\uff0c\u66f4\u5e94\u8be5\u8003\u8651\u4f7f\u7528\u7ebf\u7a0b\u6c60\u3002 \u7ebf\u7a0b\u6c60\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u5373\u521b\u5efa\u5927\u91cf\u7a7a\u95f2\u7684\u7ebf\u7a0b\uff0c\u7a0b\u5e8f\u53ea\u8981\u5c06\u4e00\u4e2a\u51fd\u6570\u63d0\u4ea4\u7ed9\u7ebf\u7a0b\u6c60\uff0c\u7ebf\u7a0b\u6c60\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a\u7a7a\u95f2\u7684\u7ebf\u7a0b\u6765\u6267\u884c\u5b83\u3002\u5f53\u8be5\u51fd\u6570\u6267\u884c\u7ed3\u675f\u540e\uff0c\u8be5\u7ebf\u7a0b\u5e76\u4e0d\u4f1a\u6b7b\u4ea1\uff0c\u800c\u662f\u518d\u6b21\u8fd4\u56de\u5230\u7ebf\u7a0b\u6c60\u4e2d\u53d8\u6210\u7a7a\u95f2\u72b6\u6001\uff0c\u7b49\u5f85\u6267\u884c\u4e0b\u4e00\u4e2a\u51fd\u6570\u3002 \u6b64\u5916\uff0c\u4f7f\u7528\u7ebf\u7a0b\u6c60\u53ef\u4ee5\u6709\u6548\u5730\u63a7\u5236\u7cfb\u7edf\u4e2d\u5e76\u53d1\u7ebf\u7a0b\u7684\u6570\u91cf\u3002\u5f53\u7cfb\u7edf\u4e2d\u5305\u542b\u6709\u5927\u91cf\u7684\u5e76\u53d1\u7ebf\u7a0b\u65f6\uff0c\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u6027\u80fd\u6025\u5267\u4e0b\u964d\uff0c\u751a\u81f3\u5bfc\u81f4\u89e3\u91ca\u5668\u5d29\u6e83\uff0c\u800c\u7ebf\u7a0b\u6c60\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u53c2\u6570\u53ef\u4ee5\u63a7\u5236\u7cfb\u7edf\u4e2d\u5e76\u53d1\u7ebf\u7a0b\u7684\u6570\u91cf\u4e0d\u8d85\u8fc7\u6b64\u6570\u3002 import time from concurrent.futures import ThreadPoolExecutor def task(i): print(f'\u4efb\u52a1{i}\u5f00\u59cb\uff01') time.sleep(i) print(f'\u4efb\u52a1{i}\u7ed3\u675f\uff01') return i start = time.time() pool = ThreadPoolExecutor(3) future01 = pool.submit(task, 1) # print(\"future01\u662f\u5426\u7ed3\u675f\", future01.done()) # \u5f53\u7a0b\u5e8f\u4f7f\u7528 Future \u7684 result() \u65b9\u6cd5\u6765\u83b7\u53d6\u7ed3\u679c\u65f6\uff0c\u8be5\u65b9\u6cd5\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a timeout \u53c2\u6570\uff0c\u5f53\u524d\u7ebf\u7a0b\u5c06\u4e00\u76f4\u5904\u4e8e\u963b\u585e\u72b6\u6001\uff0c\u76f4\u5230 Future \u4ee3\u8868\u7684\u4efb\u52a1\u8fd4\u56de\u3002 # print(\"future01\u7684\u7ed3\u679c\", future01.result()) # \u540c\u6b65\u7b49\u5f85 future02 = pool.submit(task, 2) future03 = pool.submit(task, 3) pool.shutdown() # \u963b\u585e\u7b49\u5f85 print(f\"\u7a0b\u5e8f\u8017\u65f6{time.time() - start}\u79d2\u949f\") print(\"future01\u7684\u7ed3\u679c\", future01.result()) print(\"future02\u7684\u7ed3\u679c\", future02.result()) print(\"future03\u7684\u7ed3\u679c\", future03.result()) \u4f7f\u7528\u7ebf\u7a0b\u6c60\u6765\u6267\u884c\u7ebf\u7a0b\u4efb\u52a1\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a \u8c03\u7528 ThreadPoolExecutor \u7c7b\u7684\u6784\u9020\u5668\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u6c60\u3002 \u5b9a\u4e49\u4e00\u4e2a\u666e\u901a\u51fd\u6570\u4f5c\u4e3a\u7ebf\u7a0b\u4efb\u52a1\u3002 \u8c03\u7528 ThreadPoolExecutor \u5bf9\u8c61\u7684 submit() \u65b9\u6cd5\u6765\u63d0\u4ea4\u7ebf\u7a0b\u4efb\u52a1\u3002 \u5f53\u4e0d\u60f3\u63d0\u4ea4\u4efb\u4f55\u4efb\u52a1\u65f6\uff0c\u8c03\u7528 ThreadPoolExecutor \u5bf9\u8c61\u7684 shutdown() \u65b9\u6cd5\u6765\u5173\u95ed\u7ebf\u7a0b\u6c60\u3002 \u30104\u3011\u7ebf\u7a0b\u5e94\u7528 import requests from lxml import etree import os import asyncio import time import threading def get_img_urls(): res = requests.get(\"https://www.pkdoutu.com/photo/list/\", headers={ \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36\" }) selector = etree.HTML(res.text) img_urls = selector.xpath('//li[@class=\"list-group-item\"]/div/div/a/img[@data-backup]/@data-backup') print(img_urls) return img_urls def save_img(url): res = requests.get(url) name = os.path.basename(url) with open(\"imgs/\" + name, \"wb\") as f: f.write(res.content) print(f\"{name}\u4e0b\u8f7d\u5b8c\u6210\uff01\") def main(): img_urls = get_img_urls() # \u4e32\u884c [save_img(url) for url in img_urls] # \u534f\u7a0b\u5e76\u53d1 t_list = [] for url in img_urls: t = threading.Thread(target=save_img, args=(url,)) t.start() t_list.append(t) for t in t_list: t.join() if __name__ == '__main__': start = time.time() main() end = time.time() print(end - start) \u9488\u5bf9IO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0cPython\u591a\u7ebf\u7a0b\u53ef\u4ee5\u53d1\u6325\u51fa\u4e0d\u9519\u7684\u5e76\u53d1\u4f5c\u7528 3\u3001\u591a\u8fdb\u7a0b\u5b9e\u73b0 \u7531\u4e8eGIL\u7684\u5b58\u5728\uff0cpython\u4e2d\u7684\u591a\u7ebf\u7a0b\u5176\u5b9e\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u591a\u7ebf\u7a0b\uff0c\u5982\u679c\u60f3\u8981\u5145\u5206\u5730\u4f7f\u7528\u591a\u6838CPU\u7684\u8d44\u6e90\uff0c\u5728python\u4e2d\u5927\u90e8\u5206\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u591a\u8fdb\u7a0b\u3002 multiprocessing\u5305\u662fPython\u4e2d\u7684\u591a\u8fdb\u7a0b\u7ba1\u7406\u5305\u3002\u4e0ethreading.Thread\u7c7b\u4f3c\uff0c\u5b83\u53ef\u4ee5\u5229\u7528multiprocessing.Process\u5bf9\u8c61\u6765\u521b\u5efa\u4e00\u4e2a\u8fdb\u7a0b\u3002\u8be5\u8fdb\u7a0b\u53ef\u4ee5\u8fd0\u884c\u5728Python\u7a0b\u5e8f\u5185\u90e8\u7f16\u5199\u7684\u51fd\u6570\u3002\u8be5Process\u5bf9\u8c61\u4e0eThread\u5bf9\u8c61\u7684\u7528\u6cd5\u76f8\u540c\uff0c\u4e5f\u6709start(), run(), join()\u7684\u65b9\u6cd5\u3002\u6b64\u5916multiprocessing\u5305\u4e2d\u4e5f\u6709Lock/Event/Semaphore/Condition\u7c7b (\u8fd9\u4e9b\u5bf9\u8c61\u53ef\u4ee5\u50cf\u591a\u7ebf\u7a0b\u90a3\u6837\uff0c\u901a\u8fc7\u53c2\u6570\u4f20\u9012\u7ed9\u5404\u4e2a\u8fdb\u7a0b)\uff0c\u7528\u4ee5\u540c\u6b65\u8fdb\u7a0b\uff0c\u5176\u7528\u6cd5\u4e0ethreading\u5305\u4e2d\u7684\u540c\u540d\u7c7b\u4e00\u81f4\u3002\u6240\u4ee5\uff0cmultiprocessing\u7684\u5f88\u5927\u4e00\u90e8\u4efd\u4e0ethreading\u4f7f\u7528\u540c\u4e00\u5957API\uff0c\u53ea\u4e0d\u8fc7\u6362\u5230\u4e86\u591a\u8fdb\u7a0b\u7684\u60c5\u5883\u3002 python\u7684\u8fdb\u7a0b\u8c03\u7528: import multiprocessing import time def foo(): print(\"foo start...\") time.sleep(5) print(\"foo end...\") def bar(): print(\"bar start...\") time.sleep(3) print(\"bar end...\") if __name__ == '__main__': start = time.time() t1 = multiprocessing.Process(target=foo, args=()) t1.start() t2 = multiprocessing.Process(target=bar, args=()) t2.start() # \u7b49\u5f85\u6240\u6709\u5b50\u7ebf\u7a0b\u7ed3\u675f t1.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt1 t2.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt2 end = time.time() print(end - start) 4\u3001\u534f\u7a0b\u5b9e\u73b0 \u534f\u7a0b\uff0c\u53c8\u79f0\u5fae\u7ebf\u7a0b\uff0c\u7ea4\u7a0b\u3002\u82f1\u6587\u540dCoroutine\u3002\u4e00\u53e5\u8bdd\u8bf4\u660e\u4ec0\u4e48\u662f\u7ebf\u7a0b\uff1a\u534f\u7a0b\u662f\u4e00\u79cd\u7528\u6237\u6001\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\u3002 \u534f\u7a0b\u62e5\u6709\u81ea\u5df1\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u3002\u534f\u7a0b\u8c03\u5ea6\u5207\u6362\u65f6\uff0c\u5c06\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u4fdd\u5b58\u5230\u5176\u4ed6\u5730\u65b9\uff0c\u5728\u5207\u56de\u6765\u7684\u65f6\u5019\uff0c\u6062\u590d\u5148\u524d\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u3002\u56e0\u6b64\uff1a \u534f\u7a0b\u80fd\u4fdd\u7559\u4e0a\u4e00\u6b21\u8c03\u7528\u65f6\u7684\u72b6\u6001\uff08\u5373\u6240\u6709\u5c40\u90e8\u72b6\u6001\u7684\u4e00\u4e2a\u7279\u5b9a\u7ec4\u5408\uff09\uff0c\u6bcf\u6b21\u8fc7\u7a0b\u91cd\u5165\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u8fdb\u5165\u4e0a\u4e00\u6b21\u8c03\u7528\u7684\u72b6\u6001\uff0c\u6362\u79cd\u8bf4\u6cd5\uff1a\u8fdb\u5165\u4e0a\u4e00\u6b21\u79bb\u5f00\u65f6\u6240\u5904\u903b\u8f91\u6d41\u7684\u4f4d\u7f6e\u3002 \u30101\u3011yield\u4e0e\u534f\u7a0b def foo(): print(\"OK1\") yield 100 # \u5207\u6362: \u4fdd\u5b58/\u6062\u590d\u7684\u529f\u80fd print(\"OK2\") yield 1000 def bar(): print(\"OK3\") yield 200 print(\"OK4\") yield 2000 gen = foo() ret = next(gen) # gen.__next__() print(ret) gen2 = bar() ret2 = next(gen2) # gen.__next__() print(ret2) ret = next(gen) # gen.__next__() print(ret) ret2 = next(gen2) # gen.__next__() print(ret2) \u30102\u3011asyncio\u6a21\u5757 asyncio\u5373Asynchronous I/O\u662fpython\u4e00\u4e2a\u7528\u6765\u5904\u7406\u5e76\u53d1(concurrent)\u4e8b\u4ef6\u7684\u5305\uff0c\u662f\u5f88\u591apython\u5f02\u6b65\u67b6\u6784\u7684\u57fa\u7840\uff0c\u591a\u7528\u4e8e\u5904\u7406\u9ad8\u5e76\u53d1\u7f51\u7edc\u8bf7\u6c42\u65b9\u9762\u7684\u95ee\u9898\u3002 \u4e3a\u4e86\u7b80\u5316\u5e76\u66f4\u597d\u5730\u6807\u8bc6\u5f02\u6b65IO\uff0c\u4ece Python 3.5\u5f00\u59cb\u5f15\u5165\u4e86\u65b0\u7684\u8bed\u6cd5 async \u548c await \uff0c\u53ef\u4ee5\u8ba9coroutine\u7684\u4ee3\u7801\u66f4\u7b80\u6d01\u6613\u8bfb\u3002 asyncio \u88ab\u7528\u4f5c\u591a\u4e2a\u63d0\u4f9b\u9ad8\u6027\u80fd Python \u5f02\u6b65\u6846\u67b6\u7684\u57fa\u7840\uff0c\u5305\u62ec\u7f51\u7edc\u548c\u7f51\u7ad9\u670d\u52a1\uff0c\u6570\u636e\u5e93\u8fde\u63a5\u5e93\uff0c\u5206\u5e03\u5f0f\u4efb\u52a1\u961f\u5217\u7b49\u7b49\u3002 asyncio \u5f80\u5f80\u662f\u6784\u5efa IO \u5bc6\u96c6\u578b\u548c\u9ad8\u5c42\u7ea7 \u7ed3\u6784\u5316 \u7f51\u7edc\u4ee3\u7801\u7684\u6700\u4f73\u9009\u62e9\u3002 import asyncio async def task(i): print(f\"task {i} start\") await asyncio.sleep(1) print(f\"task {i} end\") # \u521b\u5efa\u4e8b\u4ef6\u5faa\u73af\u5bf9\u8c61 loop = asyncio.get_event_loop() # \u76f4\u63a5\u5c06\u534f\u7a0b\u5bf9\u8c61\u52a0\u5165\u65f6\u95f4\u5faa\u73af\u4e2d tasks = [task(1), task(2)] # asyncio.wait:\u5c06\u534f\u7a0b\u4efb\u52a1\u8fdb\u884c\u6536\u96c6\uff0c\u529f\u80fd\u7c7b\u4f3c\u540e\u9762\u7684asyncio.gather # run_until_complete\u963b\u585e\u8c03\u7528\uff0c\u76f4\u5230\u534f\u7a0b\u5168\u90e8\u8fd0\u884c\u7ed3\u675f\u624d\u8fd4\u56de loop.run_until_complete(asyncio.wait(tasks)) loop.close() task : \u4efb\u52a1,\u5bf9 \u534f\u7a0b\u5bf9\u8c61 \u7684\u8fdb\u4e00\u6b65\u5c01\u88c5,\u5305\u542b\u4efb\u52a1\u7684\u5404\u4e2a\u72b6\u6001;asyncio.Task\u662fFuture\u7684\u4e00\u4e2a\u5b50\u7c7b\uff0c\u7528\u4e8e\u5b9e\u73b0\u534f\u4f5c\u5f0f\u591a\u4efb\u52a1\u7684\u5e93\uff0c\u4e14Task\u5bf9\u8c61\u4e0d\u80fd\u7528\u6237\u624b\u52a8\u5b9e\u4f8b\u5316\uff0c\u901a\u8fc7\u4e0b\u97622\u4e2a\u51fd\u6570 loop.create_task() \u6216 asyncio.ensure_future() \u521b\u5efa\u3002 import asyncio, time async def work(i, n): # \u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u5f02\u6b65\u51fd\u6570 print('\u4efb\u52a1{}\u7b49\u5f85: {}\u79d2'.format(i, n)) await asyncio.sleep(n) # \u4f11\u7720\u4e00\u6bb5\u65f6\u95f4 print('\u4efb\u52a1{}\u5728{}\u79d2\u540e\u8fd4\u56de\u7ed3\u675f\u8fd0\u884c'.format(i, n)) return i + n start_time = time.time() # \u5f00\u59cb\u65f6\u95f4 tasks = [asyncio.ensure_future(work(1, 1)), asyncio.ensure_future(work(2, 2)), asyncio.ensure_future(work(3, 3))] loop = asyncio.get_event_loop() loop.run_until_complete(asyncio.wait(tasks)) loop.close() print('\u8fd0\u884c\u65f6\u95f4: ', time.time() - start_time) for task in tasks: print('\u4efb\u52a1\u6267\u884c\u7ed3\u679c: ', task.result()) \u30103\u30113.8\u7248\u672c+ async.run() \u8fd0\u884c\u534f\u7a0b async.create_task() \u521b\u5efatask async.gather() \u83b7\u53d6\u8fd4\u56de\u503c import asyncio, time async def work(i, n): # \u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u5f02\u6b65\u51fd\u6570 print('\u4efb\u52a1{}\u7b49\u5f85: {}\u79d2'.format(i, n)) await asyncio.sleep(n) # \u4f11\u7720\u4e00\u6bb5\u65f6\u95f4 print('\u4efb\u52a1{}\u5728{}\u79d2\u540e\u8fd4\u56de\u7ed3\u675f\u8fd0\u884c'.format(i, n)) return i + n tasks = [] async def main(): global tasks tasks = [asyncio.create_task(work(1, 1)), asyncio.create_task(work(2, 2)), asyncio.create_task(work(3, 3))] await asyncio.wait(tasks) # \u963b\u585e start_time = time.time() # \u5f00\u59cb\u65f6\u95f4 asyncio.run(main()) print('\u8fd0\u884c\u65f6\u95f4: ', time.time() - start_time) for task in tasks: print('\u4efb\u52a1\u6267\u884c\u7ed3\u679c: ', task.result()) asyncio.create_task() \u51fd\u6570\u5728 Python 3.7 \u4e2d\u88ab\u52a0\u5165\u3002 asyncio.gather \u65b9\u6cd5 # \u7528gather()\u6536\u96c6\u8fd4\u56de\u503c import asyncio, time async def work(i, n): # \u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u5f02\u6b65\u51fd\u6570 print('\u4efb\u52a1{}\u7b49\u5f85: {}\u79d2'.format(i, n)) await asyncio.sleep(n) # \u4f11\u7720\u4e00\u6bb5\u65f6\u95f4 print('\u4efb\u52a1{}\u5728{}\u79d2\u540e\u8fd4\u56de\u7ed3\u675f\u8fd0\u884c'.format(i, n)) return i + n async def main(): tasks = [asyncio.create_task(work(1, 1)), asyncio.create_task(work(2, 2)), asyncio.create_task(work(3, 3))] # \u5c06task\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165gather\uff0c\u7b49\u5f02\u6b65\u4efb\u52a1\u90fd\u7ed3\u675f\u540e\u8fd4\u56de\u7ed3\u679c\u5217\u8868 response = await asyncio.gather(tasks[0], tasks[1], tasks[2]) print(\"\u5f02\u6b65\u4efb\u52a1\u7ed3\u679c\uff1a\", response) start_time = time.time() # \u5f00\u59cb\u65f6\u95f4 asyncio.run(main()) print('\u8fd0\u884c\u65f6\u95f4: ', time.time() - start_time) \u30104\u3011aiohttp \u6211\u4eec\u4e4b\u524d\u5b66\u4e60\u8fc7\u722c\u866b\u6700\u91cd\u8981\u7684\u6a21\u5757requests\uff0c\u4f46\u5b83\u662f\u963b\u585e\u5f0f\u7684\u53d1\u8d77\u8bf7\u6c42\uff0c\u6bcf\u6b21\u8bf7\u6c42\u53d1\u8d77\u540e\u9700\u963b\u585e\u7b49\u5f85\u5176\u8fd4\u56de\u54cd\u5e94\uff0c\u4e0d\u80fd\u505a\u5176\u4ed6\u7684\u4e8b\u60c5\u3002\u672c\u6587\u8981\u4ecb\u7ecd\u7684aiohttp\u53ef\u4ee5\u7406\u89e3\u6210\u662f\u548crequests\u5bf9\u5e94Python\u5f02\u6b65\u7f51\u7edc\u8bf7\u6c42\u5e93\uff0c\u5b83\u662f\u57fa\u4e8e asyncio \u7684\u5f02\u6b65\u6a21\u5757\uff0c\u53ef\u7528\u4e8e\u5b9e\u73b0\u5f02\u6b65\u722c\u866b\uff0c\u6709\u70b9\u5c31\u662f\u66f4\u5feb\u4e8e requests \u7684\u540c\u6b65\u722c\u866b\u3002\u5b89\u88c5\u65b9\u5f0f\uff0cpip install aiohttp\u3002 aiohttp\u662f\u4e00\u4e2a\u4e3aPython\u63d0\u4f9b\u5f02\u6b65HTTP \u5ba2\u6237\u7aef/\u670d\u52a1\u7aef\u7f16\u7a0b\uff0c\u57fa\u4e8e asyncio \u7684\u5f02\u6b65\u5e93\u3002asyncio\u53ef\u4ee5\u5b9e\u73b0\u5355\u7ebf\u7a0b\u5e76\u53d1IO\u64cd\u4f5c\uff0c\u5176\u5b9e\u73b0\u4e86TCP\u3001UDP\u3001SSL\u7b49\u534f\u8bae\uff0caiohttp\u5c31\u662f\u57fa\u4e8easyncio\u5b9e\u73b0\u7684http\u6846\u67b6\u3002 import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: async with session.get(\"http://httpbin.org/headers\") as response: print(await response.text()) asyncio.run(main()) \u30105\u3011\u5e94\u7528\u6848\u4f8b\uff08\u5f02\u6b65\u722c\u866b\uff09 \uff081\uff09\u5f02\u6b65\u722c\u53d6\u6597\u56fe\u7f51 import aiohttp import asyncio import os from lxml import etree import time headers = { \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36\" } async def get_img_urls(): url = \"https://www.pkdoutu.com/photo/list/\" async with aiohttp.ClientSession() as session: async with session.get(url, headers=headers, ssl=False) as resp: text = await resp.content.read() selector = etree.HTML(text) img_urls = selector.xpath('//li[@class=\"list-group-item\"]/div/div/a/img[@data-backup]/@data-backup') return img_urls async def async_download(url): name = os.path.basename(url) async with aiohttp.ClientSession() as session: async with session.get(url, ssl=False) as resp: # \u5c06\u5f97\u5230\u7684\u8bf7\u6c42\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d with open(f\"imgs/{name}.jpg\", \"wb\") as f: f.write(await resp.content.read()) async def main(): tasks = [asyncio.create_task(async_download(url)) for url in await get_img_urls()] await asyncio.wait(tasks) if __name__ == '__main__': start = time.time() asyncio.run(main()) print(time.time() - start) \uff082\uff09\u5f02\u6b65\u722c\u53d6m3u8\u89c6\u9891 m3u8\u4e32\u884c\u722c\u53d6\u7248\u672c import requests import re import os session = requests.Session() # (1) \u722c\u53d6m3u8\u6587\u4ef6\u7684\u94fe\u63a5 url = \"https://www.9tata.cc/play/14999-1-0.html\" headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36' } res = session.get(url, headers=headers, verify=False) m3u8_link = re.search('now=\"(.*?m3u8)\"', res.text).group(1) print(m3u8_link) # https://ikcdn01.ikzybf.com/20221015/ecMSO74h/index.m3u8 # \u987a\u4fbf\u6293\u4e00\u4e2a\u540d\u5b57 name = re.search(r'<td class=\"col2 hidden-xs\">(?P<name>\\w+)</td>', res.text).group(\"name\") print(\"name\", name) # (2) \u722c\u53d6m3u8\u6587\u4ef6 res = session.get(m3u8_link) print(res.text.split(\"\\n\")[-1]) m3u8_detail_link = os.path.join(os.path.dirname(m3u8_link), res.text.split(\"\\n\")[-1]) print(m3u8_detail_link) # (3) \u722c\u53d6m3u8\u5177\u4f53\u6587\u4ef6 res = requests.get(m3u8_detail_link) print(res.text) # (4) \u89e3\u6790ts\u6587\u4ef6 ret = re.findall(r\"\\n(.*?\\.ts)\", res.text) print(ret) # (5) \u4e0b\u8f7d\u6bcf\u4e00\u4e2ats\u6587\u4ef6 p = os.path.dirname(m3u8_detail_link) with open(name, \"ab\") as f: for ts in ret: path = os.path.join(p, ts) res = requests.get(path) f.write(res.content) print(f\"{ts}\u4e0b\u8f7d\u5b8c\u6210\uff01\") m3u8\u5e76\u53d1\u722c\u53d6\u7248\u672c import requests import re import os import aiohttp import asyncio import time headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36' } async def get_m3u8_link(): # (1) \u722c\u53d6m3u8\u6587\u4ef6\u7684\u94fe\u63a5 url = \"https://www.9tata.cc/play/14999-1-0.html\" async with aiohttp.ClientSession() as session: async with session.get(url, headers=headers, ssl=False) as response: res = await response.text() m3u8_link = re.search('now=\"(.*?m3u8)\"', res).group(1) print(m3u8_link) # https://ikcdn01.ikzybf.com/20221015/ecMSO74h/index.m3u8 # \u987a\u4fbf\u6293\u4e00\u4e2a\u540d\u5b57 name = re.search(r'<td class=\"col2 hidden-xs\">(?P<name>\\w+)</td>', res).group(\"name\") print(\"name\", name) return m3u8_link, name async def get_m3u8_detail_link(m3u8_link): # (2) \u722c\u53d6m3u8\u6587\u4ef6 async with aiohttp.ClientSession() as session: async with session.get(m3u8_link, headers=headers, ssl=False) as response: res = await response.text() m3u8_detail_link = os.path.join(os.path.dirname(m3u8_link), res.split(\"\\n\")[-1]) print(m3u8_detail_link) return m3u8_detail_link async def parse_ts(m3u8_detail_link): # (3) \u722c\u53d6m3u8\u5177\u4f53\u6587\u4ef6 async with aiohttp.ClientSession() as session: async with session.get(m3u8_detail_link, headers=headers, ssl=False) as response: with open(\"ts\u6587\u4ef6/index.m3u8\", \"w\") as f: res_text = await response.text() f.write(res_text) # (4) \u89e3\u6790ts\u6587\u4ef6 ret = re.findall(r\"\\n(.*?\\.ts)\", res_text) print(ret) return ret async def download_video(m3u8_detail_link, ts_list): p = os.path.dirname(m3u8_detail_link) tasks = [] for ts in ts_list: path = os.path.join(p, ts) task = asyncio.create_task(download_ts(path, ts)) tasks.append(task) await asyncio.wait(tasks) async def download_ts(path, ts): if not os.path.exists(\"ts\u6587\u4ef6\"): os.mkdir(\"ts\u6587\u4ef6\") async with aiohttp.ClientSession() as session: async with session.get(path, ssl=False) as resp: # \u5c06\u5f97\u5230\u7684\u8bf7\u6c42\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d with open(\"ts\u6587\u4ef6/\" + ts, \"wb\") as f: f.write(await resp.content.read()) print(f\"{ts}\u4e0b\u8f7d\u5b8c\u6210\uff01\") def merge(filename='out'): ''' \u89c6\u9891\u5408\u5e76 :return: ''' # \u8fdb\u5165\u5230\u4e0b\u8f7d\u540ets \u7684\u76ee\u5f55 os.chdir(\"ts\u6587\u4ef6\") # \u89c6\u9891\u5408\u5e76\u7684\u547d\u4ee4 os.system(f'ffmpeg -i index.m3u8 -c copy {filename}.mp4') print(f'\u89c6\u9891{filename} \u5408\u5e76\u6210\u529f====') async def main(): m3u8_link, name = await get_m3u8_link() m3u8_detail_link = await get_m3u8_detail_link(m3u8_link) ts_list = await parse_ts(m3u8_detail_link) await download_video(m3u8_detail_link, ts_list) merge(name) if __name__ == '__main__': start = time.time() asyncio.run(main()) print(time.time() - start) \u77e5\u8bc6\u70b9\uff1affmpeg -i index.m3u8 -c copy apple.mp4 \u77e5\u8bc6\u70b9\uff1aos.system\u6267\u884c\u7ec8\u7aef\u547d\u4ee4 \u7b2c\u516d\u7ae0.web\u81ea\u52a8\u5316 \u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\uff0c\u524d\u7aef\u6280\u672f\u4e5f\u5728\u4e0d\u65ad\u53d8\u5316\uff0c\u6570\u636e\u7684\u52a0\u8f7d\u65b9\u5f0f\u4e5f\u4e0d\u518d\u662f\u5355\u7eaf\u7684\u670d\u52a1\u7aef\u6e32\u67d3\u4e86\u3002\u73b0\u5728\u4f60\u53ef\u4ee5\u770b\u5230\u5f88\u591a\u7f51\u7ad9\u7684\u6570\u636e\u53ef\u80fd\u90fd\u662f\u901a\u8fc7\u63a5\u53e3\u7684\u5f62\u5f0f\u4f20\u8f93\u7684\uff0c\u6216\u8005\u5373\u4f7f\u4e0d\u662f\u63a5\u53e3\u90a3\u4e5f\u662f\u4e00\u4e9b JSON \u7684\u6570\u636e\uff0c\u7136\u540e\u7ecf\u8fc7 JavaScript \u6e32\u67d3\u5f97\u51fa\u6765\u7684\u3002 \u8fd9\u65f6\uff0c\u5982\u679c\u4f60\u8fd8\u7528 requests \u6765\u722c\u53d6\u5185\u5bb9\uff0c\u90a3\u5c31\u4e0d\u7ba1\u7528\u4e86\u3002\u56e0\u4e3a requests \u722c\u53d6\u4e0b\u6765\u7684\u53ea\u80fd\u662f\u670d\u52a1\u5668\u7aef\u7f51\u9875\u7684\u6e90\u7801\uff0c\u8fd9\u548c\u6d4f\u89c8\u5668\u6e32\u67d3\u4ee5\u540e\u7684\u9875\u9762\u5185\u5bb9\u662f\u4e0d\u4e00\u6837\u7684\u3002\u56e0\u4e3a\uff0c\u771f\u6b63\u7684\u6570\u636e\u662f\u7ecf\u8fc7 JavaScript \u6267\u884c\u540e\uff0c\u6e32\u67d3\u51fa\u6765\u7684\uff0c\u6570\u636e\u6765\u6e90\u53ef\u80fd\u662f Ajax\uff0c\u4e5f\u53ef\u80fd\u662f\u9875\u9762\u91cc\u7684\u67d0\u4e9b Data\uff0c\u6216\u8005\u662f\u4e00\u4e9b ifame \u9875\u9762\u7b49\u3002\u4e0d\u8fc7\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u6781\u6709\u53ef\u80fd\u662f Ajax \u63a5\u53e3\u83b7\u53d6\u7684\u3002 \u6240\u4ee5\uff0c\u5f88\u591a\u60c5\u51b5\u6211\u4eec\u9700\u8981\u5206\u6790 Ajax\u8bf7\u6c42\uff0c\u5206\u6790\u8fd9\u4e9b\u63a5\u53e3\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u901a\u8fc7\u6293\u5305\u5de5\u5177\u6216\u8005\u6d4f\u89c8\u5668\u7684\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\uff0c\u627e\u5230\u6570\u636e\u7684\u8bf7\u6c42\u94fe\u63a5\uff0c\u7136\u540e\u518d\u7528\u7a0b\u5e8f\u6765\u6a21\u62df\u3002\u4f46\u662f\uff0c\u6293\u5305\u5206\u6790\u6d41\u7684\u65b9\u5f0f\uff0c\u4e5f\u5b58\u5728\u4e00\u5b9a\u7684\u7f3a\u70b9\u3002\u56e0\u4e3a\u6709\u4e9b\u63a5\u53e3\u5e26\u7740\u52a0\u5bc6\u53c2\u6570\uff0c\u6bd4\u5982 token\u3001sign \u7b49\u7b49\uff0c\u6a21\u62df\u96be\u5ea6\u8f83\u5927\uff1b \u90a3\u6709\u6ca1\u6709\u4e00\u79cd\u7b80\u5355\u7c97\u66b4\u7684\u65b9\u6cd5\uff0c\u8fd9\u65f6 Puppeteer\u3001Pyppeteer\u3001Selenium\u3001Splash \u7b49\u81ea\u52a8\u5316\u6846\u67b6\u51fa\u73b0\u4e86\u3002\u4f7f\u7528\u8fd9\u4e9b\u6846\u67b6\u83b7\u53d6HTML\u6e90\u7801\uff0c\u8fd9\u6837\u6211\u4eec\u722c\u53d6\u5230\u7684\u6e90\u4ee3\u7801\u5c31\u662fJavaScript \u6e32\u67d3\u4ee5\u540e\u7684\u771f\u6b63\u7684\u7f51\u9875\u4ee3\u7801\uff0c\u6570\u636e\u81ea\u7136\u5c31\u597d\u63d0\u53d6\u4e86\u3002\u540c\u65f6\uff0c\u4e5f\u5c31\u7ed5\u8fc7\u5206\u6790 Ajax \u548c\u4e00\u4e9b JavaScript \u903b\u8f91\u7684\u8fc7\u7a0b\u3002\u8fd9\u79cd\u65b9\u5f0f\u5c31\u505a\u5230\u4e86\u53ef\u89c1\u5373\u53ef\u722c\uff0c\u96be\u5ea6\u4e5f\u4e0d\u5927\uff0c\u540c\u65f6\u9002\u5408\u5927\u6279\u91cf\u7684\u91c7\u96c6\u3002 Selenium\uff0c\u4f5c\u4e3a\u4e00\u6b3e\u77e5\u540d\u7684Web\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\uff0c\u652f\u6301\u5927\u90e8\u5206\u4e3b\u6d41\u6d4f\u89c8\u5668\uff0c\u63d0\u4f9b\u4e86\u529f\u80fd\u4e30\u5bcc\u7684API\u63a5\u53e3\uff0c\u5e38\u5e38\u88ab\u6211\u4eec\u7528\u4f5c\u722c\u866b\u5de5\u5177\u6765\u4f7f\u7528\u3002\u7136\u800cselenium\u7684\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff0c \u6bd4\u5982\u901f\u5ea6\u592a\u6162\u3001\u5bf9\u7248\u672c\u914d\u7f6e\u8981\u6c42\u4e25\u82db,\u6700\u9ebb\u70e6\u662f\u7ecf\u5e38\u8981\u66f4\u65b0\u5bf9\u5e94\u7684\u9a71\u52a8 \u3002 6.1 selenium \u30101\u3011\u5b89\u88c5 \u7531\u4e8esleenium4.1.0\u9700\u8981python3.7\u4ee5\u4e0a\u65b9\u53ef\u652f\u6301\uff0c\u8bf7\u6ce8\u610f\u81ea\u5df1\u7684python\u7248\u672c\u3002 \u65b9\u5f0f\u4e00\uff1apip\u5b89\u88c5 Python3.x\u5b89\u88c5\u540e\u5c31\u9ed8\u8ba4\u5c31\u4f1a\u6709pip\uff08pip.exe\u9ed8\u8ba4\u5728python\u7684Scripts\u8def\u5f84\u4e0b\uff09\uff0c\u6253\u5f00 cmd\uff0c\u4f7f\u7528pip\u5b89\u88c5\u3002 pip install selenium \u9996\u6b21\u5b89\u88c5\u4f1a\u6709\u8fdb\u5ea6\u6761\uff0c\u800c\u4e14\u88c5\u51fa\u6765\u662f\u591a\u4e2a\u5305\uff08\u4f9d\u8d56\u4e8e\u5176\u4ed6\u7b2c\u4e09\u65b9\u5e93\uff09\u3002\u5982\u679c\u5b89\u88c5\u6162\uff08\u9ed8\u8ba4\u8fde\u63a5\u5b98\u7f51\uff09\uff0c\u53ef\u4ee5\u6307\u5b9a\u56fd\u5185\u6e90\u3002 pip install selenium -i https://mirrors.aliyun.com/pypi/simple/ \u65b9\u5f0f\u4e00\uff1aPycharm\u5b89\u88c5 Pycharm-File-Setting-Project:xxxx-Python Interpreter\uff0c\u70b9\u51fb+\u53f7 chrome\u9a71\u52a8\u5730\u5740:http://chromedriver.storage.googleapis.com/index.html \u6839\u636e\u4f60\u7535\u8111\u7684\u4e0d\u540c\u81ea\u884c\u9009\u62e9\u5427. win64\u9009win32\u5373\u53ef. \u628a\u4f60\u4e0b\u8f7d\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u653e\u5728python\u89e3\u91ca\u5668\u6240\u5728\u7684\u6587\u4ef6\u5939 \u30102\u3011quick start selenium\u6700\u521d\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u5de5\u5177,\u800c\u722c\u866b\u4e2d\u4f7f\u7528\u5b83\u4e3b\u8981\u662f\u4e3a\u4e86\u89e3\u51b3requests\u65e0\u6cd5\u76f4\u63a5\u6267\u884cJavaScript\u4ee3\u7801\u7684\u95ee\u9898 selenium\u672c\u8d28\u662f\u901a\u8fc7\u9a71\u52a8\u6d4f\u89c8\u5668\uff0c\u5b8c\u5168\u6a21\u62df\u6d4f\u89c8\u5668\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u8df3\u8f6c\u3001\u8f93\u5165\u3001\u70b9\u51fb\u3001\u4e0b\u62c9\u7b49\uff0c\u6765\u62ff\u5230\u7f51\u9875\u6e32\u67d3\u4e4b\u540e\u7684\u7ed3\u679c\uff0c\u53ef\u652f\u6301\u591a\u79cd\u6d4f\u89c8\u5668 \u5b89\u88c5pip\u5305 pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple selenium \u6848\u4f8b\uff1a from selenium import webdriver from selenium.webdriver.common.by import By # \u6309\u7167\u4ec0\u4e48\u65b9\u5f0f\u67e5\u627e\uff0cBy.ID,By.CSS_SELECTOR from selenium.webdriver.common.keys import Keys # \u952e\u76d8\u6309\u952e\u64cd\u4f5c from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.support.wait import WebDriverWait # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u67d0\u4e9b\u5143\u7d20 chrome = webdriver.Chrome() try: chrome.get('https://www.jd.com') input_tag = chrome.find_element(By.ID, 'key') input_tag.send_keys('hellokitty') input_tag.send_keys(Keys.ENTER) wait = WebDriverWait(chrome, 10) # time.sleep(3) wait.until(EC.presence_of_element_located((By.ID, 'J_goodsList'))) # \u7b49\u5230id\u4e3aJ_goodsList\u7684\u5143\u7d20\u52a0\u8f7d\u5b8c\u6bd5,\u6700\u591a\u7b4910\u79d2 chrome.save_screenshot(\"hellokitty.png\") finally: chrome.close() \u30103\u3011\u5143\u7d20\u5b9a\u4f4d # \u65b9\u5f0f1 el = driver.find_element_by_xxx(value) # \u65b9\u5f0f2: \u63a8\u8350 from selenium.webdriver.common.by import By driver.find_element(By.xxx,value) driver.find_elements(By.xx, value) # \u8fd4\u56de\u5217\u8868 \u516b\u79cd\u65b9\u5f0f\uff1a id name class tag link partial xpath css \u30104\u3011\u5143\u7d20\u64cd\u4f5c\uff08\u8282\u70b9\u4ea4\u4e92\uff09 Selenium\u53ef\u4ee5\u9a71\u52a8\u6d4f\u89c8\u5668\u6765\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ef\u4ee5\u8ba9\u6d4f\u89c8\u5668\u6a21\u62df\u6267\u884c\u4e00\u4e9b\u52a8\u4f5c\u3002\u6bd4\u8f83\u5e38\u89c1\u7684\u7528\u6cd5\u6709\uff1a\u8f93\u5165\u6587\u5b57\u65f6\u7528 send_keys() \u65b9\u6cd5\uff0c\u6e05\u7a7a\u6587\u5b57\u65f6\u7528 clear() \u65b9\u6cd5\uff0c\u70b9\u51fb\u6309\u94ae\u65f6\u7528 click() \u65b9\u6cd5\u3002\u793a\u4f8b\u5982\u4e0b\uff1a find_element\u65b9\u6cd5\u4ec5\u4ec5\u80fd\u591f\u83b7\u53d6\u5143\u7d20\u5bf9\u8c61\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5bf9\u5143\u7d20\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u63d0\u53d6\u6570\u636e\u7684\u65b9\u6cd5 \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u83b7\u53d6\u6570\u636e el.get_attribute(key) # \u83b7\u53d6key\u5c5e\u6027\u540d\u5bf9\u5e94\u7684\u5c5e\u6027\u503c el.text # \u83b7\u53d6\u5f00\u95ed\u6807\u7b7e\u4e4b\u95f4\u7684\u6587\u672c\u5185\u5bb9 \u5bf9\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u7684\u64cd\u4f5c el.click() # \u5bf9\u5143\u7d20\u6267\u884c\u70b9\u51fb\u64cd\u4f5c el.submit() # \u5bf9\u5143\u7d20\u6267\u884c\u63d0\u4ea4\u64cd\u4f5c el.clear() # \u6e05\u7a7a\u53ef\u8f93\u5165\u5143\u7d20\u4e2d\u7684\u6570\u636e el.send_keys(data) # \u5411\u53ef\u8f93\u5165\u5143\u7d20\u8f93\u5165\u6570\u636e from selenium import webdriver import time from selenium.webdriver.common.by import By browser = webdriver.Chrome() browser.get('https://www.taobao.com') q = browser.find_element(By.ID, \"q\") q.send_keys('MAC') time.sleep(1) q.clear() q.send_keys('IPhone') button = browser.find_element(By.CLASS_NAME, \"btn-search\") button.click() \u30105\u3011\u52a8\u4f5c\u94fe \u5728\u4e0a\u9762\u7684\u5b9e\u4f8b\u4e2d\uff0c\u4e00\u4e9b\u4ea4\u4e92\u52a8\u4f5c\u90fd\u662f\u9488\u5bf9\u67d0\u4e2a\u8282\u70b9\u6267\u884c\u7684\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u8f93\u5165\u6846\uff0c\u6211\u4eec\u5c31\u8c03\u7528\u5b83\u7684\u8f93\u5165\u6587\u5b57\u548c\u6e05\u7a7a\u6587\u5b57\u65b9\u6cd5\uff1b\u5bf9\u4e8e\u6309\u94ae\uff0c\u5c31\u8c03\u7528\u5b83\u7684\u70b9\u51fb\u65b9\u6cd5\u3002\u5176\u5b9e\uff0c\u8fd8\u6709\u53e6\u5916\u4e00\u4e9b\u64cd\u4f5c\uff0c\u5b83\u4eec\u6ca1\u6709\u7279\u5b9a\u7684\u6267\u884c\u5bf9\u8c61\uff0c\u6bd4\u5982\u9f20\u6807\u62d6\u66f3\u3001\u952e\u76d8\u6309\u952e\u7b49\uff0c\u8fd9\u4e9b\u52a8\u4f5c\u7528\u53e6\u4e00\u79cd\u65b9\u5f0f\u6765\u6267\u884c\uff0c\u90a3\u5c31\u662f\u52a8\u4f5c\u94fe\u3002 \u6bd4\u5982\uff0c\u73b0\u5728\u5b9e\u73b0\u4e00\u4e2a\u8282\u70b9\u7684\u62d6\u66f3\u64cd\u4f5c\uff0c\u5c06\u67d0\u4e2a\u8282\u70b9\u4ece\u4e00\u5904\u62d6\u66f3\u5230\u53e6\u5916\u4e00\u5904\uff0c\u53ef\u4ee5\u8fd9\u6837\u5b9e\u73b0\uff1a from time import sleep from selenium import webdriver from selenium.webdriver import ActionChains from selenium.webdriver.common.by import By driver = webdriver.Chrome() driver.implicitly_wait(10) driver.maximize_window() driver.get('http://sahitest.com/demo/dragDropMooTools.htm') dragger = driver.find_element(By.ID, 'dragger') # \u88ab\u62d6\u62fd\u5143\u7d20 item1 = driver.find_element(By.XPATH, '//div[text()=\"Item 1\"]') # \u76ee\u6807\u5143\u7d201 item2 = driver.find_element(By.XPATH, '//div[text()=\"Item 2\"]') # \u76ee\u68072 item3 = driver.find_element(By.XPATH, '//div[text()=\"Item 3\"]') # \u76ee\u68073 item4 = driver.find_element(By.XPATH, '//div[text()=\"Item 4\"]') # \u76ee\u68074 action = ActionChains(driver) action.drag_and_drop(dragger, item1).perform() # 1.\u79fb\u52a8dragger\u5230\u76ee\u68071 sleep(2) action.click_and_hold(dragger).release(item2).perform() # 2.\u6548\u679c\u4e0e\u4e0a\u53e5\u76f8\u540c\uff0c\u4e5f\u80fd\u8d77\u5230\u79fb\u52a8\u6548\u679c sleep(2) action.click_and_hold(dragger).move_to_element(item3).release().perform() # 3.\u6548\u679c\u4e0e\u4e0a\u4e24\u53e5\u76f8\u540c\uff0c\u4e5f\u80fd\u8d77\u5230\u79fb\u52a8\u7684\u6548\u679c sleep(2) action.click_and_hold(dragger).move_by_offset(800, 0).release().perform() sleep(2) driver.quit() \u30106\u3011\u6267\u884cJS selenium\u5e76\u4e0d\u662f\u4e07\u80fd\u7684\uff0c\u6709\u65f6\u5019\u9875\u9762\u4e0a\u64cd\u4f5c\u65e0\u6cd5\u5b9e\u73b0\u7684\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u501f\u52a9JS\u6765\u5b8c\u6210\u4e86\u3002 \u5f53\u9875\u9762\u4e0a\u7684\u5143\u7d20\u8d85\u8fc7\u4e00\u5c4f\u540e\uff0c\u60f3\u64cd\u4f5c\u5c4f\u5e55\u4e0b\u65b9\u7684\u5143\u7d20\uff0c\u662f\u4e0d\u80fd\u76f4\u63a5\u5b9a\u4f4d\u5230\uff0c\u4f1a\u62a5\u5143\u7d20\u4e0d\u53ef\u89c1\u7684\u3002\u8fd9\u65f6\u5019\u9700\u8981\u501f\u52a9\u6eda\u52a8\u6761\u6765\u62d6\u52a8\u5c4f\u5e55\uff0c\u4f7f\u88ab\u64cd\u4f5c\u7684\u5143\u7d20\u663e\u793a\u5728\u5f53\u524d\u7684\u5c4f\u5e55\u4e0a\u3002\u6eda\u52a8\u6761\u662f\u65e0\u6cd5\u76f4\u63a5\u7528\u5b9a\u4f4d\u5de5\u5177\u6765\u5b9a\u4f4d\u7684\u3002selenium\u91cc\u9762\u4e5f\u6ca1\u6709\u76f4\u63a5\u7684\u65b9\u6cd5\u53bb\u63a7\u5236\u6eda\u52a8\u6761\uff0c\u8fd9\u65f6\u5019\u53ea\u80fd\u501f\u52a9Js\u4ee3\u7801\u4e86\uff0c\u8fd8\u597dselenium\u63d0\u4f9b\u4e86\u4e00\u4e2a\u64cd\u4f5cjs\u7684\u65b9\u6cd5:execute_script()\uff0c\u53ef\u4ee5\u76f4\u63a5\u6267\u884cjs\u7684\u811a\u672c\u3002 \u4ee3\u7801\u5982\u4e0b\uff1a import time from selenium import webdriver browser = webdriver.Chrome() browser.get('https://www.jd.com/') browser.execute_script('window.scrollTo(0, document.body.scrollHeight)') time.sleep(3) \u30107\u3011\u9875\u9762\u7b49\u5f85 \u4e3a\u4ec0\u4e48\u9700\u8981\u7b49\u5f85 \u5982\u679c\u7f51\u7ad9\u91c7\u7528\u4e86\u52a8\u6001html\u6280\u672f\uff0c\u90a3\u4e48\u9875\u9762\u4e0a\u7684\u90e8\u5206\u5143\u7d20\u51fa\u73b0\u65f6\u95f4\u4fbf\u4e0d\u80fd\u786e\u5b9a\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u5f3a\u5236\u7b49\u5f85\u6307\u5b9a\u65f6\u95f4\uff0c\u7b49\u5f85\u7ed3\u675f\u4e4b\u540e\u8fdb\u884c\u5143\u7d20\u5b9a\u4f4d\uff0c\u5982\u679c\u8fd8\u662f\u65e0\u6cd5\u5b9a\u4f4d\u5230\u5219\u62a5\u9519 \u9875\u9762\u7b49\u5f85\u7684\u4e09\u79cd\u65b9\u6cd5 \u5f3a\u5236\u7b49\u5f85 \u4e5f\u53eb\u7ebf\u7a0b\u7b49\u5f85, \u901a\u8fc7\u7ebf\u7a0b\u4f11\u7720\u7684\u65b9\u5f0f\u5b8c\u6210\u7684\u7b49\u5f85,\u5982\u7b49\u5f855\u79d2: Thread sleep(5000)\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u592a\u4f7f\u7528\u5f3a\u5236\u7b49\u5f85\uff0c\u4e3b\u8981\u5e94\u7528\u7684\u573a\u666f\u5728\u4e8e\u4e0d\u540c\u7cfb\u7edf\u4ea4\u4e92\u7684\u5730\u65b9\u3002 python import time time.sleep(n) # \u963b\u585e\u7b49\u5f85\u8bbe\u5b9a\u7684\u79d2\u6570\u4e4b\u540e\u518d\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c \u663e\u5f0f\u7b49\u5f85 \u4e5f\u79f0\u4e3a\u667a\u80fd\u7b49\u5f85\uff0c\u9488\u5bf9\u6307\u5b9a\u5143\u7d20\u5b9a\u4f4d\u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\uff0c\u5728\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\u5185\u8fdb\u884c\u5143\u7d20\u67e5\u627e\uff0c\u627e\u5230\u5143\u7d20\u5219\u76f4\u63a5\u8fd4\u56de\uff0c\u5982\u679c\u5728\u8d85\u65f6\u8fd8\u6ca1\u6709\u627e\u5230\u5143\u7d20\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u663e\u793a\u7b49\u5f85\u662f selenium \u5f53\u4e2d\u6bd4\u8f83\u7075\u6d3b\u7684\u4e00\u79cd\u7b49\u5f85\u65b9\u5f0f\uff0c\u4ed6\u7684\u5b9e\u73b0\u539f\u7406\u5176\u5b9e\u662f\u901a\u8fc7 while \u5faa\u73af\u4e0d\u505c\u7684\u5c1d\u8bd5\u9700\u8981\u8fdb\u884c\u7684\u64cd\u4f5c\u3002 ```python from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC # \u6bcf\u9694 0.5s \u68c0\u67e5\u4e00\u6b21(\u9ed8\u8ba4\u5c31\u662f 0.5s), \u6700\u591a\u7b49\u5f85 10 \u79d2,\u5426\u5219\u62a5\u9519\u3002\u5982\u679c\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u76f4\u63a5\u7ed3\u675f\u7b49\u5f85\uff0c\u5982\u679c\u572810\u79d2\u7ed3\u675f\u4e4b\u540e\u4ecd\u672a\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u62a5\u9519 wait = WebDriverWait(chrome, 10,0.5) wait.until(EC.presence_of_element_located((By.ID, 'J_goodsList'))) ``` \u9690\u5f0f\u7b49\u5f85 \u9690\u5f0f\u7b49\u5f85\u8bbe\u7f6e\u4e4b\u540e\u4ee3\u7801\u4e2d\u7684\u6240\u6709\u5143\u7d20\u5b9a\u4f4d\u90fd\u4f1a\u505a\u9690\u5f0f\u7b49\u5f85 \u901a\u8fc7implicitly Wait\u5b8c\u6210\u7684\u5ef6\u65f6\u7b49\u5f85\uff0c\u6ce8\u610f\u8fd9\u79cd\u662f\u9488\u5bf9\u5168\u5c40\u8bbe\u7f6e\u7684\u7b49\u5f85\uff0c\u5982\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\u4e3a10\u79d2\uff0c\u4f7f\u7528\u4e86implicitlyWait\u540e\uff0c\u5982\u679c\u7b2c\u4e00\u6b21\u6ca1\u6709\u627e\u5230\u5143\u7d20\uff0c\u4f1a\u572810\u79d2\u4e4b\u5185\u4e0d\u65ad\u5faa\u73af\u53bb\u627e\u5143\u7d20\uff0c\u5982\u679c\u8d85\u8fc710\u79d2\u8fd8\u6ca1\u6709\u627e\u5230\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u9690\u5f0f\u7b49\u5f85\u6bd4\u8f83\u667a\u80fd\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u5168\u5c40\u914d\u7f6e\uff0c\u4f46\u662f\u53ea\u80fd\u7528\u4e8e\u5143\u7d20\u5b9a\u4f4d python driver.implicitly_wait(10) # \u5728\u6307\u5b9a\u7684n\u79d2\u5185\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c1d\u8bd5\u5b9a\u4f4d\u5143\u7d20\uff0c\u5982\u679cn\u79d2\u7ed3\u675f\u8fd8\u672a\u88ab\u5b9a\u4f4d\u51fa\u6765\u5219\u62a5\u9519 \u6ce8\u610f\uff1a Selenium\u663e\u793a\u7b49\u5f85\u548c\u9690\u5f0f\u7b49\u5f85\u7684\u533a\u522b 1\u3001selenium\u7684\u663e\u793a\u7b49\u5f85 \u539f\u7406\uff1a\u663e\u793a\u7b49\u5f85\uff0c\u5c31\u662f\u660e\u786e\u8981\u7b49\u5230\u67d0\u4e2a\u5143\u7d20\u7684\u51fa\u73b0\u6216\u8005\u662f\u67d0\u4e2a\u5143\u7d20\u7684\u53ef\u70b9\u51fb\u7b49\u6761\u4ef6\uff0c\u7b49\u4e0d\u5230\uff0c\u5c31\u4e00\u76f4\u7b49\uff0c\u9664\u975e\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u4e4b\u5185\u90fd\u6ca1\u627e\u5230\uff0c\u5c31\u4f1a\u8df3\u51fa\u5f02\u5e38Exception (\u7b80\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u76f4\u5230\u5143\u7d20\u51fa\u73b0\u624d\u53bb\u64cd\u4f5c\uff0c\u5982\u679c\u8d85\u65f6\u5219\u62a5\u5f02\u5e38) 2\u3001selenium\u7684\u9690\u5f0f\u7b49\u5f85 \u539f\u7406\uff1a\u9690\u5f0f\u7b49\u5f85\uff0c\u5c31\u662f\u5728\u521b\u5efadriver\u65f6\uff0c\u4e3a\u6d4f\u89c8\u5668\u5bf9\u8c61\u521b\u5efa\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5f97\u4e0d\u5230\u67d0\u4e2a\u5143\u7d20\u5c31\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u76f4\u5230\u62ff\u5230\u67d0\u4e2a\u5143\u7d20\u4f4d\u7f6e\u3002 \u6ce8\u610f\uff1a\u5728\u4f7f\u7528\u9690\u5f0f\u7b49\u5f85\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u6d4f\u89c8\u5668\u4f1a\u5728\u4f60\u81ea\u5df1\u8bbe\u5b9a\u7684\u65f6\u95f4\u5185\u90e8\u65ad\u7684\u5237\u65b0\u9875\u9762\u53bb\u5bfb\u627e\u6211\u4eec\u9700\u8981\u7684\u5143\u7d20 \u30108\u3011selenium\u7684\u5176\u4ed6\u64cd\u4f5c \uff081\uff09\u65e0\u5934\u6d4f\u89c8\u5668 \u6211\u4eec\u5df2\u7ecf\u57fa\u672c\u4e86\u89e3\u4e86selenium\u7684\u57fa\u672c\u4f7f\u7528\u4e86. \u4f46\u662f\u5462, \u4e0d\u77e5\u5404\u4f4d\u6709\u6ca1\u6709\u53d1\u73b0, \u6bcf\u6b21\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u65f6\u95f4\u90fd\u6bd4\u8f83\u957f. \u8fd9\u5c31\u6bd4\u8f83\u8017\u65f6\u4e86. \u6211\u4eec\u5199\u7684\u662f\u722c\u866b\u7a0b\u5e8f. \u76ee\u7684\u662f\u6570\u636e. \u5e76\u4e0d\u662f\u60f3\u770b\u7f51\u9875. \u90a3\u80fd\u4e0d\u80fd\u8ba9\u6d4f\u89c8\u5668\u5728\u540e\u53f0\u8dd1\u5462? \u7b54\u6848\u662f\u53ef\u4ee5\u7684 from selenium.webdriver import Chrome from selenium.webdriver.chrome.options import Options opt = Options() opt.add_argument(\"--headless\") opt.add_argument('--disable-gpu') opt.add_argument(\"--window-size=4000,1600\") # \u8bbe\u7f6e\u7a97\u53e3\u5927\u5c0f web = Chrome(options=opt) \uff082\uff09selenium \u5904\u7406cookie # \u901a\u8fc7driver.get_cookies()\u80fd\u591f\u83b7\u53d6\u6240\u6709\u7684cookie dictCookies = driver.get_cookies() # \u6dfb\u52a0cookie driver.add_cookie(dictCookies) # \u5220\u9664\u4e00\u6761cookie driver.delete_cookie(\"CookieName\") # \u5220\u9664\u6240\u6709\u7684cookie driver.delete_all_cookies() \uff083\uff09\u9875\u9762\u524d\u8fdb\u548c\u540e\u9000 driver.forward() # \u524d\u8fdb driver.back() # \u540e\u9000 driver.refresh() # \u5237\u65b0 driver.close() # \u5173\u95ed\u5f53\u524d\u7a97\u53e3 \u30109\u3011\u6ed1\u52a8\u9a8c\u8bc1\u6848\u4f8b import time from selenium import webdriver from selenium.webdriver.common.by import By # \u6309\u7167\u4ec0\u4e48\u65b9\u5f0f\u67e5\u627e\uff0cBy.ID,By.CSS_SELECTOR from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.support.wait import WebDriverWait # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u67d0\u4e9b\u5143\u7d20 import cv2 from urllib import request from selenium.webdriver.common.action_chains import ActionChains def get_distance(): background = cv2.imread(\"background.png\", 0) gap = cv2.imread(\"gap.png\", 0) res = cv2.matchTemplate(background, gap, cv2.TM_CCOEFF_NORMED) value = cv2.minMaxLoc(res)[2][0] print(value) return value * 278 / 360 def main(): chrome = webdriver.Chrome() chrome.implicitly_wait(5) chrome.get('https://passport.jd.com/new/login.aspx?') login = chrome.find_element(By.CLASS_NAME, 'login-tab-r') login.click() loginname = chrome.find_element(By.ID, 'loginname') loginname.send_keys(\"123@qq.com\") nloginpwd = chrome.find_element(By.ID, 'nloginpwd') nloginpwd.send_keys(\"987654321\") loginBtn = chrome.find_element(By.CLASS_NAME, 'login-btn') loginBtn.click() img_src = chrome.find_element(By.XPATH, '//*[@class=\"JDJRV-bigimg\"]/img').get_attribute(\"src\") temp_src = chrome.find_element(By.XPATH, '//*[@class=\"JDJRV-smallimg\"]/img').get_attribute(\"src\") request.urlretrieve(img_src, \"background.png\") request.urlretrieve(temp_src, \"gap.png\") distance = int(get_distance()) print(\"distance:\", distance) print('\u7b2c\u4e00\u6b65,\u70b9\u51fb\u6ed1\u52a8\u6309\u94ae') element = chrome.find_element(By.CLASS_NAME, 'JDJRV-slide-btn') ActionChains(chrome).click_and_hold(on_element=element).perform() # \u70b9\u51fb\u9f20\u6807\u5de6\u952e\uff0c\u6309\u4f4f\u4e0d\u653e ActionChains(chrome).move_by_offset(xoffset=distance, yoffset=0).perform() ActionChains(chrome).release(on_element=element).perform() if __name__ == '__main__': main() 6.2 pyppeteer \u7531\u4e8eSelenium\u6d41\u884c\u5df2\u4e45\uff0c\u73b0\u5728\u7a0d\u5fae\u6709\u70b9\u53cd\u722c\u7684\u7f51\u7ad9\u90fd\u4f1a\u5bf9selenium\u548cwebdriver\u8fdb\u884c\u8bc6\u522b\uff0c\u7f51\u7ad9\u53ea\u9700\u8981\u5728\u524d\u7aefjs\u6dfb\u52a0\u4e00\u4e0b\u5224\u65ad\u811a\u672c\uff0c\u5f88\u5bb9\u6613\u5c31\u53ef\u4ee5\u5224\u65ad\u51fa\u662f\u771f\u4eba\u8bbf\u95ee\u8fd8\u662fwebdriver\u3002\u867d\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e2d\u95f4\u4ee3\u7406\u7684\u65b9\u5f0f\u8fdb\u884cjs\u6ce8\u5165\u5c4f\u853dwebdriver\u68c0\u6d4b\uff0c\u4f46\u662fwebdriver\u5bf9\u6d4f\u89c8\u5668\u7684\u6a21\u62df\u64cd\u4f5c\uff08\u8f93\u5165\u3001\u70b9\u51fb\u7b49\u7b49\uff09\u90fd\u4f1a\u7559\u4e0bwebdriver\u7684\u6807\u8bb0\uff0c\u540c\u6837\u4f1a\u88ab\u8bc6\u522b\u51fa\u6765\uff0c\u8981\u7ed5\u8fc7\u8fd9\u79cd\u68c0\u6d4b\uff0c\u53ea\u6709\u91cd\u65b0\u7f16\u8bd1webdriver\uff0c\u9ebb\u70e6\u81ea\u4e0d\u5fc5\u8bf4\uff0c\u96be\u5ea6\u4e0d\u662f\u4e00\u822c\u5927\u3002 \u7531\u4e8eSelenium\u5177\u6709\u8fd9\u4e9b\u4e25\u91cd\u7684\u7f3a\u70b9\u3002pyperteer\u6210\u4e3a\u4e86\u722c\u866b\u754c\u7684\u53c8\u4e00\u65b0\u661f\u3002\u76f8\u6bd4\u4e8eselenium\u5177\u6709\u5f02\u6b65\u52a0\u8f7d\u3001\u901f\u5ea6\u5feb\u3001\u5177\u5907\u6709\u754c\u9762/\u65e0\u754c\u9762\u6a21\u5f0f\u3001\u4f2a\u88c5\u6027\u66f4\u5f3a\u4e0d\u6613\u88ab\u8bc6\u522b\u4e3a\u673a\u5668\u4eba\uff0c\u540c\u65f6\u53ef\u4ee5\u4f2a\u88c5\u624b\u673a\u5e73\u677f\u7b49\u7ec8\u7aef\uff1b\u867d\u7136\u652f\u6301\u7684\u6d4f\u89c8\u5668\u6bd4\u8f83\u5355\u4e00\uff0c\u4f46\u5728\u5b89\u88c5\u914d\u7f6e\u7684\u4fbf\u5229\u6027\u548c\u8fd0\u884c\u6548\u7387\u65b9\u9762\u90fd\u8981\u8fdc\u80dcselenium\u3002 pyppeteer\u65e0\u7591\u4e3a\u9632\u722c\u5899\u6495\u5f00\u4e86\u4e00\u9053\u5927\u53e3\u5b50\uff0c\u9488\u5bf9selenium\u7684\u6dd8\u5b9d\u3001\u7f8e\u56e2\u3001\u6587\u4e66\u7f51\u7b49\u7f51\u7ad9\uff0c\u76ee\u524d\u53ef\u901a\u8fc7\u8be5\u5e93\u4f7f\u7528selenium\u7684\u601d\u8def\u7ee7\u7eed\u7a81\u7834\uff0c\u6beb\u4e0d\u8d39\u52b2\u3002 \u4ecb\u7ecdPyppeteer\u4e4b\u524d\u5148\u8bf4\u4e00\u4e0bPuppeteer\uff0cPuppeteer\u662f\u8c37\u6b4c\u51fa\u54c1\u7684\u4e00\u6b3e\u57fa\u4e8eNode.js\u5f00\u53d1\u7684\u4e00\u6b3e\u5de5\u5177\uff0c\u4e3b\u8981\u662f\u7528\u6765\u64cd\u7eb5Chrome\u6d4f\u89c8\u5668\u7684 API\uff0c\u901a\u8fc7Javascript\u4ee3\u7801\u6765\u64cd\u7eb5Chrome\u6d4f\u89c8\u5668\uff0c\u5b8c\u6210\u6570\u636e\u722c\u53d6\u3001Web\u7a0b\u5e8f\u81ea\u52a8\u6d4b\u8bd5\u7b49\u4efb\u52a1\u3002 pyppeteer\u662f\u975e\u5b98\u65b9 Python \u7248\u672c\u7684 Puppeteer \u5e93\uff0c\u6d4f\u89c8\u5668\u81ea\u52a8\u5316\u5e93\uff0c\u7531\u65e5\u672c\u5de5\u7a0b\u5e08\u5f00\u53d1\u3002 Puppeteer\u662f Google \u57fa\u4e8e Node.js \u5f00\u53d1\u7684\u5de5\u5177\uff0c\u8c03\u7528 Chrome \u7684 API\uff0c\u901a\u8fc7 JavaScript \u4ee3\u7801\u6765\u64cd\u7eb5 Chrome \u5b8c\u6210\u4e00\u4e9b\u64cd\u4f5c\uff0c \u7528\u4e8e\u7f51\u7edc\u722c\u866b\u3001Web \u7a0b\u5e8f\u81ea\u52a8\u6d4b\u8bd5\u7b49\u3002 pyppeteer \u4f7f\u7528\u4e86 Python \u5f02\u6b65\u534f\u7a0b\u5e93 asyncio \uff0c\u53ef\u6574\u5408 Scrapy \u8fdb\u884c\u5206\u5e03\u5f0f\u722c\u866b\u3002 puppet \u6728\u5076\uff0cpuppeteer \u64cd\u7eb5\u6728\u5076\u7684\u4eba\u3002 pip3 install pyppeteer \u6ed1\u52a8\u9a8c\u8bc1\u6848\u4f8b import random from pyppeteer import launch import asyncio import cv2 from urllib import request async def get_track(): background = cv2.imread(\"background.png\", 0) gap = cv2.imread(\"gap.png\", 0) res = cv2.matchTemplate(background, gap, cv2.TM_CCOEFF_NORMED) value = cv2.minMaxLoc(res)[2][0] print(value) return value * 278 / 360 async def main(): browser = await launch({ \"headless\": False, # headless\u6307\u5b9a\u6d4f\u89c8\u5668\u662f\u5426\u4ee5\u65e0\u5934\u6a21\u5f0f\u8fd0\u884c\uff0c\u9ed8\u8ba4\u662fTrue\u3002 \"args\": ['--window-size=1366,768'], }) # \u6253\u5f00\u65b0\u7684\u6807\u7b7e\u9875 page = await browser.newPage() # \u8bbe\u7f6e\u9875\u9762\u5927\u5c0f\u4e00\u81f4 await page.setViewport({\"width\": 1366, \"height\": 768}) # \u8bbf\u95ee\u4e3b\u9875 await page.goto(\"https://passport.jd.com/new/login.aspx?\") # evaluate()\u662f\u6267\u884cjs\u7684\u65b9\u6cd5\uff0cjs\u9006\u5411\u65f6\u5982\u679c\u9700\u8981\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e0b\u6267\u884cjs\u4ee3\u7801\u7684\u8bdd\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u65b9\u6cd5 # js\u4e3a\u8bbe\u7f6ewebdriver\u7684\u503c\uff0c\u9632\u6b62\u7f51\u7ad9\u68c0\u6d4b # await page.evaluate('''alert(\"\u9a6c\u4e0a\u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u4e86\uff01\")''') # await page.evaluate('''() =>{ Object.defineProperties(navigator,{ webdriver:{ get: () => false } }) }''') # await page.screenshot({'path': './1.jpg'}) # \u622a\u56fe\u4fdd\u5b58\u8def\u5f84 # \u5355\u51fb\u4e8b\u4ef6 await page.click('div.login-tab-r') # \u6a21\u62df\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801,\u8f93\u5165\u6bcf\u4e2a\u5b57\u7b26\u7684\u95f4\u9694\u65f6\u95f4delay ms await page.type(\"#loginname\", '324534534@qq.com', { \"c\": random.randint(30, 60) }) await page.type(\"#nloginpwd\", '345653332', { \"delay\": random.randint(30, 60) }) # page.waitFor \u901a\u7528\u7b49\u5f85\u65b9\u5f0f\uff0c\u5982\u679c\u662f\u6570\u5b57\uff0c\u5219\u8868\u793a\u7b49\u5f85\u5177\u4f53\u65f6\u95f4\uff08\u6beb\u79d2\uff09: \u7b49\u5f852\u79d2 await page.waitFor(2000) await page.click(\"div.login-btn\") await page.waitFor(2000) # page.jeval\uff08selector\uff0cpageFunction\uff09#\u5b9a\u4f4d\u5143\u7d20\uff0c\u5e76\u8c03\u7528js\u51fd\u6570\u53bb\u6267\u884c img_src = await page.Jeval(\".JDJRV-bigimg > img\", \"el=>el.src\") temp_src = await page.Jeval(\".JDJRV-smallimg > img\", \"el=>el.src\") request.urlretrieve(img_src, \"background.png\") request.urlretrieve(temp_src, \"gap.png\") # \u83b7\u53d6gap\u7684\u8ddd\u79bb distance = await get_track() \"\"\" # Pyppeteer \u4e09\u79cd\u89e3\u6790\u65b9\u5f0f Page.querySelector() # \u9009\u62e9\u5668 Page.querySelectorAll() Page.xpath() # xpath \u8868\u8fbe\u5f0f # \u7b80\u5199\u65b9\u5f0f\u4e3a\uff1a Page.J(), Page.JJ(), and Page.Jx() \"\"\" el = await page.J(\"div.JDJRV-slide-btn\") # \u83b7\u53d6\u5143\u7d20\u7684\u8fb9\u754c\u6846\uff0c\u5305\u542bx,y\u5750\u6807 box = await el.boundingBox() await page.hover(\"div.JDJRV-slide-btn\") await page.mouse.down() # steps \u662f\u6307\u5206\u6210\u51e0\u6b65\u6765\u5b8c\u6210\uff0csteps\u8d8a\u5927\uff0c\u6ed1\u52a8\u901f\u5ea6\u8d8a\u6162 await page.mouse.move(box[\"x\"] + distance + random.uniform(30, 33), box[\"y\"], {\"steps\": 100}) await page.waitFor(1000) await page.mouse.move(box[\"x\"] + distance + 29, box[\"y\"], {\"steps\": 100}) await page.mouse.up() await page.waitFor(2000) loop = asyncio.get_event_loop() loop.run_until_complete(main()) \u7b2c\u4e03\u7ae0. \u6570\u636e\u5e93 \u5047\u8bbe\u73b0\u5728\u4f60\u5df2\u7ecf\u662f\u67d0\u5927\u578b\u4e92\u8054\u7f51\u516c\u53f8\u7684\u9ad8\u7ea7\u7a0b\u5e8f\u5458\uff0c\u8ba9\u4f60\u5199\u4e00\u4e2a\u706b\u8f66\u7968\u8d2d\u7968\u7cfb\u7edf\uff0c\u6765hold\u4f4f\u5341\u4e00\u671f\u95f4\u5168\u56fd\u7684\u8d2d\u7968\u9700\u6c42\uff0c\u4f60\u600e\u4e48\u5199\uff1f \u5728\u540c\u4e00\u65f6\u6bb5\u62a2\u7968\u7684\u4eba\u6570\u5982\u679c\u592a\u591a\uff0c\u90a3\u4e48\u4f60\u7684\u7a0b\u5e8f\u4e0d\u53ef\u80fd\u8fd0\u884c\u5728\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5e94\u8be5\u662f\u591a\u53f0\u673a\u5668\u4e00\u8d77\u5206\u62c5\u7528\u6237\u7684\u8d2d\u7968\u8bf7\u6c42\u3002 \u90a3\u4e48\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u7968\u52a1\u4fe1\u606f\u7684\u6570\u636e\u5b58\u5728\u54ea\u91cc\uff1f\u5b58\u5728\u6587\u4ef6\u91cc\u4e48\uff1f \u5982\u679c\u5b58\u50a8\u5728\u6587\u4ef6\u91cc\uff0c\u90a3\u4e48\u5b58\u50a8\u5728\u54ea\u4e00\u53f0\u673a\u5668\u4e0a\u5462\uff1f\u662f\u6bcf\u53f0\u673a\u5668\u4e0a\u90fd\u5b58\u50a8\u4e00\u4efd\u4e48\uff1f \u9996\u5148\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u53f0\u673a\u5668\u4e0a\u5356\u51fa\u7684\u7968\u53e6\u5916\u4e24\u53f0\u673a\u5668\u662f\u611f\u77e5\u4e0d\u5230\u7684\uff0c\u5176\u6b21\uff0c\u5982\u679c\u6211\u4eec\u5c06\u6570\u636e\u548c\u7a0b\u5e8f\u653e\u5728\u540c\u4e00\u4e2a\u673a\u5668\u4e0a\uff0c\u5982\u679c\u7a0b\u5e8f\u548c\u6570\u636e\u6709\u4e00\u4e2a\u51fa\u4e86\u95ee\u9898\u90fd\u4f1a\u5bfc\u81f4\u6574\u4e2a\u670d\u52a1\u4e0d\u53ef\u7528\u3002\u6700\u540e\uff0c\u64cd\u4f5c\u6216\u4fee\u6539\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u5bf9python\u4ee3\u7801\u6765\u8bf4\u662f\u4e00\u4ef6\u5f88\u9ebb\u70e6\u7684\u4e8b\u3002 \u57fa\u4e8e\u4e0a\u9762\u8fd9\u4e9b\u95ee\u9898\uff0c\u5355\u7eaf\u7684\u5c06\u6570\u636e\u5b58\u50a8\u5728\u548c\u7a0b\u5e8f\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u7684\u6587\u4ef6\u4e2d\u662f\u975e\u5e38\u4e0d\u660e\u667a\u7684\u3002 \u6839\u636e\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0c\u5c06\u6587\u4ef6\u548c\u7a0b\u5e8f\u5b58\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u662f\u5f88\u4e0d\u5408\u7406\u7684\uff0c\u540c\u65f6\uff0c\u64cd\u4f5c\u6587\u4ef6\u662f\u4e00\u4ef6\u5f88\u9ebb\u70e6\u7684\u4e8b\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6570\u636e\u5e93\u6765\u5b58\u50a8\u6570\u636e\u3002 7.1\u3001MySQL MySQL\u662f\u4e00\u4e2a\u5f00\u6e90\u514d\u8d39\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u7531\u745e\u5178MySQL AB \u516c\u53f8\u5f00\u53d1\uff0c\u76ee\u524d\u5c5e\u4e8e Oracle \u65d7\u4e0b\u516c\u53f8\u3002MySQL \u6700\u6d41\u884c\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u5728 WEB \u5e94\u7528\u65b9\u9762MySQL\u662f\u6700\u597d\u7684 RDBMS (Relational Database Management System\uff0c\u5173\u7cfb\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf) \u5e94\u7528\u8f6f\u4ef6\u4e4b\u4e00\uff0c\u5177\u6709\u6210\u672c\u4f4e\u3001\u901f\u5ea6\u5feb\u3001\u4f53\u79ef\u5c0f\u4e14\u5f00\u653e\u6e90\u4ee3\u7801\u7b49\u4f18\u70b9\u3002 \u4e0a\u56fe\u6765\u6e90\uff1ahttps://db-engines.com/en/ranking \u57fa\u672c\u5b89\u88c5 \u6b64\u5904\u6211\u4eec\u6f14\u793a\u7684\u662fwindows\u4e0b\u5b89\u88c5mysql\u3002linux\u7684\u5b89\u88c5\u8fc7\u7a0b\u5728ubuntu\u5c01\u88c5\u7b14\u8bb0\u91cc\u9762\u6709\u3002 \u4e0b\u8f7d \u6253\u5f00\u7f51\u5740\uff0chttps://www.mysql.com\uff0c\u70b9\u51fb\u5bfc\u822a DOWNLOADS mysql\u52062\u4e2a\u4e3b\u7248\u672c\uff1aEnterprise\uff08\u4f01\u4e1a\u7248\uff0c\u6536\u8d39\u95ed\u6e90\uff09\u548c Community\uff08\u793e\u533a\u7248\uff0c\u514d\u8d39\u5f00\u6e90\uff09\u3002\u6b64\u5904\u6211\u4eec\u4f7f\u7528\u514d\u8d39\u7684\u793e\u533a\u7248\u3002 \u70b9\u51fb MySQL Community (GPL) Downloads \u00bb \u3002 \u70b9\u51fb MySQL Community Server windows\u9009\u62e9zip\u538b\u7f29\u5305\u683c\u5f0f\uff0cmac OS\u9009\u62e9dmg\u683c\u5f0f\u3002 \u4e0d\u9700\u8981\u6ce8\u518c\u767b\u9646\u7f51\u7ad9\uff0c\u76f4\u63a5\u8c22\u8c22\uff0c\u7ee7\u7eed\u4e0b\u8f7d\u5373\u53ef\u3002 \u89e3\u538b \u628a\u4e0b\u8f7d\u5230\u672c\u5730\u7684zip\u6587\u4ef6\u624b\u52a8\u89e3\u538b\uff0c\u5c06\u89e3\u538b\u4e4b\u540e\u7684\u6587\u4ef6\u5939\u653e\u5230\u4e13\u95e8\u4fdd\u5b58\u5f00\u53d1\u8f6f\u4ef6\u7684\u76ee\u5f55\u4e0b\uff0c\u8fd9\u4e2a\u76ee\u5f55\u5c31\u662fmysql\u7684\u5b89\u88c5\u76ee\u5f55\u3002 \u4f8b\u5982\uff0c\u6b64\u5904\u6211\u653e\u5728\u4e86C:/tool/\u76ee\u5f55\u4e0b\u3002 \u6ce8\u610f\uff0c\u76ee\u5f55\u8def\u5f84\u4e0d\u80fd\u51fa\u73b0\u4e2d\u6587\uff0c\u4e0d\u80fd\u51fa\u73b0\u7a7a\u683c\u7b49\u7279\u6b8a\u7b26\u53f7\uff0c\u5426\u5219\u4f1a\u51fa\u9519\u7684\uff01\uff01\uff01 \u914d\u7f6e \u914d\u7f6e\u73af\u5883\u53d8\u91cf \u3010\u6b64\u7535\u8111\u3011- \u3010\u53f3\u952e\u3011-\u3010\u5c5e\u6027\u3011-\u3010\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e\u3011-\u3010\u73af\u5883\u53d8\u91cf\u3011- \u3010\u627e\u5230\u7cfb\u7edf\u53d8\u91cf\u4e2d\u7684path\u3011-\u3010\u9009\u4e2d\u3011-\u3010\u7f16\u8f91\u3011- \u3010\u65b0\u5efa\u3011-\u3010\u5c06\u521a\u521amysql\u538b\u7f29\u5305\u70b9\u8fdb\u53bbbin\u76ee\u5f55\u8def\u5f84\u590d\u5236\u5e76\u7c98\u8d34\u8fdb\u6765\u3011-\u3010\u786e\u5b9a\u3011 \u521b\u5efadata\u76ee\u5f55 \u4e3b\u8981\u7528\u4e8e\u5b58\u653emysql\u6570\u636e\u5e93\u4ee5\u53ca\u6570\u636e\u7684\u3002 \u6ce8\u610f\uff1a\u662fmysql\u7684\u5b89\u88c5\u76ee\u5f55\uff01\uff01\uff01\uff01 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 mysql\u5728windows\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53eb mysql.ini\uff0c\u9ed8\u8ba4\u662f\u6ca1\u6709\u7684\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u521b\u5efa\u3002 mysql.ini\u7684\u914d\u7f6e\u5185\u5bb9\uff0c\u6ce8\u610f\uff0cbasedir\u548cdatadir\u7684\u8def\u5f84\u8981\u6839\u636e\u81ea\u5df1\u7684\u8def\u5f84\u5982\u5b9e\u586b\u5199\uff0c\u5982\u4e0b\uff1a [mysqld] ; \u8bbe\u7f6e3306\u7aef\u53e3 port=3306 ; \u8bbe\u7f6emysql\u7684\u5b89\u88c5\u76ee\u5f55 basedir=\"C:/tool/mysql-8.0.28-winx64\" ; \u8bbe\u7f6emysql\u6570\u636e\u5e93\u7684\u6570\u636e\u7684\u5b58\u653e\u76ee\u5f55\uff0c\u5c31\u662f\u524d\u9762\u624b\u52a8\u521b\u5efa\u7684data\u76ee\u5f55 datadir=\"C:/tool/mysql-8.0.28-winx64/data\" ; \u5141\u8bb8\u6700\u5927\u8fde\u63a5\u6570 max_connections=200 ; \u5141\u8bb8\u8fde\u63a5\u5931\u8d25\u7684\u6b21\u6570\u3002 max_connect_errors=10 ; \u670d\u52a1\u7aef\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\u9ed8\u8ba4\u4e3autf8mb4 character-set-server=utf8mb4 ; \u521b\u5efa\u65b0\u8868\u65f6\u5c06\u4f7f\u7528\u7684\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce default-storage-engine=INNODB ; \u9ed8\u8ba4\u4f7f\u7528\u201cmysql_native_password\u201d\u63d2\u4ef6\u8ba4\u8bc1, mysql_native_password default_authentication_plugin=mysql_native_password [mysql] ; \u8bbe\u7f6emysql\u7f51\u7edc\u901a\u4fe1\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6 default-character-set=utf8mb4 [client] ; \u8bbe\u7f6emysql\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u9ed8\u8ba4\u4f7f\u7528\u7684\u7aef\u53e3 port=3306 ; \u8bbe\u7f6emysql\u5ba2\u6237\u7aef\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6 default-character-set=utf8mb4 \u521d\u59cb\u5316\u6570\u636e\u5e93 \u91cd\u65b0\u6253\u5f00\u4e00\u4e2acmd\u9ed1\u7a97\u53e3\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u8ba9\u6570\u636e\u5e93\u5b8c\u6210\u521d\u59cb\u5316\u64cd\u4f5c\u3002 mysqld --initialize --console \u6ce8\u518c\u7cfb\u7edf\u670d\u52a1 \u628amysql\u6ce8\u518c\u5230\u64cd\u4f5c\u7cfb\u7edf\u4f5c\u4e3a\u7cfb\u7edf\u670d\u52a1\uff0c\u4fdd\u8bc1\u5c06\u6765\u7535\u8111\u91cd\u542f\u4e86\u5c31\u53ef\u4ee5\u5f00\u673a\u81ea\u542f\u4e86\u3002\u5728\u4e0a\u9762\u6253\u5f00\u7684\u9ed1\u7a97\u53e3\u4e2d\u5982\u4e0b\u4ee5\u4e0b\u547d\u4ee4\uff1a mysqld --install mysql80 # \u6ce8\u9500\u670d\u52a1\uff0c\u7528\u4e8e\u5378\u8f7dmysql\u7684\uff0c\u522b\u4e71\u7528\u3002 # mysqld --remove mysql80 mysql80\u5c31\u662f\u81ea\u5df1\u53d6\u7684\u670d\u52a1\u540d\uff08\u670d\u52a1\u5668\u662f\u552f\u4e00\u7684\uff09\uff0c\u53ea\u8981\u7b26\u5408python\u7684\u53d8\u91cf\u89c4\u5219\uff0c\u4e0d\u8981\u4f7f\u7528\u4e2d\u6587\uff0c\u53ef\u4ee5\u81ea\u5df1\u53d1\u6325\u3002 \u786e\u8ba4\u662f\u5426\u5b89\u88c5\u5230\u4e86\u7cfb\u7edf\u670d\u52a1\uff0c\u53ef\u4ee5\u901a\u8fc7\u3010\u6b64\u7535\u8111\u3011- \u3010\u53f3\u952e\u3011-\u3010\u7ba1\u7406\u3011- \u3010\u670d\u52a1\u4e0e\u5e94\u7528\u7a0b\u5e8f\u3011 - \u3010\u670d\u52a1\u3011- \u3010\u53f3\u8fb9\u7a97\u53e3\u3011 \u542f\u52a8 windows\u4e0b\u5b89\u88c5\u7684mysql\u9ed8\u8ba4\u662f\u6ca1\u6709\u542f\u52a8\u670d\u52a1\u7684\u3002 net start mysql80 # \u5173\u95edmysql\u7684\u547d\u4ee4: # net stop mysql80 # \u91cd\u542fmysql\u7684\u547d\u4ee4\uff1a # net start mysql80 \u767b\u5f55 \u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6309\u56de\u8f66\u952e\uff0c\u63a5\u7740\u8f93\u5165\u4e0a\u9762\u521d\u59cb\u5316\u7684\u767b\u9646\u5bc6\u7801\uff0c\u5c31\u53ef\u4ee5\u767b\u9646MySQL\u4ea4\u4e92\u7ec8\u7aef\u4e86\u3002 mysql -uroot -p # \u9000\u51fa\u7ec8\u7aef # exit \u6ce8\u610f\uff1amysql\u4e0elinux\u4e00\u6837\uff0c\u5728\u5b89\u88c5\u6210\u529f\u4ee5\u540e\u9ed8\u8ba4\u5c31\u5b58\u5728\u4e86\u4e00\u4e2a\u4e0a\u5e1d\u4e00\u822c\u7684\u7528\u6237\uff0c\u53ebroot\u3002 \u4fee\u6539root\u767b\u9646\u5bc6\u7801 \u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\u662f\u5728\u767b\u9646\u4e86mysql\u7ec8\u7aef\u4ee5\u540e\u7684\u64cd\u4f5c\u3002 alter user 'root'@'localhost' identified by '123'; # 'root' \u5c31\u662f\u8981\u4fee\u6539\u5bc6\u7801\u7684\u7528\u6237\u540d # 'localhost' \u8868\u793a\u5141\u8bb8\u7528\u6237\u5728\u4ec0\u4e48\u5730\u5740\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5bc6\u7801\u767b\u9646\u5230\u6570\u636e\u5e93\u670d\u52a1\u5668\uff0clocalhost\u8868\u793a\u672c\u5730\u767b\u9646 # '123' \u5c31\u662f\u65b0\u7684\u5bc6\u7801\u4e86\uff0c\u6ce8\u610f\uff0c\u4e0d\u8981\u8bbe\u7f6e\u7a7a\u5bc6\u7801\uff01\u4ee5\u540e\u516c\u53f8\u91cc\u9762\u7684\u5bc6\u7801\u4e00\u5b9a\u8981\u975e\u5e38\u96be\u8bb0\u7684\u624d\u6700\u597d\u3002 \u5b8c\u6210\u4e86\u4e0a\u9762\u7684\u64cd\u4f5c\u4ee5\u540e\uff0cmysql\u5c31\u5b89\u88c5\u5b8c\u6210\u4e86\u3002 \u57fa\u672c\u6982\u5ff5 \u524d\u9762\u7684\u5b66\u4e60\u4e2d\u6211\u4eec\u63d0\u5230\uff0cmysql\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u64cd\u4f5cmysql\u5c31\u9700\u8981\u4f7f\u7528SQL\uff08\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff09\u3002 SQL\u89c4\u8303 1. \u5728\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u4e2d\uff0cSQL\u8bed\u53e5\u5173\u952e\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199(\u4f46\u5efa\u8bae\u7528\u5927\u5199) \uff0c\u53c2\u6570\u533a\u5206\u5927\u5c0f\u5199\u3002\u5efa\u8bae\u547d\u4ee4\u5927\u5199\uff0c\u6570\u636e\u5e93\u540d\u3001\u6570\u636e\u8868\u540d\u3001\u5b57\u6bb5\u540d\u7edf\u4e00\u5c0f\u5199\uff0c\u5982\u6570\u636e\u5e93\u540d\u3001\u6570\u636e\u8868\u540d\u3001\u5b57\u6bb5\u540d\u4e0e\u5173\u952e\u5b57\u540c\u540d\uff0c\u4f7f\u7528\u53cd\u5f15\u53f7` ` \u5708\u8d77\u6765\uff0c\u907f\u514d\u51b2\u7a81\u3002 2. SQL\u8bed\u53e5\u53ef\u5355\u884c\u6216\u591a\u884c\u4e66\u5199\uff0c\u9ed8\u8ba4\u4ee5\u82f1\u6587\u5206\u53f7\uff08;\uff09\u7ed3\u5c3e\uff0c\u5173\u952e\u8bcd\u4e0d\u80fd\u8de8\u591a\u884c\u6216\u7b80\u5199\u3002 3. \u5b57\u7b26\u4e32\u8ddf\u65e5\u671f\u7c7b\u578b\u7684\u503c\u90fd\u8981\u4ee5 \u5355\u5f15\u53f7\u62ec\u8d77\u6765\uff0c\u5355\u8bcd\u4e4b\u95f4\u9700\u8981\u4f7f\u7528\u534a\u89d2\u7684\u7a7a\u683c\u9694\u5f00\u3002 4. \u7528\u7a7a\u683c\u548c\u7f29\u8fdb\u6765\u63d0\u9ad8SQL\u8bed\u53e5\u7684\u53ef\u8bfb\u6027\u3002 SELECT * FROM table_name WHERE name=\"moluo\"; \u6ce8\u91ca \u7b2c\u4e00\u79cd\uff1a -- \u5355\u884c\u6ce8\u91ca \u7b2c\u4e8c\u79cd\uff1a /* \u591a\u884c\u6ce8\u91ca */ \u7b2c\u4e09\u79cd\uff1a # mysql\u652f\u6301\u5355\u884c\u6ce8\u91ca SQL\u7c7b\u578b \u6839\u636e\u4e0d\u540c\u7684\u7528\u9014\uff0cSQL\u8bed\u53e5\u901a\u5e38\u52063\u5927\u7c7b\u578b\uff1a \u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff08Data Definition Language\uff0cDDL\uff09 \u7528\u4e8e\u521b\u5efa\u6216\u5220\u9664\u6570\u636e\u5e93\u4ee5\u53ca\u6570\u636e\u8868\u7684\u8bed\u53e5\uff0cDDL\u5305\u542b\u4ee5\u4e0b\u51e0\u79cd\u6307\u4ee4\uff1a \u200b CREATE: \u521b\u5efa\u6570\u636e\u5e93\u548c\u8868\u7b49\u5bf9\u8c61 \u200b DROP: \u5220\u9664\u6570\u636e\u5e93\u548c\u8868\u7b49\u5bf9\u8c61 \u200b ALTER: \u4fee\u6539\u6570\u636e\u5e93\u548c\u8868\u7b49\u5bf9\u8c61\u7684\u7ed3\u6784 \u6570\u636e\u64cd\u7eb5\u8bed\u8a00\uff08Data Manipulation Language\uff0cDML\uff09 \u7528\u4e8e\u5bf9\u6570\u636e\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u589e\u5220\u67e5\u6539\u7684\u3002 \u200b SELECT: \u67e5\u8be2\u8868\u4e2d\u7684\u6570\u636e \u200b INSERT: \u5411\u8868\u4e2d\u63d2\u5165\u65b0\u6570\u636e \u200b UPDATE: \u53d8\u66f4\u8868\u4e2d\u7684\u6570\u636e \u200b DELETE: \u5220\u9664\u8868\u4e2d\u7684\u6570\u636e \u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08Data Control Language\uff0cDCL\uff09 \u7528\u4e8e\u5bf9\u63a7\u5236\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u6743\u9650\u7684\uff0c\u5305\u62ec\u7528\u6237\u6743\u9650\u4ee5\u53ca\u6570\u636e\u64cd\u4f5c\u6743\u9650\u3002 \u200b COMMIT: \u786e\u8ba4\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7684\u53d8\u66f4 \u200b ROLLBACK: \u53d6\u6d88\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7684\u53d8\u66f4 \u200b GRANT: \u8d4b\u4e88\u7528\u6237\u64cd\u4f5c\u6743\u9650 \u200b REMOVE: \u53d6\u6d88\u7528\u6237\u7684\u64cd\u4f5c\u6743\u9650 \u5e38\u7528\u547d\u4ee4 \u547d\u4ee4 \u63cf\u8ff0 help \u67e5\u770b\u7cfb\u7edf\u5e2e\u52a9\u60f3\u4f60\u60f3 status \u67e5\u770b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u7684\u72b6\u6001\u4fe1\u606f exit \u9000\u51fa\u6570\u636e\u5e93\u7ec8\u7aef\u8fde\u63a5 quit \u9000\u51fa\u6570\u636e\u5e93\u7ec8\u7aef\u8fde\u63a5 \\c \u5f53\u6253\u9519\u547d\u4ee4\u4e86\uff0c\u60f3\u6362\u884c\u91cd\u65b0\u5199\u65f6\u53ef\u4ee5\u5728\u9519\u8bef\u547d\u4ee4\u540e\u9762\u8ddf\u7740\\c\u56de\u8f66 \u6570\u636e\u5e93\u64cd\u4f5c -- 1.\u521b\u5efa\u6570\u636e\u5e93\uff08\u5728\u78c1\u76d8\u4e0a\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\uff09 create database [if not exists] db_name [character set xxx] -- 2.\u67e5\u770b\u6570\u636e\u5e93 show databases; -- \u67e5\u770b\u6240\u6709\u6570\u636e\u5e93 show create database db_name; -- \u67e5\u770b\u6570\u636e\u5e93\u7684\u521b\u5efa\u65b9\u5f0f -- 3.\u4fee\u6539\u6570\u636e\u5e93 alter database db_name [character set xxx] -- 4.\u5220\u9664\u6570\u636e\u5e93 drop database [if exists] db_name; -- 5.\u4f7f\u7528\u6570\u636e\u5e93 use db_name; -- \u5207\u6362\u6570\u636e\u5e93 \u6ce8\u610f\uff1a\u8fdb\u5165\u5230\u67d0\u4e2a\u6570\u636e\u5e93\u540e\u6ca1\u529e\u6cd5\u518d\u9000\u56de\u4e4b\u524d\u72b6\u6001\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7use\u8fdb\u884c\u5207\u6362 select database(); -- \u67e5\u770b\u5f53\u524d\u4f7f\u7528\u7684\u6570\u636e\u5e93 \u6570\u636e\u8868\u64cd\u4f5c \u6570\u636e\u8868\u5c31\u76f8\u5f53\u4e8e\u5b58\u50a8\u6570\u636e\u7684\u7279\u6b8a\u6587\u4ef6\uff0c\u6570\u636e\u8868\u4e2d\u7684\u4e00\u6761\u8bb0\u5f55\u5c31\u76f8\u5f53\u4e8e\u666e\u901a\u6587\u4ef6\u7684\u4e00\u884c\u5185\u5bb9\u3002 moluo, True, 18, 2000, \u5e7f\u4e1c, \u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f, python\u5f00\u53d1 xiaohong, False, 17, 2001, \u5e7f\u897f, \u821e\u8e48\u5b66, \u97f3\u4e50\u8001\u5e08 \u4e0e\u666e\u901a\u6587\u4ef6\u4e0d\u540c\u7684\u662f\uff0c\u6570\u636e\u8868\u662f\u4e8c\u7ef4\u7684\u8868\u683c\u7ed3\u6784\u3002 \u521b\u5efa\u6570\u636e\u8868 \u6570\u636e\u8868\u5c31\u76f8\u5f53\u4e8e\u6587\u4ef6\uff0c\u6587\u4ef6\u6709\u6587\u4ef6\u540d\uff0c\u81ea\u7136\u5730\uff0c\u6570\u636e\u8868\u4e5f\u8981\u6709\u8868\u540d\u3002\u540c\u6837\u9053\u7406\uff0c\u6570\u636e\u8868\u4e2d\u7684\u4e00\u6761\u8bb0\u5f55\u5c31\u76f8\u5f53\u4e8e\u6587\u4ef6\u7684\u4e00\u884c\u5185\u5bb9\u3002\u53ea\u662f\u4e0d\u540c\u7684\u662f\uff0c\u6570\u636e\u8868\u9700\u8981\u5b9a\u4e49\u8868\u5934\uff08\u4e0a\u56fe\u4e2d\u7684\u9996\u884c\uff09\uff0c\u79f0\u4e3a\u8868\u7684\u5b57\u6bb5\u540d\u3002\u800c\u4e14\u56e0\u4e3a\u6570\u636e\u5e93\u7684\u5b58\u50a8\u6570\u636e\u66f4\u52a0\u79d1\u5b66\u3001\u4e25\u8c28\uff0c\u6240\u4ee5\u9700\u8981\u521b\u5efa\u8868\u65f6\u8981\u7ed9\u6bcf\u4e00\u4e2a\u5b57\u6bb5\u8bbe\u7f6e\u6570\u636e\u7c7b\u578b\u4ee5\u53ca\u5b57\u6bb5\u7ea6\u675f\uff08\u5b8c\u6574\u6027\u7ea6\u675f\u6761\u4ef6\uff09\u3002 create table [if not exists] \u8868\u540d ( \u5b57\u6bb5\u540d1 \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], \u5b57\u6bb5\u540d2 \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], \u5b57\u6bb5\u540d3 \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], ..... \u5b57\u6bb5\u540dn \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], primary key(\u4e00\u4e2a \u6216 \u591a\u4e2a \u5b57\u6bb5\u540d) -- \u6ce8\u610f\uff0c\u6700\u540e\u4e00\u6bb5\u5b9a\u4e49\u8bed\u53e5\uff0c\u4e0d\u80fd\u6709\u82f1\u6587\u9017\u53f7\u7684\u51fa\u73b0\uff0c\u5426\u5219\u62a5\u9519\u3002 ) [engine = \u5b58\u50a8\u5f15\u64ce character set \u5b57\u7b26\u96c6]; \u6ce8\u610f\uff1a \u4e0a\u9762SQL\u8bed\u53e5\u4e2d\uff0c\u5c0f\u62ec\u53f7\u4e2d\u7684\u5b9a\u4e49\u5b57\u6bb5\u8bed\u53e5\u540e\u9762\u5fc5\u987b\u4ee5\u82f1\u6587\u9017\u53f7\u7ed3\u5c3e\uff0c\u800c\u6700\u540e\u4e00\u4e2a\u5b57\u6bb5\u7684\u5b9a\u4e49\u8bed\u53e5\u4e0d\u80fd\u6709\u82f1\u6587\u9017\u53f7\u51fa\u73b0\uff0c\u5426\u5219\u62a5\u9519\u3002 \u5728\u540c\u4e00\u5f20\u6570\u636e\u8868\u4e2d\uff0c\u5b57\u6bb5\u540d\u662f\u4e0d\u80fd\u76f8\u540c\uff0c\u5426\u5219\u62a5\u9519\uff01 \u521b\u5efa\u6570\u636e\u8868\u7684SQL\u8bed\u53e5\u4e2d\uff0c\u5b58\u50a8\u7a7a\u95f4\u548c\u5b57\u6bb5\u7ea6\u675f\u662f\u9009\u586b\u7684\uff0c\u800c\u5b57\u6bb5\u540d\u548c\u6570\u636e\u7c7b\u578b\u5219\u662f\u5fc5\u987b\u586b\u5199\u7684\u3002 \u521b\u5efa\u73ed\u7ea7\u8868 -- mysql\u4e2d\u521b\u5efa\u6570\u636e\u8868\u8981\u4ee5 create table `\u8868\u540d` -- \u8868\u7684\u5b57\u6bb5\u4fe1\u606f\u5fc5\u987b\u5199\u5728 ( ) \u5c0f\u62ec\u53f7\u91cc\u9762 create table classes ( -- \u5efa\u8bae\u4e00\u884c\u4e00\u4e2a\u5b57\u6bb5\uff0cid \u5c31\u662f\u5b57\u6bb5\u540d -- int \u8868\u793a\u8bbe\u7f6e\u5b57\u6bb5\u503c\u8981\u4ee5\u6574\u6570\u7684\u683c\u5f0f\u4fdd\u5b58\u5230\u786c\u76d8\u4e2d\uff0c -- auto_increment\u8868\u793a\u5f53\u524d\u5b57\u6bb5\u503c\u5728\u6bcf\u6b21\u65b0\u589e\u6570\u636e\u65f6\u81ea\u52a8+1\u4f5c\u4e3a\u503c\u4fdd\u5b58 -- primary key\uff0cmysql\u4e2d\u53eb\u4e3b\u952e\uff0c\u8868\u793a\u7528\u4e8e\u533a\u5206\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\u4e0d\u540c\u884c\u7684\u6570\u636e\u7684\u552f\u4e00\u6027\uff0c\u540c\u65f6\u8fd8\u5177\u5907\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\u7684\u4f5c\u7528 -- \u6ce8\u610f\uff1aauto_increment\u4e0eprimary key \u4e00\u822c\u662f\u914d\u5408\u4f7f\u7528\u7684\uff0c\u5bf9\u5e94\u7684\u5b57\u6bb5\u540d\u4e00\u822c\u4e5f\u53ebid\uff0c\u800c\u4e14\u5728\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\u53ea\u6709\u4e00\u4e2a\u5b57\u6bb5\u80fd\u4f7f\u7528auto_increment primary key\u8fdb\u884c\u8bbe\u7f6e\u3002 id int auto_increment primary key, -- \u5b57\u6bb5\u540d\uff1aname -- varchar(10) \u8868\u793a\u5f53\u524dname\u8fd9\u4e00\u5217\u53ef\u4ee5\u5b58\u50a8\u7684\u6570\u636e\u662f\u5b57\u7b26\u4e32\u683c\u5f0f\uff0c\u5e76\u4e14\u6700\u591a\u53ea\u80fd\u5b5810\u4e2a\u5b57\u7b26 name varchar(10), -- \u5b57\u6bb5\u540d\uff1aaddress -- varchar(100) \u8868\u793aadderss\u8fd9\u4e00\u5217\u53ef\u4ee5\u5b58\u50a8\u7684\u6570\u636e\u662f\u5b57\u7b26\u4e32\u683c\u5f0f\uff0c\u5e76\u4e14\u6700\u591a\u53ea\u80fd\u5b58100\u4e2a\u5b57\u7b26 address varchar(100), -- \u5b57\u6bb5\u540d\uff1atotal -- int \u8868\u793a\u5f53\u524dtotal\u8fd9\u4e00\u5217\u7684\u6570\u636e\u53ea\u80fd\u662f\u6574\u6570\uff0c\u800c\u4e14\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\uff0c\u6574\u6570\u7684\u6700\u5927\u8303\u56f4\u53ea\u80fd\u662f42\u4ebf total int ); \u4e0a\u9762\u7684SQL\u8bed\u53e5\u5c31\u76f8\u5f53\u4e8e\u521b\u5efa\u4e86\u4e00\u4e2a\u8868\u683c\u3002 id name address total \u521b\u5efa\u5b66\u751f\u8868 create table student( id int auto_increment, -- \u5b57\u6bb5\u540d\uff1aid\uff0c\u6570\u636e\u7c7b\u578b\uff1aint\u6574\u578b\uff0cauto_increment\u6574\u6570\u81ea\u52a8\u589e\u957f+1 name varchar(10), -- \u5b57\u6bb5\u540d\uff1aname\uff0c \u6570\u636e\u7c7b\u578b\uff1avarchar\u5b57\u7b26\u4e32\uff08\u957f\u5ea6\u9650\u5236\u6700\u591a10\u4e2a\u5b57\u7b26\uff09 sex int default 1, -- \u5b57\u6bb5\u540d\uff1asex\uff0c\u6570\u636e\u7c7b\u578b\uff1aint\u6574\u578b\uff0c\u9ed8\u8ba4\u503c\uff08default\uff09\uff1a1 \u76f8\u5f53\u4e8eTrue classes int, -- \u5b57\u6bb5\u540d\uff1aclasses\uff0c \u6570\u636e\u7c7b\u578b\uff1aint\u6574\u578b\uff0c age int, -- \u5b57\u6bb5\u540d\uff1aage\uff0c\u6570\u636e\u7c7b\u578b\uff1aint\u6574\u6570, description text, -- \u5b57\u6bb5\u540d\uff1adescription\uff0c\u6570\u636e\u7c7b\u578b\uff1atext\u6587\u672c primary key (id) -- \u8bbe\u7f6e\u4e3b\u952e(id) \u6bcf\u4e2a\u8868\u5fc5\u987b\u90fd\u6709\u4e3b\u952e\uff0c\u7528\u4ee5\u533a\u5206\u4e0d\u540c\u884c\u7684\u6570\u636e ); \u7ec3\u4e60\uff1a\u5047\u8bbe\u73b0\u5728\u6211\u4eec\u6709\u4e00\u4e2a\u8bfe\u7a0b\u8868(courses)\uff0c\u91cc\u9762\u9700\u8981\u4fdd\u5b58\u8bfe\u7a0b\u7f16\u53f7\uff08id\uff09\uff0c\u8bfe\u7a0b\u540d\uff08cource\uff09\uff0c\u6388\u8bfe\u8001\u5e08\uff08lecturer\uff09\uff0c\u6559\u5ba4\uff08address\uff09\u3002 create table courses ( id int auto_increment primary key comment \"\u8bfe\u7a0b\u7f16\u53f7\", course varchar(50) comment \"\u8bfe\u7a0b\u540d\u79f0\", lecturer int comment \"\u8bb2\u5e08\u7f16\u53f7\", address int comment \"\u6559\u5ba4\u7f16\u53f7\" ); \u67e5\u770b\u6570\u636e\u8868 \u67e5\u770b\u6240\u6709\u6570\u636e\u8868 \u5217\u51fa\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u6570\u636e\u8868,\u8bed\u6cd5\uff1a show tables; \u67e5\u770b\u8868\u7ed3\u6784 \u4ee5\u8868\u683c\u5f62\u5f0f\u5217\u51fa\u5f53\u524d\u6570\u636e\u8868\u7684\u7ed3\u6784\u4fe1\u606f\u3002\u8bed\u6cd5\uff1a -- \u65b9\u5f0f1\uff1a\u7b80\u5355\u67e5\u770b describe \u8868\u540d; desc \u8868\u540d; -- desc\u662fdescribe\u7684\u7f29\u5199 -- \u65b9\u5f0f2\uff1a\u8be6\u7ec6\u67e5\u770b describe \u8868\u540d; desc \u8868\u540d; \u67e5\u770b\u5efa\u8868\u8bed\u53e5 show create table \u8868\u540d \\G; \u5220\u9664\u6570\u636e\u8868 \u5220\u9664\u8868\u7ed3\u6784\uff0c\u5e76\u628a\u6570\u636e\u4e00\u5e76\u5220\u9664\uff0c\u4f7f\u7528\u9700\u8c28\u614e\uff0c\u5f3a\u70c8\u5efa\u8bae\u5148\u5907\u4efd\u540e\u5220\u9664\uff0c\u6216\u8005\u76f4\u63a5\u6539\u8868\u540d\u6765\u4ee3\u66ff\u5220\u9664\u64cd\u4f5c\u3002 drop table \u8868\u540d; \u91cd\u7f6e\u8868\u4fe1\u606f \u4fdd\u7559\u6570\u636e\u8868\u7ed3\u6784\uff0c\u4f46\u662f\u628a\u6570\u636e\u8868\u5b58\u50a8\u7684\u6570\u636e\u4ee5\u53ca\u6570\u636e\u8868\u7684\u72b6\u6001\u56de\u6eda\uff0c\u76f8\u5f53\u4e8e\u5220\u9664\u539f\u8868\uff0c\u5e76\u65b0\u5efa\u4e00\u5f20\u4e00\u6a21\u4e00\u6837\u7684\u7a7a\u6570\u636e\u8868\u3002 TRUNCATE table \u8868\u540d; \u8868\u8bb0\u5f55\u64cd\u4f5c \u30101\u3011\u6dfb\u52a0\u8bb0\u5f55 INSERT \u8bed\u53e5\u6709\u4e24\u79cd\u8bed\u6cd5\u5f62\u5f0f\uff0c\u5206\u522b\u662f INSERT\u2026VALUES \u8bed\u53e5\u548c INSERT\u2026SET \u8bed\u53e5\u3002 INSERT [INTO] <\u8868\u540d> [ <\u5217\u540d1> [ , \u2026 <\u5217\u540dn>] ] VALUES (\u503c1) [\u2026 , (\u503cn) ]; \u6307\u5b9a\u9700\u8981\u63d2\u5165\u6570\u636e\u7684\u5217\u540d\u3002\u82e5\u5411\u8868\u4e2d\u7684\u6240\u6709\u5217\u63d2\u5165\u6570\u636e\uff0c\u5219\u5168\u90e8\u7684\u5217\u540d\u5747\u53ef\u4ee5\u7701\u7565\uff0c\u76f4\u63a5\u91c7\u7528 INSERT<\u8868\u540d>VALUES(\u2026) \u5373\u53ef\u3002 INSERT \u8bed\u53e5\u540e\u9762\u7684\u5217\u540d\u79f0\u987a\u5e8f\u53ef\u4ee5\u4e0d\u662f \u8868\u5b9a\u4e49\u65f6\u7684\u987a\u5e8f\uff0c\u5373\u63d2\u5165\u6570\u636e\u65f6\uff0c\u4e0d\u9700\u8981\u6309\u7167\u8868\u5b9a\u4e49\u7684\u987a\u5e8f\u63d2\u5165\uff0c\u53ea\u8981\u4fdd\u8bc1\u503c\u7684\u987a\u5e8f\u4e0e\u5217\u5b57\u6bb5\u7684\u987a\u5e8f\u76f8\u540c\u5c31\u53ef\u4ee5\u3002 \u4f7f\u7528 INSERT\u2026VALUES \u8bed\u53e5\u53ef\u4ee5\u5411\u8868\u4e2d\u63d2\u5165\u4e00\u884c\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u63d2\u5165\u591a\u884c\u6570\u636e\uff1b sql INSERT [INTO] <\u8868\u540d> [ <\u5217\u540d1> [ , \u2026 <\u5217\u540dn>] ] VALUES (\u503c1\u2026,\u503cn), (\u503c1\u2026,\u503cn), ... (\u503c1\u2026,\u503cn); -- \u7528\u5355\u6761 INSERT \u8bed\u53e5\u5904\u7406\u591a\u4e2a\u63d2\u5165\u8981\u6bd4\u4f7f\u7528\u591a\u6761 INSERT \u8bed\u53e5\u66f4\u5feb\u3002 \u6848\u4f8b\uff1a INSERT employee (name,gender,birthday,salary,department) VALUES (\"yuan\",1,\"1985-12-12\",8000,\"\u6559\u5b66\u90e8\"), (\"alvin\",1,\"1987-08-08\",5000,\"\u4fdd\u5b89\u90e8\"), (\"rain\",1,\"1990-06-06\",20000,\"\u9500\u552e\u90e8\"); \u30102\u3011\u67e5\u8be2\u8bb0\u5f55 \u6807\u51c6\u8bed\u6cd5\uff1a -- \u67e5\u8be2\u8bed\u6cd5\uff1a SELECT *|field1,filed2 ... FROM tab_name WHERE \u6761\u4ef6 GROUP BY field HAVING \u7b5b\u9009 ORDER BY field LIMIT \u9650\u5236\u6761\u6570 -- Mysql\u5728\u6267\u884csql\u8bed\u53e5\u65f6\u7684\u6267\u884c\u987a\u5e8f\uff1a -- from where select group by having order by \u51c6\u5907\u6570\u636e\uff1a CREATE TABLE emp( id INT PRIMARY KEY AUTO_INCREMENT, name VARCHAR(20), gender ENUM(\"male\",\"female\",\"other\"), age TINYINT, dep VARCHAR(20), city VARCHAR(20), salary DOUBLE(7,2) )character set=utf8; INSERT INTO emp (name,gender,age,dep,city,salary) VALUES (\"yuan\",\"male\",24,\"\u6559\u5b66\u90e8\",\"\u6cb3\u5317\u7701\",8000), (\"eric\",\"male\",34,\"\u9500\u552e\u90e8\",\"\u5c71\u4e1c\u7701\",8000), (\"rain\",\"male\",28,\"\u9500\u552e\u90e8\",\"\u5c71\u4e1c\u7701\",10000), (\"alvin\",\"female\",22,\"\u6559\u5b66\u90e8\",\"\u5317\u4eac\",9000), (\"George\", \"male\",24,\"\u6559\u5b66\u90e8\",\"\u6cb3\u5317\u7701\",6000), (\"danae\", \"male\",32,\"\u8fd0\u8425\u90e8\",\"\u5317\u4eac\",12000), (\"Sera\", \"male\",38,\"\u8fd0\u8425\u90e8\",\"\u6cb3\u5317\u7701\",7000), (\"Echo\", \"male\",19,\"\u8fd0\u8425\u90e8\",\"\u6cb3\u5317\u7701\",9000), (\"Abel\", \"female\",24,\"\u9500\u552e\u90e8\",\"\u5317\u4eac\",9000); \u67e5\u8be2\u5b57\u6bb5\uff08select\uff09 mysql> SELECT * FROM emp; +----+--------+--------+------+--------+--------+----------+ | id | name | gender | age | dep | city | salary | +----+--------+--------+------+--------+--------+----------+ | 1 | yuan | male | 24 | \u6559\u5b66\u90e8 | \u6cb3\u5317\u7701 | 8000.00 | | 2 | eric | male | 34 | \u9500\u552e\u90e8 | \u5c71\u4e1c\u7701 | 8000.00 | | 3 | rain | male | 28 | \u9500\u552e\u90e8 | \u5c71\u4e1c\u7701 | 10000.00 | | 4 | alvin | female | 22 | \u6559\u5b66\u90e8 | \u5317\u4eac | 9000.00 | | 5 | George | male | 24 | \u6559\u5b66\u90e8 | \u6cb3\u5317\u7701 | 6000.00 | | 6 | danae | male | 32 | \u8fd0\u8425\u90e8 | \u5317\u4eac | 12000.00 | | 7 | Sera | male | 38 | \u8fd0\u8425\u90e8 | \u6cb3\u5317\u7701 | 7000.00 | | 8 | Echo | male | 19 | \u8fd0\u8425\u90e8 | \u6cb3\u5317\u7701 | 9000.00 | | 9 | Abel | female | 24 | \u9500\u552e\u90e8 | \u5317\u4eac | 9000.00 | +----+--------+--------+------+--------+--------+----------+ mysql> SELECT name,dep,salary FROM emp; +--------+--------+----------+ | name | dep | salary | +--------+--------+----------+ | yuan | \u6559\u5b66\u90e8 | 8000.00 | | eric | \u9500\u552e\u90e8 | 8000.00 | | rain | \u9500\u552e\u90e8 | 10000.00 | | alvin | \u6559\u5b66\u90e8 | 9000.00 | | George | \u6559\u5b66\u90e8 | 6000.00 | | danae | \u8fd0\u8425\u90e8 | 12000.00 | | Sera | \u8fd0\u8425\u90e8 | 7000.00 | | Echo | \u8fd0\u8425\u90e8 | 9000.00 | | Abel | \u9500\u552e\u90e8 | 9000.00 | +--------+--------+----------+ where\u8bed\u53e5 -- where\u5b57\u53e5\u4e2d\u53ef\u4ee5\u4f7f\u7528\uff1a -- \u6bd4\u8f83\u8fd0\u7b97\u7b26\uff1a > < >= <= <> != between 80 and 100 \u503c\u572810\u523020\u4e4b\u95f4 in(80,90,100) \u503c\u662f10\u621620\u621630 like 'yuan%' /* pattern\u53ef\u4ee5\u662f%\u6216\u8005_\uff0c \u5982\u679c\u662f%\u5219\u8868\u793a\u4efb\u610f\u591a\u5b57\u7b26\uff0c\u6b64\u4f8b\u5982\u5510\u50e7,\u5510\u56fd\u5f3a \u5982\u679c\u662f_\u5219\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u5510_\uff0c\u53ea\u6709\u5510\u50e7\u7b26\u5408\u3002\u4e24\u4e2a_\u5219\u8868\u793a\u4e24\u4e2a\u5b57\u7b26\uff1a__ */ -- \u903b\u8f91\u8fd0\u7b97\u7b26 \u5728\u591a\u4e2a\u6761\u4ef6\u76f4\u63a5\u53ef\u4ee5\u4f7f\u7528\u903b\u8f91\u8fd0\u7b97\u7b26 and or not -- \u6b63\u5219 SELECT * FROM emp WHERE emp_name REGEXP '^yu'; SELECT * FROM emp WHERE name REGEXP 'n$'; \u7ec3\u4e60\uff1a -- \u67e5\u8be2\u5e74\u7eaa\u5927\u4e8e24\u7684\u5458\u5de5 SELECT * FROM emp WHERE age>24; -- \u67e5\u8be2\u6559\u5b66\u90e8\u7684\u7537\u8001\u5e08\u4fe1\u606f SELECT * FROM emp WHERE dep=\"\u6559\u5b66\u90e8\" AND gender=\"male\"; order\uff1a\u6392\u5e8f \u6309\u6307\u5b9a\u7684\u5217\u8fdb\u884c\uff0c\u6392\u5e8f\u7684\u5217\u5373\u53ef\u662f\u8868\u4e2d\u7684\u5217\u540d\uff0c\u4e5f\u53ef\u4ee5\u662fselect\u8bed\u53e5\u540e\u6307\u5b9a\u7684\u522b\u540d\u3002 -- \u8bed\u6cd5\uff1a select *|field1,field2... from tab_name order by field [Asc|Desc] -- Asc \u5347\u5e8f\u3001Desc \u964d\u5e8f\uff0c\u5176\u4e2dasc\u4e3a\u9ed8\u8ba4\u503c ORDER BY \u5b50\u53e5\u5e94\u4f4d\u4e8eSELECT\u8bed\u53e5\u7684\u7ed3\u5c3e\u3002 \u7ec3\u4e60\uff1a -- \u6309\u5e74\u9f84\u4ece\u9ad8\u5230\u4f4e\u8fdb\u884c\u6392\u5e8f SELECT * FROM emp ORDER BY age DESC ; -- \u6309\u5de5\u8d44\u4ece\u4f4e\u5230\u9ad8\u8fdb\u884c\u6392\u5e8f SELECT * FROM emp ORDER BY salary; -- \u5148\u6309\u5de5\u8d44\u6392\u5e8f\uff0c\u5de5\u8d44\u76f8\u540c\u7684\u6309\u5e74\u9f84\u6392\u5e8f SELECT * FROM emp ORDER BY salary,age; group by\uff1a\u5206\u7ec4\u67e5\u8be2 GROUP BY \u8bed\u53e5\u6839\u636e\u67d0\u4e2a\u5217\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4\u3002\u5206\u7ec4\u4e00\u822c\u914d\u5408\u7740\u805a\u5408\u51fd\u6570\u5b8c\u6210\u67e5\u8be2\u3002 \u5e38\u7528\u805a\u5408(\u7edf\u8ba1)\u51fd\u6570 max() \uff1a\u6700\u5927\u503c\u3002 min() \uff1a\u6700\u5c0f\u503c\u3002 avg() \uff1a\u5e73\u5747\u503c\u3002 sum() \uff1a\u603b\u548c\u3002 count() \uff1a\u4e2a\u6570\u3002 \u5728MySQL\u7684SQL\u6267\u884c\u903b\u8f91\u4e2d\uff0cwhere\u6761\u4ef6\u5fc5\u987b\u653e\u5728group by\u524d\u9762\uff01\u4e5f\u5c31\u662f\u5148\u901a\u8fc7where\u6761\u4ef6\u5c06\u7ed3\u679c\u67e5\u8be2\u51fa\u6765\uff0c\u518d\u4ea4\u7ed9group by\u53bb\u5206\u7ec4\uff0c\u5b8c\u4e8b\u4e4b\u540e\u8fdb\u884c\u7edf\u8ba1\uff0c\u7edf\u8ba1\u4e4b\u540e\u7684\u67e5\u8be2\u7528having\u3002 \u7ec3\u4e60\uff1a -- \u67e5\u8be2\u7537\u5973\u5458\u5de5\u5404\u6709\u591a\u5c11\u4eba SELECT gender \u6027\u522b,count(*) \u4eba\u6570 FROM emp GROUP BY gender; -- \u67e5\u8be2\u5404\u4e2a\u90e8\u95e8\u7684\u4eba\u6570 SELECT dep \u90e8\u95e8,count(*) \u4eba\u6570 FROM emp GROUP BY dep; -- \u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u6700\u5927\u7684\u5e74\u9f84 SELECT dep \u90e8\u95e8,max(age) \u6700\u5927\u5e74\u7eaa FROM emp GROUP BY dep; -- \u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u5e74\u9f84\u6700\u5927\u7684\u5458\u5de5\u59d3\u540d SELECT * FROM emp5 WHERE age in (SELECT max(age) FROM emp5 GROUP BY dep); -- \u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44 SELECT dep \u90e8\u95e8,avg(salary) \u6700\u5927\u5e74\u7eaa FROM emp GROUP BY dep; -- \u67e5\u8be2\u6559\u5b66\u90e8\u7684\u5458\u5de5\u6700\u9ad8\u5de5\u8d44: SELECT dep,max(salary) FROM emp11 GROUP BY dep HAVING dep=\"\u6559\u5b66\u90e8\"; -- \u67e5\u8be2\u5e73\u5747\u85aa\u6c34\u8d85\u8fc78000\u7684\u90e8\u95e8 SELECT dep,AVG(salary) FROM emp GROUP BY dep HAVING avg(salary)>8000; -- \u67e5\u8be2\u6bcf\u4e2a\u7ec4\u7684\u5458\u5de5\u59d3\u540d SELECT dep,group_concat(name) FROM emp GROUP BY dep; -- \u67e5\u8be2\u516c\u53f8\u4e00\u5171\u6709\u591a\u5c11\u5458\u5de5(\u53ef\u4ee5\u5c06\u6240\u6709\u8bb0\u5f55\u770b\u6210\u4e00\u4e2a\u7ec4) SELECT COUNT(*) \u5458\u5de5\u603b\u4eba\u6570 FROM emp; limit\uff1a\u8bb0\u5f55\u6761\u6570\u9650\u5236 SELECT * from emp limit 1; SELECT * from emp limit 2,5; -- \u8df3\u8fc7\u524d\u4e24\u6761\u663e\u793a\u63a5\u4e0b\u6765\u7684\u4e94\u6761\u7eaa\u5f55 SELECT * from emp limit 2,2; distinct\uff1a\u67e5\u8be2\u53bb\u91cd SELECT distinct salary from emp order by salary; \u30103\u3011\u66f4\u65b0\u8bb0\u5f55 UPDATE <\u8868\u540d> SET \u5b57\u6bb5 1=\u503c 1 [,\u5b57\u6bb5 2=\u503c 2\u2026 ] [WHERE \u5b50\u53e5 ] \u30104\u3011\u5220\u9664\u8bb0\u5f55 DELETE FROM <\u8868\u540d> [WHERE \u5b50\u53e5] [ORDER BY \u5b50\u53e5] [LIMIT \u5b50\u53e5] <\u8868\u540d> \uff1a\u6307\u5b9a\u8981\u5220\u9664\u6570\u636e\u7684\u8868\u540d\u3002 ORDER BY \u5b50\u53e5\uff1a\u53ef\u9009\u9879\u3002\u8868\u793a\u5220\u9664\u65f6\uff0c\u8868\u4e2d\u5404\u884c\u5c06\u6309\u7167\u5b50\u53e5\u4e2d\u6307\u5b9a\u7684\u987a\u5e8f\u8fdb\u884c\u5220\u9664\u3002 WHERE \u5b50\u53e5\uff1a\u53ef\u9009\u9879\u3002\u8868\u793a\u4e3a\u5220\u9664\u64cd\u4f5c\u9650\u5b9a\u5220\u9664\u6761\u4ef6\uff0c\u82e5\u7701\u7565\u8be5\u5b50\u53e5\uff0c\u5219\u4ee3\u8868\u5220\u9664\u8be5\u8868\u4e2d\u7684\u6240\u6709\u884c\u3002 LIMIT \u5b50\u53e5\uff1a\u53ef\u9009\u9879\u3002\u7528\u4e8e\u544a\u77e5\u670d\u52a1\u5668\u5728\u63a7\u5236\u547d\u4ee4\u88ab\u8fd4\u56de\u5230\u5ba2\u6237\u7aef\u524d\u88ab\u5220\u9664\u884c\u7684\u6700\u5927\u503c\u3002 \u5173\u8054\u8868 \u4e00\u5bf9\u591a\u5173\u7cfb\u4e3a\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u4e24\u4e2a\u8868\u4e4b\u95f4\u7684\u4e00\u79cd\u5173\u7cfb\uff0c\u8be5\u5173\u7cfb\u4e2d\u7b2c\u4e00\u4e2a\u8868\u4e2d\u7684\u5355\u4e2a\u884c\u53ef\u4ee5\u4e0e\u7b2c\u4e8c\u4e2a\u8868\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u884c\u76f8\u5173\uff0c\u4f46\u7b2c\u4e8c\u4e2a\u8868\u4e2d\u7684\u4e00\u4e2a\u884c\u53ea\u53ef\u4ee5\u4e0e\u7b2c\u4e00\u4e2a\u8868\u4e2d\u7684\u4e00\u4e2a\u884c\u76f8\u5173\u3002 -- \u4e66\u7c4d\u8868 CREATE TABLE book( id INT PRIMARY KEY AUTO_INCREMENT, title VARCHAR(32), price DOUBLE(5,2), pub_id INT NOT NULL )ENGINE=INNODB CHARSET=utf8; -- \u51fa\u7248\u793e\u8868 CREATE TABLE publisher( id INT PRIMARY KEY AUTO_INCREMENT, name VARCHAR(32), email VARCHAR(32), addr VARCHAR(32) )ENGINE=INNODB CHARSET=utf8; -- \u63d2\u5165\u6570\u636e INSERT INTO book(title,price,pub_id) VALUES ('\u897f\u6e38\u8bb0',15,1), ('\u4e09\u56fd\u6f14\u4e49',45,2), ('\u7ea2\u697c\u68a6',66,3), ('\u6c34\u6d52\u4f20',21,2), ('\u7ea2\u4e0e\u9ed1',67,3), ('\u4e71\u4e16\u4f73\u4eba',44,6), ('\u98d8',56,1), ('\u653e\u98ce\u7b5d\u7684\u4eba',78,3); INSERT INTO publisher(id,name,email,addr) VALUES (1,'\u6e05\u534e\u51fa\u7248\u793e',\"123\",\"bj\"), (2,'\u5317\u5927\u51fa\u7248\u793e',\"234\",\"bj\"), (3,'\u673a\u68b0\u5de5\u4e1a\u51fa\u7248\u793e',\"345\",\"nj\"), (4,'\u90ae\u7535\u51fa\u7248\u793e',\"456\",\"nj\"), (5,'\u7535\u5b50\u5de5\u4e1a\u51fa\u7248\u793e',\"567\",\"bj\"), (6,'\u4eba\u6c11\u5927\u5b66\u51fa\u7248\u793e',\"678\",\"bj\"); mysql> select * from book; +----+------------+-------+--------+ | id | title | price | pub_id | +----+------------+-------+--------+ | 1 | \u897f\u6e38\u8bb0 | 15.00 | 1 | | 2 | \u4e09\u56fd\u6f14\u4e49 | 45.00 | 2 | | 3 | \u7ea2\u697c\u68a6 | 66.00 | 3 | | 4 | \u6c34\u6d52\u4f20 | 21.00 | 2 | | 5 | \u7ea2\u4e0e\u9ed1 | 67.00 | 3 | | 6 | \u4e71\u4e16\u4f73\u4eba | 44.00 | 6 | | 7 | \u98d8 | 56.00 | 1 | | 8 | \u653e\u98ce\u7b5d\u7684\u4eba | 78.00 | 3 | +----+------------+-------+--------+ 8 rows in set (0.00 sec) mysql> select * from publisher; +----+----------------+-------+------+ | id | name | email | addr | +----+----------------+-------+------+ | 1 | \u6e05\u534e\u51fa\u7248\u793e | 123 | bj | | 2 | \u5317\u5927\u51fa\u7248\u793e | 234 | bj | | 3 | \u673a\u68b0\u5de5\u4e1a\u51fa\u7248\u793e | 345 | nj | | 4 | \u90ae\u7535\u51fa\u7248\u793e | 456 | nj | | 5 | \u7535\u5b50\u5de5\u4e1a\u51fa\u7248\u793e | 567 | bj | | 6 | \u4eba\u6c11\u5927\u5b66\u51fa\u7248\u793e | 678 | bj | +----+----------------+-------+------+ 6 rows in set (0.00 sec) Python\u64cd\u4f5cMySQL import pymysql # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = pymysql.connect(host='localhost', user='root', passwd='...', port=3306) print('\u8fde\u63a5\u6210\u529f\uff01') # \u4f7f\u7528 cursor() \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u6e38\u6807\u5bf9\u8c61 cursor cursor = db.cursor() # \u4f7f\u7528 execute() \u65b9\u6cd5\u6267\u884c SQL \u67e5\u8be2 cursor.execute(\"SELECT VERSION()\") # \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u5355\u6761\u6570\u636e. data = cursor.fetchone() print(\"Database version : %s \" % data) # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db.close() class\u7248\u672c import pymysql class DBHandler: def __init__(self, host, port, user, password, database, charset, **kwargs): # \u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668 self.conn = pymysql.connect(host=host, port=port, user=user, password=password, database=database, cursorclass=pymysql.cursors.DictCursor, charset=charset, **kwargs) # \u83b7\u53d6\u6e38\u6807 self.cursor = self.conn.cursor() def query(self, sql, args=None, one=True): self.cursor.execute(sql, args) if one: return self.cursor.fetchone() else: return self.cursor.fetchall() def close(self): self.cursor.close() self.conn.close() if __name__ == \"__main__\": db = DBHandler(host='127.0.0.1', port=3306, user='root', password='yuan0316', database='uric', charset='utf8') sql = 'SELECT VERSION()' data = db.query(sql) print(data) \u722c\u866b\u5c0f\u8bf4\u5b58\u50a8\u6848\u4f8b import requests from lxml import etree import pymysql class Spider(object): def __init__(self, host, port, user, password, database, charset, **kwargs): # \u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668 self.conn = pymysql.connect(host=host, port=port, user=user, password=password, database=database, cursorclass=pymysql.cursors.DictCursor, charset=charset, **kwargs) # \u83b7\u53d6\u6e38\u6807 self.cursor = self.conn.cursor() # \u521d\u59cb\u5316\u8868\u3001 self.init_table() self.headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } self.session = requests.session() def exec(self, sql, args=None, one=True): self.cursor.execute(sql, args) self.conn.commit() if one: return self.cursor.fetchone() else: return self.cursor.fetchall() def close(self): self.cursor.close() self.conn.close() def init_table(self): # \u4f7f\u7528 execute() \u65b9\u6cd5\u6267\u884c SQL \u67e5\u8be2 sql1 = \"\"\" create table if not exists book( id int primary key auto_increment, bookName varchar(32), coverImg varchar(255), authorPenName varchar(32) )character set=utf8; \"\"\" self.exec(sql1) sql2 = \"\"\" create table if not exists chapter( id int primary key auto_increment , chapter_name varchar(32), chapter_content text, book_id INT NOT NULL )character set=utf8; \"\"\" self.exec(sql2) def login(self): self.session.post(\"https://passport.17k.com/ck/user/login\", data={ \"loginName\": \"13121758648\", \"password\": \"yuan0316\" }, headers=self.headers) def get_shelf_books(self): ''' params: :return: data [{},{},{}] ''' res = self.session.get(\"https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919\") res.encoding = \"utf8\" # print(res.text) data = res.json().get(\"data\") for book_dict in data: self.handle_one_book(book_dict) def handle_one_book(self, book_dict): # \u5faa\u73af\u5904\u7406\u6bcf\u4e00\u672c\u4e66 print(book_dict) bookId = book_dict.get(\"bookId\") bookName = book_dict.get(\"bookName\") coverImg = book_dict.get(\"coverImg\") authorPenName = book_dict.get(\"authorPenName\") sql = f\"\"\"insert into book (bookName,coverImg,authorPenName) values ( \"{bookName}\",\"{coverImg}\",\"{authorPenName}\");\"\"\" print(\"sql:::\", sql) self.exec(sql) # \u722c\u53d6\u6bcf\u4e00\u7ae0\u7684\u6587\u672c\u4fe1\u606f\u5e76\u4e0b\u8f7d self.get_chapters(bookId) def get_chapters(self, book_id): # \u722c\u866b\u6bcf\u4e00\u672c\u4e66\u67b6\u4e66\u7c4d\u7684\u7ae0\u8282\u9875\u9762 res = requests.get(f\"https://www.17k.com/list/{book_id}.html\") res.encoding = \"utf8\" # \u89e3\u6790\u8be5\u4e66\u7c4d\u7684\u7ae0\u8282\u9875\u9762\u4e2d\u7ae0\u8282\u94fe\u63a5 selector = etree.HTML(res.text) items = selector.xpath('//dl[@class=\"Volume\"][position()>1]/dd/a') for item in items: self.handle_one_chapter(item, book_id) def handle_one_chapter(self, item, book_id): # \u6bcf\u4e00\u672c\u4e66\u7c4d\u7684\u6bcf\u4e00\u7ae0\u8282\u7684\u4fe1\u606f chapter_href = item.xpath(\"./@href\")[0] chapter_name = item.xpath(\"./span/text()\")[0].strip() # \u722c\u53d6\u7ae0\u8282\u5185\u5bb9 res = requests.get(\"https://www.17k.com\" + chapter_href) res.encoding = \"utf8\" chapter_html = res.text print(chapter_html) selector = etree.HTML(res.text) chapter_content_list = selector.xpath( '//div[contains(@class,\"content\")]/div[@class=\"p\"]/p[position()<last()]/text()') chapter_content_str = \"\\n\".join(chapter_content_list) # \u7ae0\u8282\u8fdb\u884c\u4e0b\u8f7d\uff0c\u5199\u5165\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d sql = f\"\"\"insert into chapter (chapter_name,chapter_content,book_id) values ( \"{chapter_name}\",'{chapter_content_str}',\"{book_id}\");\"\"\" print(\"sql:::\", sql) self.exec(sql) def run(self): # (1) \u6a21\u62df\u767b\u5f55\uff0c\u83b7\u53d6Cookie self.login() # (2) \u722c\u53d6\u4e66\u67b6\u4e0a\u7684\u4e66\u7c4d\u4fe1\u606f self.get_shelf_books() if __name__ == \"__main__\": s = Spider(host='127.0.0.1', port=3306, user='root', password='yuan0316', database='xiaoshuo', charset='utf8') s.run() 7.2\u3001redis redis\u4ecb\u7ecd \u5b9a\u4e49 Redis\uff08Remote Dictionary Server \uff0c\u8fdc\u7a0b\u5b57\u5178\u670d\u52a1\uff09 \u662f\u4e00\u4e2a\u4f7f\u7528ANSIC\u7f16\u5199\u7684\u5f00\u6e90\u3001\u652f\u6301\u7f51\u7edc\u3001\u57fa\u4e8e\u5185\u5b58\u3001\u53ef\u9009\u6301\u4e45\u6027\u7684\u952e\u503c\u5bf9\u5b58\u50a8\u6570\u636e\u5e93\uff0c\u662fNoSQL\u6570\u636e\u5e93\u3002 redis\u7684\u51fa\u73b0\u4e3b\u8981\u662f\u4e3a\u4e86\u66ff\u4ee3\u65e9\u671f\u7684Memcache\u7f13\u5b58\u7cfb\u7edf\u7684\u3002map\u5185\u5b58\u578b(\u6570\u636e\u5b58\u653e\u5728\u5185\u5b58\u4e2d)\u7684\u975e\u5173\u7cfb\u578b(nosql)key-value(\u952e\u503c\u5b58\u50a8)\u6570\u636e\u5e93\uff0c\u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316(\u57fa\u4e8eRDB\u548cAOF\uff0c\u6ce8: \u6570\u636e\u6301\u4e45\u5316\u65f6\u5c06\u6570\u636e\u5b58\u653e\u5230\u6587\u4ef6\u4e2d\uff0c\u6bcf\u6b21\u542f\u52a8redis\u4e4b\u540e\u4f1a\u5148\u5c06\u6587\u4ef6\u4e2d\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u7ecf\u5e38\u7528\u6765\u505a\u7f13\u5b58\u3001\u6570\u636e\u5171\u4eab\u3001\u8d2d\u7269\u8f66\u3001\u6d88\u606f\u961f\u5217\u3001\u8ba1\u6570\u5668\u3001\u9650\u6d41\u7b49\u3002(\u6700\u57fa\u672c\u7684\u5c31\u662f\u7f13\u5b58\u4e00\u4e9b\u7ecf\u5e38\u7528\u5230\u7684\u6570\u636e\uff0c\u63d0\u9ad8\u8bfb\u5199\u901f\u5ea6)\u3002 redis\u7279\u6027\uff1a \u901f\u5ea6\u5feb \u6301\u4e45\u5316 \u591a\u79cd\u6570\u636e\u7ed3\u6784 \u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00 \u4e3b\u4ece\u590d\u5236 \u9ad8\u53ef\u7528\u3001\u5206\u5e03\u5f0f Redis\u7684\u6570\u636e\u7c7b\u578b\u53ca\u4e3b\u8981\u7279\u6027 Redis\u63d0\u4f9b\u7684\u6570\u636e\u7c7b\u578b\u4e3b\u8981\u5206\u4e3a5\u79cd\u81ea\u6709\u7c7b\u578b\u548c\u4e00\u79cd\u81ea\u5b9a\u4e49\u7c7b\u578b\uff0c\u8fd95\u79cd\u81ea\u6709\u7c7b\u578b\u5305\u62ec\uff1aString\u7c7b\u578b\u3001\u54c8\u5e0c\u7c7b\u578b\u3001\u5217\u8868\u7c7b\u578b\u3001\u96c6\u5408\u7c7b\u578b\u548c\u987a\u5e8f\u96c6\u5408\u7c7b\u578b\u3002 redis={ \"name\":\"yuan\", \"age\":\"23\", \"scors\":[78,79,98,], \"info\":{\"gender\":\"male\",\"tel\":\"110\"}, \"set\":{1,2,3}, \"zset\":{1,2,3,} } Redis\u7684\u5e94\u7528\u573a\u666f\u6709\u54ea\u4e9b\uff1f Redis \u7684\u5e94\u7528\u573a\u666f\u5305\u62ec\uff1a \u7f13\u5b58\u7cfb\u7edf\uff08\u201c\u70ed\u70b9\u201d\u6570\u636e\uff1a\u9ad8\u9891\u8bfb\u3001\u4f4e\u9891\u5199\uff09\uff1a\u7f13\u5b58\u7528\u6237\u4fe1\u606f\uff0c\u4f18\u60e0\u5238\u8fc7\u671f\u65f6\u95f4\uff0c\u9a8c\u8bc1\u7801\u8fc7\u671f\u65f6\u95f4\u3001session\u3001token\u7b49 \u8ba1\u6570\u5668\uff1a\u5e16\u5b50\u7684\u6d4f\u89c8\u6570\uff0c\u89c6\u9891\u64ad\u653e\u6b21\u6570\uff0c\u8bc4\u8bba\u6b21\u6570\u3001\u70b9\u8d5e\u6b21\u6570\u7b49 \u6d88\u606f\u961f\u5217\uff0c\u79d2\u6740\u7cfb\u7edf \u793e\u4ea4\u7f51\u7edc\uff1a\u7c89\u4e1d\u3001\u5171\u540c\u597d\u53cb\uff08\u53ef\u80fd\u8ba4\u8bc6\u7684\u4eba\uff09\uff0c\u5174\u8da3\u7231\u597d\uff08\u63a8\u8350\u5546\u54c1\uff09 \u6392\u884c\u699c\uff08\u6709\u5e8f\u96c6\u5408\uff09 \u53d1\u5e03\u8ba2\u9605\uff1a\u7c89\u4e1d\u5173\u6ce8\u3001\u6d88\u606f\u901a\u77e5 redis\u73af\u5883\u5b89\u88c5 redis\u7684\u5b98\u65b9\u53ea\u63d0\u4f9b\u4e86linux\u7248\u672c\u7684redis\uff0cwindow\u7cfb\u7edf\u7684redis\u662f\u5fae\u8f6f\u56e2\u961f\u6839\u636e\u5b98\u65b9\u7684linux\u7248\u672c\u9ad8\u4eff\u7684\u3002 \u5b98\u65b9\u539f\u7248: https://redis.io/ \u4e2d\u6587\u5b98\u7f51:http://www.redis.cn \u4e0b\u8f7d\u5730\u5740\uff1ahttps://github.com/tporadowski/redis/releases \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8redis\u670d\u52a1\u7aef redis-server C:/tool/redis/redis.windows.conf \u5173\u95ed\u4e0a\u9762\u8fd9\u4e2acmd\u7a97\u53e3\u5c31\u5173\u95edredis\u670d\u52a1\u5668\u670d\u52a1\u4e86\u3002 redis\u4f5c\u4e3awindows\u670d\u52a1\u542f\u52a8\u65b9\u5f0f redis-server --service-install redis.windows.conf \u542f\u52a8\u670d\u52a1\uff1aredis-server --service-start \u505c\u6b62\u670d\u52a1\uff1aredis-server --service-stop # \u5982\u679c\u8fde\u63a5\u64cd\u4f5credis\uff0c\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e0b\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a redis-cli redis\u6570\u636e\u7c7b\u578b redis\u53ef\u4ee5\u7406\u89e3\u6210\u4e00\u4e2a\u5168\u5c40\u7684\u5927\u5b57\u5178\uff0ckey\u5c31\u662f\u6570\u636e\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002\u6839\u636ekey\u5bf9\u5e94\u7684\u503c\u4e0d\u540c\uff0c\u53ef\u4ee5\u5212\u5206\u62105\u4e2a\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002 redis = { \"name\":\"yuan\", \"scors\":[\"100\",\"89\",\"78\"], \"info\":{ \"name\":\"rain\" \"age\":22 }, \"s\":{item1,itme2,..} } 1. string\u7c7b\u578b: \u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u662f Redis \u4e2d\u6700\u4e3a\u57fa\u7840\u7684\u6570\u636e\u5b58\u50a8\u7c7b\u578b\uff0c\u5b83\u5728 Redis \u4e2d\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\uff0c\u4e5f\u5c31\u662fbyte\u7c7b\u578b\u3002 \u5355\u4e2a\u6570\u636e\u7684\u6700\u5927\u5bb9\u91cf\u662f512M\u3002 key: \u503c 2. hash\u7c7b\u578b: \u54c8\u5e0c\u7c7b\u578b\uff0c\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61/\u5b57\u5178\uff0c\u5bf9\u8c61/\u5b57\u5178\u7684\u7ed3\u6784\u4e3a\u952e\u503c\u5bf9\u3002key\u3001\u57df\u3001\u503c\u7684\u7c7b\u578b\u90fd\u4e3astring\u3002\u57df\u5728\u540c\u4e00\u4e2ahash\u4e2d\u662f\u552f\u4e00\u7684\u3002 key:{ \u57df\uff08\u5c5e\u6027\uff09: \u503c\uff0c \u57df:\u503c\uff0c \u57df:\u503c\uff0c \u57df:\u503c\uff0c ... } 3. list\u7c7b\u578b: \u5217\u8868\u7c7b\u578b\uff0c\u5b83\u7684\u5b50\u6210\u5458\u7c7b\u578b\u4e3astring\u3002 key: [\u503c1\uff0c\u503c2, \u503c3.....] 4. set\u7c7b\u578b: \u65e0\u5e8f\u96c6\u5408\uff0c\u5b83\u7684\u5b50\u6210\u5458\u7c7b\u578b\u4e3astring\u7c7b\u578b\uff0c\u5143\u7d20\u552f\u4e00\u4e0d\u91cd\u590d\uff0c\u6ca1\u6709\u4fee\u6539\u64cd\u4f5c\u3002 key: {\u503c1, \u503c4, \u503c3, ...., \u503c5} 5. zset\u7c7b\u578b(sortedSet): \u6709\u5e8f\u96c6\u5408\uff0c\u5b83\u7684\u5b50\u6210\u5458\u503c\u7684\u7c7b\u578b\u4e3astring\u7c7b\u578b\uff0c\u5143\u7d20\u552f\u4e00\u4e0d\u91cd\u590d\uff0c\u6ca1\u6709\u4fee\u6539\u64cd\u4f5c\u3002\u6743\u91cd\u503c(score,\u5206\u6570)\u4ece\u5c0f\u5230\u5927\u6392\u5217\u3002 key: { \u503c1 \u6743\u91cd\u503c1(\u6570\u5b57); \u503c2 \u6743\u91cd\u503c2; \u503c3 \u6743\u91cd\u503c3; \u503c4 \u6743\u91cd\u503c4; } Python\u64cd\u4f5credis \uff081\uff09\u8fde\u63a5redis # \u65b9\u5f0f1 import redis r = redis.Redis(host='127.0.0.1', port=6379) r.set('foo', 'Bar') print(r.get('foo')) # \u65b9\u5f0f2 import redis pool = redis.ConnectionPool(host='127.0.0.1', port=6379) r = redis.Redis(connection_pool=pool) r.set('bar', 'Foo') print(r.get('bar')) \u901a\u5e38\u60c5\u51b5\u4e0b, \u5f53\u6211\u4eec\u9700\u8981\u505aredis\u64cd\u4f5c\u65f6, \u4f1a\u521b\u5efa\u4e00\u4e2a\u8fde\u63a5, \u5e76\u57fa\u4e8e\u8fd9\u4e2a\u8fde\u63a5\u8fdb\u884credis\u64cd\u4f5c, \u64cd\u4f5c\u5b8c\u6210\u540e, \u91ca\u653e\u8fde\u63a5,\u4e00\u822c\u60c5\u51b5\u4e0b, \u8fd9\u662f\u6ca1\u95ee\u9898\u7684, \u4f46\u5f53\u5e76\u53d1\u91cf\u6bd4\u8f83\u9ad8\u7684\u65f6\u5019, \u9891\u7e41\u7684\u8fde\u63a5\u521b\u5efa\u548c\u91ca\u653e\u5bf9\u6027\u80fd\u4f1a\u6709\u8f83\u9ad8\u7684\u5f71\u54cd\u3002\u4e8e\u662f, \u8fde\u63a5\u6c60\u5c31\u53d1\u6325\u4f5c\u7528\u4e86\u3002\u8fde\u63a5\u6c60\u7684\u539f\u7406\u662f, \u901a\u8fc7\u9884\u5148\u521b\u5efa\u591a\u4e2a\u8fde\u63a5, \u5f53\u8fdb\u884credis\u64cd\u4f5c\u65f6, \u76f4\u63a5\u83b7\u53d6\u5df2\u7ecf\u521b\u5efa\u7684\u8fde\u63a5\u8fdb\u884c\u64cd\u4f5c, \u800c\u4e14\u64cd\u4f5c\u5b8c\u6210\u540e, \u4e0d\u4f1a\u91ca\u653e, \u7528\u4e8e\u540e\u7eed\u7684\u5176\u4ed6redis\u64cd\u4f5c\u3002\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u907f\u514d\u9891\u7e41\u7684redis\u8fde\u63a5\u521b\u5efa\u548c\u91ca\u653e\u7684\u76ee\u7684, \u4ece\u800c\u63d0\u9ad8\u6027\u80fd\u3002 \uff082\uff09\u6570\u636e\u7c7b\u578b\u64cd\u4f5c import redis pool = redis.ConnectionPool(host='127.0.0.1', port=6379, db=0, decode_responses=True) r = redis.Redis(connection_pool=pool) # \u4e00 \uff1a \u5b57\u7b26\u4e32\u64cd\u4f5c # \uff081\uff09\u5b57\u7b26\u4e32\u64cd\u4f5c\uff1a\u4e0d\u5141\u8bb8\u5bf9\u5df2\u7ecf\u5b58\u5728\u7684\u952e\u8bbe\u7f6e\u503c ret = r.setnx(\"name\", \"yuan\") print(ret) # \uff082\uff09\u5b57\u7b26\u4e32\u64cd\u4f5c\uff1a\u8bbe\u7f6e\u952e\u6709\u6548\u671f r.setex(\"good_1001\", 10, \"2\") # \uff083\uff09\u5b57\u7b26\u4e32\u64cd\u4f5c\uff1a\u81ea\u589e\u81ea\u51cf r.set(\"age\", 20) r.incrby(\"age\", 2) print(r.get(\"age\")) # b'22' # \u4e8c \uff1a hash\u64cd\u4f5c r.hset(\"info\", \"name\", \"rain\") print(r.hget(\"info\", \"name\")) # b'rain' r.hset(\"info\", mapping={\"gender\": \"male\", \"age\": 22}) print(r.hgetall(\"info\")) # {b'name': b'rain', b'gender': b'male', b'age': b'22'} # \u4e09 \uff1a list\u64cd\u4f5c r.rpush(\"scores\", \"100\", \"90\", \"80\") r.rpush(\"scores\", \"70\") r.lpush(\"scores\", \"120\") print(r.lrange(\"scores\", 0, -1)) # ['120', '100', '90', '80', '70'] r.linsert(\"scores\", \"AFTER\", \"100\", 95) print(r.lrange(\"scores\", 0, -1)) # ['120', '100', '95', '90', '80', '70'] print(r.lpop(\"scores\")) # 120 print(r.rpop(\"scores\")) # 70 print(r.lindex(\"scores\", 1)) # '95' # \u56db \uff1a \u96c6\u5408\u64cd\u4f5c # key\u5bf9\u5e94\u7684\u96c6\u5408\u4e2d\u6dfb\u52a0\u5143\u7d20 r.sadd(\"name_set\", \"zhangsan\", \"lisi\", \"wangwu\") # \u83b7\u53d6key\u5bf9\u5e94\u7684\u96c6\u5408\u7684\u6240\u6709\u6210\u5458 print(r.smembers(\"name_set\")) # {'lisi', 'zhangsan', 'wangwu'} # \u4ecekey\u5bf9\u5e94\u7684\u96c6\u5408\u4e2d\u968f\u673a\u83b7\u53d6 numbers \u4e2a\u5143\u7d20 print(r.srandmember(\"name_set\", 2)) r.srem(\"name_set\", \"lisi\") print(r.smembers(\"name_set\")) # {'wangwu', 'zhangsan'} # \u4e94 \uff1a\u6709\u5e8f\u96c6\u5408\u64cd\u4f5c # \u5728key\u5bf9\u5e94\u7684\u6709\u5e8f\u96c6\u5408\u4e2d\u6dfb\u52a0\u5143\u7d20 r.zadd(\"jifenbang\", {\"yuan\": 78, \"rain\": 20, \"alvin\": 89, \"eric\": 45}) # \u6309\u7167\u7d22\u5f15\u8303\u56f4\u83b7\u53d6key\u5bf9\u5e94\u7684\u6709\u5e8f\u96c6\u5408\u7684\u5143\u7d20 print(r.zrange(\"jifenbang\", 0, -1)) # ['rain', 'eric', 'yuan', 'alvin'] print( r.zrange(\"jifenbang\", 0, -1, withscores=True)) # [('rain', 20.0), ('eric', 45.0), ('yuan', 78.0), ('alvin', 89.0)] print(r.zrevrange(\"jifenbang\", 0, -1, withscores=True)) # [('alvin', 89.0), ('yuan', 78.0), ('eric', 45.0), ('rain', 20.0)] print(r.zrangebyscore(\"jifenbang\", 0, 100)) # ['rain', 'eric', 'yuan', 'alvin'] print(r.zrangebyscore(\"jifenbang\", 0, 100, start=0, num=2)) # ['rain', 'eric'] # \u5220\u9664key\u5bf9\u5e94\u7684\u6709\u5e8f\u96c6\u5408\u4e2d\u503c\u662fvalues\u7684\u6210\u5458 print(r.zrem(\"jifenbang\", \"yuan\")) # \u5220\u9664\u6210\u529f\u8fd4\u56de1 print(r.zrange(\"jifenbang\", 0, -1)) # ['rain', 'eric', 'alvin'] # \u516d \uff1a\u952e\u503c\u5bf9\u64cd\u4f5c r.delete(\"scores\") print(r.exists(\"scores\")) print(r.keys(\"*\")) r.expire(\"name\", 10) 7.3\u3001MongoDB \u4e00\u822c\u722c\u866b\u4f7f\u7528\u7684\u6570\u636e\u5e93\uff0c\u662f\u6839\u636e\u9879\u76ee\u6765\u5b9a\u7684\u3002\u5982\u9700\u6c42\u65b9\u6307\u5b9a\u4e86\u4f7f\u7528\u4ec0\u4e48\u6570\u636e\u5e93\u3001\u5982\u679c\u6ca1\u6307\u5b9a\uff0c\u90a3\u4e48\u51b3\u5b9a\u6743\u5c31\u5728\u722c\u866b\u7a0b\u5e8f\u5458\u624b\u91cc\uff0c\u5982\u679c\u81ea\u9009\u7684\u8bdd\uff0cmysql \u548cmongodb \u7528\u7684\u90fd\u662f\u6bd4\u8f83\u591a\u7684\u3002\u4f46\u4e0d\u540c\u7684\u6570\u636e\u5e93\u54c1\u79cd\u6709\u5404\u81ea\u7684\u4f18\u7f3a\u70b9\uff0c\u4e0d\u540c\u7684\u573a\u666f\u4efb\u4f55\u4e00\u79cd\u6570\u636e\u5e93\u90fd\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\uff0c\u4f46\u662f\u67d0\u79cd\u53ef\u80fd\u4f1a\u66f4\u597d\u3002\u6bd4\u5982\u5982\u679c\u6293\u53d6\u7684\u6570\u636e\u4e4b\u95f4\u7684\u8026\u5408\u6027\u5f88\u9ad8\uff0c\u5173\u7cfb\u6bd4\u8f83\u590d\u6742\u7684\u8bdd\uff0c\u90a3\u4e48mysql\u53ef\u80fd\u4f1a\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u5982\u679c\u6293\u53d6\u7684\u6570\u636e\u662f\u5206\u7248\u5757\u7684\uff0c\u5e76\u4e14\u5b83\u4eec\u4e4b\u95f4\u6ca1\u6709\u76f8\u4f3c\u6027\u6216\u5173\u8054\u6027\u4e0d\u5f3a\uff0c\u90a3\u4e48\u53ef\u80fdmongodb \u4f1a\u66f4\u597d\u3002 \u5b98\u65b9\u6587\u6863\uff1ahttps://docs.mongodb.com/ \u4e2d\u6587\u6587\u6863\uff1ahttps://www.mongodb.org.cn/ mongoDB\u7684\u751f\u6001\u3001\u7406\u5ff5\u975e\u5e38\u5148\u8fdb\u800c\u4e14\u6210\u719f\u3001\u4f46\u662fmongoDB\u4e0d\u4ec5\u6709\u5f00\u6e90\u7248\u672c\uff0c\u8fd8\u6709\u4f01\u4e1a\u7248\u672c\u3002\u6240\u4ee5\u6709\u90e8\u5206\u516c\u53f8\u6bd4\u8f83\u62c5\u5fc3\uff0c\u54ea\u5929\u65e0\u6cd5\u4f7f\u7528mongoDB\u4e86\uff0c\u6240\u4ee5\u4e5f\u4f1a\u4ea7\u751f\u4e00\u4e9b\u66ff\u4ee3\u4ea7\u54c1\u3002 DynamoDB : AWS SequoiaDB : \u5de8\u6749\u6570\u636e\u5e93 \u30101\u3011\u5b89\u88c5 \uff081\uff09mac\u5b89\u88c5 \u5728 Mac OS \u7cfb\u7edf\u4e0b\u5b89\u88c5 MongoDB \u4e0e\u5728 Linux \u4e0b\u5b89\u88c5\u6bd4\u8f83\u76f8\u4f3c\uff0c\u672c\u8282\u6211\u4eec\u5c31\u6765\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b Mac OS \u7cfb\u7edf\u4e0b\u5982\u4f55\u5b89\u88c5 MongoDB\u3002 \u4e0b\u8f7d MongoDB \u4e0e\u5728 Linux \u7cfb\u7edf\u4e0b\u5b89\u88c5 MongoDB \u76f8\u540c\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u5728 MongoDB \u7684\u5b98\u7f51\u83b7\u5f97 MongoDB \u5b89\u88c5\u5305\u7684\u4e0b\u8f7d\u94fe\u63a5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1aMongoDB \u5b98\u7f51 \u5f97\u5230\u4e0b\u8f7d\u94fe\u63a5\u540e\uff0c\u4f7f\u7528 cd \u547d\u4ee4\u8fdb\u5165 /usr/local \u76ee\u5f55\uff0c\u7136\u540e\u4f7f\u7528 wget \u547d\u4ee4\u4e0b\u8f7d MongoDB \u7684\u538b\u7f29\u5305\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a cd /usr/local sudo wget https://fastdl.mongodb.org/osx/mongodb-macos-x86_64-4.4.3.tgz \uff082\uff09\u5b89\u88c5 MongoDB \u5f85\u538b\u7f29\u5305\u4e0b\u8f7d\u5b8c\u6210\u540e\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u5b89\u88c5 MongoDB \u4e86\uff0c\u5177\u4f53\u7684\u5b89\u88c5\u6b65\u9aa4\u5982\u4e0b\uff1a \u3010\u6b65\u9aa4 1\u3011\u89e3\u538b\u7f29\u521a\u521a\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\uff0c\u5e76\u5c06\u5176\u91cd\u547d\u540d\u4e3a mongodb\uff1a sudo tar -zxvf mongodb-macos-x86_64-4.4.3.tgz # \u89e3\u538b MongoDB \u538b\u7f29\u5305 sudo mv mongodb-osx-ssl-x86_64-4.0.17/ mongodb # \u91cd\u547d\u540d\u89e3\u538b\u5f97\u5230\u7684\u6587\u4ef6\u5939 \u3010\u6b65\u9aa4 2\u3011\u5728 /usr/local/mongodb \u76ee\u5f55\u4e0b\u65b0\u5efa\u4e24\u4e2a\u6587\u4ef6\u5939 data \u548c log\uff0c\u7528\u4e8e\u5b58\u50a8 MongoDB \u7684\u6570\u636e\u548c\u65e5\u5fd7\u3002 sudo mkdir -p /usr/local/mongodb/data sudo mkdir -p /usr/local/mongodb/log \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u4e3a\u5f53\u524d\u7528\u6237\u5206\u914d\u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650\uff1a sudo chown biancheng /usr/local/mongodb/data sudo chown biancheng /usr/local/mongodb/log \u5176\u4e2d\u201cbiancheng\u201d\u4e3a\u5f53\u524d\u7684\u7528\u6237\u540d\uff0c\u60a8\u9700\u8981\u4fee\u6539\u4e3a\u60a8\u5f53\u524d\u7cfb\u7edf\u7684\u7528\u6237\u540d\u3002 \u3010\u6b65\u9aa4 3\u3011\u914d\u7f6e PATH\u3002\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165 open -e .bash_profile \u547d\u4ee4\u6253\u5f00 bash_profile \u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u5c06 MongoDB \u7684\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684 bin \u76ee\u5f55\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u5982\u4e0b\u6240\u793a\uff1a export PATH=${PATH}:/usr/local/mongodb/bin \u7f16\u8f91\u5b8c\u6210\u540e\u4fdd\u5b58\u5e76\u9000\u51fa\uff0c\u7136\u540e\u4f7f\u7528 source .bash_profile \u547d\u4ee4\u4f7f\u914d\u7f6e\u7acb\u5373\u751f\u6548\u3002 \u3010\u6b65\u9aa4 4\u3011\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u542f\u52a8 MongoDB \u670d\u52a1\uff1a mongod --dbpath /usr/local/mongodb/data --logpath /usr/local/mongodb/log/mongo.log --fork \u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a --dbpath \u7528\u6765\u8bbe\u7f6e\u6570\u636e\u7684\u5b58\u653e\u76ee\u5f55\uff1b --logpath \u7528\u6765\u8bbe\u7f6e\u65e5\u5fd7\u7684\u5b58\u653e\u76ee\u5f55\uff1b --fork \u7528\u6765\u8bbe\u7f6e\u5728\u540e\u53f0\u8fd0\u884c\u3002 \u81f3\u6b64 MongoDB \u5c31\u5b89\u88c5\u5b8c\u6210\u4e86\u3002 \uff083\uff09\u9a8c\u8bc1\u5b89\u88c5 \u60a8\u53ef\u4ee5\u4f7f\u7528 mongod -version \u547d\u4ee4\u6765\u9a8c\u8bc1 MongoDB \u662f\u5426\u5b89\u88c5\u6210\u529f\uff0c\u5982\u679c\u51fa\u73b0\u7c7b\u4f3c\u4e0b\u9762\u6240\u793a\u7684\u5185\u5bb9\uff0c\u5219\u8bf4\u660e MongoDB \u5b89\u88c5\u6210\u529f\u3002 mongod -version db version v4.0.10 git version: c389e7f69f637f7a1ac3cc9fae843b635f20b766 allocator: tcmalloc modules: none build environment: distmod: 2008plus-ssl distarch: x86_64 target_arch: x86_64 \uff082\uff09win\u5b89\u88c5 \u901a\u8fc7\u524d\u9762\u7684\u4ecb\u7ecd\u6211\u4eec\u5df2\u7ecf\u7b80\u5355\u7684\u4e86\u89e3\u4e86 MongoDB\uff0c\u672c\u8282\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u5728 Windows \u7cfb\u7edf\u4e0a\u5b89\u88c5 MongoDB\u3002 \u4e0b\u8f7d MongoDB \u8981\u5728 Windows \u7cfb\u7edf\u4e0a\u5b89\u88c5 MongoDB\uff0c\u9996\u5148\u9700\u8981\u5728 MongoDB \u7684\u5b98\u7f51\uff08https://www.mongodb.com/try/download/community\uff09\u4e0b\u8f7d MongoDB \u7684\u5b89\u88c5\u5305\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u4e0b\u8f7d MongoDB \u5b89\u88c5\u5305 \u63d0\u793a\uff1a\u4e0b\u8f7d\u524d\u9700\u8981\u5148\u6ce8\u518c/\u767b\u9646 MongoDB \u5b98\u7f51\u7684\u8d26\u53f7\u3002 \u5b89\u88c5 MongoDB \u3010\u6b65\u9aa4 1\u3011\u53cc\u51fb\u8fd0\u884c\u6211\u4eec\u521a\u521a\u4e0b\u8f7d\u7684 .msi \u683c\u5f0f\u7684 MongoDB \u5b89\u88c5\u5305\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u79cd\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u8fd0\u884c MongoDB \u5b89\u88c5\u5305 \u3010\u6b65\u9aa4 2\u3011\u63a5\u53d7\u7528\u6237\u8bb8\u53ef\u534f\u8bae\uff0c\u5e76\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u63a5\u53d7\u7528\u6237\u534f\u8bae \u3010\u6b65\u9aa4 3\u3011\u5355\u51fb Custom\uff08\u81ea\u5b9a\u4e49\uff09\u6309\u94ae\u6765\u81ea\u5b9a\u4e49\u5b89\u88c5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u81ea\u5b9a\u4e49\u5b89\u88c5 \u3010\u6b65\u9aa4 4\u3011\u4fee\u6539\u5b89\u88c5\u76ee\u5f55\uff0c\u5e76\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u81ea\u5b9a\u4e49\u5b89\u88c5\u76ee\u5f55 \u3010\u6b65\u9aa4 5\u3011\u9009\u4e2d\u201cInstall MongoD as a Service\u201d\uff0c\u5e76\u5728\u4e0b\u9762\u7684\u9009\u9879\u4e2d\u9009\u62e9\u201cRun service as Network Service user\u201d\uff0c\u5b8c\u6210\u540e\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u5b89\u88c5 Windows \u670d\u52a1 \u3010\u6b65\u9aa4 6\u3011\u53d6\u6d88\u201cInstall MongoDB Compass\u201d\u7684\u52fe\u9009\uff08\u5f53\u7136\u60a8\u4e5f\u53ef\u4ee5\u9009\u62e9\u5b89\u88c5\u5b83\uff0c\u4f46\u8fd9\u6837\u5c31\u9700\u8981\u82b1\u8d39\u66f4\u4e45\u7684\u5b89\u88c5\u65f6\u95f4\uff09\uff0cMongoDB Compass \u662f\u4e00\u4e2a\u56fe\u5f62\u754c\u9762\u7ba1\u7406\u5de5\u5177\uff0c\u540e\u9762\u5982\u679c\u9700\u8981\u6211\u4eec\u4e5f\u53ef\u4ee5\u518d\u5355\u72ec\u4e0b\u8f7d\uff08https://www.mongodb.com/try/download/compass\uff09\u548c\u5b89\u88c5\u5b83\uff0c\u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u53d6\u6d88\u201cInstall MongoDB Compass\u201d\u7684\u52fe\u9009 \u3010\u6b65\u9aa4 7\u3011\u5355\u51fb\u201cInstall\u201d\u6309\u94ae\u5f00\u59cb\u5b89\u88c5\u3002 \u56fe\uff1a\u5f00\u59cb\u5b89\u88c5 \u3010\u6b65\u9aa4 8\u3011\u7b49\u5f85\u5b89\u88c5\u5b8c\u6210\uff0c\u5355\u51fb\u201cFinish\u201d\u6309\u94ae\u9000\u51fa\u5b89\u88c5\u7a0b\u5e8f\u5373\u53ef\u5b8c\u6210\u5b89\u88c5\u3002 \u56fe\uff1a\u5b8c\u6210\u5b89\u88c5 \u9a8c\u8bc1\u5b89\u88c5 \u4e0d\u51fa\u610f\u5916\u7684\u8bdd\uff0c\u5b8c\u6210\u4e0a\u9762\u7684\u4e00\u7cfb\u5217\u64cd\u4f5c\u540e MongoDB \u5c31\u6210\u529f\u5b89\u88c5\u5230\u60a8\u7684\u7535\u8111\u4e0a\u4e86\u3002\u60f3\u8981\u9a8c\u8bc1\u5b89\u88c5\u662f\u5426\u6210\u529f\uff0c\u60a8\u53ef\u4ee5\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u5982\u679c\u80fd\u5728\u670d\u52a1\u5217\u8868\u4e2d\u627e\u5230 MongoDB Server\uff0c\u5c31\u8bf4\u660e MongoDB \u5df2\u7ecf\u5b89\u88c5\u6210\u529f\u3002 \u30102\u3011\u5e38\u7528\u6982\u5ff5 \uff081\uff09\u6570\u636e\u5e93 \u6570\u636e\u5e93\u662f\u7528\u4e8e\u5b58\u50a8\u6570\u636e\u7684\u7269\u7406\u5bb9\u5668\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u90fd\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684\u6587\u4ef6\u96c6\u3002\u4e00\u53f0 MongoDB \u670d\u52a1\u5668\u4e2d\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u6bcf\u4e2a\u6570\u636e\u5e93\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u90fd\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684\u96c6\u5408\u548c\u6743\u9650\uff0c\u800c\u4e14\u4e0d\u540c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u4f1a\u653e\u7f6e\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d\u3002 MongoDB \u7684\u9ed8\u8ba4\u6570\u636e\u5e93\u4e3a\u201ctest\u201d\uff0c\u8be5\u6570\u636e\u5e93\u5b58\u50a8\u5728 data \u76ee\u5f55\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 show dbs \u547d\u4ee4\u6765\u67e5\u770b\u6240\u6709\u7684\u6570\u636e\u5e93\u5217\u8868\uff0c\u5982\u4e0b\u6240\u793a\uff1a \\> show dbs admin 0.000GB config 0.000GB local 0.000GB \u6ce8\u610f\uff1a\u5728\u4f7f\u7528 show dbs \u547d\u4ee4\u65f6\uff0c\u82e5\u6570\u636e\u5e93\u4e2d\u6ca1\u6709\u5b58\u50a8\u4efb\u4f55\u6570\u636e\uff0c\u5219\u4e0d\u4f1a\u5728\u5217\u8868\u4e2d\u663e\u793a\u51fa\u6765\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u6709\u975e\u7a7a\u6570\u636e\u5e93\u624d\u80fd\u901a\u8fc7 show dbs \u547d\u4ee4\u67e5\u770b\u3002 \uff082\uff09\u96c6\u5408 \u96c6\u5408\u5c31\u662f\u4e00\u7ec4 MongoDB \u6587\u6863\u7684\u7ec4\u5408\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4f8b\u5982 MySQL\uff09\u4e2d\u7684\u6570\u636e\u8868\u3002\u96c6\u5408\u5b58\u5728\u4e8e\u6570\u636e\u5e93\u4e2d\uff0c\u4e14\u6ca1\u6709\u56fa\u5b9a\u7684\u7ed3\u6784\uff0c\u60a8\u53ef\u4ee5\u5411\u96c6\u5408\u4e2d\u63d2\u5165\u4e0d\u540c\u683c\u5f0f\u6216\u7c7b\u578b\u7684\u6570\u636e\u3002 \uff083\uff09\u6587\u6863 \u6587\u6863\u662f MongoDB \u4e2d\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u7531 BSON \u683c\u5f0f\uff08\u4e00\u79cd\u8ba1\u7b97\u673a\u6570\u636e\u4ea4\u6362\u683c\u5f0f\uff0c\u7c7b\u4f3c\u4e8e JSON\uff09\u7684\u952e/\u503c\u5bf9\u7ec4\u6210\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u884c\u884c\u6570\u636e\uff0c\u4f46\u8981\u76f8\u5bf9\u590d\u6742\u4e00\u4e9b\u3002 \u6587\u6863\u5177\u6709\u52a8\u6001\u6a21\u5f0f\uff0c\u6240\u8c13\u52a8\u6001\u6a21\u5f0f\u5c31\u662f\u540c\u4e00\u96c6\u5408\u4e2d\u7684\u6587\u6863\u4e0d\u9700\u8981\u5177\u6709\u76f8\u540c\u7684\u5b57\u6bb5\uff0c\u5373\u4f7f\u662f\u76f8\u540c\u7684\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u8fd9\u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6709\u5f88\u5927\u7684\u533a\u522b\uff0c\u4e5f\u662f MongoDB \u6700\u7a81\u51fa\u7684\u7279\u70b9\u4e4b\u4e00\u3002 \u4e0b\u8868\u5217\u4e3e\u4e86\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e0e MongoDB \u4e2d\u7684\u4e00\u4e9b\u5dee\u5f02\uff1a \u5173\u7cfb\u578b\u6570\u636e\u5e93 MongoDB \u89e3\u91ca\u8bf4\u660e database database \u6570\u636e\u5e93 table collection \u6570\u636e\u8868/\u96c6\u5408 row document \u6570\u636e\u884c/\u6587\u6863 column field \u5b57\u6bb5/\u57df index index \u7d22\u5f15 table joins \u8868\u8fde\u63a5\uff0cMongoDB \u4e2d\u4e0d\u652f\u6301 primary key primary key \u4e3b\u952e\uff0cMongoDB \u4f1a\u81ea\u52a8\u5c06 _id \u5b57\u6bb5\u8bbe\u7f6e\u4e3a\u4e3b\u952e \u30103\u3011\u6570\u636e\u5e93\u64cd\u4f5c > show dbs admin 0.000GB config 0.000GB local 0.000GB > use blog switched to db blog > db blog > db.article.insert({\"title\":\"mongodb\"}) WriteResult({ \"nInserted\" : 1 }) > use shop switched to db shop > db.goods.insert({\"name\":\"\u7535\u5b50\u5546\u54c1\"}) WriteResult({ \"nInserted\" : 1 }) > show dbs admin 0.000GB blog 0.000GB config 0.000GB local 0.000GB shop 0.000GB > db.dropDatabase() { \"dropped\" : \"shop\", \"ok\" : 1 } \u30104\u3011\u96c6\u5408\u64cd\u4f5c MongoDB \u7684\u96c6\u5408\u5c31\u76f8\u5f53\u4e8e MySQL \u7684\u4e00\u4e2a\u8868 table\uff0cMySQL \u5217\u51fa\u7684\u6240\u6709\u8868\u90fd\u53ef\u4ee5\u4f7f\u7528 show tables\uff0cMongoDB \u53ef\u4ee5\u4f7f\u7528 show collections \u5c55\u793a\u6240\u6709\u96c6\u5408 > db shop > db.createCollection(\"menu\") { \"ok\" : 1 } > db.menu.insert({\"id\":\"1231231\",\"name\":\"\u5f20\u4e09\"}) WriteResult({ \"nInserted\" : 1 }) > db.menu.find() { \"_id\" : ObjectId(\"6425263f8ae74e12d95c4c7e\"), \"id\" : \"1231231\", \"name\" : \"\u5f20\u4e09\" } > db.menu.insert({\"id\":\"1231231\",\"name\":\"\u674e\u56db\",\"price\":199}) WriteResult({ \"nInserted\" : 1 }) > db.menu.find() { \"_id\" : ObjectId(\"6425263f8ae74e12d95c4c7e\"), \"id\" : \"1231231\", \"name\" : \"\u5f20\u4e09\" } { \"_id\" : ObjectId(\"642526968ae74e12d95c4c7f\"), \"id\" : \"1231231\", \"name\" : \"\u674e\u56db\", \"price\" : 199 } > show tables; menu > show collections; menu > db.menu.drop() true > show tables; > \u30105\u3011\u6587\u6863\u64cd\u4f5c \u6587\u6863\u662f MongoDB \u4e2d\u5b58\u50a8\u7684\u57fa\u672c\u5355\u5143\uff0c\u662f\u4e00\u7ec4\u6709\u5e8f\u7684\u952e\u503c\u5bf9\u96c6\u5408\u3002\u6587\u6863\u4e2d\u5b58\u50a8\u7684\u6587\u6863\u952e\u7684\u683c\u5f0f\u5fc5\u987b\u662f\u7b26\u5408 UTF-8 \u6807\u51c6\u7684\u5b57\u7b26\u4e32\u3002 \u6dfb\u52a0\u6587\u6863 \u8bed\u6cd5 db_name.collection_name.insert( <document or array of documents>, { writeConcern: <document>, //\u53ef\u9009\u5b57\u6bb5 ordered: <boolean> //\u53ef\u9009\u5b57\u6bb5 } ) \u53c2\u6570 \u53c2\u6570 \u63cf\u8ff0 db_name \u6570\u636e\u5e93\u540d collection_name \u96c6\u5408\u540d document or array of documents \u8868\u793a\u53ef\u8bbe\u7f6e\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u6587\u6863 writeConcern \u53c2\u6570\u8868\u793a\u81ea\u5b9a\u4e49\u5199\u51fa\u9519\u7684\u7ea7\u522b\uff0c\u662f\u4e00\u79cd\u51fa\u9519\u6355\u6349\u673a\u5236 ordered \u662f\u53ef\u9009\u7684\uff0c\u9ed8\u8ba4\u4e3a true \u5728\u63d2\u5165\u65f6\uff0c\u6211\u4eec\u65e2\u53ef\u4ee5\u6307\u5b9a _id \u7684\u503c\uff0c\u5982\u679c\u6307\u5b9a\u4e86\uff0c\u5219\u8be5\u503c\u5fc5\u987b\u552f\u4e00\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u7cfb\u7edf\u9ed8\u8ba4\u751f\u6210\u552f\u4e00\u7684\u503cObjectId\u3002 #\u63d2\u5165\u5355\u6761 user1={ \"name\":\"\u5f20\u4e09\", \"age\":22, 'hobbies':['music','read','dancing'], 'addr':{ 'country':'China', 'city':'BJ' } } db.user.insert(user1) db.user.find() #3\u3001\u63d2\u5165\u591a\u6761 user2={ \"name\":\"\u674e\u56db\", \"age\":23, 'hobbies':['music','read','dancing'], 'addr':{ 'country':'China', 'city':'\u73e0\u6d77' } } user3={ \"name\":\"\u738b\u4e94\", \"age\":20, 'hobbies':['music','read'], 'addr':{ 'country':'China', 'city':'\u5eca\u574a' } } user4={ \"name\":\"\u8d75\u516d\", \"age\":32, 'hobbies':['read','run'], 'addr':{ 'country':'China', 'city':'\u5927\u8fde' } } user5={ \"name\":\"\u6731\u4e03\", \"age\":35, 'hobbies':['run'], 'addr':{ 'country':'China', 'city':'\u9752\u5c9b' } } db.user.insertMany([user2,user3,user4,user5])\u3000 # db.user.find().pretty() \u67e5\u770b\u6587\u6863 (1) \u6bd4\u8f83\u8fd0\u7b97 # SQL\uff1a=,!=,>,<,>=,<= # MongoDB\uff1a{key:value}\u4ee3\u8868\u4ec0\u4e48\u7b49\u4e8e\u4ec0\u4e48,\"$ne\",\"$gt\",\"$lt\",\"gte\",\"lte\",\u5176\u4e2d\"$ne\"\u80fd\u7528\u4e8e\u6240\u6709\u6570\u636e\u7c7b\u578b #1\u3001select * from db.user where name = \"\u5f20\u4e09\"; db.user.find({'name':'\u5f20\u4e09'}) #2\u3001select * from db.user where name != \"alex\"; db.user.find({'name':{\"$ne\":'\u5f20\u4e09'}}) #3\u3001select * from db.user where age > 30; db.user.find({'age':{'$gt':30}}) (2) \u903b\u8f91\u8fd0\u7b97 # SQL\uff1aand\uff0cor\uff0cnot # MongoDB\uff1a\u5b57\u5178\u4e2d\u9017\u53f7\u5206\u9694\u7684\u591a\u4e2a\u6761\u4ef6\u662fand\u5173\u7cfb\uff0c\"$or\"\u7684\u6761\u4ef6\u653e\u5230[]\u5185,\"$not\" db.user.find({'age':{\"$gte\":20,\"$lt\":33}}) db.user.find({\"addr.city\":\"\u9752\u5c9b\",\"age\":{\"$gt\":30}}) db.user.find({ \"$or\":[ {\"addr.city\":\"\u9752\u5c9b\"}, {\"age\":{\"$gt\":30}} ] }) #4\u3001select * from db1.user where id % 2=1; db.user.find({'age':{\"$mod\":[2,1]}}) #5\u3001\u4e0a\u9898\uff0c\u53d6\u53cd db.user.find({'age':{\"$not\":{\"$mod\":[2,1]}}}) (3) \u6210\u5458\u8fd0\u7b97 # SQL\uff1ain\uff0cnot in # MongoDB\uff1a\"$in\",\"$nin\" db.user.find({\"age\":{\"$in\":[20,30,40]}}) db.user.find({\"name\":{\"$nin\":['\u5f20\u4e09','']}}) (4) \u6b63\u5219\u5339\u914d # SQL: regexp \u6b63\u5219 # MongoDB: /\u6b63\u5219\u8868\u8fbe/i db.user.find({'name':/^\u5f20.*/i}) (5) \u53d6\u6307\u5b9a\u5b57\u6bb5 db.user.find({'name':/^\u5f20.*/i},{'_id':0,'name':1,'age':1}) (6) \u67e5\u8be2\u6570\u7ec4 # \u67e5\u770b\u6709dancing\u7231\u597d\u7684\u4eba db.user.find({'hobbies':'dancing'}) # \u67e5\u770b\u65e2\u6709dancing\u7231\u597d\u53c8\u6709music\u7231\u597d\u7684\u4eba db.user.find({ 'hobbies':{ \"$all\":['music','dancing'] } }) (7) \u6392\u5e8f # \u6392\u5e8f:-- 1\u4ee3\u8868\u5347\u5e8f\uff0c -1\u4ee3\u8868\u964d\u5e8f db.user.find().sort({\"name\":1,}) db.user.find().sort({\"age\":-1,'_id':1}) (8) \u5206\u9875 # \u5206\u9875:--limit\u4ee3\u8868\u53d6\u591a\u5c11\u4e2adocument\uff0cskip\u4ee3\u8868\u8df3\u8fc7\u524d\u591a\u5c11\u4e2adocument\u3002 db.user.find().limit(1).skip(2) (9) \u67e5\u8be2\u6570\u91cf # \u83b7\u53d6\u6570\u91cf db.user.count({'age':{\"$gt\":30}}) --\u6216\u8005 db.user.find({'age':{\"$gt\":30}}).count() (10) \u5176\u5b83 # \u67e5\u627e\u6240\u6709 db.user.find() #\u7b49\u540c\u4e8edb.user.find({}) db.user.find().pretty() #3\u3001\u67e5\u627e\u4e00\u4e2a\uff0c\u4e0efind\u7528\u6cd5\u4e00\u81f4\uff0c\u53ea\u662f\u53ea\u53d6\u5339\u914d\u6210\u529f\u7684\u7b2c\u4e00\u4e2a db.user.findOne({\"_id\":{\"$gt\":3}})\u3000 \u66f4\u65b0\u6587\u6863 (1) update\u7684\u8bed\u6cd5 update() \u65b9\u6cd5\u7528\u4e8e\u66f4\u65b0\u5df2\u5b58\u5728\u7684\u6587\u6863\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a db.collection.update( <query>, <update>, { upsert: <boolean>, multi: <boolean>, writeConcern: <document> } ) \u53c2\u6570\u8bf4\u660e\uff1a\u5bf9\u6bd4 update db1.t1 set name='EGON',sex='Male' where name='egon' and age=18 ; query : \u76f8\u5f53\u4e8ewhere\u6761\u4ef6\u3002 update : update\u7684\u5bf9\u8c61\u548c\u4e00\u4e9b\u66f4\u65b0\u7684\u64cd\u4f5c\u7b26\uff08\u5982$,$inc...\u7b49\uff0c\u76f8\u5f53\u4e8eset\u540e\u9762\u7684 upsert : \u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3afalse\uff0c\u4ee3\u8868\u5982\u679c\u4e0d\u5b58\u5728update\u7684\u8bb0\u5f55\u4e0d\u66f4\u65b0\u4e5f\u4e0d\u63d2\u5165\uff0c\u8bbe\u7f6e\u4e3atrue\u4ee3\u8868\u63d2\u5165\u3002 multi : \u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3afalse\uff0c\u4ee3\u8868\u53ea\u66f4\u65b0\u627e\u5230\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u8bbe\u4e3atrue,\u4ee3\u8868\u66f4\u65b0\u627e\u5230\u7684\u5168\u90e8\u8bb0\u5f55\u3002 writeConcern :\u53ef\u9009\uff0c\u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\u3002 \u66f4\u65b0\u64cd\u4f5c\u662f\u4e0d\u53ef\u5206\u5272\u7684\uff1a\u82e5\u4e24\u4e2a\u66f4\u65b0\u540c\u65f6\u53d1\u9001\uff0c\u5148\u5230\u8fbe\u670d\u52a1\u5668\u7684\u5148\u6267\u884c\uff0c\u7136\u540e\u6267\u884c\u53e6\u5916\u4e00\u4e2a\uff0c\u4e0d\u4f1a\u7834\u574f\u6587\u6863\u3002 (1) \u8986\u76d6\u66f4\u65b0 #\u6ce8\u610f\uff1a\u9664\u975e\u662f\u5220\u9664\uff0c\u5426\u5219_id\u662f\u59cb\u7ec8\u4e0d\u4f1a\u53d8\u7684 #1 : db.user.update({'age':20},{\"name\":\"xxx\"}) \u662f\u7528{\"_id\":2,\"name\":\"xxx\"}\u8986\u76d6\u539f\u6765\u7684\u8bb0\u5f55 #2\u3001\u4e00\u79cd\u6700\u7b80\u5355\u7684\u66f4\u65b0\u5c31\u662f\u7528\u4e00\u4e2a\u65b0\u7684\u6587\u6863\u5b8c\u5168\u66ff\u6362\u5339\u914d\u7684\u6587\u6863\u3002\u8fd9\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u5f0f\u8fc1\u79fb\u7684\u60c5\u51b5\u3002\u4f8b\u5982 var obj=db.user.findOne({\"name\":\"\u5f20\u4e09\"}) obj.name=obj.name+'\u5148\u751f' obj.age++ delete obj.hobbies db.user.update({\"nmae\":\"\u5f20\u4e09\"},obj) (2) \u5c40\u90e8\u66f4\u65b0 #\u8bbe\u7f6e\uff1a$set \u901a\u5e38\u6587\u6863\u53ea\u4f1a\u6709\u4e00\u90e8\u5206\u9700\u8981\u66f4\u65b0\u3002\u53ef\u4ee5\u4f7f\u7528\u539f\u5b50\u6027\u7684\u66f4\u65b0\u4fee\u6539\u5668\uff0c\u6307\u5b9a\u5bf9\u6587\u6863\u4e2d\u7684\u67d0\u4e9b\u5b57\u6bb5\u8fdb\u884c\u66f4\u65b0\u3002 \u66f4\u65b0\u4fee\u6539\u5668\u662f\u79cd\u7279\u6b8a\u7684\u952e\uff0c\u7528\u6765\u6307\u5b9a\u590d\u6742\u7684\u66f4\u65b0\u64cd\u4f5c\uff0c\u6bd4\u5982\u4fee\u6539\u3001\u589e\u52a0\u540e\u8005\u5220\u9664 db.user.update({'name':\"xxx\"},{\"$set\":{\"name\":\"apple\",}}) # \u6ca1\u6709\u5339\u914d\u6210\u529f\u5219\u65b0\u589e\u4e00\u6761{\"upsert\":true} db.user.update({'name':\"eric\"},{\"$set\":{\"name\":\"eirc\",\"age\":18}},{\"upsert\":true}) # \u9ed8\u8ba4\u53ea\u6539\u5339\u914d\u6210\u529f\u7684\u7b2c\u4e00\u6761,{\"multi\":\u6539\u591a\u6761} db.user.update({'age':{\"$gt\":20}},{\"$set\":{\"age\":18}}) db.user.update({'age':{\"$gt\":20}},{\"$set\":{\"age\":18}},{\"multi\":true}) # db.user.update({'name':\"\u6731\u4e03\"},{\"$set\":{\"hobbies.1\":\"swimming\"}}) db.user.update({'name':\"\u6731\u4e03\"},{\"$unset\":{\"hobbies\":\"\"}}) (3) \u81ea\u589e\u6216\u81ea\u51cf #\u589e\u52a0\u548c\u51cf\u5c11\uff1a$inc #1\u3001\u6240\u6709\u4eba\u5e74\u9f84\u589e\u52a0\u4e00\u5c81 db.user.update({}, { \"$inc\":{\"age\":1} }, { \"multi\":true } ) #2\u3001\u6240\u6709\u4eba\u5e74\u9f84\u51cf\u5c115\u5c81 db.user.update({}, { \"$inc\":{\"age\":-5} }, { \"multi\":true } ) (4) \u6dfb\u52a0\u5220\u9664\u6570\u7ec4\u5185\u5143\u7d20 #\u6dfb\u52a0\u5220\u9664\u6570\u7ec4\u5185\u5143\u7d20\uff1a$push,$pop,$pull \u5f80\u6570\u7ec4\u5185\u6dfb\u52a0\u5143\u7d20:$push # \u4e3a\u540d\u5b57\u4e3a\u6731\u4e03\u6dfb\u52a0\u4e00\u4e2a\u7231\u597dpingpong db.user.update({\"name\":\"yuanhao\"},{\"$push\":{\"hobbies\":\"pingpong\"}}) # \u6309\u7167\u6761\u4ef6\u5220\u9664\u5143\u7d20,\uff1a\"$pull\" \u628a\u7b26\u5408\u6761\u4ef6\u7684\u7edf\u7edf\u5220\u6389\uff0c\u800c$pop\u53ea\u80fd\u4ece\u4e24\u7aef\u5220 db.user.update({'addr.country':\"China\"},{\"$pull\":{ \"hobbies\":\"read\"} }, { \"multi\":true } ) (5) \u907f\u514d\u91cd\u590d\u6dfb\u52a0 #\u907f\u514d\u6dfb\u52a0\u91cd\u590d\uff1a\"$addToSet\" db.urls.insert({\"_id\":1,\"urls\":[]}) db.urls.update({\"_id\":1},{\"$addToSet\":{\"urls\":'http://www.baidu.com'}}) db.urls.update({\"_id\":1},{\"$addToSet\":{\"urls\":'http://www.baidu.com'}}) db.urls.update({\"_id\":1},{\"$addToSet\":{\"urls\":'http://www.baidu.com'}}) db.urls.update({\"_id\":1},{ \"$addToSet\":{ \"urls\":{ \"$each\":[ 'http://www.baidu.com', 'http://www.baidu.com', 'http://www.xxxx.com' ] } } } ) \u5220\u9664\u6587\u6863 #1\u3001\u5220\u9664\u591a\u4e2a\u4e2d\u7684\u7b2c\u4e00\u4e2a db.user.deleteOne({ 'age': 8 }) #2\u3001\u5220\u9664\u56fd\u5bb6\u4e3aChina\u7684\u5168\u90e8 db.user.deleteMany( {'addr.country': 'China'} ) #3\u3001\u5220\u9664\u5168\u90e8 db.user.deleteMany({}) \u30106\u3011PyMongo \u5728\u8fd9\u91cc\u6211\u4eec\u6765\u770b\u4e00\u4e0bPython3\u4e0bMongoDB\u7684\u5b58\u50a8\u64cd\u4f5c\uff0c\u5728\u672c\u8282\u5f00\u59cb\u4e4b\u524d\u8bf7\u786e\u4fdd\u4f60\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86MongoDB\u5e76\u542f\u52a8\u4e86\u5176\u670d\u52a1\uff0c\u53e6\u5916\u5b89\u88c5\u597d\u4e86Python\u7684PyMongo\u5e93\u3002 \u5b89\u88c5\uff1a pip install pymongo \u6dfb\u52a0\u6587\u6863 import pymongo client = pymongo.MongoClient(host='localhost', port=27017) \"\"\" \u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2aMongoDB\u7684\u8fde\u63a5\u5bf9\u8c61\u4e86\u3002\u53e6\u5916MongoClient\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570host\u8fd8\u53ef\u4ee5\u76f4\u63a5\u4f20MongoDB\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\uff0c\u4ee5mongodb\u5f00\u5934\uff0c \u4f8b\u5982\uff1aclient = MongoClient('mongodb://localhost:27017/')\u53ef\u4ee5\u8fbe\u5230\u540c\u6837\u7684\u8fde\u63a5\u6548\u679c\u3002 \"\"\" # \u6307\u5b9a\u6570\u636e\u5e93 # MongoDB\u4e2d\u8fd8\u5206\u4e3a\u4e00\u4e2a\u4e2a\u6570\u636e\u5e93\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u4e00\u6b65\u5c31\u662f\u6307\u5b9a\u8981\u64cd\u4f5c\u54ea\u4e2a\u6570\u636e\u5e93\uff0c\u5728\u8fd9\u91cc\u6211\u4ee5test\u6570\u636e\u5e93\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\uff0c\u6240\u4ee5\u4e0b\u4e00\u6b65\u6211\u4eec # \u9700\u8981\u5728\u7a0b\u5e8f\u4e2d\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u6570\u636e\u5e93\u3002 db = client.test # \u8c03\u7528client\u7684test\u5c5e\u6027\u5373\u53ef\u8fd4\u56detest\u6570\u636e\u5e93\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u8fd9\u6837\u6765\u6307\u5b9a\uff1a # db = client['test'] # \u3000\u4e24\u79cd\u65b9\u5f0f\u662f\u7b49\u4ef7\u7684\u3002 # \u6307\u5b9a\u96c6\u5408 # MongoDB\u7684\u6bcf\u4e2a\u6570\u636e\u5e93\u53c8\u5305\u542b\u4e86\u8bb8\u591a\u96c6\u5408Collection\uff0c\u4e5f\u5c31\u7c7b\u4f3c\u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u8868\uff0c\u4e0b\u4e00\u6b65\u6211\u4eec\u9700\u8981\u6307\u5b9a\u8981\u64cd\u4f5c\u7684\u96c6\u5408\uff0c # \u5728\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u4e00\u4e2a\u96c6\u5408\u540d\u79f0\u4e3astudents\uff0c\u5b66\u751f\u96c6\u5408\u3002\u8fd8\u662f\u548c\u6307\u5b9a\u6570\u636e\u5e93\u7c7b\u4f3c\uff0c\u6307\u5b9a\u96c6\u5408\u4e5f\u6709\u4e24\u79cd\u65b9\u5f0f\u3002 collection = db.students # collection = db['students'] # \u63d2\u5165\u6570\u636e,\u63a5\u4e0b\u6765\u6211\u4eec\u4fbf\u53ef\u4ee5\u8fdb\u884c\u6570\u636e\u63d2\u5165\u4e86\uff0c\u5bf9\u4e8estudents\u8fd9\u4e2aCollection\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u6761\u5b66\u751f\u6570\u636e\uff0c\u4ee5\u5b57\u5178\u7684\u5f62\u5f0f\u8868\u793a\uff1a student = { 'id': '20230001', 'name': 'yuan', 'age': 20, 'gender': 'male' } # \u5728\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u4e86\u5b66\u751f\u7684\u5b66\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u548c\u6027\u522b\uff0c\u7136\u540e\u63a5\u4e0b\u6765\u76f4\u63a5\u8c03\u7528collection\u7684insert()\u65b9\u6cd5\u5373\u53ef\u63d2\u5165\u6570\u636e\u3002 result = collection.insert_one(student) print(result) student1 = { 'id': '20230002', 'name': 'rain', 'age': 24, 'gender': 'male' } student2 = { 'id': '20230003', 'name': 'eric', 'age': 26, 'gender': 'male' } result = collection.insert_many([student1, student2]) print(result) print(result.inserted_ids) # insert_many()\u65b9\u6cd5\u8fd4\u56de\u7684\u7c7b\u578b\u662fInsertManyResult\uff0c\u8c03\u7528inserted_ids\u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u63d2\u5165\u6570\u636e\u7684_id\u5217\u8868\uff0c\u8fd0\u884c\u7ed3\u679c\uff1a # <pymongo.results.InsertManyResult object at 0x101dea558> # [ObjectId('5932abf415c2607083d3b2ac'), ObjectId('5932abf415c2607083d3b2ad')] \u67e5\u8be2\u6587\u6863 import pymongo from bson.objectid import ObjectId client = pymongo.MongoClient(host='localhost', port=27017) db = client.test collection = db.students # \u67e5\u8be2\uff0c\u63d2\u5165\u6570\u636e\u540e\u6211\u4eec\u53ef\u4ee5\u5229\u7528find_one()\u6216find()\u65b9\u6cd5\u8fdb\u884c\u67e5\u8be2\uff0cfind_one()\u67e5\u8be2\u5f97\u5230\u662f\u5355\u4e2a\u7ed3\u679c\uff0cfind()\u5219\u8fd4\u56de\u591a\u4e2a\u7ed3\u679c\u3002 result = collection.find_one({'name': 'yuan'}) print(type(result)) print(result) # \u5728\u8fd9\u91cc\u6211\u4eec\u67e5\u8be2name\u4e3ayuan\u7684\u6570\u636e\uff0c\u5b83\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u5b57\u5178\u7c7b\u578b\uff0c\u8fd0\u884c\u7ed3\u679c\uff1a <class'dict'> # {'_id': ObjectId('5932a80115c2606a59e8a049'), 'id': '20170202', 'name': 'Mike', 'age': 21, 'gender': 'male'} # \u53ef\u4ee5\u53d1\u73b0\u5b83\u591a\u4e86\u4e00\u4e2a_id\u5c5e\u6027\uff0c\u8fd9\u5c31\u662fMongoDB\u5728\u63d2\u5165\u7684\u8fc7\u7a0b\u4e2d\u81ea\u52a8\u6dfb\u52a0\u7684\u3002 # \u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6839\u636eObjectId\u6765\u67e5\u8be2\uff0c\u8fd9\u91cc\u9700\u8981\u4f7f\u7528bson\u5e93\u91cc\u9762\u7684ObjectId\u3002 result = collection.find_one({'_id': ObjectId('64255f6012345f5a41fb4f56')}) print(result) # \u5176\u67e5\u8be2\u7ed3\u679c\u4f9d\u7136\u662f\u5b57\u5178\u7c7b\u578b\uff0c\u8fd0\u884c\u7ed3\u679c\uff1a # {' ObjectId('593278c115c2602667ec6bae'), 'id': '20170101', 'name': 'Jordan', 'age': 20, 'gender': 'male'} # \u5f53\u7136\u5982\u679c\u67e5\u8be2_id':\u7ed3\u679c\u4e0d\u5b58\u5728\u5219\u4f1a\u8fd4\u56deNone\u3002 # \u5bf9\u4e8e\u591a\u6761\u6570\u636e\u7684\u67e5\u8be2\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528find()\u65b9\u6cd5\uff0c\u4f8b\u5982\u5728\u8fd9\u91cc\u67e5\u627e\u5e74\u9f84\u4e3a20\u7684\u6570\u636e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a results = collection.find({'age': 20}) print(results, type(result)) for result in results: print(result) # \u5982\u679c\u8981\u67e5\u8be2\u5e74\u9f84\u5927\u4e8e20\u7684\u6570\u636e\uff0c\u5219\u5199\u6cd5\u5982\u4e0b\uff1a results = collection.find({'age': {'$gt': 20}}) # \u5728\u8fd9\u91cc\u67e5\u8be2\u7684\u6761\u4ef6\u952e\u503c\u5df2\u7ecf\u4e0d\u662f\u5355\u7eaf\u7684\u6570\u5b57\u4e86\uff0c\u800c\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u5176\u952e\u540d\u4e3a\u6bd4\u8f83\u7b26\u53f7$gt\uff0c\u610f\u601d\u662f\u5927\u4e8e\uff0c\u952e\u503c\u4e3a20\uff0c\u8fd9\u6837\u4fbf\u53ef\u4ee5\u67e5\u8be2\u51fa\u6240\u6709 # \u5e74\u9f84\u5927\u4e8e20\u7684\u6570\u636e\u3002 # \u5728\u8fd9\u91cc\u5c06\u6bd4\u8f83\u7b26\u53f7\u5f52\u7eb3\u5982\u4e0b\u8868\uff1a \"\"\" \u7b26\u53f7\u542b\u4e49\u793a\u4f8b $lt\u5c0f\u4e8e{'age': {'$lt': 20}} $gt\u5927\u4e8e{'age': {'$gt': 20}} $lte\u5c0f\u4e8e\u7b49\u4e8e{'age': {'$lte': 20}} $gte\u5927\u4e8e\u7b49\u4e8e{'age': {'$gte': 20}} $ne\u4e0d\u7b49\u4e8e{'age': {'$ne': 20}} $in\u5728\u8303\u56f4\u5185{'age': {'$in': [20, 23]}} $nin\u4e0d\u5728\u8303\u56f4\u5185{'age': {'$nin': [20, 23]}} \"\"\" # \u53e6\u5916\u8fd8\u53ef\u4ee5\u8fdb\u884c\u6b63\u5219\u5339\u914d\u67e5\u8be2\uff0c\u4f8b\u5982\u67e5\u8be2\u540d\u5b57\u4ee5M\u5f00\u5934\u7684\u5b66\u751f\u6570\u636e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a results = collection.find({'name': {'$regex': '^M.*'}}) # \u5728\u8fd9\u91cc\u4f7f\u7528\u4e86$regex\u6765\u6307\u5b9a\u6b63\u5219\u5339\u914d\uff0c^M.*\u4ee3\u8868\u4ee5M\u5f00\u5934\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u67e5\u8be2\u6240\u6709\u7b26\u5408\u8be5\u6b63\u5219\u7684\u7ed3\u679c\u3002 print(results) # \u5728\u8fd9\u91cc\u5c06\u4e00\u4e9b\u529f\u80fd\u7b26\u53f7\u518d\u5f52\u7c7b\u5982\u4e0b\uff1a \"\"\" \u7b26\u53f7\u542b\u4e49\u793a\u4f8b\u793a\u4f8b\u542b\u4e49 $regex\u5339\u914d\u6b63\u5219{'name': {'$regex': '^M.*'}}name\u4ee5M\u5f00\u5934 $exists\u5c5e\u6027\u662f\u5426\u5b58\u5728{'name': {'$exists': True}}name\u5c5e\u6027\u5b58\u5728 $mod\u6570\u5b57\u6a21\u64cd\u4f5c{'age': {'$mod': [2, 0]}}\u5e74\u9f84\u6a212\u4f590 $where\u9ad8\u7ea7\u6761\u4ef6\u67e5\u8be2{'$where': 'obj.fans_count == obj.follows_count'}\u81ea\u8eab\u7c89\u4e1d\u6570\u7b49\u4e8e\u5173\u6ce8\u6570 \"\"\" # \u8fd9\u4e9b\u64cd\u4f5c\u7684\u66f4\u8be6\u7ec6\u7528\u6cd5\u5728\u53ef\u4ee5\u5728MongoDB\u5b98\u65b9\u6587\u6863\u627e\u5230\uff1a # https://docs.mongodb.com/manual/reference/operator/query/ # \u8ba1\u6570 # \u8981\u7edf\u8ba1\u67e5\u8be2\u7ed3\u679c\u6709\u591a\u5c11\u6761\u6570\u636e\uff0c\u53ef\u4ee5\u8c03\u7528count()\u65b9\u6cd5\uff0c\u5982\u7edf\u8ba1\u6240\u6709\u6570\u636e\u6761\u6570\uff1a count = collection.count_documents({}) print(count) # \u6216\u8005\u7edf\u8ba1\u7b26\u5408\u67d0\u4e2a\u6761\u4ef6\u7684\u6570\u636e\uff1a count = collection.count_documents({'age': 20}) print(count) # \u6392\u5e8f # \u53ef\u4ee5\u8c03\u7528sort\u65b9\u6cd5\uff0c\u4f20\u5165\u6392\u5e8f\u7684\u5b57\u6bb5\u53ca\u5347\u964d\u5e8f\u6807\u5fd7\u5373\u53ef\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a results = collection.find().sort('name', pymongo.ASCENDING) print([result['name'] for result in results]) # \u504f\u79fb,\u53ef\u80fd\u60f3\u53ea\u53d6\u67d0\u51e0\u4e2a\u5143\u7d20\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u5229\u7528skip()\u65b9\u6cd5\u504f\u79fb\u51e0\u4e2a\u4f4d\u7f6e\uff0c\u6bd4\u5982\u504f\u79fb2\uff0c\u5c31\u5ffd\u7565\u524d2\u4e2a\u5143\u7d20\uff0c\u5f97\u5230\u7b2c\u4e09\u4e2a\u53ca\u4ee5\u540e\u7684\u5143\u7d20\u3002 results = collection.find().sort('name', pymongo.ASCENDING).skip(2).limit(2) print([result['name'] for result in results]) # \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6570\u636e\u5e93\u6570\u91cf\u975e\u5e38\u5e9e\u5927\u7684\u65f6\u5019\uff0c\u5982\u5343\u4e07\u3001\u4ebf\u7ea7\u522b\uff0c\u6700\u597d\u4e0d\u8981\u4f7f\u7528\u5927\u7684\u504f\u79fb\u91cf\u6765\u67e5\u8be2\u6570\u636e\uff0c\u5f88\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5185\u5b58\u6ea2\u51fa\uff0c # \u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3cfind({'_id': {'$gt': ObjectId('593278c815c2602678bb2b8d')}}) \u8fd9\u6837\u7684\u65b9\u6cd5\u6765\u67e5\u8be2\uff0c\u8bb0\u5f55\u597d\u4e0a\u6b21\u67e5\u8be2\u7684_id\u3002 \u66f4\u65b0\u8bb0\u5f55 import pymongo client = pymongo.MongoClient(host='localhost', port=27017) db = client.test collection = db.students # \u66f4\u65b0 # condition = {'name': 'yuan'} # student = collection.find_one(condition) # student['age'] = 100 # result = collection.update_one(condition, {'$set': student}) # print(result) # print(result.matched_count, result.modified_count) # print(collection.find_one({\"name\": \"yuan\"})) # \u5728\u8fd9\u91cc\u8c03\u7528\u4e86update_one\u65b9\u6cd5\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u80fd\u518d\u76f4\u63a5\u4f20\u5165\u4fee\u6539\u540e\u7684\u5b57\u5178\uff0c\u800c\u662f\u9700\u8981\u4f7f\u7528{'$set': student}\u8fd9\u6837\u7684\u5f62\u5f0f\uff0c # \u5176\u8fd4\u56de\u7ed3\u679c\u662fUpdateResult\u7c7b\u578b\uff0c\u7136\u540e\u8c03\u7528matched_count\u548cmodified_count\u5c5e\u6027\u5206\u522b\u53ef\u4ee5\u83b7\u5f97\u5339\u914d\u7684\u6570\u636e\u6761\u6570\u548c\u5f71\u54cd\u7684\u6570\u636e\u6761\u6570\u3002 # \u8fd0\u884c\u7ed3\u679c\uff1a # # <pymongo.results.UpdateResult object at 0x10d17b678> # 1 0 # \u6211\u4eec\u518d\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a # print(list(collection.find({\"age\": {\"$gt\": 20}}))) # condition = {'age': {'$gt': 20}} # result = collection.update_one(condition, {'$inc': {'age': 1}}) # print(list(collection.find({\"age\": {\"$gt\": 20}}))) # \u5728\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u67e5\u8be2\u6761\u4ef6\u4e3a\u5e74\u9f84\u5927\u4e8e20\uff0c\u7136\u540e\u66f4\u65b0\u6761\u4ef6\u4e3a{'$inc': {'age': 1}}\uff0c\u6267\u884c\u4e4b\u540e\u4f1a\u8bb2\u7b2c\u4e00\u6761\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u5e74\u9f84\u52a01\u3002 # \u5982\u679c\u8c03\u7528update_many()\u65b9\u6cd5\uff0c\u5219\u4f1a\u5c06\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u90fd\u66f4\u65b0\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a # condition = {'age': {'$gt': 20}} # result = collection.update_many(condition, {'$inc': {'age': 1}}) # print(result) # print(result.matched_count, result.modified_count) # \u8fd9\u65f6\u5019\u5339\u914d\u6761\u6570\u5c31\u4e0d\u518d\u4e3a1\u6761\u4e86\uff0c\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a # # <pymongo.results.UpdateResult object at 0x10c6384c8> # 3 3 # \u53ef\u4ee5\u770b\u5230\u8fd9\u65f6\u6240\u6709\u5339\u914d\u5230\u7684\u6570\u636e\u90fd\u4f1a\u88ab\u66f4\u65b0\u3002 # print(list(collection.find({\"age\": {\"$gt\": 20}}))) \u5220\u9664\u6587\u6863 import pymongo client = pymongo.MongoClient(host='localhost', port=27017) db = client.test collection = db.students # \u5220\u9664 # delete_one()\u548cdelete_many()\u65b9\u6cd5\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a result = collection.delete_one({'name': 'yuan'}) print(result) print(result.deleted_count) result = collection.delete_many({'age': {'$lt': 25}}) print(result.deleted_count) \u8be6\u7ec6\u7528\u6cd5\u53ef\u4ee5\u53c2\u89c1\u5b98\u65b9\u6587\u6863\uff1ahttp://api.mongodb.com/python/current/api/pymongo/collection.html \u53e6\u5916\u8fd8\u6709\u5bf9\u6570\u636e\u5e93\u3001\u96c6\u5408\u672c\u8eab\u4ee5\u53ca\u5176\u4ed6\u7684\u4e00\u4e9b\u64cd\u4f5c\uff0c\u5728\u8fd9\u4e0d\u518d\u4e00\u4e00\u8bb2\u89e3\uff0c\u53ef\u4ee5\u53c2\u89c1 \u5b98\u65b9\u6587\u6863\uff1ahttp://api.mongodb.com/python/current/api/pymongo/ \u7b2c\u516b\u7ae0. scrapy\u6846\u67b6 \u30101\u3011 scrapy\u6846\u67b6\u7b80\u4ecb \uff081\uff09\u57fa\u672c\u4ecb\u7ecd Scrapy\u4e00\u4e2a\u5f00\u6e90\u548c\u534f\u4f5c\u7684\u6846\u67b6\uff0c\u5176\u6700\u521d\u662f\u4e3a\u4e86\u9875\u9762\u6293\u53d6 (\u66f4\u786e\u5207\u6765\u8bf4, \u7f51\u7edc\u6293\u53d6 )\u6240\u8bbe\u8ba1\u7684\uff0c\u4f7f\u7528\u5b83\u53ef\u4ee5\u4ee5\u5feb\u901f\u3001\u7b80\u5355\u3001\u53ef\u6269\u5c55\u7684\u65b9\u5f0f\u4ece\u7f51\u7ad9\u4e2d\u63d0\u53d6\u6240\u9700\u7684\u6570\u636e\u3002\u4f46\u76ee\u524dScrapy\u7684\u7528\u9014\u5341\u5206\u5e7f\u6cdb\uff0c\u53ef\u7528\u4e8e\u5982\u6570\u636e\u6316\u6398\u3001\u76d1\u6d4b\u548c\u81ea\u52a8\u5316\u6d4b\u8bd5\u7b49\u9886\u57df\uff0c\u4e5f\u53ef\u4ee5\u5e94\u7528\u5728\u83b7\u53d6API\u6240\u8fd4\u56de\u7684\u6570\u636e(\u4f8b\u5982 Amazon Associates Web Services ) \u6216\u8005\u901a\u7528\u7684\u7f51\u7edc\u722c\u866b\u3002Scrapy \u662f\u57fa\u4e8etwisted\u6846\u67b6\u5f00\u53d1\u800c\u6765\uff0ctwisted\u662f\u4e00\u4e2a\u6d41\u884c\u7684\u4e8b\u4ef6\u9a71\u52a8\u7684python\u7f51\u7edc\u6846\u67b6\u3002\u56e0\u6b64Scrapy\u4f7f\u7528\u4e86\u4e00\u79cd\u975e\u963b\u585e\uff08\u53c8\u540d\u5f02\u6b65\uff09\u7684\u4ee3\u7801\u6765\u5b9e\u73b0\u5e76\u53d1\u3002 \u6574\u4f53\u67b6\u6784\u5927\u81f4\u5982\u4e0b\uff1a Components\uff1a 1\u3001\u5f15\u64ce(EGINE) \u5f15\u64ce\u8d1f\u8d23\u63a7\u5236\u7cfb\u7edf\u6240\u6709\u7ec4\u4ef6\u4e4b\u95f4\u7684\u6570\u636e\u6d41\uff0c\u5e76\u5728\u67d0\u4e9b\u52a8\u4f5c\u53d1\u751f\u65f6\u89e6\u53d1\u4e8b\u4ef6\u3002 2\u3001\u8c03\u5ea6\u5668(SCHEDULER) \u7528\u6765\u63a5\u53d7\u5f15\u64ce\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42, \u538b\u5165\u961f\u5217\u4e2d, \u5e76\u5728\u5f15\u64ce\u518d\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u8fd4\u56de. \u53ef\u4ee5\u60f3\u50cf\u6210\u4e00\u4e2aURL\u7684\u4f18\u5148\u7ea7\u961f\u5217, \u7531\u5b83\u6765\u51b3\u5b9a\u4e0b\u4e00\u4e2a\u8981\u6293\u53d6\u7684\u7f51\u5740\u662f\u4ec0\u4e48, \u540c\u65f6\u53bb\u9664\u91cd\u590d\u7684\u7f51\u5740 3\u3001\u4e0b\u8f7d\u5668(DOWLOADER) \u7528\u4e8e\u4e0b\u8f7d\u7f51\u9875\u5185\u5bb9, \u5e76\u5c06\u7f51\u9875\u5185\u5bb9\u8fd4\u56de\u7ed9EGINE\uff0c\u4e0b\u8f7d\u5668\u662f\u5efa\u7acb\u5728twisted\u8fd9\u4e2a\u9ad8\u6548\u7684\u5f02\u6b65\u6a21\u578b\u4e0a\u7684 4\u3001\u722c\u866b(SPIDERS) SPIDERS\u662f\u5f00\u53d1\u4eba\u5458\u81ea\u5b9a\u4e49\u7684\u7c7b\uff0c\u7528\u6765\u89e3\u6790responses\uff0c\u5e76\u4e14\u63d0\u53d6items\uff0c\u6216\u8005\u53d1\u9001\u65b0\u7684\u8bf7\u6c42 5\u3001\u9879\u76ee\u7ba1\u9053(ITEM PIPLINES) \u5728items\u88ab\u63d0\u53d6\u540e\u8d1f\u8d23\u5904\u7406\u5b83\u4eec\uff0c\u4e3b\u8981\u5305\u62ec\u6e05\u7406\u3001\u9a8c\u8bc1\u3001\u6301\u4e45\u5316\uff08\u6bd4\u5982\u5b58\u5230\u6570\u636e\u5e93\uff09\u7b49\u64cd\u4f5c \u4e0b\u8f7d\u5668\u4e2d\u95f4\u4ef6(Downloader Middlewares)\u4f4d\u4e8eScrapy\u5f15\u64ce\u548c\u4e0b\u8f7d\u5668\u4e4b\u95f4\uff0c\u4e3b\u8981\u7528\u6765\u5904\u7406\u4eceEGINE\u4f20\u5230DOWLOADER\u7684\u8bf7\u6c42request\uff0c\u5df2\u7ecf\u4eceDOWNLOADER\u4f20\u5230EGINE\u7684\u54cd\u5e94response\uff0c 6\u3001\u722c\u866b\u4e2d\u95f4\u4ef6(Spider Middlewares) \u4f4d\u4e8eEGINE\u548cSPIDERS\u4e4b\u95f4\uff0c\u4e3b\u8981\u5de5\u4f5c\u662f\u5904\u7406SPIDERS\u7684\u8f93\u5165\uff08\u5373responses\uff09\u548c\u8f93\u51fa\uff08\u5373requests\uff09 \u5b98\u7f51\u94fe\u63a5 \uff082\uff09\u5b89\u88c5 #Windows\u5e73\u53f0 1\u3001pip3 install wheel #\u5b89\u88c5\u540e\uff0c\u4fbf\u652f\u6301\u901a\u8fc7wheel\u6587\u4ef6\u5b89\u88c5\u8f6f\u4ef6\uff0cwheel\u6587\u4ef6\u5b98\u7f51\uff1ahttps://www.lfd.uci.edu/~gohlke/pythonlibs 3\u3001pip3 install lxml 4\u3001pip3 install pyopenssl 5\u3001\u4e0b\u8f7d\u5e76\u5b89\u88c5pywin32\uff1ahttps://sourceforge.net/projects/pywin32/files/pywin32/ 6\u3001\u4e0b\u8f7dtwisted\u7684wheel\u6587\u4ef6\uff1ahttp://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted 7\u3001\u6267\u884cpip3 install \u4e0b\u8f7d\u76ee\u5f55\\Twisted-17.9.0-cp36-cp36m-win_amd64.whl 8\u3001pip3 install scrapy #Linux\u5e73\u53f0 1\u3001pip3 install scrapy \uff083\uff09\u547d\u4ee4\u884c\u5de5\u5177 # 1 \u67e5\u770b\u5e2e\u52a9 scrapy -h scrapy <command> -h # 2 \u6709\u4e24\u79cd\u547d\u4ee4\uff1a\u5176\u4e2dProject-only\u5fc5\u987b\u5207\u5230\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u624d\u80fd\u6267\u884c\uff0c\u800cGlobal\u7684\u547d\u4ee4\u5219\u4e0d\u9700\u8981 Global commands: startproject #\u521b\u5efa\u9879\u76ee genspider #\u521b\u5efa\u722c\u866b\u7a0b\u5e8f settings #\u5982\u679c\u662f\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\uff0c\u5219\u5f97\u5230\u7684\u662f\u8be5\u9879\u76ee\u7684\u914d\u7f6e runspider #\u8fd0\u884c\u4e00\u4e2a\u72ec\u7acb\u7684python\u6587\u4ef6\uff0c\u4e0d\u5fc5\u521b\u5efa\u9879\u76ee shell #scrapy shell url\u5730\u5740 \u5728\u4ea4\u4e92\u5f0f\u8c03\u8bd5\uff0c\u5982\u9009\u62e9\u5668\u89c4\u5219\u6b63\u786e\u4e0e\u5426 fetch #\u72ec\u7acb\u4e8e\u7a0b\u5355\u7eaf\u5730\u722c\u53d6\u4e00\u4e2a\u9875\u9762\uff0c\u53ef\u4ee5\u62ff\u5230\u8bf7\u6c42\u5934 view #\u4e0b\u8f7d\u5b8c\u6bd5\u540e\u76f4\u63a5\u5f39\u51fa\u6d4f\u89c8\u5668\uff0c\u4ee5\u6b64\u53ef\u4ee5\u5206\u8fa8\u51fa\u54ea\u4e9b\u6570\u636e\u662fajax\u8bf7\u6c42 version #scrapy version \u67e5\u770bscrapy\u7684\u7248\u672c\uff0cscrapy version -v\u67e5\u770bscrapy\u4f9d\u8d56\u5e93\u7684\u7248\u672c Project-only commands: crawl #\u8fd0\u884c\u722c\u866b\uff0c\u5fc5\u987b\u521b\u5efa\u9879\u76ee\u624d\u884c\uff0c\u786e\u4fdd\u914d\u7f6e\u6587\u4ef6\u4e2dROBOTSTXT_OBEY = False check #\u68c0\u6d4b\u9879\u76ee\u4e2d\u6709\u65e0\u8bed\u6cd5\u9519\u8bef list #\u5217\u51fa\u9879\u76ee\u4e2d\u6240\u5305\u542b\u7684\u722c\u866b\u540d parse #scrapy parse url\u5730\u5740 --callback \u56de\u8c03\u51fd\u6570 #\u4ee5\u6b64\u53ef\u4ee5\u9a8c\u8bc1\u6211\u4eec\u7684\u56de\u8c03\u51fd\u6570\u662f\u5426\u6b63\u786e bench #scrapy bentch\u538b\u529b\u6d4b\u8bd5 # 3 \u5b98\u7f51\u94fe\u63a5 https://docs.scrapy.org/en/latest/topics/commands.html \uff084\uff09\u521b\u5efa\u9879\u76ee \u521b\u5efa\u9879\u76ee\u547d\u4ee4\uff1a scrapy startproject NewsPro cd NewsPro scrapy genspider wangyi news.163.com scrapy genspider huanqiu huanqiu.com \u76ee\u5f55\uff1a \u251c\u2500\u2500 NewsPro \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 items.py \u2502 \u251c\u2500\u2500 middlewares.py \u2502 \u251c\u2500\u2500 pipelines.py \u2502 \u251c\u2500\u2500 settings.py \u2502 \u2514\u2500\u2500 spiders \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 huanqiu.py \u2502 \u2514\u2500\u2500 wangyi.py \u2514\u2500\u2500 scrapy.cfg \u6587\u4ef6\u8bf4\u660e\uff1a scrapy.cfg \u9879\u76ee\u7684\u4e3b\u914d\u7f6e\u4fe1\u606f\uff0c\u7528\u6765\u90e8\u7f72scrapy\u65f6\u4f7f\u7528\uff0c\u722c\u866b\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\u5728settings.py\u6587\u4ef6\u4e2d\u3002 items.py \u8bbe\u7f6e\u6570\u636e\u5b58\u50a8\u6a21\u677f\uff0c\u7528\u4e8e\u7ed3\u6784\u5316\u6570\u636e\uff0c\u5982\uff1aDjango\u7684Model pipelines \u6570\u636e\u5904\u7406\u884c\u4e3a\uff0c\u5982\uff1a\u4e00\u822c\u7ed3\u6784\u5316\u7684\u6570\u636e\u6301\u4e45\u5316 settings.py \u914d\u7f6e\u6587\u4ef6\uff0c\u5982\uff1a\u9012\u5f52\u7684\u5c42\u6570\u3001\u5e76\u53d1\u6570\uff0c\u5ef6\u8fdf\u4e0b\u8f7d\u7b49\u3002\u5f3a\u8c03:\u914d\u7f6e\u6587\u4ef6\u7684\u9009\u9879\u5fc5\u987b\u5927\u5199\u5426\u5219\u89c6\u4e3a\u65e0\u6548\uff0c\u6b63\u786e\u5199\u6cd5USER_AGENT='xxxx' spiders \u722c\u866b\u76ee\u5f55\uff0c\u5982\uff1a\u521b\u5efa\u6587\u4ef6\uff0c\u7f16\u5199\u722c\u866b\u89c4\u5219 wangyi.py import scrapy class WangyiSpider(scrapy.Spider): name = \"wangyi\" allowed_domains = [\"news.163.com\"] start_urls = [\"http://news.163.com/\"] def parse(self, response): print(\"response:::\", response.text) \u542f\u52a8\u722c\u866b\u7a0b\u5e8f\uff1a scrapy crawl wangyi \u6bcf\u4e00\u6b21\u7ec8\u7aef\u542f\u52a8\u548c\u9ebb\u70e6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 \u9879\u76ee\u6839\u76ee\u5f55 \u4e0b\u65b0\u5efa\u542f\u52a8\u6587\u4ef6\uff0cbin.py: from scrapy.cmdline import execute execute(['scrapy', 'crawl', 'wangyi', \"--nolog\"]) \uff085\uff09settings \u914d\u7f6e\u6587\u4ef6 1. \u4e3a\u4ec0\u4e48\u9879\u76ee\u4e2d\u9700\u8981\u914d\u7f6e\u6587\u4ef6 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b58\u653e\u4e00\u4e9b\u516c\u5171\u53d8\u91cf\uff0c\u5728\u540e\u7eed\u7684\u9879\u76ee\u4e2d\u65b9\u4fbf\u4fee\u6539\uff0c\u5982\uff1a\u672c\u5730\u6d4b\u8bd5\u6570\u636e\u5e93\u548c\u90e8\u7f72\u670d\u52a1\u5668\u7684\u6570\u636e\u5e93\u4e0d\u4e00\u81f4 2. \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\u4f7f\u7528\u65b9\u6cd5 \u53d8\u91cf\u540d\u4e00\u822c\u5168\u90e8\u5927\u5199 \u5bfc\u5165\u5373\u53ef\u4f7f\u7528 3. settings.py\u4e2d\u7684\u91cd\u70b9\u5b57\u6bb5\u548c\u542b\u4e49 - USER_AGENT \u8bbe\u7f6eua - ROBOTSTXT_OBEY \u662f\u5426\u9075\u5b88robots\u534f\u8bae\uff0c\u9ed8\u8ba4\u662f\u9075\u5b88 - CONCURRENT_REQUESTS \u8bbe\u7f6e\u5e76\u53d1\u8bf7\u6c42\u7684\u6570\u91cf\uff0c\u9ed8\u8ba4\u662f16\u4e2a - DOWNLOAD_DELAY \u4e0b\u8f7d\u5ef6\u8fdf\uff0c\u9ed8\u8ba4\u65e0\u5ef6\u8fdf \uff08\u4e0b\u8f7d\u5668\u5728\u4ece\u540c\u4e00\u7f51\u7ad9\u4e0b\u8f7d\u8fde\u7eed\u9875\u9762\u4e4b\u524d\u5e94\u7b49\u5f85\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u9650\u5236\u722c\u884c\u901f\u5ea6\uff0c\u4ee5\u907f\u514d\u5bf9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u5f71\u54cd\uff09 - COOKIES_ENABLED \u662f\u5426\u5f00\u542fcookie\uff0c\u5373\u6bcf\u6b21\u8bf7\u6c42\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\u7684 - DEFAULT_REQUEST_HEADERS \u8bbe\u7f6e\u9ed8\u8ba4\u8bf7\u6c42\u5934\uff0c\u8fd9\u91cc\u52a0\u5165\u4e86USER_AGENT\u5c06\u4e0d\u8d77\u4f5c\u7528 - SPIDER_MIDDLEWARES \u722c\u866b\u4e2d\u95f4\u4ef6\uff0c\u8bbe\u7f6e\u8fc7\u7a0b\u548c\u7ba1\u9053\u76f8\u540c - DOWNLOADER_MIDDLEWARES \u4e0b\u8f7d\u4e2d\u95f4\u4ef6 - LOG_LEVEL \u63a7\u5236\u7ec8\u7aef\u8f93\u51fa\u4fe1\u606f\u7684log\u7ea7\u522b\uff0c\u7ec8\u7aef\u9ed8\u8ba4\u663e\u793a\u7684\u662fdebug\u7ea7\u522b\u7684log\u4fe1\u606f - LOG_LEVEL = \"WARNING\" - CRITICAL \u4e25\u91cd - ERROR \u9519\u8bef - WARNING \u8b66\u544a - INFO \u6d88\u606f - DEBUG \u8c03\u8bd5 - LOG_FILE \u8bbe\u7f6elog\u65e5\u5fd7\u6587\u4ef6\u7684\u4fdd\u5b58\u8def\u5f84\uff0c\u5982\u679c\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u7ec8\u7aef\u5c06\u4e0d\u518d\u663e\u793a\u4fe1\u606f LOG_FILE = \"./test.log\" - FEED_EXPORT_ENCODING='UTF-8' \u4fdd\u5b58\u7684\u662funicode\u7f16\u7801\u5b57\u7b26\u8f6c\u4e3autf8 \u30102\u3011 Spider\u7c7b Spiders\u662f\u5b9a\u4e49\u5982\u4f55\u6293\u53d6\u67d0\u4e2a\u7ad9\u70b9\uff08\u6216\u4e00\u7ec4\u7ad9\u70b9\uff09\u7684\u7c7b\uff0c\u5305\u62ec\u5982\u4f55\u6267\u884c\u722c\u884c\uff08\u5373\u8ddf\u968f\u94fe\u63a5\uff09\u4ee5\u53ca\u5982\u4f55\u4ece\u5176\u9875\u9762\u4e2d\u63d0\u53d6\u7ed3\u6784\u5316\u6570\u636e\uff08\u5373\u6293\u53d6\u9879\u76ee\uff09\u3002\u6362\u53e5\u8bdd\u8bf4\uff0cSpiders\u662f\u60a8\u4e3a\u7279\u5b9a\u7ad9\u70b9\uff08\u6216\u8005\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e00\u7ec4\u7ad9\u70b9\uff09\u722c\u7f51\u548c\u89e3\u6790\u9875\u9762\u5b9a\u4e49\u81ea\u5b9a\u4e49\u884c\u4e3a\u7684\u5730\u65b9\u3002\u3000 1\u3001 \u751f\u6210\u521d\u59cb\u7684Requests\u6765\u722c\u53d6\u7b2c\u4e00\u4e2aURLS\uff0c\u5e76\u4e14\u6807\u8bc6\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 \u7b2c\u4e00\u4e2a\u8bf7\u6c42\u5b9a\u4e49\u5728start_requests()\u65b9\u6cd5\u5185\u9ed8\u8ba4\u4ecestart_urls\u5217\u8868\u4e2d\u83b7\u5f97url\u5730\u5740\u6765\u751f\u6210Request\u8bf7\u6c42\uff0c \u9ed8\u8ba4\u7684\u56de\u8c03\u51fd\u6570\u662fparse\u65b9\u6cd5\u3002\u56de\u8c03\u51fd\u6570\u5728\u4e0b\u8f7d\u5b8c\u6210\u8fd4\u56deresponse\u65f6\u81ea\u52a8\u89e6\u53d1 2\u3001 \u5728\u56de\u8c03\u51fd\u6570\u4e2d\uff0c\u89e3\u6790response\u5e76\u4e14\u8fd4\u56de\u503c \u8fd4\u56de\u503c\u53ef\u4ee54\u79cd\uff1a \u5305\u542b\u89e3\u6790\u6570\u636e\u7684\u5b57\u5178 Item\u5bf9\u8c61 \u65b0\u7684Request\u5bf9\u8c61\uff08\u65b0\u7684Requests\u4e5f\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff09 \u6216\u8005\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5305\u542bItems\u6216Request\uff09 3\u3001\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u89e3\u6790\u9875\u9762\u5185\u5bb9 \u901a\u5e38\u4f7f\u7528Scrapy\u81ea\u5e26\u7684Selectors\uff0c\u4f46\u5f88\u660e\u663e\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528Beutifulsoup\uff0clxml\u6216\u5176\u4ed6\u4f60\u7231\u7528\u5565\u7528\u5565\u3002 4\u3001\u6700\u540e\uff0c\u9488\u5bf9\u8fd4\u56de\u7684Items\u5bf9\u8c61\u5c06\u4f1a\u88ab\u6301\u4e45\u5316\u5230\u6570\u636e\u5e93 \u901a\u8fc7Item Pipeline\u7ec4\u4ef6\u5b58\u5230\u6570\u636e\u5e93\uff1ahttps://docs.scrapy.org/en/latest/topics/item-pipeline.html\uff09 \u6216\u8005\u5bfc\u51fa\u5230\u4e0d\u540c\u7684\u6587\u4ef6\uff08\u901a\u8fc7Feed exports\uff1ahttps://docs.scrapy.org/en/latest/topics/feed-exports.html\uff09 \u5e94\u7528\uff08\u7f51\u6613\u65b0\u95fb\uff09 import scrapy class WangyiSpider(scrapy.Spider): name = 'wangyi' # allowed_domains = ['www.xxx.com'] start_urls = ['https://news.163.com/'] cate_list = [] # \u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url cate_num_map = { \"{{__i == 0}}\": \"\u65b0\u95fb\", \"{{__i == 1}}\": \"\u5317\u4eac\", \"{{__i == 2}}\": \"\u56fd\u5185\", \"{{__i == 3}}\": \"\u56fd\u9645\", \"{{__i == 4}}\": \"\u72ec\u5bb6\", } # \u6570\u636e\u89e3\u6790\uff1a\u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url def parse(self, response): with open(\"news163.html\", \"w\") as f: f.write(response.text) cate_num_list = response.xpath('//*[contains(@ne-if,\"{{\")]/@ne-if').extract() print(\"cate_num_list\", cate_num_list) for cate_num in cate_num_list: print(\"cate_num\", cate_num) if cate_num in self.cate_num_map: cate_title = self.cate_num_map.get(cate_num) news_list = response.xpath(f'//*[contains(@ne-if,\"{cate_num}\")]/div/a') print(news_list) for news_selector in news_list: news_title = news_selector.xpath('text()').extract_first() news_detail_url = news_selector.xpath('@href').extract_first() print(\"new_title\", news_title) print(\"new_detail_url\", news_detail_url) print(\"cate_title\", cate_title) # \u5bf9\u65b0\u95fb\u8be6\u60c5\u9875\u7684url\u53d1\u8d77\u8bf7\u6c42 print(\"\u53d1\u8d77\u65b0\u7684\u8bf7\u6c42\uff0c\", news_detail_url) yield scrapy.Request(url=news_detail_url, callback=self.parse_news_detail) def parse_news_detail(self, response): # \u89e3\u6790\u65b0\u95fb\u5185\u5bb9 # content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p[contains(@id,\"1M\")]/text()').extract() content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p/text()').extract() content = ''.join([i.strip() for i in content]) if content: print(\"content\", content) # \u722c\u866b\u7c7b\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u662f\u5728\u722c\u866b\u7ed3\u675f\u6700\u540e\u4e00\u523b\u6267\u884c def closed(self, spider): # self.bro.quit() print(\"\u6b64\u6b21\u722c\u866b\u5168\u90e8\u7ed3\u675f\uff01\") \u30103\u3011 Item \u6293\u53d6\u7684\u4e3b\u8981\u76ee\u6807\u662f\u4ece\u975e\u7ed3\u6784\u5316\u6e90\uff08\u901a\u5e38\u662f\u7f51\u9875\uff09\u4e2d\u63d0\u53d6\u7ed3\u6784\u5316\u6570\u636e\u3002Scrapy\u722c\u866b\u53ef\u4ee5\u50cfPython\u4e00\u6837\u8fd4\u56de\u63d0\u53d6\u7684\u6570\u636e\u3002\u867d\u7136\u65b9\u4fbf\u548c\u719f\u6089\uff0c\u4f46\u5f88\u5bb9\u6613\u5728\u5b57\u6bb5\u540d\u79f0\u4e2d\u8f93\u5165\u62fc\u5199\u9519\u8bef\u6216\u8fd4\u56de\u4e0d\u4e00\u81f4\u7684\u6570\u636e\uff0c\u5c24\u5176\u662f\u5728\u5177\u6709\u8bb8\u591a\u722c\u866b\u7684\u8f83\u5927\u9879\u76ee\u4e2d\u3002 \u4e3a\u4e86\u5b9a\u4e49\u901a\u7528\u8f93\u51fa\u6570\u636e\u683c\u5f0f\uff0cScrapy\u63d0\u4f9b\u4e86Item\u7c7b\u3002 Item\u5bf9\u8c61\u662f\u7528\u4e8e\u6536\u96c6\u6293\u53d6\u6570\u636e\u7684\u7b80\u5355\u5bb9\u5668\u3002\u5b83\u4eec\u63d0\u4f9b\u7c7b\u4f3c\u5b57\u5178\u7684 API\uff0c\u5e76\u5177\u6709\u7528\u4e8e\u58f0\u660e\u5176\u53ef\u7528\u5b57\u6bb5\u7684\u65b9\u4fbf\u8bed\u6cd5\u3002 1\u3001\u58f0\u660e\u9879\u76ee \u4f7f\u7528\u7b80\u5355\u7684\u7c7b\u5b9a\u4e49\u8bed\u6cd5\u548cField \u5bf9\u8c61\u58f0\u660e\u9879\u3002\u8fd9\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a import scrapy class Product(scrapy.Item): name = scrapy.Field() price = scrapy.Field() stock = scrapy.Field() last_updated = scrapy.Field(serializer=str) \u6ce8\u610f\u90a3\u4e9b\u719f\u6089Django\u7684\u4eba\u4f1a\u6ce8\u610f\u5230Scrapy Items\u88ab\u5ba3\u544a\u7c7b\u4f3c\u4e8eDjango Models\uff0c\u9664\u4e86Scrapy Items\u66f4\u7b80\u5355\uff0c\u56e0\u4e3a\u6ca1\u6709\u4e0d\u540c\u5b57\u6bb5\u7c7b\u578b\u7684\u6982\u5ff5\u3002 Field\u5bf9\u8c61\u7528\u4e8e\u6307\u5b9a\u6bcf\u4e2a\u5b57\u6bb5\u7684\u5143\u6570\u636e\u3002\u4f8b\u5982\uff0clast_updated\u4e0a\u9762\u793a\u4f8b\u4e2d\u8bf4\u660e\u7684\u5b57\u6bb5\u7684\u5e8f\u5217\u5316\u51fd\u6570\u3002 \u60a8\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u5b57\u6bb5\u6307\u5b9a\u4efb\u4f55\u7c7b\u578b\u7684\u5143\u6570\u636e\u3002Field\u5bf9\u8c61\u63a5\u53d7\u7684\u503c\u6ca1\u6709\u9650\u5236\u3002\u51fa\u4e8e\u540c\u6837\u7684\u539f\u56e0\uff0c\u6ca1\u6709\u6240\u6709\u53ef\u7528\u5143\u6570\u636e\u952e\u7684\u53c2\u8003\u5217\u8868\u3002 Field\u5bf9\u8c61\u4e2d\u5b9a\u4e49\u7684\u6bcf\u4e2a\u952e\u53ef\u4ee5\u7531\u4e0d\u540c\u7684\u7ec4\u4ef6\u4f7f\u7528\uff0c\u53ea\u6709\u90a3\u4e9b\u7ec4\u4ef6\u77e5\u9053\u5b83\u3002\u60a8\u4e5f\u53ef\u4ee5\u6839\u636eField\u81ea\u5df1\u7684\u9700\u8981\u5b9a\u4e49\u548c\u4f7f\u7528\u9879\u76ee\u4e2d\u7684\u4efb\u4f55\u5176\u4ed6\u952e\u3002 Field\u5bf9\u8c61\u7684\u4e3b\u8981\u76ee\u6807\u662f\u63d0\u4f9b\u4e00\u79cd\u5728\u4e00\u4e2a\u5730\u65b9\u5b9a\u4e49\u6240\u6709\u5b57\u6bb5\u5143\u6570\u636e\u7684\u65b9\u6cd5\u3002\u901a\u5e38\uff0c\u884c\u4e3a\u53d6\u51b3\u4e8e\u6bcf\u4e2a\u5b57\u6bb5\u7684\u90a3\u4e9b\u7ec4\u4ef6\u4f7f\u7528\u67d0\u4e9b\u5b57\u6bb5\u952e\u6765\u914d\u7f6e\u8be5\u884c\u4e3a\u3002 2\u3001\u5e94\u7528\uff08\u7f51\u6613\u65b0\u95fb\uff09 import scrapy from items import NewsProItem class WangyiSpider(scrapy.Spider): name = 'wangyi' # allowed_domains = ['www.xxx.com'] start_urls = ['https://news.163.com/'] cate_list = [] # \u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url cate_num_map = { \"{{__i == 0}}\": \"\u65b0\u95fb\", \"{{__i == 1}}\": \"\u5317\u4eac\", \"{{__i == 2}}\": \"\u56fd\u5185\", \"{{__i == 3}}\": \"\u56fd\u9645\", \"{{__i == 4}}\": \"\u72ec\u5bb6\", } # \u6570\u636e\u89e3\u6790\uff1a\u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url def parse(self, response): with open(\"news163.html\", \"w\") as f: f.write(response.text) cate_num_list = response.xpath('//*[contains(@ne-if,\"{{\")]/@ne-if').extract() print(\"cate_num_list\", cate_num_list) for cate_num in cate_num_list: print(\"cate_num\", cate_num) if cate_num in self.cate_num_map: cate_title = self.cate_num_map.get(cate_num) news_list = response.xpath(f'//*[contains(@ne-if,\"{cate_num}\")]/div/a') print(cate_title) print(news_list) for news_selector in news_list: news_title = news_selector.xpath('text()').extract_first() news_detail_url = news_selector.xpath('@href').extract_first() cate_title = self.cate_num_map.get(cate_num) print(\"new_title\", news_title) print(\"new_detail_url\", news_detail_url) print(\"cate_title\", cate_title) # \u5b58\u50a8\u6570\u636e\u5230item\u5bf9\u8c61 item = NewsProItem() item['cate'] = cate_title item['title'] = news_title # \u5bf9\u65b0\u95fb\u8be6\u60c5\u9875\u7684url\u53d1\u8d77\u8bf7\u6c42 print(\"\u53d1\u8d77\u65b0\u7684\u8bf7\u6c42\uff0c\", news_detail_url) yield scrapy.Request(url=news_detail_url, callback=self.parse_news_detail, meta={'item': item}) def parse_news_detail(self, response): # \u89e3\u6790\u65b0\u95fb\u5185\u5bb9 # content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p[contains(@id,\"1M\")]/text()').extract() content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p/text()').extract() content = ''.join([i.strip() for i in content]) item = response.meta['item'] item['content'] = content if content: print(\"item\", item) yield item # \u722c\u866b\u7c7b\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u662f\u5728\u722c\u866b\u7ed3\u675f\u6700\u540e\u4e00\u523b\u6267\u884c def closed(self, spider): # self.bro.quit() print(\"\u6b64\u6b21\u722c\u866b\u5168\u90e8\u7ed3\u675f\uff01\") \u30104\u3011 Item PipeLine \u5728\u4e00\u4e2a\u9879\u76ee\u88ab\u8718\u86db\u6293\u53d6\u4e4b\u540e\uff0c\u5b83\u88ab\u53d1\u9001\u5230\u9879\u76ee\u7ba1\u9053\uff0c\u8be5\u9879\u76ee\u7ba1\u9053\u901a\u8fc7\u987a\u5e8f\u6267\u884c\u7684\u51e0\u4e2a\u7ec4\u4ef6\u5904\u7406\u5b83\u3002 \u6bcf\u4e2a\u9879\u76ee\u7ba1\u9053\u7ec4\u4ef6\uff08\u6709\u65f6\u7b80\u79f0\u4e3a\u201c\u9879\u76ee\u7ba1\u9053\u201d\uff09\u662f\u4e00\u4e2a\u5b9e\u73b0\u7b80\u5355\u65b9\u6cd5\u7684Python\u7c7b\u3002\u4ed6\u4eec\u6536\u5230\u4e00\u4e2a\u9879\u76ee\u5e76\u5bf9\u5176\u6267\u884c\u64cd\u4f5c\uff0c\u540c\u65f6\u51b3\u5b9a\u8be5\u9879\u76ee\u662f\u5426\u5e94\u8be5\u7ee7\u7eed\u901a\u8fc7\u7ba1\u9053\u6216\u88ab\u4e22\u5f03\u5e76\u4e14\u4e0d\u518d\u5904\u7406\u3002 \u9879\u76ee\u7ba1\u9053\u7684\u5178\u578b\u7528\u9014\u662f\uff1a cleansing HTML data validating scraped data (checking that the items contain certain fields) checking for duplicates (and dropping them) storing the scraped item in a database 1 \u7f16\u5199\u81ea\u5df1\u7684\u9879\u76ee\u7ba1\u9053 ''' \u6bcf\u4e2a\u9879\u7ba1\u9053\u7ec4\u4ef6\u90fd\u662f\u4e00\u4e2a\u5fc5\u987b\u5b9e\u73b0\u4ee5\u4e0b\u65b9\u6cd5\u7684Python\u7c7b\uff1a process_item\uff08self\uff0c\u9879\u76ee\uff0c\u8718\u86db\uff09 \u4e3a\u6bcf\u4e2a\u9879\u76ee\u7ba1\u9053\u7ec4\u4ef6\u8c03\u7528\u6b64\u65b9\u6cd5\u3002process_item() \u5fc5\u987b\u8981\u4e48\uff1a\u8fd4\u56de\u5e26\u6570\u636e\u7684dict\uff0c\u8fd4\u56de\u4e00\u4e2aItem \uff08\u6216\u4efb\u4f55\u540e\u4ee3\u7c7b\uff09\u5bf9\u8c61\uff0c\u8fd4\u56deTwisted Deferred\u6216\u5f15\u53d1 DropItem\u5f02\u5e38\u3002\u4e22\u5f03\u7684\u9879\u76ee\u4e0d\u518d\u7531\u5176\u4ed6\u7ba1\u9053\u7ec4\u4ef6\u5904\u7406\u3002 \u6b64\u5916\uff0c\u4ed6\u4eec\u8fd8\u53ef\u4ee5\u5b9e\u73b0\u4ee5\u4e0b\u65b9\u6cd5\uff1a open_spider\uff08self\uff0c\u8718\u86db\uff09 \u6253\u5f00\u8718\u86db\u65f6\u4f1a\u8c03\u7528\u6b64\u65b9\u6cd5\u3002 close_spider\uff08self\uff0c\u8718\u86db\uff09 \u5f53\u8718\u86db\u5173\u95ed\u65f6\u8c03\u7528\u6b64\u65b9\u6cd5\u3002 from_crawler\uff08cls\uff0ccrawler \uff09 \u5982\u679c\u5b58\u5728\uff0c\u5219\u8c03\u7528\u6b64\u7c7b\u65b9\u6cd5\u4ee5\u4ecea\u521b\u5efa\u7ba1\u9053\u5b9e\u4f8bCrawler\u3002\u5b83\u5fc5\u987b\u8fd4\u56de\u7ba1\u9053\u7684\u65b0\u5b9e\u4f8b\u3002Crawler\u5bf9\u8c61\u63d0\u4f9b\u5bf9\u6240\u6709Scrapy\u6838\u5fc3\u7ec4\u4ef6\u7684\u8bbf\u95ee\uff0c \u5982\u8bbe\u7f6e\u548c\u4fe1\u53f7; \u5b83\u662f\u7ba1\u9053\u8bbf\u95ee\u5b83\u4eec\u5e76\u5c06\u5176\u529f\u80fd\u6302\u94a9\u5230Scrapy\u7684\u4e00\u79cd\u65b9\u5f0f\u3002 ''' 2 \u9879\u76ee\u7ba1\u9053\u793a\u4f8b (1) \u4ef7\u683c\u9a8c\u8bc1\u548c\u4e22\u5f03\u7269\u54c1\u6ca1\u6709\u4ef7\u683c \u8ba9\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684\u5047\u8bbe\u7ba1\u9053\uff0c\u5b83\u8c03\u6574 price \u90a3\u4e9b\u4e0d\u5305\u542b\u589e\u503c\u7a0e\uff08 price_excludes_vat \u5c5e\u6027\uff09\u7684\u9879\u76ee\u7684\u5c5e\u6027\uff0c\u5e76\u5220\u9664\u90a3\u4e9b\u4e0d\u5305\u542b\u4ef7\u683c\u7684\u9879\u76ee\uff1a from scrapy.exceptions import DropItem class PricePipeline(object): vat_factor = 1.15 def process_item(self, item, spider): if item['price']: if item['price_excludes_vat']: item['price'] = item['price'] * self.vat_factor return item else: raise DropItem(\"Missing price in %s\" % item) (2) \u5c06\u9879\u76ee\u5199\u5165JSON\u6587\u4ef6 \u4ee5\u4e0b\u7ba1\u9053\u5c06\u6240\u6709\u5df2\u5220\u9664\u7684\u9879\u76ee\uff08\u6765\u81ea\u6240\u6709\u8718\u86db\uff09\u5b58\u50a8\u5230\u4e00\u4e2a items.jl \u6587\u4ef6\u4e2d\uff0c\u6bcf\u884c\u5305\u542b\u4e00\u4e2a\u4ee5JSON\u683c\u5f0f\u5e8f\u5217\u5316\u7684\u9879\u76ee\uff1a \u6ce8\u610fJsonWriterPipeline\u7684\u76ee\u7684\u53ea\u662f\u4ecb\u7ecd\u5982\u4f55\u7f16\u5199\u9879\u76ee\u7ba1\u9053\u3002\u5982\u679c\u60a8\u786e\u5b9e\u8981\u5c06\u6240\u6709\u5df2\u5220\u9664\u7684\u9879\u76ee\u5b58\u50a8\u5230JSON\u6587\u4ef6\u4e2d\uff0c\u5219\u5e94\u4f7f\u7528Feed\u5bfc\u51fa\u3002 import json class JsonWriterPipeline(object): def open_spider(self, spider): self.file = open('items.jl', 'w') def close_spider(self, spider): self.file.close() def process_item(self, item, spider): line = json.dumps(dict(item)) + \"\\n\" self.file.write(line) return item (3) \u5c06\u9879\u76ee\u5199\u5165\u6570\u636e\u5e93\uff08\u7f51\u6613\u65b0\u95fb\u5e94\u7528\uff09 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 pymongo \u5c06\u9879\u76ee\u5199\u5165 MongoDB \u3002MongoDB\u5730\u5740\u548c\u6570\u636e\u5e93\u540d\u79f0\u5728Scrapy\u8bbe\u7f6e\u4e2d\u6307\u5b9a; MongoDB\u96c6\u5408\u4ee5item\u7c7b\u547d\u540d\u3002 from scrapy.exceptions import DropItem import pymongo class NewsproPipeline: def process_item(self, item, spider): print(\"item:::\", item) if not item[\"content\"]: raise DropItem(f\"{item['title']}content\u4e3a\u7a7a\") return item class MongoPipeline(object): mongo_db = \"news\" collection_name = 'wangyiNews' def __init__(self, mongo): self.mongo = mongo @classmethod def from_crawler(cls, crawler): # Scrapy\u4f1a\u5148\u901a\u8fc7getattr\u5224\u65ad\u6211\u4eec\u662f\u5426\u81ea\u5b9a\u4e49\u4e86from_crawler,\u6709\u5219\u8c03\u5b83\u6765\u5b8c\u6210\u5b9e\u4f8b\u5316 return cls(crawler.settings.get('MONGO')) def open_spider(self, spider): self.client = pymongo.MongoClient(host=self.mongo[0], port=self.mongo[1]) self.db = self.client[self.mongo_db] def close_spider(self, spider): self.client.close() def process_item(self, item, spider): self.db[self.collection_name].insert_one(dict(item)) print(f\"news\u6570\u636e\u5e93\u7684{self.collection_name}\u8868\u4e2d\u63d2\u5165{item['title']}\u8bb0\u5f55\") return item \u8fd9\u4e2a\u4f8b\u5b50\u7684\u8981\u70b9\u662f\u5c55\u793a\u5982\u4f55\u4f7f\u7528 from_crawler() \u65b9\u6cd5\u4ee5\u53ca\u5982\u4f55\u6b63\u786e\u5730\u6e05\u7406\u8d44\u6e90\u3002 \u8865\u5145\u77e5\u8bc6\u70b9( from_crawler )\uff1a \u5f53\u60a8\u4f7f\u7528 settings \u5bf9\u8c61\u83b7\u53d6\u5168\u5c40\u53d8\u91cf\u65f6\uff0c\u53ef\u4ee5\u5728 Scrapy \u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u8be5\u53d8\u91cf\u7684\u503c\uff0c\u7136\u540e\u901a\u8fc7 settings.get('MY_SETTING') \u65b9\u6cd5\u6765\u8bbf\u95ee\u5b83\u3002\u8fd9\u6837\u505a\u5f88\u65b9\u4fbf\uff0c\u4f46\u4e5f\u6709\u4e00\u4e9b\u9650\u5236\uff1a \u60a8\u65e0\u6cd5\u6839\u636e\u7279\u5b9a\u7684 Crawler \u5b9e\u4f8b\u52a8\u6001\u5730\u8c03\u6574\u5168\u5c40\u53d8\u91cf\u7684\u503c\u3002\u4f8b\u5982\uff0c\u5f53\u60a8\u5728\u591a\u4e2a\u722c\u866b\u4e4b\u95f4\u5171\u4eab\u540c\u4e00\u4e2a Scrapy \u9879\u76ee\u65f6\uff0c\u67d0\u4e9b\u8bbe\u7f6e\u53ef\u80fd\u9700\u8981\u5728\u6bcf\u4e2a\u722c\u866b\u4e4b\u95f4\u8fdb\u884c\u5fae\u8c03\u3002 \u60a8\u65e0\u6cd5\u8f7b\u677e\u5730\u5c06\u5176\u4ed6\u53c2\u6570\u4f20\u9012\u7ed9\u4e2d\u95f4\u4ef6\u3002\u5982\u679c\u60a8\u60f3\u57fa\u4e8e\u73af\u5883\u53d8\u91cf\u3001\u547d\u4ee4\u884c\u53c2\u6570\u6216\u5176\u4ed6\u5916\u90e8\u56e0\u7d20\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u90a3\u4e48\u4f7f\u7528 settings \u5bf9\u8c61\u53ef\u80fd\u5f88\u9ebb\u70e6\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0cScrapy \u5f15\u5165\u4e86 from_crawler \u65b9\u6cd5\u3002\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u8ba9\u60a8\u6839\u636e\u5177\u4f53\u7684 Crawler \u5b9e\u4f8b\u521b\u5efa\u4e2d\u95f4\u4ef6\u5b9e\u4f8b\uff0c\u5e76\u52a8\u6001\u5730\u5411\u4e2d\u95f4\u4ef6\u4f20\u9012\u5176\u4ed6\u53c2\u6570\u3002 \u5177\u4f53\u6765\u8bf4\uff0c from_crawler \u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a crawler \u53c2\u6570\uff0c\u8fd9\u662f\u5f53\u524d Crawler \u5b9e\u4f8b\u7684\u5f15\u7528\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 crawler.settings \u8bbf\u95ee Scrapy \u7684\u5168\u5c40\u914d\u7f6e\u53d8\u91cf\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 crawler.signals \u6ce8\u518c\u4fe1\u53f7\u5904\u7406\u7a0b\u5e8f\uff0c\u4ee5\u53ca\u4f7f\u7528 crawler.engine \u548c crawler.spider \u8bbf\u95ee\u5176\u4ed6 Scrapy \u5b50\u7cfb\u7edf\u548c\u8d44\u6e90\u3002 \u56e0\u6b64\uff0c\u5728 from_crawler \u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u66f4\u591a\u7684 Scrapy \u8d44\u6e90\uff0c\u5e76\u6839\u636e\u9700\u8981\u52a8\u6001\u5730\u914d\u7f6e\u4e2d\u95f4\u4ef6\u3002\u8fd9\u4f7f\u5f97\u4e2d\u95f4\u4ef6\u66f4\u52a0\u7075\u6d3b\u548c\u53ef\u6269\u5c55\uff0c\u53ef\u4ee5\u9002\u5e94\u591a\u79cd\u573a\u666f\u548c\u9700\u6c42\u3002 (4) \u91cd\u590d\u8fc7\u6ee4 \u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u67e5\u627e\u91cd\u590d\u9879\u76ee\uff0c\u5e76\u5220\u9664\u5df2\u5904\u7406\u7684\u9879\u76ee\u3002\u5047\u8bbe\u6211\u4eec\u7684\u9879\u76ee\u5177\u6709\u552f\u4e00ID\uff0c\u4f46\u6211\u4eec\u7684\u8718\u86db\u4f1a\u8fd4\u56de\u5177\u6709\u76f8\u540cID\u7684\u591a\u4e2a\u9879\u76ee\uff1a from scrapy.exceptions import DropItem class DuplicatesPipeline(object): def __init__(self): self.ids_seen = set() def process_item(self, item, spider): if item['id'] in self.ids_seen: raise DropItem(\"Duplicate item found: %s\" % item) else: self.ids_seen.add(item['id']) return item 3 \u6fc0\u6d3b\u9879\u76ee\u7ba1\u9053\u7ec4\u4ef6 \u8981\u6fc0\u6d3bItem Pipeline\u7ec4\u4ef6\uff0c\u5fc5\u987b\u5c06\u5176\u7c7b\u6dfb\u52a0\u5230 settings.py \u7684 ITEM_PIPELINES \u8bbe\u7f6e\u4e2d\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a ITEM_PIPELINES = { 'myproject.pipelines.PricePipeline': 300, 'myproject.pipelines.JsonWriterPipeline': 800, \"NewsPro.pipelines.MongoPipeline\": 500, } \u60a8\u5728\u6b64\u8bbe\u7f6e\u4e2d\u4e3a\u7c7b\u5206\u914d\u7684\u6574\u6570\u503c\u51b3\u5b9a\u4e86\u5b83\u4eec\u8fd0\u884c\u7684\u987a\u5e8f\uff1a\u9879\u76ee\u4ece\u8f83\u4f4e\u503c\u5230\u8f83\u9ad8\u503c\u7c7b\u8fdb\u884c\u3002\u4e60\u60ef\u4e0a\u57280-1000\u8303\u56f4\u5185\u5b9a\u4e49\u8fd9\u4e9b\u6570\u5b57\u3002 \u30105\u3011\u4e0b\u8f7d\u4e2d\u95f4\u4ef6 class MyDownMiddleware(object): def process_request(self, request, spider): \"\"\" \u8bf7\u6c42\u9700\u8981\u88ab\u4e0b\u8f7d\u65f6\uff0c\u7ecf\u8fc7\u6240\u6709\u4e0b\u8f7d\u5668\u4e2d\u95f4\u4ef6\u7684process_request\u8c03\u7528 :param request: :param spider: :return: None,\u7ee7\u7eed\u540e\u7eed\u4e2d\u95f4\u4ef6\u53bb\u4e0b\u8f7d\uff1b Response\u5bf9\u8c61\uff0c\u505c\u6b62process_request\u7684\u6267\u884c\uff0c\u5f00\u59cb\u6267\u884cprocess_response Request\u5bf9\u8c61\uff0c\u505c\u6b62\u4e2d\u95f4\u4ef6\u7684\u6267\u884c\uff0c\u5c06Request\u91cd\u65b0\u8c03\u5ea6\u5668 raise IgnoreRequest\u5f02\u5e38\uff0c\u505c\u6b62process_request\u7684\u6267\u884c\uff0c\u5f00\u59cb\u6267\u884cprocess_exception \"\"\" pass def process_response(self, request, response, spider): \"\"\" spider\u5904\u7406\u5b8c\u6210\uff0c\u8fd4\u56de\u65f6\u8c03\u7528 :param response: :param result: :param spider: :return: Response \u5bf9\u8c61\uff1a\u8f6c\u4ea4\u7ed9\u5176\u4ed6\u4e2d\u95f4\u4ef6process_response Request \u5bf9\u8c61\uff1a\u505c\u6b62\u4e2d\u95f4\u4ef6\uff0crequest\u4f1a\u88ab\u91cd\u65b0\u8c03\u5ea6\u4e0b\u8f7d raise IgnoreRequest \u5f02\u5e38\uff1a\u8c03\u7528Request.errback \"\"\" print('response1') return response def process_exception(self, request, exception, spider): \"\"\" \u5f53\u4e0b\u8f7d\u5904\u7406\u5668(download handler)\u6216 process_request() (\u4e0b\u8f7d\u4e2d\u95f4\u4ef6)\u629b\u51fa\u5f02\u5e38 :param response: :param exception: :param spider: :return: None\uff1a\u7ee7\u7eed\u4ea4\u7ed9\u540e\u7eed\u4e2d\u95f4\u4ef6\u5904\u7406\u5f02\u5e38\uff1b Response\u5bf9\u8c61\uff1a\u505c\u6b62\u540e\u7eedprocess_exception\u65b9\u6cd5 Request\u5bf9\u8c61\uff1a\u505c\u6b62\u4e2d\u95f4\u4ef6\uff0crequest\u5c06\u4f1a\u88ab\u91cd\u65b0\u8c03\u7528\u4e0b\u8f7d \"\"\" return None \u6848\u4f8b import logging import time import random # http://httpbin.org/get class TestMiddleware: \"\"\"This middleware allows spiders to override the user_agent\"\"\" user_agent_list = [ 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 Edge/16.16299', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36', ] proxies = [ \"http://61.216.185.88:60808\", ] def process_request(self, request, spider): # \u8bbe\u7f6e\u4e00\u4e2a\u968f\u673a\u7684UA request.headers['User-Agent'] = random.choice(self.user_agent_list) # \u6bcf\u4e00\u4e2a\u8bf7\u6c42\u5ef6\u8fdf\u968f\u673a\u65f6\u95f4 delay = random.uniform(0, 1) time.sleep(delay) logging.info(f\"\u5ef6\u8fdf{delay}\u79d2\u53d1\u8d77\u8bf7\u6c42\") # \u8bbe\u7f6e\u968f\u673a\u4ee3\u7406IP random_ip = random.choice(self.proxies) request.meta[\"proxy\"] = random_ip logging.info(f\"\u5f53\u524d\u4ee3\u7406IP{random_ip}\") \u30106\u3011\u8fdb\u9636 1. start_rquests\u91cd\u5199 scrapy\u4e2dstart_url\u662f\u901a\u8fc7start_requests\u6765\u8fdb\u884c\u5904\u7406\u7684\uff0c\u5176\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b def start_requests(self): cls = self.__class__ if method_is_overridden(cls, Spider, 'make_requests_from_url'): warnings.warn( \"Spider.make_requests_from_url method is deprecated; it \" \"won't be called in future Scrapy releases. Please \" \"override Spider.start_requests method instead (see %s.%s).\" % ( cls.__module__, cls.__name__ ), ) for url in self.start_urls: yield self.make_requests_from_url(url) else: for url in self.start_urls: yield Request(url, dont_filter=True) \u6709\u4e9b\u65f6\u5019,\u9700\u8981\u91cd\u5199starte_rquests\u65b9\u6cd5\u53d1\u8d77\u9996\u6b21\u8bf7\u6c42 import scrapy class N17kSpider(scrapy.Spider): name = \"n_17k\" start_urls = [\"https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919\"] def start_requests(self): ''' \u8bf7\u6c42\u767b\u9646\u7684\u8d26\u53f7\u548c\u5bc6\u7801 ''' login_url = 'https://passport.17k.com/ck/user/login' # \u4f7f\u7528request\u8fdb\u884c\u8bf7\u6c42 # yield scrapy.Request(url=login_url, body='loginName=17346570232&password=xlg17346570232', callback=self.do_login, method='POST') # \u4f7f\u7528Request\u5b50\u7c7bFormRequest\u8fdb\u884c\u8bf7\u6c42 \u81ea\u52a8\u4e3apost\u8bf7\u6c42 yield scrapy.FormRequest( url=login_url, formdata={'loginName': '13121758648', 'password': 'yuan0316'}, callback=self.do_start ) def do_start(self, response): ''' \u767b\u9646\u6210\u529f\u540e\u8c03\u7528parse\u8fdb\u884c\u5904\u7406 cookie\u4e2d\u95f4\u4ef6\u4f1a\u5e2e\u6211\u4eec\u81ea\u52a8\u5904\u7406\u643a\u5e26cookie ''' for url in self.start_urls: yield scrapy.Request(url=url, callback=self.parse) def parse(self, response, **kwargs): with open(\"data.json\", \"w\") as f: f.write(response.text) 2. \u5168\u7ad9\u722c\u866b(CrawlSpider) \u5728\u4e4b\u524d Scrapy \u7684\u57fa\u672c\u4f7f\u7528\u5f53\u4e2d\uff0cspider \u5982\u679c\u8981\u91cd\u65b0\u53d1\u9001\u8bf7\u6c42\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u81ea\u5df1\u89e3\u6790\u9875\u9762\uff0c\u7136\u540e\u53d1\u9001\u8bf7\u6c42\u3002\u800c CrawlSpider \u5219\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e url \u6761\u4ef6\u81ea\u52a8\u53d1\u9001\u8bf7\u6c42\u3002 LinkExtractors CrawlSpider \u662f Spider \u7684\u4e00\u4e2a\u6d3e\u751f\u7c7b\u3002CrawlSpider \u4e0e spider \u4e0d\u540c\u7684\u662f\u5c31\u5728\u4e8e\u4e0b\u4e00\u6b21\u8bf7\u6c42\u7684 url \u4e0d\u9700\u8981\u81ea\u5df1\u624b\u52a8\u89e3\u6790\uff0c\u800c\u8fd9\u4e00\u70b9\u5219\u662f\u901a\u8fc7 LinkExtractors \u5b9e\u73b0\u7684\u3002 LinkExtractor\u7c7b\u7684\u6784\u9020\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\u3002 class scrapy.linkextractors.LinkExtractor( allow = (), deny = (), allow_domains = (), deny_domains = (), restrict_xpaths = (), tags = ('a','area'), attrs = ('href'), canonicalize = False, unique = True, process_value = None, deny_extensions = None, restrict_css=(), strip=True ) \u5176\u4e2d\u7684\u53c2\u6570\u4e3a\uff1a allow\uff1a\u5141\u8bb8\u7684 url\u3002\u6240\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 url \u90fd\u4f1a\u88ab\u63d0\u53d6 deny\uff1a\u7981\u6b62\u7684 url\u3002\u6240\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 url \u90fd\u4e0d\u4f1a\u88ab\u63d0\u53d6 allow_domains\uff1a\u5141\u8bb8\u7684\u57df\u540d\u3002\u53ea\u6709\u5728\u8fd9\u4e2a\u91cc\u9762\u6307\u5b9a\u7684\u57df\u540d\u7684 url \u624d\u4f1a\u88ab\u63d0\u53d6 deny_domains\uff1a\u7981\u6b62\u7684\u57df\u540d\u3002\u6240\u6709\u5728\u8fd9\u4e2a\u91cc\u9762\u6307\u5b9a\u7684\u57df\u540d\u7684 url \u90fd\u4e0d\u4f1a\u88ab\u63d0\u53d6 restrict_xpaths\uff1a\u4e25\u683c\u7684 xpath\u3002\u548c allow \u5171\u540c\u8fc7\u6ee4\u94fe\u63a5 tags\uff1a\u63a5\u6536\u4e00\u4e2a\u6807\u7b7e\u6216\u6807\u7b7e\u5217\u8868\uff0c\u63d0\u53d6\u6807\u7b7e\u5185\u7684\u5217\u8868\uff0c\u9ed8\u8ba4\u4e3a[\u2018a\u2019, \u2018area\u2019] attrs\uff1a\u63a5\u6536\u4e00\u4e2a\u5c5e\u6027\u6216\u5c5e\u6027\u5217\u8868\uff0c\u63d0\u53d6\u6307\u5b9a\u5c5e\u6027\u5185\u7684\u94fe\u63a5\uff0c\u9ed8\u8ba4\u4e3a[\u2018href\u2019] Rule LinkExtractors \u9700\u8981\u4f20\u9012\u5230 Rule \u7c7b\u5bf9\u8c61\u4e2d\u624d\u80fd\u53d1\u6325\u4f5c\u7528\u3002Rule \u7c7b\u5e38\u89c1\u7684\u53c2\u6570\u4e3a\uff1a link_extractors:\u662f\u4e00\u4e2aLinkExtractor\u5bf9\u8c61\uff0c\u7528\u4e8e\u5b9a\u4e49\u9700\u8981\u63d0\u53d6\u7684\u94fe\u63a5 callback\uff1a\u4ecelink_extractor\u4e2d\u6ca1\u83b7\u53d6\u94fe\u63a5\u65f6\uff0c\u53c2\u6570\u6240\u5236\u5b9a\u7684\u503c\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u56de\u8c03\u51fd\u6570\u63a5\u53d7\u4e00\u4e2aresponse\u4f5c\u4e3a\u8d77\u7b2c\u4e00\u4e2a\u53c2\u6570 \u6ce8\u610f\uff1a\u5f53\u7f16\u5199\u722c\u866b\u89c4\u5219\u662f\uff0c\u907f\u514d\u4f7f\u7528parse\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u3002\u7531\u4e8eCrawlSpider\u4f7f\u7528parse\u65b9\u6cd5\u6765\u5b9e\u73b0\u5176\u903b\u8f91\uff0c\u5982\u679c\u8986\u76d6\u4e86parse\u65b9\u6cd5\uff0cCrawlSpider\u5c06\u4f1a\u8fd0\u884c\u5931\u8d25 follow\uff1a\u662f\u4e00\u4e2a\u5e03\u5c14\u503c(boolean),\u5236\u5b9a\u4e86\u6839\u636e\u8be5\u89c4\u5219\u4eceresponse\u63d0\u53d6\u7684\u94fe\u63a5\u662f\u5076\u9700\u8981\u8ddf\u8fdb\u3002\u5982\u679ccallback\u4e3aNone\uff0cfollow\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aTrue\uff0c\u5426\u5219\u9ed8\u8ba4\u4e3aFlase process_links\uff1a\u6307\u5b9a\u8be5Spider\u4e2d\u90a3\u4e2a\u7684\u51fd\u6570\u5c06\u4f1a\u88ab\u8c03\u7528\uff0c\u4ecelink_extractor\u4e2d\u83b7\u53d6\u5230\u94fe\u63a5\u5217\u8868\u662f\u5c06\u4f1a\u8c03\u7528\u8be5\u51fd\u6570\u3002\u8be5\u65b9\u6cd5\u4e3b\u8981\u7528\u6765\u8fc7\u6ee4 process_request\uff1a\u6307\u5b9a\u8be5Spider\u4e2d\u90a3\u4e2a\u7684\u51fd\u6570\u5c06\u4f1a\u88ab\u8c03\u7528\uff0c\u8be5\u89c4\u5219\u63d0\u53d6\u5230\u6bcf\u4e2arequest\u662f\u90fd\u4f1a\u8c03\u7528\u8be5\u51fd\u6570\u3002(\u7528\u6765\u8fc7\u6ee4request) \u9664\u4e86\u4e0a\u8ff0\u7684\u8fd9\u4e9b\u5dee\u522b\uff0cCrawlspider \u548c spider \u57fa\u672c\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\u4e86\u3002 CrawlSpider\u5982\u4f55\u5de5\u4f5c\u7684\uff1f \u56e0\u4e3aCrawlSpider\u7ee7\u627f\u4e86Spider\uff0c\u6240\u4ee5\u5177\u6709Spider\u7684\u6240\u6709\u51fd\u6570\u3002 \u9996\u5148\u7531 start_requests \u5bf9 start_urls \u4e2d\u7684\u6bcf\u4e00\u4e2aurl\u53d1\u8d77\u8bf7\u6c42\uff08 make_requests_from_url )\uff0c\u8fd9\u4e2a\u8bf7\u6c42\u4f1a\u88abparse\u63a5\u6536\u3002\u5728Spider\u91cc\u9762\u7684parse\u9700\u8981\u6211\u4eec\u5b9a\u4e49\uff0c\u4f46CrawlSpider\u5b9a\u4e49 parse \u53bb\u89e3\u6790\u54cd\u5e94\uff08 self._parse_response(response, self.parse_start_url, cb_kwargs={}, follow=True) \uff09 _parse_response \u6839\u636e\u6709\u65e0 callback , follow \u548c self.follow_links \u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c eg: def _parse_response(self, response, callback, cb_kwargs, follow=True): ##\u5982\u679c\u4f20\u5165\u4e86callback\uff0c\u4f7f\u7528\u8fd9\u4e2acallback\u89e3\u6790\u9875\u9762\u5e76\u83b7\u53d6\u89e3\u6790\u5f97\u5230\u7684reques\u6216item if callback: cb_res = callback(response, **cb_kwargs) or () cb_res = self.process_results(response, cb_res) for requests_or_item in iterate_spider_output(cb_res): yield requests_or_item ## \u5176\u6b21\u5224\u65ad\u6709\u65e0follow\uff0c\u7528_requests_to_follow\u89e3\u6790\u54cd\u5e94\u662f\u5426\u6709\u7b26\u5408\u8981\u6c42\u7684link\u3002 if follow and self._follow_links: for request_or_item in self._requests_to_follow(response): yield request_or_item \u5176\u4e2d _requests_to_follow \u53c8\u4f1a\u83b7\u53d6 link_extractor \uff08\u8fd9\u4e2a\u662f\u6211\u4eec\u4f20\u5165\u7684LinkExtractor\uff09\u89e3\u6790\u9875\u9762\u5f97\u5230\u7684link \uff08link_extractor.extract_links(response)\uff09 ,\u5bf9url\u8fdb\u884c\u52a0\u5de5\uff08process_links\uff0c\u9700\u8981\u81ea\u5b9a\u4e49\uff09\uff0c\u5bf9\u7b26\u5408\u7684link\u53d1\u8d77Request\u3002\u4f7f\u7528 .process_request (\u9700\u8981\u81ea\u5b9a\u4e49\uff09\u5904\u7406\u54cd\u5e94\u3002 \u5168\u7ad9\u722c\u866b\u6848\u4f8b \u521b\u5efa\u9879\u76ee\uff1a scrapy startproject imgPro cd imgPro scrapy genspider img spider.img.py # -*- coding: utf-8 -*- from scrapy.spiders import CrawlSpider, Rule from scrapy.linkextractors import LinkExtractor import os class ImgSpider(CrawlSpider): name = 'img' # allowed_domains = [\"netbian.com\"] start_urls = ['http://www.daimg.com/pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87'] link = LinkExtractor(tags=['img'], attrs='src', deny_extensions=[''], ) link2 = LinkExtractor(allow=r'pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87') rules = ( Rule(link, callback=\"parse_item\", follow=False, ), Rule(link2, follow=True), ) def parse_item(self, response): p = os.path.join(\"imgs\", os.path.basename(response.url)) with open(p, 'wb') as f: f.write(response.body) print(f\"{p}\u4e0b\u8f7d\u5b8c\u6210\uff01\") \u6ce8\u610f\u4e8b\u9879\uff1a crawlspider\u722c\u866b\u9ed8\u8ba4\u7ee7\u627f\u4e86CrawlSpider\u7c7b\u3002 parse_item\u8868\u793acrawlspider\u722c\u866b\u7684\u6570\u636e\u63d0\u53d6\u51fd\u6570\uff0c\u5728crawlspider\u722c\u866b\u4e2d\u4e0d\u80fd\u7f16\u5199parse\u51fd\u6570\u3002parse\u51fd\u6570\u662f\u666e\u901a\u7c7b\u72ec\u6709\u7684\u3002 rules\u662f\u5143\u7ec4\u7c7b\u578b\uff0c\u5c0f\u62ec\u53f7\u540e\u9762\u5fc5\u987b\u52a0\u9017\u53f7\",\" scrapy genspider -t crawl \u722c\u866b\u540d \u53ef\u4ee5\u76f4\u63a5\u751f\u6210CrawlSpider\u7ed3\u6784\u7684\u6a21\u677f\u4ee3\u7801 3. \u5206\u5e03\u5f0f\u722c\u866b(scrapy_redis) \u5206\u5e03\u5f0f\u722c\u866b\u662f\u6307\u5c06\u4e00\u4e2a\u5927\u578b\u7684\u722c\u866b\u4efb\u52a1\u5206\u89e3\u6210\u591a\u4e2a\u5b50\u4efb\u52a1\uff0c\u7531\u591a\u4e2a\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u591a\u53f0\u673a\u5668\u540c\u65f6\u6267\u884c\u7684\u4e00\u79cd\u722c\u866b\u65b9\u5f0f\u3002\u5728\u5206\u5e03\u5f0f\u722c\u866b\u4e2d\uff0c\u6bcf\u4e2a\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u673a\u5668\u90fd\u5177\u6709\u72ec\u7acb\u7684\u722c\u53d6\u80fd\u529b\uff0c\u53ef\u4ee5\u72ec\u7acb\u5730\u722c\u53d6\u6307\u5b9a\u7684\u7f51\u9875\u6216\u8005\u7f51\u7ad9\uff0c\u7136\u540e\u5c06\u722c\u53d6\u5230\u7684\u6570\u636e\u8fdb\u884c\u6c47\u603b\u548c\u5904\u7406\u3002 \u5206\u5e03\u5f0f\u722c\u866b\u76f8\u5bf9\u4e8e\u5355\u673a\u722c\u866b\u7684\u4f18\u52bf\u5728\u4e8e\uff1a \u9ad8\u6548\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u540c\u65f6\u722c\u53d6\u591a\u4e2a\u7f51\u9875\u6216\u8005\u7f51\u7ad9\uff0c\u4ece\u800c\u5927\u5927\u63d0\u9ad8\u722c\u53d6\u901f\u5ea6\u548c\u6548\u7387\u3002 \u53ef\u6269\u5c55\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u6839\u636e\u9700\u8981\u52a8\u6001\u5730\u6dfb\u52a0\u6216\u8005\u5220\u9664\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u673a\u5668\uff0c\u4ece\u800c\u9002\u5e94\u4e0d\u540c\u7684\u722c\u866b\u4efb\u52a1\u9700\u6c42\u3002 \u9ad8\u7a33\u5b9a\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u901a\u8fc7\u4efb\u52a1\u5206\u89e3\u548c\u6570\u636e\u5907\u4efd\u7b49\u673a\u5236\u4fdd\u8bc1\u4efb\u52a1\u7684\u8fde\u7eed\u6027\u548c\u7a33\u5b9a\u6027\u3002 \u9ad8\u53ef\u9760\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2a IP \u5730\u5740\u548c User-Agent \u7b49\u65b9\u5f0f\u6765\u9632\u6b62 IP \u88ab\u5c01\u9501\u3001\u53cd\u722c\u7b49\u95ee\u9898\u30021 \uff081\uff09 scrapy-redis\u67b6\u6784 Scheduler Scrapy\u6539\u9020\u4e86python\u672c\u6765\u7684collection.deque(\u53cc\u5411\u961f\u5217)\u5f62\u6210\u4e86\u81ea\u5df1\u7684Scrapy queue\uff0c\u4f46\u662fScrapy\u591a\u4e2aspider\u4e0d\u80fd\u5171\u4eab\u5f85\u722c\u53d6\u961f\u5217Scrapy queue\uff0c \u5373Scrapy\u672c\u8eab\u4e0d\u652f\u6301\u722c\u866b\u5206\u5e03\u5f0f\uff0cscrapy-redis \u7684\u89e3\u51b3\u662f\u628a\u8fd9\u4e2aScrapy queue\u6362\u6210 redis\u6570\u636e\u5e93 \uff08\u4e5f\u662f\u6307redis\u961f\u5217\uff09\uff0c\u4ece\u540c\u4e00\u4e2aredis-server\u5b58\u653e\u8981\u722c\u53d6\u7684request\uff0c\u4fbf\u80fd\u8ba9\u591a\u4e2aspider\u53bb\u540c\u4e00\u4e2a\u6570\u636e\u5e93\u91cc\u8bfb\u53d6\u3002 Scrapy\u4e2d\u8ddf\u201c\u5f85\u722c\u961f\u5217\u201d\u76f4\u63a5\u76f8\u5173\u7684\u5c31\u662f\u8c03\u5ea6\u5668Scheduler\uff0c\u5b83\u8d1f\u8d23\u5bf9\u65b0\u7684request\u8fdb\u884c\u5165\u5217\u64cd\u4f5c\uff08\u52a0\u5165Scrapy queue\uff09\uff0c\u53d6\u51fa\u4e0b\u4e00\u4e2a\u8981\u722c\u53d6\u7684request\uff08\u4eceScrapy queue\u4e2d\u53d6\u51fa\uff09\u7b49\u64cd\u4f5c\u3002\u5b83\u628a\u5f85\u722c\u961f\u5217\u6309\u7167\u4f18\u5148\u7ea7\u5efa\u7acb\u4e86\u4e00\u4e2a\u5b57\u5178\u7ed3\u6784\uff0c\u6bd4\u5982\uff1a { \u4f18\u5148\u7ea70 : \u961f\u52170 \u4f18\u5148\u7ea71 : \u961f\u52171 \u4f18\u5148\u7ea72 : \u961f\u52172 } \u7136\u540e\u6839\u636erequest\u4e2d\u7684\u4f18\u5148\u7ea7\uff0c\u6765\u51b3\u5b9a\u8be5\u5165\u54ea\u4e2a\u961f\u5217\uff0c\u51fa\u5217\u65f6\u5219\u6309\u4f18\u5148\u7ea7\u8f83\u5c0f\u7684\u4f18\u5148\u51fa\u5217\u3002\u4e3a\u4e86\u7ba1\u7406\u8fd9\u4e2a\u6bd4\u8f83\u9ad8\u7ea7\u7684\u961f\u5217\u5b57\u5178\uff0cScheduler\u9700\u8981\u63d0\u4f9b\u4e00\u7cfb\u5217\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u539f\u6765\u7684Scheduler\u5df2\u7ecf\u65e0\u6cd5\u4f7f\u7528\uff0c\u6240\u4ee5\u4f7f\u7528Scrapy-redis\u7684scheduler\u7ec4\u4ef6\u3002 Duplication Filter Scrapy\u4e2d\u7528\u96c6\u5408\u5b9e\u73b0\u8fd9\u4e2arequest\u53bb\u91cd\u529f\u80fd\uff0cScrapy\u4e2d\u628a\u5df2\u7ecf\u53d1\u9001\u7684request\u6307\u7eb9\u653e\u5165\u5230\u4e00\u4e2a\u96c6\u5408\u4e2d\uff0c\u628a\u4e0b\u4e00\u4e2arequest\u7684\u6307\u7eb9\u62ff\u5230\u96c6\u5408\u4e2d\u6bd4\u5bf9\uff0c\u5982\u679c\u8be5\u6307\u7eb9\u5b58\u5728\u4e8e\u96c6\u5408\u4e2d\uff0c\u8bf4\u660e\u8fd9\u4e2arequest\u53d1\u9001\u8fc7\u4e86\uff0c\u5982\u679c\u6ca1\u6709\u5219\u7ee7\u7eed\u64cd\u4f5c\u3002 \u5728scrapy-redis\u4e2d\u53bb\u91cd\u662f\u7531Duplication Filter\u7ec4\u4ef6\u6765\u5b9e\u73b0\u7684\uff0c\u5b83\u901a\u8fc7redis\u7684set \u4e0d\u91cd\u590d\u7684\u7279\u6027\uff0c\u5de7\u5999\u7684\u5b9e\u73b0\u4e86Duplication Filter\u53bb\u91cd\u3002scrapy-redis\u8c03\u5ea6\u5668\u4ece\u5f15\u64ce\u63a5\u53d7request\uff0c\u5c06request\u7684\u6307\u7eb9\u5b58\u2f0aredis\u7684set\u68c0\u67e5\u662f\u5426\u91cd\u590d\uff0c\u5e76\u5c06\u4e0d\u91cd\u590d\u7684request push\u5199\u2f0aredis\u7684 request queue\u3002 \u5f15\u64ce\u8bf7\u6c42request(Spider\u53d1\u51fa\u7684\uff09\u65f6\uff0c\u8c03\u5ea6\u5668\u4eceredis\u7684request queue\u961f\u5217\u2fa5\u91cc\u6839\u636e\u4f18\u5148\u7ea7pop \u51fa\u2f00\u4e2arequest \u8fd4\u56de\u7ed9\u5f15\u64ce\uff0c\u5f15\u64ce\u5c06\u6b64request\u53d1\u7ed9spider\u5904\u7406\u3002 Item Pipeline \u5f15\u64ce\u5c06(Spider\u8fd4\u56de\u7684)\u722c\u53d6\u5230\u7684Item\u7ed9Item Pipeline\uff0cscrapy-redis \u7684Item Pipeline\u5c06\u722c\u53d6\u5230\u7684 Item \u5b58\u2f0aredis\u7684 items queue\u3002 \u4fee\u6539\u8fc7Item Pipeline\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u6839\u636e key \u4ece items queue \u63d0\u53d6item\uff0c\u4ece\u2f7d\u5b9e\u73b0items processes\u96c6\u7fa4\u3002 Base Spider \u4e0d\u518d\u4f7f\u7528scrapy\u539f\u6709\u7684Spider\u7c7b\uff0c\u91cd\u5199\u7684RedisSpider\u7ee7\u627f\u4e86Spider\u548cRedisMixin\u8fd9\u4e24\u4e2a\u7c7b\uff0cRedisMixin\u662f\u7528\u6765\u4eceredis\u8bfb\u53d6url\u7684\u7c7b\u3002\u5f53\u6211\u4eec\u751f\u6210\u4e00\u4e2aSpider\u7ee7\u627fRedisSpider\u65f6\uff0c\u8c03\u7528setup_redis\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u53bb\u8fde\u63a5redis\u6570\u636e\u5e93\uff0c\u7136\u540e\u4f1a\u8bbe\u7f6esignals(\u4fe1\u53f7)\uff1a\u4e00\u4e2a\u662f\u5f53spider\u7a7a\u95f2\u65f6\u5019\u7684signal\uff0c\u4f1a\u8c03\u7528spider_idle\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u8c03\u7528schedule_next_request\u51fd\u6570\uff0c\u4fdd\u8bc1spider\u662f\u4e00\u76f4\u6d3b\u7740\u7684\u72b6\u6001\uff0c\u5e76\u4e14\u629b\u51faDontCloseSpider\u5f02\u5e38\u3002\u4e00\u4e2a\u662f\u5f53\u6293\u5230\u4e00\u4e2aitem\u65f6\u7684signal\uff0c\u4f1a\u8c03\u7528item_scraped\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u8c03\u7528schedule_next_request\u51fd\u6570\uff0c\u83b7\u53d6\u4e0b\u4e00\u4e2arequest\u3002 \uff082\uff09Scrapy-Redis\u5206\u5e03\u5f0f\u7b56\u7565 \u5047\u8bbe\u6709\u56db\u53f0\u7535\u8111\uff1aWindows 10\u3001Mac OS X\u3001Ubuntu 16.04\u3001CentOS 7.2\uff0c\u4efb\u610f\u4e00\u53f0\u7535\u8111\u90fd\u53ef\u4ee5\u4f5c\u4e3a Master\u7aef \u6216 Slaver\u7aef\uff0c\u6bd4\u5982\uff1a Master\u7aef(\u6838\u5fc3\u670d\u52a1\u5668) \uff1a\u4f7f\u7528 Windows 10\uff0c\u642d\u5efa\u4e00\u4e2aRedis\u6570\u636e\u5e93\uff0c\u4e0d\u8d1f\u8d23\u722c\u53d6\uff0c\u53ea\u8d1f\u8d23url\u6307\u7eb9\u5224\u91cd\u3001Request\u7684\u5206\u914d\uff0c\u4ee5\u53ca\u6570\u636e\u7684\u5b58\u50a8\u3002Slaver\u7aef(\u722c\u866b\u7a0b\u5e8f\u6267\u884c\u7aef) \uff1a\u4f7f\u7528 Mac OS X \u3001Ubuntu 16.04\u3001CentOS 7.2\uff0c\u8d1f\u8d23\u6267\u884c\u722c\u866b\u7a0b\u5e8f\uff0c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u63d0\u4ea4\u65b0\u7684Request\u7ed9Master\u3002 \u9996\u5148Slaver\u7aef\u4eceMaster\u7aef\u62ff\u4efb\u52a1\uff08Request\u3001url\uff09\u8fdb\u884c\u6570\u636e\u6293\u53d6\uff0cSlaver\u6293\u53d6\u6570\u636e\u7684\u540c\u65f6\uff0c\u4ea7\u751f\u65b0\u4efb\u52a1\u7684Request\u4fbf\u63d0\u4ea4\u7ed9 Master \u5904\u7406\uff1bMaster\u7aef\u53ea\u6709\u4e00\u4e2aRedis\u6570\u636e\u5e93\uff0c\u8d1f\u8d23\u5c06\u672a\u5904\u7406\u7684Request\u53bb\u91cd\u548c\u4efb\u52a1\u5206\u914d\uff0c\u5c06\u5904\u7406\u540e\u7684Request\u52a0\u5165\u5f85\u722c\u961f\u5217\uff0c\u5e76\u4e14\u5b58\u50a8\u722c\u53d6\u7684\u6570\u636e\u3002 Scrapy-Redis\u9ed8\u8ba4\u4f7f\u7528\u7684\u5c31\u662f\u8fd9\u79cd\u7b56\u7565\uff0c\u6211\u4eec\u5b9e\u73b0\u8d77\u6765\u5f88\u7b80\u5355\uff0c\u56e0\u4e3a\u4efb\u52a1\u8c03\u5ea6\u7b49\u5de5\u4f5cScrapy-Redis\u90fd\u5df2\u7ecf\u5e2e\u6211\u4eec\u505a\u597d\u4e86\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7ee7\u627fRedisSpider\u3001\u6307\u5b9aredis_key\u5c31\u884c\u4e86\u3002 \u7f3a\u70b9\u662f\uff0cScrapy-Redis\u8c03\u5ea6\u7684\u4efb\u52a1\u662fRequest\u5bf9\u8c61\uff0c\u91cc\u9762\u4fe1\u606f\u91cf\u6bd4\u8f83\u5927\uff08\u4e0d\u4ec5\u5305\u542burl\uff0c\u8fd8\u6709callback\u51fd\u6570\u3001headers\u7b49\u4fe1\u606f\uff09\uff0c\u53ef\u80fd\u5bfc\u81f4\u7684\u7ed3\u679c\u5c31\u662f\u4f1a\u964d\u4f4e\u722c\u866b\u901f\u5ea6\u3001\u800c\u4e14\u4f1a\u5360\u7528Redis\u5927\u91cf\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u6240\u4ee5\u5982\u679c\u8981\u4fdd\u8bc1\u6548\u7387\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4e00\u5b9a\u786c\u4ef6\u6c34\u5e73\u3002 from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule from fbs2.items import DaImgItem from scrapy_redis.spiders import RedisCrawlSpider class DaimgSpider(RedisCrawlSpider): # \u6ce8\u610f\u8fd9\u91cc\u7684\u7ee7\u627f\u7c7b name = \"daimg\" # start_urls = ['http://www.daimg.com/pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87-0-0-0-0-0_1.html'] redis_key = 'daImgQueue' link = LinkExtractor(allow=r'pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87') rules = ( Rule(link, callback=\"parse_item\", follow=False, ), ) def parse_item(self, response): li_list = response.xpath('/html/body/div[5]/ul/li') for li in li_list: title = li.xpath('./a/img/@title').extract_first() src = li.xpath('./a/img/@src').extract_first() item = DaImgItem() item['img_name'] = title item['img_url'] = src print(\"item:::\", item) yield item \u6ce8\u610f\uff1a\u5982\u679c\u4e0d\u662f\u5168\u7ad9\u7684\u6df1\u5ea6\u722c\u866b\uff0c\u4ec5\u9700\u8981\u7ee7\u627fRedisSpider\uff0c\u6765\u81ea from scrapy_redis.spiders import RedisSpider settings.py # \u589e\u52a0\u4e86\u4e00\u4e2a\u53bb\u91cd\u5bb9\u5668\u7c7b\u7684\u914d\u7f6e, \u4f5c\u7528\u4f7f\u7528Redis\u7684set\u96c6\u5408\u6765\u5b58\u50a8\u8bf7\u6c42\u7684\u6307\u7eb9\u6570\u636e, \u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53bb\u91cd\u7684\u6301\u4e45\u5316 DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" # \u4f7f\u7528scrapy-redis\u7ec4\u4ef6\u81ea\u5df1\u7684\u8c03\u5ea6\u5668 SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" # \u914d\u7f6e\u8c03\u5ea6\u5668\u662f\u5426\u8981\u6301\u4e45\u5316, \u4e5f\u5c31\u662f\u5f53\u722c\u866b\u7ed3\u675f\u4e86, \u8981\u4e0d\u8981\u6e05\u7a7aRedis\u4e2d\u8bf7\u6c42\u961f\u5217\u548c\u53bb\u91cd\u6307\u7eb9\u7684set\u3002\u5982\u679c\u662fTrue, \u5c31\u8868\u793a\u8981\u6301\u4e45\u5316\u5b58\u50a8, \u5c31\u4e0d\u6e05\u7a7a\u6570\u636e, \u5426\u5219\u6e05\u7a7a\u6570\u636e SCHEDULER_PERSIST = True ITEM_PIPELINES = { 'scrapy_redis.pipelines.RedisPipeline': 400 } REDIS_HOST = '127.0.0.1' REDIS_PORT = 6379 # REDIS_ENCODING = \u2018utf-8\u2019 # REDIS_PARAMS = {\"password\":\"123456\"} \u5728 Scrapy-Redis \u5206\u5e03\u5f0f\u722c\u866b\u4e2d\uff0cRedis \u8d77\u5230\u4e86\u4ee5\u4e0b\u4f5c\u7528\uff1a \u4efb\u52a1\u8c03\u5ea6\u548c\u5206\u914d\uff1aScrapy-Redis \u4f7f\u7528 Redis \u6570\u636e\u5e93\u5b9e\u73b0\u4e86\u591a\u53f0\u673a\u5668\u4e4b\u95f4\u7684\u4efb\u52a1\u8c03\u5ea6\u548c\u5206\u914d\uff0c\u901a\u8fc7 Redis \u4e2d\u7684\u961f\u5217\u6765\u5b58\u50a8\u5f85\u722c\u53d6\u7684 URL\u3001\u8bf7\u6c42\u548c\u722c\u53d6\u72b6\u6001\u7b49\u4fe1\u606f\uff0c\u4ece\u800c\u5b9e\u73b0\u591a\u4e2a\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u673a\u5668\u4e4b\u95f4\u7684\u4efb\u52a1\u5206\u914d\u548c\u8c03\u5ea6\u3002 URL \u7ba1\u7406\uff1aScrapy-Redis \u4f7f\u7528 Redis \u6570\u636e\u5e93\u6765\u5b58\u50a8\u5f85\u722c\u53d6\u7684 URL \u961f\u5217\u548c\u5df2\u7ecf\u722c\u53d6\u8fc7\u7684 URL \u96c6\u5408\uff0c\u4ece\u800c\u907f\u514d\u4e86\u722c\u866b\u4efb\u52a1\u7684\u91cd\u590d\u6267\u884c\u548c\u51b2\u7a81\u95ee\u9898\u3002 \u6570\u636e\u5b58\u50a8\uff1aScrapy-Redis \u53ef\u4ee5\u5c06\u722c\u53d6\u5230\u7684\u6570\u636e\u5b58\u50a8\u5230 Redis \u6570\u636e\u5e93\u4e2d\uff0c\u4ece\u800c\u5b9e\u73b0\u5206\u5e03\u5f0f\u6570\u636e\u5b58\u50a8\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u5355\u673a\u5b58\u50a8\u9020\u6210\u7684\u6570\u636e\u91cf\u8fc7\u5927\u548c\u5b58\u50a8\u901f\u5ea6\u6162\u7684\u95ee\u9898\u3002 \u72b6\u6001\u5171\u4eab\uff1aScrapy-Redis \u4f7f\u7528 Redis \u6570\u636e\u5e93\u4f5c\u4e3a\u72b6\u6001\u5b58\u50a8\uff0c\u4ece\u800c\u5b9e\u73b0\u591a\u53f0\u673a\u5668\u4e4b\u95f4\u7684\u72b6\u6001\u5171\u4eab\u3002\u5f53\u4e00\u4e2a\u722c\u866b\u8fdb\u7a0b\u722c\u53d6\u4e86\u4e00\u4e2a URL \u540e\uff0c\u5b83\u53ef\u4ee5\u5c06\u722c\u866b\u72b6\u6001\u4fdd\u5b58\u5230 Redis \u6570\u636e\u5e93\u4e2d\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece Redis \u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u8be5\u72b6\u6001\u3002 \u5f00\u542f\u591a\u4e2aslaver\u7aef\uff1a scrapy crawl daming \u542f\u52a8Master\u7aef\uff1a # redis-cli # flushall # lpush daImgQueue http://www.daimg.com/pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87-0-0-0-0-0_1.html - \u7f16\u7801\u6d41\u7a0b\uff1a 1.\u521b\u5efa\u5de5\u7a0b 2.cd proName 3.\u521b\u5efacrawlspider\u7684\u722c\u866b\u6587\u4ef6 4.\u4fee\u6539\u4e00\u4e0b\u722c\u866b\u7c7b\uff1a - \u5bfc\u5305\uff1afrom scrapy_redis.spiders import RedisCrawlSpider - \u4fee\u6539\u5f53\u524d\u722c\u866b\u7c7b\u7684\u7236\u7c7b\uff1aRedisCrawlSpider - allowed_domains\u548cstart_urls\u5220\u9664 - \u6dfb\u52a0\u4e00\u4e2a\u65b0\u5c5e\u6027\uff1aredis_key = 'xxxx'\u53ef\u4ee5\u88ab\u5171\u4eab\u7684\u8c03\u5ea6\u5668\u961f\u5217\u7684\u540d\u79f0 5.\u4fee\u6539\u914d\u7f6esettings.py - \u6307\u5b9a\u7ba1\u9053 ITEM_PIPELINES = { 'scrapy_redis.pipelines.RedisPipeline': 400 } - \u6307\u5b9a\u8c03\u5ea6\u5668 # \u589e\u52a0\u4e86\u4e00\u4e2a\u53bb\u91cd\u5bb9\u5668\u7c7b\u7684\u914d\u7f6e, \u4f5c\u7528\u4f7f\u7528Redis\u7684set\u96c6\u5408\u6765\u5b58\u50a8\u8bf7\u6c42\u7684\u6307\u7eb9\u6570\u636e, \u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53bb\u91cd\u7684\u6301\u4e45\u5316 DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" # \u4f7f\u7528scrapy-redis\u7ec4\u4ef6\u81ea\u5df1\u7684\u8c03\u5ea6\u5668 SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" # \u914d\u7f6e\u8c03\u5ea6\u5668\u662f\u5426\u8981\u6301\u4e45\u5316, \u4e5f\u5c31\u662f\u5f53\u722c\u866b\u7ed3\u675f\u4e86, \u8981\u4e0d\u8981\u6e05\u7a7aRedis\u4e2d\u8bf7\u6c42\u961f\u5217\u548c\u53bb\u91cd\u6307\u7eb9\u7684set\u3002 # \u5982\u679c\u662fTrue, \u5c31\u8868\u793a\u8981\u6301\u4e45\u5316\u5b58\u50a8, \u5c31\u4e0d\u6e05\u7a7a\u6570\u636e, \u5426\u5219\u6e05\u7a7a\u6570\u636e SCHEDULER_PERSIST = True - \u6307\u5b9aredis\u6570\u636e\u5e93 REDIS_HOST = 'redis\u670d\u52a1\u7684ip\u5730\u5740' REDIS_PORT = 6379 6.\u914d\u7f6eredis\u6570\u636e\u5e93\uff08redis.windows.conf\uff09 - \u5173\u95ed\u9ed8\u8ba4\u7ed1\u5b9a - 56Line\uff1a#bind 127.0.0.1 - \u5173\u95ed\u4fdd\u62a4\u6a21\u5f0f - 75line\uff1aprotected-mode no 7.\u542f\u52a8redis\u670d\u52a1\uff08\u643a\u5e26\u914d\u7f6e\u6587\u4ef6\uff09\u548c\u5ba2\u6237\u7aef - redis-server.exe redis.windows.conf - redis-cli 8.\u6267\u884c\u5de5\u7a0b - scrapy runspider spider.py 9.\u5c06\u8d77\u59cb\u7684url\u4ecd\u5165\u5230\u53ef\u4ee5\u88ab\u5171\u4eab\u7684\u8c03\u5ea6\u5668\u7684\u961f\u5217\uff08sun\uff09\u4e2d - \u5728redis-cli\u4e2d\u64cd\u4f5c\uff1alpush sun www.xxx.com 10.redis: - xxx:items:\u5b58\u50a8\u7684\u5c31\u662f\u722c\u53d6\u5230\u7684\u6570\u636e \u7b2c\u4e5d\u7ae0. JS\u8fdb\u9636 https://developer.mozilla.org/zh-CN/docs/Web/API/Window 9.1\u3001JS\u5bf9\u8c61 1. \u5b57\u7b26\u4e32\u5bf9\u8c61 2. \u6570\u7ec4\u5bf9\u8c61 3. object\u5bf9\u8c61 4. Date\u5bf9\u8c61 \u521b\u5efaDate\u5bf9\u8c61: var now=new Date(); console.log(now.toLocaleString( )); /* \u83b7\u53d6\u65e5\u671f\u548c\u65f6\u95f4 now.getDate() \u83b7\u53d6\u65e5 now.getDay () \u83b7\u53d6\u661f\u671f now.getMonth () \u83b7\u53d6\u6708\uff080-11\uff09 now.getFullYear () \u83b7\u53d6\u5b8c\u6574\u5e74\u4efd now.getYear () \u83b7\u53d6\u5e74 now.getHours () \u83b7\u53d6\u5c0f\u65f6 now.getMinutes () \u83b7\u53d6\u5206\u949f now.getSeconds () \u83b7\u53d6\u79d2 now.getMilliseconds () \u83b7\u53d6\u6beb\u79d2 now.getTime () \u8fd4\u56de\u7d2f\u8ba1\u6beb\u79d2\u6570(\u4ece1970/1/1\u5348\u591c)*/ 5. Math\u5bf9\u8c61 // Number\u5bf9\u8c61\u7684\u5185\u7f6e\u65b9\u6cd5 // toFixed(x) \u4fdd\u7559\u5c0f\u6570\u4f4d var num = 100.3; var ret = num.toFixed(2); console.log(num); // 100.3 console.log(ret); // 100.30 // Math\u5bf9\u8c61\u7684\u5185\u7f6e\u65b9\u6cd5 // abs(x) \u8fd4\u56de\u6570\u503c\u7684\u7edd\u5bf9\u503c // var num = -10; console.log( Math.abs(num) ); // 10 // ceil(x) \u5411\u4e0a\u53d6\u6574 var num = 10.3; console.log( Math.ceil(num) ); // 11 // floor(x) \u5411\u4e0b\u53d6\u6574 var num = 10.3; console.log( Math.floor(num) ); // 10 // max(x,y,z,...,n) console.log( Math.max(3,56,3) ); // 56 // min(x,y,z,...,n) // pow(x,y) console.log(Math.pow(3, 2)); // \u76f8\u7b49\u4e8e 3**2 console.log( 3**2 ); // \u4f7f\u7528\u8fd9\u4e2a,\u4e0a\u9762\u5e9f\u5f03 // random() \u751f\u62100-1\u968f\u673a\u6570 console.log(Math.random()); // \u751f\u62100-10\u4e4b\u95f4\u7684\u6570\u503c console.log( Math.random() * 10 ); // round(x) \u56db\u820d\u4e94\u5165 // \u751f\u62100-10\u4e4b\u95f4\u7684\u6574\u6570 console.log( Math.round( Math.random() * 10 ) ); \u7ec3\u4e60\uff1a\u83b7\u53d61-100\u7684\u968f\u673a\u6574\u6570\uff0c\u5305\u62ec1\u548c100 js var num=Math.random(); num=num*100; num=Math.round(num); console.log(num) 6. Function\u5bf9\u8c61 (1) \u51fd\u6570\u4f5c\u7528\u57df \u4f5c\u7528\u57df\u662fJavaScript\u6700\u91cd\u8981\u7684\u6982\u5ff5\u4e4b\u4e00\uff0c\u60f3\u8981\u5b66\u597dJavaScript\u5c31\u9700\u8981\u7406\u89e3JavaScript\u4f5c\u7528\u57df\u548c\u4f5c\u7528\u57df\u94fe\u7684\u5de5\u4f5c\u539f\u7406\u3002 \u4efb\u4f55\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u90fd\u6709\u4f5c\u7528\u57df\u7684\u6982\u5ff5\uff0c\u7b80\u5355\u7684\u8bf4\uff0c\u4f5c\u7528\u57df\u5c31\u662f\u53d8\u91cf\u4e0e\u51fd\u6570\u7684\u53ef\u8bbf\u95ee\u8303\u56f4\uff0c\u5373\u4f5c\u7528\u57df\u63a7\u5236\u7740\u53d8\u91cf\u4e0e\u51fd\u6570\u7684\u53ef\u89c1\u6027\u548c\u751f\u547d\u5468\u671f\u3002\u5728JavaScript\u4e2d\uff0c\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u6709\u5168\u5c40\u4f5c\u7528\u57df\u548c\u5c40\u90e8\u4f5c\u7528\u57df\u4e24\u79cd\u3002 \u5c40\u90e8\u53d8\u91cf,\u662f\u5728\u51fd\u6570\u5185\u90e8\u58f0\u660e,\u5b83\u7684\u751f\u547d\u5468\u671f\u5728\u5f53\u524d\u51fd\u6570\u88ab\u8c03\u7528\u7684\u65f6\u5019, \u5f53\u51fd\u6570\u8c03\u7528\u5b8c\u6bd5\u4ee5\u540e,\u5219\u5185\u5b58\u4e2d\u81ea\u52a8\u9500\u6bc1\u5f53\u524d\u53d8\u91cf. \u5168\u5c40\u53d8\u91cf,\u662f\u5728\u51fd\u6570\u5916\u90e8\u58f0\u660e,\u5b83\u7684\u751f\u547d\u5468\u671f\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u88ab\u58f0\u660e\u4ee5\u540e\u5c31\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d,\u76f4\u5230\u5f53\u524d\u6587\u4ef6\u6267\u884c\u5b8c\u6bd5\u4ee5\u540e,\u624d\u4f1a\u88ab\u5185\u5b58\u9500\u6bc1\u6389\u3002 // \u9996\u5148\u719f\u6089\u4e0bvar var name = \"yuan\"; // \u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf name\u5e76\u8d4b\u503c\u201dyuan\u201c name = \"\u5f20\u4e09\"; // \u5bf9\u5df2\u7ecf\u5b58\u5728\u7684\u53d8\u91cfname\u91cd\u65b0\u8d4b\u503c \u201d\u5f20\u4e09\u201c console.log(name); age = 18 // \u4e4b\u524d\u4e0d\u5b58\u5728age\u53d8\u91cf\uff0c\u8fd9\u91cc\u7b49\u540c\u4e8evar age = 19 \u5373\u58f0\u660e\u5168\u5c40\u53d8\u91cfage\u5e76\u8d4b\u503c\u4e3a18 var gender = \"male\" var gender = \"female\" // \u539f\u5185\u5b58\u91ca\u653e\u4e0e\u65b0\u5185\u5b58\u5f00\u8f9f\uff0c\u6307\u9488\u6307\u5411\u65b0\u5f00\u8f9f\u7684\u5185\u5b58 console.log(gender) \u4f5c\u7528\u57df\u6848\u4f8b\uff1a var num = 10; // \u5728\u51fd\u6570\u5916\u90e8\u58f0\u660e\u7684\u53d8\u91cf, \u5168\u5c40\u53d8\u91cf function func(){ // num = 20; // \u51fd\u6570\u5185\u90e8\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf,\u5219\u9ed8\u8ba4\u8c03\u7528\u4e86\u5168\u5c40\u7684\u53d8\u91cf, //var num = 20; // \u51fd\u6570\u5185\u90e8\u4f7f\u7528var \u6216\u8005 let\u58f0\u660e\u7684\u53d8\u91cf\u5219\u662f\u5c40\u90e8\u53d8\u91cf // \u51fd\u6570\u5185\u90e8\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf,\u5219\u9ed8\u8ba4\u8c03\u7528\u4e86\u5168\u5c40\u7684\u53d8\u91cf, // \u4f7f\u7528\u53d8\u91cf\u7684\u65f6\u5019,\u89e3\u91ca\u5668\u4f1a\u5728\u5f53\u524d\u82b1\u62ec\u53f7\u8303\u56f4\u503c\u641c\u7d22\u662f\u5426\u6709\u5173\u952e\u5b57var \u6216\u8005 let \u58f0\u660e\u4e86\u53d8\u91cf,\u5982\u679c\u6ca1\u6709,\u5219\u4e00\u5c42\u4e00\u5c42\u5f80\u5916\u67e5\u627e \u6700\u8fd1\u7684\u58f0\u660e // \u5982\u679c\u6700\u7ec8\u67e5\u627e\u4e0d\u5230,\u5219\u76f4\u63a5\u62a5\u9519! \u53d8\u91cf\u540d is not define! console.log(\"\u51fd\u6570\u5185\u90e8num\uff1a\",num) } func(); console.log(\"\u5168\u5c40num\uff1a\",num); (2) \u533f\u540d\u51fd\u6570 \u533f\u540d\u51fd\u6570\uff0c\u5373\u6ca1\u6709\u53d8\u91cf\u540d\u7684\u51fd\u6570\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u9891\u7387\u975e\u5e38\u9ad8\uff01\u4e5f\u662f\u5b66\u597dJS\u7684\u91cd\u70b9\u3002 // \u533f\u540d\u51fd\u6570\u8d4b\u503c\u53d8\u91cf var foo = function () { console.log(\"\u8fd9\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff01\") }; // \u533f\u540d\u51fd\u6570\u7684\u81ea\u6267\u884c (function (x,y) { console.log(x+y); })(2,3) // \u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u4e00\u4e2a\u9ad8\u9636\u51fd\u6570\u4f7f\u7528 function bar() { return function () { console.log(\"inner\u51fd\u6570\uff01\") } } bar()() (3) \u95ed\u5305\u51fd\u6570 \u95ed\u5305\uff08closures\uff09\u662f Javascript \u8bed\u8a00\u7684\u4e00\u4e2a\u96be\u70b9\uff0c\u4e5f\u662f\u5b83\u7684\u7279\u8272\uff0c\u5f88\u591a\u9ad8\u7ea7\u5e94\u7528\u90fd\u662f\u4f9d\u9760\u95ed\u5305\u5b9e\u73b0\u7684\u3002\u95ed\u5305\u4e0e\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u4ee5\u53ca\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u5bc6\u5207\u76f8\u5173\uff0c\u672c\u8282\u6211\u4eec\u5c31\u6765\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002 \u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\uff0c\u95ed\u5305\uff08\u82f1\u8bed\uff1aClosure\uff09\uff0c\u53c8\u79f0\u8bcd\u6cd5\u95ed\u5305\uff08Lexical Closure\uff09\u6216\u51fd\u6570\u95ed\u5305\uff08function closures\uff09\uff0c\u662f\u5f15\u7528\u4e86\u81ea\u7531\u53d8\u91cf\uff08\u5916\u90e8\u975e\u5168\u5c40\uff09\u7684\u51fd\u6570\u3002 \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e2d\u5f15\u7528\u4e86\u51fd\u6570\u5916\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u8be5\u51fd\u6570\u53ef\u4ee5\u5728\u5176\u5b9a\u4e49\u73af\u5883\u5916\u88ab\u6267\u884c\u3002\u8fd9\u6837\u7684\u4e00\u4e2a\u51fd\u6570\u6211\u4eec\u79f0\u4e4b\u4e3a\u95ed\u5305\u51fd\u6570\u3002 \u6211\u4eec\u5148\u770b\u4e00\u6bb5\u4ee3\u7801\u3002 <script> var key = \"123456\" function foo(){ console.log(key) } </script> <script> var key = \"abcdefg\" function bar(){ console.log(key) } </script> <script src=\"test01.js\"></script> <script src=\"test02.js\"></script> \u8fd9\u5c31\u662f \u5168\u5c40\u53d8\u91cf\u6c61\u67d3 \u5f88\u660e\u663e, \u867d\u7136\u5404\u81eajs\u5728\u7f16\u5199\u65f6\u662f\u5206\u5f00\u7684. \u4f46\u662f\u5728\u8fd0\u884c\u65f6, \u662f\u5728\u540c\u4e00\u4e2a\u7a7a\u95f4\u5185\u6267\u884c\u7684. \u4ed6\u4eec\u62e5\u6709\u76f8\u540c\u7684\u4f5c\u7528\u57df. \u6b64\u65f6\u7684\u53d8\u91cf\u52bf\u5fc5\u662f\u975e\u5e38\u975e\u5e38\u4e0d\u5b89\u5168\u7684. \u90a3\u4e48\u5982\u4f55\u6765\u89e3\u51b3\u5462? \u6ce8\u610f, \u5728js\u91cc. \u53d8\u91cf\u662f\u6709\u4f5c\u7528\u57df\u7684. \u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u53d8\u91cf\u7684\u58f0\u660e\u548c\u4f7f\u7528\u662f\u6709\u8303\u56f4\u7684. \u4e0d\u662f\u65e0\u9650\u7684. \u8fd9\u4e00\u70b9, \u5f88\u5bb9\u6613\u9a8c\u8bc1. function fn(){ let love = \"\u7231\u5440\" } fn() console.log(love) \u76f4\u63a5\u5c31\u62a5\u9519\u4e86. \u4e5f\u5c31\u662f\u8bf4. \u5728js\u91cc\u662f\u6709\u5168\u5c40\u548c\u5c40\u90e8\u7684\u6982\u5ff5\u7684. \u76f4\u63a5\u58f0\u660e\u5728\u6700\u5916\u5c42\u7684\u53d8\u91cf\u5c31\u662f\u5168\u5c40\u53d8\u91cf. \u6240\u6709\u51fd\u6570, \u6240\u6709\u4ee3\u7801\u5757\u90fd\u53ef\u4ee5\u5171\u4eab\u7684. \u4f46\u662f\u53cd\u8fc7\u6765\u5c31\u4e0d\u662f\u4e86. \u5728\u51fd\u6570\u5185\u548c\u4ee3\u7801\u5757\u5185\u58f0\u660e\u7684\u53d8\u91cf. \u5c24\u5176\u662f\u51fd\u6570\u5185. \u58f0\u660e\u51fa\u6765\u7684\u53d8\u91cf\u5b83\u662f\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf. \u5916\u754c\u662f\u65e0\u6cd5\u8fdb\u884c\u8bbf\u95ee\u7684\uff0c\u5373\u51fd\u6570\u662f\u53ef\u4ee5\u5f00\u8f9f\u72ec\u7acb\u7684\u4f5c\u7528\u57df\u73af\u5883\u7684\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\u6765\u7ed9\u6bcf\u4e2a\u529f\u80fd\u811a\u672c\u521b\u5efa\u4e00\u4e2a\u5c40\u90e8\u7a7a\u95f4. \u5c31\u50cf\u8fd9\u6837\uff1a <script> var f = (function () { let key = \"123456\" function foo() { return key } return foo })() </script> <script> var b = (function () { let key = \"abcdefg\" function bar() { return key } return bar })() </script> html\u91cc\u9762\u4f7f\u7528\u65f6: <script src=\"test01.js\"></script> <script src=\"test02.js\"></script> <script> console.log(f()) console.log(b()) </script> (4) prototype \u539f\u578b\u5bf9\u8c61 \u6848\u4f8b1: // \u521b\u5efa\u65b9\u5f0f1 var foo = new Function(\"console.log('hello world!')\") foo() // \u521b\u5efa\u65b9\u5f0f2 function Person() { console.log(\"hello person\") } var p1 = Person() console.log(p1) var p2 = new Person() console.log(p2) \u4ec0\u4e48\u662fJS\u539f\u578b\u5bf9\u8c61? prototype(\u539f\u578b\u5bf9\u8c61)\u5c31\u662f\u4e00\u4e2a\u5bb9\u5668. {} \u5b58\u653e\u516c\u5171\u7684\u65b9\u6cd5\u7ed9\u5bf9\u8c61\u4f7f\u7528. \u5bf9\u8c61\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5\u548c\u5c5e\u6027. \u539f\u578b\u5bf9\u8c61\u7c7b\u4f3cPython\u7684\u7c7b\u5bf9\u8c61\uff08fn.prototype\uff09 \u539f\u578b\u5bf9\u8c61\u548c\u51fd\u6570\u4e4b\u95f4\u7684\u5173\u7cfb. \u6bcf\u4e2a\u51fd\u6570\u90fd\u4f1a\u6709\u4e00\u4e2a prototype \u5c5e\u6027,\u6307\u5411\u539f\u578b\u5bf9\u8c61. \u6bcf\u4e2a\u539f\u578b\u5bf9\u8c61\u90fd\u4f1a\u6709\u4e00\u4e2a constructor \u5c5e\u6027,\u6307\u5411\u51fd\u6570. \u603b\u7ed3:\u6bcf\u4e2a\u51fd\u6570\u4e0e\u539f\u578b\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u662f \u4e92\u76f8\u5f15\u7528 . \u5bf9\u8c61\u548c\u539f\u578b\u5bf9\u8c61\u548c\u51fd\u6570\u4e4b\u95f4\u7684\u5173\u7cfb \u51fd\u6570\u521b\u5efa\u5bf9\u8c61 var o = new Fn(); \u5bf9\u8c61\u901a\u8fc7 __proto__ \u5c5e\u6027,\u6307\u5411\u539f\u578b\u5bf9\u8c61. \u5bf9\u8c61\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u539f\u578b\u5bf9\u8c61\u4e2d\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5. \u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7\u539f\u578b\u5bf9\u8c61\u4e2d\u7684constructor\u5c5e\u6027\u77e5\u9053\u6784\u9020\u51fd\u6570 \u603b\u7ed3: \u539f\u578b\u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a\u5bb9\u5668,\u5e2e\u52a9\u51fd\u6570\u5b58\u653e\u516c\u5171\u65b9\u6cd5,\u4ee5\u53ca\u7ed9\u51fd\u6570new\u51fa\u6765\u7684\u5bf9\u8c61\u63d0\u4f9b\u516c\u5171\u65b9\u6cd5\u4f7f\u7528. function Dog(name, age) { this.name = name;//\u9762\u8bd5\u9898\uff1a\u6784\u9020\u51fd\u6570\u4e2d\u7684this\u6307\u5411\u8c01\uff1f \u7b54\uff1a\u6307\u5411new\u521b\u5efa\u7684\u5bf9\u8c61 this.age = age; this.sleep = function () { console.log(\"sleeping\") } } // Dog(\"rain\",12) // \u666e\u901a\u51fd\u6570 //\u6784\u9020\u51fd\u6570 let alex = new Dog(\"alex\", 36); // \u4f7f\u7528new\u6765\u521b\u5efa\u5bf9\u8c61 let eric = new Dog(\"eric\", 35); // \u4f7f\u7528new\u6765\u521b\u5efa\u5bf9\u8c61 // (1) \u51fd\u6570\u5bf9\u8c61\u901a\u8fc7prototype\u5bb9\u5668\u8bbe\u7f6e\u516c\u5171\u5c5e\u6027\u548c\u65b9\u6cd5 Dog.prototype.eat = function (food) { console.log(this.name +\"\u5403\"+ food); } alex.eat(\"\u5403\u9aa8\u5934\") eric.eat(\"\u5403\u8089\") // (2) \u5bf9\u8c61\u901a\u8fc7`__proto__`\u5c5e\u6027,\u6307\u5411\u539f\u578b\u5bf9\u8c61 console.log(alex.__proto__) console.log(alex.__proto__.constructor.name) console.log(alex.__proto__.constructor) // \u770b\u770b\u80fd\u4e0d\u80fd\u7406\u89e3 console.log(alex.__proto__ === Dog.prototype) console.log(Dog.prototype) alex.age = 100 console.log(alex.age) // \u5148\u67e5\u627e\u81ea\u5df1\u7684\u7a7a\u95f4\uff0c\u627e\u4e0d\u5230\uff0c\u53bb\u539f\u578b\u4e2d\u627e console.log(eric.age) // \u731c\u4e00\u731c1 Dog.prototype.sleep =function (){ console.log(\"prototype sleeping\") } alex.sleep() // \u731c\u4e00\u731c2 let zhangSan = new Dog(\"\u5f20\u4e09\", 35); Dog.prototype = { fly:function (){ console.log(\"flying...\") } } // let zhangSan = new Dog(\"\u5f20\u4e09\", 35); // zhangSan.fly() zhangSan.eat(\"\u8fa3\u6761\") (5) call\u548capply\u65b9\u6cd5 call\uff0capply\u90fd\u5c5e\u4e8eFunction.prototype\u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5b83\u662fJavaScript\u5f15\u64ce\u5185\u5728\u5b9e\u73b0\u7684\uff0c\u56e0\u4e3a\u5c5e\u4e8eFunction.prototype\uff0c\u6240\u4ee5\u6bcf\u4e2aFunction\u5bf9\u8c61\u5b9e\u4f8b(\u5c31\u662f\u6bcf\u4e2a\u65b9\u6cd5)\u90fd\u6709call\uff0capply\u5c5e\u6027\u3002\u65e2\u7136\u4f5c\u4e3a\u65b9\u6cd5\u7684\u5c5e\u6027\uff0c\u90a3\u5b83\u4eec\u7684\u4f7f\u7528\u5c31\u5f53\u7136\u662f\u9488\u5bf9\u65b9\u6cd5\u7684\u4e86\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u662f\u5bb9\u6613\u6df7\u6dc6\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u7684\u4f5c\u7528\u4e00\u6837\uff0c\u53ea\u662f\u4f7f\u7528\u65b9\u5f0f\u4e0d\u540c\u3002 foo.call(this, arg1,arg2,arg3) == foo.apply(this, arguments) == this.foo(arg1, arg2, arg3); \u6848\u4f8b1: function Person(name, age) { this.name = name this.age = age } Person.prototype.eat = function () { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") } p = new Person(\"yuan\", 22) p.eat() \u6848\u4f8b2: function Person(name, age) { this.name = name this.age = age } p = new Person(\"yuan\", 22) function eat () { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") } eat.call(p) \u6848\u4f8b3: function Person(name, age) { this.name = name this.age = age } p = new Person(\"yuan\", 22) function eat () { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") } eat.call(p) eat.apply(p) \u5982\u679ccall\u548capply\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5199\u7684\u662fnull\uff0c\u90a3\u4e48this\u6307\u5411\u7684\u662fwindow\u5bf9\u8c61 \u6848\u4f8b4: function Person(name, age) { this.name = name this.age = age } p = new Person(\"yuan\", 22) function eat(a, b, c) { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") console.log(a, b, c) } eat.call(p, \"1\", \"2\", \"3\") eat.apply(p, [\"1\", \"2\", \"3\"]) // apply\u4f20\u9012\u591a\u4e2a\u53c2\u6570\u7684\u65f6\u5019\u7b2c\u4e8c\u4e2a\u53c2\u6570\u9700\u8981\u4f20\u9012\u4e00\u4e2a\u6570\u7ec4 7. window\u5bf9\u8c61 window \u662f\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\u7684\u57fa\u7c7b\uff0cwindow \u5bf9\u8c61\u662f\u5ba2\u6237\u7aef JavaScript \u7684\u5168\u5c40\u5bf9\u8c61\u3002\u4e00\u4e2a window \u5bf9\u8c61\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u7a97\u53e3\uff0c\u5bf9\u4e8e\u6846\u67b6\u9875\u9762\u6765\u8bf4\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u6bcf\u4e2a\u6846\u67b6\u90fd\u5305\u542b\u4e00\u4e2a window \u5bf9\u8c61\u3002 \uff081\uff09\u5168\u5c40\u4f5c\u7528\u57df \u5728\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u4e2d\uff0cwindow \u5bf9\u8c61\u662f\u8bbf\u95ee BOM \u7684\u63a5\u53e3\uff0c\u5982\u5f15\u7528 document \u5bf9\u8c61\u7684 document \u5c5e\u6027\uff0c\u5f15\u7528\u81ea\u8eab\u7684 window \u548c self \u5c5e\u6027\u7b49\u3002\u540c\u65f6 window \u4e5f\u4e3a\u5ba2\u6237\u7aef JavaScript \u63d0\u4f9b\u5168\u5c40\u4f5c\u7528\u57df\u3002 \u7531\u4e8e window \u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u6b64\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\u90fd\u88ab\u89e3\u6790\u4e3a\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 <script> var username = \"yuanhao\"; //\u5168\u5c40\u53d8\u91cf function f() { //\u5168\u5c40\u51fd\u6570 console.log(username); } console.log(window.username); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d window.f(); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d </script> \uff082\uff09\u4f7f\u7528\u7cfb\u7edf\u5bf9\u8bdd\u6846 window \u5bf9\u8c61\u5b9a\u4e49\u4e86 3 \u4e2a\u4eba\u673a\u4ea4\u4e92\u7684\u65b9\u6cd5\uff0c\u4e3b\u8981\u65b9\u4fbf\u5bf9 JavaScript \u4ee3\u7801\u8fdb\u884c\u8c03\u8bd5\u3002 alert()\uff1a\u786e\u5b9a\u63d0\u793a\u6846\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\u3002\u8be5\u65b9\u6cd5\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 confirm()\uff1a\u9009\u62e9\u63d0\u793a\u6846\u3002\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\uff0c\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u5305\u542b\u4e24\u4e2a\u6309\u94ae\uff0c\u5206\u522b\u8868\u793a\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u6309\u94ae\u3002\u5982\u679c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de true\uff1b\u5355\u51fb\u201c\u53d6\u6d88\u201d\u6309\u94ae\uff0c\u5219\u8fd4\u56de false\u3002confirm() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 prompt()\uff1a\u8f93\u5165\u63d0\u793a\u6846\u3002\u53ef\u4ee5\u63a5\u6536\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\uff0c\u5e76\u8fd4\u56de\u8f93\u5165\u7684\u4fe1\u606f\u3002prompt() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u6ca1\u6709\u63d0\u793a\u4fe1\u606f\u7684\u8f93\u5165\u6587\u672c\u5bf9\u8bdd\u6846\u3002 \uff083\uff09\u8bbf\u95ee\u5ba2\u6237\u7aef\u5bf9\u8c61 \u4f7f\u7528 window \u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u5ba2\u6237\u7aef\u5176\u4ed6\u5bf9\u8c61\uff0c\u8fd9\u79cd\u5173\u7cfb\u6784\u6210\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff0cwindow \u5bf9\u8c61\u4ee3\u8868\u6839\u8282\u70b9\uff0c\u6d4f\u89c8\u5668\u5bf9\u8c61\u5173\u7cfb\u7684\u5173\u7cfb\u5982\u56fe\u6240\u793a\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u8bf4\u660e\u5982\u4e0b\u3002 window\uff1a\u5ba2\u6237\u7aef JavaScript \u9876\u5c42\u5bf9\u8c61\u3002\u6bcf\u5f53 \u6216 \u6807\u7b7e\u51fa\u73b0\u65f6\uff0cwindow \u5bf9\u8c61\u5c31\u4f1a\u88ab\u81ea\u52a8\u521b\u5efa\u3002 navigator\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u6709\u5173\u6d4f\u89c8\u5668\u4fe1\u606f\u3002 screen\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u5c4f\u5e55\u7684\u4fe1\u606f\u3002 history\uff1a\u5305\u542b\u6d4f\u89c8\u5668\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684 URL \u4fe1\u606f\u3002 location\uff1a\u5305\u542b\u5f53\u524d\u7f51\u9875\u6587\u6863\u7684 URL \u4fe1\u606f\u3002 document\uff1a\u5305\u542b\u6574\u4e2a HTML \u6587\u6863\uff0c\u53ef\u88ab\u7528\u6765\u8bbf\u95ee\u6587\u6863\u5185\u5bb9\u53ca\u5176\u6240\u6709\u9875\u9762\u5143\u7d20\u3002 \uff084\uff09\u4f7f\u7528\u5b9a\u65f6\u5668 window \u5bf9\u8c61\u5305\u542b 4 \u4e2a\u5b9a\u65f6\u5668\u4e13\u7528\u65b9\u6cd5\uff0c\u8bf4\u660e\u5982\u4e0b\u8868\u6240\u793a\uff0c\u4f7f\u7528\u5b83\u4eec\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u5b9a\u65f6\u6267\u884c\uff0c\u6216\u8005\u5ef6\u8fdf\u6267\u884c\uff0c\u4f7f\u7528\u5b9a\u65f6\u5668\u53ef\u4ee5\u8bbe\u8ba1\u6f14\u793a\u52a8\u753b\u3002 \u65b9\u6cd5 \u8bf4\u660e setInterval() \u6309\u7167\u6267\u884c\u7684\u5468\u671f\uff08\u5355\u4f4d\u4e3a\u6beb\u79d2\uff09\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f setTimeout() \u5728\u6307\u5b9a\u7684\u6beb\u79d2\u6570\u540e\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f clearInterval() \u53d6\u6d88\u7531 setInterval() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 clearTimeout() \u53d6\u6d88\u7531 setTimeout() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 setTimeout() \u65b9\u6cd5\u80fd\u591f\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u6bb5\u540e\u6267\u884c\u7279\u5b9a\u4ee3\u7801\u3002\u7528\u6cd5\u5982\u4e0b\uff1a var o = setTimeout(code, delay) \u53c2\u6570 code \u8868\u793a\u8981\u5ef6\u8fdf\u6267\u884c\u7684\u5b57\u7b26\u4e32\u578b\u4ee3\u7801\uff0c\u5c06\u5728 Windows \u73af\u5883\u4e2d\u6267\u884c\uff0c\u5982\u679c\u5305\u542b\u591a\u4e2a\u8bed\u53e5\uff0c\u5e94\u8be5\u4f7f\u7528\u5206\u53f7\u8fdb\u884c\u5206\u9694\u3002delay \u8868\u793a\u5ef6\u8fdf\u65f6\u95f4\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u503c\u662f\u4e00\u4e2a Timer ID\uff0c\u8fd9\u4e2a ID \u7f16\u53f7\u6307\u5411\u5ef6\u8fdf\u6267\u884c\u7684\u4ee3\u7801\u63a7\u5236\u53e5\u67c4\u3002\u5982\u679c\u628a\u8fd9\u4e2a\u53e5\u67c4\u4f20\u9012\u7ed9 clearTimeout() \u65b9\u6cd5\uff0c\u5219\u4f1a\u53d6\u6d88\u4ee3\u7801\u7684\u5ef6\u8fdf\u6267\u884c\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <input id=\"ID1\" type=\"text\" > <button onclick=\"begin()\">\u5f00\u59cb</button> <button onclick=\"end()\">\u505c\u6b62</button> <script> function showTime(){ var nowd2=new Date().toLocaleString(); var temp=document.getElementById(\"ID1\"); temp.value=nowd2; } var ID; function begin(){ if (ID==undefined){ showTime(); ID=setInterval(showTime,1000); } } function end(){ clearInterval(ID); ID=undefined; } </script> </body> </html> 9.2\u3001ES6\u65b0\u8bed\u6cd5 1. var\u3001let\u4ee5\u53caconst ES6 \u4e2d\u5f15\u5165\u4e86\u5173\u952e\u5b57 let \u548c const \u4f5c\u4e3a var \u7684\u66ff\u4ee3\u3002\u5b83\u4eec\u975e\u5e38\u6709\u7528\uff0c\u5982\u4eca\u51e0\u4e4e\u6bcf\u4e2a JavaScript \u5f00\u53d1\u4eba\u5458\u90fd\u5728\u4f7f\u7528\u5b83\u4eec\u3002 \u4e0e\u5173\u952e\u5b57 var \u4e0d\u540c\uff0c\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u5177\u6709\u5757\u4f5c\u7528\u57df\u3002\u8fd9\u610f\u5473\u7740\u5f53\u4f60\u5728\u5757\u4e2d\u58f0\u660e\u5b83\u4eec\u65f6\uff0c\u5b83\u4eec\u53ea\u80fd\u5728\u8be5\u5757 {} \u5185\u8bbf\u95ee\u3002 // for (var i=0;i<10;i++){ // console.log(i) // } // console.log(i) for (let i=0;i<10;i++){ console.log(i) } console.log(i) \u53d8\u91cf\u63d0\u5347 \u770b\u4ee5\u4e0b\u4ee3\u7801, \u6216\u591a\u6216\u5c11\u4f1a\u6709\u4e9b\u95ee\u9898\u7684. function fn(){ console.log(name); var name = 'yuan'; } fn() \u53d1\u73b0\u95ee\u9898\u4e86\u4e48. \u8fd9\u4e48\u5199\u4ee3\u7801, \u5728\u5176\u4ed6\u8bed\u8a00\u91cc. \u7edd\u5bf9\u662f\u4e0d\u5141\u8bb8\u7684. \u4f46\u662f\u5728js\u91cc. \u4e0d\u4f46\u5141\u8bb8, \u8fd8\u80fd\u6267\u884c. \u4e3a\u4ec0\u4e48\u5462? \u56e0\u4e3a\u5728js\u6267\u884c\u7684\u65f6\u5019. \u5b83\u4f1a\u9996\u5148\u68c0\u6d4b\u4f60\u7684\u4ee3\u7801. \u53d1\u73b0\u5728\u4ee3\u7801\u4e2d\u4f1a\u6709name\u4f7f\u7528. OK. \u8fd0\u884c\u65f6\u5c31\u4f1a\u53d8\u6210\u8fd9\u6837\u7684\u903b\u8f91: function fn(){ var name; console.log(name); name = 'yuan'; } fn() console.log(a); \u770b\u5230\u4e86\u4e48. \u5b9e\u9645\u8fd0\u884c\u7684\u65f6\u5019\u548c\u6211\u4eec\u5199\u4ee3\u7801\u7684\u987a\u5e8f\u53ef\u80fd\u4f1a\u4e0d\u4e00\u6837....\u8fd9\u79cd\u628a\u53d8\u91cf\u63d0\u524d\u5230\u4ee3\u7801\u5757\u7b2c\u4e00\u90e8\u5206\u8fd0\u884c\u7684\u903b\u8f91\u88ab\u79f0\u4e3a\u53d8\u91cf\u63d0\u5347. \u8fd9\u5728\u5176\u4ed6\u8bed\u8a00\u91cc\u662f\u7edd\u5bf9\u6ca1\u6709\u7684. \u5e76\u4e14\u4e5f\u4e0d\u662f\u4ec0\u4e48\u597d\u4e8b\u60c5. \u6b63\u5e38\u7684\u903b\u8f91\u4e0d\u5e94\u8be5\u662f\u8fd9\u6837\u7684. \u90a3\u4e48\u600e\u4e48\u529e? \u5728\u65b0\u7684ES6\u4e2d. \u5c31\u660e\u786e\u4e86, \u8fd9\u6837\u4f7f\u7528\u53d8\u91cf\u662f\u4e0d\u5b8c\u5584\u7684. es6\u63d0\u51fa. \u7528let\u6765\u58f0\u660e\u53d8\u91cf. \u5c31\u4e0d\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\u4e86. function fn(){ console.log(name); // \u76f4\u63a5\u62a5\u9519, let\u53d8\u91cf\u4e0d\u53ef\u4ee5\u53d8\u91cf\u63d0\u5347. let name = 'yuan'; } fn() \u7ed3\u8bba\u4e00, \u7528let\u58f0\u660e\u53d8\u91cf\u662f\u65b0\u7248\u672cjavascript\u63d0\u5021\u7684\u4e00\u79cd\u58f0\u660e\u53d8\u91cf\u7684\u65b9\u6848 let\u8fd8\u6709\u54ea\u4e9b\u4f5c\u7528\u5462? function fn(){ var name = \"rain\"; var name = \"yuan\"; console.log(name); } fn() \u663e\u7136\u4e00\u4e2a\u53d8\u91cf\u88ab\u58f0\u660e\u4e86\u4e24\u6b21. \u8fd9\u6837\u4e5f\u662f\u4e0d\u5408\u7406\u7684. var\u672c\u610f\u662f\u58f0\u660e\u53d8\u91cf. \u540c\u4e00\u4e2a\u4e1c\u897f. \u88ab\u58f0\u660e\u4e24\u6b21. \u6240\u4ee5ES6\u89c4\u5b9a. let\u58f0\u660e\u7684\u53d8\u91cf. \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. \u53ea\u80fd\u58f0\u660e\u4e00\u6b21. function fn(){ let name = \"yuan\"; let name = \"rain\"; console.log(name); } fn() \u6ce8\u610f, \u62a5\u9519\u662f\u53d1\u751f\u5728\u4ee3\u7801\u68c0\u67e5\u9636\u6bb5. \u6240\u4ee5. \u4e0a\u8ff0\u4ee3\u7801\u6839\u672c\u5c31\u6267\u884c\u4e0d\u4e86. \u7ed3\u8bba\u4e8c, \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. let\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u58f0\u660e\u4e00\u6b21. \u5176\u4ed6\u4f7f\u7528\u4e0a\u548cvar\u6ca1\u6709\u5dee\u522b\u3002 \u9664\u4e86 let\uff0cES6 \u540c\u65f6\u8fd8\u589e\u52a0\u4e86 const \u5173\u952e\u5b57\u3002\u4f7f\u7528 const \u58f0\u660e\u7684\u53d8\u91cf\u5fc5\u987b\u540c\u65f6\u521d\u59cb\u5316\u4e3a\u67d0\u4e2a\u503c\u3002 \u4e00\u7ecf\u58f0\u660e\uff0c\u5728\u5176\u751f\u547d\u5468\u671f\u7684\u4efb\u4f55\u65f6\u5019\u90fd\u4e0d\u80fd\u518d\u91cd\u65b0\u8d4b\u4e88\u65b0\u503c\u3002 <script> // const\u58f0\u660e\u5e38\u91cf\u5fc5\u987b\u8d4b\u521d\u59cb\u503c const a=6;//\u5408\u6cd5\u6709\u6548 const b;//\u62a5\u9519 SyntaxError\uff0c\u5fc5\u987b\u8d4b\u521d\u59cb\u503c\u624d\u53ef\u4ee5 // const\u58f0\u660e\u7684\u5e38\u91cf\u4e0d\u80fd\u66f4\u6539 const a=6;//\u5408\u6cd5\u6709\u6548 a=7;//\u62a5\u9519\uff0c\u4e0d\u80fd\u66f4\u6539 /* \u5bf9\u4e8econst\u58f0\u660e\u7684\u539f\u59cb\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u65e6\u58f0\u660e\u53d8\u4e0d\u80fd\u66f4\u6539\uff0c\u4f46\u662f\u5bf9\u4e8e\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0c\u867d\u7136\u4e0d\u80fd\u91cd\u65b0\u8d4b\u503c\u7ed9\u67d0\u4e2a\u65b0\u7684\u5f15\u7528\u7c7b\u578b\u53d8\u91cf\u3002\u4f46\u662f\u64cd\u4f5c\u64cd\u4f5c\u5f15\u7528\u6570\u636e\u7c7b\u578b\u53d8\u91cf\u4e2d\u7684\u5143\u7d20\u6216\u8005\u5c5e\u6027\u5374\u662f\u5408\u6cd5\u7684\u3002\u56e0\u4e3a\u8fd9\u4e9b\u64cd\u4f5c\u4e0d\u4f1a\u6539\u53d8\u5f15\u7528\u6570\u636e\u7c7b\u578b\u7684\u5730\u5740\u3002 */ const obj={}; obj.name=\"\u5357\u5c71\u884c\u8005\";//\u5408\u6cd5\u6709\u6548 console.log(obj); const arr=[1,2,3]; arr.push(3);//\u5408\u6cd5\u6709\u6548 arr.shift();//\u5408\u6cd5\u6709\u6548 console.log(arr); </script> 2. ES6\u4e2d\u7684\u7bad\u5934\u51fd\u6570 \u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. // es6\u5141\u8bb8\u4f7f\u7528\u201c\u7bad\u5934\u201d(=>)\u5b9a\u4e49\u51fd\u6570\u3002 var f = v => v // \u7b49\u540c\u4e8e var f = function(v) { return v } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u4e0d\u9700\u8981\u53c2\u6570\u6216\u9700\u8981\u591a\u4e2a\u53c2\u6570\uff0c\u5c31\u4f7f\u7528\u4e00\u4e2a\u5706\u62ec\u53f7\u4ee3\u8868\u53c2\u6570\u90e8\u5206\u3002 var f = () => 5 // \u7b49\u540c\u4e8e var f = function() { return 5 } var sum = (num1, num2) => num1 + num2 // \u7b49\u540c\u4e8e var sum = function(num1, num2) { return num1 + num2 } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u7684\u4ee3\u7801\u5757\u90e8\u5206\u591a\u4e8e\u4e00\u6761\u8bed\u53e5\uff0c\u5c31\u8981\u4f7f\u7528\u5927\u62ec\u53f7\u5c06\u5b83\u4eec\u62ec\u8d77\u6765\uff0c\u5e76\u4e14\u4f7f\u7528return\u8bed\u53e5\u8fd4\u56de\u3002 var sum = (num1, num2) => {return num1 + num2} //\u7531\u4e8e\u5927\u62ec\u53f7\u88ab\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\uff0c\u6240\u4ee5\u5982\u679c\u7bad\u5934\u51fd\u6570\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5fc5\u987b\u5728\u5bf9\u8c61\u5916\u9762\u52a0\u4e0a\u62ec\u53f7\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 // \u62a5\u9519 let getUser = id => {id: id, name: \"yuan\"} // \u4e0d\u62a5\u9519 let getUser = id => ({id: id, name: \"yuan\"}) // \u7bad\u5934\u51fd\u6570\u7684\u4e00\u4e2a\u7528\u5904\u662f\u7b80\u5316\u56de\u8c03\u51fd\u6570\u3002 // \u6b63\u5e38\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(function(x) { return x * x }) // \u7bad\u5934\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(x => x * x) 3. ES6\u5bf9\u8c61\u7b80\u5199 var name = \"yuan\" var age = 22 function run() { console.log(this.name + \" running\") } p1 = { name, age, eat: function () { console.log(this.name + \" is eating\") }, run: run, } p1.eat() p1.run() 4. ES6\u683c\u5f0f\u5316 ES6\u4e2d\u5141\u8bb8\u4f7f\u7528\u53cd\u5f15\u53f7 ` \u6765\u521b\u5efa\u5b57\u7b26\u4e32\uff0c \u6b64\u79cd\u65b9\u6cd5\u521b\u5efa\u7684\u5b57\u7b26\u4e32\u91cc\u9762\u53ef\u4ee5\u5305\u542b\u7531\u7f8e\u5143\u7b26\u53f7\u52a0\u82b1\u62ec\u53f7\u5305\u88f9\u7684\u53d8\u91cf ${vraible}\u3002 var num = Math.random() console.log(`\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff1a${num}`) 9.3\u3001JS\u5de5\u5177 1. \u4e09\u5143\u8fd0\u7b97\u7b26 \u4e09\u5143\u8fd0\u7b97\u7b26: \u6761\u4ef6\u8868\u8fbe\u5f0f?\u8bed\u53e51:\u8bed\u53e52; /* * \u6761\u4ef6\u8fd0\u7b97\u7b26\u4e5f\u53eb\u4e09\u5143\u8fd0\u7b97\u7b26 * \u8bed\u6cd5\uff1a * \u6761\u4ef6\u8868\u8fbe\u5f0f?\u8bed\u53e51:\u8bed\u53e52; * - \u6267\u884c\u7684\u6d41\u7a0b\uff1a * \u6761\u4ef6\u8fd0\u7b97\u7b26\u5728\u6267\u884c\u65f6\uff0c\u9996\u5148\u5bf9\u6761\u4ef6\u8868\u8fbe\u5f0f\u8fdb\u884c\u6c42\u503c\uff0c * \u5982\u679c\u8be5\u503c\u4e3atrue\uff0c\u5219\u6267\u884c\u8bed\u53e51\uff0c\u5e76\u8fd4\u56de\u6267\u884c\u7ed3\u679c * \u5982\u679c\u8be5\u503c\u4e3afalse\uff0c\u5219\u6267\u884c\u8bed\u53e52\uff0c\u5e76\u8fd4\u56de\u6267\u884c\u7ed3\u679c * \u5982\u679c\u6761\u4ef6\u7684\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u7ed3\u679c\u662f\u4e00\u4e2a\u975e\u5e03\u5c14\u503c\uff0c * \u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\u7136\u540e\u5728\u8fd0\u7b97 */ \u6848\u4f8b1: let a = 10; let b = 20; let d = a > b? a: b console.log(d); \u6848\u4f8b2: let a = 10; let b = 20; let c = 5; let d = 17; let e; let m; e = (e = a > 3 ? b : c, m = e < b++ ? c-- : a = 3 > b % d ? 27: 37, m++) // e = a > 3 ? b : c // e=b=20 // m = e < b++ ? c-- : a = 3 > b % d ? 27: 37// m=a=37 // e = m++ // e= 37 m=38 console.log(e); console.log(c); console.log(m); 2. eval eval() \u51fd\u6570\u8ba1\u7b97 JavaScript \u5b57\u7b26\u4e32\uff0c\u5e76\u628a\u5b83\u4f5c\u4e3a\u811a\u672c\u4ee3\u7801\u6765\u6267\u884c\u3002 \u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0ceval() \u51fd\u6570\u5c06\u6267\u884c\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u53c2\u6570\u662fJavascript\u8bed\u53e5\uff0ceval()\u5c06\u6267\u884c Javascript \u8bed\u53e5\u3002 eval(string) // eval('[1,2,3,4,5].map(x=>x*x)') http://tools.jb51.net/password/evalencode 3. Hook\u51fd\u6570 \u5728 JS \u9006\u5411\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u628a\u66ff\u6362\u539f\u51fd\u6570\u7684\u8fc7\u7a0b\u90fd\u79f0\u4e3a Hook\u3002 function foo() { console.log(\"foo\u529f\u80fd...\") return 123 } foo() var _foo = foo foo = function () { console.log(\"\u622a\u65ad\u5f00\u59cb...\") debugger; _foo() console.log(\"\u622a\u65ad\u7ed3\u675f...\") } function foo(a, b, c, d, e, f) { console.log(\"foo\u529f\u80fd...\") console.log(a, b, c, d, e, f) return 123 } var _foo = foo foo = function () { console.log(\"\u622a\u65ad\u5f00\u59cb...\") // _foo(arguments) _foo.apply(this,arguments) console.log(\"\u622a\u65ad\u7ed3\u675f...\") } foo(1,2,3,4,5,6,7) \u6848\u4f8b1: Hook eval console.log(\"\u7a0b\u5e8f\u5f00\u59cb\") // eval(\"console.log('yuan')\") window[\"e\"+\"v\"+\"a\"+\"l\"](\"console.log('eval yuan')\") console.log(\"\u7a0b\u5e8f\u7ed3\u675f\") var _eval = eval eval = function (src) { console.log(\"eval\u622a\u65ad\u5f00\u59cb...\") debugger; _eval.apply(this, src) console.log(\"eval\u622a\u65ad\u7ed3\u675f...\") } \u6848\u4f8b2: Hook JSON.stringify JSON.stringify() \u65b9\u6cd5\u7528\u4e8e\u5c06 JavaScript \u503c\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\uff0c\u5728\u67d0\u4e9b\u7ad9\u70b9\u7684\u52a0\u5bc6\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\uff0c\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u9047\u5230 JSON.stringify() \u65f6\uff0c\u5219\u63d2\u5165\u65ad\u70b9\uff1a (function() { var stringify = JSON.stringify; JSON.stringify = function(params) { console.log(\"Hook JSON.stringif:::\", params); debugger; return stringify(params); } })(); \u6848\u4f8b3: Hook JSON.parse JSON.parse() \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a JSON \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5bf9\u8c61\uff0c\u5728\u67d0\u4e9b\u7ad9\u70b9\u7684\u52a0\u5bc6\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\uff0c\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u9047\u5230 JSON.parse() \u65f6\uff0c\u5219\u63d2\u5165\u65ad\u70b9\uff1a (function() { var parse = JSON.parse; JSON.parse = function(params) { console.log(\"Hook JSON.parse::: \", params); debugger; return parse(params); } })(); \u6848\u4f8b4: Hook Cookie \u4e00\u822c\u4f7f\u7528Object.defineProperty()\u6765\u8fdb\u884c\u5c5e\u6027\u64cd\u4f5c\u7684hook\u3002\u90a3\u4e48\u6211\u4eec\u4e86\u89e3\u4e00\u4e0b\u8be5\u65b9\u6cd5\u7684\u4f7f\u7528\u3002 Object.defineProperty(obj, prop, descriptor) // \u53c2\u6570 obj\uff1a\u5bf9\u8c61\uff1b prop\uff1a\u5bf9\u8c61\u7684\u5c5e\u6027\u540d\uff1b descriptor\uff1a\u5c5e\u6027\u63cf\u8ff0\u7b26\uff1b \u4e00\u822chook\u4f7f\u7528\u7684\u662fget\u548cset\u65b9\u6cd5\uff0c\u4e0b\u8fb9\u7b80\u5355\u6f14\u793a\u4e00\u4e0b var people = { name: '\u5f20\u4e09', }; Object.defineProperty(people, 'age', { get: function () { console.log('\u83b7\u53d6\u503c\uff01'); return count; }, set: function (val) { console.log('\u8bbe\u7f6e\u503c\uff01'); count = val + 1; }, }); people.age = 18; console.log(people.age); \u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u8bbe\u7f6e\u67d0\u4e2a\u503c\u7684\u65f6\u5019\uff0c\u6dfb\u52a0\u4e00\u4e9b\u4ee3\u7801\uff0c\u6bd4\u5982 debugger;\uff0c\u8ba9\u5176\u65ad\u4e0b\uff0c\u7136\u540e\u5229\u7528\u8c03\u7528\u6808\u8fdb\u884c\u8c03\u8bd5\uff0c\u627e\u5230\u53c2\u6570\u52a0\u5bc6\u3001\u6216\u8005\u53c2\u6570\u751f\u6210\u7684\u5730\u65b9\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7f51\u7ad9\u52a0\u8f7d\u65f6\u9996\u5148\u8981\u8fd0\u884c\u6211\u4eec\u7684 Hook \u4ee3\u7801\uff0c\u518d\u8fd0\u884c\u7f51\u7ad9\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u624d\u80fd\u591f\u6210\u529f\u65ad\u4e0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u53ef\u4ee5\u79f0\u4e4b\u4e3a Hook \u4ee3\u7801\u7684\u6ce8\u5165\u3002 (function(){ 'use strict' var _cookie = \"\"; Object.defineProperty(document, 'cookie', { set: function(val) { console.log(val); debugger _cookie = val; return val; }, get: function() { return _cookie; }, }); })() \u7b2c\u5341\u7ae0. JS\u9006\u5411\u722c\u866b JS\u9006\u5411\u7684\u76ee\u7684\u662f\u901a\u8fc7\u8fd0\u884c\u672c\u5730JS\u7684\u6587\u4ef6\u6216\u8005\u4ee3\u7801,\u4ee5\u5b9e\u73b0\u8131\u79bb\u4ed6\u7684\u7f51\u7ad9\u548c\u6d4f\u89c8\u5668,\u5e76\u4e14\u8fd8\u80fd\u62ff\u5230\u548c\u6d4f\u89c8\u5668\u52a0\u5bc6\u4e00\u6837\u7684\u6548\u679c\u3002 10.1\u3001PyExecJS\u6a21\u5757 pyexecjs\u662f\u4e00\u4e2a\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fd0\u884cjs\u4ee3\u7801\u7684\u4e00\u4e2a\u7b2c\u4e09\u65b9\u6a21\u5757. \u5176\u4f7f\u7528\u662f\u975e\u5e38\u5bb9\u6613\u4e0a\u624b\u7684. \u4f46\u662f\u5b83\u7684\u8fd0\u884c\u662f\u8981\u4f9d\u8d56\u80fd\u8fd0\u884cjs\u7684\u7b2c\u4e09\u65b9\u73af\u5883\u7684. \u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u7528node\u4f5c\u4e3a\u6211\u4eec\u8fd0\u884cjs\u7684\u4f4d\u7f6e. \u30101\u3011 \u5b89\u88c5Nodejs \u5207\u8bb0. \u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111. \u30102\u3011 \u5b89\u88c5pyexecjs pip install pyexecjs \u6d4b\u8bd5\u4e00\u4e0b: import execjs print(execjs.get().name) # \u9700\u8981\u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111 Node.js (V8) \u7b80\u5355\u4f7f\u7528 import execjs print(execjs.get().name) # execjs.eval \u53ef\u4ee5\u76f4\u63a5\u8fd0\u884cjs\u4ee3\u7801\u5e76\u5f97\u5230\u7ed3\u679c js = \"\"\" \"a,b,c,d\".split(\",\") \"\"\" res = execjs.eval(js) print(res) # execjs.compile(), call() # execjs.compile() \u4e8b\u5148\u52a0\u8f7d\u597d\u4e00\u6bb5js\u4ee3\u7801, jj = execjs.compile(\"\"\" function foo(a, b){ return a + b } \"\"\") # call() \u8fd0\u884c\u4ee3\u7801\u4e2d\u7684xxx\u51fd\u6570. \u540e\u7eed\u7684\u53c2\u6570\u662fxxx\u7684\u53c2\u6570 ret = jj.call(\"foo\", 10, 20) print(ret) windows\u4e2d\u5982\u679c\u51fa\u73b0\u7f16\u7801\u9519\u8bef. \u5728\u5f15\u5165execjs\u4e4b\u524d. \u63d2\u5165\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef. import subprocess from functools import partial subprocess.Popen = partial(subprocess.Popen, encoding='utf-8') import execjs \u5b8c\u4e8b\u513f. \u4f60\u6ca1\u6709\u770b\u9519. execjs\u5c31\u8fd9\u51e0\u4e2a\u529f\u80fd\u5c31\u591f\u54b1\u7528\u7684\u4e86. 10.2\u3001\u7f16\u7801\u7b97\u6cd5 \u30101\u3011\u4e00\u5207\u4eceMD5\u5f00\u59cb MD5\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u89c1\u7684\u6458\u8981(hash)\u903b\u8f91. \u5176\u7279\u70b9\u5c31\u662f\u5c0f\u5de7. \u901f\u5ea6\u5feb. \u6781\u96be\u88ab\u7834\u89e3. \u6240\u4ee5, md5\u4f9d\u7136\u662f\u56fd\u5185\u975e\u5e38\u591a\u7684\u4e92\u8054\u7f51\u516c\u53f8\u9009\u62e9\u7684\u5bc6\u7801\u6458\u8981\u7b97\u6cd5. \u8fd9\u73a9\u610f\u4e0d\u53ef\u9006. \u6240\u4ee5. \u6458\u8981\u7b97\u6cd5\u5c31\u4e0d\u662f\u4e00\u4e2a\u52a0\u5bc6\u903b\u8f91. \u76f8\u540c\u7684\u5185\u5bb9\u8ba1\u7b97\u51fa\u6765\u7684\u6458\u8981\u5e94\u8be5\u662f\u4e00\u6837\u7684 \u4e0d\u540c\u7684\u5185\u5bb9(\u54ea\u6015\u662f\u4e00\u4e22\u4e22\u4e22\u4e22\u4e22\u4e0d\u4e00\u6837) \u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c\u5dee\u522b\u975e\u5e38\u5927 \u5728\u6570\u5b66\u4e0a. \u6458\u8981\u5176\u5b9e\u8ba1\u7b97\u903b\u8f91\u5c31\u662fhash. hash(\u6570\u636e) => \u6570\u5b57 1. \u5bc6\u7801 2. \u4e00\u81f4\u6027\u68c0\u6d4b md5\u7684python\u5b9e\u73b0: from hashlib import md5 obj = md5() obj.update(\"alex\".encode(\"utf-8\")) # obj.update(\"wusir\".encode('utf-8')) # \u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u88ab\u52a0\u5bc6\u7684\u5185\u5bb9 bs = obj.hexdigest() print(bs) \u6211\u4eec\u628a\u5bc6\u6587\u4e22\u5230\u7f51\u9875\u91cc. \u53d1\u73b0\u6709\u4e9b\u7f51\u7ad9\u53ef\u4ee5\u76f4\u63a5\u89e3\u5bc6. \u4f46\u5176\u5b9e\u4e0d\u7136. \u8fd9\u91cc\u5e76\u4e0d\u662f\u76f4\u63a5\u89e3\u5bc6MD5. \u800c\u662f\"\u649e\u5e93\". \u5c31\u662f\u5b83\u7f51\u7ad9\u91cc\u5b58\u50a8\u4e86\u5927\u91cf\u7684MD5\u7684\u503c. \u5c31\u50cf\u8fd9\u6837: \u800c\u9700\u8981\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019. \u53ea\u9700\u8981\u4e00\u6761select\u8bed\u53e5\u5c31\u53ef\u4ee5\u67e5\u8be2\u5230\u4e86. \u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u649e\u5e93. \u5982\u4f55\u907f\u514d\u649e\u5e93: md5\u5728\u8fdb\u884c\u8ba1\u7b97\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u76d0. \u52a0\u76d0\u4e4b\u540e. \u5c31\u5f88\u96be\u649e\u5e93\u4e86. from hashlib import md5 salt = \"\u6211\u662f\u76d0.\u628a\u6211\u52a0\u8fdb\u53bb\u5c31\u6ca1\u4eba\u80fd\u7834\u89e3\u4e86\" obj = md5(salt.encode(\"utf-8\")) # \u52a0\u76d0 obj.update(\"alex\".encode(\"utf-8\")) bs = obj.hexdigest() print(bs) \u6269\u5c55; sha256 from hashlib import sha1, sha256 sha = sha256(b'salt') sha.update(b'alex') print(sha.hexdigest()) \u4e0d\u8bba\u662fsha1, sha256, md5\u90fd\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5. \u90fd\u662f\u5728\u8ba1\u7b97hash\u503c. \u53ea\u662f\u6563\u5217\u7684\u7a0b\u5ea6\u4e0d\u540c\u800c\u5df2. \u8fd9\u79cd\u7b97\u6cd5\u6709\u4e00\u4e2a\u7279\u6027. \u4ed6\u4eec\u662f\u6563\u5217. \u4e0d\u662f\u52a0\u5bc6. \u800c\u4e14, \u7531\u4e8ehash\u7b97\u6cd5\u662f\u4e0d\u53ef\u9006\u7684, \u6240\u4ee5\u4e0d\u5b58\u5728\u89e3\u5bc6\u7684\u903b\u8f91. \u30102\u3011url\u7f16\u7801 import urllib.parse # s = 'a' s = ' 123' ret = urllib.parse.quote(s) print(ret) s = urllib.parse.unquote(ret) print(s) params = {'name': '\u5f20\u4e09', 'age': 20, 'address': '\u5317\u4eac\u5e02\u6d77\u6dc0\u533a'} query_string = urllib.parse.urlencode(params) print(query_string) query_string = 'name=%E5%BC%A0%E4%B8%89&age=20&address=%E5%8C%97%E4%BA%AC%E5%B8%82%E6%B5%B7%E6%B7%80%E5%8C%BA' params = urllib.parse.parse_qs(query_string) print(params, type(params)) \u30103\u3011 base64\u7f16\u7801 \uff081\uff09base64\u662f\u4ec0\u4e48 Base64\u7f16\u7801\uff0c\u662f\u753164\u4e2a\u5b57\u7b26\u7ec4\u6210\u7f16\u7801\u96c6\uff1a 26\u4e2a\u5927\u5199\u5b57\u6bcdA~Z\uff0c26\u4e2a\u5c0f\u5199\u5b57\u6bcda~z\uff0c10\u4e2a\u6570\u5b570~9\uff0c\u7b26\u53f7\u201c+\u201d\u4e0e\u7b26\u53f7\u201c/\u201d \u3002Base64\u7f16\u7801\u7684\u57fa\u672c\u601d\u8def\u662f \u5c06\u539f\u59cb\u6570\u636e\u7684\u4e09\u4e2a\u5b57\u8282\u62c6\u5206\u8f6c\u5316\u4e3a\u56db\u4e2a\u5b57\u8282 \uff0c\u7136\u540e\u6839\u636eBase64\u7684\u5bf9\u5e94\u8868\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u7f16\u7801\u6570\u636e\u3002 \u5f53\u539f\u59cb\u6570\u636e\u51d1\u4e0d\u591f\u4e09\u4e2a\u5b57\u8282\u65f6\uff0c\u7f16\u7801\u7ed3\u679c\u4e2d\u4f1a\u4f7f\u7528\u989d\u5916\u7684 \u7b26\u53f7\u201c=\u201d \u6765\u8868\u793a\u8fd9\u79cd\u60c5\u51b5\u3002 \uff082\uff09base64\u539f\u7406 \u4e00\u4e2aBase64\u5b57\u7b26\u5b9e\u9645\u4e0a\u4ee3\u8868\u77406\u4e2a\u4e8c\u8fdb\u5236\u4f4d(bit)\uff0c4\u4e2aBase64\u5b57\u7b26\u5bf9\u5e943\u5b57\u8282\u5b57\u7b26\u4e32/\u4e8c\u8fdb\u5236\u6570\u636e\u3002 3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7684base64\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u5c0f\u4e8e3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u603b\u7ed3\uff1abase64\u8fc7\u7a0b \u6700\u540e\u5904\u7406\u5b8c\u7684\u7f16\u7801\u5b57\u7b26\u518d\u8f6c\u5b57\u8282\u4e2d\u4e0d\u518d\u6709base64\u4ee5\u5916\u7684\u4efb\u4f55\u5b57\u7b26\u3002 \uff083\uff09base64\u6d4b\u8bd5 import base64 bs = \"you\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) bs = \"yo\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) # \u731c\u6d4b\u7ed3\u679c bs = \"y\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) \u6ce8\u610f, b64\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u957f\u5ea6. \u4e00\u5b9a\u662f4\u7684\u500d\u6570. \u5982\u679c\u5728\u7f51\u9875\u4e0a\u770b\u5230\u6709\u4e9b\u5bc6\u6587\u7684b64\u957f\u5ea6\u4e0d\u662f4\u7684\u500d\u6570. \u4f1a\u62a5\u9519 \u4f8b\u5982, import base64 s = \"eW91\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ==\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ\" ret = base64.b64decode(s) print(ret) \u89e3\u51b3\u601d\u8def. base64\u957f\u5ea6\u8981\u6c42. \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u662f4\u7684\u500d\u6570. \u586b\u5145\u4e00\u4e0b\u5373\u53ef s = \"eW91eQ\" # ret = base64.b64decode(s) # print(ret) s += (\"=\" * (4 - len(s) % 4)) print(\"\u586b\u5145\u540e\", s) ret = base64.b64decode(s).decode() print(ret) \uff084\uff09base64\u53d8\u79cd # \u65b9\u5f0f1 data = res.text.replace(\"-\", \"+\").replace(\"_\", \"/\") base64.b64decode(data) # \u65b9\u5f0f2 data = base64.b64decode(res.text, altchars=b\"-_\") # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 \uff084\uff09\u4e3a\u4ec0\u4e48\u8981base64\u7f16\u7801 base64 \u7f16\u7801\u7684\u4f18\u70b9\uff1a \u7b97\u6cd5\u662f\u7f16\u7801\uff0c\u4e0d\u662f\u538b\u7f29\uff0c\u7f16\u7801\u540e\u53ea\u4f1a\u589e\u52a0\u5b57\u8282\u6570\uff08\u4e00\u822c\u662f\u6bd4\u4e4b\u524d\u7684\u591a1/3\uff0c\u6bd4\u5982\u4e4b\u524d\u662f3\uff0c \u7f16\u7801\u540e\u662f4\uff09 \u7b97\u6cd5\u7b80\u5355\uff0c\u57fa\u672c\u4e0d\u5f71\u54cd\u6548\u7387 \u7b97\u6cd5\u53ef\u9006\uff0c\u89e3\u7801\u5f88\u65b9\u4fbf\uff0c\u4e0d\u7528\u4e8e\u79c1\u5bc6\u4f20\u8f93\u3002 \u6bd5\u7adf\u7f16\u7801\u4e86\uff0c\u8089\u773c\u4e0d\u80fd\u76f4\u63a5\u8bfb\u51fa\u539f\u59cb\u5185\u5bb9\u3002 \u52a0\u5bc6\u540e\u7684\u5b57\u7b26\u4e32\u53ea\u6709\u30100-9a-zA-Z+/=\u3011 \uff0c\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\uff08\u8f6c\u8bd1\u5b57\u7b26\uff09\u4e5f\u53ef\u4ee5\u4f20\u8f93\uff08\u5173\u952e\uff01\uff01\uff01\uff09 \u6709\u4e9b\u7f51\u7edc\u4f20\u8f93\u534f\u8bae\u662f\u4e3a\u4e86\u4f20\u8f93 ASCII\u6587\u672c \u8bbe\u8ba1\u7684\uff0c\u5f53\u4f60\u4f7f\u7528\u5176\u4f20\u8f93\u4e8c\u8fdb\u5236\u6d41\u65f6\uff08\u6bd4\u5982\u89c6\u9891/\u56fe\u7247\uff09\uff0c\u4e8c\u8fdb\u5236\u6d41\u4e2d\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u88ab\u534f\u8bae\u9519\u8bef\u7684\u8bc6\u522b\u4e3a\u63a7\u5236\u5b57\u7b26\u7b49\u7b49\uff0c\u56e0\u800c\u51fa\u73b0\u9519\u8bef\u3002\u90a3\u8fd9\u65f6\u5c31\u8981\u5c06\u4e8c\u8fdb\u5236\u6d41\u4f20\u8f93\u7f16\u7801\uff0c\u56e0\u4e3a\u6709\u4e9b8Bit\u5b57\u8282\u7801\u5e76\u6ca1\u6709\u5bf9\u5e94\u7684ASCII\u5b57\u7b26\u3002 \u6bd4\u5982\u5341\u8fdb\u5236ASCII\u78018\u5bf9\u5e94\u7684\u662f\u540e\u9000\u7b26\u53f7(backspace), \u5982\u679c\u88ab\u7f16\u7801\u7684\u6570\u636e\u4e2d\u5305\u542b\u8fd9\u4e2a\u6570\u503c\uff0c\u90a3\u4e48\u7f16\u7801\u51fa\u6765\u7684\u7ed3\u679c\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u91cc\u4f1a\u5bfc\u81f4\u524d\u4e00\u4e2a\u5b57\u7b26\u88ab\u5220\u6389\u3002\u53c8\u6bd4\u5982ASCII\u78010\u5bf9\u5e94\u7684\u662f\u7a7a\u5b57\u7b26\uff0c\u5728\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u91cc\u4ee3\u8868\u5b57\u7b26\u4e32\u7ed3\u675f\uff0c\u540e\u7eed\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u88ab\u5904\u7406\u4e86\u3002 \u7528Base64\u7f16\u7801\u56e0\u4e3a\u9650\u5b9a\u4e86\u7528\u4e8e\u7f16\u7801\u7684\u5b57\u7b26\u96c6\uff0c\u786e\u4fdd\u7f16\u7801\u7684\u7ed3\u679c\u53ef\u6253\u5370\u4e14\u65e0\u6b67\u4e49\u3002 \u4e0d\u540c\u7684\u7f51\u7edc\u8282\u70b9\u8bbe\u5907\u4ea4\u4e92\u6570\u636e\u9700\u8981\uff1a\u8bbe\u5907A\u628abase64\u7f16\u7801\u540e\u7684\u6570\u636e\u5c01\u88c5\u5728 json\u5b57\u7b26\u4e32 \u91cc\uff0c\u8bbe\u5907B\u5148\u89e3\u6790json\u62ff\u5230value\uff0c\u518d\u8fdb\u884cbase64\u89e3\u7801\u62ff\u5230\u60f3\u8981\u7684\u6570\u636e\u3002 \u65e9\u5e74\u5236\u5b9a\u7684\u4e00\u4e9b\u534f\u8bae\u90fd\u662f\u53ea\u652f\u6301\u6587\u672c\u8bbe\u5b9a\u7684\u3002\u968f\u7740\u4e0d\u65ad\u53d1\u5c55\u9700\u8981\u652f\u6301\u975e\u6587\u672c\u4e86\uff0c\u624d\u641e\u4e86\u4e00\u4e2abase64\u505a\u517c\u5bb9 \u867d\u7136\u7f16\u7801\u4e4b\u540e\u7684\u6570\u636e\u4e0e\u52a0\u5bc6\u4e00\u6837\u90fd\u5177\u6709\u4e0d\u53ef\u89c1\u6027\uff0c\u4f46\u7f16\u7801\u4e0e\u52a0\u5bc6\u7684\u6982\u5ff5\u5e76\u4e0d\u4e00\u6837\u3002\u7f16\u7801\u662f\u516c\u5f00\u7684\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u89e3\u7801\uff1b\u800c\u52a0\u5bc6\u5219\u76f8\u53cd\uff0c\u4f60\u53ea\u5e0c\u671b\u81ea\u5df1\u6216\u8005\u7279\u5b9a\u7684\u4eba\u624d\u53ef\u4ee5\u5bf9\u5185\u5bb9\u8fdb\u884c\u89e3\u5bc6\u3002 base64\u5904\u7406\u56fe\u7247\u6570\u636e\uff1a import base64 source = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA7VBMVEUAAAD////////s8v////+txP+qwv+4zf/w9f/2+P+hu//Q3f+yyP+4zf/Q3f////+kvv+90P+80f+2yv/S4P/T4P/M2//z9/+cuP/V4P9Whv////9Uhf9Sg/9Pgf9NgP/8/f9di/9Xh/9lkf5aif9qlP7z9//k7P/c5v+2y/94nv51nP6lv/+LrP6Ep/6BpP5gjf7v9P+wxv/U4f/M2/+sxP+vxv73+f/P3v/J2v+5zf+ivP+fuv9xmf+Ytv6Usv6Hqf58of5vl/7m7v/g6f+zyf6QsP75+//q8P/B0v/W4//C1P6+0P6qwv6ct/76fHZiAAAAGnRSTlMAGAaVR/Py45aC9Mfy2b8t9OPZ2ce/v4L0x/e74/EAAAIZSURBVDjLZVPXYuIwEDSmQ4BLv5O0ku3Yhwu2IZTQe0hy7f8/57QSoYR5sVea1c424wgzl324LRRuH7I507hEJluYucCFEOBGhWzmy7X5+N0WwIjTbrcdBsKulM0z96onGCGE2X6n+cTkj/CqJ480igzkNXp26E9JkABSbBz8i4Bn3EkH840mKHoxs49fZQzt2Kd03FQEzSB3WsejB9Jqf1CJQBM0wCurABWBoub0gkDENwyStTHA62pwSWDtklRQ4FLfjnaiPqVW60hAYeLKNHIREOZuKTL80H6XBFCwn4BAmDOyLiOQUIlOSEjaoS+Ju57NZuul73Fml4w6yAivSLBW3MGfcfBmIegmArg3alICdJHgy1jQt8Z/6CcC4DdGXhLIoiWRACpbLYbDYW80GnXp2GH8ShP+PUvEoHsAIFq9Xm8+kXlIwkkI9pm+05Tm3yWqu9EiB0pkwjWBx2i+tND1XqeZqpPU4VhUbq/ekR8CwTRVoRxf3ifTbeIwcONNsJZ2lxFVKDMv1KNvS2zXdrnD+COvR1PQpTZKNlKD3cLCOJNnivgVxkw169BunlKFaV9/B+LQbqOsByY4IVgDB59dl/cjR9TIJV1Lh7CGqUqH/DDPhhZYOPkdLz6m0X7GrzPHsSe6zJwzxvm+5NeNi8U5ABfn7mz7zHJFrZ6+BY6rd7m8kQtcAtwwXzq4n69/vZbP1+pn6/8fsrRmHUhmpYYAAAAASUVORK5CYII=\" s = source.split(\",\")[1] with open(\"a.png\", \"wb\") as f: f.write(base64.b64decode(s)) \u30104\u3011\u5bf9\u79f0\u52a0\u5bc6\uff08AES\u4e0eDES\uff09 AES\u662f\u4e00\u79cd\u5bf9\u79f0\u52a0\u5bc6\uff0c\u6240\u8c13\u5bf9\u79f0\u52a0\u5bc6\u5c31\u662f\u52a0\u5bc6\u4e0e\u89e3\u5bc6\u4f7f\u7528\u7684\u79d8\u94a5\u662f\u4e00\u4e2a\u3002 \u5e38\u89c1\u7684\u5bf9\u79f0\u52a0\u5bc6: AES, DES, 3DES. \u6211\u4eec\u8fd9\u91cc\u8ba8\u8bbaAES\u3002 \u5b89\u88c5\uff1a pip install pycryptodome AES \u52a0\u5bc6\u6700\u5e38\u7528\u7684\u6a21\u5f0f\u5c31\u662f ECB\u6a21\u5f0f \u548c CBC \u6a21\u5f0f\uff0c\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u5176\u5b83\u6a21\u5f0f\uff0c\u4ed6\u4eec\u90fd\u5c5e\u4e8eAES\u52a0\u5bc6\u3002ECB\u6a21\u5f0f\u548cCBC \u6a21\u5f0f\u4fe9\u8005\u533a\u522b\u5c31\u662f ECB \u4e0d\u9700\u8981 iv\u504f\u79fb\u91cf\uff0c\u800cCBC\u9700\u8981\u3002 \u53c2\u6570 \u4f5c\u7528\u53ca\u6570\u636e\u7c7b\u578b 1. \u79d8\u94a5 \u52a0\u5bc6\u7684\u65f6\u5019\u7528\u79d8\u94a5\uff0c\u89e3\u5bc6\u7684\u65f6\u5019\u9700\u8981\u540c\u6837\u7684\u79d8\u94a5\u624d\u80fd\u89e3\u51fa\u6765; \u6570\u636e\u7c7b\u578b\u4e3abytes 2. \u660e\u6587 \u9700\u8981\u52a0\u5bc6\u7684\u53c2\u6570; \u6570\u636e\u7c7b\u578b\u4e3abytes 3. \u6a21\u5f0f aes \u52a0\u5bc6\u5e38\u7528\u7684\u6709 ECB \u548c CBC \u6a21\u5f0f\uff08\u6211\u53ea\u7528\u4e86\u8fd9\u4e24\u4e2a\u6a21\u5f0f\uff0c\u8fd8\u6709\u5176\u4ed6\u6a21\u5f0f\uff09;\u6570\u636e\u7c7b\u578b\u4e3aaes\u7c7b\u5185\u90e8\u7684\u679a\u4e3e\u91cf iv \u504f\u79fb\u91cf \u8fd9\u4e2a\u53c2\u6570\u5728 ECB \u6a21\u5f0f\u4e0b\u4e0d\u9700\u8981\uff0c\u5728 CBC \u6a21\u5f0f\u4e0b\u9700\u8981\uff1b\u6570\u636e\u7c7b\u578b\u4e3abytes \"\"\" \u957f\u5ea6 16: *AES-128* 24: *AES-192* 32: *AES-256* MODE \u52a0\u5bc6\u6a21\u5f0f. \u5e38\u89c1\u7684ECB, CBC ECB\uff1a\u662f\u4e00\u79cd\u57fa\u7840\u7684\u52a0\u5bc6\u65b9\u5f0f\uff0c\u5bc6\u6587\u88ab\u5206\u5272\u6210\u5206\u7ec4\u957f\u5ea6\u76f8\u7b49\u7684\u5757\uff08\u4e0d\u8db3\u8865\u9f50\uff09\uff0c\u7136\u540e\u5355\u72ec\u4e00\u4e2a\u4e2a\u52a0\u5bc6\uff0c\u4e00\u4e2a\u4e2a\u8f93\u51fa\u7ec4\u6210\u5bc6\u6587\u3002 CBC\uff1a\u662f\u4e00\u79cd\u5faa\u73af\u6a21\u5f0f\uff0c\u524d\u4e00\u4e2a\u5206\u7ec4\u7684\u5bc6\u6587\u548c\u5f53\u524d\u5206\u7ec4\u7684\u660e\u6587\u5f02\u6216\u6216\u64cd\u4f5c\u540e\u518d\u52a0\u5bc6\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u589e\u5f3a\u7834\u89e3\u96be\u5ea6\u3002 \"\"\" AES\u4e4bECB\u6a21\u5f0f ECB\u52a0\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282 text = 'alex is dsb!!!!!' # text = 'alex is dsb' # \u9700\u8981\u52a0\u5bc6\u7684\u5185\u5bb9 # while len(text.encode('utf-8')) % 16 != 0: # \u5982\u679ctext\u4e0d\u8db316\u4f4d\u7684\u500d\u6570\u5c31\u7528\u7a7a\u683c\u8865\u8db3\u4e3a16\u4f4d # text += '\\0' text = text.encode() print(\"\u5b8c\u6574text:\", text) aes = AES.new(key, AES.MODE_ECB) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 en_text = aes.encrypt(text) # \u52a0\u5bc6\u660e\u6587 print(\"\u52a0\u5bc6\u6570\u636e:::\", en_text) en_text = base64.b64encode(en_text).decode() # \u5c06\u8fd4\u56de\u7684\u5b57\u8282\u578b\u6570\u636e\u8f6c\u8fdb\u884cbase64\u7f16\u7801 print(en_text) # rRPMWCaOBYahYnKUJzq65A== ECB\u89e3\u5bc6\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282\uff08\u56e0\u4e3apython3\u7684\u5b57\u7b26\u4e32\u662funicode\u7f16\u7801\uff0c\u9700\u8981 encode\u624d\u53ef\u4ee5\u8f6c\u6362\u6210\u5b57\u8282\u578b\u6570\u636e\uff09 model = AES.MODE_ECB # \u5b9a\u4e49\u6a21\u5f0f aes = AES.new(key, model) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 text = '3NeIhJsnhzy3Ojoquz+9eg=='.encode() # \u9700\u8981\u89e3\u5bc6\u7684\u6587\u672c ecrypted_base64 = base64.b64decode(text) # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 str = aes.decrypt(ecrypted_base64).decode() # \u89e3\u5bc6 print(str) \u4ee5\u4e0a\u662f\u9488\u5bf9ECB\u6a21\u5f0f\u7684\u52a0\u5bc6\u89e3\u5bc6\uff0c\u4ece\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u53ef\u4ee5\u770b\u51fa\u53c2\u6570\u4e2d\u6709\u51e0\u4e2a\u9650\u5236\u3002 \u79d8\u94a5\u5fc5\u987b\u4e3a16\u5b57\u8282\u6216\u800516\u5b57\u8282\u7684\u500d\u6570\u7684\u5b57\u8282\u578b\u6570\u636e\u3002 \u660e\u6587\u5fc5\u987b\u4e3a16\u5b57\u8282\u6216\u800516\u5b57\u8282\u7684\u500d\u6570\u7684\u5b57\u8282\u578b\u6570\u636e\uff0c\u5982\u679c\u4e0d\u591f16\u5b57\u8282\u9700\u8981\u8fdb\u884c\u8865\u5168\uff0c\u5173\u4e8e\u8865\u5168\u89c4\u5219\uff0c\u540e\u9762\u4f1a\u5728\u8865\u5168\u6a21\u5f0f\u4e2d\u5177\u4f53\u4ecb\u7ecd\u3002 AES\u4e4bCBC\u6a21\u5f0f CBC\u52a0\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282 text = 'alex is dsb!!!!!' # text = 'alex is dsb' # \u9700\u8981\u52a0\u5bc6\u7684\u5185\u5bb9 # while len(text.encode('utf-8')) % 16 != 0: # \u5982\u679ctext\u4e0d\u8db316\u4f4d\u7684\u500d\u6570\u5c31\u7528\u7a7a\u683c\u8865\u8db3\u4e3a16\u4f4d # text += '\\0' text = text.encode() print(\"\u5b8c\u6574text:\", text) iv = b'abcdabcdabcdabcd' #\u504f\u79fb\u91cf--\u5fc5\u987b16\u5b57\u8282 aes = AES.new(key, AES.MODE_CBC,iv) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 en_text = aes.encrypt(text) # \u52a0\u5bc6\u660e\u6587 print(\"aes\u52a0\u5bc6\u6570\u636e:::\", en_text) en_text = base64.b64encode(en_text).decode() # \u5c06\u8fd4\u56de\u7684\u5b57\u8282\u578b\u6570\u636e\u8f6c\u8fdb\u884cbase64\u7f16\u7801 print(en_text) # rRPMWCaOBYahYnKUJzq65A== CBC\u89e3\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282\uff08\u56e0\u4e3apython3\u7684\u5b57\u7b26\u4e32\u662funicode\u7f16\u7801\uff0c\u9700\u8981 encode\u624d\u53ef\u4ee5\u8f6c\u6362\u6210\u5b57\u8282\u578b\u6570\u636e\uff09 model = AES.MODE_CBC # \u5b9a\u4e49\u6a21\u5f0f iv = b'abcdabcdabcdabcd' aes = AES.new(key, model, iv) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 text = 'J8bwyhYt1chAPAGu8N6kKA=='.encode() # \u9700\u8981\u89e3\u5bc6\u7684\u6587\u672c ecrypted_base64 = base64.b64decode(text) # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 str = aes.decrypt(ecrypted_base64).decode() # \u89e3\u5bc6 print(\"aes\u89e3\u5bc6\u6570\u636e:::\") \u5728Python\u4e2d\u8fdb\u884cAES\u52a0\u5bc6\u89e3\u5bc6\u65f6\uff0c\u6240\u4f20\u5165\u7684\u5bc6\u6587\u3001\u660e\u6587\u3001\u79d8\u94a5\u3001iv\u504f\u79fb\u91cf\u3001\u90fd\u9700\u8981\u662fbytes\uff08\u5b57\u8282\u578b\uff09\u6570\u636e\u3002python \u5728\u6784\u5efaaes\u5bf9\u8c61\u65f6\u4e5f\u53ea\u80fd\u63a5\u53d7bytes\u7c7b\u578b\u6570\u636e\u3002 \u5f53\u79d8\u94a5\uff0civ\u504f\u79fb\u91cf\uff0c\u5f85\u52a0\u5bc6\u7684\u660e\u6587\uff0c\u5b57\u8282\u957f\u5ea6\u4e0d\u591f16\u5b57\u8282\u6216\u800516\u5b57\u8282\u500d\u6570\u7684\u65f6\u5019\u9700\u8981\u8fdb\u884c\u8865\u5168\u3002 CBC\u6a21\u5f0f\u9700\u8981\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\uff0c\u4e3a\u4e86\u9632\u6b62\u8fd9\u7c7b\u9519\u8bef\uff0c\u65e0\u8bba\u662f\u4ec0\u4e48\u6a21\u5f0f\u90fd\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\u5c31\u53ef\u4ee5\u4e86\u3002 \u30105\u3011\u975e\u5bf9\u79f0\u52a0\u5bc6(RSA) \u975e\u5bf9\u79f0\u52a0\u5bc6. \u52a0\u5bc6\u548c\u89e3\u5bc6\u7684\u79d8\u94a5\u4e0d\u662f\u540c\u4e00\u4e2a\u79d8\u94a5. \u8fd9\u91cc\u9700\u8981\u4e24\u628a\u94a5\u5319. \u4e00\u4e2a\u516c\u94a5, \u4e00\u4e2a\u79c1\u94a5. \u516c\u94a5\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef. \u53d1\u9001\u7aef\u7528\u516c\u94a5\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u5bc6. \u518d\u53d1\u9001\u7ed9\u63a5\u6536\u7aef, \u63a5\u6536\u7aef\u4f7f\u7528\u79c1\u94a5\u6765\u5bf9\u6570\u636e\u89e3\u5bc6. \u7531\u4e8e\u79c1\u94a5\u53ea\u5b58\u653e\u5728\u63a5\u53d7\u7aef\u8fd9\u8fb9. \u6240\u4ee5\u5373\u4f7f\u6570\u636e\u88ab\u622a\u83b7\u4e86. \u4e5f\u662f\u65e0\u6cd5\u8fdb\u884c\u89e3\u5bc6\u7684. \u516c\u94a5\u548c\u79c1\u94a5 \u5e38\u89c1\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5: RSA, DSA\u7b49\u7b49, \u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a. RSA\u52a0\u5bc6, \u4e5f\u662f\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848 \u521b\u5efa\u516c\u94a5\u548c\u79c1\u94a5 from Crypto.PublicKey import RSA # \u751f\u6210\u79d8\u94a5 rsakey = RSA.generate(1024) with open(\"rsa.public.pem\", mode=\"wb\") as f: f.write(rsakey.publickey().exportKey()) with open(\"rsa.private.pem\", mode=\"wb\") as f: f.write(rsakey.exportKey()) \u52a0\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 # \u52a0\u5bc6 data = \"\u6211\u559c\u6b22\u4f60\" with open(\"rsa.public.pem\", mode=\"r\") as f: pk = f.read() rsa_pk = RSA.importKey(pk) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.encrypt(data.encode(\"utf-8\")) # \u5904\u7406\u6210b64\u65b9\u4fbf\u4f20\u8f93 b64_result = base64.b64encode(result).decode(\"utf-8\") print(b64_result) \u89e3\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 data = \"BkiKG8jzVGzbWOl4m8NXJEYglgtxhOB05MGmap8JSP97GzoewPBmDTs7c5iACUof3k/uJf0H88GygajVgBvkcbckJp7oO+Qj6VSUQYTOHhKN/VG2a8v+WzL34EO/S7BYoj2oOxIDAr8wDLxYxjBeXq/Be6Q1yBbnZcKaMkifhP8=\" # \u89e3\u5bc6 with open(\"rsa.private.pem\", mode=\"r\") as f: prikey = f.read() rsa_pk = RSA.importKey(prikey) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.decrypt(base64.b64decode(data), None) print(\"rsa\u89e3\u5bc6\u6570\u636e:::\", result.decode(\"utf-8 10.3\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u6709\u9053\u7ffb\u8bd1 Part01:\u9006\u5411\u8bf7\u6c42 \uff081\uff09\u6293\u5305 \uff082\uff09\u83b7\u53d6JS\u7684\u8bf7\u6c42\u5165\u53e3 \u83b7\u53d6\u8bf7\u6c42\u5165\u53e3:\u641c\u7d22\u5173\u952e\u5b57\uff0c\u6bd4\u5982sign\uff08\u6709\u65f6\u5019\u592a\u591a\u4e0d\u597d\u7528\uff09\uff0c\u6bd4\u5982\u8bf7\u6c42\u8def\u5f84 \uff083\uff09\u83b7\u53d6\u6784\u5efa\u6570\u636e\u7684\u76ee\u6807\u51fd\u6570 \u5206\u6790\u8bf7\u6c42\u53c2\u6570 \uff084\uff09\u83b7\u53d6\u76ee\u6807\u51fd\u6570\u6e90\u7801\u4f4d\u7f6e \u65b9\u5f0f1: \u65b9\u5f0f2: \uff085\uff09 \u9006\u5411\u5b9e\u73b0 # Python\u9006\u5411\u6a21\u62df\uff1a import time import hashlib import requests session = requests.session() session.get(\"https://fanyi.youdao.com/\") word = \"apple\" # (1) \u6784\u5efasign\u503c t = str(1683620934858) s = f\"client=fanyideskweb&mysticTime={t}&product=webfanyi&key=fsdsogkndfokasodnaso\" md5 = hashlib.md5() md5.update(s.encode()) sign = md5.hexdigest() print(\"sign:::\", sign) # sign::: d246611271b76b9cbf43bb075a3d5ccb md5\u662f\u6807\u51c6\u7684\uff0c\u6ca1\u6709\u9b54\u6539\uff0c\u7a0b\u5e8f\u5458\u662f\u4e2a\u597d\u4eba\uff01 \u5b8c\u6574\u7684\u9006\u5411\u4ee3\u7801\u4e5f\u5c31\u51fa\u6765\u4e86\uff1a \u7ed3\u679c\u4e3a\uff1a Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6JKK7ArS9fJXAcsG7ufBIE0gd6fbnhFcsGmdXspZe-8whVFbRB_8Fc9JlMHh8DDXnskDhGfEscN_rfi-A-AHB3F9Vets82vIYpkGNaJOft_JA-m5cGEjo-UNRDDpkTz_NIAvo5PbATpkh7PSna2tHcE6Hou9GBtPLB67vjScwplB96-zqZKXJJEzU5HGF0oPDY_weAkXArzXyGLBPXFCnn_IWJDkGD4vqBQQAh2n52f48GD_cb-PSCT_8b-ESsKUI9NJa11XsdaUZxAc8TzrYnXwdcQbtl_kZGKhS6_rCtuNEBouA_lvM2CbS7TTtV2U4zVmJKpp-c6nt3yZePK3Av01GWn1pH_3sZbaPEx8DUjSbdp4i4iK-Mj4p2HPoph67DR7B9MFETYku_28SgP9xsKRRvFH4aHBHESWX4FDbwaU= Part02\uff1a\u89e3\u5bc6\u6570\u636e \uff081\uff09\u89e3\u5bc6\u5165\u53e3 \uff082\uff09\u67e5\u627e\u89e3\u5bc6\u51fd\u6570 \uff083\uff09\u89e3\u5bc6\u5b9e\u73b0 import hashlib def get_md5_digest(newkey): md5 = hashlib.md5() md5.update(newkey.encode()) return md5.digest() key = \"ydsecret://query/key/B*RGygVywfNBwpmBaZg*WT7SIOUP2T0C9WHMZN39j^DAdaZhAnxvGcCY6VYFwnHl\" iv = \"ydsecret://query/iv/C@lZe2YzHtZ2CYgaXKSVfsb7Y4QWHjITPPZ0nQp87fBeJ!Iv6v^6fvi2WN@bYpJ4\" key_md5 = get_md5_digest(key) iv_md5 = get_md5_digest(iv) \u57fa\u4e8ePython\u7684\u5b8c\u6574\u89e3\u5bc6\uff1a \u57fa\u4e8eJS\u7684\u5b8c\u6574\u89e3\u5bc6\uff1a const crypto = require('crypto'); function g(e) { return crypto.createHash(\"md5\").update(e).digest() } function s() { let o = 'ydsecret://query/key/B*RGygVywfNBwpmBaZg*WT7SIOUP2T0C9WHMZN39j^DAdaZhAnxvGcCY6VYFwnHl' let n = 'ydsecret://query/iv/C@lZe2YzHtZ2CYgaXKSVfsb7Y4QWHjITPPZ0nQp87fBeJ!Iv6v^6fvi2WN@bYpJ4' const a = Buffer.alloc(16, g(o)) , c = Buffer.alloc(16, g(n)) , i = crypto.createDecipheriv(\"aes-128-cbc\", a, c); let s = i.update(t, \"base64\", \"utf-8\"); return s += i.final(\"utf-8\") } t = 'Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6JKK7ArS9fJXAcsG7ufBIE0gd6fbnhFcsGmdXspZe-8whVFbRB_8Fc9JlMHh8DDXnskDhGfEscN_rfi-A-AHB3F9Vets82vIYpkGNaJOft_JA-m5cGEjo-UNRDDpkTz_NIAvo5PbATpkh7PSna2tHcE6Hou9GBtPLB67vjScwplB96-zqZKXJJEzU5HGF0oPDY_weAkXArzXyGLBPXFCnn_IWJDkGD4vqBQQAh2n52f48GD_cb-PSCT_8b-ESsKUI9NJa11XsdaUZxAc8TzrYnXwdcQbtl_kZGKhS6_rCtuNEBouA_lvM2CbS7TTtV2U4zVmJKpp-c6nt3yZePK3Av01GWn1pH_3sZbaPEx8DUjSbdp4i4iK-Mj4p2HPoph67DR7B9MFETYku_28SgP9xsKRRvFH4aHBHESWX4FDbwaU=' console.log(s()) # \u57fa\u4e8eexecjs\u5b9e\u73b0js\u4e0epy\u7684\u7ed3\u5408 import execjs with open(\"jiemi.js\") as f: data = f.read() JS = execjs.compile(data) t = 'Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6JKK7ArS9fJXAcsG7ufBIE0gd6fbnhFcsGmdXspZe-8whVFbRB_8Fc9JlMHh8DDXnskDhGfEscN_rfi-A-AHB3F9Vets82vIYpkGNaJOft_JA-m5cGEjo-UNRDDpkTz_NIAvo5PbATpkh7PSna2tHcE6Hou9GBtPLB67vjScwplB96-zqZKXJJEzU5HGF0oPDY_weAkXArzXyGLBPXFCnn_IWJDkGD4vqBQQAh2n52f48GD_cb-PSCT_8b-ESsKUI9NJa11XsdaUZxAc8TzrYnXwdcQbtl_kZGKhS6_rCtuNEBouA_lvM2CbS7TTtV2U4zVmJKpp-c6nt3yZePK3Av01GWn1pH_3sZbaPEx8DUjSbdp4i4iK-Mj4p2HPoph67DR7B9MFETYku_28SgP9xsKRRvFH4aHBHESWX4FDbwaU=' ret = JS.call(\"jieMi\", t) print(ret) 10.4\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u7f51\u6613\u4e91\u97f3\u4e50 \u30101\u3011\u6293\u5305\u89e3\u6790 \u30102\u3011\u76ee\u6807\u5b9a\u4f4d \u65b9\u5f0f1: \u65b9\u5f0f2: \u30103\u3011\u9006\u5411\u5b9e\u73b0 \uff081\uff09\u6570\u636e\u52a0\u5bc6 const CryptoJS = require('crypto-js'); function RSAKeyPair(a, b, c) { this.e = biFromHex(a), this.d = biFromHex(b), this.m = biFromHex(c), this.chunkSize = 2 * biHighIndex(this.m), this.radix = 16, this.barrett = new BarrettMu(this.m) } function twoDigit(a) { return (10 > a ? \"0\" : \"\") + String(a) } function encryptedString(a, b) { for (var f, g, h, i, j, k, l, c = new Array, d = b.length, e = 0; d > e;) c[e] = b.charCodeAt(e), e++; for (; 0 != c.length % a.chunkSize;) c[e++] = 0; for (f = c.length, g = \"\", e = 0; f > e; e += a.chunkSize) { for (j = new BigInt, h = 0, i = e; i < e + a.chunkSize; ++h) j.digits[h] = c[i++], j.digits[h] += c[i++] << 8; k = a.barrett.powMod(j, a.e), l = 16 == a.radix ? biToHex(k) : biToString(k, a.radix), g += l + \" \" } return g.substring(0, g.length - 1) } function decryptedString(a, b) { var e, f, g, h, c = b.split(\" \"), d = \"\"; for (e = 0; e < c.length; ++e) for (h = 16 == a.radix ? biFromHex(c[e]) : biFromString(c[e], a.radix), g = a.barrett.powMod(h, a.d), f = 0; f <= biHighIndex(g); ++f) d += String.fromCharCode(255 & g.digits[f], g.digits[f] >> 8); return 0 == d.charCodeAt(d.length - 1) && (d = d.substring(0, d.length - 1)), d } function setMaxDigits(a) { maxDigits = a, ZERO_ARRAY = new Array(maxDigits); for (var b = 0; b < ZERO_ARRAY.length; b++) ZERO_ARRAY[b] = 0; bigZero = new BigInt, bigOne = new BigInt, bigOne.digits[0] = 1 } function BigInt(a) { this.digits = \"boolean\" == typeof a && 1 == a ? null : ZERO_ARRAY.slice(0), this.isNeg = !1 } function biFromDecimal(a) { for (var d, e, f, b = \"-\" == a.charAt(0), c = b ? 1 : 0; c < a.length && \"0\" == a.charAt(c);) ++c; if (c == a.length) d = new BigInt; else { for (e = a.length - c, f = e % dpl10, 0 == f && (f = dpl10), d = biFromNumber(Number(a.substr(c, f))), c += f; c < a.length;) d = biAdd(biMultiply(d, lr10), biFromNumber(Number(a.substr(c, dpl10)))), c += dpl10; d.isNeg = b } return d } function biCopy(a) { var b = new BigInt(!0); return b.digits = a.digits.slice(0), b.isNeg = a.isNeg, b } function biFromNumber(a) { var c, b = new BigInt; for (b.isNeg = 0 > a, a = Math.abs(a), c = 0; a > 0;) b.digits[c++] = a & maxDigitVal, a >>= biRadixBits; return b } function reverseStr(a) { var c, b = \"\"; for (c = a.length - 1; c > -1; --c) b += a.charAt(c); return b } function biToString(a, b) { var d, e, c = new BigInt; for (c.digits[0] = b, d = biDivideModulo(a, c), e = hexatrigesimalToChar[d[1].digits[0]]; 1 == biCompare(d[0], bigZero);) d = biDivideModulo(d[0], c), digit = d[1].digits[0], e += hexatrigesimalToChar[d[1].digits[0]]; return (a.isNeg ? \"-\" : \"\") + reverseStr(e) } function biToDecimal(a) { var c, d, b = new BigInt; for (b.digits[0] = 10, c = biDivideModulo(a, b), d = String(c[1].digits[0]); 1 == biCompare(c[0], bigZero);) c = biDivideModulo(c[0], b), d += String(c[1].digits[0]); return (a.isNeg ? \"-\" : \"\") + reverseStr(d) } function digitToHex(a) { var b = 15 , c = \"\"; for (i = 0; 4 > i; ++i) c += hexToChar[a & b], a >>>= 4; return reverseStr(c) } function biToHex(a) { var d, b = \"\"; for (biHighIndex(a), d = biHighIndex(a); d > -1; --d) b += digitToHex(a.digits[d]); return b } function charToHex(a) { var h, b = 48, c = b + 9, d = 97, e = d + 25, f = 65, g = 90; return h = a >= b && c >= a ? a - b : a >= f && g >= a ? 10 + a - f : a >= d && e >= a ? 10 + a - d : 0 } function hexToDigit(a) { var d, b = 0, c = Math.min(a.length, 4); for (d = 0; c > d; ++d) b <<= 4, b |= charToHex(a.charCodeAt(d)); return b } function biFromHex(a) { var d, e, b = new BigInt, c = a.length; for (d = c, e = 0; d > 0; d -= 4, ++e) b.digits[e] = hexToDigit(a.substr(Math.max(d - 4, 0), Math.min(d, 4))); return b } function biFromString(a, b) { var g, h, i, j, c = \"-\" == a.charAt(0), d = c ? 1 : 0, e = new BigInt, f = new BigInt; for (f.digits[0] = 1, g = a.length - 1; g >= d; g--) h = a.charCodeAt(g), i = charToHex(h), j = biMultiplyDigit(f, i), e = biAdd(e, j), f = biMultiplyDigit(f, b); return e.isNeg = c, e } function biDump(a) { return (a.isNeg ? \"-\" : \"\") + a.digits.join(\" \") } function biAdd(a, b) { var c, d, e, f; if (a.isNeg != b.isNeg) b.isNeg = !b.isNeg, c = biSubtract(a, b), b.isNeg = !b.isNeg; else { for (c = new BigInt, d = 0, f = 0; f < a.digits.length; ++f) e = a.digits[f] + b.digits[f] + d, c.digits[f] = 65535 & e, d = Number(e >= biRadix); c.isNeg = a.isNeg } return c } function biSubtract(a, b) { var c, d, e, f; if (a.isNeg != b.isNeg) b.isNeg = !b.isNeg, c = biAdd(a, b), b.isNeg = !b.isNeg; else { for (c = new BigInt, e = 0, f = 0; f < a.digits.length; ++f) d = a.digits[f] - b.digits[f] + e, c.digits[f] = 65535 & d, c.digits[f] < 0 && (c.digits[f] += biRadix), e = 0 - Number(0 > d); if (-1 == e) { for (e = 0, f = 0; f < a.digits.length; ++f) d = 0 - c.digits[f] + e, c.digits[f] = 65535 & d, c.digits[f] < 0 && (c.digits[f] += biRadix), e = 0 - Number(0 > d); c.isNeg = !a.isNeg } else c.isNeg = a.isNeg } return c } function biHighIndex(a) { for (var b = a.digits.length - 1; b > 0 && 0 == a.digits[b];) --b; return b } function biNumBits(a) { var e, b = biHighIndex(a), c = a.digits[b], d = (b + 1) * bitsPerDigit; for (e = d; e > d - bitsPerDigit && 0 == (32768 & c); --e) c <<= 1; return e } function biMultiply(a, b) { var d, h, i, k, c = new BigInt, e = biHighIndex(a), f = biHighIndex(b); for (k = 0; f >= k; ++k) { for (d = 0, i = k, j = 0; e >= j; ++j, ++i) h = c.digits[i] + a.digits[j] * b.digits[k] + d, c.digits[i] = h & maxDigitVal, d = h >>> biRadixBits; c.digits[k + e + 1] = d } return c.isNeg = a.isNeg != b.isNeg, c } function biMultiplyDigit(a, b) { var c, d, e, f; for (result = new BigInt, c = biHighIndex(a), d = 0, f = 0; c >= f; ++f) e = result.digits[f] + a.digits[f] * b + d, result.digits[f] = e & maxDigitVal, d = e >>> biRadixBits; return result.digits[1 + c] = d, result } function arrayCopy(a, b, c, d, e) { var g, h, f = Math.min(b + e, a.length); for (g = b, h = d; f > g; ++g, ++h) c[h] = a[g] } function biShiftLeft(a, b) { var e, f, g, h, c = Math.floor(b / bitsPerDigit), d = new BigInt; for (arrayCopy(a.digits, 0, d.digits, c, d.digits.length - c), e = b % bitsPerDigit, f = bitsPerDigit - e, g = d.digits.length - 1, h = g - 1; g > 0; --g, --h) d.digits[g] = d.digits[g] << e & maxDigitVal | (d.digits[h] & highBitMasks[e]) >>> f; return d.digits[0] = d.digits[g] << e & maxDigitVal, d.isNeg = a.isNeg, d } function biShiftRight(a, b) { var e, f, g, h, c = Math.floor(b / bitsPerDigit), d = new BigInt; for (arrayCopy(a.digits, c, d.digits, 0, a.digits.length - c), e = b % bitsPerDigit, f = bitsPerDigit - e, g = 0, h = g + 1; g < d.digits.length - 1; ++g, ++h) d.digits[g] = d.digits[g] >>> e | (d.digits[h] & lowBitMasks[e]) << f; return d.digits[d.digits.length - 1] >>>= e, d.isNeg = a.isNeg, d } function biMultiplyByRadixPower(a, b) { var c = new BigInt; return arrayCopy(a.digits, 0, c.digits, b, c.digits.length - b), c } function biDivideByRadixPower(a, b) { var c = new BigInt; return arrayCopy(a.digits, b, c.digits, 0, c.digits.length - b), c } function biModuloByRadixPower(a, b) { var c = new BigInt; return arrayCopy(a.digits, 0, c.digits, 0, b), c } function biCompare(a, b) { if (a.isNeg != b.isNeg) return 1 - 2 * Number(a.isNeg); for (var c = a.digits.length - 1; c >= 0; --c) if (a.digits[c] != b.digits[c]) return a.isNeg ? 1 - 2 * Number(a.digits[c] > b.digits[c]) : 1 - 2 * Number(a.digits[c] < b.digits[c]); return 0 } function biDivideModulo(a, b) { var f, g, h, i, j, k, l, m, n, o, p, q, r, s, c = biNumBits(a), d = biNumBits(b), e = b.isNeg; if (d > c) return a.isNeg ? (f = biCopy(bigOne), f.isNeg = !b.isNeg, a.isNeg = !1, b.isNeg = !1, g = biSubtract(b, a), a.isNeg = !0, b.isNeg = e) : (f = new BigInt, g = biCopy(a)), new Array(f, g); for (f = new BigInt, g = a, h = Math.ceil(d / bitsPerDigit) - 1, i = 0; b.digits[h] < biHalfRadix;) b = biShiftLeft(b, 1), ++i, ++d, h = Math.ceil(d / bitsPerDigit) - 1; for (g = biShiftLeft(g, i), c += i, j = Math.ceil(c / bitsPerDigit) - 1, k = biMultiplyByRadixPower(b, j - h); -1 != biCompare(g, k);) ++f.digits[j - h], g = biSubtract(g, k); for (l = j; l > h; --l) { for (m = l >= g.digits.length ? 0 : g.digits[l], n = l - 1 >= g.digits.length ? 0 : g.digits[l - 1], o = l - 2 >= g.digits.length ? 0 : g.digits[l - 2], p = h >= b.digits.length ? 0 : b.digits[h], q = h - 1 >= b.digits.length ? 0 : b.digits[h - 1], f.digits[l - h - 1] = m == p ? maxDigitVal : Math.floor((m * biRadix + n) / p), r = f.digits[l - h - 1] * (p * biRadix + q), s = m * biRadixSquared + (n * biRadix + o); r > s;) --f.digits[l - h - 1], r = f.digits[l - h - 1] * (p * biRadix | q), s = m * biRadix * biRadix + (n * biRadix + o); k = biMultiplyByRadixPower(b, l - h - 1), g = biSubtract(g, biMultiplyDigit(k, f.digits[l - h - 1])), g.isNeg && (g = biAdd(g, k), --f.digits[l - h - 1]) } return g = biShiftRight(g, i), f.isNeg = a.isNeg != e, a.isNeg && (f = e ? biAdd(f, bigOne) : biSubtract(f, bigOne), b = biShiftRight(b, i), g = biSubtract(b, g)), 0 == g.digits[0] && 0 == biHighIndex(g) && (g.isNeg = !1), new Array(f, g) } function biDivide(a, b) { return biDivideModulo(a, b)[0] } function biModulo(a, b) { return biDivideModulo(a, b)[1] } function biMultiplyMod(a, b, c) { return biModulo(biMultiply(a, b), c) } function biPow(a, b) { for (var c = bigOne, d = a; ;) { if (0 != (1 & b) && (c = biMultiply(c, d)), b >>= 1, 0 == b) break; d = biMultiply(d, d) } return c } function biPowMod(a, b, c) { for (var d = bigOne, e = a, f = b; ;) { if (0 != (1 & f.digits[0]) && (d = biMultiplyMod(d, e, c)), f = biShiftRight(f, 1), 0 == f.digits[0] && 0 == biHighIndex(f)) break; e = biMultiplyMod(e, e, c) } return d } function BarrettMu(a) { this.modulus = biCopy(a), this.k = biHighIndex(this.modulus) + 1; var b = new BigInt; b.digits[2 * this.k] = 1, this.mu = biDivide(b, this.modulus), this.bkplus1 = new BigInt, this.bkplus1.digits[this.k + 1] = 1, this.modulo = BarrettMu_modulo, this.multiplyMod = BarrettMu_multiplyMod, this.powMod = BarrettMu_powMod } function BarrettMu_modulo(a) { var i, b = biDivideByRadixPower(a, this.k - 1), c = biMultiply(b, this.mu), d = biDivideByRadixPower(c, this.k + 1), e = biModuloByRadixPower(a, this.k + 1), f = biMultiply(d, this.modulus), g = biModuloByRadixPower(f, this.k + 1), h = biSubtract(e, g); for (h.isNeg && (h = biAdd(h, this.bkplus1)), i = biCompare(h, this.modulus) >= 0; i;) h = biSubtract(h, this.modulus), i = biCompare(h, this.modulus) >= 0; return h } function BarrettMu_multiplyMod(a, b) { var c = biMultiply(a, b); return this.modulo(c) } function BarrettMu_powMod(a, b) { var d, e, c = new BigInt; for (c.digits[0] = 1, d = a, e = b; ;) { if (0 != (1 & e.digits[0]) && (c = this.multiplyMod(c, d)), e = biShiftRight(e, 1), 0 == e.digits[0] && 0 == biHighIndex(e)) break; d = this.multiplyMod(d, d) } return c } var maxDigits, ZERO_ARRAY, bigZero, bigOne, dpl10, lr10, hexatrigesimalToChar, hexToChar, highBitMasks, lowBitMasks, biRadixBase = 2, biRadixBits = 16, bitsPerDigit = biRadixBits, biRadix = 65536, biHalfRadix = biRadix >>> 1, biRadixSquared = biRadix * biRadix, maxDigitVal = biRadix - 1, maxInteger = 9999999999999998; setMaxDigits(20), dpl10 = 15, lr10 = biFromNumber(1e15), hexatrigesimalToChar = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"), hexToChar = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"), highBitMasks = new Array(0, 32768, 49152, 57344, 61440, 63488, 64512, 65024, 65280, 65408, 65472, 65504, 65520, 65528, 65532, 65534, 65535), lowBitMasks = new Array(0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535); function a(a) { var d, e, b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", c = \"\"; for (d = 0; a > d; d += 1) e = Math.random() * b.length, e = Math.floor(e), c += b.charAt(e); return c } function b(a, b) { var c = CryptoJS.enc.Utf8.parse(b) , d = CryptoJS.enc.Utf8.parse(\"0102030405060708\") , e = CryptoJS.enc.Utf8.parse(a) , f = CryptoJS.AES.encrypt(e, c, { iv: d, mode: CryptoJS.mode.CBC }); return f.toString() } function c(a, b, c) { var d, e; return setMaxDigits(131), d = new RSAKeyPair(b, \"\", c), e = encryptedString(d, a) } function d(d, e, f, g) { var h = {} , i = a(16); return h.encText = b(d, g), h.encText = b(h.encText, i), h.encSecKey = c(i, e, f), h } function e(a, b, d, e) { var f = {}; return f.encText = c(a + e, b, d), f } ret = d('{\"ids\":\"[1942741405]\",\"level\":\"standard\",\"encodeType\":\"aac\",\"csrf_token\":\"\"}', '010001', '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7', '0CoJUm6Qyw8W8jud') console.log(ret) \uff082\uff09\u6a21\u62df\u8bf7\u6c42 import execjs import requests data = ( '{\"ids\":\"[1374626440]\",\"level\":\"standard\",\"encodeType\":\"aac\",\"csrf_token\":\"\"}', '010001', '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7', '0CoJUm6Qyw8W8jud', ) with open(\"\u7f51\u6613\u97f3\u4e50.js\") as f: jsCode = f.read() JS = execjs.compile(jsCode) body = JS.call(\"d\", *data) print(body, type(body)) res = requests.post(\"https://music.163.com/weapi/song/enhance/player/url/v1?csrf_token=\", data={ \"params\": body.get(\"encText\"), \"encSecKey\": body.get(\"encSecKey\"), }) res = res.json() song_url = res.get(\"data\")[0].get(\"url\") res = requests.get(song_url) with open(\"mySong.m4p\", \"wb\") as f: f.write(res.content) 10.5\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u67d0\u8f66\u7f51 \u67d0\u8f66\u7f51 \u7ec3\u4e60\u7f51\u7ad9 10.6\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u540c\u82b1\u987a hook cookie\u8bbe\u7f6e (function(){ 'use strict' var _cookie = \"\"; Object.defineProperty(document, 'cookie', { set: function(val) { console.log(val); debugger _cookie = val; return val; }, get: function() { return _cookie; }, }); })() \u65ad\u70b9\uff0chook\u3002 JS\u4ee3\u7801\u9006\u5411\u751f\u6210\u52a8\u6001\u503c\uff1a \u65b9\u5f0f1: var TOKEN_SERVER_TIME = 1684826000.785; document = {} window = {} var xxx = this !function (n, t) { !function () { var r, e, a; r = e = a = n; var u, c, s; u = c = s = t; function v() { var n = arguments[s[0]]; if (!n) return r[0]; for (var t = u[1], o = a[1], i = c[2]; i < n.length; i++) { var v = n.charCodeAt(i) , f = v ^ o; o = v, t += e[2].fromCharCode(f) } return t } var f = c[3] , l = s[4] , p = Wn(e[3], r[4], s[5]) , d = a[5] , h = Wn(c[6], s[7]) , g = c[8] , w = c[9] , m = r[6] , I = u[10] , y = a[7] , _ = (s[11], c[12], s[13]) , C = e[8] , E = u[14] , A = ot(e[9], e[10]) , b = a[11] , T = u[15] , B = c[16] , R = r[12] , k = r[13] , S = s[17] , P = u[18] , M = Wn(s[19], s[20], u[21]) , O = v(s[22], e[14]) , D = s[23] , x = s[24] , N = u[25] , L = u[26] , W = Wn(s[27], r[15]) , F = u[28] , Y = r[16] , j = a[17] , H = e[18] , $ = e[19] , U = r[20] , V = v(c[29], e[21], e[22]) , X = s[30] , G = s[31] , K = s[32] , Q = s[33] , Z = r[23] , q = r[24] , z = v(u[12], u[34], s[35]) , J = u[36] , nn = a[25] , tn = s[37] , rn = c[38] , en = r[26] , an = c[39] , on = s[40] , un = a[27] , cn = u[41] , sn = ot(s[42], c[43]) , vn = r[28] , fn = u[8] , ln = s[44] , pn = a[29] , dn = s[45] , hn = a[30] , gn = c[46] , wn = a[31] , mn = a[32] , In = s[47] , yn = r[33] , _n = a[34] , Cn = c[48] , En = a[8] , An = v(a[35], s[49]) , bn = c[50] , Tn = c[51] , Bn = at(r[36], s[52]) , Rn = ot(r[37], e[38]) , kn = e[39] , Sn = u[53] , Pn = r[40] , Mn = s[54] , On = s[55] , Dn = Wn(u[56], r[41], r[42]) , xn = r[43] , Nn = u[57] , Ln = e[44]; function Wn() { return arguments[u[0]].split(e[0]).reverse().join(c[1]) } var Fn = r[45], Yn = Wn(c[58], e[46]), jn = v(s[59], u[60]), Hn = Wn(r[47], s[61]), $n = s[62], Un = s[63], Vn = u[2], Xn = [new u[27](r[48]), new u[27](c[64])], Gn = [new e[47](ot(a[49])), new u[27](ot(a[50], u[65]))]; var rt; function at() { var n, t, r; n = t = r = u; var a, o, i; a = o = i = e; var c = arguments[o[52]]; if (!c) return t[1]; for (var s = o[0], v = o[1], f = a[52]; f < c.length; f++) { var l = c.charCodeAt(f) , p = l ^ v; v = v * f % n[222] + o[200], s += i[2].fromCharCode(p) } return s } function ot() { var n, t, e; n = t = e = c; var a, o, i; a = o = i = r; var u = arguments[a[52]]; if (!u) return o[0]; for (var s = a[0], v = n[267], f = o[200], l = t[2]; l < u.length; l++) { var p = u.charCodeAt(l); f = (f + t[0]) % v.length, p ^= v.charCodeAt(f), s += i[2].fromCharCode(p) } return s } var qn = function () { var n, t, r; n = t = r = a; var e, o, i; e = o = i = s; var u = o[15] , c = o[102] , f = e[103]; function l(r) { var a = o[102] , i = e[103]; this[n[76]] = r; for (var u = t[52], c = r[a + g + i]; u < c; u++) this[u] = t[52] } return l[e[104]][w + m + I + u] = function () { for (var a = e[105], u = this[a + y], c = [], s = -e[0], v = o[2], f = u[r[56]]; v < f; v++) for (var l = this[v], p = u[v], d = s += p; c[d] = l & parseInt(t[77], n[78]), --p != r[52];) --d, l >>= parseInt(n[79], i[106]); return c } , l[v(t[80], t[81], b)][ot(i[107])] = function (n) { for (var r = e[8], a = this[ot(e[108], e[109])], o = t[52], u = e[2], s = a[c + r + f]; u < s; u++) { var v = a[u] , l = i[2]; do { l = (l << t[82]) + n[o++] } while (--v > t[52]); this[u] = l >>> i[2] } } , l }(); var zn !function (n) { var t = s[13] , o = c[53] , i = r[83] , f = r[84] , l = s[110] , d = r[85] , h = r[86]; function g(n, a, o, i, u) { for (var c = s[13], v = r[87], f = n[s[111]]; a < f;) o[i++] = n[a++] ^ u & parseInt(c + v + t + _, r[88]), u = ~(u * parseInt(e[89], e[82])) } function w(n) { for (var t = c[112], i = r[52], v = n[s[111]], f = []; i < v;) { var l = n[i++] << parseInt(C + t, c[113]) | n[i++] << e[82] | n[i++]; f.push(m.charAt(l >> parseInt(e[90], e[82])), m.charAt(l >> parseInt(s[114], e[78]) & parseInt(a[91], r[88])), m.charAt(l >> u[59] & parseInt(E + o, a[78])), m.charAt(l & parseInt(a[92], u[113]))) } return f.join(e[0]) } for (var m = at(u[115], s[116]), I = {}, y = u[2]; y < parseInt(i + A, e[93]); y++) I[m.charAt(y)] = y; function O(n) { var t, r, e; t = r = e = s; var o, i, u; o = i = u = a; for (var c = ot(i[94]), l = e[2], p = n[o[56]], d = []; l < p;) { var h = I[n.charAt(l++)] << parseInt(at(t[117]), u[82]) | I[n.charAt(l++)] << parseInt(v(t[118], u[95], e[119]), o[88]) | I[n.charAt(l++)] << t[59] | I[n.charAt(l++)]; d.push(h >> parseInt(e[120], t[106]), h >> parseInt(t[121], r[122]) & parseInt(f + b + c, t[106]), h & parseInt(o[96], u[88])) } return d } function D(n) { var t = O(n); if (rn, p, t[r[52]] != h) return error = T + B + l, void 0; var a = t[c[0]] , o = []; return g(t, +parseInt(e[79], c[122]), o, +u[2], a), x(o) == a ? o : void 0 } function x(n) { var t = o; t = Vn; for (var e = c[2], i = a[52], u = n[c[111]]; i < u; i++) e = (e << s[123]) - e + n[i]; return e & parseInt(s[124], r[88]) } function N(n) { var t , r = x(n) , e = [h, r]; return g(n, +a[52], e, +a[88], r), t = P, w(e) } n[e[97]] = w, n[R + k + S] = O, n[u[125]] = N, n[d + P + M] = D }(zn || (zn = {})); !function () { var r, e, a; r = e = a = n; var u, c, s; u = c = s = t; function v() { var n = arguments[s[0]]; if (!n) return r[0]; for (var t = u[1], o = a[1], i = c[2]; i < n.length; i++) { var v = n.charCodeAt(i) , f = v ^ o; o = v, t += e[2].fromCharCode(f) } return t } var f = c[3] , l = s[4] , p = Wn(e[3], r[4], s[5]) , d = a[5] , h = Wn(c[6], s[7]) , g = c[8] , w = c[9] , m = r[6] , I = u[10] , y = a[7] , _ = (s[11], c[12], s[13]) , C = e[8] , E = u[14] , A = ot(e[9], e[10]) , b = a[11] , T = u[15] , B = c[16] , R = r[12] , k = r[13] , S = s[17] , P = u[18] , M = Wn(s[19], s[20], u[21]) , O = v(s[22], e[14]) , D = s[23] , x = s[24] , N = u[25] , L = u[26] , W = Wn(s[27], r[15]) , F = u[28] , Y = r[16] , j = a[17] , H = e[18] , $ = e[19] , U = r[20] , V = v(c[29], e[21], e[22]) , X = s[30] , G = s[31] , K = s[32] , Q = s[33] , Z = r[23] , q = r[24] , z = v(u[12], u[34], s[35]) , J = u[36] , nn = a[25] , tn = s[37] , rn = c[38] , en = r[26] , an = c[39] , on = s[40] , un = a[27] , cn = u[41] , sn = ot(s[42], c[43]) , vn = r[28] , fn = u[8] , ln = s[44] , pn = a[29] , dn = s[45] , hn = a[30] , gn = c[46] , wn = a[31] , mn = a[32] , In = s[47] , yn = r[33] , _n = a[34] , Cn = c[48] , En = a[8] , An = v(a[35], s[49]) , bn = c[50] , Tn = c[51] , Bn = at(r[36], s[52]) , Rn = ot(r[37], e[38]) , kn = e[39] , Sn = u[53] , Pn = r[40] , Mn = s[54] , On = s[55] , Dn = Wn(u[56], r[41], r[42]) , xn = r[43] , Nn = u[57] , Ln = e[44]; function Wn() { return arguments[u[0]].split(e[0]).reverse().join(c[1]) } var Fn = r[45], Yn = Wn(c[58], e[46]), jn = v(s[59], u[60]), Hn = Wn(r[47], s[61]), $n = s[62], Un = s[63], Vn = u[2], Xn = [new u[27](r[48]), new u[27](c[64])], Gn = [new e[47](ot(a[49])), new u[27](ot(a[50], u[65]))]; var Jn; !function (n) { var t = Fn , o = at(c[126], a[98]) , i = r[99] , f = v(U, u[127]) , l = s[128] , p = ot(a[100]) , d = r[5] , h = r[101] , g = ot(u[129]) , w = s[130] , m = r[102] , C = a[103] , E = e[104]; function A(n) { for (var t = (Tn, I, []), e = r[52]; e < n[c[111]]; e++) t.push(n.charCodeAt(e)); return t } function b() { var n = new e[105]; try { return time = s[52].now(), time / parseInt(c[131], a[88]) >>> c[2] } catch (t) { return time = n.getTime(), time / parseInt(s[121], s[84]) >>> r[52] } } function T(n) { var t = u[8] , o = {} , i = function (n, o) { var i = c[102], f, l, p, d; for (o = o.replace(s[132], u[1]), o = o.substring(u[0], o[e[56]] - c[0]), f = o.split(c[133]), p = c[2]; p < f[i + t + O]; p++) if (l = f[p].split(v(r[106], c[134])), l && !(l[r[56]] < s[122])) { for (d = r[88]; d < l[r[56]]; d++) l[r[54]] = l[r[54]] + r[107] + l[d]; l[s[2]] = new r[47](c[135]).test(l[e[52]]) ? l[a[52]].substring(u[0], l[e[52]][D + x] - c[0]) : l[a[52]], l[r[54]] = new a[47](c[135]).test(l[r[54]]) ? l[e[54]].substring(s[0], l[a[54]][a[56]] - u[0]) : l[s[0]], n[l[c[2]]] = l[e[54]] } return n }; return new r[47](e[108]).test(n) && (o = i(o, n)), o } function B(n) { var t, e, a; t = e = a = c; var u, s, v; if (u = s = v = r, typeof n === ot(s[109], sn) && n[Wn(y, a[136], s[110])]) try { switch (parseInt(n[e[137]])) { case parseInt(a[131], t[122]): break; case parseInt(v[111], s[78]): top[e[138]][v[112]] = n[t[139]]; break; case parseInt(u[113], e[122]): top[o + i + N][e[140]] = n[s[114]]; break; default: break } } catch (f) { } } function R(n, t, r) { var e, a, o; e = a = o = u, q ? n.addEventListener(t, r) : n.attachEvent(a[25] + t, r) } function k() { return Math.random() * parseInt(u[141], r[78]) >>> r[52] } function S(n, t) { var o = en , i = new r[47](e[115], a[116]); o = T; var s = new u[27](v(p, r[117], m)); if (n) { var f = n.match(i); if (f) { var l = f[u[0]]; return t && s.test(l) && (l = l.split(r[118]).pop().split(r[107])[c[2]]), l } } } function P(n) { var t = mn , o = c[142] , i = r[119] , v = e[120] , I = a[121]; if (!(n > e[122])) { n = n || a[52]; var y = parseInt(u[143], e[78]) , _ = a[51].createElement(u[144]); t = Q, _[c[145]] = location[r[123]] + a[124] + parseInt((new r[105]).getTime() / y) + (f + o + l), _[e[125]] = function () { Vn = u[0], setTimeout(function () { P(++n) }, n * parseInt(e[126], u[84])) } , _[p + L + d] = _[s[146]] = function () { var n, t, r; n = t = r = a; var e, o, u; e = o = u = c; var s = e[147]; this[t[127]] && this[i + W] !== o[148] && this[u[149]] !== o[150] && this[s + F + h] !== u[151] || (Vn = n[52], _[e[152]] = _[g + w + v] = n[128]) } , c[66][m + I].appendChild(_) } } function M(n) { var t, e, a; t = e = a = r; var o, i, u; return o = i = u = s, new u[27](t[129]).test(n) } function X() { var n = new s[52]; return typeof TOKEN_SERVER_TIME == s[153] ? r[52] : (time = parseInt(TOKEN_SERVER_TIME), time) } function G(n) { var t, e, a; t = e = a = s; var o, i, u; o = i = u = r; for (var c = u[52], v = a[2], f = n[o[56]]; v < f; v++) c = (c << a[123]) - c + n.charCodeAt(v), c >>>= o[52]; return c } function K(n) { var t = new s[27](e[130], s[80]); if (n) { return n.match(t) } } function Z(n) { var t = new u[27](c[154]); if (M(n)) return n; var o = t.test(n) ? -a[86] : -parseInt(r[79], e[88]); return (tn, _, n.split(s[155])).slice(o).join(a[131]) } n[Y + C + j] = T, t = En, n[c[156]] = P, n[ot(u[157])] = B, n[r[132]] = A, n[c[158]] = G, n[c[159]] = k, n[r[133]] = M, n[s[160]] = Z, n[E + H] = S, n[$ + U] = K, n[s[161]] = z, n[s[162]] = b, n[r[134]] = X; var q = !!a[65][a[135]]; function z(n) { for (var t = v(O, u[163]), a = e[136], o = s[2], i = n[V + t + a] - s[0]; i >= r[52]; i--) o = o << r[54] | +n[i]; return o } n[u[164]] = R }(Jn || (Jn = {})); var rt; (function (n) { var t = e[87], o = a[8], i = e[8], f = s[215], l = r[52], p = s[0], d = parseInt(c[216], u[122]), h = e[86], g = u[217], w = u[123], m = e[165], I = parseInt(t + En, c[122]), y = parseInt(a[79], a[82]), _ = c[218], C = parseInt(a[193], e[82]), E = parseInt(o + i, r[78]), A = parseInt(u[219], s[122]), b = parseInt(f + An, s[106]), T = parseInt(r[194], s[106]), B = parseInt(ot(s[220], e[195]), r[82]), R = parseInt(e[196], u[122]), k = parseInt(e[197], a[78]), S; function P() { var n = s[0] , t = r[88] , e = parseInt(u[13], c[122]) , a = s[217]; S = new qn([a, a, a, a, n, n, n, e, t, t, t, t, t, t, t, a, t, n]), S[p] = Jn.serverTimeNow(), M(), S[B] = 0, S[k] = 'anguage', S[R] = 3, S[h] = 3003374309, S[b] = 3748, S[g] = 7, S[w] = 10, S[m] = 5 } function M() { S[l] = Jn.random() } function O() { S[R]++, S[p] = Jn.serverTimeNow(), S[d] = Jn.timeNow(), S[B] = Vn, S[I] = 0, S[y] = 0, S[_] = 0, S[C] = 0, S[E] = 0, S[A] = 0; var n = S.toBuffer(); return zn.encode(n) } n[e[57]] = P; P() function D() { return O() } n[v(an, a[198], r[199])] = D xxx.update = D })(rt || (rt = {})); }() }() }([\"\", 9527, String, Boolean, \"eh\", \"ad\", \"Bu\", \"ileds\", \"1\", \"\\b\", Array, \"7\", \"base\", \"64De\", \"\\u2543\\u252b\", \"etatS\", \"pa\", \"e\", \"FromUrl\", \"getOrigi\", \"nFromUrl\", \"\\u255b\\u253e\", \"b?\\x18q)\", \"ic\", \"k\", \"sted\", \"he\", \"wser\", \"oNo\", \"ckw\", \"ent\", \"hst\", \"^And\", \"RM\", \"systemL\", 5, \"\\u255f\\u0978\\u095b\\u09f5\", \"TR8\", \"!'\", \"gth\", \"er\", \"TP\", 83, \"r\", !0, \"v\", \"v-nixeh\", RegExp, \"thsi.cn\", 'K\\x19\"]K^xVV', \"KXxAPD?\\x1b[Y\", document, 0, \"allow\", 1, \"; \", \"length\", \"Init\", \"=\", \"; domain=\", \"checkcookie\", !1, \"eikooCled\", \"tnemucod\", \"d\", window, \"\\u2553\\u0972\\u0959\\u09e4\\u09bd\\u0938\\u0980\\u09c5\\u09b1\\u09d1\\u09a7\\u09dc\\u09dd\\u09d3\\u09c2\", \"\\u2556\\u0979\\u095e\\u09d3\\u09b5\\u0935\\u098f\\u09c7\\u099d\\u09d2\\u09b0\", 23, \"l$P$~\", \"frames\", \"ducument\", \"ydob\", \"documentElement\", \"del\", \"@[\\\\]^`{|}~]\", \"base_fileds\", \"255\", 10, \"10\", 39, \"\\u2547\\u2535\\u255a\\u252e\\u2541\\u2535\\u254c\\u253c\\u2559\", 8, \"4\", \"3\", \"de\", 3, \"11\", 2, \"203\", \"22\", \"111111\", \"3f\", 16, \"\\x0f\", \"\\u2506\\u2537\\u2507\\u2537\", \"11111111\", \"base64Encode\", \"v\\x1d\", \"ati\", \"WY\", \"te\", \"bo\", \"rs\", \"getHost\", Date, \"{DF\", \":\", \"^{.*}$\", \"WU<P[C\", 52, \"1001\", \"href\", \"1111101010\", \"redirect_url\", \"^\\\\s*(?:https?:)?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \"i\", \"\\u256c\\u252c\\u2516\\u254b\", \"@\", \"ready\", \"change\", \"dy\", 7, \"protocol\", \"//s.thsi.cn/js/chameleon/time.1\", \"onerror\", \"2000\", \"readyState\", null, \"^(\\\\d+\\\\.)+\\\\d+$\", \"^\\\\s*(?:(https?:))?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \".\", \"strToBytes\", \"isIPAddr\", \"serverTimeNow\", \"addEventListener\", \"th\", \"wh\", \"Scro\", \"mousemove\", 55, \"evomhcuot\", \"[[?PVC\\x0e\", \"getMouseMove\", '_R\"xWB%Po_3YT', \"getMouseClick\", \"ght\", \"gin\", \"msD\", \"ack\", \"\\u2556\\u096b\\u095f\", \"Nativ\", \"^A\", \"MozSettingsEvent\", \"safari\", \"ActiveXObject\", \"postMessage\", \"Uint8Array\", \"WeakMap\", \"Google Inc.\", \"vendor\", \"chrome\", \"python\", \"sgAppName\", \"JX\", 6, \"me\", \"LBBROWSER\", \"w4\", \"2345Explorer\", \"TheWorld\", \"\\u2544\", 40, \"tTr\", \"\\u2506\", \"navigator\", \"webdriver\", \"languages\", \"taborcA|FDP\", \"\\u2541\\u097c\\u0949\", 95, \"1e0\", \"e Cli\", \"iso-8859-1\", \"defaultCharset\", \"localStorage\", \"^Win64\", \"^Linux armv|Android\", \"^iPhone\", \"^iPad\", \"B_{VV\", \"getPluginNum\", \"getBrowserFeature\", \"12\", \"16\", \"sE\", \"10000\", \"17\", \"\\u2542\\u2532\\u2556\\u2537\\u2543\\u2526\", \"\\x1cx`R\", 2333, \"XMLH\", \"ers\", \"0\", \"lo\", 57, \"ylppa\", \"error\", \"target\", \"click\", \"unload\", \"HE9AWT9Y\", \"\\\\.\", \"c?\", \"$\", \"/\", \"fetch\", \"prototype\", \"url\", \"\\u2556\\u0971\\u0956\\u09fe\\u09a7\", \"headers\", \"\\u256b\\u2554\", 79, \"?\", \"^(.*?):[ \\\\t]*([^\\\\r\\\\n]*)\\\\r?$\", \"gm\", \"s\", \"src\", \"analysisRst\", \"\\u255e\\u0973\\u0949\\u09f4\\u09a2\\u0929\\u09ac\\u09d4\\u0992\\u09d2\\u09b0\\u09d4\", \"appendChild\", \"Y\", \"jsonp_ignore\", \"^\", 70, \"421\", \"XH>a\", \"\\u2574\\u253c\\u257d\\u2530\\u2575\\u2539\\u257c\\u2533\\u257d\\u2522\\u256e\\u2521\\u2560\\u2524\\u2561\\u2525\", \"CHAMELEON_LOADED\"], [1, \"\", 0, \"he\", \"ad\", 29, \"\\x180G\\x1f\", \"?>=<;:\\\\\\\\/,+\", \"ng\", \"to\", \"ff\", Number, Error, \"11\", \"6\", \"er\", \"ro\", \"code\", \"co\", \"_?L\", \"ed\", \"@S\\x15D*\", Object, \"len\", \"gth\", \"on\", \"lo\", RegExp, \"ySta\", 13, \"eel\", \"ee\", \"ouse\", \"ll\", \"\\u2544\\u2530\\u2555\\u2531\", \"FCm-\", \"isTru\", \"getC\", \"Pos\", \"ve\", \"or\", \"ae\", \"^\", \"On\", \"Sho\", \"can\", \"ont\", \"roid\", \"anguage\", \"\\u2502\", \"ta\", \"tna\", Date, \"3\", \"am\", \"e\", \"n+\", \"f80\", \"\\x1dD\", 6, \"\\u255f\\u253a\\u2542\\u252b\\u2545\\u2568\\u251e\", \"KCABLLAC_NOELEMAHC\", \"X-Antispider-Message\", 3, \".baidu.\", Function, document, !0, \"cookie\", \"; \", \"=\", 96, \"\\u255b\\u253e\\u2550\\u2537\\u2543\\u252b\", \"\\u250c\\u252c\\u255c\\u253d\\u2549\\u2521\\u251c\", \";O\", \"; expires=\", \"getCookie\", \"Thu, 01 Jan 1970 00:00:00 GMT\", \"setCookie\", \"Z\\x18|\", \"i\", \"\\u255b\\u2534\\u2557\\u2536\\u255a\\u2509\\u257d\\u2512\\u2560\\u2501\\u2566\\u2503\", 52, window, 10, \"Init\", !1, \"set\", \"v\", \"eliflmth\", '<script>document.w=window<\\/script><iframe src=\"/favicon.icon\"></iframe>', \"iS.p\", \"head\", \"#default#userData\", \"get\", \"[!\\\"#$%&'()*\", \"g\", \"^d\", \"$D\", \"\\u2568\\u2537\\u2568\\u254c\\u256a\", \"]\\\\P\", \"___\", \"le\", \"th\", \"prototype\", \"base_f\", 8, \"\\\\R5Z\\\\R\\x14@^Q3G\", \"ZV%PgQ?Y]S%\", 67, \"r\", \"length\", \"0\", 16, \"12\", \"\\u2576\\u095f\\u0979\\u09d5\\u0995\\u091b\\u09a9\\u09f9\\u09bd\\u09f7\\u0989\\u09fd\\u09f5\\u09f3\\u09f9\\u0a41\\u0a4d\\u098f\\u0999\\u0905\\u0975\\u09cb\\u09a9\\u09a9\\u099d\\u0927\\u0933\\u0913\\u0a6b\\u0999\\u09a3\\u0937\\u098b\\u09f5\\u0933\\u0a7b\\u091b\\u09b1\\u0a63\\u095f\\u09fb\\u094d\\u0993\\u0943\\u092b\\u0949\\u09a3\\u09e7\\u09cb\\u0925\\u0993\\u09ab\\u09f0\\u092c\\u092c\\u0942\\u0950\\u09c8\\u0944\\u09c6\\u0990\\u0944\\u09cb\\u098e\", \"i,\", \"\\u2505\\u092f\", 12, 56, \"20\", \"1000\", 2, 5, \"11111111\", \"encode\", \"\\u255b\\u0972\\u0959\", \"\\u2519\", \"s\", \"WY$PYS\", \"ystate\", \"1111101000\", / /g, \",\", \"\\u250d\", '^\".*\"$', \"edoc_sutats\", \"status_code\", \"location\", \"redirect_url\", \"href\", \"4294967295\", \"j\", \"1200000\", \"script\", \"src\", \"onreadystatechange\", \"read\", \"loaded\", \"readyState\", \"complete\", \"interactive\", \"onload\", \"undefined\", \"\\\\.com\\\\.cn$|\\\\.com\\\\.hk$\", \".\", \"getServerTime\", 'YY7YAD?FjD\"', \"strhash\", \"random\", \"getRootDomain\", \"booleanToDecimal\", \"timeNow\", \"\\u2559\\u253e\", \"eventBind\", \"onwh\", \"\\u255b\", 46, \"DOMM\", \"cl\", \"T^5^\", \"div\", \"onmousewheel\", \"mousewheel\", 51, \"keydown\", \"clientY\", \"getKeyDown\", \"ch\", \"plu\", \"\\u2543\\u252b\", \"ouc\", \"art\", \"^i\", \"Po\", \"callPhantom\", \"max\", \"Hei\", \"ActiveXObject\", \"nd\", \"yG&Y]\\x17\\x15ZUG#A]Ez\\x15qY5\\x1b\", \"\\u2576\\u097e\\u094e\\u09f8\\u09a6\\u0938\\u09b6\\u09fe\\u0996\\u09d7\\u09a7\\u09d2\\u09cc\", \"Maxthon\", \"Q\", \"opr\", \"chrome\", \"BIDUBrowser\", \"QQBro\", \"[_$ZUR\", \"UBrowser\", \"MSGesture\", \"plugins\", \"doNotTrack\", \"ShockwaveFlash.ShockwaveFlash\", \"]C|\\x18\", \"webgl2\", \"platform\", \"name\", \"^Win32\", \"^MacIntel\", \"^Linux [ix]\\\\d+\", \"^BlackBerry\", \"language\", \"getPlatform\", \"getBrowserIndex\", \"1\", \"10\", 4, 9, \"1100\", \"\\t\\0\", \"3c\", 256, \"w\", \"TTP\", \"et\", \"c\", \"al\", \"\\u255e\", \"base\", \"\\u2569\\u0975\\u094e\\u09e5\\u09a0\\u092e\\u09d1\\u09ed\\u09ce\", \"target\", \"fh%PTQr\", \"#\", \"\\u255f\\u097c\\u0949\\u09f9\", 97, \"rg\", \"tnemelEcrs\", \"fn_Ws\", \"parentNode\", \"tagName\", \"A\", \"submit\", \"PX%\", \"me\", \"host\", \"\\\\.?\", \"d\\x19\", \"Fri, 01 Feb 2050 00:00:00 GMT\", \"]E%\", \"toString\", \"[object Request]\", \"headers\", 83, \"&\", encodeURIComponent, \"open\", \"getAllResponseHeaders\", \"4\", \"tseuqeRpttHLMX\", \"Window\", \"\\u2564\\u095e\", \"RI\", \"\\u2550\\u0953\", \"(YaZ\", \"_\", \"_str\", \"V587\"]); console.log(xxx.update()) \u65b9\u5f0f2: var TOKEN_SERVER_TIME = 1684827000.166; document = {} window = {} var xxx = this !function (n, t) { !function () { var r, e, a; r = e = a = n; var u, c, s; u = c = s = t; function v() { var n = arguments[s[0]]; if (!n) return r[0]; for (var t = u[1], o = a[1], i = c[2]; i < n.length; i++) { var v = n.charCodeAt(i) , f = v ^ o; o = v, t += e[2].fromCharCode(f) } return t } var f = c[3] , l = s[4] , p = Wn(e[3], r[4], s[5]) , d = a[5] , h = Wn(c[6], s[7]) , g = c[8] , w = c[9] , m = r[6] , I = u[10] , y = a[7] , _ = (s[11], c[12], s[13]) , C = e[8] , E = u[14] , A = ot(e[9], e[10]) , b = a[11] , T = u[15] , B = c[16] , R = r[12] , k = r[13] , S = s[17] , P = u[18] , M = Wn(s[19], s[20], u[21]) , O = v(s[22], e[14]) , D = s[23] , x = s[24] , N = u[25] , L = u[26] , W = Wn(s[27], r[15]) , F = u[28] , Y = r[16] , j = a[17] , H = e[18] , $ = e[19] , U = r[20] , V = v(c[29], e[21], e[22]) , X = s[30] , G = s[31] , K = s[32] , Q = s[33] , Z = r[23] , q = r[24] , z = v(u[12], u[34], s[35]) , J = u[36] , nn = a[25] , tn = s[37] , rn = c[38] , en = r[26] , an = c[39] , on = s[40] , un = a[27] , cn = u[41] , sn = ot(s[42], c[43]) , vn = r[28] , fn = u[8] , ln = s[44] , pn = a[29] , dn = s[45] , hn = a[30] , gn = c[46] , wn = a[31] , mn = a[32] , In = s[47] , yn = r[33] , _n = a[34] , Cn = c[48] , En = a[8] , An = v(a[35], s[49]) , bn = c[50] , Tn = c[51] , Bn = at(r[36], s[52]) , Rn = ot(r[37], e[38]) , kn = e[39] , Sn = u[53] , Pn = r[40] , Mn = s[54] , On = s[55] , Dn = Wn(u[56], r[41], r[42]) , xn = r[43] , Nn = u[57] , Ln = e[44]; function Wn() { return arguments[u[0]].split(e[0]).reverse().join(c[1]) } var Fn = r[45], Yn = Wn(c[58], e[46]), jn = v(s[59], u[60]), Hn = Wn(r[47], s[61]), $n = s[62], Un = s[63], Vn = u[2], Xn = [new u[27](r[48]), new u[27](c[64])], Gn = [new e[47](ot(a[49])), new u[27](ot(a[50], u[65]))], Kn = c[66][f + l], Qn; var Zn; !function (n) { var t = u[80], o = v(nn, s[81], u[82]), i = s[67], f, l = u[83][Wn(u[84], e[63])], p, d; function g(n) { var t = j; return t = dn, i ? y(n) : f ? w(n) : void u[2] } function w(n) { E(function () { return n = R(n), f.getAttribute(n) })() } function m() { try { return !!(o in s[83] && s[83][o]) } catch (n) { return void u[2] } } function I(n) { try { f.removeItem(n) } catch (t) { } } n[c[85]] = C; function y(n) { try { return f.getItem(n) } catch (t) { return u[86] } } n[c[87]] = B; function _(n, t) { try { f.setItem(n, t) } catch (r) { } } function C() { var n = e[64] , r = u[88]; if (i = m(), i) f = a[65][o]; else if (l[at(e[66])][at(e[67], a[68])]) try { p = new ActiveXObject(Wn(a[69], s[89], l)), p.open(), p.write(s[90]), p.close(), d = p.w[e[70]][s[2]][e[71]], f = d.createElement(n + t + r) } catch (c) { f = l.createElement(o), d = l[Wn(u[91], a[72])] || l.getElementsByTagName(s[92])[s[2]] || l[a[73]] } } function E(n) { return function () { d.appendChild(f), f.addBehavior(s[93]), f.load(o); var t = n(); return d.removeChild(f), t } } n[c[94]] = g; function A(n) { var t, r, e; if (t = r = e = a, i) I(n); else { if (!f) return void e[52]; b(n) } } function b(n) { E(function () { n = R(n), f.removeAttribute(n), f.save(o) })() } function T(n, t) { E(function () { n = R(n), f.setAttribute(n, t), f.save(o) })() } n[a[74]] = A; function B(n, t) { if (void 0 === t) return A(n); if (i) _(n, t); else { if (!f) return void u[2]; T(n, t) } } function R(n) { var t = s[95] , e = r[75] , a = new r[47](t + h + e, c[96]); return n.replace(new c[27](u[97]), v(s[98], s[99], s[100])).replace(a, c[101]) } }(Zn || (Zn = {})); var qn = function () { var n, t, r; n = t = r = a; var e, o, i; e = o = i = s; var u = o[15] , c = o[102] , f = e[103]; function l(r) { var a = o[102] , i = e[103]; this[n[76]] = r; for (var u = t[52], c = r[a + g + i]; u < c; u++) this[u] = t[52] } return l[e[104]][w + m + I + u] = function () { for (var a = e[105], u = this[a + y], c = [], s = -e[0], v = o[2], f = u[r[56]]; v < f; v++) for (var l = this[v], p = u[v], d = s += p; c[d] = l & parseInt(t[77], n[78]), --p != r[52];) --d, l >>= parseInt(n[79], i[106]); return c } , l[v(t[80], t[81], b)][ot(i[107])] = function (n) { for (var r = e[8], a = this[ot(e[108], e[109])], o = t[52], u = e[2], s = a[c + r + f]; u < s; u++) { var v = a[u] , l = i[2]; do { l = (l << t[82]) + n[o++] } while (--v > t[52]); this[u] = l >>> i[2] } } , l }(), zn; !function (n) { var t = s[13] , o = c[53] , i = r[83] , f = r[84] , l = s[110] , d = r[85] , h = r[86]; function g(n, a, o, i, u) { for (var c = s[13], v = r[87], f = n[s[111]]; a < f;) o[i++] = n[a++] ^ u & parseInt(c + v + t + _, r[88]), u = ~(u * parseInt(e[89], e[82])) } function w(n) { for (var t = c[112], i = r[52], v = n[s[111]], f = []; i < v;) { var l = n[i++] << parseInt(C + t, c[113]) | n[i++] << e[82] | n[i++]; f.push(m.charAt(l >> parseInt(e[90], e[82])), m.charAt(l >> parseInt(s[114], e[78]) & parseInt(a[91], r[88])), m.charAt(l >> u[59] & parseInt(E + o, a[78])), m.charAt(l & parseInt(a[92], u[113]))) } return f.join(e[0]) } for (var m = at(u[115], s[116]), I = {}, y = u[2]; y < parseInt(i + A, e[93]); y++) I[m.charAt(y)] = y; function O(n) { var t, r, e; t = r = e = s; var o, i, u; o = i = u = a; for (var c = ot(i[94]), l = e[2], p = n[o[56]], d = []; l < p;) { var h = I[n.charAt(l++)] << parseInt(at(t[117]), u[82]) | I[n.charAt(l++)] << parseInt(v(t[118], u[95], e[119]), o[88]) | I[n.charAt(l++)] << t[59] | I[n.charAt(l++)]; d.push(h >> parseInt(e[120], t[106]), h >> parseInt(t[121], r[122]) & parseInt(f + b + c, t[106]), h & parseInt(o[96], u[88])) } return d } function D(n) { var t = O(n); if (rn, p, t[r[52]] != h) return error = T + B + l, void 0; var a = t[c[0]] , o = []; return g(t, +parseInt(e[79], c[122]), o, +u[2], a), x(o) == a ? o : void 0 } function x(n) { var t = o; t = Vn; for (var e = c[2], i = a[52], u = n[c[111]]; i < u; i++) e = (e << s[123]) - e + n[i]; return e & parseInt(s[124], r[88]) } function N(n) { var t = et , r = x(n) , e = [h, r]; return g(n, +a[52], e, +a[88], r), t = P, w(e) } n[e[97]] = w, n[R + k + S] = O, n[u[125]] = N, n[d + P + M] = D }(zn || (zn = {})); var Jn; !function (n) { var t = Fn , o = at(c[126], a[98]) , i = r[99] , f = v(U, u[127]) , l = s[128] , p = ot(a[100]) , d = r[5] , h = r[101] , g = ot(u[129]) , w = s[130] , m = r[102] , C = a[103] , E = e[104]; function A(n) { for (var t = (Tn, I, []), e = r[52]; e < n[c[111]]; e++) t.push(n.charCodeAt(e)); return t } function b() { var n = new e[105]; try { return time = s[52].now(), time / parseInt(c[131], a[88]) >>> c[2] } catch (t) { return time = n.getTime(), time / parseInt(s[121], s[84]) >>> r[52] } } function T(n) { var t = u[8] , o = {} , i = function (n, o) { var i = c[102], f, l, p, d; for (o = o.replace(s[132], u[1]), o = o.substring(u[0], o[e[56]] - c[0]), f = o.split(c[133]), p = c[2]; p < f[i + t + O]; p++) if (l = f[p].split(v(r[106], c[134])), l && !(l[r[56]] < s[122])) { for (d = r[88]; d < l[r[56]]; d++) l[r[54]] = l[r[54]] + r[107] + l[d]; l[s[2]] = new r[47](c[135]).test(l[e[52]]) ? l[a[52]].substring(u[0], l[e[52]][D + x] - c[0]) : l[a[52]], l[r[54]] = new a[47](c[135]).test(l[r[54]]) ? l[e[54]].substring(s[0], l[a[54]][a[56]] - u[0]) : l[s[0]], n[l[c[2]]] = l[e[54]] } return n }; return new r[47](e[108]).test(n) && (o = i(o, n)), o } function B(n) { var t, e, a; t = e = a = c; var u, s, v; if (u = s = v = r, typeof n === ot(s[109], sn) && n[Wn(y, a[136], s[110])]) try { switch (parseInt(n[e[137]])) { case parseInt(a[131], t[122]): break; case parseInt(v[111], s[78]): top[e[138]][v[112]] = n[t[139]]; break; case parseInt(u[113], e[122]): top[o + i + N][e[140]] = n[s[114]]; break; default: break } } catch (f) { } } function R(n, t, r) { var e, a, o; e = a = o = u } function k() { return Math.random() * parseInt(u[141], r[78]) >>> r[52] } function S(n, t) { var o = en , i = new r[47](e[115], a[116]); o = T; var s = new u[27](v(p, r[117], m)); if (n) { var f = n.match(i); if (f) { var l = f[u[0]]; return t && s.test(l) && (l = l.split(r[118]).pop().split(r[107])[c[2]]), l } } } function P(n) { var t = mn , o = c[142] , i = r[119] , v = e[120] , I = a[121]; if (!(n > e[122])) { n = n || a[52]; var y = parseInt(u[143], e[78]) , _ = a[51].createElement(u[144]); t = Q, _[c[145]] = location[r[123]] + a[124] + parseInt((new r[105]).getTime() / y) + (f + o + l), _[e[125]] = function () { Vn = u[0], setTimeout(function () { P(++n) }, n * parseInt(e[126], u[84])) } , _[p + L + d] = _[s[146]] = function () { var n, t, r; n = t = r = a; var e, o, u; e = o = u = c; var s = e[147]; this[t[127]] && this[i + W] !== o[148] && this[u[149]] !== o[150] && this[s + F + h] !== u[151] || (Vn = n[52], _[e[152]] = _[g + w + v] = n[128]) } , c[66][m + I].appendChild(_) } } function M(n) { var t, e, a; t = e = a = r; var o, i, u; return o = i = u = s, new u[27](t[129]).test(n) } function X() { var n = new s[52]; return typeof TOKEN_SERVER_TIME == s[153] ? r[52] : (time = parseInt(TOKEN_SERVER_TIME), time) } function G(n) { var t, e, a; t = e = a = s; var o, i, u; o = i = u = r; for (var c = u[52], v = a[2], f = n[o[56]]; v < f; v++) c = (c << a[123]) - c + n.charCodeAt(v), c >>>= o[52]; return c } function K(n) { var t = new s[27](e[130], s[80]); if (n) { return n.match(t) } } function Z(n) { var t = new u[27](c[154]); if (M(n)) return n; var o = t.test(n) ? -a[86] : -parseInt(r[79], e[88]); return (tn, _, n.split(s[155])).slice(o).join(a[131]) } n[Y + C + j] = T, t = En, n[c[156]] = P, n[ot(u[157])] = B, n[r[132]] = A, n[c[158]] = G, n[c[159]] = k, n[r[133]] = M, n[s[160]] = Z, n[E + H] = S, n[$ + U] = K, n[s[161]] = z, n[s[162]] = b, n[r[134]] = X; var q = !!a[65][a[135]]; function z(n) { for (var t = v(O, u[163]), a = e[136], o = s[2], i = n[V + t + a] - s[0]; i >= r[52]; i--) o = o << r[54] | +n[i]; return o } n[u[164]] = R }(Jn || (Jn = {})); var nt; !function (n) { var t = u[165] , o = a[137] , i = at(s[166], s[167]) , v = u[168] , f = a[138] , l = c[169] , p = ot(s[170], B) , d = a[52] , h = r[52] , g = c[2] , w = c[2] , m = c[2] , I = s[2] , y = s[67] , _ = t + X in [] ? o + G + i : s[172] in c[66] ? u[173] : v + K + f + Q; Jn.eventBind(s[66], _, S), Jn.eventBind(a[51], r[139], T), Jn.eventBind(u[66], Wn(e[140], e[141], s[174]), T), Jn.eventBind(c[66], l + Z + q, M), Jn.eventBind(u[66], c[175], b); function C() { return w } function E() { return d } function b(n) { w++ } function T(n) { d++ } function R() { return h } function k() { return g } function S(n) { h++ } function P() { return { x: m, y: I, trusted: y } } function M(n) { var t, r, e; t = r = e = a; var o, i, u; o = i = u = c; var s = (S, A, u[36]); g++, y = void 0 == n[s + z] || n[J + nn], m = n[ot(r[142], o[84])], I = n[i[176]] } n[e[143]] = E, n[ot(e[144])] = R, n[e[145]] = k, n[u[177]] = C, n[tn + p + rn] = P }(nt || (nt = {})); var tt; !function (n) { var t = e[146] , f = c[4] , l = c[178] , p = u[179] , h = r[147] , g = r[148] , m = e[149] , I = s[102] , y = v(rn, u[180], zn) , _ = at(r[150], Y) , C = a[151] , E = u[181] , A = c[182] , b = e[152] , B = u[183] , R = s[184] , k = a[64]; BROWSER_LIST = { _1: function () { return c[185] in r[65] }, _2: function () { return a[153] in r[65] }, _3: function () { return e[154] in u[83] }, _4: function () { var n = J , r = u[186] , o = s[187]; return n = et, e[155] in e[65] && !(r + o + t in a[51].getElementsByTagName(en + f)[s[2]]) }, _5: function () { return e[155] in s[83] && !(e[156] in c[83]) }, _6: function () { var n, t, r; n = t = r = c; var e, o, u; return e = o = u = a, e[155] in t[83] && !i }, _7: function () { var n, t, r; n = t = r = a; var e, o, i; return e = o = i = u, o[188] in o[83] && !o[83][r[157]] }, _8: function () { return a[155] in e[65] && !e[65][e[158]] }, _9: function () { return u[188] in s[83] && r[65][e[158]] }, _10: function () { var n, t, r; n = t = r = a; var e, o, i; e = o = i = c; var u = o[189]; return n[159] === navigator[an + u + on] }, _11: function () { return ot(u[190]) === navigator[r[160]] }, _12: function () { var n, t, r; return n = t = r = s, at(t[191]) in r[83] }, _13: function () { var n, t, r; n = t = r = s; var a, o, i; return a = o = i = e, i[161] in t[83] }, _14: function () { return new u[27](a[162], r[116]).test(navigator.appVersion) }, _15: function () { return e[163] in navigator }, _16: function () { return new c[27](u[192], ot(u[193])).test(navigator.vendor) }, _17: function () { return u[194] in u[83] }, _18: function () { return u[195] in c[83] && new r[47](s[196], e[116]).test(o) }, _19: function () { var n, t, r; n = t = r = s; var a, i, u; a = i = u = e; var c = ot(i[164], i[165]) , v = u[166]; return l + c + v in t[83] && new n[27](u[167], t[80]).test(o) }, _20: function () { var n = u[197]; return r[161] in u[83] && new r[47](n + un).test(o) }, _21: function () { return ot(s[198], r[168]) in r[65] && new c[27](c[199], r[116]).test(o) }, _22: function () { var n = x; return n = S, s[195] in e[65] && new c[27](a[169]).test(o) }, _23: function () { var n, t, r; n = t = r = c; var a, i, u; return a = i = u = e, u[161] in a[65] && new t[27](u[170]).test(o) }, _24: function () { return s[195] in r[65] && s[200] in e[65] }, _25: function () { var n = w; return n = Q, cn + sn in u[83] } }; function P() { var n = v(q, e[171], r[172]); return plugin_num = a[52], navigator[u[201]] && (plugin_num = navigator[p + h + n][c[111]]), plugin_num } function M() { for (var n in BROWSER_LIST) if (BROWSER_LIST.hasOwnProperty(n)) { var t = BROWSER_LIST[n]; if (t()) return +n.substr(u[0]) } return s[2] } var O ; function D() { var n, t, r; n = t = r = s; var e, o, i; e = o = i = a; var u = e[173]; return at(e[174]) == (navigator[g + vn + u + m] || navigator[n[202]]) } function N(n) { if (!e[65][at(s[191])]) return !a[54]; var t; try { t = new a[65][a[155]](n) } catch (r) { return !u[0] } return !!t } function L() { return a[65][a[175]][a[176]] } function W() { for (var n = [], t = r[52]; t < parseInt(a[79], a[93]); t++) n[t] = tn[t](); return Jn.booleanToDecimal(n) } function F() { var t = (n, d, navigator[r[177]]); return t && t[I + fn + y] > a[52] } function j() { return z(new a[47](ln + pn + _, s[80])) || N(s[203]) } function H() { return z(new a[47](Wn(s[204], r[178]), e[116])) } function $() { var n = Y , t = at(a[179], a[180]); n = J; var r; try { r = c[66].createElement(dn + t).getContext(c[205]) } catch (e) { } return !!r } function U() { return -parseInt(r[181], u[113]) === (new c[52]).getTimezoneOffset() } function V() { var n, t, e; n = t = e = r; var a, o, i; a = o = i = u; for (var c = navigator[o[206]], s = o[2]; s < An[o[111]]; s++) if (An[s].test(c)) return s + e[54]; return i[2] } function X() { var n = (m, B, a[182]); return z(new r[47](C + n + hn)) } function G() { return gn + E + wn + A in a[51] } function K() { var n, t, r; return n = t = r = c, r[86] } function Z() { return u[86] } function q() { return navigator.javaEnabled() } function z(n) { var t = T; t = h; for (var r = a[52]; r < O[u[111]]; r++) { var e = O[r][s[207]]; if (n.test(e)) return !a[52] } return !c[0] } function J() { var n, t, r; return n = t = r = e, n[183] === r[51][t[184]] } function nn() { var n, t, r; return n = t = r = c, n[86] } var tn = [q, j, H, X, L, En, D, bn, G, U, $, F, J, nn, Z, K]; function En() { var n = Nn; n = un; try { return a[185] in s[83] } catch (t) { return s[86] } } var An = [new a[47](u[208]), new a[47](e[186]), new e[47](a[187]), new s[27](mn + In), new e[47](r[188]), new u[27](e[189]), new s[27](s[209]), new u[27](u[210]), new a[47](b + yn), new e[47](B + R + k), new c[27](u[211])]; function bn() { return new u[27](ot(r[190]), u[80]).test(navigator[s[212]] || navigator[_n + Cn]) } n[s[213]] = V, n[c[214]] = M, n[e[191]] = P, n[e[192]] = W }(tt || (tt = {})); var rt; !function (n) { var t = e[87], o = a[8], i = e[8], f = s[215], l = r[52], p = s[0], d = parseInt(c[216], u[122]), h = e[86], g = u[217], w = u[123], m = e[165], I = parseInt(t + En, c[122]), y = parseInt(a[79], a[82]), _ = c[218], C = parseInt(a[193], e[82]), E = parseInt(o + i, r[78]), A = parseInt(u[219], s[122]), b = parseInt(f + An, s[106]), T = parseInt(r[194], s[106]), B = parseInt(ot(s[220], e[195]), r[82]), R = parseInt(e[196], u[122]), k = parseInt(e[197], a[78]), S; function P() { var n = s[0] , t = r[88] , e = parseInt(u[13], c[122]) , a = s[217]; S = new qn([a, a, a, a, n, n, n, e, t, t, t, t, t, t, t, a, t, n]), S[p] = Jn.serverTimeNow(), M(), S[B] = 0, S[k] = 'anguage', S[R] = 3, S[h] = 3003374309, S[b] = 3748, S[g] = 7, S[w] = 10, S[m] = 5 } function M() { S[l] = Jn.random() } function O() { S[R]++, S[p] = Jn.serverTimeNow(), S[d] = Jn.timeNow(), S[B] = Vn, S[I] = nt.getMouseMove(), S[y] = nt.getMouseClick(), S[_] = nt.getMouseWhell(), S[C] = nt.getKeyDown(), S[E] = nt.getClickPos().x, S[A] = nt.getClickPos().y; var n = S.toBuffer(); return zn.encode(n) } n[e[57]] = P; P() function D() { return O() } n[v(an, a[198], r[199])] = D xxx.update = D }(rt || (rt = {})); var et; function at() { var n, t, r; n = t = r = u; var a, o, i; a = o = i = e; var c = arguments[o[52]]; if (!c) return t[1]; for (var s = o[0], v = o[1], f = a[52]; f < c.length; f++) { var l = c.charCodeAt(f) , p = l ^ v; v = v * f % n[222] + o[200], s += i[2].fromCharCode(p) } return s } !function (n) { var t, r, e; t = r = e = a; var o, i, c; o = i = c = u; var s = c[223], f = t[201], l = i[224], p = o[225], d = t[202], h = i[92], g = e[203], w = o[226], m = c[110], I = c[223], y = !!r[65][r[135]], _, E, A, T, B, R; function k(n) { var r = o[227] , e = t[204]; return j(n) && Qn[r + e + s] } function S(n, t, e) { var a, i, u; a = i = u = o; var c, s, v; c = s = v = r; var f = b; if (f = En, Wn(v[205], s[206]) in t) return t.apply(n, e); switch (e[v[56]]) { case v[52]: return t(); case i[0]: return t(e[c[52]]); case u[122]: return t(e[c[52]], e[a[0]]); default: return t(e[u[2]], e[v[88]], e[i[63]]) } } function P() { var n, t, r; n = t = r = i; var a, o, u; a = o = u = e, U(o[65], n[188], function (r) { return function (e) { if (e && new t[27](f + l, v(Fn, n[228])).test(e)) try { D() } catch (o) { return a[207] } return new r(e) } }) } function M() { var n = t[51].getElementsByTagName(c[229]); function a(a) { if (!new i[27](at(o[230])).test(a.protocol)) return r[61]; var u = a[i[231]]; if (!u) { var s = n[i[2]]; s && (u = s[t[208]]) } if ((!u || new e[47](ot(c[232], $n), c[80]).test(u)) && (a[o[140]].split(i[233])[e[52]] == _ && a[at(i[234], c[235])])) return i[86]; return e[44] } Jn.eventBind(t[51], r[209], function (n) { var t = i[236]; n = n || event; var r = n[bn + t + p] || n[Wn(o[5], c[237], o[238])]; do { if (r[i[240]] == i[241]) { a(r) && D(); break } } while (r = r[i[239]]) }), Jn.eventBind(i[66], o[242], D), Ln || Jn.eventBind(o[83], e[210], D) } function O() { var n = ot(o[243]) , e = o[244]; _ = location[c[140]].split(o[233])[i[2]], E = location[n + Tn + e], T = location[i[245]], B = location[ot(t[211])], A = Jn.getRootDomain(E), R = new o[27](i[246] + A.replace(new r[47](t[212], i[96]), ot(c[247], r[213])) + t[214], r[116]), M(), Y(), N(), $(), D() } function D() { var n = rt.update(); return Qn.setCookie(Fn, n, o[248], A, t[215]), Zn.set(jn, n), n } function N() { var n = B; n = Un; var r = ot(c[249]); H(t[216], function (n) { return function (t, a) { var i, u, c; i = u = c = e; var s, v, f; s = v = f = o, f[22][i[217]][f[250]].call(t) === v[251] && (t = t[u[218]] || i[0]); var l = D(); return a = a || {}, Qn[at(u[219], K)] ? X(t) ? k || (t = L(t)) : a[i[220]] ? a[v[252]][jn] = l : (a[s[252]] = new Headers, a[u[220]].append(jn, l)) : (l = rt.update(), a[f[252]] ? a[Bn + d][jn] = l : (a[h + r] = new Headers, a[i[220]].append(jn, l))), n.call(this, t, a) } }) } function L(n) { for (var a = rt.update(), u = Gn, s = c[2]; s < u[Rn + kn]; s++) if (u[s].test(n)) return n; return n + (new t[47](v(r[82], r[221], t[222])).test(n) ? Wn(c[253], i[254], bn) : e[223]) + Yn + c[70] + o[255](a) } function W(n) { var t = cn , a = i[16] , u = e[43]; t = C; var s; U(n, c[256], function (n) { return function () { var t, r, a; t = r = a = i; var o, u, c; o = u = c = e; try { X(arguments[o[54]]) && !k(arguments[a[0]]) ? arguments[t[0]] = L(arguments[r[0]]) : s = D(), n.apply(this, arguments), X(arguments[r[0]]) || (Qn[u[53]] || (s = rt.update()), this.setRequestHeader(jn, s)) } catch (v) { return o[207] } } }), U(n, c[257], function (n) { var t = w; return t = p, function () { var t, e, i; t = e = i = r; var c, s, v; c = s = v = o; var f = c[258]; try { if (parseInt(this.status) === parseInt(f + g + Sn, e[78])) { for (var l = n.apply(this, arguments), p = new s[27](i[224], t[225]), d, h, w = {}; d = p.exec(l);) w[d[s[0]].toLowerCase()] = d[i[88]]; Jn.analysisRst(Jn.parse(w[$n.toLowerCase()])) } } catch (m) { return Pn + a + u } return n.apply(this, arguments) } }) } function Y() { var n = i[83][Wn(x, c[259])]; n && W(n.prototype), r[65][o[188]] && P() } function j(n) { var r = rn; r = p; var e = Jn.getHostFromUrl(n, t[44]); return e ? R.test(e) : t[44] } function H(n, t) { if (n in i[83]) { c[83].hasOwnProperty(n) && U(i[83], n, t); var r = e[65][c[260]]; if (r) { var a = r[o[104]]; a.hasOwnProperty(n) && U(a, n, t) } } } function $() { var n = at(c[261]) , e = c[262] , a = r[226]; function u(n) { return function (t) { try { s(t) } catch (r) { return r } return S(this, n, arguments) } } function s(r) { var u = it , c = i[50] , s = at(o[263], i[264]); if (r && r[c + s + Mn + On] == n + e + Dn) { var v = r[t[227]]; u = F, V(v) || (k(v) ? D() : r[a + xn + w] = L(r.src)) } } function v(n) { y ? U(Element.prototype, n, u) : (U(Kn, n, u), U(r[51].body, n, u)) } t[65][Hn] = Jn[t[228]], v(at(r[229])), v(r[230]) } function U(n, a, i) { var u = D , s = c[265] , v = ot(t[231]); if (!n) return e[61]; var f = n[a]; if (u = S, !f) return o[86]; var l = i(f); return y || (l[c[266]] = f + t[0]), l[s + m + v + I] = f, n[a] = l, r[44] } function V(n) { var t = Xn , e = o[83][r[232]]; e && (t = t.concat(e)); for (var a = i[2]; a < t[c[111]]; a++) if (t[a].test(n)) return o[67]; return o[86] } function X(n) { var t = Jn.getOriginFromUrl(n); return t ? !new r[47](e[233] + T).test(t[c[122]]) || !new o[27](B).test(t[r[54]]) : e[61] } n[t[57]] = O }(et || (et = {})); function ot() { var n, t, e; n = t = e = c; var a, o, i; a = o = i = r; var u = arguments[a[52]]; if (!u) return o[0]; for (var s = a[0], v = n[267], f = o[200], l = t[2]; l < u.length; l++) { var p = u.charCodeAt(l); f = (f + t[0]) % v.length, p ^= v.charCodeAt(f), s += i[2].fromCharCode(p) } return s } var it; !function (n) { var t = Wn(r[234], e[235]); function o() { try { c() } catch (n) { return n } } function i() { var n = parseInt(t + Nn, s[113]); setInterval(function () { Jn.getServerTime() }, n) } function c() { Qn.Init(), Zn.Init(), rt.Init(), et.Init(), i() } u[83][v(r[236], e[237])] || (o(), u[83][a[238]] = a[44]) }(it || (it = {})) }() }([\"\", 9527, String, Boolean, \"eh\", \"ad\", \"Bu\", \"ileds\", \"1\", \"\\b\", Array, \"7\", \"base\", \"64De\", \"\\u2543\\u252b\", \"etatS\", \"pa\", \"e\", \"FromUrl\", \"getOrigi\", \"nFromUrl\", \"\\u255b\\u253e\", \"b?\\x18q)\", \"ic\", \"k\", \"sted\", \"he\", \"wser\", \"oNo\", \"ckw\", \"ent\", \"hst\", \"^And\", \"RM\", \"systemL\", 5, \"\\u255f\\u0978\\u095b\\u09f5\", \"TR8\", \"!'\", \"gth\", \"er\", \"TP\", 83, \"r\", !0, \"v\", \"v-nixeh\", RegExp, \"thsi.cn\", 'K\\x19\"]K^xVV', \"KXxAPD?\\x1b[Y\", document, 0, \"allow\", 1, \"; \", \"length\", \"Init\", \"=\", \"; domain=\", \"checkcookie\", !1, \"eikooCled\", \"tnemucod\", \"d\", window, \"\\u2553\\u0972\\u0959\\u09e4\\u09bd\\u0938\\u0980\\u09c5\\u09b1\\u09d1\\u09a7\\u09dc\\u09dd\\u09d3\\u09c2\", \"\\u2556\\u0979\\u095e\\u09d3\\u09b5\\u0935\\u098f\\u09c7\\u099d\\u09d2\\u09b0\", 23, \"l$P$~\", \"frames\", \"ducument\", \"ydob\", \"documentElement\", \"del\", \"@[\\\\]^`{|}~]\", \"base_fileds\", \"255\", 10, \"10\", 39, \"\\u2547\\u2535\\u255a\\u252e\\u2541\\u2535\\u254c\\u253c\\u2559\", 8, \"4\", \"3\", \"de\", 3, \"11\", 2, \"203\", \"22\", \"111111\", \"3f\", 16, \"\\x0f\", \"\\u2506\\u2537\\u2507\\u2537\", \"11111111\", \"base64Encode\", \"v\\x1d\", \"ati\", \"WY\", \"te\", \"bo\", \"rs\", \"getHost\", Date, \"{DF\", \":\", \"^{.*}$\", \"WU<P[C\", 52, \"1001\", \"href\", \"1111101010\", \"redirect_url\", \"^\\\\s*(?:https?:)?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \"i\", \"\\u256c\\u252c\\u2516\\u254b\", \"@\", \"ready\", \"change\", \"dy\", 7, \"protocol\", \"//s.thsi.cn/js/chameleon/time.1\", \"onerror\", \"2000\", \"readyState\", null, \"^(\\\\d+\\\\.)+\\\\d+$\", \"^\\\\s*(?:(https?:))?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \".\", \"strToBytes\", \"isIPAddr\", \"serverTimeNow\", \"addEventListener\", \"th\", \"wh\", \"Scro\", \"mousemove\", 55, \"evomhcuot\", \"[[?PVC\\x0e\", \"getMouseMove\", '_R\"xWB%Po_3YT', \"getMouseClick\", \"ght\", \"gin\", \"msD\", \"ack\", \"\\u2556\\u096b\\u095f\", \"Nativ\", \"^A\", \"MozSettingsEvent\", \"safari\", \"ActiveXObject\", \"postMessage\", \"Uint8Array\", \"WeakMap\", \"Google Inc.\", \"vendor\", \"chrome\", \"python\", \"sgAppName\", \"JX\", 6, \"me\", \"LBBROWSER\", \"w4\", \"2345Explorer\", \"TheWorld\", \"\\u2544\", 40, \"tTr\", \"\\u2506\", \"navigator\", \"webdriver\", \"languages\", \"taborcA|FDP\", \"\\u2541\\u097c\\u0949\", 95, \"1e0\", \"e Cli\", \"iso-8859-1\", \"defaultCharset\", \"localStorage\", \"^Win64\", \"^Linux armv|Android\", \"^iPhone\", \"^iPad\", \"B_{VV\", \"getPluginNum\", \"getBrowserFeature\", \"12\", \"16\", \"sE\", \"10000\", \"17\", \"\\u2542\\u2532\\u2556\\u2537\\u2543\\u2526\", \"\\x1cx`R\", 2333, \"XMLH\", \"ers\", \"0\", \"lo\", 57, \"ylppa\", \"error\", \"target\", \"click\", \"unload\", \"HE9AWT9Y\", \"\\\\.\", \"c?\", \"$\", \"/\", \"fetch\", \"prototype\", \"url\", \"\\u2556\\u0971\\u0956\\u09fe\\u09a7\", \"headers\", \"\\u256b\\u2554\", 79, \"?\", \"^(.*?):[ \\\\t]*([^\\\\r\\\\n]*)\\\\r?$\", \"gm\", \"s\", \"src\", \"analysisRst\", \"\\u255e\\u0973\\u0949\\u09f4\\u09a2\\u0929\\u09ac\\u09d4\\u0992\\u09d2\\u09b0\\u09d4\", \"appendChild\", \"Y\", \"jsonp_ignore\", \"^\", 70, \"421\", \"XH>a\", \"\\u2574\\u253c\\u257d\\u2530\\u2575\\u2539\\u257c\\u2533\\u257d\\u2522\\u256e\\u2521\\u2560\\u2524\\u2561\\u2525\", \"CHAMELEON_LOADED\"], [1, \"\", 0, \"he\", \"ad\", 29, \"\\x180G\\x1f\", \"?>=<;:\\\\\\\\/,+\", \"ng\", \"to\", \"ff\", Number, Error, \"11\", \"6\", \"er\", \"ro\", \"code\", \"co\", \"_?L\", \"ed\", \"@S\\x15D*\", Object, \"len\", \"gth\", \"on\", \"lo\", RegExp, \"ySta\", 13, \"eel\", \"ee\", \"ouse\", \"ll\", \"\\u2544\\u2530\\u2555\\u2531\", \"FCm-\", \"isTru\", \"getC\", \"Pos\", \"ve\", \"or\", \"ae\", \"^\", \"On\", \"Sho\", \"can\", \"ont\", \"roid\", \"anguage\", \"\\u2502\", \"ta\", \"tna\", Date, \"3\", \"am\", \"e\", \"n+\", \"f80\", \"\\x1dD\", 6, \"\\u255f\\u253a\\u2542\\u252b\\u2545\\u2568\\u251e\", \"KCABLLAC_NOELEMAHC\", \"X-Antispider-Message\", 3, \".baidu.\", Function, document, !0, \"cookie\", \"; \", \"=\", 96, \"\\u255b\\u253e\\u2550\\u2537\\u2543\\u252b\", \"\\u250c\\u252c\\u255c\\u253d\\u2549\\u2521\\u251c\", \";O\", \"; expires=\", \"getCookie\", \"Thu, 01 Jan 1970 00:00:00 GMT\", \"setCookie\", \"Z\\x18|\", \"i\", \"\\u255b\\u2534\\u2557\\u2536\\u255a\\u2509\\u257d\\u2512\\u2560\\u2501\\u2566\\u2503\", 52, window, 10, \"Init\", !1, \"set\", \"v\", \"eliflmth\", '<script>document.w=window<\\/script><iframe src=\"/favicon.icon\"></iframe>', \"iS.p\", \"head\", \"#default#userData\", \"get\", \"[!\\\"#$%&'()*\", \"g\", \"^d\", \"$D\", \"\\u2568\\u2537\\u2568\\u254c\\u256a\", \"]\\\\P\", \"___\", \"le\", \"th\", \"prototype\", \"base_f\", 8, \"\\\\R5Z\\\\R\\x14@^Q3G\", \"ZV%PgQ?Y]S%\", 67, \"r\", \"length\", \"0\", 16, \"12\", \"\\u2576\\u095f\\u0979\\u09d5\\u0995\\u091b\\u09a9\\u09f9\\u09bd\\u09f7\\u0989\\u09fd\\u09f5\\u09f3\\u09f9\\u0a41\\u0a4d\\u098f\\u0999\\u0905\\u0975\\u09cb\\u09a9\\u09a9\\u099d\\u0927\\u0933\\u0913\\u0a6b\\u0999\\u09a3\\u0937\\u098b\\u09f5\\u0933\\u0a7b\\u091b\\u09b1\\u0a63\\u095f\\u09fb\\u094d\\u0993\\u0943\\u092b\\u0949\\u09a3\\u09e7\\u09cb\\u0925\\u0993\\u09ab\\u09f0\\u092c\\u092c\\u0942\\u0950\\u09c8\\u0944\\u09c6\\u0990\\u0944\\u09cb\\u098e\", \"i,\", \"\\u2505\\u092f\", 12, 56, \"20\", \"1000\", 2, 5, \"11111111\", \"encode\", \"\\u255b\\u0972\\u0959\", \"\\u2519\", \"s\", \"WY$PYS\", \"ystate\", \"1111101000\", / /g, \",\", \"\\u250d\", '^\".*\"$', \"edoc_sutats\", \"status_code\", \"location\", \"redirect_url\", \"href\", \"4294967295\", \"j\", \"1200000\", \"script\", \"src\", \"onreadystatechange\", \"read\", \"loaded\", \"readyState\", \"complete\", \"interactive\", \"onload\", \"undefined\", \"\\\\.com\\\\.cn$|\\\\.com\\\\.hk$\", \".\", \"getServerTime\", 'YY7YAD?FjD\"', \"strhash\", \"random\", \"getRootDomain\", \"booleanToDecimal\", \"timeNow\", \"\\u2559\\u253e\", \"eventBind\", \"onwh\", \"\\u255b\", 46, \"DOMM\", \"cl\", \"T^5^\", \"div\", \"onmousewheel\", \"mousewheel\", 51, \"keydown\", \"clientY\", \"getKeyDown\", \"ch\", \"plu\", \"\\u2543\\u252b\", \"ouc\", \"art\", \"^i\", \"Po\", \"callPhantom\", \"max\", \"Hei\", \"ActiveXObject\", \"nd\", \"yG&Y]\\x17\\x15ZUG#A]Ez\\x15qY5\\x1b\", \"\\u2576\\u097e\\u094e\\u09f8\\u09a6\\u0938\\u09b6\\u09fe\\u0996\\u09d7\\u09a7\\u09d2\\u09cc\", \"Maxthon\", \"Q\", \"opr\", \"chrome\", \"BIDUBrowser\", \"QQBro\", \"[_$ZUR\", \"UBrowser\", \"MSGesture\", \"plugins\", \"doNotTrack\", \"ShockwaveFlash.ShockwaveFlash\", \"]C|\\x18\", \"webgl2\", \"platform\", \"name\", \"^Win32\", \"^MacIntel\", \"^Linux [ix]\\\\d+\", \"^BlackBerry\", \"language\", \"getPlatform\", \"getBrowserIndex\", \"1\", \"10\", 4, 9, \"1100\", \"\\t\\0\", \"3c\", 256, \"w\", \"TTP\", \"et\", \"c\", \"al\", \"\\u255e\", \"base\", \"\\u2569\\u0975\\u094e\\u09e5\\u09a0\\u092e\\u09d1\\u09ed\\u09ce\", \"target\", \"fh%PTQr\", \"#\", \"\\u255f\\u097c\\u0949\\u09f9\", 97, \"rg\", \"tnemelEcrs\", \"fn_Ws\", \"parentNode\", \"tagName\", \"A\", \"submit\", \"PX%\", \"me\", \"host\", \"\\\\.?\", \"d\\x19\", \"Fri, 01 Feb 2050 00:00:00 GMT\", \"]E%\", \"toString\", \"[object Request]\", \"headers\", 83, \"&\", encodeURIComponent, \"open\", \"getAllResponseHeaders\", \"4\", \"tseuqeRpttHLMX\", \"Window\", \"\\u2564\\u095e\", \"RI\", \"\\u2550\\u0953\", \"(YaZ\", \"_\", \"_str\", \"V587\"]); console.log(xxx.update()) \u5b8c\u6574JS\u9006\u5411\u4ee3\u7801\uff1a 10.7\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u4eca\u65e5\u5934\u6761 https://developer.mozilla.org/zh-CN/docs/Web/API/Window \u30101\u3011 JS\u7684\u8865\u5145 1. \u51fd\u6570\u547d\u540d /*add = function add(){ console.log(add) }*/ function add(){ console.log(add) } add() function add(){ console.log(\"111\") } 2. \u7ee7\u627f \u5728 JavaScript \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b57\u9762\u91cf {} \u521b\u5efa\u5bf9\u8c61\u3002 \u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u9996\u5148\u9700\u8981\u5148\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7136\u540e\u4f7f\u7528 new \u5173\u952e\u5b57\u6765\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u4ece\u800c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a function Person(name, age) { this.name = name; this.age = age; } const person1 = new Person('John', 30); \u800c\u4f7f\u7528\u5b57\u9762\u91cf {} \u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u82b1\u62ec\u53f7\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u82b1\u62ec\u53f7\u4e2d\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u4f8b\u5982\uff1a const person2 = { name: 'Jane', age: 35 }; \u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u539f\u578b\u94fe\u6765\u5b9e\u73b0\u7ee7\u627f\u7b49\u9ad8\u7ea7\u529f\u80fd\uff0c\u800c\u4f7f\u7528\u5b57\u9762\u91cf\u521b\u5efa\u7684\u5bf9\u8c61\u5219\u4e0d\u652f\u6301\u8fd9\u4e9b\u9ad8\u7ea7\u529f\u80fd\u3002 \u30102\u3011Proxy\u4ee3\u7406 var window = { username: \"yuan\", age: 22 } window = new Proxy(window, { get(target, p, receiver) { console.log(\"target: \", target); console.log(\"p: \", p); // return window['username'];/// \u8fd9\u91cc\u5982\u679c\u8fd9\u6837\u5199. \u6709\u9012\u5f52\u98ce\u9669\u7684... // return Reflect.get(...arguments); return Reflect.get(target, p); }, set(target, p, value, receiver) { console.log(\"\u8bbe\u7f6e\u64cd\u4f5c\") Reflect.set(target, p, value); } }); console.log(window.username); console.log(window.age); window.username = \"rain\" window.age = 18 \u30103\u3011vm2 vm2\u662f\u4e00\u4e2aNode.js\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728Node.js\u4e2d\u8fd0\u884c\u6c99\u7bb1\u73af\u5883\u7684\u673a\u5236\u3002\u5b83\u53ef\u4ee5\u8ba9\u4f60\u5728\u4e00\u4e2a\u5b89\u5168\u7684\u73af\u5883\u4e2d\u8fd0\u884c\u4e0d\u53d7\u4fe1\u4efb\u7684\u4ee3\u7801\uff0c\u4ee5\u907f\u514d\u4ee3\u7801\u5bf9\u7cfb\u7edf\u7684\u7834\u574f\u548c\u635f\u5bb3\u3002 vm2\u57fa\u4e8eNode.js\u7684vm\u6a21\u5757\u5b9e\u73b0\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u66f4\u4e25\u683c\u7684\u6c99\u7bb1\u73af\u5883\u3002\u5b83\u53ef\u4ee5\u9650\u5236\u4ee3\u7801\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u4f8b\u5982\u9650\u5236\u4ee3\u7801\u7684\u6587\u4ef6\u8bfb\u5199\u3001\u7f51\u7edc\u8bbf\u95ee\u3001\u7cfb\u7edf\u8c03\u7528\u7b49\u3002\u540c\u65f6\uff0cvm2\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u5b89\u5168\u673a\u5236\uff0c\u4f8b\u5982\u9650\u5236\u4ee3\u7801\u7684CPU\u548c\u5185\u5b58\u4f7f\u7528\u7b49\uff0c\u4ee5\u8fdb\u4e00\u6b65\u589e\u5f3a\u6c99\u7bb1\u7684\u5b89\u5168\u6027\u3002 vm2\u53ef\u4ee5\u7528\u4e8e\u4e00\u4e9b\u9700\u8981\u8fd0\u884c\u4e0d\u53d7\u4fe1\u4efb\u7684\u4ee3\u7801\u7684\u573a\u666f\uff0c\u4f8b\u5982\u5728\u7ebf\u4ee3\u7801\u7f16\u8f91\u5668\u3001\u4ee3\u7801\u8bc4\u6d4b\u7cfb\u7edf\u7b49\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5b89\u5168\u7684\u73af\u5883\u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u907f\u514d\u4ee3\u7801\u5bf9\u7cfb\u7edf\u7684\u7834\u574f\u548c\u635f\u5bb3\u3002 npm install vm2@3.9.3. // \u7248\u672c\u8f83\u4e3a\u7eaf\u51c0 \u6ce8\u91ca\u6216\u5220\u9664\u50cfglobal\uff0cprocess\u7b49\u75d5\u8ff9 \u4f7f\u7528vm2: var vm = require(\"vm2\") const {VM, VMScript} = vm var myvm = new VM() // ret = myvm.run(\"process\") // console.log(ret) ret = myvm.run(\"1+2\") console.log(ret) \u30104\u3011\u4eca\u65e5\u5934\u6761\u6848\u4f8b \u5728\u722c\u866b\u9886\u57df\uff0cVMP\u901a\u5e38\u6307\u201c\u865a\u62df\u673a\u4fdd\u62a4\u201d\uff08Virtual Machine Protection\uff09\u3002VMP\u662f\u4e00\u79cd\u65e8\u5728\u4fdd\u62a4\u8f6f\u4ef6\u4ee3\u7801\u4e0d\u88ab\u9006\u5411\u5de5\u7a0b\u548c\u6076\u610f\u4fee\u6539\u7684\u6280\u672f\u3002\u5b83\u901a\u8fc7\u4f7f\u7528\u865a\u62df\u673a\u6280\u672f\uff0c\u5c06\u771f\u6b63\u7684\u7a0b\u5e8f\u4ee3\u7801\u8f6c\u6362\u6210\u865a\u62df\u6307\u4ee4\uff0c\u4ece\u800c\u4f7f\u5f97\u53cd\u6c47\u7f16\u548c\u9006\u5411\u5de5\u7a0b\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\u3002 \u5728\u722c\u866b\u4e2d\uff0cVMP\u901a\u5e38\u7528\u4e8e\u4fdd\u62a4\u722c\u866b\u7a0b\u5e8f\u7684\u4ee3\u7801\uff0c\u4ee5\u9632\u6b62\u6076\u610f\u7528\u6237\u5206\u6790\u548c\u4fee\u6539\u722c\u866b\u7a0b\u5e8f\u3002\u8fd9\u79cd\u4fdd\u62a4\u6280\u672f\u53ef\u4ee5\u6709\u6548\u9632\u6b62\u9ed1\u5ba2\u548c\u6076\u610f\u7528\u6237\u5229\u7528\u722c\u866b\u7a0b\u5e8f\u8fdb\u884c\u653b\u51fb\u548c\u975e\u6cd5\u884c\u4e3a\u3002 \u30105\u3011\u5b8c\u6574\u4ee3\u7801 (1) \u4eca\u65e5\u5934\u6761.py import execjs import requests # \u6709\u7684\u68c0\u6d4bsign. \u6709\u7684\u4e0d\u68c0\u6d4b url = \"https://www.toutiao.com/api/pc/list/feed?offset=0&channel_id=94349549395&max_behot_time=0&category=pc_profile_channel&disable_raw_data=true&aid=24&app_name=toutiao_web\" f = open(\"\u4eca\u65e5\u5934\u6761.js\", mode=\"r\", encoding=\"utf-8\") js_code = f.read() js = execjs.compile(js_code) sign = js.call(\"fn\", url) print(\"sign\", sign) params = { \"_signature\": sign } # cookie: msToken=foBljwu_lJgAolE3xxrEK-P6oz5Dpk101Rsx1kyz3-vtwKF2CDzongE81glRx6OR-l78WvqusRfBNnZSy6nz_qXiZffmyHX1_n98S0vAWxo=; __ac_signature=_02B4Z6wo00f014kJx9QAAIDDCQs9lKX25UeJKcNAAIZe7c; tt_webid=7211478517695039034; ttcid=0c13fa2fa2f04b66a71cfd3d40bf70e139; local_city_cache=%E5%8C%97%E4%BA%AC; csrftoken=4dcb3da757d011305174056a31c395c4; s_v_web_id=verify_lfcgx7l4_isLbnSez_dPJo_41Tt_8z52_ldqVZh1xhb9O; _ga=GA1.1.1962291559.1679053199; tt_scid=WJ35PCDU.3NmYJ0XW.myIF92VJ5rC9Uxha8g6UH.6lqg.6B9pZkBp-MTza2dcjit5920; ttwid=1%7CdAuWEouKeMG_oWUBvS3z8w8w7PjV7UwEtZ3leV8UMXI%7C1679057393%7Cb074cd6be208cba624fb0541ee7edf9bf1600bcf6cd590718190fc129635b778; _ga_QEHZPBE5HH=GS1.1.1679057391.2.1.1679057623.0.0.0 headers = { \"referer\": \"https://www.toutiao.com/?wid=1679053196370\", \"user-agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\", } resp = requests.get(url, params=params, headers=headers) print(resp.text) (2) \u4eca\u65e5\u5934\u6761.js var vm = require(\"vm2\"); var fs = require(\"fs\"); // nodejs\u5185\u7f6e\u7684\u8bfb\u53d6\u6587\u4ef6\u7684\u5199\u6cd5 const {VM, VMScript} = vm; // \u89e3\u5305. \u4ece\u89e3\u5305\u4e2d\u83b7\u53d6\u5230VM\u548cVMScript var myvm = new VM(); let js_code = \"\"; // nodejs\u8bfb\u53d6\u6587\u4ef6\u7684\u5199\u6cd5 js_code += fs.readFileSync(\"./\u8865\u5145\u73af\u58834.js\"); // \u5148\u52a0\u8f7d\u6211\u8865\u5145\u7684\u4ee3\u7801 js_code += fs.readFileSync(\"./\u6e90\u7801.js\"); // \u7136\u540e\u52a0\u8f7d\u9700\u8981\u8865\u73af\u5883\u7684\u4ee3\u7801 function fn(url) { js_code += `;o = {url: '${url}'};window.byted_acrawler.sign(o)` return myvm.run(js_code); } console.log(fn(\"666\")) (3) \u6e90\u7801.js try { debugger; var glb; (glb = \"undefined\" == typeof window ? global : window)._$jsvmprt = function (b, e, f) { function a() { if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (\"function\" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (b) { return !1 } } function d(b, e, f) { return (d = a() ? Reflect.construct : function (b, e, f) { var a = [null]; a.push.apply(a, e); var d = new (Function.bind.apply(b, a)); return f && c(d, f.prototype), d }).apply(null, arguments) } function c(b, e) { return (c = Object.setPrototypeOf || function (b, e) { return b.__proto__ = e, b })(b, e) } function n(b) { return function (b) { if (Array.isArray(b)) { for (var e = 0, f = new Array(b.length); e < b.length; e++) f[e] = b[e]; return f } }(b) || function (b) { if (Symbol.iterator in Object(b) || \"[object Arguments]\" === Object.prototype.toString.call(b)) return Array.from(b) }(b) || function () { throw new TypeError(\"Invalid attempt to spread non-iterable instance\") }() } for (var i = [], r = 0, t = [], o = 0, l = function (b, e) { var f = b[e++], a = b[e], d = parseInt(\"\" + f + a, 16); if (d >> 7 == 0) return [1, d]; if (d >> 6 == 2) { var c = parseInt(\"\" + b[++e] + b[++e], 16); return d &= 63, [2, c = (d <<= 8) + c] } if (d >> 6 == 3) { var n = parseInt(\"\" + b[++e] + b[++e], 16), i = parseInt(\"\" + b[++e] + b[++e], 16); return d &= 63, [3, i = (d <<= 16) + (n <<= 8) + i] } }, u = function (b, e) { var f = parseInt(\"\" + b[e] + b[e + 1], 16); return f = f > 127 ? -256 + f : f }, s = function (b, e) { var f = parseInt(\"\" + b[e] + b[e + 1] + b[e + 2] + b[e + 3], 16); return f = f > 32767 ? -65536 + f : f }, p = function (b, e) { var f = parseInt(\"\" + b[e] + b[e + 1] + b[e + 2] + b[e + 3] + b[e + 4] + b[e + 5] + b[e + 6] + b[e + 7], 16); return f = f > 2147483647 ? 0 + f : f }, y = function (b, e) { return parseInt(\"\" + b[e] + b[e + 1], 16) }, v = function (b, e) { return parseInt(\"\" + b[e] + b[e + 1] + b[e + 2] + b[e + 3], 16) }, g = g || this || window, h = Object.keys || function (b) { var e = {}, f = 0; for (var a in b) e[f++] = a; return e.length = f, e }, m = (b.length, 0), I = \"\", C = m; C < m + 16; C++) { var q = \"\" + b[C++] + b[C]; q = parseInt(q, 16), I += String.fromCharCode(q) } if (\"HNOJ@?RC\" != I) throw new Error(\"error magic number \" + I); m += 16; parseInt(\"\" + b[m] + b[m + 1], 16); m += 8, r = 0; for (var w = 0; w < 4; w++) { var S = m + 2 * w, R = \"\" + b[S++] + b[S], x = parseInt(R, 16); r += (3 & x) << 2 * w } m += 16, m += 8; var z = parseInt(\"\" + b[m] + b[m + 1] + b[m + 2] + b[m + 3] + b[m + 4] + b[m + 5] + b[m + 6] + b[m + 7], 16), O = z, E = m += 8, j = v(b, m += z); j[1]; m += 4, i = {p: [], q: []}; for (var A = 0; A < j; A++) { for (var D = l(b, m), T = m += 2 * D[0], $ = i.p.length, P = 0; P < D[1]; P++) { var U = l(b, T); i.p.push(U[1]), T += 2 * U[0] } m = T, i.q.push([$, i.p.length]) } var _ = {5: 1, 6: 1, 70: 1, 22: 1, 23: 1, 37: 1, 73: 1}, k = {72: 1}, M = {74: 1}, H = {11: 1, 12: 1, 24: 1, 26: 1, 27: 1, 31: 1}, J = {10: 1}, N = {2: 1, 29: 1, 30: 1, 20: 1}, B = [], W = []; function F(b, e, f) { for (var a = e; a < e + f;) { var d = y(b, a); B[a] = d, a += 2; k[d] ? (W[a] = u(b, a), a += 2) : _[d] ? (W[a] = s(b, a), a += 4) : M[d] ? (W[a] = p(b, a), a += 8) : H[d] ? (W[a] = y(b, a), a += 2) : J[d] ? (W[a] = v(b, a), a += 4) : N[d] && (W[a] = v(b, a), a += 4) } } return K(b, E, O / 2, [], e, f); function G(b, e, f, a, c, l, m, I) { null == l && (l = this); var C, q, w, S = [], R = 0; m && (C = m); var x, z, O = e, E = O + 2 * f; if (!I) for (; O < E;) { var j = parseInt(\"\" + b[O] + b[O + 1], 16); O += 2; var A = 3 & (x = 13 * j % 241); if (x >>= 2, A < 1) { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 10 ? S[++R] = void 0 : A > 1 ? (C = S[R--], S[R] = S[R] >= C) : A > -1 && (S[++R] = null); else if (A > 1) { if ((A = x) > 11) throw S[R--]; if (A > 7) { for (C = S[R--], z = v(b, O), A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R--][A] = C } else A > 5 && (S[R] = h(S[R])) } else if (A > 0) { (A = x) > 8 ? (C = S[R--], S[R] = typeof C) : A > 6 ? S[R] = --S[R] : A > 4 ? S[R -= 1] = S[R][S[R + 1]] : A > 2 && (q = S[R--], (A = S[R]).x === G ? A.y >= 1 ? S[R] = K(b, A.c, A.l, [q], A.z, w, null, 1) : (S[R] = K(b, A.c, A.l, [q], A.z, w, null, 0), A.y++) : S[R] = A(q)) } else { if ((A = x) > 14) z = s(b, O), (U = function e() { var f = arguments; return e.y > 0 ? K(b, e.c, e.l, f, e.z, this, null, 0) : (e.y++, K(b, e.c, e.l, f, e.z, this, null, 0)) }).c = O + 4, U.l = z - 2, U.x = G, U.y = 0, U.z = c, S[R] = U, O += 2 * z - 2; else if (A > 12) q = S[R--], w = S[R--], (A = S[R--]).x === G ? A.y >= 1 ? S[++R] = K(b, A.c, A.l, q, A.z, w, null, 1) : (S[++R] = K(b, A.c, A.l, q, A.z, w, null, 0), A.y++) : S[++R] = A.apply(w, q); else if (A > 5) C = S[R--], S[R] = S[R] != C; else if (A > 3) C = S[R--], S[R] = S[R] * C; else if (A > -1) return [1, S[R--]] } } else if (A < 2) { A = 3 & x; if (x >>= 2, A < 1) { if ((A = x) > 9) ; else if (A > 7) C = S[R--], S[R] = S[R] & C; else if (A > 5) z = y(b, O), O += 2, S[R -= z] = 0 === z ? new S[R] : d(S[R], n(S.slice(R + 1, R + z + 1))); else if (A > 3) { z = s(b, O); try { if (t[o][2] = 1, 1 == (C = G(b, O + 4, z - 3, [], c, l, null, 0))[0]) return C } catch (m) { if (t[o] && t[o][1] && 1 == (C = G(b, t[o][1][0], t[o][1][1], [], c, l, m, 0))[0]) return C } finally { if (t[o] && t[o][0] && 1 == (C = G(b, t[o][0][0], t[o][0][1], [], c, l, null, 0))[0]) return C; t[o] = 0, o-- } O += 2 * z - 2 } } else if (A < 2) { if ((A = x) > 12) S[++R] = u(b, O), O += 2; else if (A > 10) C = S[R--], S[R] = S[R] << C; else if (A > 8) { for (z = v(b, O), A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R] = S[R][A] } else A > 6 && (q = S[R--], C = delete S[R--][q]) } else if (A < 3) { (A = x) < 2 ? S[++R] = C : A < 4 ? (C = S[R--], S[R] = S[R] <= C) : A < 11 ? (C = S[R -= 2][S[R + 1]] = S[R + 2], R--) : A < 13 && (C = S[R], S[++R] = C) } else { if ((A = x) > 12) S[++R] = l; else if (A > 5) C = S[R--], S[R] = S[R] !== C; else if (A > 3) C = S[R--], S[R] = S[R] / C; else if (A > 1) { if ((z = s(b, O)) < 0) { I = 1, F(b, e, 2 * f), O += 2 * z - 2; break } O += 2 * z - 2 } else A > -1 && (S[R] = !S[R]) } } else if (A < 3) { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 7 ? (C = S[R--], S[R] = S[R] | C) : A > 5 ? (z = y(b, O), O += 2, S[++R] = c[\"$\" + z]) : A > 3 && (z = s(b, O), t[o][0] && !t[o][2] ? t[o][1] = [O + 4, z - 3] : t[o++] = [0, [O + 4, z - 3], 0], O += 2 * z - 2); else if (A > 1) { if ((A = x) < 2) { for (z = v(b, O), C = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) C += String.fromCharCode(r ^ i.p[P]); S[++R] = C, O += 4 } else if (A < 4) if (S[R--]) O += 4; else { if ((z = s(b, O)) < 0) { I = 1, F(b, e, 2 * f), O += 2 * z - 2; break } O += 2 * z - 2 } else A < 6 ? (C = S[R--], S[R] = S[R] % C) : A < 8 ? (C = S[R--], S[R] = S[R] instanceof C) : A < 15 && (S[++R] = !1) } else if (A > 0) { (A = x) < 1 ? S[++R] = g : A < 3 ? (C = S[R--], S[R] = S[R] + C) : A < 5 ? (C = S[R--], S[R] = S[R] == C) : A < 14 && (C = S[R - 1], q = S[R], S[++R] = C, S[++R] = q) } else { (A = x) < 2 ? (C = S[R--], S[R] = S[R] > C) : A < 9 ? (z = v(b, O), O += 4, q = R + 1, S[R -= z - 1] = z ? S.slice(R, q) : []) : A < 11 ? (z = y(b, O), O += 2, C = S[R--], c[z] = C) : A < 13 ? (C = S[R--], S[R] = S[R] >> C) : A < 15 && (S[++R] = s(b, O), O += 4) } } else { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 13 ? (S[++R] = p(b, O), O += 8) : A > 11 ? (C = S[R--], S[R] = S[R] >>> C) : A > 9 ? S[++R] = !0 : A > 7 ? (z = y(b, O), O += 2, S[R] = S[R][z]) : A > 0 && (C = S[R--], S[R] = S[R] < C); else if (A > 1) { (A = x) > 10 ? (z = s(b, O), t[++o] = [[O + 4, z - 3], 0, 0], O += 2 * z - 2) : A > 8 ? (C = S[R--], S[R] = S[R] ^ C) : A > 6 && (C = S[R--]) } else if (A > 0) { if ((A = x) < 3) { var D = 0, T = S[R].length, $ = S[R]; S[++R] = function () { var b = D < T; if (b) { var e = $[D++]; S[++R] = e } S[++R] = b } } else A < 5 ? (z = y(b, O), O += 2, C = c[z], S[++R] = C) : A < 7 ? S[R] = ++S[R] : A < 9 && (C = S[R--], S[R] = S[R] in C) } else { if ((A = x) > 13) C = S[R], S[R] = S[R - 1], S[R - 1] = C; else if (A > 4) C = S[R--], S[R] = S[R] === C; else if (A > 2) C = S[R--], S[R] = S[R] - C; else if (A > 0) { for (z = v(b, O), A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); A = +A, O += 4, S[++R] = A } } } } if (I) for (; O < E;) { j = B[O]; O += 2; A = 3 & (x = 13 * j % 241); if (x >>= 2, A < 1) { var U; A = 3 & x; if (x >>= 2, A < 1) { if ((A = x) > 14) z = W[O], (U = function e() { var f = arguments; return e.y > 0 ? K(b, e.c, e.l, f, e.z, this, null, 0) : (e.y++, K(b, e.c, e.l, f, e.z, this, null, 0)) }).c = O + 4, U.l = z - 2, U.x = G, U.y = 0, U.z = c, S[R] = U, O += 2 * z - 2; else if (A > 12) q = S[R--], w = S[R--], (A = S[R--]).x === G ? A.y >= 1 ? S[++R] = K(b, A.c, A.l, q, A.z, w, null, 1) : (S[++R] = K(b, A.c, A.l, q, A.z, w, null, 0), A.y++) : S[++R] = A.apply(w, q); else if (A > 5) C = S[R--], S[R] = S[R] != C; else if (A > 3) C = S[R--], S[R] = S[R] * C; else if (A > -1) return [1, S[R--]] } else if (A < 2) { (A = x) < 4 ? (q = S[R--], (A = S[R]).x === G ? A.y >= 1 ? S[R] = K(b, A.c, A.l, [q], A.z, w, null, 1) : (S[R] = K(b, A.c, A.l, [q], A.z, w, null, 0), A.y++) : S[R] = A(q)) : A < 6 ? S[R -= 1] = S[R][S[R + 1]] : A < 8 ? S[R] = --S[R] : A < 10 && (C = S[R--], S[R] = typeof C) } else if (A < 3) { if ((A = x) > 11) throw S[R--]; if (A > 7) { for (C = S[R--], z = W[O], A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R--][A] = C } else A > 5 && (S[R] = h(S[R])) } else { (A = x) < 1 ? S[++R] = null : A < 3 ? (C = S[R--], S[R] = S[R] >= C) : A < 12 && (S[++R] = void 0) } } else if (A < 2) { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 12 ? S[++R] = l : A > 5 ? (C = S[R--], S[R] = S[R] !== C) : A > 3 ? (C = S[R--], S[R] = S[R] / C) : A > 1 ? O += 2 * (z = W[O]) - 2 : A > -1 && (S[R] = !S[R]); else if (A > 1) { (A = x) < 2 ? S[++R] = C : A < 4 ? (C = S[R--], S[R] = S[R] <= C) : A < 11 ? (C = S[R -= 2][S[R + 1]] = S[R + 2], R--) : A < 13 && (C = S[R], S[++R] = C) } else if (A > 0) { if ((A = x) < 8) q = S[R--], C = delete S[R--][q]; else if (A < 10) { for (z = W[O], A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R] = S[R][A] } else A < 12 ? (C = S[R--], S[R] = S[R] << C) : A < 14 && (S[++R] = W[O], O += 2) } else { if ((A = x) < 5) { z = W[O]; try { if (t[o][2] = 1, 1 == (C = G(b, O + 4, z - 3, [], c, l, null, 0))[0]) return C } catch (m) { if (t[o] && t[o][1] && 1 == (C = G(b, t[o][1][0], t[o][1][1], [], c, l, m, 0))[0]) return C } finally { if (t[o] && t[o][0] && 1 == (C = G(b, t[o][0][0], t[o][0][1], [], c, l, null, 0))[0]) return C; t[o] = 0, o-- } O += 2 * z - 2 } else A < 7 ? (z = W[O], O += 2, S[R -= z] = 0 === z ? new S[R] : d(S[R], n(S.slice(R + 1, R + z + 1)))) : A < 9 && (C = S[R--], S[R] = S[R] & C) } } else if (A < 3) { A = 3 & x; if (x >>= 2, A < 1) (A = x) < 2 ? (C = S[R--], S[R] = S[R] > C) : A < 9 ? (z = W[O], O += 4, q = R + 1, S[R -= z - 1] = z ? S.slice(R, q) : []) : A < 11 ? (z = W[O], O += 2, C = S[R--], c[z] = C) : A < 13 ? (C = S[R--], S[R] = S[R] >> C) : A < 15 && (S[++R] = W[O], O += 4); else if (A < 2) { (A = x) < 1 ? S[++R] = g : A < 3 ? (C = S[R--], S[R] = S[R] + C) : A < 5 ? (C = S[R--], S[R] = S[R] == C) : A < 14 && (C = S[R - 1], q = S[R], S[++R] = C, S[++R] = q) } else if (A < 3) { if ((A = x) < 2) { for (z = W[O], C = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) C += String.fromCharCode(r ^ i.p[P]); S[++R] = C, O += 4 } else A < 4 ? S[R--] ? O += 4 : O += 2 * (z = W[O]) - 2 : A < 6 ? (C = S[R--], S[R] = S[R] % C) : A < 8 ? (C = S[R--], S[R] = S[R] instanceof C) : A < 15 && (S[++R] = !1) } else { (A = x) > 7 ? (C = S[R--], S[R] = S[R] | C) : A > 5 ? (z = W[O], O += 2, S[++R] = c[\"$\" + z]) : A > 3 && (z = W[O], t[o][0] && !t[o][2] ? t[o][1] = [O + 4, z - 3] : t[o++] = [0, [O + 4, z - 3], 0], O += 2 * z - 2) } } else { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 13 ? (S[++R] = W[O], O += 8) : A > 11 ? (C = S[R--], S[R] = S[R] >>> C) : A > 9 ? S[++R] = !0 : A > 7 ? (z = W[O], O += 2, S[R] = S[R][z]) : A > 0 && (C = S[R--], S[R] = S[R] < C); else if (A > 1) { (A = x) > 10 ? (z = W[O], t[++o] = [[O + 4, z - 3], 0, 0], O += 2 * z - 2) : A > 8 ? (C = S[R--], S[R] = S[R] ^ C) : A > 6 && (C = S[R--]) } else if (A > 0) { if ((A = x) > 7) C = S[R--], S[R] = S[R] in C; else if (A > 5) S[R] = ++S[R]; else if (A > 3) z = W[O], O += 2, C = c[z], S[++R] = C; else if (A > 1) { D = 0, T = S[R].length, $ = S[R]; S[++R] = function () { var b = D < T; if (b) { var e = $[D++]; S[++R] = e } S[++R] = b } } } else { if ((A = x) < 2) { for (z = W[O], A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); A = +A, O += 4, S[++R] = A } else A < 4 ? (C = S[R--], S[R] = S[R] - C) : A < 6 ? (C = S[R--], S[R] = S[R] === C) : A < 15 && (C = S[R], S[R] = S[R - 1], S[R - 1] = C) } } } return [0, null] } function K(b, e, f, a, d, c, n, i) { var r, t; null == c && (c = this), d && !d.d && (d.d = 0, d.$0 = d, d[1] = {}); var o = {}, l = o.d = d ? d.d + 1 : 0; for (o[\"$\" + l] = o, t = 0; t < l; t++) o[r = \"$\" + t] = d[r]; for (t = 0, l = o.length = a.length; t < l; t++) o[t] = a[t]; return i && !B[e] && F(b, e, 2 * f), B[e] ? G(b, e, f, 0, o, c, null, 1)[1] : G(b, e, f, 0, o, c, null, 0)[1] } }, (glb = \"undefined\" == typeof window ? global : window)._$jsvmprt(\"484e4f4a403f5243000d2d1aea78184c36c3d671000000000000ab44020000250074211b000b02430200013e2217000e1c211b000b03430200024017000e18011b000b02041c16004c211b000b04430200033e2217000b1c1b000b041e00041700181b000b04260200050a000118010a0002101c16001e180022011700051c131f0018011800131e00061a001d000727041c00261102000025552002000825000d1b000b081e00090101001f0702000a25000e211b000b094302000240001f0802000b25005b131e000c02000d02000e1a02221e000f24131e00100a000110220117003c1c0200002500131800221e0011240a0000100200123e00131e001301220117001a1c211b000b0a43020002402217000b1c1b000b0a1e001404001f090200152500131b000b0b1a00221e0016240a000010001f0a020017250039211800430200023e22011700081c1800263e17000702000000211800430200183e170012180017000902001916000602001a001800001f0b02001b25005218010117000802001c1f010200001f0618001f0e180e480039170033180618011b000b0c221e001d241b000b0c221e001e240a00001018011e001f2a0a00011019281f06180e2e1f0e16ffcb1806001f0c0200202500df0200021f0621134318063e22011700121c13221e0011240a00001002002140220117001c1c1b000b051e00221e0011221e002324130a00011002002140220117000d1c211b000b084318063e22011700201c1b000b08221e0011240a000010221e0024240200250a00011048003a220117000d1c211b000b0d4318063e22011700151c1b000b0d221e0011240a00001002002640220117000d1c211b000b0e4318063e17000520001b020b07260a00001001170028211b000b0f4318063e22011700151c1b000b0f221e0011240a00001002002740170005200012001f0d0200282500a3211801430200294017000400180002002a281f061801221e002b24131e000c02002c0200001a020a0001101f0748001f12181218071e001f3a17006618071812191f081808221e002d2448000a00011002002e3e17001a1808221e002f24480118081e001f0a0002101f0816ffd81808221e00242418060a00011048003e1700191808221e002f2418061e001f18081e001f0a0002100018122d1f1216ff95001f0e02003025007146000306000a271f22020000000500600200001f06131e003117001c131e0031221e00322418000a0001101f061806170006180600131e003317001c131e0033221e00322418000a0001101f0618061700061806001b020b0e2618001b000b081e00340a0002101f0618060007001f0f02003525009c460003060006271f2205008f131e0031170015131e0031221e003624180018010a0002101c131e0033170015131e0033221e003624180018010a0002101c49016d48182a483c2a483c2a4903e82a1f061b000b081800020037281d00341b000b08180002002a28180128020038281b000b0b1b000b0b1a00221e0016240a0000101806281a01221e0039240a0000102802003a281d003407001f1002003b25004c460003060006271f1e05003f131e0031170013131e0031221e003c2418000a0001101c131e0033170013131e0033221e003c2418000a0001101c1b000b081800020037281d003407001f1102003d2500a31b000b101a001f061b000b05221e003e24180602003f131e00061a002202000025000c1b030b00201d0040001d00410a0003101c1b000b11221e00422402004318060a0002101c13221700081c131e00442217000b1c131e00441e00451700091800201d00401b020b08260a00001017003013221700221c131e0046131e00472948643922011700101c131e0048131e0049294864391700091800201d0040001f1302004a25002b211343020002402217001f1c1b000b051e00221e0011221e002324131e004b0a00011002004c3e001f1402004d2500611b020b07260a0000100117005202004e1b000b0d420122011700111c1b000b0d1e004e1b000b12410122011700091c02004f134222011700091c020050134222011700091c0200511342220117000f1c020052134202005313423a0012001f150200542501661b000b0d1e005517000520000200561b000b05421700431b000b05221e0056241b000b0d0a0001101f101810221e0024240200550a00011048003b22011700151c1810221e0024240200570a00011048003b170005200013221700081c131e00582217000b1c131e00581e00592217000e1c131e00581e00591e005a17002a460003060006271f9605001e131e00581e0059221e005a240a0000101b000b063e17000520000702005b02005c02005d02005e02005f0200600200610200620200630200640200650a000b1f060200660200670200680a00031f07180708031fc918c921041700181fc8180718c8191fca1318ca19170005200016ffe7180608031fc918c9210417001b1fc8180618c8191fca131e006918ca19170005200016ffe4131e006908031fc918c921041700341fc818c8221e006a24131e000c02006b0200001a020a0001102217000f1c131e006918c81902006c19170005200016ffcb12001f1602006d2500c71b020b08260a0000101700291b000b13221e006e2402000f0a0001101f06180602000025000c1b030b00201d006f001d00701b020b09260a00001017005b46000306002c271f1a181a1e00711b000b14020072193e2217000e1c131e00311e001f48003e1700091800201d006f050029131e0031221e0036240200730200000a0002101c131e0031221e003c240200730a0001101c071b020b07260a000010170024131e007401221700121c131e007522011700081c131e00761700091800201d006f001f170200772500b11b020b07260a000010011700a21b000b08221e0078240200790a0001101f0618061e007a221e0011240a000010221e007b24131e000c02007c02007d1a020200000a000210221e00242402007e0a00011048003a220117003b1c1b000b0d1e0011221e0011240a000010221e007b24131e000c02007c02007d1a020200000a000210221e00242402007e0a00011048003a22011700181c1b000b0d1e004e221e0011240a00001002007f400012001f18020080250075131e000c0200810200001a021f0613221700081c131e00822217000b1c131e00821e008317004c131e00821e00831f071807221e0024240200840a00011048003e22011700151c1807221e0024240200850a00011048003e22011700111c1806221e000f2418070a000110170005200012001f190200862500961b020b1a1e008717000b1b020b1a1e00870046000306000a271f1e020000000500731b000b08221e0078240200790a0001101f0c180c221e0088240200890a0001101f0d180d221e008a2402008b0a0001101f0e180d221e008c24180e02008d190a0001101f0f180d221e008c24180e02008e190a0001101f10180f02008f281810281f111b020b1a18111d008718110007001f1b0200902501270200001f061b020b1a1e009117000f1b020b1a1e00911f061600fb48051f0e0a00001f0f1b000b0d1e004e1f10181022011700071c0a00001f1148001f121812180e3a1700b7460003060006271f3f0500a318111812191f130a00001f1448001f16181618131e001f3a1700371813221e00922418160a00011017001f1814221e0093241813221e00922418160a0001101e00940a0001101c18162d1f1616ffc418131e0095020000281f1518131e0096170011181518131e009602000028281f15181518131e009702000028281f1518151814221e0098240200000a000110281f15180f221e00932418150a0001101c0718122d1f1216ff47180f221e0098240200990a0001101f061b020b1a18061d00911806221e009a2448004904000a000210001f1c02009b2504631b000b0d1e009c221e009d240a0000101f061b000b0d1e009e221e009d240a0000101f0748001f0848011f0948021f0a48031f0b48041f0c48051f0d180d1f0e02009f1f0f0200a01f100200a11f110200a21f120200a31f130200a41f140200a51f150200a61f161806221e0024240200a70a00011048003b22011700151c1806221e0024240200a80a00011048003b17000a180c1f0e1600f71806221e002424180f0a00011048003b17000a18081f0e1600dd1806221e00242418110a00011048003b17000a18091f0e1600c31806221e00242418120a00011048003b22011700151c1806221e0024240200a90a00011048003b22011700151c1806221e0024240200aa0a00011048003b17000a180a1f0e16007b1806221e00242418130a00011048003b22011700141c1806221e00242418140a00011048003b22011700141c1806221e00242418150a00011048003b22011700151c1806221e0024240200ab0a00011048003b22011700151c1806221e0024240200ac0a00011048003b17000a180b1f0e160007180d1f0e1807221e00242418100a00011048003b221700091c180e18084017000820001601521807221e00242418120a00011048003b22011700141c1807221e00242418110a00011048003b22011700151c1807221e0024240200ad0a00011048003b221700091c180e180a40221700091c180e18094017000820001600f91807221e00242418160a00011048003b22011700141c1807221e00242418140a00011048003b22011700141c1807221e00242418150a00011048003b22011700141c1807221e00242418130a00011048003b221700091c180e180c40221700091c180e180b40170008200016008b1807221e00242418100a00011048003a221700141c1807221e00242418120a00011048003a221700141c1807221e00242418160a00011048003a221700141c1807221e00242418130a00011048003a221700141c1807221e00242418140a00011048003a221700141c1807221e00242418150a00011048003a1f001800180e180d3e40170005200048001f1748011f1848021f1948041f1a48051f1b181b1f1c1806221e0024240200ae0a00011048003b17000a18191f1c1600861806221e0024240200af0a00011048003b22011700151c1806221e0024240200b00a00011048003b17000a18181f1c1600541806221e0024240200b10a00011048003b17000a18171f1c1600391806221e0024240200b20a00011048003b22011700151c1806221e0024240200b30a00011048003b17000a181a1f1c160007181b1f1c1b020b1c260a000010221e009d240a0000101f1d1b020b1b260a000010221e009d240a0000101f1e181c18173f221700091c181c18183f2217002d1c131e005822011700231c1b000b0d1e00b4221e0011240a000010221e0024240200b50a00011048003b1700052000181c18173f221700091c181c18183f221700151c181d221e0024240200580a00011048003b1700052000181c181a3e2217000a1c181e0200003f170005200012001f1d0200b62500da261f0646000306000f271f121b000b081e00b71f060500191b000b08221e00b8240200b90a0001104800191f06071806263e170004001b000b08221e0078240200ba0a0001101f070200bb1b000b15264927101b000b0c221e001e240a0000102a480a0a000210280200bb281b000b0b1a00221e0016240a000010281f0818000200bc180828281f00180718001d00bd1318080200002500311b030b011800041c460003060006271f0c05001c1b030b06221e00be241b030b070a0001101c131b030b080907000d1806221e00bf2418070a0001101c001f1e0200c02500be18001e001f1f0618064802331f07180117003018001806480129191f0818074804291f07180818074803293a22011700091c1808180739170005260018081f0748001f09180918063a17004a180018091b000b16221e00c12418001809194900ff2f18001809194808354900ff2f18001809194810354900ff2f18001809194818354900ff2f0a0004100d18092d1f0916ffb41800221e0098240200000a0001101f0a1801170013180a221e002f24480018070a00021000180a001f200200c225007f18001e001f1f0618064802341f07180648032f48004017000818072d1f07180117001a1b000b1718074801281a011f081808180718060d16000d1b000b1718071a011f0848001f09180918063a17002c1808180948023423191800221e00c32418090a000110180948032f48033333300d18092d1f0916ffd21808001f210200c425000a18001400c52f001f220200c6250030180248053518014802333118014803351802480433312818001801311805180348032f180431191802312831001f230200c725001818001e001f48043a17000a180048041d001f1800001f240200c82500d618001e001f1f0618064801291f0718001807191f0948001f0a1b000b0c221e001d244806483418062b280a0001104800301f0d180d4800391700981b020b22180a1b020b1f28041f0a180a48023548032f1f0b48001f0c180c18073a17003d1800180c480128191f081800180c1b020b221800180c191b020b2326180a18081809180c180b18010a00061028040d271f09180c2d1f0c16ffc118004800191f08180018071b020b2218001807191b020b2326180a180818091807180b18010a00061028040d271f09180d2e1f0d16ff661800001f250200c92500d818001e001f1f0618064801291f0718004800191f081b000b0c221e001d244806483418062b280a0001101f0d1b020b22180d1b020b1f2a041f0a180a480040170093180a48023548032f1f0b18071f0c180c48003917003d1800180c480129191f091800180c1b020b221800180c191b020b2326180a18081809180c180b18010a00061029040d271f08180c2e1f0c16ffc118001807191f09180048001b020b2218004800191b020b2326180a180818094800180b18010a00061029040d271f081b020b22180a1b020b1f29041f0a16ff6b1800001f260200ca2501ac131e000c0200cb0200001a02221e000f2418000a0001101700061800000a00001f0618001e001f1f0748001f0848001f09180818073a1701641800221e00c32418080a0001101f0a180a4900803a170018180618091800221e002d2418080a0001100d16012a180a4908003a17002a180618091b000b16221e00c1244900c0180a48063430490080180a483f2f300a0002100d1600fa180a4a0000d8003a220117000c1c180a4a0000dfff39170036180618091b000b16221e00c1244900e0180a480c3430490080180a480634483f2f30490080180a483f2f300a0003100d1600ae180848012818073a1700991800221e00c32418084801280a0001101f0b180a4a0000dc003a2217000c1c4a0000dc00180b3c2217000c1c180b4a0000dfff3c170062180a4903ff2f480a33180b4903ff2f304a00010000281f0c180618091b000b16221e00c1244900f0180c481234483f2f30490080180c480c34483f2f30490080180c480634483f2f30490080180c483f2f300a0004100d18082d1f0816000d1b000b180200cc1a014718082d1f0818092d1f0916fe9a1806221e0098240200000a000110001f270200cd25024e1b000b1718011a011f0648001f0748001f0818001e001f1f09180718013a221700091c180818093a1702051800221e00c3241808222d1f080a0001101f0a180a4804341f0c180c480040170061180c480140170059180c480240170051180c480340170049180c480440170041180c480540170039180c480640170031180c480740170029180c480c4017002b180c480d40170023180c480e40170055180c480f401700a216016816017d18061807180a0d160173180818093a17002818061807180a481f2f4806331800221e00c3241808222d1f080a000110483f2f300d16000d1b000b180200ce1a0147160139180848012818093a17004018061807180a480f2f480c331800221e00c3241808222d1f080a000110483f2f480633301800221e00c3241808222d1f080a000110483f2f300d16000d1b000b180200ce1a01471600e4180848022818093a1700b4180a48072f4812331800221e00c3241808222d1f080a000110483f2f480c33301800221e00c3241808222d1f080a000110483f2f480633301800221e00c3241808222d1f080a000110483f2f304a00010000291f0b4800180b3c2217000c1c180b4a000fffff3c17002f18061807222d1f07180b480a344903ff2f4a0000d800300d18061807180b4903ff2f4a0000dc00300d16001b1b000b180200cf180b221e00112448100a000110281a014716000d1b000b180200ce1a014716001b1b000b180200d0180a221e00112448100a000110281a014718072d1f0716fdef180718013a17000a180618071d001f1b000b161e00c11b000b16180610001f280200d12502aa0a00001f061b000b174a000080001a011f0748001f0848001f0918001e001f1f0a180818013a221700091c1809180a3a1702431800221e00c3241809222d1f090a0001101f0b180b4804341f0e180e480040170061180e480140170059180e480240170051180e480340170049180e480440170041180e480540170039180e480640170031180e480740170029180e480c4017002b180e480d40170023180e480e40170055180e480f401700a216016816017d18071808180b0d1601731809180a3a17002818071808180b481f2f4806331800221e00c3241809222d1f090a000110483f2f300d16000d1b000b180200ce1a01471601391809480128180a3a17004018071808180b480f2f480c331800221e00c3241809222d1f090a000110483f2f480633301800221e00c3241809222d1f090a000110483f2f300d16000d1b000b180200ce1a01471600e41809480228180a3a1700b4180b48072f4812331800221e00c3241809222d1f090a000110483f2f480c33301800221e00c3241809222d1f090a000110483f2f480633301800221e00c3241809222d1f090a000110483f2f304a00010000291f0c4800180c3c2217000c1c180c4a000fffff3c17002f18071808222d1f08180c480a344903ff2f4a0000d800300d18071808180c4903ff2f4a0000dc00300d16001b1b000b180200cf180c221e00112448100a000110281a014716000d1b000b180200ce1a014716001b1b000b180200d0180b221e00112448100a000110281a01471808497fff4801293b17003518084801281f0d1807180d1d001f180618061e001f1b000b161e00c11b000b161807100d1801180d291f0148004801291f0818082d1f0816fdb11808480039170020180718081d001f180618061e001f1b000b161e00c11b000b161807100d1806221e0098240200000a000110001f290200d22500b418011b000b063e22011700081c1801263e22011700091c180148003a17000a18001e001f1f01180148003e17000702000000131e000c0200cb0200001a02221e000f2418000a000110220117001c1c131e000c0200d30200001a02221e000f2418000a00011001170021180118001e001f3e1700061800001800221e00d424480018010a0002100018014a0000ffff3a1700131b020b2826180018010a0002101600101b020b2926180018010a000210001f2a0200d525006b18001b000b063e22011700081c1800263e220117000c1c18001e001f48003e1700061800001b020b271800041f001b020b271801041f011b020b20261b020b25261b020b21261800200a0002101b020b241b020b21261801120a000210040a000210120a000210001f2b0200d625006718001b000b063e22011700081c1800263e220117000c1c18001e001f48003e1700061800001b020b271801041f011b020b2a1b020b20261b020b26261b020b21261800120a0002101b020b241b020b21261801120a000210040a000210200a00021004001f2c0200d725019d0200d81f0602002a1f0718021700080200001f07180117000718011f060200001f0848001f0a18001e001f180a4803283b1700b31800221e00c324180a222d1f0a0a0001104900ff2f4810331800221e00c324180a222d1f0a0a0001104900ff2f480833301800221e00c324180a222d1f0a0a0001104900ff2f301f0918081806221e002d2418094a00fc00002f4812340a000110281f0818081806221e002d2418094a0003f0002f480c340a000110281f0818081806221e002d241809490fc02f4806340a000110281f0818081806221e002d241809483f2f0a000110281f0816ff4518001e001f180a294800391700a81800221e00c324180a222d1f0a0a0001104900ff2f48103318001e001f180a3917001a1800221e00c324180a0a0001104900ff2f4808331600054800301f0918081806221e002d2418094a00fc00002f4812340a000110281f0818081806221e002d2418094a0003f0002f480c340a000110281f08180818001e001f180a3917001a1806221e002d241809490fc02f4806340a0001101600051807281f0818081807281f081808001f2d0200d92500120200da221e00242418000a000110001f2e0200db2501100200001f0648001f07180718001e001f4803293a1700f61b020b2e1800221e002d2418074800280a000110041f081b020b2e1800221e002d2418074801280a000110041f091b020b2e1800221e002d2418074802280a000110041f0a1b020b2e1800221e002d2418074803280a000110041f0b18061b000b16221e00c12418084802331809480435300a000110281f061800221e002d2418074802280a00011002002a3f17002718061b000b16221e00c12418094804334900f02f180a480235480f2f300a000110281f061800221e002d2418074803280a00011002002a3f17002118061b000b16221e00c124180a4806334900c02f180b300a000110281f0618074804281f0716ff021806001f2f0200dc25004a1800483f2f1f001b000b16221e00c12418001800481a3a1700084841160025180048343a17000848471600181800483e3a17000b48004804291600084800481129280a000110001f310200dd2500331b020b311f06180618004818340418061800481234042818061800480c340428180618004806340428180618000428001f320200de2500981b020b121e00df0200e0281f061b020b1e26180602000025007818001e001f48083a17000400460003060006271f7405005f1b020b2c261b020b2f1800221e009a2448080a000110041800221e009a24480048080a0002100a0002101f0c180c0200e13e1700131b020b38262018000a0002101c160019180c0200e23e1700101b020b38261218000a0002101c07000a0002101c001f370200e325004e1b020b1218001d00e4460003060006271f1e050038131e0031170016131e0031221e0036240200e518010a0002101c131e0033170016131e0033221e0036240200e518010a0002101c07001f380200e62500a90200001f06460003060006271f2305003f131e0031170015131e0031221e0032240200e50a0001101f0618060122011700081c131e0033170015131e0033221e0032240200e50a0001101f06071806170055460003060006271f430500491b020b2c261b020b2f1806221e009a2448080a000110041806221e009a24480048080a0002100a0002101f2318230200e13e170008200016000e18230200e23e17000512000712001f390200e7250103121f061b020b121e00e4203e170009201f061600201b020b121e00e4123e170009121f0616000e1b020b39260a0000101f06131e00061a0022121d00e822121d00e922121d00822218061d00ea22121d00eb22121d004022121d00ec22121d00ed22121d005522121d006f22121d00ee220200ef25000520001f4018401d000f1f0718071b020b0d260a0000101d00eb18071e00eb011700671b020b131807041c1b020b171807041c18071b020b14260a0000101d00ec18071b020b15260a0000101d00ed18071b020b16260a0000101d005518071b020b18260a0000101d00ee18071b020b19260a0000101d008218071b020b1d260a0000101d00e91807001f3a0200f025005c1b000b05221e00f12418000a0001101f0648001f0718061e001f4801291f08180848003b1700321800180618081919170008480116000548001f09180918061e001f180829480129331807301f0718082e1f0816ffcc1807001f3b0200f225003848001f06180618011e001f3a17002618004a0001003f2a1801221e00c32418060a000110284800351f0018062d1f0616ffd51800001f3c0200f325003848001f06180618011e001f3a17002618001801221e00c32418060a000110314a0001003f2a4800351f0018062d1f0616ffd51800001f3d0200f42500a348001f06180618011e001f3a1700911801221e00c32418060a0001101f0718074a0000d8003b2217000c1c18074a0000dbff3c2217000c1c180618011e001f3a1700451801221e00c32418064801280a0001101f0818084a0000fc002f4a0000dc003d17002218074903ff2f480a3318084903ff2f284a00010000281f0718064801281f0618004a0001003f2a1807284800351f0018062d1f0616ff6a1800001f3e0200f5250077180022011700071c0200001f061806221e007b24131e000c0200f60200001a020200000a0002101f061806221e0024240200e00a0001104800480129401700211806221e00d42448001806221e0024240200e00a0001100a00021016000518061f061806170008180616000602008f1f061806001f3f0200f72500b1180022011700071c0200001f061806221e006a24131e000c0200f80200001a020a0001101f0718071700161807480019221e00d42448010a0001101600060200001f0618061700141806221e002b240200f90a000110160004261f08131e00061a001f09180817004548001f0a180a18081e001f3a17003618091808180a19221e002b2402002a0a0001104800191808180a19221e002b2402002a0a0001104801190d180a2d1f0a16ffc51809001f400200fa25009118000122011700171c1b000b19221e00fb2418000a0001100200fc3e17000a131e00061a00001b000b05221e00f12418000a000110221e00fd240a0000101f06131e00061a001f0748001f10181018061e001f3a170037180117001a180718061810191800180618101919020000280d1600131807180618101918001806181019190d18102d1f1016ffc41807001f410200fe2500781b000b17221e00ff2418000a0001101700131800221e0100241b020b420a0001100018001b000b05411700491b000b05221e00f12418000a000110221e00fd240a0000101f0c180c221e010124020000250017180018011b020b421b030b00180119040d180000131e00061a000a000210001800001f4202010225007d18000122011700171c1b000b19221e00fb2418000a0001100200fc3e170007020000001b000b05221e00f12418000a000110221e00fd240a0000101f060200001f0748001f10181018061e001f3a170029180718061810190a000102002a281800180618101919280200f928281f0718102d1f1016ffd21807001f430201032500cb1b000b08221e0078240200790a0001101f07180748301d0104180748101d01051807221e0088240201060a0001101f0818080201071d01081808221e01092402010a4802480c0a0003101c180848021d010b180848011d010c180802010d1d010e1808221e010f24480848084808480048020a0005101c1808221e0110240a0000101c1807221e007a240a0000101f0648001f09180948203a17002c18004a0001003f2a1806221e00c324180018061e001f2c0a000110284800351f0018092d1f0916ffd21800001f4402011125002046000306000c271f0c48004801290005000d1b020b44140112040007001f45020113250011110201131d00951118001d0114001f4602011525001a460003060008271f0c200005000b131e003101010007001f4702011625001a460003060008271f0c200005000b131e003301010007001f4802011725001a460003060008271f0c200005000b131e007401010007001f490201182500301b020b0b1b020b49260a000010041b020b0b1b020b48260a00001004281b020b0b1b020b47260a0000100428001f4a020119250023131e011a1f0618061e01040200bb2818061e0105280200bb2818061e011b28001f4b02011c250019131e011a1f0618061e011d0200bb2818061e011e28001f4c02011f2500711b000b1a0200002500640201201b000b0d421700511b000b0d221e0120240a000010221e0121240200002500311b040b001800020122190200bb28180002012319280200bb28180002012419280200bb2818000201251928041c000a0001101c16000a1800020000041c001a01001f4d02012625007d0201271f0648001f07211b000b0d180619430200024017000f1b000b0d1806191f0716001c211b000b0d180619430200024017000c1b000b0d1806191f07460003060009271f50121f080500181b000b08221e0128240201290a0001101c201f080702012a13421f0918070200bb281808280200bb28180928001f4e02012b2500671b000b0b1a001f061806221e012c2448010a0001101c1806221e012d2448050a0001101c48001806221e012e240a000010291f071806221e012d24480b0a0001101c48001806221e012e240a000010291f081b000b0c221e012f24180718080a000210001f4f0201302501dd0201310201320201330a00031f06131e00061a001f07131e00061a001f081b000b081e00b70117000702001a001806031f1b181b21041700711f1a1b000b08221e0078240201340a0001101f1c181c0201351d0136181c1e01370201381d0139181c1e0137181a1d013a1b000b081e00b7221e00bf24181c0a0001101c1807181a181c1e013b0d1808181a181c1e013c0d1b000b081e00b7221e00be24181c0a0001101c16ff8e02013d02013e02013f02014002014102014202014302014402014502014602014702014802014902014a02014b02014c02014d02014e02014f0201500201510201520201530201540201550201560201570201580201590a001d1f0948001f0b271f0a271f0c48001f1a181a18091e001f3a1700b31806031f1c181c210417009f1f1b1b000b08221e0078240201340a0001101f1d181d0201351d0136181d1e01370201381d0139181d1e01371809181a1902015a28181b281d013a1b000b081e00b7221e00bf24181d0a0001101c181d1e013b1807181b1940220117000f1c181d1e013c1808181b19401f1e1b000b081e00b7221e00be24181d0a0001101c181e170018181a481e3a17000d4801181a33180a301f0a16000616ff60181a2d1f1a16ff48180a221e00112448100a000110001f5002015b25002146000306000c271f0c180c1e01140005000e1b000b1b02015c1a011c07001f5102015d2500141b000b1c221e0011240a0000101e001f001f5202015e2501e81b020b07260a000010220117000d1c1b020b09260a00001022011700231c1b000b0d1e009c221e009d240a000010221e00242402015f0a00011048003917000702000000131e016022011700081c131e016122011700081c131e01621f061b000b1a02000025017d46000306000d271f6a1800020000041c0501691b030b0617015a1b030b06131e00061a0022131e00061a00220201631d01640a00011d01651a011f06020000250004001f07131e000c0201660200001a021f08131e000c02016702007d1a021f091806221e0168240200000a0001101c1b000b1d2602000025000d1b040b00020000041c004901f40a0002101c1806221e0169240a0000101f0a180a1b000b1a41170038180a221e0121240200002500131b040b06221e016a2418000a000110000a000110221e012124020000250004000a0001101c1600301806221e01692402000025001c1b040b06221e016a2418001b040b071b040b070a0003101c0018070a0002101c18060200002500601800221700091c18001e016b2217000c1c18001e016b1e016b1700431b040b08221e016c2418001e016b1e016b0a0001101f0618061700271806480019221e006a241b040b090a0001101f07180717000e1b040b001806480019041c001d016d16000a1800020000041c07001a01001f5302016e25005d02016f221e007b24131e000c02017002007d1a0202000025003e1b000b0c221e001e240a00001048102a4800301f0618000201713d170008180616000b180648032f4808301f071807221e00112448100a000110000a000210001f5402017225005518001e001f48223e1700481b020b3c2648001800221e002f24480048200a0002100a0002101f061806221e0011240a000010221e002f24480048020a0002101800221e002f24482048220a0002103e0012001f5502017325005d1b020b0f020174041f0618062217000b1c1b020b551806041700061806001b020b54260a0000101f0618061b020b3c26480018060a00021028221e002f24480048220a0002101f061b020b102602017418060a0002101c1806001f56020175250033180001170007020000001b020b0c4804041f0618061b020b2d261b020b2b26180018060a0002100201760a00021028001f5702017725015d180117003a48001f0b48001f0c180c18001e001f3a1700271800180c191e01781700141800180c191801180b222d1f0b191d0179180c2d1f0c16ffd40200001f061800221e017a2402000025001b1b03220b061b020b0b18001e01790402017b28281d017c000a0001101c18061b020b0a260a000010281f061b020b54260a0000101f071b000b0c221e001d241807221e00c32448030a00011048082b0a0001101807221e00c32448030a00011048082c281f081807221e002f24480448041808280a0002101f091b020b2d1b020b2b26180618090a000210180728041f061b020b12221e017d02017e1b000b1e180604280200f928281d017d271f0a1b020b1e26180a02000025004d180002017f1948003d2217000a1c1800020180191700351b020b121b020b57180002018019041d01811b020b121800020180191d01821b020b10260201831800020180190a0002101c000a0002101c001f5802018425049a1b000b0d221700051c13221700081c1b000b080117000400131e00061a00220201851d01862248041d01872218001e01851d0179131e00061a00220201881d01862248031d0187221b020b0a1d0189131e00061a002202018a1d01862248031d0187221b020b4a1d0189131e00061a00220200791d01862248031d0187221b020b451d0189131e00061a002202018b1d01862248031d0187221b020b0a1d0189131e00061a002202009e1d01862248001d0187131e00061a002202018c1d01862248001d0187131e00061a002202018d1d01862248001d0187131e00061a002202018e1d01862248001d0187131e00061a00220200571d01862248001d0187131e00061a002202018f1d01862248031d0187221b020b4b1d0189131e00061a00220201901d01862248031d0187221b020b4c1d0189131e00061a00220201911d01862248011d0187131e00061a00220201921d01862248011d0187131e00061a00220201931d01862248011d0187131e00061a00220201941d01862248001d0187131e00061a00220201951d01862248031d0187221b020b4d1d01892248011d0178131e00061a00220201961d01862248031d0187221b020b4e1d0189131e00061a00220201971d01862248031d0187221b020b4f1d0189131e00061a00220201981d01862248031d0187221b020b0a1d0189131e00061a00220201991d01862248031d0187221b020b1b1d0189131e00061a002202019a1d01862248031d0187221b020b501d0189131e00061a002202019b1d01862248031d0187221b020b1c1d0189131e00061a002202019c1d01862248031d0187221b020b0a1d0189131e00061a002202009c1d01862248001d0187131e00061a002202019d1d01862248031d0187221b020b0f1d0189220201831d019e131e00061a002202019f1d01862248031d0187221b020b511d0189131e00061a00220201a01d01862248031d0187221b020b521d0189131e00061a00220201a11d01862248031d0187221b020b531d01892248011d0178131e00061a00220200821d01862248011d0187131e00061a00220201a21d01862248041d0187221b020b061e01a31d0179131e00061a00220201a41d01862248031d0187221b020b561d0189131e00061a00220201a51d01862248031d0187221b020b0a1d0189131e00061a00220201a61d01862248041d01870a00221f060a00001f07180608031f11181121041700db1f1018061810191e01871f12181248004017001e1812480140170033181248024017004018124803401700501600a918061810191b020b0b1b000b0d18061810191e018619041d017916008c18061810191318061810191e0186191d017916007718061810191b000b0818061810191e0186191d017916005f18061810191e01781700321b000b1a1700281807221e00932418061810191e0189221e00232418061810191e019e0a0001100a0001101c160025180618101918061810191e0189221e0023242618061810191e019e0a0002101d017916ff241b000b1a1700361b000b1a221e01a72418070a000110221e0121240200002500141b020b58261b030b0618000a0002101c000a0001101c16000b1b020b581806041c001f590201a82500441b000b082217000b1c1b000b081e01a901170004001b020b5b08031f0d180d210417001f1f0c1b000b08221e01a924180c1b020b5b180c190a0002101c16ffe0001f5d0201aa25008418001e001f4900c8391700131800221e01ab24480048640a0002101c18001e001f48003917004e180018001e001f480129191f0c18011e01ac180c1e01ac2948003c220117002a1c0201ad1801422217000f1c18011e0171180c1e01713d2217000f1c18011e01ad180c1e01ad3d170004001800221e00932418010a0001101c001f610201ae25006048001f0618001e01af22011700091c18001e01b022011700091c18001e01b122011700091c18001e01b217000748011f061b020b61261b020b60131e00061a002218061d0171221b000b0b221e01b3240a0000101d01ac0a0002101c001f620201b425006d18001f0618001e00941f0718001e01b52217000a1c18070201b63e17001318001e01b74800191f061b02201d01b8131e00061a002218061e01b91d01712218061e01ba1d01ad221b000b0b221e01b3240a0000101d01ac1f081b020b61261b020b5e18080a0002101c001f630201bb25006d18001f0618001e00941f0718001e01b52217000a1c18070201bc3e17001318001e01b74800191f061b02201d01b8131e00061a002218061e01b91d01712218061e01ba1d01ad221b000b0b221e01b3240a0000101d01ac1f081b020b61261b020b5f18080a0002101c001f640201bd2500191800221e0101241b020b650a00011018001e001f2b001f670201be25006818001e001f48013c1700064800001b020b671800041f061800221e01002402000025000b18001b030b0629000a0001101f071b000b0c221e01bf241807221e0100241b020b660a000110221e0101241b020b650a00011018001e001f4801292b0a000110001f680201c02500d548001f0648001f0718001e001f1801391700ba0a00001f0848001f09180918001e001f4801293a17008418001809480128191f0a18001809191f0b180a1e01ac180b1e01ac291f0c180c17005918021700171808221e0093244801180c2b0a0001101c1600401808221e0093241b000b0c221e01bf241b020b66180a1e0171180b1e017129041b020b66180a1e01ad180b1e01ad2904280a000110180c2b0a0001101c18092d1f0916ff741b020b671808041f061b020b681808041f07180748003d1700081401c11f07180618070a0002001f690201c2250119121f06460003060006271f2105002b1b000b082217000b1c1b000b081e01281700171b000b08221e0128240201290a0001101c201f06071b020b69261b020b5e48010a0002101f071b020b69261b020b604805200a0003101f0848011f09180601221700081c1b020b5c17000a18094840301f091b020b5e1e001f48003e17000d18094802301f09160015180748001948323917000a18094810301f091b020b5f1e001f48003e17000a18094804301f091b020b601e001f48003e17000d18094808301f0916001618084800191401c33917000a18094820301f091809221e00112448200a0001101f0a180a1e001f48013e17000e0201c4180a281f0a160016180a1e001f48023e17000b02001a180a281f0a180a001f6a0201c525002d0200001f06460003060006271f0e0500191b020b0e260201c61b000b081e00340a0002101f06071806001f6b0201c72500531b000b19221e00fb24131e00061a002218001d000e221b000b1f1b000b19221e00fb2418011e00b70a000110041d01c82218021d01860a0001101f061b020b2d261806020176200a0003101f071807001f6c0201c9250434211801430200023e2217000c1c21180043020001402217000a1c18001e01ca0117000d1b020b460201cb1a014748001f0648001f074a0000fff11f081b000b0b1a00221e0016240a0000104903e82b4800351f091b020b061e01cc012217003e1c1b020b3d261b020b3d2648001809020000280a0002101b000b0e1e0083221e002f241b000b0e1e01cd1e001f4802280a0001100a00021018082c1f071809180718082a31480035221e00112448020a0001101f0a180a1f0b180a1e001f48203917001b180a221e002f24180a1e001f4820290a0001101f0b16003c180a1e001f48203a1700310200001f7048001f7118714820180a1e001f293a170013187002001a281f7018712d1f7116ffe51870180b281f0b0201ce1f0c0201cf1f0d0201d01f0e180e180d28180c28180b281f061b000b1526180648020a0002101f061b020b3d2648001806020000280a0002101f0f1b020b3a260a0000101f1018100200e818020201d13e17000712160004200d0200001f11180117000a18011f1116011e1b020b5a1e01d2221e002324110201d318000a0003101c18001e00b72217001a1c1b000b19221e00fb2418001e00b70a0001100200fc4017006f48001fc318001e01d41700331b020b3e2648001b000b19221e00fb241b020b412618001e00b718001e01d40a0002100a0001100a0002101fc31600271b020b3e2648001b000b19221e00fb241b020b4218001e00b7040a0001100a0002101fc30201d518c3280200f9281f111b020b4018001e01ca041fc218001e01d617001a1b000b05221e01d72418c218001e01d60a00021016000518c21fc218111b020b4318c204281f1118110201d8281b020b3f18001e01ca04280200f9281f1118110201d9280201da281f111b020b5a1e01d2221e002324110201db18110a0003101c1b020b3b1810041f121b020b061e01cc012217000d1c1b020b45260a0000101f131b020b061e01cc012217001e1c1b020b121e018122011700111c1b020b571b020b0f02018304041f141b020b331806041b020b3318061401dc2b48003504281b020b33181318063104281b020b331b020b3d26180f1b020b061e01cc012217000b1c1b000b0d1e009c221e0011240a0000100a00021018082c4810331b020b3d26180f1811020000280a00021018082c3004281b020b3318124808331b020b061e01dd4804333018063104281b020b32180704281f151b020b334800041c181417000a18151814281f151b020b6a260a00001022011700071c0201de1f160200bb1b020b6d281b020b061e01df281f1718171816281f1718171b020b6e181528281f171b020b3e26480018170a000210221e00112448100a0001101f181818221e009a2418181e001f48022918181e001f0a0002101f1918171819281f170200001f1a1b020b6b260a0000101f1b181b17001f1b020b6c26181b180018110a0003101f1a18170201e028181a281f171817001f6f0201e1250072131e00061a001f06180108031f081808210417005a1f0718011807191f0918001809191f0a21180a430200023e22011700081c180a263e170006121f0a180a26402217001a1c21180a430200033e220117000c1c21180a430200013e170006201f0a18061809180a0d16ffa51806001f700201e225004b0201e30201e402009e0201e502019402018c0201e60201270201e70200b40201e80201e90201ea0201eb0201ec0201ed0201ee0a00111f061b020b70261b000b0d18060a000210001f710201ef2500450201f00200490200470201f10201f20201f30201930201f40201f50201f60201f70201610201f80201f90201fa0201fb0a00101f061b020b70261318060a000210001f720201fc2500270201fd0201fe0200090201ff0202000a00051f061b020b70261b000b0818060a000210001f730202012500551b000b08221e0078240200790a0001101f06261f07460003060006271f100500281806221e0088240200890a00011022011700121c1806221e0088240202020a0001101f0707180701170006261f071807001f740202032500671800221e008a240202040a00011022011700121c1800221e008a240202050a00011022011700121c1800221e008a240202060a0001101f0618061700271800221e008c2418061e02070a0001101f07180748003e17000748021f071807001600052600001f750202082501b61b020b1a1e020917000b1b020b1a1e0209001b020b74260a0000101f0618060117000a131e00061a0000131e00061a00221806221e020a240a00001022011700071c0a00001d020b221806221e020c240a0000101e020d1d020d221806221e008c2418061e020e0a0001101d020f221806221e008c2418061e02100a0001101d0211221806221e008c2418061e02120a0001101d0213221b020b751806041d0203221806221e008c2418061e02140a0001101d0215221806221e008c2418061e02160a0001101d0217221806221e008c2418061e02180a0001101d0219221806221e008c2418061e021a0a0001101d021b221806221e008c2418061e021c0a0001101d021d221806221e008c2418061e021e0a0001101d021f221806221e008c2418061e02200a0001101d0221221806221e008c2418061e02220a0001101d0223221806221e008c2418061e02240a0001101d0225221806221e008c2418061e02260a0001101d0227221806221e008c2418061e02280a0001101d0229221806221e008c2418061e022a0a0001101d022b221806221e008c2418061e022c0a0001101d00961f071b020b1a18071d02091807001f7602022d250065131e00061a00221b020b71260a0000101d022e221b020b72260a0000101d022f221b020b73260a0000101d0069221b020b76260a0000101d0089221b020b1b260a0000101d0230221b020b1c260a0000101d004e1f061b020b1a18061d02311806001f77020232250075131e00061a001f061b020b1a1e023117000f1b020b1a1e02311f0616000e1b020b77260a0000101f0618061b000b0b221e01b3240a0000101d02331b020b0c4804041f0718071b020b2d261b020b2b261b000b19221e00fb2418060a00011018070a0002100201760a000210281f081808001f7802023425003b48001f0618061b020b121e02351e001f3a1700251b020b121e0235180619221e000f2418000a000110170005200018062d1f0616ffd112001f790202362503ac131e02371e00221f0618061e006e1f0718061e02381f0818061e02391f0918061e023a1f0a18061e023b170007001600091806201d023b1806020000250076111e023c01170065111e023d221e009324131e00061a00220202381d023e221b041d023f0a0001101c131e000c02024002000e1a02221e000f2418000a00011017002a111801221e0011240a000010221e009d240a000010221e002b240202410a0001104800191d02421b030b08111b0410001d02381806020000250012111b041d02431b030b0a111b0410001d023a1806020000250040110a00001d023d111e023d221e009324131e00061a002202006e1d023e221b041d023f0a0001101c1118001d02441118011d02451b030b07111b0410001d006e02024602007002024702024802024902024a02024b0a00071f0b180602000025026f11201d023c1b020b79111e024504170255111e0245221e00242402024c0a00011048004801293917000c1b030b09111b0410001118001d024d111e024e1f06111e02461f07111e00701f08111e02471f09111e02481f0a111e02491f0b111e024a1f0c111e024b1f0d111e024f1f0e111e02501f0f131e00061a001f1048001f2a182a1b030b0b1e001f3a17002118101b030b0b182a19111e02511b030b0b182a19190d182a2d1f2a16ffd8131e00061a00221b020b82261b030b00111e02450a0002101d01ca1f11111e02440202523d17003c111e02420202533e220117000c1c111e02420202543e17001a1b020b80261811111e0242111e024d0a0003101c16000c1b030b09111b0410001b020b851b030b000417001c1b030b00221e02552418111b000b060201d10a0003101600151b020b6f2618111b000b060201d10a0003101f121b020b8326111e024518120a0002101f13111e023d221700131c111e023d48001902023e1902006e3f1700052600111e023d1f1448001fa418a418141e001f3a17003618a448003e170010181418a4191e023f480118130d11181418a41902023e191911181418a4191e023f101c18a42d1fa416ffc5111e024317000e111e023a11111e0243101c1102023d091b020b121e025617001e11221e0238241b020b061e02571b020b78260a0000100a0002101c1118061d024e1118071d02461118081d00701118091d024711180a1d024811180b1d024911180c1d024a11180d1d024b11180e1d024f11180f1d025048001f9018901b030b0b1e001f3a170021111e02511b030b0b18901918101b030b0b189019190d18902d1f9016ffd81b030b09111b0410001d0239001f7a0202582503f60202592503c31801220117000a1c131e00061a001f011b020b7b2217000b1c18001b000b20411f060200001f0702025a1f08180617001418001e01ca1f0718001e025b1f0816002418001f0718011e025b17001418011e025b221e025c240a00001016000518081f08180802025a402217000a1c180802025240220117000c1c1b020b79180704011700111b030b0626180018010a00021000131e00061a00221b020b82261b030b0018070a0002101d01ca1f0918080202523d1701fc1b020b7f26180018010a000210221e002b240202410a000110480019221e009d240a0000101f5018500202533e220117000a1c18500202543e1701af18061700c81800221e025d240a000010221e025e240a000010221e0121240200002500881b020b80261b040b091b040b5018000a0003101c1b020b851b030b000417001e1b030b00221e0255241b040b091b000b060201d10a0003101600171b020b6f261b040b091b000b060201d10a0003101f061b020b83261b040b0718060a0002101f071b020b81261b040b00180718000a0003101f081b030b062618081b040b010a000210000200002500161b000b1a0200002500091b050b0047001a01000a000210001600e21b020b80261809185018011e00b70a0003101c1b020b851b030b000417001c1b030b00221e02552418091b000b060201d10a0003101600151b020b6f2618091b000b060201d10a0003101fa21b020b8326180718a20a0002101fa31b020b121e025617006f18010117002a131e00061a0022131e00061a00221b020b061e02571b020b78260a0000100d1d025f1f0116004218011e025f011700231801131e00061a00221b020b061e02571b020b78260a0000100d1d025f16001918011e025f1b020b061e02571b020b78260a0000100d1b030b062618a318010a000210001600111b030b0626180018010a00021000160112180802025a3e1700fb1b020b851b030b000417001c1b030b00221e02552418091b000b060201d10a0003101600151b020b6f2618091b000b060201d10a0003101f4e1b020b83261807184e0a0002101f4f18061700271b020b81261800184f1b000b060a0003101f501b030b0626185018010a000210001600871b020b121e025617006f18010117002a131e00061a0022131e00061a00221b020b061e02571b020b78260a0000100d1d025f1f0116004218011e025f011700231801131e00061a00221b020b061e02571b020b78260a0000100d1d025f16001918011e025f1b020b061e02571b020b78260a0000100d1b030b0626184f18010a000210001600111b030b0626180018010a00021000001f071b020b7e260a0000100117000400131e02601700070016000813201d0260131e02611f061318071d0261001f7d020262250008131e0261001f7e02026325010d0200001f061b020b7b2217000b1c18001b000b204117002218001e025f221e0041240202640a0001101f07180717000718071f061806001801221700091c18011e025f1700c61b020b7c2217000e1c18011e025f1b000b214117002218011e025f221e0041240202640a0001101f17181717000718171f0618060018011e025f1b000b174117004448001f47184718011e025f1e001f3a17003218011e025f184719480019221e009d240a0000100202643d17000f18011e025f1847194801190018472d1f4716ffc618011e025f1b000b054117003618011e025f08031f8f188f21041700231f8e188e221e009d240a0000100202643e17000c18011e025f188e190016ffdc180600001f7f0202652500ba1802263e220117000a1c18020200003e1700061800001802221e0011240a0000101f0218010202533e1700771800201d01d41802221e002b240200f90a0001101f0c131e00061a001f0d180c17004a48001f0e180e180c1e001f3a17003b180d180c180e19221e002b2402002a0a0001104800191b000b22180c180e19221e002b2402002a0a000110480119040d180e2d1f0e16ffc01800180d1d00b716001718001b000b19221e02662418020a0001101d00b71800001f8002026725009318001e025f1f061b020b121e025617001f1806221e0268241b020b061e02571b020b78260a0000100a0002101c1b000b201801131e00061a002218001e025b1d025b2218061d025f2218021d00b72218001e02691d02692218001e026a1d026a2218001e026b1d026b2218001e01eb1d01eb2218001e026c1d026c2218001e026d1d026d2218001e026e1d026e1a02001f8102026f25012518011f061b020b121e02701e001f48003917008048001f0818081b020b121e02701e001f3a17006c1b020b121e02701808194800191f091809221e000f2418010a0001101700451801221e007b2418091b020b121e02701808194801190a0002101f061b020b5a1e01d2221e0023241800020271020272180128020273281806280a0003101c16000b18082d1f0816ff8a1b000b2218060418063d17000c1b000b1f1806041f061806221e0024240200e00a0001101f071807480039221700151c1806221e0274240202750a00011018073917004d1806221e00d424480018074801280a0002101f201806221e00d424180748012818061e001f0a0002101f2118201821221e002b240202750a000110221e0098240202760a000110281f061806001f8202027725002d18001800221e0024240200e00a00011048004801294017000c02027818012816000902027918012828001f8302027a2500141b020b7a1800041c1b020b7d1800041c001f8402027b25000b18001b020b8741001f8502027c250019111b000b19221e0266241b020b860a0001101d027d001f8702027e2500c01b020b061e01cc17000526001b020b85110417000a111e027d1600071b020b121f061b000b05221e01d724180618000a0002101c1b020b8a1806041c18061e027a1700201b020b8b18061e027f041c1b020b8c18061e0280041c1b020b8411041c18061e02561700131b000b1d261b020b7748000a0002101c1b020b5d260a0000101c1b020b121e028101221700091c18061e01841700271b020b12201d02811b020b37260a0000101c1b000b1d261b020b59480018060a0003101c001f8902028225006618001e018548003e220117001c1c1b000b0c221e001d2418001e01850a00011018001e01853f17000d1b020b460202831a014718001e027a17002a18001e027f1e001f48003e220117000d1c18001e027f1e00930117000d1b020b460202841a0147001f8a02028525003f48001f06180618001e001f3a17002f180018061917001f1b020b121e0235221e0093241b000b2318001806191a010a0001101c18062d1f0616ffcc001f8b02028625004f18001b000b064017004448001f06180618001e001f3a1700351b020b121e0270221e0093241b000b2318001806194800191a0118001806194801190a00020a0001101c18062d1f0616ffc6001f8c020287250011131e028822011700071c020000001f8d0202892500561b020b0f1b020b061e028a0422011700071c0200001f061b020b111b020b061e028a041c180602028b3d17000b0200001f0616001518060200003d17000c1b000b081e02691f0618061700091318061d0288001f8e211b000b051e01d743020003401700c71b000b05221e003e241b000b050201d7131e00061a00220201d72500941800263e220117000b1c18001b000b063e17000d1b000b0702028c1a01471b000b051800041f0648011f0718071b031e001f3a17005b1b031807191f08180826402217000b1c18081b000b0640170039180808031f141814210417002c1f091b000b051e00221e028d221e002324180818090a00021017000d1806180918081809190d16ffd318072d1f0716ffa01806001f8f188f1d028e22201d028f22201d02900a0003101c1b000b051e00f1011701141b000b050200002501021b000b051e00221e028d1f06131e00061a0022261d0011221e0291240200110a000110011f0702001102029202029302028d02029402029102000d0a00071f0818081e001f1f090200002500b42118004302000340221700161c211800430200014022011700081c1800263e17000d1b000b070202951a01470a00001f06180008031f121812210417002a1f071b030b06221e002324180018070a0002101700111806221e00932418070a0001101c16ffd51b030b0717004548001f0818081b030b093a1700371b030b06221e00232418001b030b081808190a0002101700161806221e0093241b030b081808190a0001101c18082d1f0816ffc518060000260a0000101d00f1131e00061a00220202961d01a32248021d01dd22121d01cc220202881d028a220202971d01df220202981d02571f06131e00061a0022121d02992248001d018522121d018422121d025622121d027a220a00001d027f220a00001d0235220a00001d0280220a00001d02702202029a1d017d2202029b1d00df2202029c1d029d1f12131e00061a001f1a14029e1f1f48001f3002000025001e1b021b020b351d029f1b0218001d02a01b020b32180048023404001f34271f3302000025002a1b021b020b361d029f1b020b30481c331800480435301f061b0218001d02a01b020b32180604001f350200002500271b021b020b341d029f1b020b321b020b30481a33180048063530041b020b3118000428001f36131e00061a0022020000250049121f061b020b85110417000f111e027d1e02991f0616000c1b020b121e02991f061806221700201c1b000b11221e0042240202a11800280202a2280202a318010a0003101c001d01d21f5a131e00061a002218631d02a42218631d01b62218621d02a52218641d01bc2218641d02a61f5b121f5c0a00001f5e0a00001f5f0a00001f600200002500091800180128001f65020000250009180018002a001f660202a71f6d0202a81f6e1b000b202217000d1c1b000b201b000b05411f7b1b000b212217000d1c1b000b211b000b05411f7c1b000b19221e00fb2418120a0001101f86186f1f8818871e002218891d027e18871e002218881d025518871e0022188d1d02871806122217000b1c180d260a0000101d01cc188e260a0000101c180018871d027c1800188d1d0287180018891d027e180018881d02551b000b05221e003e2418000202a9131e00061a0022201d028e0a0003101c000a0002101c0002aa00066d606867617609776c6667646b6c67660864776c61766b6d6c03636f6607677a726d707671064d60686761760e607b7667665d63617063756e6770046b714b470c666d61776f676c764f6d6667096b71446b7067646d7a086b7151636463706b06506765477a720b616d6c7176707761766d70016b04766771760b4a564f4e476e676f676c7608766d5176706b6c6521596d60686761762251636463706b50676f6d76674c6d766b646b6163766b6d6c5f0671636463706b107277716a4c6d766b646b6163766b6d6c0c656776566b6f677176636f7207656776566b6f670865677654636e776707606d6d6e67636c013301320c70636c666d6f5176706b6c653e32333031363734353a3b636061666764656a6b68696e6f6c6d72737071767774757a7b78434041464744454a4b48494e4f4c4d52535051565754555a5b5805646e6d6d700670636c666d6f066e676c65766a09666d6f4667766761760f596d606867617622556b6c666d755f0972706d766d767b72670461636e6e076b6c66677a4d6408466d61776f676c7612596d6068676176224c63746b6563766d705f10596d6068676176224a6b71766d707b5f0a65677644706d6f517670067176706b6c65013f0571726e6b76045939245f06616a637043760122097177607176706b6c6509656776416d6d696b670e716771716b6d6c51766d70636567076567764b76676f0c6e6d61636e51766d7063656706616d6d696b6709716776416d6d696b67077167764b76676f313f3922677a726b7067713f4f6d6c2e2230322251677222303233322232323832323832322257564139227263766a3f2d390a3922677a726b7067713f0b766d454f565176706b6c650939227263766a3f2d390966676e416d6d696b670a70676f6d74674b76676f0e66676077656567704667766761760e6667646b6c6752706d726770767b026b6608666760776565677003656776036e6d6502276107616d6c716d6e6707646b70676077650a6d77766770556b66766a0a6b6c6c6770556b66766a0b6d777667704a676b656a760b6b6c6c67704a676b656a760a6c6d66674667766761760772706d6167717110596d60686761762272706d616771715f0d726a636c766d6f46677667617607726e77656b6c71085d726a636c766d6f0b61636e6e526a636c766d6f0b5d5d6c6b656a766f637067054377666b6d1841636c74637150676c6667706b6c65416d6c76677a7630460f75676066706b7467704667766761760975676066706b746770136567764d756c52706d726770767b4c636f6771096e636c65776365677106616a706d6f670770776c766b6f6707616d6c6c676176145d5d75676066706b7467705d6774636e77637667135d5d71676e676c6b776f5d6774636e776376671b5d5d75676066706b7467705d7161706b72765d64776c61766b6d6c175d5d75676066706b7467705d7161706b72765d64776c61155d5d75676066706b7467705d7161706b72765d646c135d5d647a66706b7467705d6774636e77637667125d5d66706b7467705d776c75706372726766155d5d75676066706b7467705d776c75706372726766115d5d66706b7467705d6774636e77637667145d5d71676e676c6b776f5d776c75706372726766145d5d647a66706b7467705d776c75706372726766095d71676e676c6b776f0c61636e6e51676e676c6b776f165d51676e676c6b776f5d4b46475d5067616d7066677008666d61776f676c76056f6376616a0a5e2659632f785f66615d066163616a675d0f6b6c616d656c6b766d466776676176046d72676c096b6c616d656c6b766d076d6c6770706d7004616d66671253574d56435d475a4147474647465d47505010716d6f6749677b4a677067407b766766096b6c66677a676646400c526d6b6c7667704774676c760e4f51526d6b6c7667704774676c760a6a6d6d694667766761760d617067637667476e676f676c760661636c74637109766d4663766357504e077067726e636167035e712801650a6c63766b7467616d666714596d606867617622526e77656b6c437070637b5f0e6e6d6163766b6d6c4667766761764a5c6a767672713d385e2d5e2d2a59322f3b5f79332e317f2a5e2c59322f3b5f79332e317f2b79317f7e59632f64322f3b5f79332e367f2a3859632f64322f3b5f79332e367f2b79357f2b086e6d6163766b6d6c046a70676404646b6e67106a767672382d2d6e6d61636e6a6d717606656776457277074552574b4c444d0a656776416d6c76677a7605756760656e0c656776477a76676c716b6d6c19554740454e5d66676077655d70676c66677067705d6b6c646d0c656776526370636f6776677015574c4f43514947465d54474c464d505d554740454e17574c4f43514947465d50474c46475047505d554740454e012d0a656776526e77656b6c7106524e57454b4c046b76676f047277716a04767b7267046c636f6707746770716b6d6c08646b6e676c636f6704686d6b6c02212105716e6b61670c616d6c716b7176416a67616909777167704365676c760b766d4e6d7567704163716708726e6376646d706f07756b6c666d757103756b6c07636c66706d6b66056e6b6c777a066b726a6d6c67046b726366046b726d66036f6361096f63616b6c766d716a0c6f63615d726d75677072612b0461706d71037a33330561706b6d7105647a6b6d7104726b696708646b7067646d7a2d066d726770632d05226d72702d07616a706d6f672d0876706b66676c762d046f716b670674676c666d7006456d6d656e670568716d6c7204606d667b14656776476e676f676c7671407b5663654c636f67046a676366067161706b7276015d0961636e6e606361693f037170610b70676f6d7467416a6b6e660b637272676c66416a6b6e660e766d406b6c63707b5176706b6c650c64706d6f416a6370416d66670d766d576b6c763130437070637b0a616a6370416d66674376056b6c7631300a36303b363b3435303b37026f7a04646b7a6912676c61707b7276576b6c763130437070637b12666761707b7276576b6c763130437070637b0a7776643a476c616d66670e5c595e7a32322f5e7a35645f2826104f636e646d706f6766227176706b6c65157776643a4667616d6667516a6d70765176706b6c651f576c646b6c6b716a6766225756442f3a226d617667762271677377676c616729416a63706361766770226d7776716b66672274636e6b6622576c6b616d66672270636c65673822327a15406366225756442f3a22676c616d666b6c6522327a147776643a4667616d66674e6d6c655176706b6c650a7776643a4667616d66670e5c595e7a32322f5e7a64645f282606717760717670057a7a76676307666761707b72760e6063716734365176636c666370664046696672656a3658497153403a322d4f64747531345a4b33503037295557436e476b354c4e606d735b564d5277786f4468486c707b7a3b4a5445616351764167106063716734365d616a63704b6c66677a40434041464744454a4b48494e4f4c4d52535051565754555a5b58636061666764656a6b68696e6f6c6d72737071767774757a7b7832333031363734353a3b292d146063716734365176636c666370664667616d6667096063716734365d616a066034365d313208656776526370636f08726370636f57706e013d026d6c036d64640971677651756b76616a0e5d726370636f51756b76616a4d6c0f5d607b7667665d726370636f5d71751265677651756b76616a44706d6f4163616a670f666776676176436c6d6f636e6b67710a666b70676176516b656c0a616d6c716b7176676c760671756b76616a03666d6f046c6d666707726a636c766d6f046a6d6d690b76677176446763767770670e637171676f606e67506771776e760469677b710b7166606f5d717663606e67047166606f107166606f5d717663606e675d726d6c7b076567765263766a222a6a767672385e2d5e2d7e6a76767271385e2d5e2d7e5e2d5e2d2b3d595c5e2d5f2808656776537767707b0e593d5f2a5e75293f2c28243d2b280124076d6068516d7076097176706b6c656b647b02797f04716d70760868716d6c516d7076076b71437070637b036f637206706766776167076d6068305176701261636c7463715d646b6c65677072706b6c7605756b66766a066a676b656a760230660a3336727a227167706b6404646d6c7608646b6e6e56677a7604c09f9a8e138e22c0acbf0a716a63666d75406e77700b716a6d754d64647167765a046e6b6f6709716a6d75416d6e6d7003637061067176706d69670965677641636c7463710a313531373b303a37373b0f416d6c646b65477a616772766b6d6c076f677171636567116a6371516771716b6d6c51766d706365670f6a63714e6d61636e51766d706365670c6a63714b6c66677a676646400c65677643606b6e6b766b67710d6567765067716d6e77766b6d6c0671617067676c0a616d6e6d70466772766a126567764374636b6e5067716d6e77766b6d6c0a6374636b6e556b66766a0b6374636b6e4a676b656a760e6567764063767667707b4b6c646d0a6567764063767667707b04766a676c08616a6370656b6c650c616a6370656b6c65566b6f670f666b71616a6370656b6c65566b6f67056e6774676e0c656776566d77616a4b6c646d0e6f637a566d77616a526d6b6c76710b6170676376674774676c760a566d77616a4774676c760c6d6c766d77616a71766370760b656776566b6f67786d6c670771677646637667087167764f6d6c766a11656776566b6f67786d6c674d6464716776036f6b6c08656776446d6c7671096f6d6c6d71726361670a71636c712f7167706b64057167706b64047172636c0d6f6f6f6f6f6f6f6f6f6f6e6e6b096b6c6c67704a564f4e0571767b6e67043530727a08646d6c76516b78670a646d6c7644636f6b6e7b0b6d6464716776556b66766a0c6d64647167764a676b656a760c5670676077616a6776224f5109556b6c65666b6c657107517b6e6463676c085167656d6722574b0a416d6c7176636c766b630b516b6f51776c2f477a7640084f5622477a7670630545776e6b6f0a4e67676e6375636667670556776c6563064f676b707b6d0654706b6c666309416d70666b63575241094372637063686b7663074b706b715752410852636e63766b6c6d0a416d6e6d6c6c63224f5608526e637b606b6e6e08486d6967706f636c09526370616a6f676c760a4f51224d77766e6d6d690956752241676c224f56064d52564b4f4306447776777063064354474c4b500c43706b636e224a67607067750a5163746d7b67224e47560941637176676e6e63700a4f5b504b43462252504d012e0e656776517b6c76637a4770706d701041706763766722556760516d616967760f6567764c63766b74674e676c65766a086567765076614b720b746b746d60706d757167701150564152676770416d6c6c6761766b6d6c146f6d7850564152676770416d6c6c6761766b6d6c17756760696b7650564152676770416d6c6c6761766b6d6c1c7176776c387176776c2c6e2c656d6d656e672c616d6f38333b3132300477706e710a6b6167516770746770713e2a59322f3b5f79332e317f2a5e2c59322f3b5f79332e317f2b79317f7e59632f64322f3b5f79332e367f2a3859632f64322f3b5f79332e367f2b79357f2b355c2a333b305e2c33343a5e2c7e33343b5e2c3037365e2c7e33325e2c7e3335305e2c2a3359342f3b5f7e305e667e315932335f2b2b1161706763766746637663416a636c6c676e0b6170676376674d64646770137167764e6d61636e46677161706b72766b6d6c0961636c666b6663766704677a67610e6d6c6b616761636c666b666376670477776b66207a7a7a7a7a7a7a7a7a7a7a7a367a7a7a7b7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a04597a7b5f017a0d616a676169416e6b676c764b660b656776416e6b676c764b66057676616b660d676c61707b7276516761466b6640434041464744454a4b48494e4f4c4d52535051565754555a5b58636061666764656a6b68696e6f6c6d72737071767774757a7b7832333031363734353a3b2f2c0e637171676f606e67526370636f710172017007646d704763616a025c5c01340c647252706d646b6e6757706e033d733f087067765d616d66670264720e5d607b7667665d7167615d666b660c5d7063755d7167615d666b660776765d71616b660366647203636b66016c0164097176637076566b6f6701760963606b6e6b766b67710a766b6f677176636f7233136a63706675637067416d6c61777070676c617b0c6667746b61674f676f6d707b086e636c65776365670a7067716d6e77766b6d6c0f6374636b6e5067716d6e77766b6d6c0971617067676c566d720a71617067676c4e676476106667746b6167526b7a676e5063766b6d0a72706d66776176517760076063767667707b09766d77616a4b6c646d08766b6f67786d6c670a766b6f677176636f7230076572774b6c646d0b6871446d6c76714e6b71760b726e77656b6c714e6b71760a766b6f677176636f72310a67746770416d6d696b67016f0b717b6c76637a4770706d700c6c63766b74674e676c65766a057076614b52096472546770716b6d6c0b5d5d746770716b6d6c5d5d08616e6b676c764b660a766b6f677176636f72360b677a76676c66446b676e6603636e6e107176637076516b6f726b646b67665760106366664774676c764e6b7176676c677009636666566d4e6b71760671726e6b61670166017b136a636c666e6749677b606d6370664774676c7606636e7649677b076176706e49677b076f67766349677b08716a6b647649677b036c6d75136a636c666e67526d716b766b6d6c4774676c760e616a636c656766566d77616a677109766d77616a6f6d746707766d77616a6771023b3007616e6b676c765a07616e6b676c765b106a636c666e67416e6b61694774676c760a766d77616a71766370760861636e614f67636c1561636e615176636c666370664667746b63766b6d6c04717370760961636e61517267676604322c323315656776516b6f726e6b646b67665760506771776e7603322c3702323209656776566771764b660b5d5d63615d766771766b660f65676c6770637667566771764e6d6501600c656776516b656c63767770670377706e2c6c6d6c6167226f77717622606722636c226d606867617622756b766a22632277706e2272706d726770767b230b666d6f4c6d7654636e6b660872706d766d616d6e043232323208323232323232333302333207646d707067636e056667607765056c6d6c61670b606d667b54636e307176700a606d667b5d6a63716a3f05737767707b066371716b656c097263766a6c636f673f0976765d7567606b663f062477776b663f086c6d6c61675176700a36303b363b3435303b34096467546770716b6d6c033232320b7277716a546770716b6d6c01280a65677654636e77672633106c63746b6563766d70516b656c636e710b637272416d66674c636f67076372724c636f670772706d6677617608617277416e637171056d716172770974676c666d705177600a666d4c6d76567063616907746b60706376670b61706766676c766b636e710771766d706365671b706773776771764f67666b6349677b517b7176676f43616167717109606e7767766d6d766a0d756b6c666d75516b656c636e71054b6f6365670771617067676c5a0771617067676c5b0f6b71516761777067416d6c76677a7607766d6d6e6063700b6e6d6163766b6d6c6063700d4361766b74675a4d606867617608677a7667706c636e0b726d71764f6771716365671b756760696b7650677377677176436c6b6f63766b6d6c4470636f670d406e7767766d6d766a57574b46086c677671616372670f666d61776f676c76516b656c636e710c616a637063617667705167760a616d6f7263764f6d6667066e637b677071066b6f636567710e656776556760656e41636c74637112677a7267706b6f676c76636e2f756760656e0d6f637a436c6b716d76706d727b1e475a565d76677a767770675d646b6e7667705d636c6b716d76706d726b6125554740494b565d475a565d76677a767770675d646b6e7667705d636c6b716d76706d726b61224f4d585d475a565d76677a767770675d646b6e7667705d636c6b716d76706d726b611e4f435a5d56475a565750475d4f435a5d434c4b514d56504d525b5d475a560c756760656e516b656c636e7105554740454e16656776517772726d70766766477a76676c716b6d6c7113717772726d70766766477a76676c716b6d6c7114656776416d6c76677a76437676706b607776677109636c766b636e6b637109404e57475d404b565108606e7767406b76710a464752564a5d404b565109666772766a406b76710a455047474c5d404b565109657067676c406b7671204f435a5d414d4f404b4c47465d56475a565750475d4b4f4345475d574c4b56511c6f637a416d6f606b6c676656677a767770674b6f636567576c6b7671194f435a5d415740475d4f43525d56475a565750475d514b5847156f637a417760674f637256677a76777067516b78671c4f435a5d445043454f474c565d574c4b444d504f5d544741564d5051196f637a447063656f676c76576c6b646d706f546761766d7071154f435a5d50474c4647504057444447505d514b5847136f637a50676c666770607764646770516b7867174f435a5d56475a565750475d4b4f4345475d574c4b5651146f637a56677a767770674b6f636567576c6b7671104f435a5d56475a565750475d514b58470e6f637a56677a76777067516b7867134f435a5d5443505b4b4c455d544741564d5051116f637a5463707b6b6c65546761766d7071124f435a5d54475056475a5d435656504b4051106f637a54677076677a437676706b60711e4f435a5d54475056475a5d56475a565750475d4b4f4345475d574c4b56511a6f637a54677076677a56677a767770674b6f636567576c6b76711a4f435a5d54475056475a5d574c4b444d504f5d544741564d5051176f637a54677076677a576c6b646d706f546761766d707118514a43464b4c455d4e434c45574345475d544750514b4d4c16716a63666b6c654e636c6577636567546770716b6d6c0c5156474c414b4e5d404b56510b7176676c616b6e406b767107544750514b4d4c066563766a6770096c63746b6563766d7006756b6c666d7503657277075147414b4c444d0a6567765167614b6c646d09766b6f677176636f720d6b71476c63606e67665263766a145d676c63606e675263766a4e6b7176506765677a0c6b6c766770616772765a4a500e5a4f4e4a7676725067737767717610716776506773776771764a67636667700471676c66106d746770706b66674f6b6f67567b72670f5d63615d6b6c766770616772766766055d71676c66155d607b7667665d6b6c766770616772765d6e6b71760464776c6109637065776f676c76710e5c616d6c76676c762f767b72672601390e5d607b7667665d616d6c76676c76115d6d746770706b66674f6b6f67567b72670d5d607b7667665d6f67766a6d660a5d607b7667665d77706e076d6c63606d7076066d6c6e6d6366096d6c6e6d6366676c660b6d6c6e6d636671766370760a6d6c72706d6570677171096d6c766b6f676d77760b5d716b656c63767770673f0b5d607b7667665d606d667b126d6c706763667b7176637667616a636c65670c706771726d6c7167567b726707766b6f676d77760677726e6d636604524d5156216372726e6b6163766b6d6c2d7a2f7575752f646d706f2f77706e676c616d666766106372726e6b6163766b6d6c2d68716d6c04716b656c0371666b0d7167614b6c646d4a67636667700e6b6c76677061677276446776616a0975706372446776616a03454756066f67766a6d660b766d57727267704163716705616e6d6c670476677a76076a676366677071165d5d63615d6b6c7667706167727667665d646776616a05646776616a0d717772726d707671446776616a145d656776446776616a416d6c76676c76567b72670c616d6c76676c762f767b72670b7772666376674c6d6c61670572637071670f60776b6e664c677550677377677176037167760870676467707067700e7067646770706770526d6e6b617b046f6d6667056163616a67087067666b70676176096b6c766765706b767b0e656776506775706b76676657706e105d77706e506775706b766750776e67710b706775706b766757706e22084d504b454b4c38220b08504755504b56474638220b6e6371764b6c66677a4d640125032730350860776b6e6657706e0c245d716b656c63767770673f0c3d5d716b656c63767770673f096b6c76677061677276196b714b6c7176636c61674d64407b76676643617063756e67700d407b76676643617063756e6770076d72766b6d6c71046b6c6b760e676c63606e675263766a4e6b71760f77706e506775706b766750776e6771045d6664720f74636e6b666376674d72766b6d6c711e6d72766b6d6c22636b662a4b6c76676567702b226b71226c676766676623276d72766b6d6c22676c63606e675263766a4e6b71762a437070637b2b226b71226c6767666766231065676c5263766a4e6b7176506765677a1265676c57706e506775706b7667506765677a0a656776506764677067700c5d5d63615d70676467706770106667636e506764677067704163616a670a7067646770677049677b0a5d5d63615d606e636c692a41636c6c6d7622616d6c7467707622776c6667646b6c6766226d70226c776e6e22766d226d60686761760e6a63714d756c52706d726770767b0574636e77670875706b7663606e670c616d6c646b65777063606e671472706d726770767b4b71476c776f677063606e670e766d4e6d61636e675176706b6c650774636e77674d640d6b7152706d766d767b72674d64204d60686761762c69677b712261636e6e6766226d6c226c6d6c2f6d606867617606302c33332c320640365834756d0c5a2f4f717166692f4b6c646d03606d67296a76767271382d2d7a7a60652c716c717166692c616d6f2d7567607166692d74332d6567764b6c646d236a76767271382d2d7a7a60652c716c717166692c616d6f2d7567607166692d74332d72236a76767271382d2d7a7a60652c716c717166692c616d6f2d7567607166692d74332d7605776057706e0a3034373636313735343b02373302363a03276122022f3c0d616d6e6d703821603333376630096f6d7771676f6d74670769677b666d756c096f6d777167666d756c0232300232330a5d5d67714f6d66776e67\", [, , \"undefined\" != typeof exports ? exports : void 0, \"undefined\" != typeof module ? module : void 0, \"undefined\" != typeof define ? define : void 0, \"undefined\" != typeof Object ? Object : void 0, void 0, \"undefined\" != typeof TypeError ? TypeError : void 0, \"undefined\" != typeof document ? document : void 0, \"undefined\" != typeof InstallTrigger ? InstallTrigger : void 0, \"undefined\" != typeof safari ? safari : void 0, \"undefined\" != typeof Date ? Date : void 0, \"undefined\" != typeof Math ? Math : void 0, \"undefined\" != typeof navigator ? navigator : void 0, \"undefined\" != typeof location ? location : void 0, \"undefined\" != typeof history ? history : void 0, \"undefined\" != typeof Image ? Image : void 0, \"undefined\" != typeof console ? console : void 0, \"undefined\" != typeof PluginArray ? PluginArray : void 0, \"undefined\" != typeof indexedDB ? indexedDB : void 0, \"undefined\" != typeof DOMException ? DOMException : void 0, \"undefined\" != typeof parseInt ? parseInt : void 0, \"undefined\" != typeof String ? String : void 0, \"undefined\" != typeof Array ? Array : void 0, \"undefined\" != typeof Error ? Error : void 0, \"undefined\" != typeof JSON ? JSON : void 0, \"undefined\" != typeof Promise ? Promise : void 0, \"undefined\" != typeof WebSocket ? WebSocket : void 0, \"undefined\" != typeof eval ? eval : void 0, \"undefined\" != typeof setTimeout ? setTimeout : void 0, \"undefined\" != typeof encodeURIComponent ? encodeURIComponent : void 0, \"undefined\" != typeof encodeURI ? encodeURI : void 0, \"undefined\" != typeof Request ? Request : void 0, \"undefined\" != typeof Headers ? Headers : void 0, \"undefined\" != typeof decodeURIComponent ? decodeURIComponent : void 0, \"undefined\" != typeof RegExp ? RegExp : void 0]); debugger; // \u6211\u4eec\u7528\u7684\u662fvm2. vm2\u7684\u8fd4\u56de. \u5c31\u5728\u672b\u5c3e.\u76f4\u63a5\u5199\u51fa\u4f60\u8981\u8fd4\u56de\u7684\u4e1c\u897f\u5373\u53ef // var o = {url: 'https://www.toutiao.com/toutiao/api/pc/info'}; // window.init(); // \u6682\u65f6\u5148\u628a\u53ef\u7528\u7684cookie\u76f4\u63a5\u603c\u8fdb\u6765...7 document.cookie = \"msToken=foBljwu_lJgAolE3xxrEK-P6oz5Dpk101Rsx1kyz3-vtwKF2CDzongE81glRx6OR-l78WvqusRfBNnZSy6nz_qXiZffmyHX1_n98S0vAWxo=; __ac_signature=_02B4Z6wo00f014kJx9QAAIDDCQs9lKX25UeJKcNAAIZe7c; ttcid=0c13fa2fa2f04b66a71cfd3d40bf70e139; local_city_cache=%E5%8C%97%E4%BA%AC; csrftoken=4dcb3da757d011305174056a31c395c4; s_v_web_id=verify_lfcgx7l4_isLbnSez_dPJo_41Tt_8z52_ldqVZh1xhb9O; _ga=GA1.1.1962291559.1679053199; tt_scid=WJ35PCDU.3NmYJ0XW.myIF92VJ5rC9Uxha8g6UH.6lqg.6B9pZkBp-MTza2dcjit5920; _ga_QEHZPBE5HH=GS1.1.1679057391.2.1.1679057623.0.0.0\" // window.byted_acrawler.sign(o); } catch (e) { console.log(e); debugger; } debugger; (4) \u8865\u5145\u73af\u5883.js function my_proxy(obj) { return new Proxy(obj, { get(target, p, receiver) { let val = Reflect.get(...arguments); console.log(\"get\u64cd\u4f5c\", target, \":::\u83b7\u53d6\u5c5e\u6027>\", p, \":::\u503c>\", val); return val; }, set(target, p, value, receiver) { console.log(\"set\u64cd\u4f5c\", target, \":::\u8bbe\u7f6e\u5c5e\u6027>\", p, \":::\u503c>\", value); return Reflect.set(...arguments); } }); } // ================window==============// window = this; // \u5f53\u524d\u5bf9\u8c61/\u5f53\u524d\u4f5c\u7528\u57df.. Window = function Window() { }; // \u7ed9window\u8bbe\u7f6e\u539f\u578b // window.__proto__ = Window.prototype; Object.setPrototypeOf(window, Window.prototype); // ================ \u8865document===================// document = { referrer: 'https://www.toutiao.com/?wid=1678689641771' } Document = function Document() {} Object.setPrototypeOf(document, Document.prototype); // ================ \u8865Location===================// location = { href: 'https://www.toutiao.com/?wid=1679053196370', protocol: 'https:', }; Location = function Location() { } Object.setPrototypeOf(location, Location.prototype); //====================\u8bbe\u7f6eNavigator===============// navigator = { userAgent: \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\" } Navigator = function Navigator() { } Object.setPrototypeOf(navigator, Navigator.prototype); 10.8\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u62fc\u591a\u591a pinduoduo.js var vm = require(\"vm2\") var fs = require(\"fs\") const {VM, VMScript} = vm var myvm = new VM() code = \"\" // \u4e00\u3001\u8865\u73af\u5883 BuCode = fs.readFileSync(\"./\u8865\u73af\u5883.js\") code += BuCode code += \";;;\\n\" // \u4e8c\u3001\u6e90\u7801JS YuanCode = fs.readFileSync(\"./\u6e90\u7801.js\") // console.log(YuanCode.toString()) code += YuanCode code += \";;;\\n\" // console.log(code) // \u4e09\u3001\u751f\u6210anti_content function fn() { ret = myvm.run(code) return ret } console.log(\"\u7ed3\u679c\uff1a\",fn()) \u8865\u73af\u5883\uff1a // proxy\u4ee3\u7406\u58f0\u660e function proxy_watch(obj) { return new Proxy(obj, { get(target, p, receiver) { debugger; let val = Reflect.get(...arguments); console.log(\"get\", target, \"=\u83b7\u53d6\u5c5e\u6027>\", p, \"=\u503c>\", val); return val; }, set(target, p, value, receiver) { debugger; console.log(\"set\", target, \"=\u8bbe\u7f6e\u5c5e\u6027>\", p, \"=\u503c>\", value); return Reflect.set(...arguments); } }); }; // \u4e00\u3001\u8865\u5145window\u73af\u5883 window = {} window = this Window = function Window() { } Object.setPrototypeOf(window, Window.prototype) Window.prototype.setTimeout = function setTimeout(){ } //\u4e8c\u3001\u8865\u5145 document document = { referrer: '' } Document = function Document() { } Object.setPrototypeOf(document, Document.prototype) Document.prototype.addEventListener = function () { } //\u4e09\u3001\u8865\u5145 location location = { href: 'https://mobile.pinduoduo.com/', protocol: 'https:', } Location = function Location() { } Object.setPrototypeOf(location, Location.prototype) // \u56db\u3001\u8865\u5145 navigator navigator = { userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36' } Navigator = function Navigator() { } Object.setPrototypeOf(navigator, Navigator.prototype) Navigator.prototype.hasOwnProperty = function () { return true } // \u4e94\u3001\u8865\u5145 screen screen = { // width: 1728, } Screen = function Screen() { } Object.setPrototypeOf(screen, Screen.prototype) // \u516d\u3001\u8865\u5145 history\u5bf9\u8c61 history = {} History = function History() { } Object.setPrototypeOf(history, History.prototype) History.prototype.back = function () { } // \u4ee3\u7406\u5bf9\u8c61\u8bbe\u7f6e window = proxy_watch(window) document = proxy_watch(document) location = proxy_watch(location) navigator = proxy_watch(navigator)","title":"\u4e09\u5341\u56db\u3001\u9ad8\u7ea7\u9006\u5411"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_1","text":"","title":"\u4e09\u5341\u56db\u3001\u9ad8\u7ea7\u9006\u5411"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1","text":"","title":"\u7b2c\u4e00\u7ae0. \u722c\u866b\u521d\u8bc6\u30101\u3011"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#11web","text":"","title":"1.1\u3001web\u5f00\u53d1\u6838\u5fc3"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1http","text":"1. \u4ec0\u4e48\u662f\u8bf7\u6c42\u5934\u8bf7\u6c42\u4f53\uff0c\u54cd\u5e94\u5934\u54cd\u5e94\u4f53 2. URL\u5730\u5740\u5305\u62ec\u4ec0\u4e48 3. get\u8bf7\u6c42\u548cpost\u8bf7\u6c42\u5230\u5e95\u662f\u4ec0\u4e48 4. Content-Type\u662f\u4ec0\u4e48","title":"\u30101\u3011http\u534f\u8bae"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_1","text":"HTTP\u534f\u8bae\u662fHyper Text Transfer Protocol\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09\u7684\u7f29\u5199,\u662f\u7528\u4e8e\u4e07\u7ef4\u7f51\uff08WWW:World Wide Web \uff09\u670d\u52a1\u5668\u4e0e\u672c\u5730\u6d4f\u89c8\u5668\u4e4b\u95f4\u4f20\u8f93\u8d85\u6587\u672c\u7684\u4f20\u9001\u534f\u8bae\u3002HTTP\u662f\u4e00\u4e2a\u5c5e\u4e8e\u5e94\u7528\u5c42\u7684\u9762\u5411\u5bf9\u8c61\u7684\u534f\u8bae\uff0c\u7531\u4e8e\u5176\u7b80\u6377\u3001\u5feb\u901f\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u8d85\u5a92\u4f53\u4fe1\u606f\u7cfb\u7edf\u3002\u5b83\u4e8e1990\u5e74\u63d0\u51fa\uff0c\u7ecf\u8fc7\u51e0\u5e74\u7684\u4f7f\u7528\u4e0e\u53d1\u5c55\uff0c\u5f97\u5230\u4e0d\u65ad\u5730\u5b8c\u5584\u548c\u6269\u5c55\u3002HTTP\u534f\u8bae\u5de5\u4f5c\u4e8e\u5ba2\u6237\u7aef-\u670d\u52a1\u7aef\u67b6\u6784\u4e3a\u4e0a\u3002\u6d4f\u89c8\u5668\u4f5c\u4e3aHTTP\u5ba2\u6237\u7aef\u901a\u8fc7URL\u5411HTTP\u670d\u52a1\u7aef\u5373WEB\u670d\u52a1\u5668\u53d1\u9001\u6240\u6709\u8bf7\u6c42\u3002Web\u670d\u52a1\u5668\u6839\u636e\u63a5\u6536\u5230\u7684\u8bf7\u6c42\u540e\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u54cd\u5e94\u4fe1\u606f\u3002","title":"\uff081\uff09\u7b80\u4ecb"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2http","text":"```htaccess","title":"\uff082\uff09http\u534f\u8bae\u7279\u6027"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-tcpip","text":"http\u534f\u8bae\u662f\u57fa\u4e8eTCP/IP\u534f\u8bae\u4e4b\u4e0a\u7684\u5e94\u7528\u5c42\u534f\u8bae\u3002","title":"(1) \u57fa\u4e8eTCP/IP\u534f\u8bae"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-","text":"HTTP\u534f\u8bae\u89c4\u5b9a,\u8bf7\u6c42\u4ece\u5ba2\u6237\u7aef\u53d1\u51fa,\u6700\u540e\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u8be5\u8bf7\u6c42\u5e76\u8fd4\u56de\u3002\u6362\u53e5\u8bdd\u8bf4,\u80af\u5b9a\u662f\u5148\u4ece\u5ba2\u6237\u7aef\u5f00\u59cb\u5efa\u7acb\u901a\u4fe1\u7684,\u670d\u52a1\u5668\u7aef\u5728\u6ca1\u6709\u63a5\u6536\u5230\u8bf7\u6c42\u4e4b\u524d\u4e0d\u4f1a\u53d1\u9001\u54cd\u5e94","title":"(2) \u57fa\u4e8e\u8bf7\u6c42\uff0d\u54cd\u5e94\u6a21\u5f0f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3","text":"HTTP\u662f\u4e00\u79cd\u4e0d\u4fdd\u5b58\u72b6\u6001,\u5373\u65e0\u72b6\u6001(stateless)\u534f\u8bae\u3002HTTP\u534f\u8bae\u81ea\u8eab\u4e0d\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u4e4b\u95f4\u7684\u901a\u4fe1\u72b6\u6001\u8fdb\u884c\u4fdd\u5b58\u3002\u4e5f\u5c31\u662f\u8bf4\u5728HTTP\u8fd9\u4e2a\u7ea7\u522b,\u534f\u8bae\u5bf9\u4e8e\u53d1\u9001\u8fc7\u7684\u8bf7\u6c42\u6216\u54cd\u5e94\u90fd\u4e0d\u505a\u6301\u4e45\u5316\u5904\u7406\u3002 \u4f7f\u7528HTTP\u534f\u8bae,\u6bcf\u5f53\u6709\u65b0\u7684\u8bf7\u6c42\u53d1\u9001\u65f6,\u5c31\u4f1a\u6709\u5bf9\u5e94\u7684\u65b0\u54cd\u5e94\u4ea7\u751f\u3002\u534f\u8bae\u672c\u8eab\u5e76\u4e0d\u4fdd\u7559\u4e4b\u524d\u4e00\u5207\u7684\u8bf7\u6c42\u6216\u54cd\u5e94\u62a5\u6587\u7684\u4fe1\u606f\u3002\u8fd9\u662f\u4e3a\u4e86\u66f4\u5feb\u5730\u5904\u7406\u5927\u91cf\u4e8b\u52a1,\u786e\u4fdd\u534f\u8bae\u7684\u53ef\u4f38\u7f29\u6027,\u800c\u7279\u610f\u628aHTTP\u534f\u8bae\u8bbe\u8ba1\u6210\u5982\u6b64\u7b80\u5355\u7684\u3002","title":"(3) \u65e0\u72b6\u6001\u4fdd\u5b58"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4","text":"HTTP1.0\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f\u77ed\u8fde\u63a5\u3002\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u6bcf\u8fdb\u884c\u4e00\u6b21HTTP\u64cd\u4f5c\uff0c\u5c31\u5efa\u7acb\u4e00\u6b21\u8fde\u63a5\uff0c\u4efb\u52a1\u7ed3\u675f\u5c31\u4e2d\u65ad\u8fde\u63a5\u3002 HTTP/1.1\u8d77\uff0c\u9ed8\u8ba4\u4f7f\u7528\u957f\u8fde\u63a5\u3002\u8981\u4f7f\u7528\u957f\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7684HTTP\u9996\u90e8\u7684Connection\u90fd\u8981\u8bbe\u7f6e\u4e3akeep-alive\uff0c\u624d\u80fd\u652f\u6301\u957f\u8fde\u63a5\u3002 HTTP\u957f\u8fde\u63a5\uff0c\u6307\u7684\u662f\u590d\u7528TCP\u8fde\u63a5\u3002\u591a\u4e2aHTTP\u8bf7\u6c42\u53ef\u4ee5\u590d\u7528\u540c\u4e00\u4e2aTCP\u8fde\u63a5\uff0c\u8fd9\u5c31\u8282\u7701\u4e86TCP\u8fde\u63a5\u5efa\u7acb\u548c\u65ad\u5f00\u7684\u6d88\u8017\u3002 ```","title":"(4) \u77ed\u8fde\u63a5\u548c\u957f\u8fde\u63a5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3http","text":"http\u534f\u8bae\u5305\u542b\u7531\u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\u5230\u670d\u52a1\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u4e0e\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u5230\u6d4f\u89c8\u5668\u9700\u8981\u9075\u5faa\u7684\u8bf7\u6c42\u534f\u8bae\u3002\u7528\u4e8eHTTP\u534f\u8bae\u4ea4\u4e92\u7684\u4fe1\u88ab\u4e3aHTTP\u62a5\u6587\u3002\u8bf7\u6c42\u7aef(\u5ba2\u6237\u7aef)\u7684HTTP\u62a5\u6587 \u505a\u8bf7\u6c42\u62a5\u6587,\u54cd\u5e94\u7aef(\u670d\u52a1\u5668\u7aef)\u7684 \u505a\u54cd\u5e94\u62a5\u6587\u3002HTTP\u62a5\u6587\u672c\u8eab\u662f\u7531\u591a\u884c\u6570\u636e\u6784\u6210\u7684\u5b57\u6587\u672c\u3002 \u4e00\u4e2a\u5b8c\u6574\u7684URL\u5305\u62ec\uff1a\u534f\u8bae\u3001ip\u3001\u7aef\u53e3\u3001\u8def\u5f84\u3001\u53c2\u6570 \u4f8b\u5982\uff1a https://www.baidu.com/s?wd=yuan \u5176\u4e2dhttps\u662f\u534f\u8bae\uff0cwww.baidu.com \u662fIP\uff0c\u7aef\u53e3\u9ed8\u8ba480\uff0c/s\u662f\u8def\u5f84\uff0c\u53c2\u6570\u662fwd=yuan \u8bf7\u6c42\u65b9\u5f0f: get\u4e0epost\u8bf7\u6c42 GET\u63d0\u4ea4\u7684\u6570\u636e\u4f1a\u653e\u5728URL\u4e4b\u540e\uff0c\u4ee5?\u5206\u5272URL\u548c\u4f20\u8f93\u6570\u636e\uff0c\u53c2\u6570\u4e4b\u95f4\u4ee5&\u76f8\u8fde\uff0c\u5982EditBook?name=test1&id=123456. POST\u65b9\u6cd5\u662f\u628a\u63d0\u4ea4\u7684\u6570\u636e\u653e\u5728HTTP\u5305\u7684\u8bf7\u6c42\u4f53\u4e2d. GET\u63d0\u4ea4\u7684\u6570\u636e\u5927\u5c0f\u6709\u9650\u5236\uff08\u56e0\u4e3a\u6d4f\u89c8\u5668\u5bf9URL\u7684\u957f\u5ea6\u6709\u9650\u5236\uff09\uff0c\u800cPOST\u65b9\u6cd5\u63d0\u4ea4\u7684\u6570\u636e\u6ca1\u6709\u9650\u5236 \u54cd\u5e94\u72b6\u6001\u7801\uff1a\u72b6\u6001\u7801\u7684\u804c \u662f\u5f53\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u7aef\u53d1\u9001\u8bf7\u6c42\u65f6, \u8fd4\u56de\u7684\u8bf7\u6c42 \u7ed3\u679c\u3002\u501f\u52a9\u72b6\u6001\u7801,\u7528\u6237\u53ef\u4ee5\u77e5\u9053\u670d\u52a1\u5668\u7aef\u662f\u6b63\u5e38 \u7406\u4e86\u8bf7\u6c42,\u8fd8\u662f\u51fa \u73b0\u4e86 \u3002\u72b6\u6001\u7801\u5982200 OK,\u4ee53\u4f4d\u6570\u5b57\u548c\u539f\u56e0\u7ec4\u6210\u3002","title":"\uff083\uff09http\u8bf7\u6c42\u534f\u8bae\u4e0e\u54cd\u5e94\u534f\u8bae"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2web","text":"import socket sock = socket.socket() sock.bind((\"127.0.0.1\", 7777)) sock.listen(3) print(\"\u4eac\u4e1c\u670d\u52a1\u5668\u5df2\u7ecf\u542f\u52a8...\") while 1: conn, addr = sock.accept() data = conn.recv(1024) print(\"data:\", data) conn.send( b\"HTTP/1.1 200 ok\\r\\ncontent-type:text/plain\\r\\n\\r\\n<h1>alex black girl!</h1><img \" b\"src='https://img0.baidu.com/it/u=4011424408,4733765&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=750'>\") conn.close() \u57fa\u4e8epostman\u5b8c\u6210\u6d4b\u8bd5\uff01","title":"\u30102\u3011\u6700\u7b80\u5355\u7684web\u5e94\u7528\u7a0b\u5e8f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3flaskweb","text":"from flask import Flask, render_template app = Flask(__name__, template_folder=\"templates\") @app.get(\"/index\") def index(): return render_template(\"index.html\") @app.get(\"/timer\") def timer(): import datetime now = datetime.datetime.now().strftime(\"%Y-%m-%d %X\") return render_template(\"timer.html\", **{ \"now\": nowa }) app.run()","title":"\u30103\u3011\u57fa\u4e8eflask\u642d\u5efaweb\u7f51\u7ad9"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_1","text":"\uff081\uff09Elements \uff082\uff09Network \uff083\uff09Application","title":"\u30104\u3011\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\uff08\u91cd\u70b9\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_1","text":"","title":"\u7b2c\u4e8c\u7ae0. \u524d\u7aef\u57fa\u7840\u30103\u3011"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#21-html","text":"\u4e86\u89e3\u4e86web\u76f8\u5173\u57fa\u672c\u6982\u5ff5\u4ee5\u540e\uff0c\u6211\u4eec\u5f00\u59cb\u6b63\u5f0f\u63a5\u89e6\u7f51\u9875\u5f00\u53d1\uff0c\u7f51\u9875\u5f00\u53d1\u7684\u57fa\u7840\u662fHTML\uff0c\u6240\u4ee5\uff0c\u672c\u7ae0\u5185\u5bb9\u4e3b\u8981\u5206\u4e24\u90e8\u5206\uff0c\u4e00\u662f\u4ecb\u7ecdHTML\u7684\u76f8\u5173\u6982\u5ff5\u3001\u53d1\u5c55\u5386\u53f2\uff0c\u4e8c\u662f \u521b\u5efaHTML\u7f51\u9875\u6587\u6863\u548c\u8ba4\u8bc6HTML\u7684\u57fa\u672c\u7ed3\u6784\u3002\u6211\u4eec\u5b66\u4f1a\u5982\u4f55\u65b0\u5efa\u4e00\u4e2a HTML \u9875\u9762\u548c\u719f\u8bb0HTML\u6587\u6863\u7684\u57fa\u672c\u7ed3\u6784\u548c\u4e3b\u8981\u6807\u7b7e\u3002","title":"2.1 \u3001HTML"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#211-html","text":"HTML\uff0c\u5373\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\uff08HyperText Markup Language ]\uff09\uff0c\u7531SGML (\u6807\u51c6\u901a\u7528\u6807\u8bb0\u8bed\u8a00) \u53d1\u5c55\u800c\u6765\uff0c\u4e5f\u53ebweb\u9875\u9762\u3002\u6269\u5c55\u540d\u662f .html \u6216\u662f .htm \u3002 HTML\uff0c\u662f\u4e00\u79cd\u7528\u6765\u5236\u4f5c\u7f51\u9875\u7684\u6807\u51c6\u6807\u8bb0\u8bed\u8a00\u3002\u8d85\u6587\u672c\uff0c\u6307\u7684\u5c31\u662f\u8d85\u51fa\u666e\u901a\u6587\u672c\u8303\u7574\u7684\u6587\u6863\uff0c\u53ef\u4ee5\u5305\u542b\u6587\u672c\u3001\u56fe\u7247\u3001\u89c6\u9891\u3001\u97f3\u9891\u3001\u94fe\u63a5\u7b49\u5143\u7d20\u3002 HTML \u4e0d\u662f\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u800c\u662f\u4e00\u79cd\u5199\u7ed9\u7f51\u9875\u6d4f\u89c8\u5668\u3001\u5177\u6709\u63cf\u8ff0\u6027\u7684\u6807\u8bb0\u8bed\u8a00\u3002 \u81ea1990\u5e74\u4ee5\u6765HTML\u5c31\u4e00\u76f4\u88ab\u7528\u4f5cWWW\uff08World Wide Web\u7684\u7f29\u5199\uff0c\u4e5f\u53ef\u7b80\u5199WEB\uff0c\u4e2d\u6587\u53eb\u505a\u4e07\u7ef4\u7f51\uff09\u7684\u4fe1\u606f\u8868\u793a\u8bed\u8a00\uff0c\u4f7f\u7528HTML\u8bed\u8a00\u63cf\u8ff0\u7684\u6587\u4ef6\uff0c\u9700\u8981\u901a\u8fc7\u7f51\u9875\u6d4f\u89c8\u5668\u663e\u793a\u51fa\u6548\u679c\u3002\u7528\u6237\u5728\u8bbf\u95ee\u7f51\u9875\u65f6\uff0c\u662f\u628a\u670d\u52a1\u5668\u7684HTML\u6587\u6863 \u4e0b\u8f7d \u5230\u672c\u5730\u5ba2\u6237\u8bbe\u5907\u4e2d\uff0c\u7136\u540e\u901a\u8fc7\u672c\u5730\u5ba2\u6237\u8bbe\u5907\u7684\u6d4f\u89c8\u5668\u5c06\u6587\u6863\u6309\u987a\u5e8f\u89e3\u91ca\u6e32\u67d3\u6210\u5bf9\u5e94\u7684\u7f51\u9875\u6548\u679c\u3002 \u7f51\u9875\u672c\u8eab\u662f\u4e00\u79cd\u6587\u672c\u6587\u4ef6\uff0c\u901a\u8fc7\u5728\u6587\u672c\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5404\u79cd\u5404\u6837\u7684\u6807\u8bb0\u6807\u7b7e\uff0c\u53ef\u4ee5\u544a\u8bc9 \u6d4f\u89c8\u5668 \u5982\u4f55\u663e\u793a\u6807\u8bb0\u4e2d\u7684\u4ee3\u8868\u7684\u5185\u5bb9\uff0c\u5982\uff1aHTML\u4e2d\u6709\u7684\u6807\u7b7e\u53ef\u4ee5\u544a\u8bc9\u6d4f\u89c8\u5668\u8981\u628a\u5b57\u4f53\u653e\u5927\uff0c\u5c31\u50cfword\u4e00\u6837\uff0c\u4e5f\u6709\u7684\u6807\u7b7e\u53ef\u4ee5\u544a\u8bc9\u6d4f\u89c8\u5668\u663e\u793a\u6307\u5b9a\u7684\u56fe\u7247\uff0c\u8fd8\u6709\u7684\u6807\u7b7e\u53ef\u4ee5\u544a\u8bc9\u6d4f\u89c8\u5668\u628a\u5185\u5bb9\u5c45\u4e2d\u6216\u8005\u503e\u659c\u7b49\u7b49\u3002 \u6bcf\u4e00\u4e2aHTML\u6807\u7b7e\u4ee3\u8868\u7684\u610f\u4e49\u90fd\u4e0d\u4e00\u6837\u3002\u540c\u6837\uff0c\u4ed6\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u8868\u73b0\u51fa\u6765\u7684\u5916\u89c2\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\u3002","title":"2.1.1\u3001 HTML\u6982\u8ff0"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#212-html","text":"<!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> </body> </html> 1\u3001 <!DOCTYPE html> \u544a\u8bc9\u6d4f\u89c8\u5668\u4f7f\u7528\u4ec0\u4e48\u6837\u7684 html \u6216\u8005 xhtml \u6765\u89e3\u6790 html \u6587\u6863 2\u3001 <html></html> \u662f\u6587\u6863\u7684\u5f00\u59cb\u6807\u8bb0\u548c\u7ed3\u675f\u6807\u8bb0\u3002\u6b64\u5143\u7d20\u544a\u8bc9\u6d4f\u89c8\u5668\u5176\u81ea\u8eab\u662f\u4e00\u4e2a HTML \u6587\u6863\uff0c\u5728\u5b83\u4eec\u4e4b\u95f4\u662f\u6587\u6863\u7684\u5934\u90e8 <head> \u548c\u4e3b\u4f53 <body> \u3002 3\u3001 \u5143\u7d20\u51fa\u73b0\u5728\u6587\u6863\u7684\u5f00\u5934\u90e8\u5206\u3002 \u4e0e \u4e4b\u95f4\u7684\u5185\u5bb9\u4e0d\u4f1a\u5728\u6d4f\u89c8\u5668\u7684\u6587\u6863\u7a97\u53e3\u663e\u793a\uff0c\u4f46\u662f\u5176\u95f4\u7684\u5143\u7d20\u6709\u7279\u6b8a\u91cd\u8981\u7684\u610f\u4e49\u3002 4\u3001 <title></title> \u5b9a\u4e49\u7f51\u9875\u6807\u9898\uff0c\u5728\u6d4f\u89c8\u5668\u6807\u9898\u680f\u663e\u793a\u3002 5\u3001 <meta charset=\"UTF-8\"> \u58f0\u660e\u7f16\u7801\u65b9\u5f0f\u7528utf8 6\u3001 <body></body> \u4e4b\u95f4\u7684\u6587\u672c\u662f\u53ef\u89c1\u7684\u7f51\u9875\u4e3b\u4f53\u5185\u5bb9","title":"2.1.2\u3001 HTML\u7ed3\u6784\u548c\u6807\u7b7e\u683c\u5f0f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#213","text":"<\u6807\u7b7e\u540d \u5c5e\u60271=\u201c\u5c5e\u6027\u503c1\u201d \u5c5e\u60272=\u201c\u5c5e\u6027\u503c2\u201d\u2026\u2026>\u5185\u5bb9\u90e8\u5206</\u6807\u7b7e\u540d> <\u6807\u7b7e\u540d \u5c5e\u60271=\u201c\u5c5e\u6027\u503c1\u201d \u5c5e\u60272=\u201c\u5c5e\u6027\u503c2\u201d\u2026\u2026 /> 1\u3001HTML\u6807\u7b7e\u662f\u7531\u5c16\u62ec\u53f7\u5305\u56f4\u7684\u7279\u5b9a\u5173\u952e\u8bcd 2\u3001\u6807\u7b7e\u5206\u4e3a\u95ed\u5408\u548c\u81ea\u95ed\u5408\u4e24\u79cd\u6807\u7b7e 3\u3001HTML\u4e0d\u533a\u5206\u5927\u5c0f\u5199 4\u3001\u6807\u7b7e\u53ef\u4ee5\u6709\u82e5\u5e72\u4e2a\u5c5e\u6027,\u4e5f\u53ef\u4ee5\u4e0d\u5e26\u5c5e\u6027,\u6bd4\u5982 \u5c31\u4e0d\u5e26\u4efb\u4f55\u5c5e\u6027 5\u3001\u6807\u7b7e\u53ef\u4ee5\u5d4c\u5957,\u4f46\u662f\u4e0d\u53ef\u4ee5\u4ea4\u53c9\u5d4c\u5957 XHTML\u662f\u5b9e\u73b0 HTML \u5230 XML\u7684 \u8fc7\u6e21\u3002","title":"2.1.3\u3001\u6807\u7b7e\u7684\u8bed\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#214","text":"","title":"2.1.4\u3001\u57fa\u672c\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_2","text":"<h1>\u6807\u98981</h1> <h2>\u6807\u98982</h2> <h3>\u6807\u98983</h3> <h4>\u6807\u98984</h4> <h5>\u6807\u98985</h5> <h6>\u6807\u98986</h6>","title":"\uff081\uff09\u6807\u9898\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2","text":"\u609f\u9053\u4f11\u8a00\u5929\u547d\uff0c<br> \u4fee\u884c\u52ff\u53d6\u771f\u7ecf\u3002<br> \u4e00\u60b2\u4e00\u559c\u4e00\u67af\u8363\uff0c<br> \u54ea\u4e2a\u524d\u751f\u6ce8\u5b9a\uff1f","title":"\uff082\uff09\u6362\u884c\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_2","text":"<p>\u83e9\u63d0\u672c\u65e0\u6811\uff0c</p> <p>\u660e\u955c\u4ea6\u975e\u53f0\u3002</p> <p>\u672c\u6765\u65e0\u4e00\u7269\uff0c</p> <p>\u4f55\u5904\u60f9\u5c18\u57c3\u3002</p>","title":"\uff083\uff09\u6bb5\u843d\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_2","text":"HTML\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u7528\u4e8e\u683c\u5f0f\u5316\u6587\u672c\u7684\u6807\u7b7e\uff0c\u53ef\u4ee5\u8ba9\u6211\u4eec\u8f93\u51fa\u4e0d\u540c\u5916\u89c2\u7684\u5143\u7d20\uff0c\u6bd4\u5982\u7c97\u4f53\u548c\u659c\u4f53\u5b57\u3002\u5982\u679c\u9700\u8981\u5728\u7f51\u9875\u4e2d\uff0c\u9700\u8981\u8ba9\u67d0\u4e9b\u6587\u672c\u5185\u5bb9\u5c55\u793a\u7684\u6548\u679c\u4e30\u5bcc\u70b9\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7684\u6807\u7b7e\u6765\u8fdb\u884c\u683c\u5f0f\u5316\u3002 <b>\u5b9a\u4e49\u7c97\u4f53\u6587\u672c</b><br /> <strong>\u5b9a\u4e49\u7c97\u4f53\u6587\u672c\u65b9\u5f0f2</strong><br /> <em>\u5b9a\u4e49\u659c\u4f53\u5b57</em><br /> <i>\u5b9a\u4e49\u659c\u4f53\u5b57\u65b9\u5f0f2</i><br /> <del>\u5b9a\u4e49\u5220\u9664\u6587\u672c</del><br />","title":"\uff084\uff09\u6587\u672c\u683c\u5f0f\u5316\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5","text":"&reg; &nbsp; &copy; \u6807\u7b7e\u5927\u81f4\u53ef\u5206\u4e3a\u4e24\u7c7b \u5757\u7ea7\u6807\u7b7e(block) -- \u72ec\u5360\u4e00\u884c \u5185\u8054\u6807\u7b7e(inline) -- \u6309\u6587\u672c\u5185\u5bb9\u5360\u4f4d","title":"\uff085\uff09\u7279\u6b8a\u7b26\u53f7"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6divspan","text":"<div>\u53ea\u662f\u4e00\u4e2a\u5757\u7ea7\u5143\u7d20\uff0c\u5e76\u65e0\u5b9e\u9645\u7684\u610f\u4e49\u3002\u4e3b\u8981\u901a\u8fc7CSS\u6837\u5f0f\u4e3a\u5176\u8d4b\u4e88\u4e0d\u540c\u7684\u8868\u73b0. <span>\u8868\u793a\u4e86\u5185\u8054\u884c(\u884c\u5185\u5143\u7d20),\u5e76\u65e0\u5b9e\u9645\u7684\u610f\u4e49,\u4e3b\u8981\u901a\u8fc7CSS\u6837\u5f0f\u4e3a\u5176\u8d4b\u4e88\u4e0d\u540c\u7684\u8868\u73b0 \u5757\u7ea7\u5143\u7d20\u4e0e\u884c\u5185\u5143\u7d20\u7684\u533a\u522b\u6240\u8c13\u5757\u5143\u7d20\uff0c\u662f\u4ee5\u53e6\u8d77\u4e00\u884c\u5f00\u59cb\u6e32\u67d3\u7684\u5143\u7d20\uff0c\u884c\u5185\u5143\u7d20\u5219\u4e0d\u9700\u53e6\u8d77\u4e00\u884c\u3002\u5982\u679c\u5355\u72ec\u5728\u7f51\u9875\u4e2d\u63d2\u5165\u8fd9\u4e24\u4e2a\u5143\u7d20\uff0c\u4e0d\u4f1a\u5bf9\u9875\u9762\u4ea7\u751f\u4efb\u4f55\u7684\u5f71\u54cd\u3002\u8fd9\u4e24\u4e2a\u5143\u7d20\u662f\u4e13\u95e8\u4e3a\u5b9a\u4e49CSS\u6837\u5f0f\u800c\u751f\u7684\u3002","title":"(6\uff09div\u548cspan\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#215","text":"","title":"2.1.5\u3001\u8d85\u94fe\u63a5\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_2","text":"\u8d85\u94fe\u63a5\u662f\u6d4f\u89c8\u8005\u548c\u670d\u52a1\u5668\u7684\u4ea4\u4e92\u7684\u4e3b\u8981\u624b\u6bb5\uff0c\u4e5f\u53eb\u8d85\u7ea7\u94fe\u63a5\u6216a\u94fe\u63a5\uff0c\u662f\u7f51\u9875\u4e2d\u6307\u5411\u4e00\u4e2a\u76ee\u6807\u7684\u8fde\u63a5\u5173\u7cfb\uff0c\u8fd9\u4e2a\u76ee\u6807\u53ef\u4ee5\u662f\u7f51\u9875\u3001\u7f51\u9875\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u3001\u56fe\u7247\u3001\u90ae\u4ef6\u5730\u5740\u3001\u6587\u4ef6\u3001\u5e94\u7528\u7a0b\u5e8f\u7b49\u3002 \u8d85\u94fe\u63a5\u662f\u7f51\u9875\u4e2d\u6700\u91cd\u8981\u7684\u5143\u7d20\u4e4b\u4e00\u3002\u4e00\u4e2a\u7f51\u7ad9\u7684\u5404\u4e2a\u7f51\u9875\u5c31\u662f\u901a\u8fc7\u8d85\u94fe\u63a5\u5173\u8054\u8d77\u6765\u7684\uff0c\u7528\u6237\u901a\u8fc7\u70b9\u51fb\u8d85\u94fe\u63a5\u53ef\u4ee5\u4ece\u4e00\u4e2a\u7f51\u9875\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u7f51\u9875\u3002 \u51e0\u4e4e\u53ef\u4ee5\u5728\u6240\u6709\u7684\u7f51\u9875\u4e2d\u627e\u5230\u94fe\u63a5\u3002\u70b9\u51fb\u94fe\u63a5\u53ef\u4ee5\u4ece\u4e00\u5f20\u9875\u9762\u8df3\u8f6c\u5230\u53e6\u4e00\u5f20\u9875\u9762\u3002\u4f8b\u5982,\u5728\u9605\u8bfb\u67d0\u4e2a\u7f51\u7ad9\u65f6\uff0c\u9047\u5230\u4e00\u4e2a\u4e0d\u8ba4\u8bc6\u7684\u82f1\u6587\uff0c\u4f60\u53ea\u8981\u5728\u8fd9\u4e2a\u5355\u8bcd\u4e0a\u5355\u51fb\u4e00\u4e0b\uff0c\u5373\u53ef\u8df3\u8f6c\u5230\u5b83\u7684\u7ffb\u8bd1\u9875\u9762\u4e2d\uff0c\u770b\u5b8c\u5355\u8bcd\u7684\u89e3\u91ca\u540e\u70b9\u4e00\u4e0b\u8fd4\u56de\u6309\u94ae\uff0c\u53c8\u53ef\u7ee7\u7eed\u9605\u8bfb\uff0c\u8fd9\u5c31\u662f\u8d85\u94fe\u63a5\u7684\u5e38\u89c1\u7528\u9014\u3002\u8fd8\u6709\u7ecf\u5e38\u5230\u8d2d\u7269\u7f51\u7ad9\u4e2d\u53bb\uff0c\u6211\u4eec\u90fd\u662f\u5728\u767e\u5ea6\u641c\u7d22\uff0c\u7136\u540e\u70b9\u51fb\u5bf9\u5e94\u7684\u641c\u7d22\u9879\u8fdb\u5165\u5230\u5bf9\u5e94\u7684\u8d2d\u7269\u7f51\u7ad9\u7684\uff0c\u8fd9\u4e5f\u662f\u8d85\u94fe\u63a5\u7684\u4f5c\u7528\u3002\u8d85\u94fe\u63a5\u7684\u5c5e\u6027\uff1a \u5c5e\u6027 \u503c \u63cf\u8ff0 href \u7f51\u7edc\u94fe\u63a5 [ \u4f8b\u5982: http://www.baidu.com ] \u672c\u5730\u94fe\u63a5 [ \u4f8b\u5982\uff1aF:\\html\\index.html ] \u89c4\u5b9a\u94fe\u63a5\u7684\u8df3\u8f6c\u76ee\u6807 title \u767e\u5ea6 \u94fe\u63a5\u7684\u63d0\u793a\u4fe1\u606f target _blank [ \u5728\u65b0\u5efa\u7a97\u53e3\u4e2d\u6253\u5f00\u7f51\u9875 ] _self [ \u9ed8\u8ba4\u503c\uff0c\u8986\u76d6\u81ea\u8eab\u7a97\u53e3\u6253\u5f00\u7f51\u9875 ] _parent [ \u5728\u7236\u7ea7\u6846\u67b6\u4e2d\u6253\u5f00\u7f51\u9875 ] _top [ \u5728\u9876\u7ea7\u6846\u67b6\u4e2d\u6253\u5f00\u7f51\u9875 ] framename [ \u5728\u6307\u5b9a\u7684\u6846\u67b6\u4e2d\u6253\u5f00\u7f51\u9875] \u4e0e\u524d\u9762\u56db\u9879\u56fa\u5b9a\u503c\u4e0d\u540c\uff0cframename\u662f\u6cdb\u6307\uff0c\u5e76\u4e0d\u662f\u8fd9\u4e2a\u503c\uff0c\u8fd9\u70b9\u5c06\u5728\u540e\u9762\u6846\u67b6\u90e8\u5206\u5185\u5bb9\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u53ef\u4ee5\u6682\u65f6\u5148\u7565\u8fc7 1\u3001href\u662f\u8d85\u94fe\u63a5\u6700\u91cd\u8981\u7684\u5c5e\u6027\uff0c\u89c4\u5b9a\u4e86\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u4ee5\u540e\u7684\u8df3\u8f6c\u76ee\u6807\uff0c\u8fd9\u4e2a\u76ee\u6807\u53ef\u4ee5\u662f \u7f51\u7edc\u8fde\u63a5\uff0c\u4e5f\u53ef\u4ee5\u662f\u672c\u5730\u8fde\u63a5\u3002 2\u3001\u7f51\u7edc\u94fe\u63a5\u6307\u7684\u662f\u4f9d\u9760\u7f51\u7edc\u6765\u8fdb\u884c\u5173\u8054\u7684\u5730\u5740\uff0c\u4e00\u822c\u5728\u5730\u5740\u524d\u9762\u662f\u4ee5 http://\u6216\u8005https://\u8fd9\u6837\u5f00\u5934\u7684\uff0c\u5982\u679c\u6ca1\u6709\u7f51\u7edc\uff0c\u5219\u7528\u6237\u70b9\u51fb\u4e86\u8d85\u94fe\u63a5\u4e5f\u65e0\u6cd5\u8bbf\u95ee\u5bf9\u5e94\u7684\u76ee\u6807\u3002 3\u3001\u672c\u5730\u94fe\u63a5\u8df3\u8f6c\u6307\u7684\u662f\u672c\u5730\u8ba1\u7b97\u673a\u7684\u5730\u5740\uff0c\u4e00\u822c\u5728\u5730\u5740\u524d\u9762\u662f\u4ee5 file:///\u5f00\u5934\u6216\u76f4\u63a5\u4ee5 C:/\u3001D:/\u3001E:/\u5f00\u5934\u7684\uff0c\u4e0d\u9700\u8981\u7ecf\u8fc7\u7f51\u7edc\u3002 4\u3001\u5982\u679chref\u7684\u503c\u7559\u7a7a\uff0c\u5219\u9ed8\u8ba4\u662f\u8df3\u8f6c\u5230\u5f53\u524d\u9875\u9762\uff0c\u4e5f\u5c31\u662f\u5237\u65b0\u5f53\u524d\u9875\u9762\u3002","title":"\u8d85\u94fe\u63a5\u57fa\u672c\u4f7f\u7528"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_3","text":"\u951a\u70b9( anchor )\u662f\u8d85\u94fe\u63a5\u7684\u4e00\u79cd\u5e94\u7528\uff0c\u4e5f\u53eb\u547d\u540d\u951a\u8bb0\uff0c\u951a\u70b9\u53ef\u4ee5\u50cf\u4e00\u4e2a\u5b9a\u4f4d\u5668\u4e00\u6837\uff0c\u53ef\u4ee5\u5b9e\u73b0\u9875\u9762\u5185\u7684\u94fe\u63a5\u8df3\u8f6c\uff0c\u8fd0\u7528\u76f8\u5f53\u666e\u904d\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u7f51\u9875\uff0c\u7531\u4e8e\u5185\u5bb9\u592a\u591a\uff0c\u5bfc\u81f4\u9875\u9762\u5f88\u957f\uff0c\u800c\u4e14\u91cc\u9762\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u5206\u4e3aN\u4e2a\u90e8\u5206\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u7f51\u9875\u7684\u9876\u90e8\u8bbe\u7f6e\u4e00\u4e9b\u951a\u70b9\uff0c\u8fd9\u6837\u4fbf\u53ef\u4ee5\u65b9\u4fbf\u6d4f\u89c8\u8005\u70b9\u51fb\u76f8\u5e94\u7684\u951a\u70b9\uff0c\u5230\u8fbe\u672c\u9875\u5185\u76f8\u5e94\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5fc5\u5728\u4e00\u4e2a\u5f88\u957f\u7684\u7f51\u9875\u91cc\u81ea\u884c\u5bfb\u627e\u3002\u53c8\u4f8b\u5982\uff0c\u6211\u4eec\u9875\u9762\u4e2d\uff0c\u6709\u4e2a\u94fe\u63a5\u9700\u8981\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u9875\u9762\u7684\u4e2d\u95f4\u6216\u8005\u811a\u90e8\u53bb\uff0c\u8fd9\u65f6\u5019\u4e5f\u53ef\u4ee5\u8fd0\u7528\u4e0a\u951a\u70b9\u6280\u672f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u951a\u70b9\u7684\u4f7f\u7528</title> </head> <body> <a href=\"#i1\">\u7b2c\u4e00\u7ae0</a> <a href=\"#i2\">\u7b2c\u4e8c\u7ae0</a> <a href=\"#i3\">\u7b2c\u4e09\u7ae0</a> <div id=\"i1\"> <p>\u7b2c\u4e00\u7ae0\u5185\u5bb9</p> </div> <div id=\"i2\"> <p>\u7b2c\u4e8c\u7ae0\u5185\u5bb9</p> </div> <div id=\"i3\"> <p> \u7b2c\u4e09\u7ae0\u5185\u5bb9</p> </div> </body> </html>","title":"\u951a\u70b9\u5e94\u7528"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#216img","text":"\u5728HTML\u4e2d\uff0c\u56fe\u50cf\u7531 \u6807\u7b7e\u5b9a\u4e49\u7684\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u52a0\u8f7d\u56fe\u7247\u5230html\u7f51\u9875\u4e2d\u663e\u793a\u3002\u7f51\u9875\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4e09\u79cd\u56fe\u7247\u683c\u5f0f\u88ab\u5e7f\u6cdb\u5e94\u7528\u5230web\u91cc\uff0c\u5206\u522b\u662f jpg\u3001png\u3001gif\u3002 img\u6807\u7b7e\u7684\u5c5e\u6027\uff1a /* src\u5c5e\u6027\uff1a \u6307\u5b9a\u56fe\u50cf\u7684URL\u5730\u5740\uff0c\u662f\u82f1\u6587source\u7684\u7b80\u5199\uff0c\u8868\u793a\u5f15\u5165\u8d44\u6e90\u3002 src\u7684\u503c\u53ef\u4ee5\u662f\u672c\u5730\u8ba1\u7b97\u673a\u5b58\u50a8\u7684\u56fe\u7247\u7684\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u662f\u7f51\u7edc\u4e0a\u5916\u90e8\u7f51\u7ad9\u7684\u56fe\u7247\u7684\u5730\u5740\u3002 \u5982\u679csrc\u7684\u503c\u4e0d\u6b63\u786e\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u65e0\u6cd5\u6b63\u786e\u7684\u56fe\u7247\uff0c\u800c\u662f\u663e\u793a\u4e00\u5f20\u88c2\u56fe\u3002 alt\u5c5e\u6027\uff1a\u6307\u5b9a\u56fe\u50cf\u65e0\u6cd5\u663e\u793a\u65f6\u7684\u66ff\u6362\u6587\u672c\u3002\u5f53\u56fe\u50cf\u663e\u793a\u9519\u8bef\u65f6\uff0c\u5728\u56fe\u50cf\u4f4d\u7f6e\u4e0a\u663e\u793aalt\u7684\u503c\u3002\u5982\u4e0a\u6240\u793a\uff0c\u5c31\u662f\u8c37\u6b4c\u6d4f\u89c8\u5668\u4e2d\uff0c\u5f15\u5165\u56fe\u50cf\u5931\u8d25\u540e\uff0c\u663e\u793a\u4e86\u66ff\u6362\u6587\u672c\u3002alt\u5c5e\u6027\u4e00\u822c \u4f5c\u4e3aSEO\u4f18\u5316\u7684\u624b\u6bb5\u4e4b\u4e00\uff0c\u6240\u4ee5\uff0c\u4f7f\u7528\u4e86img\u6807\u7b7e\u5c31\u9700\u8981\u52a0\u4e0aalt\u5c5e\u6027\u3002 width\u5c5e\u6027\uff1a \u6307\u5b9a\u5f15\u5165\u56fe\u7247\u7684\u663e\u793a\u5bbd\u5ea6\u3002 height\u5c5e\u6027\uff1a\u6307\u5b9a\u5f15\u5165\u56fe\u7247\u7684\u663e\u793a\u9ad8\u5ea6\u3002 border\u5c5e\u6027\uff1a\u6307\u5b9a\u5f15\u5165\u56fe\u7247\u7684\u8fb9\u6846\u5bbd\u5ea6\uff0c\u9ed8\u8ba4\u4e3a0\u3002 title\u5c5e\u6027\uff1a\u60ac\u6d6e\u56fe\u7247\u4e0a\u7684\u63d0\u793a\u6587\u5b57 */ \u70b9\u51fb\u56fe\u7247\u8df3\u8f6c\u53ef\u4ee5\u914d\u5408a\u6807\u7b7e\u4f7f\u7528 <a><img src=\"\" alt=\"\"></a>","title":"2.1.6\u3001img\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#217","text":"<ul type=\"square\"> <li>item1</li> <li>item2</li> <li>item3</li> </ul> <ol start=\"100\"> <li>item1</li> <li>item2</li> <li>item3</li> </ol>","title":"2.1.7\u3001\u5217\u8868\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#218","text":"\u5728HTML\u4e2d\u4f7f\u7528table\u6765\u5b9a\u4e49\u8868\u683c\u3002\u7f51\u9875\u7684\u8868\u683c\u548c\u529e\u516c\u8f6f\u4ef6\u91cc\u9762\u7684xls\u4e00\u6837\uff0c\u90fd\u662f\u6709\u884c\u6709\u5217\u7684\u3002HTML\u4f7f\u7528tr\u6807\u7b7e\u5b9a\u4e49\u884c\uff0c\u4f7f\u7528td\u6807\u7b7e\u5b9a\u4e49\u5217\u3002 \u8bed\u6cd5\uff1a <table border=\"1\"> <tr> <td>\u5355\u5143\u683c\u7684\u5185\u5bb9</td> \u2026\u2026 </tr> \u2026\u2026 </table> 1\u3001 <table> \u548c </table> \u8868\u793a\u4e00\u4e2a\u8868\u683c\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002\u4e00\u7ec4 <table>...</table> \u8868\u793a\u4e00\u4e2a\u8868\u683c\u3002 2\u3001border\u7528\u4e8e\u8bbe\u7f6e\u6574\u4e2a\u8868\u683c\u7684\u8fb9\u6846\u5bbd\u5ea6\uff0c\u9ed8\u8ba4\u4e3a0\uff0c\u8868\u793a\u4e0d\u663e\u793a\u8fb9\u6846\u3002 3\u3001 <tr> \u548c </tr> \u8868\u793a\u8868\u683c\u4e2d\u7684\u4e00\u884c\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002\u4e00\u7ec4 <tr>...</tr> \uff0c\u4e00\u4e2a\u8868\u683c\u53ef\u4ee5\u6709\u591a\u884c\u3002\u901a\u8fc7\u8ba1\u7b97table\u6807\u7b7e\u4e2d\u5305\u542b\u591a\u5c11\u5bf9tr\u5b50\u6807\u7b7e\u5373\u53ef\u77e5\u9053\u4e00\u4e2a\u8868\u683c\u6709\u591a\u5c11\u884c\u3002 4\u3001 <td> \u548c </td> \u8868\u793a\u8868\u683c\u4e2d\u7684\u4e00\u4e2a\u5355\u5143\u683c\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002\u901a\u8fc7\u8ba1\u7b97\u4e00\u4e2atr\u91cc\u9762\u5305\u542b\u4e86\u591a\u5c11\u5bf9td\u81ea\u6807\u7b7e\u5373\u53ef\u77e5\u9053\u4e00\u4e2a\u8868\u683c\u6709\u591a\u5c11\u5217\uff0c\u591a\u5c11\u7684\u5355\u5143\u683c\u4e86\u3002 table\u5c5e\u6027 \u5c5e\u6027 \u503c \u63cf\u8ff0 width px\u3001% \u89c4\u5b9a\u8868\u683c\u7684\u5bbd\u5ea6\u3002 height px\u3001% \u89c4\u5b9a\u8868\u683c\u7684\u9ad8\u5ea6\u3002 align left\u3001center\u3001right \u89c4\u5b9a\u8868\u683c\u76f8\u5bf9\u5468\u56f4\u5143\u7d20\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002 bgcolor rgb(x,x,x)\u3001#xxxxxx\u3001colorname \u89c4\u5b9a\u8868\u683c\u7684\u80cc\u666f\u989c\u8272\u3002 background url \u89c4\u5b9a\u8868\u683c\u7684\u80cc\u666f\u56fe\u7247\u3002 border px \u89c4\u5b9a\u8868\u683c\u8fb9\u6846\u7684\u5bbd\u5ea6\u3002 cellpadding px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u8fb9\u6846\u4e0e\u5176\u5185\u5bb9\u4e4b\u95f4\u7684\u7a7a\u767d\u3002 cellspacing px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u4e4b\u95f4\u7684\u7a7a\u9699\u3002 td\u5c5e\u6027 \u8868\u683c\u4e2d\u9664\u4e86\u884c\u5143\u7d20\u4ee5\u5916\uff0c\u8fd8\u6709\u5355\u5143\u683c\uff0c\u5355\u5143\u683c\u7684\u5c5e\u6027\u548c\u884c\u7684\u5c5e\u6027\u7c7b\u4f3c\u3002td\u548cth\u90fd\u662f\u5355\u5143\u683c\u3002 \u5c5e\u6027 \u503c \u63cf\u8ff0 height px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u7684\u9ad8\u5ea6\u3002 width px\u3001% \u89c4\u5b9a\u5355\u5143\u683c\u7684\u5bbd\u5ea6\u3002 align left\u3001center\u3001right \u89c4\u5b9a\u5355\u5143\u683c\u5185\u5bb9\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002 valign top\u3001middle\u3001bottom \u89c4\u5b9a\u5355\u5143\u683c\u5185\u5bb9\u7684\u5782\u76f4\u5bf9\u9f50\u65b9\u5f0f\u3002 bgcolor rgb(x,x,x)\u3001#xxxxxx\u3001colorname \u89c4\u5b9a\u5355\u5143\u683c\u7684\u80cc\u666f\u989c\u8272\u3002 background url \u89c4\u5b9a\u5355\u5143\u683c\u7684\u80cc\u666f\u56fe\u7247\u3002 rowspan number \u89c4\u5b9a\u5355\u5143\u683c\u5408\u5e76\u7684\u884c\u6570 colspan number \u89c4\u5b9a\u5355\u5143\u683c\u5408\u5e76\u7684\u5217\u6570","title":"2.1.8\u3001\u8868\u683c\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#219","text":"\u8868\u5355\u4e3b\u8981\u662f\u7528\u6765\u6536\u96c6\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u63d0\u4f9b\u4e86\u7528\u6237\u6570\u636e\u5f55\u5165\u7684\u65b9\u5f0f\uff0c\u6709\u591a\u9009\u3001\u5355\u9009\u3001\u5355\u884c\u6587\u672c\u3001\u4e0b\u62c9\u5217\u8868\u7b49\u8f93\u5165\u6846\uff0c\u4fbf\u4e8e\u7f51\u7ad9\u7ba1\u7406\u5458\u6536\u96c6\u7528\u6237\u7684\u6570\u636e\uff0c\u662fWeb\u6d4f\u89c8\u5668\u548cWeb\u670d\u52a1\u5668\u4e4b\u95f4\u5b9e\u73b0\u4fe1\u606f\u4ea4\u6d41\u548c\u6570\u636e\u4f20\u9012\u7684\u6865\u6881. \u8868\u5355\u88abform\u6807\u7b7e\u5305\u542b\uff0c\u5185\u90e8\u4f7f\u7528\u4e0d\u540c\u7684\u8868\u5355\u5143\u7d20\u6765\u5448\u73b0\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u4f9b\u7528\u6237\u8f93\u5165\u6216\u9009\u62e9\u3002\u5f53\u7528\u6237\u8f93\u5165\u597d\u6570\u636e\u540e\uff0c\u5c31\u53ef\u4ee5\u628a\u8868\u5355\u6570\u636e\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7aef\u3002 \u4e00\u4e2a\u8868\u5355\u5143\u7d20\u6709\u4e09\u4e2a\u57fa\u672c\u7ec4\u6210\u90e8\u5206\uff1a \u8868\u5355\u6807\u7b7e\uff0c\u5305\u542b\u4e86\u8868\u5355\u5904\u7406\u7a0b\u5e8f\u6240\u5728\u7684URL\u4ee5\u53ca\u6570\u636e\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7684\u65b9\u6cd5\u7b49\u8868\u5355\u4fe1\u606f\u3002 \u8868\u5355\u57df\uff0c\u5305\u542b\u4e86\u6587\u672c\u6846\u3001\u5bc6\u7801\u6846\u3001\u9690\u85cf\u57df\u3001\u591a\u884c\u6587\u672c\u6846\u3001\u590d\u9009\u6846\u3001\u5355\u9009\u6846\u3001\u4e0b\u62c9\u9009\u62e9\u6846\u548c\u6587\u4ef6\u4e0a\u4f20\u6846\u7b49\u8868\u5355\u63a7\u4ef6\u3002 \u8868\u5355\u6309\u94ae\uff0c\u5305\u62ec\u63d0\u4ea4\u6309\u94ae\u3001\u590d\u4f4d\u6309\u94ae\u548c\u4e00\u822c\u6309\u94ae\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u4f20\u9001\u5230\u670d\u52a1\u5668\u4e0a\u7684CGI\u811a\u672c\u6216\u8005\u53d6\u6d88\u8f93\u5165\uff0c\u8fd8\u53ef\u4ee5\u7528\u8868\u5355\u6309\u94ae\u6765\u63a7\u5236\u5176\u4ed6\u5b9a\u4e49\u4e86\u5904\u7406\u811a\u672c\u7684\u5904\u7406\u5de5\u4f5c\u3002 \u5728HTML\u4e2d\u521b\u5efa\u8868\u5355\u7528form\u6807\u7b7e\u3002\u6bcf\u4e2a\u8868\u5355\u90fd\u53ef\u4ee5\u5305\u542b\u4e00\u5230\u591a\u4e2a\u8868\u5355\u57df\u6216\u6309\u94ae\u3002form\u6807\u7b7e\u5c5e\u6027\uff1a \u5c5e\u6027 \u503c \u63cf\u8ff0 action \u8bbf\u95ee\u670d\u52a1\u5668\u5730\u5740 \u670d\u52a1\u5668\u7aef\u8868\u5355\u5904\u7406\u7a0b\u5e8f\u7684URL\u5730\u5740 method post\u3001get[\u9ed8\u8ba4\u503c] \u8868\u5355\u6570\u636e\u7684\u63d0\u4ea4\u65b9\u6cd5 target \u53c2\u8003\u8d85\u94fe\u63a5\u7684target\u5c5e\u6027 \u8868\u5355\u6570\u636e\u63d0\u4ea4\u65f6URL\u7684\u6253\u5f00\u65b9\u5f0f enctype application/x-www-form-urlencoded[\u9ed8\u8ba4\u503c] multipart/form-data [\u7528\u4e8e\u6587\u4ef6\u4e0a\u4f20] text/plain [\u7528\u4e8e\u7eaf\u6587\u672c\u6570\u636e\u53d1\u9001] \u8868\u5355\u63d0\u4ea4\u6570\u636e\u65f6\u7684\u7f16\u7801\u65b9\u5f0f <h3>\u7528\u6237\u6ce8\u518c</h3> <form action=\"http://127.0.0.1:8800\" method=\"get\"> <p><label for=\"user\">\u59d3\u540d</label>\uff1a <input type=\"text\" name=\"user\" id=\"user\"></p> <p>\u5bc6\u7801\uff1a <input type=\"password\" name=\"pwd\"></p> <p>\u7231\u597d\uff1a <input type=\"checkbox\" name=\"hobby\" value=\"basketball\">\u7bee\u7403 <input type=\"checkbox\" name=\"hobby\" value=\"football\">\u8db3\u7403 <input type=\"checkbox\" name=\"hobby\" value=\"shuangseqiu\" checked>\u53cc\u8272\u7403 </p> <p>\u6027\u522b\uff1a <input type=\"radio\" name=\"gender\" value=\"men\">\u7537 <input type=\"radio\" name=\"gender\" value=\"female\">\u5973 <input type=\"radio\" name=\"gender\" value=\"qita\">\u5176\u4ed6 </p> <p>\u751f\u65e5\uff1a<input type=\"date\" name=\"birth\"></p> <p>\u7c4d\u8d2f\uff1a <select name=\"province\" id=\"\" multiple size=\"2\"> <option value=\"\">\u5e7f\u4e1c\u7701</option> <option value=\"\" selected>\u5c71\u4e1c\u7701</option> <option value=\"\">\u6cb3\u5317\u7701</option> </select> </p> <p> <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"\u4e2a\u4eba\u7b80\u4ecb\"></textarea> </p> <div> <p><input type=\"reset\" value=\"\u91cd\u7f6e\"></p> <p><input type=\"button\" value=\"\u666e\u901a\u6309\u94ae\"></p> <p><button>\u666e\u901a\u6309\u94ae</button></p> <p><input type=\"submit\" value=\"\u63d0\u4ea4\"></p> </div> </form>","title":"2.1.9\u3001\u8868\u5355\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#22-css","text":"CSS\u5c31\u662fCascading Style Sheet\u7684\u7f29\u5199\uff0c\u4e2d\u6587\u8bd1\u4f5c\u201c\u5c42\u53e0\u6837\u5f0f\u8868\u201d\u6216\u8005\u662f\u201c\u7ea7\u8054\u6837\u5f0f\u8868\u201d\uff0c\u662f\u7528\u4e8e\u63a7\u5236\u7f51\u9875\u5916\u89c2\u5904\u7406\u5e76\u5141\u8bb8\u5c06\u7f51\u9875\u7684\u8868\u73b0\u4e0e\u5185\u5bb9\u5206\u79bb\u7684\u4e00\u79cd\u6807\u8bb0\u6027\u8bed\u8a00\uff0cCSS\u4e0d\u9700\u8981\u7f16\u8bd1,\u53ef\u4ee5\u76f4\u63a5\u7531\u6d4f\u89c8\u5668\u6267\u884c(\u5c5e\u4e8e\u6d4f\u89c8\u5668\u89e3\u91ca\u578b\u8bed\u8a00)\uff0c\u662fWeb\u7f51\u9875\u5f00\u53d1\u6280\u672f\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002 \u90a3\u4e48\u63a5\u4e0b\u6765\uff0c\u7ee7\u7eed\u770b\u4e0b\uff0c\u4f7f\u7528CSS\u6709\u4ec0\u4e48\u597d\u5904\u5427\u3002 \u4f7f\u7528CSS\u6837\u5f0f\u53ef\u4ee5\u6709\u6548\u5730\u5bf9\u9875\u9762\u8fdb\u884c\u5e03\u5c40\uff0c\u66f4\u52a0\u7075\u6d3b\u591a\u6837\u3002 \u4f7f\u7528CSS\u6837\u5f0f\u53ef\u4ee5\u5bf9\u9875\u9762\u5b57\u4f53\u3001\u989c\u8272\u3001\u80cc\u666f\u548c\u5176\u4ed6\u6548\u679c\u5b9e\u73b0\u7cbe\u786e\u63a7\u5236\uff0c\u540c\u65f6\u5bf9\u5b83\u4eec\u7684\u4fee\u6539\u548c\u63a7\u5236\u53d8\u5f97\u66f4\u52a0\u5feb\u6377\uff0c\u66f4\u52a0\u5f3a\u5927\u3002 \u7ad9\u70b9\u4e2d\u6240\u6709\u7684\u7f51\u9875\u98ce\u683c\u90fd\u4f7f\u7528\u4e00\u4e2aCSS\u6587\u4ef6\u8fdb\u884c\u7edf\u4e00\u63a7\u5236\uff0c\u8fbe\u5230\u4e00\u6539\u5168\u6539\u3002\u8fd8\u53ef\u4ee5\u5feb\u901f\u5207\u6362\u4e3b\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u628aHTML\u6bd4\u4f5c\u662f\u9aa8\u67b6\uff0cCSS\u662f\u8863\u670d\u3002\u540c\u4e00\u4e2aHTML\u9aa8\u67b6\u7ed3\u6784\uff0c\u4e0d\u540cCSS\u6837\u5f0f\uff0c\u6240\u5f97\u5230\u7684\u7f8e\u5316\u5e03\u5c40\u6548\u679c\u4e0d\u540c\u3002 CSS\u53ef\u4ee5\u652f\u6301\u591a\u79cd\u8bbe\u5907,\u6bd4\u5982\u624b\u673a,PDA,\u6253\u5370\u673a,\u7535\u89c6\u673a,\u6e38\u620f\u673a\u7b49\u3002 CSS\u53ef\u4ee5\u5c06\u7f51\u9875\u7684\u8868\u73b0\u4e0e\u7ed3\u6784\u5206\u79bb\uff0c\u4f7f\u9875\u9762\u8f7d\u5165\u5f97\u66f4\u5feb,\u66f4\u5229\u4e8e\u7ef4\u62a4\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u7684\u3002 CSS\u57fa\u672c\u8bed\u6cd5: CSS\u7684\u57fa\u672c\u8bed\u6cd5\u7531\u9009\u62e9\u5668\u3001\u5c5e\u6027\u3001\u5c5e\u6027\u7684\u503c\u7ec4\u6210\uff0c\u5982\u679c\u9009\u62e9\u7b26\u6709\u591a\u4e2a\u5c5e\u6027\uff0c\u7531\u5206\u53f7\u9694\u5f00\u3002 \u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u4ee3\u7801\u90fd\u662f\u82f1\u6587\u683c\u5f0f\uff0c\u4f8b\u5982\u82b1\u62ec\u53f7\u3001\u5192\u53f7\u548c\u5206\u53f7\u3002","title":"2.2 \u3001CSS"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#221css","text":"CSS\u6837\u5f0f\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u5206\u522b\u662f\u884c\u5185\u6837\u5f0f\uff0c\u5d4c\u5165\u6837\u5f0f\u4ee5\u53ca\u94fe\u63a5\u5f0f\u3002\u6211\u4eec\u9700\u8981\u6839\u636e\u4e0d\u540c\u7684\u573a\u5408\u4e0d\u540c\u7684\u9700\u6c42\u6765\u4f7f\u7528\u4e0d\u540c\u7684\u6837\u5f0f\u3002 \u884c\u5185\u6837\u5f0f \u884c\u5185\u6837\u5f0f\uff0c\u5c31\u662f\u5199\u5728\u5143\u7d20\u7684style\u5c5e\u6027\u4e2d\u7684\u6837\u5f0f\uff0c\u8fd9\u79cd\u6837\u5f0f\u4ec5\u9650\u4e8e\u5143\u7d20\u5185\u90e8\u8d77\u4f5c\u7528\u3002\u5f53\u4e2a\u522b\u5143\u7d20\u9700\u8981\u5e94\u7528\u7279\u6b8a\u6837\u5f0f\u65f6\u5c31\u53ef\u4ee5\u4f7f\u7528\u5185\u8054\u6837\u5f0f\u3002\u4f46\u4e0d\u63a8\u8350\u5927\u91cf\u4f7f\u7528\u5185\u8054\u6837\u5f0f\uff0c\u56e0\u4e3a\u90a3\u6837\u4e0d\u5229\u4e8e\u540e\u671f\u7ef4\u62a4\u3002 <div style=\"color: white;background-color: #369;text-align: center\">\u884c\u5185\u8bbe\u7f6e</div> \u5d4c\u5165\u5f0f \u5d4c\u5165\u5f0f\uff0c\u662f\u628aCSS\u6837\u5f0f\u5199\u5728HTML\u6587\u6863\u5185\u90e8head\u6807\u7b7e\u4e2d\u7684style\u6807\u7b7e\u91cc\u3002\u6d4f\u89c8\u5668\u52a0\u8f7dHTML\u7684\u540c\u65f6\u5c31\u5df2\u7ecf\u52a0\u8f7d\u4e86CSS\u6837\u5f0f\u4e86\u3002\u5f53\u5355\u4e2a\u6587\u6863\u9700\u8981\u7279\u6b8a\uff0c\u5355\u72ec\u7684\u6837\u5f0f\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u90e8\u6837\u5f0f\u8868\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u951a\u70b9\u7684\u4f7f\u7528</title> <meta charset=\"utf8\"> <style> div{ color: white; background-color: #369; text-align: center } </style> </head> <body> <div> \u5d4c\u5165\u5f0f</div> </body> </html> \u94fe\u63a5\u5f0f \u94fe\u63a5\u5f0f\uff0c\u5c31\u662f\u628aCSS\u6837\u5f0f\u5199\u5728HTML\u6587\u6863\u7684\u5916\u90e8\uff0c\u4e00\u4e2a\u540e\u7f00\u4e3a .css \u7684\u5916\u90e8\u6837\u5f0f\u8868\u4e2d\uff0c\u7136\u540e\u4f7f\u7528\u65f6\u5728head\u6807\u7b7e\u4e2d\uff0c\u4f7f\u7528link\u6807\u7b7e\u7684href\u5c5e\u6027\u5f15\u5165\u6587\u4ef6\u5373\u53ef\u3002\u5f53CSS\u6837\u5f0f\u9700\u8981\u5e94\u7528\u5728\u5f88\u591a\u9875\u9762\u65f6\uff0c\u5916\u90e8\u6837\u5f0f\u8868\u662f\u6700\u7406\u60f3\u7684\u9009\u62e9\u3002\u5728\u4f7f\u7528\u5916\u90e8\u6837\u5f0f\u8868\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u4e00\u4e2a\u6587\u4ef6\u6765\u6539\u53d8\u8fd9\u6240\u6709\u9875\u9762\u7684\u5916\u89c2\u3002 common.css div{ color: white; background-color: #369; text-align: center } html\u6587\u4ef6 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u951a\u70b9\u7684\u4f7f\u7528</title> <meta charset=\"utf8\"> <link rel=\"stylesheet\" href=\"common.css\"> </head> <body> <div>\u94fe\u63a5\u5f0f</div> </body> </html>","title":"2.2.1\u3001CSS\u7684\u5f15\u5165\u65b9\u5f0f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#222css","text":"","title":"2.2.2\u3001CSS\u7684\u9009\u62e9\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_4","text":"<!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> #i1{ color: red; } .c1{ color: red; } .c2{ font-size: 32px; } </style> </head> <body> <div id=\"i1\">item1</div> <div id=\"i2\">item2</div> <div id=\"i3\">item3</div> <div class=\"c1 c2\">item4</div> <div class=\"c1\">item5</div> <div class=\"c1\">item6</div> </body> </html>","title":"\u57fa\u672c\u9009\u62e9\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_5","text":"\u540e\u4ee3\u5b50\u4ee3\u9009\u62e9\u5668 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u540e\u4ee3\u9009\u62e9\u5668*/ .c1 .c2{ color: red; } /*\u5b50\u4ee3\u9009\u62e9\u5668*/ .c3 .c5{ color: red; } .c3 > .c5{ color: red; } .c3 .c4 .c5{ color: red; } </style> </head> <body> <!--\u540e\u4ee3\u9009\u62e9\u5668--> <div class=\"c1\"> <div class=\"c2\">item1</div> </div> <div class=\"c2\">item2</div> <!--\u5b50\u4ee3\u9009\u62e9\u5668--> <div class=\"c3\"> <div class=\"c4\"> <div class=\"c5\">item3</div> </div> <div class=\"c5\">item4</div> </div> </body> </html> \u4e0e\u6216\u9009\u62e9\u5668 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u4e0e\u9009\u62e9\u5668*/ p.c1{ color: red; } /*\u6216\u9009\u62e9\u5668*/ p.c1,#i1{ color: red; } </style> </head> <body> <!--\u4e0e\u9009\u62e9\u5668--> <div class=\"c1\">item1</div> <p class=\"c1\">item2</p> <div>item3</div> <p id=\"i1\">item4</p> </body> </html> \u5144\u5f1f\u9009\u62e9\u5668 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u6bd7\u90bb\u9009\u62e9\u5668*/ #i1 + div.c1{ color: red; } #i1 + div.c2{ color: red; } /*\u5144\u5f1f\u9009\u62e9\u5668*/ #i1 ~ div.c2{ color: red; } #i1 ~ div{ color: red; } </style> </head> <body> <p id=\"i1\">item0</p> <div class=\"c1\">item1</div> <div class=\"c2\">item2</div> <div class=\"c3\">item3</div> <div class=\"c4\">item4</div> </body> </html>","title":"\u7ec4\u5408\u9009\u62e9\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_6","text":"/* E[att] \u5339\u914d\u6240\u6709\u5177\u6709att\u5c5e\u6027\u7684E\u5143\u7d20\uff0c\u4e0d\u8003\u8651\u5b83\u7684\u503c\u3002\uff08\u6ce8\u610f\uff1aE\u5728\u6b64\u5904\u53ef\u4ee5\u7701\u7565\u3002 \u6bd4\u5982\u201c[cheacked]\u201d\u3002\u4ee5\u4e0b\u540c\u3002\uff09 p[title] { color:#f00; } E[att=val] \u5339\u914d\u6240\u6709att\u5c5e\u6027\u7b49\u4e8e\u201cval\u201d\u7684E\u5143\u7d20 div[class=\u201derror\u201d] { color:#f00; } E[att~=val] \u5339\u914d\u6240\u6709att\u5c5e\u6027\u5177\u6709\u591a\u4e2a\u7a7a\u683c\u5206\u9694\u7684\u503c\u3001\u5176\u4e2d\u4e00\u4e2a\u503c\u7b49\u4e8e\u201cval\u201d\u7684E\u5143\u7d20 td[class~=\u201dname\u201d] { color:#f00; } E[attr^=val] \u5339\u914d\u5c5e\u6027\u503c\u4ee5\u6307\u5b9a\u503c\u5f00\u5934\u7684\u6bcf\u4e2a\u5143\u7d20 div[class^=\"test\"]{background:#ffff00;} E[attr$=val] \u5339\u914d\u5c5e\u6027\u503c\u4ee5\u6307\u5b9a\u503c\u7ed3\u5c3e\u7684\u6bcf\u4e2a\u5143\u7d20 div[class$=\"test\"]{background:#ffff00;} E[attr*=val] \u5339\u914d\u5c5e\u6027\u503c\u4e2d\u5305\u542b\u6307\u5b9a\u503c\u7684\u6bcf\u4e2a\u5143\u7d20 div[class*=\"test\"]{background:#ffff00;}*/ <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> /*\u5c5e\u6027\u9009\u62e9\u5668*/ [type=\"text\"]{ border: 1px solid red; } [index]{ font-size: 32px; font-style: italic; } [href*=\"png\"]{ color: red; } </style> </head> <body> <input type=\"text\"> <input type=\"password\"> <div index=\"1\">1</div> <div index=\"2\">2</div> <div index=\"3\">3</div> <ul> <li><a href=\"1.png\">item1</a></li> <li><a href=\"2.jpg\">item2</a></li> <li><a href=\"3.jpg\">item3</a></li> <li><a href=\"4.png\">item4</a></li> <li><a href=\"5.gif\">item5</a></li> </ul> </body> </html>","title":"\u5c5e\u6027\u9009\u62e9\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_7","text":"anchor\u4f2a\u7c7b\uff1a\u4e13\u7528\u4e8e\u63a7\u5236\u94fe\u63a5\u7684\u663e\u793a\u6548\u679c :link a:link \u9009\u62e9\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u7684\u94fe\u63a5\u3002 :visited a:visited \u9009\u62e9\u6240\u6709\u5df2\u88ab\u8bbf\u95ee\u7684\u94fe\u63a5\u3002 :active a:active \u9009\u62e9\u6d3b\u52a8\u94fe\u63a5\u3002 :hover a:hover \u9009\u62e9\u9f20\u6807\u6307\u9488\u4f4d\u4e8e\u5176\u4e0a\u7684\u94fe\u63a5\u3002 <style> a:link{ color: red; } a:visited{ color: coral; } a:hover{ color: blue; } a:active{ color: rebeccapurple; } </style> before after\u4f2a\u7c7b :first-child p:first-child \u9009\u62e9\u5c5e\u4e8e\u7236\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5b50\u5143\u7d20\u7684\u6bcf\u4e2a \u5143\u7d20\u3002 :last-child p:last-child \u9009\u62e9\u5c5e\u4e8e\u5176\u7236\u5143\u7d20\u6700\u540e\u4e00\u4e2a\u5b50\u5143\u7d20\u6bcf\u4e2a \u5143\u7d20\u3002 :before p:before \u5728\u6bcf\u4e2a \u5143\u7d20\u7684\u5185\u5bb9\u4e4b\u524d\u63d2\u5165\u5185\u5bb9\u3002 :after p:after \u5728\u6bcf\u4e2a \u5143\u7d20\u7684\u5185\u5bb9\u4e4b\u540e\u63d2\u5165\u5185\u5bb9\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> .c1 p:first-child{ color: red; } .c1 div:last-child{ color: red; } p#i1:after{ content:\"hello\"; color:red; display: block; } </style> </head> <body> <div class=\"c1\"> <p>item1</p> <p>item1</p> <div>item1</div> <p>item1</p> </div> <p id=\"i1\">p\u6807\u7b7e</p> </body> </html>","title":"\u4f2a\u7c7b\u9009\u62e9\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_8","text":"CSS\u7684\u6837\u5f0f\u8868\u7ee7\u627f\u6307\u7684\u662f\uff0c\u7279\u5b9a\u7684CSS\u5c5e\u6027\u5411\u4e0b\u4f20\u9012\u5230\u5b50\u5b59\u5143\u7d20\u3002\u603b\u7684\u6765\u8bf4\uff0c\u4e00\u4e2aHTML\u6587\u6863\u5c31\u662f\u4e00\u4e2a\u5bb6\u65cf\uff0c\u7136\u540ehtml\u5143\u7d20\u6709\u4e24\u4e2a\u5b50\u5143\u7d20\uff0c\u76f8\u5f53\u4e8e\u5b83\u7684\u513f\u5b50\uff0c\u5206\u522b\u662fhead\u548cbody\uff0c\u7136\u540ebody\u548chead\u5404\u81ea\u8fd8\u4f1a\u6709\u81ea\u5df1\u7684\u513f\u5b50\uff0c\u6700\u7ec8\u5f62\u6210\u4e86\u4e00\u5f20\u4ee5\u4e0b\u7684\u5bb6\u65cf\u8c31\u3002 \u5728\u4e0a\u56fe\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\uff0cbody\u7684\u5b50\u5143\u7d20\u6709\u4e09\u4e2a\uff0ch1\u3001p\u548cul\uff0cul\u4e5f\u6709\u51e0\u4e2a\u5b50\u5143\u7d20\uff0cp\u4e5f\u67091\u4e2a\u5b50\u5143\u7d20\uff0c\u90a3\u4e48li\u548ca\u5c31\u90fd\u662fbody\u7684\u540e\u4ee3\u5143\u7d20\u3002\u6709\u65f6\u53ef\u80fd\u6211\u4eec\u5728body\u91cc\u9762\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u5c5e\u6027\uff0c\u7ed3\u679c\uff0cbody\u4e0b\u9762\u6240\u6709\u7684\u540e\u4ee3\u5143\u7d20\u90fd\u53ef\u80fd\u4eab\u53d7\u5230\uff0c\u8fd9\u5c31\u662f\u6837\u5f0f\u7ee7\u627f\u3002\u5c31\u50cf\u4e00\u53e5\u4fd7\u8bed\u4e00\u6837\uff0c\u201c\u9f99\u751f\u9f99\uff0c\u51e4\u751f\u51e4\uff0c\u8001\u9f20\u7684\u513f\u5b50\u4f1a\u6253\u6d1e\u201d\u3002\u6837\u5f0f\u7ee7\u627f\uff0c\u53ef\u4ee5\u7ed9\u6211\u4eec\u7684\u7f51\u9875\u5e03\u5c40\u5e26\u6765\u5f88\u591a\u7684\u4fbf\u5229\uff0c\u8ba9\u6211\u4eec\u7684\u4ee3\u7801\u53d8\u5f97\u66f4\u52a0\u7b80\u6d01\uff0c\u4f46\u662f\uff0c\u5982\u679c\u4e0d\u4e86\u89e3\uff0c\u6216\u8005\u4f7f\u7528\u4e0d\u5f53\uff0c\u4e5f\u6709\u53ef\u80fd\u4f1a\u7ed9\u6211\u4eec\u5e26\u6765\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u4e86\u89e3\u4e86\u54ea\u4e9b\u6837\u5f0f\u662f\u4f1a\u7ee7\u627f\u5230\u540e\u4ee3\u5143\u7d20\u7684\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u907f\u514d\u8fd9\u4e9b\u95ee\u9898\u7684\u53d1\u751f\u4e86\u3002 \u6587\u672c\u76f8\u5173\u5c5e\u6027 font-family font-size letter-spacing line-height font-style font-variant text-align text-indent font-weight font text-transform word-spacing color direction \u5217\u8868\u76f8\u5173\u5c5e\u6027 list-style-image list-style-position list-style-type list-style \u8868\u683c\u548c\u5176\u4ed6\u76f8\u5173\u5c5e\u6027 border-collapse border-spacing caption-side empty-cells cursor","title":"\u6837\u5f0f\u7ee7\u627f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_9","text":"\u7ee7\u627f \u7ee7\u627f\u662fCSS\u7684\u4e00\u4e2a\u4e3b\u8981\u7279\u5f81\uff0c\u5b83\u662f\u4f9d\u8d56\u4e8e\u7956\u5148-\u540e\u4ee3\u7684\u5173\u7cfb\u7684\u3002\u7ee7\u627f\u662f\u4e00\u79cd\u673a\u5236\uff0c\u5b83\u5141\u8bb8\u6837\u5f0f\u4e0d\u4ec5\u53ef\u4ee5\u5e94\u7528\u4e8e\u67d0\u4e2a\u7279\u5b9a\u7684\u5143\u7d20\uff0c\u8fd8\u53ef\u4ee5\u5e94\u7528\u4e8e\u5b83\u7684\u540e\u4ee3\u3002\u4f8b\u5982\u4e00\u4e2aBODY\u5b9a\u4e49\u4e86\u7684\u989c\u8272\u503c\u4e5f\u4f1a\u5e94\u7528\u5230\u6bb5\u843d\u7684\u6587\u672c\u4e2d\u3002 body{color:red;} <p>helloyuan</p> \u8fd9\u6bb5\u6587\u5b57\u90fd\u7ee7\u627f\u4e86\u7531body {color:red;}\u6837\u5f0f\u5b9a\u4e49\u7684\u989c\u8272\u3002\u7136\u800cCSS\u7ee7\u627f\u6027\u7684\u6743\u91cd\u662f\u975e\u5e38\u4f4e\u7684\uff0c\u662f\u6bd4\u666e\u901a\u5143\u7d20\u7684\u6743\u91cd\u8fd8\u8981\u4f4e\u76840\u3002 p{color:green} \u53d1\u73b0\u53ea\u9700\u8981\u7ed9\u52a0\u4e2a\u989c\u8272\u503c\u5c31\u80fd\u8986\u76d6\u6389\u5b83\u7ee7\u627f\u7684\u6837\u5f0f\u989c\u8272\u3002\u7531\u6b64\u53ef\u89c1\uff1a\u4efb\u4f55\u663e\u793a\u7533\u660e\u7684\u89c4\u5219\u90fd\u53ef\u4ee5\u8986\u76d6\u5176\u7ee7\u627f\u6837\u5f0f\u3002 \u6b64\u5916\uff0c\u7ee7\u627f\u662fCSS\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u751a\u81f3\u4e0d\u7528\u53bb\u8003\u8651\u5b83\u4e3a\u4ec0\u4e48\u80fd\u591f\u8fd9\u6837\uff0c\u4f46CSS\u7ee7\u627f\u4e5f\u662f\u6709\u9650\u5236\u7684\u3002\u6709\u4e00\u4e9b\u5c5e\u6027\u4e0d\u80fd\u88ab\u7ee7\u627f\uff0c\u5982\uff1aborder, margin, padding, background\u7b49\u3002 \u4f18\u5148\u7ea7 \u6240\u8c13CSS\u4f18\u5148\u7ea7\uff0c\u5373\u662f\u6307CSS\u6837\u5f0f\u5728\u6d4f\u89c8\u5668\u4e2d\u88ab\u89e3\u6790\u7684\u5148\u540e\u987a\u5e8f\u3002\u6837\u5f0f\u8868\u4e2d\u7684\u7279\u6b8a\u6027\u63cf\u8ff0\u4e86\u4e0d\u540c\u89c4\u5219\u7684\u76f8\u5bf9\u6743\u91cd\u3002 /* !important > \u884c\u5185\u6837\u5f0f>ID\u9009\u62e9\u5668 > \u7c7b\u9009\u62e9\u5668 > \u6807\u7b7e > \u901a\u914d\u7b26 > \u7ee7\u627f > \u6d4f\u89c8\u5668\u9ed8\u8ba4\u5c5e\u6027 1 \u5185\u8054\u6837\u5f0f\u8868\u7684\u6743\u503c\u6700\u9ad8 style=\"\" 1000\uff1b 2 \u7edf\u8ba1\u9009\u62e9\u7b26\u4e2d\u7684ID\u5c5e\u6027\u4e2a\u6570\u3002 #id 100 3 \u7edf\u8ba1\u9009\u62e9\u7b26\u4e2d\u7684CLASS\u5c5e\u6027\u4e2a\u6570\u3002 .class 10 4 \u7edf\u8ba1\u9009\u62e9\u7b26\u4e2d\u7684HTML\u6807\u7b7e\u540d\u4e2a\u6570\u3002 \u6807\u7b7e\u540d 1 \u6309\u8fd9\u4e9b\u89c4\u5219\u5c06\u6570\u5b57\u7b26\u4e32\u9010\u4f4d\u76f8\u52a0\uff0c\u5c31\u5f97\u5230\u6700\u7ec8\u7684\u6743\u91cd\uff0c\u7136\u540e\u5728\u6bd4\u8f83\u53d6\u820d\u65f6\u6309\u7167\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f\u9010\u4f4d\u6bd4\u8f83\u3002 */ <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> .c1{ color: red; } #i1{ color: coral; } div{ color: greenyellow; } /*.c2 .c3 .c4 span{*/ /* color: orange;*/ /*}*/ .c2 .c4 span{ color: blue; } .c2 .c3 .c5{ color: rebeccapurple; } .c2 .c4 .c5{ color: darkcyan; } </style> </head> <body> <div class=\"c1\" id=\"i1\">item1</div> <div class=\"c2\"> <div class=\"c3\"> <div class=\"c4\"> <span class=\"c5\">item2</span> </div> </div> </div> </body> </html> 1\u3001\u6709!important\u58f0\u660e\u7684\u89c4\u5219\u9ad8\u4e8e\u4e00\u5207\u3002 2\u3001\u5982\u679c!important\u58f0\u660e\u51b2\u7a81\uff0c\u5219\u6bd4\u8f83\u4f18\u5148\u6743\u3002 3\u3001\u5982\u679c\u4f18\u5148\u6743\u4e00\u6837\uff0c\u5219\u6309\u7167\u5728\u6e90\u7801\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u51b3\u5b9a\uff0c\u540e\u6765\u8005\u5c45\u4e0a\u3002 4\u3001\u7531\u7ee7\u627f\u800c\u5f97\u5230\u7684\u6837\u5f0f\u6ca1\u6709specificity\u7684\u8ba1\u7b97\uff0c\u5b83\u4f4e\u4e8e\u4e00\u5207\u5176\u5b83\u89c4\u5219(\u6bd4\u5982\u5168\u5c40\u9009\u62e9\u7b26*\u5b9a\u4e49\u7684\u89c4\u5219)\u3002 5\u3001\u7528\u6570\u5b57\u8868\u793a\u53ea\u662f\u8bf4\u660e\u601d\u60f3\uff0c\u4e00\u4e07\u4e2aclass\u4e5f\u4e0d\u5982\u4e00\u4e2aid\u6743\u503c\u9ad8","title":"\u9009\u62e9\u5668\u4f18\u5148\u7ea7"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#223css","text":"","title":"2.2.3\u3001CSS\u7684\u5c5e\u6027\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_10","text":"font-style\uff08\u5b57\u4f53\u6837\u5f0f\u98ce\u683c\uff09 /* \u5c5e\u6027\u503c\uff1a normal\uff1a\u8bbe\u7f6e\u5b57\u4f53\u6837\u5f0f\u4e3a\u6b63\u4f53\u3002\u9ed8\u8ba4\u503c\u3002 italic\uff1a\u8bbe\u7f6e\u5b57\u4f53\u6837\u5f0f\u4e3a\u659c\u4f53\u3002\u8fd9\u662f\u9009\u62e9\u5b57\u4f53\u5e93\u4e2d\u7684\u659c\u4f53\u5b57\u3002 oblique\uff1a\u8bbe\u7f6e\u5b57\u4f53\u6837\u5f0f\u4e3a\u659c\u4f53\u3002\u4eba\u4e3a\u7684\u4f7f\u6587\u5b57\u503e\u659c\uff0c\u800c\u4e0d\u662f\u53bb\u4f7f\u7528\u5b57\u4f53\u5e93\u7684\u659c\u4f53\u5b57\u3002 */ font-weight\uff08\u5b57\u4f53\u7c97\u7ec6\uff09 /* \u5c5e\u6027\u503c\uff1a normal\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u6b63\u5e38\u5b57\u4f53\u3002\u76f8\u5f53\u4e8e\u6570\u5b57\u503c400 bold\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u7c97\u4f53\u3002\u76f8\u5f53\u4e8e\u6570\u5b57\u503c700\u3002 bolder\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u6bd4\u7236\u7ea7\u5143\u7d20\u5b57\u4f53\u66f4\u7c97\u7684\u5b57\u4f53\u3002 lighter\uff1a\u8bbe\u7f6e\u5b57\u4f53\u4e3a\u6bd4\u7236\u7ea7\u5143\u7d20\u5b57\u4f53\u66f4\u7ec6\u7684\u5b57\u4f53\u3002 number\uff1a\u7528\u6570\u5b57\u8868\u793a\u5b57\u4f53\u7c97\u7ec6\u3002\u4ece\u5c0f\u5230\u5927\uff0c\u8d8a\u6765\u7ea6\u7c97\uff0c\u53d6\u503c\u8303\u56f4\uff1a100\u3001200\u3001300\u3001400\u3001500\u3001600\u3001700\u3001800\u3001900\u3002 \u6ce8\u610f\uff1a font-weight\u7684\u5e38\u7528\u503c\u6709\u4e24\u4e2anormal\u548cbold\uff0c\u5176\u4ed6\u7684\u503c\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u652f\u6301\u5e76\u4e0d\u597d\u3002 */ font-size\uff08\u5b57\u4f53\u5927\u5c0f\uff09 /* font-size\u7684\u503c\u6709\u5f88\u591a\uff0c\u6709xx-small\u3001x-small\u3001small\u3001medium\u3001large\u3001x-large\u3001xx-large\u3001smaller\u548clarger\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u503c\u4e3a\u5177\u4f53\u7684\u6570\u503c\u52a0\u4e0a\u5bf9\u5e94\u7684\u8ba1\u7b97\u5355\u4f4d\u6765\u8868\u793a\u5b57\u4f53\u7684\u5927\u5c0f\u3002\u5b57\u4f53\u5355\u4f4d\u6709\u50cf\u7d20\uff08 px \uff09\u3001\u5b57\u7b26\uff08 em\uff0c\u9ed8\u8ba41em\u7b49\u4e8e16px\uff0c2em\u7b49\u4e8e32px\uff0c\u6839\u636e\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u5b57\u4f53\u5927\u5c0f\u800c\u51b3\u5b9a \uff09\u3001\u767e\u5206\u6bd4\uff08 % \uff09\uff0c\u78c5[\u70b9]\uff08 pt \uff09\u3002 \u5b57\u4f53\u4e0d\u6307\u5b9a\u5927\u5c0f\u65f6\uff0c\u4e3b\u6d41\u6d4f\u89c8\u5668\u9ed8\u8ba4\u662f15\u50cf\u7d20\u523016\u50cf\u7d20\u3002\u65e7\u7248\u672c\u7684\u8c37\u6b4c\u6d4f\u89c8\u5668\uff0c\u5b57\u4f53\u6700\u5c0f\u53ea\u80fd\u8bbe\u7f6e\u621012\u50cf\u7d20\uff0c\u65b0\u7248\u5df2\u7ecf\u4fee\u590d\u3002*/ font-family\uff08\u5b57\u4f53\u65cf\uff09 /* font-family\u53ef\u4ee5\u6307\u5b9a\u5143\u7d20\u4f7f\u7528\u7684\u5b57\u4f53\u7cfb\u5217\u6216\u5b57\u4f53\u65cf\u3002\u5f53\u6211\u4eec\u4f7f\u7528font-family\u6307\u5b9a\u5b57\u4f53\u65cf\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6307\u5b9a\u591a\u79cd\u5b57\u4f53,\u4f5c\u4e3a\u5019\u8865\u3002\u6307\u5b9a\u591a\u4e2a\u5b57\u4f53\u7684\u65f6\u5019\uff0c\u9700\u8981\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u3002 \u5982\u679ccss\u4e2d\u6ca1\u6709\u58f0\u660e\u5f53\u524d\u5185\u5bb9\u4f7f\u7528\u7684\u5b57\u4f53\u65cf\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\uff1a \u4e2d\u6587\uff1a \u5b8b\u4f53 [ win7\u4ee5\u540e\u9ed8\u8ba4\u662f \u5fae\u8f6f\u96c5\u9ed1 ] \u82f1\u6587\uff1a Arial */ color\uff08\u5b57\u4f53\u989c\u8272\uff09 // \u53ef\u4ee5\u4f7f\u7528color\u6765\u8868\u793a\u5b57\u4f53\u7684\u989c\u8272\uff0c\u989c\u8272\u503c\u6700\u5e38\u7528\u7684\u6709\u4e09\u79cd\u5f62\u5f0f\uff0c\u82f1\u6587\u5355\u8bcd\uff0c\u5341\u516d\u8fdb\u5236\uff0cRGB\u5341\u8fdb\u5236\u3002\u66f4\u9ad8\u7ea7\u7684\u6709 RGBA\u3001HSL\u3001HSLA\uff0c\u4e0d\u8fc7\u4f4e\u7248\u672c\u7684\u6d4f\u89c8\u5668\u5e76\u4e0d\u652f\u6301\u3002 <style> .c1{ color: red; } .c1{ color: #369; } .c1{ color: RGB(0,0,255); } </style> \u53e6\u5916\u8981\u6ce8\u610f\uff0c\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a\u989c\u8272\u503c\u7684\u65f6\u5019\uff0c\u5982\u679c\u5b57\u7b26\u7684\u683c\u5f0f\u7c7b\u4f3c\u4e8e\u201cAAAAAA\u201d\u7684\u8fd9\u79cd\uff0c\u516d\u4e2a\u5b57\u7b26\u4e00\u6837\u7684\uff1b\u53c8\u6216\u8005\u662f\u201cAABBCC\u201d\uff0c\u8fd9\u79cd\uff0c\u4e00\u4e8c\uff0c\u4e09\u56db\uff0c\u4e94\u516d \u4f4d\u7f6e\u4e0a\u7684\u6570\u5b57\u4e00\u6837\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7b80\u5199\u6765\u8868\u8fbe\u3002 text-align\uff08\u6587\u672c\u5bf9\u9f50\u65b9\u5f0f\uff09 /* text-align\u5c5e\u6027\u53ef\u4ee5\u8bbe\u7f6e\u6587\u672c\u5185\u5bb9\u7684\u6c34\u5e73\u5bf9\u9f50\u65b9\u5f0f\u3002\u5c5e\u6027\u503c\u5e38\u7528\u7684\u6709 \u5de6\u5bf9\u9f50left\u3001\u5c45\u4e2d\u5bf9\u9f50center\u3001\u53f3\u5bf9\u9f50right\u3002justify \u5b9e\u73b0\u4e24\u7aef\u5bf9\u9f50\u6587\u672c\u6548\u679c\u3002 */ text-decoration // \u4f7f\u7528text-decoration\u53ef\u4ee5\u8bbe\u7f6e\u6587\u672c\u5185\u5bb9\u7684\u88c5\u9970\u7ebf\u6761\uff0c\u6b63\u5e38\u7684\u6587\u672c\u662f\u6ca1\u6709\u7ebf\u6761\u7684\uff0c\u5e38\u7528\u7684\u503c\u6709none\uff0cunderline\uff0coverline\uff0cline-through\u56db\u79cd\u3002 line-height\uff08\u5b57\u4f53\u884c\u9ad8\uff09 // \u5b57\u4f53\u884c\u9ad8\u5373\u5b57\u4f53\u6700\u5e95\u7aef\u4e0e\u5b57\u4f53\u5185\u90e8\u9876\u7aef\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u503c\u53ef\u4ee5\u662fnormal\u3001px\u3001number\u3001%\u3002 \u884c\u9ad8 = \u5b57\u4f53\u5927\u5c0f + \u4e0a\u534a\u884c\u8ddd + \u4e0b\u534a\u884c\u8ddd vertical-align vertical-align \u5c5e\u6027\u8bbe\u7f6e\u5143\u7d20\u7684\u5782\u76f4\u5bf9\u9f50\u65b9\u5f0f\u3002 <img src=\"\" alt=\"\"><span>yuan</span>","title":"\u6587\u672c\u5c5e\u6027"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_11","text":"background-color\uff08\u80cc\u666f\u989c\u8272\uff09 \u9875\u9762\u7684\u80cc\u666f\u989c\u8272\u6709\u56db\u79cd\u5c5e\u6027\u503c\u8868\u793a\uff0c\u5206\u522b\u662ftransparent\uff08\u900f\u660e\uff09\uff0cRGB\u5341\u8fdb\u5236\u989c\u8272\u8868\u793a\uff0c\u5341\u516d\u8fdb\u5236\u989c\u8272\u8868\u793a\u548c\u989c\u8272\u5355\u8bcd\u8868\u793a\u3002 \u5c5e\u6027\u4f7f\u7528\uff1a /* background-color: transparent; // \u900f\u660e background-color: rgb(255,0,0); // \u7ea2\u8272\u80cc\u666f background-color: #ff0000; // \u7ea2\u8272\u80cc\u666f background-color: red; // \u7ea2\u8272\u80cc\u666f */ background-image\uff08\u80cc\u666f\u56fe\u7247\uff09 background-image\u53ef\u4ee5\u5f15\u5165\u4e00\u5f20\u56fe\u7247\u4f5c\u4e3a\u5143\u7d20\u7684\u80cc\u666f\u56fe\u50cf\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cbackground-image\u653e\u7f6e\u5728\u5143\u7d20\u7684\u5de6\u4e0a\u89d2\uff0c\u5e76\u5728\u5782\u76f4\u548c\u6c34\u5e73\u65b9\u5411\u91cd\u590d\u5e73\u94fa\u3002 \u8bed\u6cd5\uff1a // background-image: url('\u56fe\u7247\u5730\u5740') \u5f53\u540c\u65f6\u5b9a\u4e49\u4e86\u80cc\u666f\u989c\u8272\u548c\u80cc\u666f\u56fe\u50cf\u65f6\uff0c\u80cc\u666f\u56fe\u50cf\u8986\u76d6\u5728\u80cc\u666f\u989c\u8272\u4e4b\u4e0a\u3002 \u6240\u4ee5\u5f53\u80cc\u666f\u56fe\u7247\u6ca1\u6709\u88ab\u52a0\u8f7d\u5230\uff0c\u6216\u8005\u4e0d\u80fd\u5b8c\u5168\u94fa\u6ee1\u5143\u7d20\u65f6\uff0c\u5c31\u4f1a\u663e\u793a\u80cc\u666f\u989c\u8272\u3002 background-repeat\uff08\u80cc\u666f\u5e73\u94fa\u65b9\u5f0f\uff09 CSS\u4e2d\uff0c\u5f53\u4f7f\u7528\u56fe\u50cf\u4f5c\u4e3a\u80cc\u666f\u4e86\u4ee5\u540e\uff0c\u90fd\u662f\u9ed8\u8ba4\u628a\u6574\u4e2a\u9875\u9762\u5e73\u94fa\u6ee1\u7684\uff0c\u4f46\u662f\u6709\u65f6\u5019\u5728\u5f88\u591a\u573a\u5408\u4e0b\u9762\uff0c\u9875\u9762\u5e76\u4e0d\u9700\u8981\u8fd9\u79cd\u9ed8\u8ba4\u7684\u6548\u679c\uff0c\u800c\u53ef\u80fd\u9700\u8981\u80cc\u666f\u56fe\u50cf\u53ea\u663e\u793a\u4e00\u6b21\uff0c\u6216\u8005\u53ea\u6309\u7167\u6307\u5b9a\u65b9\u5f0f\u8fdb\u884c\u5e73\u94fa\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f7f\u7528background-repeat\u6765\u8fdb\u884c\u8bbe\u7f6e\u3002 background-repeat\u4e13\u95e8\u7528\u4e8e\u8bbe\u7f6e\u80cc\u666f\u56fe\u50cf\u7684\u5e73\u94fa\u65b9\u5f0f\uff0c\u4e00\u822c\u6709\u56db\u4e2a\u503c\uff0c\u9ed8\u8ba4\u662frepeat\uff08\u5e73\u94fa\uff09\uff0cno-repeat\uff08\u4e0d\u5e73\u94fa\uff09\uff0crepeat-x\uff08X\u8f74\u5e73\u94fa\uff09\uff0crepeat-y\uff08Y\u8f74\u5e73\u94fa\uff09\u3002 background-position\uff08\u80cc\u666f\u5b9a\u4f4d\uff09 CSS\u4e2d\u652f\u6301\u5143\u7d20\u5bf9\u80cc\u666f\u56fe\u50cf\u7684\u5b9a\u4f4d\u6446\u653e\u529f\u80fd\uff0c\u5c31\u662f\u5229\u7528background-position\u5c5e\u6027\u6765\u5b9e\u73b0\uff0c\u4ee5\u9875\u9762\u4e2d\u5143\u7d20\u7684\u5de6\u4e0a\u89d2\u4e3a\u539f\u70b9\uff080\uff0c0\uff09\uff0c\u628a\u5143\u7d20\u7684\u5185\u90e8\u533a\u57df\u5f53\u6210\u4e00\u4e2a\u5750\u6807\u8f74\uff08\u4e0a\u8fb9\u6846\u4e3aX\u8f74\uff0c\u8d8a\u5f80\u5de6X\u7684\u503c\u8d8a\u5927\uff0c\u5de6\u8fb9\u6846\u4e3aY\u8f74\uff0c\u8d8a\u5f80\u4e0bY\u8f74\u7684\u503c\u5c31\u8d8a\u5927\uff0c\u53cd\u4e4b\u4ea6\u7136\uff09\uff0c\u7136\u540e\u8ba1\u7b97\u51fa\u80cc\u666f\u56fe\u7247\u7684\u5de6\u4e0a\u89d2\u4e0e\u5706\u70b9\u7684\u8ddd\u79bb\uff08x\u8f74\u548cy\u8f74\u7684\u8ddd\u79bb\uff09\uff0c\u7136\u540e\u628a\u80cc\u666f\u56fe\u7247\u653e\u5165\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u4e0a\uff0c\u5bf9\u80cc\u666f\u56fe\u7247\u7684\u4f4d\u7f6e\u8fdb\u884c\u7cbe\u786e\u7684\u63a7\u5236\u548c\u6446\u653e\u3002 \u200b background-position\u7684\u503c\u5206\u6210\u4e24\u4e2a\uff0c\u4f7f\u7528\u7a7a\u683c\u9694\u5f00\uff0c\u524d\u9762\u4e00\u4e2a\u662f\u80cc\u666f\u56fe\u7247\u5de6\u4e0a\u89d2\u7684x\u8f74\u5750\u6807\uff0c\u540e\u9762\u4e00\u4e2a\u662f\u80cc\u666f\u56fe\u7247\u5de6\u4e0a\u89d2\u7684y\u8f74\u5750\u6807\u3002\u4e24\u4e2a\u503c\u90fd\u53ef\u4ee5\u662f\u6b63\u3001\u8d1f\u503c\u3002 \u8bed\u6cd5\uff1a // background-position: x\u8f74\u5750\u6807 y\u8f74\u5750\u6807 \u80cc\u666f\u5b9a\u4f4d\u7684\u503c\u9664\u4e86\u662f\u5177\u4f53\u7684\u6570\u503c\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u662f\u5de6\uff08left\uff09\u3001\u4e2d\uff08center\uff09\u3001\u53f3\uff08right\uff09 background\uff08\u80cc\u666f\u6837\u5f0f\u7f29\u5199\uff09 \u548c\u5b57\u4f53\u5c5e\u6027\u4e00\u6837\uff0c\u591a\u4e2a\u4e0d\u540c\u80cc\u666f\u6837\u5f0f\u5c5e\u6027\u4e5f\u662f\u53ef\u4ee5\u540c\u65f6\u7f29\u5199\u7684\uff0c\u4e0d\u8fc7\u4e0d\u9700\u8981\u50cf\u5b57\u4f53\u90a3\u6837\u6309\u7167\u4e00\u5b9a\u7684\u987a\u5e8f\uff0c\u80cc\u666f\u6837\u5f0f\u7684\u7f29\u5199\u5c5e\u6027\u7684\u987a\u5e8f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u53ef\u4ee5\u4efb\u610f\u7f16\u6392\u3002 \u8bed\u6cd5\uff1a // background: \u80cc\u666f\u989c\u8272 \u80cc\u666f\u56fe\u7247 \u80cc\u666f\u5e73\u94fa\u65b9\u5f0f \u80cc\u666f\u5b9a\u4f4d;","title":"\u80cc\u666f\u5c5e\u6027"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_12","text":"border-style\uff08\u8fb9\u6846\u98ce\u683c\uff09 \u5b9a\u4e49\u8fb9\u6846\u7684\u98ce\u683c\uff0c\u503c\u53ef\u4ee5\u6709 /* none\uff1a\u6ca1\u6709\u8fb9\u6846\uff0c\u5f53border\u7684\u503c\u4e3anone\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u5c06\u4f1a\u5ffd\u7565[border-color] hidden\uff1a\u9690\u85cf\u8fb9\u6846\uff0c\u4f4e\u7248\u672c\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u3002 dotted\uff1a\u70b9\u72b6\u8fb9\u6846\u3002 dashed\uff1a\u865a\u7ebf\u8fb9\u6846\u3002 solid\uff1a\u5b9e\u7ebf\u8fb9\u6846\u3002 double\uff1a\u53cc\u5b9e\u7ebf\u8fb9\u6846\uff0c\u4e24\u6761\u5355\u7ebf\u4e0e\u5176\u95f4\u9694\u7684\u548c\u7b49\u4e8eborder-width\u503c\u3002 */ border-style\u7684\u503c\u53ef\u4ee5\u7f29\u5199\u7684\uff1a /* \u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u8fb9\u6846\u98ce\u683c\u3002 \u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u8fb9\u6846\u98ce\u683c\u3002 \u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u8fb9\u6846\u98ce\u683c\u3002 \u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u8fb9\u6846\u98ce\u683c\u3002 */ border-style\u8fd8\u53ef\u4ee5\u5355\u72ec\u6307\u5b9a\u4e0d\u540c\u65b9\u5411\uff1a /* border-top-style \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u8fb9\u6846\u98ce\u683c border-bottom-style \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u8fb9\u6846\u98ce\u683c border-left-style \u8bbe\u7f6e\u5de6\u8fb9\u7684\u8fb9\u6846\u98ce\u683c border-right-style \u8bbe\u7f6e\u53f3\u8fb9\u7684\u8fb9\u6846\u98ce\u683c */ border-width\uff08\u8fb9\u6846\u5bbd\u5ea6\uff09 \u4f7f\u7528border-width\u53ef\u4ee5\u5b9a\u4e49\u8fb9\u6846\u7684\u539a\u5ea6\uff0c\u503c\u53ef\u4ee5\u662fmedium\uff0cthin\uff0cthick\u548c\u6307\u5b9a\u6570\u503c\u7684\u5bbd\u5ea6\u3002 \u540c\u65f6\uff0cborder-width\u4e5f\u53ef\u4ee5\u8fdb\u884c\u7f29\u5199\uff1a /* \u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 \u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 \u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 \u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u8fb9\u6846\u5bbd\u5ea6\u3002 */ border-width\u4e5f\u53ef\u4ee5\u5355\u72ec\u6307\u5b9a\u4e0d\u540c\u65b9\u5411\uff1a /* border-top-width \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 border-bottom-width \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 border-left-width \u8bbe\u7f6e\u5de6\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 border-right-width \u8bbe\u7f6e\u53f3\u8fb9\u7684\u8fb9\u6846\u5bbd\u5ea6 */ border-color\uff08\u8fb9\u6846\u989c\u8272\uff09 \u5b9a\u4e49\u8fb9\u6846\u7684\u989c\u8272\uff0c\u503c\u8868\u793a\u7684\u65b9\u5f0f\u53ef\u4ee5\u662f\u5341\u516d\u8fdb\u5236\uff0cRGB\u5341\u8fdb\u5236\u548c\u5355\u8bcd\u8868\u793a\u6cd5\u3002 \u540c\u4e0a\uff0cborder-color\u7684\u7f29\u5199\uff1a /* \u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u8fb9\u6846\u989c\u8272\u3002 \u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u8fb9\u6846\u989c\u8272\u3002 \u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u8fb9\u6846\u989c\u8272\u3002 \u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u8fb9\u6846\u989c\u8272\u3002 */ border-color\u4e5f\u53ef\u4ee5\u5355\u72ec\u6307\u5b9a\u4e0d\u540c\u65b9\u5411\uff1a /* border-top-color \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u8fb9\u6846\u989c\u8272 border-bottom-color \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u8fb9\u6846\u989c\u8272 border-left-color \u8bbe\u7f6e\u5de6\u8fb9\u7684\u8fb9\u6846\u989c\u8272 border-right-color \u8bbe\u7f6e\u53f3\u8fb9\u7684\u8fb9\u6846\u989c\u8272 */ \u8fb9\u6846\u6837\u5f0f\u7f29\u5199 \u8fd8\u53ef\u4ee5\u628a\u8fb9\u6846\u98ce\u683c\uff0c\u8fb9\u6846\u5bbd\u5ea6\uff0c\u8fb9\u6846\u989c\u8272\u8fdb\u884c\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u8fdb\u884c\u7f29\u5199\uff1a\u8bed\u6cd5\uff1a // border: \u8fb9\u6846\u5bbd\u5ea6 \u8fb9\u6846\u6837\u5f0f \u8fb9\u6846\u989c\u8272; \u6ce8\u610f\uff0cborder\u7684\u7f29\u5199\u503c\u53ef\u4ee5\u4e0d\u6309\u7167\u987a\u5e8f\u6765\u8fdb\u884c\u4e66\u5199\u3002\u8fd9\u6837\u7684\u7f29\u5199\u53ef\u4ee5\u540c\u65f6\u63a7\u52364\u4e2a\u65b9\u5411\u7684\u8fb9\u6846\u6837\u5f0f\u3002","title":"\u8fb9\u6846\u5c5e\u6027"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_13","text":"CSS\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5217\u8868\u5c5e\u6027\u53ef\u4ee5\u7528\u6765\uff1a \u200b (1)\u3001\u8bbe\u7f6e\u4e0d\u540c\u7684\u5217\u8868\u9879\u6807\u8bb0\u4e3a\u6709\u5e8f\u5217\u8868 \u200b (2)\u3001\u8bbe\u7f6e\u4e0d\u540c\u7684\u5217\u8868\u9879\u6807\u8bb0\u4e3a\u65e0\u5e8f\u5217\u8868 \u200b (3)\u3001\u8bbe\u7f6e\u5217\u8868\u9879\u6807\u8bb0\u4e3a\u56fe\u50cf list-style-type\uff08\u7cfb\u7edf\u63d0\u4f9b\u7684\u5217\u8868\u9879\u76ee\u7b26\u53f7\uff09 list-style-image\uff08\u81ea\u5b9a\u4e49\u7684\u5217\u8868\u9879\u76ee\u7b26\u53f7\uff09 li { list-style-image:url('qq.gif'); }","title":"\u5217\u8868\u5c5e\u6027"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#dispaly","text":"display\u53ef\u4ee5\u6307\u5b9a\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\uff0c\u5b83\u53ef\u4ee5\u628a\u884c\u5185\u5143\u7d20\u4fee\u6539\u6210\u5757\u72b6\u5143\u7d20\uff0c\u4e5f\u53ef\u4ee5\u628a\u522b\u7684\u6a21\u5f0f\u7684\u5143\u7d20\u6539\u6210\u884c\u5185\u5143\u7d20\u3002diisplay\u5e38\u7528\u7684\u503c\u6709\u56db\u4e2a\u3002 \u8bed\u6cd5\uff1a /* display: block; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u5757\u72b6\u5143\u7d20 display: inline; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u884c\u5185\u5143\u7d20 display: inline-block; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u884c\u5185\u5757\u72b6\u5143\u7d20 display: none; // \u58f0\u660e\u5f53\u524d\u5143\u7d20\u7684\u663e\u793a\u6a21\u5f0f\u4e3a\u9690\u85cf */","title":"dispaly\u5c5e\u6027"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_14","text":"\u76d2\u6a21\u578b\u662fCSS\u7684\u6838\u5fc3\u77e5\u8bc6\u70b9\u4e4b\u4e00\uff0c\u5b83\u6307\u5b9a\u5143\u7d20\u5982\u4f55\u663e\u793a\u4ee5\u53ca\u5982\u4f55\u76f8\u4e92\u4ea4\u4e92\u3002HTML\u9875\u9762\u4e0a\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u53ef\u4ee5\u770b\u6210\u4e00\u4e2a\u4e2a\u65b9\u76d2\u5b50\uff0c\u8fd9\u4e9b\u76d2\u5b50\u7531\u5143\u7d20\u7684content\uff08\u5185\u5bb9\uff09\u3001padding\uff08\u5185\u8fb9\u8ddd\uff09\u3001border\uff08\u8fb9\u6846\uff09\u3001margin\uff08\u5916\u8fb9\u8ddd\uff09\u7ec4\u6210\u3002 padding\uff08\u5185\u8fb9\u8ddd\u53ca\u5176\u7f29\u5199\uff09 \u5185\u8fb9\u8ddd\uff0c\u4e5f\u53eb\u201c\u5185\u8865\u767d\u201d\uff0c\u8868\u793a\u9875\u9762\u4e2d\u5143\u7d20\u7684\u8fb9\u6846\u4e0e\u5185\u5bb9\u7684\u8ddd\u79bb\u3002\u5185\u8fb9\u8ddd\u7684\u503c\u4e0d\u80fd\u662f\u8d1f\u503c\uff0c\u76f8\u5f53\u4e8etable\u6807\u7b7e\u7684cellpadding\u5c5e\u6027\u3002 \u5185\u8fb9\u8ddd\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u503c\uff1a /* \u5f53padding\u53ea\u6709\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u540c\u65f6\u63a7\u5236\u4e0a\u4e0b\u5de6\u53f3\u7684\u5185\u8fb9\u8ddd\u3002 \u5f53padding\u53ea\u6709\u4e24\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u4e0b\u3001\u5de6\u53f3\u7684\u5185\u8fb9\u8ddd\u3002 \u5f53padding\u6709\u4e09\u4e2a\u503c\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u5de6\u53f3\u3001\u4e0b\u7684\u5185\u8fb9\u8ddd\u3002 \u5f53padding\u6709\u56db\u4e2a\u53ea\u7684\u65f6\u5019\u8868\u793a\u5206\u522b\u63a7\u5236\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\u7684\u5185\u8fb9\u8ddd\u3002 */ \u5185\u8fb9\u8ddd\u4e5f\u53ef\u4ee5\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\uff1a /* padding-top \u8bbe\u7f6e\u4e0a\u8fb9\u7684\u5916\u8fb9\u8ddd padding -bottom \u8bbe\u7f6e\u4e0b\u8fb9\u7684\u5916\u8fb9\u8ddd padding -left \u8bbe\u7f6e\u5de6\u8fb9\u7684\u5916\u8fb9\u8ddd padding -right \u8bbe\u7f6e\u53f3\u8fb9\u7684\u5916\u8fb9\u8ddd */ margin\uff08\u5916\u8fb9\u8ddd\u53ca\u5176\u7f29\u5199\uff09 \u5916\u8fb9\u8ddd\uff0c\u4e5f\u53eb\u201c\u5916\u8865\u767d\u201d\uff0c\u8868\u793a\u9875\u9762\u4e2d\u5143\u7d20\u4e0e\u5143\u7d20\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u5916\u8fb9\u8ddd\u8d8a\u5927\uff0c\u4e24\u8005\u7684\u8ddd\u79bb\u5c31\u8d8a\u8fdc\uff0c\u53cd\u4e4b\uff0c\u5982\u679c\u5916\u8fb9\u8ddd\u8d8a\u5c0f\uff0c\u5219\u5143\u7d20\u4e4b\u95f4\u7684\u8ddd\u79bb\u5c31\u8d8a\u8fd1\uff0c\u5916\u8fb9\u8ddd\u7684\u503c\u53ef\u4ee5\u662f\u6b63\u6570\uff0c\u4e5f\u53ef\u4ee5\u662f\u8d1f\u503c\u3002 margin\u4e5f\u53ef\u4ee5\u50cfpadding\u4e00\u6837\u8bbe\u7f6e\u591a\u4e2a\u503c\u548c\u5355\u72ec\u65b9\u5411\u8bbe\u7f6e\uff0c\u7528\u6cd5\u4e00\u6837\u3002 1\u3001\u5728\u7f51\u9875\u7684\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u8ba9\u4e00\u4e2a\u5143\u7d20\u76f8\u5bf9\u4e8e\u7236\u7ea7\u5143\u7d20\u4f5c\u6c34\u5e73\u5c45\u4e2d\u65f6\uff0c\u53ef\u4ee5\u501f\u52a9margin\u7684\u7279\u6027\u6765\u5b9e\u73b0\u3002 \u200b \u4f7f\u7528margin\u8ba9\u5143\u7d20\u81ea\u8eab\u5c45\u4e2d\uff1a margin: 0 auto; 2\u3001\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u8fb9\u8ddd\u6e05\u96f6 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> .c1{ width: 100%; height: 600px; border: 1px solid red; } .c2{ width: 50%; height: 40px; background-color: rebeccapurple; margin: 10px auto; } </style> </head> <body> <div class=\"c1\"> <div class=\"c2\"></div> <div class=\"c2\"></div> </div> </body> </html> \u8fb9\u8ddd\u6848\u4f8b\uff1a <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <meta charset=\"utf8\"> <style> *{ margin: 0; padding: 0; } .c1{ width: 80%; margin: 100px auto; } .c1 .J_categoryList{ list-style: none; } .c1 .J_categoryList li{ display: inline-block; margin: 10px; } .c1 .J_categoryList li a{ font-size: 16px; color: #333; padding: 20px; border: 1px solid rebeccapurple; text-decoration: none; } </style> </head> <body> <div class=\"c1\"> <ul class=\"J_categoryList\"> <li><a href=\"\"><span>\u7ea2\u7c73</span></a></li> <li><a href=\"\"><span>\u7535\u89c6</span></a></li> <li><a href=\"\"><span>\u7b14\u8bb0\u672c</span></a></li> <li><a href=\"\"><span>\u5bb6\u7535</span></a></li> <li><a href=\"\"><span>\u5c0f\u7c73\u624b\u673a</span></a></li> </ul> </div> </body> </html>","title":"\u76d2\u5b50\u6a21\u578b\uff08\u91cd\u70b9\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#float","text":"\u6d41\u52a8\u5e03\u5c40 \u6d41\u52a8\u6a21\u578b\uff08Flow\uff09\uff0c\u5373\u6587\u6863\u6d41\uff0c\u6d4f\u89c8\u5668\u6253\u5f00HTML\u7f51\u9875\u65f6\uff0c\u4ece\u4e0a\u5f80\u4e0b\uff0c\u4ece\u5de6\u5f80\u53f3\uff0c\u9010\u4e00\u52a0\u8f7d\u3002 \u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cHTML\u5143\u7d20\u90fd\u4f1a\u6839\u636e\u6587\u6863\u6d41\u6765\u5206\u5e03\u7f51\u9875\u5185\u5bb9\u7684\u3002 \u6587\u6863\u6d41\u67092\u5927\u7279\u5f81\uff1a \u2460 \u5757\u72b6\u5143\u7d20\u4f1a\u968f\u7740\u6d4f\u89c8\u5668\u8bfb\u53d6\u6587\u6863\u7684\u987a\u5e8f\uff0c\u81ea\u4e0a\u800c\u4e0b\u5782\u76f4\u5206\u5e03\uff0c\u4e00\u884c\u4e00\u4e2a\u7684\u5f62\u5f0f\u5360\u636e\u9875\u9762\u4f4d\u7f6e\u3002 \u2461 \u884c\u5185\u5143\u7d20\u4f1a\u968f\u7740\u6d4f\u89c8\u5668\u533a\u961f\u6587\u6863\u7684\u987a\u5e8f\uff0c\u4ece\u5de6\u5f80\u53f3\u6c34\u5e73\u5206\u5e03\uff0c\u4e00\u884c\u591a\u4e2a\u7684\u5f62\u5f0f\u5360\u636e\u9875\u9762\u4f4d\u7f6e\u3002\u884c\u5185\u5143\u7d20\u6446\u653e\u6ee1\u4e00\u884c\u4ee5\u540e\u624d\u4f1a\u5230\u4e0b\u4e00\u884c\u7ee7\u7eed\u6392\u5217\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title></title> <style> div{ border: 1px solid #f00; margin: 4px; } .d3{ width: 100px; } </style> </head> <body> <div>d1</div> <div>d2</div> <div class=\"d3\"> <span>span1</span> <a>a1</a> <a>a2</a> <span>span2</span> </div> </body> </html> \u6d6e\u52a8\u6a21\u578b \u8981\u5b66\u4e60\u6d6e\u52a8\u6a21\u578b\u7684\u5e03\u5c40\u6a21\u5f0f\uff0c\u5c31\u8981\u4e86\u89e3CSS\u63d0\u4f9b\u7684\u6d6e\u52a8\u5c5e\u6027\uff08float\uff09\u3002\u6d6e\u52a8\u5c5e\u6027\u662f\u7f51\u9875\u5e03\u5c40\u4e2d\u6700\u5e38\u7528\u7684\u5c5e\u6027\u4e4b\u4e00\uff0c\u901a\u8fc7\u6d6e\u52a8\u5c5e\u6027\u4e0d\u4f46\u53ef\u4ee5\u5f88\u597d\u7684\u5b9e\u73b0\u9875\u9762\u5e03\u5c40\uff0c\u800c\u4e14\u8fd8\u53ef\u4ee5\u4f9d\u9760\u5b83\u6765\u5236\u4f5c\u5bfc\u822a\u680f\u7b49\u9875\u9762\u529f\u80fd\u3002 \u7b80\u5355\u6d6e\u52a8\uff1a <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u7b80\u5355\u6d6e\u52a8</title> <style> .c1{ width: 200px; height: 200px; background-color: indianred; float: left; } .c2{ width: 300px; height: 200px; background-color: orange; float: left; } .c3{ width: 400px; height: 200px; background-color: lightblue; float: left; } </style> </head> <body> <div class=\"c1\"></div> <div class=\"c2\"></div> <div class=\"c3\"></div> </body> </html> \u5b57\u56f4\u6548\u679c <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u5b57\u56f4\u6548\u679c</title> <style> .c1{ width: 200px; height: 200px; background-color: indianred; } .c2{ width: 300px; height: 200px; background-color: orange; float: left; } .c3{ width: 400px; height: 400px; background-color: lightblue; } </style> </head> <body> <div class=\"c1\">111</div> <div class=\"c2\">222</div> <div class=\"c3\">333</div>> </body> </html> \u6848\u4f8b\uff1a <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u5b57\u56f4\u6848\u4f8b</title> <meta charset=\"utf8\"> <style> .c1{ width: 500px; } img{ float: left; width: 300px; height: 200px; } </style> </head> <body> <div class=\"c1\"> <img src=\"\" alt=\"\"> <span class=\"text\"> </span> </div> </body> </html> \u5f53\u4e00\u4e2a\u5143\u7d20\u88ab\u8bbe\u7f6e\u6d6e\u52a8\u540e\uff0c\u5c06\u5177\u6709\u4ee5\u4e0b\u7279\u6027\uff1a \u4efb\u4f55\u7533\u660e\u4e3afloat \u7684\u5143\u7d20\u90fd\u4f1a\u81ea\u52a8\u88ab\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u884c\u5185\u5757\u72b6\u5143\u7d20\uff0c\u5177\u6709\u884c\u5185\u5757\u72b6\u5143\u7d20\u7684\u7279\u6027\u3002 \u5047\u5982\u67d0\u4e2a\u5143\u7d20A\u662f\u6d6e\u52a8\u7684\uff0c\u5982\u679cA\u5143\u7d20\u4e0a\u4e00\u4e2a\u5143\u7d20\u4e5f\u662f\u6d6e\u52a8\u7684\uff0c\u90a3\u4e48A\u5143\u7d20\u4f1a\u8ddf\u968f\u5728\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u540e\u8fb9(\u5982\u679c\u4e00\u884c\u653e\u4e0d\u4e0b\u8fd9\u4e24\u4e2a\u5143\u7d20\uff0c\u90a3\u4e48A\u5143\u7d20\u4f1a\u88ab\u6324\u5230\u4e0b\u4e00\u884c)\uff1b\u5982\u679cA\u5143\u7d20\u4e0a\u4e00\u4e2a\u5143\u7d20\u662f\u6807\u51c6\u6d41\u4e2d\u7684\u5143\u7d20\uff0c\u90a3\u4e48A\u7684\u76f8\u5bf9\u5782\u76f4\u4f4d\u7f6e\u4e0d\u4f1a\u6539\u53d8\uff0c\u4e5f\u5c31\u662f\u8bf4A\u7684\u9876\u90e8\u603b\u662f\u548c\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u5e95\u90e8\u5bf9\u9f50\u3002 \u5728\u6807\u51c6\u6d4f\u89c8\u5668\u4e2d\u5982\u679c\u6d6e\u52a8\u5143\u7d20a\u8131\u79bb\u4e86\u6587\u6863\u6d41\uff0c\u90a3\u4e48\u6392\u5728\u6d6e\u52a8\u5143\u7d20a\u540e\u7684\u5143\u7d20\u5c06\u4f1a\u5f80\u56de\u6392\u5217\u5360\u636e\u6d6e\u52a8\u5143\u7d20a\u672c\u6765\u6240\u5904\u7684\u4f4d\u7f6e\uff0c\u4f7f\u9875\u9762\u5e03\u5c40\u4ea7\u751f\u53d8\u5316\u3002 \u5982\u679c\u6c34\u5e73\u65b9\u5411\u4e0a\u6ca1\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u5bb9\u7eb3\u6d6e\u52a8\u5143\u7d20\uff0c\u5219\u8f6c\u5411\u4e0b\u4e00\u884c\u3002 \u5b57\u56f4\u6548\u679c\uff1a\u6587\u5b57\u5185\u5bb9\u4f1a\u56f4\u7ed5\u5728\u6d6e\u52a8\u5143\u7d20\u5468\u56f4\u3002 \u6d6e\u52a8\u5143\u7d20\u53ea\u80fd\u6d6e\u52a8\u81f3\u5de6\u4fa7\u6216\u8005\u53f3\u4fa7\u3002 \u6d6e\u52a8\u5143\u7d20\u53ea\u80fd\u5f71\u54cd\u6392\u5728\u5176\u540e\u9762\u5143\u7d20\u7684\u5e03\u5c40\uff0c\u5374\u65e0\u6cd5\u5f71\u54cd\u51fa\u73b0\u5728\u6d6e\u52a8\u5143\u7d20\u4e4b\u524d\u7684\u5143\u7d20\u3002 \u6e05\u9664\u6d6e\u52a8 \u7f51\u9875\u5e03\u5c40\u4e2d\uff0c\u6700\u5e38\u7528\u7684\u5e03\u5c40\u4fbf\u662f\u6d6e\u52a8\u6a21\u578b\u3002\u4f46\u662f\u6d6e\u52a8\u4e86\u4ee5\u540e\u5c31\u4f1a\u7834\u574f\u539f\u6709\u7684\u6587\u6863\u6d41\uff0c\u4f7f\u9875\u9762\u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u6539\u52a8\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u5728\u6d6e\u52a8\u4e86\u4ee5\u540e\uff0c\u8fbe\u5230\u76ee\u7684\u4e86\uff0c\u5c31\u7d27\u63a5\u7740\u6e05\u9664\u6d6e\u52a8\u3002 \u5728\u4e3b\u6d41\u6d4f\u89c8\u5668\uff08\u5982Firefox\uff09\u4e0b\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u7f6eheight\uff0c\u5143\u7d20\u7684\u9ad8\u5ea6\u9ed8\u8ba4\u4e3aauto\uff0c\u4e14\u5176\u5185\u5bb9\u4e2d\u6709\u6d6e\u52a8\u5143\u7d20\u65f6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5143\u7d20\u7684\u9ad8\u5ea6\u4e0d\u80fd\u81ea\u52a8\u4f38\u957f\u4ee5\u9002\u5e94\u5185\u5bb9\u7684\u9ad8\u5ea6\uff0c\u4f7f\u5f97\u5185\u5bb9\u6ea2\u51fa\u5230\u5bb9\u5668\u5916\u9762\u800c\u5f71\u54cd\uff08\u751a\u81f3\u7834\u574f\uff09\u5e03\u5c40\u7684\u60c5\u51b5\uff0c\u53eb\u201c\u6d6e\u52a8\u6ea2\u51fa\u201d\uff0c\u4e3a\u4e86\u9632\u6b62\u8fd9\u4e2a\u73b0\u8c61\u7684\u51fa\u73b0\u800c\u8fdb\u884c\u7684CSS\u5904\u7406\u64cd\u4f5c\uff0cCSS\u91cc\u9762\u53eb\u201c\u6e05\u9664\u6d6e\u52a8\u201d\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title></title> <meta charset=\"utf8\"> <style> .box{ border: 1px solid red; } .c1{ width: 200px; height: 200px; background-color: #336699; float: left; } .c2{ width: 200px; height: 200px; background-color: orange; float: right; } .footer{ width: 100%; height: 60px; background-color: yellowgreen; } </style> </head> <body> <div class=\"box\"> <div class=\"c1\"></div> <div class=\"c2\"></div> </div> <div class=\"footer\"></div> </body> </html> clear\u662fcss\u4e2d\u4e13\u7528\u4e8e\u6e05\u9664\u6d6e\u52a8\u7684\uff0c\u5e38\u7528\u7684\u5c5e\u6027\u503c\u6709\u4ee5\u4e0b\u51e0\u4e2a\uff1a \u503c \u63cf\u8ff0 left \u5728\u5de6\u4fa7\u4e0d\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u3002 right \u5728\u53f3\u4fa7\u4e0d\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u3002 both \u5728\u5de6\u53f3\u4e24\u4fa7\u5747\u4e0d\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u3002 none \u9ed8\u8ba4\u503c\u3002\u5141\u8bb8\u6d6e\u52a8\u5143\u7d20\u51fa\u73b0\u5728\u4e24\u4fa7\u3002 <!DOCTYPE HTML> <html lang=\"en-US\"> <head> <title>\u7b80\u5355\u6d6e\u52a8</title> <style> .c1{ width: 200px; height: 200px; background-color: indianred; float: left; /*float: right;*/ } .c2{ width: 300px; height: 200px; background-color: orange; float: left; clear: left; /*clear: both;*/ } .c3{ width: 400px; height: 200px; background-color: lightblue; float: left; } </style> </head> <body> <div class=\"c1\"></div> <div class=\"c2\"></div> <div class=\"c3\"></div> </body> </html> \u6e05\u9664\u6d6e\u52a8\u89e3\u51b3\u7236\u7ea7\u584c\u9677\u95ee\u9898\uff1a .clearfix:after { /*\u5728\u7c7b\u540d\u4e3a\u201cclearfix\u201d\u7684\u5143\u7d20\u5185\u6700\u540e\u9762\u52a0\u5165\u5185\u5bb9*/ content: \".\"; /*\u5185\u5bb9\u4e3a\u201c.\u201d\u5c31\u662f\u4e00\u4e2a\u82f1\u6587\u7684\u53e5\u53f7\u800c\u5df2\u3002\u4e5f\u53ef\u4ee5\u4e0d\u5199\u3002*/ display: block; /*\u52a0\u5165\u7684\u8fd9\u4e2a\u5143\u7d20\u8f6c\u6362\u4e3a\u5757\u7ea7\u5143\u7d20\u3002*/ clear: both; /*\u6e05\u9664\u5de6\u53f3\u4e24\u8fb9\u6d6e\u52a8\u3002*/ visibility: hidden; /*\u53ef\u89c1\u5ea6\u8bbe\u4e3a\u9690\u85cf\u3002\u6ce8\u610f\u5b83\u548cdisplay:none;\u662f\u6709\u533a\u522b\u7684\u3002*/ /* visibility:hidden;\u4ecd\u7136\u5360\u636e\u7a7a\u95f4\uff0c\u53ea\u662f\u770b\u4e0d\u5230\u800c\u5df2\uff1b*/ line-height: 0; /*\u884c\u9ad8\u4e3a0\uff1b*/ height: 0; /*\u9ad8\u5ea6\u4e3a0\uff1b*/ font-size:0; /*\u5b57\u4f53\u5927\u5c0f\u4e3a0\uff1b*/ } \u6574\u6bb5\u4ee3\u7801\u5c31\u76f8\u5f53\u4e8e\u5728\u6d6e\u52a8\u5143\u7d20\u540e\u9762\u8ddf\u4e86\u4e2a\u5bbd\u9ad8\u4e3a0\u7684\u7a7adiv\uff0c\u7136\u540e\u8bbe\u5b9a\u5b83clear:both\u6765\u8fbe\u5230\u6e05\u9664\u6d6e\u52a8\u7684\u6548\u679c\u3002 \u4e4b\u6240\u4ee5\u7528\u5b83\uff0c\u662f\u56e0\u4e3a\uff0c\u4f60\u4e0d\u5fc5\u5728html\u6587\u4ef6\u4e2d\u5199\u5165\u5927\u91cf\u65e0\u610f\u4e49\u7684\u7a7a\u6807\u7b7e\uff0c\u53c8\u80fd\u6e05\u9664\u6d6e\u52a8\u3002 <div class=\"head clearfix\"></div> \u6b64\u5916\uff0c\u8fd8\u7ed9\u7236\u5143\u7d20\u52a0\u4e0a\u6ea2\u51fa\u9690\u85cf\u5c5e\u6027\uff08overflow: hidden;\uff09\u6765\u8fdb\u884c\u6e05\u9664\u6d6e\u52a8\u3002","title":"float\u5c5e\u6027\uff08\u91cd\u70b9\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#23javascript","text":"\u4e00\u95e8\u5f31\u7c7b\u578b\u7684\u7f16\u7a0b\u8bed\u8a00,\u5c5e\u4e8e\u57fa\u4e8e\u5bf9\u8c61\u548c\u57fa\u4e8e\u539f\u578b\u7684\u811a\u672c\u8bed\u8a00. 1 \u76f4\u63a5\u7f16\u5199 <script> console.log('hello yuan') </script> 2 \u5bfc\u5165\u6587\u4ef6 <script src=\"hello.js\"></script>","title":"2.3\u3001JavaScript\u57fa\u7840"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_3","text":"// \u53d8\u91cf // \u6570\u636e\u7c7b\u578b // \u8fd0\u7b97\u7b26 // \u6d41\u7a0b\u63a7\u5236\u8bed\u53e5 // \u51fd\u6570 // \uff081\uff09\u53d8\u91cf\u58f0\u660e\u8d4b\u503c var x = 10; // \u5982\u679c\u4e0d\u5199var\u5219\u662f\u5168\u5c40\u53d8\u91cf // \uff082\uff09\u6570\u636e\u7c7b\u578b var age = 10 var name = \"yuan\" var isMarried = false var names = [\"rain\",\"eric\",\"yuan\"] var info = {name:\"yuan\",age:18,isMarried:false} var info2 = { \"name\": \"yuan\", \"age\":22, \"sex\": true, \"son\": { \"name\":\"alex\", \"age\": 38 }, \"hobby\": [\"\u7bee\u7403\",\"\u5531\",\"\u8df3\"] } // \uff083\uff09\u8fd0\u7b97\u7b26 + - * / ++ += > < <=. >=. ===. !== && || ! // \uff084\uff09\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5 // \u5206\u652f\u8bed\u53e5 if(\u6761\u4ef6){ // \u6761\u4ef6\u4e3atrue\u65f6,\u6267\u884c\u7684\u4ee3\u7801 }else{ // \u6761\u4ef6\u4e3afalse\u65f6,\u6267\u884c\u7684\u4ee3\u7801 } switch(\u6761\u4ef6){ case \u7ed3\u679c1: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c1\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; case \u7ed3\u679c2: // \u6ee1\u8db3\u6761\u4ef6\u6267\u884c\u7684\u7ed3\u679c\u662f\u7ed3\u679c2\u65f6,\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801.. break; ... default: // \u6761\u4ef6\u548c\u4e0a\u8ff0\u6240\u6709\u7ed3\u679c\u90fd\u4e0d\u76f8\u7b49\u65f6,\u5219\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \u5faa\u73af\u8bed\u53e5 while(\u5faa\u73af\u7684\u6761\u4ef6){ // \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \u5faa\u73af\u4e09\u8981\u7d20 for(1.\u58f0\u660e\u5faa\u73af\u7684\u5f00\u59cb; 2.\u6761\u4ef6; 4. \u5faa\u73af\u7684\u8ba1\u6570){ // 3. \u5faa\u73af\u6761\u4ef6\u4e3atrue\u7684\u65f6\u5019,\u4f1a\u6267\u884c\u8fd9\u91cc\u7684\u4ee3\u7801 } // \uff085\uff09\u51fd\u6570 function add(x,y){ return x + y } add()","title":"\u30101\u3011\u57fa\u672c\u8bed\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_1","text":"// (1) \u5b57\u7b26\u4e32\u5185\u7f6e\u65b9\u6cd5 var str = \"hello world\"; console.log( str.length ); str.toUpperCase() str.toLowerCase() str.slice(3,6); str.split(\" \"); str.trim(); // (2) \u6570\u7ec4\u5185\u7f6e\u65b9\u6cd5 var arr = [1,2,3,4,5]; arr.push(6); // \u7ed9\u6570\u7ec4\u540e\u9762\u8ffd\u52a0\u6210\u5458 arr.pop(); // \u5220\u9664\u6700\u540e\u4e00\u4e2a\u6210\u5458\u4f5c\u4e3a\u8fd4\u56de\u503c arr.shift() // shift\u662f\u5c06\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5220\u9664 arr.unshift(0) // unshift\u662f\u5c06value\u503c\u63d2\u5165\u5230\u6570\u7ec4\u7684\u5f00\u59cb var arr = [\"a\",\"b\",\"c\"]; arr.splice(1,1); arr.splice(1,0,\"b\") arr.splice(1,1,\"B\") arr.reverse(); // slice(\u5f00\u59cb\u4e0b\u6807,\u7ed3\u675f\u4e0b\u6807) \u5207\u7247,\u5f00\u533a\u95f4 arr.slice(1,3) // filter() \u9ad8\u9636\u51fd\u6570, \u5bf9\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u6210\u5458\u8fdb\u884c\u8fc7\u6ee4,\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c var arr = [4, 6, 5, 7]; function func(num) { // \u4e5f\u53ef\u4ee5\u4f7f\u7528\u533f\u540d\u51fd\u6570\u6216\u8005\u7bad\u5934\u51fd\u6570 if (num % 2 === 0) { return num; } } var ret = arr.filter(func); // \u6240\u6709\u7684\u51fd\u6570\u540d\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u5230\u53e6\u4e00\u4e2a\u51fd\u6570\u4e2d\u88ab\u6267\u884c console.log(ret); // map() \u5bf9\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u6210\u5458\u8fdb\u884c\u5904\u7406,\u8fd4\u56de\u5904\u7406\u540e\u7684\u6bcf\u4e00\u4e2a\u6210\u5458 var arr = [1, 2, 3, 4, 5]; var ret = arr.map((num) => { return num ** 3; }); console.log(ret); // [1, 8, 27, 64, 125] \u5e8f\u5217\u5316\uff1a \u65b9\u6cd5 \u63cf\u8ff0 JSON.stringify(obj) \u628aobj\u5bf9\u8c61\u8f6c\u6362\u6210json\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u4f1a\u79fb\u9664\u5bf9\u8c61\u65b9\u6cd5 JSON.parse(str) \u628a\u7b26\u5408json\u8bed\u6cd5\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u6210js\u5bf9\u8c61","title":"\u30102\u3011\u6570\u636e\u7c7b\u578b\u5185\u7f6e\u65b9\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3dom","text":"DOM \uff08document Object Model\uff1a \u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09 // \u6574\u4e2ahtml\u6587\u6863,\u4f1a\u4fdd\u5b58\u4e00\u4e2a\u6587\u6863\u5bf9\u8c61document // console.log( document ); // \u83b7\u53d6\u5f53\u524d\u6587\u6863\u7684\u5bf9\u8c61","title":"\u30103\u3011DOM\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_15","text":"\u76f4\u63a5\u67e5\u627e\u6807\u7b7e document.getElementsByTagName(\"\u6807\u7b7e\u540d\") document.getElementById(\"id\u503c\") document.getElementsByClassName(\"\u7c7b\u540d\") 1\u3001\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662fdom\u5bf9\u8c61\u8fd8\u662f\u6570\u7ec4 2\u3001document\u5bf9\u8c61\u53ef\u4ee5\u662f\u4efb\u610fdom\u5bf9\u8c61\uff0c\u5c06\u67e5\u8be2\u8303\u56f4\u9650\u5236\u5728\u5f53\u524ddom\u5bf9\u8c61 \u5bfc\u822a\u67e5\u627e\u6807\u7b7e elementNode.parentElement // \u7236\u8282\u70b9\u6807\u7b7e\u5143\u7d20 elementNode.children // \u6240\u6709\u5b50\u6807\u7b7e elementNode.firstElementChild // \u7b2c\u4e00\u4e2a\u5b50\u6807\u7b7e\u5143\u7d20 elementNode.lastElementChild // \u6700\u540e\u4e00\u4e2a\u5b50\u6807\u7b7e\u5143\u7d20 elementNode.nextElementSibling // \u4e0b\u4e00\u4e2a\u5144\u5f1f\u6807\u7b7e\u5143\u7d20 elementNode.previousElementSibling // \u4e0a\u4e00\u4e2a\u5144\u5f1f\u6807\u7b7e\u5143\u7d20 CSS\u9009\u62e9\u5668\u67e5\u627e document.querySelector(\"css\u9009\u62e9\u5668\") //\u6839\u636ecss\u9009\u62e9\u7b26\u6765\u83b7\u53d6\u67e5\u627e\u5230\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u6807\u7b7e\u5bf9\u8c61\uff08dom\u5bf9\u8c61\uff09 document.querySelectorAll(\"css\u9009\u62e9\u5668\"); // \u6839\u636ecss\u9009\u62e9\u7b26\u6765\u83b7\u53d6\u67e5\u627e\u5230\u7684\u6240\u6709\u5143\u7d20,\u8fd4\u56de\u6570\u7ec4 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <div id=\"i1\">DIV1</div> <div class=\"c1\">DIV</div> <div class=\"c1\">DIV</div> <div class=\"c1\">DIV</div> <div class=\"outer\"> <div class=\"c1\">item</div> </div> <div class=\"c2\"> <div class=\"c3\"> <ul class=\"c4\"> <li class=\"c5\" id=\"i2\">111</li> <li>222</li> <li>333</li> </ul> </div> </div> <script> // \u76f4\u63a5\u67e5\u627e var ele = document.getElementById(\"i1\"); // ele\u5c31\u662f\u4e00\u4e2adom\u5bf9\u8c61 console.log(ele); var eles = document.getElementsByClassName(\"c1\"); // eles\u662f\u4e00\u4e2a\u6570\u7ec4 [dom1,dom2,...] console.log(eles); var eles2 = document.getElementsByTagName(\"div\"); // eles2\u662f\u4e00\u4e2a\u6570\u7ec4 [dom1,dom2,...] console.log(eles2); var outer = document.getElementsByClassName(\"outer\")[0]; var te = outer.getElementsByClassName(\"c1\"); console.log(te); // \u5bfc\u822a\u67e5\u627e var c5 = document.getElementsByClassName(\"c5\")[0]; console.log(c5); // c5\u662f\u4e00\u4e2aDOM\u5bf9\u8c61 console.log(c5.parentElement.lastElementChild); // \u8fd4\u56de\u503c\u662fdom\u5bf9\u8c61 console.log(c5.parentElement.children); // \u8fd4\u56de\u503c\u662fdom\u5bf9\u8c61\u6570\u7ec4 console.log(c5.nextElementSibling.nextElementSibling); console.log(c5.parentElement.children); // css\u9009\u62e9\u5668 var dom = document.querySelector(\".c2 .c3 .c5\"); console.log(\":::\",dom); var doms = document.querySelectorAll(\"ul li\"); console.log(\":::\",doms); </script> </body> </html>","title":"\u67e5\u627e\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_16","text":"\u9759\u6001\u7ed1\u5b9a \uff1a\u76f4\u63a5\u628a\u4e8b\u4ef6\u5199\u5728\u6807\u7b7e\u5143\u7d20\u4e2d <div id=\"div\" onclick=\"foo(this)\">click</div> <script> function foo(self){ // \u5f62\u53c2\u4e0d\u80fd\u662fthis; console.log(\"foo\u51fd\u6570\"); console.log(self); } </script> \u52a8\u6001\u7ed1\u5b9a\uff1a\u5728js\u4e2d\u901a\u8fc7\u4ee3\u7801\u83b7\u53d6\u5143\u7d20\u5bf9\u8c61,\u7136\u540e\u7ed9\u8fd9\u4e2a\u5bf9\u8c61\u8fdb\u884c\u540e\u7eed\u7ed1\u5b9a <p id=\"i1\">\u8bd5\u4e00\u8bd5!</p> <script> var ele=document.getElementById(\"i1\"); ele.onclick=function(){ console.log(\"ok\"); console.log(this); // this\u76f4\u63a5\u7528 }; </script> \u4e00\u4e2a\u5143\u7d20\u672c\u8eab\u53ef\u4ee5\u7ed1\u5b9a\u591a\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6, \u4f46\u662f\u5982\u679c\u591a\u6b21\u7ed1\u5b9a\u540c\u4e00\u4e2a\u4e8b\u4ef6,\u5219\u540e\u9762\u7684\u4e8b\u4ef6\u4ee3\u7801\u4f1a\u8986\u76d6\u524d\u9762\u7684\u4e8b\u4ef6\u4ee3\u7801 \u591a\u4e2a\u6807\u7b7e\u7ed1\u5b9a\u4e8b\u4ef6 <ul> <li>111</li> <li>222</li> <li>333</li> <li>444</li> <li>555</li> </ul> <script> var eles = document.querySelectorAll(\"ul li\"); for(var i=0;i<eles.length;i++){ eles[i].onclick = function (){ console.log(this.innerHTML) } } </script>","title":"\u7ed1\u5b9a\u4e8b\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_17","text":"<\u6807\u7b7e\u540d \u5c5e\u60271=\u201c\u5c5e\u6027\u503c1\u201d \u5c5e\u60272=\u201c\u5c5e\u6027\u503c2\u201d\u2026\u2026>\u6587\u672c</\u6807\u7b7e\u540d> \u6587\u672c\u64cd\u4f5c <div class=\"c1\"><span>click</span></div> <script> var ele =document.querySelector(\".c1\"); ele.ondblclick = function (){ // \u67e5\u770b\u6807\u7b7e\u6587\u672c console.log(this.innerHTML) // \u8bbe\u7f6e\u6807\u7b7e\u6587\u672c this.innerHTML = \"<a href='#'>yuan</a>\" } </script> value\u64cd\u4f5c \u50cfinput\u6807\u7b7e\uff0cselect\u6807\u7b7e\u4ee5\u53catextarea\u6807\u7b7e\u662f\u6ca1\u6709\u6587\u672c\u7684\uff0c\u4f46\u662f\u663e\u793a\u5185\u5bb9\u7531value\u5c5e\u6027\u51b3\u5b9a <input type=\"text\" id=\"i1\" value=\"yuan\"> <script> // input\u6807\u7b7e var ele1 =document.getElementById(\"i1\"); console.log(ele1.value); ele1.onmouseover = function (){ this.value = \"alvin\" } </script> css\u6837\u5f0f\u64cd\u4f5c <p id=\"i1\">Hello world!</p> <script> var ele = document.getElementById(\"i1\"); ele.onclick = function (){ this.style.color = \"red\" } </script> \u5c5e\u6027\u64cd\u4f5c elementNode.setAttribute(\"\u5c5e\u6027\u540d\",\"\u5c5e\u6027\u503c\") elementNode.getAttribute(\"\u5c5e\u6027\u540d\") elementNode.removeAttribute(\"\u5c5e\u6027\u540d\"); \u5e76\u4e0d\u662f\u6240\u6709\u5c5e\u6027\u90fd\u53ef\u4ee5\u50cfvalue\u90a3\u6837\u64cd\u4f5c\u3002 class\u5c5e\u6027\u64cd\u4f5c elementNode.className elementNode.classList.add elementNode.classList.remove \u6848\u4f8b\uff1atab\u5207\u6362 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <style> *{ margin: 0; padding: 0; } .tab{ width: 800px; height: 300px; /*border: 1px solid red;*/ margin: 200px auto; } .tab ul{ list-style: none; } .tab-title{ background-color: #f7f7f7; border: 1px solid #eee; border-bottom: 1px solid #e4393c; } .tab .tab-title li{ display: inline-block; padding: 10px 25px; font-size: 14px; } li.current { background-color: #e4393c; color: #fff; cursor: default; } .hide{ display: none; } </style> </head> <body> <div class=\"tab\"> <ul class=\"tab-title\"> <li class=\"current\" index=\"0\">\u5546\u54c1\u4ecb\u7ecd</li> <li class=\"\" index=\"1\">\u89c4\u683c\u4e0e\u5305\u88c5</li> <li class=\"\" index=\"2\">\u552e\u540e\u4fdd\u969c</li> <li class=\"\" index=\"3\">\u5546\u54c1\u8bc4\u4ef7</li> </ul> <ul class=\"tab-content\"> <li>\u5546\u54c1\u4ecb\u7ecd...</li> <li class=\"hide\">\u89c4\u683c\u4e0e\u5305\u88c5...</li> <li class=\"hide\">\u552e\u540e\u4fdd\u969c...</li> <li class=\"hide\">\u5546\u54c1\u8bc4\u4ef7...</li> </ul> </div> <script> var titles = document.querySelectorAll(\".tab-title li\"); var contents = document.querySelectorAll(\".tab-content li\"); for (var i = 0;i<titles.length;i++){ titles[i].onclick = function () { // (1) \u89e6\u53d1\u4e8b\u4ef6\u6807\u7b7e\u62e5\u6709current\u6837\u5f0f for (var j = 0;j<titles.length;j++){ titles[j].classList.remove(\"current\") } console.log(this); this.classList.add(\"current\"); // (2) \u663e\u793a\u70b9\u51fbtitle\u5bf9\u5e94\u7684\u8be6\u60c5\u5185\u5bb9 var index = this.getAttribute(\"index\"); // console.log(this.getAttribute(\"index\")); // console.log(contents[index]); for (var z = 0;z<contents.length;z++){ contents[z].classList.add(\"hide\"); } contents[index].classList.remove(\"hide\"); } } </script> </body> </html>","title":"\u64cd\u4f5c\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4jquery","text":"jQuery\u662f\u4e00\u4e2a\u5feb\u901f\u3001\u7b80\u6d01\u7684JavaScript\u6846\u67b6\uff0c\u662f\u7ee7Prototype\u4e4b\u540e\u53c8\u4e00\u4e2a\u4f18\u79c0\u7684JavaScript\u4ee3\u7801\u5e93\uff08 \u6216JavaScript\u6846\u67b6 \uff09\u3002jQuery\u8bbe\u8ba1\u7684\u5b97\u65e8\u662f\u201cwrite Less\uff0cDo More\u201d\uff0c\u5373\u5021\u5bfc\u5199\u66f4\u5c11\u7684\u4ee3\u7801\uff0c\u505a\u66f4\u591a\u7684\u4e8b\u60c5\u3002\u5b83\u5c01\u88c5JavaScript\u5e38\u7528\u7684\u529f\u80fd\u4ee3\u7801\uff0c\u63d0\u4f9b\u4e00\u79cd\u7b80\u4fbf\u7684JavaScript\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4f18\u5316HTML\u6587\u6863\u64cd\u4f5c\u3001\u4e8b\u4ef6\u5904\u7406\u3001\u52a8\u753b\u8bbe\u8ba1\u548cAjax\u4ea4\u4e92\u3002 jQuery\u7684\u6838\u5fc3\u7279\u6027\u53ef\u4ee5\u603b\u7ed3\u4e3a\uff1a\u5177\u6709\u72ec\u7279\u7684\u94fe\u5f0f\u8bed\u6cd5\u548c\u77ed\u5c0f\u6e05\u6670\u7684\u591a\u529f\u80fd\u63a5\u53e3\uff1b\u5177\u6709\u9ad8\u6548\u7075\u6d3b\u7684css\u9009\u62e9\u5668\uff0c\u5e76\u4e14\u53ef\u5bf9CSS\u9009\u62e9\u5668\u8fdb\u884c\u6269\u5c55\uff1b\u62e5\u6709\u4fbf\u6377\u7684\u63d2\u4ef6\u6269\u5c55\u673a\u5236\u548c\u4e30\u5bcc\u7684\u63d2\u4ef6\u3002jQuery\u517c\u5bb9\u5404\u79cd\u4e3b\u6d41\u6d4f\u89c8\u5668\uff0c\u5982IE 6.0+\u3001FF 1.5+\u3001Safari 2.0+\u3001Opera 9.0+\u7b49 \u76ee\u524d\u5728\u5e02\u573a\u4e0a, 1.x , 2.x, 3.x \u529f\u80fd\u7684\u5b8c\u5584\u57281.x, 2.x\u7684\u65f6\u5019\u662f\u5c5e\u4e8e\u5220\u9664\u65e7\u4ee3\u7801,\u53bb\u9664\u5bf9\u4e8e\u65e7\u7684\u6d4f\u89c8\u5668\u517c\u5bb9\u4ee3\u7801\u30023.x\u7684\u65f6\u5019\u589e\u52a0es\u7684\u65b0\u7279\u6027\u4ee5\u53ca\u8c03\u6574\u6838\u5fc3\u4ee3\u7801\u7684\u7ed3\u6784 \u6839\u672c\u4e0ajquery\u5c31\u662f\u4e00\u4e2a\u5199\u597d\u7684js\u6587\u4ef6,\u6240\u4ee5\u60f3\u8981\u4f7f\u7528jQuery\u7684\u8bed\u6cd5\u5fc5\u987b\u5148\u5f15\u5165\u5230\u672c\u5730 <script src=\"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js\"></script>","title":"\u30104\u3011jQuery"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_18","text":"/* \u57fa\u672c\u9009\u62e9\u5668 : $(\"#id\") $(\".class\") $(\"element\") $(\".class,p,div\") \u540e\u4ee3\u9009\u62e9\u5668\uff1a $(\".outer div\") \u7b5b\u9009\u5668\uff1a $().first() $().last() $().eq() \u5bfc\u822a\u67e5\u627e\uff1a $(\"div\").children(\".test\") $(\"div\").find(\".test\") // \u5411\u4e0b\u67e5\u627e\u5144\u5f1f\u6807\u7b7e $(\".test\").next() // \u67e5\u627e\u6240\u6709\u5144\u5f1f\u6807\u7b7e $(\"div\").siblings() // \u67e5\u627e\u7236\u6807\u7b7e\uff1a $(\".test\").parent() */","title":"\u67e5\u627e\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_19","text":"1. on \u548c off // \u7ed1\u5b9a\u4e8b\u4ef6 $().on(\"\u4e8b\u4ef6\u540d\",\u533f\u540d\u51fd\u6570) // \u89e3\u7ed1\u4e8b\u4ef6,\u7ed9\u6307\u5b9a\u5143\u7d20\u89e3\u9664\u4e8b\u4ef6\u7684\u7ed1\u5b9a $().off(\"\u4e8b\u4ef6\u540d\") 2. \u76f4\u63a5\u901a\u8fc7\u4e8b\u4ef6\u540d\u6765\u8fdb\u884c\u8c03\u7528 $().\u4e8b\u4ef6\u540d(\u533f\u540d\u51fd\u6570)","title":"\u7ed1\u5b9a\u4e8b\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_20","text":"\u6587\u672c\u64cd\u4f5c $(\"\u9009\u62e9\u7b26\").html() // \u8bfb\u53d6\u6307\u5b9a\u5143\u7d20\u7684\u5185\u5bb9,\u5982\u679c$()\u51fd\u6570\u83b7\u53d6\u4e86\u6709\u591a\u4e2a\u5143\u7d20,\u63d0\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20 $(\"\u9009\u62e9\u7b26\").html(\u5185\u5bb9) // \u4fee\u6539\u5185\u5bb9,\u5982\u679c$()\u51fd\u6570\u83b7\u53d6\u4e86\u591a\u4e2a\u5143\u7d20, \u5219\u6279\u91cf\u4fee\u6539\u5185\u5bb9 value\u64cd\u4f5c $().val() \u5c5e\u6027\u64cd\u4f5c //\u8bfb\u53d6\u5c5e\u6027\u503c $(\"\u9009\u62e9\u7b26\").attr(\"\u5c5e\u6027\u540d\"); // \u83b7\u53d6\u975e\u8868\u5355\u5143\u7d20\u7684\u5c5e\u6027\u503c,\u53ea\u4f1a\u63d0\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u5c5e\u6027\u503c //\u64cd\u4f5c\u5c5e\u6027 $(\"\u9009\u62e9\u7b26\").attr(\"\u5c5e\u6027\u540d\",\"\u5c5e\u6027\u503c\"); // \u4fee\u6539\u975e\u8868\u5355\u5143\u7d20\u7684\u5c5e\u6027\u503c,\u5982\u679c\u5143\u7d20\u6709\u591a\u4e2a,\u5219\u5168\u90e8\u4fee\u6539 css\u6837\u5f0f\u64cd\u4f5c \u83b7\u53d6\u6837\u5f0f $().css(\"\u6837\u5f0f\u5c5e\u6027\"); // \u83b7\u53d6\u5143\u7d20\u7684\u6307\u5b9a\u6837\u5f0f\u5c5e\u6027\u7684\u503c,\u5982\u679c\u6709\u591a\u4e2a\u5143\u7d20,\u53ea\u5f97\u5230\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u503c \u64cd\u4f5c\u6837\u5f0f $().css(\"\u6837\u5f0f\u5c5e\u6027\",\"\u6837\u5f0f\u503c\").css(\"\u6837\u5f0f\u5c5e\u6027\",\"\u6837\u5f0f\u503c\"); $().css({\"\u6837\u5f0f\u5c5e\u60271\":\"\u6837\u5f0f\u503c1\",\"\u6837\u5f0f\u5c5e\u60272\":\"\u6837\u5f0f\u503c2\",....}) class \u5c5e\u6027\u64cd\u4f5c $().addClass(\"class1 class2 ... ...\") // \u7ed9\u83b7\u53d6\u5230\u7684\u6240\u6709\u5143\u7d20\u6dfb\u52a0\u6307\u5b9aclass\u6837\u5f0f $().removeClass() // \u7ed9\u83b7\u53d6\u5230\u7684\u6240\u6709\u5143\u7d20\u5220\u9664\u6307\u5b9aclass\u6837\u5f0f $().toggleClass() // \u7ed9\u83b7\u53d6\u5230\u7684\u6240\u6709\u5143\u7d20\u8fdb\u884c\u5224\u65ad,\u5982\u679c\u62e5\u6709\u6307\u5b9aclass\u6837\u5f0f\u7684\u5219\u5220\u9664,\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u6837\u5f0f\u5219\u6dfb\u52a0 \u8282\u70b9\u64cd\u4f5c $(\"\").append(content|fn) // $(\"p\").append(\"<b>Hello</b>\");","title":"\u64cd\u4f5c\u6807\u7b7e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5ajax","text":"# \u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u7684\u65b9\u5f0f\uff1a 1. \u5730\u5740\u680f\u8bf7\u6c42\u3002get 2. a\u6807\u7b7e\u3002get 3. form\u8868\u5355 get post \u540c\u6b65\uff0c\u9875\u9762\u5237\u65b0 4. ajax\u8bf7\u6c42 \u5f02\u6b65, \u5c40\u90e8\u5237\u65b0 Ajax\uff0c\u4e00\u822c\u4e2d\u6587\u79f0\u4e4b\u4e3a\uff1a\"\u963f\u8d3e\u514b\u65af\"\uff0c\u662f\u82f1\u6587 \u201cAsync Javascript And Xml\u201d\u7684\u7b80\u5199\uff0c\u8bd1\u4f5c\uff1a\u5f02\u6b65js\u548cxml\u4f20\u8f93\u6570\u636e\u6280\u672f\u3002 ajax\u7684\u4f5c\u7528\uff1a ajax\u53ef\u4ee5\u8ba9js\u4ee3\u66ff\u6d4f\u89c8\u5668\u5411\u540e\u7aef\u7a0b\u5e8f\u53d1\u9001 http \u8bf7\u6c42\uff0c\u4e0e\u540e\u7aef\u901a\u4fe1\uff0c\u5728\u7528\u6237\u4e0d\u77e5\u9053\u7684\u60c5\u51b5\u4e0b\u64cd\u4f5c\u6570\u636e\u548c\u4fe1\u606f\uff0c\u4ece\u800c\u5b9e\u73b0\u9875\u9762\u5c40\u90e8\u5237\u65b0\u6570\u636e/\u65e0\u5237\u65b0\u66f4\u65b0\u6570\u636e\u3002 \u6240\u4ee5\u5f00\u53d1\u4e2dajax\u662f\u5f88\u5e38\u7528\u7684\u6280\u672f\uff0c\u4e3b\u8981\u7528\u4e8e\u64cd\u4f5c\u540e\u7aef\u63d0\u4f9b\u7684 \u6570\u636e\u63a5\u53e3 \uff0c\u4ece\u800c\u5b9e\u73b0\u7f51\u7ad9\u7684 \u524d\u540e\u7aef\u5206\u79bb \u3002 ajax\u6280\u672f\u7684\u539f\u7406\u662f\u5b9e\u4f8b\u5316js\u7684XMLHttpRequest\u5bf9\u8c61\uff0c\u4f7f\u7528\u6b64\u5bf9\u8c61\u63d0\u4f9b\u7684\u5185\u7f6e\u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e0e\u540e\u7aef\u8fdb\u884c\u6570\u636e\u901a\u4fe1\u3002","title":"\u30105\u3011Ajax\u8bf7\u6c42"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_21","text":"\u6570\u636e\u63a5\u53e3\uff0c\u4e5f\u53ebapi\u63a5\u53e3\uff0c\u8868\u793a \u540e\u7aef\u63d0\u4f9b \u64cd\u4f5c\u6570\u636e/\u529f\u80fd\u7684url\u5730\u5740\u7ed9\u5ba2\u6237\u7aef\u4f7f\u7528\u3002 \u5ba2\u6237\u7aef\u901a\u8fc7\u53d1\u8d77\u8bf7\u6c42\u5411\u670d\u52a1\u7aef\u63d0\u4f9b\u7684url\u5730\u5740\u7533\u8bf7\u64cd\u4f5c\u6570\u636e\u3010\u64cd\u4f5c\u4e00\u822c\uff1a\u589e\u5220\u67e5\u6539\u3011 \u540c\u65f6\u5728\u5de5\u4f5c\u4e2d\uff0c\u5927\u90e8\u5206\u6570\u636e\u63a5\u53e3\u90fd\u4e0d\u662f\u624b\u5199\uff0c\u800c\u662f\u901a\u8fc7\u51fd\u6570\u5e93/\u6846\u67b6\u6765\u751f\u6210\u3002","title":"\u6570\u636e\u63a5\u53e3"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_22","text":"\u5728\u5f00\u53d1Web\u5e94\u7528\u4e2d\uff0c\u6709\u4e24\u79cd\u5e94\u7528\u6a21\u5f0f\uff1a \u524d\u540e\u7aef\u4e0d\u5206\u79bb \u524d\u540e\u7aef\u5206\u79bb","title":"\u524d\u540e\u7aef\u5206\u79bb"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#ajax","text":"ajax\u7684\u4f7f\u7528\u5fc5\u987b\u4e0e\u670d\u52a1\u7aef\u7a0b\u5e8f\u914d\u5408\u4f7f\u7528\uff0c\u4f46\u662f\u5f00\u53d1\u4e2d\u6211\u4eec\u5bf9\u4e8eajax\u8bf7\u6c42\u7684\u6570\u636e\uff0c\u4e0d\u4ec5\u4ec5\u53ef\u4ee5\u662f\u81ea\u5df1\u5199\u7684\u670d\u52a1\u7aef\u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u662f\u522b\u4eba\u5199\u597d\u7684\u6570\u636e\u63a5\u53e3\u8fdb\u884c\u8c03\u7528\u3002 \u6570\u636e\u63a5\u53e3\uff1a # \u5929\u6c14\u63a5\u53e3 https://v0.yiketianqi.com/api?unescape=1&version=v91&appid=43656176&appsecret=I42og6Lm&ext=&cityid=&city= # \u97f3\u4e50\u63a5\u53e3 https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg?g_tk=5381&uin=0&format=json&inCharset=utf-8&outCharset=utf-8%C2%ACice=0&platform=h5&needNewCode=1&tpl=3&page=detail&type=top&topid=36&_=1520777874472%E4%BD%9C%E8%80%85%EF%BC%9Atsia%E9%93%BE%E6%8E%A5%EF%BC%9Ahttps://www.jianshu.com/p/67e4bd47d981","title":"ajax\u7684\u4f7f\u7528"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_23","text":"","title":"\u7b2c\u4e09\u7ae0. \u6570\u636e\u89e3\u6790"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#31","text":"Regular Expression\uff0c\u8bd1\u4f5c\u6b63\u5219\u8868\u8fbe\u5f0f\u6216\u6b63\u89c4\u8868\u793a\u6cd5\uff0c\u8868\u793a\u6709\u89c4\u5219\u7684\u8868\u8fbe\u5f0f\uff0c\u610f\u601d\u662f\u8bf4\uff0c\u63cf\u8ff0\u4e00\u6bb5\u6587\u672c\u6392\u5217\u89c4\u5219\u7684\u8868\u8fbe\u5f0f\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u5e76\u4e0d\u662fPython\u7684\u4e00\u90e8\u5206\u3002\u800c\u662f\u4e00\u5957\u72ec\u7acb\u4e8e\u7f16\u7a0b\u8bed\u8a00\uff0c\u7528\u4e8e\u5904\u7406\u590d\u6742\u6587\u672c\u4fe1\u606f\u7684\u5f3a\u5927\u7684\u9ad8\u7ea7\u6587\u672c\u64cd\u4f5c\u5de5\u5177\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u62e5\u6709\u81ea\u5df1\u72ec\u7279\u7684\u89c4\u5219\u8bed\u6cd5\u4ee5\u53ca\u4e00\u4e2a\u72ec\u7acb\u7684\u6b63\u5219\u5904\u7406\u5f15\u64ce\uff0c\u6211\u4eec\u6839\u636e\u6b63\u5219\u8bed\u6cd5\u7f16\u5199\u597d\u89c4\u5219\uff08\u6a21\u5f0f\uff09\u4ee5\u540e\uff0c\u5f15\u64ce\u4e0d\u4ec5\u80fd\u591f\u6839\u636e\u89c4\u5219\u8fdb\u884c\u6a21\u7cca\u6587\u672c\u67e5\u627e\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u884c\u6a21\u7cca\u5206\u5272\uff0c\u66ff\u6362\u7b49\u590d\u6742\u7684\u6587\u672c\u64cd\u4f5c\uff0c\u80fd\u8ba9\u5f00\u53d1\u8005\u968f\u5fc3\u6240\u6b32\u5730\u5904\u7406\u6587\u672c\u4fe1\u606f\u3002\u6b63\u5219\u5f15\u64ce\u4e00\u822c\u7531\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u64cd\u4f5c\uff0c\u50cfpython\u5c31\u63d0\u4f9b\u4e86re\u6a21\u5757\u6216regex\u6a21\u5757\u6765\u8c03\u7528\u6b63\u5219\u5904\u7406\u5f15\u64ce\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u5728\u5904\u7406\u6587\u672c\u7684\u6548\u7387\u4e0a\u4e0d\u5982\u7cfb\u7edf\u81ea\u5e26\u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\uff0c\u4f46\u529f\u80fd\u5374\u6bd4\u7cfb\u7edf\u81ea\u5e26\u7684\u8981\u5f3a\u5927\u8bb8\u591a\u3002 \u6700\u65e9\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u6e90\u4e8ePerl\u8bed\u8a00\uff0c\u540e\u9762\u5176\u4ed6\u7684\u7f16\u7a0b\u8bed\u8a00\u5728\u63d0\u4f9b\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u65f6\u57fa\u672c\u6cbf\u7528\u4e86Perl\u8bed\u8a00\u7684\u6b63\u5219\u8bed\u6cd5\uff0c\u6240\u4ee5\u6211\u4eec\u5b66\u4e60python\u7684\u6b63\u5219\u4ee5\u540e\uff0c\u4e5f\u53ef\u4ee5\u5728java\uff0cphp\uff0cgo\uff0cjavascript\uff0csql\u7b49\u7f16\u7a0b\u8bed\u8a00\u4e2d\u4f7f\u7528\u3002 \u6b63\u5219\u5bf9\u5b57\u7b26\u4e32\u6216\u6587\u672c\u7684\u64cd\u4f5c\uff0c\u65e0\u975e\u662f\u5206\u5272\u3001\u5339\u914d\u3001\u67e5\u627e\u548c\u66ff\u6362\u3002 \u5728\u7ebf\u6d4b\u8bd5\u5de5\u5177 http://tool.chinaz.com/regex/","title":"3.1\u3001\u6b63\u5219\u8868\u8fbe\u5f0f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1metacharacters","text":"\u5143\u5b57\u7b26\u662f\u5177\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5b57\u7b26\u3002 \u5143\u5b57\u7b26 \u63cf\u8ff0 . \u53eb\u901a\u914d\u7b26\u3001\u4e07\u80fd\u901a\u914d\u7b26\u6216\u901a\u914d\u5143\u5b57\u7b26\uff0c\u5339\u914d1\u4e2a\u9664\u4e86\u6362\u884c\u7b26\\n\u4ee5\u5916\u4efb\u4f55\u539f\u5b50 [] \u5339\u914d\u4e00\u4e2a\u4e2d\u62ec\u53f7\u4e2d\u51fa\u73b0\u7684\u4efb\u610f\u539f\u5b50 [^\u539f\u5b50] \u5339\u914d\u4e00\u4e2a\u6ca1\u6709\u5728\u4e2d\u62ec\u53f7\u51fa\u73b0\u7684\u4efb\u610f\u539f\u5b50 + \u53eb\u52a0\u53f7\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u51fa\u73b01\u6b21\u6216\u591a\u6b21 * \u53eb\u661f\u53f7\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u51fa\u73b00\u6b21\u6216\u591a\u6b21 ? \u53eb\u975e\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u51fa\u73b00\u6b21\u62161\u6b21 {n,m} \u53eb\u6570\u91cf\u8303\u56f4\u8d2a\u5a6a\u7b26\uff0c\u6307\u5b9a\u5de6\u8fb9\u539f\u5b50\u7684\u6570\u91cf\u8303\u56f4\uff0c\u6709{n}\uff0c{n, }, {,m}, {n,m}\u56db\u79cd\u5199\u6cd5\uff0c\u5176\u4e2dn\u4e0em\u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002 ^ \u53eb\u5f00\u59cb\u8fb9\u754c\u7b26\u6216\u5f00\u59cb\u951a\u70b9\u7b26\uff0c\u5339\u914d\u4e00\u884c\u7684\u5f00\u5934\u4f4d\u7f6e $ \u53eb\u7ed3\u675f\u8fb9\u754c\u7b26\u6216\u7ed3\u675f\u951a\u70b9\u7b26\uff0c\u5339\u914d\u4e00\u884c\u7684\u7ed3\u675f\u4f4d\u7f6e | \u6307\u5b9a\u539f\u5b50\u6216\u6b63\u5219\u6a21\u5f0f\u8fdb\u884c\u4e8c\u9009\u4e00\u6216\u591a\u9009\u4e00 () \u5bf9\u539f\u5b50\u6216\u6b63\u5219\u6a21\u5f0f\u8fdb\u884c\u6355\u83b7\u63d0\u53d6\u548c\u5206\u7ec4\u5212\u5206\u6574\u4f53\u64cd\u4f5c\uff0c \\ \u8f6c\u4e49\u5b57\u7b26\uff0c\u53ef\u4ee5\u628a\u539f\u5b50\u8f6c\u6362\u7279\u6b8a\u5143\u5b57\u7b26\uff0c\u4e5f\u53ef\u4ee5\u628a\u7279\u6b8a\u5143\u5b57\u7b26\u8f6c\u6210\u539f\u5b50\u3002 import re \"\"\"re.findall(\u6b63\u5219\u6a21\u5f0f, \u6587\u672c) \u57fa\u4e8e\u6b63\u5219\u6a21\u5f0f\u67e5\u627e\u6240\u6709\u5339\u914d\u7684\u6587\u672c\u5185\u5bb9\"\"\" # part1: \u901a\u914d\u7b26->. \u5b57\u7b26\u96c6-> [] ret1 = re.findall(\"a\", \"a,b,c,d,e\") ret1 = re.findall(\".\", \"a,b,c,d,e\") ret1 = re.findall(\"[ace]\", \"a,b,c,d,e\") ret1 = re.findall(\"[a-z]\", \"a,b,c,d,e\") ret1 = re.findall(\"[0-9]\", \"1,2,3,4,5\") ret1 = re.findall(\"\\d\", \"1,2,3,4,5\") ret1 = re.findall(\"[0-9a-z]\", \"1,a,2,b,3\") ret1 = re.findall(\"[^a-z]\", \"1,a,2,b,3\") ret1 = re.findall(\"[^0-9,]\", \"1,a,2,b,3\") print(ret1) # part2:\u91cd\u590d\u5143\u5b57\u7b26-> + * {} ? ret2 = re.findall(\"[0-9a-zA-Z]\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w+\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w+?\", \"apple,banana,orange,melon\") # \u53d6\u6d88\u8d2a\u5a6a\u5339\u914d ret2 = re.findall(\"\\w*\", \"apple,banana,orange,melon\") ret2 = re.findall(\"\\w{6}\", \"apple,banana,orange,melon\") # part3: \u4f4d\u7f6e\u5143\u5b57\u7b26-> ^ $ ret3 = re.findall(\"^\\w{5}\", \"apple,banana,peach,orange,melon\") ret3 = re.findall(\"\\w{5}$\", \"apple,banana,peach,orange,melon\") ret3 = re.findall(\"^\\w{5}$\", \"apple,banana,peach,orange,melon\") print(ret3) # part4: # | \u6307\u5b9a\u539f\u5b50\u6216\u6b63\u5219\u6a21\u5f0f\u8fdb\u884c\u4e8c\u9009\u4e00\u6216\u591a\u9009\u4e00 # () \u5177\u5907\u6a21\u5f0f\u6355\u83b7\u7684\u80fd\u529b\uff0c\u4e5f\u5c31\u662f\u4f18\u5148\u63d0\u53d6\u6570\u636e\u7684\u80fd\u529b\uff0c\u901a\u8fc7(?:) \u53ef\u4ee5\u53d6\u6d88\u6a21\u5f0f\u6355\u83b7 ret4 = re.findall(\",\\w{5},\", \",apple,banana,peach,orange,melon,\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\",(\\w{5}),\", \",apple,banana,peach,orange,melon,\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\"\\w+@\\w+\\.com\", \"123abc@163.com,....234xyz@qq.com,....\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\"(\\w+)@qq\\.com\", \"123abc@163.com,....234xyz@qq.com,....\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd ret4 = re.findall(\"(?:\\w+)@(?:qq|163)\\.com\", \"123abc@163.com,....234xyz@qq.com,....\") # \u7b5b\u9009\u51fa5\u4e2a\u5b57\u7b26\u7684\u5355\u8bcd print(ret4) # part5: \u8f6c\u4e49\u7b26-> \\d \\D \\w \\W \\n \\s \\S \\b \\B \"\"\" \\b 1\u4e2a\u5355\u8bcd\u8fb9\u754c\u539f\u5b50 \"\"\" txt = \"my name is nana. nihao,nana\" ret = re.findall(r\"na\", txt) ret = re.findall(r\"\\bna\", txt) ret = re.findall(r\"\\bna\\w{2}\", txt) print(ret) # ['na', 'na', 'na'] \u8f6c\u4e49\u5143\u5b57\u7b26\u662f \\ \u5f00\u5934\u7684\u5143\u5b57\u7b26\uff0c\u7531\u4e8e\u67d0\u4e9b\u6b63\u5219\u6a21\u5f0f\u4f1a\u5728\u5f00\u53d1\u4e2d\u53cd\u590d\u88ab\u7528\u5230\uff0c\u6240\u4ee5\u6b63\u5219\u8bed\u6cd5\u9884\u5b9a\u4e49\u4e86\u4e00\u4e9b\u7279\u6b8a\u6b63\u5219\u6a21\u5f0f\u4ee5\u65b9\u4fbf\u6211\u4eec\u7b80\u5199\u3002 \u5143\u5b57\u7b26 \u63cf\u8ff0 \u793a\u4f8b \\d \u5339\u914d\u4e00\u4e2a\u6570\u5b57\u539f\u5b50\uff0c\u7b49\u4ef7\u4e8e [0-9] \u3002 \\d \\D \u5339\u914d\u4e00\u4e2a\u975e\u6570\u5b57\u539f\u5b50\u3002\u7b49\u4ef7\u4e8e [^0-9] \u6216 [^\\d] \u3002 \"\\D\" \\b \u5339\u914d\u4e00\u4e2a\u5355\u8bcd\u8fb9\u754c\u539f\u5b50\uff0c\u4e5f\u5c31\u662f\u6307\u5355\u8bcd\u548c\u7a7a\u683c\u95f4\u7684\u4f4d\u7f6e\u3002 er\\b \\B \u5339\u914d\u4e00\u4e2a\u975e\u5355\u8bcd\u8fb9\u754c\u539f\u5b50\uff0c\u7b49\u4ef7\u4e8e [^\\b] r\"\\Bain\"r\"ain\\B\" \\n \u5339\u914d\u4e00\u4e2a\u6362\u884c\u7b26 \\t \u5339\u914d\u4e00\u4e2a\u5236\u8868\u7b26\uff0ctab\u952e \\s \u5339\u914d\u4e00\u4e2a\u4efb\u4f55\u7a7a\u767d\u5b57\u7b26\u539f\u5b50\uff0c\u5305\u62ec\u7a7a\u683c\u3001\u5236\u8868\u7b26\u3001\u6362\u9875\u7b26\u7b49\u7b49\u3002\u7b49\u4ef7\u4e8e [ \\f\\n\\r\\t\\v] \u3002 \"\\s\" \\S \u5339\u914d\u4e00\u4e2a\u4efb\u4f55\u975e\u7a7a\u767d\u5b57\u7b26\u539f\u5b50\u3002\u7b49\u4ef7\u4e8e [^ \\f\\n\\r\\t\\v] \u6216 [^\\s] \u3002 \"\\S\" \\w \u5339\u914d\u4e00\u4e2a\u5305\u62ec\u4e0b\u5212\u7ebf\u7684\u5355\u8bcd\u539f\u5b50\u3002\u7b49\u4ef7\u4e8e [A-Za-z0-9_] \u3002 \"\\w\" \\W \u5339\u914d\u4efb\u4f55\u975e\u5355\u8bcd\u5b57\u7b26\u3002\u7b49\u4ef7\u4e8e [^A-Za-z0-9_] \u6216 [^\\w] \u3002 \"\\W\" \u6ce8\u610f\uff1apython\u672c\u8eab\u6ca1\u6709\u5185\u7f6e\u6b63\u5219\u5904\u7406\u7684\uff0cpython\u4e2d\u7684\u6b63\u5219\u5c31\u662f\u4e00\u6bb5\u5b57\u7b26\u4e32\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528python\u6a21\u5757\u4e2d\u63d0\u4f9b\u7684\u51fd\u6570\u628a\u5b57\u7b26\u4e32\u53d1\u9001\u7ed9\u6b63\u5219\u5f15\u64ce\uff0c\u6b63\u5219\u5f15\u64ce\u4f1a\u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u771f\u6b63\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5904\u7406\u6587\u672c\u5185\u5bb9\u3002","title":"\u30101\u3011\u5143\u5b57\u7b26(Metacharacters)"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2re","text":"re \u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u7ec4\u6b63\u5219\u5904\u7406\u51fd\u6570\uff0c\u4f7f\u6211\u4eec\u53ef\u4ee5\u5728\u5b57\u7b26\u4e32\u4e2d\u641c\u7d22\u5339\u914d\u9879\uff1a \u51fd\u6570 \u63cf\u8ff0 findall \u6309\u6307\u5b9a\u7684\u6b63\u5219\u6a21\u5f0f\u67e5\u627e\u6587\u672c\u4e2d\u6240\u6709\u7b26\u5408\u6b63\u5219\u6a21\u5f0f\u7684\u5339\u914d\u9879\uff0c\u4ee5\u5217\u8868\u683c\u5f0f\u8fd4\u56de\u7ed3\u679c\u3002 search \u5728\u5b57\u7b26\u4e32\u4e2d \u4efb\u4f55\u4f4d\u7f6e \u67e5\u627e\u9996\u4e2a\u7b26\u5408\u6b63\u5219\u6a21\u5f0f\u7684\u5339\u914d\u9879\uff0c\u5b58\u5728\u5219\u8fd4\u56dere.Match\u5bf9\u8c61\uff0c\u4e0d\u5b58\u5728\u8fd4\u56deNone match \u5224\u5b9a\u5b57\u7b26\u4e32 \u5f00\u59cb\u4f4d\u7f6e \u662f\u5426\u5339\u914d\u6b63\u5219\u6a21\u5f0f\u7684\u89c4\u5219\uff0c\u5339\u914d\u5219\u8fd4\u56dere.Match\u5bf9\u8c61\uff0c\u4e0d\u5339\u914d\u8fd4\u56deNone split \u6309\u6307\u5b9a\u7684\u6b63\u5219\u6a21\u5f0f\u6765\u5206\u5272\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u5206\u5272\u540e\u7684\u5217\u8868 sub \u628a\u5b57\u7b26\u4e32\u6309\u6307\u5b9a\u7684\u6b63\u5219\u6a21\u5f0f\u6765\u67e5\u627e\u7b26\u5408\u6b63\u5219\u6a21\u5f0f\u7684\u5339\u914d\u9879\uff0c\u5e76\u53ef\u4ee5\u66ff\u6362\u4e00\u4e2a\u6216\u591a\u4e2a\u5339\u914d\u9879\u6210\u5176\u4ed6\u5185\u5bb9\u3002","title":"\u30102\u3011re\u6a21\u5757\u4e2d\u7684\u5e38\u7528\u51fd\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#findall","text":"def findall(pattern, string, flags=0) findall() \u51fd\u6570\u8fd4\u56de\u5305\u542b\u6240\u6709\u5339\u914d\u9879\u7684\u5217\u8868\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5217\u8868\u3002","title":"findall"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#search","text":"def search(pattern, string, flags=0) search() \u51fd\u6570\u641c\u7d22\u5339\u914d\u7684\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u5339\u914d\u4e0a\u5219\u8fd4\u56de\u5339\u914d\u5bf9\u8c61re.Match\u3002\u5982\u679c\u6709\u591a\u4e2a\u5339\u914d\u9879\uff0c\u5219\u4ec5\u8fd4\u56de\u5339\u914d\u9879\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u503c\u4e3aNone import re ret = re.search(\"1[3-9]\\d{9}\", \"\u6211\u7684\u624b\u673a\u53f7\u7801\u662f13928835900,\u6211\u5973\u670b\u53cb\u7684\u624b\u673a\u53f7\u662f15100363326\") print(ret) print(ret.start(), ret.end(), ret.span()) print(ret.group()) ret = re.search(\"(?P<tel>1[3-9]\\d{9}).*?(?P<email>\\d+@qq.com)\", \"\u6211\u7684\u624b\u673a\u53f7\u7801\u662f13928835900,\u6211\u7684\u90ae\u7bb1\u662f123@qq.com\") print(ret) print(ret.group(\"tel\")) print(ret.group(\"email\"))","title":"search"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#match","text":"def match(pattern, string, flags=0) match() \u51fd\u6570\u641c\u7d22\u5339\u914d\u7684\u5b57\u7b26\u4e32\u5f00\u59cb\u4f4d\u7f6e\uff0c\u5982\u679c\u5339\u914d\u4e0a\u5219\u8fd4\u56de\u5339\u914d\u5bf9\u8c61\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u503c\u4e3aNone","title":"match"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#split","text":"def split(patter, string, maxsplit=0, flags=0) split() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u6b63\u5219\u5206\u5272\u3002 import re txt = \"my name is moluo\" ret = re.split(\"\\s\", txt) print(ret) # ['my', 'name', 'is', 'moluo'] \u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a maxsplit \u53c2\u6570\u6765\u63a7\u5236\u5206\u5272\u7684\u6b21\u6570\uff0c\u4f8b\u5982\uff0c\u4ec5\u5728\u7b2c1\u6b21\u51fa\u73b0\u65f6\u624d\u62c6\u5206\u5b57\u7b26\u4e32\uff1a import re txt = \"my name is yuan\" ret = re.split(\"\\s+\", txt) print(ret)","title":"split"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#subsubn","text":"def sub(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c def subn(pattern, repl, string, count=0, flags=0) \u8fd4\u56de\u5339\u914d\u540e\u7684\u7ed3\u679c\u548c\u6b21\u6570 sub() \u51fd\u6570\u7528\u9009\u62e9\u7684\u6587\u672c\u66ff\u6362\u5339\u914d: import re txt = \"my name is yuan\" # ret = re.sub(\"\\s+\",\" \" ,txt) ret = re.sub(\"\\s+\", \" \", txt, 2) print(ret)","title":"sub\u548csubn"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#compile","text":"def compile(pattern, flags=0) import re re_email = re.compile(r\"(?:\\+86)?1[3-9]\\d{9}\") ret = re_email.findall(\"15100649928,123@qq.com,13653287791,666@163.com\") print(ret) \u5982\u679c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u8981\u4f7f\u7528\u51e0\u5343\u904d\uff0c\u6bcf\u4e00\u6b21\u90fd\u4f1a\u7f16\u8bd1\uff0c\u51fa\u4e8e\u6548\u7387\u7684\u8003\u8651\u8fdb\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7f16\u8bd1\uff0c\u5c31\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u7f16\u8bd1\u4e86\uff0c\u8282\u7701\u4e86\u7f16\u8bd1\u7684\u65f6\u95f4\uff0c\u4ece\u800c\u63d0\u5347\u6548\u7387","title":"compile()"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_3","text":"","title":"\u30104\u3011\u6b63\u5219\u8fdb\u9636"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_24","text":"import re text = '<12> <xyz> <!@#$%> <1a!#e2> <>' ret = re.findall(\"<\\d+>\", text) ret = re.findall(\"<\\w+>\", text) ret = re.findall(\"<.+>\", text) ret = re.findall(\"<.+?>\", text) ret = re.findall(\"<.*?>\", text) print(ret)","title":".*?"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_25","text":"\u6a21\u5f0f\u4fee\u6b63\u7b26\uff0c\u4e5f\u53eb\u6b63\u5219\u4fee\u9970\u7b26\uff0c\u6a21\u5f0f\u4fee\u6b63\u7b26\u5c31\u662f\u7ed9\u6b63\u5219\u6a21\u5f0f\u589e\u5f3a\u6216\u589e\u52a0\u529f\u80fd\u7684\u3002 \u901a\u7528flags\uff08\u4fee\u6b63\u7b26\uff09 \u503c \u8bf4\u660e re.I \u662f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f re.L \u505a\u672c\u5730\u5316\u8bc6\u522b\u5339\u914d re.M \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd\u5230^\u548c$ re.S \u4f7f.\u5339\u914d\u5305\u62ec\u6362\u884c\u7b26\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26 re.U \u6839\u636eUnicode\u5b57\u7b26\u96c6\u89e3\u6790\u5b57\u7b26\uff0c\u5f71\u54cd\\w\u3001\\W\u3001\\b\u3001\\B re.X \u901a\u8fc7\u7ed9\u4e88\u6211\u4eec\u529f\u80fd\u7075\u6d3b\u7684\u683c\u5f0f\u4ee5\u4fbf\u66f4\u597d\u7684\u7406\u89e3\u6b63\u5219\u8868\u8fbe\u5f0f import re text = \"\"\" <12 > <x yz> <!@#$%> <1a!# e2> <> \"\"\" ret = re.findall(\"<.*?>\", text) ret = re.findall(\"<.*?>\", text, re.S) print(ret) \u7ec3\u4e60\uff1a\u8c46\u74e3Top250\u9875\u9762\u89e3\u6790","title":"\u6a21\u5f0f\u4fee\u6b63\u7b26"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_1","text":"\u5de5\u4f5c\u4e2d\uff0c\u6b63\u5219\u4e00\u822c\u7528\u4e8e\u9a8c\u8bc1\u6570\u636e\u3001\u6821\u9a8c\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\u3001\u722c\u866b\u3001\u8fd0\u7ef4\u65e5\u5fd7\u5206\u6790\u7b49\u3002\u5176\u4e2d\u5982\u679c\u662f\u9a8c\u8bc1\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\uff1a \u573a\u666f \u6b63\u5219\u8868\u8fbe\u5f0f \u7528\u6237\u540d ^[a-z0-9_-]{3,16}$ \u5bc6\u7801 ^[a-z0-9_-]{6,18}$ \u624b\u673a\u53f7\u7801 ^(?:\\+86)?1[3-9]\\d{9}$ \u989c\u8272\u7684\u5341\u516d\u8fdb\u5236\u503c ^#?([a-f0-9]{6}|[a-f0-9]{3})$ \u7535\u5b50\u90ae\u7bb1 ^[a-z\\d]+(\\.[a-z\\d]+)*@([\\da-z](-[\\da-z])?)+\\.[a-z]+$ URL ^(?:https:\\/\\/|http:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]+).\\w+$ IP \u5730\u5740 ((2[0-4]\\d|25[0-5]|[01]?\\d\\d?)\\.){3}(2[0-4]\\d|25[0-5]|[01]?\\d\\d?) HTML \u6807\u7b7e ^<([a-z]+)([^<]+)*(?:>(.*)<\\/\\1> utf-8\u7f16\u7801\u4e0b\u7684\u6c49\u5b57\u8303\u56f4 ^[\\u2E80-\\u9FFF]+$ 1\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u6574\u6570\u6216\u8005\u5c0f\u6570\uff08\u5305\u62ec\u6b63\u6570\u548c\u8d1f\u6570\uff09 2\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u5e74\u6708\u65e5\u65e5\u671f \u683c\u5f0f2018-12-31 3\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914dqq\u53f7 5-12 4\u3001\u7f16\u5199\u6b63\u5219\uff0c11\u4f4d\u7684\u7535\u8bdd\u53f7\u7801 5\u3001\u7f16\u5199\u6b63\u5219\uff0c\u957f\u5ea6\u4e3a8-10\u4f4d\u7684\u7528\u6237\u5bc6\u7801 \uff1a \u5305\u542b\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf 6\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece18\u4f4d\u7701\u4efd\u8bc1\u4e2d\u63d0\u53d6\u7528\u6237\u751f\u65e5\u65e5\u671f 7\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece\u6587\u672c\"a@com b@qq.com 333@qq.com 333@168.com 19022@sina.com.cn\"\u4e2d\u5339\u914dqq\u90ae\u7bb1\u5730\u5740 8\u3001\u4ece\u4ee5\u4e0b\u591a\u884c\u6587\u672c\u4e2d\u63d0\u53d6href=\"\"\u4e2d\u7684\u53cc\u5f15\u53f7\u7684\u503c\uff0c\u5e76\u63d0\u53d6\u6807\u7b7e\u5185\u5bb9 <a>\u5185\u5bb9<a> \"\"\" <a href=\"http://www.badu.com/s?wd=hahaha\">hahaha</a> <a href=\"http://www.tmall.com/\">tmall</a> <a href=\"http://www.tmall.com/\">tmall</a> \"\"\" \u8bfe\u5802\u4ee3\u7801 import re \"\"\" 1\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u6587\u672c\u4e2d\u7684\u6574\u6570\u6216\u8005\u5c0f\u6570\uff08\u5305\u62ec\u6b63\u6570\u548c\u8d1f\u6570\uff09 \"\"\" # txt = \"10.3 10 20 -20 +20 --20 ++20 -30.5444\" # # ret = re.findall(r\"-?\\+?\\d+\", txt) # ret = re.findall(r\"[\\+\\-]?(?:(?:\\d+\\.\\d+)|(?:\\d+))\", txt) # print(ret) # # ['10', '3', '10', '20', '-20', '+20', '-20', '+20'] \"\"\" 2\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914d\u5e74\u6708\u65e5\u65e5\u671f \u683c\u5f0f: 2018-12-31 \"\"\" # txt = \"2018-12-31 2018-12-01 2018-12 2018-31 0000-12-31 2018-1-31 2018-01-31 20-01-31 20-01-1 2020-1-1 2020-01-01\" # ret = re.findall(r\"[12]\\d{3}-\\d+-\\d+\", txt) # print(ret) # ['2018-12-31', '2018-12-01', '2018-1-31', '2018-01-31', '2020-1-1', '2020-01-01'] # \"\"\" 3\u3001\u7f16\u5199\u6b63\u5219\uff0c\u5339\u914dqq\u53f7 5-12\u6570\u5b57 \"\"\" # txt = \"20181231 40001 2202020133 13311233220222 20202012024222 222050sss2222 33020202222 2001 202011 2020.0101222\" # ret = re.findall(r\"[1-9]\\d{4,11}\", txt) # print(ret) # ['20181231', '40001', '2202020133', '133112332202', '202020120242', '222050', '33020202222', '202011', '101222'] \"\"\" 4\u3001\u7f16\u5199\u6b63\u5219\uff0c11\u4f4d\u7684\u624b\u673a\u53f7\u7801 \"\"\" # txt = \"1331234546 1501233453 15812345678 158-1234-5678 158 1234 5678 20022221111 10012345678 19012345678\" # ret = re.findall(r\"1[3-9]\\d{9}\", txt) # print(ret) # # # # \u5982\u679c 158-1234-5678 \u548c 158 1234 5678\u4e5f\u7b97\u5462\uff1f # txt = \"1331234546 1501233453 15812345678 158-1234-5678 158 1234 5678 20022221111 10012345678 19012345678\" # ret = re.findall(r\"1[3-9]\\d[\\- ]?\\d{4}[\\- ]?\\d{4}\", txt) # print(ret) # \"\"\" 5\u3001\u7f16\u5199\u6b63\u5219\uff0c\u957f\u5ea6\u4e3a8-10\u4f4d\u7684\u7528\u6237\u5bc6\u7801 \uff1a \u5305\u542b\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf \"\"\" # password = input(\"\u8bf7\u8f93\u5165\u957f\u5ea6\u4e3a8-10\u4f4d\u7684\u7528\u6237\u5bc6\u7801\uff08\u5305\u542b\u6570\u5b57\u5b57\u6bcd\u4e0b\u5212\u7ebf\uff09\uff1a\") # ret = re.match(r\"^\\w{8,10}$\", password) # print(ret) \"\"\" 6\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece18\u4f4d\u7701\u4efd\u8bc1\u4e2d\u63d0\u53d6\u7528\u6237\u751f\u65e5\u65e5\u671f \"\"\" # idCard = \"51142119991021155x\" # ret = re.findall(r\"^[1-6]\\d{5}(\\d{8})\\d{3}[\\dxX]$\", idCard) # # ret = re.findall(r\"^(?:1[1-5]|2[1-3]|3[1-7]|4[1-6]|5[0-4]|6[1-5])\\d{4}(\\d{8})\\d{3}[\\dxX]$\", idCard) # print(ret) \"\"\" 7\u3001\u7f16\u5199\u6b63\u5219\uff0c\u4ece\u6587\u672c\"a@com b@qq.com 333@qq.com 333@168.com 19022@sina.com.cn\"\u4e2d\u5339\u914dqq\u90ae\u7bb1\u5730\u5740 \"\"\" # txt = \"a@com b@qq.com 333@qq.com 333@168.com 19022@sina.com.cn\" # ret = re.findall(r\"\\w+@\\w+\\.\\w+(?:.cn)?\", txt) # print(ret) # ['b@qq.com', '333@qq.com', '333@168.com', '19022@sina.com.cn'] \"\"\" 8\u3001\u4ece\u4ee5\u4e0b\u591a\u884c\u6587\u672c\u4e2d\u63d0\u53d6href=\"\"\u4e2d\u7684\u53cc\u5f15\u53f7\u7684\u503c\uff0c\u5e76\u63d0\u53d6\u6807\u7b7e\u5185\u5bb9 <a>\u5185\u5bb9<a> \"\"\" # txt = \"\"\" # <a href=\"http://www.badu.com/s?wd=hahaha\">hahaha</a> # <a href=\"http://www.tmall.com/\">tmall</a> # <a href=\"http://www.tmall.com/\">tmall</a> # \"\"\" # ret = re.findall(r'<a href=\"(?P<href>.*?)\">(?P<content>.*?)</a>', txt, re.M+re.S) # print(ret)","title":"\u30105\u3011\u7ec3\u4e60"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#32bs4","text":"","title":"3.2\u3001BS4"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_4","text":"\u7b80\u5355\u6765\u8bf4\uff0cBeautiful Soup\u662fpython\u7684\u4e00\u4e2a\u5e93\uff0c\u6700\u4e3b\u8981\u7684\u529f\u80fd\u662f\u4ece\u7f51\u9875\u6293\u53d6\u6570\u636e\u3002\u5b98\u65b9\u89e3\u91ca\u5982\u4e0b\uff1a ''' Beautiful Soup\u63d0\u4f9b\u4e00\u4e9b\u7b80\u5355\u7684\u3001python\u5f0f\u7684\u51fd\u6570\u7528\u6765\u5904\u7406\u5bfc\u822a\u3001\u641c\u7d22\u3001\u4fee\u6539\u5206\u6790\u6811\u7b49\u529f\u80fd\u3002 \u5b83\u662f\u4e00\u4e2a\u5de5\u5177\u7bb1\uff0c\u901a\u8fc7\u89e3\u6790\u6587\u6863\u4e3a\u7528\u6237\u63d0\u4f9b\u9700\u8981\u6293\u53d6\u7684\u6570\u636e\uff0c\u56e0\u4e3a\u7b80\u5355\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u591a\u5c11\u4ee3\u7801\u5c31\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u3002 ''' Beautiful Soup \u662f\u4e00\u4e2a\u53ef\u4ee5\u4eceHTML\u6216XML\u6587\u4ef6\u4e2d\u63d0\u53d6\u6570\u636e\u7684Python\u5e93.\u5b83\u80fd\u591f\u901a\u8fc7\u4f60\u559c\u6b22\u7684\u8f6c\u6362\u5668\u5b9e\u73b0\u60ef\u7528\u7684\u6587\u6863\u5bfc\u822a,\u67e5\u627e,\u4fee\u6539\u6587\u6863\u7684\u65b9\u5f0f.Beautiful Soup\u4f1a\u5e2e\u4f60\u8282\u7701\u6570\u5c0f\u65f6\u751a\u81f3\u6570\u5929\u7684\u5de5\u4f5c\u65f6\u95f4.\u4f60\u53ef\u80fd\u5728\u5bfb\u627e Beautiful Soup3 \u7684\u6587\u6863,Beautiful Soup 3 \u76ee\u524d\u5df2\u7ecf\u505c\u6b62\u5f00\u53d1,\u5b98\u7f51\u63a8\u8350\u5728\u73b0\u5728\u7684\u9879\u76ee\u4e2d\u4f7f\u7528Beautiful Soup 4\u3002 \u5b98\u65b9\u6587\u6863: https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/ # pip install bs4 \u5b89\u88c5 from bs4 import BeautifulSoup Beautiful Soup\u652f\u6301Python\u6807\u51c6\u5e93\u4e2d\u7684HTML\u89e3\u6790\u5668,\u8fd8\u652f\u6301\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684\u89e3\u6790\u5668\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u5b89\u88c5\u5b83\uff0c\u5219 Python \u4f1a\u4f7f\u7528 Python\u9ed8\u8ba4\u7684\u89e3\u6790\u5668\uff0clxml \u89e3\u6790\u5668\u66f4\u52a0\u5f3a\u5927\uff0c\u901f\u5ea6\u66f4\u5feb\uff0c\u63a8\u8350\u5b89\u88c5\u3002 pip3 install lxml \u53e6\u4e00\u4e2a\u53ef\u4f9b\u9009\u62e9\u7684\u89e3\u6790\u5668\u662f\u7eafPython\u5b9e\u73b0\u7684 html5lib , html5lib\u7684\u89e3\u6790\u65b9\u5f0f\u4e0e\u6d4f\u89c8\u5668\u76f8\u540c,\u53ef\u4ee5\u9009\u62e9\u4e0b\u5217\u65b9\u6cd5\u6765\u5b89\u88c5html5lib: pip3 install html5lib \u89e3\u6790\u5668\u5bf9\u6bd4\uff1a \u7b80\u5355\u4f7f\u7528\uff1a \u4ece\u4e00\u4e2a soup \u5bf9\u8c61\u5f00\u59cb\uff0c\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u751f\u6210\u4e00\u4e2asoup\u5bf9\u8c61 from bs4 import BeautifulSoup soup = BeautifulSoup(open(\"index.html\")) ##\u4f20\u5165\u6587\u4ef6 soup = BeautifulSoup(\"<html>data</html>\") ##\u6587\u672c \u6784\u9020soup\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u4f20\u5165\u89e3\u6790\u5668\u53c2\u6570\uff0c\u5982\u679c\u4e0d\u4f20\u5165\u7684\u8bdd\uff0c\u4f1a\u4ee5\u6700\u597d\u7684\u65b9\u5f0f\u53bb\u89e3\u6790 \u4e0b\u9762\u7684\u4e00\u6bb5HTML\u4ee3\u7801\u5c06\u4f5c\u4e3a\u4f8b\u5b50\u88ab\u591a\u6b21\u7528\u5230.\u8fd9\u662f \u7231\u4e3d\u4e1d\u68a6\u6e38\u4ed9\u5883\u7684 \u7684\u4e00\u6bb5\u5185\u5bb9(\u4ee5\u540e\u5185\u5bb9\u4e2d\u7b80\u79f0\u4e3a \u7231\u4e3d\u4e1d \u7684\u6587\u6863): html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" \u4f7f\u7528BeautifulSoup\u89e3\u6790\u8fd9\u6bb5\u4ee3\u7801,\u80fd\u591f\u5f97\u5230\u4e00\u4e2a BeautifulSoup \u7684\u5bf9\u8c61 from bs4 import BeautifulSoup soup = BeautifulSoup(html_doc, 'html.parser') \u4ece\u6587\u6863\u4e2d\u627e\u5230\u6240\u6709 \u6807\u7b7e\u7684\u94fe\u63a5: for link in soup.find_all('a'): print(link.get('href')) \u4ece\u6587\u6863\u4e2d\u83b7\u53d6\u6240\u6709\u6587\u5b57\u5185\u5bb9: print(soup.get_text())","title":"\u30101\u3011\u7b80\u4ecb"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_2","text":"Beautiful Soup\u5c06\u590d\u6742HTML\u6587\u6863\u8f6c\u6362\u6210\u4e00\u4e2a\u590d\u6742\u7684\u6811\u5f62\u7ed3\u6784,\u6bcf\u4e2a\u8282\u70b9\u90fd\u662fPython\u5bf9\u8c61,\u6240\u6709\u5bf9\u8c61\u53ef\u4ee5\u5f52\u7eb3\u4e3a4\u79cd BeautifulSoup \uff0c Tag , NavigableString , Comment tag\u5bf9\u8c61\uff0c\u540c\u7f51\u9875\u4e2d\u7684 \u6807\u7b7e \u7684\u610f\u601d from bs4 import BeautifulSoup html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" # \u4e00\u3001\u67e5\u627etag\u5bf9\u8c61 soup = BeautifulSoup(html_doc, 'html.parser') print(soup.head, type(soup.head)) print(soup.title, type(soup.title)) print(soup.a, type(soup.a)) # \u7b2c\u4e00\u4e2aa\u6807\u7b7e\uff0c\u5982\u679c\u60f3\u83b7\u53d6\u6240\u6709a\u6807\u7b7e\u8981\u7528\u5230soup.find_all('a') print(soup.p.b) # \u4e8c\u3001\u67e5\u627etag\u5bf9\u8c61\u7684\u6807\u7b7e\u540d\u548c\u5c5e\u6027 print(soup.a.name) # a print(soup.p.b.name) # b print(soup.a[\"href\"]) print(soup.a.attrs) ''' \u4e09\u3001 HTML 4\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u503c\u7684\u5c5e\u6027.\u5728HTML5\u4e2d\u79fb\u9664\u4e86\u4e00\u4e9b,\u5374\u589e\u52a0\u66f4\u591a. \u6700\u5e38\u89c1\u7684\u591a\u503c\u7684\u5c5e\u6027\u662f class (\u4e00\u4e2atag\u53ef\u4ee5\u6709\u591a\u4e2aCSS\u7684class). \u8fd8\u6709\u4e00\u4e9b\u5c5e\u6027 rel , rev , accept-charset , headers , accesskey . \u5728Beautiful Soup\u4e2d\u591a\u503c\u5c5e\u6027\u7684\u8fd4\u56de\u7c7b\u578b\u662flist ''' print(soup.a[\"class\"]) # \u8fd4\u56de\u5217\u8868 # \u56db\u3001tag\u7684\u5c5e\u6027\u53ef\u4ee5\u88ab\u6dfb\u52a0,\u5220\u9664\u6216\u4fee\u6539(tag\u7684\u5c5e\u6027\u64cd\u4f5c\u65b9\u6cd5\u4e0e\u5b57\u5178\u4e00\u6837) # soup.a[\"class\"] = [\"sister c1\"] # del soup.a[\"id\"] # print(soup) # \u4e94\u3001\u83b7\u53d6\u6807\u7b7e\u5bf9\u8c61\u7684\u6587\u672c\u5185\u5bb9 print(soup.p.string) # p\u4e0b\u7684\u6587\u672c\u53ea\u6709\u4e00\u4e2a\u65f6\uff0c\u53d6\u5230\uff0c\u5426\u5219\u4e3aNone print(soup.p.strings) # \u62ff\u5230\u4e00\u4e2a\u751f\u6210\u5668\u5bf9\u8c61, \u53d6\u5230p\u4e0b\u6240\u6709\u7684\u6587\u672c\u5185\u5bb9 for i in soup.p.strings: print(i) # \u5982\u679ctag\u5305\u542b\u4e86\u591a\u4e2a\u5b50\u8282\u70b9,tag\u5c31\u65e0\u6cd5\u786e\u5b9a .string \u65b9\u6cd5\u5e94\u8be5\u8c03\u7528\u54ea\u4e2a\u5b50\u8282\u70b9\u7684\u5185\u5bb9, .string \u7684\u8f93\u51fa\u7ed3\u679c\u662f None\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\u90a3\u4e48\u5c31\u8f93\u51fa\u8be5\u5b50\u8282\u70b9\u7684\u6587\u672c\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u8fd9\u79cd\u7ed3\u6784\uff0csoup.p.string \u8fd4\u56de\u4e3aNone,\u4f46soup.p.strings\u5c31\u53ef\u4ee5\u627e\u5230\u6240\u6709\u6587\u672c p2 = soup.find_all(\"p\")[1] print(p2.string) print(p2.strings) for i in p2.strings: print(i) # text \u548c string print(soup.p.string) print(soup.p.text) # \u53d6\u5230p\u4e0b\u6240\u6709\u7684\u6587\u672c\u5185\u5bb9,text\u5c5e\u6027\u66f4\u5e38\u7528\uff0c\u5e76\u4e14\u5b83\u53ef\u4ee5\u76f4\u63a5\u8fc7\u6ee4\u6389\u6ce8\u91ca print(p2.text) \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f1a\u4ea7\u751fComment\u5bf9\u8c61 markup = \"<b><!--Hey, buddy. Want to buy a used parser?--></b>\" soup = BeautifulSoup(markup,\"html.parser\") comment = soup.b.string print(comment) print(type(comment)) \u7ed3\u679c\u4e3a\uff1a Hey, buddy. Want to buy a used parser? <class 'bs4.element.Comment'> \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8fd9\u65f6\u5019.string\u8fd4\u56de\u7684\u5bf9\u8c61\u4e0d\u518d\u662f bs4.element.NavigableString \uff0c\u800c\u662f Comment","title":"\u30102\u3011\u56db\u79cd\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_3","text":"from bs4 import BeautifulSoup html_doc = \"\"\" <html><head><title>The Dormouse's story</title></head> <body> <p class=\"title\"><b>The Dormouse's story</b></p> <p class=\"story\">Once upon a time there were three little sisters; and their names were <a href=\"http://example.com/elsie\" class=\"sister\" id=\"link1\">Elsie</a>, <a href=\"http://example.com/lacie\" class=\"sister\" id=\"link2\">Lacie</a> and <a href=\"http://example.com/tillie\" class=\"sister\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well.</p> <p class=\"story\">...</p> \"\"\" soup = BeautifulSoup(html_doc, 'html.parser') # 1\u3001\u5d4c\u5957\u9009\u62e9 print(soup.head.title.text) print(soup.body.a.text) # 2\u3001\u5b50\u8282\u70b9\u3001\u5b50\u5b59\u8282\u70b9 print(soup.p.contents) # p\u4e0b\u6240\u6709\u5b50\u8282\u70b9 print(soup.p.children) # \u5f97\u5230\u4e00\u4e2a\u8fed\u4ee3\u5668,\u5305\u542bp\u4e0b\u6240\u6709\u5b50\u8282\u70b9 for i, child in enumerate(soup.p.children, 1): print(i, child) print(soup.p.descendants) # \u83b7\u53d6\u5b50\u5b59\u8282\u70b9,p\u4e0b\u6240\u6709\u7684\u6807\u7b7e\u90fd\u4f1a\u9009\u62e9\u51fa\u6765 for i, child in enumerate(soup.p.descendants, 1): print(i, child) for i, child in enumerate(soup.find_all(\"p\")[1].descendants, 1): print(i, child) # 3\u3001\u7236\u8282\u70b9\u3001\u7956\u5148\u8282\u70b9 print(soup.a.parent) # \u83b7\u53d6a\u6807\u7b7e\u7684\u7236\u8282\u70b9 print(soup.a.parent.text) # \u83b7\u53d6a\u6807\u7b7e\u7684\u7236\u8282\u70b9 print(soup.a.parents) # \u627e\u5230a\u6807\u7b7e\u6240\u6709\u7684\u7956\u5148\u8282\u70b9\uff0c\u7236\u4eb2\u7684\u7236\u4eb2\uff0c\u7236\u4eb2\u7684\u7236\u4eb2\u7684\u7236\u4eb2... # 4\u3001\u5144\u5f1f\u8282\u70b9 print(\"===\") print(soup.a.next_sibling) # \u4e0b\u4e00\u4e2a\u5144\u5f1f,\u7c7b\u578b\uff1a<class 'bs4.element.NavigableString'> print(soup.a.next_sibling.next_sibling) print(soup.a.previous_sibling.previous_sibling) print(soup.a.previous_siblings) # \u4e0a\u9762\u7684\u5144\u5f1f\u4eec=>\u751f\u6210\u5668\u5bf9\u8c61","title":"\u30103\u3011\u904d\u5386\u6587\u6863\u6811\uff08\u5bfc\u822a\u6587\u6863\u6811\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_4","text":"recursive \u662f\u5426\u4ece\u5f53\u524d\u4f4d\u7f6e\u9012\u5f52\u5f80\u4e0b\u67e5\u8be2\uff0c\u5982\u679c\u4e0d\u9012\u5f52\uff0c\u53ea\u4f1a\u67e5\u8be2\u5f53\u524d soup \u6587\u6863\u7684\u5b50\u5143\u7d20 string \u8fd9\u91cc\u662f\u901a\u8fc7tag\u7684\u5185\u5bb9\u6765\u641c\u7d22\uff0c\u5e76\u4e14 \u8fd4\u56de\u7684\u662f\u7c7b\u5bb9\uff0c\u800c\u4e0d\u662ftag\u7c7b\u578b\u7684\u5143\u7d20 **kwargs \u81ea\u52a8\u62c6\u5305\u63a5\u53d7\u5c5e\u6027\u503c\uff0c\u6240\u4ee5\u624d\u4f1a\u6709 soup.find_all('a',id='title') \uff0cid='title'\u4e3a **kwargs \u81ea\u52a8\u62c6\u5305\u63ba\u5165 BeautifulSoup\u5b9a\u4e49\u4e86\u5f88\u591a\u641c\u7d22\u65b9\u6cd5,\u8fd9\u91cc\u7740\u91cd\u4ecb\u7ecd2\u4e2a: find() \u548c find_all() .\u5176\u5b83\u65b9\u6cd5\u7684\u53c2\u6570\u548c\u7528\u6cd5\u7c7b\u4f3c \u53c2\u6570\u5217\u8868\u89e3\u8bfb","title":"\u30104\u3011\u641c\u7d22\u6587\u6863\u6811"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1find_all","text":"find_all( name , attrs , recursive , string , **kwargs ) name\u53c2\u6570 soup = BeautifulSoup(html_doc, 'lxml') # \u4e00\u3001 name \u56db\u79cd\u8fc7\u6ee4\u5668: \u5b57\u7b26\u4e32\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u3001\u5217\u8868\u3001\u65b9\u6cd5 # 1\u3001\u5b57\u7b26\u4e32\uff1a\u5373\u6807\u7b7e\u540d print(soup.find_all(name='a')) # 2\u3001\u6b63\u5219\u8868\u8fbe\u5f0f print(soup.find_all(name=re.compile('^b'))) # \u627e\u51fab\u5f00\u5934\u7684\u6807\u7b7e\uff0c\u7ed3\u679c\u6709body\u548cb\u6807\u7b7e # 3\u3001\u5217\u8868\uff1a\u5982\u679c\u4f20\u5165\u5217\u8868\u53c2\u6570,Beautiful Soup\u4f1a\u5c06\u4e0e\u5217\u8868\u4e2d\u4efb\u4e00\u5143\u7d20\u5339\u914d\u7684\u5185\u5bb9\u8fd4\u56de.\u4e0b\u9762\u4ee3\u7801\u627e\u5230\u6587\u6863\u4e2d\u6240\u6709<a>\u6807\u7b7e\u548c<b>\u6807\u7b7e: print(soup.find_all(name=['a', 'b'])) # 4\u3001\u65b9\u6cd5:\u5982\u679c\u6ca1\u6709\u5408\u9002\u8fc7\u6ee4\u5668,\u90a3\u4e48\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u65b9\u6cd5,\u65b9\u6cd5\u53ea\u63a5\u53d7\u4e00\u4e2a\u5143\u7d20\u53c2\u6570 ,\u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de True \u8868\u793a\u5f53\u524d\u5143\u7d20\u5339\u914d\u5e76\u4e14\u88ab\u627e\u5230,\u5982\u679c\u4e0d\u662f\u5219\u53cd\u56de False def has_class_but_no_id(tag): return tag.has_attr('class') and tag.has_attr('id') print(soup.find_all(name=has_class_but_no_id)) keyword \u53c2\u6570 \u5982\u679c\u4e00\u4e2a\u6307\u5b9a\u540d\u5b57\u7684\u53c2\u6570\u4e0d\u662f\u641c\u7d22\u5185\u7f6e\u7684\u53c2\u6570\u540d,\u641c\u7d22\u65f6\u4f1a\u628a\u8be5\u53c2\u6570\u5f53\u4f5c\u6307\u5b9a\u540d\u5b57tag\u7684\u5c5e\u6027\u6765\u641c\u7d22,\u5982\u679c\u5305\u542b\u4e00\u4e2a\u540d\u5b57\u4e3a id \u7684\u53c2\u6570,Beautiful Soup\u4f1a\u641c\u7d22\u6bcf\u4e2atag\u7684\u201did\u201d\u5c5e\u6027. print(soup.find_all(href=\"http://example.com/tillie\")) print(soup.find_all(href=re.compile(\"^http://\"))) print(soup.find_all(id=True)) # \u62e5\u6709id\u5c5e\u6027\u7684tag print(soup.find_all(href=re.compile(\"http://\"), id='link1') # \u591a\u4e2a\u5c5e\u6027 print(soup.find_all(\"a\", class_=\"sister\")) # \u6ce8\u610f\uff0cclass\u662fPython\u7684\u5173\u952e\u5b57\uff0c\u6240\u4ee5class\u5c5e\u6027\u7528class_ print(soup.find_all(\"a\",attrs={\"href\": re.compile(\"^http://\"), \"id\": re.compile(\"^link[12]\")})) # \u901a\u8fc7 find_all() \u65b9\u6cd5\u7684 attrs \u53c2\u6570\u5b9a\u4e49\u4e00\u4e2a\u5b57\u5178\u53c2\u6570\u6765\u641c\u7d22\u5305\u542b\u7279\u6b8a\u5c5e\u6027\u7684tag: data_soup.find_all(attrs={\"data-foo\": \"value\"}) text\u53c2\u6570 import re print(soup.find_all(text=\"Elsie\")) # ['Elsie'] print(soup.find_all(text=[\"Tillie\", \"Elsie\", \"Lacie\"])) # ['Elsie', 'Lacie', 'Tillie'] # \u53ea\u8981\u5305\u542bDormouse\u5c31\u53ef\u4ee5 print(soup.find_all(text=re.compile(\"Dormouse\"))) # [\"The Dormouse's story\", \"The Dormouse's story\"] limit\u53c2\u6570 find_all() \u65b9\u6cd5\u8fd4\u56de\u5168\u90e8\u7684\u641c\u7d22\u7ed3\u6784,\u5982\u679c\u6587\u6863\u6811\u5f88\u5927\u90a3\u4e48\u641c\u7d22\u4f1a\u5f88\u6162.\u5982\u679c\u6211\u4eec\u4e0d\u9700\u8981\u5168\u90e8\u7ed3\u679c,\u53ef\u4ee5\u4f7f\u7528 limit \u53c2\u6570\u9650\u5236\u8fd4\u56de\u7ed3\u679c\u7684\u6570\u91cf.\u6548\u679c\u4e0eSQL\u4e2d\u7684limit\u5173\u952e\u5b57\u7c7b\u4f3c,\u5f53\u641c\u7d22\u5230\u7684\u7ed3\u679c\u6570\u91cf\u8fbe\u5230 limit \u7684\u9650\u5236\u65f6,\u5c31\u505c\u6b62\u641c\u7d22\u8fd4\u56de\u7ed3\u679c. print(soup.find_all(\"a\",limit=2)) recursive \u53c2\u6570 \u8c03\u7528tag\u7684 find_all() \u65b9\u6cd5\u65f6,Beautiful Soup\u4f1a\u68c0\u7d22\u5f53\u524dtag\u7684\u6240\u6709\u5b50\u5b59\u8282\u70b9,\u5982\u679c\u53ea\u60f3\u641c\u7d22tag\u7684\u76f4\u63a5\u5b50\u8282\u70b9,\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570 recursive=False","title":"\uff081\uff09find_all"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2find","text":"find( name , attrs , recursive , string , **kwargs ) find_all() \u65b9\u6cd5\u5c06\u8fd4\u56de\u6587\u6863\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709tag,\u5c3d\u7ba1\u6709\u65f6\u5019\u6211\u4eec\u53ea\u60f3\u5f97\u5230\u4e00\u4e2a\u7ed3\u679c.\u6bd4\u5982\u6587\u6863\u4e2d\u53ea\u6709\u4e00\u4e2a \u6807\u7b7e,\u90a3\u4e48\u4f7f\u7528 find_all() \u65b9\u6cd5\u6765\u67e5\u627e \u6807\u7b7e\u5c31\u4e0d\u592a\u5408\u9002, \u4f7f\u7528 find_all \u65b9\u6cd5\u5e76\u8bbe\u7f6e limit=1 \u53c2\u6570\u4e0d\u5982\u76f4\u63a5\u4f7f\u7528 find() \u65b9\u6cd5.\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\u662f\u7b49\u4ef7\u7684: soup.find_all('title', limit=1) # [<title>The Dormouse's story</title>] soup.find('title') # <title>The Dormouse's story</title> \u552f\u4e00\u7684\u533a\u522b\u662f find_all() \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u503c\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u7684\u5217\u8868,\u800c find() \u65b9\u6cd5\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c. find_all() \u65b9\u6cd5\u6ca1\u6709\u627e\u5230\u76ee\u6807\u662f\u8fd4\u56de\u7a7a\u5217\u8868, find() \u65b9\u6cd5\u627e\u4e0d\u5230\u76ee\u6807\u65f6,\u8fd4\u56de None . soup.head.title \u662f tag\u7684\u540d\u5b57 \u65b9\u6cd5\u7684\u7b80\u5199.\u8fd9\u4e2a\u7b80\u5199\u7684\u539f\u7406\u5c31\u662f\u591a\u6b21\u8c03\u7528\u5f53\u524dtag\u7684 find() \u65b9\u6cd5: soup.head.title # <title>The Dormouse's story</title> soup.find(\"head\").find(\"title\") # <title>The Dormouse's story</title>","title":"\uff082\uff09find"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_4","text":"#\uff081\uff09 find_parents() \u548c find_parent() a_string = soup.find(text=\"Lacie\") print(a_string) # Lacie print(a_string.find_parent()) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(a_string.find_parents()) print(a_string.find_parent(\"p\")) ''' <p class=\"story\"> Once upon a time there were three little sisters; and their names were <a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> and <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>; and they lived at the bottom of a well. </p> ''' # \uff082\uff09find_next_siblings() \u548c find_next_sibling() ''' \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_siblings \u5c5e\u6027\u5bf9\u5f53tag\u7684\u6240\u6709\u540e\u9762\u89e3\u6790\u7684\u5144\u5f1ftag\u8282\u70b9\u8fdb\u884c\u8fed\u4ee3, find_next_siblings() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u5144\u5f1f\u8282\u70b9, find_next_sibling() \u53ea\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u540e\u9762\u7684\u7b2c\u4e00\u4e2atag\u8282\u70b9. ''' first_link = soup.a print(first_link.find_next_sibling(\"a\")) # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a> print(first_link.find_next_siblings(\"a\")) ''' [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a> ] ''' # find_previous_siblings() \u548c find_previous_sibling()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_next_sibling\u548cfind_next_siblings\u3002 # \uff083\uff09find_all_next() \u548c find_next() ''' \u8fd92\u4e2a\u65b9\u6cd5\u901a\u8fc7 .next_elements \u5c5e\u6027\u5bf9\u5f53\u524dtag\u7684\u4e4b\u540e\u7684tag\u548c\u5b57\u7b26\u4e32\u8fdb\u884c\u8fed\u4ee3, find_all_next() \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9, find_next() \u65b9\u6cd5\u8fd4\u56de\u7b2c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9:\u3000 ''' first_link = soup.a print(first_link.find_all_next(string=True)) # ['Elsie', ',\\n', 'Lacie', ' and\\n', 'Tillie', ';\\nand they lived at the bottom of a well.', '\\n', '...', '\\n'] print(first_link.find_next(string=True)) # Elsie # find_all_previous() \u548c find_previous()\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8efind_all_next() \u548c find_next()\u3002","title":"\uff083\uff09\u5176\u5b83\u65b9\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5css","text":"","title":"\u30105\u3011Css\u9009\u62e9\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#select","text":"css\u9009\u62e9\u5668\u7684\u65b9\u6cd5\u4e3aselect(css_selector) \u76ee\u524d\u652f\u6301\u7684\u9009\u62e9\u5668\u5982\u4e0b\u6848\u4f8b\uff0ccss\u9009\u62e9\u5668\u53ef\u4ee5\u53c2\u8003https://www.w3school.com.cn/cssref/css_selectors.ASP soup.select(\"title\") # [<title>The Dormouse's story</title>] soup.select(\"p nth-of-type(3)\") # [<p class=\"story\">...</p>] soup.select(\"body a\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"html head title\") # [<title>The Dormouse's story</title>] soup.select(\"head > title\") # [<title>The Dormouse's story</title>] soup.select(\"p > a\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"p > a:nth-of-type(2)\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select(\"p > #link1\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] soup.select(\"body > a\") soup.select(\"#link1 ~ .sister\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"#link1 + .sister\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select(\".sister\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"[class~=sister]\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select(\"#link1\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] soup.select(\"a#link2\") # [<a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select(\"#link1,#link2\") # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>] soup.select('a[href]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select('a[href=\"http://example.com/elsie\"]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] soup.select('a[href^=\"http://example.com/\"]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>, # <a class=\"sister\" href=\"http://example.com/lacie\" id=\"link2\">Lacie</a>, # <a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select('a[href$=\"tillie\"]') # [<a class=\"sister\" href=\"http://example.com/tillie\" id=\"link3\">Tillie</a>] soup.select('a[href*=\".com/el\"]') # [<a class=\"sister\" href=\"http://example.com/elsie\" id=\"link1\">Elsie</a>] multilingual_markup = \"\"\" <p lang=\"en\">Hello</p> <p lang=\"en-us\">Howdy, y'all</p> <p lang=\"en-gb\">Pip-pip, old fruit</p> <p lang=\"fr\">Bonjour mes amis</p> \"\"\" multilingual_soup = BeautifulSoup(multilingual_markup) multilingual_soup.select('p[lang|=en]') # [<p lang=\"en\">Hello</p>, # <p lang=\"en-us\">Howdy, y'all</p>, # <p lang=\"en-gb\">Pip-pip, old fruit</p>]","title":"select"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#select_one","text":"\u8fd4\u56de\u67e5\u627e\u5230\u7684\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a","title":"select_one"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6","text":"\u4f7f\u7528bs4\u722c\u53d6\u8c46\u74e3\u7535\u5f71\u6392\u884c\u699c\u4fe1\u606f from bs4 import BeautifulSoup soup = BeautifulSoup(s, 'html.parser') s=soup.find_all(class_=\"item\") for item in s: print(item.find(class_=\"pic\").a.get(\"href\")) print(item.find(class_=\"pic\").em.string) print(item.find(class_=\"info\").contents[1].a.span.string) print(item.find(class_=\"info\").contents[3].contents[3].contents[3].string) print(item.find(class_=\"info\").contents[3].contents[3].contents[7].string)","title":"\u30106\u3011\u7ec3\u4e60"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#33xpath","text":"xpath\u5728Python\u7684\u722c\u866b\u5b66\u4e60\u4e2d\uff0c\u8d77\u7740\u4e3e\u8db3\u8f7b\u91cd\u7684\u5730\u4f4d\uff0c\u5bf9\u6bd4\u6b63\u5219\u8868\u8fbe\u5f0f re\u4e24\u8005\u53ef\u4ee5\u5b8c\u6210\u540c\u6837\u7684\u5de5\u4f5c\uff0c\u5b9e\u73b0\u7684\u529f\u80fd\u4e5f\u5dee\u4e0d\u591a\uff0c\u4f46xpath\u660e\u663e\u6bd4re\u5177\u6709\u4f18\u52bf\uff0c\u5728\u7f51\u9875\u5206\u6790\u4e0a\u4f7fre\u9000\u5c45\u4e8c\u7ebf\u3002 xpath \u5168\u79f0\u4e3a XML Path Language \u4e00\u79cd\u5c0f\u578b\u7684 \u67e5\u8be2\u8bed\u8a00 xpath\u7684\u4f18\u70b9\uff1a \u53ef\u5728XML\u4e2d\u67e5\u627e\u4fe1\u606f \u652f\u6301HTML\u7684\u67e5\u627e \u901a\u8fc7\u5143\u7d20\u548c\u5c5e\u6027\u8fdb\u884c\u5bfc\u822a python\u5f00\u53d1\u4f7f\u7528XPath\u6761\u4ef6\uff1a \u7531\u4e8eXPath\u5c5e\u4e8elxml\u5e93\u6a21\u5757\uff0c\u6240\u4ee5\u9996\u5148\u8981\u5b89\u88c5\u5e93lxml\u3002 from lxml import etree selector=etree.HTML(\u6e90\u7801) #\u5c06\u6e90\u7801\u8f6c\u5316\u4e3a\u80fd\u88abXPath\u5339\u914d\u7684\u683c\u5f0f selector.xpath(\u8868\u8fbe\u5f0f) #\u8fd4\u56de\u4e3a\u4e00\u5217\u8868","title":"3.3\u3001xpath"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_5","text":"\u8868\u8fbe\u5f0f \u63cf\u8ff0 \u5b9e\u4f8b \u89e3\u6790 / \u4ece\u6839\u8282\u70b9\u9009\u53d6 /body/div[1] \u9009\u53d6\u6839\u7ed3\u70b9\u4e0b\u7684body\u4e0b\u7684\u7b2c\u4e00\u4e2adiv\u6807\u7b7e // \u4ece\u5339\u914d\u9009\u62e9\u7684\u5f53\u524d\u8282\u70b9\u9009\u62e9\u6587\u6863\u4e2d\u7684\u8282\u70b9\uff0c\u800c\u4e0d\u8003\u8651\u5b83\u4eec\u7684\u4f4d\u7f6e //a \u9009\u53d6\u6587\u6863\u4e2d\u6240\u6709\u7684a\u6807\u7b7e ./ \u5f53\u524d\u8282\u70b9\u518d\u6b21\u8fdb\u884cxpath ./a \u9009\u53d6\u5f53\u524d\u8282\u70b9\u4e0b\u7684\u6240\u6709a\u6807\u7b7e @ \u9009\u53d6\u5c5e\u6027 //@calss \u9009\u53d6\u6240\u6709\u7684class\u5c5e\u6027","title":"\u30101\u3011\u8def\u5f84\u8868\u8fbe\u5f0f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2predicates","text":"\u8c13\u8bed\u7528\u6765\u67e5\u627e\u67d0\u4e2a\u7279\u5b9a\u7684\u8282\u70b9\u6216\u8005\u5305\u542b\u67d0\u4e2a\u6307\u5b9a\u7684\u503c\u7684\u8282\u70b9\u3002 \u8c13\u8bed\u88ab\u5d4c\u5728\u65b9\u62ec\u53f7\u4e2d\u3002 \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u5e26\u6709\u8c13\u8bed\u7684\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/li[1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u6700\u540e\u4e00\u4e2a li\u5143\u7d20\u3002 /ul/li[last()-1] \u9009\u53d6\u5c5e\u4e8e ul\u5b50\u5143\u7d20\u7684\u5012\u6570\u7b2c\u4e8c\u4e2a li\u5143\u7d20\u3002 //ul/li[position()<3] \u9009\u53d6\u6700\u524d\u9762\u7684\u4e24\u4e2a\u5c5e\u4e8e ul\u5143\u7d20\u7684\u5b50\u5143\u7d20\u7684 li\u5143\u7d20\u3002 //a[@title] \u9009\u53d6\u6240\u6709\u62e5\u6709\u540d\u4e3a title\u7684\u5c5e\u6027\u7684 a\u5143\u7d20\u3002 //a[@title='xx'] \u9009\u53d6\u6240\u6709 a\u5143\u7d20\uff0c\u4e14\u8fd9\u4e9b\u5143\u7d20\u62e5\u6709\u503c\u4e3a xx\u7684 title\u5c5e\u6027\u3002 //a[@title>10] > < >= <= != \u9009\u53d6 a\u5143\u7d20\u7684\u6240\u6709 title\u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 title\u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 10\u3002 /body/div[@price>35.00] \u9009\u53d6body\u4e0bprice\u5143\u7d20\u503c\u5927\u4e8e35\u7684div\u8282\u70b9 //dd[text()=\"\u539f\u521b\"] \u9009\u53d6\u6587\u672c\u662f\u539f\u521b\u7684dd\u6807\u7b7e","title":"\u30102\u3011\u8c13\u8bed\uff08Predicates\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_5","text":"XPath \u901a\u914d\u7b26\u53ef\u7528\u6765\u9009\u53d6\u672a\u77e5\u7684 XML \u5143\u7d20\u3002 \u901a\u914d\u7b26 \u63cf\u8ff0 * \u5339\u914d\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u3002 @* \u5339\u914d\u4efb\u4f55\u5c5e\u6027\u8282\u70b9\u3002 node() \u5339\u914d\u4efb\u4f55\u7c7b\u578b\u7684\u8282\u70b9\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /ul/* \u9009\u53d6 bookstore \u5143\u7d20\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002 //* \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 //title[@*] \u9009\u53d6\u6240\u6709\u5e26\u6709\u5c5e\u6027\u7684 title \u5143\u7d20\u3002 //node() \u83b7\u53d6\u6240\u6709\u8282\u70b9","title":"\u30103\u3011\u9009\u53d6\u672a\u77e5\u8282\u70b9"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_5","text":"\u901a\u8fc7\u5728\u8def\u5f84\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\u201c|\u201d\u8fd0\u7b97\u7b26\uff0c\u60a8\u53ef\u4ee5\u9009\u53d6\u82e5\u5e72\u4e2a\u8def\u5f84\u3002 \u5b9e\u4f8b \u5728\u4e0b\u9762\u7684\u8868\u683c\u4e2d\uff0c\u6211\u4eec\u5217\u51fa\u4e86\u4e00\u4e9b\u8def\u5f84\u8868\u8fbe\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff1a \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c //book/title | //book/price \u9009\u53d6 book \u5143\u7d20\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 //title | //price \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 /bookstore/book/title | //price \u9009\u53d6\u5c5e\u4e8e bookstore \u5143\u7d20\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4ee5\u53ca\u6587\u6863\u4e2d\u6240\u6709\u7684 price \u5143\u7d20\u3002 \u903b\u8f91\u8fd0\u7b97 python //div[@id=\"head\" and @class=\"s_down\"] # \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8ehead\u5e76\u4e14class\u5c5e\u6027\u7b49\u4e8es_down\u7684div\u6807\u7b7e //title | //price # \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20,\u201c|\u201d\u4e24\u8fb9\u5fc5\u987b\u662f\u5b8c\u6574\u7684xpath\u8def\u5f84 \u5c5e\u6027\u67e5\u8be2 python //div[@id] # \u627e\u6240\u6709\u5305\u542bid\u5c5e\u6027\u7684div\u8282\u70b9 //div[@id=\"maincontent\"] # \u67e5\u627e\u6240\u6709id\u5c5e\u6027\u7b49\u4e8emaincontent\u7684div\u6807\u7b7e //@class //li[@name=\"xx\"]//text() # \u83b7\u53d6li\u6807\u7b7ename\u4e3axx\u7684\u91cc\u9762\u7684\u6587\u672c\u5185\u5bb9 \u83b7\u53d6\u7b2c\u51e0\u4e2a\u6807\u7b7e \u7d22\u5f15\u4ece1\u5f00\u59cb python tree.xpath('//li[1]/a/text()') # \u83b7\u53d6\u7b2c\u4e00\u4e2a tree.xpath('//li[last()]/a/text()') # \u83b7\u53d6\u6700\u540e\u4e00\u4e2a tree.xpath('//li[last()-1]/a/text()') # \u83b7\u53d6\u5012\u6570\u7b2c\u4e8c\u4e2a \u6a21\u7cca\u67e5\u8be2 ```python //div[contains(@id, \"he\")] # \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u542bhe\u7684div\u6807\u7b7e //div[starts-with(@id, \"he\")] # \u67e5\u8be2\u6240\u6709id\u5c5e\u6027\u4e2d\u5305\u4ee5he\u5f00\u5934\u7684div\u6807\u7b7e //div/h1/text() # \u67e5\u627e\u6240\u6709div\u6807\u7b7e\u4e0b\u7684\u76f4\u63a5\u5b50\u8282\u70b9h1\u7684\u5185\u5bb9 //div/a/@href # \u83b7\u53d6a\u91cc\u9762\u7684href\u5c5e\u6027\u503c // #\u83b7\u53d6\u6240\u6709 // [@class=\"xx\"] #\u83b7\u53d6\u6240\u6709class\u4e3axx\u7684\u6807\u7b7e # \u83b7\u53d6\u8282\u70b9\u5185\u5bb9\u8f6c\u6362\u6210\u5b57\u7b26\u4e32 c = tree.xpath('//li/a')[0] result=etree.tostring(c, encoding='utf-8') print(result.decode('UTF-8')) ```","title":"\u30104\u3011\u9009\u53d6\u82e5\u5e72\u8def\u5f84"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_2","text":"\u8c46\u74e3Top250\u57fa\u4e8expath\u89e3\u6790\uff1a import requests from lxml import etree url = \"https://movie.douban.com/top250?start=0\" headers = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.82 Safari/537.36\" } resp = requests.get(url, headers=headers) tree = etree.HTML(resp.text) # \u52a0\u8f7d\u9875\u9762\u6e90\u4ee3\u7801 items = tree.xpath('//li/div[@class=\"item\"]/div[@class=\"info\"]') for item in items: title = item.xpath('./div[@class=\"hd\"]/a/span[1]/text()')[0] rating_num = item.xpath('./div[@class=\"bd\"]/div[@class=\"star\"]/span[@class=\"rating_num\"]/text()')[0] comment_num = item.xpath('./div[@class=\"bd\"]/div[@class=\"star\"]/span[4]/text()')[0] print(title, rating_num, comment_num) \u7ec3\u4e60\uff1a\u57fa\u4e8expath\u5b8c\u6210\u89e3\u6790\u7ec3\u4e60 import requests from lxml import etree res = requests.get(\"https://top.baidu.com/board?platform=pc&sa=pcindex_entry\", ) selector = etree.HTML(res.text) rets = selector.xpath('//div[@theme=\"car\"]//div[contains(@class,\"item-wrap_Z0BrP \")]') info = {} for i in rets: name = i.xpath('./div[@class=\"normal_1glFU\"]/a/text()') link = i.xpath('./div[@class=\"normal_1glFU\"]/a/@href') info[name[0]] = link[0] print(info) print(len(info))","title":"\u30105\u3011\u6848\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_26","text":"","title":"\u7b2c\u56db\u7ae0.\u722c\u866b\u6838\u5fc3\u6a21\u5757"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#41requests","text":"requests \u4f5c\u4e3a\u4e00\u4e2a\u4e13\u95e8\u4e3a\u300c\u4eba\u7c7b\u300d\u7f16\u5199\u7684 HTTP \u8bf7\u6c42\u5e93\uff0c\u5176\u6613\u7528\u6027\u5f88\u5f3a\uff0c\u56e0\u6b64\u5728\u63a8\u51fa\u4e4b\u540e\u5c31\u8fc5\u901f\u6210\u4e3a Python \u4e2d\u9996\u9009\u7684 HTTP \u8bf7\u6c42\u5e93\u3002requests \u5e93\u7684\u6700\u5927\u7279\u70b9\u662f\u63d0\u4f9b\u4e86\u7b80\u5355\u6613\u7528\u7684 API\uff0c\u8ba9\u7f16\u7a0b\u4eba\u5458\u53ef\u4ee5\u8f7b\u677e\u5730\u63d0\u9ad8\u6548\u7387\u3002\u7531\u4e8e requests \u4e0d\u662f Python \u7684\u6807\u51c6\u5e93\uff0c\u56e0\u6b64\u5728\u4f7f\u7528\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u5b89\u88c5\uff1a pip install requests \u901a\u8fc7 requests \u53ef\u4ee5\u5b8c\u6210\u5404\u79cd\u7c7b\u578b\u7684 HTTP \u8bf7\u6c42\uff0c\u5305\u62ec HTTP\u3001HTTPS\u3001HTTP1.0\u3001HTTP1.1 \u53ca\u5404\u79cd\u8bf7\u6c42\u65b9\u6cd5\u3002requests \u5e93\u652f\u6301\u7684 HTTP \u65b9\u6cd5\u3002","title":"4.1\u3001requests\u6a21\u5757"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1requests","text":"requests\u6a21\u5757\u652f\u6301\u7684\u8bf7\u6c42\uff1a import requests requests.get(\"http://httpbin.org/get\") requests.post(\"http://httpbin.org/post\") requests.put(\"http://httpbin.org/put\") requests.delete(\"http://httpbin.org/delete\") requests.head(\"http://httpbin.org/get\") requests.options(\"http://httpbin.org/get\")\u3000\u3000 \u25a0 get\u2014\u2014\u53d1\u9001\u4e00\u4e2a GET \u8bf7\u6c42\uff0c\u7528\u4e8e\u8bf7\u6c42\u9875\u9762\u4fe1\u606f\u3002 \u25a0 options\u2014\u2014\u53d1\u9001\u4e00\u4e2a OPTIONS \u8bf7\u6c42\uff0c\u7528\u4e8e\u68c0\u67e5\u670d\u52a1\u5668\u7aef\u76f8\u5173\u4fe1\u606f\u3002 \u25a0 head\u2014\u2014\u53d1\u9001\u4e00\u4e2a HEAD \u8bf7\u6c42\uff0c\u7c7b\u4f3c\u4e8e GET \u8bf7\u6c42\uff0c\u4f46\u53ea\u8bf7\u6c42\u9875\u9762\u7684\u54cd\u5e94\u5934\u4fe1\u606f\u3002 \u25a0 post\u2014\u2014\u53d1\u9001\u4e00\u4e2a POST \u8bf7\u6c42\uff0c\u901a\u8fc7 body \u5411\u6307\u5b9a\u8d44\u6e90\u63d0\u4ea4\u7528\u6237\u6570\u636e\u3002 \u25a0 put\u2014\u2014\u53d1\u9001\u4e00\u4e2a PUT \u8bf7\u6c42\uff0c\u5411\u6307\u5b9a\u8d44\u6e90\u4e0a\u4f20\u6700\u65b0\u5185\u5bb9\u3002 \u25a0 patch\u2014\u2014\u53d1\u9001\u4e00\u4e2a PATCH \u8bf7\u6c42\uff0c\u540c PUT \u7c7b\u4f3c\uff0c\u53ef\u4ee5\u7528\u4e8e\u90e8\u5206\u5185\u5bb9\u66f4\u65b0\u3002 \u25a0 delete\u2014\u2014\u53d1\u9001\u4e00\u4e2a DELETE \u8bf7\u6c42\uff0c\u5411\u6307\u5b9a\u8d44\u6e90\u53d1\u9001\u4e00\u4e2a\u5220\u9664\u8bf7\u6c42\u3002 \u53ef\u4ee5\u770b\u5230\uff0crequests \u4f7f\u7528\u4e0e HTTP \u8bf7\u6c42\u65b9\u6cd5\u540c\u540d\u7684 API \u6765\u63d0\u4f9b\u76f8\u5e94\u7684 HTTP \u8bf7\u6c42\u670d\u52a1\uff0c\u4ece\u800c\u964d\u4f4e\u4e86\u7f16\u7a0b\u4eba\u5458\u7684\u5b66\u4e60\u548c\u8bb0\u5fc6\u6210\u672c\u3002\u53e6\u5916\uff0c\u8fd9\u4e9b API \u65b9\u6cd5\u90fd\u8c03\u7528\u540c\u4e00\u4e2a\u57fa\u7840\u65b9\u6cd5\uff0c\u56e0\u6b64\u5728\u8c03\u7528\u53c2\u6570\u7684\u4f7f\u7528\u4e0a\u4e5f\u57fa\u672c\u4fdd\u6301\u4e00\u81f4\u3002 import requests res = requests.get(\"https://www.taobao.com/\") # print(res.text) with open(\"taobao.html\", \"wb\") as f: f.write(res.content)","title":"\u30101\u3011requests\u652f\u6301\u7684\u65b9\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2requests","text":"","title":"\u30102\u3011requests\u7684\u54cd\u5e94\u4fe1\u606f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_6","text":"print(respone.status_code) print(respone.headers) print(respone.text)\u3000 print(response.json)","title":"1. \u57fa\u672c\u4fe1\u606f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_3","text":"```python print(respone.content)\u3000 print(response.encoding) #### 3. \u4e0b\u8f7d\u56fe\u7247\u3001\u89c6\u9891 ```python # \u4e0b\u8f7d\u56fe\u7247 import requests res = requests.get(\"https://img0.baidu.com/it/u=3330672963,1063627283&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\") with open(\"\u7f8e\u5973.jpg\", \"wb\") as f: f.write(res.content) # \u4e0b\u8f7d\u89c6\u9891 import requests res = requests.get(\"https://video.pearvideo.com/mp4/adshort/20180613/cont-1365496-12251302_adpkg-ad_hd.mp4\") with open(\"\u68a8\u89c6\u9891.mp4\", \"wb\") as f: for item in res.iter_content(): f.write(item)","title":"2. \u7f16\u7801"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3requests","text":"","title":"\u30103\u3011requests\u7684\u8bf7\u6c42\u53c2\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_7","text":"\uff081\uff09UA\u53cd\u722c \u8bbf\u95ee\u767e\u5ea6\u9996\u9875\u7684\u65b0\u95fb\u4fe1\u606f # \u722c\u53d6\u767e\u5ea6\u9996\u9875 res = requests.get(\"https://www.baidu.com/\") res.encoding = \"utf8\" with open(\"baidu.html\", \"wb\") as f: f.write(res.content) \u7ed3\u679c\u662f\uff1a \u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u4e86\u6700\u7b80\u5355\u7684UA\u53cd\u722c\uff0c\u767e\u5ea6\u670d\u52a1\u5668\u901a\u8fc7UA\u8bf7\u6c42\u5934\u8fa8\u522b\u662f\u5426\u4e3a\u6b63\u5e38\u8bf7\u6c42\u7528\u6237\uff0c\u6240\u4ee5\u4e3a\u4e86\u653b\u7834\u8fd9\u4e2a\u7b80\u5355\u7684\u53cd\u722c\uff0c\u53ea\u9700\u8981\u5728requests\u8bf7\u6c42\u4e2d\u52a0\u5165UA\u8bf7\u6c42\u5934\u5373\u53ef\u3002 res = requests.get(\"https://www.baidu.com/\", headers={ \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\" }) \u57fa\u4e8expath\u89e3\u6790\u65b0\u95fb\u6570\u636e\uff1a import requests from lxml import etree # \u767e\u5ea6\u9996\u9875 res = requests.get(\"https://www.baidu.com/\", headers={ \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36\" }) selector = etree.HTML(res.text) items = selector.xpath('//ul[@class=\"s-hotsearch-content\"]/li[contains(@class,\"hotsearch-item\")]') print(\"items:\", items) for item in items: href = item.xpath('./a/@href')[0] title = item.xpath('.//span[@class=\"title-content-title\"]/text()')[0] print(title, href) \uff082\uff09Referer\u53cd\u722c import requests # https://movie.douban.com/explore headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', 'Referer': 'https://movie.douban.com/explore', } url = 'https://m.douban.com/rexxar/api/v2/movie/recommend?refresh=0&start=0&count=20&selected_categories=%7B%7D&uncollect=false&tags=' res = requests.get(url, headers=headers) print(res.json()) items = res.json()['items'] for m in items: print(m.get('title'))","title":"1. \u8bf7\u6c42\u5934\u53c2\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_4","text":"import requests # https://movie.douban.com/explore headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', 'Referer': 'https://movie.douban.com/explore', } url = 'https://m.douban.com/rexxar/api/v2/movie/recommend' res = requests.get(url, headers=headers, params={ \"tags\": \"\u6b27\u7f8e\", \"sort\": \"S\" }) print(res.json()) items = res.json()['items'] for m in items: print(m.get('title'))","title":"2. \u8bf7\u6c42\u53c2\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_6","text":"import requests while 1: kd = input(\"\u8bf7\u8f93\u5165\u7ffb\u8bd1\u5185\u5bb9:\") res = requests.post(\"https://aidemo.youdao.com/trans\", data={ \"q\": kd.strip() }) # print(res.text) print(res.json()[\"web\"][0][\"value\"])","title":"3. \u8bf7\u6c42\u4f53\u6570\u636e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4cookiesession","text":"\uff081\uff09cookie\u7684\u73a9\u6cd5 # server.py from flask import Flask, request, make_response, render_template import json app = Flask(__name__, template_folder=\"temps\") COOKIE = \"sadfnwejfnfcvxwerw213kbnkj2k3j23234jk2k\" @app.route(\"/login\") def login(): return render_template(\"login.html\") @app.route(\"/auth\", methods=['POST']) def auth(): user = request.form.get(\"user\") pwd = request.form.get(\"pwd\") if user == \"yuan\" and pwd == \"123\": # \u8bbe\u7f6e\u54cd\u5e94\u4f53 resp = make_response(\"\u767b\u5f55\u6210\u529f\") resp.set_cookie(\"cookie\", COOKIE) return resp else: print(\"OK\") return \"\u767b\u5f55\u5931\u8d25\uff01\" @app.route(\"/\") def index(): return render_template(\"index.html\") @app.route(\"/books\") def books(): print(request.cookies.get(\"cookie\")) if request.cookies.get(\"cookie\") == COOKIE: data = [\"\u897f\u6e38\u8bb0\", \"\u4e09\u56fd\u6f14\u4e49\", \"\u6c34\u6d52\u4f20\", \"\u91d1\u74f6\u6885\"] return json.dumps(data, ensure_ascii=False) else: return \"\u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01\" if __name__ == '__main__': app.run() # \u9ed8\u8ba4\u7aef\u53e3\u53f7 # index.html <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> <script src=\"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js\"></script> </head> <body> <h1>\u56db\u5927\u540d\u8457</h1> <p class=\"content\"></p> <script> $.ajax({ url: \"/books\", success: function (res) { console.log(res) $(\".content\").html(res) } }) </script> </body> </html> \uff082\uff09\u722c\u866b\u7684cookie\u5e94\u7528 # \u8bf7\u6c42cookie requests.get(url=\"\", headers={}, cookies={}) # \u54cd\u5e94cookie print(respone.cookies) print(respone.cookies.get_dict()) print(respone.cookies.items()) session\u5bf9\u8c61:\u8be5\u5bf9\u8c61\u548crequests\u6a21\u5757\u7528\u6cd5\u51e0\u4e4e\u4e00\u81f4.\u5982\u679c\u5728\u8bf7\u6c42\u7684\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u4e86cookie,\u5982\u679c\u8be5\u8bf7\u6c42\u4f7f\u7528session\u53d1\u8d77\u7684,\u5219cookie\u4f1a\u88ab\u81ea\u52a8\u5b58\u50a8\u5230session\u4e2d. import requests headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u83b7\u53d6\u4ece\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u7684cookie url = 'https://xueqiu.com/' res = requests.get(url, headers=headers) cookies = dict(res.cookies) url = 'https://stock.xueqiu.com/v5/stock/batch/quote.json?symbol=SH000001,SZ399001,SZ399006,SH000688,SH000016,SH000300,BJ899050,HKHSI,HKHSCEI,HKHSTECH,.DJI,.IXIC,.INX' res = requests.get(url, headers=headers, cookies=cookies) # print(res.json()) print(res.content.decode()) \uff082\uff09session\u5bf9\u8c61 import requests headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u83b7\u53d6\u4ece\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u7684cookie url = 'https://xueqiu.com/' session = requests.session() session.get(url, headers=headers) url = 'https://stock.xueqiu.com/v5/stock/batch/quote.json?symbol=SH000001,SZ399001,SZ399006,SH000688,SH000016,SH000300,BJ899050,HKHSI,HKHSCEI,HKHSTECH,.DJI,.IXIC,.INX' res = session.get(url, headers=headers) print(res.json())","title":"\u30104\u3011Cookie\u4e0eSession"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5ip","text":"\u4ee3\u7406IP\uff1a \u53cd\u53cd\u722c\u4f7f\u7528\u4ee3\u7406ip\u662f\u975e\u5e38\u5fc5\u8981\u7684\u4e00\u79cd\u53cd\u53cd\u722c\u7684\u65b9\u5f0f\uff0c\u4f46\u662f\u5373\u4f7f\u4f7f\u7528\u4e86\u4ee3\u7406ip\uff0c\u5bf9\u65b9\u670d\u52a1\u5668\u4efb\u7136\u4f1a\u6709\u5f88\u591a\u7684\u65b9\u5f0f\u6765\u68c0\u6d4b\u6211\u4eec\u662f\u5426\u662f\u4e00\u4e2a\u722c\u866b\uff0c\u6bd4\u5982\uff1a\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u68c0\u6d4bIP\u8bbf\u95ee\u7684\u9891\u7387\uff0c\u8bbf\u95ee\u592a\u591a\u9891\u7e41\u4f1a\u5c4f\u853d\uff1b\u68c0\u67e5Cookie\uff0cUser-Agent\uff0cReferer\u7b49header\u53c2\u6570\uff0c\u82e5\u6ca1\u6709\u5219\u5c4f\u853d\uff1b\u670d\u52a1\u65b9\u8d2d\u4e70\u6240\u6709\u4ee3\u7406\u63d0\u4f9b\u5546\uff0c\u52a0\u5165\u5230\u53cd\u722c\u866b\u6570\u636e\u5e93\u91cc\uff0c\u82e5\u68c0\u6d4b\u662f\u4ee3\u7406\u5219\u5c4f\u853d\u7b49\u3002\u6240\u4ee5\u66f4\u597d\u7684\u65b9\u5f0f\u5728\u4f7f\u7528\u4ee3\u7406ip\u7684\u65f6\u5019\u4f7f\u7528\u968f\u673a\u7684\u65b9\u5f0f\u8fdb\u884c\u9009\u62e9\u4f7f\u7528\uff0c\u4e0d\u8981\u6bcf\u6b21\u90fd\u7528\u4e00\u4e2a\u4ee3\u7406ip res = requests.get(\"http://httpbin.org/ip\", proxies={ \"http\": \"101.132.25.152:50001\" } ) print(res.text) \u4ee3\u7406ip\u6c60\u7684\u66f4\u65b0\uff1a \u8d2d\u4e70\u7684\u4ee3\u7406ip\u5f88\u591a\u65f6\u5019\u5927\u90e8\u5206(\u8d85\u8fc760%)\u53ef\u80fd\u90fd\u6ca1\u529e\u6cd5\u4f7f\u7528\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u901a\u8fc7\u7a0b\u5e8f\u53bb\u68c0\u6d4b\u54ea\u4e9b\u53ef\u7528\uff0c\u628a\u4e0d\u80fd\u7528\u7684\u5220\u9664\u6389\u3002 \u514d\u8d39\u4ee3\u7406IP\uff1ahttps://www.kuaidaili.com/free/inha/","title":"\u30105\u3011\u4ee3\u7406IP"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#42","text":"","title":"4.2\u3001\u722c\u866b\u6848\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_8","text":"import random import time import requests # https://movie.douban.com/explore headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', 'Referer': 'https://movie.douban.com/explore', } url = 'https://m.douban.com/rexxar/api/v2/movie/recommend?refresh=0&start=0&count=20&selected_categories=%7B%7D&uncollect=false&tags=&ck=DvZ3' res = requests.get(url, headers=headers) items = res.json()['items'] # \u5faa\u73af\u83b7\u53d6\u4e0b\u8f7d i = 0 for m in items: title = m[\"title\"] # \u8fdb\u884c\u56fe\u7247\u7684\u4e0b\u8f7d res = requests.get(m['pic']['large'], headers=headers) with open(f'./imgs/{title}.jpg', 'wb') as f: f.write(res.content) print(title, '\u4e0b\u8f7d\u5b8c\u6210\uff01') # \u7ed9\u4e00\u4e2a\u81ea\u7701\u65f6\u95f4 \u9632\u6b62\u7ed9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u7684\u538b\u529b \u907f\u514d\u670d\u52a1\u5668\u5d29\u6e83\u6216\u8005\u5f53\u524d\u88ab\u5c01 time.sleep(random.randint(1, 4)) i += 1 \u7ec3\u4e60\uff1a\u4e0b\u8f7d\u684c\u9762\u56fe\u7247\uff1a http://www.netbian.com/desk/30360-1920x1080.htm","title":"\u30101\u3011\u4e0b\u8f7d\u7535\u5f71\u5c01\u9762"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_5","text":"\u7b2c\u4e00\u7248 import requests headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u53d1\u9001\u767b\u9646\u5904\u7406\u63a5\u53e3\u7684url\u5730\u5740 url = 'https://passport.17k.com/ck/user/login' # \u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e data = { 'loginName': '13121758648', 'password': 'yuan0316' } session = requests.Session() session.post(url, headers=headers, data=data) # \u6293\u53d6\u767b\u5f55\u540e\u7684\u6570\u636e url = 'https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919' res = session.get(url, headers=headers) # \u83b7\u53d6\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = res.json().get(\"data\") print(shelf_books) \u7b2c\u4e8c\u7248 import requests from lxml import etree import os import time headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } # \u53d1\u9001\u767b\u9646\u5904\u7406\u63a5\u53e3\u7684url\u5730\u5740 url = 'https://passport.17k.com/ck/user/login' # \u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e data = { 'loginName': '13121758648', 'password': 'yuan0316' } session = requests.Session() session.post(url, headers=headers, data=data) # \u6293\u53d6\u767b\u5f55\u540e\u7684\u6570\u636e url = 'https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919' res = session.get(url, headers=headers) # \u83b7\u53d6\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = res.json().get(\"data\") # print(shelf_books) if not os.path.exists(\"shelf_books\"): os.mkdir(\"shelf_books\") for book in shelf_books: # print(book) # print(book[\"bookId\"]) bookName = book[\"bookName\"] bookId = book[\"bookId\"] res = requests.get(f\"https://www.17k.com/list/{bookId}.html\") res.encoding = \"utf8\" selector = etree.HTML(res.text) chapter_links = selector.xpath('//dl[@class=\"Volume\"][last()]/dd/a') os.mkdir(\"./shelf_books/\" + bookName) for chapter_link in chapter_links: chapter_name = chapter_link.xpath(\"./span/text()\")[0].strip() chapter_href = chapter_link.xpath(\"./@href\")[0] print(chapter_name, chapter_href) res = requests.get(f\"https://www.17k.com\" + chapter_href) res.encoding = \"utf8\" selector = etree.HTML(res.text) ret = selector.xpath('//div[contains(@class,\"content\")]/div[@class=\"p\"]/p[position()<last()-1]/text()') print(ret) path = os.path.join(\"shelf_books\", bookName, chapter_name) with open(path, \"w\") as f: for line in ret: f.write(line + \"\\n\") time.sleep(1) print(f\"{chapter_name}\u4e0b\u8f7d\u5b8c\u6210\uff01\") \u7b2c\u4e09\u7248[\u51fd\u6570] import requests from lxml import etree import os import time import random headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } def login(): # \u53d1\u9001\u767b\u9646\u5904\u7406\u63a5\u53e3\u7684url\u5730\u5740 login_url = 'https://passport.17k.com/ck/user/login' # \u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e data = { 'loginName': '13121758648', 'password': 'yuan0316' } session.post(login_url, headers=headers, data=data) def get_shelf_books(): # \u6293\u53d6\u767b\u5f55\u540e\u7684\u6570\u636e url = 'https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919' res = session.get(url, headers=headers) # \u83b7\u53d6\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = res.json().get(\"data\") return shelf_books def get_book_chapter_links(book): # print(book) # print(book[\"bookId\"]) bookName = book[\"bookName\"] bookId = book[\"bookId\"] res = requests.get(f\"https://www.17k.com/list/{bookId}.html\") res.encoding = \"utf8\" selector = etree.HTML(res.text) chapter_links = selector.xpath('//dl[@class=\"Volume\"][last()]/dd/a') return bookName, chapter_links def get_book_chapter_texts(book_name, chapter_links): book_path = os.path.join(\"my_shelf_books\", book_name) if not os.path.exists(book_path): os.mkdir(book_path) for chapter_link in chapter_links: chapter_name = chapter_link.xpath(\"./span/text()\")[0].strip() chapter_href = chapter_link.xpath(\"./@href\")[0] print(chapter_name, chapter_href) res = requests.get(f\"https://www.17k.com\" + chapter_href) res.encoding = \"utf8\" selector = etree.HTML(res.text) ret_text = selector.xpath('//div[contains(@class,\"content\")]/div[@class=\"p\"]/p[position()<last()-1]/text()') print(ret_text) download_chapter_text(book_name, chapter_name, ret_text) def download_chapter_text(book_name, chapter_name, ret_text): path = os.path.join(\"my_shelf_books\", book_name, chapter_name) with open(path, \"w\") as f: for line in ret_text: f.write(line + \"\\n\") time.sleep(random.randint(1, 5)) print(f\"{book_name}\u7684{chapter_name} \u4e0b\u8f7d\u5b8c\u6210\uff01\") if __name__ == '__main__': # \u6784\u5efasession\u5bf9\u8c61 session = requests.Session() # \u6a21\u62df\u767b\u5f55 login() # \u83b7\u53d6\u767b\u5f55\u4eba\u7684\u4e66\u67b6\u4e0a\u7684\u6240\u6709\u4e66\u7c4d shelf_books = get_shelf_books() # \u521b\u5efamy_shelf_books\u6587\u4ef6\u5939 if not os.path.exists(\"my_shelf_books\"): os.mkdir(\"my_shelf_books\") for book in shelf_books: bookName, chapter_links = get_book_chapter_links(book) # \u6293\u53d6\u5e76\u4e0b\u8f7d\u6bcf\u4e00\u7ae0\u6587\u672c get_book_chapter_texts(bookName, chapter_links)","title":"\u30102\u3011\u722c\u53d6\u5c0f\u8bf4\u7f51\u7684\u5c0f\u8bf4"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#43websockets","text":"\u65b0\u6d6a\u8d22\u7ecf Websocket\uff08\u7b80\u79f0\uff1aws\uff09\u662fweb\u524d\u7aefHTML5\u63d0\u4f9b\u7684\u4e00\u79cd\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u8fdb\u884c\u5168\u53cc\u5de5\u901a\u8baf\u7684\u7f51\u7edc\u6280\u672f\uff0c\u5c5e\u4e8e\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u57fa\u4e8eTCP\u534f\u8bae\u5f00\u53d1\u800c\u6765\uff0c\u5e76\u590d\u7528HTTP\u7684\u63e1\u624b\u901a\u9053\u3002 \u8c03\u7528\u7b80\u5355\uff0c\u7531\u6d4f\u89c8\u5668\u8fdb\u884c\u4e86\u5c01\u88c5\u63d0\u4f9b\u5f3a\u5927\u7684\u64cd\u4f5c\u63a5\u53e3\uff0c\u76f4\u63a5\u4f7f\u7528\u6d4f\u89c8\u5668\u7684websocket\u5bf9\u8c61\u5373\u53ef\u901a\u8fc7\u4e8b\u4ef6\u4e0e\u670d\u52a1\u7aef\u8fdb\u884cwebsocket\u901a\u4fe1\u3002 \u652f\u6301\u4e8c\u8fdb\u5236\uff0c \u652f\u6301\u53cc\u5411\u901a\u4fe1, \u66f4\u7075\u6d3b, \u66f4\u5b9e\u65f6\u6027\uff0c \u66f4\u9ad8\u6548\uff0c\u53ef\u6269\u5c55\u6027\u66f4\u597d \u722c\u866b\u4e5f\u7ecf\u5e38\u4f1a\u9047\u5230websocket\u534f\u8bae\u4e0b\u7684\u8bf7\u6c42\u6570\u636e\uff0c\u6211\u4eec\u901a\u8fc7websockets\u6765\u5b9e\u73b0\u76f8\u5173\u722c\u866b\u3002 import websockets import asyncio import ssl import certifi ssl_context = ssl.create_default_context() ssl_context.load_verify_locations(certifi.where()) # https://finance.sina.com.cn/realstock/company/sh000001/nc.shtml async def main(): url = \"wss://hq.sinajs.cn/wskt?list=sh000001\" # extra_headers\u7ed9ws \u4f20\u9012\u8bf7\u6c42\u5934. async with websockets.connect(url, extra_headers={ \"Origin\": \"https://finance.sina.com.cn\", \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36\" }, ssl=ssl_context) as ws: await ws.send(\"\") ret = await ws.recv() print(ret) if __name__ == '__main__': asyncio.run(main())","title":"4.3\u3001websockets\u6a21\u5757"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_27","text":"1. \u5e76\u53d1\u4e0e\u5e76\u884c 2. IO\u5bc6\u96c6\u578b\u4efb\u52a1\u548c\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1 3. \u540c\u6b65\u4e0e\u5f02\u6b65 4. IO\u6a21\u578b\uff08IO\u591a\u8def\u590d\u7528\uff09 5. \u5185\u6838\u6001\u591a\u7ebf\u7a0b\uff0c\u7528\u6237\u6001\u591a\u7ebf\u7a0b \u6240\u8c13\u5e76\u53d1\u7f16\u7a0b\u662f\u6307\u5728\u4e00\u53f0\u5904\u7406\u5668\u4e0a\u201c\u540c\u65f6\u201d\u5904\u7406\u591a\u4e2a\u4efb\u52a1\u3002\u5e76\u53d1\u662f\u5728\u540c\u4e00\u5b9e\u4f53\u4e0a\u7684\u591a\u4e2a\u4e8b\u4ef6 \u3002\u5f3a\u8c03\u591a\u4e2a\u4e8b\u4ef6\u5728\u540c\u4e00\u65f6\u95f4\u95f4\u9694\u53d1\u751f\u3002","title":"\u7b2c\u4e94\u7ae0. \u5e76\u53d1\u722c\u866b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_9","text":"","title":"1\u3001\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u4ee5\u53ca\u534f\u7a0b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_10","text":"\u6211\u4eec\u90fd\u77e5\u9053\u8ba1\u7b97\u673a\u7684\u6838\u5fc3\u662fCPU\uff0c\u5b83\u627f\u62c5\u4e86\u6240\u6709\u7684\u8ba1\u7b97\u4efb\u52a1\uff1b\u800c\u64cd\u4f5c\u7cfb\u7edf\u662f\u8ba1\u7b97\u673a\u7684\u7ba1\u7406\u8005\uff0c\u5b83\u8d1f\u8d23\u4efb\u52a1\u7684\u8c03\u5ea6\u3001\u8d44\u6e90\u7684\u5206\u914d\u548c\u7ba1\u7406\uff0c\u7edf\u9886\u6574\u4e2a\u8ba1\u7b97\u673a\u786c\u4ef6\uff1b\u5e94\u7528\u7a0b\u5e8f\u5219\u662f\u5177\u6709\u67d0\u79cd\u529f\u80fd\u7684\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u662f\u8fd0\u884c\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u7684\u3002 \u8fdb\u7a0b\u662f\u4e00\u4e2a\u5177\u6709\u4e00\u5b9a\u72ec\u7acb\u529f\u80fd\u7684\u7a0b\u5e8f\u5728\u4e00\u4e2a\u6570\u636e\u96c6\u4e0a\u7684\u4e00\u6b21\u52a8\u6001\u6267\u884c\u7684 \u8fc7\u7a0b \uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u4e00\u4e2a\u72ec\u7acb\u5355\u4f4d\uff0c\u662f\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u7684\u8f7d\u4f53\u3002 \u591a\u9053\u6280\u672f\uff1a\u7a7a\u95f4\u590d\u7528+\u65f6\u95f4\u590d\u7528\uff0c\u4e8e\u662f\u6709\u4e86\u8fdb\u7a0b\uff01 \u8fdb\u7a0b\u662f\u4e00\u79cd\u62bd\u8c61\u7684\u6982\u5ff5\uff0c\u4ece\u6765\u6ca1\u6709\u7edf\u4e00\u7684\u6807\u51c6\u5b9a\u4e49\u3002\u8fdb\u7a0b\u4e00\u822c\u7531\u7a0b\u5e8f\u3001\u6570\u636e\u96c6\u5408\u548c\u8fdb\u7a0b\u63a7\u5236\u5757\u4e09\u90e8\u5206\u7ec4\u6210\u3002 \u4f8b\u5b50\uff1a\u6211\u548c\u6211\u7684\u5973\u670b\u53cb\u4eec\u7684\u6545\u4e8b \u6211\u5c31\u662fCPU\uff0c\u6211\u8ddf\u4e09\u4e2a\u5973\u670b\u53cb\u73a9\u5c31\u662f\u4e09\u4e2a\u4efb\u52a1 1. \u6211\u6559\u7b2c\u4e00\u4e2a\u5973\u670b\u53cb\u505a\u83dc\uff0c\u83dc\u8c31\u5c31\u662f\u7a0b\u5e8f\uff0c\u98df\u6750\u5c31\u662f\u6570\u636e\uff0c\u6211\u505a\u996d\u7684\u8fc7\u7a0b\u5c31\u662f\u4e00\u4e2a\u8fdb\u7a0b\uff08\u5207\u6362\uff0c\u72b6\u6001\u4fdd\u5b58\uff09 2. \u6211\u7ed9\u7b2c\u4e8c\u4e2a\u5973\u670b\u53cb\u6cbb\u7597\u811a\u4f24\uff0c\u533b\u7597\u624b\u518c\u5c31\u662f\u7a0b\u5e8f\uff0c\u533b\u836f\u7bb1\u5c31\u662f\u6570\u636e\uff0c\u6cbb\u7597\u811a\u4f24\u7684\u8fc7\u7a0b\u5c31\u662f\u7b2c\u4e8c\u4e2a\u8fdb\u7a0b \u3002\u3002\u3002 \u8fdb\u7a0b \u72b6\u6001\u53cd\u6620\u8fdb\u7a0b\u6267\u884c\u8fc7\u7a0b\u7684\u53d8\u5316\u3002\u8fd9\u4e9b\u72b6\u6001\u968f\u7740\u8fdb\u7a0b\u7684\u6267\u884c\u548c\u5916\u754c\u6761\u4ef6\u7684\u53d8\u5316\u800c\u8f6c\u6362\u3002\u5728\u4e09\u6001\u6a21\u578b\u4e2d\uff0c\u8fdb\u7a0b\u72b6\u6001\u5206\u4e3a\u4e09\u4e2a\u57fa\u672c\u72b6\u6001\uff0c\u5373\u8fd0\u884c\u6001\uff0c\u5c31\u7eea\u6001\uff0c\u963b\u585e\u6001\u3002\u5728\u4e94\u6001\u6a21\u578b\u4e2d\uff0c\u8fdb\u7a0b\u5206\u4e3a \u65b0\u5efa \u6001\u3001\u7ec8\u6b62\u6001\uff0c\u8fd0\u884c\u6001\uff0c\u5c31\u7eea\u6001\uff0c\u963b\u585e\u6001\u3002","title":"\u30101\u3011\u8fdb\u7a0b\u6982\u5ff5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_6","text":"\u5728\u65e9\u671f\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u5e76\u6ca1\u6709\u7ebf\u7a0b\u7684\u6982\u5ff5\uff0c\u8fdb\u7a0b\u662f\u80fd\u62e5\u6709\u8d44\u6e90\u548c\u72ec\u7acb\u8fd0\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4e5f\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u4efb\u52a1\u8c03\u5ea6\u91c7\u7528\u7684\u662f\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u62a2\u5360\u5f0f\u8c03\u5ea6\u65b9\u5f0f\uff0c\u800c\u8fdb\u7a0b\u662f\u4efb\u52a1\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u5404\u81ea\u72ec\u7acb\u7684\u4e00\u5757\u5185\u5b58\uff0c\u4f7f\u5f97\u5404\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u5185\u5b58\u5730\u5740\u76f8\u4e92\u9694\u79bb\u3002\u540e\u6765\uff0c\u968f\u7740\u8ba1\u7b97\u673a\u7684\u53d1\u5c55\uff0c\u5bf9CPU\u7684\u8981\u6c42\u8d8a\u6765\u8d8a\u9ad8\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5207\u6362\u5f00\u9500\u8f83\u5927\uff0c\u5df2\u7ecf\u65e0\u6cd5\u6ee1\u8db3\u8d8a\u6765\u8d8a\u590d\u6742\u7684\u7a0b\u5e8f\u7684\u8981\u6c42\u4e86\u3002\u4e8e\u662f\u5c31\u53d1\u660e\u4e86\u7ebf\u7a0b\u3002 \u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u4e2d\u4e00\u4e2a\u5355\u4e00\u7684\u987a\u5e8f\u63a7\u5236\u6d41\u7a0b\uff0c\u662f\u7a0b\u5e8f\u6267\u884c\u6d41\u7684\u6700\u5c0f\u5355\u5143\uff0c\u662f\u5904\u7406\u5668\u8c03\u5ea6\u548c\u5206\u6d3e\u7684\u57fa\u672c\u5355\u4f4d\u3002 \u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5404\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u7a0b\u5e8f\u7684\u5185\u5b58\u7a7a\u95f4(\u4e5f\u5c31\u662f\u6240\u5728\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4)\u3002\u4e00\u4e2a\u6807\u51c6\u7684\u7ebf\u7a0b\u7531\u7ebf\u7a0bID\u3001\u5f53\u524d\u6307\u4ee4\u6307\u9488(PC)\u3001\u5bc4\u5b58\u5668\u548c\u5806\u6808\u7ec4\u6210\u3002\u800c\u8fdb\u7a0b\u7531\u5185\u5b58\u7a7a\u95f4(\u4ee3\u7801\u3001\u6570\u636e\u3001\u8fdb\u7a0b\u7a7a\u95f4\u3001\u6253\u5f00\u7684\u6587\u4ef6)\u548c\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\u7ec4\u6210\u3002","title":"\u30102\u3011\u7ebf\u7a0b\u7684\u6982\u5ff5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_28","text":"\u5f53\u7ebf\u7a0b\u7684\u6570\u91cf\u5c0f\u4e8e\u5904\u7406\u5668\u7684\u6570\u91cf\u65f6\uff0c\u7ebf\u7a0b\u7684\u5e76\u53d1\u662f\u771f\u6b63\u7684\u5e76\u53d1\uff0c\u4e0d\u540c\u7684\u7ebf\u7a0b\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u5904\u7406\u5668\u4e0a\u3002\u4f46\u5f53\u7ebf\u7a0b\u7684\u6570\u91cf\u5927\u4e8e\u5904\u7406\u5668\u7684\u6570\u91cf\u65f6\uff0c\u7ebf\u7a0b\u7684\u5e76\u53d1\u4f1a\u53d7\u5230\u4e00\u4e9b\u963b\u788d\uff0c\u6b64\u65f6\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u5e76\u53d1\uff0c\u56e0\u4e3a\u6b64\u65f6\u81f3\u5c11\u6709\u4e00\u4e2a\u5904\u7406\u5668\u4f1a\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\u3002 \u5728\u5355\u4e2a\u5904\u7406\u5668\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\u65f6\uff0c\u5e76\u53d1\u662f\u4e00\u79cd\u6a21\u62df\u51fa\u6765\u7684\u72b6\u6001\u3002\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u65b9\u5f0f\u8f6e\u6d41\u6267\u884c\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u3002\u73b0\u5728\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u91c7\u7528\u7684\u90fd\u662f\u65f6\u95f4\u7247\u8f6e\u8f6c\u7684\u62a2\u5360\u5f0f\u8c03\u5ea6\u65b9\u5f0f\uff0c\u5982\u6211\u4eec\u719f\u6089\u7684Unix\u3001Linux\u3001Windows\u53camacOS\u7b49\u6d41\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002 \u6211\u4eec\u77e5\u9053\u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4e5f\u662f\u4efb\u52a1\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u5728\u65e9\u671f\u53ea\u6709\u8fdb\u7a0b\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u8fdb\u7a0b\u6709\u4e94\u79cd\u72b6\u6001\uff0c\u521b\u5efa\u3001\u5c31\u7eea\u3001\u8fd0\u884c\u3001\u963b\u585e(\u7b49\u5f85)\u3001\u9000\u51fa\u3002\u65e9\u671f\u7684\u8fdb\u7a0b\u76f8\u5f53\u4e8e\u73b0\u5728\u7684\u53ea\u6709\u5355\u4e2a\u7ebf\u7a0b\u7684\u8fdb\u7a0b\uff0c\u90a3\u4e48\u73b0\u5728\u7684\u591a\u7ebf\u7a0b\u4e5f\u6709\u4e94\u79cd\u72b6\u6001\uff0c\u73b0\u5728\u7684\u591a\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f\u4e0e\u65e9\u671f\u8fdb\u7a0b\u7684\u751f\u547d\u5468\u671f\u7c7b\u4f3c\u3002 \u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f # \u521b\u5efa\uff1a\u4e00\u4e2a\u65b0\u7684\u7ebf\u7a0b\u88ab\u521b\u5efa\uff0c\u7b49\u5f85\u8be5\u7ebf\u7a0b\u88ab\u8c03\u7528\u6267\u884c\uff1b # \u5c31\u7eea\uff1a\u65f6\u95f4\u7247\u5df2\u7528\u5b8c\uff0c\u6b64\u7ebf\u7a0b\u88ab\u5f3a\u5236\u6682\u505c\uff0c\u7b49\u5f85\u4e0b\u4e00\u4e2a\u5c5e\u4e8e\u5b83\u7684\u65f6\u95f4\u7247\u5230\u6765\uff1b # \u8fd0\u884c\uff1a\u6b64\u7ebf\u7a0b\u6b63\u5728\u6267\u884c\uff0c\u6b63\u5728\u5360\u7528\u65f6\u95f4\u7247\uff1b # \u963b\u585e\uff1a\u4e5f\u53eb\u7b49\u5f85\u72b6\u6001\uff0c\u7b49\u5f85\u67d0\u4e00\u4e8b\u4ef6(\u5982IO\u6216\u53e6\u4e00\u4e2a\u7ebf\u7a0b)\u6267\u884c\u5b8c\uff1b # \u9000\u51fa\uff1a\u4e00\u4e2a\u7ebf\u7a0b\u5b8c\u6210\u4efb\u52a1\u6216\u8005\u5176\u4ed6\u7ec8\u6b62\u6761\u4ef6\u53d1\u751f\uff0c\u8be5\u7ebf\u7a0b\u7ec8\u6b62\u8fdb\u5165\u9000\u51fa\u72b6\u6001\uff0c\u9000\u51fa\u72b6\u6001\u91ca\u653e\u8be5\u7ebf\u7a0b\u6240\u5206\u914d\u7684\u8d44\u6e90\u3002","title":"\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_29","text":"\u524d\u9762\u8bb2\u4e86\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\uff0c\u4f46\u53ef\u80fd\u4f60\u8fd8\u89c9\u5f97\u8ff7\u7cca\uff0c\u611f\u89c9\u4ed6\u4eec\u5f88\u7c7b\u4f3c\u3002\u7684\u786e\uff0c\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u6709\u7740\u5343\u4e1d\u4e07\u7f15\u7684\u5173\u7cfb\uff0c\u4e0b\u9762\u5c31\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u7406\u4e00\u7406\uff1a \u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u800c\u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u8d44\u6e90\u7684\u6700\u5c0f\u5355\u4f4d\uff1b \u4e00\u4e2a\u8fdb\u7a0b\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\u7ec4\u6210\uff0c\u7ebf\u7a0b\u662f\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u4ee3\u7801\u7684\u4e0d\u540c\u6267\u884c\u8def\u7ebf\uff1b \u8fdb\u7a0b\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u4f46\u540c\u4e00\u8fdb\u7a0b\u4e0b\u7684\u5404\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u7a0b\u5e8f\u7684\u5185\u5b58\u7a7a\u95f4(\u5305\u62ec\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u96c6\u3001\u5806\u7b49)\u53ca\u4e00\u4e9b\u8fdb\u7a0b\u7ea7\u7684\u8d44\u6e90(\u5982\u6253\u5f00\u6587\u4ef6\u548c\u4fe1\u53f7)\uff0c\u67d0\u8fdb\u7a0b\u5185\u7684\u7ebf\u7a0b\u5728\u5176\u5b83\u8fdb\u7a0b\u4e0d\u53ef\u89c1\uff1b \u8c03\u5ea6\u548c\u5207\u6362\uff1a\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u6bd4\u8fdb\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u8981\u5feb\u5f97\u591a\u3002","title":"\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u7684\u533a\u522b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3coroutines","text":"\u534f\u7a0b \uff08Co-routine\uff09\uff0c\u4e5f\u53ef\u79f0\u4e3a\u5fae\u7ebf\u7a0b\uff0c\u6216\u975e\u62a2\u5360\u5f0f\u7684\u591a\u4efb\u52a1\u5b50\u4f8b\u7a0b\uff0c\u4e00\u79cd\u7528\u6237\u6001\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u6280\u672f\uff08\u901a\u8fc7\u4e00\u4e2a\u7ebf\u7a0b\u5b9e\u73b0\u4ee3\u7801\u5757\u95f4\u7684\u76f8\u4e92\u5207\u6362\u6267\u884c\uff09\u3002\u8fd9\u79cd\u7531\u7a0b\u5e8f\u5458\u81ea\u5df1\u5199\u7a0b\u5e8f\u6765\u7ba1\u7406\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\u53eb\u505a\u300e\u7528\u6237\u7a7a\u95f4\u7ebf\u7a0b\u300f\uff0c\u5177\u6709\u5bf9\u5185\u6838\u6765\u8bf4\u4e0d\u53ef\u89c1\u7684\u7279\u6027\u3002\u6b63\u5982\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u7ebf\u7a0b\u4e00\u6837\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u534f\u7a0b\u3002 \u534f\u7a0b\u89e3\u51b3\u7684\u662f\u7ebf\u7a0b\u7684\u5207\u6362\u548c\u5185\u5b58\u5f00\u9500\u7684\u95ee\u9898 * \u7528\u6237\u7a7a\u95f4 \u9996\u5148\u662f\u5728\u7528\u6237\u7a7a\u95f4, \u907f\u514d\u5185\u6838\u6001\u548c\u7528\u6237\u6001\u7684\u5207\u6362\u5bfc\u81f4\u7684\u6210\u672c\u3002 * \u7531\u8bed\u8a00\u6216\u8005\u6846\u67b6\u5c42\u8c03\u5ea6 * \u66f4\u5c0f\u7684\u6808\u7a7a\u95f4\u5141\u8bb8\u521b\u5efa\u5927\u91cf\u5b9e\u4f8b\uff08\u767e\u4e07\u7ea7\u522b\uff09","title":"\u30103\u3011\u534f\u7a0b(Coroutines)"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_7","text":"","title":"2\u3001\u591a\u7ebf\u7a0b\u5b9e\u73b0"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1threading","text":"Python\u63d0\u4f9b\u4e24\u4e2a\u6a21\u5757\u8fdb\u884c\u591a\u7ebf\u7a0b\u7684\u64cd\u4f5c\uff0c\u5206\u522b\u662f thread \u548c threading \uff0c\u524d\u8005\u662f\u6bd4\u8f83\u4f4e\u7ea7\u7684\u6a21\u5757\uff0c\u7528\u4e8e\u66f4\u5e95\u5c42\u7684\u64cd\u4f5c\uff0c\u4e00\u822c\u5e94\u7528\u7ea7\u522b\u7684\u5f00\u53d1\u4e0d\u5e38\u7528\u3002 import time def foo(): print(\"foo start...\") time.sleep(5) print(\"foo end...\") def bar(): print(\"bar start...\") time.sleep(3) print(\"bar end...\") # \u4e32\u884c\u7248\u672c # start = time.time() # foo() # bar() # end = time.time() # print(\"cost timer:\", end - start) # \u591a\u7ebf\u7a0b\u5e76\u53d1\u7248\u672c import threading start = time.time() t1 = threading.Thread(target=foo, args=()) t1.start() t2 = threading.Thread(target=bar, args=()) t2.start() # \u7b49\u5f85\u6240\u6709\u5b50\u7ebf\u7a0b\u7ed3\u675f # t1.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt1 # t2.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt2 end = time.time() print(end - start)","title":"\u30101\u3011threading\u6a21\u5757"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_8","text":"import time import threading Lock = threading.Lock() def addNum(): global num # \u5728\u6bcf\u4e2a\u7ebf\u7a0b\u4e2d\u90fd\u83b7\u53d6\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf # \u4e0a\u9501 Lock.acquire() t = num - 1 time.sleep(0.0001) num = t Lock.release() # \u653e\u9501 num = 100 # \u8bbe\u5b9a\u4e00\u4e2a\u5171\u4eab\u53d8\u91cf thread_list = [] for i in range(100): t = threading.Thread(target=addNum) t.start() thread_list.append(t) for t in thread_list: # \u7b49\u5f85\u6240\u6709\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5 t.join() print('Result: ', num)","title":"\u30102\u3011\u4e92\u65a5\u9501"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_7","text":"\u7cfb\u7edf\u542f\u52a8\u4e00\u4e2a\u65b0\u7ebf\u7a0b\u7684\u6210\u672c\u662f\u6bd4\u8f83\u9ad8\u7684\uff0c\u56e0\u4e3a\u5b83\u6d89\u53ca\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u7684\u4ea4\u4e92\u3002\u5728\u8fd9\u79cd\u60c5\u5f62\u4e0b\uff0c\u4f7f\u7528\u7ebf\u7a0b\u6c60\u53ef\u4ee5\u5f88\u597d\u5730\u63d0\u5347\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5f53\u7a0b\u5e8f\u4e2d\u9700\u8981\u521b\u5efa\u5927\u91cf\u751f\u5b58\u671f\u5f88\u77ed\u6682\u7684\u7ebf\u7a0b\u65f6\uff0c\u66f4\u5e94\u8be5\u8003\u8651\u4f7f\u7528\u7ebf\u7a0b\u6c60\u3002 \u7ebf\u7a0b\u6c60\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u5373\u521b\u5efa\u5927\u91cf\u7a7a\u95f2\u7684\u7ebf\u7a0b\uff0c\u7a0b\u5e8f\u53ea\u8981\u5c06\u4e00\u4e2a\u51fd\u6570\u63d0\u4ea4\u7ed9\u7ebf\u7a0b\u6c60\uff0c\u7ebf\u7a0b\u6c60\u5c31\u4f1a\u542f\u52a8\u4e00\u4e2a\u7a7a\u95f2\u7684\u7ebf\u7a0b\u6765\u6267\u884c\u5b83\u3002\u5f53\u8be5\u51fd\u6570\u6267\u884c\u7ed3\u675f\u540e\uff0c\u8be5\u7ebf\u7a0b\u5e76\u4e0d\u4f1a\u6b7b\u4ea1\uff0c\u800c\u662f\u518d\u6b21\u8fd4\u56de\u5230\u7ebf\u7a0b\u6c60\u4e2d\u53d8\u6210\u7a7a\u95f2\u72b6\u6001\uff0c\u7b49\u5f85\u6267\u884c\u4e0b\u4e00\u4e2a\u51fd\u6570\u3002 \u6b64\u5916\uff0c\u4f7f\u7528\u7ebf\u7a0b\u6c60\u53ef\u4ee5\u6709\u6548\u5730\u63a7\u5236\u7cfb\u7edf\u4e2d\u5e76\u53d1\u7ebf\u7a0b\u7684\u6570\u91cf\u3002\u5f53\u7cfb\u7edf\u4e2d\u5305\u542b\u6709\u5927\u91cf\u7684\u5e76\u53d1\u7ebf\u7a0b\u65f6\uff0c\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u6027\u80fd\u6025\u5267\u4e0b\u964d\uff0c\u751a\u81f3\u5bfc\u81f4\u89e3\u91ca\u5668\u5d29\u6e83\uff0c\u800c\u7ebf\u7a0b\u6c60\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u53c2\u6570\u53ef\u4ee5\u63a7\u5236\u7cfb\u7edf\u4e2d\u5e76\u53d1\u7ebf\u7a0b\u7684\u6570\u91cf\u4e0d\u8d85\u8fc7\u6b64\u6570\u3002 import time from concurrent.futures import ThreadPoolExecutor def task(i): print(f'\u4efb\u52a1{i}\u5f00\u59cb\uff01') time.sleep(i) print(f'\u4efb\u52a1{i}\u7ed3\u675f\uff01') return i start = time.time() pool = ThreadPoolExecutor(3) future01 = pool.submit(task, 1) # print(\"future01\u662f\u5426\u7ed3\u675f\", future01.done()) # \u5f53\u7a0b\u5e8f\u4f7f\u7528 Future \u7684 result() \u65b9\u6cd5\u6765\u83b7\u53d6\u7ed3\u679c\u65f6\uff0c\u8be5\u65b9\u6cd5\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a timeout \u53c2\u6570\uff0c\u5f53\u524d\u7ebf\u7a0b\u5c06\u4e00\u76f4\u5904\u4e8e\u963b\u585e\u72b6\u6001\uff0c\u76f4\u5230 Future \u4ee3\u8868\u7684\u4efb\u52a1\u8fd4\u56de\u3002 # print(\"future01\u7684\u7ed3\u679c\", future01.result()) # \u540c\u6b65\u7b49\u5f85 future02 = pool.submit(task, 2) future03 = pool.submit(task, 3) pool.shutdown() # \u963b\u585e\u7b49\u5f85 print(f\"\u7a0b\u5e8f\u8017\u65f6{time.time() - start}\u79d2\u949f\") print(\"future01\u7684\u7ed3\u679c\", future01.result()) print(\"future02\u7684\u7ed3\u679c\", future02.result()) print(\"future03\u7684\u7ed3\u679c\", future03.result()) \u4f7f\u7528\u7ebf\u7a0b\u6c60\u6765\u6267\u884c\u7ebf\u7a0b\u4efb\u52a1\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a \u8c03\u7528 ThreadPoolExecutor \u7c7b\u7684\u6784\u9020\u5668\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u6c60\u3002 \u5b9a\u4e49\u4e00\u4e2a\u666e\u901a\u51fd\u6570\u4f5c\u4e3a\u7ebf\u7a0b\u4efb\u52a1\u3002 \u8c03\u7528 ThreadPoolExecutor \u5bf9\u8c61\u7684 submit() \u65b9\u6cd5\u6765\u63d0\u4ea4\u7ebf\u7a0b\u4efb\u52a1\u3002 \u5f53\u4e0d\u60f3\u63d0\u4ea4\u4efb\u4f55\u4efb\u52a1\u65f6\uff0c\u8c03\u7528 ThreadPoolExecutor \u5bf9\u8c61\u7684 shutdown() \u65b9\u6cd5\u6765\u5173\u95ed\u7ebf\u7a0b\u6c60\u3002","title":"\u30103\u3011\u7ebf\u7a0b\u6c60"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_6","text":"import requests from lxml import etree import os import asyncio import time import threading def get_img_urls(): res = requests.get(\"https://www.pkdoutu.com/photo/list/\", headers={ \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36\" }) selector = etree.HTML(res.text) img_urls = selector.xpath('//li[@class=\"list-group-item\"]/div/div/a/img[@data-backup]/@data-backup') print(img_urls) return img_urls def save_img(url): res = requests.get(url) name = os.path.basename(url) with open(\"imgs/\" + name, \"wb\") as f: f.write(res.content) print(f\"{name}\u4e0b\u8f7d\u5b8c\u6210\uff01\") def main(): img_urls = get_img_urls() # \u4e32\u884c [save_img(url) for url in img_urls] # \u534f\u7a0b\u5e76\u53d1 t_list = [] for url in img_urls: t = threading.Thread(target=save_img, args=(url,)) t.start() t_list.append(t) for t in t_list: t.join() if __name__ == '__main__': start = time.time() main() end = time.time() print(end - start) \u9488\u5bf9IO\u5bc6\u96c6\u578b\u4efb\u52a1\uff0cPython\u591a\u7ebf\u7a0b\u53ef\u4ee5\u53d1\u6325\u51fa\u4e0d\u9519\u7684\u5e76\u53d1\u4f5c\u7528","title":"\u30104\u3011\u7ebf\u7a0b\u5e94\u7528"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_8","text":"\u7531\u4e8eGIL\u7684\u5b58\u5728\uff0cpython\u4e2d\u7684\u591a\u7ebf\u7a0b\u5176\u5b9e\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u591a\u7ebf\u7a0b\uff0c\u5982\u679c\u60f3\u8981\u5145\u5206\u5730\u4f7f\u7528\u591a\u6838CPU\u7684\u8d44\u6e90\uff0c\u5728python\u4e2d\u5927\u90e8\u5206\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u591a\u8fdb\u7a0b\u3002 multiprocessing\u5305\u662fPython\u4e2d\u7684\u591a\u8fdb\u7a0b\u7ba1\u7406\u5305\u3002\u4e0ethreading.Thread\u7c7b\u4f3c\uff0c\u5b83\u53ef\u4ee5\u5229\u7528multiprocessing.Process\u5bf9\u8c61\u6765\u521b\u5efa\u4e00\u4e2a\u8fdb\u7a0b\u3002\u8be5\u8fdb\u7a0b\u53ef\u4ee5\u8fd0\u884c\u5728Python\u7a0b\u5e8f\u5185\u90e8\u7f16\u5199\u7684\u51fd\u6570\u3002\u8be5Process\u5bf9\u8c61\u4e0eThread\u5bf9\u8c61\u7684\u7528\u6cd5\u76f8\u540c\uff0c\u4e5f\u6709start(), run(), join()\u7684\u65b9\u6cd5\u3002\u6b64\u5916multiprocessing\u5305\u4e2d\u4e5f\u6709Lock/Event/Semaphore/Condition\u7c7b (\u8fd9\u4e9b\u5bf9\u8c61\u53ef\u4ee5\u50cf\u591a\u7ebf\u7a0b\u90a3\u6837\uff0c\u901a\u8fc7\u53c2\u6570\u4f20\u9012\u7ed9\u5404\u4e2a\u8fdb\u7a0b)\uff0c\u7528\u4ee5\u540c\u6b65\u8fdb\u7a0b\uff0c\u5176\u7528\u6cd5\u4e0ethreading\u5305\u4e2d\u7684\u540c\u540d\u7c7b\u4e00\u81f4\u3002\u6240\u4ee5\uff0cmultiprocessing\u7684\u5f88\u5927\u4e00\u90e8\u4efd\u4e0ethreading\u4f7f\u7528\u540c\u4e00\u5957API\uff0c\u53ea\u4e0d\u8fc7\u6362\u5230\u4e86\u591a\u8fdb\u7a0b\u7684\u60c5\u5883\u3002 python\u7684\u8fdb\u7a0b\u8c03\u7528: import multiprocessing import time def foo(): print(\"foo start...\") time.sleep(5) print(\"foo end...\") def bar(): print(\"bar start...\") time.sleep(3) print(\"bar end...\") if __name__ == '__main__': start = time.time() t1 = multiprocessing.Process(target=foo, args=()) t1.start() t2 = multiprocessing.Process(target=bar, args=()) t2.start() # \u7b49\u5f85\u6240\u6709\u5b50\u7ebf\u7a0b\u7ed3\u675f t1.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt1 t2.join() # \u7b49\u5f85\u5b50\u7ebf\u7a0bt2 end = time.time() print(end - start)","title":"3\u3001\u591a\u8fdb\u7a0b\u5b9e\u73b0"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_7","text":"\u534f\u7a0b\uff0c\u53c8\u79f0\u5fae\u7ebf\u7a0b\uff0c\u7ea4\u7a0b\u3002\u82f1\u6587\u540dCoroutine\u3002\u4e00\u53e5\u8bdd\u8bf4\u660e\u4ec0\u4e48\u662f\u7ebf\u7a0b\uff1a\u534f\u7a0b\u662f\u4e00\u79cd\u7528\u6237\u6001\u7684\u8f7b\u91cf\u7ea7\u7ebf\u7a0b\u3002 \u534f\u7a0b\u62e5\u6709\u81ea\u5df1\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u3002\u534f\u7a0b\u8c03\u5ea6\u5207\u6362\u65f6\uff0c\u5c06\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u4fdd\u5b58\u5230\u5176\u4ed6\u5730\u65b9\uff0c\u5728\u5207\u56de\u6765\u7684\u65f6\u5019\uff0c\u6062\u590d\u5148\u524d\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u4e0a\u4e0b\u6587\u548c\u6808\u3002\u56e0\u6b64\uff1a \u534f\u7a0b\u80fd\u4fdd\u7559\u4e0a\u4e00\u6b21\u8c03\u7528\u65f6\u7684\u72b6\u6001\uff08\u5373\u6240\u6709\u5c40\u90e8\u72b6\u6001\u7684\u4e00\u4e2a\u7279\u5b9a\u7ec4\u5408\uff09\uff0c\u6bcf\u6b21\u8fc7\u7a0b\u91cd\u5165\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u8fdb\u5165\u4e0a\u4e00\u6b21\u8c03\u7528\u7684\u72b6\u6001\uff0c\u6362\u79cd\u8bf4\u6cd5\uff1a\u8fdb\u5165\u4e0a\u4e00\u6b21\u79bb\u5f00\u65f6\u6240\u5904\u903b\u8f91\u6d41\u7684\u4f4d\u7f6e\u3002","title":"4\u3001\u534f\u7a0b\u5b9e\u73b0"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1yield","text":"def foo(): print(\"OK1\") yield 100 # \u5207\u6362: \u4fdd\u5b58/\u6062\u590d\u7684\u529f\u80fd print(\"OK2\") yield 1000 def bar(): print(\"OK3\") yield 200 print(\"OK4\") yield 2000 gen = foo() ret = next(gen) # gen.__next__() print(ret) gen2 = bar() ret2 = next(gen2) # gen.__next__() print(ret2) ret = next(gen) # gen.__next__() print(ret) ret2 = next(gen2) # gen.__next__() print(ret2)","title":"\u30101\u3011yield\u4e0e\u534f\u7a0b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2asyncio","text":"asyncio\u5373Asynchronous I/O\u662fpython\u4e00\u4e2a\u7528\u6765\u5904\u7406\u5e76\u53d1(concurrent)\u4e8b\u4ef6\u7684\u5305\uff0c\u662f\u5f88\u591apython\u5f02\u6b65\u67b6\u6784\u7684\u57fa\u7840\uff0c\u591a\u7528\u4e8e\u5904\u7406\u9ad8\u5e76\u53d1\u7f51\u7edc\u8bf7\u6c42\u65b9\u9762\u7684\u95ee\u9898\u3002 \u4e3a\u4e86\u7b80\u5316\u5e76\u66f4\u597d\u5730\u6807\u8bc6\u5f02\u6b65IO\uff0c\u4ece Python 3.5\u5f00\u59cb\u5f15\u5165\u4e86\u65b0\u7684\u8bed\u6cd5 async \u548c await \uff0c\u53ef\u4ee5\u8ba9coroutine\u7684\u4ee3\u7801\u66f4\u7b80\u6d01\u6613\u8bfb\u3002 asyncio \u88ab\u7528\u4f5c\u591a\u4e2a\u63d0\u4f9b\u9ad8\u6027\u80fd Python \u5f02\u6b65\u6846\u67b6\u7684\u57fa\u7840\uff0c\u5305\u62ec\u7f51\u7edc\u548c\u7f51\u7ad9\u670d\u52a1\uff0c\u6570\u636e\u5e93\u8fde\u63a5\u5e93\uff0c\u5206\u5e03\u5f0f\u4efb\u52a1\u961f\u5217\u7b49\u7b49\u3002 asyncio \u5f80\u5f80\u662f\u6784\u5efa IO \u5bc6\u96c6\u578b\u548c\u9ad8\u5c42\u7ea7 \u7ed3\u6784\u5316 \u7f51\u7edc\u4ee3\u7801\u7684\u6700\u4f73\u9009\u62e9\u3002 import asyncio async def task(i): print(f\"task {i} start\") await asyncio.sleep(1) print(f\"task {i} end\") # \u521b\u5efa\u4e8b\u4ef6\u5faa\u73af\u5bf9\u8c61 loop = asyncio.get_event_loop() # \u76f4\u63a5\u5c06\u534f\u7a0b\u5bf9\u8c61\u52a0\u5165\u65f6\u95f4\u5faa\u73af\u4e2d tasks = [task(1), task(2)] # asyncio.wait:\u5c06\u534f\u7a0b\u4efb\u52a1\u8fdb\u884c\u6536\u96c6\uff0c\u529f\u80fd\u7c7b\u4f3c\u540e\u9762\u7684asyncio.gather # run_until_complete\u963b\u585e\u8c03\u7528\uff0c\u76f4\u5230\u534f\u7a0b\u5168\u90e8\u8fd0\u884c\u7ed3\u675f\u624d\u8fd4\u56de loop.run_until_complete(asyncio.wait(tasks)) loop.close() task : \u4efb\u52a1,\u5bf9 \u534f\u7a0b\u5bf9\u8c61 \u7684\u8fdb\u4e00\u6b65\u5c01\u88c5,\u5305\u542b\u4efb\u52a1\u7684\u5404\u4e2a\u72b6\u6001;asyncio.Task\u662fFuture\u7684\u4e00\u4e2a\u5b50\u7c7b\uff0c\u7528\u4e8e\u5b9e\u73b0\u534f\u4f5c\u5f0f\u591a\u4efb\u52a1\u7684\u5e93\uff0c\u4e14Task\u5bf9\u8c61\u4e0d\u80fd\u7528\u6237\u624b\u52a8\u5b9e\u4f8b\u5316\uff0c\u901a\u8fc7\u4e0b\u97622\u4e2a\u51fd\u6570 loop.create_task() \u6216 asyncio.ensure_future() \u521b\u5efa\u3002 import asyncio, time async def work(i, n): # \u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u5f02\u6b65\u51fd\u6570 print('\u4efb\u52a1{}\u7b49\u5f85: {}\u79d2'.format(i, n)) await asyncio.sleep(n) # \u4f11\u7720\u4e00\u6bb5\u65f6\u95f4 print('\u4efb\u52a1{}\u5728{}\u79d2\u540e\u8fd4\u56de\u7ed3\u675f\u8fd0\u884c'.format(i, n)) return i + n start_time = time.time() # \u5f00\u59cb\u65f6\u95f4 tasks = [asyncio.ensure_future(work(1, 1)), asyncio.ensure_future(work(2, 2)), asyncio.ensure_future(work(3, 3))] loop = asyncio.get_event_loop() loop.run_until_complete(asyncio.wait(tasks)) loop.close() print('\u8fd0\u884c\u65f6\u95f4: ', time.time() - start_time) for task in tasks: print('\u4efb\u52a1\u6267\u884c\u7ed3\u679c: ', task.result())","title":"\u30102\u3011asyncio\u6a21\u5757"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#338","text":"async.run() \u8fd0\u884c\u534f\u7a0b async.create_task() \u521b\u5efatask async.gather() \u83b7\u53d6\u8fd4\u56de\u503c import asyncio, time async def work(i, n): # \u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u5f02\u6b65\u51fd\u6570 print('\u4efb\u52a1{}\u7b49\u5f85: {}\u79d2'.format(i, n)) await asyncio.sleep(n) # \u4f11\u7720\u4e00\u6bb5\u65f6\u95f4 print('\u4efb\u52a1{}\u5728{}\u79d2\u540e\u8fd4\u56de\u7ed3\u675f\u8fd0\u884c'.format(i, n)) return i + n tasks = [] async def main(): global tasks tasks = [asyncio.create_task(work(1, 1)), asyncio.create_task(work(2, 2)), asyncio.create_task(work(3, 3))] await asyncio.wait(tasks) # \u963b\u585e start_time = time.time() # \u5f00\u59cb\u65f6\u95f4 asyncio.run(main()) print('\u8fd0\u884c\u65f6\u95f4: ', time.time() - start_time) for task in tasks: print('\u4efb\u52a1\u6267\u884c\u7ed3\u679c: ', task.result()) asyncio.create_task() \u51fd\u6570\u5728 Python 3.7 \u4e2d\u88ab\u52a0\u5165\u3002 asyncio.gather \u65b9\u6cd5 # \u7528gather()\u6536\u96c6\u8fd4\u56de\u503c import asyncio, time async def work(i, n): # \u4f7f\u7528async\u5173\u952e\u5b57\u5b9a\u4e49\u5f02\u6b65\u51fd\u6570 print('\u4efb\u52a1{}\u7b49\u5f85: {}\u79d2'.format(i, n)) await asyncio.sleep(n) # \u4f11\u7720\u4e00\u6bb5\u65f6\u95f4 print('\u4efb\u52a1{}\u5728{}\u79d2\u540e\u8fd4\u56de\u7ed3\u675f\u8fd0\u884c'.format(i, n)) return i + n async def main(): tasks = [asyncio.create_task(work(1, 1)), asyncio.create_task(work(2, 2)), asyncio.create_task(work(3, 3))] # \u5c06task\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165gather\uff0c\u7b49\u5f02\u6b65\u4efb\u52a1\u90fd\u7ed3\u675f\u540e\u8fd4\u56de\u7ed3\u679c\u5217\u8868 response = await asyncio.gather(tasks[0], tasks[1], tasks[2]) print(\"\u5f02\u6b65\u4efb\u52a1\u7ed3\u679c\uff1a\", response) start_time = time.time() # \u5f00\u59cb\u65f6\u95f4 asyncio.run(main()) print('\u8fd0\u884c\u65f6\u95f4: ', time.time() - start_time)","title":"\u30103\u30113.8\u7248\u672c+"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4aiohttp","text":"\u6211\u4eec\u4e4b\u524d\u5b66\u4e60\u8fc7\u722c\u866b\u6700\u91cd\u8981\u7684\u6a21\u5757requests\uff0c\u4f46\u5b83\u662f\u963b\u585e\u5f0f\u7684\u53d1\u8d77\u8bf7\u6c42\uff0c\u6bcf\u6b21\u8bf7\u6c42\u53d1\u8d77\u540e\u9700\u963b\u585e\u7b49\u5f85\u5176\u8fd4\u56de\u54cd\u5e94\uff0c\u4e0d\u80fd\u505a\u5176\u4ed6\u7684\u4e8b\u60c5\u3002\u672c\u6587\u8981\u4ecb\u7ecd\u7684aiohttp\u53ef\u4ee5\u7406\u89e3\u6210\u662f\u548crequests\u5bf9\u5e94Python\u5f02\u6b65\u7f51\u7edc\u8bf7\u6c42\u5e93\uff0c\u5b83\u662f\u57fa\u4e8e asyncio \u7684\u5f02\u6b65\u6a21\u5757\uff0c\u53ef\u7528\u4e8e\u5b9e\u73b0\u5f02\u6b65\u722c\u866b\uff0c\u6709\u70b9\u5c31\u662f\u66f4\u5feb\u4e8e requests \u7684\u540c\u6b65\u722c\u866b\u3002\u5b89\u88c5\u65b9\u5f0f\uff0cpip install aiohttp\u3002 aiohttp\u662f\u4e00\u4e2a\u4e3aPython\u63d0\u4f9b\u5f02\u6b65HTTP \u5ba2\u6237\u7aef/\u670d\u52a1\u7aef\u7f16\u7a0b\uff0c\u57fa\u4e8e asyncio \u7684\u5f02\u6b65\u5e93\u3002asyncio\u53ef\u4ee5\u5b9e\u73b0\u5355\u7ebf\u7a0b\u5e76\u53d1IO\u64cd\u4f5c\uff0c\u5176\u5b9e\u73b0\u4e86TCP\u3001UDP\u3001SSL\u7b49\u534f\u8bae\uff0caiohttp\u5c31\u662f\u57fa\u4e8easyncio\u5b9e\u73b0\u7684http\u6846\u67b6\u3002 import aiohttp import asyncio async def main(): async with aiohttp.ClientSession() as session: async with session.get(\"http://httpbin.org/headers\") as response: print(await response.text()) asyncio.run(main())","title":"\u30104\u3011aiohttp"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_3","text":"","title":"\u30105\u3011\u5e94\u7528\u6848\u4f8b\uff08\u5f02\u6b65\u722c\u866b\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_11","text":"import aiohttp import asyncio import os from lxml import etree import time headers = { \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36\" } async def get_img_urls(): url = \"https://www.pkdoutu.com/photo/list/\" async with aiohttp.ClientSession() as session: async with session.get(url, headers=headers, ssl=False) as resp: text = await resp.content.read() selector = etree.HTML(text) img_urls = selector.xpath('//li[@class=\"list-group-item\"]/div/div/a/img[@data-backup]/@data-backup') return img_urls async def async_download(url): name = os.path.basename(url) async with aiohttp.ClientSession() as session: async with session.get(url, ssl=False) as resp: # \u5c06\u5f97\u5230\u7684\u8bf7\u6c42\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d with open(f\"imgs/{name}.jpg\", \"wb\") as f: f.write(await resp.content.read()) async def main(): tasks = [asyncio.create_task(async_download(url)) for url in await get_img_urls()] await asyncio.wait(tasks) if __name__ == '__main__': start = time.time() asyncio.run(main()) print(time.time() - start)","title":"\uff081\uff09\u5f02\u6b65\u722c\u53d6\u6597\u56fe\u7f51"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2m3u8","text":"m3u8\u4e32\u884c\u722c\u53d6\u7248\u672c import requests import re import os session = requests.Session() # (1) \u722c\u53d6m3u8\u6587\u4ef6\u7684\u94fe\u63a5 url = \"https://www.9tata.cc/play/14999-1-0.html\" headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36' } res = session.get(url, headers=headers, verify=False) m3u8_link = re.search('now=\"(.*?m3u8)\"', res.text).group(1) print(m3u8_link) # https://ikcdn01.ikzybf.com/20221015/ecMSO74h/index.m3u8 # \u987a\u4fbf\u6293\u4e00\u4e2a\u540d\u5b57 name = re.search(r'<td class=\"col2 hidden-xs\">(?P<name>\\w+)</td>', res.text).group(\"name\") print(\"name\", name) # (2) \u722c\u53d6m3u8\u6587\u4ef6 res = session.get(m3u8_link) print(res.text.split(\"\\n\")[-1]) m3u8_detail_link = os.path.join(os.path.dirname(m3u8_link), res.text.split(\"\\n\")[-1]) print(m3u8_detail_link) # (3) \u722c\u53d6m3u8\u5177\u4f53\u6587\u4ef6 res = requests.get(m3u8_detail_link) print(res.text) # (4) \u89e3\u6790ts\u6587\u4ef6 ret = re.findall(r\"\\n(.*?\\.ts)\", res.text) print(ret) # (5) \u4e0b\u8f7d\u6bcf\u4e00\u4e2ats\u6587\u4ef6 p = os.path.dirname(m3u8_detail_link) with open(name, \"ab\") as f: for ts in ret: path = os.path.join(p, ts) res = requests.get(path) f.write(res.content) print(f\"{ts}\u4e0b\u8f7d\u5b8c\u6210\uff01\") m3u8\u5e76\u53d1\u722c\u53d6\u7248\u672c import requests import re import os import aiohttp import asyncio import time headers = { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36' } async def get_m3u8_link(): # (1) \u722c\u53d6m3u8\u6587\u4ef6\u7684\u94fe\u63a5 url = \"https://www.9tata.cc/play/14999-1-0.html\" async with aiohttp.ClientSession() as session: async with session.get(url, headers=headers, ssl=False) as response: res = await response.text() m3u8_link = re.search('now=\"(.*?m3u8)\"', res).group(1) print(m3u8_link) # https://ikcdn01.ikzybf.com/20221015/ecMSO74h/index.m3u8 # \u987a\u4fbf\u6293\u4e00\u4e2a\u540d\u5b57 name = re.search(r'<td class=\"col2 hidden-xs\">(?P<name>\\w+)</td>', res).group(\"name\") print(\"name\", name) return m3u8_link, name async def get_m3u8_detail_link(m3u8_link): # (2) \u722c\u53d6m3u8\u6587\u4ef6 async with aiohttp.ClientSession() as session: async with session.get(m3u8_link, headers=headers, ssl=False) as response: res = await response.text() m3u8_detail_link = os.path.join(os.path.dirname(m3u8_link), res.split(\"\\n\")[-1]) print(m3u8_detail_link) return m3u8_detail_link async def parse_ts(m3u8_detail_link): # (3) \u722c\u53d6m3u8\u5177\u4f53\u6587\u4ef6 async with aiohttp.ClientSession() as session: async with session.get(m3u8_detail_link, headers=headers, ssl=False) as response: with open(\"ts\u6587\u4ef6/index.m3u8\", \"w\") as f: res_text = await response.text() f.write(res_text) # (4) \u89e3\u6790ts\u6587\u4ef6 ret = re.findall(r\"\\n(.*?\\.ts)\", res_text) print(ret) return ret async def download_video(m3u8_detail_link, ts_list): p = os.path.dirname(m3u8_detail_link) tasks = [] for ts in ts_list: path = os.path.join(p, ts) task = asyncio.create_task(download_ts(path, ts)) tasks.append(task) await asyncio.wait(tasks) async def download_ts(path, ts): if not os.path.exists(\"ts\u6587\u4ef6\"): os.mkdir(\"ts\u6587\u4ef6\") async with aiohttp.ClientSession() as session: async with session.get(path, ssl=False) as resp: # \u5c06\u5f97\u5230\u7684\u8bf7\u6c42\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d with open(\"ts\u6587\u4ef6/\" + ts, \"wb\") as f: f.write(await resp.content.read()) print(f\"{ts}\u4e0b\u8f7d\u5b8c\u6210\uff01\") def merge(filename='out'): ''' \u89c6\u9891\u5408\u5e76 :return: ''' # \u8fdb\u5165\u5230\u4e0b\u8f7d\u540ets \u7684\u76ee\u5f55 os.chdir(\"ts\u6587\u4ef6\") # \u89c6\u9891\u5408\u5e76\u7684\u547d\u4ee4 os.system(f'ffmpeg -i index.m3u8 -c copy {filename}.mp4') print(f'\u89c6\u9891{filename} \u5408\u5e76\u6210\u529f====') async def main(): m3u8_link, name = await get_m3u8_link() m3u8_detail_link = await get_m3u8_detail_link(m3u8_link) ts_list = await parse_ts(m3u8_detail_link) await download_video(m3u8_detail_link, ts_list) merge(name) if __name__ == '__main__': start = time.time() asyncio.run(main()) print(time.time() - start) \u77e5\u8bc6\u70b9\uff1affmpeg -i index.m3u8 -c copy apple.mp4 \u77e5\u8bc6\u70b9\uff1aos.system\u6267\u884c\u7ec8\u7aef\u547d\u4ee4","title":"\uff082\uff09\u5f02\u6b65\u722c\u53d6m3u8\u89c6\u9891"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#web","text":"\u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\uff0c\u524d\u7aef\u6280\u672f\u4e5f\u5728\u4e0d\u65ad\u53d8\u5316\uff0c\u6570\u636e\u7684\u52a0\u8f7d\u65b9\u5f0f\u4e5f\u4e0d\u518d\u662f\u5355\u7eaf\u7684\u670d\u52a1\u7aef\u6e32\u67d3\u4e86\u3002\u73b0\u5728\u4f60\u53ef\u4ee5\u770b\u5230\u5f88\u591a\u7f51\u7ad9\u7684\u6570\u636e\u53ef\u80fd\u90fd\u662f\u901a\u8fc7\u63a5\u53e3\u7684\u5f62\u5f0f\u4f20\u8f93\u7684\uff0c\u6216\u8005\u5373\u4f7f\u4e0d\u662f\u63a5\u53e3\u90a3\u4e5f\u662f\u4e00\u4e9b JSON \u7684\u6570\u636e\uff0c\u7136\u540e\u7ecf\u8fc7 JavaScript \u6e32\u67d3\u5f97\u51fa\u6765\u7684\u3002 \u8fd9\u65f6\uff0c\u5982\u679c\u4f60\u8fd8\u7528 requests \u6765\u722c\u53d6\u5185\u5bb9\uff0c\u90a3\u5c31\u4e0d\u7ba1\u7528\u4e86\u3002\u56e0\u4e3a requests \u722c\u53d6\u4e0b\u6765\u7684\u53ea\u80fd\u662f\u670d\u52a1\u5668\u7aef\u7f51\u9875\u7684\u6e90\u7801\uff0c\u8fd9\u548c\u6d4f\u89c8\u5668\u6e32\u67d3\u4ee5\u540e\u7684\u9875\u9762\u5185\u5bb9\u662f\u4e0d\u4e00\u6837\u7684\u3002\u56e0\u4e3a\uff0c\u771f\u6b63\u7684\u6570\u636e\u662f\u7ecf\u8fc7 JavaScript \u6267\u884c\u540e\uff0c\u6e32\u67d3\u51fa\u6765\u7684\uff0c\u6570\u636e\u6765\u6e90\u53ef\u80fd\u662f Ajax\uff0c\u4e5f\u53ef\u80fd\u662f\u9875\u9762\u91cc\u7684\u67d0\u4e9b Data\uff0c\u6216\u8005\u662f\u4e00\u4e9b ifame \u9875\u9762\u7b49\u3002\u4e0d\u8fc7\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u6781\u6709\u53ef\u80fd\u662f Ajax \u63a5\u53e3\u83b7\u53d6\u7684\u3002 \u6240\u4ee5\uff0c\u5f88\u591a\u60c5\u51b5\u6211\u4eec\u9700\u8981\u5206\u6790 Ajax\u8bf7\u6c42\uff0c\u5206\u6790\u8fd9\u4e9b\u63a5\u53e3\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u901a\u8fc7\u6293\u5305\u5de5\u5177\u6216\u8005\u6d4f\u89c8\u5668\u7684\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\uff0c\u627e\u5230\u6570\u636e\u7684\u8bf7\u6c42\u94fe\u63a5\uff0c\u7136\u540e\u518d\u7528\u7a0b\u5e8f\u6765\u6a21\u62df\u3002\u4f46\u662f\uff0c\u6293\u5305\u5206\u6790\u6d41\u7684\u65b9\u5f0f\uff0c\u4e5f\u5b58\u5728\u4e00\u5b9a\u7684\u7f3a\u70b9\u3002\u56e0\u4e3a\u6709\u4e9b\u63a5\u53e3\u5e26\u7740\u52a0\u5bc6\u53c2\u6570\uff0c\u6bd4\u5982 token\u3001sign \u7b49\u7b49\uff0c\u6a21\u62df\u96be\u5ea6\u8f83\u5927\uff1b \u90a3\u6709\u6ca1\u6709\u4e00\u79cd\u7b80\u5355\u7c97\u66b4\u7684\u65b9\u6cd5\uff0c\u8fd9\u65f6 Puppeteer\u3001Pyppeteer\u3001Selenium\u3001Splash \u7b49\u81ea\u52a8\u5316\u6846\u67b6\u51fa\u73b0\u4e86\u3002\u4f7f\u7528\u8fd9\u4e9b\u6846\u67b6\u83b7\u53d6HTML\u6e90\u7801\uff0c\u8fd9\u6837\u6211\u4eec\u722c\u53d6\u5230\u7684\u6e90\u4ee3\u7801\u5c31\u662fJavaScript \u6e32\u67d3\u4ee5\u540e\u7684\u771f\u6b63\u7684\u7f51\u9875\u4ee3\u7801\uff0c\u6570\u636e\u81ea\u7136\u5c31\u597d\u63d0\u53d6\u4e86\u3002\u540c\u65f6\uff0c\u4e5f\u5c31\u7ed5\u8fc7\u5206\u6790 Ajax \u548c\u4e00\u4e9b JavaScript \u903b\u8f91\u7684\u8fc7\u7a0b\u3002\u8fd9\u79cd\u65b9\u5f0f\u5c31\u505a\u5230\u4e86\u53ef\u89c1\u5373\u53ef\u722c\uff0c\u96be\u5ea6\u4e5f\u4e0d\u5927\uff0c\u540c\u65f6\u9002\u5408\u5927\u6279\u91cf\u7684\u91c7\u96c6\u3002 Selenium\uff0c\u4f5c\u4e3a\u4e00\u6b3e\u77e5\u540d\u7684Web\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\uff0c\u652f\u6301\u5927\u90e8\u5206\u4e3b\u6d41\u6d4f\u89c8\u5668\uff0c\u63d0\u4f9b\u4e86\u529f\u80fd\u4e30\u5bcc\u7684API\u63a5\u53e3\uff0c\u5e38\u5e38\u88ab\u6211\u4eec\u7528\u4f5c\u722c\u866b\u5de5\u5177\u6765\u4f7f\u7528\u3002\u7136\u800cselenium\u7684\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff0c \u6bd4\u5982\u901f\u5ea6\u592a\u6162\u3001\u5bf9\u7248\u672c\u914d\u7f6e\u8981\u6c42\u4e25\u82db,\u6700\u9ebb\u70e6\u662f\u7ecf\u5e38\u8981\u66f4\u65b0\u5bf9\u5e94\u7684\u9a71\u52a8 \u3002","title":"\u7b2c\u516d\u7ae0.web\u81ea\u52a8\u5316"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#61-selenium","text":"","title":"6.1 selenium"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_12","text":"\u7531\u4e8esleenium4.1.0\u9700\u8981python3.7\u4ee5\u4e0a\u65b9\u53ef\u652f\u6301\uff0c\u8bf7\u6ce8\u610f\u81ea\u5df1\u7684python\u7248\u672c\u3002 \u65b9\u5f0f\u4e00\uff1apip\u5b89\u88c5 Python3.x\u5b89\u88c5\u540e\u5c31\u9ed8\u8ba4\u5c31\u4f1a\u6709pip\uff08pip.exe\u9ed8\u8ba4\u5728python\u7684Scripts\u8def\u5f84\u4e0b\uff09\uff0c\u6253\u5f00 cmd\uff0c\u4f7f\u7528pip\u5b89\u88c5\u3002 pip install selenium \u9996\u6b21\u5b89\u88c5\u4f1a\u6709\u8fdb\u5ea6\u6761\uff0c\u800c\u4e14\u88c5\u51fa\u6765\u662f\u591a\u4e2a\u5305\uff08\u4f9d\u8d56\u4e8e\u5176\u4ed6\u7b2c\u4e09\u65b9\u5e93\uff09\u3002\u5982\u679c\u5b89\u88c5\u6162\uff08\u9ed8\u8ba4\u8fde\u63a5\u5b98\u7f51\uff09\uff0c\u53ef\u4ee5\u6307\u5b9a\u56fd\u5185\u6e90\u3002 pip install selenium -i https://mirrors.aliyun.com/pypi/simple/ \u65b9\u5f0f\u4e00\uff1aPycharm\u5b89\u88c5 Pycharm-File-Setting-Project:xxxx-Python Interpreter\uff0c\u70b9\u51fb+\u53f7 chrome\u9a71\u52a8\u5730\u5740:http://chromedriver.storage.googleapis.com/index.html \u6839\u636e\u4f60\u7535\u8111\u7684\u4e0d\u540c\u81ea\u884c\u9009\u62e9\u5427. win64\u9009win32\u5373\u53ef. \u628a\u4f60\u4e0b\u8f7d\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u653e\u5728python\u89e3\u91ca\u5668\u6240\u5728\u7684\u6587\u4ef6\u5939","title":"\u30101\u3011\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2quick-start","text":"selenium\u6700\u521d\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u5de5\u5177,\u800c\u722c\u866b\u4e2d\u4f7f\u7528\u5b83\u4e3b\u8981\u662f\u4e3a\u4e86\u89e3\u51b3requests\u65e0\u6cd5\u76f4\u63a5\u6267\u884cJavaScript\u4ee3\u7801\u7684\u95ee\u9898 selenium\u672c\u8d28\u662f\u901a\u8fc7\u9a71\u52a8\u6d4f\u89c8\u5668\uff0c\u5b8c\u5168\u6a21\u62df\u6d4f\u89c8\u5668\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u8df3\u8f6c\u3001\u8f93\u5165\u3001\u70b9\u51fb\u3001\u4e0b\u62c9\u7b49\uff0c\u6765\u62ff\u5230\u7f51\u9875\u6e32\u67d3\u4e4b\u540e\u7684\u7ed3\u679c\uff0c\u53ef\u652f\u6301\u591a\u79cd\u6d4f\u89c8\u5668 \u5b89\u88c5pip\u5305 pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple selenium \u6848\u4f8b\uff1a from selenium import webdriver from selenium.webdriver.common.by import By # \u6309\u7167\u4ec0\u4e48\u65b9\u5f0f\u67e5\u627e\uff0cBy.ID,By.CSS_SELECTOR from selenium.webdriver.common.keys import Keys # \u952e\u76d8\u6309\u952e\u64cd\u4f5c from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.support.wait import WebDriverWait # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u67d0\u4e9b\u5143\u7d20 chrome = webdriver.Chrome() try: chrome.get('https://www.jd.com') input_tag = chrome.find_element(By.ID, 'key') input_tag.send_keys('hellokitty') input_tag.send_keys(Keys.ENTER) wait = WebDriverWait(chrome, 10) # time.sleep(3) wait.until(EC.presence_of_element_located((By.ID, 'J_goodsList'))) # \u7b49\u5230id\u4e3aJ_goodsList\u7684\u5143\u7d20\u52a0\u8f7d\u5b8c\u6bd5,\u6700\u591a\u7b4910\u79d2 chrome.save_screenshot(\"hellokitty.png\") finally: chrome.close()","title":"\u30102\u3011quick start"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_9","text":"# \u65b9\u5f0f1 el = driver.find_element_by_xxx(value) # \u65b9\u5f0f2: \u63a8\u8350 from selenium.webdriver.common.by import By driver.find_element(By.xxx,value) driver.find_elements(By.xx, value) # \u8fd4\u56de\u5217\u8868 \u516b\u79cd\u65b9\u5f0f\uff1a id name class tag link partial xpath css","title":"\u30103\u3011\u5143\u7d20\u5b9a\u4f4d"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_8","text":"Selenium\u53ef\u4ee5\u9a71\u52a8\u6d4f\u89c8\u5668\u6765\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ef\u4ee5\u8ba9\u6d4f\u89c8\u5668\u6a21\u62df\u6267\u884c\u4e00\u4e9b\u52a8\u4f5c\u3002\u6bd4\u8f83\u5e38\u89c1\u7684\u7528\u6cd5\u6709\uff1a\u8f93\u5165\u6587\u5b57\u65f6\u7528 send_keys() \u65b9\u6cd5\uff0c\u6e05\u7a7a\u6587\u5b57\u65f6\u7528 clear() \u65b9\u6cd5\uff0c\u70b9\u51fb\u6309\u94ae\u65f6\u7528 click() \u65b9\u6cd5\u3002\u793a\u4f8b\u5982\u4e0b\uff1a find_element\u65b9\u6cd5\u4ec5\u4ec5\u80fd\u591f\u83b7\u53d6\u5143\u7d20\u5bf9\u8c61\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5bf9\u5143\u7d20\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u63d0\u53d6\u6570\u636e\u7684\u65b9\u6cd5 \u4ece\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u4e2d\u83b7\u53d6\u6570\u636e el.get_attribute(key) # \u83b7\u53d6key\u5c5e\u6027\u540d\u5bf9\u5e94\u7684\u5c5e\u6027\u503c el.text # \u83b7\u53d6\u5f00\u95ed\u6807\u7b7e\u4e4b\u95f4\u7684\u6587\u672c\u5185\u5bb9 \u5bf9\u5b9a\u4f4d\u5230\u7684\u5143\u7d20\u7684\u64cd\u4f5c el.click() # \u5bf9\u5143\u7d20\u6267\u884c\u70b9\u51fb\u64cd\u4f5c el.submit() # \u5bf9\u5143\u7d20\u6267\u884c\u63d0\u4ea4\u64cd\u4f5c el.clear() # \u6e05\u7a7a\u53ef\u8f93\u5165\u5143\u7d20\u4e2d\u7684\u6570\u636e el.send_keys(data) # \u5411\u53ef\u8f93\u5165\u5143\u7d20\u8f93\u5165\u6570\u636e from selenium import webdriver import time from selenium.webdriver.common.by import By browser = webdriver.Chrome() browser.get('https://www.taobao.com') q = browser.find_element(By.ID, \"q\") q.send_keys('MAC') time.sleep(1) q.clear() q.send_keys('IPhone') button = browser.find_element(By.CLASS_NAME, \"btn-search\") button.click()","title":"\u30104\u3011\u5143\u7d20\u64cd\u4f5c\uff08\u8282\u70b9\u4ea4\u4e92\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_4","text":"\u5728\u4e0a\u9762\u7684\u5b9e\u4f8b\u4e2d\uff0c\u4e00\u4e9b\u4ea4\u4e92\u52a8\u4f5c\u90fd\u662f\u9488\u5bf9\u67d0\u4e2a\u8282\u70b9\u6267\u884c\u7684\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e\u8f93\u5165\u6846\uff0c\u6211\u4eec\u5c31\u8c03\u7528\u5b83\u7684\u8f93\u5165\u6587\u5b57\u548c\u6e05\u7a7a\u6587\u5b57\u65b9\u6cd5\uff1b\u5bf9\u4e8e\u6309\u94ae\uff0c\u5c31\u8c03\u7528\u5b83\u7684\u70b9\u51fb\u65b9\u6cd5\u3002\u5176\u5b9e\uff0c\u8fd8\u6709\u53e6\u5916\u4e00\u4e9b\u64cd\u4f5c\uff0c\u5b83\u4eec\u6ca1\u6709\u7279\u5b9a\u7684\u6267\u884c\u5bf9\u8c61\uff0c\u6bd4\u5982\u9f20\u6807\u62d6\u66f3\u3001\u952e\u76d8\u6309\u952e\u7b49\uff0c\u8fd9\u4e9b\u52a8\u4f5c\u7528\u53e6\u4e00\u79cd\u65b9\u5f0f\u6765\u6267\u884c\uff0c\u90a3\u5c31\u662f\u52a8\u4f5c\u94fe\u3002 \u6bd4\u5982\uff0c\u73b0\u5728\u5b9e\u73b0\u4e00\u4e2a\u8282\u70b9\u7684\u62d6\u66f3\u64cd\u4f5c\uff0c\u5c06\u67d0\u4e2a\u8282\u70b9\u4ece\u4e00\u5904\u62d6\u66f3\u5230\u53e6\u5916\u4e00\u5904\uff0c\u53ef\u4ee5\u8fd9\u6837\u5b9e\u73b0\uff1a from time import sleep from selenium import webdriver from selenium.webdriver import ActionChains from selenium.webdriver.common.by import By driver = webdriver.Chrome() driver.implicitly_wait(10) driver.maximize_window() driver.get('http://sahitest.com/demo/dragDropMooTools.htm') dragger = driver.find_element(By.ID, 'dragger') # \u88ab\u62d6\u62fd\u5143\u7d20 item1 = driver.find_element(By.XPATH, '//div[text()=\"Item 1\"]') # \u76ee\u6807\u5143\u7d201 item2 = driver.find_element(By.XPATH, '//div[text()=\"Item 2\"]') # \u76ee\u68072 item3 = driver.find_element(By.XPATH, '//div[text()=\"Item 3\"]') # \u76ee\u68073 item4 = driver.find_element(By.XPATH, '//div[text()=\"Item 4\"]') # \u76ee\u68074 action = ActionChains(driver) action.drag_and_drop(dragger, item1).perform() # 1.\u79fb\u52a8dragger\u5230\u76ee\u68071 sleep(2) action.click_and_hold(dragger).release(item2).perform() # 2.\u6548\u679c\u4e0e\u4e0a\u53e5\u76f8\u540c\uff0c\u4e5f\u80fd\u8d77\u5230\u79fb\u52a8\u6548\u679c sleep(2) action.click_and_hold(dragger).move_to_element(item3).release().perform() # 3.\u6548\u679c\u4e0e\u4e0a\u4e24\u53e5\u76f8\u540c\uff0c\u4e5f\u80fd\u8d77\u5230\u79fb\u52a8\u7684\u6548\u679c sleep(2) action.click_and_hold(dragger).move_by_offset(800, 0).release().perform() sleep(2) driver.quit()","title":"\u30105\u3011\u52a8\u4f5c\u94fe"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6js","text":"selenium\u5e76\u4e0d\u662f\u4e07\u80fd\u7684\uff0c\u6709\u65f6\u5019\u9875\u9762\u4e0a\u64cd\u4f5c\u65e0\u6cd5\u5b9e\u73b0\u7684\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u501f\u52a9JS\u6765\u5b8c\u6210\u4e86\u3002 \u5f53\u9875\u9762\u4e0a\u7684\u5143\u7d20\u8d85\u8fc7\u4e00\u5c4f\u540e\uff0c\u60f3\u64cd\u4f5c\u5c4f\u5e55\u4e0b\u65b9\u7684\u5143\u7d20\uff0c\u662f\u4e0d\u80fd\u76f4\u63a5\u5b9a\u4f4d\u5230\uff0c\u4f1a\u62a5\u5143\u7d20\u4e0d\u53ef\u89c1\u7684\u3002\u8fd9\u65f6\u5019\u9700\u8981\u501f\u52a9\u6eda\u52a8\u6761\u6765\u62d6\u52a8\u5c4f\u5e55\uff0c\u4f7f\u88ab\u64cd\u4f5c\u7684\u5143\u7d20\u663e\u793a\u5728\u5f53\u524d\u7684\u5c4f\u5e55\u4e0a\u3002\u6eda\u52a8\u6761\u662f\u65e0\u6cd5\u76f4\u63a5\u7528\u5b9a\u4f4d\u5de5\u5177\u6765\u5b9a\u4f4d\u7684\u3002selenium\u91cc\u9762\u4e5f\u6ca1\u6709\u76f4\u63a5\u7684\u65b9\u6cd5\u53bb\u63a7\u5236\u6eda\u52a8\u6761\uff0c\u8fd9\u65f6\u5019\u53ea\u80fd\u501f\u52a9Js\u4ee3\u7801\u4e86\uff0c\u8fd8\u597dselenium\u63d0\u4f9b\u4e86\u4e00\u4e2a\u64cd\u4f5cjs\u7684\u65b9\u6cd5:execute_script()\uff0c\u53ef\u4ee5\u76f4\u63a5\u6267\u884cjs\u7684\u811a\u672c\u3002 \u4ee3\u7801\u5982\u4e0b\uff1a import time from selenium import webdriver browser = webdriver.Chrome() browser.get('https://www.jd.com/') browser.execute_script('window.scrollTo(0, document.body.scrollHeight)') time.sleep(3)","title":"\u30106\u3011\u6267\u884cJS"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#7","text":"\u4e3a\u4ec0\u4e48\u9700\u8981\u7b49\u5f85 \u5982\u679c\u7f51\u7ad9\u91c7\u7528\u4e86\u52a8\u6001html\u6280\u672f\uff0c\u90a3\u4e48\u9875\u9762\u4e0a\u7684\u90e8\u5206\u5143\u7d20\u51fa\u73b0\u65f6\u95f4\u4fbf\u4e0d\u80fd\u786e\u5b9a\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u5f3a\u5236\u7b49\u5f85\u6307\u5b9a\u65f6\u95f4\uff0c\u7b49\u5f85\u7ed3\u675f\u4e4b\u540e\u8fdb\u884c\u5143\u7d20\u5b9a\u4f4d\uff0c\u5982\u679c\u8fd8\u662f\u65e0\u6cd5\u5b9a\u4f4d\u5230\u5219\u62a5\u9519 \u9875\u9762\u7b49\u5f85\u7684\u4e09\u79cd\u65b9\u6cd5 \u5f3a\u5236\u7b49\u5f85 \u4e5f\u53eb\u7ebf\u7a0b\u7b49\u5f85, \u901a\u8fc7\u7ebf\u7a0b\u4f11\u7720\u7684\u65b9\u5f0f\u5b8c\u6210\u7684\u7b49\u5f85,\u5982\u7b49\u5f855\u79d2: Thread sleep(5000)\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u592a\u4f7f\u7528\u5f3a\u5236\u7b49\u5f85\uff0c\u4e3b\u8981\u5e94\u7528\u7684\u573a\u666f\u5728\u4e8e\u4e0d\u540c\u7cfb\u7edf\u4ea4\u4e92\u7684\u5730\u65b9\u3002 python import time time.sleep(n) # \u963b\u585e\u7b49\u5f85\u8bbe\u5b9a\u7684\u79d2\u6570\u4e4b\u540e\u518d\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c \u663e\u5f0f\u7b49\u5f85 \u4e5f\u79f0\u4e3a\u667a\u80fd\u7b49\u5f85\uff0c\u9488\u5bf9\u6307\u5b9a\u5143\u7d20\u5b9a\u4f4d\u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\uff0c\u5728\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\u5185\u8fdb\u884c\u5143\u7d20\u67e5\u627e\uff0c\u627e\u5230\u5143\u7d20\u5219\u76f4\u63a5\u8fd4\u56de\uff0c\u5982\u679c\u5728\u8d85\u65f6\u8fd8\u6ca1\u6709\u627e\u5230\u5143\u7d20\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u663e\u793a\u7b49\u5f85\u662f selenium \u5f53\u4e2d\u6bd4\u8f83\u7075\u6d3b\u7684\u4e00\u79cd\u7b49\u5f85\u65b9\u5f0f\uff0c\u4ed6\u7684\u5b9e\u73b0\u539f\u7406\u5176\u5b9e\u662f\u901a\u8fc7 while \u5faa\u73af\u4e0d\u505c\u7684\u5c1d\u8bd5\u9700\u8981\u8fdb\u884c\u7684\u64cd\u4f5c\u3002 ```python from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC # \u6bcf\u9694 0.5s \u68c0\u67e5\u4e00\u6b21(\u9ed8\u8ba4\u5c31\u662f 0.5s), \u6700\u591a\u7b49\u5f85 10 \u79d2,\u5426\u5219\u62a5\u9519\u3002\u5982\u679c\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u76f4\u63a5\u7ed3\u675f\u7b49\u5f85\uff0c\u5982\u679c\u572810\u79d2\u7ed3\u675f\u4e4b\u540e\u4ecd\u672a\u5b9a\u4f4d\u5230\u5143\u7d20\u5219\u62a5\u9519 wait = WebDriverWait(chrome, 10,0.5) wait.until(EC.presence_of_element_located((By.ID, 'J_goodsList'))) ``` \u9690\u5f0f\u7b49\u5f85 \u9690\u5f0f\u7b49\u5f85\u8bbe\u7f6e\u4e4b\u540e\u4ee3\u7801\u4e2d\u7684\u6240\u6709\u5143\u7d20\u5b9a\u4f4d\u90fd\u4f1a\u505a\u9690\u5f0f\u7b49\u5f85 \u901a\u8fc7implicitly Wait\u5b8c\u6210\u7684\u5ef6\u65f6\u7b49\u5f85\uff0c\u6ce8\u610f\u8fd9\u79cd\u662f\u9488\u5bf9\u5168\u5c40\u8bbe\u7f6e\u7684\u7b49\u5f85\uff0c\u5982\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\u4e3a10\u79d2\uff0c\u4f7f\u7528\u4e86implicitlyWait\u540e\uff0c\u5982\u679c\u7b2c\u4e00\u6b21\u6ca1\u6709\u627e\u5230\u5143\u7d20\uff0c\u4f1a\u572810\u79d2\u4e4b\u5185\u4e0d\u65ad\u5faa\u73af\u53bb\u627e\u5143\u7d20\uff0c\u5982\u679c\u8d85\u8fc710\u79d2\u8fd8\u6ca1\u6709\u627e\u5230\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u9690\u5f0f\u7b49\u5f85\u6bd4\u8f83\u667a\u80fd\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u5168\u5c40\u914d\u7f6e\uff0c\u4f46\u662f\u53ea\u80fd\u7528\u4e8e\u5143\u7d20\u5b9a\u4f4d python driver.implicitly_wait(10) # \u5728\u6307\u5b9a\u7684n\u79d2\u5185\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c1d\u8bd5\u5b9a\u4f4d\u5143\u7d20\uff0c\u5982\u679cn\u79d2\u7ed3\u675f\u8fd8\u672a\u88ab\u5b9a\u4f4d\u51fa\u6765\u5219\u62a5\u9519 \u6ce8\u610f\uff1a Selenium\u663e\u793a\u7b49\u5f85\u548c\u9690\u5f0f\u7b49\u5f85\u7684\u533a\u522b 1\u3001selenium\u7684\u663e\u793a\u7b49\u5f85 \u539f\u7406\uff1a\u663e\u793a\u7b49\u5f85\uff0c\u5c31\u662f\u660e\u786e\u8981\u7b49\u5230\u67d0\u4e2a\u5143\u7d20\u7684\u51fa\u73b0\u6216\u8005\u662f\u67d0\u4e2a\u5143\u7d20\u7684\u53ef\u70b9\u51fb\u7b49\u6761\u4ef6\uff0c\u7b49\u4e0d\u5230\uff0c\u5c31\u4e00\u76f4\u7b49\uff0c\u9664\u975e\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u4e4b\u5185\u90fd\u6ca1\u627e\u5230\uff0c\u5c31\u4f1a\u8df3\u51fa\u5f02\u5e38Exception (\u7b80\u800c\u8a00\u4e4b\uff0c\u5c31\u662f\u76f4\u5230\u5143\u7d20\u51fa\u73b0\u624d\u53bb\u64cd\u4f5c\uff0c\u5982\u679c\u8d85\u65f6\u5219\u62a5\u5f02\u5e38) 2\u3001selenium\u7684\u9690\u5f0f\u7b49\u5f85 \u539f\u7406\uff1a\u9690\u5f0f\u7b49\u5f85\uff0c\u5c31\u662f\u5728\u521b\u5efadriver\u65f6\uff0c\u4e3a\u6d4f\u89c8\u5668\u5bf9\u8c61\u521b\u5efa\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5f97\u4e0d\u5230\u67d0\u4e2a\u5143\u7d20\u5c31\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u76f4\u5230\u62ff\u5230\u67d0\u4e2a\u5143\u7d20\u4f4d\u7f6e\u3002 \u6ce8\u610f\uff1a\u5728\u4f7f\u7528\u9690\u5f0f\u7b49\u5f85\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u6d4f\u89c8\u5668\u4f1a\u5728\u4f60\u81ea\u5df1\u8bbe\u5b9a\u7684\u65f6\u95f4\u5185\u90e8\u65ad\u7684\u5237\u65b0\u9875\u9762\u53bb\u5bfb\u627e\u6211\u4eec\u9700\u8981\u7684\u5143\u7d20","title":"\u30107\u3011\u9875\u9762\u7b49\u5f85"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#8selenium","text":"","title":"\u30108\u3011selenium\u7684\u5176\u4ed6\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_13","text":"\u6211\u4eec\u5df2\u7ecf\u57fa\u672c\u4e86\u89e3\u4e86selenium\u7684\u57fa\u672c\u4f7f\u7528\u4e86. \u4f46\u662f\u5462, \u4e0d\u77e5\u5404\u4f4d\u6709\u6ca1\u6709\u53d1\u73b0, \u6bcf\u6b21\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u65f6\u95f4\u90fd\u6bd4\u8f83\u957f. \u8fd9\u5c31\u6bd4\u8f83\u8017\u65f6\u4e86. \u6211\u4eec\u5199\u7684\u662f\u722c\u866b\u7a0b\u5e8f. \u76ee\u7684\u662f\u6570\u636e. \u5e76\u4e0d\u662f\u60f3\u770b\u7f51\u9875. \u90a3\u80fd\u4e0d\u80fd\u8ba9\u6d4f\u89c8\u5668\u5728\u540e\u53f0\u8dd1\u5462? \u7b54\u6848\u662f\u53ef\u4ee5\u7684 from selenium.webdriver import Chrome from selenium.webdriver.chrome.options import Options opt = Options() opt.add_argument(\"--headless\") opt.add_argument('--disable-gpu') opt.add_argument(\"--window-size=4000,1600\") # \u8bbe\u7f6e\u7a97\u53e3\u5927\u5c0f web = Chrome(options=opt)","title":"\uff081\uff09\u65e0\u5934\u6d4f\u89c8\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2selenium-cookie","text":"# \u901a\u8fc7driver.get_cookies()\u80fd\u591f\u83b7\u53d6\u6240\u6709\u7684cookie dictCookies = driver.get_cookies() # \u6dfb\u52a0cookie driver.add_cookie(dictCookies) # \u5220\u9664\u4e00\u6761cookie driver.delete_cookie(\"CookieName\") # \u5220\u9664\u6240\u6709\u7684cookie driver.delete_all_cookies()","title":"\uff082\uff09selenium \u5904\u7406cookie"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_10","text":"driver.forward() # \u524d\u8fdb driver.back() # \u540e\u9000 driver.refresh() # \u5237\u65b0 driver.close() # \u5173\u95ed\u5f53\u524d\u7a97\u53e3","title":"\uff083\uff09\u9875\u9762\u524d\u8fdb\u548c\u540e\u9000"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#9","text":"import time from selenium import webdriver from selenium.webdriver.common.by import By # \u6309\u7167\u4ec0\u4e48\u65b9\u5f0f\u67e5\u627e\uff0cBy.ID,By.CSS_SELECTOR from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.support.wait import WebDriverWait # \u7b49\u5f85\u9875\u9762\u52a0\u8f7d\u67d0\u4e9b\u5143\u7d20 import cv2 from urllib import request from selenium.webdriver.common.action_chains import ActionChains def get_distance(): background = cv2.imread(\"background.png\", 0) gap = cv2.imread(\"gap.png\", 0) res = cv2.matchTemplate(background, gap, cv2.TM_CCOEFF_NORMED) value = cv2.minMaxLoc(res)[2][0] print(value) return value * 278 / 360 def main(): chrome = webdriver.Chrome() chrome.implicitly_wait(5) chrome.get('https://passport.jd.com/new/login.aspx?') login = chrome.find_element(By.CLASS_NAME, 'login-tab-r') login.click() loginname = chrome.find_element(By.ID, 'loginname') loginname.send_keys(\"123@qq.com\") nloginpwd = chrome.find_element(By.ID, 'nloginpwd') nloginpwd.send_keys(\"987654321\") loginBtn = chrome.find_element(By.CLASS_NAME, 'login-btn') loginBtn.click() img_src = chrome.find_element(By.XPATH, '//*[@class=\"JDJRV-bigimg\"]/img').get_attribute(\"src\") temp_src = chrome.find_element(By.XPATH, '//*[@class=\"JDJRV-smallimg\"]/img').get_attribute(\"src\") request.urlretrieve(img_src, \"background.png\") request.urlretrieve(temp_src, \"gap.png\") distance = int(get_distance()) print(\"distance:\", distance) print('\u7b2c\u4e00\u6b65,\u70b9\u51fb\u6ed1\u52a8\u6309\u94ae') element = chrome.find_element(By.CLASS_NAME, 'JDJRV-slide-btn') ActionChains(chrome).click_and_hold(on_element=element).perform() # \u70b9\u51fb\u9f20\u6807\u5de6\u952e\uff0c\u6309\u4f4f\u4e0d\u653e ActionChains(chrome).move_by_offset(xoffset=distance, yoffset=0).perform() ActionChains(chrome).release(on_element=element).perform() if __name__ == '__main__': main()","title":"\u30109\u3011\u6ed1\u52a8\u9a8c\u8bc1\u6848\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#62-pyppeteer","text":"\u7531\u4e8eSelenium\u6d41\u884c\u5df2\u4e45\uff0c\u73b0\u5728\u7a0d\u5fae\u6709\u70b9\u53cd\u722c\u7684\u7f51\u7ad9\u90fd\u4f1a\u5bf9selenium\u548cwebdriver\u8fdb\u884c\u8bc6\u522b\uff0c\u7f51\u7ad9\u53ea\u9700\u8981\u5728\u524d\u7aefjs\u6dfb\u52a0\u4e00\u4e0b\u5224\u65ad\u811a\u672c\uff0c\u5f88\u5bb9\u6613\u5c31\u53ef\u4ee5\u5224\u65ad\u51fa\u662f\u771f\u4eba\u8bbf\u95ee\u8fd8\u662fwebdriver\u3002\u867d\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e2d\u95f4\u4ee3\u7406\u7684\u65b9\u5f0f\u8fdb\u884cjs\u6ce8\u5165\u5c4f\u853dwebdriver\u68c0\u6d4b\uff0c\u4f46\u662fwebdriver\u5bf9\u6d4f\u89c8\u5668\u7684\u6a21\u62df\u64cd\u4f5c\uff08\u8f93\u5165\u3001\u70b9\u51fb\u7b49\u7b49\uff09\u90fd\u4f1a\u7559\u4e0bwebdriver\u7684\u6807\u8bb0\uff0c\u540c\u6837\u4f1a\u88ab\u8bc6\u522b\u51fa\u6765\uff0c\u8981\u7ed5\u8fc7\u8fd9\u79cd\u68c0\u6d4b\uff0c\u53ea\u6709\u91cd\u65b0\u7f16\u8bd1webdriver\uff0c\u9ebb\u70e6\u81ea\u4e0d\u5fc5\u8bf4\uff0c\u96be\u5ea6\u4e0d\u662f\u4e00\u822c\u5927\u3002 \u7531\u4e8eSelenium\u5177\u6709\u8fd9\u4e9b\u4e25\u91cd\u7684\u7f3a\u70b9\u3002pyperteer\u6210\u4e3a\u4e86\u722c\u866b\u754c\u7684\u53c8\u4e00\u65b0\u661f\u3002\u76f8\u6bd4\u4e8eselenium\u5177\u6709\u5f02\u6b65\u52a0\u8f7d\u3001\u901f\u5ea6\u5feb\u3001\u5177\u5907\u6709\u754c\u9762/\u65e0\u754c\u9762\u6a21\u5f0f\u3001\u4f2a\u88c5\u6027\u66f4\u5f3a\u4e0d\u6613\u88ab\u8bc6\u522b\u4e3a\u673a\u5668\u4eba\uff0c\u540c\u65f6\u53ef\u4ee5\u4f2a\u88c5\u624b\u673a\u5e73\u677f\u7b49\u7ec8\u7aef\uff1b\u867d\u7136\u652f\u6301\u7684\u6d4f\u89c8\u5668\u6bd4\u8f83\u5355\u4e00\uff0c\u4f46\u5728\u5b89\u88c5\u914d\u7f6e\u7684\u4fbf\u5229\u6027\u548c\u8fd0\u884c\u6548\u7387\u65b9\u9762\u90fd\u8981\u8fdc\u80dcselenium\u3002 pyppeteer\u65e0\u7591\u4e3a\u9632\u722c\u5899\u6495\u5f00\u4e86\u4e00\u9053\u5927\u53e3\u5b50\uff0c\u9488\u5bf9selenium\u7684\u6dd8\u5b9d\u3001\u7f8e\u56e2\u3001\u6587\u4e66\u7f51\u7b49\u7f51\u7ad9\uff0c\u76ee\u524d\u53ef\u901a\u8fc7\u8be5\u5e93\u4f7f\u7528selenium\u7684\u601d\u8def\u7ee7\u7eed\u7a81\u7834\uff0c\u6beb\u4e0d\u8d39\u52b2\u3002 \u4ecb\u7ecdPyppeteer\u4e4b\u524d\u5148\u8bf4\u4e00\u4e0bPuppeteer\uff0cPuppeteer\u662f\u8c37\u6b4c\u51fa\u54c1\u7684\u4e00\u6b3e\u57fa\u4e8eNode.js\u5f00\u53d1\u7684\u4e00\u6b3e\u5de5\u5177\uff0c\u4e3b\u8981\u662f\u7528\u6765\u64cd\u7eb5Chrome\u6d4f\u89c8\u5668\u7684 API\uff0c\u901a\u8fc7Javascript\u4ee3\u7801\u6765\u64cd\u7eb5Chrome\u6d4f\u89c8\u5668\uff0c\u5b8c\u6210\u6570\u636e\u722c\u53d6\u3001Web\u7a0b\u5e8f\u81ea\u52a8\u6d4b\u8bd5\u7b49\u4efb\u52a1\u3002 pyppeteer\u662f\u975e\u5b98\u65b9 Python \u7248\u672c\u7684 Puppeteer \u5e93\uff0c\u6d4f\u89c8\u5668\u81ea\u52a8\u5316\u5e93\uff0c\u7531\u65e5\u672c\u5de5\u7a0b\u5e08\u5f00\u53d1\u3002 Puppeteer\u662f Google \u57fa\u4e8e Node.js \u5f00\u53d1\u7684\u5de5\u5177\uff0c\u8c03\u7528 Chrome \u7684 API\uff0c\u901a\u8fc7 JavaScript \u4ee3\u7801\u6765\u64cd\u7eb5 Chrome \u5b8c\u6210\u4e00\u4e9b\u64cd\u4f5c\uff0c \u7528\u4e8e\u7f51\u7edc\u722c\u866b\u3001Web \u7a0b\u5e8f\u81ea\u52a8\u6d4b\u8bd5\u7b49\u3002 pyppeteer \u4f7f\u7528\u4e86 Python \u5f02\u6b65\u534f\u7a0b\u5e93 asyncio \uff0c\u53ef\u6574\u5408 Scrapy \u8fdb\u884c\u5206\u5e03\u5f0f\u722c\u866b\u3002 puppet \u6728\u5076\uff0cpuppeteer \u64cd\u7eb5\u6728\u5076\u7684\u4eba\u3002 pip3 install pyppeteer \u6ed1\u52a8\u9a8c\u8bc1\u6848\u4f8b import random from pyppeteer import launch import asyncio import cv2 from urllib import request async def get_track(): background = cv2.imread(\"background.png\", 0) gap = cv2.imread(\"gap.png\", 0) res = cv2.matchTemplate(background, gap, cv2.TM_CCOEFF_NORMED) value = cv2.minMaxLoc(res)[2][0] print(value) return value * 278 / 360 async def main(): browser = await launch({ \"headless\": False, # headless\u6307\u5b9a\u6d4f\u89c8\u5668\u662f\u5426\u4ee5\u65e0\u5934\u6a21\u5f0f\u8fd0\u884c\uff0c\u9ed8\u8ba4\u662fTrue\u3002 \"args\": ['--window-size=1366,768'], }) # \u6253\u5f00\u65b0\u7684\u6807\u7b7e\u9875 page = await browser.newPage() # \u8bbe\u7f6e\u9875\u9762\u5927\u5c0f\u4e00\u81f4 await page.setViewport({\"width\": 1366, \"height\": 768}) # \u8bbf\u95ee\u4e3b\u9875 await page.goto(\"https://passport.jd.com/new/login.aspx?\") # evaluate()\u662f\u6267\u884cjs\u7684\u65b9\u6cd5\uff0cjs\u9006\u5411\u65f6\u5982\u679c\u9700\u8981\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e0b\u6267\u884cjs\u4ee3\u7801\u7684\u8bdd\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u65b9\u6cd5 # js\u4e3a\u8bbe\u7f6ewebdriver\u7684\u503c\uff0c\u9632\u6b62\u7f51\u7ad9\u68c0\u6d4b # await page.evaluate('''alert(\"\u9a6c\u4e0a\u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u4e86\uff01\")''') # await page.evaluate('''() =>{ Object.defineProperties(navigator,{ webdriver:{ get: () => false } }) }''') # await page.screenshot({'path': './1.jpg'}) # \u622a\u56fe\u4fdd\u5b58\u8def\u5f84 # \u5355\u51fb\u4e8b\u4ef6 await page.click('div.login-tab-r') # \u6a21\u62df\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801,\u8f93\u5165\u6bcf\u4e2a\u5b57\u7b26\u7684\u95f4\u9694\u65f6\u95f4delay ms await page.type(\"#loginname\", '324534534@qq.com', { \"c\": random.randint(30, 60) }) await page.type(\"#nloginpwd\", '345653332', { \"delay\": random.randint(30, 60) }) # page.waitFor \u901a\u7528\u7b49\u5f85\u65b9\u5f0f\uff0c\u5982\u679c\u662f\u6570\u5b57\uff0c\u5219\u8868\u793a\u7b49\u5f85\u5177\u4f53\u65f6\u95f4\uff08\u6beb\u79d2\uff09: \u7b49\u5f852\u79d2 await page.waitFor(2000) await page.click(\"div.login-btn\") await page.waitFor(2000) # page.jeval\uff08selector\uff0cpageFunction\uff09#\u5b9a\u4f4d\u5143\u7d20\uff0c\u5e76\u8c03\u7528js\u51fd\u6570\u53bb\u6267\u884c img_src = await page.Jeval(\".JDJRV-bigimg > img\", \"el=>el.src\") temp_src = await page.Jeval(\".JDJRV-smallimg > img\", \"el=>el.src\") request.urlretrieve(img_src, \"background.png\") request.urlretrieve(temp_src, \"gap.png\") # \u83b7\u53d6gap\u7684\u8ddd\u79bb distance = await get_track() \"\"\" # Pyppeteer \u4e09\u79cd\u89e3\u6790\u65b9\u5f0f Page.querySelector() # \u9009\u62e9\u5668 Page.querySelectorAll() Page.xpath() # xpath \u8868\u8fbe\u5f0f # \u7b80\u5199\u65b9\u5f0f\u4e3a\uff1a Page.J(), Page.JJ(), and Page.Jx() \"\"\" el = await page.J(\"div.JDJRV-slide-btn\") # \u83b7\u53d6\u5143\u7d20\u7684\u8fb9\u754c\u6846\uff0c\u5305\u542bx,y\u5750\u6807 box = await el.boundingBox() await page.hover(\"div.JDJRV-slide-btn\") await page.mouse.down() # steps \u662f\u6307\u5206\u6210\u51e0\u6b65\u6765\u5b8c\u6210\uff0csteps\u8d8a\u5927\uff0c\u6ed1\u52a8\u901f\u5ea6\u8d8a\u6162 await page.mouse.move(box[\"x\"] + distance + random.uniform(30, 33), box[\"y\"], {\"steps\": 100}) await page.waitFor(1000) await page.mouse.move(box[\"x\"] + distance + 29, box[\"y\"], {\"steps\": 100}) await page.mouse.up() await page.waitFor(2000) loop = asyncio.get_event_loop() loop.run_until_complete(main())","title":"6.2 pyppeteer"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_30","text":"\u5047\u8bbe\u73b0\u5728\u4f60\u5df2\u7ecf\u662f\u67d0\u5927\u578b\u4e92\u8054\u7f51\u516c\u53f8\u7684\u9ad8\u7ea7\u7a0b\u5e8f\u5458\uff0c\u8ba9\u4f60\u5199\u4e00\u4e2a\u706b\u8f66\u7968\u8d2d\u7968\u7cfb\u7edf\uff0c\u6765hold\u4f4f\u5341\u4e00\u671f\u95f4\u5168\u56fd\u7684\u8d2d\u7968\u9700\u6c42\uff0c\u4f60\u600e\u4e48\u5199\uff1f \u5728\u540c\u4e00\u65f6\u6bb5\u62a2\u7968\u7684\u4eba\u6570\u5982\u679c\u592a\u591a\uff0c\u90a3\u4e48\u4f60\u7684\u7a0b\u5e8f\u4e0d\u53ef\u80fd\u8fd0\u884c\u5728\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u5e94\u8be5\u662f\u591a\u53f0\u673a\u5668\u4e00\u8d77\u5206\u62c5\u7528\u6237\u7684\u8d2d\u7968\u8bf7\u6c42\u3002 \u90a3\u4e48\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u7968\u52a1\u4fe1\u606f\u7684\u6570\u636e\u5b58\u5728\u54ea\u91cc\uff1f\u5b58\u5728\u6587\u4ef6\u91cc\u4e48\uff1f \u5982\u679c\u5b58\u50a8\u5728\u6587\u4ef6\u91cc\uff0c\u90a3\u4e48\u5b58\u50a8\u5728\u54ea\u4e00\u53f0\u673a\u5668\u4e0a\u5462\uff1f\u662f\u6bcf\u53f0\u673a\u5668\u4e0a\u90fd\u5b58\u50a8\u4e00\u4efd\u4e48\uff1f \u9996\u5148\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u53f0\u673a\u5668\u4e0a\u5356\u51fa\u7684\u7968\u53e6\u5916\u4e24\u53f0\u673a\u5668\u662f\u611f\u77e5\u4e0d\u5230\u7684\uff0c\u5176\u6b21\uff0c\u5982\u679c\u6211\u4eec\u5c06\u6570\u636e\u548c\u7a0b\u5e8f\u653e\u5728\u540c\u4e00\u4e2a\u673a\u5668\u4e0a\uff0c\u5982\u679c\u7a0b\u5e8f\u548c\u6570\u636e\u6709\u4e00\u4e2a\u51fa\u4e86\u95ee\u9898\u90fd\u4f1a\u5bfc\u81f4\u6574\u4e2a\u670d\u52a1\u4e0d\u53ef\u7528\u3002\u6700\u540e\uff0c\u64cd\u4f5c\u6216\u4fee\u6539\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u5bf9python\u4ee3\u7801\u6765\u8bf4\u662f\u4e00\u4ef6\u5f88\u9ebb\u70e6\u7684\u4e8b\u3002 \u57fa\u4e8e\u4e0a\u9762\u8fd9\u4e9b\u95ee\u9898\uff0c\u5355\u7eaf\u7684\u5c06\u6570\u636e\u5b58\u50a8\u5728\u548c\u7a0b\u5e8f\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u7684\u6587\u4ef6\u4e2d\u662f\u975e\u5e38\u4e0d\u660e\u667a\u7684\u3002 \u6839\u636e\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0c\u5c06\u6587\u4ef6\u548c\u7a0b\u5e8f\u5b58\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u662f\u5f88\u4e0d\u5408\u7406\u7684\uff0c\u540c\u65f6\uff0c\u64cd\u4f5c\u6587\u4ef6\u662f\u4e00\u4ef6\u5f88\u9ebb\u70e6\u7684\u4e8b\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6570\u636e\u5e93\u6765\u5b58\u50a8\u6570\u636e\u3002","title":"\u7b2c\u4e03\u7ae0. \u6570\u636e\u5e93"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#71mysql","text":"MySQL\u662f\u4e00\u4e2a\u5f00\u6e90\u514d\u8d39\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u7531\u745e\u5178MySQL AB \u516c\u53f8\u5f00\u53d1\uff0c\u76ee\u524d\u5c5e\u4e8e Oracle \u65d7\u4e0b\u516c\u53f8\u3002MySQL \u6700\u6d41\u884c\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u5728 WEB \u5e94\u7528\u65b9\u9762MySQL\u662f\u6700\u597d\u7684 RDBMS (Relational Database Management System\uff0c\u5173\u7cfb\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf) \u5e94\u7528\u8f6f\u4ef6\u4e4b\u4e00\uff0c\u5177\u6709\u6210\u672c\u4f4e\u3001\u901f\u5ea6\u5feb\u3001\u4f53\u79ef\u5c0f\u4e14\u5f00\u653e\u6e90\u4ee3\u7801\u7b49\u4f18\u70b9\u3002 \u4e0a\u56fe\u6765\u6e90\uff1ahttps://db-engines.com/en/ranking","title":"7.1\u3001MySQL"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_31","text":"\u6b64\u5904\u6211\u4eec\u6f14\u793a\u7684\u662fwindows\u4e0b\u5b89\u88c5mysql\u3002linux\u7684\u5b89\u88c5\u8fc7\u7a0b\u5728ubuntu\u5c01\u88c5\u7b14\u8bb0\u91cc\u9762\u6709\u3002","title":"\u57fa\u672c\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_32","text":"\u6253\u5f00\u7f51\u5740\uff0chttps://www.mysql.com\uff0c\u70b9\u51fb\u5bfc\u822a DOWNLOADS mysql\u52062\u4e2a\u4e3b\u7248\u672c\uff1aEnterprise\uff08\u4f01\u4e1a\u7248\uff0c\u6536\u8d39\u95ed\u6e90\uff09\u548c Community\uff08\u793e\u533a\u7248\uff0c\u514d\u8d39\u5f00\u6e90\uff09\u3002\u6b64\u5904\u6211\u4eec\u4f7f\u7528\u514d\u8d39\u7684\u793e\u533a\u7248\u3002 \u70b9\u51fb MySQL Community (GPL) Downloads \u00bb \u3002 \u70b9\u51fb MySQL Community Server windows\u9009\u62e9zip\u538b\u7f29\u5305\u683c\u5f0f\uff0cmac OS\u9009\u62e9dmg\u683c\u5f0f\u3002 \u4e0d\u9700\u8981\u6ce8\u518c\u767b\u9646\u7f51\u7ad9\uff0c\u76f4\u63a5\u8c22\u8c22\uff0c\u7ee7\u7eed\u4e0b\u8f7d\u5373\u53ef\u3002","title":"\u4e0b\u8f7d"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_33","text":"\u628a\u4e0b\u8f7d\u5230\u672c\u5730\u7684zip\u6587\u4ef6\u624b\u52a8\u89e3\u538b\uff0c\u5c06\u89e3\u538b\u4e4b\u540e\u7684\u6587\u4ef6\u5939\u653e\u5230\u4e13\u95e8\u4fdd\u5b58\u5f00\u53d1\u8f6f\u4ef6\u7684\u76ee\u5f55\u4e0b\uff0c\u8fd9\u4e2a\u76ee\u5f55\u5c31\u662fmysql\u7684\u5b89\u88c5\u76ee\u5f55\u3002 \u4f8b\u5982\uff0c\u6b64\u5904\u6211\u653e\u5728\u4e86C:/tool/\u76ee\u5f55\u4e0b\u3002 \u6ce8\u610f\uff0c\u76ee\u5f55\u8def\u5f84\u4e0d\u80fd\u51fa\u73b0\u4e2d\u6587\uff0c\u4e0d\u80fd\u51fa\u73b0\u7a7a\u683c\u7b49\u7279\u6b8a\u7b26\u53f7\uff0c\u5426\u5219\u4f1a\u51fa\u9519\u7684\uff01\uff01\uff01","title":"\u89e3\u538b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_34","text":"","title":"\u914d\u7f6e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_35","text":"\u3010\u6b64\u7535\u8111\u3011- \u3010\u53f3\u952e\u3011-\u3010\u5c5e\u6027\u3011-\u3010\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e\u3011-\u3010\u73af\u5883\u53d8\u91cf\u3011- \u3010\u627e\u5230\u7cfb\u7edf\u53d8\u91cf\u4e2d\u7684path\u3011-\u3010\u9009\u4e2d\u3011-\u3010\u7f16\u8f91\u3011- \u3010\u65b0\u5efa\u3011-\u3010\u5c06\u521a\u521amysql\u538b\u7f29\u5305\u70b9\u8fdb\u53bbbin\u76ee\u5f55\u8def\u5f84\u590d\u5236\u5e76\u7c98\u8d34\u8fdb\u6765\u3011-\u3010\u786e\u5b9a\u3011","title":"\u914d\u7f6e\u73af\u5883\u53d8\u91cf"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#data","text":"\u4e3b\u8981\u7528\u4e8e\u5b58\u653emysql\u6570\u636e\u5e93\u4ee5\u53ca\u6570\u636e\u7684\u3002 \u6ce8\u610f\uff1a\u662fmysql\u7684\u5b89\u88c5\u76ee\u5f55\uff01\uff01\uff01\uff01","title":"\u521b\u5efadata\u76ee\u5f55"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_36","text":"mysql\u5728windows\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53eb mysql.ini\uff0c\u9ed8\u8ba4\u662f\u6ca1\u6709\u7684\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u521b\u5efa\u3002 mysql.ini\u7684\u914d\u7f6e\u5185\u5bb9\uff0c\u6ce8\u610f\uff0cbasedir\u548cdatadir\u7684\u8def\u5f84\u8981\u6839\u636e\u81ea\u5df1\u7684\u8def\u5f84\u5982\u5b9e\u586b\u5199\uff0c\u5982\u4e0b\uff1a [mysqld] ; \u8bbe\u7f6e3306\u7aef\u53e3 port=3306 ; \u8bbe\u7f6emysql\u7684\u5b89\u88c5\u76ee\u5f55 basedir=\"C:/tool/mysql-8.0.28-winx64\" ; \u8bbe\u7f6emysql\u6570\u636e\u5e93\u7684\u6570\u636e\u7684\u5b58\u653e\u76ee\u5f55\uff0c\u5c31\u662f\u524d\u9762\u624b\u52a8\u521b\u5efa\u7684data\u76ee\u5f55 datadir=\"C:/tool/mysql-8.0.28-winx64/data\" ; \u5141\u8bb8\u6700\u5927\u8fde\u63a5\u6570 max_connections=200 ; \u5141\u8bb8\u8fde\u63a5\u5931\u8d25\u7684\u6b21\u6570\u3002 max_connect_errors=10 ; \u670d\u52a1\u7aef\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\u9ed8\u8ba4\u4e3autf8mb4 character-set-server=utf8mb4 ; \u521b\u5efa\u65b0\u8868\u65f6\u5c06\u4f7f\u7528\u7684\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce default-storage-engine=INNODB ; \u9ed8\u8ba4\u4f7f\u7528\u201cmysql_native_password\u201d\u63d2\u4ef6\u8ba4\u8bc1, mysql_native_password default_authentication_plugin=mysql_native_password [mysql] ; \u8bbe\u7f6emysql\u7f51\u7edc\u901a\u4fe1\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6 default-character-set=utf8mb4 [client] ; \u8bbe\u7f6emysql\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u9ed8\u8ba4\u4f7f\u7528\u7684\u7aef\u53e3 port=3306 ; \u8bbe\u7f6emysql\u5ba2\u6237\u7aef\u7684\u9ed8\u8ba4\u5b57\u7b26\u96c6 default-character-set=utf8mb4","title":"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_37","text":"\u91cd\u65b0\u6253\u5f00\u4e00\u4e2acmd\u9ed1\u7a97\u53e3\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u8ba9\u6570\u636e\u5e93\u5b8c\u6210\u521d\u59cb\u5316\u64cd\u4f5c\u3002 mysqld --initialize --console","title":"\u521d\u59cb\u5316\u6570\u636e\u5e93"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_38","text":"\u628amysql\u6ce8\u518c\u5230\u64cd\u4f5c\u7cfb\u7edf\u4f5c\u4e3a\u7cfb\u7edf\u670d\u52a1\uff0c\u4fdd\u8bc1\u5c06\u6765\u7535\u8111\u91cd\u542f\u4e86\u5c31\u53ef\u4ee5\u5f00\u673a\u81ea\u542f\u4e86\u3002\u5728\u4e0a\u9762\u6253\u5f00\u7684\u9ed1\u7a97\u53e3\u4e2d\u5982\u4e0b\u4ee5\u4e0b\u547d\u4ee4\uff1a mysqld --install mysql80 # \u6ce8\u9500\u670d\u52a1\uff0c\u7528\u4e8e\u5378\u8f7dmysql\u7684\uff0c\u522b\u4e71\u7528\u3002 # mysqld --remove mysql80 mysql80\u5c31\u662f\u81ea\u5df1\u53d6\u7684\u670d\u52a1\u540d\uff08\u670d\u52a1\u5668\u662f\u552f\u4e00\u7684\uff09\uff0c\u53ea\u8981\u7b26\u5408python\u7684\u53d8\u91cf\u89c4\u5219\uff0c\u4e0d\u8981\u4f7f\u7528\u4e2d\u6587\uff0c\u53ef\u4ee5\u81ea\u5df1\u53d1\u6325\u3002 \u786e\u8ba4\u662f\u5426\u5b89\u88c5\u5230\u4e86\u7cfb\u7edf\u670d\u52a1\uff0c\u53ef\u4ee5\u901a\u8fc7\u3010\u6b64\u7535\u8111\u3011- \u3010\u53f3\u952e\u3011-\u3010\u7ba1\u7406\u3011- \u3010\u670d\u52a1\u4e0e\u5e94\u7528\u7a0b\u5e8f\u3011 - \u3010\u670d\u52a1\u3011- \u3010\u53f3\u8fb9\u7a97\u53e3\u3011","title":"\u6ce8\u518c\u7cfb\u7edf\u670d\u52a1"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_39","text":"windows\u4e0b\u5b89\u88c5\u7684mysql\u9ed8\u8ba4\u662f\u6ca1\u6709\u542f\u52a8\u670d\u52a1\u7684\u3002 net start mysql80 # \u5173\u95edmysql\u7684\u547d\u4ee4: # net stop mysql80 # \u91cd\u542fmysql\u7684\u547d\u4ee4\uff1a # net start mysql80","title":"\u542f\u52a8"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_40","text":"\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6309\u56de\u8f66\u952e\uff0c\u63a5\u7740\u8f93\u5165\u4e0a\u9762\u521d\u59cb\u5316\u7684\u767b\u9646\u5bc6\u7801\uff0c\u5c31\u53ef\u4ee5\u767b\u9646MySQL\u4ea4\u4e92\u7ec8\u7aef\u4e86\u3002 mysql -uroot -p # \u9000\u51fa\u7ec8\u7aef # exit \u6ce8\u610f\uff1amysql\u4e0elinux\u4e00\u6837\uff0c\u5728\u5b89\u88c5\u6210\u529f\u4ee5\u540e\u9ed8\u8ba4\u5c31\u5b58\u5728\u4e86\u4e00\u4e2a\u4e0a\u5e1d\u4e00\u822c\u7684\u7528\u6237\uff0c\u53ebroot\u3002","title":"\u767b\u5f55"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#root","text":"\u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\u662f\u5728\u767b\u9646\u4e86mysql\u7ec8\u7aef\u4ee5\u540e\u7684\u64cd\u4f5c\u3002 alter user 'root'@'localhost' identified by '123'; # 'root' \u5c31\u662f\u8981\u4fee\u6539\u5bc6\u7801\u7684\u7528\u6237\u540d # 'localhost' \u8868\u793a\u5141\u8bb8\u7528\u6237\u5728\u4ec0\u4e48\u5730\u5740\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5bc6\u7801\u767b\u9646\u5230\u6570\u636e\u5e93\u670d\u52a1\u5668\uff0clocalhost\u8868\u793a\u672c\u5730\u767b\u9646 # '123' \u5c31\u662f\u65b0\u7684\u5bc6\u7801\u4e86\uff0c\u6ce8\u610f\uff0c\u4e0d\u8981\u8bbe\u7f6e\u7a7a\u5bc6\u7801\uff01\u4ee5\u540e\u516c\u53f8\u91cc\u9762\u7684\u5bc6\u7801\u4e00\u5b9a\u8981\u975e\u5e38\u96be\u8bb0\u7684\u624d\u6700\u597d\u3002 \u5b8c\u6210\u4e86\u4e0a\u9762\u7684\u64cd\u4f5c\u4ee5\u540e\uff0cmysql\u5c31\u5b89\u88c5\u5b8c\u6210\u4e86\u3002","title":"\u4fee\u6539root\u767b\u9646\u5bc6\u7801"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_41","text":"\u524d\u9762\u7684\u5b66\u4e60\u4e2d\u6211\u4eec\u63d0\u5230\uff0cmysql\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u64cd\u4f5cmysql\u5c31\u9700\u8981\u4f7f\u7528SQL\uff08\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff09\u3002","title":"\u57fa\u672c\u6982\u5ff5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#sql","text":"1. \u5728\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u4e2d\uff0cSQL\u8bed\u53e5\u5173\u952e\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199(\u4f46\u5efa\u8bae\u7528\u5927\u5199) \uff0c\u53c2\u6570\u533a\u5206\u5927\u5c0f\u5199\u3002\u5efa\u8bae\u547d\u4ee4\u5927\u5199\uff0c\u6570\u636e\u5e93\u540d\u3001\u6570\u636e\u8868\u540d\u3001\u5b57\u6bb5\u540d\u7edf\u4e00\u5c0f\u5199\uff0c\u5982\u6570\u636e\u5e93\u540d\u3001\u6570\u636e\u8868\u540d\u3001\u5b57\u6bb5\u540d\u4e0e\u5173\u952e\u5b57\u540c\u540d\uff0c\u4f7f\u7528\u53cd\u5f15\u53f7` ` \u5708\u8d77\u6765\uff0c\u907f\u514d\u51b2\u7a81\u3002 2. SQL\u8bed\u53e5\u53ef\u5355\u884c\u6216\u591a\u884c\u4e66\u5199\uff0c\u9ed8\u8ba4\u4ee5\u82f1\u6587\u5206\u53f7\uff08;\uff09\u7ed3\u5c3e\uff0c\u5173\u952e\u8bcd\u4e0d\u80fd\u8de8\u591a\u884c\u6216\u7b80\u5199\u3002 3. \u5b57\u7b26\u4e32\u8ddf\u65e5\u671f\u7c7b\u578b\u7684\u503c\u90fd\u8981\u4ee5 \u5355\u5f15\u53f7\u62ec\u8d77\u6765\uff0c\u5355\u8bcd\u4e4b\u95f4\u9700\u8981\u4f7f\u7528\u534a\u89d2\u7684\u7a7a\u683c\u9694\u5f00\u3002 4. \u7528\u7a7a\u683c\u548c\u7f29\u8fdb\u6765\u63d0\u9ad8SQL\u8bed\u53e5\u7684\u53ef\u8bfb\u6027\u3002 SELECT * FROM table_name WHERE name=\"moluo\";","title":"SQL\u89c4\u8303"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_42","text":"\u7b2c\u4e00\u79cd\uff1a -- \u5355\u884c\u6ce8\u91ca \u7b2c\u4e8c\u79cd\uff1a /* \u591a\u884c\u6ce8\u91ca */ \u7b2c\u4e09\u79cd\uff1a # mysql\u652f\u6301\u5355\u884c\u6ce8\u91ca","title":"\u6ce8\u91ca"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#sql_1","text":"\u6839\u636e\u4e0d\u540c\u7684\u7528\u9014\uff0cSQL\u8bed\u53e5\u901a\u5e38\u52063\u5927\u7c7b\u578b\uff1a \u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff08Data Definition Language\uff0cDDL\uff09 \u7528\u4e8e\u521b\u5efa\u6216\u5220\u9664\u6570\u636e\u5e93\u4ee5\u53ca\u6570\u636e\u8868\u7684\u8bed\u53e5\uff0cDDL\u5305\u542b\u4ee5\u4e0b\u51e0\u79cd\u6307\u4ee4\uff1a \u200b CREATE: \u521b\u5efa\u6570\u636e\u5e93\u548c\u8868\u7b49\u5bf9\u8c61 \u200b DROP: \u5220\u9664\u6570\u636e\u5e93\u548c\u8868\u7b49\u5bf9\u8c61 \u200b ALTER: \u4fee\u6539\u6570\u636e\u5e93\u548c\u8868\u7b49\u5bf9\u8c61\u7684\u7ed3\u6784 \u6570\u636e\u64cd\u7eb5\u8bed\u8a00\uff08Data Manipulation Language\uff0cDML\uff09 \u7528\u4e8e\u5bf9\u6570\u636e\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u589e\u5220\u67e5\u6539\u7684\u3002 \u200b SELECT: \u67e5\u8be2\u8868\u4e2d\u7684\u6570\u636e \u200b INSERT: \u5411\u8868\u4e2d\u63d2\u5165\u65b0\u6570\u636e \u200b UPDATE: \u53d8\u66f4\u8868\u4e2d\u7684\u6570\u636e \u200b DELETE: \u5220\u9664\u8868\u4e2d\u7684\u6570\u636e \u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08Data Control Language\uff0cDCL\uff09 \u7528\u4e8e\u5bf9\u63a7\u5236\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u6743\u9650\u7684\uff0c\u5305\u62ec\u7528\u6237\u6743\u9650\u4ee5\u53ca\u6570\u636e\u64cd\u4f5c\u6743\u9650\u3002 \u200b COMMIT: \u786e\u8ba4\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7684\u53d8\u66f4 \u200b ROLLBACK: \u53d6\u6d88\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u7684\u53d8\u66f4 \u200b GRANT: \u8d4b\u4e88\u7528\u6237\u64cd\u4f5c\u6743\u9650 \u200b REMOVE: \u53d6\u6d88\u7528\u6237\u7684\u64cd\u4f5c\u6743\u9650","title":"SQL\u7c7b\u578b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_43","text":"\u547d\u4ee4 \u63cf\u8ff0 help \u67e5\u770b\u7cfb\u7edf\u5e2e\u52a9\u60f3\u4f60\u60f3 status \u67e5\u770b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u7684\u72b6\u6001\u4fe1\u606f exit \u9000\u51fa\u6570\u636e\u5e93\u7ec8\u7aef\u8fde\u63a5 quit \u9000\u51fa\u6570\u636e\u5e93\u7ec8\u7aef\u8fde\u63a5 \\c \u5f53\u6253\u9519\u547d\u4ee4\u4e86\uff0c\u60f3\u6362\u884c\u91cd\u65b0\u5199\u65f6\u53ef\u4ee5\u5728\u9519\u8bef\u547d\u4ee4\u540e\u9762\u8ddf\u7740\\c\u56de\u8f66","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_44","text":"-- 1.\u521b\u5efa\u6570\u636e\u5e93\uff08\u5728\u78c1\u76d8\u4e0a\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\uff09 create database [if not exists] db_name [character set xxx] -- 2.\u67e5\u770b\u6570\u636e\u5e93 show databases; -- \u67e5\u770b\u6240\u6709\u6570\u636e\u5e93 show create database db_name; -- \u67e5\u770b\u6570\u636e\u5e93\u7684\u521b\u5efa\u65b9\u5f0f -- 3.\u4fee\u6539\u6570\u636e\u5e93 alter database db_name [character set xxx] -- 4.\u5220\u9664\u6570\u636e\u5e93 drop database [if exists] db_name; -- 5.\u4f7f\u7528\u6570\u636e\u5e93 use db_name; -- \u5207\u6362\u6570\u636e\u5e93 \u6ce8\u610f\uff1a\u8fdb\u5165\u5230\u67d0\u4e2a\u6570\u636e\u5e93\u540e\u6ca1\u529e\u6cd5\u518d\u9000\u56de\u4e4b\u524d\u72b6\u6001\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7use\u8fdb\u884c\u5207\u6362 select database(); -- \u67e5\u770b\u5f53\u524d\u4f7f\u7528\u7684\u6570\u636e\u5e93","title":"\u6570\u636e\u5e93\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_45","text":"\u6570\u636e\u8868\u5c31\u76f8\u5f53\u4e8e\u5b58\u50a8\u6570\u636e\u7684\u7279\u6b8a\u6587\u4ef6\uff0c\u6570\u636e\u8868\u4e2d\u7684\u4e00\u6761\u8bb0\u5f55\u5c31\u76f8\u5f53\u4e8e\u666e\u901a\u6587\u4ef6\u7684\u4e00\u884c\u5185\u5bb9\u3002 moluo, True, 18, 2000, \u5e7f\u4e1c, \u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f, python\u5f00\u53d1 xiaohong, False, 17, 2001, \u5e7f\u897f, \u821e\u8e48\u5b66, \u97f3\u4e50\u8001\u5e08 \u4e0e\u666e\u901a\u6587\u4ef6\u4e0d\u540c\u7684\u662f\uff0c\u6570\u636e\u8868\u662f\u4e8c\u7ef4\u7684\u8868\u683c\u7ed3\u6784\u3002","title":"\u6570\u636e\u8868\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_46","text":"\u6570\u636e\u8868\u5c31\u76f8\u5f53\u4e8e\u6587\u4ef6\uff0c\u6587\u4ef6\u6709\u6587\u4ef6\u540d\uff0c\u81ea\u7136\u5730\uff0c\u6570\u636e\u8868\u4e5f\u8981\u6709\u8868\u540d\u3002\u540c\u6837\u9053\u7406\uff0c\u6570\u636e\u8868\u4e2d\u7684\u4e00\u6761\u8bb0\u5f55\u5c31\u76f8\u5f53\u4e8e\u6587\u4ef6\u7684\u4e00\u884c\u5185\u5bb9\u3002\u53ea\u662f\u4e0d\u540c\u7684\u662f\uff0c\u6570\u636e\u8868\u9700\u8981\u5b9a\u4e49\u8868\u5934\uff08\u4e0a\u56fe\u4e2d\u7684\u9996\u884c\uff09\uff0c\u79f0\u4e3a\u8868\u7684\u5b57\u6bb5\u540d\u3002\u800c\u4e14\u56e0\u4e3a\u6570\u636e\u5e93\u7684\u5b58\u50a8\u6570\u636e\u66f4\u52a0\u79d1\u5b66\u3001\u4e25\u8c28\uff0c\u6240\u4ee5\u9700\u8981\u521b\u5efa\u8868\u65f6\u8981\u7ed9\u6bcf\u4e00\u4e2a\u5b57\u6bb5\u8bbe\u7f6e\u6570\u636e\u7c7b\u578b\u4ee5\u53ca\u5b57\u6bb5\u7ea6\u675f\uff08\u5b8c\u6574\u6027\u7ea6\u675f\u6761\u4ef6\uff09\u3002 create table [if not exists] \u8868\u540d ( \u5b57\u6bb5\u540d1 \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], \u5b57\u6bb5\u540d2 \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], \u5b57\u6bb5\u540d3 \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], ..... \u5b57\u6bb5\u540dn \u6570\u636e\u7c7b\u578b[ ( \u5b58\u50a8\u7a7a\u95f4 ) \u5b57\u6bb5\u7ea6\u675f ], primary key(\u4e00\u4e2a \u6216 \u591a\u4e2a \u5b57\u6bb5\u540d) -- \u6ce8\u610f\uff0c\u6700\u540e\u4e00\u6bb5\u5b9a\u4e49\u8bed\u53e5\uff0c\u4e0d\u80fd\u6709\u82f1\u6587\u9017\u53f7\u7684\u51fa\u73b0\uff0c\u5426\u5219\u62a5\u9519\u3002 ) [engine = \u5b58\u50a8\u5f15\u64ce character set \u5b57\u7b26\u96c6]; \u6ce8\u610f\uff1a \u4e0a\u9762SQL\u8bed\u53e5\u4e2d\uff0c\u5c0f\u62ec\u53f7\u4e2d\u7684\u5b9a\u4e49\u5b57\u6bb5\u8bed\u53e5\u540e\u9762\u5fc5\u987b\u4ee5\u82f1\u6587\u9017\u53f7\u7ed3\u5c3e\uff0c\u800c\u6700\u540e\u4e00\u4e2a\u5b57\u6bb5\u7684\u5b9a\u4e49\u8bed\u53e5\u4e0d\u80fd\u6709\u82f1\u6587\u9017\u53f7\u51fa\u73b0\uff0c\u5426\u5219\u62a5\u9519\u3002 \u5728\u540c\u4e00\u5f20\u6570\u636e\u8868\u4e2d\uff0c\u5b57\u6bb5\u540d\u662f\u4e0d\u80fd\u76f8\u540c\uff0c\u5426\u5219\u62a5\u9519\uff01 \u521b\u5efa\u6570\u636e\u8868\u7684SQL\u8bed\u53e5\u4e2d\uff0c\u5b58\u50a8\u7a7a\u95f4\u548c\u5b57\u6bb5\u7ea6\u675f\u662f\u9009\u586b\u7684\uff0c\u800c\u5b57\u6bb5\u540d\u548c\u6570\u636e\u7c7b\u578b\u5219\u662f\u5fc5\u987b\u586b\u5199\u7684\u3002 \u521b\u5efa\u73ed\u7ea7\u8868 -- mysql\u4e2d\u521b\u5efa\u6570\u636e\u8868\u8981\u4ee5 create table `\u8868\u540d` -- \u8868\u7684\u5b57\u6bb5\u4fe1\u606f\u5fc5\u987b\u5199\u5728 ( ) \u5c0f\u62ec\u53f7\u91cc\u9762 create table classes ( -- \u5efa\u8bae\u4e00\u884c\u4e00\u4e2a\u5b57\u6bb5\uff0cid \u5c31\u662f\u5b57\u6bb5\u540d -- int \u8868\u793a\u8bbe\u7f6e\u5b57\u6bb5\u503c\u8981\u4ee5\u6574\u6570\u7684\u683c\u5f0f\u4fdd\u5b58\u5230\u786c\u76d8\u4e2d\uff0c -- auto_increment\u8868\u793a\u5f53\u524d\u5b57\u6bb5\u503c\u5728\u6bcf\u6b21\u65b0\u589e\u6570\u636e\u65f6\u81ea\u52a8+1\u4f5c\u4e3a\u503c\u4fdd\u5b58 -- primary key\uff0cmysql\u4e2d\u53eb\u4e3b\u952e\uff0c\u8868\u793a\u7528\u4e8e\u533a\u5206\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\u4e0d\u540c\u884c\u7684\u6570\u636e\u7684\u552f\u4e00\u6027\uff0c\u540c\u65f6\u8fd8\u5177\u5907\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\u7684\u4f5c\u7528 -- \u6ce8\u610f\uff1aauto_increment\u4e0eprimary key \u4e00\u822c\u662f\u914d\u5408\u4f7f\u7528\u7684\uff0c\u5bf9\u5e94\u7684\u5b57\u6bb5\u540d\u4e00\u822c\u4e5f\u53ebid\uff0c\u800c\u4e14\u5728\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\u53ea\u6709\u4e00\u4e2a\u5b57\u6bb5\u80fd\u4f7f\u7528auto_increment primary key\u8fdb\u884c\u8bbe\u7f6e\u3002 id int auto_increment primary key, -- \u5b57\u6bb5\u540d\uff1aname -- varchar(10) \u8868\u793a\u5f53\u524dname\u8fd9\u4e00\u5217\u53ef\u4ee5\u5b58\u50a8\u7684\u6570\u636e\u662f\u5b57\u7b26\u4e32\u683c\u5f0f\uff0c\u5e76\u4e14\u6700\u591a\u53ea\u80fd\u5b5810\u4e2a\u5b57\u7b26 name varchar(10), -- \u5b57\u6bb5\u540d\uff1aaddress -- varchar(100) \u8868\u793aadderss\u8fd9\u4e00\u5217\u53ef\u4ee5\u5b58\u50a8\u7684\u6570\u636e\u662f\u5b57\u7b26\u4e32\u683c\u5f0f\uff0c\u5e76\u4e14\u6700\u591a\u53ea\u80fd\u5b58100\u4e2a\u5b57\u7b26 address varchar(100), -- \u5b57\u6bb5\u540d\uff1atotal -- int \u8868\u793a\u5f53\u524dtotal\u8fd9\u4e00\u5217\u7684\u6570\u636e\u53ea\u80fd\u662f\u6574\u6570\uff0c\u800c\u4e14\u4e00\u4e2a\u6570\u636e\u8868\u4e2d\uff0c\u6574\u6570\u7684\u6700\u5927\u8303\u56f4\u53ea\u80fd\u662f42\u4ebf total int ); \u4e0a\u9762\u7684SQL\u8bed\u53e5\u5c31\u76f8\u5f53\u4e8e\u521b\u5efa\u4e86\u4e00\u4e2a\u8868\u683c\u3002 id name address total \u521b\u5efa\u5b66\u751f\u8868 create table student( id int auto_increment, -- \u5b57\u6bb5\u540d\uff1aid\uff0c\u6570\u636e\u7c7b\u578b\uff1aint\u6574\u578b\uff0cauto_increment\u6574\u6570\u81ea\u52a8\u589e\u957f+1 name varchar(10), -- \u5b57\u6bb5\u540d\uff1aname\uff0c \u6570\u636e\u7c7b\u578b\uff1avarchar\u5b57\u7b26\u4e32\uff08\u957f\u5ea6\u9650\u5236\u6700\u591a10\u4e2a\u5b57\u7b26\uff09 sex int default 1, -- \u5b57\u6bb5\u540d\uff1asex\uff0c\u6570\u636e\u7c7b\u578b\uff1aint\u6574\u578b\uff0c\u9ed8\u8ba4\u503c\uff08default\uff09\uff1a1 \u76f8\u5f53\u4e8eTrue classes int, -- \u5b57\u6bb5\u540d\uff1aclasses\uff0c \u6570\u636e\u7c7b\u578b\uff1aint\u6574\u578b\uff0c age int, -- \u5b57\u6bb5\u540d\uff1aage\uff0c\u6570\u636e\u7c7b\u578b\uff1aint\u6574\u6570, description text, -- \u5b57\u6bb5\u540d\uff1adescription\uff0c\u6570\u636e\u7c7b\u578b\uff1atext\u6587\u672c primary key (id) -- \u8bbe\u7f6e\u4e3b\u952e(id) \u6bcf\u4e2a\u8868\u5fc5\u987b\u90fd\u6709\u4e3b\u952e\uff0c\u7528\u4ee5\u533a\u5206\u4e0d\u540c\u884c\u7684\u6570\u636e ); \u7ec3\u4e60\uff1a\u5047\u8bbe\u73b0\u5728\u6211\u4eec\u6709\u4e00\u4e2a\u8bfe\u7a0b\u8868(courses)\uff0c\u91cc\u9762\u9700\u8981\u4fdd\u5b58\u8bfe\u7a0b\u7f16\u53f7\uff08id\uff09\uff0c\u8bfe\u7a0b\u540d\uff08cource\uff09\uff0c\u6388\u8bfe\u8001\u5e08\uff08lecturer\uff09\uff0c\u6559\u5ba4\uff08address\uff09\u3002 create table courses ( id int auto_increment primary key comment \"\u8bfe\u7a0b\u7f16\u53f7\", course varchar(50) comment \"\u8bfe\u7a0b\u540d\u79f0\", lecturer int comment \"\u8bb2\u5e08\u7f16\u53f7\", address int comment \"\u6559\u5ba4\u7f16\u53f7\" );","title":"\u521b\u5efa\u6570\u636e\u8868"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_47","text":"","title":"\u67e5\u770b\u6570\u636e\u8868"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_48","text":"\u5217\u51fa\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u6240\u6709\u7684\u6570\u636e\u8868,\u8bed\u6cd5\uff1a show tables;","title":"\u67e5\u770b\u6240\u6709\u6570\u636e\u8868"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_49","text":"\u4ee5\u8868\u683c\u5f62\u5f0f\u5217\u51fa\u5f53\u524d\u6570\u636e\u8868\u7684\u7ed3\u6784\u4fe1\u606f\u3002\u8bed\u6cd5\uff1a -- \u65b9\u5f0f1\uff1a\u7b80\u5355\u67e5\u770b describe \u8868\u540d; desc \u8868\u540d; -- desc\u662fdescribe\u7684\u7f29\u5199 -- \u65b9\u5f0f2\uff1a\u8be6\u7ec6\u67e5\u770b describe \u8868\u540d; desc \u8868\u540d;","title":"\u67e5\u770b\u8868\u7ed3\u6784"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_50","text":"show create table \u8868\u540d \\G;","title":"\u67e5\u770b\u5efa\u8868\u8bed\u53e5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_51","text":"\u5220\u9664\u8868\u7ed3\u6784\uff0c\u5e76\u628a\u6570\u636e\u4e00\u5e76\u5220\u9664\uff0c\u4f7f\u7528\u9700\u8c28\u614e\uff0c\u5f3a\u70c8\u5efa\u8bae\u5148\u5907\u4efd\u540e\u5220\u9664\uff0c\u6216\u8005\u76f4\u63a5\u6539\u8868\u540d\u6765\u4ee3\u66ff\u5220\u9664\u64cd\u4f5c\u3002 drop table \u8868\u540d; \u91cd\u7f6e\u8868\u4fe1\u606f \u4fdd\u7559\u6570\u636e\u8868\u7ed3\u6784\uff0c\u4f46\u662f\u628a\u6570\u636e\u8868\u5b58\u50a8\u7684\u6570\u636e\u4ee5\u53ca\u6570\u636e\u8868\u7684\u72b6\u6001\u56de\u6eda\uff0c\u76f8\u5f53\u4e8e\u5220\u9664\u539f\u8868\uff0c\u5e76\u65b0\u5efa\u4e00\u5f20\u4e00\u6a21\u4e00\u6837\u7684\u7a7a\u6570\u636e\u8868\u3002 TRUNCATE table \u8868\u540d;","title":"\u5220\u9664\u6570\u636e\u8868"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_52","text":"","title":"\u8868\u8bb0\u5f55\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_14","text":"INSERT \u8bed\u53e5\u6709\u4e24\u79cd\u8bed\u6cd5\u5f62\u5f0f\uff0c\u5206\u522b\u662f INSERT\u2026VALUES \u8bed\u53e5\u548c INSERT\u2026SET \u8bed\u53e5\u3002 INSERT [INTO] <\u8868\u540d> [ <\u5217\u540d1> [ , \u2026 <\u5217\u540dn>] ] VALUES (\u503c1) [\u2026 , (\u503cn) ]; \u6307\u5b9a\u9700\u8981\u63d2\u5165\u6570\u636e\u7684\u5217\u540d\u3002\u82e5\u5411\u8868\u4e2d\u7684\u6240\u6709\u5217\u63d2\u5165\u6570\u636e\uff0c\u5219\u5168\u90e8\u7684\u5217\u540d\u5747\u53ef\u4ee5\u7701\u7565\uff0c\u76f4\u63a5\u91c7\u7528 INSERT<\u8868\u540d>VALUES(\u2026) \u5373\u53ef\u3002 INSERT \u8bed\u53e5\u540e\u9762\u7684\u5217\u540d\u79f0\u987a\u5e8f\u53ef\u4ee5\u4e0d\u662f \u8868\u5b9a\u4e49\u65f6\u7684\u987a\u5e8f\uff0c\u5373\u63d2\u5165\u6570\u636e\u65f6\uff0c\u4e0d\u9700\u8981\u6309\u7167\u8868\u5b9a\u4e49\u7684\u987a\u5e8f\u63d2\u5165\uff0c\u53ea\u8981\u4fdd\u8bc1\u503c\u7684\u987a\u5e8f\u4e0e\u5217\u5b57\u6bb5\u7684\u987a\u5e8f\u76f8\u540c\u5c31\u53ef\u4ee5\u3002 \u4f7f\u7528 INSERT\u2026VALUES \u8bed\u53e5\u53ef\u4ee5\u5411\u8868\u4e2d\u63d2\u5165\u4e00\u884c\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u63d2\u5165\u591a\u884c\u6570\u636e\uff1b sql INSERT [INTO] <\u8868\u540d> [ <\u5217\u540d1> [ , \u2026 <\u5217\u540dn>] ] VALUES (\u503c1\u2026,\u503cn), (\u503c1\u2026,\u503cn), ... (\u503c1\u2026,\u503cn); -- \u7528\u5355\u6761 INSERT \u8bed\u53e5\u5904\u7406\u591a\u4e2a\u63d2\u5165\u8981\u6bd4\u4f7f\u7528\u591a\u6761 INSERT \u8bed\u53e5\u66f4\u5feb\u3002 \u6848\u4f8b\uff1a INSERT employee (name,gender,birthday,salary,department) VALUES (\"yuan\",1,\"1985-12-12\",8000,\"\u6559\u5b66\u90e8\"), (\"alvin\",1,\"1987-08-08\",5000,\"\u4fdd\u5b89\u90e8\"), (\"rain\",1,\"1990-06-06\",20000,\"\u9500\u552e\u90e8\");","title":"\u30101\u3011\u6dfb\u52a0\u8bb0\u5f55"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_9","text":"\u6807\u51c6\u8bed\u6cd5\uff1a -- \u67e5\u8be2\u8bed\u6cd5\uff1a SELECT *|field1,filed2 ... FROM tab_name WHERE \u6761\u4ef6 GROUP BY field HAVING \u7b5b\u9009 ORDER BY field LIMIT \u9650\u5236\u6761\u6570 -- Mysql\u5728\u6267\u884csql\u8bed\u53e5\u65f6\u7684\u6267\u884c\u987a\u5e8f\uff1a -- from where select group by having order by \u51c6\u5907\u6570\u636e\uff1a CREATE TABLE emp( id INT PRIMARY KEY AUTO_INCREMENT, name VARCHAR(20), gender ENUM(\"male\",\"female\",\"other\"), age TINYINT, dep VARCHAR(20), city VARCHAR(20), salary DOUBLE(7,2) )character set=utf8; INSERT INTO emp (name,gender,age,dep,city,salary) VALUES (\"yuan\",\"male\",24,\"\u6559\u5b66\u90e8\",\"\u6cb3\u5317\u7701\",8000), (\"eric\",\"male\",34,\"\u9500\u552e\u90e8\",\"\u5c71\u4e1c\u7701\",8000), (\"rain\",\"male\",28,\"\u9500\u552e\u90e8\",\"\u5c71\u4e1c\u7701\",10000), (\"alvin\",\"female\",22,\"\u6559\u5b66\u90e8\",\"\u5317\u4eac\",9000), (\"George\", \"male\",24,\"\u6559\u5b66\u90e8\",\"\u6cb3\u5317\u7701\",6000), (\"danae\", \"male\",32,\"\u8fd0\u8425\u90e8\",\"\u5317\u4eac\",12000), (\"Sera\", \"male\",38,\"\u8fd0\u8425\u90e8\",\"\u6cb3\u5317\u7701\",7000), (\"Echo\", \"male\",19,\"\u8fd0\u8425\u90e8\",\"\u6cb3\u5317\u7701\",9000), (\"Abel\", \"female\",24,\"\u9500\u552e\u90e8\",\"\u5317\u4eac\",9000);","title":"\u30102\u3011\u67e5\u8be2\u8bb0\u5f55"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#select_1","text":"mysql> SELECT * FROM emp; +----+--------+--------+------+--------+--------+----------+ | id | name | gender | age | dep | city | salary | +----+--------+--------+------+--------+--------+----------+ | 1 | yuan | male | 24 | \u6559\u5b66\u90e8 | \u6cb3\u5317\u7701 | 8000.00 | | 2 | eric | male | 34 | \u9500\u552e\u90e8 | \u5c71\u4e1c\u7701 | 8000.00 | | 3 | rain | male | 28 | \u9500\u552e\u90e8 | \u5c71\u4e1c\u7701 | 10000.00 | | 4 | alvin | female | 22 | \u6559\u5b66\u90e8 | \u5317\u4eac | 9000.00 | | 5 | George | male | 24 | \u6559\u5b66\u90e8 | \u6cb3\u5317\u7701 | 6000.00 | | 6 | danae | male | 32 | \u8fd0\u8425\u90e8 | \u5317\u4eac | 12000.00 | | 7 | Sera | male | 38 | \u8fd0\u8425\u90e8 | \u6cb3\u5317\u7701 | 7000.00 | | 8 | Echo | male | 19 | \u8fd0\u8425\u90e8 | \u6cb3\u5317\u7701 | 9000.00 | | 9 | Abel | female | 24 | \u9500\u552e\u90e8 | \u5317\u4eac | 9000.00 | +----+--------+--------+------+--------+--------+----------+ mysql> SELECT name,dep,salary FROM emp; +--------+--------+----------+ | name | dep | salary | +--------+--------+----------+ | yuan | \u6559\u5b66\u90e8 | 8000.00 | | eric | \u9500\u552e\u90e8 | 8000.00 | | rain | \u9500\u552e\u90e8 | 10000.00 | | alvin | \u6559\u5b66\u90e8 | 9000.00 | | George | \u6559\u5b66\u90e8 | 6000.00 | | danae | \u8fd0\u8425\u90e8 | 12000.00 | | Sera | \u8fd0\u8425\u90e8 | 7000.00 | | Echo | \u8fd0\u8425\u90e8 | 9000.00 | | Abel | \u9500\u552e\u90e8 | 9000.00 | +--------+--------+----------+","title":"\u67e5\u8be2\u5b57\u6bb5\uff08select\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#where","text":"-- where\u5b57\u53e5\u4e2d\u53ef\u4ee5\u4f7f\u7528\uff1a -- \u6bd4\u8f83\u8fd0\u7b97\u7b26\uff1a > < >= <= <> != between 80 and 100 \u503c\u572810\u523020\u4e4b\u95f4 in(80,90,100) \u503c\u662f10\u621620\u621630 like 'yuan%' /* pattern\u53ef\u4ee5\u662f%\u6216\u8005_\uff0c \u5982\u679c\u662f%\u5219\u8868\u793a\u4efb\u610f\u591a\u5b57\u7b26\uff0c\u6b64\u4f8b\u5982\u5510\u50e7,\u5510\u56fd\u5f3a \u5982\u679c\u662f_\u5219\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u5510_\uff0c\u53ea\u6709\u5510\u50e7\u7b26\u5408\u3002\u4e24\u4e2a_\u5219\u8868\u793a\u4e24\u4e2a\u5b57\u7b26\uff1a__ */ -- \u903b\u8f91\u8fd0\u7b97\u7b26 \u5728\u591a\u4e2a\u6761\u4ef6\u76f4\u63a5\u53ef\u4ee5\u4f7f\u7528\u903b\u8f91\u8fd0\u7b97\u7b26 and or not -- \u6b63\u5219 SELECT * FROM emp WHERE emp_name REGEXP '^yu'; SELECT * FROM emp WHERE name REGEXP 'n$'; \u7ec3\u4e60\uff1a -- \u67e5\u8be2\u5e74\u7eaa\u5927\u4e8e24\u7684\u5458\u5de5 SELECT * FROM emp WHERE age>24; -- \u67e5\u8be2\u6559\u5b66\u90e8\u7684\u7537\u8001\u5e08\u4fe1\u606f SELECT * FROM emp WHERE dep=\"\u6559\u5b66\u90e8\" AND gender=\"male\";","title":"where\u8bed\u53e5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#order","text":"\u6309\u6307\u5b9a\u7684\u5217\u8fdb\u884c\uff0c\u6392\u5e8f\u7684\u5217\u5373\u53ef\u662f\u8868\u4e2d\u7684\u5217\u540d\uff0c\u4e5f\u53ef\u4ee5\u662fselect\u8bed\u53e5\u540e\u6307\u5b9a\u7684\u522b\u540d\u3002 -- \u8bed\u6cd5\uff1a select *|field1,field2... from tab_name order by field [Asc|Desc] -- Asc \u5347\u5e8f\u3001Desc \u964d\u5e8f\uff0c\u5176\u4e2dasc\u4e3a\u9ed8\u8ba4\u503c ORDER BY \u5b50\u53e5\u5e94\u4f4d\u4e8eSELECT\u8bed\u53e5\u7684\u7ed3\u5c3e\u3002 \u7ec3\u4e60\uff1a -- \u6309\u5e74\u9f84\u4ece\u9ad8\u5230\u4f4e\u8fdb\u884c\u6392\u5e8f SELECT * FROM emp ORDER BY age DESC ; -- \u6309\u5de5\u8d44\u4ece\u4f4e\u5230\u9ad8\u8fdb\u884c\u6392\u5e8f SELECT * FROM emp ORDER BY salary; -- \u5148\u6309\u5de5\u8d44\u6392\u5e8f\uff0c\u5de5\u8d44\u76f8\u540c\u7684\u6309\u5e74\u9f84\u6392\u5e8f SELECT * FROM emp ORDER BY salary,age;","title":"order\uff1a\u6392\u5e8f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#group-by","text":"GROUP BY \u8bed\u53e5\u6839\u636e\u67d0\u4e2a\u5217\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4\u3002\u5206\u7ec4\u4e00\u822c\u914d\u5408\u7740\u805a\u5408\u51fd\u6570\u5b8c\u6210\u67e5\u8be2\u3002 \u5e38\u7528\u805a\u5408(\u7edf\u8ba1)\u51fd\u6570 max() \uff1a\u6700\u5927\u503c\u3002 min() \uff1a\u6700\u5c0f\u503c\u3002 avg() \uff1a\u5e73\u5747\u503c\u3002 sum() \uff1a\u603b\u548c\u3002 count() \uff1a\u4e2a\u6570\u3002 \u5728MySQL\u7684SQL\u6267\u884c\u903b\u8f91\u4e2d\uff0cwhere\u6761\u4ef6\u5fc5\u987b\u653e\u5728group by\u524d\u9762\uff01\u4e5f\u5c31\u662f\u5148\u901a\u8fc7where\u6761\u4ef6\u5c06\u7ed3\u679c\u67e5\u8be2\u51fa\u6765\uff0c\u518d\u4ea4\u7ed9group by\u53bb\u5206\u7ec4\uff0c\u5b8c\u4e8b\u4e4b\u540e\u8fdb\u884c\u7edf\u8ba1\uff0c\u7edf\u8ba1\u4e4b\u540e\u7684\u67e5\u8be2\u7528having\u3002 \u7ec3\u4e60\uff1a -- \u67e5\u8be2\u7537\u5973\u5458\u5de5\u5404\u6709\u591a\u5c11\u4eba SELECT gender \u6027\u522b,count(*) \u4eba\u6570 FROM emp GROUP BY gender; -- \u67e5\u8be2\u5404\u4e2a\u90e8\u95e8\u7684\u4eba\u6570 SELECT dep \u90e8\u95e8,count(*) \u4eba\u6570 FROM emp GROUP BY dep; -- \u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u6700\u5927\u7684\u5e74\u9f84 SELECT dep \u90e8\u95e8,max(age) \u6700\u5927\u5e74\u7eaa FROM emp GROUP BY dep; -- \u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u5e74\u9f84\u6700\u5927\u7684\u5458\u5de5\u59d3\u540d SELECT * FROM emp5 WHERE age in (SELECT max(age) FROM emp5 GROUP BY dep); -- \u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44 SELECT dep \u90e8\u95e8,avg(salary) \u6700\u5927\u5e74\u7eaa FROM emp GROUP BY dep; -- \u67e5\u8be2\u6559\u5b66\u90e8\u7684\u5458\u5de5\u6700\u9ad8\u5de5\u8d44: SELECT dep,max(salary) FROM emp11 GROUP BY dep HAVING dep=\"\u6559\u5b66\u90e8\"; -- \u67e5\u8be2\u5e73\u5747\u85aa\u6c34\u8d85\u8fc78000\u7684\u90e8\u95e8 SELECT dep,AVG(salary) FROM emp GROUP BY dep HAVING avg(salary)>8000; -- \u67e5\u8be2\u6bcf\u4e2a\u7ec4\u7684\u5458\u5de5\u59d3\u540d SELECT dep,group_concat(name) FROM emp GROUP BY dep; -- \u67e5\u8be2\u516c\u53f8\u4e00\u5171\u6709\u591a\u5c11\u5458\u5de5(\u53ef\u4ee5\u5c06\u6240\u6709\u8bb0\u5f55\u770b\u6210\u4e00\u4e2a\u7ec4) SELECT COUNT(*) \u5458\u5de5\u603b\u4eba\u6570 FROM emp;","title":"group by\uff1a\u5206\u7ec4\u67e5\u8be2"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#limit","text":"SELECT * from emp limit 1; SELECT * from emp limit 2,5; -- \u8df3\u8fc7\u524d\u4e24\u6761\u663e\u793a\u63a5\u4e0b\u6765\u7684\u4e94\u6761\u7eaa\u5f55 SELECT * from emp limit 2,2;","title":"limit\uff1a\u8bb0\u5f55\u6761\u6570\u9650\u5236"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#distinct","text":"SELECT distinct salary from emp order by salary;","title":"distinct\uff1a\u67e5\u8be2\u53bb\u91cd"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_11","text":"UPDATE <\u8868\u540d> SET \u5b57\u6bb5 1=\u503c 1 [,\u5b57\u6bb5 2=\u503c 2\u2026 ] [WHERE \u5b50\u53e5 ]","title":"\u30103\u3011\u66f4\u65b0\u8bb0\u5f55"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_9","text":"DELETE FROM <\u8868\u540d> [WHERE \u5b50\u53e5] [ORDER BY \u5b50\u53e5] [LIMIT \u5b50\u53e5] <\u8868\u540d> \uff1a\u6307\u5b9a\u8981\u5220\u9664\u6570\u636e\u7684\u8868\u540d\u3002 ORDER BY \u5b50\u53e5\uff1a\u53ef\u9009\u9879\u3002\u8868\u793a\u5220\u9664\u65f6\uff0c\u8868\u4e2d\u5404\u884c\u5c06\u6309\u7167\u5b50\u53e5\u4e2d\u6307\u5b9a\u7684\u987a\u5e8f\u8fdb\u884c\u5220\u9664\u3002 WHERE \u5b50\u53e5\uff1a\u53ef\u9009\u9879\u3002\u8868\u793a\u4e3a\u5220\u9664\u64cd\u4f5c\u9650\u5b9a\u5220\u9664\u6761\u4ef6\uff0c\u82e5\u7701\u7565\u8be5\u5b50\u53e5\uff0c\u5219\u4ee3\u8868\u5220\u9664\u8be5\u8868\u4e2d\u7684\u6240\u6709\u884c\u3002 LIMIT \u5b50\u53e5\uff1a\u53ef\u9009\u9879\u3002\u7528\u4e8e\u544a\u77e5\u670d\u52a1\u5668\u5728\u63a7\u5236\u547d\u4ee4\u88ab\u8fd4\u56de\u5230\u5ba2\u6237\u7aef\u524d\u88ab\u5220\u9664\u884c\u7684\u6700\u5927\u503c\u3002","title":"\u30104\u3011\u5220\u9664\u8bb0\u5f55"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_53","text":"\u4e00\u5bf9\u591a\u5173\u7cfb\u4e3a\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u4e24\u4e2a\u8868\u4e4b\u95f4\u7684\u4e00\u79cd\u5173\u7cfb\uff0c\u8be5\u5173\u7cfb\u4e2d\u7b2c\u4e00\u4e2a\u8868\u4e2d\u7684\u5355\u4e2a\u884c\u53ef\u4ee5\u4e0e\u7b2c\u4e8c\u4e2a\u8868\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u884c\u76f8\u5173\uff0c\u4f46\u7b2c\u4e8c\u4e2a\u8868\u4e2d\u7684\u4e00\u4e2a\u884c\u53ea\u53ef\u4ee5\u4e0e\u7b2c\u4e00\u4e2a\u8868\u4e2d\u7684\u4e00\u4e2a\u884c\u76f8\u5173\u3002 -- \u4e66\u7c4d\u8868 CREATE TABLE book( id INT PRIMARY KEY AUTO_INCREMENT, title VARCHAR(32), price DOUBLE(5,2), pub_id INT NOT NULL )ENGINE=INNODB CHARSET=utf8; -- \u51fa\u7248\u793e\u8868 CREATE TABLE publisher( id INT PRIMARY KEY AUTO_INCREMENT, name VARCHAR(32), email VARCHAR(32), addr VARCHAR(32) )ENGINE=INNODB CHARSET=utf8; -- \u63d2\u5165\u6570\u636e INSERT INTO book(title,price,pub_id) VALUES ('\u897f\u6e38\u8bb0',15,1), ('\u4e09\u56fd\u6f14\u4e49',45,2), ('\u7ea2\u697c\u68a6',66,3), ('\u6c34\u6d52\u4f20',21,2), ('\u7ea2\u4e0e\u9ed1',67,3), ('\u4e71\u4e16\u4f73\u4eba',44,6), ('\u98d8',56,1), ('\u653e\u98ce\u7b5d\u7684\u4eba',78,3); INSERT INTO publisher(id,name,email,addr) VALUES (1,'\u6e05\u534e\u51fa\u7248\u793e',\"123\",\"bj\"), (2,'\u5317\u5927\u51fa\u7248\u793e',\"234\",\"bj\"), (3,'\u673a\u68b0\u5de5\u4e1a\u51fa\u7248\u793e',\"345\",\"nj\"), (4,'\u90ae\u7535\u51fa\u7248\u793e',\"456\",\"nj\"), (5,'\u7535\u5b50\u5de5\u4e1a\u51fa\u7248\u793e',\"567\",\"bj\"), (6,'\u4eba\u6c11\u5927\u5b66\u51fa\u7248\u793e',\"678\",\"bj\"); mysql> select * from book; +----+------------+-------+--------+ | id | title | price | pub_id | +----+------------+-------+--------+ | 1 | \u897f\u6e38\u8bb0 | 15.00 | 1 | | 2 | \u4e09\u56fd\u6f14\u4e49 | 45.00 | 2 | | 3 | \u7ea2\u697c\u68a6 | 66.00 | 3 | | 4 | \u6c34\u6d52\u4f20 | 21.00 | 2 | | 5 | \u7ea2\u4e0e\u9ed1 | 67.00 | 3 | | 6 | \u4e71\u4e16\u4f73\u4eba | 44.00 | 6 | | 7 | \u98d8 | 56.00 | 1 | | 8 | \u653e\u98ce\u7b5d\u7684\u4eba | 78.00 | 3 | +----+------------+-------+--------+ 8 rows in set (0.00 sec) mysql> select * from publisher; +----+----------------+-------+------+ | id | name | email | addr | +----+----------------+-------+------+ | 1 | \u6e05\u534e\u51fa\u7248\u793e | 123 | bj | | 2 | \u5317\u5927\u51fa\u7248\u793e | 234 | bj | | 3 | \u673a\u68b0\u5de5\u4e1a\u51fa\u7248\u793e | 345 | nj | | 4 | \u90ae\u7535\u51fa\u7248\u793e | 456 | nj | | 5 | \u7535\u5b50\u5de5\u4e1a\u51fa\u7248\u793e | 567 | bj | | 6 | \u4eba\u6c11\u5927\u5b66\u51fa\u7248\u793e | 678 | bj | +----+----------------+-------+------+ 6 rows in set (0.00 sec)","title":"\u5173\u8054\u8868"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#pythonmysql","text":"import pymysql # \u6253\u5f00\u6570\u636e\u5e93\u8fde\u63a5 db = pymysql.connect(host='localhost', user='root', passwd='...', port=3306) print('\u8fde\u63a5\u6210\u529f\uff01') # \u4f7f\u7528 cursor() \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u6e38\u6807\u5bf9\u8c61 cursor cursor = db.cursor() # \u4f7f\u7528 execute() \u65b9\u6cd5\u6267\u884c SQL \u67e5\u8be2 cursor.execute(\"SELECT VERSION()\") # \u4f7f\u7528 fetchone() \u65b9\u6cd5\u83b7\u53d6\u5355\u6761\u6570\u636e. data = cursor.fetchone() print(\"Database version : %s \" % data) # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5 db.close() class\u7248\u672c import pymysql class DBHandler: def __init__(self, host, port, user, password, database, charset, **kwargs): # \u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668 self.conn = pymysql.connect(host=host, port=port, user=user, password=password, database=database, cursorclass=pymysql.cursors.DictCursor, charset=charset, **kwargs) # \u83b7\u53d6\u6e38\u6807 self.cursor = self.conn.cursor() def query(self, sql, args=None, one=True): self.cursor.execute(sql, args) if one: return self.cursor.fetchone() else: return self.cursor.fetchall() def close(self): self.cursor.close() self.conn.close() if __name__ == \"__main__\": db = DBHandler(host='127.0.0.1', port=3306, user='root', password='yuan0316', database='uric', charset='utf8') sql = 'SELECT VERSION()' data = db.query(sql) print(data)","title":"Python\u64cd\u4f5cMySQL"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_54","text":"import requests from lxml import etree import pymysql class Spider(object): def __init__(self, host, port, user, password, database, charset, **kwargs): # \u8fde\u63a5\u6570\u636e\u5e93\u670d\u52a1\u5668 self.conn = pymysql.connect(host=host, port=port, user=user, password=password, database=database, cursorclass=pymysql.cursors.DictCursor, charset=charset, **kwargs) # \u83b7\u53d6\u6e38\u6807 self.cursor = self.conn.cursor() # \u521d\u59cb\u5316\u8868\u3001 self.init_table() self.headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36', } self.session = requests.session() def exec(self, sql, args=None, one=True): self.cursor.execute(sql, args) self.conn.commit() if one: return self.cursor.fetchone() else: return self.cursor.fetchall() def close(self): self.cursor.close() self.conn.close() def init_table(self): # \u4f7f\u7528 execute() \u65b9\u6cd5\u6267\u884c SQL \u67e5\u8be2 sql1 = \"\"\" create table if not exists book( id int primary key auto_increment, bookName varchar(32), coverImg varchar(255), authorPenName varchar(32) )character set=utf8; \"\"\" self.exec(sql1) sql2 = \"\"\" create table if not exists chapter( id int primary key auto_increment , chapter_name varchar(32), chapter_content text, book_id INT NOT NULL )character set=utf8; \"\"\" self.exec(sql2) def login(self): self.session.post(\"https://passport.17k.com/ck/user/login\", data={ \"loginName\": \"13121758648\", \"password\": \"yuan0316\" }, headers=self.headers) def get_shelf_books(self): ''' params: :return: data [{},{},{}] ''' res = self.session.get(\"https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919\") res.encoding = \"utf8\" # print(res.text) data = res.json().get(\"data\") for book_dict in data: self.handle_one_book(book_dict) def handle_one_book(self, book_dict): # \u5faa\u73af\u5904\u7406\u6bcf\u4e00\u672c\u4e66 print(book_dict) bookId = book_dict.get(\"bookId\") bookName = book_dict.get(\"bookName\") coverImg = book_dict.get(\"coverImg\") authorPenName = book_dict.get(\"authorPenName\") sql = f\"\"\"insert into book (bookName,coverImg,authorPenName) values ( \"{bookName}\",\"{coverImg}\",\"{authorPenName}\");\"\"\" print(\"sql:::\", sql) self.exec(sql) # \u722c\u53d6\u6bcf\u4e00\u7ae0\u7684\u6587\u672c\u4fe1\u606f\u5e76\u4e0b\u8f7d self.get_chapters(bookId) def get_chapters(self, book_id): # \u722c\u866b\u6bcf\u4e00\u672c\u4e66\u67b6\u4e66\u7c4d\u7684\u7ae0\u8282\u9875\u9762 res = requests.get(f\"https://www.17k.com/list/{book_id}.html\") res.encoding = \"utf8\" # \u89e3\u6790\u8be5\u4e66\u7c4d\u7684\u7ae0\u8282\u9875\u9762\u4e2d\u7ae0\u8282\u94fe\u63a5 selector = etree.HTML(res.text) items = selector.xpath('//dl[@class=\"Volume\"][position()>1]/dd/a') for item in items: self.handle_one_chapter(item, book_id) def handle_one_chapter(self, item, book_id): # \u6bcf\u4e00\u672c\u4e66\u7c4d\u7684\u6bcf\u4e00\u7ae0\u8282\u7684\u4fe1\u606f chapter_href = item.xpath(\"./@href\")[0] chapter_name = item.xpath(\"./span/text()\")[0].strip() # \u722c\u53d6\u7ae0\u8282\u5185\u5bb9 res = requests.get(\"https://www.17k.com\" + chapter_href) res.encoding = \"utf8\" chapter_html = res.text print(chapter_html) selector = etree.HTML(res.text) chapter_content_list = selector.xpath( '//div[contains(@class,\"content\")]/div[@class=\"p\"]/p[position()<last()]/text()') chapter_content_str = \"\\n\".join(chapter_content_list) # \u7ae0\u8282\u8fdb\u884c\u4e0b\u8f7d\uff0c\u5199\u5165\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d sql = f\"\"\"insert into chapter (chapter_name,chapter_content,book_id) values ( \"{chapter_name}\",'{chapter_content_str}',\"{book_id}\");\"\"\" print(\"sql:::\", sql) self.exec(sql) def run(self): # (1) \u6a21\u62df\u767b\u5f55\uff0c\u83b7\u53d6Cookie self.login() # (2) \u722c\u53d6\u4e66\u67b6\u4e0a\u7684\u4e66\u7c4d\u4fe1\u606f self.get_shelf_books() if __name__ == \"__main__\": s = Spider(host='127.0.0.1', port=3306, user='root', password='yuan0316', database='xiaoshuo', charset='utf8') s.run()","title":"\u722c\u866b\u5c0f\u8bf4\u5b58\u50a8\u6848\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#72redis","text":"","title":"7.2\u3001redis"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#redis","text":"","title":"redis\u4ecb\u7ecd"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_55","text":"Redis\uff08Remote Dictionary Server \uff0c\u8fdc\u7a0b\u5b57\u5178\u670d\u52a1\uff09 \u662f\u4e00\u4e2a\u4f7f\u7528ANSIC\u7f16\u5199\u7684\u5f00\u6e90\u3001\u652f\u6301\u7f51\u7edc\u3001\u57fa\u4e8e\u5185\u5b58\u3001\u53ef\u9009\u6301\u4e45\u6027\u7684\u952e\u503c\u5bf9\u5b58\u50a8\u6570\u636e\u5e93\uff0c\u662fNoSQL\u6570\u636e\u5e93\u3002 redis\u7684\u51fa\u73b0\u4e3b\u8981\u662f\u4e3a\u4e86\u66ff\u4ee3\u65e9\u671f\u7684Memcache\u7f13\u5b58\u7cfb\u7edf\u7684\u3002map\u5185\u5b58\u578b(\u6570\u636e\u5b58\u653e\u5728\u5185\u5b58\u4e2d)\u7684\u975e\u5173\u7cfb\u578b(nosql)key-value(\u952e\u503c\u5b58\u50a8)\u6570\u636e\u5e93\uff0c\u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316(\u57fa\u4e8eRDB\u548cAOF\uff0c\u6ce8: \u6570\u636e\u6301\u4e45\u5316\u65f6\u5c06\u6570\u636e\u5b58\u653e\u5230\u6587\u4ef6\u4e2d\uff0c\u6bcf\u6b21\u542f\u52a8redis\u4e4b\u540e\u4f1a\u5148\u5c06\u6587\u4ef6\u4e2d\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u7ecf\u5e38\u7528\u6765\u505a\u7f13\u5b58\u3001\u6570\u636e\u5171\u4eab\u3001\u8d2d\u7269\u8f66\u3001\u6d88\u606f\u961f\u5217\u3001\u8ba1\u6570\u5668\u3001\u9650\u6d41\u7b49\u3002(\u6700\u57fa\u672c\u7684\u5c31\u662f\u7f13\u5b58\u4e00\u4e9b\u7ecf\u5e38\u7528\u5230\u7684\u6570\u636e\uff0c\u63d0\u9ad8\u8bfb\u5199\u901f\u5ea6)\u3002 redis\u7279\u6027\uff1a \u901f\u5ea6\u5feb \u6301\u4e45\u5316 \u591a\u79cd\u6570\u636e\u7ed3\u6784 \u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00 \u4e3b\u4ece\u590d\u5236 \u9ad8\u53ef\u7528\u3001\u5206\u5e03\u5f0f","title":"\u5b9a\u4e49"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#redis_1","text":"Redis\u63d0\u4f9b\u7684\u6570\u636e\u7c7b\u578b\u4e3b\u8981\u5206\u4e3a5\u79cd\u81ea\u6709\u7c7b\u578b\u548c\u4e00\u79cd\u81ea\u5b9a\u4e49\u7c7b\u578b\uff0c\u8fd95\u79cd\u81ea\u6709\u7c7b\u578b\u5305\u62ec\uff1aString\u7c7b\u578b\u3001\u54c8\u5e0c\u7c7b\u578b\u3001\u5217\u8868\u7c7b\u578b\u3001\u96c6\u5408\u7c7b\u578b\u548c\u987a\u5e8f\u96c6\u5408\u7c7b\u578b\u3002 redis={ \"name\":\"yuan\", \"age\":\"23\", \"scors\":[78,79,98,], \"info\":{\"gender\":\"male\",\"tel\":\"110\"}, \"set\":{1,2,3}, \"zset\":{1,2,3,} }","title":"Redis\u7684\u6570\u636e\u7c7b\u578b\u53ca\u4e3b\u8981\u7279\u6027"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#redis_2","text":"Redis \u7684\u5e94\u7528\u573a\u666f\u5305\u62ec\uff1a \u7f13\u5b58\u7cfb\u7edf\uff08\u201c\u70ed\u70b9\u201d\u6570\u636e\uff1a\u9ad8\u9891\u8bfb\u3001\u4f4e\u9891\u5199\uff09\uff1a\u7f13\u5b58\u7528\u6237\u4fe1\u606f\uff0c\u4f18\u60e0\u5238\u8fc7\u671f\u65f6\u95f4\uff0c\u9a8c\u8bc1\u7801\u8fc7\u671f\u65f6\u95f4\u3001session\u3001token\u7b49 \u8ba1\u6570\u5668\uff1a\u5e16\u5b50\u7684\u6d4f\u89c8\u6570\uff0c\u89c6\u9891\u64ad\u653e\u6b21\u6570\uff0c\u8bc4\u8bba\u6b21\u6570\u3001\u70b9\u8d5e\u6b21\u6570\u7b49 \u6d88\u606f\u961f\u5217\uff0c\u79d2\u6740\u7cfb\u7edf \u793e\u4ea4\u7f51\u7edc\uff1a\u7c89\u4e1d\u3001\u5171\u540c\u597d\u53cb\uff08\u53ef\u80fd\u8ba4\u8bc6\u7684\u4eba\uff09\uff0c\u5174\u8da3\u7231\u597d\uff08\u63a8\u8350\u5546\u54c1\uff09 \u6392\u884c\u699c\uff08\u6709\u5e8f\u96c6\u5408\uff09 \u53d1\u5e03\u8ba2\u9605\uff1a\u7c89\u4e1d\u5173\u6ce8\u3001\u6d88\u606f\u901a\u77e5","title":"Redis\u7684\u5e94\u7528\u573a\u666f\u6709\u54ea\u4e9b\uff1f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#redis_3","text":"redis\u7684\u5b98\u65b9\u53ea\u63d0\u4f9b\u4e86linux\u7248\u672c\u7684redis\uff0cwindow\u7cfb\u7edf\u7684redis\u662f\u5fae\u8f6f\u56e2\u961f\u6839\u636e\u5b98\u65b9\u7684linux\u7248\u672c\u9ad8\u4eff\u7684\u3002 \u5b98\u65b9\u539f\u7248: https://redis.io/ \u4e2d\u6587\u5b98\u7f51:http://www.redis.cn \u4e0b\u8f7d\u5730\u5740\uff1ahttps://github.com/tporadowski/redis/releases \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8redis\u670d\u52a1\u7aef redis-server C:/tool/redis/redis.windows.conf \u5173\u95ed\u4e0a\u9762\u8fd9\u4e2acmd\u7a97\u53e3\u5c31\u5173\u95edredis\u670d\u52a1\u5668\u670d\u52a1\u4e86\u3002 redis\u4f5c\u4e3awindows\u670d\u52a1\u542f\u52a8\u65b9\u5f0f redis-server --service-install redis.windows.conf \u542f\u52a8\u670d\u52a1\uff1aredis-server --service-start \u505c\u6b62\u670d\u52a1\uff1aredis-server --service-stop # \u5982\u679c\u8fde\u63a5\u64cd\u4f5credis\uff0c\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e0b\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a redis-cli","title":"redis\u73af\u5883\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#redis_4","text":"redis\u53ef\u4ee5\u7406\u89e3\u6210\u4e00\u4e2a\u5168\u5c40\u7684\u5927\u5b57\u5178\uff0ckey\u5c31\u662f\u6570\u636e\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002\u6839\u636ekey\u5bf9\u5e94\u7684\u503c\u4e0d\u540c\uff0c\u53ef\u4ee5\u5212\u5206\u62105\u4e2a\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002 redis = { \"name\":\"yuan\", \"scors\":[\"100\",\"89\",\"78\"], \"info\":{ \"name\":\"rain\" \"age\":22 }, \"s\":{item1,itme2,..} } 1. string\u7c7b\u578b: \u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u662f Redis \u4e2d\u6700\u4e3a\u57fa\u7840\u7684\u6570\u636e\u5b58\u50a8\u7c7b\u578b\uff0c\u5b83\u5728 Redis \u4e2d\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\uff0c\u4e5f\u5c31\u662fbyte\u7c7b\u578b\u3002 \u5355\u4e2a\u6570\u636e\u7684\u6700\u5927\u5bb9\u91cf\u662f512M\u3002 key: \u503c 2. hash\u7c7b\u578b: \u54c8\u5e0c\u7c7b\u578b\uff0c\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61/\u5b57\u5178\uff0c\u5bf9\u8c61/\u5b57\u5178\u7684\u7ed3\u6784\u4e3a\u952e\u503c\u5bf9\u3002key\u3001\u57df\u3001\u503c\u7684\u7c7b\u578b\u90fd\u4e3astring\u3002\u57df\u5728\u540c\u4e00\u4e2ahash\u4e2d\u662f\u552f\u4e00\u7684\u3002 key:{ \u57df\uff08\u5c5e\u6027\uff09: \u503c\uff0c \u57df:\u503c\uff0c \u57df:\u503c\uff0c \u57df:\u503c\uff0c ... } 3. list\u7c7b\u578b: \u5217\u8868\u7c7b\u578b\uff0c\u5b83\u7684\u5b50\u6210\u5458\u7c7b\u578b\u4e3astring\u3002 key: [\u503c1\uff0c\u503c2, \u503c3.....] 4. set\u7c7b\u578b: \u65e0\u5e8f\u96c6\u5408\uff0c\u5b83\u7684\u5b50\u6210\u5458\u7c7b\u578b\u4e3astring\u7c7b\u578b\uff0c\u5143\u7d20\u552f\u4e00\u4e0d\u91cd\u590d\uff0c\u6ca1\u6709\u4fee\u6539\u64cd\u4f5c\u3002 key: {\u503c1, \u503c4, \u503c3, ...., \u503c5} 5. zset\u7c7b\u578b(sortedSet): \u6709\u5e8f\u96c6\u5408\uff0c\u5b83\u7684\u5b50\u6210\u5458\u503c\u7684\u7c7b\u578b\u4e3astring\u7c7b\u578b\uff0c\u5143\u7d20\u552f\u4e00\u4e0d\u91cd\u590d\uff0c\u6ca1\u6709\u4fee\u6539\u64cd\u4f5c\u3002\u6743\u91cd\u503c(score,\u5206\u6570)\u4ece\u5c0f\u5230\u5927\u6392\u5217\u3002 key: { \u503c1 \u6743\u91cd\u503c1(\u6570\u5b57); \u503c2 \u6743\u91cd\u503c2; \u503c3 \u6743\u91cd\u503c3; \u503c4 \u6743\u91cd\u503c4; }","title":"redis\u6570\u636e\u7c7b\u578b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#pythonredis","text":"","title":"Python\u64cd\u4f5credis"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1redis","text":"# \u65b9\u5f0f1 import redis r = redis.Redis(host='127.0.0.1', port=6379) r.set('foo', 'Bar') print(r.get('foo')) # \u65b9\u5f0f2 import redis pool = redis.ConnectionPool(host='127.0.0.1', port=6379) r = redis.Redis(connection_pool=pool) r.set('bar', 'Foo') print(r.get('bar')) \u901a\u5e38\u60c5\u51b5\u4e0b, \u5f53\u6211\u4eec\u9700\u8981\u505aredis\u64cd\u4f5c\u65f6, \u4f1a\u521b\u5efa\u4e00\u4e2a\u8fde\u63a5, \u5e76\u57fa\u4e8e\u8fd9\u4e2a\u8fde\u63a5\u8fdb\u884credis\u64cd\u4f5c, \u64cd\u4f5c\u5b8c\u6210\u540e, \u91ca\u653e\u8fde\u63a5,\u4e00\u822c\u60c5\u51b5\u4e0b, \u8fd9\u662f\u6ca1\u95ee\u9898\u7684, \u4f46\u5f53\u5e76\u53d1\u91cf\u6bd4\u8f83\u9ad8\u7684\u65f6\u5019, \u9891\u7e41\u7684\u8fde\u63a5\u521b\u5efa\u548c\u91ca\u653e\u5bf9\u6027\u80fd\u4f1a\u6709\u8f83\u9ad8\u7684\u5f71\u54cd\u3002\u4e8e\u662f, \u8fde\u63a5\u6c60\u5c31\u53d1\u6325\u4f5c\u7528\u4e86\u3002\u8fde\u63a5\u6c60\u7684\u539f\u7406\u662f, \u901a\u8fc7\u9884\u5148\u521b\u5efa\u591a\u4e2a\u8fde\u63a5, \u5f53\u8fdb\u884credis\u64cd\u4f5c\u65f6, \u76f4\u63a5\u83b7\u53d6\u5df2\u7ecf\u521b\u5efa\u7684\u8fde\u63a5\u8fdb\u884c\u64cd\u4f5c, \u800c\u4e14\u64cd\u4f5c\u5b8c\u6210\u540e, \u4e0d\u4f1a\u91ca\u653e, \u7528\u4e8e\u540e\u7eed\u7684\u5176\u4ed6redis\u64cd\u4f5c\u3002\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u907f\u514d\u9891\u7e41\u7684redis\u8fde\u63a5\u521b\u5efa\u548c\u91ca\u653e\u7684\u76ee\u7684, \u4ece\u800c\u63d0\u9ad8\u6027\u80fd\u3002","title":"\uff081\uff09\u8fde\u63a5redis"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_10","text":"import redis pool = redis.ConnectionPool(host='127.0.0.1', port=6379, db=0, decode_responses=True) r = redis.Redis(connection_pool=pool) # \u4e00 \uff1a \u5b57\u7b26\u4e32\u64cd\u4f5c # \uff081\uff09\u5b57\u7b26\u4e32\u64cd\u4f5c\uff1a\u4e0d\u5141\u8bb8\u5bf9\u5df2\u7ecf\u5b58\u5728\u7684\u952e\u8bbe\u7f6e\u503c ret = r.setnx(\"name\", \"yuan\") print(ret) # \uff082\uff09\u5b57\u7b26\u4e32\u64cd\u4f5c\uff1a\u8bbe\u7f6e\u952e\u6709\u6548\u671f r.setex(\"good_1001\", 10, \"2\") # \uff083\uff09\u5b57\u7b26\u4e32\u64cd\u4f5c\uff1a\u81ea\u589e\u81ea\u51cf r.set(\"age\", 20) r.incrby(\"age\", 2) print(r.get(\"age\")) # b'22' # \u4e8c \uff1a hash\u64cd\u4f5c r.hset(\"info\", \"name\", \"rain\") print(r.hget(\"info\", \"name\")) # b'rain' r.hset(\"info\", mapping={\"gender\": \"male\", \"age\": 22}) print(r.hgetall(\"info\")) # {b'name': b'rain', b'gender': b'male', b'age': b'22'} # \u4e09 \uff1a list\u64cd\u4f5c r.rpush(\"scores\", \"100\", \"90\", \"80\") r.rpush(\"scores\", \"70\") r.lpush(\"scores\", \"120\") print(r.lrange(\"scores\", 0, -1)) # ['120', '100', '90', '80', '70'] r.linsert(\"scores\", \"AFTER\", \"100\", 95) print(r.lrange(\"scores\", 0, -1)) # ['120', '100', '95', '90', '80', '70'] print(r.lpop(\"scores\")) # 120 print(r.rpop(\"scores\")) # 70 print(r.lindex(\"scores\", 1)) # '95' # \u56db \uff1a \u96c6\u5408\u64cd\u4f5c # key\u5bf9\u5e94\u7684\u96c6\u5408\u4e2d\u6dfb\u52a0\u5143\u7d20 r.sadd(\"name_set\", \"zhangsan\", \"lisi\", \"wangwu\") # \u83b7\u53d6key\u5bf9\u5e94\u7684\u96c6\u5408\u7684\u6240\u6709\u6210\u5458 print(r.smembers(\"name_set\")) # {'lisi', 'zhangsan', 'wangwu'} # \u4ecekey\u5bf9\u5e94\u7684\u96c6\u5408\u4e2d\u968f\u673a\u83b7\u53d6 numbers \u4e2a\u5143\u7d20 print(r.srandmember(\"name_set\", 2)) r.srem(\"name_set\", \"lisi\") print(r.smembers(\"name_set\")) # {'wangwu', 'zhangsan'} # \u4e94 \uff1a\u6709\u5e8f\u96c6\u5408\u64cd\u4f5c # \u5728key\u5bf9\u5e94\u7684\u6709\u5e8f\u96c6\u5408\u4e2d\u6dfb\u52a0\u5143\u7d20 r.zadd(\"jifenbang\", {\"yuan\": 78, \"rain\": 20, \"alvin\": 89, \"eric\": 45}) # \u6309\u7167\u7d22\u5f15\u8303\u56f4\u83b7\u53d6key\u5bf9\u5e94\u7684\u6709\u5e8f\u96c6\u5408\u7684\u5143\u7d20 print(r.zrange(\"jifenbang\", 0, -1)) # ['rain', 'eric', 'yuan', 'alvin'] print( r.zrange(\"jifenbang\", 0, -1, withscores=True)) # [('rain', 20.0), ('eric', 45.0), ('yuan', 78.0), ('alvin', 89.0)] print(r.zrevrange(\"jifenbang\", 0, -1, withscores=True)) # [('alvin', 89.0), ('yuan', 78.0), ('eric', 45.0), ('rain', 20.0)] print(r.zrangebyscore(\"jifenbang\", 0, 100)) # ['rain', 'eric', 'yuan', 'alvin'] print(r.zrangebyscore(\"jifenbang\", 0, 100, start=0, num=2)) # ['rain', 'eric'] # \u5220\u9664key\u5bf9\u5e94\u7684\u6709\u5e8f\u96c6\u5408\u4e2d\u503c\u662fvalues\u7684\u6210\u5458 print(r.zrem(\"jifenbang\", \"yuan\")) # \u5220\u9664\u6210\u529f\u8fd4\u56de1 print(r.zrange(\"jifenbang\", 0, -1)) # ['rain', 'eric', 'alvin'] # \u516d \uff1a\u952e\u503c\u5bf9\u64cd\u4f5c r.delete(\"scores\") print(r.exists(\"scores\")) print(r.keys(\"*\")) r.expire(\"name\", 10)","title":"\uff082\uff09\u6570\u636e\u7c7b\u578b\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#73mongodb","text":"\u4e00\u822c\u722c\u866b\u4f7f\u7528\u7684\u6570\u636e\u5e93\uff0c\u662f\u6839\u636e\u9879\u76ee\u6765\u5b9a\u7684\u3002\u5982\u9700\u6c42\u65b9\u6307\u5b9a\u4e86\u4f7f\u7528\u4ec0\u4e48\u6570\u636e\u5e93\u3001\u5982\u679c\u6ca1\u6307\u5b9a\uff0c\u90a3\u4e48\u51b3\u5b9a\u6743\u5c31\u5728\u722c\u866b\u7a0b\u5e8f\u5458\u624b\u91cc\uff0c\u5982\u679c\u81ea\u9009\u7684\u8bdd\uff0cmysql \u548cmongodb \u7528\u7684\u90fd\u662f\u6bd4\u8f83\u591a\u7684\u3002\u4f46\u4e0d\u540c\u7684\u6570\u636e\u5e93\u54c1\u79cd\u6709\u5404\u81ea\u7684\u4f18\u7f3a\u70b9\uff0c\u4e0d\u540c\u7684\u573a\u666f\u4efb\u4f55\u4e00\u79cd\u6570\u636e\u5e93\u90fd\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\uff0c\u4f46\u662f\u67d0\u79cd\u53ef\u80fd\u4f1a\u66f4\u597d\u3002\u6bd4\u5982\u5982\u679c\u6293\u53d6\u7684\u6570\u636e\u4e4b\u95f4\u7684\u8026\u5408\u6027\u5f88\u9ad8\uff0c\u5173\u7cfb\u6bd4\u8f83\u590d\u6742\u7684\u8bdd\uff0c\u90a3\u4e48mysql\u53ef\u80fd\u4f1a\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u5982\u679c\u6293\u53d6\u7684\u6570\u636e\u662f\u5206\u7248\u5757\u7684\uff0c\u5e76\u4e14\u5b83\u4eec\u4e4b\u95f4\u6ca1\u6709\u76f8\u4f3c\u6027\u6216\u5173\u8054\u6027\u4e0d\u5f3a\uff0c\u90a3\u4e48\u53ef\u80fdmongodb \u4f1a\u66f4\u597d\u3002 \u5b98\u65b9\u6587\u6863\uff1ahttps://docs.mongodb.com/ \u4e2d\u6587\u6587\u6863\uff1ahttps://www.mongodb.org.cn/ mongoDB\u7684\u751f\u6001\u3001\u7406\u5ff5\u975e\u5e38\u5148\u8fdb\u800c\u4e14\u6210\u719f\u3001\u4f46\u662fmongoDB\u4e0d\u4ec5\u6709\u5f00\u6e90\u7248\u672c\uff0c\u8fd8\u6709\u4f01\u4e1a\u7248\u672c\u3002\u6240\u4ee5\u6709\u90e8\u5206\u516c\u53f8\u6bd4\u8f83\u62c5\u5fc3\uff0c\u54ea\u5929\u65e0\u6cd5\u4f7f\u7528mongoDB\u4e86\uff0c\u6240\u4ee5\u4e5f\u4f1a\u4ea7\u751f\u4e00\u4e9b\u66ff\u4ee3\u4ea7\u54c1\u3002 DynamoDB : AWS SequoiaDB : \u5de8\u6749\u6570\u636e\u5e93","title":"7.3\u3001MongoDB"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_15","text":"","title":"\u30101\u3011\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1mac","text":"\u5728 Mac OS \u7cfb\u7edf\u4e0b\u5b89\u88c5 MongoDB \u4e0e\u5728 Linux \u4e0b\u5b89\u88c5\u6bd4\u8f83\u76f8\u4f3c\uff0c\u672c\u8282\u6211\u4eec\u5c31\u6765\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b Mac OS \u7cfb\u7edf\u4e0b\u5982\u4f55\u5b89\u88c5 MongoDB\u3002 \u4e0b\u8f7d MongoDB \u4e0e\u5728 Linux \u7cfb\u7edf\u4e0b\u5b89\u88c5 MongoDB \u76f8\u540c\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u5728 MongoDB \u7684\u5b98\u7f51\u83b7\u5f97 MongoDB \u5b89\u88c5\u5305\u7684\u4e0b\u8f7d\u94fe\u63a5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1aMongoDB \u5b98\u7f51 \u5f97\u5230\u4e0b\u8f7d\u94fe\u63a5\u540e\uff0c\u4f7f\u7528 cd \u547d\u4ee4\u8fdb\u5165 /usr/local \u76ee\u5f55\uff0c\u7136\u540e\u4f7f\u7528 wget \u547d\u4ee4\u4e0b\u8f7d MongoDB \u7684\u538b\u7f29\u5305\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a cd /usr/local sudo wget https://fastdl.mongodb.org/osx/mongodb-macos-x86_64-4.4.3.tgz \uff082\uff09\u5b89\u88c5 MongoDB \u5f85\u538b\u7f29\u5305\u4e0b\u8f7d\u5b8c\u6210\u540e\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u5b89\u88c5 MongoDB \u4e86\uff0c\u5177\u4f53\u7684\u5b89\u88c5\u6b65\u9aa4\u5982\u4e0b\uff1a \u3010\u6b65\u9aa4 1\u3011\u89e3\u538b\u7f29\u521a\u521a\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\uff0c\u5e76\u5c06\u5176\u91cd\u547d\u540d\u4e3a mongodb\uff1a sudo tar -zxvf mongodb-macos-x86_64-4.4.3.tgz # \u89e3\u538b MongoDB \u538b\u7f29\u5305 sudo mv mongodb-osx-ssl-x86_64-4.0.17/ mongodb # \u91cd\u547d\u540d\u89e3\u538b\u5f97\u5230\u7684\u6587\u4ef6\u5939 \u3010\u6b65\u9aa4 2\u3011\u5728 /usr/local/mongodb \u76ee\u5f55\u4e0b\u65b0\u5efa\u4e24\u4e2a\u6587\u4ef6\u5939 data \u548c log\uff0c\u7528\u4e8e\u5b58\u50a8 MongoDB \u7684\u6570\u636e\u548c\u65e5\u5fd7\u3002 sudo mkdir -p /usr/local/mongodb/data sudo mkdir -p /usr/local/mongodb/log \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u4e3a\u5f53\u524d\u7528\u6237\u5206\u914d\u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650\uff1a sudo chown biancheng /usr/local/mongodb/data sudo chown biancheng /usr/local/mongodb/log \u5176\u4e2d\u201cbiancheng\u201d\u4e3a\u5f53\u524d\u7684\u7528\u6237\u540d\uff0c\u60a8\u9700\u8981\u4fee\u6539\u4e3a\u60a8\u5f53\u524d\u7cfb\u7edf\u7684\u7528\u6237\u540d\u3002 \u3010\u6b65\u9aa4 3\u3011\u914d\u7f6e PATH\u3002\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165 open -e .bash_profile \u547d\u4ee4\u6253\u5f00 bash_profile \u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u5c06 MongoDB \u7684\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684 bin \u76ee\u5f55\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u5982\u4e0b\u6240\u793a\uff1a export PATH=${PATH}:/usr/local/mongodb/bin \u7f16\u8f91\u5b8c\u6210\u540e\u4fdd\u5b58\u5e76\u9000\u51fa\uff0c\u7136\u540e\u4f7f\u7528 source .bash_profile \u547d\u4ee4\u4f7f\u914d\u7f6e\u7acb\u5373\u751f\u6548\u3002 \u3010\u6b65\u9aa4 4\u3011\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u542f\u52a8 MongoDB \u670d\u52a1\uff1a mongod --dbpath /usr/local/mongodb/data --logpath /usr/local/mongodb/log/mongo.log --fork \u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a --dbpath \u7528\u6765\u8bbe\u7f6e\u6570\u636e\u7684\u5b58\u653e\u76ee\u5f55\uff1b --logpath \u7528\u6765\u8bbe\u7f6e\u65e5\u5fd7\u7684\u5b58\u653e\u76ee\u5f55\uff1b --fork \u7528\u6765\u8bbe\u7f6e\u5728\u540e\u53f0\u8fd0\u884c\u3002 \u81f3\u6b64 MongoDB \u5c31\u5b89\u88c5\u5b8c\u6210\u4e86\u3002 \uff083\uff09\u9a8c\u8bc1\u5b89\u88c5 \u60a8\u53ef\u4ee5\u4f7f\u7528 mongod -version \u547d\u4ee4\u6765\u9a8c\u8bc1 MongoDB \u662f\u5426\u5b89\u88c5\u6210\u529f\uff0c\u5982\u679c\u51fa\u73b0\u7c7b\u4f3c\u4e0b\u9762\u6240\u793a\u7684\u5185\u5bb9\uff0c\u5219\u8bf4\u660e MongoDB \u5b89\u88c5\u6210\u529f\u3002 mongod -version db version v4.0.10 git version: c389e7f69f637f7a1ac3cc9fae843b635f20b766 allocator: tcmalloc modules: none build environment: distmod: 2008plus-ssl distarch: x86_64 target_arch: x86_64","title":"\uff081\uff09mac\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2win","text":"\u901a\u8fc7\u524d\u9762\u7684\u4ecb\u7ecd\u6211\u4eec\u5df2\u7ecf\u7b80\u5355\u7684\u4e86\u89e3\u4e86 MongoDB\uff0c\u672c\u8282\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u5728 Windows \u7cfb\u7edf\u4e0a\u5b89\u88c5 MongoDB\u3002","title":"\uff082\uff09win\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#mongodb","text":"\u8981\u5728 Windows \u7cfb\u7edf\u4e0a\u5b89\u88c5 MongoDB\uff0c\u9996\u5148\u9700\u8981\u5728 MongoDB \u7684\u5b98\u7f51\uff08https://www.mongodb.com/try/download/community\uff09\u4e0b\u8f7d MongoDB \u7684\u5b89\u88c5\u5305\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u4e0b\u8f7d MongoDB \u5b89\u88c5\u5305 \u63d0\u793a\uff1a\u4e0b\u8f7d\u524d\u9700\u8981\u5148\u6ce8\u518c/\u767b\u9646 MongoDB \u5b98\u7f51\u7684\u8d26\u53f7\u3002","title":"\u4e0b\u8f7d MongoDB"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#mongodb_1","text":"\u3010\u6b65\u9aa4 1\u3011\u53cc\u51fb\u8fd0\u884c\u6211\u4eec\u521a\u521a\u4e0b\u8f7d\u7684 .msi \u683c\u5f0f\u7684 MongoDB \u5b89\u88c5\u5305\uff0c\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u79cd\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u8fd0\u884c MongoDB \u5b89\u88c5\u5305 \u3010\u6b65\u9aa4 2\u3011\u63a5\u53d7\u7528\u6237\u8bb8\u53ef\u534f\u8bae\uff0c\u5e76\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u63a5\u53d7\u7528\u6237\u534f\u8bae \u3010\u6b65\u9aa4 3\u3011\u5355\u51fb Custom\uff08\u81ea\u5b9a\u4e49\uff09\u6309\u94ae\u6765\u81ea\u5b9a\u4e49\u5b89\u88c5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u81ea\u5b9a\u4e49\u5b89\u88c5 \u3010\u6b65\u9aa4 4\u3011\u4fee\u6539\u5b89\u88c5\u76ee\u5f55\uff0c\u5e76\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u81ea\u5b9a\u4e49\u5b89\u88c5\u76ee\u5f55 \u3010\u6b65\u9aa4 5\u3011\u9009\u4e2d\u201cInstall MongoD as a Service\u201d\uff0c\u5e76\u5728\u4e0b\u9762\u7684\u9009\u9879\u4e2d\u9009\u62e9\u201cRun service as Network Service user\u201d\uff0c\u5b8c\u6210\u540e\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u5b89\u88c5 Windows \u670d\u52a1 \u3010\u6b65\u9aa4 6\u3011\u53d6\u6d88\u201cInstall MongoDB Compass\u201d\u7684\u52fe\u9009\uff08\u5f53\u7136\u60a8\u4e5f\u53ef\u4ee5\u9009\u62e9\u5b89\u88c5\u5b83\uff0c\u4f46\u8fd9\u6837\u5c31\u9700\u8981\u82b1\u8d39\u66f4\u4e45\u7684\u5b89\u88c5\u65f6\u95f4\uff09\uff0cMongoDB Compass \u662f\u4e00\u4e2a\u56fe\u5f62\u754c\u9762\u7ba1\u7406\u5de5\u5177\uff0c\u540e\u9762\u5982\u679c\u9700\u8981\u6211\u4eec\u4e5f\u53ef\u4ee5\u518d\u5355\u72ec\u4e0b\u8f7d\uff08https://www.mongodb.com/try/download/compass\uff09\u548c\u5b89\u88c5\u5b83\uff0c\u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\u5355\u51fb Next\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u56fe\uff1a\u53d6\u6d88\u201cInstall MongoDB Compass\u201d\u7684\u52fe\u9009 \u3010\u6b65\u9aa4 7\u3011\u5355\u51fb\u201cInstall\u201d\u6309\u94ae\u5f00\u59cb\u5b89\u88c5\u3002 \u56fe\uff1a\u5f00\u59cb\u5b89\u88c5 \u3010\u6b65\u9aa4 8\u3011\u7b49\u5f85\u5b89\u88c5\u5b8c\u6210\uff0c\u5355\u51fb\u201cFinish\u201d\u6309\u94ae\u9000\u51fa\u5b89\u88c5\u7a0b\u5e8f\u5373\u53ef\u5b8c\u6210\u5b89\u88c5\u3002 \u56fe\uff1a\u5b8c\u6210\u5b89\u88c5","title":"\u5b89\u88c5 MongoDB"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_56","text":"\u4e0d\u51fa\u610f\u5916\u7684\u8bdd\uff0c\u5b8c\u6210\u4e0a\u9762\u7684\u4e00\u7cfb\u5217\u64cd\u4f5c\u540e MongoDB \u5c31\u6210\u529f\u5b89\u88c5\u5230\u60a8\u7684\u7535\u8111\u4e0a\u4e86\u3002\u60f3\u8981\u9a8c\u8bc1\u5b89\u88c5\u662f\u5426\u6210\u529f\uff0c\u60a8\u53ef\u4ee5\u6253\u5f00\u201c\u670d\u52a1\u201d\uff0c\u5982\u679c\u80fd\u5728\u670d\u52a1\u5217\u8868\u4e2d\u627e\u5230 MongoDB Server\uff0c\u5c31\u8bf4\u660e MongoDB \u5df2\u7ecf\u5b89\u88c5\u6210\u529f\u3002","title":"\u9a8c\u8bc1\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_11","text":"","title":"\u30102\u3011\u5e38\u7528\u6982\u5ff5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_16","text":"\u6570\u636e\u5e93\u662f\u7528\u4e8e\u5b58\u50a8\u6570\u636e\u7684\u7269\u7406\u5bb9\u5668\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u90fd\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684\u6587\u4ef6\u96c6\u3002\u4e00\u53f0 MongoDB \u670d\u52a1\u5668\u4e2d\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u6bcf\u4e2a\u6570\u636e\u5e93\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u90fd\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684\u96c6\u5408\u548c\u6743\u9650\uff0c\u800c\u4e14\u4e0d\u540c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u4f1a\u653e\u7f6e\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d\u3002 MongoDB \u7684\u9ed8\u8ba4\u6570\u636e\u5e93\u4e3a\u201ctest\u201d\uff0c\u8be5\u6570\u636e\u5e93\u5b58\u50a8\u5728 data \u76ee\u5f55\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 show dbs \u547d\u4ee4\u6765\u67e5\u770b\u6240\u6709\u7684\u6570\u636e\u5e93\u5217\u8868\uff0c\u5982\u4e0b\u6240\u793a\uff1a \\> show dbs admin 0.000GB config 0.000GB local 0.000GB \u6ce8\u610f\uff1a\u5728\u4f7f\u7528 show dbs \u547d\u4ee4\u65f6\uff0c\u82e5\u6570\u636e\u5e93\u4e2d\u6ca1\u6709\u5b58\u50a8\u4efb\u4f55\u6570\u636e\uff0c\u5219\u4e0d\u4f1a\u5728\u5217\u8868\u4e2d\u663e\u793a\u51fa\u6765\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u6709\u975e\u7a7a\u6570\u636e\u5e93\u624d\u80fd\u901a\u8fc7 show dbs \u547d\u4ee4\u67e5\u770b\u3002","title":"\uff081\uff09\u6570\u636e\u5e93"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_12","text":"\u96c6\u5408\u5c31\u662f\u4e00\u7ec4 MongoDB \u6587\u6863\u7684\u7ec4\u5408\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4f8b\u5982 MySQL\uff09\u4e2d\u7684\u6570\u636e\u8868\u3002\u96c6\u5408\u5b58\u5728\u4e8e\u6570\u636e\u5e93\u4e2d\uff0c\u4e14\u6ca1\u6709\u56fa\u5b9a\u7684\u7ed3\u6784\uff0c\u60a8\u53ef\u4ee5\u5411\u96c6\u5408\u4e2d\u63d2\u5165\u4e0d\u540c\u683c\u5f0f\u6216\u7c7b\u578b\u7684\u6570\u636e\u3002","title":"\uff082\uff09\u96c6\u5408"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_12","text":"\u6587\u6863\u662f MongoDB \u4e2d\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u7531 BSON \u683c\u5f0f\uff08\u4e00\u79cd\u8ba1\u7b97\u673a\u6570\u636e\u4ea4\u6362\u683c\u5f0f\uff0c\u7c7b\u4f3c\u4e8e JSON\uff09\u7684\u952e/\u503c\u5bf9\u7ec4\u6210\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u884c\u884c\u6570\u636e\uff0c\u4f46\u8981\u76f8\u5bf9\u590d\u6742\u4e00\u4e9b\u3002 \u6587\u6863\u5177\u6709\u52a8\u6001\u6a21\u5f0f\uff0c\u6240\u8c13\u52a8\u6001\u6a21\u5f0f\u5c31\u662f\u540c\u4e00\u96c6\u5408\u4e2d\u7684\u6587\u6863\u4e0d\u9700\u8981\u5177\u6709\u76f8\u540c\u7684\u5b57\u6bb5\uff0c\u5373\u4f7f\u662f\u76f8\u540c\u7684\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u8fd9\u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6709\u5f88\u5927\u7684\u533a\u522b\uff0c\u4e5f\u662f MongoDB \u6700\u7a81\u51fa\u7684\u7279\u70b9\u4e4b\u4e00\u3002 \u4e0b\u8868\u5217\u4e3e\u4e86\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e0e MongoDB \u4e2d\u7684\u4e00\u4e9b\u5dee\u5f02\uff1a \u5173\u7cfb\u578b\u6570\u636e\u5e93 MongoDB \u89e3\u91ca\u8bf4\u660e database database \u6570\u636e\u5e93 table collection \u6570\u636e\u8868/\u96c6\u5408 row document \u6570\u636e\u884c/\u6587\u6863 column field \u5b57\u6bb5/\u57df index index \u7d22\u5f15 table joins \u8868\u8fde\u63a5\uff0cMongoDB \u4e2d\u4e0d\u652f\u6301 primary key primary key \u4e3b\u952e\uff0cMongoDB \u4f1a\u81ea\u52a8\u5c06 _id \u5b57\u6bb5\u8bbe\u7f6e\u4e3a\u4e3b\u952e","title":"\uff083\uff09\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_13","text":"> show dbs admin 0.000GB config 0.000GB local 0.000GB > use blog switched to db blog > db blog > db.article.insert({\"title\":\"mongodb\"}) WriteResult({ \"nInserted\" : 1 }) > use shop switched to db shop > db.goods.insert({\"name\":\"\u7535\u5b50\u5546\u54c1\"}) WriteResult({ \"nInserted\" : 1 }) > show dbs admin 0.000GB blog 0.000GB config 0.000GB local 0.000GB shop 0.000GB > db.dropDatabase() { \"dropped\" : \"shop\", \"ok\" : 1 }","title":"\u30103\u3011\u6570\u636e\u5e93\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_10","text":"MongoDB \u7684\u96c6\u5408\u5c31\u76f8\u5f53\u4e8e MySQL \u7684\u4e00\u4e2a\u8868 table\uff0cMySQL \u5217\u51fa\u7684\u6240\u6709\u8868\u90fd\u53ef\u4ee5\u4f7f\u7528 show tables\uff0cMongoDB \u53ef\u4ee5\u4f7f\u7528 show collections \u5c55\u793a\u6240\u6709\u96c6\u5408 > db shop > db.createCollection(\"menu\") { \"ok\" : 1 } > db.menu.insert({\"id\":\"1231231\",\"name\":\"\u5f20\u4e09\"}) WriteResult({ \"nInserted\" : 1 }) > db.menu.find() { \"_id\" : ObjectId(\"6425263f8ae74e12d95c4c7e\"), \"id\" : \"1231231\", \"name\" : \"\u5f20\u4e09\" } > db.menu.insert({\"id\":\"1231231\",\"name\":\"\u674e\u56db\",\"price\":199}) WriteResult({ \"nInserted\" : 1 }) > db.menu.find() { \"_id\" : ObjectId(\"6425263f8ae74e12d95c4c7e\"), \"id\" : \"1231231\", \"name\" : \"\u5f20\u4e09\" } { \"_id\" : ObjectId(\"642526968ae74e12d95c4c7f\"), \"id\" : \"1231231\", \"name\" : \"\u674e\u56db\", \"price\" : 199 } > show tables; menu > show collections; menu > db.menu.drop() true > show tables; >","title":"\u30104\u3011\u96c6\u5408\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_5","text":"\u6587\u6863\u662f MongoDB \u4e2d\u5b58\u50a8\u7684\u57fa\u672c\u5355\u5143\uff0c\u662f\u4e00\u7ec4\u6709\u5e8f\u7684\u952e\u503c\u5bf9\u96c6\u5408\u3002\u6587\u6863\u4e2d\u5b58\u50a8\u7684\u6587\u6863\u952e\u7684\u683c\u5f0f\u5fc5\u987b\u662f\u7b26\u5408 UTF-8 \u6807\u51c6\u7684\u5b57\u7b26\u4e32\u3002","title":"\u30105\u3011\u6587\u6863\u64cd\u4f5c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_57","text":"\u8bed\u6cd5 db_name.collection_name.insert( <document or array of documents>, { writeConcern: <document>, //\u53ef\u9009\u5b57\u6bb5 ordered: <boolean> //\u53ef\u9009\u5b57\u6bb5 } ) \u53c2\u6570 \u53c2\u6570 \u63cf\u8ff0 db_name \u6570\u636e\u5e93\u540d collection_name \u96c6\u5408\u540d document or array of documents \u8868\u793a\u53ef\u8bbe\u7f6e\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u6587\u6863 writeConcern \u53c2\u6570\u8868\u793a\u81ea\u5b9a\u4e49\u5199\u51fa\u9519\u7684\u7ea7\u522b\uff0c\u662f\u4e00\u79cd\u51fa\u9519\u6355\u6349\u673a\u5236 ordered \u662f\u53ef\u9009\u7684\uff0c\u9ed8\u8ba4\u4e3a true \u5728\u63d2\u5165\u65f6\uff0c\u6211\u4eec\u65e2\u53ef\u4ee5\u6307\u5b9a _id \u7684\u503c\uff0c\u5982\u679c\u6307\u5b9a\u4e86\uff0c\u5219\u8be5\u503c\u5fc5\u987b\u552f\u4e00\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u7cfb\u7edf\u9ed8\u8ba4\u751f\u6210\u552f\u4e00\u7684\u503cObjectId\u3002 #\u63d2\u5165\u5355\u6761 user1={ \"name\":\"\u5f20\u4e09\", \"age\":22, 'hobbies':['music','read','dancing'], 'addr':{ 'country':'China', 'city':'BJ' } } db.user.insert(user1) db.user.find() #3\u3001\u63d2\u5165\u591a\u6761 user2={ \"name\":\"\u674e\u56db\", \"age\":23, 'hobbies':['music','read','dancing'], 'addr':{ 'country':'China', 'city':'\u73e0\u6d77' } } user3={ \"name\":\"\u738b\u4e94\", \"age\":20, 'hobbies':['music','read'], 'addr':{ 'country':'China', 'city':'\u5eca\u574a' } } user4={ \"name\":\"\u8d75\u516d\", \"age\":32, 'hobbies':['read','run'], 'addr':{ 'country':'China', 'city':'\u5927\u8fde' } } user5={ \"name\":\"\u6731\u4e03\", \"age\":35, 'hobbies':['run'], 'addr':{ 'country':'China', 'city':'\u9752\u5c9b' } } db.user.insertMany([user2,user3,user4,user5])\u3000 # db.user.find().pretty()","title":"\u6dfb\u52a0\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_58","text":"(1) \u6bd4\u8f83\u8fd0\u7b97 # SQL\uff1a=,!=,>,<,>=,<= # MongoDB\uff1a{key:value}\u4ee3\u8868\u4ec0\u4e48\u7b49\u4e8e\u4ec0\u4e48,\"$ne\",\"$gt\",\"$lt\",\"gte\",\"lte\",\u5176\u4e2d\"$ne\"\u80fd\u7528\u4e8e\u6240\u6709\u6570\u636e\u7c7b\u578b #1\u3001select * from db.user where name = \"\u5f20\u4e09\"; db.user.find({'name':'\u5f20\u4e09'}) #2\u3001select * from db.user where name != \"alex\"; db.user.find({'name':{\"$ne\":'\u5f20\u4e09'}}) #3\u3001select * from db.user where age > 30; db.user.find({'age':{'$gt':30}}) (2) \u903b\u8f91\u8fd0\u7b97 # SQL\uff1aand\uff0cor\uff0cnot # MongoDB\uff1a\u5b57\u5178\u4e2d\u9017\u53f7\u5206\u9694\u7684\u591a\u4e2a\u6761\u4ef6\u662fand\u5173\u7cfb\uff0c\"$or\"\u7684\u6761\u4ef6\u653e\u5230[]\u5185,\"$not\" db.user.find({'age':{\"$gte\":20,\"$lt\":33}}) db.user.find({\"addr.city\":\"\u9752\u5c9b\",\"age\":{\"$gt\":30}}) db.user.find({ \"$or\":[ {\"addr.city\":\"\u9752\u5c9b\"}, {\"age\":{\"$gt\":30}} ] }) #4\u3001select * from db1.user where id % 2=1; db.user.find({'age':{\"$mod\":[2,1]}}) #5\u3001\u4e0a\u9898\uff0c\u53d6\u53cd db.user.find({'age':{\"$not\":{\"$mod\":[2,1]}}}) (3) \u6210\u5458\u8fd0\u7b97 # SQL\uff1ain\uff0cnot in # MongoDB\uff1a\"$in\",\"$nin\" db.user.find({\"age\":{\"$in\":[20,30,40]}}) db.user.find({\"name\":{\"$nin\":['\u5f20\u4e09','']}}) (4) \u6b63\u5219\u5339\u914d # SQL: regexp \u6b63\u5219 # MongoDB: /\u6b63\u5219\u8868\u8fbe/i db.user.find({'name':/^\u5f20.*/i}) (5) \u53d6\u6307\u5b9a\u5b57\u6bb5 db.user.find({'name':/^\u5f20.*/i},{'_id':0,'name':1,'age':1}) (6) \u67e5\u8be2\u6570\u7ec4 # \u67e5\u770b\u6709dancing\u7231\u597d\u7684\u4eba db.user.find({'hobbies':'dancing'}) # \u67e5\u770b\u65e2\u6709dancing\u7231\u597d\u53c8\u6709music\u7231\u597d\u7684\u4eba db.user.find({ 'hobbies':{ \"$all\":['music','dancing'] } }) (7) \u6392\u5e8f # \u6392\u5e8f:-- 1\u4ee3\u8868\u5347\u5e8f\uff0c -1\u4ee3\u8868\u964d\u5e8f db.user.find().sort({\"name\":1,}) db.user.find().sort({\"age\":-1,'_id':1}) (8) \u5206\u9875 # \u5206\u9875:--limit\u4ee3\u8868\u53d6\u591a\u5c11\u4e2adocument\uff0cskip\u4ee3\u8868\u8df3\u8fc7\u524d\u591a\u5c11\u4e2adocument\u3002 db.user.find().limit(1).skip(2) (9) \u67e5\u8be2\u6570\u91cf # \u83b7\u53d6\u6570\u91cf db.user.count({'age':{\"$gt\":30}}) --\u6216\u8005 db.user.find({'age':{\"$gt\":30}}).count() (10) \u5176\u5b83 # \u67e5\u627e\u6240\u6709 db.user.find() #\u7b49\u540c\u4e8edb.user.find({}) db.user.find().pretty() #3\u3001\u67e5\u627e\u4e00\u4e2a\uff0c\u4e0efind\u7528\u6cd5\u4e00\u81f4\uff0c\u53ea\u662f\u53ea\u53d6\u5339\u914d\u6210\u529f\u7684\u7b2c\u4e00\u4e2a db.user.findOne({\"_id\":{\"$gt\":3}})","title":"\u67e5\u770b\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_59","text":"(1) update\u7684\u8bed\u6cd5 update() \u65b9\u6cd5\u7528\u4e8e\u66f4\u65b0\u5df2\u5b58\u5728\u7684\u6587\u6863\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a db.collection.update( <query>, <update>, { upsert: <boolean>, multi: <boolean>, writeConcern: <document> } ) \u53c2\u6570\u8bf4\u660e\uff1a\u5bf9\u6bd4 update db1.t1 set name='EGON',sex='Male' where name='egon' and age=18 ; query : \u76f8\u5f53\u4e8ewhere\u6761\u4ef6\u3002 update : update\u7684\u5bf9\u8c61\u548c\u4e00\u4e9b\u66f4\u65b0\u7684\u64cd\u4f5c\u7b26\uff08\u5982$,$inc...\u7b49\uff0c\u76f8\u5f53\u4e8eset\u540e\u9762\u7684 upsert : \u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3afalse\uff0c\u4ee3\u8868\u5982\u679c\u4e0d\u5b58\u5728update\u7684\u8bb0\u5f55\u4e0d\u66f4\u65b0\u4e5f\u4e0d\u63d2\u5165\uff0c\u8bbe\u7f6e\u4e3atrue\u4ee3\u8868\u63d2\u5165\u3002 multi : \u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3afalse\uff0c\u4ee3\u8868\u53ea\u66f4\u65b0\u627e\u5230\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u8bbe\u4e3atrue,\u4ee3\u8868\u66f4\u65b0\u627e\u5230\u7684\u5168\u90e8\u8bb0\u5f55\u3002 writeConcern :\u53ef\u9009\uff0c\u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\u3002 \u66f4\u65b0\u64cd\u4f5c\u662f\u4e0d\u53ef\u5206\u5272\u7684\uff1a\u82e5\u4e24\u4e2a\u66f4\u65b0\u540c\u65f6\u53d1\u9001\uff0c\u5148\u5230\u8fbe\u670d\u52a1\u5668\u7684\u5148\u6267\u884c\uff0c\u7136\u540e\u6267\u884c\u53e6\u5916\u4e00\u4e2a\uff0c\u4e0d\u4f1a\u7834\u574f\u6587\u6863\u3002 (1) \u8986\u76d6\u66f4\u65b0 #\u6ce8\u610f\uff1a\u9664\u975e\u662f\u5220\u9664\uff0c\u5426\u5219_id\u662f\u59cb\u7ec8\u4e0d\u4f1a\u53d8\u7684 #1 : db.user.update({'age':20},{\"name\":\"xxx\"}) \u662f\u7528{\"_id\":2,\"name\":\"xxx\"}\u8986\u76d6\u539f\u6765\u7684\u8bb0\u5f55 #2\u3001\u4e00\u79cd\u6700\u7b80\u5355\u7684\u66f4\u65b0\u5c31\u662f\u7528\u4e00\u4e2a\u65b0\u7684\u6587\u6863\u5b8c\u5168\u66ff\u6362\u5339\u914d\u7684\u6587\u6863\u3002\u8fd9\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u5f0f\u8fc1\u79fb\u7684\u60c5\u51b5\u3002\u4f8b\u5982 var obj=db.user.findOne({\"name\":\"\u5f20\u4e09\"}) obj.name=obj.name+'\u5148\u751f' obj.age++ delete obj.hobbies db.user.update({\"nmae\":\"\u5f20\u4e09\"},obj) (2) \u5c40\u90e8\u66f4\u65b0 #\u8bbe\u7f6e\uff1a$set \u901a\u5e38\u6587\u6863\u53ea\u4f1a\u6709\u4e00\u90e8\u5206\u9700\u8981\u66f4\u65b0\u3002\u53ef\u4ee5\u4f7f\u7528\u539f\u5b50\u6027\u7684\u66f4\u65b0\u4fee\u6539\u5668\uff0c\u6307\u5b9a\u5bf9\u6587\u6863\u4e2d\u7684\u67d0\u4e9b\u5b57\u6bb5\u8fdb\u884c\u66f4\u65b0\u3002 \u66f4\u65b0\u4fee\u6539\u5668\u662f\u79cd\u7279\u6b8a\u7684\u952e\uff0c\u7528\u6765\u6307\u5b9a\u590d\u6742\u7684\u66f4\u65b0\u64cd\u4f5c\uff0c\u6bd4\u5982\u4fee\u6539\u3001\u589e\u52a0\u540e\u8005\u5220\u9664 db.user.update({'name':\"xxx\"},{\"$set\":{\"name\":\"apple\",}}) # \u6ca1\u6709\u5339\u914d\u6210\u529f\u5219\u65b0\u589e\u4e00\u6761{\"upsert\":true} db.user.update({'name':\"eric\"},{\"$set\":{\"name\":\"eirc\",\"age\":18}},{\"upsert\":true}) # \u9ed8\u8ba4\u53ea\u6539\u5339\u914d\u6210\u529f\u7684\u7b2c\u4e00\u6761,{\"multi\":\u6539\u591a\u6761} db.user.update({'age':{\"$gt\":20}},{\"$set\":{\"age\":18}}) db.user.update({'age':{\"$gt\":20}},{\"$set\":{\"age\":18}},{\"multi\":true}) # db.user.update({'name':\"\u6731\u4e03\"},{\"$set\":{\"hobbies.1\":\"swimming\"}}) db.user.update({'name':\"\u6731\u4e03\"},{\"$unset\":{\"hobbies\":\"\"}}) (3) \u81ea\u589e\u6216\u81ea\u51cf #\u589e\u52a0\u548c\u51cf\u5c11\uff1a$inc #1\u3001\u6240\u6709\u4eba\u5e74\u9f84\u589e\u52a0\u4e00\u5c81 db.user.update({}, { \"$inc\":{\"age\":1} }, { \"multi\":true } ) #2\u3001\u6240\u6709\u4eba\u5e74\u9f84\u51cf\u5c115\u5c81 db.user.update({}, { \"$inc\":{\"age\":-5} }, { \"multi\":true } ) (4) \u6dfb\u52a0\u5220\u9664\u6570\u7ec4\u5185\u5143\u7d20 #\u6dfb\u52a0\u5220\u9664\u6570\u7ec4\u5185\u5143\u7d20\uff1a$push,$pop,$pull \u5f80\u6570\u7ec4\u5185\u6dfb\u52a0\u5143\u7d20:$push # \u4e3a\u540d\u5b57\u4e3a\u6731\u4e03\u6dfb\u52a0\u4e00\u4e2a\u7231\u597dpingpong db.user.update({\"name\":\"yuanhao\"},{\"$push\":{\"hobbies\":\"pingpong\"}}) # \u6309\u7167\u6761\u4ef6\u5220\u9664\u5143\u7d20,\uff1a\"$pull\" \u628a\u7b26\u5408\u6761\u4ef6\u7684\u7edf\u7edf\u5220\u6389\uff0c\u800c$pop\u53ea\u80fd\u4ece\u4e24\u7aef\u5220 db.user.update({'addr.country':\"China\"},{\"$pull\":{ \"hobbies\":\"read\"} }, { \"multi\":true } ) (5) \u907f\u514d\u91cd\u590d\u6dfb\u52a0 #\u907f\u514d\u6dfb\u52a0\u91cd\u590d\uff1a\"$addToSet\" db.urls.insert({\"_id\":1,\"urls\":[]}) db.urls.update({\"_id\":1},{\"$addToSet\":{\"urls\":'http://www.baidu.com'}}) db.urls.update({\"_id\":1},{\"$addToSet\":{\"urls\":'http://www.baidu.com'}}) db.urls.update({\"_id\":1},{\"$addToSet\":{\"urls\":'http://www.baidu.com'}}) db.urls.update({\"_id\":1},{ \"$addToSet\":{ \"urls\":{ \"$each\":[ 'http://www.baidu.com', 'http://www.baidu.com', 'http://www.xxxx.com' ] } } } )","title":"\u66f4\u65b0\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_60","text":"#1\u3001\u5220\u9664\u591a\u4e2a\u4e2d\u7684\u7b2c\u4e00\u4e2a db.user.deleteOne({ 'age': 8 }) #2\u3001\u5220\u9664\u56fd\u5bb6\u4e3aChina\u7684\u5168\u90e8 db.user.deleteMany( {'addr.country': 'China'} ) #3\u3001\u5220\u9664\u5168\u90e8 db.user.deleteMany({})","title":"\u5220\u9664\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6pymongo","text":"\u5728\u8fd9\u91cc\u6211\u4eec\u6765\u770b\u4e00\u4e0bPython3\u4e0bMongoDB\u7684\u5b58\u50a8\u64cd\u4f5c\uff0c\u5728\u672c\u8282\u5f00\u59cb\u4e4b\u524d\u8bf7\u786e\u4fdd\u4f60\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86MongoDB\u5e76\u542f\u52a8\u4e86\u5176\u670d\u52a1\uff0c\u53e6\u5916\u5b89\u88c5\u597d\u4e86Python\u7684PyMongo\u5e93\u3002 \u5b89\u88c5\uff1a pip install pymongo","title":"\u30106\u3011PyMongo"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_61","text":"import pymongo client = pymongo.MongoClient(host='localhost', port=27017) \"\"\" \u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2aMongoDB\u7684\u8fde\u63a5\u5bf9\u8c61\u4e86\u3002\u53e6\u5916MongoClient\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570host\u8fd8\u53ef\u4ee5\u76f4\u63a5\u4f20MongoDB\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\uff0c\u4ee5mongodb\u5f00\u5934\uff0c \u4f8b\u5982\uff1aclient = MongoClient('mongodb://localhost:27017/')\u53ef\u4ee5\u8fbe\u5230\u540c\u6837\u7684\u8fde\u63a5\u6548\u679c\u3002 \"\"\" # \u6307\u5b9a\u6570\u636e\u5e93 # MongoDB\u4e2d\u8fd8\u5206\u4e3a\u4e00\u4e2a\u4e2a\u6570\u636e\u5e93\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u4e00\u6b65\u5c31\u662f\u6307\u5b9a\u8981\u64cd\u4f5c\u54ea\u4e2a\u6570\u636e\u5e93\uff0c\u5728\u8fd9\u91cc\u6211\u4ee5test\u6570\u636e\u5e93\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\uff0c\u6240\u4ee5\u4e0b\u4e00\u6b65\u6211\u4eec # \u9700\u8981\u5728\u7a0b\u5e8f\u4e2d\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u6570\u636e\u5e93\u3002 db = client.test # \u8c03\u7528client\u7684test\u5c5e\u6027\u5373\u53ef\u8fd4\u56detest\u6570\u636e\u5e93\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u8fd9\u6837\u6765\u6307\u5b9a\uff1a # db = client['test'] # \u3000\u4e24\u79cd\u65b9\u5f0f\u662f\u7b49\u4ef7\u7684\u3002 # \u6307\u5b9a\u96c6\u5408 # MongoDB\u7684\u6bcf\u4e2a\u6570\u636e\u5e93\u53c8\u5305\u542b\u4e86\u8bb8\u591a\u96c6\u5408Collection\uff0c\u4e5f\u5c31\u7c7b\u4f3c\u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u8868\uff0c\u4e0b\u4e00\u6b65\u6211\u4eec\u9700\u8981\u6307\u5b9a\u8981\u64cd\u4f5c\u7684\u96c6\u5408\uff0c # \u5728\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u4e00\u4e2a\u96c6\u5408\u540d\u79f0\u4e3astudents\uff0c\u5b66\u751f\u96c6\u5408\u3002\u8fd8\u662f\u548c\u6307\u5b9a\u6570\u636e\u5e93\u7c7b\u4f3c\uff0c\u6307\u5b9a\u96c6\u5408\u4e5f\u6709\u4e24\u79cd\u65b9\u5f0f\u3002 collection = db.students # collection = db['students'] # \u63d2\u5165\u6570\u636e,\u63a5\u4e0b\u6765\u6211\u4eec\u4fbf\u53ef\u4ee5\u8fdb\u884c\u6570\u636e\u63d2\u5165\u4e86\uff0c\u5bf9\u4e8estudents\u8fd9\u4e2aCollection\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u6761\u5b66\u751f\u6570\u636e\uff0c\u4ee5\u5b57\u5178\u7684\u5f62\u5f0f\u8868\u793a\uff1a student = { 'id': '20230001', 'name': 'yuan', 'age': 20, 'gender': 'male' } # \u5728\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u4e86\u5b66\u751f\u7684\u5b66\u53f7\u3001\u59d3\u540d\u3001\u5e74\u9f84\u548c\u6027\u522b\uff0c\u7136\u540e\u63a5\u4e0b\u6765\u76f4\u63a5\u8c03\u7528collection\u7684insert()\u65b9\u6cd5\u5373\u53ef\u63d2\u5165\u6570\u636e\u3002 result = collection.insert_one(student) print(result) student1 = { 'id': '20230002', 'name': 'rain', 'age': 24, 'gender': 'male' } student2 = { 'id': '20230003', 'name': 'eric', 'age': 26, 'gender': 'male' } result = collection.insert_many([student1, student2]) print(result) print(result.inserted_ids) # insert_many()\u65b9\u6cd5\u8fd4\u56de\u7684\u7c7b\u578b\u662fInsertManyResult\uff0c\u8c03\u7528inserted_ids\u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6\u63d2\u5165\u6570\u636e\u7684_id\u5217\u8868\uff0c\u8fd0\u884c\u7ed3\u679c\uff1a # <pymongo.results.InsertManyResult object at 0x101dea558> # [ObjectId('5932abf415c2607083d3b2ac'), ObjectId('5932abf415c2607083d3b2ad')]","title":"\u6dfb\u52a0\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_62","text":"import pymongo from bson.objectid import ObjectId client = pymongo.MongoClient(host='localhost', port=27017) db = client.test collection = db.students # \u67e5\u8be2\uff0c\u63d2\u5165\u6570\u636e\u540e\u6211\u4eec\u53ef\u4ee5\u5229\u7528find_one()\u6216find()\u65b9\u6cd5\u8fdb\u884c\u67e5\u8be2\uff0cfind_one()\u67e5\u8be2\u5f97\u5230\u662f\u5355\u4e2a\u7ed3\u679c\uff0cfind()\u5219\u8fd4\u56de\u591a\u4e2a\u7ed3\u679c\u3002 result = collection.find_one({'name': 'yuan'}) print(type(result)) print(result) # \u5728\u8fd9\u91cc\u6211\u4eec\u67e5\u8be2name\u4e3ayuan\u7684\u6570\u636e\uff0c\u5b83\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u5b57\u5178\u7c7b\u578b\uff0c\u8fd0\u884c\u7ed3\u679c\uff1a <class'dict'> # {'_id': ObjectId('5932a80115c2606a59e8a049'), 'id': '20170202', 'name': 'Mike', 'age': 21, 'gender': 'male'} # \u53ef\u4ee5\u53d1\u73b0\u5b83\u591a\u4e86\u4e00\u4e2a_id\u5c5e\u6027\uff0c\u8fd9\u5c31\u662fMongoDB\u5728\u63d2\u5165\u7684\u8fc7\u7a0b\u4e2d\u81ea\u52a8\u6dfb\u52a0\u7684\u3002 # \u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6839\u636eObjectId\u6765\u67e5\u8be2\uff0c\u8fd9\u91cc\u9700\u8981\u4f7f\u7528bson\u5e93\u91cc\u9762\u7684ObjectId\u3002 result = collection.find_one({'_id': ObjectId('64255f6012345f5a41fb4f56')}) print(result) # \u5176\u67e5\u8be2\u7ed3\u679c\u4f9d\u7136\u662f\u5b57\u5178\u7c7b\u578b\uff0c\u8fd0\u884c\u7ed3\u679c\uff1a # {' ObjectId('593278c115c2602667ec6bae'), 'id': '20170101', 'name': 'Jordan', 'age': 20, 'gender': 'male'} # \u5f53\u7136\u5982\u679c\u67e5\u8be2_id':\u7ed3\u679c\u4e0d\u5b58\u5728\u5219\u4f1a\u8fd4\u56deNone\u3002 # \u5bf9\u4e8e\u591a\u6761\u6570\u636e\u7684\u67e5\u8be2\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528find()\u65b9\u6cd5\uff0c\u4f8b\u5982\u5728\u8fd9\u91cc\u67e5\u627e\u5e74\u9f84\u4e3a20\u7684\u6570\u636e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a results = collection.find({'age': 20}) print(results, type(result)) for result in results: print(result) # \u5982\u679c\u8981\u67e5\u8be2\u5e74\u9f84\u5927\u4e8e20\u7684\u6570\u636e\uff0c\u5219\u5199\u6cd5\u5982\u4e0b\uff1a results = collection.find({'age': {'$gt': 20}}) # \u5728\u8fd9\u91cc\u67e5\u8be2\u7684\u6761\u4ef6\u952e\u503c\u5df2\u7ecf\u4e0d\u662f\u5355\u7eaf\u7684\u6570\u5b57\u4e86\uff0c\u800c\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u5176\u952e\u540d\u4e3a\u6bd4\u8f83\u7b26\u53f7$gt\uff0c\u610f\u601d\u662f\u5927\u4e8e\uff0c\u952e\u503c\u4e3a20\uff0c\u8fd9\u6837\u4fbf\u53ef\u4ee5\u67e5\u8be2\u51fa\u6240\u6709 # \u5e74\u9f84\u5927\u4e8e20\u7684\u6570\u636e\u3002 # \u5728\u8fd9\u91cc\u5c06\u6bd4\u8f83\u7b26\u53f7\u5f52\u7eb3\u5982\u4e0b\u8868\uff1a \"\"\" \u7b26\u53f7\u542b\u4e49\u793a\u4f8b $lt\u5c0f\u4e8e{'age': {'$lt': 20}} $gt\u5927\u4e8e{'age': {'$gt': 20}} $lte\u5c0f\u4e8e\u7b49\u4e8e{'age': {'$lte': 20}} $gte\u5927\u4e8e\u7b49\u4e8e{'age': {'$gte': 20}} $ne\u4e0d\u7b49\u4e8e{'age': {'$ne': 20}} $in\u5728\u8303\u56f4\u5185{'age': {'$in': [20, 23]}} $nin\u4e0d\u5728\u8303\u56f4\u5185{'age': {'$nin': [20, 23]}} \"\"\" # \u53e6\u5916\u8fd8\u53ef\u4ee5\u8fdb\u884c\u6b63\u5219\u5339\u914d\u67e5\u8be2\uff0c\u4f8b\u5982\u67e5\u8be2\u540d\u5b57\u4ee5M\u5f00\u5934\u7684\u5b66\u751f\u6570\u636e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a results = collection.find({'name': {'$regex': '^M.*'}}) # \u5728\u8fd9\u91cc\u4f7f\u7528\u4e86$regex\u6765\u6307\u5b9a\u6b63\u5219\u5339\u914d\uff0c^M.*\u4ee3\u8868\u4ee5M\u5f00\u5934\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u67e5\u8be2\u6240\u6709\u7b26\u5408\u8be5\u6b63\u5219\u7684\u7ed3\u679c\u3002 print(results) # \u5728\u8fd9\u91cc\u5c06\u4e00\u4e9b\u529f\u80fd\u7b26\u53f7\u518d\u5f52\u7c7b\u5982\u4e0b\uff1a \"\"\" \u7b26\u53f7\u542b\u4e49\u793a\u4f8b\u793a\u4f8b\u542b\u4e49 $regex\u5339\u914d\u6b63\u5219{'name': {'$regex': '^M.*'}}name\u4ee5M\u5f00\u5934 $exists\u5c5e\u6027\u662f\u5426\u5b58\u5728{'name': {'$exists': True}}name\u5c5e\u6027\u5b58\u5728 $mod\u6570\u5b57\u6a21\u64cd\u4f5c{'age': {'$mod': [2, 0]}}\u5e74\u9f84\u6a212\u4f590 $where\u9ad8\u7ea7\u6761\u4ef6\u67e5\u8be2{'$where': 'obj.fans_count == obj.follows_count'}\u81ea\u8eab\u7c89\u4e1d\u6570\u7b49\u4e8e\u5173\u6ce8\u6570 \"\"\" # \u8fd9\u4e9b\u64cd\u4f5c\u7684\u66f4\u8be6\u7ec6\u7528\u6cd5\u5728\u53ef\u4ee5\u5728MongoDB\u5b98\u65b9\u6587\u6863\u627e\u5230\uff1a # https://docs.mongodb.com/manual/reference/operator/query/ # \u8ba1\u6570 # \u8981\u7edf\u8ba1\u67e5\u8be2\u7ed3\u679c\u6709\u591a\u5c11\u6761\u6570\u636e\uff0c\u53ef\u4ee5\u8c03\u7528count()\u65b9\u6cd5\uff0c\u5982\u7edf\u8ba1\u6240\u6709\u6570\u636e\u6761\u6570\uff1a count = collection.count_documents({}) print(count) # \u6216\u8005\u7edf\u8ba1\u7b26\u5408\u67d0\u4e2a\u6761\u4ef6\u7684\u6570\u636e\uff1a count = collection.count_documents({'age': 20}) print(count) # \u6392\u5e8f # \u53ef\u4ee5\u8c03\u7528sort\u65b9\u6cd5\uff0c\u4f20\u5165\u6392\u5e8f\u7684\u5b57\u6bb5\u53ca\u5347\u964d\u5e8f\u6807\u5fd7\u5373\u53ef\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a results = collection.find().sort('name', pymongo.ASCENDING) print([result['name'] for result in results]) # \u504f\u79fb,\u53ef\u80fd\u60f3\u53ea\u53d6\u67d0\u51e0\u4e2a\u5143\u7d20\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u5229\u7528skip()\u65b9\u6cd5\u504f\u79fb\u51e0\u4e2a\u4f4d\u7f6e\uff0c\u6bd4\u5982\u504f\u79fb2\uff0c\u5c31\u5ffd\u7565\u524d2\u4e2a\u5143\u7d20\uff0c\u5f97\u5230\u7b2c\u4e09\u4e2a\u53ca\u4ee5\u540e\u7684\u5143\u7d20\u3002 results = collection.find().sort('name', pymongo.ASCENDING).skip(2).limit(2) print([result['name'] for result in results]) # \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6570\u636e\u5e93\u6570\u91cf\u975e\u5e38\u5e9e\u5927\u7684\u65f6\u5019\uff0c\u5982\u5343\u4e07\u3001\u4ebf\u7ea7\u522b\uff0c\u6700\u597d\u4e0d\u8981\u4f7f\u7528\u5927\u7684\u504f\u79fb\u91cf\u6765\u67e5\u8be2\u6570\u636e\uff0c\u5f88\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5185\u5b58\u6ea2\u51fa\uff0c # \u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3cfind({'_id': {'$gt': ObjectId('593278c815c2602678bb2b8d')}}) \u8fd9\u6837\u7684\u65b9\u6cd5\u6765\u67e5\u8be2\uff0c\u8bb0\u5f55\u597d\u4e0a\u6b21\u67e5\u8be2\u7684_id\u3002","title":"\u67e5\u8be2\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_63","text":"import pymongo client = pymongo.MongoClient(host='localhost', port=27017) db = client.test collection = db.students # \u66f4\u65b0 # condition = {'name': 'yuan'} # student = collection.find_one(condition) # student['age'] = 100 # result = collection.update_one(condition, {'$set': student}) # print(result) # print(result.matched_count, result.modified_count) # print(collection.find_one({\"name\": \"yuan\"})) # \u5728\u8fd9\u91cc\u8c03\u7528\u4e86update_one\u65b9\u6cd5\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u80fd\u518d\u76f4\u63a5\u4f20\u5165\u4fee\u6539\u540e\u7684\u5b57\u5178\uff0c\u800c\u662f\u9700\u8981\u4f7f\u7528{'$set': student}\u8fd9\u6837\u7684\u5f62\u5f0f\uff0c # \u5176\u8fd4\u56de\u7ed3\u679c\u662fUpdateResult\u7c7b\u578b\uff0c\u7136\u540e\u8c03\u7528matched_count\u548cmodified_count\u5c5e\u6027\u5206\u522b\u53ef\u4ee5\u83b7\u5f97\u5339\u914d\u7684\u6570\u636e\u6761\u6570\u548c\u5f71\u54cd\u7684\u6570\u636e\u6761\u6570\u3002 # \u8fd0\u884c\u7ed3\u679c\uff1a # # <pymongo.results.UpdateResult object at 0x10d17b678> # 1 0 # \u6211\u4eec\u518d\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a # print(list(collection.find({\"age\": {\"$gt\": 20}}))) # condition = {'age': {'$gt': 20}} # result = collection.update_one(condition, {'$inc': {'age': 1}}) # print(list(collection.find({\"age\": {\"$gt\": 20}}))) # \u5728\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u67e5\u8be2\u6761\u4ef6\u4e3a\u5e74\u9f84\u5927\u4e8e20\uff0c\u7136\u540e\u66f4\u65b0\u6761\u4ef6\u4e3a{'$inc': {'age': 1}}\uff0c\u6267\u884c\u4e4b\u540e\u4f1a\u8bb2\u7b2c\u4e00\u6761\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u5e74\u9f84\u52a01\u3002 # \u5982\u679c\u8c03\u7528update_many()\u65b9\u6cd5\uff0c\u5219\u4f1a\u5c06\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6570\u636e\u90fd\u66f4\u65b0\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a # condition = {'age': {'$gt': 20}} # result = collection.update_many(condition, {'$inc': {'age': 1}}) # print(result) # print(result.matched_count, result.modified_count) # \u8fd9\u65f6\u5019\u5339\u914d\u6761\u6570\u5c31\u4e0d\u518d\u4e3a1\u6761\u4e86\uff0c\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a # # <pymongo.results.UpdateResult object at 0x10c6384c8> # 3 3 # \u53ef\u4ee5\u770b\u5230\u8fd9\u65f6\u6240\u6709\u5339\u914d\u5230\u7684\u6570\u636e\u90fd\u4f1a\u88ab\u66f4\u65b0\u3002 # print(list(collection.find({\"age\": {\"$gt\": 20}})))","title":"\u66f4\u65b0\u8bb0\u5f55"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_64","text":"import pymongo client = pymongo.MongoClient(host='localhost', port=27017) db = client.test collection = db.students # \u5220\u9664 # delete_one()\u548cdelete_many()\u65b9\u6cd5\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a result = collection.delete_one({'name': 'yuan'}) print(result) print(result.deleted_count) result = collection.delete_many({'age': {'$lt': 25}}) print(result.deleted_count) \u8be6\u7ec6\u7528\u6cd5\u53ef\u4ee5\u53c2\u89c1\u5b98\u65b9\u6587\u6863\uff1ahttp://api.mongodb.com/python/current/api/pymongo/collection.html \u53e6\u5916\u8fd8\u6709\u5bf9\u6570\u636e\u5e93\u3001\u96c6\u5408\u672c\u8eab\u4ee5\u53ca\u5176\u4ed6\u7684\u4e00\u4e9b\u64cd\u4f5c\uff0c\u5728\u8fd9\u4e0d\u518d\u4e00\u4e00\u8bb2\u89e3\uff0c\u53ef\u4ee5\u53c2\u89c1 \u5b98\u65b9\u6587\u6863\uff1ahttp://api.mongodb.com/python/current/api/pymongo/","title":"\u5220\u9664\u6587\u6863"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#scrapy","text":"","title":"\u7b2c\u516b\u7ae0. scrapy\u6846\u67b6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-scrapy","text":"","title":"\u30101\u3011 scrapy\u6846\u67b6\u7b80\u4ecb"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_17","text":"Scrapy\u4e00\u4e2a\u5f00\u6e90\u548c\u534f\u4f5c\u7684\u6846\u67b6\uff0c\u5176\u6700\u521d\u662f\u4e3a\u4e86\u9875\u9762\u6293\u53d6 (\u66f4\u786e\u5207\u6765\u8bf4, \u7f51\u7edc\u6293\u53d6 )\u6240\u8bbe\u8ba1\u7684\uff0c\u4f7f\u7528\u5b83\u53ef\u4ee5\u4ee5\u5feb\u901f\u3001\u7b80\u5355\u3001\u53ef\u6269\u5c55\u7684\u65b9\u5f0f\u4ece\u7f51\u7ad9\u4e2d\u63d0\u53d6\u6240\u9700\u7684\u6570\u636e\u3002\u4f46\u76ee\u524dScrapy\u7684\u7528\u9014\u5341\u5206\u5e7f\u6cdb\uff0c\u53ef\u7528\u4e8e\u5982\u6570\u636e\u6316\u6398\u3001\u76d1\u6d4b\u548c\u81ea\u52a8\u5316\u6d4b\u8bd5\u7b49\u9886\u57df\uff0c\u4e5f\u53ef\u4ee5\u5e94\u7528\u5728\u83b7\u53d6API\u6240\u8fd4\u56de\u7684\u6570\u636e(\u4f8b\u5982 Amazon Associates Web Services ) \u6216\u8005\u901a\u7528\u7684\u7f51\u7edc\u722c\u866b\u3002Scrapy \u662f\u57fa\u4e8etwisted\u6846\u67b6\u5f00\u53d1\u800c\u6765\uff0ctwisted\u662f\u4e00\u4e2a\u6d41\u884c\u7684\u4e8b\u4ef6\u9a71\u52a8\u7684python\u7f51\u7edc\u6846\u67b6\u3002\u56e0\u6b64Scrapy\u4f7f\u7528\u4e86\u4e00\u79cd\u975e\u963b\u585e\uff08\u53c8\u540d\u5f02\u6b65\uff09\u7684\u4ee3\u7801\u6765\u5b9e\u73b0\u5e76\u53d1\u3002 \u6574\u4f53\u67b6\u6784\u5927\u81f4\u5982\u4e0b\uff1a Components\uff1a 1\u3001\u5f15\u64ce(EGINE) \u5f15\u64ce\u8d1f\u8d23\u63a7\u5236\u7cfb\u7edf\u6240\u6709\u7ec4\u4ef6\u4e4b\u95f4\u7684\u6570\u636e\u6d41\uff0c\u5e76\u5728\u67d0\u4e9b\u52a8\u4f5c\u53d1\u751f\u65f6\u89e6\u53d1\u4e8b\u4ef6\u3002 2\u3001\u8c03\u5ea6\u5668(SCHEDULER) \u7528\u6765\u63a5\u53d7\u5f15\u64ce\u53d1\u8fc7\u6765\u7684\u8bf7\u6c42, \u538b\u5165\u961f\u5217\u4e2d, \u5e76\u5728\u5f15\u64ce\u518d\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u8fd4\u56de. \u53ef\u4ee5\u60f3\u50cf\u6210\u4e00\u4e2aURL\u7684\u4f18\u5148\u7ea7\u961f\u5217, \u7531\u5b83\u6765\u51b3\u5b9a\u4e0b\u4e00\u4e2a\u8981\u6293\u53d6\u7684\u7f51\u5740\u662f\u4ec0\u4e48, \u540c\u65f6\u53bb\u9664\u91cd\u590d\u7684\u7f51\u5740 3\u3001\u4e0b\u8f7d\u5668(DOWLOADER) \u7528\u4e8e\u4e0b\u8f7d\u7f51\u9875\u5185\u5bb9, \u5e76\u5c06\u7f51\u9875\u5185\u5bb9\u8fd4\u56de\u7ed9EGINE\uff0c\u4e0b\u8f7d\u5668\u662f\u5efa\u7acb\u5728twisted\u8fd9\u4e2a\u9ad8\u6548\u7684\u5f02\u6b65\u6a21\u578b\u4e0a\u7684 4\u3001\u722c\u866b(SPIDERS) SPIDERS\u662f\u5f00\u53d1\u4eba\u5458\u81ea\u5b9a\u4e49\u7684\u7c7b\uff0c\u7528\u6765\u89e3\u6790responses\uff0c\u5e76\u4e14\u63d0\u53d6items\uff0c\u6216\u8005\u53d1\u9001\u65b0\u7684\u8bf7\u6c42 5\u3001\u9879\u76ee\u7ba1\u9053(ITEM PIPLINES) \u5728items\u88ab\u63d0\u53d6\u540e\u8d1f\u8d23\u5904\u7406\u5b83\u4eec\uff0c\u4e3b\u8981\u5305\u62ec\u6e05\u7406\u3001\u9a8c\u8bc1\u3001\u6301\u4e45\u5316\uff08\u6bd4\u5982\u5b58\u5230\u6570\u636e\u5e93\uff09\u7b49\u64cd\u4f5c \u4e0b\u8f7d\u5668\u4e2d\u95f4\u4ef6(Downloader Middlewares)\u4f4d\u4e8eScrapy\u5f15\u64ce\u548c\u4e0b\u8f7d\u5668\u4e4b\u95f4\uff0c\u4e3b\u8981\u7528\u6765\u5904\u7406\u4eceEGINE\u4f20\u5230DOWLOADER\u7684\u8bf7\u6c42request\uff0c\u5df2\u7ecf\u4eceDOWNLOADER\u4f20\u5230EGINE\u7684\u54cd\u5e94response\uff0c 6\u3001\u722c\u866b\u4e2d\u95f4\u4ef6(Spider Middlewares) \u4f4d\u4e8eEGINE\u548cSPIDERS\u4e4b\u95f4\uff0c\u4e3b\u8981\u5de5\u4f5c\u662f\u5904\u7406SPIDERS\u7684\u8f93\u5165\uff08\u5373responses\uff09\u548c\u8f93\u51fa\uff08\u5373requests\uff09 \u5b98\u7f51\u94fe\u63a5","title":"\uff081\uff09\u57fa\u672c\u4ecb\u7ecd"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_13","text":"#Windows\u5e73\u53f0 1\u3001pip3 install wheel #\u5b89\u88c5\u540e\uff0c\u4fbf\u652f\u6301\u901a\u8fc7wheel\u6587\u4ef6\u5b89\u88c5\u8f6f\u4ef6\uff0cwheel\u6587\u4ef6\u5b98\u7f51\uff1ahttps://www.lfd.uci.edu/~gohlke/pythonlibs 3\u3001pip3 install lxml 4\u3001pip3 install pyopenssl 5\u3001\u4e0b\u8f7d\u5e76\u5b89\u88c5pywin32\uff1ahttps://sourceforge.net/projects/pywin32/files/pywin32/ 6\u3001\u4e0b\u8f7dtwisted\u7684wheel\u6587\u4ef6\uff1ahttp://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted 7\u3001\u6267\u884cpip3 install \u4e0b\u8f7d\u76ee\u5f55\\Twisted-17.9.0-cp36-cp36m-win_amd64.whl 8\u3001pip3 install scrapy #Linux\u5e73\u53f0 1\u3001pip3 install scrapy","title":"\uff082\uff09\u5b89\u88c5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_14","text":"# 1 \u67e5\u770b\u5e2e\u52a9 scrapy -h scrapy <command> -h # 2 \u6709\u4e24\u79cd\u547d\u4ee4\uff1a\u5176\u4e2dProject-only\u5fc5\u987b\u5207\u5230\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u624d\u80fd\u6267\u884c\uff0c\u800cGlobal\u7684\u547d\u4ee4\u5219\u4e0d\u9700\u8981 Global commands: startproject #\u521b\u5efa\u9879\u76ee genspider #\u521b\u5efa\u722c\u866b\u7a0b\u5e8f settings #\u5982\u679c\u662f\u5728\u9879\u76ee\u76ee\u5f55\u4e0b\uff0c\u5219\u5f97\u5230\u7684\u662f\u8be5\u9879\u76ee\u7684\u914d\u7f6e runspider #\u8fd0\u884c\u4e00\u4e2a\u72ec\u7acb\u7684python\u6587\u4ef6\uff0c\u4e0d\u5fc5\u521b\u5efa\u9879\u76ee shell #scrapy shell url\u5730\u5740 \u5728\u4ea4\u4e92\u5f0f\u8c03\u8bd5\uff0c\u5982\u9009\u62e9\u5668\u89c4\u5219\u6b63\u786e\u4e0e\u5426 fetch #\u72ec\u7acb\u4e8e\u7a0b\u5355\u7eaf\u5730\u722c\u53d6\u4e00\u4e2a\u9875\u9762\uff0c\u53ef\u4ee5\u62ff\u5230\u8bf7\u6c42\u5934 view #\u4e0b\u8f7d\u5b8c\u6bd5\u540e\u76f4\u63a5\u5f39\u51fa\u6d4f\u89c8\u5668\uff0c\u4ee5\u6b64\u53ef\u4ee5\u5206\u8fa8\u51fa\u54ea\u4e9b\u6570\u636e\u662fajax\u8bf7\u6c42 version #scrapy version \u67e5\u770bscrapy\u7684\u7248\u672c\uff0cscrapy version -v\u67e5\u770bscrapy\u4f9d\u8d56\u5e93\u7684\u7248\u672c Project-only commands: crawl #\u8fd0\u884c\u722c\u866b\uff0c\u5fc5\u987b\u521b\u5efa\u9879\u76ee\u624d\u884c\uff0c\u786e\u4fdd\u914d\u7f6e\u6587\u4ef6\u4e2dROBOTSTXT_OBEY = False check #\u68c0\u6d4b\u9879\u76ee\u4e2d\u6709\u65e0\u8bed\u6cd5\u9519\u8bef list #\u5217\u51fa\u9879\u76ee\u4e2d\u6240\u5305\u542b\u7684\u722c\u866b\u540d parse #scrapy parse url\u5730\u5740 --callback \u56de\u8c03\u51fd\u6570 #\u4ee5\u6b64\u53ef\u4ee5\u9a8c\u8bc1\u6211\u4eec\u7684\u56de\u8c03\u51fd\u6570\u662f\u5426\u6b63\u786e bench #scrapy bentch\u538b\u529b\u6d4b\u8bd5 # 3 \u5b98\u7f51\u94fe\u63a5 https://docs.scrapy.org/en/latest/topics/commands.html","title":"\uff083\uff09\u547d\u4ee4\u884c\u5de5\u5177"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_11","text":"\u521b\u5efa\u9879\u76ee\u547d\u4ee4\uff1a scrapy startproject NewsPro cd NewsPro scrapy genspider wangyi news.163.com scrapy genspider huanqiu huanqiu.com \u76ee\u5f55\uff1a \u251c\u2500\u2500 NewsPro \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 items.py \u2502 \u251c\u2500\u2500 middlewares.py \u2502 \u251c\u2500\u2500 pipelines.py \u2502 \u251c\u2500\u2500 settings.py \u2502 \u2514\u2500\u2500 spiders \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 huanqiu.py \u2502 \u2514\u2500\u2500 wangyi.py \u2514\u2500\u2500 scrapy.cfg \u6587\u4ef6\u8bf4\u660e\uff1a scrapy.cfg \u9879\u76ee\u7684\u4e3b\u914d\u7f6e\u4fe1\u606f\uff0c\u7528\u6765\u90e8\u7f72scrapy\u65f6\u4f7f\u7528\uff0c\u722c\u866b\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\u5728settings.py\u6587\u4ef6\u4e2d\u3002 items.py \u8bbe\u7f6e\u6570\u636e\u5b58\u50a8\u6a21\u677f\uff0c\u7528\u4e8e\u7ed3\u6784\u5316\u6570\u636e\uff0c\u5982\uff1aDjango\u7684Model pipelines \u6570\u636e\u5904\u7406\u884c\u4e3a\uff0c\u5982\uff1a\u4e00\u822c\u7ed3\u6784\u5316\u7684\u6570\u636e\u6301\u4e45\u5316 settings.py \u914d\u7f6e\u6587\u4ef6\uff0c\u5982\uff1a\u9012\u5f52\u7684\u5c42\u6570\u3001\u5e76\u53d1\u6570\uff0c\u5ef6\u8fdf\u4e0b\u8f7d\u7b49\u3002\u5f3a\u8c03:\u914d\u7f6e\u6587\u4ef6\u7684\u9009\u9879\u5fc5\u987b\u5927\u5199\u5426\u5219\u89c6\u4e3a\u65e0\u6548\uff0c\u6b63\u786e\u5199\u6cd5USER_AGENT='xxxx' spiders \u722c\u866b\u76ee\u5f55\uff0c\u5982\uff1a\u521b\u5efa\u6587\u4ef6\uff0c\u7f16\u5199\u722c\u866b\u89c4\u5219 wangyi.py import scrapy class WangyiSpider(scrapy.Spider): name = \"wangyi\" allowed_domains = [\"news.163.com\"] start_urls = [\"http://news.163.com/\"] def parse(self, response): print(\"response:::\", response.text) \u542f\u52a8\u722c\u866b\u7a0b\u5e8f\uff1a scrapy crawl wangyi \u6bcf\u4e00\u6b21\u7ec8\u7aef\u542f\u52a8\u548c\u9ebb\u70e6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 \u9879\u76ee\u6839\u76ee\u5f55 \u4e0b\u65b0\u5efa\u542f\u52a8\u6587\u4ef6\uff0cbin.py: from scrapy.cmdline import execute execute(['scrapy', 'crawl', 'wangyi', \"--nolog\"])","title":"\uff084\uff09\u521b\u5efa\u9879\u76ee"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5settings","text":"","title":"\uff085\uff09settings \u914d\u7f6e\u6587\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_18","text":"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b58\u653e\u4e00\u4e9b\u516c\u5171\u53d8\u91cf\uff0c\u5728\u540e\u7eed\u7684\u9879\u76ee\u4e2d\u65b9\u4fbf\u4fee\u6539\uff0c\u5982\uff1a\u672c\u5730\u6d4b\u8bd5\u6570\u636e\u5e93\u548c\u90e8\u7f72\u670d\u52a1\u5668\u7684\u6570\u636e\u5e93\u4e0d\u4e00\u81f4","title":"1. \u4e3a\u4ec0\u4e48\u9879\u76ee\u4e2d\u9700\u8981\u914d\u7f6e\u6587\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_14","text":"\u53d8\u91cf\u540d\u4e00\u822c\u5168\u90e8\u5927\u5199 \u5bfc\u5165\u5373\u53ef\u4f7f\u7528","title":"2. \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\u4f7f\u7528\u65b9\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-settingspy","text":"- USER_AGENT \u8bbe\u7f6eua - ROBOTSTXT_OBEY \u662f\u5426\u9075\u5b88robots\u534f\u8bae\uff0c\u9ed8\u8ba4\u662f\u9075\u5b88 - CONCURRENT_REQUESTS \u8bbe\u7f6e\u5e76\u53d1\u8bf7\u6c42\u7684\u6570\u91cf\uff0c\u9ed8\u8ba4\u662f16\u4e2a - DOWNLOAD_DELAY \u4e0b\u8f7d\u5ef6\u8fdf\uff0c\u9ed8\u8ba4\u65e0\u5ef6\u8fdf \uff08\u4e0b\u8f7d\u5668\u5728\u4ece\u540c\u4e00\u7f51\u7ad9\u4e0b\u8f7d\u8fde\u7eed\u9875\u9762\u4e4b\u524d\u5e94\u7b49\u5f85\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u9650\u5236\u722c\u884c\u901f\u5ea6\uff0c\u4ee5\u907f\u514d\u5bf9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u5f71\u54cd\uff09 - COOKIES_ENABLED \u662f\u5426\u5f00\u542fcookie\uff0c\u5373\u6bcf\u6b21\u8bf7\u6c42\u5e26\u4e0a\u524d\u4e00\u6b21\u7684cookie\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\u7684 - DEFAULT_REQUEST_HEADERS \u8bbe\u7f6e\u9ed8\u8ba4\u8bf7\u6c42\u5934\uff0c\u8fd9\u91cc\u52a0\u5165\u4e86USER_AGENT\u5c06\u4e0d\u8d77\u4f5c\u7528 - SPIDER_MIDDLEWARES \u722c\u866b\u4e2d\u95f4\u4ef6\uff0c\u8bbe\u7f6e\u8fc7\u7a0b\u548c\u7ba1\u9053\u76f8\u540c - DOWNLOADER_MIDDLEWARES \u4e0b\u8f7d\u4e2d\u95f4\u4ef6 - LOG_LEVEL \u63a7\u5236\u7ec8\u7aef\u8f93\u51fa\u4fe1\u606f\u7684log\u7ea7\u522b\uff0c\u7ec8\u7aef\u9ed8\u8ba4\u663e\u793a\u7684\u662fdebug\u7ea7\u522b\u7684log\u4fe1\u606f - LOG_LEVEL = \"WARNING\" - CRITICAL \u4e25\u91cd - ERROR \u9519\u8bef - WARNING \u8b66\u544a - INFO \u6d88\u606f - DEBUG \u8c03\u8bd5 - LOG_FILE \u8bbe\u7f6elog\u65e5\u5fd7\u6587\u4ef6\u7684\u4fdd\u5b58\u8def\u5f84\uff0c\u5982\u679c\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u7ec8\u7aef\u5c06\u4e0d\u518d\u663e\u793a\u4fe1\u606f LOG_FILE = \"./test.log\" - FEED_EXPORT_ENCODING='UTF-8' \u4fdd\u5b58\u7684\u662funicode\u7f16\u7801\u5b57\u7b26\u8f6c\u4e3autf8","title":"3. settings.py\u4e2d\u7684\u91cd\u70b9\u5b57\u6bb5\u548c\u542b\u4e49"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-spider","text":"Spiders\u662f\u5b9a\u4e49\u5982\u4f55\u6293\u53d6\u67d0\u4e2a\u7ad9\u70b9\uff08\u6216\u4e00\u7ec4\u7ad9\u70b9\uff09\u7684\u7c7b\uff0c\u5305\u62ec\u5982\u4f55\u6267\u884c\u722c\u884c\uff08\u5373\u8ddf\u968f\u94fe\u63a5\uff09\u4ee5\u53ca\u5982\u4f55\u4ece\u5176\u9875\u9762\u4e2d\u63d0\u53d6\u7ed3\u6784\u5316\u6570\u636e\uff08\u5373\u6293\u53d6\u9879\u76ee\uff09\u3002\u6362\u53e5\u8bdd\u8bf4\uff0cSpiders\u662f\u60a8\u4e3a\u7279\u5b9a\u7ad9\u70b9\uff08\u6216\u8005\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e00\u7ec4\u7ad9\u70b9\uff09\u722c\u7f51\u548c\u89e3\u6790\u9875\u9762\u5b9a\u4e49\u81ea\u5b9a\u4e49\u884c\u4e3a\u7684\u5730\u65b9\u3002\u3000 1\u3001 \u751f\u6210\u521d\u59cb\u7684Requests\u6765\u722c\u53d6\u7b2c\u4e00\u4e2aURLS\uff0c\u5e76\u4e14\u6807\u8bc6\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 \u7b2c\u4e00\u4e2a\u8bf7\u6c42\u5b9a\u4e49\u5728start_requests()\u65b9\u6cd5\u5185\u9ed8\u8ba4\u4ecestart_urls\u5217\u8868\u4e2d\u83b7\u5f97url\u5730\u5740\u6765\u751f\u6210Request\u8bf7\u6c42\uff0c \u9ed8\u8ba4\u7684\u56de\u8c03\u51fd\u6570\u662fparse\u65b9\u6cd5\u3002\u56de\u8c03\u51fd\u6570\u5728\u4e0b\u8f7d\u5b8c\u6210\u8fd4\u56deresponse\u65f6\u81ea\u52a8\u89e6\u53d1 2\u3001 \u5728\u56de\u8c03\u51fd\u6570\u4e2d\uff0c\u89e3\u6790response\u5e76\u4e14\u8fd4\u56de\u503c \u8fd4\u56de\u503c\u53ef\u4ee54\u79cd\uff1a \u5305\u542b\u89e3\u6790\u6570\u636e\u7684\u5b57\u5178 Item\u5bf9\u8c61 \u65b0\u7684Request\u5bf9\u8c61\uff08\u65b0\u7684Requests\u4e5f\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff09 \u6216\u8005\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5305\u542bItems\u6216Request\uff09 3\u3001\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u89e3\u6790\u9875\u9762\u5185\u5bb9 \u901a\u5e38\u4f7f\u7528Scrapy\u81ea\u5e26\u7684Selectors\uff0c\u4f46\u5f88\u660e\u663e\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528Beutifulsoup\uff0clxml\u6216\u5176\u4ed6\u4f60\u7231\u7528\u5565\u7528\u5565\u3002 4\u3001\u6700\u540e\uff0c\u9488\u5bf9\u8fd4\u56de\u7684Items\u5bf9\u8c61\u5c06\u4f1a\u88ab\u6301\u4e45\u5316\u5230\u6570\u636e\u5e93 \u901a\u8fc7Item Pipeline\u7ec4\u4ef6\u5b58\u5230\u6570\u636e\u5e93\uff1ahttps://docs.scrapy.org/en/latest/topics/item-pipeline.html\uff09 \u6216\u8005\u5bfc\u51fa\u5230\u4e0d\u540c\u7684\u6587\u4ef6\uff08\u901a\u8fc7Feed exports\uff1ahttps://docs.scrapy.org/en/latest/topics/feed-exports.html\uff09","title":"\u30102\u3011 Spider\u7c7b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_65","text":"import scrapy class WangyiSpider(scrapy.Spider): name = 'wangyi' # allowed_domains = ['www.xxx.com'] start_urls = ['https://news.163.com/'] cate_list = [] # \u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url cate_num_map = { \"{{__i == 0}}\": \"\u65b0\u95fb\", \"{{__i == 1}}\": \"\u5317\u4eac\", \"{{__i == 2}}\": \"\u56fd\u5185\", \"{{__i == 3}}\": \"\u56fd\u9645\", \"{{__i == 4}}\": \"\u72ec\u5bb6\", } # \u6570\u636e\u89e3\u6790\uff1a\u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url def parse(self, response): with open(\"news163.html\", \"w\") as f: f.write(response.text) cate_num_list = response.xpath('//*[contains(@ne-if,\"{{\")]/@ne-if').extract() print(\"cate_num_list\", cate_num_list) for cate_num in cate_num_list: print(\"cate_num\", cate_num) if cate_num in self.cate_num_map: cate_title = self.cate_num_map.get(cate_num) news_list = response.xpath(f'//*[contains(@ne-if,\"{cate_num}\")]/div/a') print(news_list) for news_selector in news_list: news_title = news_selector.xpath('text()').extract_first() news_detail_url = news_selector.xpath('@href').extract_first() print(\"new_title\", news_title) print(\"new_detail_url\", news_detail_url) print(\"cate_title\", cate_title) # \u5bf9\u65b0\u95fb\u8be6\u60c5\u9875\u7684url\u53d1\u8d77\u8bf7\u6c42 print(\"\u53d1\u8d77\u65b0\u7684\u8bf7\u6c42\uff0c\", news_detail_url) yield scrapy.Request(url=news_detail_url, callback=self.parse_news_detail) def parse_news_detail(self, response): # \u89e3\u6790\u65b0\u95fb\u5185\u5bb9 # content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p[contains(@id,\"1M\")]/text()').extract() content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p/text()').extract() content = ''.join([i.strip() for i in content]) if content: print(\"content\", content) # \u722c\u866b\u7c7b\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u662f\u5728\u722c\u866b\u7ed3\u675f\u6700\u540e\u4e00\u523b\u6267\u884c def closed(self, spider): # self.bro.quit() print(\"\u6b64\u6b21\u722c\u866b\u5168\u90e8\u7ed3\u675f\uff01\")","title":"\u5e94\u7528\uff08\u7f51\u6613\u65b0\u95fb\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-item","text":"\u6293\u53d6\u7684\u4e3b\u8981\u76ee\u6807\u662f\u4ece\u975e\u7ed3\u6784\u5316\u6e90\uff08\u901a\u5e38\u662f\u7f51\u9875\uff09\u4e2d\u63d0\u53d6\u7ed3\u6784\u5316\u6570\u636e\u3002Scrapy\u722c\u866b\u53ef\u4ee5\u50cfPython\u4e00\u6837\u8fd4\u56de\u63d0\u53d6\u7684\u6570\u636e\u3002\u867d\u7136\u65b9\u4fbf\u548c\u719f\u6089\uff0c\u4f46\u5f88\u5bb9\u6613\u5728\u5b57\u6bb5\u540d\u79f0\u4e2d\u8f93\u5165\u62fc\u5199\u9519\u8bef\u6216\u8fd4\u56de\u4e0d\u4e00\u81f4\u7684\u6570\u636e\uff0c\u5c24\u5176\u662f\u5728\u5177\u6709\u8bb8\u591a\u722c\u866b\u7684\u8f83\u5927\u9879\u76ee\u4e2d\u3002 \u4e3a\u4e86\u5b9a\u4e49\u901a\u7528\u8f93\u51fa\u6570\u636e\u683c\u5f0f\uff0cScrapy\u63d0\u4f9b\u4e86Item\u7c7b\u3002 Item\u5bf9\u8c61\u662f\u7528\u4e8e\u6536\u96c6\u6293\u53d6\u6570\u636e\u7684\u7b80\u5355\u5bb9\u5668\u3002\u5b83\u4eec\u63d0\u4f9b\u7c7b\u4f3c\u5b57\u5178\u7684 API\uff0c\u5e76\u5177\u6709\u7528\u4e8e\u58f0\u660e\u5176\u53ef\u7528\u5b57\u6bb5\u7684\u65b9\u4fbf\u8bed\u6cd5\u3002","title":"\u30103\u3011 Item"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_19","text":"\u4f7f\u7528\u7b80\u5355\u7684\u7c7b\u5b9a\u4e49\u8bed\u6cd5\u548cField \u5bf9\u8c61\u58f0\u660e\u9879\u3002\u8fd9\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a import scrapy class Product(scrapy.Item): name = scrapy.Field() price = scrapy.Field() stock = scrapy.Field() last_updated = scrapy.Field(serializer=str) \u6ce8\u610f\u90a3\u4e9b\u719f\u6089Django\u7684\u4eba\u4f1a\u6ce8\u610f\u5230Scrapy Items\u88ab\u5ba3\u544a\u7c7b\u4f3c\u4e8eDjango Models\uff0c\u9664\u4e86Scrapy Items\u66f4\u7b80\u5355\uff0c\u56e0\u4e3a\u6ca1\u6709\u4e0d\u540c\u5b57\u6bb5\u7c7b\u578b\u7684\u6982\u5ff5\u3002 Field\u5bf9\u8c61\u7528\u4e8e\u6307\u5b9a\u6bcf\u4e2a\u5b57\u6bb5\u7684\u5143\u6570\u636e\u3002\u4f8b\u5982\uff0clast_updated\u4e0a\u9762\u793a\u4f8b\u4e2d\u8bf4\u660e\u7684\u5b57\u6bb5\u7684\u5e8f\u5217\u5316\u51fd\u6570\u3002 \u60a8\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u5b57\u6bb5\u6307\u5b9a\u4efb\u4f55\u7c7b\u578b\u7684\u5143\u6570\u636e\u3002Field\u5bf9\u8c61\u63a5\u53d7\u7684\u503c\u6ca1\u6709\u9650\u5236\u3002\u51fa\u4e8e\u540c\u6837\u7684\u539f\u56e0\uff0c\u6ca1\u6709\u6240\u6709\u53ef\u7528\u5143\u6570\u636e\u952e\u7684\u53c2\u8003\u5217\u8868\u3002 Field\u5bf9\u8c61\u4e2d\u5b9a\u4e49\u7684\u6bcf\u4e2a\u952e\u53ef\u4ee5\u7531\u4e0d\u540c\u7684\u7ec4\u4ef6\u4f7f\u7528\uff0c\u53ea\u6709\u90a3\u4e9b\u7ec4\u4ef6\u77e5\u9053\u5b83\u3002\u60a8\u4e5f\u53ef\u4ee5\u6839\u636eField\u81ea\u5df1\u7684\u9700\u8981\u5b9a\u4e49\u548c\u4f7f\u7528\u9879\u76ee\u4e2d\u7684\u4efb\u4f55\u5176\u4ed6\u952e\u3002 Field\u5bf9\u8c61\u7684\u4e3b\u8981\u76ee\u6807\u662f\u63d0\u4f9b\u4e00\u79cd\u5728\u4e00\u4e2a\u5730\u65b9\u5b9a\u4e49\u6240\u6709\u5b57\u6bb5\u5143\u6570\u636e\u7684\u65b9\u6cd5\u3002\u901a\u5e38\uff0c\u884c\u4e3a\u53d6\u51b3\u4e8e\u6bcf\u4e2a\u5b57\u6bb5\u7684\u90a3\u4e9b\u7ec4\u4ef6\u4f7f\u7528\u67d0\u4e9b\u5b57\u6bb5\u952e\u6765\u914d\u7f6e\u8be5\u884c\u4e3a\u3002","title":"1\u3001\u58f0\u660e\u9879\u76ee"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_15","text":"import scrapy from items import NewsProItem class WangyiSpider(scrapy.Spider): name = 'wangyi' # allowed_domains = ['www.xxx.com'] start_urls = ['https://news.163.com/'] cate_list = [] # \u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url cate_num_map = { \"{{__i == 0}}\": \"\u65b0\u95fb\", \"{{__i == 1}}\": \"\u5317\u4eac\", \"{{__i == 2}}\": \"\u56fd\u5185\", \"{{__i == 3}}\": \"\u56fd\u9645\", \"{{__i == 4}}\": \"\u72ec\u5bb6\", } # \u6570\u636e\u89e3\u6790\uff1a\u6bcf\u4e00\u4e2a\u677f\u5757\u5bf9\u5e94\u7684url def parse(self, response): with open(\"news163.html\", \"w\") as f: f.write(response.text) cate_num_list = response.xpath('//*[contains(@ne-if,\"{{\")]/@ne-if').extract() print(\"cate_num_list\", cate_num_list) for cate_num in cate_num_list: print(\"cate_num\", cate_num) if cate_num in self.cate_num_map: cate_title = self.cate_num_map.get(cate_num) news_list = response.xpath(f'//*[contains(@ne-if,\"{cate_num}\")]/div/a') print(cate_title) print(news_list) for news_selector in news_list: news_title = news_selector.xpath('text()').extract_first() news_detail_url = news_selector.xpath('@href').extract_first() cate_title = self.cate_num_map.get(cate_num) print(\"new_title\", news_title) print(\"new_detail_url\", news_detail_url) print(\"cate_title\", cate_title) # \u5b58\u50a8\u6570\u636e\u5230item\u5bf9\u8c61 item = NewsProItem() item['cate'] = cate_title item['title'] = news_title # \u5bf9\u65b0\u95fb\u8be6\u60c5\u9875\u7684url\u53d1\u8d77\u8bf7\u6c42 print(\"\u53d1\u8d77\u65b0\u7684\u8bf7\u6c42\uff0c\", news_detail_url) yield scrapy.Request(url=news_detail_url, callback=self.parse_news_detail, meta={'item': item}) def parse_news_detail(self, response): # \u89e3\u6790\u65b0\u95fb\u5185\u5bb9 # content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p[contains(@id,\"1M\")]/text()').extract() content = response.xpath('//*[@id=\"content\"]/div[@class=\"post_body\"]/p/text()').extract() content = ''.join([i.strip() for i in content]) item = response.meta['item'] item['content'] = content if content: print(\"item\", item) yield item # \u722c\u866b\u7c7b\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u662f\u5728\u722c\u866b\u7ed3\u675f\u6700\u540e\u4e00\u523b\u6267\u884c def closed(self, spider): # self.bro.quit() print(\"\u6b64\u6b21\u722c\u866b\u5168\u90e8\u7ed3\u675f\uff01\")","title":"2\u3001\u5e94\u7528\uff08\u7f51\u6613\u65b0\u95fb\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4-item-pipeline","text":"\u5728\u4e00\u4e2a\u9879\u76ee\u88ab\u8718\u86db\u6293\u53d6\u4e4b\u540e\uff0c\u5b83\u88ab\u53d1\u9001\u5230\u9879\u76ee\u7ba1\u9053\uff0c\u8be5\u9879\u76ee\u7ba1\u9053\u901a\u8fc7\u987a\u5e8f\u6267\u884c\u7684\u51e0\u4e2a\u7ec4\u4ef6\u5904\u7406\u5b83\u3002 \u6bcf\u4e2a\u9879\u76ee\u7ba1\u9053\u7ec4\u4ef6\uff08\u6709\u65f6\u7b80\u79f0\u4e3a\u201c\u9879\u76ee\u7ba1\u9053\u201d\uff09\u662f\u4e00\u4e2a\u5b9e\u73b0\u7b80\u5355\u65b9\u6cd5\u7684Python\u7c7b\u3002\u4ed6\u4eec\u6536\u5230\u4e00\u4e2a\u9879\u76ee\u5e76\u5bf9\u5176\u6267\u884c\u64cd\u4f5c\uff0c\u540c\u65f6\u51b3\u5b9a\u8be5\u9879\u76ee\u662f\u5426\u5e94\u8be5\u7ee7\u7eed\u901a\u8fc7\u7ba1\u9053\u6216\u88ab\u4e22\u5f03\u5e76\u4e14\u4e0d\u518d\u5904\u7406\u3002 \u9879\u76ee\u7ba1\u9053\u7684\u5178\u578b\u7528\u9014\u662f\uff1a cleansing HTML data validating scraped data (checking that the items contain certain fields) checking for duplicates (and dropping them) storing the scraped item in a database","title":"\u30104\u3011 Item PipeLine"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_20","text":"''' \u6bcf\u4e2a\u9879\u7ba1\u9053\u7ec4\u4ef6\u90fd\u662f\u4e00\u4e2a\u5fc5\u987b\u5b9e\u73b0\u4ee5\u4e0b\u65b9\u6cd5\u7684Python\u7c7b\uff1a process_item\uff08self\uff0c\u9879\u76ee\uff0c\u8718\u86db\uff09 \u4e3a\u6bcf\u4e2a\u9879\u76ee\u7ba1\u9053\u7ec4\u4ef6\u8c03\u7528\u6b64\u65b9\u6cd5\u3002process_item() \u5fc5\u987b\u8981\u4e48\uff1a\u8fd4\u56de\u5e26\u6570\u636e\u7684dict\uff0c\u8fd4\u56de\u4e00\u4e2aItem \uff08\u6216\u4efb\u4f55\u540e\u4ee3\u7c7b\uff09\u5bf9\u8c61\uff0c\u8fd4\u56deTwisted Deferred\u6216\u5f15\u53d1 DropItem\u5f02\u5e38\u3002\u4e22\u5f03\u7684\u9879\u76ee\u4e0d\u518d\u7531\u5176\u4ed6\u7ba1\u9053\u7ec4\u4ef6\u5904\u7406\u3002 \u6b64\u5916\uff0c\u4ed6\u4eec\u8fd8\u53ef\u4ee5\u5b9e\u73b0\u4ee5\u4e0b\u65b9\u6cd5\uff1a open_spider\uff08self\uff0c\u8718\u86db\uff09 \u6253\u5f00\u8718\u86db\u65f6\u4f1a\u8c03\u7528\u6b64\u65b9\u6cd5\u3002 close_spider\uff08self\uff0c\u8718\u86db\uff09 \u5f53\u8718\u86db\u5173\u95ed\u65f6\u8c03\u7528\u6b64\u65b9\u6cd5\u3002 from_crawler\uff08cls\uff0ccrawler \uff09 \u5982\u679c\u5b58\u5728\uff0c\u5219\u8c03\u7528\u6b64\u7c7b\u65b9\u6cd5\u4ee5\u4ecea\u521b\u5efa\u7ba1\u9053\u5b9e\u4f8bCrawler\u3002\u5b83\u5fc5\u987b\u8fd4\u56de\u7ba1\u9053\u7684\u65b0\u5b9e\u4f8b\u3002Crawler\u5bf9\u8c61\u63d0\u4f9b\u5bf9\u6240\u6709Scrapy\u6838\u5fc3\u7ec4\u4ef6\u7684\u8bbf\u95ee\uff0c \u5982\u8bbe\u7f6e\u548c\u4fe1\u53f7; \u5b83\u662f\u7ba1\u9053\u8bbf\u95ee\u5b83\u4eec\u5e76\u5c06\u5176\u529f\u80fd\u6302\u94a9\u5230Scrapy\u7684\u4e00\u79cd\u65b9\u5f0f\u3002 '''","title":"1 \u7f16\u5199\u81ea\u5df1\u7684\u9879\u76ee\u7ba1\u9053"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_16","text":"","title":"2 \u9879\u76ee\u7ba1\u9053\u793a\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_21","text":"\u8ba9\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684\u5047\u8bbe\u7ba1\u9053\uff0c\u5b83\u8c03\u6574 price \u90a3\u4e9b\u4e0d\u5305\u542b\u589e\u503c\u7a0e\uff08 price_excludes_vat \u5c5e\u6027\uff09\u7684\u9879\u76ee\u7684\u5c5e\u6027\uff0c\u5e76\u5220\u9664\u90a3\u4e9b\u4e0d\u5305\u542b\u4ef7\u683c\u7684\u9879\u76ee\uff1a from scrapy.exceptions import DropItem class PricePipeline(object): vat_factor = 1.15 def process_item(self, item, spider): if item['price']: if item['price_excludes_vat']: item['price'] = item['price'] * self.vat_factor return item else: raise DropItem(\"Missing price in %s\" % item)","title":"(1) \u4ef7\u683c\u9a8c\u8bc1\u548c\u4e22\u5f03\u7269\u54c1\u6ca1\u6709\u4ef7\u683c"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-json","text":"\u4ee5\u4e0b\u7ba1\u9053\u5c06\u6240\u6709\u5df2\u5220\u9664\u7684\u9879\u76ee\uff08\u6765\u81ea\u6240\u6709\u8718\u86db\uff09\u5b58\u50a8\u5230\u4e00\u4e2a items.jl \u6587\u4ef6\u4e2d\uff0c\u6bcf\u884c\u5305\u542b\u4e00\u4e2a\u4ee5JSON\u683c\u5f0f\u5e8f\u5217\u5316\u7684\u9879\u76ee\uff1a \u6ce8\u610fJsonWriterPipeline\u7684\u76ee\u7684\u53ea\u662f\u4ecb\u7ecd\u5982\u4f55\u7f16\u5199\u9879\u76ee\u7ba1\u9053\u3002\u5982\u679c\u60a8\u786e\u5b9e\u8981\u5c06\u6240\u6709\u5df2\u5220\u9664\u7684\u9879\u76ee\u5b58\u50a8\u5230JSON\u6587\u4ef6\u4e2d\uff0c\u5219\u5e94\u4f7f\u7528Feed\u5bfc\u51fa\u3002 import json class JsonWriterPipeline(object): def open_spider(self, spider): self.file = open('items.jl', 'w') def close_spider(self, spider): self.file.close() def process_item(self, item, spider): line = json.dumps(dict(item)) + \"\\n\" self.file.write(line) return item","title":"(2) \u5c06\u9879\u76ee\u5199\u5165JSON\u6587\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_15","text":"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 pymongo \u5c06\u9879\u76ee\u5199\u5165 MongoDB \u3002MongoDB\u5730\u5740\u548c\u6570\u636e\u5e93\u540d\u79f0\u5728Scrapy\u8bbe\u7f6e\u4e2d\u6307\u5b9a; MongoDB\u96c6\u5408\u4ee5item\u7c7b\u547d\u540d\u3002 from scrapy.exceptions import DropItem import pymongo class NewsproPipeline: def process_item(self, item, spider): print(\"item:::\", item) if not item[\"content\"]: raise DropItem(f\"{item['title']}content\u4e3a\u7a7a\") return item class MongoPipeline(object): mongo_db = \"news\" collection_name = 'wangyiNews' def __init__(self, mongo): self.mongo = mongo @classmethod def from_crawler(cls, crawler): # Scrapy\u4f1a\u5148\u901a\u8fc7getattr\u5224\u65ad\u6211\u4eec\u662f\u5426\u81ea\u5b9a\u4e49\u4e86from_crawler,\u6709\u5219\u8c03\u5b83\u6765\u5b8c\u6210\u5b9e\u4f8b\u5316 return cls(crawler.settings.get('MONGO')) def open_spider(self, spider): self.client = pymongo.MongoClient(host=self.mongo[0], port=self.mongo[1]) self.db = self.client[self.mongo_db] def close_spider(self, spider): self.client.close() def process_item(self, item, spider): self.db[self.collection_name].insert_one(dict(item)) print(f\"news\u6570\u636e\u5e93\u7684{self.collection_name}\u8868\u4e2d\u63d2\u5165{item['title']}\u8bb0\u5f55\") return item \u8fd9\u4e2a\u4f8b\u5b50\u7684\u8981\u70b9\u662f\u5c55\u793a\u5982\u4f55\u4f7f\u7528 from_crawler() \u65b9\u6cd5\u4ee5\u53ca\u5982\u4f55\u6b63\u786e\u5730\u6e05\u7406\u8d44\u6e90\u3002 \u8865\u5145\u77e5\u8bc6\u70b9( from_crawler )\uff1a \u5f53\u60a8\u4f7f\u7528 settings \u5bf9\u8c61\u83b7\u53d6\u5168\u5c40\u53d8\u91cf\u65f6\uff0c\u53ef\u4ee5\u5728 Scrapy \u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u8be5\u53d8\u91cf\u7684\u503c\uff0c\u7136\u540e\u901a\u8fc7 settings.get('MY_SETTING') \u65b9\u6cd5\u6765\u8bbf\u95ee\u5b83\u3002\u8fd9\u6837\u505a\u5f88\u65b9\u4fbf\uff0c\u4f46\u4e5f\u6709\u4e00\u4e9b\u9650\u5236\uff1a \u60a8\u65e0\u6cd5\u6839\u636e\u7279\u5b9a\u7684 Crawler \u5b9e\u4f8b\u52a8\u6001\u5730\u8c03\u6574\u5168\u5c40\u53d8\u91cf\u7684\u503c\u3002\u4f8b\u5982\uff0c\u5f53\u60a8\u5728\u591a\u4e2a\u722c\u866b\u4e4b\u95f4\u5171\u4eab\u540c\u4e00\u4e2a Scrapy \u9879\u76ee\u65f6\uff0c\u67d0\u4e9b\u8bbe\u7f6e\u53ef\u80fd\u9700\u8981\u5728\u6bcf\u4e2a\u722c\u866b\u4e4b\u95f4\u8fdb\u884c\u5fae\u8c03\u3002 \u60a8\u65e0\u6cd5\u8f7b\u677e\u5730\u5c06\u5176\u4ed6\u53c2\u6570\u4f20\u9012\u7ed9\u4e2d\u95f4\u4ef6\u3002\u5982\u679c\u60a8\u60f3\u57fa\u4e8e\u73af\u5883\u53d8\u91cf\u3001\u547d\u4ee4\u884c\u53c2\u6570\u6216\u5176\u4ed6\u5916\u90e8\u56e0\u7d20\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u90a3\u4e48\u4f7f\u7528 settings \u5bf9\u8c61\u53ef\u80fd\u5f88\u9ebb\u70e6\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0cScrapy \u5f15\u5165\u4e86 from_crawler \u65b9\u6cd5\u3002\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u8ba9\u60a8\u6839\u636e\u5177\u4f53\u7684 Crawler \u5b9e\u4f8b\u521b\u5efa\u4e2d\u95f4\u4ef6\u5b9e\u4f8b\uff0c\u5e76\u52a8\u6001\u5730\u5411\u4e2d\u95f4\u4ef6\u4f20\u9012\u5176\u4ed6\u53c2\u6570\u3002 \u5177\u4f53\u6765\u8bf4\uff0c from_crawler \u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a crawler \u53c2\u6570\uff0c\u8fd9\u662f\u5f53\u524d Crawler \u5b9e\u4f8b\u7684\u5f15\u7528\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 crawler.settings \u8bbf\u95ee Scrapy \u7684\u5168\u5c40\u914d\u7f6e\u53d8\u91cf\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 crawler.signals \u6ce8\u518c\u4fe1\u53f7\u5904\u7406\u7a0b\u5e8f\uff0c\u4ee5\u53ca\u4f7f\u7528 crawler.engine \u548c crawler.spider \u8bbf\u95ee\u5176\u4ed6 Scrapy \u5b50\u7cfb\u7edf\u548c\u8d44\u6e90\u3002 \u56e0\u6b64\uff0c\u5728 from_crawler \u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u66f4\u591a\u7684 Scrapy \u8d44\u6e90\uff0c\u5e76\u6839\u636e\u9700\u8981\u52a8\u6001\u5730\u914d\u7f6e\u4e2d\u95f4\u4ef6\u3002\u8fd9\u4f7f\u5f97\u4e2d\u95f4\u4ef6\u66f4\u52a0\u7075\u6d3b\u548c\u53ef\u6269\u5c55\uff0c\u53ef\u4ee5\u9002\u5e94\u591a\u79cd\u573a\u666f\u548c\u9700\u6c42\u3002","title":"(3) \u5c06\u9879\u76ee\u5199\u5165\u6570\u636e\u5e93\uff08\u7f51\u6613\u65b0\u95fb\u5e94\u7528\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_12","text":"\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u67e5\u627e\u91cd\u590d\u9879\u76ee\uff0c\u5e76\u5220\u9664\u5df2\u5904\u7406\u7684\u9879\u76ee\u3002\u5047\u8bbe\u6211\u4eec\u7684\u9879\u76ee\u5177\u6709\u552f\u4e00ID\uff0c\u4f46\u6211\u4eec\u7684\u8718\u86db\u4f1a\u8fd4\u56de\u5177\u6709\u76f8\u540cID\u7684\u591a\u4e2a\u9879\u76ee\uff1a from scrapy.exceptions import DropItem class DuplicatesPipeline(object): def __init__(self): self.ids_seen = set() def process_item(self, item, spider): if item['id'] in self.ids_seen: raise DropItem(\"Duplicate item found: %s\" % item) else: self.ids_seen.add(item['id']) return item","title":"(4) \u91cd\u590d\u8fc7\u6ee4"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_16","text":"\u8981\u6fc0\u6d3bItem Pipeline\u7ec4\u4ef6\uff0c\u5fc5\u987b\u5c06\u5176\u7c7b\u6dfb\u52a0\u5230 settings.py \u7684 ITEM_PIPELINES \u8bbe\u7f6e\u4e2d\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a ITEM_PIPELINES = { 'myproject.pipelines.PricePipeline': 300, 'myproject.pipelines.JsonWriterPipeline': 800, \"NewsPro.pipelines.MongoPipeline\": 500, } \u60a8\u5728\u6b64\u8bbe\u7f6e\u4e2d\u4e3a\u7c7b\u5206\u914d\u7684\u6574\u6570\u503c\u51b3\u5b9a\u4e86\u5b83\u4eec\u8fd0\u884c\u7684\u987a\u5e8f\uff1a\u9879\u76ee\u4ece\u8f83\u4f4e\u503c\u5230\u8f83\u9ad8\u503c\u7c7b\u8fdb\u884c\u3002\u4e60\u60ef\u4e0a\u57280-1000\u8303\u56f4\u5185\u5b9a\u4e49\u8fd9\u4e9b\u6570\u5b57\u3002","title":"3 \u6fc0\u6d3b\u9879\u76ee\u7ba1\u9053\u7ec4\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_6","text":"class MyDownMiddleware(object): def process_request(self, request, spider): \"\"\" \u8bf7\u6c42\u9700\u8981\u88ab\u4e0b\u8f7d\u65f6\uff0c\u7ecf\u8fc7\u6240\u6709\u4e0b\u8f7d\u5668\u4e2d\u95f4\u4ef6\u7684process_request\u8c03\u7528 :param request: :param spider: :return: None,\u7ee7\u7eed\u540e\u7eed\u4e2d\u95f4\u4ef6\u53bb\u4e0b\u8f7d\uff1b Response\u5bf9\u8c61\uff0c\u505c\u6b62process_request\u7684\u6267\u884c\uff0c\u5f00\u59cb\u6267\u884cprocess_response Request\u5bf9\u8c61\uff0c\u505c\u6b62\u4e2d\u95f4\u4ef6\u7684\u6267\u884c\uff0c\u5c06Request\u91cd\u65b0\u8c03\u5ea6\u5668 raise IgnoreRequest\u5f02\u5e38\uff0c\u505c\u6b62process_request\u7684\u6267\u884c\uff0c\u5f00\u59cb\u6267\u884cprocess_exception \"\"\" pass def process_response(self, request, response, spider): \"\"\" spider\u5904\u7406\u5b8c\u6210\uff0c\u8fd4\u56de\u65f6\u8c03\u7528 :param response: :param result: :param spider: :return: Response \u5bf9\u8c61\uff1a\u8f6c\u4ea4\u7ed9\u5176\u4ed6\u4e2d\u95f4\u4ef6process_response Request \u5bf9\u8c61\uff1a\u505c\u6b62\u4e2d\u95f4\u4ef6\uff0crequest\u4f1a\u88ab\u91cd\u65b0\u8c03\u5ea6\u4e0b\u8f7d raise IgnoreRequest \u5f02\u5e38\uff1a\u8c03\u7528Request.errback \"\"\" print('response1') return response def process_exception(self, request, exception, spider): \"\"\" \u5f53\u4e0b\u8f7d\u5904\u7406\u5668(download handler)\u6216 process_request() (\u4e0b\u8f7d\u4e2d\u95f4\u4ef6)\u629b\u51fa\u5f02\u5e38 :param response: :param exception: :param spider: :return: None\uff1a\u7ee7\u7eed\u4ea4\u7ed9\u540e\u7eed\u4e2d\u95f4\u4ef6\u5904\u7406\u5f02\u5e38\uff1b Response\u5bf9\u8c61\uff1a\u505c\u6b62\u540e\u7eedprocess_exception\u65b9\u6cd5 Request\u5bf9\u8c61\uff1a\u505c\u6b62\u4e2d\u95f4\u4ef6\uff0crequest\u5c06\u4f1a\u88ab\u91cd\u65b0\u8c03\u7528\u4e0b\u8f7d \"\"\" return None \u6848\u4f8b import logging import time import random # http://httpbin.org/get class TestMiddleware: \"\"\"This middleware allows spiders to override the user_agent\"\"\" user_agent_list = [ 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 Edge/16.16299', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36', ] proxies = [ \"http://61.216.185.88:60808\", ] def process_request(self, request, spider): # \u8bbe\u7f6e\u4e00\u4e2a\u968f\u673a\u7684UA request.headers['User-Agent'] = random.choice(self.user_agent_list) # \u6bcf\u4e00\u4e2a\u8bf7\u6c42\u5ef6\u8fdf\u968f\u673a\u65f6\u95f4 delay = random.uniform(0, 1) time.sleep(delay) logging.info(f\"\u5ef6\u8fdf{delay}\u79d2\u53d1\u8d77\u8bf7\u6c42\") # \u8bbe\u7f6e\u968f\u673a\u4ee3\u7406IP random_ip = random.choice(self.proxies) request.meta[\"proxy\"] = random_ip logging.info(f\"\u5f53\u524d\u4ee3\u7406IP{random_ip}\")","title":"\u30105\u3011\u4e0b\u8f7d\u4e2d\u95f4\u4ef6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6_1","text":"","title":"\u30106\u3011\u8fdb\u9636"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-start_rquests","text":"scrapy\u4e2dstart_url\u662f\u901a\u8fc7start_requests\u6765\u8fdb\u884c\u5904\u7406\u7684\uff0c\u5176\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b def start_requests(self): cls = self.__class__ if method_is_overridden(cls, Spider, 'make_requests_from_url'): warnings.warn( \"Spider.make_requests_from_url method is deprecated; it \" \"won't be called in future Scrapy releases. Please \" \"override Spider.start_requests method instead (see %s.%s).\" % ( cls.__module__, cls.__name__ ), ) for url in self.start_urls: yield self.make_requests_from_url(url) else: for url in self.start_urls: yield Request(url, dont_filter=True) \u6709\u4e9b\u65f6\u5019,\u9700\u8981\u91cd\u5199starte_rquests\u65b9\u6cd5\u53d1\u8d77\u9996\u6b21\u8bf7\u6c42 import scrapy class N17kSpider(scrapy.Spider): name = \"n_17k\" start_urls = [\"https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919\"] def start_requests(self): ''' \u8bf7\u6c42\u767b\u9646\u7684\u8d26\u53f7\u548c\u5bc6\u7801 ''' login_url = 'https://passport.17k.com/ck/user/login' # \u4f7f\u7528request\u8fdb\u884c\u8bf7\u6c42 # yield scrapy.Request(url=login_url, body='loginName=17346570232&password=xlg17346570232', callback=self.do_login, method='POST') # \u4f7f\u7528Request\u5b50\u7c7bFormRequest\u8fdb\u884c\u8bf7\u6c42 \u81ea\u52a8\u4e3apost\u8bf7\u6c42 yield scrapy.FormRequest( url=login_url, formdata={'loginName': '13121758648', 'password': 'yuan0316'}, callback=self.do_start ) def do_start(self, response): ''' \u767b\u9646\u6210\u529f\u540e\u8c03\u7528parse\u8fdb\u884c\u5904\u7406 cookie\u4e2d\u95f4\u4ef6\u4f1a\u5e2e\u6211\u4eec\u81ea\u52a8\u5904\u7406\u643a\u5e26cookie ''' for url in self.start_urls: yield scrapy.Request(url=url, callback=self.parse) def parse(self, response, **kwargs): with open(\"data.json\", \"w\") as f: f.write(response.text)","title":"1. start_rquests\u91cd\u5199"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-crawlspider","text":"\u5728\u4e4b\u524d Scrapy \u7684\u57fa\u672c\u4f7f\u7528\u5f53\u4e2d\uff0cspider \u5982\u679c\u8981\u91cd\u65b0\u53d1\u9001\u8bf7\u6c42\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u81ea\u5df1\u89e3\u6790\u9875\u9762\uff0c\u7136\u540e\u53d1\u9001\u8bf7\u6c42\u3002\u800c CrawlSpider \u5219\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e url \u6761\u4ef6\u81ea\u52a8\u53d1\u9001\u8bf7\u6c42\u3002","title":"2. \u5168\u7ad9\u722c\u866b(CrawlSpider)"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#linkextractors","text":"CrawlSpider \u662f Spider \u7684\u4e00\u4e2a\u6d3e\u751f\u7c7b\u3002CrawlSpider \u4e0e spider \u4e0d\u540c\u7684\u662f\u5c31\u5728\u4e8e\u4e0b\u4e00\u6b21\u8bf7\u6c42\u7684 url \u4e0d\u9700\u8981\u81ea\u5df1\u624b\u52a8\u89e3\u6790\uff0c\u800c\u8fd9\u4e00\u70b9\u5219\u662f\u901a\u8fc7 LinkExtractors \u5b9e\u73b0\u7684\u3002 LinkExtractor\u7c7b\u7684\u6784\u9020\u65b9\u6cd5\u5982\u4e0b\u6240\u793a\u3002 class scrapy.linkextractors.LinkExtractor( allow = (), deny = (), allow_domains = (), deny_domains = (), restrict_xpaths = (), tags = ('a','area'), attrs = ('href'), canonicalize = False, unique = True, process_value = None, deny_extensions = None, restrict_css=(), strip=True ) \u5176\u4e2d\u7684\u53c2\u6570\u4e3a\uff1a allow\uff1a\u5141\u8bb8\u7684 url\u3002\u6240\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 url \u90fd\u4f1a\u88ab\u63d0\u53d6 deny\uff1a\u7981\u6b62\u7684 url\u3002\u6240\u6709\u6ee1\u8db3\u8fd9\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 url \u90fd\u4e0d\u4f1a\u88ab\u63d0\u53d6 allow_domains\uff1a\u5141\u8bb8\u7684\u57df\u540d\u3002\u53ea\u6709\u5728\u8fd9\u4e2a\u91cc\u9762\u6307\u5b9a\u7684\u57df\u540d\u7684 url \u624d\u4f1a\u88ab\u63d0\u53d6 deny_domains\uff1a\u7981\u6b62\u7684\u57df\u540d\u3002\u6240\u6709\u5728\u8fd9\u4e2a\u91cc\u9762\u6307\u5b9a\u7684\u57df\u540d\u7684 url \u90fd\u4e0d\u4f1a\u88ab\u63d0\u53d6 restrict_xpaths\uff1a\u4e25\u683c\u7684 xpath\u3002\u548c allow \u5171\u540c\u8fc7\u6ee4\u94fe\u63a5 tags\uff1a\u63a5\u6536\u4e00\u4e2a\u6807\u7b7e\u6216\u6807\u7b7e\u5217\u8868\uff0c\u63d0\u53d6\u6807\u7b7e\u5185\u7684\u5217\u8868\uff0c\u9ed8\u8ba4\u4e3a[\u2018a\u2019, \u2018area\u2019] attrs\uff1a\u63a5\u6536\u4e00\u4e2a\u5c5e\u6027\u6216\u5c5e\u6027\u5217\u8868\uff0c\u63d0\u53d6\u6307\u5b9a\u5c5e\u6027\u5185\u7684\u94fe\u63a5\uff0c\u9ed8\u8ba4\u4e3a[\u2018href\u2019]","title":"LinkExtractors"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#rule","text":"LinkExtractors \u9700\u8981\u4f20\u9012\u5230 Rule \u7c7b\u5bf9\u8c61\u4e2d\u624d\u80fd\u53d1\u6325\u4f5c\u7528\u3002Rule \u7c7b\u5e38\u89c1\u7684\u53c2\u6570\u4e3a\uff1a link_extractors:\u662f\u4e00\u4e2aLinkExtractor\u5bf9\u8c61\uff0c\u7528\u4e8e\u5b9a\u4e49\u9700\u8981\u63d0\u53d6\u7684\u94fe\u63a5 callback\uff1a\u4ecelink_extractor\u4e2d\u6ca1\u83b7\u53d6\u94fe\u63a5\u65f6\uff0c\u53c2\u6570\u6240\u5236\u5b9a\u7684\u503c\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u56de\u8c03\u51fd\u6570\u63a5\u53d7\u4e00\u4e2aresponse\u4f5c\u4e3a\u8d77\u7b2c\u4e00\u4e2a\u53c2\u6570 \u6ce8\u610f\uff1a\u5f53\u7f16\u5199\u722c\u866b\u89c4\u5219\u662f\uff0c\u907f\u514d\u4f7f\u7528parse\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u3002\u7531\u4e8eCrawlSpider\u4f7f\u7528parse\u65b9\u6cd5\u6765\u5b9e\u73b0\u5176\u903b\u8f91\uff0c\u5982\u679c\u8986\u76d6\u4e86parse\u65b9\u6cd5\uff0cCrawlSpider\u5c06\u4f1a\u8fd0\u884c\u5931\u8d25 follow\uff1a\u662f\u4e00\u4e2a\u5e03\u5c14\u503c(boolean),\u5236\u5b9a\u4e86\u6839\u636e\u8be5\u89c4\u5219\u4eceresponse\u63d0\u53d6\u7684\u94fe\u63a5\u662f\u5076\u9700\u8981\u8ddf\u8fdb\u3002\u5982\u679ccallback\u4e3aNone\uff0cfollow\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aTrue\uff0c\u5426\u5219\u9ed8\u8ba4\u4e3aFlase process_links\uff1a\u6307\u5b9a\u8be5Spider\u4e2d\u90a3\u4e2a\u7684\u51fd\u6570\u5c06\u4f1a\u88ab\u8c03\u7528\uff0c\u4ecelink_extractor\u4e2d\u83b7\u53d6\u5230\u94fe\u63a5\u5217\u8868\u662f\u5c06\u4f1a\u8c03\u7528\u8be5\u51fd\u6570\u3002\u8be5\u65b9\u6cd5\u4e3b\u8981\u7528\u6765\u8fc7\u6ee4 process_request\uff1a\u6307\u5b9a\u8be5Spider\u4e2d\u90a3\u4e2a\u7684\u51fd\u6570\u5c06\u4f1a\u88ab\u8c03\u7528\uff0c\u8be5\u89c4\u5219\u63d0\u53d6\u5230\u6bcf\u4e2arequest\u662f\u90fd\u4f1a\u8c03\u7528\u8be5\u51fd\u6570\u3002(\u7528\u6765\u8fc7\u6ee4request) \u9664\u4e86\u4e0a\u8ff0\u7684\u8fd9\u4e9b\u5dee\u522b\uff0cCrawlspider \u548c spider \u57fa\u672c\u6ca1\u6709\u4ec0\u4e48\u5dee\u522b\u4e86\u3002","title":"Rule"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#crawlspider","text":"\u56e0\u4e3aCrawlSpider\u7ee7\u627f\u4e86Spider\uff0c\u6240\u4ee5\u5177\u6709Spider\u7684\u6240\u6709\u51fd\u6570\u3002 \u9996\u5148\u7531 start_requests \u5bf9 start_urls \u4e2d\u7684\u6bcf\u4e00\u4e2aurl\u53d1\u8d77\u8bf7\u6c42\uff08 make_requests_from_url )\uff0c\u8fd9\u4e2a\u8bf7\u6c42\u4f1a\u88abparse\u63a5\u6536\u3002\u5728Spider\u91cc\u9762\u7684parse\u9700\u8981\u6211\u4eec\u5b9a\u4e49\uff0c\u4f46CrawlSpider\u5b9a\u4e49 parse \u53bb\u89e3\u6790\u54cd\u5e94\uff08 self._parse_response(response, self.parse_start_url, cb_kwargs={}, follow=True) \uff09 _parse_response \u6839\u636e\u6709\u65e0 callback , follow \u548c self.follow_links \u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c eg: def _parse_response(self, response, callback, cb_kwargs, follow=True): ##\u5982\u679c\u4f20\u5165\u4e86callback\uff0c\u4f7f\u7528\u8fd9\u4e2acallback\u89e3\u6790\u9875\u9762\u5e76\u83b7\u53d6\u89e3\u6790\u5f97\u5230\u7684reques\u6216item if callback: cb_res = callback(response, **cb_kwargs) or () cb_res = self.process_results(response, cb_res) for requests_or_item in iterate_spider_output(cb_res): yield requests_or_item ## \u5176\u6b21\u5224\u65ad\u6709\u65e0follow\uff0c\u7528_requests_to_follow\u89e3\u6790\u54cd\u5e94\u662f\u5426\u6709\u7b26\u5408\u8981\u6c42\u7684link\u3002 if follow and self._follow_links: for request_or_item in self._requests_to_follow(response): yield request_or_item \u5176\u4e2d _requests_to_follow \u53c8\u4f1a\u83b7\u53d6 link_extractor \uff08\u8fd9\u4e2a\u662f\u6211\u4eec\u4f20\u5165\u7684LinkExtractor\uff09\u89e3\u6790\u9875\u9762\u5f97\u5230\u7684link \uff08link_extractor.extract_links(response)\uff09 ,\u5bf9url\u8fdb\u884c\u52a0\u5de5\uff08process_links\uff0c\u9700\u8981\u81ea\u5b9a\u4e49\uff09\uff0c\u5bf9\u7b26\u5408\u7684link\u53d1\u8d77Request\u3002\u4f7f\u7528 .process_request (\u9700\u8981\u81ea\u5b9a\u4e49\uff09\u5904\u7406\u54cd\u5e94\u3002","title":"CrawlSpider\u5982\u4f55\u5de5\u4f5c\u7684\uff1f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_66","text":"\u521b\u5efa\u9879\u76ee\uff1a scrapy startproject imgPro cd imgPro scrapy genspider img spider.img.py # -*- coding: utf-8 -*- from scrapy.spiders import CrawlSpider, Rule from scrapy.linkextractors import LinkExtractor import os class ImgSpider(CrawlSpider): name = 'img' # allowed_domains = [\"netbian.com\"] start_urls = ['http://www.daimg.com/pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87'] link = LinkExtractor(tags=['img'], attrs='src', deny_extensions=[''], ) link2 = LinkExtractor(allow=r'pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87') rules = ( Rule(link, callback=\"parse_item\", follow=False, ), Rule(link2, follow=True), ) def parse_item(self, response): p = os.path.join(\"imgs\", os.path.basename(response.url)) with open(p, 'wb') as f: f.write(response.body) print(f\"{p}\u4e0b\u8f7d\u5b8c\u6210\uff01\") \u6ce8\u610f\u4e8b\u9879\uff1a crawlspider\u722c\u866b\u9ed8\u8ba4\u7ee7\u627f\u4e86CrawlSpider\u7c7b\u3002 parse_item\u8868\u793acrawlspider\u722c\u866b\u7684\u6570\u636e\u63d0\u53d6\u51fd\u6570\uff0c\u5728crawlspider\u722c\u866b\u4e2d\u4e0d\u80fd\u7f16\u5199parse\u51fd\u6570\u3002parse\u51fd\u6570\u662f\u666e\u901a\u7c7b\u72ec\u6709\u7684\u3002 rules\u662f\u5143\u7ec4\u7c7b\u578b\uff0c\u5c0f\u62ec\u53f7\u540e\u9762\u5fc5\u987b\u52a0\u9017\u53f7\",\" scrapy genspider -t crawl \u722c\u866b\u540d \u53ef\u4ee5\u76f4\u63a5\u751f\u6210CrawlSpider\u7ed3\u6784\u7684\u6a21\u677f\u4ee3\u7801","title":"\u5168\u7ad9\u722c\u866b\u6848\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-scrapy_redis","text":"\u5206\u5e03\u5f0f\u722c\u866b\u662f\u6307\u5c06\u4e00\u4e2a\u5927\u578b\u7684\u722c\u866b\u4efb\u52a1\u5206\u89e3\u6210\u591a\u4e2a\u5b50\u4efb\u52a1\uff0c\u7531\u591a\u4e2a\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u591a\u53f0\u673a\u5668\u540c\u65f6\u6267\u884c\u7684\u4e00\u79cd\u722c\u866b\u65b9\u5f0f\u3002\u5728\u5206\u5e03\u5f0f\u722c\u866b\u4e2d\uff0c\u6bcf\u4e2a\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u673a\u5668\u90fd\u5177\u6709\u72ec\u7acb\u7684\u722c\u53d6\u80fd\u529b\uff0c\u53ef\u4ee5\u72ec\u7acb\u5730\u722c\u53d6\u6307\u5b9a\u7684\u7f51\u9875\u6216\u8005\u7f51\u7ad9\uff0c\u7136\u540e\u5c06\u722c\u53d6\u5230\u7684\u6570\u636e\u8fdb\u884c\u6c47\u603b\u548c\u5904\u7406\u3002 \u5206\u5e03\u5f0f\u722c\u866b\u76f8\u5bf9\u4e8e\u5355\u673a\u722c\u866b\u7684\u4f18\u52bf\u5728\u4e8e\uff1a \u9ad8\u6548\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u540c\u65f6\u722c\u53d6\u591a\u4e2a\u7f51\u9875\u6216\u8005\u7f51\u7ad9\uff0c\u4ece\u800c\u5927\u5927\u63d0\u9ad8\u722c\u53d6\u901f\u5ea6\u548c\u6548\u7387\u3002 \u53ef\u6269\u5c55\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u6839\u636e\u9700\u8981\u52a8\u6001\u5730\u6dfb\u52a0\u6216\u8005\u5220\u9664\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u673a\u5668\uff0c\u4ece\u800c\u9002\u5e94\u4e0d\u540c\u7684\u722c\u866b\u4efb\u52a1\u9700\u6c42\u3002 \u9ad8\u7a33\u5b9a\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u901a\u8fc7\u4efb\u52a1\u5206\u89e3\u548c\u6570\u636e\u5907\u4efd\u7b49\u673a\u5236\u4fdd\u8bc1\u4efb\u52a1\u7684\u8fde\u7eed\u6027\u548c\u7a33\u5b9a\u6027\u3002 \u9ad8\u53ef\u9760\u6027\uff1a\u5206\u5e03\u5f0f\u722c\u866b\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2a IP \u5730\u5740\u548c User-Agent \u7b49\u65b9\u5f0f\u6765\u9632\u6b62 IP \u88ab\u5c01\u9501\u3001\u53cd\u722c\u7b49\u95ee\u9898\u30021","title":"3. \u5206\u5e03\u5f0f\u722c\u866b(scrapy_redis)"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-scrapy-redis","text":"","title":"\uff081\uff09 scrapy-redis\u67b6\u6784"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#scheduler","text":"Scrapy\u6539\u9020\u4e86python\u672c\u6765\u7684collection.deque(\u53cc\u5411\u961f\u5217)\u5f62\u6210\u4e86\u81ea\u5df1\u7684Scrapy queue\uff0c\u4f46\u662fScrapy\u591a\u4e2aspider\u4e0d\u80fd\u5171\u4eab\u5f85\u722c\u53d6\u961f\u5217Scrapy queue\uff0c \u5373Scrapy\u672c\u8eab\u4e0d\u652f\u6301\u722c\u866b\u5206\u5e03\u5f0f\uff0cscrapy-redis \u7684\u89e3\u51b3\u662f\u628a\u8fd9\u4e2aScrapy queue\u6362\u6210 redis\u6570\u636e\u5e93 \uff08\u4e5f\u662f\u6307redis\u961f\u5217\uff09\uff0c\u4ece\u540c\u4e00\u4e2aredis-server\u5b58\u653e\u8981\u722c\u53d6\u7684request\uff0c\u4fbf\u80fd\u8ba9\u591a\u4e2aspider\u53bb\u540c\u4e00\u4e2a\u6570\u636e\u5e93\u91cc\u8bfb\u53d6\u3002 Scrapy\u4e2d\u8ddf\u201c\u5f85\u722c\u961f\u5217\u201d\u76f4\u63a5\u76f8\u5173\u7684\u5c31\u662f\u8c03\u5ea6\u5668Scheduler\uff0c\u5b83\u8d1f\u8d23\u5bf9\u65b0\u7684request\u8fdb\u884c\u5165\u5217\u64cd\u4f5c\uff08\u52a0\u5165Scrapy queue\uff09\uff0c\u53d6\u51fa\u4e0b\u4e00\u4e2a\u8981\u722c\u53d6\u7684request\uff08\u4eceScrapy queue\u4e2d\u53d6\u51fa\uff09\u7b49\u64cd\u4f5c\u3002\u5b83\u628a\u5f85\u722c\u961f\u5217\u6309\u7167\u4f18\u5148\u7ea7\u5efa\u7acb\u4e86\u4e00\u4e2a\u5b57\u5178\u7ed3\u6784\uff0c\u6bd4\u5982\uff1a { \u4f18\u5148\u7ea70 : \u961f\u52170 \u4f18\u5148\u7ea71 : \u961f\u52171 \u4f18\u5148\u7ea72 : \u961f\u52172 } \u7136\u540e\u6839\u636erequest\u4e2d\u7684\u4f18\u5148\u7ea7\uff0c\u6765\u51b3\u5b9a\u8be5\u5165\u54ea\u4e2a\u961f\u5217\uff0c\u51fa\u5217\u65f6\u5219\u6309\u4f18\u5148\u7ea7\u8f83\u5c0f\u7684\u4f18\u5148\u51fa\u5217\u3002\u4e3a\u4e86\u7ba1\u7406\u8fd9\u4e2a\u6bd4\u8f83\u9ad8\u7ea7\u7684\u961f\u5217\u5b57\u5178\uff0cScheduler\u9700\u8981\u63d0\u4f9b\u4e00\u7cfb\u5217\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u539f\u6765\u7684Scheduler\u5df2\u7ecf\u65e0\u6cd5\u4f7f\u7528\uff0c\u6240\u4ee5\u4f7f\u7528Scrapy-redis\u7684scheduler\u7ec4\u4ef6\u3002","title":"Scheduler"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#duplication-filter","text":"Scrapy\u4e2d\u7528\u96c6\u5408\u5b9e\u73b0\u8fd9\u4e2arequest\u53bb\u91cd\u529f\u80fd\uff0cScrapy\u4e2d\u628a\u5df2\u7ecf\u53d1\u9001\u7684request\u6307\u7eb9\u653e\u5165\u5230\u4e00\u4e2a\u96c6\u5408\u4e2d\uff0c\u628a\u4e0b\u4e00\u4e2arequest\u7684\u6307\u7eb9\u62ff\u5230\u96c6\u5408\u4e2d\u6bd4\u5bf9\uff0c\u5982\u679c\u8be5\u6307\u7eb9\u5b58\u5728\u4e8e\u96c6\u5408\u4e2d\uff0c\u8bf4\u660e\u8fd9\u4e2arequest\u53d1\u9001\u8fc7\u4e86\uff0c\u5982\u679c\u6ca1\u6709\u5219\u7ee7\u7eed\u64cd\u4f5c\u3002 \u5728scrapy-redis\u4e2d\u53bb\u91cd\u662f\u7531Duplication Filter\u7ec4\u4ef6\u6765\u5b9e\u73b0\u7684\uff0c\u5b83\u901a\u8fc7redis\u7684set \u4e0d\u91cd\u590d\u7684\u7279\u6027\uff0c\u5de7\u5999\u7684\u5b9e\u73b0\u4e86Duplication Filter\u53bb\u91cd\u3002scrapy-redis\u8c03\u5ea6\u5668\u4ece\u5f15\u64ce\u63a5\u53d7request\uff0c\u5c06request\u7684\u6307\u7eb9\u5b58\u2f0aredis\u7684set\u68c0\u67e5\u662f\u5426\u91cd\u590d\uff0c\u5e76\u5c06\u4e0d\u91cd\u590d\u7684request push\u5199\u2f0aredis\u7684 request queue\u3002 \u5f15\u64ce\u8bf7\u6c42request(Spider\u53d1\u51fa\u7684\uff09\u65f6\uff0c\u8c03\u5ea6\u5668\u4eceredis\u7684request queue\u961f\u5217\u2fa5\u91cc\u6839\u636e\u4f18\u5148\u7ea7pop \u51fa\u2f00\u4e2arequest \u8fd4\u56de\u7ed9\u5f15\u64ce\uff0c\u5f15\u64ce\u5c06\u6b64request\u53d1\u7ed9spider\u5904\u7406\u3002","title":"Duplication Filter"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#item-pipeline","text":"\u5f15\u64ce\u5c06(Spider\u8fd4\u56de\u7684)\u722c\u53d6\u5230\u7684Item\u7ed9Item Pipeline\uff0cscrapy-redis \u7684Item Pipeline\u5c06\u722c\u53d6\u5230\u7684 Item \u5b58\u2f0aredis\u7684 items queue\u3002 \u4fee\u6539\u8fc7Item Pipeline\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u6839\u636e key \u4ece items queue \u63d0\u53d6item\uff0c\u4ece\u2f7d\u5b9e\u73b0items processes\u96c6\u7fa4\u3002","title":"Item Pipeline"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#base-spider","text":"\u4e0d\u518d\u4f7f\u7528scrapy\u539f\u6709\u7684Spider\u7c7b\uff0c\u91cd\u5199\u7684RedisSpider\u7ee7\u627f\u4e86Spider\u548cRedisMixin\u8fd9\u4e24\u4e2a\u7c7b\uff0cRedisMixin\u662f\u7528\u6765\u4eceredis\u8bfb\u53d6url\u7684\u7c7b\u3002\u5f53\u6211\u4eec\u751f\u6210\u4e00\u4e2aSpider\u7ee7\u627fRedisSpider\u65f6\uff0c\u8c03\u7528setup_redis\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u53bb\u8fde\u63a5redis\u6570\u636e\u5e93\uff0c\u7136\u540e\u4f1a\u8bbe\u7f6esignals(\u4fe1\u53f7)\uff1a\u4e00\u4e2a\u662f\u5f53spider\u7a7a\u95f2\u65f6\u5019\u7684signal\uff0c\u4f1a\u8c03\u7528spider_idle\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u8c03\u7528schedule_next_request\u51fd\u6570\uff0c\u4fdd\u8bc1spider\u662f\u4e00\u76f4\u6d3b\u7740\u7684\u72b6\u6001\uff0c\u5e76\u4e14\u629b\u51faDontCloseSpider\u5f02\u5e38\u3002\u4e00\u4e2a\u662f\u5f53\u6293\u5230\u4e00\u4e2aitem\u65f6\u7684signal\uff0c\u4f1a\u8c03\u7528item_scraped\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u8c03\u7528schedule_next_request\u51fd\u6570\uff0c\u83b7\u53d6\u4e0b\u4e00\u4e2arequest\u3002","title":"Base Spider"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2scrapy-redis","text":"\u5047\u8bbe\u6709\u56db\u53f0\u7535\u8111\uff1aWindows 10\u3001Mac OS X\u3001Ubuntu 16.04\u3001CentOS 7.2\uff0c\u4efb\u610f\u4e00\u53f0\u7535\u8111\u90fd\u53ef\u4ee5\u4f5c\u4e3a Master\u7aef \u6216 Slaver\u7aef\uff0c\u6bd4\u5982\uff1a Master\u7aef(\u6838\u5fc3\u670d\u52a1\u5668) \uff1a\u4f7f\u7528 Windows 10\uff0c\u642d\u5efa\u4e00\u4e2aRedis\u6570\u636e\u5e93\uff0c\u4e0d\u8d1f\u8d23\u722c\u53d6\uff0c\u53ea\u8d1f\u8d23url\u6307\u7eb9\u5224\u91cd\u3001Request\u7684\u5206\u914d\uff0c\u4ee5\u53ca\u6570\u636e\u7684\u5b58\u50a8\u3002Slaver\u7aef(\u722c\u866b\u7a0b\u5e8f\u6267\u884c\u7aef) \uff1a\u4f7f\u7528 Mac OS X \u3001Ubuntu 16.04\u3001CentOS 7.2\uff0c\u8d1f\u8d23\u6267\u884c\u722c\u866b\u7a0b\u5e8f\uff0c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u63d0\u4ea4\u65b0\u7684Request\u7ed9Master\u3002 \u9996\u5148Slaver\u7aef\u4eceMaster\u7aef\u62ff\u4efb\u52a1\uff08Request\u3001url\uff09\u8fdb\u884c\u6570\u636e\u6293\u53d6\uff0cSlaver\u6293\u53d6\u6570\u636e\u7684\u540c\u65f6\uff0c\u4ea7\u751f\u65b0\u4efb\u52a1\u7684Request\u4fbf\u63d0\u4ea4\u7ed9 Master \u5904\u7406\uff1bMaster\u7aef\u53ea\u6709\u4e00\u4e2aRedis\u6570\u636e\u5e93\uff0c\u8d1f\u8d23\u5c06\u672a\u5904\u7406\u7684Request\u53bb\u91cd\u548c\u4efb\u52a1\u5206\u914d\uff0c\u5c06\u5904\u7406\u540e\u7684Request\u52a0\u5165\u5f85\u722c\u961f\u5217\uff0c\u5e76\u4e14\u5b58\u50a8\u722c\u53d6\u7684\u6570\u636e\u3002 Scrapy-Redis\u9ed8\u8ba4\u4f7f\u7528\u7684\u5c31\u662f\u8fd9\u79cd\u7b56\u7565\uff0c\u6211\u4eec\u5b9e\u73b0\u8d77\u6765\u5f88\u7b80\u5355\uff0c\u56e0\u4e3a\u4efb\u52a1\u8c03\u5ea6\u7b49\u5de5\u4f5cScrapy-Redis\u90fd\u5df2\u7ecf\u5e2e\u6211\u4eec\u505a\u597d\u4e86\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7ee7\u627fRedisSpider\u3001\u6307\u5b9aredis_key\u5c31\u884c\u4e86\u3002 \u7f3a\u70b9\u662f\uff0cScrapy-Redis\u8c03\u5ea6\u7684\u4efb\u52a1\u662fRequest\u5bf9\u8c61\uff0c\u91cc\u9762\u4fe1\u606f\u91cf\u6bd4\u8f83\u5927\uff08\u4e0d\u4ec5\u5305\u542burl\uff0c\u8fd8\u6709callback\u51fd\u6570\u3001headers\u7b49\u4fe1\u606f\uff09\uff0c\u53ef\u80fd\u5bfc\u81f4\u7684\u7ed3\u679c\u5c31\u662f\u4f1a\u964d\u4f4e\u722c\u866b\u901f\u5ea6\u3001\u800c\u4e14\u4f1a\u5360\u7528Redis\u5927\u91cf\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u6240\u4ee5\u5982\u679c\u8981\u4fdd\u8bc1\u6548\u7387\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4e00\u5b9a\u786c\u4ef6\u6c34\u5e73\u3002 from scrapy.linkextractors import LinkExtractor from scrapy.spiders import CrawlSpider, Rule from fbs2.items import DaImgItem from scrapy_redis.spiders import RedisCrawlSpider class DaimgSpider(RedisCrawlSpider): # \u6ce8\u610f\u8fd9\u91cc\u7684\u7ee7\u627f\u7c7b name = \"daimg\" # start_urls = ['http://www.daimg.com/pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87-0-0-0-0-0_1.html'] redis_key = 'daImgQueue' link = LinkExtractor(allow=r'pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87') rules = ( Rule(link, callback=\"parse_item\", follow=False, ), ) def parse_item(self, response): li_list = response.xpath('/html/body/div[5]/ul/li') for li in li_list: title = li.xpath('./a/img/@title').extract_first() src = li.xpath('./a/img/@src').extract_first() item = DaImgItem() item['img_name'] = title item['img_url'] = src print(\"item:::\", item) yield item \u6ce8\u610f\uff1a\u5982\u679c\u4e0d\u662f\u5168\u7ad9\u7684\u6df1\u5ea6\u722c\u866b\uff0c\u4ec5\u9700\u8981\u7ee7\u627fRedisSpider\uff0c\u6765\u81ea from scrapy_redis.spiders import RedisSpider settings.py # \u589e\u52a0\u4e86\u4e00\u4e2a\u53bb\u91cd\u5bb9\u5668\u7c7b\u7684\u914d\u7f6e, \u4f5c\u7528\u4f7f\u7528Redis\u7684set\u96c6\u5408\u6765\u5b58\u50a8\u8bf7\u6c42\u7684\u6307\u7eb9\u6570\u636e, \u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53bb\u91cd\u7684\u6301\u4e45\u5316 DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" # \u4f7f\u7528scrapy-redis\u7ec4\u4ef6\u81ea\u5df1\u7684\u8c03\u5ea6\u5668 SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" # \u914d\u7f6e\u8c03\u5ea6\u5668\u662f\u5426\u8981\u6301\u4e45\u5316, \u4e5f\u5c31\u662f\u5f53\u722c\u866b\u7ed3\u675f\u4e86, \u8981\u4e0d\u8981\u6e05\u7a7aRedis\u4e2d\u8bf7\u6c42\u961f\u5217\u548c\u53bb\u91cd\u6307\u7eb9\u7684set\u3002\u5982\u679c\u662fTrue, \u5c31\u8868\u793a\u8981\u6301\u4e45\u5316\u5b58\u50a8, \u5c31\u4e0d\u6e05\u7a7a\u6570\u636e, \u5426\u5219\u6e05\u7a7a\u6570\u636e SCHEDULER_PERSIST = True ITEM_PIPELINES = { 'scrapy_redis.pipelines.RedisPipeline': 400 } REDIS_HOST = '127.0.0.1' REDIS_PORT = 6379 # REDIS_ENCODING = \u2018utf-8\u2019 # REDIS_PARAMS = {\"password\":\"123456\"} \u5728 Scrapy-Redis \u5206\u5e03\u5f0f\u722c\u866b\u4e2d\uff0cRedis \u8d77\u5230\u4e86\u4ee5\u4e0b\u4f5c\u7528\uff1a \u4efb\u52a1\u8c03\u5ea6\u548c\u5206\u914d\uff1aScrapy-Redis \u4f7f\u7528 Redis \u6570\u636e\u5e93\u5b9e\u73b0\u4e86\u591a\u53f0\u673a\u5668\u4e4b\u95f4\u7684\u4efb\u52a1\u8c03\u5ea6\u548c\u5206\u914d\uff0c\u901a\u8fc7 Redis \u4e2d\u7684\u961f\u5217\u6765\u5b58\u50a8\u5f85\u722c\u53d6\u7684 URL\u3001\u8bf7\u6c42\u548c\u722c\u53d6\u72b6\u6001\u7b49\u4fe1\u606f\uff0c\u4ece\u800c\u5b9e\u73b0\u591a\u4e2a\u722c\u866b\u8fdb\u7a0b\u6216\u8005\u673a\u5668\u4e4b\u95f4\u7684\u4efb\u52a1\u5206\u914d\u548c\u8c03\u5ea6\u3002 URL \u7ba1\u7406\uff1aScrapy-Redis \u4f7f\u7528 Redis \u6570\u636e\u5e93\u6765\u5b58\u50a8\u5f85\u722c\u53d6\u7684 URL \u961f\u5217\u548c\u5df2\u7ecf\u722c\u53d6\u8fc7\u7684 URL \u96c6\u5408\uff0c\u4ece\u800c\u907f\u514d\u4e86\u722c\u866b\u4efb\u52a1\u7684\u91cd\u590d\u6267\u884c\u548c\u51b2\u7a81\u95ee\u9898\u3002 \u6570\u636e\u5b58\u50a8\uff1aScrapy-Redis \u53ef\u4ee5\u5c06\u722c\u53d6\u5230\u7684\u6570\u636e\u5b58\u50a8\u5230 Redis \u6570\u636e\u5e93\u4e2d\uff0c\u4ece\u800c\u5b9e\u73b0\u5206\u5e03\u5f0f\u6570\u636e\u5b58\u50a8\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u5355\u673a\u5b58\u50a8\u9020\u6210\u7684\u6570\u636e\u91cf\u8fc7\u5927\u548c\u5b58\u50a8\u901f\u5ea6\u6162\u7684\u95ee\u9898\u3002 \u72b6\u6001\u5171\u4eab\uff1aScrapy-Redis \u4f7f\u7528 Redis \u6570\u636e\u5e93\u4f5c\u4e3a\u72b6\u6001\u5b58\u50a8\uff0c\u4ece\u800c\u5b9e\u73b0\u591a\u53f0\u673a\u5668\u4e4b\u95f4\u7684\u72b6\u6001\u5171\u4eab\u3002\u5f53\u4e00\u4e2a\u722c\u866b\u8fdb\u7a0b\u722c\u53d6\u4e86\u4e00\u4e2a URL \u540e\uff0c\u5b83\u53ef\u4ee5\u5c06\u722c\u866b\u72b6\u6001\u4fdd\u5b58\u5230 Redis \u6570\u636e\u5e93\u4e2d\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece Redis \u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u8be5\u72b6\u6001\u3002 \u5f00\u542f\u591a\u4e2aslaver\u7aef\uff1a scrapy crawl daming \u542f\u52a8Master\u7aef\uff1a # redis-cli # flushall # lpush daImgQueue http://www.daimg.com/pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87-0-0-0-0-0_1.html - \u7f16\u7801\u6d41\u7a0b\uff1a 1.\u521b\u5efa\u5de5\u7a0b 2.cd proName 3.\u521b\u5efacrawlspider\u7684\u722c\u866b\u6587\u4ef6 4.\u4fee\u6539\u4e00\u4e0b\u722c\u866b\u7c7b\uff1a - \u5bfc\u5305\uff1afrom scrapy_redis.spiders import RedisCrawlSpider - \u4fee\u6539\u5f53\u524d\u722c\u866b\u7c7b\u7684\u7236\u7c7b\uff1aRedisCrawlSpider - allowed_domains\u548cstart_urls\u5220\u9664 - \u6dfb\u52a0\u4e00\u4e2a\u65b0\u5c5e\u6027\uff1aredis_key = 'xxxx'\u53ef\u4ee5\u88ab\u5171\u4eab\u7684\u8c03\u5ea6\u5668\u961f\u5217\u7684\u540d\u79f0 5.\u4fee\u6539\u914d\u7f6esettings.py - \u6307\u5b9a\u7ba1\u9053 ITEM_PIPELINES = { 'scrapy_redis.pipelines.RedisPipeline': 400 } - \u6307\u5b9a\u8c03\u5ea6\u5668 # \u589e\u52a0\u4e86\u4e00\u4e2a\u53bb\u91cd\u5bb9\u5668\u7c7b\u7684\u914d\u7f6e, \u4f5c\u7528\u4f7f\u7528Redis\u7684set\u96c6\u5408\u6765\u5b58\u50a8\u8bf7\u6c42\u7684\u6307\u7eb9\u6570\u636e, \u4ece\u800c\u5b9e\u73b0\u8bf7\u6c42\u53bb\u91cd\u7684\u6301\u4e45\u5316 DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\" # \u4f7f\u7528scrapy-redis\u7ec4\u4ef6\u81ea\u5df1\u7684\u8c03\u5ea6\u5668 SCHEDULER = \"scrapy_redis.scheduler.Scheduler\" # \u914d\u7f6e\u8c03\u5ea6\u5668\u662f\u5426\u8981\u6301\u4e45\u5316, \u4e5f\u5c31\u662f\u5f53\u722c\u866b\u7ed3\u675f\u4e86, \u8981\u4e0d\u8981\u6e05\u7a7aRedis\u4e2d\u8bf7\u6c42\u961f\u5217\u548c\u53bb\u91cd\u6307\u7eb9\u7684set\u3002 # \u5982\u679c\u662fTrue, \u5c31\u8868\u793a\u8981\u6301\u4e45\u5316\u5b58\u50a8, \u5c31\u4e0d\u6e05\u7a7a\u6570\u636e, \u5426\u5219\u6e05\u7a7a\u6570\u636e SCHEDULER_PERSIST = True - \u6307\u5b9aredis\u6570\u636e\u5e93 REDIS_HOST = 'redis\u670d\u52a1\u7684ip\u5730\u5740' REDIS_PORT = 6379 6.\u914d\u7f6eredis\u6570\u636e\u5e93\uff08redis.windows.conf\uff09 - \u5173\u95ed\u9ed8\u8ba4\u7ed1\u5b9a - 56Line\uff1a#bind 127.0.0.1 - \u5173\u95ed\u4fdd\u62a4\u6a21\u5f0f - 75line\uff1aprotected-mode no 7.\u542f\u52a8redis\u670d\u52a1\uff08\u643a\u5e26\u914d\u7f6e\u6587\u4ef6\uff09\u548c\u5ba2\u6237\u7aef - redis-server.exe redis.windows.conf - redis-cli 8.\u6267\u884c\u5de5\u7a0b - scrapy runspider spider.py 9.\u5c06\u8d77\u59cb\u7684url\u4ecd\u5165\u5230\u53ef\u4ee5\u88ab\u5171\u4eab\u7684\u8c03\u5ea6\u5668\u7684\u961f\u5217\uff08sun\uff09\u4e2d - \u5728redis-cli\u4e2d\u64cd\u4f5c\uff1alpush sun www.xxx.com 10.redis: - xxx:items:\u5b58\u50a8\u7684\u5c31\u662f\u722c\u53d6\u5230\u7684\u6570\u636e","title":"\uff082\uff09Scrapy-Redis\u5206\u5e03\u5f0f\u7b56\u7565"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#js","text":"https://developer.mozilla.org/zh-CN/docs/Web/API/Window","title":"\u7b2c\u4e5d\u7ae0. JS\u8fdb\u9636"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#91js","text":"","title":"9.1\u3001JS\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_22","text":"","title":"1. \u5b57\u7b26\u4e32\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_17","text":"","title":"2. \u6570\u7ec4\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-object","text":"","title":"3. object\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4-date","text":"\u521b\u5efaDate\u5bf9\u8c61: var now=new Date(); console.log(now.toLocaleString( )); /* \u83b7\u53d6\u65e5\u671f\u548c\u65f6\u95f4 now.getDate() \u83b7\u53d6\u65e5 now.getDay () \u83b7\u53d6\u661f\u671f now.getMonth () \u83b7\u53d6\u6708\uff080-11\uff09 now.getFullYear () \u83b7\u53d6\u5b8c\u6574\u5e74\u4efd now.getYear () \u83b7\u53d6\u5e74 now.getHours () \u83b7\u53d6\u5c0f\u65f6 now.getMinutes () \u83b7\u53d6\u5206\u949f now.getSeconds () \u83b7\u53d6\u79d2 now.getMilliseconds () \u83b7\u53d6\u6beb\u79d2 now.getTime () \u8fd4\u56de\u7d2f\u8ba1\u6beb\u79d2\u6570(\u4ece1970/1/1\u5348\u591c)*/","title":"4. Date\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5-math","text":"// Number\u5bf9\u8c61\u7684\u5185\u7f6e\u65b9\u6cd5 // toFixed(x) \u4fdd\u7559\u5c0f\u6570\u4f4d var num = 100.3; var ret = num.toFixed(2); console.log(num); // 100.3 console.log(ret); // 100.30 // Math\u5bf9\u8c61\u7684\u5185\u7f6e\u65b9\u6cd5 // abs(x) \u8fd4\u56de\u6570\u503c\u7684\u7edd\u5bf9\u503c // var num = -10; console.log( Math.abs(num) ); // 10 // ceil(x) \u5411\u4e0a\u53d6\u6574 var num = 10.3; console.log( Math.ceil(num) ); // 11 // floor(x) \u5411\u4e0b\u53d6\u6574 var num = 10.3; console.log( Math.floor(num) ); // 10 // max(x,y,z,...,n) console.log( Math.max(3,56,3) ); // 56 // min(x,y,z,...,n) // pow(x,y) console.log(Math.pow(3, 2)); // \u76f8\u7b49\u4e8e 3**2 console.log( 3**2 ); // \u4f7f\u7528\u8fd9\u4e2a,\u4e0a\u9762\u5e9f\u5f03 // random() \u751f\u62100-1\u968f\u673a\u6570 console.log(Math.random()); // \u751f\u62100-10\u4e4b\u95f4\u7684\u6570\u503c console.log( Math.random() * 10 ); // round(x) \u56db\u820d\u4e94\u5165 // \u751f\u62100-10\u4e4b\u95f4\u7684\u6574\u6570 console.log( Math.round( Math.random() * 10 ) ); \u7ec3\u4e60\uff1a\u83b7\u53d61-100\u7684\u968f\u673a\u6574\u6570\uff0c\u5305\u62ec1\u548c100 js var num=Math.random(); num=num*100; num=Math.round(num); console.log(num)","title":"5. Math\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#6-function","text":"","title":"6. Function\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_23","text":"\u4f5c\u7528\u57df\u662fJavaScript\u6700\u91cd\u8981\u7684\u6982\u5ff5\u4e4b\u4e00\uff0c\u60f3\u8981\u5b66\u597dJavaScript\u5c31\u9700\u8981\u7406\u89e3JavaScript\u4f5c\u7528\u57df\u548c\u4f5c\u7528\u57df\u94fe\u7684\u5de5\u4f5c\u539f\u7406\u3002 \u4efb\u4f55\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u90fd\u6709\u4f5c\u7528\u57df\u7684\u6982\u5ff5\uff0c\u7b80\u5355\u7684\u8bf4\uff0c\u4f5c\u7528\u57df\u5c31\u662f\u53d8\u91cf\u4e0e\u51fd\u6570\u7684\u53ef\u8bbf\u95ee\u8303\u56f4\uff0c\u5373\u4f5c\u7528\u57df\u63a7\u5236\u7740\u53d8\u91cf\u4e0e\u51fd\u6570\u7684\u53ef\u89c1\u6027\u548c\u751f\u547d\u5468\u671f\u3002\u5728JavaScript\u4e2d\uff0c\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u6709\u5168\u5c40\u4f5c\u7528\u57df\u548c\u5c40\u90e8\u4f5c\u7528\u57df\u4e24\u79cd\u3002 \u5c40\u90e8\u53d8\u91cf,\u662f\u5728\u51fd\u6570\u5185\u90e8\u58f0\u660e,\u5b83\u7684\u751f\u547d\u5468\u671f\u5728\u5f53\u524d\u51fd\u6570\u88ab\u8c03\u7528\u7684\u65f6\u5019, \u5f53\u51fd\u6570\u8c03\u7528\u5b8c\u6bd5\u4ee5\u540e,\u5219\u5185\u5b58\u4e2d\u81ea\u52a8\u9500\u6bc1\u5f53\u524d\u53d8\u91cf. \u5168\u5c40\u53d8\u91cf,\u662f\u5728\u51fd\u6570\u5916\u90e8\u58f0\u660e,\u5b83\u7684\u751f\u547d\u5468\u671f\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u88ab\u58f0\u660e\u4ee5\u540e\u5c31\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d,\u76f4\u5230\u5f53\u524d\u6587\u4ef6\u6267\u884c\u5b8c\u6bd5\u4ee5\u540e,\u624d\u4f1a\u88ab\u5185\u5b58\u9500\u6bc1\u6389\u3002 // \u9996\u5148\u719f\u6089\u4e0bvar var name = \"yuan\"; // \u58f0\u660e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf name\u5e76\u8d4b\u503c\u201dyuan\u201c name = \"\u5f20\u4e09\"; // \u5bf9\u5df2\u7ecf\u5b58\u5728\u7684\u53d8\u91cfname\u91cd\u65b0\u8d4b\u503c \u201d\u5f20\u4e09\u201c console.log(name); age = 18 // \u4e4b\u524d\u4e0d\u5b58\u5728age\u53d8\u91cf\uff0c\u8fd9\u91cc\u7b49\u540c\u4e8evar age = 19 \u5373\u58f0\u660e\u5168\u5c40\u53d8\u91cfage\u5e76\u8d4b\u503c\u4e3a18 var gender = \"male\" var gender = \"female\" // \u539f\u5185\u5b58\u91ca\u653e\u4e0e\u65b0\u5185\u5b58\u5f00\u8f9f\uff0c\u6307\u9488\u6307\u5411\u65b0\u5f00\u8f9f\u7684\u5185\u5b58 console.log(gender) \u4f5c\u7528\u57df\u6848\u4f8b\uff1a var num = 10; // \u5728\u51fd\u6570\u5916\u90e8\u58f0\u660e\u7684\u53d8\u91cf, \u5168\u5c40\u53d8\u91cf function func(){ // num = 20; // \u51fd\u6570\u5185\u90e8\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf,\u5219\u9ed8\u8ba4\u8c03\u7528\u4e86\u5168\u5c40\u7684\u53d8\u91cf, //var num = 20; // \u51fd\u6570\u5185\u90e8\u4f7f\u7528var \u6216\u8005 let\u58f0\u660e\u7684\u53d8\u91cf\u5219\u662f\u5c40\u90e8\u53d8\u91cf // \u51fd\u6570\u5185\u90e8\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf,\u5219\u9ed8\u8ba4\u8c03\u7528\u4e86\u5168\u5c40\u7684\u53d8\u91cf, // \u4f7f\u7528\u53d8\u91cf\u7684\u65f6\u5019,\u89e3\u91ca\u5668\u4f1a\u5728\u5f53\u524d\u82b1\u62ec\u53f7\u8303\u56f4\u503c\u641c\u7d22\u662f\u5426\u6709\u5173\u952e\u5b57var \u6216\u8005 let \u58f0\u660e\u4e86\u53d8\u91cf,\u5982\u679c\u6ca1\u6709,\u5219\u4e00\u5c42\u4e00\u5c42\u5f80\u5916\u67e5\u627e \u6700\u8fd1\u7684\u58f0\u660e // \u5982\u679c\u6700\u7ec8\u67e5\u627e\u4e0d\u5230,\u5219\u76f4\u63a5\u62a5\u9519! \u53d8\u91cf\u540d is not define! console.log(\"\u51fd\u6570\u5185\u90e8num\uff1a\",num) } func(); console.log(\"\u5168\u5c40num\uff1a\",num);","title":"(1) \u51fd\u6570\u4f5c\u7528\u57df"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_18","text":"\u533f\u540d\u51fd\u6570\uff0c\u5373\u6ca1\u6709\u53d8\u91cf\u540d\u7684\u51fd\u6570\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u9891\u7387\u975e\u5e38\u9ad8\uff01\u4e5f\u662f\u5b66\u597dJS\u7684\u91cd\u70b9\u3002 // \u533f\u540d\u51fd\u6570\u8d4b\u503c\u53d8\u91cf var foo = function () { console.log(\"\u8fd9\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff01\") }; // \u533f\u540d\u51fd\u6570\u7684\u81ea\u6267\u884c (function (x,y) { console.log(x+y); })(2,3) // \u533f\u540d\u51fd\u6570\u4f5c\u4e3a\u4e00\u4e2a\u9ad8\u9636\u51fd\u6570\u4f7f\u7528 function bar() { return function () { console.log(\"inner\u51fd\u6570\uff01\") } } bar()()","title":"(2) \u533f\u540d\u51fd\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_17","text":"\u95ed\u5305\uff08closures\uff09\u662f Javascript \u8bed\u8a00\u7684\u4e00\u4e2a\u96be\u70b9\uff0c\u4e5f\u662f\u5b83\u7684\u7279\u8272\uff0c\u5f88\u591a\u9ad8\u7ea7\u5e94\u7528\u90fd\u662f\u4f9d\u9760\u95ed\u5305\u5b9e\u73b0\u7684\u3002\u95ed\u5305\u4e0e\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u4ee5\u53ca\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u5bc6\u5207\u76f8\u5173\uff0c\u672c\u8282\u6211\u4eec\u5c31\u6765\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002 \u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\uff0c\u95ed\u5305\uff08\u82f1\u8bed\uff1aClosure\uff09\uff0c\u53c8\u79f0\u8bcd\u6cd5\u95ed\u5305\uff08Lexical Closure\uff09\u6216\u51fd\u6570\u95ed\u5305\uff08function closures\uff09\uff0c\u662f\u5f15\u7528\u4e86\u81ea\u7531\u53d8\u91cf\uff08\u5916\u90e8\u975e\u5168\u5c40\uff09\u7684\u51fd\u6570\u3002 \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e2d\u5f15\u7528\u4e86\u51fd\u6570\u5916\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u8be5\u51fd\u6570\u53ef\u4ee5\u5728\u5176\u5b9a\u4e49\u73af\u5883\u5916\u88ab\u6267\u884c\u3002\u8fd9\u6837\u7684\u4e00\u4e2a\u51fd\u6570\u6211\u4eec\u79f0\u4e4b\u4e3a\u95ed\u5305\u51fd\u6570\u3002 \u6211\u4eec\u5148\u770b\u4e00\u6bb5\u4ee3\u7801\u3002 <script> var key = \"123456\" function foo(){ console.log(key) } </script> <script> var key = \"abcdefg\" function bar(){ console.log(key) } </script> <script src=\"test01.js\"></script> <script src=\"test02.js\"></script> \u8fd9\u5c31\u662f \u5168\u5c40\u53d8\u91cf\u6c61\u67d3 \u5f88\u660e\u663e, \u867d\u7136\u5404\u81eajs\u5728\u7f16\u5199\u65f6\u662f\u5206\u5f00\u7684. \u4f46\u662f\u5728\u8fd0\u884c\u65f6, \u662f\u5728\u540c\u4e00\u4e2a\u7a7a\u95f4\u5185\u6267\u884c\u7684. \u4ed6\u4eec\u62e5\u6709\u76f8\u540c\u7684\u4f5c\u7528\u57df. \u6b64\u65f6\u7684\u53d8\u91cf\u52bf\u5fc5\u662f\u975e\u5e38\u975e\u5e38\u4e0d\u5b89\u5168\u7684. \u90a3\u4e48\u5982\u4f55\u6765\u89e3\u51b3\u5462? \u6ce8\u610f, \u5728js\u91cc. \u53d8\u91cf\u662f\u6709\u4f5c\u7528\u57df\u7684. \u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u53d8\u91cf\u7684\u58f0\u660e\u548c\u4f7f\u7528\u662f\u6709\u8303\u56f4\u7684. \u4e0d\u662f\u65e0\u9650\u7684. \u8fd9\u4e00\u70b9, \u5f88\u5bb9\u6613\u9a8c\u8bc1. function fn(){ let love = \"\u7231\u5440\" } fn() console.log(love) \u76f4\u63a5\u5c31\u62a5\u9519\u4e86. \u4e5f\u5c31\u662f\u8bf4. \u5728js\u91cc\u662f\u6709\u5168\u5c40\u548c\u5c40\u90e8\u7684\u6982\u5ff5\u7684. \u76f4\u63a5\u58f0\u660e\u5728\u6700\u5916\u5c42\u7684\u53d8\u91cf\u5c31\u662f\u5168\u5c40\u53d8\u91cf. \u6240\u6709\u51fd\u6570, \u6240\u6709\u4ee3\u7801\u5757\u90fd\u53ef\u4ee5\u5171\u4eab\u7684. \u4f46\u662f\u53cd\u8fc7\u6765\u5c31\u4e0d\u662f\u4e86. \u5728\u51fd\u6570\u5185\u548c\u4ee3\u7801\u5757\u5185\u58f0\u660e\u7684\u53d8\u91cf. \u5c24\u5176\u662f\u51fd\u6570\u5185. \u58f0\u660e\u51fa\u6765\u7684\u53d8\u91cf\u5b83\u662f\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf. \u5916\u754c\u662f\u65e0\u6cd5\u8fdb\u884c\u8bbf\u95ee\u7684\uff0c\u5373\u51fd\u6570\u662f\u53ef\u4ee5\u5f00\u8f9f\u72ec\u7acb\u7684\u4f5c\u7528\u57df\u73af\u5883\u7684\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\u6765\u7ed9\u6bcf\u4e2a\u529f\u80fd\u811a\u672c\u521b\u5efa\u4e00\u4e2a\u5c40\u90e8\u7a7a\u95f4. \u5c31\u50cf\u8fd9\u6837\uff1a <script> var f = (function () { let key = \"123456\" function foo() { return key } return foo })() </script> <script> var b = (function () { let key = \"abcdefg\" function bar() { return key } return bar })() </script> html\u91cc\u9762\u4f7f\u7528\u65f6: <script src=\"test01.js\"></script> <script src=\"test02.js\"></script> <script> console.log(f()) console.log(b()) </script>","title":"(3) \u95ed\u5305\u51fd\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4-prototype","text":"\u6848\u4f8b1: // \u521b\u5efa\u65b9\u5f0f1 var foo = new Function(\"console.log('hello world!')\") foo() // \u521b\u5efa\u65b9\u5f0f2 function Person() { console.log(\"hello person\") } var p1 = Person() console.log(p1) var p2 = new Person() console.log(p2)","title":"(4) prototype \u539f\u578b\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#js_1","text":"prototype(\u539f\u578b\u5bf9\u8c61)\u5c31\u662f\u4e00\u4e2a\u5bb9\u5668. {} \u5b58\u653e\u516c\u5171\u7684\u65b9\u6cd5\u7ed9\u5bf9\u8c61\u4f7f\u7528. \u5bf9\u8c61\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u539f\u578b\u5bf9\u8c61\u4e2d\u7684\u65b9\u6cd5\u548c\u5c5e\u6027. \u539f\u578b\u5bf9\u8c61\u7c7b\u4f3cPython\u7684\u7c7b\u5bf9\u8c61\uff08fn.prototype\uff09","title":"\u4ec0\u4e48\u662fJS\u539f\u578b\u5bf9\u8c61?"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_67","text":"\u6bcf\u4e2a\u51fd\u6570\u90fd\u4f1a\u6709\u4e00\u4e2a prototype \u5c5e\u6027,\u6307\u5411\u539f\u578b\u5bf9\u8c61. \u6bcf\u4e2a\u539f\u578b\u5bf9\u8c61\u90fd\u4f1a\u6709\u4e00\u4e2a constructor \u5c5e\u6027,\u6307\u5411\u51fd\u6570. \u603b\u7ed3:\u6bcf\u4e2a\u51fd\u6570\u4e0e\u539f\u578b\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u662f \u4e92\u76f8\u5f15\u7528 .","title":"\u539f\u578b\u5bf9\u8c61\u548c\u51fd\u6570\u4e4b\u95f4\u7684\u5173\u7cfb."},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#_68","text":"\u51fd\u6570\u521b\u5efa\u5bf9\u8c61 var o = new Fn(); \u5bf9\u8c61\u901a\u8fc7 __proto__ \u5c5e\u6027,\u6307\u5411\u539f\u578b\u5bf9\u8c61. \u5bf9\u8c61\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u539f\u578b\u5bf9\u8c61\u4e2d\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5. \u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7\u539f\u578b\u5bf9\u8c61\u4e2d\u7684constructor\u5c5e\u6027\u77e5\u9053\u6784\u9020\u51fd\u6570 \u603b\u7ed3: \u539f\u578b\u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a\u5bb9\u5668,\u5e2e\u52a9\u51fd\u6570\u5b58\u653e\u516c\u5171\u65b9\u6cd5,\u4ee5\u53ca\u7ed9\u51fd\u6570new\u51fa\u6765\u7684\u5bf9\u8c61\u63d0\u4f9b\u516c\u5171\u65b9\u6cd5\u4f7f\u7528. function Dog(name, age) { this.name = name;//\u9762\u8bd5\u9898\uff1a\u6784\u9020\u51fd\u6570\u4e2d\u7684this\u6307\u5411\u8c01\uff1f \u7b54\uff1a\u6307\u5411new\u521b\u5efa\u7684\u5bf9\u8c61 this.age = age; this.sleep = function () { console.log(\"sleeping\") } } // Dog(\"rain\",12) // \u666e\u901a\u51fd\u6570 //\u6784\u9020\u51fd\u6570 let alex = new Dog(\"alex\", 36); // \u4f7f\u7528new\u6765\u521b\u5efa\u5bf9\u8c61 let eric = new Dog(\"eric\", 35); // \u4f7f\u7528new\u6765\u521b\u5efa\u5bf9\u8c61 // (1) \u51fd\u6570\u5bf9\u8c61\u901a\u8fc7prototype\u5bb9\u5668\u8bbe\u7f6e\u516c\u5171\u5c5e\u6027\u548c\u65b9\u6cd5 Dog.prototype.eat = function (food) { console.log(this.name +\"\u5403\"+ food); } alex.eat(\"\u5403\u9aa8\u5934\") eric.eat(\"\u5403\u8089\") // (2) \u5bf9\u8c61\u901a\u8fc7`__proto__`\u5c5e\u6027,\u6307\u5411\u539f\u578b\u5bf9\u8c61 console.log(alex.__proto__) console.log(alex.__proto__.constructor.name) console.log(alex.__proto__.constructor) // \u770b\u770b\u80fd\u4e0d\u80fd\u7406\u89e3 console.log(alex.__proto__ === Dog.prototype) console.log(Dog.prototype) alex.age = 100 console.log(alex.age) // \u5148\u67e5\u627e\u81ea\u5df1\u7684\u7a7a\u95f4\uff0c\u627e\u4e0d\u5230\uff0c\u53bb\u539f\u578b\u4e2d\u627e console.log(eric.age) // \u731c\u4e00\u731c1 Dog.prototype.sleep =function (){ console.log(\"prototype sleeping\") } alex.sleep() // \u731c\u4e00\u731c2 let zhangSan = new Dog(\"\u5f20\u4e09\", 35); Dog.prototype = { fly:function (){ console.log(\"flying...\") } } // let zhangSan = new Dog(\"\u5f20\u4e09\", 35); // zhangSan.fly() zhangSan.eat(\"\u8fa3\u6761\")","title":"\u5bf9\u8c61\u548c\u539f\u578b\u5bf9\u8c61\u548c\u51fd\u6570\u4e4b\u95f4\u7684\u5173\u7cfb"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5-callapply","text":"call\uff0capply\u90fd\u5c5e\u4e8eFunction.prototype\u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5b83\u662fJavaScript\u5f15\u64ce\u5185\u5728\u5b9e\u73b0\u7684\uff0c\u56e0\u4e3a\u5c5e\u4e8eFunction.prototype\uff0c\u6240\u4ee5\u6bcf\u4e2aFunction\u5bf9\u8c61\u5b9e\u4f8b(\u5c31\u662f\u6bcf\u4e2a\u65b9\u6cd5)\u90fd\u6709call\uff0capply\u5c5e\u6027\u3002\u65e2\u7136\u4f5c\u4e3a\u65b9\u6cd5\u7684\u5c5e\u6027\uff0c\u90a3\u5b83\u4eec\u7684\u4f7f\u7528\u5c31\u5f53\u7136\u662f\u9488\u5bf9\u65b9\u6cd5\u7684\u4e86\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u662f\u5bb9\u6613\u6df7\u6dc6\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u7684\u4f5c\u7528\u4e00\u6837\uff0c\u53ea\u662f\u4f7f\u7528\u65b9\u5f0f\u4e0d\u540c\u3002 foo.call(this, arg1,arg2,arg3) == foo.apply(this, arguments) == this.foo(arg1, arg2, arg3); \u6848\u4f8b1: function Person(name, age) { this.name = name this.age = age } Person.prototype.eat = function () { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") } p = new Person(\"yuan\", 22) p.eat() \u6848\u4f8b2: function Person(name, age) { this.name = name this.age = age } p = new Person(\"yuan\", 22) function eat () { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") } eat.call(p) \u6848\u4f8b3: function Person(name, age) { this.name = name this.age = age } p = new Person(\"yuan\", 22) function eat () { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") } eat.call(p) eat.apply(p) \u5982\u679ccall\u548capply\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5199\u7684\u662fnull\uff0c\u90a3\u4e48this\u6307\u5411\u7684\u662fwindow\u5bf9\u8c61 \u6848\u4f8b4: function Person(name, age) { this.name = name this.age = age } p = new Person(\"yuan\", 22) function eat(a, b, c) { console.log(this.name + \"\u6b63\u5728\u5403\u4e1c\u897f\") console.log(a, b, c) } eat.call(p, \"1\", \"2\", \"3\") eat.apply(p, [\"1\", \"2\", \"3\"]) // apply\u4f20\u9012\u591a\u4e2a\u53c2\u6570\u7684\u65f6\u5019\u7b2c\u4e8c\u4e2a\u53c2\u6570\u9700\u8981\u4f20\u9012\u4e00\u4e2a\u6570\u7ec4","title":"(5) call\u548capply\u65b9\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#7-window","text":"window \u662f\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\u7684\u57fa\u7c7b\uff0cwindow \u5bf9\u8c61\u662f\u5ba2\u6237\u7aef JavaScript \u7684\u5168\u5c40\u5bf9\u8c61\u3002\u4e00\u4e2a window \u5bf9\u8c61\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u7a97\u53e3\uff0c\u5bf9\u4e8e\u6846\u67b6\u9875\u9762\u6765\u8bf4\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u6bcf\u4e2a\u6846\u67b6\u90fd\u5305\u542b\u4e00\u4e2a window \u5bf9\u8c61\u3002","title":"7. window\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_24","text":"\u5728\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u4e2d\uff0cwindow \u5bf9\u8c61\u662f\u8bbf\u95ee BOM \u7684\u63a5\u53e3\uff0c\u5982\u5f15\u7528 document \u5bf9\u8c61\u7684 document \u5c5e\u6027\uff0c\u5f15\u7528\u81ea\u8eab\u7684 window \u548c self \u5c5e\u6027\u7b49\u3002\u540c\u65f6 window \u4e5f\u4e3a\u5ba2\u6237\u7aef JavaScript \u63d0\u4f9b\u5168\u5c40\u4f5c\u7528\u57df\u3002 \u7531\u4e8e window \u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u6b64\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\u90fd\u88ab\u89e3\u6790\u4e3a\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 <script> var username = \"yuanhao\"; //\u5168\u5c40\u53d8\u91cf function f() { //\u5168\u5c40\u51fd\u6570 console.log(username); } console.log(window.username); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d window.f(); //\u8fd4\u56de\u5b57\u7b26\u4e32\u201cyuanhao\u201d </script>","title":"\uff081\uff09\u5168\u5c40\u4f5c\u7528\u57df"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_19","text":"window \u5bf9\u8c61\u5b9a\u4e49\u4e86 3 \u4e2a\u4eba\u673a\u4ea4\u4e92\u7684\u65b9\u6cd5\uff0c\u4e3b\u8981\u65b9\u4fbf\u5bf9 JavaScript \u4ee3\u7801\u8fdb\u884c\u8c03\u8bd5\u3002 alert()\uff1a\u786e\u5b9a\u63d0\u793a\u6846\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\u3002\u8be5\u65b9\u6cd5\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 confirm()\uff1a\u9009\u62e9\u63d0\u793a\u6846\u3002\u3002\u7531\u6d4f\u89c8\u5668\u5411\u7528\u6237\u5f39\u51fa\u63d0\u793a\u6027\u4fe1\u606f\uff0c\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u5305\u542b\u4e24\u4e2a\u6309\u94ae\uff0c\u5206\u522b\u8868\u793a\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u6309\u94ae\u3002\u5982\u679c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de true\uff1b\u5355\u51fb\u201c\u53d6\u6d88\u201d\u6309\u94ae\uff0c\u5219\u8fd4\u56de false\u3002confirm() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u7a7a\u7684\u5bf9\u8bdd\u6846\u3002 prompt()\uff1a\u8f93\u5165\u63d0\u793a\u6846\u3002\u53ef\u4ee5\u63a5\u6536\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\uff0c\u5e76\u8fd4\u56de\u8f93\u5165\u7684\u4fe1\u606f\u3002prompt() \u65b9\u6cd5\u4e5f\u5305\u542b\u4e00\u4e2a\u53ef\u9009\u7684\u63d0\u793a\u4fe1\u606f\u53c2\u6570\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\uff0c\u5219\u5f39\u51fa\u4e00\u4e2a\u6ca1\u6709\u63d0\u793a\u4fe1\u606f\u7684\u8f93\u5165\u6587\u672c\u5bf9\u8bdd\u6846\u3002","title":"\uff082\uff09\u4f7f\u7528\u7cfb\u7edf\u5bf9\u8bdd\u6846"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_18","text":"\u4f7f\u7528 window \u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u5ba2\u6237\u7aef\u5176\u4ed6\u5bf9\u8c61\uff0c\u8fd9\u79cd\u5173\u7cfb\u6784\u6210\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff0cwindow \u5bf9\u8c61\u4ee3\u8868\u6839\u8282\u70b9\uff0c\u6d4f\u89c8\u5668\u5bf9\u8c61\u5173\u7cfb\u7684\u5173\u7cfb\u5982\u56fe\u6240\u793a\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u8bf4\u660e\u5982\u4e0b\u3002 window\uff1a\u5ba2\u6237\u7aef JavaScript \u9876\u5c42\u5bf9\u8c61\u3002\u6bcf\u5f53 \u6216 \u6807\u7b7e\u51fa\u73b0\u65f6\uff0cwindow \u5bf9\u8c61\u5c31\u4f1a\u88ab\u81ea\u52a8\u521b\u5efa\u3002 navigator\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u6709\u5173\u6d4f\u89c8\u5668\u4fe1\u606f\u3002 screen\uff1a\u5305\u542b\u5ba2\u6237\u7aef\u5c4f\u5e55\u7684\u4fe1\u606f\u3002 history\uff1a\u5305\u542b\u6d4f\u89c8\u5668\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684 URL \u4fe1\u606f\u3002 location\uff1a\u5305\u542b\u5f53\u524d\u7f51\u9875\u6587\u6863\u7684 URL \u4fe1\u606f\u3002 document\uff1a\u5305\u542b\u6574\u4e2a HTML \u6587\u6863\uff0c\u53ef\u88ab\u7528\u6765\u8bbf\u95ee\u6587\u6863\u5185\u5bb9\u53ca\u5176\u6240\u6709\u9875\u9762\u5143\u7d20\u3002","title":"\uff083\uff09\u8bbf\u95ee\u5ba2\u6237\u7aef\u5bf9\u8c61"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_13","text":"window \u5bf9\u8c61\u5305\u542b 4 \u4e2a\u5b9a\u65f6\u5668\u4e13\u7528\u65b9\u6cd5\uff0c\u8bf4\u660e\u5982\u4e0b\u8868\u6240\u793a\uff0c\u4f7f\u7528\u5b83\u4eec\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u5b9a\u65f6\u6267\u884c\uff0c\u6216\u8005\u5ef6\u8fdf\u6267\u884c\uff0c\u4f7f\u7528\u5b9a\u65f6\u5668\u53ef\u4ee5\u8bbe\u8ba1\u6f14\u793a\u52a8\u753b\u3002 \u65b9\u6cd5 \u8bf4\u660e setInterval() \u6309\u7167\u6267\u884c\u7684\u5468\u671f\uff08\u5355\u4f4d\u4e3a\u6beb\u79d2\uff09\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f setTimeout() \u5728\u6307\u5b9a\u7684\u6beb\u79d2\u6570\u540e\u8c03\u7528\u51fd\u6570\u6216\u8ba1\u7b97\u8868\u8fbe\u5f0f clearInterval() \u53d6\u6d88\u7531 setInterval() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 clearTimeout() \u53d6\u6d88\u7531 setTimeout() \u65b9\u6cd5\u751f\u6210\u7684\u5b9a\u65f6\u5668 setTimeout() \u65b9\u6cd5\u80fd\u591f\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u6bb5\u540e\u6267\u884c\u7279\u5b9a\u4ee3\u7801\u3002\u7528\u6cd5\u5982\u4e0b\uff1a var o = setTimeout(code, delay) \u53c2\u6570 code \u8868\u793a\u8981\u5ef6\u8fdf\u6267\u884c\u7684\u5b57\u7b26\u4e32\u578b\u4ee3\u7801\uff0c\u5c06\u5728 Windows \u73af\u5883\u4e2d\u6267\u884c\uff0c\u5982\u679c\u5305\u542b\u591a\u4e2a\u8bed\u53e5\uff0c\u5e94\u8be5\u4f7f\u7528\u5206\u53f7\u8fdb\u884c\u5206\u9694\u3002delay \u8868\u793a\u5ef6\u8fdf\u65f6\u95f4\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u503c\u662f\u4e00\u4e2a Timer ID\uff0c\u8fd9\u4e2a ID \u7f16\u53f7\u6307\u5411\u5ef6\u8fdf\u6267\u884c\u7684\u4ee3\u7801\u63a7\u5236\u53e5\u67c4\u3002\u5982\u679c\u628a\u8fd9\u4e2a\u53e5\u67c4\u4f20\u9012\u7ed9 clearTimeout() \u65b9\u6cd5\uff0c\u5219\u4f1a\u53d6\u6d88\u4ee3\u7801\u7684\u5ef6\u8fdf\u6267\u884c\u3002 <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <title>Title</title> </head> <body> <input id=\"ID1\" type=\"text\" > <button onclick=\"begin()\">\u5f00\u59cb</button> <button onclick=\"end()\">\u505c\u6b62</button> <script> function showTime(){ var nowd2=new Date().toLocaleString(); var temp=document.getElementById(\"ID1\"); temp.value=nowd2; } var ID; function begin(){ if (ID==undefined){ showTime(); ID=setInterval(showTime,1000); } } function end(){ clearInterval(ID); ID=undefined; } </script> </body> </html>","title":"\uff084\uff09\u4f7f\u7528\u5b9a\u65f6\u5668"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#92es6","text":"","title":"9.2\u3001ES6\u65b0\u8bed\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-varletconst","text":"ES6 \u4e2d\u5f15\u5165\u4e86\u5173\u952e\u5b57 let \u548c const \u4f5c\u4e3a var \u7684\u66ff\u4ee3\u3002\u5b83\u4eec\u975e\u5e38\u6709\u7528\uff0c\u5982\u4eca\u51e0\u4e4e\u6bcf\u4e2a JavaScript \u5f00\u53d1\u4eba\u5458\u90fd\u5728\u4f7f\u7528\u5b83\u4eec\u3002 \u4e0e\u5173\u952e\u5b57 var \u4e0d\u540c\uff0c\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u5177\u6709\u5757\u4f5c\u7528\u57df\u3002\u8fd9\u610f\u5473\u7740\u5f53\u4f60\u5728\u5757\u4e2d\u58f0\u660e\u5b83\u4eec\u65f6\uff0c\u5b83\u4eec\u53ea\u80fd\u5728\u8be5\u5757 {} \u5185\u8bbf\u95ee\u3002 // for (var i=0;i<10;i++){ // console.log(i) // } // console.log(i) for (let i=0;i<10;i++){ console.log(i) } console.log(i) \u53d8\u91cf\u63d0\u5347 \u770b\u4ee5\u4e0b\u4ee3\u7801, \u6216\u591a\u6216\u5c11\u4f1a\u6709\u4e9b\u95ee\u9898\u7684. function fn(){ console.log(name); var name = 'yuan'; } fn() \u53d1\u73b0\u95ee\u9898\u4e86\u4e48. \u8fd9\u4e48\u5199\u4ee3\u7801, \u5728\u5176\u4ed6\u8bed\u8a00\u91cc. \u7edd\u5bf9\u662f\u4e0d\u5141\u8bb8\u7684. \u4f46\u662f\u5728js\u91cc. \u4e0d\u4f46\u5141\u8bb8, \u8fd8\u80fd\u6267\u884c. \u4e3a\u4ec0\u4e48\u5462? \u56e0\u4e3a\u5728js\u6267\u884c\u7684\u65f6\u5019. \u5b83\u4f1a\u9996\u5148\u68c0\u6d4b\u4f60\u7684\u4ee3\u7801. \u53d1\u73b0\u5728\u4ee3\u7801\u4e2d\u4f1a\u6709name\u4f7f\u7528. OK. \u8fd0\u884c\u65f6\u5c31\u4f1a\u53d8\u6210\u8fd9\u6837\u7684\u903b\u8f91: function fn(){ var name; console.log(name); name = 'yuan'; } fn() console.log(a); \u770b\u5230\u4e86\u4e48. \u5b9e\u9645\u8fd0\u884c\u7684\u65f6\u5019\u548c\u6211\u4eec\u5199\u4ee3\u7801\u7684\u987a\u5e8f\u53ef\u80fd\u4f1a\u4e0d\u4e00\u6837....\u8fd9\u79cd\u628a\u53d8\u91cf\u63d0\u524d\u5230\u4ee3\u7801\u5757\u7b2c\u4e00\u90e8\u5206\u8fd0\u884c\u7684\u903b\u8f91\u88ab\u79f0\u4e3a\u53d8\u91cf\u63d0\u5347. \u8fd9\u5728\u5176\u4ed6\u8bed\u8a00\u91cc\u662f\u7edd\u5bf9\u6ca1\u6709\u7684. \u5e76\u4e14\u4e5f\u4e0d\u662f\u4ec0\u4e48\u597d\u4e8b\u60c5. \u6b63\u5e38\u7684\u903b\u8f91\u4e0d\u5e94\u8be5\u662f\u8fd9\u6837\u7684. \u90a3\u4e48\u600e\u4e48\u529e? \u5728\u65b0\u7684ES6\u4e2d. \u5c31\u660e\u786e\u4e86, \u8fd9\u6837\u4f7f\u7528\u53d8\u91cf\u662f\u4e0d\u5b8c\u5584\u7684. es6\u63d0\u51fa. \u7528let\u6765\u58f0\u660e\u53d8\u91cf. \u5c31\u4e0d\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\u4e86. function fn(){ console.log(name); // \u76f4\u63a5\u62a5\u9519, let\u53d8\u91cf\u4e0d\u53ef\u4ee5\u53d8\u91cf\u63d0\u5347. let name = 'yuan'; } fn() \u7ed3\u8bba\u4e00, \u7528let\u58f0\u660e\u53d8\u91cf\u662f\u65b0\u7248\u672cjavascript\u63d0\u5021\u7684\u4e00\u79cd\u58f0\u660e\u53d8\u91cf\u7684\u65b9\u6848 let\u8fd8\u6709\u54ea\u4e9b\u4f5c\u7528\u5462? function fn(){ var name = \"rain\"; var name = \"yuan\"; console.log(name); } fn() \u663e\u7136\u4e00\u4e2a\u53d8\u91cf\u88ab\u58f0\u660e\u4e86\u4e24\u6b21. \u8fd9\u6837\u4e5f\u662f\u4e0d\u5408\u7406\u7684. var\u672c\u610f\u662f\u58f0\u660e\u53d8\u91cf. \u540c\u4e00\u4e2a\u4e1c\u897f. \u88ab\u58f0\u660e\u4e24\u6b21. \u6240\u4ee5ES6\u89c4\u5b9a. let\u58f0\u660e\u7684\u53d8\u91cf. \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. \u53ea\u80fd\u58f0\u660e\u4e00\u6b21. function fn(){ let name = \"yuan\"; let name = \"rain\"; console.log(name); } fn() \u6ce8\u610f, \u62a5\u9519\u662f\u53d1\u751f\u5728\u4ee3\u7801\u68c0\u67e5\u9636\u6bb5. \u6240\u4ee5. \u4e0a\u8ff0\u4ee3\u7801\u6839\u672c\u5c31\u6267\u884c\u4e0d\u4e86. \u7ed3\u8bba\u4e8c, \u5728\u540c\u4e00\u4e2a\u4f5c\u7528\u57df\u5185. let\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u80fd\u58f0\u660e\u4e00\u6b21. \u5176\u4ed6\u4f7f\u7528\u4e0a\u548cvar\u6ca1\u6709\u5dee\u522b\u3002 \u9664\u4e86 let\uff0cES6 \u540c\u65f6\u8fd8\u589e\u52a0\u4e86 const \u5173\u952e\u5b57\u3002\u4f7f\u7528 const \u58f0\u660e\u7684\u53d8\u91cf\u5fc5\u987b\u540c\u65f6\u521d\u59cb\u5316\u4e3a\u67d0\u4e2a\u503c\u3002 \u4e00\u7ecf\u58f0\u660e\uff0c\u5728\u5176\u751f\u547d\u5468\u671f\u7684\u4efb\u4f55\u65f6\u5019\u90fd\u4e0d\u80fd\u518d\u91cd\u65b0\u8d4b\u4e88\u65b0\u503c\u3002 <script> // const\u58f0\u660e\u5e38\u91cf\u5fc5\u987b\u8d4b\u521d\u59cb\u503c const a=6;//\u5408\u6cd5\u6709\u6548 const b;//\u62a5\u9519 SyntaxError\uff0c\u5fc5\u987b\u8d4b\u521d\u59cb\u503c\u624d\u53ef\u4ee5 // const\u58f0\u660e\u7684\u5e38\u91cf\u4e0d\u80fd\u66f4\u6539 const a=6;//\u5408\u6cd5\u6709\u6548 a=7;//\u62a5\u9519\uff0c\u4e0d\u80fd\u66f4\u6539 /* \u5bf9\u4e8econst\u58f0\u660e\u7684\u539f\u59cb\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u65e6\u58f0\u660e\u53d8\u4e0d\u80fd\u66f4\u6539\uff0c\u4f46\u662f\u5bf9\u4e8e\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0c\u867d\u7136\u4e0d\u80fd\u91cd\u65b0\u8d4b\u503c\u7ed9\u67d0\u4e2a\u65b0\u7684\u5f15\u7528\u7c7b\u578b\u53d8\u91cf\u3002\u4f46\u662f\u64cd\u4f5c\u64cd\u4f5c\u5f15\u7528\u6570\u636e\u7c7b\u578b\u53d8\u91cf\u4e2d\u7684\u5143\u7d20\u6216\u8005\u5c5e\u6027\u5374\u662f\u5408\u6cd5\u7684\u3002\u56e0\u4e3a\u8fd9\u4e9b\u64cd\u4f5c\u4e0d\u4f1a\u6539\u53d8\u5f15\u7528\u6570\u636e\u7c7b\u578b\u7684\u5730\u5740\u3002 */ const obj={}; obj.name=\"\u5357\u5c71\u884c\u8005\";//\u5408\u6cd5\u6709\u6548 console.log(obj); const arr=[1,2,3]; arr.push(3);//\u5408\u6cd5\u6709\u6548 arr.shift();//\u5408\u6cd5\u6709\u6548 console.log(arr); </script>","title":"1. var\u3001let\u4ee5\u53caconst"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-es6","text":"\u5728ES6\u4e2d\u7b80\u5316\u4e86\u51fd\u6570\u7684\u58f0\u660e\u8bed\u6cd5. // es6\u5141\u8bb8\u4f7f\u7528\u201c\u7bad\u5934\u201d(=>)\u5b9a\u4e49\u51fd\u6570\u3002 var f = v => v // \u7b49\u540c\u4e8e var f = function(v) { return v } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u4e0d\u9700\u8981\u53c2\u6570\u6216\u9700\u8981\u591a\u4e2a\u53c2\u6570\uff0c\u5c31\u4f7f\u7528\u4e00\u4e2a\u5706\u62ec\u53f7\u4ee3\u8868\u53c2\u6570\u90e8\u5206\u3002 var f = () => 5 // \u7b49\u540c\u4e8e var f = function() { return 5 } var sum = (num1, num2) => num1 + num2 // \u7b49\u540c\u4e8e var sum = function(num1, num2) { return num1 + num2 } // \u5982\u679c\u7bad\u5934\u51fd\u6570\u7684\u4ee3\u7801\u5757\u90e8\u5206\u591a\u4e8e\u4e00\u6761\u8bed\u53e5\uff0c\u5c31\u8981\u4f7f\u7528\u5927\u62ec\u53f7\u5c06\u5b83\u4eec\u62ec\u8d77\u6765\uff0c\u5e76\u4e14\u4f7f\u7528return\u8bed\u53e5\u8fd4\u56de\u3002 var sum = (num1, num2) => {return num1 + num2} //\u7531\u4e8e\u5927\u62ec\u53f7\u88ab\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\uff0c\u6240\u4ee5\u5982\u679c\u7bad\u5934\u51fd\u6570\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5fc5\u987b\u5728\u5bf9\u8c61\u5916\u9762\u52a0\u4e0a\u62ec\u53f7\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 // \u62a5\u9519 let getUser = id => {id: id, name: \"yuan\"} // \u4e0d\u62a5\u9519 let getUser = id => ({id: id, name: \"yuan\"}) // \u7bad\u5934\u51fd\u6570\u7684\u4e00\u4e2a\u7528\u5904\u662f\u7b80\u5316\u56de\u8c03\u51fd\u6570\u3002 // \u6b63\u5e38\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(function(x) { return x * x }) // \u7bad\u5934\u51fd\u6570\u5199\u6cd5 [1, 2, 3].map(x => x * x)","title":"2. ES6\u4e2d\u7684\u7bad\u5934\u51fd\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-es6","text":"var name = \"yuan\" var age = 22 function run() { console.log(this.name + \" running\") } p1 = { name, age, eat: function () { console.log(this.name + \" is eating\") }, run: run, } p1.eat() p1.run()","title":"3. ES6\u5bf9\u8c61\u7b80\u5199"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4-es6","text":"ES6\u4e2d\u5141\u8bb8\u4f7f\u7528\u53cd\u5f15\u53f7 ` \u6765\u521b\u5efa\u5b57\u7b26\u4e32\uff0c \u6b64\u79cd\u65b9\u6cd5\u521b\u5efa\u7684\u5b57\u7b26\u4e32\u91cc\u9762\u53ef\u4ee5\u5305\u542b\u7531\u7f8e\u5143\u7b26\u53f7\u52a0\u82b1\u62ec\u53f7\u5305\u88f9\u7684\u53d8\u91cf ${vraible}\u3002 var num = Math.random() console.log(`\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff1a${num}`)","title":"4. ES6\u683c\u5f0f\u5316"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#93js","text":"","title":"9.3\u3001JS\u5de5\u5177"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_25","text":"\u4e09\u5143\u8fd0\u7b97\u7b26: \u6761\u4ef6\u8868\u8fbe\u5f0f?\u8bed\u53e51:\u8bed\u53e52; /* * \u6761\u4ef6\u8fd0\u7b97\u7b26\u4e5f\u53eb\u4e09\u5143\u8fd0\u7b97\u7b26 * \u8bed\u6cd5\uff1a * \u6761\u4ef6\u8868\u8fbe\u5f0f?\u8bed\u53e51:\u8bed\u53e52; * - \u6267\u884c\u7684\u6d41\u7a0b\uff1a * \u6761\u4ef6\u8fd0\u7b97\u7b26\u5728\u6267\u884c\u65f6\uff0c\u9996\u5148\u5bf9\u6761\u4ef6\u8868\u8fbe\u5f0f\u8fdb\u884c\u6c42\u503c\uff0c * \u5982\u679c\u8be5\u503c\u4e3atrue\uff0c\u5219\u6267\u884c\u8bed\u53e51\uff0c\u5e76\u8fd4\u56de\u6267\u884c\u7ed3\u679c * \u5982\u679c\u8be5\u503c\u4e3afalse\uff0c\u5219\u6267\u884c\u8bed\u53e52\uff0c\u5e76\u8fd4\u56de\u6267\u884c\u7ed3\u679c * \u5982\u679c\u6761\u4ef6\u7684\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u7ed3\u679c\u662f\u4e00\u4e2a\u975e\u5e03\u5c14\u503c\uff0c * \u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\u7136\u540e\u5728\u8fd0\u7b97 */ \u6848\u4f8b1: let a = 10; let b = 20; let d = a > b? a: b console.log(d); \u6848\u4f8b2: let a = 10; let b = 20; let c = 5; let d = 17; let e; let m; e = (e = a > 3 ? b : c, m = e < b++ ? c-- : a = 3 > b % d ? 27: 37, m++) // e = a > 3 ? b : c // e=b=20 // m = e < b++ ? c-- : a = 3 > b % d ? 27: 37// m=a=37 // e = m++ // e= 37 m=38 console.log(e); console.log(c); console.log(m);","title":"1. \u4e09\u5143\u8fd0\u7b97\u7b26"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-eval","text":"eval() \u51fd\u6570\u8ba1\u7b97 JavaScript \u5b57\u7b26\u4e32\uff0c\u5e76\u628a\u5b83\u4f5c\u4e3a\u811a\u672c\u4ee3\u7801\u6765\u6267\u884c\u3002 \u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0ceval() \u51fd\u6570\u5c06\u6267\u884c\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u53c2\u6570\u662fJavascript\u8bed\u53e5\uff0ceval()\u5c06\u6267\u884c Javascript \u8bed\u53e5\u3002 eval(string) // eval('[1,2,3,4,5].map(x=>x*x)') http://tools.jb51.net/password/evalencode","title":"2. eval"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-hook","text":"\u5728 JS \u9006\u5411\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u628a\u66ff\u6362\u539f\u51fd\u6570\u7684\u8fc7\u7a0b\u90fd\u79f0\u4e3a Hook\u3002 function foo() { console.log(\"foo\u529f\u80fd...\") return 123 } foo() var _foo = foo foo = function () { console.log(\"\u622a\u65ad\u5f00\u59cb...\") debugger; _foo() console.log(\"\u622a\u65ad\u7ed3\u675f...\") } function foo(a, b, c, d, e, f) { console.log(\"foo\u529f\u80fd...\") console.log(a, b, c, d, e, f) return 123 } var _foo = foo foo = function () { console.log(\"\u622a\u65ad\u5f00\u59cb...\") // _foo(arguments) _foo.apply(this,arguments) console.log(\"\u622a\u65ad\u7ed3\u675f...\") } foo(1,2,3,4,5,6,7)","title":"3. Hook\u51fd\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-hook-eval","text":"console.log(\"\u7a0b\u5e8f\u5f00\u59cb\") // eval(\"console.log('yuan')\") window[\"e\"+\"v\"+\"a\"+\"l\"](\"console.log('eval yuan')\") console.log(\"\u7a0b\u5e8f\u7ed3\u675f\") var _eval = eval eval = function (src) { console.log(\"eval\u622a\u65ad\u5f00\u59cb...\") debugger; _eval.apply(this, src) console.log(\"eval\u622a\u65ad\u7ed3\u675f...\") }","title":"\u6848\u4f8b1: Hook eval"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-hook-jsonstringify","text":"JSON.stringify() \u65b9\u6cd5\u7528\u4e8e\u5c06 JavaScript \u503c\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\uff0c\u5728\u67d0\u4e9b\u7ad9\u70b9\u7684\u52a0\u5bc6\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\uff0c\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u9047\u5230 JSON.stringify() \u65f6\uff0c\u5219\u63d2\u5165\u65ad\u70b9\uff1a (function() { var stringify = JSON.stringify; JSON.stringify = function(params) { console.log(\"Hook JSON.stringif:::\", params); debugger; return stringify(params); } })();","title":"\u6848\u4f8b2: Hook JSON.stringify"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-hook-jsonparse","text":"JSON.parse() \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a JSON \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5bf9\u8c61\uff0c\u5728\u67d0\u4e9b\u7ad9\u70b9\u7684\u52a0\u5bc6\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\uff0c\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u9047\u5230 JSON.parse() \u65f6\uff0c\u5219\u63d2\u5165\u65ad\u70b9\uff1a (function() { var parse = JSON.parse; JSON.parse = function(params) { console.log(\"Hook JSON.parse::: \", params); debugger; return parse(params); } })();","title":"\u6848\u4f8b3: Hook JSON.parse"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4-hook-cookie","text":"\u4e00\u822c\u4f7f\u7528Object.defineProperty()\u6765\u8fdb\u884c\u5c5e\u6027\u64cd\u4f5c\u7684hook\u3002\u90a3\u4e48\u6211\u4eec\u4e86\u89e3\u4e00\u4e0b\u8be5\u65b9\u6cd5\u7684\u4f7f\u7528\u3002 Object.defineProperty(obj, prop, descriptor) // \u53c2\u6570 obj\uff1a\u5bf9\u8c61\uff1b prop\uff1a\u5bf9\u8c61\u7684\u5c5e\u6027\u540d\uff1b descriptor\uff1a\u5c5e\u6027\u63cf\u8ff0\u7b26\uff1b \u4e00\u822chook\u4f7f\u7528\u7684\u662fget\u548cset\u65b9\u6cd5\uff0c\u4e0b\u8fb9\u7b80\u5355\u6f14\u793a\u4e00\u4e0b var people = { name: '\u5f20\u4e09', }; Object.defineProperty(people, 'age', { get: function () { console.log('\u83b7\u53d6\u503c\uff01'); return count; }, set: function (val) { console.log('\u8bbe\u7f6e\u503c\uff01'); count = val + 1; }, }); people.age = 18; console.log(people.age); \u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u8bbe\u7f6e\u67d0\u4e2a\u503c\u7684\u65f6\u5019\uff0c\u6dfb\u52a0\u4e00\u4e9b\u4ee3\u7801\uff0c\u6bd4\u5982 debugger;\uff0c\u8ba9\u5176\u65ad\u4e0b\uff0c\u7136\u540e\u5229\u7528\u8c03\u7528\u6808\u8fdb\u884c\u8c03\u8bd5\uff0c\u627e\u5230\u53c2\u6570\u52a0\u5bc6\u3001\u6216\u8005\u53c2\u6570\u751f\u6210\u7684\u5730\u65b9\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7f51\u7ad9\u52a0\u8f7d\u65f6\u9996\u5148\u8981\u8fd0\u884c\u6211\u4eec\u7684 Hook \u4ee3\u7801\uff0c\u518d\u8fd0\u884c\u7f51\u7ad9\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u624d\u80fd\u591f\u6210\u529f\u65ad\u4e0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u53ef\u4ee5\u79f0\u4e4b\u4e3a Hook \u4ee3\u7801\u7684\u6ce8\u5165\u3002 (function(){ 'use strict' var _cookie = \"\"; Object.defineProperty(document, 'cookie', { set: function(val) { console.log(val); debugger _cookie = val; return val; }, get: function() { return _cookie; }, }); })()","title":"\u6848\u4f8b4: Hook Cookie"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#js_2","text":"JS\u9006\u5411\u7684\u76ee\u7684\u662f\u901a\u8fc7\u8fd0\u884c\u672c\u5730JS\u7684\u6587\u4ef6\u6216\u8005\u4ee3\u7801,\u4ee5\u5b9e\u73b0\u8131\u79bb\u4ed6\u7684\u7f51\u7ad9\u548c\u6d4f\u89c8\u5668,\u5e76\u4e14\u8fd8\u80fd\u62ff\u5230\u548c\u6d4f\u89c8\u5668\u52a0\u5bc6\u4e00\u6837\u7684\u6548\u679c\u3002","title":"\u7b2c\u5341\u7ae0. JS\u9006\u5411\u722c\u866b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#101pyexecjs","text":"pyexecjs\u662f\u4e00\u4e2a\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fd0\u884cjs\u4ee3\u7801\u7684\u4e00\u4e2a\u7b2c\u4e09\u65b9\u6a21\u5757. \u5176\u4f7f\u7528\u662f\u975e\u5e38\u5bb9\u6613\u4e0a\u624b\u7684. \u4f46\u662f\u5b83\u7684\u8fd0\u884c\u662f\u8981\u4f9d\u8d56\u80fd\u8fd0\u884cjs\u7684\u7b2c\u4e09\u65b9\u73af\u5883\u7684. \u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u7528node\u4f5c\u4e3a\u6211\u4eec\u8fd0\u884cjs\u7684\u4f4d\u7f6e.","title":"10.1\u3001PyExecJS\u6a21\u5757"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-nodejs","text":"\u5207\u8bb0. \u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111.","title":"\u30101\u3011 \u5b89\u88c5Nodejs"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-pyexecjs","text":"pip install pyexecjs \u6d4b\u8bd5\u4e00\u4e0b: import execjs print(execjs.get().name) # \u9700\u8981\u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111 Node.js (V8) \u7b80\u5355\u4f7f\u7528 import execjs print(execjs.get().name) # execjs.eval \u53ef\u4ee5\u76f4\u63a5\u8fd0\u884cjs\u4ee3\u7801\u5e76\u5f97\u5230\u7ed3\u679c js = \"\"\" \"a,b,c,d\".split(\",\") \"\"\" res = execjs.eval(js) print(res) # execjs.compile(), call() # execjs.compile() \u4e8b\u5148\u52a0\u8f7d\u597d\u4e00\u6bb5js\u4ee3\u7801, jj = execjs.compile(\"\"\" function foo(a, b){ return a + b } \"\"\") # call() \u8fd0\u884c\u4ee3\u7801\u4e2d\u7684xxx\u51fd\u6570. \u540e\u7eed\u7684\u53c2\u6570\u662fxxx\u7684\u53c2\u6570 ret = jj.call(\"foo\", 10, 20) print(ret) windows\u4e2d\u5982\u679c\u51fa\u73b0\u7f16\u7801\u9519\u8bef. \u5728\u5f15\u5165execjs\u4e4b\u524d. \u63d2\u5165\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef. import subprocess from functools import partial subprocess.Popen = partial(subprocess.Popen, encoding='utf-8') import execjs \u5b8c\u4e8b\u513f. \u4f60\u6ca1\u6709\u770b\u9519. execjs\u5c31\u8fd9\u51e0\u4e2a\u529f\u80fd\u5c31\u591f\u54b1\u7528\u7684\u4e86.","title":"\u30102\u3011 \u5b89\u88c5pyexecjs"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#102","text":"","title":"10.2\u3001\u7f16\u7801\u7b97\u6cd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1md5","text":"MD5\u662f\u4e00\u4e2a\u975e\u5e38\u5e38\u89c1\u7684\u6458\u8981(hash)\u903b\u8f91. \u5176\u7279\u70b9\u5c31\u662f\u5c0f\u5de7. \u901f\u5ea6\u5feb. \u6781\u96be\u88ab\u7834\u89e3. \u6240\u4ee5, md5\u4f9d\u7136\u662f\u56fd\u5185\u975e\u5e38\u591a\u7684\u4e92\u8054\u7f51\u516c\u53f8\u9009\u62e9\u7684\u5bc6\u7801\u6458\u8981\u7b97\u6cd5. \u8fd9\u73a9\u610f\u4e0d\u53ef\u9006. \u6240\u4ee5. \u6458\u8981\u7b97\u6cd5\u5c31\u4e0d\u662f\u4e00\u4e2a\u52a0\u5bc6\u903b\u8f91. \u76f8\u540c\u7684\u5185\u5bb9\u8ba1\u7b97\u51fa\u6765\u7684\u6458\u8981\u5e94\u8be5\u662f\u4e00\u6837\u7684 \u4e0d\u540c\u7684\u5185\u5bb9(\u54ea\u6015\u662f\u4e00\u4e22\u4e22\u4e22\u4e22\u4e22\u4e0d\u4e00\u6837) \u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c\u5dee\u522b\u975e\u5e38\u5927 \u5728\u6570\u5b66\u4e0a. \u6458\u8981\u5176\u5b9e\u8ba1\u7b97\u903b\u8f91\u5c31\u662fhash. hash(\u6570\u636e) => \u6570\u5b57 1. \u5bc6\u7801 2. \u4e00\u81f4\u6027\u68c0\u6d4b md5\u7684python\u5b9e\u73b0: from hashlib import md5 obj = md5() obj.update(\"alex\".encode(\"utf-8\")) # obj.update(\"wusir\".encode('utf-8')) # \u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u88ab\u52a0\u5bc6\u7684\u5185\u5bb9 bs = obj.hexdigest() print(bs) \u6211\u4eec\u628a\u5bc6\u6587\u4e22\u5230\u7f51\u9875\u91cc. \u53d1\u73b0\u6709\u4e9b\u7f51\u7ad9\u53ef\u4ee5\u76f4\u63a5\u89e3\u5bc6. \u4f46\u5176\u5b9e\u4e0d\u7136. \u8fd9\u91cc\u5e76\u4e0d\u662f\u76f4\u63a5\u89e3\u5bc6MD5. \u800c\u662f\"\u649e\u5e93\". \u5c31\u662f\u5b83\u7f51\u7ad9\u91cc\u5b58\u50a8\u4e86\u5927\u91cf\u7684MD5\u7684\u503c. \u5c31\u50cf\u8fd9\u6837: \u800c\u9700\u8981\u8fdb\u884c\u67e5\u8be2\u7684\u65f6\u5019. \u53ea\u9700\u8981\u4e00\u6761select\u8bed\u53e5\u5c31\u53ef\u4ee5\u67e5\u8be2\u5230\u4e86. \u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u649e\u5e93. \u5982\u4f55\u907f\u514d\u649e\u5e93: md5\u5728\u8fdb\u884c\u8ba1\u7b97\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u76d0. \u52a0\u76d0\u4e4b\u540e. \u5c31\u5f88\u96be\u649e\u5e93\u4e86. from hashlib import md5 salt = \"\u6211\u662f\u76d0.\u628a\u6211\u52a0\u8fdb\u53bb\u5c31\u6ca1\u4eba\u80fd\u7834\u89e3\u4e86\" obj = md5(salt.encode(\"utf-8\")) # \u52a0\u76d0 obj.update(\"alex\".encode(\"utf-8\")) bs = obj.hexdigest() print(bs) \u6269\u5c55; sha256 from hashlib import sha1, sha256 sha = sha256(b'salt') sha.update(b'alex') print(sha.hexdigest()) \u4e0d\u8bba\u662fsha1, sha256, md5\u90fd\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5. \u90fd\u662f\u5728\u8ba1\u7b97hash\u503c. \u53ea\u662f\u6563\u5217\u7684\u7a0b\u5ea6\u4e0d\u540c\u800c\u5df2. \u8fd9\u79cd\u7b97\u6cd5\u6709\u4e00\u4e2a\u7279\u6027. \u4ed6\u4eec\u662f\u6563\u5217. \u4e0d\u662f\u52a0\u5bc6. \u800c\u4e14, \u7531\u4e8ehash\u7b97\u6cd5\u662f\u4e0d\u53ef\u9006\u7684, \u6240\u4ee5\u4e0d\u5b58\u5728\u89e3\u5bc6\u7684\u903b\u8f91.","title":"\u30101\u3011\u4e00\u5207\u4eceMD5\u5f00\u59cb"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2url","text":"import urllib.parse # s = 'a' s = ' 123' ret = urllib.parse.quote(s) print(ret) s = urllib.parse.unquote(ret) print(s) params = {'name': '\u5f20\u4e09', 'age': 20, 'address': '\u5317\u4eac\u5e02\u6d77\u6dc0\u533a'} query_string = urllib.parse.urlencode(params) print(query_string) query_string = 'name=%E5%BC%A0%E4%B8%89&age=20&address=%E5%8C%97%E4%BA%AC%E5%B8%82%E6%B5%B7%E6%B7%80%E5%8C%BA' params = urllib.parse.parse_qs(query_string) print(params, type(params))","title":"\u30102\u3011url\u7f16\u7801"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-base64","text":"","title":"\u30103\u3011 base64\u7f16\u7801"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1base64","text":"Base64\u7f16\u7801\uff0c\u662f\u753164\u4e2a\u5b57\u7b26\u7ec4\u6210\u7f16\u7801\u96c6\uff1a 26\u4e2a\u5927\u5199\u5b57\u6bcdA~Z\uff0c26\u4e2a\u5c0f\u5199\u5b57\u6bcda~z\uff0c10\u4e2a\u6570\u5b570~9\uff0c\u7b26\u53f7\u201c+\u201d\u4e0e\u7b26\u53f7\u201c/\u201d \u3002Base64\u7f16\u7801\u7684\u57fa\u672c\u601d\u8def\u662f \u5c06\u539f\u59cb\u6570\u636e\u7684\u4e09\u4e2a\u5b57\u8282\u62c6\u5206\u8f6c\u5316\u4e3a\u56db\u4e2a\u5b57\u8282 \uff0c\u7136\u540e\u6839\u636eBase64\u7684\u5bf9\u5e94\u8868\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u7f16\u7801\u6570\u636e\u3002 \u5f53\u539f\u59cb\u6570\u636e\u51d1\u4e0d\u591f\u4e09\u4e2a\u5b57\u8282\u65f6\uff0c\u7f16\u7801\u7ed3\u679c\u4e2d\u4f1a\u4f7f\u7528\u989d\u5916\u7684 \u7b26\u53f7\u201c=\u201d \u6765\u8868\u793a\u8fd9\u79cd\u60c5\u51b5\u3002","title":"\uff081\uff09base64\u662f\u4ec0\u4e48"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2base64","text":"\u4e00\u4e2aBase64\u5b57\u7b26\u5b9e\u9645\u4e0a\u4ee3\u8868\u77406\u4e2a\u4e8c\u8fdb\u5236\u4f4d(bit)\uff0c4\u4e2aBase64\u5b57\u7b26\u5bf9\u5e943\u5b57\u8282\u5b57\u7b26\u4e32/\u4e8c\u8fdb\u5236\u6570\u636e\u3002 3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7684base64\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u5c0f\u4e8e3\u4e2a\u5b57\u7b26\u4e3a\u4e00\u7ec4\u7684\u7f16\u7801\u65b9\u5f0f\u5982\uff1a \u603b\u7ed3\uff1abase64\u8fc7\u7a0b \u6700\u540e\u5904\u7406\u5b8c\u7684\u7f16\u7801\u5b57\u7b26\u518d\u8f6c\u5b57\u8282\u4e2d\u4e0d\u518d\u6709base64\u4ee5\u5916\u7684\u4efb\u4f55\u5b57\u7b26\u3002","title":"\uff082\uff09base64\u539f\u7406"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3base64","text":"import base64 bs = \"you\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) bs = \"yo\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) # \u731c\u6d4b\u7ed3\u679c bs = \"y\".encode(\"utf-8\") # \u628a\u5b57\u8282\u8f6c\u5316\u6210b64 print(base64.b64encode(bs).decode()) \u6ce8\u610f, b64\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u957f\u5ea6. \u4e00\u5b9a\u662f4\u7684\u500d\u6570. \u5982\u679c\u5728\u7f51\u9875\u4e0a\u770b\u5230\u6709\u4e9b\u5bc6\u6587\u7684b64\u957f\u5ea6\u4e0d\u662f4\u7684\u500d\u6570. \u4f1a\u62a5\u9519 \u4f8b\u5982, import base64 s = \"eW91\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ==\" ret = base64.b64decode(s) print(ret) s = \"eW91eQ\" ret = base64.b64decode(s) print(ret) \u89e3\u51b3\u601d\u8def. base64\u957f\u5ea6\u8981\u6c42. \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u662f4\u7684\u500d\u6570. \u586b\u5145\u4e00\u4e0b\u5373\u53ef s = \"eW91eQ\" # ret = base64.b64decode(s) # print(ret) s += (\"=\" * (4 - len(s) % 4)) print(\"\u586b\u5145\u540e\", s) ret = base64.b64decode(s).decode() print(ret)","title":"\uff083\uff09base64\u6d4b\u8bd5"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4base64","text":"# \u65b9\u5f0f1 data = res.text.replace(\"-\", \"+\").replace(\"_\", \"/\") base64.b64decode(data) # \u65b9\u5f0f2 data = base64.b64decode(res.text, altchars=b\"-_\") # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41","title":"\uff084\uff09base64\u53d8\u79cd"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4base64_1","text":"base64 \u7f16\u7801\u7684\u4f18\u70b9\uff1a \u7b97\u6cd5\u662f\u7f16\u7801\uff0c\u4e0d\u662f\u538b\u7f29\uff0c\u7f16\u7801\u540e\u53ea\u4f1a\u589e\u52a0\u5b57\u8282\u6570\uff08\u4e00\u822c\u662f\u6bd4\u4e4b\u524d\u7684\u591a1/3\uff0c\u6bd4\u5982\u4e4b\u524d\u662f3\uff0c \u7f16\u7801\u540e\u662f4\uff09 \u7b97\u6cd5\u7b80\u5355\uff0c\u57fa\u672c\u4e0d\u5f71\u54cd\u6548\u7387 \u7b97\u6cd5\u53ef\u9006\uff0c\u89e3\u7801\u5f88\u65b9\u4fbf\uff0c\u4e0d\u7528\u4e8e\u79c1\u5bc6\u4f20\u8f93\u3002 \u6bd5\u7adf\u7f16\u7801\u4e86\uff0c\u8089\u773c\u4e0d\u80fd\u76f4\u63a5\u8bfb\u51fa\u539f\u59cb\u5185\u5bb9\u3002 \u52a0\u5bc6\u540e\u7684\u5b57\u7b26\u4e32\u53ea\u6709\u30100-9a-zA-Z+/=\u3011 \uff0c\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\uff08\u8f6c\u8bd1\u5b57\u7b26\uff09\u4e5f\u53ef\u4ee5\u4f20\u8f93\uff08\u5173\u952e\uff01\uff01\uff01\uff09 \u6709\u4e9b\u7f51\u7edc\u4f20\u8f93\u534f\u8bae\u662f\u4e3a\u4e86\u4f20\u8f93 ASCII\u6587\u672c \u8bbe\u8ba1\u7684\uff0c\u5f53\u4f60\u4f7f\u7528\u5176\u4f20\u8f93\u4e8c\u8fdb\u5236\u6d41\u65f6\uff08\u6bd4\u5982\u89c6\u9891/\u56fe\u7247\uff09\uff0c\u4e8c\u8fdb\u5236\u6d41\u4e2d\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u88ab\u534f\u8bae\u9519\u8bef\u7684\u8bc6\u522b\u4e3a\u63a7\u5236\u5b57\u7b26\u7b49\u7b49\uff0c\u56e0\u800c\u51fa\u73b0\u9519\u8bef\u3002\u90a3\u8fd9\u65f6\u5c31\u8981\u5c06\u4e8c\u8fdb\u5236\u6d41\u4f20\u8f93\u7f16\u7801\uff0c\u56e0\u4e3a\u6709\u4e9b8Bit\u5b57\u8282\u7801\u5e76\u6ca1\u6709\u5bf9\u5e94\u7684ASCII\u5b57\u7b26\u3002 \u6bd4\u5982\u5341\u8fdb\u5236ASCII\u78018\u5bf9\u5e94\u7684\u662f\u540e\u9000\u7b26\u53f7(backspace), \u5982\u679c\u88ab\u7f16\u7801\u7684\u6570\u636e\u4e2d\u5305\u542b\u8fd9\u4e2a\u6570\u503c\uff0c\u90a3\u4e48\u7f16\u7801\u51fa\u6765\u7684\u7ed3\u679c\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u91cc\u4f1a\u5bfc\u81f4\u524d\u4e00\u4e2a\u5b57\u7b26\u88ab\u5220\u6389\u3002\u53c8\u6bd4\u5982ASCII\u78010\u5bf9\u5e94\u7684\u662f\u7a7a\u5b57\u7b26\uff0c\u5728\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u91cc\u4ee3\u8868\u5b57\u7b26\u4e32\u7ed3\u675f\uff0c\u540e\u7eed\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u88ab\u5904\u7406\u4e86\u3002 \u7528Base64\u7f16\u7801\u56e0\u4e3a\u9650\u5b9a\u4e86\u7528\u4e8e\u7f16\u7801\u7684\u5b57\u7b26\u96c6\uff0c\u786e\u4fdd\u7f16\u7801\u7684\u7ed3\u679c\u53ef\u6253\u5370\u4e14\u65e0\u6b67\u4e49\u3002 \u4e0d\u540c\u7684\u7f51\u7edc\u8282\u70b9\u8bbe\u5907\u4ea4\u4e92\u6570\u636e\u9700\u8981\uff1a\u8bbe\u5907A\u628abase64\u7f16\u7801\u540e\u7684\u6570\u636e\u5c01\u88c5\u5728 json\u5b57\u7b26\u4e32 \u91cc\uff0c\u8bbe\u5907B\u5148\u89e3\u6790json\u62ff\u5230value\uff0c\u518d\u8fdb\u884cbase64\u89e3\u7801\u62ff\u5230\u60f3\u8981\u7684\u6570\u636e\u3002 \u65e9\u5e74\u5236\u5b9a\u7684\u4e00\u4e9b\u534f\u8bae\u90fd\u662f\u53ea\u652f\u6301\u6587\u672c\u8bbe\u5b9a\u7684\u3002\u968f\u7740\u4e0d\u65ad\u53d1\u5c55\u9700\u8981\u652f\u6301\u975e\u6587\u672c\u4e86\uff0c\u624d\u641e\u4e86\u4e00\u4e2abase64\u505a\u517c\u5bb9 \u867d\u7136\u7f16\u7801\u4e4b\u540e\u7684\u6570\u636e\u4e0e\u52a0\u5bc6\u4e00\u6837\u90fd\u5177\u6709\u4e0d\u53ef\u89c1\u6027\uff0c\u4f46\u7f16\u7801\u4e0e\u52a0\u5bc6\u7684\u6982\u5ff5\u5e76\u4e0d\u4e00\u6837\u3002\u7f16\u7801\u662f\u516c\u5f00\u7684\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u89e3\u7801\uff1b\u800c\u52a0\u5bc6\u5219\u76f8\u53cd\uff0c\u4f60\u53ea\u5e0c\u671b\u81ea\u5df1\u6216\u8005\u7279\u5b9a\u7684\u4eba\u624d\u53ef\u4ee5\u5bf9\u5185\u5bb9\u8fdb\u884c\u89e3\u5bc6\u3002 base64\u5904\u7406\u56fe\u7247\u6570\u636e\uff1a import base64 source = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA7VBMVEUAAAD////////s8v////+txP+qwv+4zf/w9f/2+P+hu//Q3f+yyP+4zf/Q3f////+kvv+90P+80f+2yv/S4P/T4P/M2//z9/+cuP/V4P9Whv////9Uhf9Sg/9Pgf9NgP/8/f9di/9Xh/9lkf5aif9qlP7z9//k7P/c5v+2y/94nv51nP6lv/+LrP6Ep/6BpP5gjf7v9P+wxv/U4f/M2/+sxP+vxv73+f/P3v/J2v+5zf+ivP+fuv9xmf+Ytv6Usv6Hqf58of5vl/7m7v/g6f+zyf6QsP75+//q8P/B0v/W4//C1P6+0P6qwv6ct/76fHZiAAAAGnRSTlMAGAaVR/Py45aC9Mfy2b8t9OPZ2ce/v4L0x/e74/EAAAIZSURBVDjLZVPXYuIwEDSmQ4BLv5O0ku3Yhwu2IZTQe0hy7f8/57QSoYR5sVea1c424wgzl324LRRuH7I507hEJluYucCFEOBGhWzmy7X5+N0WwIjTbrcdBsKulM0z96onGCGE2X6n+cTkj/CqJ480igzkNXp26E9JkABSbBz8i4Bn3EkH840mKHoxs49fZQzt2Kd03FQEzSB3WsejB9Jqf1CJQBM0wCurABWBoub0gkDENwyStTHA62pwSWDtklRQ4FLfjnaiPqVW60hAYeLKNHIREOZuKTL80H6XBFCwn4BAmDOyLiOQUIlOSEjaoS+Ju57NZuul73Fml4w6yAivSLBW3MGfcfBmIegmArg3alICdJHgy1jQt8Z/6CcC4DdGXhLIoiWRACpbLYbDYW80GnXp2GH8ShP+PUvEoHsAIFq9Xm8+kXlIwkkI9pm+05Tm3yWqu9EiB0pkwjWBx2i+tND1XqeZqpPU4VhUbq/ekR8CwTRVoRxf3ifTbeIwcONNsJZ2lxFVKDMv1KNvS2zXdrnD+COvR1PQpTZKNlKD3cLCOJNnivgVxkw169BunlKFaV9/B+LQbqOsByY4IVgDB59dl/cjR9TIJV1Lh7CGqUqH/DDPhhZYOPkdLz6m0X7GrzPHsSe6zJwzxvm+5NeNi8U5ABfn7mz7zHJFrZ6+BY6rd7m8kQtcAtwwXzq4n69/vZbP1+pn6/8fsrRmHUhmpYYAAAAASUVORK5CYII=\" s = source.split(\",\")[1] with open(\"a.png\", \"wb\") as f: f.write(base64.b64decode(s))","title":"\uff084\uff09\u4e3a\u4ec0\u4e48\u8981base64\u7f16\u7801"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4aesdes","text":"AES\u662f\u4e00\u79cd\u5bf9\u79f0\u52a0\u5bc6\uff0c\u6240\u8c13\u5bf9\u79f0\u52a0\u5bc6\u5c31\u662f\u52a0\u5bc6\u4e0e\u89e3\u5bc6\u4f7f\u7528\u7684\u79d8\u94a5\u662f\u4e00\u4e2a\u3002 \u5e38\u89c1\u7684\u5bf9\u79f0\u52a0\u5bc6: AES, DES, 3DES. \u6211\u4eec\u8fd9\u91cc\u8ba8\u8bbaAES\u3002 \u5b89\u88c5\uff1a pip install pycryptodome AES \u52a0\u5bc6\u6700\u5e38\u7528\u7684\u6a21\u5f0f\u5c31\u662f ECB\u6a21\u5f0f \u548c CBC \u6a21\u5f0f\uff0c\u5f53\u7136\u8fd8\u6709\u5f88\u591a\u5176\u5b83\u6a21\u5f0f\uff0c\u4ed6\u4eec\u90fd\u5c5e\u4e8eAES\u52a0\u5bc6\u3002ECB\u6a21\u5f0f\u548cCBC \u6a21\u5f0f\u4fe9\u8005\u533a\u522b\u5c31\u662f ECB \u4e0d\u9700\u8981 iv\u504f\u79fb\u91cf\uff0c\u800cCBC\u9700\u8981\u3002 \u53c2\u6570 \u4f5c\u7528\u53ca\u6570\u636e\u7c7b\u578b 1. \u79d8\u94a5 \u52a0\u5bc6\u7684\u65f6\u5019\u7528\u79d8\u94a5\uff0c\u89e3\u5bc6\u7684\u65f6\u5019\u9700\u8981\u540c\u6837\u7684\u79d8\u94a5\u624d\u80fd\u89e3\u51fa\u6765; \u6570\u636e\u7c7b\u578b\u4e3abytes 2. \u660e\u6587 \u9700\u8981\u52a0\u5bc6\u7684\u53c2\u6570; \u6570\u636e\u7c7b\u578b\u4e3abytes 3. \u6a21\u5f0f aes \u52a0\u5bc6\u5e38\u7528\u7684\u6709 ECB \u548c CBC \u6a21\u5f0f\uff08\u6211\u53ea\u7528\u4e86\u8fd9\u4e24\u4e2a\u6a21\u5f0f\uff0c\u8fd8\u6709\u5176\u4ed6\u6a21\u5f0f\uff09;\u6570\u636e\u7c7b\u578b\u4e3aaes\u7c7b\u5185\u90e8\u7684\u679a\u4e3e\u91cf iv \u504f\u79fb\u91cf \u8fd9\u4e2a\u53c2\u6570\u5728 ECB \u6a21\u5f0f\u4e0b\u4e0d\u9700\u8981\uff0c\u5728 CBC \u6a21\u5f0f\u4e0b\u9700\u8981\uff1b\u6570\u636e\u7c7b\u578b\u4e3abytes \"\"\" \u957f\u5ea6 16: *AES-128* 24: *AES-192* 32: *AES-256* MODE \u52a0\u5bc6\u6a21\u5f0f. \u5e38\u89c1\u7684ECB, CBC ECB\uff1a\u662f\u4e00\u79cd\u57fa\u7840\u7684\u52a0\u5bc6\u65b9\u5f0f\uff0c\u5bc6\u6587\u88ab\u5206\u5272\u6210\u5206\u7ec4\u957f\u5ea6\u76f8\u7b49\u7684\u5757\uff08\u4e0d\u8db3\u8865\u9f50\uff09\uff0c\u7136\u540e\u5355\u72ec\u4e00\u4e2a\u4e2a\u52a0\u5bc6\uff0c\u4e00\u4e2a\u4e2a\u8f93\u51fa\u7ec4\u6210\u5bc6\u6587\u3002 CBC\uff1a\u662f\u4e00\u79cd\u5faa\u73af\u6a21\u5f0f\uff0c\u524d\u4e00\u4e2a\u5206\u7ec4\u7684\u5bc6\u6587\u548c\u5f53\u524d\u5206\u7ec4\u7684\u660e\u6587\u5f02\u6216\u6216\u64cd\u4f5c\u540e\u518d\u52a0\u5bc6\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u589e\u5f3a\u7834\u89e3\u96be\u5ea6\u3002 \"\"\"","title":"\u30104\u3011\u5bf9\u79f0\u52a0\u5bc6\uff08AES\u4e0eDES\uff09"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#aesecb","text":"ECB\u52a0\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282 text = 'alex is dsb!!!!!' # text = 'alex is dsb' # \u9700\u8981\u52a0\u5bc6\u7684\u5185\u5bb9 # while len(text.encode('utf-8')) % 16 != 0: # \u5982\u679ctext\u4e0d\u8db316\u4f4d\u7684\u500d\u6570\u5c31\u7528\u7a7a\u683c\u8865\u8db3\u4e3a16\u4f4d # text += '\\0' text = text.encode() print(\"\u5b8c\u6574text:\", text) aes = AES.new(key, AES.MODE_ECB) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 en_text = aes.encrypt(text) # \u52a0\u5bc6\u660e\u6587 print(\"\u52a0\u5bc6\u6570\u636e:::\", en_text) en_text = base64.b64encode(en_text).decode() # \u5c06\u8fd4\u56de\u7684\u5b57\u8282\u578b\u6570\u636e\u8f6c\u8fdb\u884cbase64\u7f16\u7801 print(en_text) # rRPMWCaOBYahYnKUJzq65A== ECB\u89e3\u5bc6\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282\uff08\u56e0\u4e3apython3\u7684\u5b57\u7b26\u4e32\u662funicode\u7f16\u7801\uff0c\u9700\u8981 encode\u624d\u53ef\u4ee5\u8f6c\u6362\u6210\u5b57\u8282\u578b\u6570\u636e\uff09 model = AES.MODE_ECB # \u5b9a\u4e49\u6a21\u5f0f aes = AES.new(key, model) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 text = '3NeIhJsnhzy3Ojoquz+9eg=='.encode() # \u9700\u8981\u89e3\u5bc6\u7684\u6587\u672c ecrypted_base64 = base64.b64decode(text) # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 str = aes.decrypt(ecrypted_base64).decode() # \u89e3\u5bc6 print(str) \u4ee5\u4e0a\u662f\u9488\u5bf9ECB\u6a21\u5f0f\u7684\u52a0\u5bc6\u89e3\u5bc6\uff0c\u4ece\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u53ef\u4ee5\u770b\u51fa\u53c2\u6570\u4e2d\u6709\u51e0\u4e2a\u9650\u5236\u3002 \u79d8\u94a5\u5fc5\u987b\u4e3a16\u5b57\u8282\u6216\u800516\u5b57\u8282\u7684\u500d\u6570\u7684\u5b57\u8282\u578b\u6570\u636e\u3002 \u660e\u6587\u5fc5\u987b\u4e3a16\u5b57\u8282\u6216\u800516\u5b57\u8282\u7684\u500d\u6570\u7684\u5b57\u8282\u578b\u6570\u636e\uff0c\u5982\u679c\u4e0d\u591f16\u5b57\u8282\u9700\u8981\u8fdb\u884c\u8865\u5168\uff0c\u5173\u4e8e\u8865\u5168\u89c4\u5219\uff0c\u540e\u9762\u4f1a\u5728\u8865\u5168\u6a21\u5f0f\u4e2d\u5177\u4f53\u4ecb\u7ecd\u3002","title":"AES\u4e4bECB\u6a21\u5f0f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#aescbc","text":"CBC\u52a0\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282 text = 'alex is dsb!!!!!' # text = 'alex is dsb' # \u9700\u8981\u52a0\u5bc6\u7684\u5185\u5bb9 # while len(text.encode('utf-8')) % 16 != 0: # \u5982\u679ctext\u4e0d\u8db316\u4f4d\u7684\u500d\u6570\u5c31\u7528\u7a7a\u683c\u8865\u8db3\u4e3a16\u4f4d # text += '\\0' text = text.encode() print(\"\u5b8c\u6574text:\", text) iv = b'abcdabcdabcdabcd' #\u504f\u79fb\u91cf--\u5fc5\u987b16\u5b57\u8282 aes = AES.new(key, AES.MODE_CBC,iv) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 en_text = aes.encrypt(text) # \u52a0\u5bc6\u660e\u6587 print(\"aes\u52a0\u5bc6\u6570\u636e:::\", en_text) en_text = base64.b64encode(en_text).decode() # \u5c06\u8fd4\u56de\u7684\u5b57\u8282\u578b\u6570\u636e\u8f6c\u8fdb\u884cbase64\u7f16\u7801 print(en_text) # rRPMWCaOBYahYnKUJzq65A== CBC\u89e3\u5bc6\u6848\u4f8b\uff1a from Crypto.Cipher import AES import base64 key = '1234567890123456'.encode() # \u79d8\u94a5 # \u79d8\u94a5\uff1a\u5fc5\u987b\u662f16\u4f4d\u5b57\u8282\u6216\u800524\u4f4d\u5b57\u8282\u6216\u800532\u4f4d\u5b57\u8282\uff08\u56e0\u4e3apython3\u7684\u5b57\u7b26\u4e32\u662funicode\u7f16\u7801\uff0c\u9700\u8981 encode\u624d\u53ef\u4ee5\u8f6c\u6362\u6210\u5b57\u8282\u578b\u6570\u636e\uff09 model = AES.MODE_CBC # \u5b9a\u4e49\u6a21\u5f0f iv = b'abcdabcdabcdabcd' aes = AES.new(key, model, iv) # \u521b\u5efa\u4e00\u4e2aaes\u5bf9\u8c61 text = 'J8bwyhYt1chAPAGu8N6kKA=='.encode() # \u9700\u8981\u89e3\u5bc6\u7684\u6587\u672c ecrypted_base64 = base64.b64decode(text) # base64\u89e3\u7801\u6210\u5b57\u8282\u6d41 str = aes.decrypt(ecrypted_base64).decode() # \u89e3\u5bc6 print(\"aes\u89e3\u5bc6\u6570\u636e:::\") \u5728Python\u4e2d\u8fdb\u884cAES\u52a0\u5bc6\u89e3\u5bc6\u65f6\uff0c\u6240\u4f20\u5165\u7684\u5bc6\u6587\u3001\u660e\u6587\u3001\u79d8\u94a5\u3001iv\u504f\u79fb\u91cf\u3001\u90fd\u9700\u8981\u662fbytes\uff08\u5b57\u8282\u578b\uff09\u6570\u636e\u3002python \u5728\u6784\u5efaaes\u5bf9\u8c61\u65f6\u4e5f\u53ea\u80fd\u63a5\u53d7bytes\u7c7b\u578b\u6570\u636e\u3002 \u5f53\u79d8\u94a5\uff0civ\u504f\u79fb\u91cf\uff0c\u5f85\u52a0\u5bc6\u7684\u660e\u6587\uff0c\u5b57\u8282\u957f\u5ea6\u4e0d\u591f16\u5b57\u8282\u6216\u800516\u5b57\u8282\u500d\u6570\u7684\u65f6\u5019\u9700\u8981\u8fdb\u884c\u8865\u5168\u3002 CBC\u6a21\u5f0f\u9700\u8981\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\uff0c\u4e3a\u4e86\u9632\u6b62\u8fd9\u7c7b\u9519\u8bef\uff0c\u65e0\u8bba\u662f\u4ec0\u4e48\u6a21\u5f0f\u90fd\u91cd\u65b0\u751f\u6210AES\u5bf9\u8c61\u5c31\u53ef\u4ee5\u4e86\u3002","title":"AES\u4e4bCBC\u6a21\u5f0f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5rsa","text":"\u975e\u5bf9\u79f0\u52a0\u5bc6. \u52a0\u5bc6\u548c\u89e3\u5bc6\u7684\u79d8\u94a5\u4e0d\u662f\u540c\u4e00\u4e2a\u79d8\u94a5. \u8fd9\u91cc\u9700\u8981\u4e24\u628a\u94a5\u5319. \u4e00\u4e2a\u516c\u94a5, \u4e00\u4e2a\u79c1\u94a5. \u516c\u94a5\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef. \u53d1\u9001\u7aef\u7528\u516c\u94a5\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u5bc6. \u518d\u53d1\u9001\u7ed9\u63a5\u6536\u7aef, \u63a5\u6536\u7aef\u4f7f\u7528\u79c1\u94a5\u6765\u5bf9\u6570\u636e\u89e3\u5bc6. \u7531\u4e8e\u79c1\u94a5\u53ea\u5b58\u653e\u5728\u63a5\u53d7\u7aef\u8fd9\u8fb9. \u6240\u4ee5\u5373\u4f7f\u6570\u636e\u88ab\u622a\u83b7\u4e86. \u4e5f\u662f\u65e0\u6cd5\u8fdb\u884c\u89e3\u5bc6\u7684. \u516c\u94a5\u548c\u79c1\u94a5 \u5e38\u89c1\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5: RSA, DSA\u7b49\u7b49, \u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a. RSA\u52a0\u5bc6, \u4e5f\u662f\u6700\u5e38\u89c1\u7684\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848 \u521b\u5efa\u516c\u94a5\u548c\u79c1\u94a5 from Crypto.PublicKey import RSA # \u751f\u6210\u79d8\u94a5 rsakey = RSA.generate(1024) with open(\"rsa.public.pem\", mode=\"wb\") as f: f.write(rsakey.publickey().exportKey()) with open(\"rsa.private.pem\", mode=\"wb\") as f: f.write(rsakey.exportKey()) \u52a0\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 # \u52a0\u5bc6 data = \"\u6211\u559c\u6b22\u4f60\" with open(\"rsa.public.pem\", mode=\"r\") as f: pk = f.read() rsa_pk = RSA.importKey(pk) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.encrypt(data.encode(\"utf-8\")) # \u5904\u7406\u6210b64\u65b9\u4fbf\u4f20\u8f93 b64_result = base64.b64encode(result).decode(\"utf-8\") print(b64_result) \u89e3\u5bc6 from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 import base64 data = \"BkiKG8jzVGzbWOl4m8NXJEYglgtxhOB05MGmap8JSP97GzoewPBmDTs7c5iACUof3k/uJf0H88GygajVgBvkcbckJp7oO+Qj6VSUQYTOHhKN/VG2a8v+WzL34EO/S7BYoj2oOxIDAr8wDLxYxjBeXq/Be6Q1yBbnZcKaMkifhP8=\" # \u89e3\u5bc6 with open(\"rsa.private.pem\", mode=\"r\") as f: prikey = f.read() rsa_pk = RSA.importKey(prikey) rsa = PKCS1_v1_5.new(rsa_pk) result = rsa.decrypt(base64.b64decode(data), None) print(\"rsa\u89e3\u5bc6\u6570\u636e:::\", result.decode(\"utf-8","title":"\u30105\u3011\u975e\u5bf9\u79f0\u52a0\u5bc6(RSA)"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#103","text":"","title":"10.3\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u6709\u9053\u7ffb\u8bd1"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#part01","text":"","title":"Part01:\u9006\u5411\u8bf7\u6c42"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_26","text":"","title":"\uff081\uff09\u6293\u5305"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2js","text":"\u83b7\u53d6\u8bf7\u6c42\u5165\u53e3:\u641c\u7d22\u5173\u952e\u5b57\uff0c\u6bd4\u5982sign\uff08\u6709\u65f6\u5019\u592a\u591a\u4e0d\u597d\u7528\uff09\uff0c\u6bd4\u5982\u8bf7\u6c42\u8def\u5f84","title":"\uff082\uff09\u83b7\u53d6JS\u7684\u8bf7\u6c42\u5165\u53e3"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_19","text":"\u5206\u6790\u8bf7\u6c42\u53c2\u6570","title":"\uff083\uff09\u83b7\u53d6\u6784\u5efa\u6570\u636e\u7684\u76ee\u6807\u51fd\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_14","text":"\u65b9\u5f0f1: \u65b9\u5f0f2:","title":"\uff084\uff09\u83b7\u53d6\u76ee\u6807\u51fd\u6570\u6e90\u7801\u4f4d\u7f6e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_7","text":"# Python\u9006\u5411\u6a21\u62df\uff1a import time import hashlib import requests session = requests.session() session.get(\"https://fanyi.youdao.com/\") word = \"apple\" # (1) \u6784\u5efasign\u503c t = str(1683620934858) s = f\"client=fanyideskweb&mysticTime={t}&product=webfanyi&key=fsdsogkndfokasodnaso\" md5 = hashlib.md5() md5.update(s.encode()) sign = md5.hexdigest() print(\"sign:::\", sign) # sign::: d246611271b76b9cbf43bb075a3d5ccb md5\u662f\u6807\u51c6\u7684\uff0c\u6ca1\u6709\u9b54\u6539\uff0c\u7a0b\u5e8f\u5458\u662f\u4e2a\u597d\u4eba\uff01 \u5b8c\u6574\u7684\u9006\u5411\u4ee3\u7801\u4e5f\u5c31\u51fa\u6765\u4e86\uff1a \u7ed3\u679c\u4e3a\uff1a Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6JKK7ArS9fJXAcsG7ufBIE0gd6fbnhFcsGmdXspZe-8whVFbRB_8Fc9JlMHh8DDXnskDhGfEscN_rfi-A-AHB3F9Vets82vIYpkGNaJOft_JA-m5cGEjo-UNRDDpkTz_NIAvo5PbATpkh7PSna2tHcE6Hou9GBtPLB67vjScwplB96-zqZKXJJEzU5HGF0oPDY_weAkXArzXyGLBPXFCnn_IWJDkGD4vqBQQAh2n52f48GD_cb-PSCT_8b-ESsKUI9NJa11XsdaUZxAc8TzrYnXwdcQbtl_kZGKhS6_rCtuNEBouA_lvM2CbS7TTtV2U4zVmJKpp-c6nt3yZePK3Av01GWn1pH_3sZbaPEx8DUjSbdp4i4iK-Mj4p2HPoph67DR7B9MFETYku_28SgP9xsKRRvFH4aHBHESWX4FDbwaU=","title":"\uff085\uff09 \u9006\u5411\u5b9e\u73b0"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#part02","text":"","title":"Part02\uff1a\u89e3\u5bc6\u6570\u636e"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_27","text":"","title":"\uff081\uff09\u89e3\u5bc6\u5165\u53e3"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_20","text":"","title":"\uff082\uff09\u67e5\u627e\u89e3\u5bc6\u51fd\u6570"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_20","text":"import hashlib def get_md5_digest(newkey): md5 = hashlib.md5() md5.update(newkey.encode()) return md5.digest() key = \"ydsecret://query/key/B*RGygVywfNBwpmBaZg*WT7SIOUP2T0C9WHMZN39j^DAdaZhAnxvGcCY6VYFwnHl\" iv = \"ydsecret://query/iv/C@lZe2YzHtZ2CYgaXKSVfsb7Y4QWHjITPPZ0nQp87fBeJ!Iv6v^6fvi2WN@bYpJ4\" key_md5 = get_md5_digest(key) iv_md5 = get_md5_digest(iv) \u57fa\u4e8ePython\u7684\u5b8c\u6574\u89e3\u5bc6\uff1a \u57fa\u4e8eJS\u7684\u5b8c\u6574\u89e3\u5bc6\uff1a const crypto = require('crypto'); function g(e) { return crypto.createHash(\"md5\").update(e).digest() } function s() { let o = 'ydsecret://query/key/B*RGygVywfNBwpmBaZg*WT7SIOUP2T0C9WHMZN39j^DAdaZhAnxvGcCY6VYFwnHl' let n = 'ydsecret://query/iv/C@lZe2YzHtZ2CYgaXKSVfsb7Y4QWHjITPPZ0nQp87fBeJ!Iv6v^6fvi2WN@bYpJ4' const a = Buffer.alloc(16, g(o)) , c = Buffer.alloc(16, g(n)) , i = crypto.createDecipheriv(\"aes-128-cbc\", a, c); let s = i.update(t, \"base64\", \"utf-8\"); return s += i.final(\"utf-8\") } t = 'Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6JKK7ArS9fJXAcsG7ufBIE0gd6fbnhFcsGmdXspZe-8whVFbRB_8Fc9JlMHh8DDXnskDhGfEscN_rfi-A-AHB3F9Vets82vIYpkGNaJOft_JA-m5cGEjo-UNRDDpkTz_NIAvo5PbATpkh7PSna2tHcE6Hou9GBtPLB67vjScwplB96-zqZKXJJEzU5HGF0oPDY_weAkXArzXyGLBPXFCnn_IWJDkGD4vqBQQAh2n52f48GD_cb-PSCT_8b-ESsKUI9NJa11XsdaUZxAc8TzrYnXwdcQbtl_kZGKhS6_rCtuNEBouA_lvM2CbS7TTtV2U4zVmJKpp-c6nt3yZePK3Av01GWn1pH_3sZbaPEx8DUjSbdp4i4iK-Mj4p2HPoph67DR7B9MFETYku_28SgP9xsKRRvFH4aHBHESWX4FDbwaU=' console.log(s()) # \u57fa\u4e8eexecjs\u5b9e\u73b0js\u4e0epy\u7684\u7ed3\u5408 import execjs with open(\"jiemi.js\") as f: data = f.read() JS = execjs.compile(data) t = 'Z21kD9ZK1ke6ugku2ccWu-MeDWh3z252xRTQv-wZ6jddVo3tJLe7gIXz4PyxGl73nSfLAADyElSjjvrYdCvEP4pfohVVEX1DxoI0yhm36ytQNvu-WLU94qULZQ72aml6JKK7ArS9fJXAcsG7ufBIE0gd6fbnhFcsGmdXspZe-8whVFbRB_8Fc9JlMHh8DDXnskDhGfEscN_rfi-A-AHB3F9Vets82vIYpkGNaJOft_JA-m5cGEjo-UNRDDpkTz_NIAvo5PbATpkh7PSna2tHcE6Hou9GBtPLB67vjScwplB96-zqZKXJJEzU5HGF0oPDY_weAkXArzXyGLBPXFCnn_IWJDkGD4vqBQQAh2n52f48GD_cb-PSCT_8b-ESsKUI9NJa11XsdaUZxAc8TzrYnXwdcQbtl_kZGKhS6_rCtuNEBouA_lvM2CbS7TTtV2U4zVmJKpp-c6nt3yZePK3Av01GWn1pH_3sZbaPEx8DUjSbdp4i4iK-Mj4p2HPoph67DR7B9MFETYku_28SgP9xsKRRvFH4aHBHESWX4FDbwaU=' ret = JS.call(\"jieMi\", t) print(ret)","title":"\uff083\uff09\u89e3\u5bc6\u5b9e\u73b0"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#104","text":"","title":"10.4\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u7f51\u6613\u4e91\u97f3\u4e50"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_28","text":"","title":"\u30101\u3011\u6293\u5305\u89e3\u6790"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_21","text":"\u65b9\u5f0f1: \u65b9\u5f0f2:","title":"\u30102\u3011\u76ee\u6807\u5b9a\u4f4d"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3_21","text":"","title":"\u30103\u3011\u9006\u5411\u5b9e\u73b0"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_29","text":"const CryptoJS = require('crypto-js'); function RSAKeyPair(a, b, c) { this.e = biFromHex(a), this.d = biFromHex(b), this.m = biFromHex(c), this.chunkSize = 2 * biHighIndex(this.m), this.radix = 16, this.barrett = new BarrettMu(this.m) } function twoDigit(a) { return (10 > a ? \"0\" : \"\") + String(a) } function encryptedString(a, b) { for (var f, g, h, i, j, k, l, c = new Array, d = b.length, e = 0; d > e;) c[e] = b.charCodeAt(e), e++; for (; 0 != c.length % a.chunkSize;) c[e++] = 0; for (f = c.length, g = \"\", e = 0; f > e; e += a.chunkSize) { for (j = new BigInt, h = 0, i = e; i < e + a.chunkSize; ++h) j.digits[h] = c[i++], j.digits[h] += c[i++] << 8; k = a.barrett.powMod(j, a.e), l = 16 == a.radix ? biToHex(k) : biToString(k, a.radix), g += l + \" \" } return g.substring(0, g.length - 1) } function decryptedString(a, b) { var e, f, g, h, c = b.split(\" \"), d = \"\"; for (e = 0; e < c.length; ++e) for (h = 16 == a.radix ? biFromHex(c[e]) : biFromString(c[e], a.radix), g = a.barrett.powMod(h, a.d), f = 0; f <= biHighIndex(g); ++f) d += String.fromCharCode(255 & g.digits[f], g.digits[f] >> 8); return 0 == d.charCodeAt(d.length - 1) && (d = d.substring(0, d.length - 1)), d } function setMaxDigits(a) { maxDigits = a, ZERO_ARRAY = new Array(maxDigits); for (var b = 0; b < ZERO_ARRAY.length; b++) ZERO_ARRAY[b] = 0; bigZero = new BigInt, bigOne = new BigInt, bigOne.digits[0] = 1 } function BigInt(a) { this.digits = \"boolean\" == typeof a && 1 == a ? null : ZERO_ARRAY.slice(0), this.isNeg = !1 } function biFromDecimal(a) { for (var d, e, f, b = \"-\" == a.charAt(0), c = b ? 1 : 0; c < a.length && \"0\" == a.charAt(c);) ++c; if (c == a.length) d = new BigInt; else { for (e = a.length - c, f = e % dpl10, 0 == f && (f = dpl10), d = biFromNumber(Number(a.substr(c, f))), c += f; c < a.length;) d = biAdd(biMultiply(d, lr10), biFromNumber(Number(a.substr(c, dpl10)))), c += dpl10; d.isNeg = b } return d } function biCopy(a) { var b = new BigInt(!0); return b.digits = a.digits.slice(0), b.isNeg = a.isNeg, b } function biFromNumber(a) { var c, b = new BigInt; for (b.isNeg = 0 > a, a = Math.abs(a), c = 0; a > 0;) b.digits[c++] = a & maxDigitVal, a >>= biRadixBits; return b } function reverseStr(a) { var c, b = \"\"; for (c = a.length - 1; c > -1; --c) b += a.charAt(c); return b } function biToString(a, b) { var d, e, c = new BigInt; for (c.digits[0] = b, d = biDivideModulo(a, c), e = hexatrigesimalToChar[d[1].digits[0]]; 1 == biCompare(d[0], bigZero);) d = biDivideModulo(d[0], c), digit = d[1].digits[0], e += hexatrigesimalToChar[d[1].digits[0]]; return (a.isNeg ? \"-\" : \"\") + reverseStr(e) } function biToDecimal(a) { var c, d, b = new BigInt; for (b.digits[0] = 10, c = biDivideModulo(a, b), d = String(c[1].digits[0]); 1 == biCompare(c[0], bigZero);) c = biDivideModulo(c[0], b), d += String(c[1].digits[0]); return (a.isNeg ? \"-\" : \"\") + reverseStr(d) } function digitToHex(a) { var b = 15 , c = \"\"; for (i = 0; 4 > i; ++i) c += hexToChar[a & b], a >>>= 4; return reverseStr(c) } function biToHex(a) { var d, b = \"\"; for (biHighIndex(a), d = biHighIndex(a); d > -1; --d) b += digitToHex(a.digits[d]); return b } function charToHex(a) { var h, b = 48, c = b + 9, d = 97, e = d + 25, f = 65, g = 90; return h = a >= b && c >= a ? a - b : a >= f && g >= a ? 10 + a - f : a >= d && e >= a ? 10 + a - d : 0 } function hexToDigit(a) { var d, b = 0, c = Math.min(a.length, 4); for (d = 0; c > d; ++d) b <<= 4, b |= charToHex(a.charCodeAt(d)); return b } function biFromHex(a) { var d, e, b = new BigInt, c = a.length; for (d = c, e = 0; d > 0; d -= 4, ++e) b.digits[e] = hexToDigit(a.substr(Math.max(d - 4, 0), Math.min(d, 4))); return b } function biFromString(a, b) { var g, h, i, j, c = \"-\" == a.charAt(0), d = c ? 1 : 0, e = new BigInt, f = new BigInt; for (f.digits[0] = 1, g = a.length - 1; g >= d; g--) h = a.charCodeAt(g), i = charToHex(h), j = biMultiplyDigit(f, i), e = biAdd(e, j), f = biMultiplyDigit(f, b); return e.isNeg = c, e } function biDump(a) { return (a.isNeg ? \"-\" : \"\") + a.digits.join(\" \") } function biAdd(a, b) { var c, d, e, f; if (a.isNeg != b.isNeg) b.isNeg = !b.isNeg, c = biSubtract(a, b), b.isNeg = !b.isNeg; else { for (c = new BigInt, d = 0, f = 0; f < a.digits.length; ++f) e = a.digits[f] + b.digits[f] + d, c.digits[f] = 65535 & e, d = Number(e >= biRadix); c.isNeg = a.isNeg } return c } function biSubtract(a, b) { var c, d, e, f; if (a.isNeg != b.isNeg) b.isNeg = !b.isNeg, c = biAdd(a, b), b.isNeg = !b.isNeg; else { for (c = new BigInt, e = 0, f = 0; f < a.digits.length; ++f) d = a.digits[f] - b.digits[f] + e, c.digits[f] = 65535 & d, c.digits[f] < 0 && (c.digits[f] += biRadix), e = 0 - Number(0 > d); if (-1 == e) { for (e = 0, f = 0; f < a.digits.length; ++f) d = 0 - c.digits[f] + e, c.digits[f] = 65535 & d, c.digits[f] < 0 && (c.digits[f] += biRadix), e = 0 - Number(0 > d); c.isNeg = !a.isNeg } else c.isNeg = a.isNeg } return c } function biHighIndex(a) { for (var b = a.digits.length - 1; b > 0 && 0 == a.digits[b];) --b; return b } function biNumBits(a) { var e, b = biHighIndex(a), c = a.digits[b], d = (b + 1) * bitsPerDigit; for (e = d; e > d - bitsPerDigit && 0 == (32768 & c); --e) c <<= 1; return e } function biMultiply(a, b) { var d, h, i, k, c = new BigInt, e = biHighIndex(a), f = biHighIndex(b); for (k = 0; f >= k; ++k) { for (d = 0, i = k, j = 0; e >= j; ++j, ++i) h = c.digits[i] + a.digits[j] * b.digits[k] + d, c.digits[i] = h & maxDigitVal, d = h >>> biRadixBits; c.digits[k + e + 1] = d } return c.isNeg = a.isNeg != b.isNeg, c } function biMultiplyDigit(a, b) { var c, d, e, f; for (result = new BigInt, c = biHighIndex(a), d = 0, f = 0; c >= f; ++f) e = result.digits[f] + a.digits[f] * b + d, result.digits[f] = e & maxDigitVal, d = e >>> biRadixBits; return result.digits[1 + c] = d, result } function arrayCopy(a, b, c, d, e) { var g, h, f = Math.min(b + e, a.length); for (g = b, h = d; f > g; ++g, ++h) c[h] = a[g] } function biShiftLeft(a, b) { var e, f, g, h, c = Math.floor(b / bitsPerDigit), d = new BigInt; for (arrayCopy(a.digits, 0, d.digits, c, d.digits.length - c), e = b % bitsPerDigit, f = bitsPerDigit - e, g = d.digits.length - 1, h = g - 1; g > 0; --g, --h) d.digits[g] = d.digits[g] << e & maxDigitVal | (d.digits[h] & highBitMasks[e]) >>> f; return d.digits[0] = d.digits[g] << e & maxDigitVal, d.isNeg = a.isNeg, d } function biShiftRight(a, b) { var e, f, g, h, c = Math.floor(b / bitsPerDigit), d = new BigInt; for (arrayCopy(a.digits, c, d.digits, 0, a.digits.length - c), e = b % bitsPerDigit, f = bitsPerDigit - e, g = 0, h = g + 1; g < d.digits.length - 1; ++g, ++h) d.digits[g] = d.digits[g] >>> e | (d.digits[h] & lowBitMasks[e]) << f; return d.digits[d.digits.length - 1] >>>= e, d.isNeg = a.isNeg, d } function biMultiplyByRadixPower(a, b) { var c = new BigInt; return arrayCopy(a.digits, 0, c.digits, b, c.digits.length - b), c } function biDivideByRadixPower(a, b) { var c = new BigInt; return arrayCopy(a.digits, b, c.digits, 0, c.digits.length - b), c } function biModuloByRadixPower(a, b) { var c = new BigInt; return arrayCopy(a.digits, 0, c.digits, 0, b), c } function biCompare(a, b) { if (a.isNeg != b.isNeg) return 1 - 2 * Number(a.isNeg); for (var c = a.digits.length - 1; c >= 0; --c) if (a.digits[c] != b.digits[c]) return a.isNeg ? 1 - 2 * Number(a.digits[c] > b.digits[c]) : 1 - 2 * Number(a.digits[c] < b.digits[c]); return 0 } function biDivideModulo(a, b) { var f, g, h, i, j, k, l, m, n, o, p, q, r, s, c = biNumBits(a), d = biNumBits(b), e = b.isNeg; if (d > c) return a.isNeg ? (f = biCopy(bigOne), f.isNeg = !b.isNeg, a.isNeg = !1, b.isNeg = !1, g = biSubtract(b, a), a.isNeg = !0, b.isNeg = e) : (f = new BigInt, g = biCopy(a)), new Array(f, g); for (f = new BigInt, g = a, h = Math.ceil(d / bitsPerDigit) - 1, i = 0; b.digits[h] < biHalfRadix;) b = biShiftLeft(b, 1), ++i, ++d, h = Math.ceil(d / bitsPerDigit) - 1; for (g = biShiftLeft(g, i), c += i, j = Math.ceil(c / bitsPerDigit) - 1, k = biMultiplyByRadixPower(b, j - h); -1 != biCompare(g, k);) ++f.digits[j - h], g = biSubtract(g, k); for (l = j; l > h; --l) { for (m = l >= g.digits.length ? 0 : g.digits[l], n = l - 1 >= g.digits.length ? 0 : g.digits[l - 1], o = l - 2 >= g.digits.length ? 0 : g.digits[l - 2], p = h >= b.digits.length ? 0 : b.digits[h], q = h - 1 >= b.digits.length ? 0 : b.digits[h - 1], f.digits[l - h - 1] = m == p ? maxDigitVal : Math.floor((m * biRadix + n) / p), r = f.digits[l - h - 1] * (p * biRadix + q), s = m * biRadixSquared + (n * biRadix + o); r > s;) --f.digits[l - h - 1], r = f.digits[l - h - 1] * (p * biRadix | q), s = m * biRadix * biRadix + (n * biRadix + o); k = biMultiplyByRadixPower(b, l - h - 1), g = biSubtract(g, biMultiplyDigit(k, f.digits[l - h - 1])), g.isNeg && (g = biAdd(g, k), --f.digits[l - h - 1]) } return g = biShiftRight(g, i), f.isNeg = a.isNeg != e, a.isNeg && (f = e ? biAdd(f, bigOne) : biSubtract(f, bigOne), b = biShiftRight(b, i), g = biSubtract(b, g)), 0 == g.digits[0] && 0 == biHighIndex(g) && (g.isNeg = !1), new Array(f, g) } function biDivide(a, b) { return biDivideModulo(a, b)[0] } function biModulo(a, b) { return biDivideModulo(a, b)[1] } function biMultiplyMod(a, b, c) { return biModulo(biMultiply(a, b), c) } function biPow(a, b) { for (var c = bigOne, d = a; ;) { if (0 != (1 & b) && (c = biMultiply(c, d)), b >>= 1, 0 == b) break; d = biMultiply(d, d) } return c } function biPowMod(a, b, c) { for (var d = bigOne, e = a, f = b; ;) { if (0 != (1 & f.digits[0]) && (d = biMultiplyMod(d, e, c)), f = biShiftRight(f, 1), 0 == f.digits[0] && 0 == biHighIndex(f)) break; e = biMultiplyMod(e, e, c) } return d } function BarrettMu(a) { this.modulus = biCopy(a), this.k = biHighIndex(this.modulus) + 1; var b = new BigInt; b.digits[2 * this.k] = 1, this.mu = biDivide(b, this.modulus), this.bkplus1 = new BigInt, this.bkplus1.digits[this.k + 1] = 1, this.modulo = BarrettMu_modulo, this.multiplyMod = BarrettMu_multiplyMod, this.powMod = BarrettMu_powMod } function BarrettMu_modulo(a) { var i, b = biDivideByRadixPower(a, this.k - 1), c = biMultiply(b, this.mu), d = biDivideByRadixPower(c, this.k + 1), e = biModuloByRadixPower(a, this.k + 1), f = biMultiply(d, this.modulus), g = biModuloByRadixPower(f, this.k + 1), h = biSubtract(e, g); for (h.isNeg && (h = biAdd(h, this.bkplus1)), i = biCompare(h, this.modulus) >= 0; i;) h = biSubtract(h, this.modulus), i = biCompare(h, this.modulus) >= 0; return h } function BarrettMu_multiplyMod(a, b) { var c = biMultiply(a, b); return this.modulo(c) } function BarrettMu_powMod(a, b) { var d, e, c = new BigInt; for (c.digits[0] = 1, d = a, e = b; ;) { if (0 != (1 & e.digits[0]) && (c = this.multiplyMod(c, d)), e = biShiftRight(e, 1), 0 == e.digits[0] && 0 == biHighIndex(e)) break; d = this.multiplyMod(d, d) } return c } var maxDigits, ZERO_ARRAY, bigZero, bigOne, dpl10, lr10, hexatrigesimalToChar, hexToChar, highBitMasks, lowBitMasks, biRadixBase = 2, biRadixBits = 16, bitsPerDigit = biRadixBits, biRadix = 65536, biHalfRadix = biRadix >>> 1, biRadixSquared = biRadix * biRadix, maxDigitVal = biRadix - 1, maxInteger = 9999999999999998; setMaxDigits(20), dpl10 = 15, lr10 = biFromNumber(1e15), hexatrigesimalToChar = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"), hexToChar = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"), highBitMasks = new Array(0, 32768, 49152, 57344, 61440, 63488, 64512, 65024, 65280, 65408, 65472, 65504, 65520, 65528, 65532, 65534, 65535), lowBitMasks = new Array(0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535); function a(a) { var d, e, b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", c = \"\"; for (d = 0; a > d; d += 1) e = Math.random() * b.length, e = Math.floor(e), c += b.charAt(e); return c } function b(a, b) { var c = CryptoJS.enc.Utf8.parse(b) , d = CryptoJS.enc.Utf8.parse(\"0102030405060708\") , e = CryptoJS.enc.Utf8.parse(a) , f = CryptoJS.AES.encrypt(e, c, { iv: d, mode: CryptoJS.mode.CBC }); return f.toString() } function c(a, b, c) { var d, e; return setMaxDigits(131), d = new RSAKeyPair(b, \"\", c), e = encryptedString(d, a) } function d(d, e, f, g) { var h = {} , i = a(16); return h.encText = b(d, g), h.encText = b(h.encText, i), h.encSecKey = c(i, e, f), h } function e(a, b, d, e) { var f = {}; return f.encText = c(a + e, b, d), f } ret = d('{\"ids\":\"[1942741405]\",\"level\":\"standard\",\"encodeType\":\"aac\",\"csrf_token\":\"\"}', '010001', '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7', '0CoJUm6Qyw8W8jud') console.log(ret)","title":"\uff081\uff09\u6570\u636e\u52a0\u5bc6"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_22","text":"import execjs import requests data = ( '{\"ids\":\"[1374626440]\",\"level\":\"standard\",\"encodeType\":\"aac\",\"csrf_token\":\"\"}', '010001', '00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7', '0CoJUm6Qyw8W8jud', ) with open(\"\u7f51\u6613\u97f3\u4e50.js\") as f: jsCode = f.read() JS = execjs.compile(jsCode) body = JS.call(\"d\", *data) print(body, type(body)) res = requests.post(\"https://music.163.com/weapi/song/enhance/player/url/v1?csrf_token=\", data={ \"params\": body.get(\"encText\"), \"encSecKey\": body.get(\"encSecKey\"), }) res = res.json() song_url = res.get(\"data\")[0].get(\"url\") res = requests.get(song_url) with open(\"mySong.m4p\", \"wb\") as f: f.write(res.content)","title":"\uff082\uff09\u6a21\u62df\u8bf7\u6c42"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#105","text":"\u67d0\u8f66\u7f51 \u7ec3\u4e60\u7f51\u7ad9","title":"10.5\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u67d0\u8f66\u7f51"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#106","text":"hook cookie\u8bbe\u7f6e (function(){ 'use strict' var _cookie = \"\"; Object.defineProperty(document, 'cookie', { set: function(val) { console.log(val); debugger _cookie = val; return val; }, get: function() { return _cookie; }, }); })() \u65ad\u70b9\uff0chook\u3002 JS\u4ee3\u7801\u9006\u5411\u751f\u6210\u52a8\u6001\u503c\uff1a \u65b9\u5f0f1: var TOKEN_SERVER_TIME = 1684826000.785; document = {} window = {} var xxx = this !function (n, t) { !function () { var r, e, a; r = e = a = n; var u, c, s; u = c = s = t; function v() { var n = arguments[s[0]]; if (!n) return r[0]; for (var t = u[1], o = a[1], i = c[2]; i < n.length; i++) { var v = n.charCodeAt(i) , f = v ^ o; o = v, t += e[2].fromCharCode(f) } return t } var f = c[3] , l = s[4] , p = Wn(e[3], r[4], s[5]) , d = a[5] , h = Wn(c[6], s[7]) , g = c[8] , w = c[9] , m = r[6] , I = u[10] , y = a[7] , _ = (s[11], c[12], s[13]) , C = e[8] , E = u[14] , A = ot(e[9], e[10]) , b = a[11] , T = u[15] , B = c[16] , R = r[12] , k = r[13] , S = s[17] , P = u[18] , M = Wn(s[19], s[20], u[21]) , O = v(s[22], e[14]) , D = s[23] , x = s[24] , N = u[25] , L = u[26] , W = Wn(s[27], r[15]) , F = u[28] , Y = r[16] , j = a[17] , H = e[18] , $ = e[19] , U = r[20] , V = v(c[29], e[21], e[22]) , X = s[30] , G = s[31] , K = s[32] , Q = s[33] , Z = r[23] , q = r[24] , z = v(u[12], u[34], s[35]) , J = u[36] , nn = a[25] , tn = s[37] , rn = c[38] , en = r[26] , an = c[39] , on = s[40] , un = a[27] , cn = u[41] , sn = ot(s[42], c[43]) , vn = r[28] , fn = u[8] , ln = s[44] , pn = a[29] , dn = s[45] , hn = a[30] , gn = c[46] , wn = a[31] , mn = a[32] , In = s[47] , yn = r[33] , _n = a[34] , Cn = c[48] , En = a[8] , An = v(a[35], s[49]) , bn = c[50] , Tn = c[51] , Bn = at(r[36], s[52]) , Rn = ot(r[37], e[38]) , kn = e[39] , Sn = u[53] , Pn = r[40] , Mn = s[54] , On = s[55] , Dn = Wn(u[56], r[41], r[42]) , xn = r[43] , Nn = u[57] , Ln = e[44]; function Wn() { return arguments[u[0]].split(e[0]).reverse().join(c[1]) } var Fn = r[45], Yn = Wn(c[58], e[46]), jn = v(s[59], u[60]), Hn = Wn(r[47], s[61]), $n = s[62], Un = s[63], Vn = u[2], Xn = [new u[27](r[48]), new u[27](c[64])], Gn = [new e[47](ot(a[49])), new u[27](ot(a[50], u[65]))]; var rt; function at() { var n, t, r; n = t = r = u; var a, o, i; a = o = i = e; var c = arguments[o[52]]; if (!c) return t[1]; for (var s = o[0], v = o[1], f = a[52]; f < c.length; f++) { var l = c.charCodeAt(f) , p = l ^ v; v = v * f % n[222] + o[200], s += i[2].fromCharCode(p) } return s } function ot() { var n, t, e; n = t = e = c; var a, o, i; a = o = i = r; var u = arguments[a[52]]; if (!u) return o[0]; for (var s = a[0], v = n[267], f = o[200], l = t[2]; l < u.length; l++) { var p = u.charCodeAt(l); f = (f + t[0]) % v.length, p ^= v.charCodeAt(f), s += i[2].fromCharCode(p) } return s } var qn = function () { var n, t, r; n = t = r = a; var e, o, i; e = o = i = s; var u = o[15] , c = o[102] , f = e[103]; function l(r) { var a = o[102] , i = e[103]; this[n[76]] = r; for (var u = t[52], c = r[a + g + i]; u < c; u++) this[u] = t[52] } return l[e[104]][w + m + I + u] = function () { for (var a = e[105], u = this[a + y], c = [], s = -e[0], v = o[2], f = u[r[56]]; v < f; v++) for (var l = this[v], p = u[v], d = s += p; c[d] = l & parseInt(t[77], n[78]), --p != r[52];) --d, l >>= parseInt(n[79], i[106]); return c } , l[v(t[80], t[81], b)][ot(i[107])] = function (n) { for (var r = e[8], a = this[ot(e[108], e[109])], o = t[52], u = e[2], s = a[c + r + f]; u < s; u++) { var v = a[u] , l = i[2]; do { l = (l << t[82]) + n[o++] } while (--v > t[52]); this[u] = l >>> i[2] } } , l }(); var zn !function (n) { var t = s[13] , o = c[53] , i = r[83] , f = r[84] , l = s[110] , d = r[85] , h = r[86]; function g(n, a, o, i, u) { for (var c = s[13], v = r[87], f = n[s[111]]; a < f;) o[i++] = n[a++] ^ u & parseInt(c + v + t + _, r[88]), u = ~(u * parseInt(e[89], e[82])) } function w(n) { for (var t = c[112], i = r[52], v = n[s[111]], f = []; i < v;) { var l = n[i++] << parseInt(C + t, c[113]) | n[i++] << e[82] | n[i++]; f.push(m.charAt(l >> parseInt(e[90], e[82])), m.charAt(l >> parseInt(s[114], e[78]) & parseInt(a[91], r[88])), m.charAt(l >> u[59] & parseInt(E + o, a[78])), m.charAt(l & parseInt(a[92], u[113]))) } return f.join(e[0]) } for (var m = at(u[115], s[116]), I = {}, y = u[2]; y < parseInt(i + A, e[93]); y++) I[m.charAt(y)] = y; function O(n) { var t, r, e; t = r = e = s; var o, i, u; o = i = u = a; for (var c = ot(i[94]), l = e[2], p = n[o[56]], d = []; l < p;) { var h = I[n.charAt(l++)] << parseInt(at(t[117]), u[82]) | I[n.charAt(l++)] << parseInt(v(t[118], u[95], e[119]), o[88]) | I[n.charAt(l++)] << t[59] | I[n.charAt(l++)]; d.push(h >> parseInt(e[120], t[106]), h >> parseInt(t[121], r[122]) & parseInt(f + b + c, t[106]), h & parseInt(o[96], u[88])) } return d } function D(n) { var t = O(n); if (rn, p, t[r[52]] != h) return error = T + B + l, void 0; var a = t[c[0]] , o = []; return g(t, +parseInt(e[79], c[122]), o, +u[2], a), x(o) == a ? o : void 0 } function x(n) { var t = o; t = Vn; for (var e = c[2], i = a[52], u = n[c[111]]; i < u; i++) e = (e << s[123]) - e + n[i]; return e & parseInt(s[124], r[88]) } function N(n) { var t , r = x(n) , e = [h, r]; return g(n, +a[52], e, +a[88], r), t = P, w(e) } n[e[97]] = w, n[R + k + S] = O, n[u[125]] = N, n[d + P + M] = D }(zn || (zn = {})); !function () { var r, e, a; r = e = a = n; var u, c, s; u = c = s = t; function v() { var n = arguments[s[0]]; if (!n) return r[0]; for (var t = u[1], o = a[1], i = c[2]; i < n.length; i++) { var v = n.charCodeAt(i) , f = v ^ o; o = v, t += e[2].fromCharCode(f) } return t } var f = c[3] , l = s[4] , p = Wn(e[3], r[4], s[5]) , d = a[5] , h = Wn(c[6], s[7]) , g = c[8] , w = c[9] , m = r[6] , I = u[10] , y = a[7] , _ = (s[11], c[12], s[13]) , C = e[8] , E = u[14] , A = ot(e[9], e[10]) , b = a[11] , T = u[15] , B = c[16] , R = r[12] , k = r[13] , S = s[17] , P = u[18] , M = Wn(s[19], s[20], u[21]) , O = v(s[22], e[14]) , D = s[23] , x = s[24] , N = u[25] , L = u[26] , W = Wn(s[27], r[15]) , F = u[28] , Y = r[16] , j = a[17] , H = e[18] , $ = e[19] , U = r[20] , V = v(c[29], e[21], e[22]) , X = s[30] , G = s[31] , K = s[32] , Q = s[33] , Z = r[23] , q = r[24] , z = v(u[12], u[34], s[35]) , J = u[36] , nn = a[25] , tn = s[37] , rn = c[38] , en = r[26] , an = c[39] , on = s[40] , un = a[27] , cn = u[41] , sn = ot(s[42], c[43]) , vn = r[28] , fn = u[8] , ln = s[44] , pn = a[29] , dn = s[45] , hn = a[30] , gn = c[46] , wn = a[31] , mn = a[32] , In = s[47] , yn = r[33] , _n = a[34] , Cn = c[48] , En = a[8] , An = v(a[35], s[49]) , bn = c[50] , Tn = c[51] , Bn = at(r[36], s[52]) , Rn = ot(r[37], e[38]) , kn = e[39] , Sn = u[53] , Pn = r[40] , Mn = s[54] , On = s[55] , Dn = Wn(u[56], r[41], r[42]) , xn = r[43] , Nn = u[57] , Ln = e[44]; function Wn() { return arguments[u[0]].split(e[0]).reverse().join(c[1]) } var Fn = r[45], Yn = Wn(c[58], e[46]), jn = v(s[59], u[60]), Hn = Wn(r[47], s[61]), $n = s[62], Un = s[63], Vn = u[2], Xn = [new u[27](r[48]), new u[27](c[64])], Gn = [new e[47](ot(a[49])), new u[27](ot(a[50], u[65]))]; var Jn; !function (n) { var t = Fn , o = at(c[126], a[98]) , i = r[99] , f = v(U, u[127]) , l = s[128] , p = ot(a[100]) , d = r[5] , h = r[101] , g = ot(u[129]) , w = s[130] , m = r[102] , C = a[103] , E = e[104]; function A(n) { for (var t = (Tn, I, []), e = r[52]; e < n[c[111]]; e++) t.push(n.charCodeAt(e)); return t } function b() { var n = new e[105]; try { return time = s[52].now(), time / parseInt(c[131], a[88]) >>> c[2] } catch (t) { return time = n.getTime(), time / parseInt(s[121], s[84]) >>> r[52] } } function T(n) { var t = u[8] , o = {} , i = function (n, o) { var i = c[102], f, l, p, d; for (o = o.replace(s[132], u[1]), o = o.substring(u[0], o[e[56]] - c[0]), f = o.split(c[133]), p = c[2]; p < f[i + t + O]; p++) if (l = f[p].split(v(r[106], c[134])), l && !(l[r[56]] < s[122])) { for (d = r[88]; d < l[r[56]]; d++) l[r[54]] = l[r[54]] + r[107] + l[d]; l[s[2]] = new r[47](c[135]).test(l[e[52]]) ? l[a[52]].substring(u[0], l[e[52]][D + x] - c[0]) : l[a[52]], l[r[54]] = new a[47](c[135]).test(l[r[54]]) ? l[e[54]].substring(s[0], l[a[54]][a[56]] - u[0]) : l[s[0]], n[l[c[2]]] = l[e[54]] } return n }; return new r[47](e[108]).test(n) && (o = i(o, n)), o } function B(n) { var t, e, a; t = e = a = c; var u, s, v; if (u = s = v = r, typeof n === ot(s[109], sn) && n[Wn(y, a[136], s[110])]) try { switch (parseInt(n[e[137]])) { case parseInt(a[131], t[122]): break; case parseInt(v[111], s[78]): top[e[138]][v[112]] = n[t[139]]; break; case parseInt(u[113], e[122]): top[o + i + N][e[140]] = n[s[114]]; break; default: break } } catch (f) { } } function R(n, t, r) { var e, a, o; e = a = o = u, q ? n.addEventListener(t, r) : n.attachEvent(a[25] + t, r) } function k() { return Math.random() * parseInt(u[141], r[78]) >>> r[52] } function S(n, t) { var o = en , i = new r[47](e[115], a[116]); o = T; var s = new u[27](v(p, r[117], m)); if (n) { var f = n.match(i); if (f) { var l = f[u[0]]; return t && s.test(l) && (l = l.split(r[118]).pop().split(r[107])[c[2]]), l } } } function P(n) { var t = mn , o = c[142] , i = r[119] , v = e[120] , I = a[121]; if (!(n > e[122])) { n = n || a[52]; var y = parseInt(u[143], e[78]) , _ = a[51].createElement(u[144]); t = Q, _[c[145]] = location[r[123]] + a[124] + parseInt((new r[105]).getTime() / y) + (f + o + l), _[e[125]] = function () { Vn = u[0], setTimeout(function () { P(++n) }, n * parseInt(e[126], u[84])) } , _[p + L + d] = _[s[146]] = function () { var n, t, r; n = t = r = a; var e, o, u; e = o = u = c; var s = e[147]; this[t[127]] && this[i + W] !== o[148] && this[u[149]] !== o[150] && this[s + F + h] !== u[151] || (Vn = n[52], _[e[152]] = _[g + w + v] = n[128]) } , c[66][m + I].appendChild(_) } } function M(n) { var t, e, a; t = e = a = r; var o, i, u; return o = i = u = s, new u[27](t[129]).test(n) } function X() { var n = new s[52]; return typeof TOKEN_SERVER_TIME == s[153] ? r[52] : (time = parseInt(TOKEN_SERVER_TIME), time) } function G(n) { var t, e, a; t = e = a = s; var o, i, u; o = i = u = r; for (var c = u[52], v = a[2], f = n[o[56]]; v < f; v++) c = (c << a[123]) - c + n.charCodeAt(v), c >>>= o[52]; return c } function K(n) { var t = new s[27](e[130], s[80]); if (n) { return n.match(t) } } function Z(n) { var t = new u[27](c[154]); if (M(n)) return n; var o = t.test(n) ? -a[86] : -parseInt(r[79], e[88]); return (tn, _, n.split(s[155])).slice(o).join(a[131]) } n[Y + C + j] = T, t = En, n[c[156]] = P, n[ot(u[157])] = B, n[r[132]] = A, n[c[158]] = G, n[c[159]] = k, n[r[133]] = M, n[s[160]] = Z, n[E + H] = S, n[$ + U] = K, n[s[161]] = z, n[s[162]] = b, n[r[134]] = X; var q = !!a[65][a[135]]; function z(n) { for (var t = v(O, u[163]), a = e[136], o = s[2], i = n[V + t + a] - s[0]; i >= r[52]; i--) o = o << r[54] | +n[i]; return o } n[u[164]] = R }(Jn || (Jn = {})); var rt; (function (n) { var t = e[87], o = a[8], i = e[8], f = s[215], l = r[52], p = s[0], d = parseInt(c[216], u[122]), h = e[86], g = u[217], w = u[123], m = e[165], I = parseInt(t + En, c[122]), y = parseInt(a[79], a[82]), _ = c[218], C = parseInt(a[193], e[82]), E = parseInt(o + i, r[78]), A = parseInt(u[219], s[122]), b = parseInt(f + An, s[106]), T = parseInt(r[194], s[106]), B = parseInt(ot(s[220], e[195]), r[82]), R = parseInt(e[196], u[122]), k = parseInt(e[197], a[78]), S; function P() { var n = s[0] , t = r[88] , e = parseInt(u[13], c[122]) , a = s[217]; S = new qn([a, a, a, a, n, n, n, e, t, t, t, t, t, t, t, a, t, n]), S[p] = Jn.serverTimeNow(), M(), S[B] = 0, S[k] = 'anguage', S[R] = 3, S[h] = 3003374309, S[b] = 3748, S[g] = 7, S[w] = 10, S[m] = 5 } function M() { S[l] = Jn.random() } function O() { S[R]++, S[p] = Jn.serverTimeNow(), S[d] = Jn.timeNow(), S[B] = Vn, S[I] = 0, S[y] = 0, S[_] = 0, S[C] = 0, S[E] = 0, S[A] = 0; var n = S.toBuffer(); return zn.encode(n) } n[e[57]] = P; P() function D() { return O() } n[v(an, a[198], r[199])] = D xxx.update = D })(rt || (rt = {})); }() }() }([\"\", 9527, String, Boolean, \"eh\", \"ad\", \"Bu\", \"ileds\", \"1\", \"\\b\", Array, \"7\", \"base\", \"64De\", \"\\u2543\\u252b\", \"etatS\", \"pa\", \"e\", \"FromUrl\", \"getOrigi\", \"nFromUrl\", \"\\u255b\\u253e\", \"b?\\x18q)\", \"ic\", \"k\", \"sted\", \"he\", \"wser\", \"oNo\", \"ckw\", \"ent\", \"hst\", \"^And\", \"RM\", \"systemL\", 5, \"\\u255f\\u0978\\u095b\\u09f5\", \"TR8\", \"!'\", \"gth\", \"er\", \"TP\", 83, \"r\", !0, \"v\", \"v-nixeh\", RegExp, \"thsi.cn\", 'K\\x19\"]K^xVV', \"KXxAPD?\\x1b[Y\", document, 0, \"allow\", 1, \"; \", \"length\", \"Init\", \"=\", \"; domain=\", \"checkcookie\", !1, \"eikooCled\", \"tnemucod\", \"d\", window, \"\\u2553\\u0972\\u0959\\u09e4\\u09bd\\u0938\\u0980\\u09c5\\u09b1\\u09d1\\u09a7\\u09dc\\u09dd\\u09d3\\u09c2\", \"\\u2556\\u0979\\u095e\\u09d3\\u09b5\\u0935\\u098f\\u09c7\\u099d\\u09d2\\u09b0\", 23, \"l$P$~\", \"frames\", \"ducument\", \"ydob\", \"documentElement\", \"del\", \"@[\\\\]^`{|}~]\", \"base_fileds\", \"255\", 10, \"10\", 39, \"\\u2547\\u2535\\u255a\\u252e\\u2541\\u2535\\u254c\\u253c\\u2559\", 8, \"4\", \"3\", \"de\", 3, \"11\", 2, \"203\", \"22\", \"111111\", \"3f\", 16, \"\\x0f\", \"\\u2506\\u2537\\u2507\\u2537\", \"11111111\", \"base64Encode\", \"v\\x1d\", \"ati\", \"WY\", \"te\", \"bo\", \"rs\", \"getHost\", Date, \"{DF\", \":\", \"^{.*}$\", \"WU<P[C\", 52, \"1001\", \"href\", \"1111101010\", \"redirect_url\", \"^\\\\s*(?:https?:)?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \"i\", \"\\u256c\\u252c\\u2516\\u254b\", \"@\", \"ready\", \"change\", \"dy\", 7, \"protocol\", \"//s.thsi.cn/js/chameleon/time.1\", \"onerror\", \"2000\", \"readyState\", null, \"^(\\\\d+\\\\.)+\\\\d+$\", \"^\\\\s*(?:(https?:))?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \".\", \"strToBytes\", \"isIPAddr\", \"serverTimeNow\", \"addEventListener\", \"th\", \"wh\", \"Scro\", \"mousemove\", 55, \"evomhcuot\", \"[[?PVC\\x0e\", \"getMouseMove\", '_R\"xWB%Po_3YT', \"getMouseClick\", \"ght\", \"gin\", \"msD\", \"ack\", \"\\u2556\\u096b\\u095f\", \"Nativ\", \"^A\", \"MozSettingsEvent\", \"safari\", \"ActiveXObject\", \"postMessage\", \"Uint8Array\", \"WeakMap\", \"Google Inc.\", \"vendor\", \"chrome\", \"python\", \"sgAppName\", \"JX\", 6, \"me\", \"LBBROWSER\", \"w4\", \"2345Explorer\", \"TheWorld\", \"\\u2544\", 40, \"tTr\", \"\\u2506\", \"navigator\", \"webdriver\", \"languages\", \"taborcA|FDP\", \"\\u2541\\u097c\\u0949\", 95, \"1e0\", \"e Cli\", \"iso-8859-1\", \"defaultCharset\", \"localStorage\", \"^Win64\", \"^Linux armv|Android\", \"^iPhone\", \"^iPad\", \"B_{VV\", \"getPluginNum\", \"getBrowserFeature\", \"12\", \"16\", \"sE\", \"10000\", \"17\", \"\\u2542\\u2532\\u2556\\u2537\\u2543\\u2526\", \"\\x1cx`R\", 2333, \"XMLH\", \"ers\", \"0\", \"lo\", 57, \"ylppa\", \"error\", \"target\", \"click\", \"unload\", \"HE9AWT9Y\", \"\\\\.\", \"c?\", \"$\", \"/\", \"fetch\", \"prototype\", \"url\", \"\\u2556\\u0971\\u0956\\u09fe\\u09a7\", \"headers\", \"\\u256b\\u2554\", 79, \"?\", \"^(.*?):[ \\\\t]*([^\\\\r\\\\n]*)\\\\r?$\", \"gm\", \"s\", \"src\", \"analysisRst\", \"\\u255e\\u0973\\u0949\\u09f4\\u09a2\\u0929\\u09ac\\u09d4\\u0992\\u09d2\\u09b0\\u09d4\", \"appendChild\", \"Y\", \"jsonp_ignore\", \"^\", 70, \"421\", \"XH>a\", \"\\u2574\\u253c\\u257d\\u2530\\u2575\\u2539\\u257c\\u2533\\u257d\\u2522\\u256e\\u2521\\u2560\\u2524\\u2561\\u2525\", \"CHAMELEON_LOADED\"], [1, \"\", 0, \"he\", \"ad\", 29, \"\\x180G\\x1f\", \"?>=<;:\\\\\\\\/,+\", \"ng\", \"to\", \"ff\", Number, Error, \"11\", \"6\", \"er\", \"ro\", \"code\", \"co\", \"_?L\", \"ed\", \"@S\\x15D*\", Object, \"len\", \"gth\", \"on\", \"lo\", RegExp, \"ySta\", 13, \"eel\", \"ee\", \"ouse\", \"ll\", \"\\u2544\\u2530\\u2555\\u2531\", \"FCm-\", \"isTru\", \"getC\", \"Pos\", \"ve\", \"or\", \"ae\", \"^\", \"On\", \"Sho\", \"can\", \"ont\", \"roid\", \"anguage\", \"\\u2502\", \"ta\", \"tna\", Date, \"3\", \"am\", \"e\", \"n+\", \"f80\", \"\\x1dD\", 6, \"\\u255f\\u253a\\u2542\\u252b\\u2545\\u2568\\u251e\", \"KCABLLAC_NOELEMAHC\", \"X-Antispider-Message\", 3, \".baidu.\", Function, document, !0, \"cookie\", \"; \", \"=\", 96, \"\\u255b\\u253e\\u2550\\u2537\\u2543\\u252b\", \"\\u250c\\u252c\\u255c\\u253d\\u2549\\u2521\\u251c\", \";O\", \"; expires=\", \"getCookie\", \"Thu, 01 Jan 1970 00:00:00 GMT\", \"setCookie\", \"Z\\x18|\", \"i\", \"\\u255b\\u2534\\u2557\\u2536\\u255a\\u2509\\u257d\\u2512\\u2560\\u2501\\u2566\\u2503\", 52, window, 10, \"Init\", !1, \"set\", \"v\", \"eliflmth\", '<script>document.w=window<\\/script><iframe src=\"/favicon.icon\"></iframe>', \"iS.p\", \"head\", \"#default#userData\", \"get\", \"[!\\\"#$%&'()*\", \"g\", \"^d\", \"$D\", \"\\u2568\\u2537\\u2568\\u254c\\u256a\", \"]\\\\P\", \"___\", \"le\", \"th\", \"prototype\", \"base_f\", 8, \"\\\\R5Z\\\\R\\x14@^Q3G\", \"ZV%PgQ?Y]S%\", 67, \"r\", \"length\", \"0\", 16, \"12\", \"\\u2576\\u095f\\u0979\\u09d5\\u0995\\u091b\\u09a9\\u09f9\\u09bd\\u09f7\\u0989\\u09fd\\u09f5\\u09f3\\u09f9\\u0a41\\u0a4d\\u098f\\u0999\\u0905\\u0975\\u09cb\\u09a9\\u09a9\\u099d\\u0927\\u0933\\u0913\\u0a6b\\u0999\\u09a3\\u0937\\u098b\\u09f5\\u0933\\u0a7b\\u091b\\u09b1\\u0a63\\u095f\\u09fb\\u094d\\u0993\\u0943\\u092b\\u0949\\u09a3\\u09e7\\u09cb\\u0925\\u0993\\u09ab\\u09f0\\u092c\\u092c\\u0942\\u0950\\u09c8\\u0944\\u09c6\\u0990\\u0944\\u09cb\\u098e\", \"i,\", \"\\u2505\\u092f\", 12, 56, \"20\", \"1000\", 2, 5, \"11111111\", \"encode\", \"\\u255b\\u0972\\u0959\", \"\\u2519\", \"s\", \"WY$PYS\", \"ystate\", \"1111101000\", / /g, \",\", \"\\u250d\", '^\".*\"$', \"edoc_sutats\", \"status_code\", \"location\", \"redirect_url\", \"href\", \"4294967295\", \"j\", \"1200000\", \"script\", \"src\", \"onreadystatechange\", \"read\", \"loaded\", \"readyState\", \"complete\", \"interactive\", \"onload\", \"undefined\", \"\\\\.com\\\\.cn$|\\\\.com\\\\.hk$\", \".\", \"getServerTime\", 'YY7YAD?FjD\"', \"strhash\", \"random\", \"getRootDomain\", \"booleanToDecimal\", \"timeNow\", \"\\u2559\\u253e\", \"eventBind\", \"onwh\", \"\\u255b\", 46, \"DOMM\", \"cl\", \"T^5^\", \"div\", \"onmousewheel\", \"mousewheel\", 51, \"keydown\", \"clientY\", \"getKeyDown\", \"ch\", \"plu\", \"\\u2543\\u252b\", \"ouc\", \"art\", \"^i\", \"Po\", \"callPhantom\", \"max\", \"Hei\", \"ActiveXObject\", \"nd\", \"yG&Y]\\x17\\x15ZUG#A]Ez\\x15qY5\\x1b\", \"\\u2576\\u097e\\u094e\\u09f8\\u09a6\\u0938\\u09b6\\u09fe\\u0996\\u09d7\\u09a7\\u09d2\\u09cc\", \"Maxthon\", \"Q\", \"opr\", \"chrome\", \"BIDUBrowser\", \"QQBro\", \"[_$ZUR\", \"UBrowser\", \"MSGesture\", \"plugins\", \"doNotTrack\", \"ShockwaveFlash.ShockwaveFlash\", \"]C|\\x18\", \"webgl2\", \"platform\", \"name\", \"^Win32\", \"^MacIntel\", \"^Linux [ix]\\\\d+\", \"^BlackBerry\", \"language\", \"getPlatform\", \"getBrowserIndex\", \"1\", \"10\", 4, 9, \"1100\", \"\\t\\0\", \"3c\", 256, \"w\", \"TTP\", \"et\", \"c\", \"al\", \"\\u255e\", \"base\", \"\\u2569\\u0975\\u094e\\u09e5\\u09a0\\u092e\\u09d1\\u09ed\\u09ce\", \"target\", \"fh%PTQr\", \"#\", \"\\u255f\\u097c\\u0949\\u09f9\", 97, \"rg\", \"tnemelEcrs\", \"fn_Ws\", \"parentNode\", \"tagName\", \"A\", \"submit\", \"PX%\", \"me\", \"host\", \"\\\\.?\", \"d\\x19\", \"Fri, 01 Feb 2050 00:00:00 GMT\", \"]E%\", \"toString\", \"[object Request]\", \"headers\", 83, \"&\", encodeURIComponent, \"open\", \"getAllResponseHeaders\", \"4\", \"tseuqeRpttHLMX\", \"Window\", \"\\u2564\\u095e\", \"RI\", \"\\u2550\\u0953\", \"(YaZ\", \"_\", \"_str\", \"V587\"]); console.log(xxx.update()) \u65b9\u5f0f2: var TOKEN_SERVER_TIME = 1684827000.166; document = {} window = {} var xxx = this !function (n, t) { !function () { var r, e, a; r = e = a = n; var u, c, s; u = c = s = t; function v() { var n = arguments[s[0]]; if (!n) return r[0]; for (var t = u[1], o = a[1], i = c[2]; i < n.length; i++) { var v = n.charCodeAt(i) , f = v ^ o; o = v, t += e[2].fromCharCode(f) } return t } var f = c[3] , l = s[4] , p = Wn(e[3], r[4], s[5]) , d = a[5] , h = Wn(c[6], s[7]) , g = c[8] , w = c[9] , m = r[6] , I = u[10] , y = a[7] , _ = (s[11], c[12], s[13]) , C = e[8] , E = u[14] , A = ot(e[9], e[10]) , b = a[11] , T = u[15] , B = c[16] , R = r[12] , k = r[13] , S = s[17] , P = u[18] , M = Wn(s[19], s[20], u[21]) , O = v(s[22], e[14]) , D = s[23] , x = s[24] , N = u[25] , L = u[26] , W = Wn(s[27], r[15]) , F = u[28] , Y = r[16] , j = a[17] , H = e[18] , $ = e[19] , U = r[20] , V = v(c[29], e[21], e[22]) , X = s[30] , G = s[31] , K = s[32] , Q = s[33] , Z = r[23] , q = r[24] , z = v(u[12], u[34], s[35]) , J = u[36] , nn = a[25] , tn = s[37] , rn = c[38] , en = r[26] , an = c[39] , on = s[40] , un = a[27] , cn = u[41] , sn = ot(s[42], c[43]) , vn = r[28] , fn = u[8] , ln = s[44] , pn = a[29] , dn = s[45] , hn = a[30] , gn = c[46] , wn = a[31] , mn = a[32] , In = s[47] , yn = r[33] , _n = a[34] , Cn = c[48] , En = a[8] , An = v(a[35], s[49]) , bn = c[50] , Tn = c[51] , Bn = at(r[36], s[52]) , Rn = ot(r[37], e[38]) , kn = e[39] , Sn = u[53] , Pn = r[40] , Mn = s[54] , On = s[55] , Dn = Wn(u[56], r[41], r[42]) , xn = r[43] , Nn = u[57] , Ln = e[44]; function Wn() { return arguments[u[0]].split(e[0]).reverse().join(c[1]) } var Fn = r[45], Yn = Wn(c[58], e[46]), jn = v(s[59], u[60]), Hn = Wn(r[47], s[61]), $n = s[62], Un = s[63], Vn = u[2], Xn = [new u[27](r[48]), new u[27](c[64])], Gn = [new e[47](ot(a[49])), new u[27](ot(a[50], u[65]))], Kn = c[66][f + l], Qn; var Zn; !function (n) { var t = u[80], o = v(nn, s[81], u[82]), i = s[67], f, l = u[83][Wn(u[84], e[63])], p, d; function g(n) { var t = j; return t = dn, i ? y(n) : f ? w(n) : void u[2] } function w(n) { E(function () { return n = R(n), f.getAttribute(n) })() } function m() { try { return !!(o in s[83] && s[83][o]) } catch (n) { return void u[2] } } function I(n) { try { f.removeItem(n) } catch (t) { } } n[c[85]] = C; function y(n) { try { return f.getItem(n) } catch (t) { return u[86] } } n[c[87]] = B; function _(n, t) { try { f.setItem(n, t) } catch (r) { } } function C() { var n = e[64] , r = u[88]; if (i = m(), i) f = a[65][o]; else if (l[at(e[66])][at(e[67], a[68])]) try { p = new ActiveXObject(Wn(a[69], s[89], l)), p.open(), p.write(s[90]), p.close(), d = p.w[e[70]][s[2]][e[71]], f = d.createElement(n + t + r) } catch (c) { f = l.createElement(o), d = l[Wn(u[91], a[72])] || l.getElementsByTagName(s[92])[s[2]] || l[a[73]] } } function E(n) { return function () { d.appendChild(f), f.addBehavior(s[93]), f.load(o); var t = n(); return d.removeChild(f), t } } n[c[94]] = g; function A(n) { var t, r, e; if (t = r = e = a, i) I(n); else { if (!f) return void e[52]; b(n) } } function b(n) { E(function () { n = R(n), f.removeAttribute(n), f.save(o) })() } function T(n, t) { E(function () { n = R(n), f.setAttribute(n, t), f.save(o) })() } n[a[74]] = A; function B(n, t) { if (void 0 === t) return A(n); if (i) _(n, t); else { if (!f) return void u[2]; T(n, t) } } function R(n) { var t = s[95] , e = r[75] , a = new r[47](t + h + e, c[96]); return n.replace(new c[27](u[97]), v(s[98], s[99], s[100])).replace(a, c[101]) } }(Zn || (Zn = {})); var qn = function () { var n, t, r; n = t = r = a; var e, o, i; e = o = i = s; var u = o[15] , c = o[102] , f = e[103]; function l(r) { var a = o[102] , i = e[103]; this[n[76]] = r; for (var u = t[52], c = r[a + g + i]; u < c; u++) this[u] = t[52] } return l[e[104]][w + m + I + u] = function () { for (var a = e[105], u = this[a + y], c = [], s = -e[0], v = o[2], f = u[r[56]]; v < f; v++) for (var l = this[v], p = u[v], d = s += p; c[d] = l & parseInt(t[77], n[78]), --p != r[52];) --d, l >>= parseInt(n[79], i[106]); return c } , l[v(t[80], t[81], b)][ot(i[107])] = function (n) { for (var r = e[8], a = this[ot(e[108], e[109])], o = t[52], u = e[2], s = a[c + r + f]; u < s; u++) { var v = a[u] , l = i[2]; do { l = (l << t[82]) + n[o++] } while (--v > t[52]); this[u] = l >>> i[2] } } , l }(), zn; !function (n) { var t = s[13] , o = c[53] , i = r[83] , f = r[84] , l = s[110] , d = r[85] , h = r[86]; function g(n, a, o, i, u) { for (var c = s[13], v = r[87], f = n[s[111]]; a < f;) o[i++] = n[a++] ^ u & parseInt(c + v + t + _, r[88]), u = ~(u * parseInt(e[89], e[82])) } function w(n) { for (var t = c[112], i = r[52], v = n[s[111]], f = []; i < v;) { var l = n[i++] << parseInt(C + t, c[113]) | n[i++] << e[82] | n[i++]; f.push(m.charAt(l >> parseInt(e[90], e[82])), m.charAt(l >> parseInt(s[114], e[78]) & parseInt(a[91], r[88])), m.charAt(l >> u[59] & parseInt(E + o, a[78])), m.charAt(l & parseInt(a[92], u[113]))) } return f.join(e[0]) } for (var m = at(u[115], s[116]), I = {}, y = u[2]; y < parseInt(i + A, e[93]); y++) I[m.charAt(y)] = y; function O(n) { var t, r, e; t = r = e = s; var o, i, u; o = i = u = a; for (var c = ot(i[94]), l = e[2], p = n[o[56]], d = []; l < p;) { var h = I[n.charAt(l++)] << parseInt(at(t[117]), u[82]) | I[n.charAt(l++)] << parseInt(v(t[118], u[95], e[119]), o[88]) | I[n.charAt(l++)] << t[59] | I[n.charAt(l++)]; d.push(h >> parseInt(e[120], t[106]), h >> parseInt(t[121], r[122]) & parseInt(f + b + c, t[106]), h & parseInt(o[96], u[88])) } return d } function D(n) { var t = O(n); if (rn, p, t[r[52]] != h) return error = T + B + l, void 0; var a = t[c[0]] , o = []; return g(t, +parseInt(e[79], c[122]), o, +u[2], a), x(o) == a ? o : void 0 } function x(n) { var t = o; t = Vn; for (var e = c[2], i = a[52], u = n[c[111]]; i < u; i++) e = (e << s[123]) - e + n[i]; return e & parseInt(s[124], r[88]) } function N(n) { var t = et , r = x(n) , e = [h, r]; return g(n, +a[52], e, +a[88], r), t = P, w(e) } n[e[97]] = w, n[R + k + S] = O, n[u[125]] = N, n[d + P + M] = D }(zn || (zn = {})); var Jn; !function (n) { var t = Fn , o = at(c[126], a[98]) , i = r[99] , f = v(U, u[127]) , l = s[128] , p = ot(a[100]) , d = r[5] , h = r[101] , g = ot(u[129]) , w = s[130] , m = r[102] , C = a[103] , E = e[104]; function A(n) { for (var t = (Tn, I, []), e = r[52]; e < n[c[111]]; e++) t.push(n.charCodeAt(e)); return t } function b() { var n = new e[105]; try { return time = s[52].now(), time / parseInt(c[131], a[88]) >>> c[2] } catch (t) { return time = n.getTime(), time / parseInt(s[121], s[84]) >>> r[52] } } function T(n) { var t = u[8] , o = {} , i = function (n, o) { var i = c[102], f, l, p, d; for (o = o.replace(s[132], u[1]), o = o.substring(u[0], o[e[56]] - c[0]), f = o.split(c[133]), p = c[2]; p < f[i + t + O]; p++) if (l = f[p].split(v(r[106], c[134])), l && !(l[r[56]] < s[122])) { for (d = r[88]; d < l[r[56]]; d++) l[r[54]] = l[r[54]] + r[107] + l[d]; l[s[2]] = new r[47](c[135]).test(l[e[52]]) ? l[a[52]].substring(u[0], l[e[52]][D + x] - c[0]) : l[a[52]], l[r[54]] = new a[47](c[135]).test(l[r[54]]) ? l[e[54]].substring(s[0], l[a[54]][a[56]] - u[0]) : l[s[0]], n[l[c[2]]] = l[e[54]] } return n }; return new r[47](e[108]).test(n) && (o = i(o, n)), o } function B(n) { var t, e, a; t = e = a = c; var u, s, v; if (u = s = v = r, typeof n === ot(s[109], sn) && n[Wn(y, a[136], s[110])]) try { switch (parseInt(n[e[137]])) { case parseInt(a[131], t[122]): break; case parseInt(v[111], s[78]): top[e[138]][v[112]] = n[t[139]]; break; case parseInt(u[113], e[122]): top[o + i + N][e[140]] = n[s[114]]; break; default: break } } catch (f) { } } function R(n, t, r) { var e, a, o; e = a = o = u } function k() { return Math.random() * parseInt(u[141], r[78]) >>> r[52] } function S(n, t) { var o = en , i = new r[47](e[115], a[116]); o = T; var s = new u[27](v(p, r[117], m)); if (n) { var f = n.match(i); if (f) { var l = f[u[0]]; return t && s.test(l) && (l = l.split(r[118]).pop().split(r[107])[c[2]]), l } } } function P(n) { var t = mn , o = c[142] , i = r[119] , v = e[120] , I = a[121]; if (!(n > e[122])) { n = n || a[52]; var y = parseInt(u[143], e[78]) , _ = a[51].createElement(u[144]); t = Q, _[c[145]] = location[r[123]] + a[124] + parseInt((new r[105]).getTime() / y) + (f + o + l), _[e[125]] = function () { Vn = u[0], setTimeout(function () { P(++n) }, n * parseInt(e[126], u[84])) } , _[p + L + d] = _[s[146]] = function () { var n, t, r; n = t = r = a; var e, o, u; e = o = u = c; var s = e[147]; this[t[127]] && this[i + W] !== o[148] && this[u[149]] !== o[150] && this[s + F + h] !== u[151] || (Vn = n[52], _[e[152]] = _[g + w + v] = n[128]) } , c[66][m + I].appendChild(_) } } function M(n) { var t, e, a; t = e = a = r; var o, i, u; return o = i = u = s, new u[27](t[129]).test(n) } function X() { var n = new s[52]; return typeof TOKEN_SERVER_TIME == s[153] ? r[52] : (time = parseInt(TOKEN_SERVER_TIME), time) } function G(n) { var t, e, a; t = e = a = s; var o, i, u; o = i = u = r; for (var c = u[52], v = a[2], f = n[o[56]]; v < f; v++) c = (c << a[123]) - c + n.charCodeAt(v), c >>>= o[52]; return c } function K(n) { var t = new s[27](e[130], s[80]); if (n) { return n.match(t) } } function Z(n) { var t = new u[27](c[154]); if (M(n)) return n; var o = t.test(n) ? -a[86] : -parseInt(r[79], e[88]); return (tn, _, n.split(s[155])).slice(o).join(a[131]) } n[Y + C + j] = T, t = En, n[c[156]] = P, n[ot(u[157])] = B, n[r[132]] = A, n[c[158]] = G, n[c[159]] = k, n[r[133]] = M, n[s[160]] = Z, n[E + H] = S, n[$ + U] = K, n[s[161]] = z, n[s[162]] = b, n[r[134]] = X; var q = !!a[65][a[135]]; function z(n) { for (var t = v(O, u[163]), a = e[136], o = s[2], i = n[V + t + a] - s[0]; i >= r[52]; i--) o = o << r[54] | +n[i]; return o } n[u[164]] = R }(Jn || (Jn = {})); var nt; !function (n) { var t = u[165] , o = a[137] , i = at(s[166], s[167]) , v = u[168] , f = a[138] , l = c[169] , p = ot(s[170], B) , d = a[52] , h = r[52] , g = c[2] , w = c[2] , m = c[2] , I = s[2] , y = s[67] , _ = t + X in [] ? o + G + i : s[172] in c[66] ? u[173] : v + K + f + Q; Jn.eventBind(s[66], _, S), Jn.eventBind(a[51], r[139], T), Jn.eventBind(u[66], Wn(e[140], e[141], s[174]), T), Jn.eventBind(c[66], l + Z + q, M), Jn.eventBind(u[66], c[175], b); function C() { return w } function E() { return d } function b(n) { w++ } function T(n) { d++ } function R() { return h } function k() { return g } function S(n) { h++ } function P() { return { x: m, y: I, trusted: y } } function M(n) { var t, r, e; t = r = e = a; var o, i, u; o = i = u = c; var s = (S, A, u[36]); g++, y = void 0 == n[s + z] || n[J + nn], m = n[ot(r[142], o[84])], I = n[i[176]] } n[e[143]] = E, n[ot(e[144])] = R, n[e[145]] = k, n[u[177]] = C, n[tn + p + rn] = P }(nt || (nt = {})); var tt; !function (n) { var t = e[146] , f = c[4] , l = c[178] , p = u[179] , h = r[147] , g = r[148] , m = e[149] , I = s[102] , y = v(rn, u[180], zn) , _ = at(r[150], Y) , C = a[151] , E = u[181] , A = c[182] , b = e[152] , B = u[183] , R = s[184] , k = a[64]; BROWSER_LIST = { _1: function () { return c[185] in r[65] }, _2: function () { return a[153] in r[65] }, _3: function () { return e[154] in u[83] }, _4: function () { var n = J , r = u[186] , o = s[187]; return n = et, e[155] in e[65] && !(r + o + t in a[51].getElementsByTagName(en + f)[s[2]]) }, _5: function () { return e[155] in s[83] && !(e[156] in c[83]) }, _6: function () { var n, t, r; n = t = r = c; var e, o, u; return e = o = u = a, e[155] in t[83] && !i }, _7: function () { var n, t, r; n = t = r = a; var e, o, i; return e = o = i = u, o[188] in o[83] && !o[83][r[157]] }, _8: function () { return a[155] in e[65] && !e[65][e[158]] }, _9: function () { return u[188] in s[83] && r[65][e[158]] }, _10: function () { var n, t, r; n = t = r = a; var e, o, i; e = o = i = c; var u = o[189]; return n[159] === navigator[an + u + on] }, _11: function () { return ot(u[190]) === navigator[r[160]] }, _12: function () { var n, t, r; return n = t = r = s, at(t[191]) in r[83] }, _13: function () { var n, t, r; n = t = r = s; var a, o, i; return a = o = i = e, i[161] in t[83] }, _14: function () { return new u[27](a[162], r[116]).test(navigator.appVersion) }, _15: function () { return e[163] in navigator }, _16: function () { return new c[27](u[192], ot(u[193])).test(navigator.vendor) }, _17: function () { return u[194] in u[83] }, _18: function () { return u[195] in c[83] && new r[47](s[196], e[116]).test(o) }, _19: function () { var n, t, r; n = t = r = s; var a, i, u; a = i = u = e; var c = ot(i[164], i[165]) , v = u[166]; return l + c + v in t[83] && new n[27](u[167], t[80]).test(o) }, _20: function () { var n = u[197]; return r[161] in u[83] && new r[47](n + un).test(o) }, _21: function () { return ot(s[198], r[168]) in r[65] && new c[27](c[199], r[116]).test(o) }, _22: function () { var n = x; return n = S, s[195] in e[65] && new c[27](a[169]).test(o) }, _23: function () { var n, t, r; n = t = r = c; var a, i, u; return a = i = u = e, u[161] in a[65] && new t[27](u[170]).test(o) }, _24: function () { return s[195] in r[65] && s[200] in e[65] }, _25: function () { var n = w; return n = Q, cn + sn in u[83] } }; function P() { var n = v(q, e[171], r[172]); return plugin_num = a[52], navigator[u[201]] && (plugin_num = navigator[p + h + n][c[111]]), plugin_num } function M() { for (var n in BROWSER_LIST) if (BROWSER_LIST.hasOwnProperty(n)) { var t = BROWSER_LIST[n]; if (t()) return +n.substr(u[0]) } return s[2] } var O ; function D() { var n, t, r; n = t = r = s; var e, o, i; e = o = i = a; var u = e[173]; return at(e[174]) == (navigator[g + vn + u + m] || navigator[n[202]]) } function N(n) { if (!e[65][at(s[191])]) return !a[54]; var t; try { t = new a[65][a[155]](n) } catch (r) { return !u[0] } return !!t } function L() { return a[65][a[175]][a[176]] } function W() { for (var n = [], t = r[52]; t < parseInt(a[79], a[93]); t++) n[t] = tn[t](); return Jn.booleanToDecimal(n) } function F() { var t = (n, d, navigator[r[177]]); return t && t[I + fn + y] > a[52] } function j() { return z(new a[47](ln + pn + _, s[80])) || N(s[203]) } function H() { return z(new a[47](Wn(s[204], r[178]), e[116])) } function $() { var n = Y , t = at(a[179], a[180]); n = J; var r; try { r = c[66].createElement(dn + t).getContext(c[205]) } catch (e) { } return !!r } function U() { return -parseInt(r[181], u[113]) === (new c[52]).getTimezoneOffset() } function V() { var n, t, e; n = t = e = r; var a, o, i; a = o = i = u; for (var c = navigator[o[206]], s = o[2]; s < An[o[111]]; s++) if (An[s].test(c)) return s + e[54]; return i[2] } function X() { var n = (m, B, a[182]); return z(new r[47](C + n + hn)) } function G() { return gn + E + wn + A in a[51] } function K() { var n, t, r; return n = t = r = c, r[86] } function Z() { return u[86] } function q() { return navigator.javaEnabled() } function z(n) { var t = T; t = h; for (var r = a[52]; r < O[u[111]]; r++) { var e = O[r][s[207]]; if (n.test(e)) return !a[52] } return !c[0] } function J() { var n, t, r; return n = t = r = e, n[183] === r[51][t[184]] } function nn() { var n, t, r; return n = t = r = c, n[86] } var tn = [q, j, H, X, L, En, D, bn, G, U, $, F, J, nn, Z, K]; function En() { var n = Nn; n = un; try { return a[185] in s[83] } catch (t) { return s[86] } } var An = [new a[47](u[208]), new a[47](e[186]), new e[47](a[187]), new s[27](mn + In), new e[47](r[188]), new u[27](e[189]), new s[27](s[209]), new u[27](u[210]), new a[47](b + yn), new e[47](B + R + k), new c[27](u[211])]; function bn() { return new u[27](ot(r[190]), u[80]).test(navigator[s[212]] || navigator[_n + Cn]) } n[s[213]] = V, n[c[214]] = M, n[e[191]] = P, n[e[192]] = W }(tt || (tt = {})); var rt; !function (n) { var t = e[87], o = a[8], i = e[8], f = s[215], l = r[52], p = s[0], d = parseInt(c[216], u[122]), h = e[86], g = u[217], w = u[123], m = e[165], I = parseInt(t + En, c[122]), y = parseInt(a[79], a[82]), _ = c[218], C = parseInt(a[193], e[82]), E = parseInt(o + i, r[78]), A = parseInt(u[219], s[122]), b = parseInt(f + An, s[106]), T = parseInt(r[194], s[106]), B = parseInt(ot(s[220], e[195]), r[82]), R = parseInt(e[196], u[122]), k = parseInt(e[197], a[78]), S; function P() { var n = s[0] , t = r[88] , e = parseInt(u[13], c[122]) , a = s[217]; S = new qn([a, a, a, a, n, n, n, e, t, t, t, t, t, t, t, a, t, n]), S[p] = Jn.serverTimeNow(), M(), S[B] = 0, S[k] = 'anguage', S[R] = 3, S[h] = 3003374309, S[b] = 3748, S[g] = 7, S[w] = 10, S[m] = 5 } function M() { S[l] = Jn.random() } function O() { S[R]++, S[p] = Jn.serverTimeNow(), S[d] = Jn.timeNow(), S[B] = Vn, S[I] = nt.getMouseMove(), S[y] = nt.getMouseClick(), S[_] = nt.getMouseWhell(), S[C] = nt.getKeyDown(), S[E] = nt.getClickPos().x, S[A] = nt.getClickPos().y; var n = S.toBuffer(); return zn.encode(n) } n[e[57]] = P; P() function D() { return O() } n[v(an, a[198], r[199])] = D xxx.update = D }(rt || (rt = {})); var et; function at() { var n, t, r; n = t = r = u; var a, o, i; a = o = i = e; var c = arguments[o[52]]; if (!c) return t[1]; for (var s = o[0], v = o[1], f = a[52]; f < c.length; f++) { var l = c.charCodeAt(f) , p = l ^ v; v = v * f % n[222] + o[200], s += i[2].fromCharCode(p) } return s } !function (n) { var t, r, e; t = r = e = a; var o, i, c; o = i = c = u; var s = c[223], f = t[201], l = i[224], p = o[225], d = t[202], h = i[92], g = e[203], w = o[226], m = c[110], I = c[223], y = !!r[65][r[135]], _, E, A, T, B, R; function k(n) { var r = o[227] , e = t[204]; return j(n) && Qn[r + e + s] } function S(n, t, e) { var a, i, u; a = i = u = o; var c, s, v; c = s = v = r; var f = b; if (f = En, Wn(v[205], s[206]) in t) return t.apply(n, e); switch (e[v[56]]) { case v[52]: return t(); case i[0]: return t(e[c[52]]); case u[122]: return t(e[c[52]], e[a[0]]); default: return t(e[u[2]], e[v[88]], e[i[63]]) } } function P() { var n, t, r; n = t = r = i; var a, o, u; a = o = u = e, U(o[65], n[188], function (r) { return function (e) { if (e && new t[27](f + l, v(Fn, n[228])).test(e)) try { D() } catch (o) { return a[207] } return new r(e) } }) } function M() { var n = t[51].getElementsByTagName(c[229]); function a(a) { if (!new i[27](at(o[230])).test(a.protocol)) return r[61]; var u = a[i[231]]; if (!u) { var s = n[i[2]]; s && (u = s[t[208]]) } if ((!u || new e[47](ot(c[232], $n), c[80]).test(u)) && (a[o[140]].split(i[233])[e[52]] == _ && a[at(i[234], c[235])])) return i[86]; return e[44] } Jn.eventBind(t[51], r[209], function (n) { var t = i[236]; n = n || event; var r = n[bn + t + p] || n[Wn(o[5], c[237], o[238])]; do { if (r[i[240]] == i[241]) { a(r) && D(); break } } while (r = r[i[239]]) }), Jn.eventBind(i[66], o[242], D), Ln || Jn.eventBind(o[83], e[210], D) } function O() { var n = ot(o[243]) , e = o[244]; _ = location[c[140]].split(o[233])[i[2]], E = location[n + Tn + e], T = location[i[245]], B = location[ot(t[211])], A = Jn.getRootDomain(E), R = new o[27](i[246] + A.replace(new r[47](t[212], i[96]), ot(c[247], r[213])) + t[214], r[116]), M(), Y(), N(), $(), D() } function D() { var n = rt.update(); return Qn.setCookie(Fn, n, o[248], A, t[215]), Zn.set(jn, n), n } function N() { var n = B; n = Un; var r = ot(c[249]); H(t[216], function (n) { return function (t, a) { var i, u, c; i = u = c = e; var s, v, f; s = v = f = o, f[22][i[217]][f[250]].call(t) === v[251] && (t = t[u[218]] || i[0]); var l = D(); return a = a || {}, Qn[at(u[219], K)] ? X(t) ? k || (t = L(t)) : a[i[220]] ? a[v[252]][jn] = l : (a[s[252]] = new Headers, a[u[220]].append(jn, l)) : (l = rt.update(), a[f[252]] ? a[Bn + d][jn] = l : (a[h + r] = new Headers, a[i[220]].append(jn, l))), n.call(this, t, a) } }) } function L(n) { for (var a = rt.update(), u = Gn, s = c[2]; s < u[Rn + kn]; s++) if (u[s].test(n)) return n; return n + (new t[47](v(r[82], r[221], t[222])).test(n) ? Wn(c[253], i[254], bn) : e[223]) + Yn + c[70] + o[255](a) } function W(n) { var t = cn , a = i[16] , u = e[43]; t = C; var s; U(n, c[256], function (n) { return function () { var t, r, a; t = r = a = i; var o, u, c; o = u = c = e; try { X(arguments[o[54]]) && !k(arguments[a[0]]) ? arguments[t[0]] = L(arguments[r[0]]) : s = D(), n.apply(this, arguments), X(arguments[r[0]]) || (Qn[u[53]] || (s = rt.update()), this.setRequestHeader(jn, s)) } catch (v) { return o[207] } } }), U(n, c[257], function (n) { var t = w; return t = p, function () { var t, e, i; t = e = i = r; var c, s, v; c = s = v = o; var f = c[258]; try { if (parseInt(this.status) === parseInt(f + g + Sn, e[78])) { for (var l = n.apply(this, arguments), p = new s[27](i[224], t[225]), d, h, w = {}; d = p.exec(l);) w[d[s[0]].toLowerCase()] = d[i[88]]; Jn.analysisRst(Jn.parse(w[$n.toLowerCase()])) } } catch (m) { return Pn + a + u } return n.apply(this, arguments) } }) } function Y() { var n = i[83][Wn(x, c[259])]; n && W(n.prototype), r[65][o[188]] && P() } function j(n) { var r = rn; r = p; var e = Jn.getHostFromUrl(n, t[44]); return e ? R.test(e) : t[44] } function H(n, t) { if (n in i[83]) { c[83].hasOwnProperty(n) && U(i[83], n, t); var r = e[65][c[260]]; if (r) { var a = r[o[104]]; a.hasOwnProperty(n) && U(a, n, t) } } } function $() { var n = at(c[261]) , e = c[262] , a = r[226]; function u(n) { return function (t) { try { s(t) } catch (r) { return r } return S(this, n, arguments) } } function s(r) { var u = it , c = i[50] , s = at(o[263], i[264]); if (r && r[c + s + Mn + On] == n + e + Dn) { var v = r[t[227]]; u = F, V(v) || (k(v) ? D() : r[a + xn + w] = L(r.src)) } } function v(n) { y ? U(Element.prototype, n, u) : (U(Kn, n, u), U(r[51].body, n, u)) } t[65][Hn] = Jn[t[228]], v(at(r[229])), v(r[230]) } function U(n, a, i) { var u = D , s = c[265] , v = ot(t[231]); if (!n) return e[61]; var f = n[a]; if (u = S, !f) return o[86]; var l = i(f); return y || (l[c[266]] = f + t[0]), l[s + m + v + I] = f, n[a] = l, r[44] } function V(n) { var t = Xn , e = o[83][r[232]]; e && (t = t.concat(e)); for (var a = i[2]; a < t[c[111]]; a++) if (t[a].test(n)) return o[67]; return o[86] } function X(n) { var t = Jn.getOriginFromUrl(n); return t ? !new r[47](e[233] + T).test(t[c[122]]) || !new o[27](B).test(t[r[54]]) : e[61] } n[t[57]] = O }(et || (et = {})); function ot() { var n, t, e; n = t = e = c; var a, o, i; a = o = i = r; var u = arguments[a[52]]; if (!u) return o[0]; for (var s = a[0], v = n[267], f = o[200], l = t[2]; l < u.length; l++) { var p = u.charCodeAt(l); f = (f + t[0]) % v.length, p ^= v.charCodeAt(f), s += i[2].fromCharCode(p) } return s } var it; !function (n) { var t = Wn(r[234], e[235]); function o() { try { c() } catch (n) { return n } } function i() { var n = parseInt(t + Nn, s[113]); setInterval(function () { Jn.getServerTime() }, n) } function c() { Qn.Init(), Zn.Init(), rt.Init(), et.Init(), i() } u[83][v(r[236], e[237])] || (o(), u[83][a[238]] = a[44]) }(it || (it = {})) }() }([\"\", 9527, String, Boolean, \"eh\", \"ad\", \"Bu\", \"ileds\", \"1\", \"\\b\", Array, \"7\", \"base\", \"64De\", \"\\u2543\\u252b\", \"etatS\", \"pa\", \"e\", \"FromUrl\", \"getOrigi\", \"nFromUrl\", \"\\u255b\\u253e\", \"b?\\x18q)\", \"ic\", \"k\", \"sted\", \"he\", \"wser\", \"oNo\", \"ckw\", \"ent\", \"hst\", \"^And\", \"RM\", \"systemL\", 5, \"\\u255f\\u0978\\u095b\\u09f5\", \"TR8\", \"!'\", \"gth\", \"er\", \"TP\", 83, \"r\", !0, \"v\", \"v-nixeh\", RegExp, \"thsi.cn\", 'K\\x19\"]K^xVV', \"KXxAPD?\\x1b[Y\", document, 0, \"allow\", 1, \"; \", \"length\", \"Init\", \"=\", \"; domain=\", \"checkcookie\", !1, \"eikooCled\", \"tnemucod\", \"d\", window, \"\\u2553\\u0972\\u0959\\u09e4\\u09bd\\u0938\\u0980\\u09c5\\u09b1\\u09d1\\u09a7\\u09dc\\u09dd\\u09d3\\u09c2\", \"\\u2556\\u0979\\u095e\\u09d3\\u09b5\\u0935\\u098f\\u09c7\\u099d\\u09d2\\u09b0\", 23, \"l$P$~\", \"frames\", \"ducument\", \"ydob\", \"documentElement\", \"del\", \"@[\\\\]^`{|}~]\", \"base_fileds\", \"255\", 10, \"10\", 39, \"\\u2547\\u2535\\u255a\\u252e\\u2541\\u2535\\u254c\\u253c\\u2559\", 8, \"4\", \"3\", \"de\", 3, \"11\", 2, \"203\", \"22\", \"111111\", \"3f\", 16, \"\\x0f\", \"\\u2506\\u2537\\u2507\\u2537\", \"11111111\", \"base64Encode\", \"v\\x1d\", \"ati\", \"WY\", \"te\", \"bo\", \"rs\", \"getHost\", Date, \"{DF\", \":\", \"^{.*}$\", \"WU<P[C\", 52, \"1001\", \"href\", \"1111101010\", \"redirect_url\", \"^\\\\s*(?:https?:)?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \"i\", \"\\u256c\\u252c\\u2516\\u254b\", \"@\", \"ready\", \"change\", \"dy\", 7, \"protocol\", \"//s.thsi.cn/js/chameleon/time.1\", \"onerror\", \"2000\", \"readyState\", null, \"^(\\\\d+\\\\.)+\\\\d+$\", \"^\\\\s*(?:(https?:))?\\\\/{2,}([^\\\\/\\\\?\\\\#\\\\\\\\]+)\", \".\", \"strToBytes\", \"isIPAddr\", \"serverTimeNow\", \"addEventListener\", \"th\", \"wh\", \"Scro\", \"mousemove\", 55, \"evomhcuot\", \"[[?PVC\\x0e\", \"getMouseMove\", '_R\"xWB%Po_3YT', \"getMouseClick\", \"ght\", \"gin\", \"msD\", \"ack\", \"\\u2556\\u096b\\u095f\", \"Nativ\", \"^A\", \"MozSettingsEvent\", \"safari\", \"ActiveXObject\", \"postMessage\", \"Uint8Array\", \"WeakMap\", \"Google Inc.\", \"vendor\", \"chrome\", \"python\", \"sgAppName\", \"JX\", 6, \"me\", \"LBBROWSER\", \"w4\", \"2345Explorer\", \"TheWorld\", \"\\u2544\", 40, \"tTr\", \"\\u2506\", \"navigator\", \"webdriver\", \"languages\", \"taborcA|FDP\", \"\\u2541\\u097c\\u0949\", 95, \"1e0\", \"e Cli\", \"iso-8859-1\", \"defaultCharset\", \"localStorage\", \"^Win64\", \"^Linux armv|Android\", \"^iPhone\", \"^iPad\", \"B_{VV\", \"getPluginNum\", \"getBrowserFeature\", \"12\", \"16\", \"sE\", \"10000\", \"17\", \"\\u2542\\u2532\\u2556\\u2537\\u2543\\u2526\", \"\\x1cx`R\", 2333, \"XMLH\", \"ers\", \"0\", \"lo\", 57, \"ylppa\", \"error\", \"target\", \"click\", \"unload\", \"HE9AWT9Y\", \"\\\\.\", \"c?\", \"$\", \"/\", \"fetch\", \"prototype\", \"url\", \"\\u2556\\u0971\\u0956\\u09fe\\u09a7\", \"headers\", \"\\u256b\\u2554\", 79, \"?\", \"^(.*?):[ \\\\t]*([^\\\\r\\\\n]*)\\\\r?$\", \"gm\", \"s\", \"src\", \"analysisRst\", \"\\u255e\\u0973\\u0949\\u09f4\\u09a2\\u0929\\u09ac\\u09d4\\u0992\\u09d2\\u09b0\\u09d4\", \"appendChild\", \"Y\", \"jsonp_ignore\", \"^\", 70, \"421\", \"XH>a\", \"\\u2574\\u253c\\u257d\\u2530\\u2575\\u2539\\u257c\\u2533\\u257d\\u2522\\u256e\\u2521\\u2560\\u2524\\u2561\\u2525\", \"CHAMELEON_LOADED\"], [1, \"\", 0, \"he\", \"ad\", 29, \"\\x180G\\x1f\", \"?>=<;:\\\\\\\\/,+\", \"ng\", \"to\", \"ff\", Number, Error, \"11\", \"6\", \"er\", \"ro\", \"code\", \"co\", \"_?L\", \"ed\", \"@S\\x15D*\", Object, \"len\", \"gth\", \"on\", \"lo\", RegExp, \"ySta\", 13, \"eel\", \"ee\", \"ouse\", \"ll\", \"\\u2544\\u2530\\u2555\\u2531\", \"FCm-\", \"isTru\", \"getC\", \"Pos\", \"ve\", \"or\", \"ae\", \"^\", \"On\", \"Sho\", \"can\", \"ont\", \"roid\", \"anguage\", \"\\u2502\", \"ta\", \"tna\", Date, \"3\", \"am\", \"e\", \"n+\", \"f80\", \"\\x1dD\", 6, \"\\u255f\\u253a\\u2542\\u252b\\u2545\\u2568\\u251e\", \"KCABLLAC_NOELEMAHC\", \"X-Antispider-Message\", 3, \".baidu.\", Function, document, !0, \"cookie\", \"; \", \"=\", 96, \"\\u255b\\u253e\\u2550\\u2537\\u2543\\u252b\", \"\\u250c\\u252c\\u255c\\u253d\\u2549\\u2521\\u251c\", \";O\", \"; expires=\", \"getCookie\", \"Thu, 01 Jan 1970 00:00:00 GMT\", \"setCookie\", \"Z\\x18|\", \"i\", \"\\u255b\\u2534\\u2557\\u2536\\u255a\\u2509\\u257d\\u2512\\u2560\\u2501\\u2566\\u2503\", 52, window, 10, \"Init\", !1, \"set\", \"v\", \"eliflmth\", '<script>document.w=window<\\/script><iframe src=\"/favicon.icon\"></iframe>', \"iS.p\", \"head\", \"#default#userData\", \"get\", \"[!\\\"#$%&'()*\", \"g\", \"^d\", \"$D\", \"\\u2568\\u2537\\u2568\\u254c\\u256a\", \"]\\\\P\", \"___\", \"le\", \"th\", \"prototype\", \"base_f\", 8, \"\\\\R5Z\\\\R\\x14@^Q3G\", \"ZV%PgQ?Y]S%\", 67, \"r\", \"length\", \"0\", 16, \"12\", \"\\u2576\\u095f\\u0979\\u09d5\\u0995\\u091b\\u09a9\\u09f9\\u09bd\\u09f7\\u0989\\u09fd\\u09f5\\u09f3\\u09f9\\u0a41\\u0a4d\\u098f\\u0999\\u0905\\u0975\\u09cb\\u09a9\\u09a9\\u099d\\u0927\\u0933\\u0913\\u0a6b\\u0999\\u09a3\\u0937\\u098b\\u09f5\\u0933\\u0a7b\\u091b\\u09b1\\u0a63\\u095f\\u09fb\\u094d\\u0993\\u0943\\u092b\\u0949\\u09a3\\u09e7\\u09cb\\u0925\\u0993\\u09ab\\u09f0\\u092c\\u092c\\u0942\\u0950\\u09c8\\u0944\\u09c6\\u0990\\u0944\\u09cb\\u098e\", \"i,\", \"\\u2505\\u092f\", 12, 56, \"20\", \"1000\", 2, 5, \"11111111\", \"encode\", \"\\u255b\\u0972\\u0959\", \"\\u2519\", \"s\", \"WY$PYS\", \"ystate\", \"1111101000\", / /g, \",\", \"\\u250d\", '^\".*\"$', \"edoc_sutats\", \"status_code\", \"location\", \"redirect_url\", \"href\", \"4294967295\", \"j\", \"1200000\", \"script\", \"src\", \"onreadystatechange\", \"read\", \"loaded\", \"readyState\", \"complete\", \"interactive\", \"onload\", \"undefined\", \"\\\\.com\\\\.cn$|\\\\.com\\\\.hk$\", \".\", \"getServerTime\", 'YY7YAD?FjD\"', \"strhash\", \"random\", \"getRootDomain\", \"booleanToDecimal\", \"timeNow\", \"\\u2559\\u253e\", \"eventBind\", \"onwh\", \"\\u255b\", 46, \"DOMM\", \"cl\", \"T^5^\", \"div\", \"onmousewheel\", \"mousewheel\", 51, \"keydown\", \"clientY\", \"getKeyDown\", \"ch\", \"plu\", \"\\u2543\\u252b\", \"ouc\", \"art\", \"^i\", \"Po\", \"callPhantom\", \"max\", \"Hei\", \"ActiveXObject\", \"nd\", \"yG&Y]\\x17\\x15ZUG#A]Ez\\x15qY5\\x1b\", \"\\u2576\\u097e\\u094e\\u09f8\\u09a6\\u0938\\u09b6\\u09fe\\u0996\\u09d7\\u09a7\\u09d2\\u09cc\", \"Maxthon\", \"Q\", \"opr\", \"chrome\", \"BIDUBrowser\", \"QQBro\", \"[_$ZUR\", \"UBrowser\", \"MSGesture\", \"plugins\", \"doNotTrack\", \"ShockwaveFlash.ShockwaveFlash\", \"]C|\\x18\", \"webgl2\", \"platform\", \"name\", \"^Win32\", \"^MacIntel\", \"^Linux [ix]\\\\d+\", \"^BlackBerry\", \"language\", \"getPlatform\", \"getBrowserIndex\", \"1\", \"10\", 4, 9, \"1100\", \"\\t\\0\", \"3c\", 256, \"w\", \"TTP\", \"et\", \"c\", \"al\", \"\\u255e\", \"base\", \"\\u2569\\u0975\\u094e\\u09e5\\u09a0\\u092e\\u09d1\\u09ed\\u09ce\", \"target\", \"fh%PTQr\", \"#\", \"\\u255f\\u097c\\u0949\\u09f9\", 97, \"rg\", \"tnemelEcrs\", \"fn_Ws\", \"parentNode\", \"tagName\", \"A\", \"submit\", \"PX%\", \"me\", \"host\", \"\\\\.?\", \"d\\x19\", \"Fri, 01 Feb 2050 00:00:00 GMT\", \"]E%\", \"toString\", \"[object Request]\", \"headers\", 83, \"&\", encodeURIComponent, \"open\", \"getAllResponseHeaders\", \"4\", \"tseuqeRpttHLMX\", \"Window\", \"\\u2564\\u095e\", \"RI\", \"\\u2550\\u0953\", \"(YaZ\", \"_\", \"_str\", \"V587\"]); console.log(xxx.update()) \u5b8c\u6574JS\u9006\u5411\u4ee3\u7801\uff1a","title":"10.6\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u540c\u82b1\u987a"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#107","text":"https://developer.mozilla.org/zh-CN/docs/Web/API/Window","title":"10.7\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u4eca\u65e5\u5934\u6761"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-js","text":"","title":"\u30101\u3011 JS\u7684\u8865\u5145"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1_30","text":"/*add = function add(){ console.log(add) }*/ function add(){ console.log(add) } add() function add(){ console.log(\"111\") }","title":"1. \u51fd\u6570\u547d\u540d"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2_23","text":"\u5728 JavaScript \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b57\u9762\u91cf {} \u521b\u5efa\u5bf9\u8c61\u3002 \u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u9996\u5148\u9700\u8981\u5148\u5b9a\u4e49\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7136\u540e\u4f7f\u7528 new \u5173\u952e\u5b57\u6765\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u4ece\u800c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a function Person(name, age) { this.name = name; this.age = age; } const person1 = new Person('John', 30); \u800c\u4f7f\u7528\u5b57\u9762\u91cf {} \u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u82b1\u62ec\u53f7\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u82b1\u62ec\u53f7\u4e2d\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u4f8b\u5982\uff1a const person2 = { name: 'Jane', age: 35 }; \u4f7f\u7528 new \u5173\u952e\u5b57\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u539f\u578b\u94fe\u6765\u5b9e\u73b0\u7ee7\u627f\u7b49\u9ad8\u7ea7\u529f\u80fd\uff0c\u800c\u4f7f\u7528\u5b57\u9762\u91cf\u521b\u5efa\u7684\u5bf9\u8c61\u5219\u4e0d\u652f\u6301\u8fd9\u4e9b\u9ad8\u7ea7\u529f\u80fd\u3002","title":"2. \u7ee7\u627f"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2proxy","text":"var window = { username: \"yuan\", age: 22 } window = new Proxy(window, { get(target, p, receiver) { console.log(\"target: \", target); console.log(\"p: \", p); // return window['username'];/// \u8fd9\u91cc\u5982\u679c\u8fd9\u6837\u5199. \u6709\u9012\u5f52\u98ce\u9669\u7684... // return Reflect.get(...arguments); return Reflect.get(target, p); }, set(target, p, value, receiver) { console.log(\"\u8bbe\u7f6e\u64cd\u4f5c\") Reflect.set(target, p, value); } }); console.log(window.username); console.log(window.age); window.username = \"rain\" window.age = 18","title":"\u30102\u3011Proxy\u4ee3\u7406"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3vm2","text":"vm2\u662f\u4e00\u4e2aNode.js\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728Node.js\u4e2d\u8fd0\u884c\u6c99\u7bb1\u73af\u5883\u7684\u673a\u5236\u3002\u5b83\u53ef\u4ee5\u8ba9\u4f60\u5728\u4e00\u4e2a\u5b89\u5168\u7684\u73af\u5883\u4e2d\u8fd0\u884c\u4e0d\u53d7\u4fe1\u4efb\u7684\u4ee3\u7801\uff0c\u4ee5\u907f\u514d\u4ee3\u7801\u5bf9\u7cfb\u7edf\u7684\u7834\u574f\u548c\u635f\u5bb3\u3002 vm2\u57fa\u4e8eNode.js\u7684vm\u6a21\u5757\u5b9e\u73b0\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u66f4\u4e25\u683c\u7684\u6c99\u7bb1\u73af\u5883\u3002\u5b83\u53ef\u4ee5\u9650\u5236\u4ee3\u7801\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u4f8b\u5982\u9650\u5236\u4ee3\u7801\u7684\u6587\u4ef6\u8bfb\u5199\u3001\u7f51\u7edc\u8bbf\u95ee\u3001\u7cfb\u7edf\u8c03\u7528\u7b49\u3002\u540c\u65f6\uff0cvm2\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u5b89\u5168\u673a\u5236\uff0c\u4f8b\u5982\u9650\u5236\u4ee3\u7801\u7684CPU\u548c\u5185\u5b58\u4f7f\u7528\u7b49\uff0c\u4ee5\u8fdb\u4e00\u6b65\u589e\u5f3a\u6c99\u7bb1\u7684\u5b89\u5168\u6027\u3002 vm2\u53ef\u4ee5\u7528\u4e8e\u4e00\u4e9b\u9700\u8981\u8fd0\u884c\u4e0d\u53d7\u4fe1\u4efb\u7684\u4ee3\u7801\u7684\u573a\u666f\uff0c\u4f8b\u5982\u5728\u7ebf\u4ee3\u7801\u7f16\u8f91\u5668\u3001\u4ee3\u7801\u8bc4\u6d4b\u7cfb\u7edf\u7b49\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5b89\u5168\u7684\u73af\u5883\u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u907f\u514d\u4ee3\u7801\u5bf9\u7cfb\u7edf\u7684\u7834\u574f\u548c\u635f\u5bb3\u3002 npm install vm2@3.9.3. // \u7248\u672c\u8f83\u4e3a\u7eaf\u51c0 \u6ce8\u91ca\u6216\u5220\u9664\u50cfglobal\uff0cprocess\u7b49\u75d5\u8ff9 \u4f7f\u7528vm2: var vm = require(\"vm2\") const {VM, VMScript} = vm var myvm = new VM() // ret = myvm.run(\"process\") // console.log(ret) ret = myvm.run(\"1+2\") console.log(ret)","title":"\u30103\u3011vm2"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4_15","text":"\u5728\u722c\u866b\u9886\u57df\uff0cVMP\u901a\u5e38\u6307\u201c\u865a\u62df\u673a\u4fdd\u62a4\u201d\uff08Virtual Machine Protection\uff09\u3002VMP\u662f\u4e00\u79cd\u65e8\u5728\u4fdd\u62a4\u8f6f\u4ef6\u4ee3\u7801\u4e0d\u88ab\u9006\u5411\u5de5\u7a0b\u548c\u6076\u610f\u4fee\u6539\u7684\u6280\u672f\u3002\u5b83\u901a\u8fc7\u4f7f\u7528\u865a\u62df\u673a\u6280\u672f\uff0c\u5c06\u771f\u6b63\u7684\u7a0b\u5e8f\u4ee3\u7801\u8f6c\u6362\u6210\u865a\u62df\u6307\u4ee4\uff0c\u4ece\u800c\u4f7f\u5f97\u53cd\u6c47\u7f16\u548c\u9006\u5411\u5de5\u7a0b\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\u3002 \u5728\u722c\u866b\u4e2d\uff0cVMP\u901a\u5e38\u7528\u4e8e\u4fdd\u62a4\u722c\u866b\u7a0b\u5e8f\u7684\u4ee3\u7801\uff0c\u4ee5\u9632\u6b62\u6076\u610f\u7528\u6237\u5206\u6790\u548c\u4fee\u6539\u722c\u866b\u7a0b\u5e8f\u3002\u8fd9\u79cd\u4fdd\u62a4\u6280\u672f\u53ef\u4ee5\u6709\u6548\u9632\u6b62\u9ed1\u5ba2\u548c\u6076\u610f\u7528\u6237\u5229\u7528\u722c\u866b\u7a0b\u5e8f\u8fdb\u884c\u653b\u51fb\u548c\u975e\u6cd5\u884c\u4e3a\u3002","title":"\u30104\u3011\u4eca\u65e5\u5934\u6761\u6848\u4f8b"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#5_8","text":"","title":"\u30105\u3011\u5b8c\u6574\u4ee3\u7801"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#1-py","text":"import execjs import requests # \u6709\u7684\u68c0\u6d4bsign. \u6709\u7684\u4e0d\u68c0\u6d4b url = \"https://www.toutiao.com/api/pc/list/feed?offset=0&channel_id=94349549395&max_behot_time=0&category=pc_profile_channel&disable_raw_data=true&aid=24&app_name=toutiao_web\" f = open(\"\u4eca\u65e5\u5934\u6761.js\", mode=\"r\", encoding=\"utf-8\") js_code = f.read() js = execjs.compile(js_code) sign = js.call(\"fn\", url) print(\"sign\", sign) params = { \"_signature\": sign } # cookie: msToken=foBljwu_lJgAolE3xxrEK-P6oz5Dpk101Rsx1kyz3-vtwKF2CDzongE81glRx6OR-l78WvqusRfBNnZSy6nz_qXiZffmyHX1_n98S0vAWxo=; __ac_signature=_02B4Z6wo00f014kJx9QAAIDDCQs9lKX25UeJKcNAAIZe7c; tt_webid=7211478517695039034; ttcid=0c13fa2fa2f04b66a71cfd3d40bf70e139; local_city_cache=%E5%8C%97%E4%BA%AC; csrftoken=4dcb3da757d011305174056a31c395c4; s_v_web_id=verify_lfcgx7l4_isLbnSez_dPJo_41Tt_8z52_ldqVZh1xhb9O; _ga=GA1.1.1962291559.1679053199; tt_scid=WJ35PCDU.3NmYJ0XW.myIF92VJ5rC9Uxha8g6UH.6lqg.6B9pZkBp-MTza2dcjit5920; ttwid=1%7CdAuWEouKeMG_oWUBvS3z8w8w7PjV7UwEtZ3leV8UMXI%7C1679057393%7Cb074cd6be208cba624fb0541ee7edf9bf1600bcf6cd590718190fc129635b778; _ga_QEHZPBE5HH=GS1.1.1679057391.2.1.1679057623.0.0.0 headers = { \"referer\": \"https://www.toutiao.com/?wid=1679053196370\", \"user-agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\", } resp = requests.get(url, params=params, headers=headers) print(resp.text)","title":"(1) \u4eca\u65e5\u5934\u6761.py"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#2-js","text":"var vm = require(\"vm2\"); var fs = require(\"fs\"); // nodejs\u5185\u7f6e\u7684\u8bfb\u53d6\u6587\u4ef6\u7684\u5199\u6cd5 const {VM, VMScript} = vm; // \u89e3\u5305. \u4ece\u89e3\u5305\u4e2d\u83b7\u53d6\u5230VM\u548cVMScript var myvm = new VM(); let js_code = \"\"; // nodejs\u8bfb\u53d6\u6587\u4ef6\u7684\u5199\u6cd5 js_code += fs.readFileSync(\"./\u8865\u5145\u73af\u58834.js\"); // \u5148\u52a0\u8f7d\u6211\u8865\u5145\u7684\u4ee3\u7801 js_code += fs.readFileSync(\"./\u6e90\u7801.js\"); // \u7136\u540e\u52a0\u8f7d\u9700\u8981\u8865\u73af\u5883\u7684\u4ee3\u7801 function fn(url) { js_code += `;o = {url: '${url}'};window.byted_acrawler.sign(o)` return myvm.run(js_code); } console.log(fn(\"666\"))","title":"(2) \u4eca\u65e5\u5934\u6761.js"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#3-js","text":"try { debugger; var glb; (glb = \"undefined\" == typeof window ? global : window)._$jsvmprt = function (b, e, f) { function a() { if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (\"function\" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], (function () { }))), !0 } catch (b) { return !1 } } function d(b, e, f) { return (d = a() ? Reflect.construct : function (b, e, f) { var a = [null]; a.push.apply(a, e); var d = new (Function.bind.apply(b, a)); return f && c(d, f.prototype), d }).apply(null, arguments) } function c(b, e) { return (c = Object.setPrototypeOf || function (b, e) { return b.__proto__ = e, b })(b, e) } function n(b) { return function (b) { if (Array.isArray(b)) { for (var e = 0, f = new Array(b.length); e < b.length; e++) f[e] = b[e]; return f } }(b) || function (b) { if (Symbol.iterator in Object(b) || \"[object Arguments]\" === Object.prototype.toString.call(b)) return Array.from(b) }(b) || function () { throw new TypeError(\"Invalid attempt to spread non-iterable instance\") }() } for (var i = [], r = 0, t = [], o = 0, l = function (b, e) { var f = b[e++], a = b[e], d = parseInt(\"\" + f + a, 16); if (d >> 7 == 0) return [1, d]; if (d >> 6 == 2) { var c = parseInt(\"\" + b[++e] + b[++e], 16); return d &= 63, [2, c = (d <<= 8) + c] } if (d >> 6 == 3) { var n = parseInt(\"\" + b[++e] + b[++e], 16), i = parseInt(\"\" + b[++e] + b[++e], 16); return d &= 63, [3, i = (d <<= 16) + (n <<= 8) + i] } }, u = function (b, e) { var f = parseInt(\"\" + b[e] + b[e + 1], 16); return f = f > 127 ? -256 + f : f }, s = function (b, e) { var f = parseInt(\"\" + b[e] + b[e + 1] + b[e + 2] + b[e + 3], 16); return f = f > 32767 ? -65536 + f : f }, p = function (b, e) { var f = parseInt(\"\" + b[e] + b[e + 1] + b[e + 2] + b[e + 3] + b[e + 4] + b[e + 5] + b[e + 6] + b[e + 7], 16); return f = f > 2147483647 ? 0 + f : f }, y = function (b, e) { return parseInt(\"\" + b[e] + b[e + 1], 16) }, v = function (b, e) { return parseInt(\"\" + b[e] + b[e + 1] + b[e + 2] + b[e + 3], 16) }, g = g || this || window, h = Object.keys || function (b) { var e = {}, f = 0; for (var a in b) e[f++] = a; return e.length = f, e }, m = (b.length, 0), I = \"\", C = m; C < m + 16; C++) { var q = \"\" + b[C++] + b[C]; q = parseInt(q, 16), I += String.fromCharCode(q) } if (\"HNOJ@?RC\" != I) throw new Error(\"error magic number \" + I); m += 16; parseInt(\"\" + b[m] + b[m + 1], 16); m += 8, r = 0; for (var w = 0; w < 4; w++) { var S = m + 2 * w, R = \"\" + b[S++] + b[S], x = parseInt(R, 16); r += (3 & x) << 2 * w } m += 16, m += 8; var z = parseInt(\"\" + b[m] + b[m + 1] + b[m + 2] + b[m + 3] + b[m + 4] + b[m + 5] + b[m + 6] + b[m + 7], 16), O = z, E = m += 8, j = v(b, m += z); j[1]; m += 4, i = {p: [], q: []}; for (var A = 0; A < j; A++) { for (var D = l(b, m), T = m += 2 * D[0], $ = i.p.length, P = 0; P < D[1]; P++) { var U = l(b, T); i.p.push(U[1]), T += 2 * U[0] } m = T, i.q.push([$, i.p.length]) } var _ = {5: 1, 6: 1, 70: 1, 22: 1, 23: 1, 37: 1, 73: 1}, k = {72: 1}, M = {74: 1}, H = {11: 1, 12: 1, 24: 1, 26: 1, 27: 1, 31: 1}, J = {10: 1}, N = {2: 1, 29: 1, 30: 1, 20: 1}, B = [], W = []; function F(b, e, f) { for (var a = e; a < e + f;) { var d = y(b, a); B[a] = d, a += 2; k[d] ? (W[a] = u(b, a), a += 2) : _[d] ? (W[a] = s(b, a), a += 4) : M[d] ? (W[a] = p(b, a), a += 8) : H[d] ? (W[a] = y(b, a), a += 2) : J[d] ? (W[a] = v(b, a), a += 4) : N[d] && (W[a] = v(b, a), a += 4) } } return K(b, E, O / 2, [], e, f); function G(b, e, f, a, c, l, m, I) { null == l && (l = this); var C, q, w, S = [], R = 0; m && (C = m); var x, z, O = e, E = O + 2 * f; if (!I) for (; O < E;) { var j = parseInt(\"\" + b[O] + b[O + 1], 16); O += 2; var A = 3 & (x = 13 * j % 241); if (x >>= 2, A < 1) { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 10 ? S[++R] = void 0 : A > 1 ? (C = S[R--], S[R] = S[R] >= C) : A > -1 && (S[++R] = null); else if (A > 1) { if ((A = x) > 11) throw S[R--]; if (A > 7) { for (C = S[R--], z = v(b, O), A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R--][A] = C } else A > 5 && (S[R] = h(S[R])) } else if (A > 0) { (A = x) > 8 ? (C = S[R--], S[R] = typeof C) : A > 6 ? S[R] = --S[R] : A > 4 ? S[R -= 1] = S[R][S[R + 1]] : A > 2 && (q = S[R--], (A = S[R]).x === G ? A.y >= 1 ? S[R] = K(b, A.c, A.l, [q], A.z, w, null, 1) : (S[R] = K(b, A.c, A.l, [q], A.z, w, null, 0), A.y++) : S[R] = A(q)) } else { if ((A = x) > 14) z = s(b, O), (U = function e() { var f = arguments; return e.y > 0 ? K(b, e.c, e.l, f, e.z, this, null, 0) : (e.y++, K(b, e.c, e.l, f, e.z, this, null, 0)) }).c = O + 4, U.l = z - 2, U.x = G, U.y = 0, U.z = c, S[R] = U, O += 2 * z - 2; else if (A > 12) q = S[R--], w = S[R--], (A = S[R--]).x === G ? A.y >= 1 ? S[++R] = K(b, A.c, A.l, q, A.z, w, null, 1) : (S[++R] = K(b, A.c, A.l, q, A.z, w, null, 0), A.y++) : S[++R] = A.apply(w, q); else if (A > 5) C = S[R--], S[R] = S[R] != C; else if (A > 3) C = S[R--], S[R] = S[R] * C; else if (A > -1) return [1, S[R--]] } } else if (A < 2) { A = 3 & x; if (x >>= 2, A < 1) { if ((A = x) > 9) ; else if (A > 7) C = S[R--], S[R] = S[R] & C; else if (A > 5) z = y(b, O), O += 2, S[R -= z] = 0 === z ? new S[R] : d(S[R], n(S.slice(R + 1, R + z + 1))); else if (A > 3) { z = s(b, O); try { if (t[o][2] = 1, 1 == (C = G(b, O + 4, z - 3, [], c, l, null, 0))[0]) return C } catch (m) { if (t[o] && t[o][1] && 1 == (C = G(b, t[o][1][0], t[o][1][1], [], c, l, m, 0))[0]) return C } finally { if (t[o] && t[o][0] && 1 == (C = G(b, t[o][0][0], t[o][0][1], [], c, l, null, 0))[0]) return C; t[o] = 0, o-- } O += 2 * z - 2 } } else if (A < 2) { if ((A = x) > 12) S[++R] = u(b, O), O += 2; else if (A > 10) C = S[R--], S[R] = S[R] << C; else if (A > 8) { for (z = v(b, O), A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R] = S[R][A] } else A > 6 && (q = S[R--], C = delete S[R--][q]) } else if (A < 3) { (A = x) < 2 ? S[++R] = C : A < 4 ? (C = S[R--], S[R] = S[R] <= C) : A < 11 ? (C = S[R -= 2][S[R + 1]] = S[R + 2], R--) : A < 13 && (C = S[R], S[++R] = C) } else { if ((A = x) > 12) S[++R] = l; else if (A > 5) C = S[R--], S[R] = S[R] !== C; else if (A > 3) C = S[R--], S[R] = S[R] / C; else if (A > 1) { if ((z = s(b, O)) < 0) { I = 1, F(b, e, 2 * f), O += 2 * z - 2; break } O += 2 * z - 2 } else A > -1 && (S[R] = !S[R]) } } else if (A < 3) { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 7 ? (C = S[R--], S[R] = S[R] | C) : A > 5 ? (z = y(b, O), O += 2, S[++R] = c[\"$\" + z]) : A > 3 && (z = s(b, O), t[o][0] && !t[o][2] ? t[o][1] = [O + 4, z - 3] : t[o++] = [0, [O + 4, z - 3], 0], O += 2 * z - 2); else if (A > 1) { if ((A = x) < 2) { for (z = v(b, O), C = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) C += String.fromCharCode(r ^ i.p[P]); S[++R] = C, O += 4 } else if (A < 4) if (S[R--]) O += 4; else { if ((z = s(b, O)) < 0) { I = 1, F(b, e, 2 * f), O += 2 * z - 2; break } O += 2 * z - 2 } else A < 6 ? (C = S[R--], S[R] = S[R] % C) : A < 8 ? (C = S[R--], S[R] = S[R] instanceof C) : A < 15 && (S[++R] = !1) } else if (A > 0) { (A = x) < 1 ? S[++R] = g : A < 3 ? (C = S[R--], S[R] = S[R] + C) : A < 5 ? (C = S[R--], S[R] = S[R] == C) : A < 14 && (C = S[R - 1], q = S[R], S[++R] = C, S[++R] = q) } else { (A = x) < 2 ? (C = S[R--], S[R] = S[R] > C) : A < 9 ? (z = v(b, O), O += 4, q = R + 1, S[R -= z - 1] = z ? S.slice(R, q) : []) : A < 11 ? (z = y(b, O), O += 2, C = S[R--], c[z] = C) : A < 13 ? (C = S[R--], S[R] = S[R] >> C) : A < 15 && (S[++R] = s(b, O), O += 4) } } else { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 13 ? (S[++R] = p(b, O), O += 8) : A > 11 ? (C = S[R--], S[R] = S[R] >>> C) : A > 9 ? S[++R] = !0 : A > 7 ? (z = y(b, O), O += 2, S[R] = S[R][z]) : A > 0 && (C = S[R--], S[R] = S[R] < C); else if (A > 1) { (A = x) > 10 ? (z = s(b, O), t[++o] = [[O + 4, z - 3], 0, 0], O += 2 * z - 2) : A > 8 ? (C = S[R--], S[R] = S[R] ^ C) : A > 6 && (C = S[R--]) } else if (A > 0) { if ((A = x) < 3) { var D = 0, T = S[R].length, $ = S[R]; S[++R] = function () { var b = D < T; if (b) { var e = $[D++]; S[++R] = e } S[++R] = b } } else A < 5 ? (z = y(b, O), O += 2, C = c[z], S[++R] = C) : A < 7 ? S[R] = ++S[R] : A < 9 && (C = S[R--], S[R] = S[R] in C) } else { if ((A = x) > 13) C = S[R], S[R] = S[R - 1], S[R - 1] = C; else if (A > 4) C = S[R--], S[R] = S[R] === C; else if (A > 2) C = S[R--], S[R] = S[R] - C; else if (A > 0) { for (z = v(b, O), A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); A = +A, O += 4, S[++R] = A } } } } if (I) for (; O < E;) { j = B[O]; O += 2; A = 3 & (x = 13 * j % 241); if (x >>= 2, A < 1) { var U; A = 3 & x; if (x >>= 2, A < 1) { if ((A = x) > 14) z = W[O], (U = function e() { var f = arguments; return e.y > 0 ? K(b, e.c, e.l, f, e.z, this, null, 0) : (e.y++, K(b, e.c, e.l, f, e.z, this, null, 0)) }).c = O + 4, U.l = z - 2, U.x = G, U.y = 0, U.z = c, S[R] = U, O += 2 * z - 2; else if (A > 12) q = S[R--], w = S[R--], (A = S[R--]).x === G ? A.y >= 1 ? S[++R] = K(b, A.c, A.l, q, A.z, w, null, 1) : (S[++R] = K(b, A.c, A.l, q, A.z, w, null, 0), A.y++) : S[++R] = A.apply(w, q); else if (A > 5) C = S[R--], S[R] = S[R] != C; else if (A > 3) C = S[R--], S[R] = S[R] * C; else if (A > -1) return [1, S[R--]] } else if (A < 2) { (A = x) < 4 ? (q = S[R--], (A = S[R]).x === G ? A.y >= 1 ? S[R] = K(b, A.c, A.l, [q], A.z, w, null, 1) : (S[R] = K(b, A.c, A.l, [q], A.z, w, null, 0), A.y++) : S[R] = A(q)) : A < 6 ? S[R -= 1] = S[R][S[R + 1]] : A < 8 ? S[R] = --S[R] : A < 10 && (C = S[R--], S[R] = typeof C) } else if (A < 3) { if ((A = x) > 11) throw S[R--]; if (A > 7) { for (C = S[R--], z = W[O], A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R--][A] = C } else A > 5 && (S[R] = h(S[R])) } else { (A = x) < 1 ? S[++R] = null : A < 3 ? (C = S[R--], S[R] = S[R] >= C) : A < 12 && (S[++R] = void 0) } } else if (A < 2) { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 12 ? S[++R] = l : A > 5 ? (C = S[R--], S[R] = S[R] !== C) : A > 3 ? (C = S[R--], S[R] = S[R] / C) : A > 1 ? O += 2 * (z = W[O]) - 2 : A > -1 && (S[R] = !S[R]); else if (A > 1) { (A = x) < 2 ? S[++R] = C : A < 4 ? (C = S[R--], S[R] = S[R] <= C) : A < 11 ? (C = S[R -= 2][S[R + 1]] = S[R + 2], R--) : A < 13 && (C = S[R], S[++R] = C) } else if (A > 0) { if ((A = x) < 8) q = S[R--], C = delete S[R--][q]; else if (A < 10) { for (z = W[O], A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); O += 4, S[R] = S[R][A] } else A < 12 ? (C = S[R--], S[R] = S[R] << C) : A < 14 && (S[++R] = W[O], O += 2) } else { if ((A = x) < 5) { z = W[O]; try { if (t[o][2] = 1, 1 == (C = G(b, O + 4, z - 3, [], c, l, null, 0))[0]) return C } catch (m) { if (t[o] && t[o][1] && 1 == (C = G(b, t[o][1][0], t[o][1][1], [], c, l, m, 0))[0]) return C } finally { if (t[o] && t[o][0] && 1 == (C = G(b, t[o][0][0], t[o][0][1], [], c, l, null, 0))[0]) return C; t[o] = 0, o-- } O += 2 * z - 2 } else A < 7 ? (z = W[O], O += 2, S[R -= z] = 0 === z ? new S[R] : d(S[R], n(S.slice(R + 1, R + z + 1)))) : A < 9 && (C = S[R--], S[R] = S[R] & C) } } else if (A < 3) { A = 3 & x; if (x >>= 2, A < 1) (A = x) < 2 ? (C = S[R--], S[R] = S[R] > C) : A < 9 ? (z = W[O], O += 4, q = R + 1, S[R -= z - 1] = z ? S.slice(R, q) : []) : A < 11 ? (z = W[O], O += 2, C = S[R--], c[z] = C) : A < 13 ? (C = S[R--], S[R] = S[R] >> C) : A < 15 && (S[++R] = W[O], O += 4); else if (A < 2) { (A = x) < 1 ? S[++R] = g : A < 3 ? (C = S[R--], S[R] = S[R] + C) : A < 5 ? (C = S[R--], S[R] = S[R] == C) : A < 14 && (C = S[R - 1], q = S[R], S[++R] = C, S[++R] = q) } else if (A < 3) { if ((A = x) < 2) { for (z = W[O], C = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) C += String.fromCharCode(r ^ i.p[P]); S[++R] = C, O += 4 } else A < 4 ? S[R--] ? O += 4 : O += 2 * (z = W[O]) - 2 : A < 6 ? (C = S[R--], S[R] = S[R] % C) : A < 8 ? (C = S[R--], S[R] = S[R] instanceof C) : A < 15 && (S[++R] = !1) } else { (A = x) > 7 ? (C = S[R--], S[R] = S[R] | C) : A > 5 ? (z = W[O], O += 2, S[++R] = c[\"$\" + z]) : A > 3 && (z = W[O], t[o][0] && !t[o][2] ? t[o][1] = [O + 4, z - 3] : t[o++] = [0, [O + 4, z - 3], 0], O += 2 * z - 2) } } else { A = 3 & x; if (x >>= 2, A > 2) (A = x) > 13 ? (S[++R] = W[O], O += 8) : A > 11 ? (C = S[R--], S[R] = S[R] >>> C) : A > 9 ? S[++R] = !0 : A > 7 ? (z = W[O], O += 2, S[R] = S[R][z]) : A > 0 && (C = S[R--], S[R] = S[R] < C); else if (A > 1) { (A = x) > 10 ? (z = W[O], t[++o] = [[O + 4, z - 3], 0, 0], O += 2 * z - 2) : A > 8 ? (C = S[R--], S[R] = S[R] ^ C) : A > 6 && (C = S[R--]) } else if (A > 0) { if ((A = x) > 7) C = S[R--], S[R] = S[R] in C; else if (A > 5) S[R] = ++S[R]; else if (A > 3) z = W[O], O += 2, C = c[z], S[++R] = C; else if (A > 1) { D = 0, T = S[R].length, $ = S[R]; S[++R] = function () { var b = D < T; if (b) { var e = $[D++]; S[++R] = e } S[++R] = b } } } else { if ((A = x) < 2) { for (z = W[O], A = \"\", P = i.q[z][0]; P < i.q[z][1]; P++) A += String.fromCharCode(r ^ i.p[P]); A = +A, O += 4, S[++R] = A } else A < 4 ? (C = S[R--], S[R] = S[R] - C) : A < 6 ? (C = S[R--], S[R] = S[R] === C) : A < 15 && (C = S[R], S[R] = S[R - 1], S[R - 1] = C) } } } return [0, null] } function K(b, e, f, a, d, c, n, i) { var r, t; null == c && (c = this), d && !d.d && (d.d = 0, d.$0 = d, d[1] = {}); var o = {}, l = o.d = d ? d.d + 1 : 0; for (o[\"$\" + l] = o, t = 0; t < l; t++) o[r = \"$\" + t] = d[r]; for (t = 0, l = o.length = a.length; t < l; t++) o[t] = a[t]; return i && !B[e] && F(b, e, 2 * f), B[e] ? G(b, e, f, 0, o, c, null, 1)[1] : G(b, e, f, 0, o, c, null, 0)[1] } }, (glb = \"undefined\" == typeof window ? global : window)._$jsvmprt(\"484e4f4a403f5243000d2d1aea78184c36c3d671000000000000ab44020000250074211b000b02430200013e2217000e1c211b000b03430200024017000e18011b000b02041c16004c211b000b04430200033e2217000b1c1b000b041e00041700181b000b04260200050a000118010a0002101c16001e180022011700051c131f0018011800131e00061a001d000727041c00261102000025552002000825000d1b000b081e00090101001f0702000a25000e211b000b094302000240001f0802000b25005b131e000c02000d02000e1a02221e000f24131e00100a000110220117003c1c0200002500131800221e0011240a0000100200123e00131e001301220117001a1c211b000b0a43020002402217000b1c1b000b0a1e001404001f090200152500131b000b0b1a00221e0016240a000010001f0a020017250039211800430200023e22011700081c1800263e17000702000000211800430200183e170012180017000902001916000602001a001800001f0b02001b25005218010117000802001c1f010200001f0618001f0e180e480039170033180618011b000b0c221e001d241b000b0c221e001e240a00001018011e001f2a0a00011019281f06180e2e1f0e16ffcb1806001f0c0200202500df0200021f0621134318063e22011700121c13221e0011240a00001002002140220117001c1c1b000b051e00221e0011221e002324130a00011002002140220117000d1c211b000b084318063e22011700201c1b000b08221e0011240a000010221e0024240200250a00011048003a220117000d1c211b000b0d4318063e22011700151c1b000b0d221e0011240a00001002002640220117000d1c211b000b0e4318063e17000520001b020b07260a00001001170028211b000b0f4318063e22011700151c1b000b0f221e0011240a00001002002740170005200012001f0d0200282500a3211801430200294017000400180002002a281f061801221e002b24131e000c02002c0200001a020a0001101f0748001f12181218071e001f3a17006618071812191f081808221e002d2448000a00011002002e3e17001a1808221e002f24480118081e001f0a0002101f0816ffd81808221e00242418060a00011048003e1700191808221e002f2418061e001f18081e001f0a0002100018122d1f1216ff95001f0e02003025007146000306000a271f22020000000500600200001f06131e003117001c131e0031221e00322418000a0001101f061806170006180600131e003317001c131e0033221e00322418000a0001101f0618061700061806001b020b0e2618001b000b081e00340a0002101f0618060007001f0f02003525009c460003060006271f2205008f131e0031170015131e0031221e003624180018010a0002101c131e0033170015131e0033221e003624180018010a0002101c49016d48182a483c2a483c2a4903e82a1f061b000b081800020037281d00341b000b08180002002a28180128020038281b000b0b1b000b0b1a00221e0016240a0000101806281a01221e0039240a0000102802003a281d003407001f1002003b25004c460003060006271f1e05003f131e0031170013131e0031221e003c2418000a0001101c131e0033170013131e0033221e003c2418000a0001101c1b000b081800020037281d003407001f1102003d2500a31b000b101a001f061b000b05221e003e24180602003f131e00061a002202000025000c1b030b00201d0040001d00410a0003101c1b000b11221e00422402004318060a0002101c13221700081c131e00442217000b1c131e00441e00451700091800201d00401b020b08260a00001017003013221700221c131e0046131e00472948643922011700101c131e0048131e0049294864391700091800201d0040001f1302004a25002b211343020002402217001f1c1b000b051e00221e0011221e002324131e004b0a00011002004c3e001f1402004d2500611b020b07260a0000100117005202004e1b000b0d420122011700111c1b000b0d1e004e1b000b12410122011700091c02004f134222011700091c020050134222011700091c0200511342220117000f1c020052134202005313423a0012001f150200542501661b000b0d1e005517000520000200561b000b05421700431b000b05221e0056241b000b0d0a0001101f101810221e0024240200550a00011048003b22011700151c1810221e0024240200570a00011048003b170005200013221700081c131e00582217000b1c131e00581e00592217000e1c131e00581e00591e005a17002a460003060006271f9605001e131e00581e0059221e005a240a0000101b000b063e17000520000702005b02005c02005d02005e02005f0200600200610200620200630200640200650a000b1f060200660200670200680a00031f07180708031fc918c921041700181fc8180718c8191fca1318ca19170005200016ffe7180608031fc918c9210417001b1fc8180618c8191fca131e006918ca19170005200016ffe4131e006908031fc918c921041700341fc818c8221e006a24131e000c02006b0200001a020a0001102217000f1c131e006918c81902006c19170005200016ffcb12001f1602006d2500c71b020b08260a0000101700291b000b13221e006e2402000f0a0001101f06180602000025000c1b030b00201d006f001d00701b020b09260a00001017005b46000306002c271f1a181a1e00711b000b14020072193e2217000e1c131e00311e001f48003e1700091800201d006f050029131e0031221e0036240200730200000a0002101c131e0031221e003c240200730a0001101c071b020b07260a000010170024131e007401221700121c131e007522011700081c131e00761700091800201d006f001f170200772500b11b020b07260a000010011700a21b000b08221e0078240200790a0001101f0618061e007a221e0011240a000010221e007b24131e000c02007c02007d1a020200000a000210221e00242402007e0a00011048003a220117003b1c1b000b0d1e0011221e0011240a000010221e007b24131e000c02007c02007d1a020200000a000210221e00242402007e0a00011048003a22011700181c1b000b0d1e004e221e0011240a00001002007f400012001f18020080250075131e000c0200810200001a021f0613221700081c131e00822217000b1c131e00821e008317004c131e00821e00831f071807221e0024240200840a00011048003e22011700151c1807221e0024240200850a00011048003e22011700111c1806221e000f2418070a000110170005200012001f190200862500961b020b1a1e008717000b1b020b1a1e00870046000306000a271f1e020000000500731b000b08221e0078240200790a0001101f0c180c221e0088240200890a0001101f0d180d221e008a2402008b0a0001101f0e180d221e008c24180e02008d190a0001101f0f180d221e008c24180e02008e190a0001101f10180f02008f281810281f111b020b1a18111d008718110007001f1b0200902501270200001f061b020b1a1e009117000f1b020b1a1e00911f061600fb48051f0e0a00001f0f1b000b0d1e004e1f10181022011700071c0a00001f1148001f121812180e3a1700b7460003060006271f3f0500a318111812191f130a00001f1448001f16181618131e001f3a1700371813221e00922418160a00011017001f1814221e0093241813221e00922418160a0001101e00940a0001101c18162d1f1616ffc418131e0095020000281f1518131e0096170011181518131e009602000028281f15181518131e009702000028281f1518151814221e0098240200000a000110281f15180f221e00932418150a0001101c0718122d1f1216ff47180f221e0098240200990a0001101f061b020b1a18061d00911806221e009a2448004904000a000210001f1c02009b2504631b000b0d1e009c221e009d240a0000101f061b000b0d1e009e221e009d240a0000101f0748001f0848011f0948021f0a48031f0b48041f0c48051f0d180d1f0e02009f1f0f0200a01f100200a11f110200a21f120200a31f130200a41f140200a51f150200a61f161806221e0024240200a70a00011048003b22011700151c1806221e0024240200a80a00011048003b17000a180c1f0e1600f71806221e002424180f0a00011048003b17000a18081f0e1600dd1806221e00242418110a00011048003b17000a18091f0e1600c31806221e00242418120a00011048003b22011700151c1806221e0024240200a90a00011048003b22011700151c1806221e0024240200aa0a00011048003b17000a180a1f0e16007b1806221e00242418130a00011048003b22011700141c1806221e00242418140a00011048003b22011700141c1806221e00242418150a00011048003b22011700151c1806221e0024240200ab0a00011048003b22011700151c1806221e0024240200ac0a00011048003b17000a180b1f0e160007180d1f0e1807221e00242418100a00011048003b221700091c180e18084017000820001601521807221e00242418120a00011048003b22011700141c1807221e00242418110a00011048003b22011700151c1807221e0024240200ad0a00011048003b221700091c180e180a40221700091c180e18094017000820001600f91807221e00242418160a00011048003b22011700141c1807221e00242418140a00011048003b22011700141c1807221e00242418150a00011048003b22011700141c1807221e00242418130a00011048003b221700091c180e180c40221700091c180e180b40170008200016008b1807221e00242418100a00011048003a221700141c1807221e00242418120a00011048003a221700141c1807221e00242418160a00011048003a221700141c1807221e00242418130a00011048003a221700141c1807221e00242418140a00011048003a221700141c1807221e00242418150a00011048003a1f001800180e180d3e40170005200048001f1748011f1848021f1948041f1a48051f1b181b1f1c1806221e0024240200ae0a00011048003b17000a18191f1c1600861806221e0024240200af0a00011048003b22011700151c1806221e0024240200b00a00011048003b17000a18181f1c1600541806221e0024240200b10a00011048003b17000a18171f1c1600391806221e0024240200b20a00011048003b22011700151c1806221e0024240200b30a00011048003b17000a181a1f1c160007181b1f1c1b020b1c260a000010221e009d240a0000101f1d1b020b1b260a000010221e009d240a0000101f1e181c18173f221700091c181c18183f2217002d1c131e005822011700231c1b000b0d1e00b4221e0011240a000010221e0024240200b50a00011048003b1700052000181c18173f221700091c181c18183f221700151c181d221e0024240200580a00011048003b1700052000181c181a3e2217000a1c181e0200003f170005200012001f1d0200b62500da261f0646000306000f271f121b000b081e00b71f060500191b000b08221e00b8240200b90a0001104800191f06071806263e170004001b000b08221e0078240200ba0a0001101f070200bb1b000b15264927101b000b0c221e001e240a0000102a480a0a000210280200bb281b000b0b1a00221e0016240a000010281f0818000200bc180828281f00180718001d00bd1318080200002500311b030b011800041c460003060006271f0c05001c1b030b06221e00be241b030b070a0001101c131b030b080907000d1806221e00bf2418070a0001101c001f1e0200c02500be18001e001f1f0618064802331f07180117003018001806480129191f0818074804291f07180818074803293a22011700091c1808180739170005260018081f0748001f09180918063a17004a180018091b000b16221e00c12418001809194900ff2f18001809194808354900ff2f18001809194810354900ff2f18001809194818354900ff2f0a0004100d18092d1f0916ffb41800221e0098240200000a0001101f0a1801170013180a221e002f24480018070a00021000180a001f200200c225007f18001e001f1f0618064802341f07180648032f48004017000818072d1f07180117001a1b000b1718074801281a011f081808180718060d16000d1b000b1718071a011f0848001f09180918063a17002c1808180948023423191800221e00c32418090a000110180948032f48033333300d18092d1f0916ffd21808001f210200c425000a18001400c52f001f220200c6250030180248053518014802333118014803351802480433312818001801311805180348032f180431191802312831001f230200c725001818001e001f48043a17000a180048041d001f1800001f240200c82500d618001e001f1f0618064801291f0718001807191f0948001f0a1b000b0c221e001d244806483418062b280a0001104800301f0d180d4800391700981b020b22180a1b020b1f28041f0a180a48023548032f1f0b48001f0c180c18073a17003d1800180c480128191f081800180c1b020b221800180c191b020b2326180a18081809180c180b18010a00061028040d271f09180c2d1f0c16ffc118004800191f08180018071b020b2218001807191b020b2326180a180818091807180b18010a00061028040d271f09180d2e1f0d16ff661800001f250200c92500d818001e001f1f0618064801291f0718004800191f081b000b0c221e001d244806483418062b280a0001101f0d1b020b22180d1b020b1f2a041f0a180a480040170093180a48023548032f1f0b18071f0c180c48003917003d1800180c480129191f091800180c1b020b221800180c191b020b2326180a18081809180c180b18010a00061029040d271f08180c2e1f0c16ffc118001807191f09180048001b020b2218004800191b020b2326180a180818094800180b18010a00061029040d271f081b020b22180a1b020b1f29041f0a16ff6b1800001f260200ca2501ac131e000c0200cb0200001a02221e000f2418000a0001101700061800000a00001f0618001e001f1f0748001f0848001f09180818073a1701641800221e00c32418080a0001101f0a180a4900803a170018180618091800221e002d2418080a0001100d16012a180a4908003a17002a180618091b000b16221e00c1244900c0180a48063430490080180a483f2f300a0002100d1600fa180a4a0000d8003a220117000c1c180a4a0000dfff39170036180618091b000b16221e00c1244900e0180a480c3430490080180a480634483f2f30490080180a483f2f300a0003100d1600ae180848012818073a1700991800221e00c32418084801280a0001101f0b180a4a0000dc003a2217000c1c4a0000dc00180b3c2217000c1c180b4a0000dfff3c170062180a4903ff2f480a33180b4903ff2f304a00010000281f0c180618091b000b16221e00c1244900f0180c481234483f2f30490080180c480c34483f2f30490080180c480634483f2f30490080180c483f2f300a0004100d18082d1f0816000d1b000b180200cc1a014718082d1f0818092d1f0916fe9a1806221e0098240200000a000110001f270200cd25024e1b000b1718011a011f0648001f0748001f0818001e001f1f09180718013a221700091c180818093a1702051800221e00c3241808222d1f080a0001101f0a180a4804341f0c180c480040170061180c480140170059180c480240170051180c480340170049180c480440170041180c480540170039180c480640170031180c480740170029180c480c4017002b180c480d40170023180c480e40170055180c480f401700a216016816017d18061807180a0d160173180818093a17002818061807180a481f2f4806331800221e00c3241808222d1f080a000110483f2f300d16000d1b000b180200ce1a0147160139180848012818093a17004018061807180a480f2f480c331800221e00c3241808222d1f080a000110483f2f480633301800221e00c3241808222d1f080a000110483f2f300d16000d1b000b180200ce1a01471600e4180848022818093a1700b4180a48072f4812331800221e00c3241808222d1f080a000110483f2f480c33301800221e00c3241808222d1f080a000110483f2f480633301800221e00c3241808222d1f080a000110483f2f304a00010000291f0b4800180b3c2217000c1c180b4a000fffff3c17002f18061807222d1f07180b480a344903ff2f4a0000d800300d18061807180b4903ff2f4a0000dc00300d16001b1b000b180200cf180b221e00112448100a000110281a014716000d1b000b180200ce1a014716001b1b000b180200d0180a221e00112448100a000110281a014718072d1f0716fdef180718013a17000a180618071d001f1b000b161e00c11b000b16180610001f280200d12502aa0a00001f061b000b174a000080001a011f0748001f0848001f0918001e001f1f0a180818013a221700091c1809180a3a1702431800221e00c3241809222d1f090a0001101f0b180b4804341f0e180e480040170061180e480140170059180e480240170051180e480340170049180e480440170041180e480540170039180e480640170031180e480740170029180e480c4017002b180e480d40170023180e480e40170055180e480f401700a216016816017d18071808180b0d1601731809180a3a17002818071808180b481f2f4806331800221e00c3241809222d1f090a000110483f2f300d16000d1b000b180200ce1a01471601391809480128180a3a17004018071808180b480f2f480c331800221e00c3241809222d1f090a000110483f2f480633301800221e00c3241809222d1f090a000110483f2f300d16000d1b000b180200ce1a01471600e41809480228180a3a1700b4180b48072f4812331800221e00c3241809222d1f090a000110483f2f480c33301800221e00c3241809222d1f090a000110483f2f480633301800221e00c3241809222d1f090a000110483f2f304a00010000291f0c4800180c3c2217000c1c180c4a000fffff3c17002f18071808222d1f08180c480a344903ff2f4a0000d800300d18071808180c4903ff2f4a0000dc00300d16001b1b000b180200cf180c221e00112448100a000110281a014716000d1b000b180200ce1a014716001b1b000b180200d0180b221e00112448100a000110281a01471808497fff4801293b17003518084801281f0d1807180d1d001f180618061e001f1b000b161e00c11b000b161807100d1801180d291f0148004801291f0818082d1f0816fdb11808480039170020180718081d001f180618061e001f1b000b161e00c11b000b161807100d1806221e0098240200000a000110001f290200d22500b418011b000b063e22011700081c1801263e22011700091c180148003a17000a18001e001f1f01180148003e17000702000000131e000c0200cb0200001a02221e000f2418000a000110220117001c1c131e000c0200d30200001a02221e000f2418000a00011001170021180118001e001f3e1700061800001800221e00d424480018010a0002100018014a0000ffff3a1700131b020b2826180018010a0002101600101b020b2926180018010a000210001f2a0200d525006b18001b000b063e22011700081c1800263e220117000c1c18001e001f48003e1700061800001b020b271800041f001b020b271801041f011b020b20261b020b25261b020b21261800200a0002101b020b241b020b21261801120a000210040a000210120a000210001f2b0200d625006718001b000b063e22011700081c1800263e220117000c1c18001e001f48003e1700061800001b020b271801041f011b020b2a1b020b20261b020b26261b020b21261800120a0002101b020b241b020b21261801120a000210040a000210200a00021004001f2c0200d725019d0200d81f0602002a1f0718021700080200001f07180117000718011f060200001f0848001f0a18001e001f180a4803283b1700b31800221e00c324180a222d1f0a0a0001104900ff2f4810331800221e00c324180a222d1f0a0a0001104900ff2f480833301800221e00c324180a222d1f0a0a0001104900ff2f301f0918081806221e002d2418094a00fc00002f4812340a000110281f0818081806221e002d2418094a0003f0002f480c340a000110281f0818081806221e002d241809490fc02f4806340a000110281f0818081806221e002d241809483f2f0a000110281f0816ff4518001e001f180a294800391700a81800221e00c324180a222d1f0a0a0001104900ff2f48103318001e001f180a3917001a1800221e00c324180a0a0001104900ff2f4808331600054800301f0918081806221e002d2418094a00fc00002f4812340a000110281f0818081806221e002d2418094a0003f0002f480c340a000110281f08180818001e001f180a3917001a1806221e002d241809490fc02f4806340a0001101600051807281f0818081807281f081808001f2d0200d92500120200da221e00242418000a000110001f2e0200db2501100200001f0648001f07180718001e001f4803293a1700f61b020b2e1800221e002d2418074800280a000110041f081b020b2e1800221e002d2418074801280a000110041f091b020b2e1800221e002d2418074802280a000110041f0a1b020b2e1800221e002d2418074803280a000110041f0b18061b000b16221e00c12418084802331809480435300a000110281f061800221e002d2418074802280a00011002002a3f17002718061b000b16221e00c12418094804334900f02f180a480235480f2f300a000110281f061800221e002d2418074803280a00011002002a3f17002118061b000b16221e00c124180a4806334900c02f180b300a000110281f0618074804281f0716ff021806001f2f0200dc25004a1800483f2f1f001b000b16221e00c12418001800481a3a1700084841160025180048343a17000848471600181800483e3a17000b48004804291600084800481129280a000110001f310200dd2500331b020b311f06180618004818340418061800481234042818061800480c340428180618004806340428180618000428001f320200de2500981b020b121e00df0200e0281f061b020b1e26180602000025007818001e001f48083a17000400460003060006271f7405005f1b020b2c261b020b2f1800221e009a2448080a000110041800221e009a24480048080a0002100a0002101f0c180c0200e13e1700131b020b38262018000a0002101c160019180c0200e23e1700101b020b38261218000a0002101c07000a0002101c001f370200e325004e1b020b1218001d00e4460003060006271f1e050038131e0031170016131e0031221e0036240200e518010a0002101c131e0033170016131e0033221e0036240200e518010a0002101c07001f380200e62500a90200001f06460003060006271f2305003f131e0031170015131e0031221e0032240200e50a0001101f0618060122011700081c131e0033170015131e0033221e0032240200e50a0001101f06071806170055460003060006271f430500491b020b2c261b020b2f1806221e009a2448080a000110041806221e009a24480048080a0002100a0002101f2318230200e13e170008200016000e18230200e23e17000512000712001f390200e7250103121f061b020b121e00e4203e170009201f061600201b020b121e00e4123e170009121f0616000e1b020b39260a0000101f06131e00061a0022121d00e822121d00e922121d00822218061d00ea22121d00eb22121d004022121d00ec22121d00ed22121d005522121d006f22121d00ee220200ef25000520001f4018401d000f1f0718071b020b0d260a0000101d00eb18071e00eb011700671b020b131807041c1b020b171807041c18071b020b14260a0000101d00ec18071b020b15260a0000101d00ed18071b020b16260a0000101d005518071b020b18260a0000101d00ee18071b020b19260a0000101d008218071b020b1d260a0000101d00e91807001f3a0200f025005c1b000b05221e00f12418000a0001101f0648001f0718061e001f4801291f08180848003b1700321800180618081919170008480116000548001f09180918061e001f180829480129331807301f0718082e1f0816ffcc1807001f3b0200f225003848001f06180618011e001f3a17002618004a0001003f2a1801221e00c32418060a000110284800351f0018062d1f0616ffd51800001f3c0200f325003848001f06180618011e001f3a17002618001801221e00c32418060a000110314a0001003f2a4800351f0018062d1f0616ffd51800001f3d0200f42500a348001f06180618011e001f3a1700911801221e00c32418060a0001101f0718074a0000d8003b2217000c1c18074a0000dbff3c2217000c1c180618011e001f3a1700451801221e00c32418064801280a0001101f0818084a0000fc002f4a0000dc003d17002218074903ff2f480a3318084903ff2f284a00010000281f0718064801281f0618004a0001003f2a1807284800351f0018062d1f0616ff6a1800001f3e0200f5250077180022011700071c0200001f061806221e007b24131e000c0200f60200001a020200000a0002101f061806221e0024240200e00a0001104800480129401700211806221e00d42448001806221e0024240200e00a0001100a00021016000518061f061806170008180616000602008f1f061806001f3f0200f72500b1180022011700071c0200001f061806221e006a24131e000c0200f80200001a020a0001101f0718071700161807480019221e00d42448010a0001101600060200001f0618061700141806221e002b240200f90a000110160004261f08131e00061a001f09180817004548001f0a180a18081e001f3a17003618091808180a19221e002b2402002a0a0001104800191808180a19221e002b2402002a0a0001104801190d180a2d1f0a16ffc51809001f400200fa25009118000122011700171c1b000b19221e00fb2418000a0001100200fc3e17000a131e00061a00001b000b05221e00f12418000a000110221e00fd240a0000101f06131e00061a001f0748001f10181018061e001f3a170037180117001a180718061810191800180618101919020000280d1600131807180618101918001806181019190d18102d1f1016ffc41807001f410200fe2500781b000b17221e00ff2418000a0001101700131800221e0100241b020b420a0001100018001b000b05411700491b000b05221e00f12418000a000110221e00fd240a0000101f0c180c221e010124020000250017180018011b020b421b030b00180119040d180000131e00061a000a000210001800001f4202010225007d18000122011700171c1b000b19221e00fb2418000a0001100200fc3e170007020000001b000b05221e00f12418000a000110221e00fd240a0000101f060200001f0748001f10181018061e001f3a170029180718061810190a000102002a281800180618101919280200f928281f0718102d1f1016ffd21807001f430201032500cb1b000b08221e0078240200790a0001101f07180748301d0104180748101d01051807221e0088240201060a0001101f0818080201071d01081808221e01092402010a4802480c0a0003101c180848021d010b180848011d010c180802010d1d010e1808221e010f24480848084808480048020a0005101c1808221e0110240a0000101c1807221e007a240a0000101f0648001f09180948203a17002c18004a0001003f2a1806221e00c324180018061e001f2c0a000110284800351f0018092d1f0916ffd21800001f4402011125002046000306000c271f0c48004801290005000d1b020b44140112040007001f45020113250011110201131d00951118001d0114001f4602011525001a460003060008271f0c200005000b131e003101010007001f4702011625001a460003060008271f0c200005000b131e003301010007001f4802011725001a460003060008271f0c200005000b131e007401010007001f490201182500301b020b0b1b020b49260a000010041b020b0b1b020b48260a00001004281b020b0b1b020b47260a0000100428001f4a020119250023131e011a1f0618061e01040200bb2818061e0105280200bb2818061e011b28001f4b02011c250019131e011a1f0618061e011d0200bb2818061e011e28001f4c02011f2500711b000b1a0200002500640201201b000b0d421700511b000b0d221e0120240a000010221e0121240200002500311b040b001800020122190200bb28180002012319280200bb28180002012419280200bb2818000201251928041c000a0001101c16000a1800020000041c001a01001f4d02012625007d0201271f0648001f07211b000b0d180619430200024017000f1b000b0d1806191f0716001c211b000b0d180619430200024017000c1b000b0d1806191f07460003060009271f50121f080500181b000b08221e0128240201290a0001101c201f080702012a13421f0918070200bb281808280200bb28180928001f4e02012b2500671b000b0b1a001f061806221e012c2448010a0001101c1806221e012d2448050a0001101c48001806221e012e240a000010291f071806221e012d24480b0a0001101c48001806221e012e240a000010291f081b000b0c221e012f24180718080a000210001f4f0201302501dd0201310201320201330a00031f06131e00061a001f07131e00061a001f081b000b081e00b70117000702001a001806031f1b181b21041700711f1a1b000b08221e0078240201340a0001101f1c181c0201351d0136181c1e01370201381d0139181c1e0137181a1d013a1b000b081e00b7221e00bf24181c0a0001101c1807181a181c1e013b0d1808181a181c1e013c0d1b000b081e00b7221e00be24181c0a0001101c16ff8e02013d02013e02013f02014002014102014202014302014402014502014602014702014802014902014a02014b02014c02014d02014e02014f0201500201510201520201530201540201550201560201570201580201590a001d1f0948001f0b271f0a271f0c48001f1a181a18091e001f3a1700b31806031f1c181c210417009f1f1b1b000b08221e0078240201340a0001101f1d181d0201351d0136181d1e01370201381d0139181d1e01371809181a1902015a28181b281d013a1b000b081e00b7221e00bf24181d0a0001101c181d1e013b1807181b1940220117000f1c181d1e013c1808181b19401f1e1b000b081e00b7221e00be24181d0a0001101c181e170018181a481e3a17000d4801181a33180a301f0a16000616ff60181a2d1f1a16ff48180a221e00112448100a000110001f5002015b25002146000306000c271f0c180c1e01140005000e1b000b1b02015c1a011c07001f5102015d2500141b000b1c221e0011240a0000101e001f001f5202015e2501e81b020b07260a000010220117000d1c1b020b09260a00001022011700231c1b000b0d1e009c221e009d240a000010221e00242402015f0a00011048003917000702000000131e016022011700081c131e016122011700081c131e01621f061b000b1a02000025017d46000306000d271f6a1800020000041c0501691b030b0617015a1b030b06131e00061a0022131e00061a00220201631d01640a00011d01651a011f06020000250004001f07131e000c0201660200001a021f08131e000c02016702007d1a021f091806221e0168240200000a0001101c1b000b1d2602000025000d1b040b00020000041c004901f40a0002101c1806221e0169240a0000101f0a180a1b000b1a41170038180a221e0121240200002500131b040b06221e016a2418000a000110000a000110221e012124020000250004000a0001101c1600301806221e01692402000025001c1b040b06221e016a2418001b040b071b040b070a0003101c0018070a0002101c18060200002500601800221700091c18001e016b2217000c1c18001e016b1e016b1700431b040b08221e016c2418001e016b1e016b0a0001101f0618061700271806480019221e006a241b040b090a0001101f07180717000e1b040b001806480019041c001d016d16000a1800020000041c07001a01001f5302016e25005d02016f221e007b24131e000c02017002007d1a0202000025003e1b000b0c221e001e240a00001048102a4800301f0618000201713d170008180616000b180648032f4808301f071807221e00112448100a000110000a000210001f5402017225005518001e001f48223e1700481b020b3c2648001800221e002f24480048200a0002100a0002101f061806221e0011240a000010221e002f24480048020a0002101800221e002f24482048220a0002103e0012001f5502017325005d1b020b0f020174041f0618062217000b1c1b020b551806041700061806001b020b54260a0000101f0618061b020b3c26480018060a00021028221e002f24480048220a0002101f061b020b102602017418060a0002101c1806001f56020175250033180001170007020000001b020b0c4804041f0618061b020b2d261b020b2b26180018060a0002100201760a00021028001f5702017725015d180117003a48001f0b48001f0c180c18001e001f3a1700271800180c191e01781700141800180c191801180b222d1f0b191d0179180c2d1f0c16ffd40200001f061800221e017a2402000025001b1b03220b061b020b0b18001e01790402017b28281d017c000a0001101c18061b020b0a260a000010281f061b020b54260a0000101f071b000b0c221e001d241807221e00c32448030a00011048082b0a0001101807221e00c32448030a00011048082c281f081807221e002f24480448041808280a0002101f091b020b2d1b020b2b26180618090a000210180728041f061b020b12221e017d02017e1b000b1e180604280200f928281d017d271f0a1b020b1e26180a02000025004d180002017f1948003d2217000a1c1800020180191700351b020b121b020b57180002018019041d01811b020b121800020180191d01821b020b10260201831800020180190a0002101c000a0002101c001f5802018425049a1b000b0d221700051c13221700081c1b000b080117000400131e00061a00220201851d01862248041d01872218001e01851d0179131e00061a00220201881d01862248031d0187221b020b0a1d0189131e00061a002202018a1d01862248031d0187221b020b4a1d0189131e00061a00220200791d01862248031d0187221b020b451d0189131e00061a002202018b1d01862248031d0187221b020b0a1d0189131e00061a002202009e1d01862248001d0187131e00061a002202018c1d01862248001d0187131e00061a002202018d1d01862248001d0187131e00061a002202018e1d01862248001d0187131e00061a00220200571d01862248001d0187131e00061a002202018f1d01862248031d0187221b020b4b1d0189131e00061a00220201901d01862248031d0187221b020b4c1d0189131e00061a00220201911d01862248011d0187131e00061a00220201921d01862248011d0187131e00061a00220201931d01862248011d0187131e00061a00220201941d01862248001d0187131e00061a00220201951d01862248031d0187221b020b4d1d01892248011d0178131e00061a00220201961d01862248031d0187221b020b4e1d0189131e00061a00220201971d01862248031d0187221b020b4f1d0189131e00061a00220201981d01862248031d0187221b020b0a1d0189131e00061a00220201991d01862248031d0187221b020b1b1d0189131e00061a002202019a1d01862248031d0187221b020b501d0189131e00061a002202019b1d01862248031d0187221b020b1c1d0189131e00061a002202019c1d01862248031d0187221b020b0a1d0189131e00061a002202009c1d01862248001d0187131e00061a002202019d1d01862248031d0187221b020b0f1d0189220201831d019e131e00061a002202019f1d01862248031d0187221b020b511d0189131e00061a00220201a01d01862248031d0187221b020b521d0189131e00061a00220201a11d01862248031d0187221b020b531d01892248011d0178131e00061a00220200821d01862248011d0187131e00061a00220201a21d01862248041d0187221b020b061e01a31d0179131e00061a00220201a41d01862248031d0187221b020b561d0189131e00061a00220201a51d01862248031d0187221b020b0a1d0189131e00061a00220201a61d01862248041d01870a00221f060a00001f07180608031f11181121041700db1f1018061810191e01871f12181248004017001e1812480140170033181248024017004018124803401700501600a918061810191b020b0b1b000b0d18061810191e018619041d017916008c18061810191318061810191e0186191d017916007718061810191b000b0818061810191e0186191d017916005f18061810191e01781700321b000b1a1700281807221e00932418061810191e0189221e00232418061810191e019e0a0001100a0001101c160025180618101918061810191e0189221e0023242618061810191e019e0a0002101d017916ff241b000b1a1700361b000b1a221e01a72418070a000110221e0121240200002500141b020b58261b030b0618000a0002101c000a0001101c16000b1b020b581806041c001f590201a82500441b000b082217000b1c1b000b081e01a901170004001b020b5b08031f0d180d210417001f1f0c1b000b08221e01a924180c1b020b5b180c190a0002101c16ffe0001f5d0201aa25008418001e001f4900c8391700131800221e01ab24480048640a0002101c18001e001f48003917004e180018001e001f480129191f0c18011e01ac180c1e01ac2948003c220117002a1c0201ad1801422217000f1c18011e0171180c1e01713d2217000f1c18011e01ad180c1e01ad3d170004001800221e00932418010a0001101c001f610201ae25006048001f0618001e01af22011700091c18001e01b022011700091c18001e01b122011700091c18001e01b217000748011f061b020b61261b020b60131e00061a002218061d0171221b000b0b221e01b3240a0000101d01ac0a0002101c001f620201b425006d18001f0618001e00941f0718001e01b52217000a1c18070201b63e17001318001e01b74800191f061b02201d01b8131e00061a002218061e01b91d01712218061e01ba1d01ad221b000b0b221e01b3240a0000101d01ac1f081b020b61261b020b5e18080a0002101c001f630201bb25006d18001f0618001e00941f0718001e01b52217000a1c18070201bc3e17001318001e01b74800191f061b02201d01b8131e00061a002218061e01b91d01712218061e01ba1d01ad221b000b0b221e01b3240a0000101d01ac1f081b020b61261b020b5f18080a0002101c001f640201bd2500191800221e0101241b020b650a00011018001e001f2b001f670201be25006818001e001f48013c1700064800001b020b671800041f061800221e01002402000025000b18001b030b0629000a0001101f071b000b0c221e01bf241807221e0100241b020b660a000110221e0101241b020b650a00011018001e001f4801292b0a000110001f680201c02500d548001f0648001f0718001e001f1801391700ba0a00001f0848001f09180918001e001f4801293a17008418001809480128191f0a18001809191f0b180a1e01ac180b1e01ac291f0c180c17005918021700171808221e0093244801180c2b0a0001101c1600401808221e0093241b000b0c221e01bf241b020b66180a1e0171180b1e017129041b020b66180a1e01ad180b1e01ad2904280a000110180c2b0a0001101c18092d1f0916ff741b020b671808041f061b020b681808041f07180748003d1700081401c11f07180618070a0002001f690201c2250119121f06460003060006271f2105002b1b000b082217000b1c1b000b081e01281700171b000b08221e0128240201290a0001101c201f06071b020b69261b020b5e48010a0002101f071b020b69261b020b604805200a0003101f0848011f09180601221700081c1b020b5c17000a18094840301f091b020b5e1e001f48003e17000d18094802301f09160015180748001948323917000a18094810301f091b020b5f1e001f48003e17000a18094804301f091b020b601e001f48003e17000d18094808301f0916001618084800191401c33917000a18094820301f091809221e00112448200a0001101f0a180a1e001f48013e17000e0201c4180a281f0a160016180a1e001f48023e17000b02001a180a281f0a180a001f6a0201c525002d0200001f06460003060006271f0e0500191b020b0e260201c61b000b081e00340a0002101f06071806001f6b0201c72500531b000b19221e00fb24131e00061a002218001d000e221b000b1f1b000b19221e00fb2418011e00b70a000110041d01c82218021d01860a0001101f061b020b2d261806020176200a0003101f071807001f6c0201c9250434211801430200023e2217000c1c21180043020001402217000a1c18001e01ca0117000d1b020b460201cb1a014748001f0648001f074a0000fff11f081b000b0b1a00221e0016240a0000104903e82b4800351f091b020b061e01cc012217003e1c1b020b3d261b020b3d2648001809020000280a0002101b000b0e1e0083221e002f241b000b0e1e01cd1e001f4802280a0001100a00021018082c1f071809180718082a31480035221e00112448020a0001101f0a180a1f0b180a1e001f48203917001b180a221e002f24180a1e001f4820290a0001101f0b16003c180a1e001f48203a1700310200001f7048001f7118714820180a1e001f293a170013187002001a281f7018712d1f7116ffe51870180b281f0b0201ce1f0c0201cf1f0d0201d01f0e180e180d28180c28180b281f061b000b1526180648020a0002101f061b020b3d2648001806020000280a0002101f0f1b020b3a260a0000101f1018100200e818020201d13e17000712160004200d0200001f11180117000a18011f1116011e1b020b5a1e01d2221e002324110201d318000a0003101c18001e00b72217001a1c1b000b19221e00fb2418001e00b70a0001100200fc4017006f48001fc318001e01d41700331b020b3e2648001b000b19221e00fb241b020b412618001e00b718001e01d40a0002100a0001100a0002101fc31600271b020b3e2648001b000b19221e00fb241b020b4218001e00b7040a0001100a0002101fc30201d518c3280200f9281f111b020b4018001e01ca041fc218001e01d617001a1b000b05221e01d72418c218001e01d60a00021016000518c21fc218111b020b4318c204281f1118110201d8281b020b3f18001e01ca04280200f9281f1118110201d9280201da281f111b020b5a1e01d2221e002324110201db18110a0003101c1b020b3b1810041f121b020b061e01cc012217000d1c1b020b45260a0000101f131b020b061e01cc012217001e1c1b020b121e018122011700111c1b020b571b020b0f02018304041f141b020b331806041b020b3318061401dc2b48003504281b020b33181318063104281b020b331b020b3d26180f1b020b061e01cc012217000b1c1b000b0d1e009c221e0011240a0000100a00021018082c4810331b020b3d26180f1811020000280a00021018082c3004281b020b3318124808331b020b061e01dd4804333018063104281b020b32180704281f151b020b334800041c181417000a18151814281f151b020b6a260a00001022011700071c0201de1f160200bb1b020b6d281b020b061e01df281f1718171816281f1718171b020b6e181528281f171b020b3e26480018170a000210221e00112448100a0001101f181818221e009a2418181e001f48022918181e001f0a0002101f1918171819281f170200001f1a1b020b6b260a0000101f1b181b17001f1b020b6c26181b180018110a0003101f1a18170201e028181a281f171817001f6f0201e1250072131e00061a001f06180108031f081808210417005a1f0718011807191f0918001809191f0a21180a430200023e22011700081c180a263e170006121f0a180a26402217001a1c21180a430200033e220117000c1c21180a430200013e170006201f0a18061809180a0d16ffa51806001f700201e225004b0201e30201e402009e0201e502019402018c0201e60201270201e70200b40201e80201e90201ea0201eb0201ec0201ed0201ee0a00111f061b020b70261b000b0d18060a000210001f710201ef2500450201f00200490200470201f10201f20201f30201930201f40201f50201f60201f70201610201f80201f90201fa0201fb0a00101f061b020b70261318060a000210001f720201fc2500270201fd0201fe0200090201ff0202000a00051f061b020b70261b000b0818060a000210001f730202012500551b000b08221e0078240200790a0001101f06261f07460003060006271f100500281806221e0088240200890a00011022011700121c1806221e0088240202020a0001101f0707180701170006261f071807001f740202032500671800221e008a240202040a00011022011700121c1800221e008a240202050a00011022011700121c1800221e008a240202060a0001101f0618061700271800221e008c2418061e02070a0001101f07180748003e17000748021f071807001600052600001f750202082501b61b020b1a1e020917000b1b020b1a1e0209001b020b74260a0000101f0618060117000a131e00061a0000131e00061a00221806221e020a240a00001022011700071c0a00001d020b221806221e020c240a0000101e020d1d020d221806221e008c2418061e020e0a0001101d020f221806221e008c2418061e02100a0001101d0211221806221e008c2418061e02120a0001101d0213221b020b751806041d0203221806221e008c2418061e02140a0001101d0215221806221e008c2418061e02160a0001101d0217221806221e008c2418061e02180a0001101d0219221806221e008c2418061e021a0a0001101d021b221806221e008c2418061e021c0a0001101d021d221806221e008c2418061e021e0a0001101d021f221806221e008c2418061e02200a0001101d0221221806221e008c2418061e02220a0001101d0223221806221e008c2418061e02240a0001101d0225221806221e008c2418061e02260a0001101d0227221806221e008c2418061e02280a0001101d0229221806221e008c2418061e022a0a0001101d022b221806221e008c2418061e022c0a0001101d00961f071b020b1a18071d02091807001f7602022d250065131e00061a00221b020b71260a0000101d022e221b020b72260a0000101d022f221b020b73260a0000101d0069221b020b76260a0000101d0089221b020b1b260a0000101d0230221b020b1c260a0000101d004e1f061b020b1a18061d02311806001f77020232250075131e00061a001f061b020b1a1e023117000f1b020b1a1e02311f0616000e1b020b77260a0000101f0618061b000b0b221e01b3240a0000101d02331b020b0c4804041f0718071b020b2d261b020b2b261b000b19221e00fb2418060a00011018070a0002100201760a000210281f081808001f7802023425003b48001f0618061b020b121e02351e001f3a1700251b020b121e0235180619221e000f2418000a000110170005200018062d1f0616ffd112001f790202362503ac131e02371e00221f0618061e006e1f0718061e02381f0818061e02391f0918061e023a1f0a18061e023b170007001600091806201d023b1806020000250076111e023c01170065111e023d221e009324131e00061a00220202381d023e221b041d023f0a0001101c131e000c02024002000e1a02221e000f2418000a00011017002a111801221e0011240a000010221e009d240a000010221e002b240202410a0001104800191d02421b030b08111b0410001d02381806020000250012111b041d02431b030b0a111b0410001d023a1806020000250040110a00001d023d111e023d221e009324131e00061a002202006e1d023e221b041d023f0a0001101c1118001d02441118011d02451b030b07111b0410001d006e02024602007002024702024802024902024a02024b0a00071f0b180602000025026f11201d023c1b020b79111e024504170255111e0245221e00242402024c0a00011048004801293917000c1b030b09111b0410001118001d024d111e024e1f06111e02461f07111e00701f08111e02471f09111e02481f0a111e02491f0b111e024a1f0c111e024b1f0d111e024f1f0e111e02501f0f131e00061a001f1048001f2a182a1b030b0b1e001f3a17002118101b030b0b182a19111e02511b030b0b182a19190d182a2d1f2a16ffd8131e00061a00221b020b82261b030b00111e02450a0002101d01ca1f11111e02440202523d17003c111e02420202533e220117000c1c111e02420202543e17001a1b020b80261811111e0242111e024d0a0003101c16000c1b030b09111b0410001b020b851b030b000417001c1b030b00221e02552418111b000b060201d10a0003101600151b020b6f2618111b000b060201d10a0003101f121b020b8326111e024518120a0002101f13111e023d221700131c111e023d48001902023e1902006e3f1700052600111e023d1f1448001fa418a418141e001f3a17003618a448003e170010181418a4191e023f480118130d11181418a41902023e191911181418a4191e023f101c18a42d1fa416ffc5111e024317000e111e023a11111e0243101c1102023d091b020b121e025617001e11221e0238241b020b061e02571b020b78260a0000100a0002101c1118061d024e1118071d02461118081d00701118091d024711180a1d024811180b1d024911180c1d024a11180d1d024b11180e1d024f11180f1d025048001f9018901b030b0b1e001f3a170021111e02511b030b0b18901918101b030b0b189019190d18902d1f9016ffd81b030b09111b0410001d0239001f7a0202582503f60202592503c31801220117000a1c131e00061a001f011b020b7b2217000b1c18001b000b20411f060200001f0702025a1f08180617001418001e01ca1f0718001e025b1f0816002418001f0718011e025b17001418011e025b221e025c240a00001016000518081f08180802025a402217000a1c180802025240220117000c1c1b020b79180704011700111b030b0626180018010a00021000131e00061a00221b020b82261b030b0018070a0002101d01ca1f0918080202523d1701fc1b020b7f26180018010a000210221e002b240202410a000110480019221e009d240a0000101f5018500202533e220117000a1c18500202543e1701af18061700c81800221e025d240a000010221e025e240a000010221e0121240200002500881b020b80261b040b091b040b5018000a0003101c1b020b851b030b000417001e1b030b00221e0255241b040b091b000b060201d10a0003101600171b020b6f261b040b091b000b060201d10a0003101f061b020b83261b040b0718060a0002101f071b020b81261b040b00180718000a0003101f081b030b062618081b040b010a000210000200002500161b000b1a0200002500091b050b0047001a01000a000210001600e21b020b80261809185018011e00b70a0003101c1b020b851b030b000417001c1b030b00221e02552418091b000b060201d10a0003101600151b020b6f2618091b000b060201d10a0003101fa21b020b8326180718a20a0002101fa31b020b121e025617006f18010117002a131e00061a0022131e00061a00221b020b061e02571b020b78260a0000100d1d025f1f0116004218011e025f011700231801131e00061a00221b020b061e02571b020b78260a0000100d1d025f16001918011e025f1b020b061e02571b020b78260a0000100d1b030b062618a318010a000210001600111b030b0626180018010a00021000160112180802025a3e1700fb1b020b851b030b000417001c1b030b00221e02552418091b000b060201d10a0003101600151b020b6f2618091b000b060201d10a0003101f4e1b020b83261807184e0a0002101f4f18061700271b020b81261800184f1b000b060a0003101f501b030b0626185018010a000210001600871b020b121e025617006f18010117002a131e00061a0022131e00061a00221b020b061e02571b020b78260a0000100d1d025f1f0116004218011e025f011700231801131e00061a00221b020b061e02571b020b78260a0000100d1d025f16001918011e025f1b020b061e02571b020b78260a0000100d1b030b0626184f18010a000210001600111b030b0626180018010a00021000001f071b020b7e260a0000100117000400131e02601700070016000813201d0260131e02611f061318071d0261001f7d020262250008131e0261001f7e02026325010d0200001f061b020b7b2217000b1c18001b000b204117002218001e025f221e0041240202640a0001101f07180717000718071f061806001801221700091c18011e025f1700c61b020b7c2217000e1c18011e025f1b000b214117002218011e025f221e0041240202640a0001101f17181717000718171f0618060018011e025f1b000b174117004448001f47184718011e025f1e001f3a17003218011e025f184719480019221e009d240a0000100202643d17000f18011e025f1847194801190018472d1f4716ffc618011e025f1b000b054117003618011e025f08031f8f188f21041700231f8e188e221e009d240a0000100202643e17000c18011e025f188e190016ffdc180600001f7f0202652500ba1802263e220117000a1c18020200003e1700061800001802221e0011240a0000101f0218010202533e1700771800201d01d41802221e002b240200f90a0001101f0c131e00061a001f0d180c17004a48001f0e180e180c1e001f3a17003b180d180c180e19221e002b2402002a0a0001104800191b000b22180c180e19221e002b2402002a0a000110480119040d180e2d1f0e16ffc01800180d1d00b716001718001b000b19221e02662418020a0001101d00b71800001f8002026725009318001e025f1f061b020b121e025617001f1806221e0268241b020b061e02571b020b78260a0000100a0002101c1b000b201801131e00061a002218001e025b1d025b2218061d025f2218021d00b72218001e02691d02692218001e026a1d026a2218001e026b1d026b2218001e01eb1d01eb2218001e026c1d026c2218001e026d1d026d2218001e026e1d026e1a02001f8102026f25012518011f061b020b121e02701e001f48003917008048001f0818081b020b121e02701e001f3a17006c1b020b121e02701808194800191f091809221e000f2418010a0001101700451801221e007b2418091b020b121e02701808194801190a0002101f061b020b5a1e01d2221e0023241800020271020272180128020273281806280a0003101c16000b18082d1f0816ff8a1b000b2218060418063d17000c1b000b1f1806041f061806221e0024240200e00a0001101f071807480039221700151c1806221e0274240202750a00011018073917004d1806221e00d424480018074801280a0002101f201806221e00d424180748012818061e001f0a0002101f2118201821221e002b240202750a000110221e0098240202760a000110281f061806001f8202027725002d18001800221e0024240200e00a00011048004801294017000c02027818012816000902027918012828001f8302027a2500141b020b7a1800041c1b020b7d1800041c001f8402027b25000b18001b020b8741001f8502027c250019111b000b19221e0266241b020b860a0001101d027d001f8702027e2500c01b020b061e01cc17000526001b020b85110417000a111e027d1600071b020b121f061b000b05221e01d724180618000a0002101c1b020b8a1806041c18061e027a1700201b020b8b18061e027f041c1b020b8c18061e0280041c1b020b8411041c18061e02561700131b000b1d261b020b7748000a0002101c1b020b5d260a0000101c1b020b121e028101221700091c18061e01841700271b020b12201d02811b020b37260a0000101c1b000b1d261b020b59480018060a0003101c001f8902028225006618001e018548003e220117001c1c1b000b0c221e001d2418001e01850a00011018001e01853f17000d1b020b460202831a014718001e027a17002a18001e027f1e001f48003e220117000d1c18001e027f1e00930117000d1b020b460202841a0147001f8a02028525003f48001f06180618001e001f3a17002f180018061917001f1b020b121e0235221e0093241b000b2318001806191a010a0001101c18062d1f0616ffcc001f8b02028625004f18001b000b064017004448001f06180618001e001f3a1700351b020b121e0270221e0093241b000b2318001806194800191a0118001806194801190a00020a0001101c18062d1f0616ffc6001f8c020287250011131e028822011700071c020000001f8d0202892500561b020b0f1b020b061e028a0422011700071c0200001f061b020b111b020b061e028a041c180602028b3d17000b0200001f0616001518060200003d17000c1b000b081e02691f0618061700091318061d0288001f8e211b000b051e01d743020003401700c71b000b05221e003e241b000b050201d7131e00061a00220201d72500941800263e220117000b1c18001b000b063e17000d1b000b0702028c1a01471b000b051800041f0648011f0718071b031e001f3a17005b1b031807191f08180826402217000b1c18081b000b0640170039180808031f141814210417002c1f091b000b051e00221e028d221e002324180818090a00021017000d1806180918081809190d16ffd318072d1f0716ffa01806001f8f188f1d028e22201d028f22201d02900a0003101c1b000b051e00f1011701141b000b050200002501021b000b051e00221e028d1f06131e00061a0022261d0011221e0291240200110a000110011f0702001102029202029302028d02029402029102000d0a00071f0818081e001f1f090200002500b42118004302000340221700161c211800430200014022011700081c1800263e17000d1b000b070202951a01470a00001f06180008031f121812210417002a1f071b030b06221e002324180018070a0002101700111806221e00932418070a0001101c16ffd51b030b0717004548001f0818081b030b093a1700371b030b06221e00232418001b030b081808190a0002101700161806221e0093241b030b081808190a0001101c18082d1f0816ffc518060000260a0000101d00f1131e00061a00220202961d01a32248021d01dd22121d01cc220202881d028a220202971d01df220202981d02571f06131e00061a0022121d02992248001d018522121d018422121d025622121d027a220a00001d027f220a00001d0235220a00001d0280220a00001d02702202029a1d017d2202029b1d00df2202029c1d029d1f12131e00061a001f1a14029e1f1f48001f3002000025001e1b021b020b351d029f1b0218001d02a01b020b32180048023404001f34271f3302000025002a1b021b020b361d029f1b020b30481c331800480435301f061b0218001d02a01b020b32180604001f350200002500271b021b020b341d029f1b020b321b020b30481a33180048063530041b020b3118000428001f36131e00061a0022020000250049121f061b020b85110417000f111e027d1e02991f0616000c1b020b121e02991f061806221700201c1b000b11221e0042240202a11800280202a2280202a318010a0003101c001d01d21f5a131e00061a002218631d02a42218631d01b62218621d02a52218641d01bc2218641d02a61f5b121f5c0a00001f5e0a00001f5f0a00001f600200002500091800180128001f65020000250009180018002a001f660202a71f6d0202a81f6e1b000b202217000d1c1b000b201b000b05411f7b1b000b212217000d1c1b000b211b000b05411f7c1b000b19221e00fb2418120a0001101f86186f1f8818871e002218891d027e18871e002218881d025518871e0022188d1d02871806122217000b1c180d260a0000101d01cc188e260a0000101c180018871d027c1800188d1d0287180018891d027e180018881d02551b000b05221e003e2418000202a9131e00061a0022201d028e0a0003101c000a0002101c0002aa00066d606867617609776c6667646b6c67660864776c61766b6d6c03636f6607677a726d707671064d60686761760e607b7667665d63617063756e6770046b714b470c666d61776f676c764f6d6667096b71446b7067646d7a086b7151636463706b06506765477a720b616d6c7176707761766d70016b04766771760b4a564f4e476e676f676c7608766d5176706b6c6521596d60686761762251636463706b50676f6d76674c6d766b646b6163766b6d6c5f0671636463706b107277716a4c6d766b646b6163766b6d6c0c656776566b6f677176636f7207656776566b6f670865677654636e776707606d6d6e67636c013301320c70636c666d6f5176706b6c653e32333031363734353a3b636061666764656a6b68696e6f6c6d72737071767774757a7b78434041464744454a4b48494e4f4c4d52535051565754555a5b5805646e6d6d700670636c666d6f066e676c65766a09666d6f4667766761760f596d606867617622556b6c666d755f0972706d766d767b72670461636e6e076b6c66677a4d6408466d61776f676c7612596d6068676176224c63746b6563766d705f10596d6068676176224a6b71766d707b5f0a65677644706d6f517670067176706b6c65013f0571726e6b76045939245f06616a637043760122097177607176706b6c6509656776416d6d696b670e716771716b6d6c51766d70636567076567764b76676f0c6e6d61636e51766d7063656706616d6d696b6709716776416d6d696b67077167764b76676f313f3922677a726b7067713f4f6d6c2e2230322251677222303233322232323832323832322257564139227263766a3f2d390a3922677a726b7067713f0b766d454f565176706b6c650939227263766a3f2d390966676e416d6d696b670a70676f6d74674b76676f0e66676077656567704667766761760e6667646b6c6752706d726770767b026b6608666760776565677003656776036e6d6502276107616d6c716d6e6707646b70676077650a6d77766770556b66766a0a6b6c6c6770556b66766a0b6d777667704a676b656a760b6b6c6c67704a676b656a760a6c6d66674667766761760772706d6167717110596d60686761762272706d616771715f0d726a636c766d6f46677667617607726e77656b6c71085d726a636c766d6f0b61636e6e526a636c766d6f0b5d5d6c6b656a766f637067054377666b6d1841636c74637150676c6667706b6c65416d6c76677a7630460f75676066706b7467704667766761760975676066706b746770136567764d756c52706d726770767b4c636f6771096e636c65776365677106616a706d6f670770776c766b6f6707616d6c6c676176145d5d75676066706b7467705d6774636e77637667135d5d71676e676c6b776f5d6774636e776376671b5d5d75676066706b7467705d7161706b72765d64776c61766b6d6c175d5d75676066706b7467705d7161706b72765d64776c61155d5d75676066706b7467705d7161706b72765d646c135d5d647a66706b7467705d6774636e77637667125d5d66706b7467705d776c75706372726766155d5d75676066706b7467705d776c75706372726766115d5d66706b7467705d6774636e77637667145d5d71676e676c6b776f5d776c75706372726766145d5d647a66706b7467705d776c75706372726766095d71676e676c6b776f0c61636e6e51676e676c6b776f165d51676e676c6b776f5d4b46475d5067616d7066677008666d61776f676c76056f6376616a0a5e2659632f785f66615d066163616a675d0f6b6c616d656c6b766d466776676176046d72676c096b6c616d656c6b766d076d6c6770706d7004616d66671253574d56435d475a4147474647465d47505010716d6f6749677b4a677067407b766766096b6c66677a676646400c526d6b6c7667704774676c760e4f51526d6b6c7667704774676c760a6a6d6d694667766761760d617067637667476e676f676c760661636c74637109766d4663766357504e077067726e636167035e712801650a6c63766b7467616d666714596d606867617622526e77656b6c437070637b5f0e6e6d6163766b6d6c4667766761764a5c6a767672713d385e2d5e2d2a59322f3b5f79332e317f2a5e2c59322f3b5f79332e317f2b79317f7e59632f64322f3b5f79332e367f2a3859632f64322f3b5f79332e367f2b79357f2b086e6d6163766b6d6c046a70676404646b6e67106a767672382d2d6e6d61636e6a6d717606656776457277074552574b4c444d0a656776416d6c76677a7605756760656e0c656776477a76676c716b6d6c19554740454e5d66676077655d70676c66677067705d6b6c646d0c656776526370636f6776677015574c4f43514947465d54474c464d505d554740454e17574c4f43514947465d50474c46475047505d554740454e012d0a656776526e77656b6c7106524e57454b4c046b76676f047277716a04767b7267046c636f6707746770716b6d6c08646b6e676c636f6704686d6b6c02212105716e6b61670c616d6c716b7176416a67616909777167704365676c760b766d4e6d7567704163716708726e6376646d706f07756b6c666d757103756b6c07636c66706d6b66056e6b6c777a066b726a6d6c67046b726366046b726d66036f6361096f63616b6c766d716a0c6f63615d726d75677072612b0461706d71037a33330561706b6d7105647a6b6d7104726b696708646b7067646d7a2d066d726770632d05226d72702d07616a706d6f672d0876706b66676c762d046f716b670674676c666d7006456d6d656e670568716d6c7204606d667b14656776476e676f676c7671407b5663654c636f67046a676366067161706b7276015d0961636e6e606361693f037170610b70676f6d7467416a6b6e660b637272676c66416a6b6e660e766d406b6c63707b5176706b6c650c64706d6f416a6370416d66670d766d576b6c763130437070637b0a616a6370416d66674376056b6c7631300a36303b363b3435303b37026f7a04646b7a6912676c61707b7276576b6c763130437070637b12666761707b7276576b6c763130437070637b0a7776643a476c616d66670e5c595e7a32322f5e7a35645f2826104f636e646d706f6766227176706b6c65157776643a4667616d6667516a6d70765176706b6c651f576c646b6c6b716a6766225756442f3a226d617667762271677377676c616729416a63706361766770226d7776716b66672274636e6b6622576c6b616d66672270636c65673822327a15406366225756442f3a22676c616d666b6c6522327a147776643a4667616d66674e6d6c655176706b6c650a7776643a4667616d66670e5c595e7a32322f5e7a64645f282606717760717670057a7a76676307666761707b72760e6063716734365176636c666370664046696672656a3658497153403a322d4f64747531345a4b33503037295557436e476b354c4e606d735b564d5277786f4468486c707b7a3b4a5445616351764167106063716734365d616a63704b6c66677a40434041464744454a4b48494e4f4c4d52535051565754555a5b58636061666764656a6b68696e6f6c6d72737071767774757a7b7832333031363734353a3b292d146063716734365176636c666370664667616d6667096063716734365d616a066034365d313208656776526370636f08726370636f57706e013d026d6c036d64640971677651756b76616a0e5d726370636f51756b76616a4d6c0f5d607b7667665d726370636f5d71751265677651756b76616a44706d6f4163616a670f666776676176436c6d6f636e6b67710a666b70676176516b656c0a616d6c716b7176676c760671756b76616a03666d6f046c6d666707726a636c766d6f046a6d6d690b76677176446763767770670e637171676f606e67506771776e760469677b710b7166606f5d717663606e67047166606f107166606f5d717663606e675d726d6c7b076567765263766a222a6a767672385e2d5e2d7e6a76767271385e2d5e2d7e5e2d5e2d2b3d595c5e2d5f2808656776537767707b0e593d5f2a5e75293f2c28243d2b280124076d6068516d7076097176706b6c656b647b02797f04716d70760868716d6c516d7076076b71437070637b036f637206706766776167076d6068305176701261636c7463715d646b6c65677072706b6c7605756b66766a066a676b656a760230660a3336727a227167706b6404646d6c7608646b6e6e56677a7604c09f9a8e138e22c0acbf0a716a63666d75406e77700b716a6d754d64647167765a046e6b6f6709716a6d75416d6e6d7003637061067176706d69670965677641636c7463710a313531373b303a37373b0f416d6c646b65477a616772766b6d6c076f677171636567116a6371516771716b6d6c51766d706365670f6a63714e6d61636e51766d706365670c6a63714b6c66677a676646400c65677643606b6e6b766b67710d6567765067716d6e77766b6d6c0671617067676c0a616d6e6d70466772766a126567764374636b6e5067716d6e77766b6d6c0a6374636b6e556b66766a0b6374636b6e4a676b656a760e6567764063767667707b4b6c646d0a6567764063767667707b04766a676c08616a6370656b6c650c616a6370656b6c65566b6f670f666b71616a6370656b6c65566b6f67056e6774676e0c656776566d77616a4b6c646d0e6f637a566d77616a526d6b6c76710b6170676376674774676c760a566d77616a4774676c760c6d6c766d77616a71766370760b656776566b6f67786d6c670771677646637667087167764f6d6c766a11656776566b6f67786d6c674d6464716776036f6b6c08656776446d6c7671096f6d6c6d71726361670a71636c712f7167706b64057167706b64047172636c0d6f6f6f6f6f6f6f6f6f6f6e6e6b096b6c6c67704a564f4e0571767b6e67043530727a08646d6c76516b78670a646d6c7644636f6b6e7b0b6d6464716776556b66766a0c6d64647167764a676b656a760c5670676077616a6776224f5109556b6c65666b6c657107517b6e6463676c085167656d6722574b0a416d6c7176636c766b630b516b6f51776c2f477a7640084f5622477a7670630545776e6b6f0a4e67676e6375636667670556776c6563064f676b707b6d0654706b6c666309416d70666b63575241094372637063686b7663074b706b715752410852636e63766b6c6d0a416d6e6d6c6c63224f5608526e637b606b6e6e08486d6967706f636c09526370616a6f676c760a4f51224d77766e6d6d690956752241676c224f56064d52564b4f4306447776777063064354474c4b500c43706b636e224a67607067750a5163746d7b67224e47560941637176676e6e63700a4f5b504b43462252504d012e0e656776517b6c76637a4770706d701041706763766722556760516d616967760f6567764c63766b74674e676c65766a086567765076614b720b746b746d60706d757167701150564152676770416d6c6c6761766b6d6c146f6d7850564152676770416d6c6c6761766b6d6c17756760696b7650564152676770416d6c6c6761766b6d6c1c7176776c387176776c2c6e2c656d6d656e672c616d6f38333b3132300477706e710a6b6167516770746770713e2a59322f3b5f79332e317f2a5e2c59322f3b5f79332e317f2b79317f7e59632f64322f3b5f79332e367f2a3859632f64322f3b5f79332e367f2b79357f2b355c2a333b305e2c33343a5e2c7e33343b5e2c3037365e2c7e33325e2c7e3335305e2c2a3359342f3b5f7e305e667e315932335f2b2b1161706763766746637663416a636c6c676e0b6170676376674d64646770137167764e6d61636e46677161706b72766b6d6c0961636c666b6663766704677a67610e6d6c6b616761636c666b666376670477776b66207a7a7a7a7a7a7a7a7a7a7a7a367a7a7a7b7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a04597a7b5f017a0d616a676169416e6b676c764b660b656776416e6b676c764b66057676616b660d676c61707b7276516761466b6640434041464744454a4b48494e4f4c4d52535051565754555a5b58636061666764656a6b68696e6f6c6d72737071767774757a7b7832333031363734353a3b2f2c0e637171676f606e67526370636f710172017007646d704763616a025c5c01340c647252706d646b6e6757706e033d733f087067765d616d66670264720e5d607b7667665d7167615d666b660c5d7063755d7167615d666b660776765d71616b660366647203636b66016c0164097176637076566b6f6701760963606b6e6b766b67710a766b6f677176636f7233136a63706675637067416d6c61777070676c617b0c6667746b61674f676f6d707b086e636c65776365670a7067716d6e77766b6d6c0f6374636b6e5067716d6e77766b6d6c0971617067676c566d720a71617067676c4e676476106667746b6167526b7a676e5063766b6d0a72706d66776176517760076063767667707b09766d77616a4b6c646d08766b6f67786d6c670a766b6f677176636f7230076572774b6c646d0b6871446d6c76714e6b71760b726e77656b6c714e6b71760a766b6f677176636f72310a67746770416d6d696b67016f0b717b6c76637a4770706d700c6c63766b74674e676c65766a057076614b52096472546770716b6d6c0b5d5d746770716b6d6c5d5d08616e6b676c764b660a766b6f677176636f72360b677a76676c66446b676e6603636e6e107176637076516b6f726b646b67665760106366664774676c764e6b7176676c677009636666566d4e6b71760671726e6b61670166017b136a636c666e6749677b606d6370664774676c7606636e7649677b076176706e49677b076f67766349677b08716a6b647649677b036c6d75136a636c666e67526d716b766b6d6c4774676c760e616a636c656766566d77616a677109766d77616a6f6d746707766d77616a6771023b3007616e6b676c765a07616e6b676c765b106a636c666e67416e6b61694774676c760a766d77616a71766370760861636e614f67636c1561636e615176636c666370664667746b63766b6d6c04717370760961636e61517267676604322c323315656776516b6f726e6b646b67665760506771776e7603322c3702323209656776566771764b660b5d5d63615d766771766b660f65676c6770637667566771764e6d6501600c656776516b656c63767770670377706e2c6c6d6c6167226f77717622606722636c226d606867617622756b766a22632277706e2272706d726770767b230b666d6f4c6d7654636e6b660872706d766d616d6e043232323208323232323232333302333207646d707067636e056667607765056c6d6c61670b606d667b54636e307176700a606d667b5d6a63716a3f05737767707b066371716b656c097263766a6c636f673f0976765d7567606b663f062477776b663f086c6d6c61675176700a36303b363b3435303b34096467546770716b6d6c033232320b7277716a546770716b6d6c01280a65677654636e77672633106c63746b6563766d70516b656c636e710b637272416d66674c636f67076372724c636f670772706d6677617608617277416e637171056d716172770974676c666d705177600a666d4c6d76567063616907746b60706376670b61706766676c766b636e710771766d706365671b706773776771764f67666b6349677b517b7176676f43616167717109606e7767766d6d766a0d756b6c666d75516b656c636e71054b6f6365670771617067676c5a0771617067676c5b0f6b71516761777067416d6c76677a7607766d6d6e6063700b6e6d6163766b6d6c6063700d4361766b74675a4d606867617608677a7667706c636e0b726d71764f6771716365671b756760696b7650677377677176436c6b6f63766b6d6c4470636f670d406e7767766d6d766a57574b46086c677671616372670f666d61776f676c76516b656c636e710c616a637063617667705167760a616d6f7263764f6d6667066e637b677071066b6f636567710e656776556760656e41636c74637112677a7267706b6f676c76636e2f756760656e0d6f637a436c6b716d76706d727b1e475a565d76677a767770675d646b6e7667705d636c6b716d76706d726b6125554740494b565d475a565d76677a767770675d646b6e7667705d636c6b716d76706d726b61224f4d585d475a565d76677a767770675d646b6e7667705d636c6b716d76706d726b611e4f435a5d56475a565750475d4f435a5d434c4b514d56504d525b5d475a560c756760656e516b656c636e7105554740454e16656776517772726d70766766477a76676c716b6d6c7113717772726d70766766477a76676c716b6d6c7114656776416d6c76677a76437676706b607776677109636c766b636e6b637109404e57475d404b565108606e7767406b76710a464752564a5d404b565109666772766a406b76710a455047474c5d404b565109657067676c406b7671204f435a5d414d4f404b4c47465d56475a565750475d4b4f4345475d574c4b56511c6f637a416d6f606b6c676656677a767770674b6f636567576c6b7671194f435a5d415740475d4f43525d56475a565750475d514b5847156f637a417760674f637256677a76777067516b78671c4f435a5d445043454f474c565d574c4b444d504f5d544741564d5051196f637a447063656f676c76576c6b646d706f546761766d7071154f435a5d50474c4647504057444447505d514b5847136f637a50676c666770607764646770516b7867174f435a5d56475a565750475d4b4f4345475d574c4b5651146f637a56677a767770674b6f636567576c6b7671104f435a5d56475a565750475d514b58470e6f637a56677a76777067516b7867134f435a5d5443505b4b4c455d544741564d5051116f637a5463707b6b6c65546761766d7071124f435a5d54475056475a5d435656504b4051106f637a54677076677a437676706b60711e4f435a5d54475056475a5d56475a565750475d4b4f4345475d574c4b56511a6f637a54677076677a56677a767770674b6f636567576c6b76711a4f435a5d54475056475a5d574c4b444d504f5d544741564d5051176f637a54677076677a576c6b646d706f546761766d707118514a43464b4c455d4e434c45574345475d544750514b4d4c16716a63666b6c654e636c6577636567546770716b6d6c0c5156474c414b4e5d404b56510b7176676c616b6e406b767107544750514b4d4c066563766a6770096c63746b6563766d7006756b6c666d7503657277075147414b4c444d0a6567765167614b6c646d09766b6f677176636f720d6b71476c63606e67665263766a145d676c63606e675263766a4e6b7176506765677a0c6b6c766770616772765a4a500e5a4f4e4a7676725067737767717610716776506773776771764a67636667700471676c66106d746770706b66674f6b6f67567b72670f5d63615d6b6c766770616772766766055d71676c66155d607b7667665d6b6c766770616772765d6e6b71760464776c6109637065776f676c76710e5c616d6c76676c762f767b72672601390e5d607b7667665d616d6c76676c76115d6d746770706b66674f6b6f67567b72670d5d607b7667665d6f67766a6d660a5d607b7667665d77706e076d6c63606d7076066d6c6e6d6366096d6c6e6d6366676c660b6d6c6e6d636671766370760a6d6c72706d6570677171096d6c766b6f676d77760b5d716b656c63767770673f0b5d607b7667665d606d667b126d6c706763667b7176637667616a636c65670c706771726d6c7167567b726707766b6f676d77760677726e6d636604524d5156216372726e6b6163766b6d6c2d7a2f7575752f646d706f2f77706e676c616d666766106372726e6b6163766b6d6c2d68716d6c04716b656c0371666b0d7167614b6c646d4a67636667700e6b6c76677061677276446776616a0975706372446776616a03454756066f67766a6d660b766d57727267704163716705616e6d6c670476677a76076a676366677071165d5d63615d6b6c7667706167727667665d646776616a05646776616a0d717772726d707671446776616a145d656776446776616a416d6c76676c76567b72670c616d6c76676c762f767b72670b7772666376674c6d6c61670572637071670f60776b6e664c677550677377677176037167760870676467707067700e7067646770706770526d6e6b617b046f6d6667056163616a67087067666b70676176096b6c766765706b767b0e656776506775706b76676657706e105d77706e506775706b766750776e67710b706775706b766757706e22084d504b454b4c38220b08504755504b56474638220b6e6371764b6c66677a4d640125032730350860776b6e6657706e0c245d716b656c63767770673f0c3d5d716b656c63767770673f096b6c76677061677276196b714b6c7176636c61674d64407b76676643617063756e67700d407b76676643617063756e6770076d72766b6d6c71046b6c6b760e676c63606e675263766a4e6b71760f77706e506775706b766750776e6771045d6664720f74636e6b666376674d72766b6d6c711e6d72766b6d6c22636b662a4b6c76676567702b226b71226c676766676623276d72766b6d6c22676c63606e675263766a4e6b71762a437070637b2b226b71226c6767666766231065676c5263766a4e6b7176506765677a1265676c57706e506775706b7667506765677a0a656776506764677067700c5d5d63615d70676467706770106667636e506764677067704163616a670a7067646770677049677b0a5d5d63615d606e636c692a41636c6c6d7622616d6c7467707622776c6667646b6c6766226d70226c776e6e22766d226d60686761760e6a63714d756c52706d726770767b0574636e77670875706b7663606e670c616d6c646b65777063606e671472706d726770767b4b71476c776f677063606e670e766d4e6d61636e675176706b6c650774636e77674d640d6b7152706d766d767b72674d64204d60686761762c69677b712261636e6e6766226d6c226c6d6c2f6d606867617606302c33332c320640365834756d0c5a2f4f717166692f4b6c646d03606d67296a76767271382d2d7a7a60652c716c717166692c616d6f2d7567607166692d74332d6567764b6c646d236a76767271382d2d7a7a60652c716c717166692c616d6f2d7567607166692d74332d72236a76767271382d2d7a7a60652c716c717166692c616d6f2d7567607166692d74332d7605776057706e0a3034373636313735343b02373302363a03276122022f3c0d616d6e6d703821603333376630096f6d7771676f6d74670769677b666d756c096f6d777167666d756c0232300232330a5d5d67714f6d66776e67\", [, , \"undefined\" != typeof exports ? exports : void 0, \"undefined\" != typeof module ? module : void 0, \"undefined\" != typeof define ? define : void 0, \"undefined\" != typeof Object ? Object : void 0, void 0, \"undefined\" != typeof TypeError ? TypeError : void 0, \"undefined\" != typeof document ? document : void 0, \"undefined\" != typeof InstallTrigger ? InstallTrigger : void 0, \"undefined\" != typeof safari ? safari : void 0, \"undefined\" != typeof Date ? Date : void 0, \"undefined\" != typeof Math ? Math : void 0, \"undefined\" != typeof navigator ? navigator : void 0, \"undefined\" != typeof location ? location : void 0, \"undefined\" != typeof history ? history : void 0, \"undefined\" != typeof Image ? Image : void 0, \"undefined\" != typeof console ? console : void 0, \"undefined\" != typeof PluginArray ? PluginArray : void 0, \"undefined\" != typeof indexedDB ? indexedDB : void 0, \"undefined\" != typeof DOMException ? DOMException : void 0, \"undefined\" != typeof parseInt ? parseInt : void 0, \"undefined\" != typeof String ? String : void 0, \"undefined\" != typeof Array ? Array : void 0, \"undefined\" != typeof Error ? Error : void 0, \"undefined\" != typeof JSON ? JSON : void 0, \"undefined\" != typeof Promise ? Promise : void 0, \"undefined\" != typeof WebSocket ? WebSocket : void 0, \"undefined\" != typeof eval ? eval : void 0, \"undefined\" != typeof setTimeout ? setTimeout : void 0, \"undefined\" != typeof encodeURIComponent ? encodeURIComponent : void 0, \"undefined\" != typeof encodeURI ? encodeURI : void 0, \"undefined\" != typeof Request ? Request : void 0, \"undefined\" != typeof Headers ? Headers : void 0, \"undefined\" != typeof decodeURIComponent ? decodeURIComponent : void 0, \"undefined\" != typeof RegExp ? RegExp : void 0]); debugger; // \u6211\u4eec\u7528\u7684\u662fvm2. vm2\u7684\u8fd4\u56de. \u5c31\u5728\u672b\u5c3e.\u76f4\u63a5\u5199\u51fa\u4f60\u8981\u8fd4\u56de\u7684\u4e1c\u897f\u5373\u53ef // var o = {url: 'https://www.toutiao.com/toutiao/api/pc/info'}; // window.init(); // \u6682\u65f6\u5148\u628a\u53ef\u7528\u7684cookie\u76f4\u63a5\u603c\u8fdb\u6765...7 document.cookie = \"msToken=foBljwu_lJgAolE3xxrEK-P6oz5Dpk101Rsx1kyz3-vtwKF2CDzongE81glRx6OR-l78WvqusRfBNnZSy6nz_qXiZffmyHX1_n98S0vAWxo=; __ac_signature=_02B4Z6wo00f014kJx9QAAIDDCQs9lKX25UeJKcNAAIZe7c; ttcid=0c13fa2fa2f04b66a71cfd3d40bf70e139; local_city_cache=%E5%8C%97%E4%BA%AC; csrftoken=4dcb3da757d011305174056a31c395c4; s_v_web_id=verify_lfcgx7l4_isLbnSez_dPJo_41Tt_8z52_ldqVZh1xhb9O; _ga=GA1.1.1962291559.1679053199; tt_scid=WJ35PCDU.3NmYJ0XW.myIF92VJ5rC9Uxha8g6UH.6lqg.6B9pZkBp-MTza2dcjit5920; _ga_QEHZPBE5HH=GS1.1.1679057391.2.1.1679057623.0.0.0\" // window.byted_acrawler.sign(o); } catch (e) { console.log(e); debugger; } debugger;","title":"(3) \u6e90\u7801.js"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#4-js","text":"function my_proxy(obj) { return new Proxy(obj, { get(target, p, receiver) { let val = Reflect.get(...arguments); console.log(\"get\u64cd\u4f5c\", target, \":::\u83b7\u53d6\u5c5e\u6027>\", p, \":::\u503c>\", val); return val; }, set(target, p, value, receiver) { console.log(\"set\u64cd\u4f5c\", target, \":::\u8bbe\u7f6e\u5c5e\u6027>\", p, \":::\u503c>\", value); return Reflect.set(...arguments); } }); } // ================window==============// window = this; // \u5f53\u524d\u5bf9\u8c61/\u5f53\u524d\u4f5c\u7528\u57df.. Window = function Window() { }; // \u7ed9window\u8bbe\u7f6e\u539f\u578b // window.__proto__ = Window.prototype; Object.setPrototypeOf(window, Window.prototype); // ================ \u8865document===================// document = { referrer: 'https://www.toutiao.com/?wid=1678689641771' } Document = function Document() {} Object.setPrototypeOf(document, Document.prototype); // ================ \u8865Location===================// location = { href: 'https://www.toutiao.com/?wid=1679053196370', protocol: 'https:', }; Location = function Location() { } Object.setPrototypeOf(location, Location.prototype); //====================\u8bbe\u7f6eNavigator===============// navigator = { userAgent: \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\" } Navigator = function Navigator() { } Object.setPrototypeOf(navigator, Navigator.prototype);","title":"(4) \u8865\u5145\u73af\u5883.js"},{"location":"34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html#108","text":"pinduoduo.js var vm = require(\"vm2\") var fs = require(\"fs\") const {VM, VMScript} = vm var myvm = new VM() code = \"\" // \u4e00\u3001\u8865\u73af\u5883 BuCode = fs.readFileSync(\"./\u8865\u73af\u5883.js\") code += BuCode code += \";;;\\n\" // \u4e8c\u3001\u6e90\u7801JS YuanCode = fs.readFileSync(\"./\u6e90\u7801.js\") // console.log(YuanCode.toString()) code += YuanCode code += \";;;\\n\" // console.log(code) // \u4e09\u3001\u751f\u6210anti_content function fn() { ret = myvm.run(code) return ret } console.log(\"\u7ed3\u679c\uff1a\",fn()) \u8865\u73af\u5883\uff1a // proxy\u4ee3\u7406\u58f0\u660e function proxy_watch(obj) { return new Proxy(obj, { get(target, p, receiver) { debugger; let val = Reflect.get(...arguments); console.log(\"get\", target, \"=\u83b7\u53d6\u5c5e\u6027>\", p, \"=\u503c>\", val); return val; }, set(target, p, value, receiver) { debugger; console.log(\"set\", target, \"=\u8bbe\u7f6e\u5c5e\u6027>\", p, \"=\u503c>\", value); return Reflect.set(...arguments); } }); }; // \u4e00\u3001\u8865\u5145window\u73af\u5883 window = {} window = this Window = function Window() { } Object.setPrototypeOf(window, Window.prototype) Window.prototype.setTimeout = function setTimeout(){ } //\u4e8c\u3001\u8865\u5145 document document = { referrer: '' } Document = function Document() { } Object.setPrototypeOf(document, Document.prototype) Document.prototype.addEventListener = function () { } //\u4e09\u3001\u8865\u5145 location location = { href: 'https://mobile.pinduoduo.com/', protocol: 'https:', } Location = function Location() { } Object.setPrototypeOf(location, Location.prototype) // \u56db\u3001\u8865\u5145 navigator navigator = { userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36' } Navigator = function Navigator() { } Object.setPrototypeOf(navigator, Navigator.prototype) Navigator.prototype.hasOwnProperty = function () { return true } // \u4e94\u3001\u8865\u5145 screen screen = { // width: 1728, } Screen = function Screen() { } Object.setPrototypeOf(screen, Screen.prototype) // \u516d\u3001\u8865\u5145 history\u5bf9\u8c61 history = {} History = function History() { } Object.setPrototypeOf(history, History.prototype) History.prototype.back = function () { } // \u4ee3\u7406\u5bf9\u8c61\u8bbe\u7f6e window = proxy_watch(window) document = proxy_watch(document) location = proxy_watch(location) navigator = proxy_watch(navigator)","title":"10.8\u3001\u9006\u5411\u6848\u4f8b\u4e4b\u62fc\u591a\u591a"},{"location":"%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html","text":"\u4e00\u3001void 0 void 0 === e && (e = \"\") \u6b63\u786e\u7406\u89e3\u65b9\u5f0f\u4e3a (void 0) === e && (e = \"\") void 0 \u5f97\u7ed3\u679c\u4e3aundefined \u4e5f\u5c31\u662f\u5982\u679ce\u6ca1\u6709\u88ab\u5b9a\u4e49 \u5219\u8d4b\u503c\u7a7a\u5b57\u7b26\u4e32 \u4e8c\u3001\u52a0\u5bc6\u79d8\u94a5 { \"words\": [ 1193550929, 1635214187, 1197891916, 1111046002 ], \"sigBytes\": 16 } \u5f53\u524d\u5bf9\u8c61\u4e3a CryptoJs\u5185\u90e8\u5c01\u88c5\u7684\u5bf9\u8c61 \u8fd8\u539f\uff1a 1\u3001\u4f7f\u7528python\u8fd8\u539f \u4f7f\u7528xx\u83b7\u53d6\u5f53\u524du\u7684\u5bf9\u8c61 xx.key.toString() \u8fdb\u884c\u83b7\u53d6 \u5341\u8fdb\u5236\u5b57\u7b26\u4e32 \u62ff\u5230\u5b57\u7b26\u4e32\u540e\u4f7f\u7528python import binascii s = '472424516177636b4766614c42393772' # \u5c06\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b57\u8282\u4e32 key = binascii.a2b_hex(s).decode() # print(key) # G$$QawckGfaLB97r 2\u3001\u4f7f\u7528js\u8fd8\u539f \u4f7f\u7528UTF-8\u7684\u7f16\u7801\u8fdb\u884c\u8f6c\u6362 \u4e09\u3001\u7a7a\u5b57\u7b26\u4e32 \u201d \u201c","title":"\u9006\u5411\u5b9e\u6218\u6848\u4f8b\u7b14\u8bb0"},{"location":"%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html#void-0","text":"void 0 === e && (e = \"\") \u6b63\u786e\u7406\u89e3\u65b9\u5f0f\u4e3a (void 0) === e && (e = \"\") void 0 \u5f97\u7ed3\u679c\u4e3aundefined \u4e5f\u5c31\u662f\u5982\u679ce\u6ca1\u6709\u88ab\u5b9a\u4e49 \u5219\u8d4b\u503c\u7a7a\u5b57\u7b26\u4e32","title":"\u4e00\u3001void 0"},{"location":"%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html#_1","text":"{ \"words\": [ 1193550929, 1635214187, 1197891916, 1111046002 ], \"sigBytes\": 16 } \u5f53\u524d\u5bf9\u8c61\u4e3a CryptoJs\u5185\u90e8\u5c01\u88c5\u7684\u5bf9\u8c61","title":"\u4e8c\u3001\u52a0\u5bc6\u79d8\u94a5"},{"location":"%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html#_2","text":"","title":"\u8fd8\u539f\uff1a"},{"location":"%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html#1python","text":"\u4f7f\u7528xx\u83b7\u53d6\u5f53\u524du\u7684\u5bf9\u8c61 xx.key.toString() \u8fdb\u884c\u83b7\u53d6 \u5341\u8fdb\u5236\u5b57\u7b26\u4e32 \u62ff\u5230\u5b57\u7b26\u4e32\u540e\u4f7f\u7528python import binascii s = '472424516177636b4766614c42393772' # \u5c06\u4e00\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b57\u8282\u4e32 key = binascii.a2b_hex(s).decode() # print(key) # G$$QawckGfaLB97r","title":"1\u3001\u4f7f\u7528python\u8fd8\u539f"},{"location":"%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html#2js","text":"\u4f7f\u7528UTF-8\u7684\u7f16\u7801\u8fdb\u884c\u8f6c\u6362","title":"2\u3001\u4f7f\u7528js\u8fd8\u539f"},{"location":"%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html#_3","text":"","title":"\u4e09\u3001\u7a7a\u5b57\u7b26\u4e32 \u201d \u201c"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/execjs%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html","text":"\u4e00 . PyExecJS\u6a21\u5757 pyexecjs\u662f\u4e00\u4e2a\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fd0\u884cjs\u4ee3\u7801\u7684\u4e00\u4e2a\u7b2c\u4e09\u65b9\u6a21\u5757. \u5176\u4f7f\u7528\u662f\u975e\u5e38\u5bb9\u6613\u4e0a\u624b\u7684. \u4f46\u662f\u5b83\u7684\u8fd0\u884c\u662f\u8981\u4f9d\u8d56\u80fd\u8fd0\u884cjs\u7684\u7b2c\u4e09\u65b9\u73af\u5883\u7684. \u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u7528node\u4f5c\u4e3a\u6211\u4eec\u8fd0\u884cjs\u7684\u4f4d\u7f6e. 1.1 \u5b89\u88c5Nodejs \u5207\u8bb0. \u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111. 1.2 \u5b89\u88c5pyexecjs pip install pyexecjs \u6d4b\u8bd5\u4e00\u4e0b: import execjs print(execjs.get().name) # \u9700\u8981\u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111 Node.js (V8) 1.3 \u7b80\u5355\u4f7f\u7528 import execjs print(execjs.get().name) # execjs.eval \u53ef\u4ee5\u76f4\u63a5\u8fd0\u884cjs\u4ee3\u7801\u5e76\u5f97\u5230\u7ed3\u679c js = \"\"\" \"\u9c81\u73ed_\u738b\u662d\u541b_\u7334\u5b50_\u4e9a\u745f_\u8521\u6587\u59ec\".split(\"_\") \"\"\" res = execjs.eval(js) print(res) # execjs.compile(), call() # execjs.compile() \u4e8b\u5148\u52a0\u8f7d\u597d\u4e00\u6bb5js\u4ee3\u7801, jj = execjs.compile(\"\"\" function an(a, b){ return a + b } \"\"\") # call() \u8fd0\u884c\u4ee3\u7801\u4e2d\u7684xxx\u51fd\u6570. \u540e\u7eed\u7684\u53c2\u6570\u662fxxx\u7684\u53c2\u6570 ret = jj.call(\"an\", 10, 20) print(ret) windows\u4e2d\u5982\u679c\u51fa\u73b0\u7f16\u7801\u9519\u8bef. \u5728\u5f15\u5165execjs\u4e4b\u524d. \u63d2\u5165\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef. import subprocess from functools import partial subprocess.Popen = partial(subprocess.Popen, encoding='utf-8') import execjs \u5b8c\u4e8b\u513f. \u4f60\u6ca1\u6709\u770b\u9519. execjs\u5c31\u8fd9\u51e0\u4e2a\u529f\u80fd\u5c31\u591f\u54b1\u7528\u7684\u4e86. 1.4 \u6d4f\u89c8\u5668\u8bbe\u7f6e \u6d4f\u89c8\u5668\u70b9\u51fb\u53f3\u4e0a\u89d2\u9f7f\u8f6e. \u8fdb\u884c\u914d\u7f6e. \u914d\u7f6e\u4e00. \u914d\u7f6e\u4e8c.","title":"Execjs\u4ecb\u7ecd\u4ee5\u53ca\u5b89\u88c5\u548c\u4f7f\u7528"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/execjs%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html#pyexecjs","text":"pyexecjs\u662f\u4e00\u4e2a\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fd0\u884cjs\u4ee3\u7801\u7684\u4e00\u4e2a\u7b2c\u4e09\u65b9\u6a21\u5757. \u5176\u4f7f\u7528\u662f\u975e\u5e38\u5bb9\u6613\u4e0a\u624b\u7684. \u4f46\u662f\u5b83\u7684\u8fd0\u884c\u662f\u8981\u4f9d\u8d56\u80fd\u8fd0\u884cjs\u7684\u7b2c\u4e09\u65b9\u73af\u5883\u7684. \u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u7528node\u4f5c\u4e3a\u6211\u4eec\u8fd0\u884cjs\u7684\u4f4d\u7f6e.","title":"\u4e00 . PyExecJS\u6a21\u5757"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/execjs%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html#11-nodejs","text":"\u5207\u8bb0. \u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111.","title":"1.1 \u5b89\u88c5Nodejs"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/execjs%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html#12-pyexecjs","text":"pip install pyexecjs \u6d4b\u8bd5\u4e00\u4e0b: import execjs print(execjs.get().name) # \u9700\u8981\u91cd\u542fpycharm\u6216\u8005\u91cd\u542f\u7535\u8111 Node.js (V8)","title":"1.2 \u5b89\u88c5pyexecjs"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/execjs%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html#13","text":"import execjs print(execjs.get().name) # execjs.eval \u53ef\u4ee5\u76f4\u63a5\u8fd0\u884cjs\u4ee3\u7801\u5e76\u5f97\u5230\u7ed3\u679c js = \"\"\" \"\u9c81\u73ed_\u738b\u662d\u541b_\u7334\u5b50_\u4e9a\u745f_\u8521\u6587\u59ec\".split(\"_\") \"\"\" res = execjs.eval(js) print(res) # execjs.compile(), call() # execjs.compile() \u4e8b\u5148\u52a0\u8f7d\u597d\u4e00\u6bb5js\u4ee3\u7801, jj = execjs.compile(\"\"\" function an(a, b){ return a + b } \"\"\") # call() \u8fd0\u884c\u4ee3\u7801\u4e2d\u7684xxx\u51fd\u6570. \u540e\u7eed\u7684\u53c2\u6570\u662fxxx\u7684\u53c2\u6570 ret = jj.call(\"an\", 10, 20) print(ret) windows\u4e2d\u5982\u679c\u51fa\u73b0\u7f16\u7801\u9519\u8bef. \u5728\u5f15\u5165execjs\u4e4b\u524d. \u63d2\u5165\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef. import subprocess from functools import partial subprocess.Popen = partial(subprocess.Popen, encoding='utf-8') import execjs \u5b8c\u4e8b\u513f. \u4f60\u6ca1\u6709\u770b\u9519. execjs\u5c31\u8fd9\u51e0\u4e2a\u529f\u80fd\u5c31\u591f\u54b1\u7528\u7684\u4e86.","title":"1.3 \u7b80\u5355\u4f7f\u7528"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/execjs%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html#14","text":"\u6d4f\u89c8\u5668\u70b9\u51fb\u53f3\u4e0a\u89d2\u9f7f\u8f6e. \u8fdb\u884c\u914d\u7f6e. \u914d\u7f6e\u4e00. \u914d\u7f6e\u4e8c.","title":"1.4 \u6d4f\u89c8\u5668\u8bbe\u7f6e"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/%E4%B8%80%E6%AC%A1%E6%80%A7%E8%A7%A3%E5%86%B3%E6%8E%89npm%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98.html","text":"\u66f4\u6362npm\u4e3a\u56fd\u5185\u955c\u50cf \u5728\u7ec8\u7aef\u6267\u884c. npm set registry http://registry.npmmirror.com \u9996\u5148, \u6253\u5f00\"\u6211\u7684\u7535\u8111\". \u627e\u5230\"c\u76d8\u4e2d\u7528\u6237\u6587\u4ef6\u5939\". \u627e\u5230\u4f60\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u7684\"\u7528\u6237\" \u4ee3\u7801\u5982\u4e0b. registry=http://registry.npmmirror.com/ disturl=https://registry.npmmirror.com/-/binary/node/ # node-sass\u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e0b\u8f7d\u5730\u5740 sass_binary_site=https://registry.npmmirror.com/-/binary/node-sass # sharp\u9884\u7f16\u8bd1\u5171\u4eab\u5e93, \u622a\u6b622022-09-20 sharp@0.31.0\u7684\u9884\u7f16\u8bd1\u5171\u4eab\u5e93\u5e76\u672a\u540c\u6b65\u5230\u955c\u50cf, \u5165\u5b89\u88c5\u5931\u8d25\u53ef\u5207\u6362\u5230sharp@0.30.7\u4f7f\u7528 sharp_libvips_binary_host=https://registry.npmmirror.com/-/binary/sharp-libvips python_mirror=https://registry.npmmirror.com/-/binary/python/ electron_mirror=https://registry.npmmirror.com/-/binary/electron/ electron_builder_binaries_mirror=https://registry.npmmirror.com/-/binary/electron-builder-binaries/ # \u65e0\u7279\u6b8a\u914d\u7f6e\u53c2\u8003{pkg-name}_binary_host_mirror={mirror} canvas_binary_host_mirror=https://registry.npmmirror.com/-/binary/canvas node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3 better_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/better-sqlite3 MAC\u540c\u5b66, \u200b \u5982\u679c\u662fM1\u82af\u7247\u7684. \u9700\u8981\u5148\u66f4\u65b0\u4e00\u4e9b\u5e93. \u4e0d\u662fM1\u7684\u4e0d\u7528\u7ba1 \u200b \u5305\u62ec\u4f46\u4e0d\u9650\u4e8e: brew install pkg-config cairo pango libpng jpeg giflib librsvg \u200b \u547d\u4ee4\u884c\u65b9\u5f0f: shell npm config set registry http://registry.npmmirror.com \u7f16\u8f91 ~/.npmrc \u6587\u4ef6, \u8bbe\u7f6e\u65b9\u6848\u548cwindows\u7684\u4e00\u6837 registry=http://registry.npmmirror.com/ disturl=https://registry.npmmirror.com/-/binary/node/ # node-sass\u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e0b\u8f7d\u5730\u5740 sass_binary_site=https://registry.npmmirror.com/-/binary/node-sass # sharp\u9884\u7f16\u8bd1\u5171\u4eab\u5e93, \u622a\u6b622022-09-20 sharp@0.31.0\u7684\u9884\u7f16\u8bd1\u5171\u4eab\u5e93\u5e76\u672a\u540c\u6b65\u5230\u955c\u50cf, \u5165\u5b89\u88c5\u5931\u8d25\u53ef\u5207\u6362\u5230sharp@0.30.7\u4f7f\u7528 sharp_libvips_binary_host=https://registry.npmmirror.com/-/binary/sharp-libvips python_mirror=https://registry.npmmirror.com/-/binary/python/ electron_mirror=https://registry.npmmirror.com/-/binary/electron/ electron_builder_binaries_mirror=https://registry.npmmirror.com/-/binary/electron-builder-binaries/ # \u65e0\u7279\u6b8a\u914d\u7f6e\u53c2\u8003{pkg-name}_binary_host_mirror={mirror} canvas_binary_host_mirror=https://registry.npmmirror.com/-/binary/canvas node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3 better_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/better-sqlite3 \u9644\u8d60: \u200b npm\u5b98\u65b9\u5e93\u641c\u7d22: https://www.npmjs.com/ \u200b JS\u8bed\u6cd5\u89c4\u5219:https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference \u200b rsa.js\u5f88\u53e4\u8001\u7684\u4e00\u4e2a\u5e93 https://ohdave.com/rsa/","title":"\u66f4\u6362npm\u4e3a\u56fd\u5185\u955c\u50cf"},{"location":"pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/%E4%B8%80%E6%AC%A1%E6%80%A7%E8%A7%A3%E5%86%B3%E6%8E%89npm%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98.html#npm","text":"\u5728\u7ec8\u7aef\u6267\u884c. npm set registry http://registry.npmmirror.com \u9996\u5148, \u6253\u5f00\"\u6211\u7684\u7535\u8111\". \u627e\u5230\"c\u76d8\u4e2d\u7528\u6237\u6587\u4ef6\u5939\". \u627e\u5230\u4f60\u5f53\u524d\u6b63\u5728\u4f7f\u7528\u7684\"\u7528\u6237\" \u4ee3\u7801\u5982\u4e0b. registry=http://registry.npmmirror.com/ disturl=https://registry.npmmirror.com/-/binary/node/ # node-sass\u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e0b\u8f7d\u5730\u5740 sass_binary_site=https://registry.npmmirror.com/-/binary/node-sass # sharp\u9884\u7f16\u8bd1\u5171\u4eab\u5e93, \u622a\u6b622022-09-20 sharp@0.31.0\u7684\u9884\u7f16\u8bd1\u5171\u4eab\u5e93\u5e76\u672a\u540c\u6b65\u5230\u955c\u50cf, \u5165\u5b89\u88c5\u5931\u8d25\u53ef\u5207\u6362\u5230sharp@0.30.7\u4f7f\u7528 sharp_libvips_binary_host=https://registry.npmmirror.com/-/binary/sharp-libvips python_mirror=https://registry.npmmirror.com/-/binary/python/ electron_mirror=https://registry.npmmirror.com/-/binary/electron/ electron_builder_binaries_mirror=https://registry.npmmirror.com/-/binary/electron-builder-binaries/ # \u65e0\u7279\u6b8a\u914d\u7f6e\u53c2\u8003{pkg-name}_binary_host_mirror={mirror} canvas_binary_host_mirror=https://registry.npmmirror.com/-/binary/canvas node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3 better_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/better-sqlite3 MAC\u540c\u5b66, \u200b \u5982\u679c\u662fM1\u82af\u7247\u7684. \u9700\u8981\u5148\u66f4\u65b0\u4e00\u4e9b\u5e93. \u4e0d\u662fM1\u7684\u4e0d\u7528\u7ba1 \u200b \u5305\u62ec\u4f46\u4e0d\u9650\u4e8e: brew install pkg-config cairo pango libpng jpeg giflib librsvg \u200b \u547d\u4ee4\u884c\u65b9\u5f0f: shell npm config set registry http://registry.npmmirror.com \u7f16\u8f91 ~/.npmrc \u6587\u4ef6, \u8bbe\u7f6e\u65b9\u6848\u548cwindows\u7684\u4e00\u6837 registry=http://registry.npmmirror.com/ disturl=https://registry.npmmirror.com/-/binary/node/ # node-sass\u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e0b\u8f7d\u5730\u5740 sass_binary_site=https://registry.npmmirror.com/-/binary/node-sass # sharp\u9884\u7f16\u8bd1\u5171\u4eab\u5e93, \u622a\u6b622022-09-20 sharp@0.31.0\u7684\u9884\u7f16\u8bd1\u5171\u4eab\u5e93\u5e76\u672a\u540c\u6b65\u5230\u955c\u50cf, \u5165\u5b89\u88c5\u5931\u8d25\u53ef\u5207\u6362\u5230sharp@0.30.7\u4f7f\u7528 sharp_libvips_binary_host=https://registry.npmmirror.com/-/binary/sharp-libvips python_mirror=https://registry.npmmirror.com/-/binary/python/ electron_mirror=https://registry.npmmirror.com/-/binary/electron/ electron_builder_binaries_mirror=https://registry.npmmirror.com/-/binary/electron-builder-binaries/ # \u65e0\u7279\u6b8a\u914d\u7f6e\u53c2\u8003{pkg-name}_binary_host_mirror={mirror} canvas_binary_host_mirror=https://registry.npmmirror.com/-/binary/canvas node_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/sqlite3 better_sqlite3_binary_host_mirror=https://registry.npmmirror.com/-/binary/better-sqlite3 \u9644\u8d60: \u200b npm\u5b98\u65b9\u5e93\u641c\u7d22: https://www.npmjs.com/ \u200b JS\u8bed\u6cd5\u89c4\u5219:https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference \u200b rsa.js\u5f88\u53e4\u8001\u7684\u4e00\u4e2a\u5e93 https://ohdave.com/rsa/","title":"\u66f4\u6362npm\u4e3a\u56fd\u5185\u955c\u50cf"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html","text":"\u8865\u73af\u5883 pycharm\u8bbe\u7f6e \u4e00\u3001\u6d4f\u89c8\u5668\u4e0e\u4e8b\u4ef6 1\u3001DOM\u4e0eBOM \u5728 Web \u5f00\u53d1\u4e2d\uff0cJavaScript\uff08JS\uff09\u4e2d\u7684 DOM\uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u548c BOM\uff08\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff09\u662f\u4e24\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u5b83\u4eec\u5206\u522b\u4ee3\u8868\u4e86\u7f51\u9875\u6587\u6863\u7ed3\u6784\u548c\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u62bd\u8c61\u8868\u793a\u3002\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u6240\u8868\u793a\u7684\u5bf9\u8c61\u4ee5\u53ca\u5b83\u4eec\u7684\u4f5c\u7528\u8303\u56f4\u3002 DOM\uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\uff1a DOM \u662f\u6307\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff08Document Object Model\uff09\uff0c\u5b83\u662f HTML \u548c XML \u6587\u6863\u7684\u7f16\u7a0b\u63a5\u53e3\uff0c\u63d0\u4f9b\u4e86\u5bf9\u6587\u6863\u7684\u7ed3\u6784\u5316\u8868\u8ff0\uff0c\u5e76\u5b9a\u4e49\u4e86\u4e00\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5bf9\u7ed3\u6784\u8fdb\u884c\u8bbf\u95ee\u3001\u64cd\u4f5c\u548c\u66f4\u65b0\u3002 \u4e3b\u8981\u4f5c\u7528\uff1a - \u5c06 HTML \u6216 XML \u6587\u6863\u4ee5\u6811\u5f62\u7ed3\u6784\u8868\u793a\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u901a\u8fc7 JS \u811a\u672c\u6765\u8bbf\u95ee\u548c\u64cd\u4f5c\u3002 - \u63d0\u4f9b\u4e86\u5bf9\u6587\u6863\u4e2d\u5143\u7d20\u3001\u5c5e\u6027\u3001\u6587\u672c\u5185\u5bb9\u7b49\u7684\u589e\u3001\u5220\u3001\u6539\u3001\u67e5\u7b49\u64cd\u4f5c\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u5bf9\u6587\u6863\u7684\u52a8\u6001\u4fee\u6539\u3002 - \u5141\u8bb8\u5f00\u53d1\u8005\u5bf9\u6587\u6863\u8fdb\u884c\u4e8b\u4ef6\u5904\u7406\u548c\u4ea4\u4e92\u64cd\u4f5c\uff0c\u4f8b\u5982\u76d1\u542c\u7528\u6237\u7684\u70b9\u51fb\u4e8b\u4ef6\u3001\u8868\u5355\u63d0\u4ea4\u4e8b\u4ef6\u7b49\u3002 BOM\uff08\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff09\uff1a BOM \u662f\u6307\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff08Browser Object Model\uff09\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e0e\u6d4f\u89c8\u5668\u7a97\u53e3\u4ea4\u4e92\u7684\u5bf9\u8c61\u548c\u65b9\u6cd5\uff0c\u5305\u62ec\u5bf9\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u8bbf\u95ee\u3001\u63a7\u5236\u548c\u4fee\u6539\u3002 \u4e3b\u8981\u4f5c\u7528\uff1a - \u63d0\u4f9b\u4e86\u5bf9\u6d4f\u89c8\u5668\u7a97\u53e3\u548c\u6d4f\u89c8\u5668\u672c\u8eab\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u6253\u5f00\u65b0\u7a97\u53e3\u3001\u5173\u95ed\u7a97\u53e3\u3001\u83b7\u53d6\u7a97\u53e3\u5c3a\u5bf8\u7b49\u3002 - \u63d0\u4f9b\u4e86\u5bf9\u6d4f\u89c8\u5668\u7684\u5386\u53f2\u8bb0\u5f55\u7684\u8bbf\u95ee\u548c\u63a7\u5236\uff0c\u4f8b\u5982\u524d\u8fdb\u3001\u540e\u9000\u3001\u8df3\u8f6c\u7b49\u3002 - \u63d0\u4f9b\u4e86\u4e0e\u6d4f\u89c8\u5668\u4ea4\u4e92\u7684\u4e00\u4e9b\u65b9\u6cd5\uff0c\u4f8b\u5982\u5f39\u51fa\u5bf9\u8bdd\u6846\u3001\u786e\u8ba4\u6846\u3001\u63d0\u793a\u6846\u7b49\u3002 \u533a\u522b\uff1a \u5bf9\u8c61\u8303\u56f4\uff1a DOM \u662f\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff0c\u4e3b\u8981\u64cd\u4f5c\u548c\u5904\u7406\u7684\u662f\u7f51\u9875\u6587\u6863\u4e2d\u7684\u5143\u7d20\u8282\u70b9\u3001\u6587\u672c\u8282\u70b9\u7b49\u5185\u5bb9\uff1b\u800c BOM \u662f\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff0c\u4e3b\u8981\u64cd\u4f5c\u548c\u5904\u7406\u7684\u662f\u6d4f\u89c8\u5668\u7a97\u53e3\u3001\u6d4f\u89c8\u5668\u672c\u8eab\u53ca\u5176\u5c5e\u6027\u3002 \u4f5c\u7528\u5bf9\u8c61\uff1a DOM \u4e3b\u8981\u7528\u4e8e\u64cd\u4f5c\u7f51\u9875\u6587\u6863\u7684\u7ed3\u6784\u548c\u5185\u5bb9\uff0c\u4f8b\u5982 HTML \u5143\u7d20\u3001\u6587\u672c\u5185\u5bb9\u7b49\uff1b\u800c BOM \u4e3b\u8981\u7528\u4e8e\u64cd\u4f5c\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u4f8b\u5982\u63a7\u5236\u7a97\u53e3\u5c3a\u5bf8\u3001\u6253\u5f00\u65b0\u7a97\u53e3\u7b49\u3002 \u529f\u80fd\u533a\u522b\uff1a DOM \u4e3b\u8981\u7528\u4e8e\u8bbf\u95ee\u548c\u64cd\u4f5c\u7f51\u9875\u6587\u6863\u4e2d\u7684\u5143\u7d20\u8282\u70b9\uff0c\u63d0\u4f9b\u4e86\u5bf9\u6587\u6863\u7ed3\u6784\u7684\u52a8\u6001\u4fee\u6539\u548c\u4ea4\u4e92\u64cd\u4f5c\uff1bBOM \u4e3b\u8981\u7528\u4e8e\u4e0e\u6d4f\u89c8\u5668\u7a97\u53e3\u4ea4\u4e92\uff0c\u63d0\u4f9b\u4e86\u5bf9\u6d4f\u89c8\u5668\u7a97\u53e3\u548c\u6d4f\u89c8\u5668\u529f\u80fd\u7684\u63a7\u5236\u3002 \u5e38\u7528\u6d4f\u89c8\u5668\u4e8b\u4ef6\u4e0eDOM\u4e8b\u4ef6\uff0c\u5305\u62ec\u9f20\u6807\u4e8b\u4ef6\u3001\u952e\u76d8\u4e8b\u4ef6\u3001\u6846\u67b6/\u5bf9\u8c61\u4e8b\u4ef6\u3001\u8868\u5355\u4e8b\u4ef6\u3001\u526a\u8d34\u677f\u4e8b\u4ef6\u3001\u6253\u5370\u4e8b\u4ef6\u3001\u62d6\u52a8\u4e8b\u4ef6\u3001\u5a92\u4f53\u4e8b\u4ef6\u3001\u52a8\u753b\u4e8b\u4ef6\u3001\u8fc7\u6e21\u4e8b\u4ef6\u3002 2\u3001\u5404\u79cd\u4e8b\u4ef6 (1) \u52a0\u8f7d\u76f8\u5173 onbeforeunload: \u8be5\u4e8b\u5c06\u79bb\u5f00\u9875\u9762 (\u5237\u65b0\u6216\u5173\u95ed)\u65f6\u89e6\u53d1onload: \u6587\u6863\u52a0\u8f7d\u5b8c\u6210\u540e\u89e6\u53d1. onunload: \u5f53\u7a97\u53e3\u5378\u8f7d\u5176\u5185\u5bb9\u548c\u8d44\u6e90\u65f6\u89e6\u53d1 onerror: \u5f53\u53d1\u751flavaScript\u8fd0\u884c\u65f6\u9519\u8bef\u4e0e\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u65f6\u89e6\u53d1 onabort: \u53d1\u9001\u5230window\u7684\u4e2dI\u4e0aabort\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u4e0d\u9002\u7528\u4e8eFirefox 2\u6216Safari. (2) DOM\u4e8b\u4ef6\u4e4b\u8fc7\u5ea6\u76f8\u5173 atransitionend: \u8be5\u4e8b\u4ef6\u5728CSS\u5b8c\u6210\u8fc7\u6e21\u540e\u89e6\u53d1\u3002 (3) \u7a97\u53e3\u76f8\u5173 onblur: \u7a97\u53e3\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1 onfocus: \u7a97\u53e3\u83b7\u5f97\u7126\u70b9\u65f6\u89e6\u53d1 onresize: \u7a97\u53e3\u5927\u5c0f\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1 onscroll:\u7a97\u53e3\u53d1\u751f\u6eda\u52a8\u65f6\u89e6\u53d1\u3002 onmessage: \u7a97\u53e3\u5bf9\u8c61\u63a5\u6536\u6d88\u606f\u4e8b\u4ef6\u65f6\u89e6\u53d1 onchange: \u7a97\u53e3\u5185\u8868\u5355\u5143\u7d20\u7684\u5185\u5bb9\u6539\u53d8\u65f6\u89e6\u53d1 oninput: \u7a97\u53e3\u5185\u8868\u5355\u5143\u7d20\u83b7\u53d6\u7528\u6237\u8f93\u5165\u65f6\u89e6\u53d1. onreset: \u7a97\u53e3\u5185\u8868\u5355\u91cd\u7f6e\u65f6\u89e6\u53d1. onselect: \u7a97\u53e3\u5185\u8868\u5355\u5143\u7d20\u4e2d\u6587\u672c\u88ab\u9009\u4e2d\u65f6\u89e6\u53d1onsubmit: \u7a97\u53e3\u5185\u8868\u5355\u4e2dsubmit\u6309\u94ae\u88ab\u6309\u4e0b\u89e6 onhashchange: \u5f53\u7a97\u53e3\u7684\u951a\u70b9\u54c8\u5e0c\u503c\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1 (4) \u9f20\u6807\u4e8b\u4ef6 onclick: \u9f20\u6807\u5355\u51fb\u4e8b\u4ef6 onmouseover: \u9f20\u6807\u79fb\u5165\u4e8b\u4ef6 onmouseout: \u9f20\u6807\u79fb\u51fa\u4e8b\u4ef6 onmousedown: \u9f20\u6807\u6309\u4e0b\u4e8b\u4ef6 onmouseup : \u9f20\u6807\u677e\u5f00\u4e8b\u4ef6 onmousemove : \u9f20\u6807\u79fb\u52a8\u4e8b\u4ef6 (5) \u952e\u76d8\u4e8b\u4ef6 onkeydown: \u952e\u76d8\u6309\u4e0b onkeyup: \u952e\u76d8\u677e\u5f00 (6) \u8868\u5355\u4e8b\u4ef6 onchange: \u5904\u7406\u8868\u5355\u5143\u7d20\u503c\u53d8\u5316\u4e8b\u4ef6\u3002 onsubmit: \u5904\u7406\u8868\u5355\u63d0\u4ea4\u4e8b\u4ef6\u3002 onreset: \u5904\u7406\u8868\u5355\u91cd\u7f6e\u4e8b\u4ef6\u3002 oninput: \u5904\u7406\u8868\u5355\u8f93\u5165\u4e8b\u4ef6\u3002 onselect: \u5904\u7406\u9009\u62e9\u8868\u5355\u5143\u7d20\u4e8b\u4ef6\u3002 onfocus: \u5904\u7406\u8868\u5355\u5143\u7d20\u83b7\u5f97\u7126\u70b9\u4e8b\u4ef6\u3002 onblur: \u5904\u7406\u8868\u5355\u5143\u7d20\u5931\u53bb\u7126\u70b9\u4e8b\u4ef6\u3002 (7\uff09\u7f16\u8f91\u4e8b\u4ef6 oncopy : \u590d\u5236\uff08\u62f7\u8d1d\uff09\u65f6\u89e6\u53d1 onselect: \u9875\u9762\u5185\u5bb9\u88ab\u9009\u53d6\u65f6\u89e6\u53d1 oncontextmenu: \u6309\u4e0b\u9f20\u6807\u53f3\u952e\u65f6\u89e6\u53d1 (8) \u52a8\u753b\u4e8b\u4ef6 (Animation Events) animationstart: \u5904\u7406\u52a8\u753b\u5f00\u59cb\u4e8b\u4ef6\u3002 animationend: \u5904\u7406\u52a8\u753b\u7ed3\u675f\u4e8b\u4ef6\u3002 animationiteration: \u5904\u7406\u52a8\u753b\u8fed\u4ee3\u4e8b\u4ef6\u3002 (9) \u52a8\u753b\u76f8\u5173 onanimationcancel: \u5f53CSS\u52a8\u753b\u610f\u5916\u4e2d\u6b62\u65f6\uff0c\u5373\u5728\u4efb\u4f55\u65f6\u5019\u5b83\u505c\u6b62\u8fd0\u884c\u800c\u4e0d\u53d1\u9001animationend\u4e8b\u4ef6\u65f6\u5c06\u53d1\u9001\u6b64\u4e8b\u4ef6\uff0c\u4f8b\u5982\u5f53animation-name\u88ab\u6539\u53d8\uff0c\u52a8\u753b\u88ab\u5220\u9664\u7b49 onanimationend: \u5f53CSS\u52a8\u753b\u5230\u8fbe\u5176\u6d3b\u52a8\u5468\u671f\u7684\u672b\u5c3e\u65f6\uff0c\u6309\u7167(animation-duration*animation-iteration-count) + animation-delay\u8fdb\u884c\u8ba1\u7b97\uff0c\u5c06\u53d1\u9001\u6b64\u4e8b\u4ef6\u3002 onanimationiteration: \u6b64\u4e8b\u4ef6\u5c06\u4f1a\u5728CSS\u52a8\u753b\u5230\u8fbe\u6bcf\u6b21\u8fed\u4ee3\u7ed3\u675f\u65f6\u89e6\u53d1\uff0c\u5f53\u901a\u8fc7\u6267\u884c\u6700\u540e\u4e00\u4e2a\u52a8\u753b\u6b65\u9aa4\u5b8c\u6210\u5bf9\u52a8\u753b\u6307\u4ee4\u5e8f\u5217\u7684\u5355\u6b21\u4f20\u9012\u5b8c\u6210\u65f6\uff0c\u8fed\u4ee3\u7ed3\u675f\u3002 (10) \u5e94\u7528\u76f8\u5173 onappinstalled: \u4e00\u65e6\u5c06Web\u5e94\u7528\u7a0b\u5e8f\u6210\u529f\u5b89\u88c5\u4e3a\u6e10\u8fdb\u5f0fWeb\u5e94\u7528\u7a0b\u5e8f\uff0c\u8be5\u4e8b\u4ef6\u5c31\u4f1a\u88ab\u5206\u6d3e\u3002 onbeforeinstallprompt: \u5f53\u7528\u6237\u5373\u5c06\u88ab\u63d0\u793a\u5b89\u88c5web\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u8be5\u5904\u7406\u7a0b\u5e8f\u5c06\u5728\u8bbe\u5907\u4e0a\u8c03\u5ea6\uff0c\u5176\u76f8\u5173\u8054\u7684\u4e8b\u4ef6\u53ef\u4ee5\u4fdd\u5b58\u4ee5\u4f9b\u7a0d\u540e\u7528\u4e8e\u5728\u66f4\u9002\u5408\u7684\u65f6\u95f4\u63d0\u793a\u7528\u6237\u3002 (11) \u8bbe\u5907\u76f8\u5173 ondevicemotion: \u8bbe\u5907\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1 ondeviceorientation: \u8bbe\u5907\u76f8\u5bf9\u65b9\u5411\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1 ondeviceproximity: \u5f53\u8bbe\u5907\u4f20\u611f\u5668\u68c0\u6d4b\u5230\u7269\u4f53\u53d8\u5f97\u66f4\u63a5\u8fd1\u6216\u66f4\u8fdc\u79bb\u8bbe\u5907\u65f6\u89e6\u53d1\u3002 (12) DOM\u4e8b\u4ef6\u4e4b\u6253\u5370\u76f8\u5173 onafterprint: \u8be5\u4e8b\u4ef6\u5728\u9875\u9762\u5df2\u7ecf\u5f00\u59cb\u6253\u5370\uff0c\u6216\u8005\u6253\u5370\u7a97\u53e3\u5df2\u7ecf\u5173\u95ed\u65f6\u89e6\u53d1\u3002 onbeforeprint: \u8be5\u4e8b\u4ef6\u5728\u9875\u9762\u5373\u5c06\u5f00\u59cb\u6253\u5370\u65f6\u89e6\u53d1\u3002 (13) DOM\u4e8b\u4ef6\u4e4b\u62d6\u52a8\u76f8\u5173 ondrag: \u8be5\u4e8b\u4ef6\u5728\u5143\u7d20\u6b63\u5728\u62d6\u52a8\u65f6\u89e6\u53d1\u3002 ondragend: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u5b8c\u6210\u5143\u7d20\u7684\u62d6\u52a8\u65f6\u89e6\u53d1\u3002 ondragenter: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u7684\u5143\u7d20\u8fdb\u5165\u653e\u7f6e\u76ee\u6807\u65f6\u89e6\u53d1\u3002 ondragleave: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u5143\u7d20\u79bb\u5f00\u653e\u7f6e\u76ee\u6807\u65f6\u89e6\u53d1\u3002 ondragover: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u5143\u7d20\u5728\u653e\u7f6e\u76ee\u6807\u4e0a\u65f6\u89e6\u53d1\u3002 ondragstart: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u5f00\u59cb\u62d6\u52a8\u5143\u7d20\u65f6\u89e6\u53d1\u3002 ondrop: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u5143\u7d20\u653e\u7f6e\u5728\u76ee\u6807\u533a\u57df\u65f6\u89e6\u53d1\u3002 (14) DOM\u4e8b\u4ef6\u4e4b\u6846\u67b6/\u56fe\u50cf\u76f8\u5173 onload: \u4e00\u5f20\u9875\u9762\u6216\u4e00\u5e45\u56fe\u50cf\u5b8c\u6210\u52a0\u8f7d\u3002 onpageshow: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u8bbf\u95ee\u9875\u9762\u65f6\u89e6\u53d1 onpagehide: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u79bb\u5f00\u5f53\u524d\u7f51\u9875\u8df3\u8f6c\u5230\u53e6\u5916\u4e00\u4e2a\u9875\u9762\u65f6\u89e6\u53d1 visibilitychange:document\u76d1\u542c\u4e8b\u4ef6\uff0c\u6d4f\u89c8\u5668\u6807\u7b7e\u9875\u88ab\u9690\u85cf\u6216\u663e\u793a\u7684\u65f6\u89e6\u53d1 ononline: \u8be5\u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u5f00\u59cb\u5728\u7ebf\u5de5\u4f5c\u65f6\u89e6\u53d1\u3002 onoffline: \u8be5\u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u5f00\u59cb\u79bb\u7ebf\u5de5\u4f5c\u65f6\u89e6\u53d1\u3002 onshow: \u8be5\u4e8b\u4ef6\u5f53 \u5143\u7d20\u5728\u4e0a\u4e0b\u6587\u83dc\u5355\u663e\u793a\u65f6\u89e6\u53d1\u3002 ontoggle: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u6253\u5f00\u6216\u5173\u95ed \u5143\u7d20\u65f6\u89e6\u53d1\u3002 (15) DOM\u4e8b\u4ef6\u4e4b\u591a\u5a92\u4f53\u76f8\u5173 onabort: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u7ec8\u6b62\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 oncanplay: \u4e8b\u4ef6\u5728\u7528\u6237\u53ef\u4ee5\u5f00\u59cb\u64ad\u653e\u89c6\u9891/\u97f3\u9891\u65f6\u89e6\u53d1\u3002 oncanplaythrough: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u53ef\u4ee5\u6b63\u5e38\u64ad\u653e\u4e14\u65e0\u9700\u505c\u987f\u548c\u7f13\u51b2\u65f6\u89e6\u53d1\u3002 ondurationchange: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u7684\u65f6\u957f\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002 onemptied: \u5f53\u671f\u64ad\u653e\u5217\u8868\u4e3a\u7a7a\u65f6\u89e6\u53d1 onended: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u64ad\u653e\u7ed3\u675f\u65f6\u89e6\u53d1\u3002 onerror: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u6570\u636e\u52a0\u8f7d\u671f\u95f4\u53d1\u751f\u9519\u8bef\u65f6\u89e6\u53d1\u3002 onloadeddata: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u52a0\u8f7d\u89c6\u9891/\u97f3\u5f53\u524d\u5e27\u65f6\u89e6\u53d1\u89e6\u53d1\u3002 onloadedmetadata: \u4e8b\u4ef6\u5728\u6307\u5b9a\u89c6\u9891/\u97f3\u9891\u7684\u5143\u6570\u636e\u52a0\u8f7d\u540e\u89e6\u53d1\u3002 onloadstart: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u5f00\u59cb\u5bfb\u627e\u6307\u5b9a\u89c6\u9891/\u97f3\u9891\u89e6\u53d1\u3002 onpause: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u6682\u505c\u65f6\u89e6\u53d1\u3002 onplay: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\u3002 onplaying: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u6682\u505c\u6216\u8005\u5728\u7f13\u51b2\u540e\u51c6\u5907\u91cd\u65b0\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\u3002 onprogress: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u4e0b\u8f7d\u6307\u5b9a\u7684\u89c6\u9891/\u97f3\u9891\u65f6\u89e6\u53d1\u3002 onratechange: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u7684\u64ad\u653e\u901f\u5ea6\u53d1\u9001\u6539\u53d8\u65f6\u89e6\u53d1\u3002 onseeked: \u4e8b\u4ef6\u5728\u7528\u6237\u91cd\u65b0\u5b9a\u4f4d\u89c6\u9891/\u97f3\u9891\u7684\u64ad\u653e\u4f4d\u7f6e\u540e\u89e6\u53d1\u3002 onseeking: \u4e8b\u4ef6\u5728\u7528\u6237\u5f00\u59cb\u91cd\u65b0\u5b9a\u4f4d\u89c6\u9891/\u97f3\u9891\u65f6\u89e6\u53d1\u3002 onstalled: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u83b7\u53d6\u5a92\u4f53\u6570\u636e\uff0c\u4f46\u5a92\u4f53\u6570\u636e\u4e0d\u53ef\u7528\u65f6\u89e6\u53d1\u3002 onsuspend: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u8bfb\u53d6\u5a92\u4f53\u6570\u636e\u4e2d\u6b62\u65f6\u89e6\u53d1\u3002 ontimeupdate: \u4e8b\u4ef6\u5728\u5f53\u524d\u7684\u64ad\u653e\u4f4d\u7f6e\u53d1\u9001\u6539\u53d8\u65f6\u89e6\u53d1\u3002 onvolumechange: \u4e8b\u4ef6\u5728\u97f3\u91cf\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1\u3002 onwaiting: \u4e8b\u4ef6\u5728\u89c6\u9891\u7531\u4e8e\u8981\u64ad\u653e\u4e0b\u4e00\u5e27\u800c\u9700\u8981\u7f13\u51b2\u65f6\u89e6\u53d1\u3002 3\u3001HTML DOM EventListener \u4e8b\u4ef6\u76d1\u542c \u53ef\u4ee5\u5bf9\u4e00\u4e2aelement\u7ed1\u5b9a\u591a\u4e2a\u540c\u6837\u7684\u4e8b\u4ef6 \u4e14\u4e0d\u4f1a\u88ab\u8986\u76d6 addEventListener() \u65b9\u6cd5 \u8bed\u6cd5 ##### element .addEventListener( event, function, useCapture ); \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u7c7b\u578b (\u5982 \"click\" \u6216 \"mousedown\"). \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u89e6\u53d1\u540e\u8c03\u7528\u7684\u51fd\u6570\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u4e2a\u5e03\u5c14\u503c\u7528\u4e8e\u63cf\u8ff0\u4e8b\u4ef6\u662f\u5192\u6ce1\u8fd8\u662f\u6355\u83b7\u3002\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002 \u5b9e\u4f8b: \u5728\u7528\u6237\u79fb\u52a8\u9f20\u6807\u65f6\u89e6\u53d1\u76d1\u542c\u4e8b\u4ef6\uff1a ```javascript Title \u7ed9\u5f53\u524d\u7684documen\u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c mousemove var i = 0 document.addEventListener('mousemove', function (arg) { console.log('\u6b63\u5728\u79fb\u52a8', i, arg) /*arg\u4e3a\u79fb\u52a8\u9f20\u6807\u662f\u4f20\u5165\u7684\u5bf9\u8c61*/ i += 1 }) ``` \u7ed3\u679c 4\u3001\u8865mousemove\u73af\u5883 4.1 \u5728\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b\u5f53\u524d\u79fb\u52a8\u5bf9\u8c61 (1) \u5c06\u5f53\u524d\u6253\u5370\u7684\u79fb\u52a8\u5bf9\u8c61\u8bbe\u7f6e\u4e3a\u5168\u5c40\u5bf9\u8c61 \u7ed3\u679c (2) \u67e5\u770btemp1\u5bf9\u8c61 (3) Object.getOwnPropertyDescriptor() \u4f5c\u7528\uff1a \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u63cf\u8ff0\u7ed9\u5b9a\u5bf9\u8c61\u4e0a\u7279\u5b9a\u5c5e\u6027\uff08\u5373\u76f4\u63a5\u5b58\u5728\u4e8e\u5bf9\u8c61\u4e0a\u800c\u4e0d\u5728\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e2d\u7684\u5c5e\u6027\uff09\u7684\u914d\u7f6e\u3002\u8fd4\u56de\u7684\u5bf9\u8c61\u662f\u53ef\u53d8\u7684\uff0c\u4f46\u5bf9\u5176\u8fdb\u884c\u66f4\u6539\u4e0d\u4f1a\u5f71\u54cd\u539f\u59cb\u5c5e\u6027\u7684\u914d\u7f6e\u3002 (4) \u67e5\u770b\u5f53\u524dtemp1\u5bf9\u8c61\u4e2d isTrusted \u5bf9\u8c61\u6709\u54ea\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5 (5) \u8865 isTrusted \u6d4f\u89c8\u5668\u4e2d\u8c03\u8bd5\u67e5\u770b\u5404\u5c5e\u6027\u503c \u7528\u4e8e\u540e\u7eed\u7684\u8865\u73af\u5883 \u4ee3\u7801 javascript var Mousemove = function(){ // \u8865isTrusted\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 Object.defineProperty(this, 'isTrusted', { configurable: false, enumerable: true, get: function () { return true; }, set: undefined }) // \u8865\u5145isTrusted\u5bf9\u8c61\u4e2dget\u5bf9\u8c61\u7684name\u5c5e\u6027\u7684\u503c\u548c\u6d4f\u89c8\u5668\u4e2d\u7684\u503c\u4fdd\u6301\u4e00\u81f4 Object.defineProperty(Object.getOwnPropertyDescriptor(this, 'isTrusted').get, 'name', { configurable: true, enumerable:false, value:\"get isTrusted\", writable:false }) // \u8865\u5145isTrusted\u5bf9\u8c61\u4e2dget\u5bf9\u8c61\u7684length\u5c5e\u6027\u7684\u503c\u548c\u6d4f\u89c8\u5668\u4e2d\u7684\u503c\u4fdd\u6301\u4e00\u81f4 Object.defineProperty(Object.getOwnPropertyDescriptor(this, 'isTrusted').get, 'length', { configurable: true, enumerable:false, value:0, writable:false }) } // \u5b9e\u4f8b\u5316 var temp1 = new Mousemove() console.log(temp1.isTrusted) // \u83b7\u53d6\u5f53\u524d\u7684get\u5bf9\u8c61\u7684name\u5c5e\u6027\u503c console.log(Object.getOwnPropertyDescriptor(temp1, 'isTrusted').get) console.log(Object.getOwnPropertyDescriptor(temp1, 'isTrusted').get.name) console.log(Object.getOwnPropertyDescriptor(temp1, 'isTrusted').get.length) \u7ed3\u679c\u5bf9\u6bd4 \u6d4f\u89c8\u5668\u4e2d pycharm","title":"\u8865\u73af\u5883"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#_1","text":"pycharm\u8bbe\u7f6e","title":"\u8865\u73af\u5883"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#_2","text":"","title":"\u4e00\u3001\u6d4f\u89c8\u5668\u4e0e\u4e8b\u4ef6"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#1dombom","text":"\u5728 Web \u5f00\u53d1\u4e2d\uff0cJavaScript\uff08JS\uff09\u4e2d\u7684 DOM\uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u548c BOM\uff08\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff09\u662f\u4e24\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u5b83\u4eec\u5206\u522b\u4ee3\u8868\u4e86\u7f51\u9875\u6587\u6863\u7ed3\u6784\u548c\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u62bd\u8c61\u8868\u793a\u3002\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u6240\u8868\u793a\u7684\u5bf9\u8c61\u4ee5\u53ca\u5b83\u4eec\u7684\u4f5c\u7528\u8303\u56f4\u3002 DOM\uff08\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\uff1a DOM \u662f\u6307\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff08Document Object Model\uff09\uff0c\u5b83\u662f HTML \u548c XML \u6587\u6863\u7684\u7f16\u7a0b\u63a5\u53e3\uff0c\u63d0\u4f9b\u4e86\u5bf9\u6587\u6863\u7684\u7ed3\u6784\u5316\u8868\u8ff0\uff0c\u5e76\u5b9a\u4e49\u4e86\u4e00\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5bf9\u7ed3\u6784\u8fdb\u884c\u8bbf\u95ee\u3001\u64cd\u4f5c\u548c\u66f4\u65b0\u3002 \u4e3b\u8981\u4f5c\u7528\uff1a - \u5c06 HTML \u6216 XML \u6587\u6863\u4ee5\u6811\u5f62\u7ed3\u6784\u8868\u793a\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u901a\u8fc7 JS \u811a\u672c\u6765\u8bbf\u95ee\u548c\u64cd\u4f5c\u3002 - \u63d0\u4f9b\u4e86\u5bf9\u6587\u6863\u4e2d\u5143\u7d20\u3001\u5c5e\u6027\u3001\u6587\u672c\u5185\u5bb9\u7b49\u7684\u589e\u3001\u5220\u3001\u6539\u3001\u67e5\u7b49\u64cd\u4f5c\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u5bf9\u6587\u6863\u7684\u52a8\u6001\u4fee\u6539\u3002 - \u5141\u8bb8\u5f00\u53d1\u8005\u5bf9\u6587\u6863\u8fdb\u884c\u4e8b\u4ef6\u5904\u7406\u548c\u4ea4\u4e92\u64cd\u4f5c\uff0c\u4f8b\u5982\u76d1\u542c\u7528\u6237\u7684\u70b9\u51fb\u4e8b\u4ef6\u3001\u8868\u5355\u63d0\u4ea4\u4e8b\u4ef6\u7b49\u3002 BOM\uff08\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff09\uff1a BOM \u662f\u6307\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff08Browser Object Model\uff09\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e0e\u6d4f\u89c8\u5668\u7a97\u53e3\u4ea4\u4e92\u7684\u5bf9\u8c61\u548c\u65b9\u6cd5\uff0c\u5305\u62ec\u5bf9\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u8bbf\u95ee\u3001\u63a7\u5236\u548c\u4fee\u6539\u3002 \u4e3b\u8981\u4f5c\u7528\uff1a - \u63d0\u4f9b\u4e86\u5bf9\u6d4f\u89c8\u5668\u7a97\u53e3\u548c\u6d4f\u89c8\u5668\u672c\u8eab\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u6253\u5f00\u65b0\u7a97\u53e3\u3001\u5173\u95ed\u7a97\u53e3\u3001\u83b7\u53d6\u7a97\u53e3\u5c3a\u5bf8\u7b49\u3002 - \u63d0\u4f9b\u4e86\u5bf9\u6d4f\u89c8\u5668\u7684\u5386\u53f2\u8bb0\u5f55\u7684\u8bbf\u95ee\u548c\u63a7\u5236\uff0c\u4f8b\u5982\u524d\u8fdb\u3001\u540e\u9000\u3001\u8df3\u8f6c\u7b49\u3002 - \u63d0\u4f9b\u4e86\u4e0e\u6d4f\u89c8\u5668\u4ea4\u4e92\u7684\u4e00\u4e9b\u65b9\u6cd5\uff0c\u4f8b\u5982\u5f39\u51fa\u5bf9\u8bdd\u6846\u3001\u786e\u8ba4\u6846\u3001\u63d0\u793a\u6846\u7b49\u3002 \u533a\u522b\uff1a \u5bf9\u8c61\u8303\u56f4\uff1a DOM \u662f\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff0c\u4e3b\u8981\u64cd\u4f5c\u548c\u5904\u7406\u7684\u662f\u7f51\u9875\u6587\u6863\u4e2d\u7684\u5143\u7d20\u8282\u70b9\u3001\u6587\u672c\u8282\u70b9\u7b49\u5185\u5bb9\uff1b\u800c BOM \u662f\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b\uff0c\u4e3b\u8981\u64cd\u4f5c\u548c\u5904\u7406\u7684\u662f\u6d4f\u89c8\u5668\u7a97\u53e3\u3001\u6d4f\u89c8\u5668\u672c\u8eab\u53ca\u5176\u5c5e\u6027\u3002 \u4f5c\u7528\u5bf9\u8c61\uff1a DOM \u4e3b\u8981\u7528\u4e8e\u64cd\u4f5c\u7f51\u9875\u6587\u6863\u7684\u7ed3\u6784\u548c\u5185\u5bb9\uff0c\u4f8b\u5982 HTML \u5143\u7d20\u3001\u6587\u672c\u5185\u5bb9\u7b49\uff1b\u800c BOM \u4e3b\u8981\u7528\u4e8e\u64cd\u4f5c\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u4f8b\u5982\u63a7\u5236\u7a97\u53e3\u5c3a\u5bf8\u3001\u6253\u5f00\u65b0\u7a97\u53e3\u7b49\u3002 \u529f\u80fd\u533a\u522b\uff1a DOM \u4e3b\u8981\u7528\u4e8e\u8bbf\u95ee\u548c\u64cd\u4f5c\u7f51\u9875\u6587\u6863\u4e2d\u7684\u5143\u7d20\u8282\u70b9\uff0c\u63d0\u4f9b\u4e86\u5bf9\u6587\u6863\u7ed3\u6784\u7684\u52a8\u6001\u4fee\u6539\u548c\u4ea4\u4e92\u64cd\u4f5c\uff1bBOM \u4e3b\u8981\u7528\u4e8e\u4e0e\u6d4f\u89c8\u5668\u7a97\u53e3\u4ea4\u4e92\uff0c\u63d0\u4f9b\u4e86\u5bf9\u6d4f\u89c8\u5668\u7a97\u53e3\u548c\u6d4f\u89c8\u5668\u529f\u80fd\u7684\u63a7\u5236\u3002 \u5e38\u7528\u6d4f\u89c8\u5668\u4e8b\u4ef6\u4e0eDOM\u4e8b\u4ef6\uff0c\u5305\u62ec\u9f20\u6807\u4e8b\u4ef6\u3001\u952e\u76d8\u4e8b\u4ef6\u3001\u6846\u67b6/\u5bf9\u8c61\u4e8b\u4ef6\u3001\u8868\u5355\u4e8b\u4ef6\u3001\u526a\u8d34\u677f\u4e8b\u4ef6\u3001\u6253\u5370\u4e8b\u4ef6\u3001\u62d6\u52a8\u4e8b\u4ef6\u3001\u5a92\u4f53\u4e8b\u4ef6\u3001\u52a8\u753b\u4e8b\u4ef6\u3001\u8fc7\u6e21\u4e8b\u4ef6\u3002","title":"1\u3001DOM\u4e0eBOM"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#2","text":"","title":"2\u3001\u5404\u79cd\u4e8b\u4ef6"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#1","text":"onbeforeunload: \u8be5\u4e8b\u5c06\u79bb\u5f00\u9875\u9762 (\u5237\u65b0\u6216\u5173\u95ed)\u65f6\u89e6\u53d1onload: \u6587\u6863\u52a0\u8f7d\u5b8c\u6210\u540e\u89e6\u53d1. onunload: \u5f53\u7a97\u53e3\u5378\u8f7d\u5176\u5185\u5bb9\u548c\u8d44\u6e90\u65f6\u89e6\u53d1 onerror: \u5f53\u53d1\u751flavaScript\u8fd0\u884c\u65f6\u9519\u8bef\u4e0e\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u65f6\u89e6\u53d1 onabort: \u53d1\u9001\u5230window\u7684\u4e2dI\u4e0aabort\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u4e0d\u9002\u7528\u4e8eFirefox 2\u6216Safari.","title":"(1) \u52a0\u8f7d\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#2-dom","text":"atransitionend: \u8be5\u4e8b\u4ef6\u5728CSS\u5b8c\u6210\u8fc7\u6e21\u540e\u89e6\u53d1\u3002","title":"(2) DOM\u4e8b\u4ef6\u4e4b\u8fc7\u5ea6\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#3","text":"onblur: \u7a97\u53e3\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1 onfocus: \u7a97\u53e3\u83b7\u5f97\u7126\u70b9\u65f6\u89e6\u53d1 onresize: \u7a97\u53e3\u5927\u5c0f\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1 onscroll:\u7a97\u53e3\u53d1\u751f\u6eda\u52a8\u65f6\u89e6\u53d1\u3002 onmessage: \u7a97\u53e3\u5bf9\u8c61\u63a5\u6536\u6d88\u606f\u4e8b\u4ef6\u65f6\u89e6\u53d1 onchange: \u7a97\u53e3\u5185\u8868\u5355\u5143\u7d20\u7684\u5185\u5bb9\u6539\u53d8\u65f6\u89e6\u53d1 oninput: \u7a97\u53e3\u5185\u8868\u5355\u5143\u7d20\u83b7\u53d6\u7528\u6237\u8f93\u5165\u65f6\u89e6\u53d1. onreset: \u7a97\u53e3\u5185\u8868\u5355\u91cd\u7f6e\u65f6\u89e6\u53d1. onselect: \u7a97\u53e3\u5185\u8868\u5355\u5143\u7d20\u4e2d\u6587\u672c\u88ab\u9009\u4e2d\u65f6\u89e6\u53d1onsubmit: \u7a97\u53e3\u5185\u8868\u5355\u4e2dsubmit\u6309\u94ae\u88ab\u6309\u4e0b\u89e6 onhashchange: \u5f53\u7a97\u53e3\u7684\u951a\u70b9\u54c8\u5e0c\u503c\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1","title":"(3) \u7a97\u53e3\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#4","text":"onclick: \u9f20\u6807\u5355\u51fb\u4e8b\u4ef6 onmouseover: \u9f20\u6807\u79fb\u5165\u4e8b\u4ef6 onmouseout: \u9f20\u6807\u79fb\u51fa\u4e8b\u4ef6 onmousedown: \u9f20\u6807\u6309\u4e0b\u4e8b\u4ef6 onmouseup : \u9f20\u6807\u677e\u5f00\u4e8b\u4ef6 onmousemove : \u9f20\u6807\u79fb\u52a8\u4e8b\u4ef6","title":"(4) \u9f20\u6807\u4e8b\u4ef6"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#5","text":"onkeydown: \u952e\u76d8\u6309\u4e0b onkeyup: \u952e\u76d8\u677e\u5f00","title":"(5) \u952e\u76d8\u4e8b\u4ef6"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#6","text":"onchange: \u5904\u7406\u8868\u5355\u5143\u7d20\u503c\u53d8\u5316\u4e8b\u4ef6\u3002 onsubmit: \u5904\u7406\u8868\u5355\u63d0\u4ea4\u4e8b\u4ef6\u3002 onreset: \u5904\u7406\u8868\u5355\u91cd\u7f6e\u4e8b\u4ef6\u3002 oninput: \u5904\u7406\u8868\u5355\u8f93\u5165\u4e8b\u4ef6\u3002 onselect: \u5904\u7406\u9009\u62e9\u8868\u5355\u5143\u7d20\u4e8b\u4ef6\u3002 onfocus: \u5904\u7406\u8868\u5355\u5143\u7d20\u83b7\u5f97\u7126\u70b9\u4e8b\u4ef6\u3002 onblur: \u5904\u7406\u8868\u5355\u5143\u7d20\u5931\u53bb\u7126\u70b9\u4e8b\u4ef6\u3002","title":"(6) \u8868\u5355\u4e8b\u4ef6"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#7","text":"oncopy : \u590d\u5236\uff08\u62f7\u8d1d\uff09\u65f6\u89e6\u53d1 onselect: \u9875\u9762\u5185\u5bb9\u88ab\u9009\u53d6\u65f6\u89e6\u53d1 oncontextmenu: \u6309\u4e0b\u9f20\u6807\u53f3\u952e\u65f6\u89e6\u53d1","title":"(7\uff09\u7f16\u8f91\u4e8b\u4ef6"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#8-animation-events","text":"animationstart: \u5904\u7406\u52a8\u753b\u5f00\u59cb\u4e8b\u4ef6\u3002 animationend: \u5904\u7406\u52a8\u753b\u7ed3\u675f\u4e8b\u4ef6\u3002 animationiteration: \u5904\u7406\u52a8\u753b\u8fed\u4ee3\u4e8b\u4ef6\u3002","title":"(8) \u52a8\u753b\u4e8b\u4ef6 (Animation Events)"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#9","text":"onanimationcancel: \u5f53CSS\u52a8\u753b\u610f\u5916\u4e2d\u6b62\u65f6\uff0c\u5373\u5728\u4efb\u4f55\u65f6\u5019\u5b83\u505c\u6b62\u8fd0\u884c\u800c\u4e0d\u53d1\u9001animationend\u4e8b\u4ef6\u65f6\u5c06\u53d1\u9001\u6b64\u4e8b\u4ef6\uff0c\u4f8b\u5982\u5f53animation-name\u88ab\u6539\u53d8\uff0c\u52a8\u753b\u88ab\u5220\u9664\u7b49 onanimationend: \u5f53CSS\u52a8\u753b\u5230\u8fbe\u5176\u6d3b\u52a8\u5468\u671f\u7684\u672b\u5c3e\u65f6\uff0c\u6309\u7167(animation-duration*animation-iteration-count) + animation-delay\u8fdb\u884c\u8ba1\u7b97\uff0c\u5c06\u53d1\u9001\u6b64\u4e8b\u4ef6\u3002 onanimationiteration: \u6b64\u4e8b\u4ef6\u5c06\u4f1a\u5728CSS\u52a8\u753b\u5230\u8fbe\u6bcf\u6b21\u8fed\u4ee3\u7ed3\u675f\u65f6\u89e6\u53d1\uff0c\u5f53\u901a\u8fc7\u6267\u884c\u6700\u540e\u4e00\u4e2a\u52a8\u753b\u6b65\u9aa4\u5b8c\u6210\u5bf9\u52a8\u753b\u6307\u4ee4\u5e8f\u5217\u7684\u5355\u6b21\u4f20\u9012\u5b8c\u6210\u65f6\uff0c\u8fed\u4ee3\u7ed3\u675f\u3002","title":"(9) \u52a8\u753b\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#10","text":"onappinstalled: \u4e00\u65e6\u5c06Web\u5e94\u7528\u7a0b\u5e8f\u6210\u529f\u5b89\u88c5\u4e3a\u6e10\u8fdb\u5f0fWeb\u5e94\u7528\u7a0b\u5e8f\uff0c\u8be5\u4e8b\u4ef6\u5c31\u4f1a\u88ab\u5206\u6d3e\u3002 onbeforeinstallprompt: \u5f53\u7528\u6237\u5373\u5c06\u88ab\u63d0\u793a\u5b89\u88c5web\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u8be5\u5904\u7406\u7a0b\u5e8f\u5c06\u5728\u8bbe\u5907\u4e0a\u8c03\u5ea6\uff0c\u5176\u76f8\u5173\u8054\u7684\u4e8b\u4ef6\u53ef\u4ee5\u4fdd\u5b58\u4ee5\u4f9b\u7a0d\u540e\u7528\u4e8e\u5728\u66f4\u9002\u5408\u7684\u65f6\u95f4\u63d0\u793a\u7528\u6237\u3002","title":"(10) \u5e94\u7528\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#11","text":"ondevicemotion: \u8bbe\u5907\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1 ondeviceorientation: \u8bbe\u5907\u76f8\u5bf9\u65b9\u5411\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1 ondeviceproximity: \u5f53\u8bbe\u5907\u4f20\u611f\u5668\u68c0\u6d4b\u5230\u7269\u4f53\u53d8\u5f97\u66f4\u63a5\u8fd1\u6216\u66f4\u8fdc\u79bb\u8bbe\u5907\u65f6\u89e6\u53d1\u3002","title":"(11) \u8bbe\u5907\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#12-dom","text":"onafterprint: \u8be5\u4e8b\u4ef6\u5728\u9875\u9762\u5df2\u7ecf\u5f00\u59cb\u6253\u5370\uff0c\u6216\u8005\u6253\u5370\u7a97\u53e3\u5df2\u7ecf\u5173\u95ed\u65f6\u89e6\u53d1\u3002 onbeforeprint: \u8be5\u4e8b\u4ef6\u5728\u9875\u9762\u5373\u5c06\u5f00\u59cb\u6253\u5370\u65f6\u89e6\u53d1\u3002","title":"(12) DOM\u4e8b\u4ef6\u4e4b\u6253\u5370\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#13-dom","text":"ondrag: \u8be5\u4e8b\u4ef6\u5728\u5143\u7d20\u6b63\u5728\u62d6\u52a8\u65f6\u89e6\u53d1\u3002 ondragend: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u5b8c\u6210\u5143\u7d20\u7684\u62d6\u52a8\u65f6\u89e6\u53d1\u3002 ondragenter: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u7684\u5143\u7d20\u8fdb\u5165\u653e\u7f6e\u76ee\u6807\u65f6\u89e6\u53d1\u3002 ondragleave: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u5143\u7d20\u79bb\u5f00\u653e\u7f6e\u76ee\u6807\u65f6\u89e6\u53d1\u3002 ondragover: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u5143\u7d20\u5728\u653e\u7f6e\u76ee\u6807\u4e0a\u65f6\u89e6\u53d1\u3002 ondragstart: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u5f00\u59cb\u62d6\u52a8\u5143\u7d20\u65f6\u89e6\u53d1\u3002 ondrop: \u8be5\u4e8b\u4ef6\u5728\u62d6\u52a8\u5143\u7d20\u653e\u7f6e\u5728\u76ee\u6807\u533a\u57df\u65f6\u89e6\u53d1\u3002","title":"(13) DOM\u4e8b\u4ef6\u4e4b\u62d6\u52a8\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#14-dom","text":"onload: \u4e00\u5f20\u9875\u9762\u6216\u4e00\u5e45\u56fe\u50cf\u5b8c\u6210\u52a0\u8f7d\u3002 onpageshow: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u8bbf\u95ee\u9875\u9762\u65f6\u89e6\u53d1 onpagehide: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u79bb\u5f00\u5f53\u524d\u7f51\u9875\u8df3\u8f6c\u5230\u53e6\u5916\u4e00\u4e2a\u9875\u9762\u65f6\u89e6\u53d1 visibilitychange:document\u76d1\u542c\u4e8b\u4ef6\uff0c\u6d4f\u89c8\u5668\u6807\u7b7e\u9875\u88ab\u9690\u85cf\u6216\u663e\u793a\u7684\u65f6\u89e6\u53d1 ononline: \u8be5\u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u5f00\u59cb\u5728\u7ebf\u5de5\u4f5c\u65f6\u89e6\u53d1\u3002 onoffline: \u8be5\u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u5f00\u59cb\u79bb\u7ebf\u5de5\u4f5c\u65f6\u89e6\u53d1\u3002 onshow: \u8be5\u4e8b\u4ef6\u5f53 \u5143\u7d20\u5728\u4e0a\u4e0b\u6587\u83dc\u5355\u663e\u793a\u65f6\u89e6\u53d1\u3002 ontoggle: \u8be5\u4e8b\u4ef6\u5728\u7528\u6237\u6253\u5f00\u6216\u5173\u95ed \u5143\u7d20\u65f6\u89e6\u53d1\u3002","title":"(14) DOM\u4e8b\u4ef6\u4e4b\u6846\u67b6/\u56fe\u50cf\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#15-dom","text":"onabort: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u7ec8\u6b62\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 oncanplay: \u4e8b\u4ef6\u5728\u7528\u6237\u53ef\u4ee5\u5f00\u59cb\u64ad\u653e\u89c6\u9891/\u97f3\u9891\u65f6\u89e6\u53d1\u3002 oncanplaythrough: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u53ef\u4ee5\u6b63\u5e38\u64ad\u653e\u4e14\u65e0\u9700\u505c\u987f\u548c\u7f13\u51b2\u65f6\u89e6\u53d1\u3002 ondurationchange: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u7684\u65f6\u957f\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002 onemptied: \u5f53\u671f\u64ad\u653e\u5217\u8868\u4e3a\u7a7a\u65f6\u89e6\u53d1 onended: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u64ad\u653e\u7ed3\u675f\u65f6\u89e6\u53d1\u3002 onerror: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u6570\u636e\u52a0\u8f7d\u671f\u95f4\u53d1\u751f\u9519\u8bef\u65f6\u89e6\u53d1\u3002 onloadeddata: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u52a0\u8f7d\u89c6\u9891/\u97f3\u5f53\u524d\u5e27\u65f6\u89e6\u53d1\u89e6\u53d1\u3002 onloadedmetadata: \u4e8b\u4ef6\u5728\u6307\u5b9a\u89c6\u9891/\u97f3\u9891\u7684\u5143\u6570\u636e\u52a0\u8f7d\u540e\u89e6\u53d1\u3002 onloadstart: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u5f00\u59cb\u5bfb\u627e\u6307\u5b9a\u89c6\u9891/\u97f3\u9891\u89e6\u53d1\u3002 onpause: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u6682\u505c\u65f6\u89e6\u53d1\u3002 onplay: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\u3002 onplaying: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u6682\u505c\u6216\u8005\u5728\u7f13\u51b2\u540e\u51c6\u5907\u91cd\u65b0\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\u3002 onprogress: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u4e0b\u8f7d\u6307\u5b9a\u7684\u89c6\u9891/\u97f3\u9891\u65f6\u89e6\u53d1\u3002 onratechange: \u4e8b\u4ef6\u5728\u89c6\u9891/\u97f3\u9891\u7684\u64ad\u653e\u901f\u5ea6\u53d1\u9001\u6539\u53d8\u65f6\u89e6\u53d1\u3002 onseeked: \u4e8b\u4ef6\u5728\u7528\u6237\u91cd\u65b0\u5b9a\u4f4d\u89c6\u9891/\u97f3\u9891\u7684\u64ad\u653e\u4f4d\u7f6e\u540e\u89e6\u53d1\u3002 onseeking: \u4e8b\u4ef6\u5728\u7528\u6237\u5f00\u59cb\u91cd\u65b0\u5b9a\u4f4d\u89c6\u9891/\u97f3\u9891\u65f6\u89e6\u53d1\u3002 onstalled: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u83b7\u53d6\u5a92\u4f53\u6570\u636e\uff0c\u4f46\u5a92\u4f53\u6570\u636e\u4e0d\u53ef\u7528\u65f6\u89e6\u53d1\u3002 onsuspend: \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u8bfb\u53d6\u5a92\u4f53\u6570\u636e\u4e2d\u6b62\u65f6\u89e6\u53d1\u3002 ontimeupdate: \u4e8b\u4ef6\u5728\u5f53\u524d\u7684\u64ad\u653e\u4f4d\u7f6e\u53d1\u9001\u6539\u53d8\u65f6\u89e6\u53d1\u3002 onvolumechange: \u4e8b\u4ef6\u5728\u97f3\u91cf\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1\u3002 onwaiting: \u4e8b\u4ef6\u5728\u89c6\u9891\u7531\u4e8e\u8981\u64ad\u653e\u4e0b\u4e00\u5e27\u800c\u9700\u8981\u7f13\u51b2\u65f6\u89e6\u53d1\u3002","title":"(15) DOM\u4e8b\u4ef6\u4e4b\u591a\u5a92\u4f53\u76f8\u5173"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#3html-dom-eventlistener","text":"\u53ef\u4ee5\u5bf9\u4e00\u4e2aelement\u7ed1\u5b9a\u591a\u4e2a\u540c\u6837\u7684\u4e8b\u4ef6 \u4e14\u4e0d\u4f1a\u88ab\u8986\u76d6 addEventListener() \u65b9\u6cd5 \u8bed\u6cd5 ##### element .addEventListener( event, function, useCapture ); \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u7c7b\u578b (\u5982 \"click\" \u6216 \"mousedown\"). \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u89e6\u53d1\u540e\u8c03\u7528\u7684\u51fd\u6570\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u4e2a\u5e03\u5c14\u503c\u7528\u4e8e\u63cf\u8ff0\u4e8b\u4ef6\u662f\u5192\u6ce1\u8fd8\u662f\u6355\u83b7\u3002\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002 \u5b9e\u4f8b: \u5728\u7528\u6237\u79fb\u52a8\u9f20\u6807\u65f6\u89e6\u53d1\u76d1\u542c\u4e8b\u4ef6\uff1a ```javascript Title \u7ed9\u5f53\u524d\u7684documen\u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c mousemove var i = 0 document.addEventListener('mousemove', function (arg) { console.log('\u6b63\u5728\u79fb\u52a8', i, arg) /*arg\u4e3a\u79fb\u52a8\u9f20\u6807\u662f\u4f20\u5165\u7684\u5bf9\u8c61*/ i += 1 }) ``` \u7ed3\u679c","title":"3\u3001HTML DOM EventListener \u4e8b\u4ef6\u76d1\u542c"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#4mousemove","text":"","title":"4\u3001\u8865mousemove\u73af\u5883"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#41","text":"","title":"4.1 \u5728\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b\u5f53\u524d\u79fb\u52a8\u5bf9\u8c61"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#1_1","text":"\u7ed3\u679c","title":"(1) \u5c06\u5f53\u524d\u6253\u5370\u7684\u79fb\u52a8\u5bf9\u8c61\u8bbe\u7f6e\u4e3a\u5168\u5c40\u5bf9\u8c61"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#2-temp1","text":"","title":"(2) \u67e5\u770btemp1\u5bf9\u8c61"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#3-objectgetownpropertydescriptor","text":"\u4f5c\u7528\uff1a \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u63cf\u8ff0\u7ed9\u5b9a\u5bf9\u8c61\u4e0a\u7279\u5b9a\u5c5e\u6027\uff08\u5373\u76f4\u63a5\u5b58\u5728\u4e8e\u5bf9\u8c61\u4e0a\u800c\u4e0d\u5728\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e2d\u7684\u5c5e\u6027\uff09\u7684\u914d\u7f6e\u3002\u8fd4\u56de\u7684\u5bf9\u8c61\u662f\u53ef\u53d8\u7684\uff0c\u4f46\u5bf9\u5176\u8fdb\u884c\u66f4\u6539\u4e0d\u4f1a\u5f71\u54cd\u539f\u59cb\u5c5e\u6027\u7684\u914d\u7f6e\u3002","title":"(3) Object.getOwnPropertyDescriptor()"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#4-temp1istrusted","text":"","title":"(4) \u67e5\u770b\u5f53\u524dtemp1\u5bf9\u8c61\u4e2disTrusted\u5bf9\u8c61\u6709\u54ea\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html#5-istrusted","text":"\u6d4f\u89c8\u5668\u4e2d\u8c03\u8bd5\u67e5\u770b\u5404\u5c5e\u6027\u503c \u7528\u4e8e\u540e\u7eed\u7684\u8865\u73af\u5883 \u4ee3\u7801 javascript var Mousemove = function(){ // \u8865isTrusted\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 Object.defineProperty(this, 'isTrusted', { configurable: false, enumerable: true, get: function () { return true; }, set: undefined }) // \u8865\u5145isTrusted\u5bf9\u8c61\u4e2dget\u5bf9\u8c61\u7684name\u5c5e\u6027\u7684\u503c\u548c\u6d4f\u89c8\u5668\u4e2d\u7684\u503c\u4fdd\u6301\u4e00\u81f4 Object.defineProperty(Object.getOwnPropertyDescriptor(this, 'isTrusted').get, 'name', { configurable: true, enumerable:false, value:\"get isTrusted\", writable:false }) // \u8865\u5145isTrusted\u5bf9\u8c61\u4e2dget\u5bf9\u8c61\u7684length\u5c5e\u6027\u7684\u503c\u548c\u6d4f\u89c8\u5668\u4e2d\u7684\u503c\u4fdd\u6301\u4e00\u81f4 Object.defineProperty(Object.getOwnPropertyDescriptor(this, 'isTrusted').get, 'length', { configurable: true, enumerable:false, value:0, writable:false }) } // \u5b9e\u4f8b\u5316 var temp1 = new Mousemove() console.log(temp1.isTrusted) // \u83b7\u53d6\u5f53\u524d\u7684get\u5bf9\u8c61\u7684name\u5c5e\u6027\u503c console.log(Object.getOwnPropertyDescriptor(temp1, 'isTrusted').get) console.log(Object.getOwnPropertyDescriptor(temp1, 'isTrusted').get.name) console.log(Object.getOwnPropertyDescriptor(temp1, 'isTrusted').get.length) \u7ed3\u679c\u5bf9\u6bd4 \u6d4f\u89c8\u5668\u4e2d pycharm","title":"(5) \u8865isTrusted"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html","text":"Proxy\u4ee3\u7406 \u4e00\u3001\u6d4f\u89c8\u5668\u548cNode\u73af\u5883\u533a\u522b 1\u3001\u6d4f\u89c8\u5668 \u9875\u9762\u6e32\u67d3\u529f\u80fd \u52a0\u8f7d\u548c\u63a7\u5236\u9875\u9762\u5143\u7d20\u7684\u80fd\u529b ? \u5728js\u4e2d\u7531dom\u5bf9\u8c61\u6765\u5b8c\u6210. \u6e32\u67d3\u5f15\u64ce. -> \u548c\u6211\u4eec\u57fa\u672c\u4e0a\u65e0\u5173 \u6d4f\u89c8\u5668\u672c\u8eab\u7684\u4e00\u4e9b\u4e1c\u897f(\u7a97\u53e3\u5927\u5c0f, \u6d4f\u89c8\u5668\u4fe1\u606f) \u3001BOM\u5bf9\u8c61 \u80fd\u591f\u6267\u884cjs\u7684\u80fd\u529b v8\u5f15\u64ce... \u8d1f\u8d23\u6267\u884cjs\u4ee3\u7801. 2\u3001Node \u5305\u542b\u4e86V8\u5f15\u64ce\u3001\u8fd8\u62e5\u6709\u4e00\u4e9bnode\u505a\u540e\u7aef\u72ec\u6709\u7684\u4e00\u4e9b\u529f\u80fd. node\u91cc\u9762\u662f\u6ca1\u6709\u9875\u9762\u6e32\u67d3\u7684\u90e8\u5206\u7684. documentnode\u91cc\u9762\u4e5f\u6ca1\u6709BOM\u5bf9\u8c61\u7684\u4e1c\u897f. window\u8865\u73af\u5883\u7684\u903b\u8f91: \u81ea\u5df1\u521b\u9020\u7684\u4e00\u4e2a\u5c71\u5be8\u7684\u6d4f\u89c8\u5668... \u5728node\u73af\u5883\u4e2d, \u60f3\u529e\u6cd5\u8865\u5145\u6d4f\u89c8\u5668(document, window)\u7684\u73af\u5883.\u8865\u73af\u5883\u7684\u65f6\u5019, \u8981\u6ce8\u610f, node\u73af\u5883\u4e2d\u72ec\u6709\u7684\u5185\u5bb9.\u8981\u60f3\u529e\u6cd5\u5254\u9664\u6389. \u539f\u578b\u94fe.\u7684\u5904\u7406\u7ee7\u627f\u7684\u65b9\u6848:Object.setPrototypeOf(\u5b50.prototype, \u7236.prototype); \u8865\u73af\u5883\u6700\u7ec8\u7684\u7ed3\u5c40:\u53ef\u4ee5\u76f4\u63a5\u628a\u5b83\u7684js\u4ee3\u7801\u5168\u62a0\u4e0b\u6765. \u76f4\u63a5\u80fd\u8fd0\u884c. \u76f4\u63a5\u51fa\u7ed3\u679c. \u6700\u7406\u60f3\u7684\u72b6\u6001\u662f\u4e00\u884c\u4ee3\u7801\u90fd\u4e0d\u6539 \u4e8c\u3001\u4e86\u89e3Proxy 1\u3001Proxy\u7684\u6982\u5ff5\u548c\u4f5c\u7528 Proxy\u662fES6\u4e2d\u65b0\u589e\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5b83\u53ef\u4ee5\u5728\u67d0\u4e2a\u5bf9\u8c61\u524d\u67b6\u8bbe\u4e00\u4e2a\u201c\u62e6\u622a\u5668\u201d\uff0c\u4ece\u800c\u53ef\u4ee5\u5bf9\u8be5\u5bf9\u8c61\u7684\u8bbf\u95ee\u8fdb\u884c\u62e6\u622a\u548c\u63a7\u5236\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u5bf9\u5bf9\u8c61\u8bbf\u95ee\u7684\u4e00\u4e2a\u4ee3\u7406\uff0c\u901a\u8fc7\u4ee3\u7406\u53ef\u4ee5\u6539\u53d8\u5bf9\u8c61\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 Proxy \u8fd9\u4e2a\u8bcd\u7684\u539f\u610f\u662f\u4ee3\u7406\uff0c\u7528\u5728\u8fd9\u91cc\u8868\u793a\u7531\u5b83\u6765\u201c\u4ee3\u7406\u201d\u67d0\u4e9b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bd1\u4e3a\u201c\u4ee3\u7406\u5668\u201d\u3002 2\u3001Proxy\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u5bf9\u8c61\u7684\u62e6\u622a\u548c\u63a7\u5236\uff1a\u53ef\u4ee5\u5bf9\u5bf9\u8c61\u7684\u5c5e\u6027\u8bbf\u95ee\u3001\u8d4b\u503c\u3001\u51fd\u6570\u8c03\u7528\u7b49\u64cd\u4f5c\u8fdb\u884c\u62e6\u622a\u548c\u63a7\u5236\uff0c\u4ece\u800c\u5b9e\u73b0\u5bf9\u5bf9\u8c61\u884c\u4e3a\u7684\u5b9a\u5236\u3002 \u6570\u636e\u52ab\u6301\uff1a\u53ef\u4ee5\u901a\u8fc7Proxy\u5b9e\u73b0\u6570\u636e\u53cc\u5411\u7ed1\u5b9a\u3001\u6df1\u5ea6\u76d1\u542c\u3001\u8868\u5355\u6821\u9a8c\u7b49\u6570\u636e\u52ab\u6301\u64cd\u4f5c\u3002 \u6743\u9650\u63a7\u5236\uff1a\u53ef\u4ee5\u4f7f\u7528Proxy\u5b9e\u73b0\u5bf9\u8c61\u5c5e\u6027\u7684\u8bbf\u95ee\u6743\u9650\u63a7\u5236\uff0c\u9650\u5236\u4e00\u4e9b\u654f\u611f\u5c5e\u6027\u7684\u8bbf\u95ee\u3002 \u6027\u80fd\u4f18\u5316\uff1a\u53ef\u4ee5\u4f7f\u7528Proxy\u8fdb\u884c\u7f13\u5b58\u3001\u61d2\u52a0\u8f7d\u548c\u5355\u4f8b\u6a21\u5f0f\u7b49\u6027\u80fd\u4f18\u5316\u64cd\u4f5c\u3002 3\u3001Proxy\u548cObject.defineProperty\u7684\u533a\u522b Proxy\u548cObject.defineProperty\u90fd\u53ef\u4ee5\u7528\u4e8e\u62e6\u622a\u548c\u63a7\u5236\u5bf9\u8c61\u7684\u5c5e\u6027\u8bbf\u95ee\uff0c\u4f46\u662f\u5b83\u4eec\u4e4b\u95f4\u6709\u4ee5\u4e0b\u51e0\u4e2a\u533a\u522b\uff1a Proxy\u652f\u6301\u62e6\u622a\u66f4\u591a\u7684\u64cd\u4f5c\uff1aProxy\u53ef\u4ee5\u62e6\u622a\u66f4\u591a\u7684\u5bf9\u8c61\u64cd\u4f5c\uff0c\u5305\u62ec\u5bf9\u8c61\u5c5e\u6027\u7684\u8bfb\u53d6\u548c\u8bbe\u7f6e\u3001\u51fd\u6570\u8c03\u7528\u3001in\u64cd\u4f5c\u7b26\u3001for...in\u5faa\u73af\u7b49\u7b49\uff0c\u800cObject.defineProperty\u53ea\u80fd\u62e6\u622a\u5c5e\u6027\u7684\u8bbf\u95ee\u548c\u8bbe\u7f6e\u3002 Proxy\u662f\u57fa\u4e8e\u5bf9\u8c61\u7684\u62e6\u622a\uff1aProxy\u662f\u57fa\u4e8e\u5bf9\u8c61\u7684\u62e6\u622a\uff0c\u5373\u4e00\u4e2aProxy\u5b9e\u4f8b\u5bf9\u5e94\u4e00\u4e2a\u88ab\u62e6\u622a\u7684\u5bf9\u8c61\uff0c\u901a\u8fc7\u4ee3\u7406\u53ef\u4ee5\u6539\u53d8\u6574\u4e2a\u5bf9\u8c61\u7684\u884c\u4e3a\u3002\u800cObject.defineProperty\u662f\u57fa\u4e8e\u5c5e\u6027\u7684\u62e6\u622a\uff0c\u53ef\u4ee5\u5bf9\u5355\u4e2a\u5c5e\u6027\u8fdb\u884c\u62e6\u622a\u3002 Proxy\u5177\u6709\u522b\u540d\u6548\u5e94\uff1a\u5728\u4e0d\u9700\u8981\u62e6\u622a\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u7684\u522b\u540d\u548c\u5f15\u7528\u6765\u8bbf\u95ee\u5bf9\u8c61\u3002\u800cObject.defineProperty\u4fee\u6539\u5bf9\u8c61\u884c\u4e3a\u4e4b\u540e\uff0c\u4e0d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u7684\u522b\u540d\u548c\u5f15\u7528\u6765\u8bbf\u95ee\u5c5e\u6027\u3002 Proxy\u53ef\u4ee5\u4f7f\u7528Reflect\u5bf9\u8c61\uff1aProxy\u901a\u8fc7Reflect\u5bf9\u8c61\u6765\u6267\u884c\u9ed8\u8ba4\u64cd\u4f5c\uff0c\u800cObject.defineProperty\u5219\u4e0d\u80fd\u3002 4\u3001Proxy\u4f18\u52bf\u548c\u52a3\u52bf Proxy\u4f5c\u4e3aES6\u4e2d\u65b0\u589e\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5177\u6709\u4ee5\u4e0b\u4f18\u52bf\u548c\u52a3\u52bf\uff1a \u4f18\u52bf\uff1a \u66f4\u52a0\u7075\u6d3b\u548c\u5f3a\u5927\uff1aProxy\u6bd4Object.defineProperty\u66f4\u52a0\u7075\u6d3b\u548c\u5f3a\u5927\uff0c\u53ef\u4ee5\u62e6\u622a\u5e76\u63a7\u5236\u66f4\u591a\u7684\u5bf9\u8c61\u64cd\u4f5c\uff0c\u5305\u62ec\u8bfb\u53d6\u548c\u8bbe\u7f6e\u5c5e\u6027\u3001\u51fd\u6570\u8c03\u7528\u7b49\u7b49\u3002 \u53ef\u4ee5\u52a8\u6001\u4fee\u6539\u5bf9\u8c61\u884c\u4e3a\uff1a\u901a\u8fc7\u4fee\u6539Proxy\u7684\u62e6\u622a\u51fd\u6570\uff0c\u53ef\u4ee5\u52a8\u6001\u5730\u6539\u53d8\u5bf9\u8c61\u7684\u884c\u4e3a\uff0c\u800cObject.defineProperty\u4e0d\u80fd\u5b9e\u73b0\u8fd9\u6837\u7684\u529f\u80fd\u3002 \u5bb9\u6613\u6269\u5c55\uff1a\u5f53\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u62e6\u622a\u51fd\u6570\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u65b0\u7684Proxy\u62e6\u622a\u5668\u6765\u5b9e\u73b0\uff0c\u800c\u4e0d\u9700\u8981\u5bf9\u4ee3\u7801\u8fdb\u884c\u5927\u89c4\u6a21\u7684\u4fee\u6539\uff0c\u5f00\u53d1\u8d77\u6765\u66f4\u52a0\u5bb9\u6613\u3002 \u52a3\u52bf\uff1a \u517c\u5bb9\u6027\u4e0d\u8db3\uff1a\u867d\u7136\u73b0\u5728\u5f88\u591a\u4e3b\u6d41\u6d4f\u89c8\u5668\u90fd\u652f\u6301Proxy\uff0c\u4f46\u662f\u4e00\u4e9b\u65e7\u7248\u7684\u6d4f\u89c8\u5668\u8fd8\u4e0d\u652f\u6301\uff0c\u56e0\u6b64\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\u8fd8\u9700\u8981\u8003\u8651\u517c\u5bb9\u6027\u7684\u95ee\u9898\u3002 \u6027\u80fd\u95ee\u9898\uff1a\u76f8\u6bd4Object.defineProperty\u7b49\u539f\u751fAPI\uff0c\u4f7f\u7528Proxy\u4f1a\u5e26\u6765\u4e00\u4e9b\u989d\u5916\u7684\u6027\u80fd\u5f00\u9500\uff0c\u5c24\u5176\u662f\u5728\u9012\u5f52\u62e6\u622a\u3001\u5927\u91cf\u62e6\u622a\u64cd\u4f5c\u7b49\u590d\u6742\u573a\u666f\u4e0b\uff0c\u4f1a\u5bf9\u7a0b\u5e8f\u7684\u6027\u80fd\u9020\u6210\u4e00\u5b9a\u5f71\u54cd\u3002\u4f46\u662f\u5728\u5927\u591a\u6570\u573a\u666f\u4e0b\uff0cProxy\u7684\u6027\u80fd\u95ee\u9898\u53ef\u4ee5\u88ab\u5ffd\u7565\u4e0d\u8ba1\u3002 \u4e09\u3001 \u57fa\u672c\u8bed\u6cd5\u4e0eAPI Proxy\u7684\u57fa\u672c\u8bed\u6cd5\u548cAPI\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a 1\u3001\u57fa\u672c\u8bed\u6cd5\uff1a let target = {}; // \u88ab\u62e6\u622a\u7684\u5bf9\u8c61 let handler = {}; // \u5bf9\u8c61\u7684\u62e6\u622a\u5668 let proxy = new Proxy(target, handler); // \u521b\u5efaProxy\u5b9e\u4f8b \u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u521b\u5efaProxy\u5b9e\u4f8b\u6765\u62e6\u622atarget\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002handler\u662f\u4e00\u4e2a\u62e6\u622a\u5668\u5bf9\u8c61\uff0c\u4ee3\u8868\u5bf9target\u5bf9\u8c61\u8fdb\u884c\u62e6\u622a\u548c\u5904\u7406\u3002Proxy\u62e6\u622a\u5668\u9700\u8981\u5b9e\u73b0get\u3001set\u3001apply\u7b49\u65b9\u6cd5\u3002 2\u3001Proxy\u7684\u57fa\u672c\u4f7f\u7528 \u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61 const obj = { name:'lucky', age:18 } \u518d\u521b\u5efaProxy\u4ee3\u7406\u5bf9\u8c61 const objProxy = new Proxy(obj,{}) \u53c2\u6570\u4e00\uff1a\u9700\u8981\u4ee3\u7406\u7684\u5bf9\u8c61 \u53c2\u6570\u4e8c\uff1a\u6355\u83b7\u5668\uff0c\u5bf9\u4ee3\u7406\u5bf9\u8c61\u7684\u5c5e\u6027\u8fdb\u884c\u8bbf\u95ee\u3001\u8d4b\u503c\u7b49\u64cd\u4f5c\u7684\u65f6\u5019\u89e6\u53d1\uff0c\u4e0eObject.defineproperty\u7684\u5b58\u53d6\u63cf\u8ff0\u7b26\u7c7b\u4f3c\u3002\u5982\u679c\u4e3a\u7a7a\u5bf9\u8c61\uff0c\u5c31\u53ea\u6709set\u3001get\u8fd9\u4e24\u4e2a\u9ed8\u8ba4\u6355\u83b7\u5668\uff0c\u5e76\u4e14\u4e0d\u4f1a\u6709\u8fc7\u591a\u7684\u64cd\u4f5c\uff0cget\u6355\u83b7\u5668\u5c31\u76f4\u63a5\u8fd4\u56de\u8bbf\u95ee\u5c5e\u6027\u7684\u503c\uff0cset\u6355\u83b7\u5668\u5c31\u5c06\u65b0\u7684\u503c\u8d4b\u503c\u7ed9\u8bbf\u95ee\u5c5e\u6027\u3002 console.log(objProxy.name) //'lucky' console.log(objProxy.age) //18 objProxy.name = '\u8fea\u4e3d\u70ed\u5df4' objProxy.age = 20 //\u5bf9\u4ee3\u7406\u5bf9\u8c61\u64cd\u4f5c\u540e\uff0c\u4ee3\u7406\u5bf9\u8c61\u5c31\u4f1a\u5bf9\u539f\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c console.log(obj.name) //'\u8fea\u4e3d\u70ed\u5df4' console.log(obj.age) //20 \u6ce8\u610f\uff1aProxy\u53ea\u80fd\u4ee3\u7406\u5bf9\u8c61\uff08Object\u3001Function\u3001Array\uff09\uff0c\u975e\u5bf9\u8c61\u503c\u65e0\u6cd5\u8fdb\u884c\u4ee3\u7406\u3002 3\u3001Proxy\u768413\u79cd\u6355\u83b7\u5668\uff1a handler.get()\uff1a\u5c5e\u6027\u8bfb\u53d6\u64cd\u4f5c\u7684\u6355\u6349\u5668\u3002 handler.set()\uff1a\u5c5e\u6027\u8bbe\u7f6e\u64cd\u4f5c\u7684\u6355\u6349\u5668\u3002 handler.has()\uff1ain \u64cd\u4f5c\u7b26\u7684\u6355\u6349\u5668\u3002 handler.deleteProperty()\uff1adelete \u64cd\u4f5c\u7b26\u7684\u6355\u6349\u5668\u3002 handler.getPrototypeOf()\uff1aObject.getPrototypeOf \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.setPrototypeOf()\uff1aObject.setPrototypeOf \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.isExtensible()\uff1aObject.isExtensible \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.preventExtensions()\uff1aObject.preventExtensions \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.getOwnPropertyDescriptor()\uff1aObject.getOwnPropertyDescriptor \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.defineProperty()\uff1aObject.defineProperty \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.ownKeys()\uff1aObject.getOwnPropertyNames \u65b9\u6cd5\u548cObject.getOwnPropertySymbols \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.apply()\uff1a\u51fd\u6570\u8c03\u7528\u64cd\u4f5c\u7684\u6355\u6349\u5668\u3002\uff08\u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u91cc\u5c31\u5bf9\u51fd\u6570\u8c03\u7528\u65f6\u8fdb\u884c\u76d1\u542c handler.construct()\uff1anew \u64cd\u4f5c\u7b26\u7684\u6355\u6349\u5668\u3002\uff08\u51fd\u6570\u6267\u884cnew\u64cd\u4f5c\u7b26\u7684\u65f6\u5019\u8fdb\u884c\u76d1\u542c\uff09 \u603b\u7ed3\uff1a \u5bf9\u4e8e\u6211\u4eec\u9006\u5411\u6765\u8bf4\u6700\u91cd\u8981\u7684\u5c31\u662fget\uff0c\u4e0eset\uff0c\u5f53\u9006\u5411\u7684\u65f6\u5019\u4ee3\u7801\u4e2d\u901a\u8fc7\u4f1a\u6709\u6216\u8005\u548c\u8bbe\u7f6e\u7684\u64cd\u4f5c\uff0c\u5982\u679c\u6211\u4eec\u5f53\u524dnode\u73af\u5883\u4e2d\u4e0d\u5b58\u5728\uff0c\u800c\u8c03\u7528\u7684\u4f4d\u7f6e\u53c8\u5b58\u5728\u5f02\u5e38\u5904\u7406\uff0c\u90a3\u4e48\u6700\u7ec8\u4f1a\u5bfc\u81f4\u7ed3\u679c\u4e0d\u6b63\u786e\u4ece\u800c\u5bfc\u81f4\u9006\u5411\u5931\u8d25 \u4f7f\u7528Proxy\u521b\u5efa\u7684\u4ee3\u7406\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u7684\u597d\u5904\u662f\uff0c\u53ef\u4ee5\u4e0d\u7528\u76f4\u63a5\u901a\u8fc7Object.defineproperty\u53bb\u64cd\u4f5c\u539f\u5bf9\u8c61\uff0c\u901a\u8fc7Object.defineproperty\u76f4\u63a5\u64cd\u4f5c\u539f\u5bf9\u8c61\u5c31\u4f1a\u5c06\u5bf9\u8c61\u539f\u672c\u7684\u6570\u636e\u5c5e\u6027\u63cf\u8ff0\u7b26\u53d8\u6210\u4e86\u8bbf\u95ee\u5c5e\u6027\u63cf\u8ff0\u7b26 Object.defineproperty(\u6211\u4eec\u5728hook\u90a3\u91cc\u4f7f\u7528\u8fc7) 4\u3001\u5e38\u7528API (1) get\uff1a\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8bfb\u53d6\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { get(target, property, receiver) { console.log(`getting ${property}`); return target[property]; } }; let proxy = new Proxy(target, handler); console.log(proxy.a); // \u8f93\u51fagetting a \u548c 1 (2) set\uff1a\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8d4b\u503c\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { set(target, property, value, receiver) { console.log(`setting ${property} = ${value}`); target[property] = value; return true; } }; let proxy = new Proxy(target, handler); proxy.a = 2; // \u8f93\u51fasetting a = 2 (3) apply\uff1a\u62e6\u622a\u51fd\u6570\u7684\u8c03\u7528\u64cd\u4f5c\u3002 let target = function (a, b) { return a + b; } let handler = { apply(target, thisArg, args) { console.log(`calling ${target.name}`); return target(...args); } }; let proxy = new Proxy(target, handler); console.log(proxy(1, 2)); // \u8f93\u51facalling proxy \u548c 3 (4) has\uff1a\u62e6\u622ain\u64cd\u4f5c\u7b26\u7684\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { has(target, property) { console.log(`checking ${property} in target`); return property in target; } }; let proxy = new Proxy(target, handler); console.log('a' in proxy); // \u8f93\u51fachecking a in target \u548c true (5) ownKeys\uff1a\u62e6\u622aObject.getOwnPropertyNames\u548cObject.getOwnPropertySymbols\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { ownKeys(target) { console.log(`getting ownKeys`); return ['b', ...Object.getOwnPropertyNames(target)]; } }; let proxy = new Proxy(target, handler); console.log(Object.keys(proxy)); // \u8f93\u51fagetting ownKeys \u548c ['b', 'a'] (6) Reflect\uff1aReflect\u5bf9\u8c61\u63d0\u4f9b\u4e86Proxy\u5185\u7f6e\u62e6\u622a\u51fd\u6570\u7684\u57fa\u7840\u5b9e\u73b0\uff0c\u53ef\u4ee5\u901a\u8fc7Reflect\u5bf9\u8c61\u6267\u884c\u9ed8\u8ba4\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { ownKeys(target) { console.log(`getting ownKeys`); return ['b', ...Object.getOwnPropertyNames(target)]; // return ['b', ...Reflect.ownKeys(target)]; } }; let proxy = new Proxy(target, handler); console.log(Object.keys(proxy)); // \u8f93\u51fagetting ownKeys \u548c ['b', 'a'] 5\u3001Proxy\u6355\u83b7\u5668\u7684\u4f7f\u7528-\u7ec4\u5408 Proxy\u6355\u83b7\u5668\u7528\u6765\u5bf9\u4ee3\u7406\u5bf9\u8c61\u5c5e\u6027\u8fdb\u884c\u8bbf\u95ee\u3001\u8d4b\u503c\u7b49\u64cd\u4f5c\u65f6\u7684\u4e00\u4e2a\u6355\u83b7\u3002\u4e0eObject.defineproperty\u7684\u5b58\u53d6\u63cf\u8ff0\u7b26\u7c7b\u4f3c\u3002\u4e0b\u9762\u6211\u4eec\u5c31\u8ba4\u8bc6\u4e00\u4e0b\u5e38\u7528\u7684\u56db\u4e2a\u6355\u83b7\u5668\u7684\u57fa\u672c\u4f7f\u7528\u3002 JavaScript\u4ee3\u7801\uff1a const objProxy = new Proxy(obj,{ //get\u64cd\u4f5c\u7b26 get:function(target,key){ console.log(`\u76d1\u542c\u5230\u8bbf\u95ee${key}\u5c5e\u6027`,target) return target[key] //\u8fd4\u56de\u8bbf\u95ee\u5c5e\u6027\u7684\u503c }, //set\u64cd\u4f5c\u7b26 set:function(target,key,newValue){ console.log(`\u76d1\u542c\u5230\u7ed9${key}\u5c5e\u6027\u8bbe\u7f6e\u503c`,target) tarset[key] = newValue //\u5c06\u5c5e\u6027\u6700\u65b0\u503c\uff0c\u8d4b\u503c\u7ed9\u4ee3\u7406\u5bf9\u8c61\u5c5e\u6027 }, //has\u64cd\u4f5c\u7b26 has:function(target,key){ console.log(`\u76d1\u542c\u5230\u4f7f\u7528in\u64cd\u4f5c\u7b26${key}`,target) return key in target }, //delete\u64cd\u4f5c\u7b26 deleteProperty:function(){ console.log(`\u76d1\u542c\u5230\u4f7f\u7528delete\u64cd\u4f5c\u7b26${key}`,target) delete target[key] } }) console.log(objProxy.name) console.log(objProxy.age) objProxy.name = 'wx' objProxy.age = 20 //in\u64cd\u4f5c\u7b26 console.log('name' in objProxy) //true //delete\u64cd\u4f5c\u7b26 delete objProxy.name \u56db\u3001Reflect 1\u3001Reflect\u7684\u8ba4\u8bc6 Reflect\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b57\u9762\u610f\u601d\u662f\"\u53cd\u5c04\"\u3002 2\u3001Reflect\u6709\u4ec0\u4e48\u7528\u5450\uff1f \u5b83\u4e3b\u8981\u63d0\u4f9b\u4e86\u5f88\u591a\u64cd\u4f5cJavaScript\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u6709\u70b9\u50cfObject\u4e2d\u64cd\u4f5c\u5bf9\u8c61\u7684\u65b9\u6cd5\uff1b \u6bd4\u5982Reflect.getPrototypeOf(target)\u7c7b\u4f3c\u4e8e Object.getPrototypeOf()\uff1b \u5982\u679c\u6211\u4eec\u6709Object\u53ef\u4ee5\u505a\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u90a3\u4e48\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u6709Reflect\u8fd9\u6837\u7684\u65b0\u589e\u5bf9\u8c61\u5462\uff1f \u8fd9\u662f\u56e0\u4e3a\u5728\u65e9\u671f\u7684ECMA\u89c4\u8303\u4e2d\u6ca1\u6709\u8003\u8651\u5230\u8fd9\u79cd\u5bf9 \u5bf9\u8c61\u672c\u8eab \u7684\u64cd\u4f5c\u5982\u4f55\u8bbe\u8ba1\u4f1a\u66f4\u52a0\u89c4\u8303\uff0c\u6240\u4ee5\u5c06\u8fd9\u4e9bAPI\u653e\u5230\u4e86Object\u4e0a\u9762\uff1b\u4f46\u662fObject\u4f5c\u4e3a\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u5b9e\u9645\u4e0a\u653e\u5230\u5b83\u8eab\u4e0a\u5e76\u4e0d\u5408\u9002\uff1b\u53e6\u5916\u8fd8\u5305\u542b\u4e00\u4e9b\u7c7b\u4f3c\u4e8e in\u3001delete\u64cd\u4f5c\u7b26\uff0c\u8ba9JS\u770b\u8d77\u6765\u662f\u4f1a\u6709\u4e00\u4e9b\u5947\u602a\u7684\uff1b\u6240\u4ee5\u5728ES6\u4e2d\u65b0\u589e\u4e86Reflect\uff0c\u8ba9\u6211\u4eec\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u96c6\u4e2d\u5230\u4e86Reflect\u5bf9\u8c61\u4e0a\u3002 3\u3001 Reflect\u57fa\u672c\u4f7f\u7528 \u6211\u4eec\u5bf9\u4e0a\u9762\u7684\u4ee3\u7801\u505a\u4e00\u4e0b\u4fee\u6539\uff0c\u4f7f\u7528Reflect\u4ee3\u66ff\u4e00\u4e0b const objProxy = new Proxy(obj,{ get:function(target,key){ console.log(`\u76d1\u542c\u5230\u8bbf\u95ee${key}\u5c5e\u6027`,target) return Reflect.get(target,key) //\u6539\u4e3aReflect.get }, set:function(target,key,newValue){ console.log(`\u76d1\u542c\u5230\u7ed9${key}\u5c5e\u6027\u8bbe\u7f6e\u503c`,target) Reflect.set(target,key,newValue) //\u6539\u4e3aReflect.set } }) console.log(objProxy.name) objProxy.name = 'wx' \u793a\u4f8b const istrue = Reflect.set(target,key,newValue) const result = istrue?'\u8bbe\u7f6e\u6210\u529f':\"\u8bbe\u7f6e\u5931\u8d25\" \u4e94\u3001\u9006\u5411\u5b8c\u6574\u4f7f\u7528 \u4ee3\u7801 function myProxy(obj,name){ return new Proxy(obj,{ get(target, propKey, receiver){ //\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8bfb\u53d6\uff0c\u6bd4\u5982proxy.foo\u548cproxy['foo']\u3002 let temp = Reflect.get(target,propKey,receiver); console.log(`${name} -> get ${propKey.toString()} return -> ${temp}`); if(typeof temp == 'object') { temp = myProxy(temp,name + \" => \" + propKey) } return temp; }, set(target, propKey, value, receiver){ //\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8bbe\u7f6e\uff0c\u6bd4\u5982proxy.foo = v\u6216proxy['foo'] = v\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.set(target,propKey,value,receiver); console.log(`${name} -> set ${propKey} value -> ${value}`); return temp; }, has(target, propKey){ //\u62e6\u622apropKey in proxy\u7684\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.has(target,propKey); console.log(`${name} -> has ${propKey}`); return temp; }, deleteProperty(target, propKey){ //\u62e6\u622adelete proxy[propKey]\u7684\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.deleteProperty(target,propKey); return temp; }, ownKeys(target){ //\u62e6\u622aObject.getOwnPropertyNames(proxy)\u3001Object.getOwnPropertySymbols(proxy)\u3001Object.keys(proxy)\u3001for...in\u5faa\u73af\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u76ee\u6807\u5bf9\u8c61\u6240\u6709\u81ea\u8eab\u7684\u5c5e\u6027\u7684\u5c5e\u6027\u540d\uff0c\u800cObject.keys()\u7684\u8fd4\u56de\u7ed3\u679c\u4ec5\u5305\u62ec\u76ee\u6807\u5bf9\u8c61\u81ea\u8eab\u7684\u53ef\u904d\u5386\u5c5e\u6027\u3002 const temp = Reflect.ownKeys(target); return temp; }, getOwnPropertyDescriptor(target, propKey){ //\u62e6\u622aObject.getOwnPropertyDescriptor(proxy, propKey)\uff0c\u8fd4\u56de\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u3002 const temp = Reflect.getOwnPropertyDescriptor(target,propKey); return temp; }, defineProperty(target, propKey, propDesc){ //\u62e6\u622aObject.defineProperty(proxy, propKey, propDesc\uff09\u3001Object.defineProperties(proxy, propDescs)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.defineProperty(target,propKey,propDesc); return temp; }, preventExtensions(target){ //\u62e6\u622aObject.preventExtensions(proxy)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.preventExtensions(target); return temp; }, getPrototypeOf(target){ //\u62e6\u622aObject.getPrototypeOf(proxy)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u3002 const temp = Reflect.getPrototypeOf(target); return temp; }, isExtensible(target){ //\u62e6\u622aObject.isExtensible(proxy)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.isExtensible(target); return temp; }, setPrototypeOf(target, proto){ //\u62e6\u622aObject.setPrototypeOf(proxy, proto)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u76ee\u6807\u5bf9\u8c61\u662f\u51fd\u6570\uff0c\u90a3\u4e48\u8fd8\u6709\u4e24\u79cd\u989d\u5916\u64cd\u4f5c\u53ef\u4ee5\u62e6\u622a\u3002 const temp = Reflect.setPrototypeOf(target,proto); return temp; }, apply(target, object, args){ //\u62e6\u622a Proxy \u5b9e\u4f8b\u4f5c\u4e3a\u51fd\u6570\u8c03\u7528\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982proxy(...args)\u3001proxy.call(object, ...args)\u3001proxy.apply(...)\u3002 const temp = Reflect.apply(target, object, args); return temp; }, construct(target, args){ //\u62e6\u622a Proxy \u5b9e\u4f8b\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u8c03\u7528\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982new proxy(...args)\u3002 const temp = Reflect.construct(target, args); return temp; } }) } window = new myProxy(global,\"window\"); //\u4ee3\u7406\u5668\u4ee3\u7406\u4e4b\u540e\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61 this == global; //global\u5c31\u662f\u5168\u5c40\u4e0a\u4e0b\u6587\u4ee3\u7406\u5bf9\u8c61\uff1b this != window; // this \u662fglobal \u4f46\u662f window\u662f\u4ee3\u7406\u5668\uff0c\u6240\u4ee5\u8fd9\u91cc\u662f !=; let myWindow = this; let abc = { ac: function(){ this == abc // \u5728\u5bf9\u8c61\u4e2d\uff0c\u8c03\u7528\u51fd\u6570\u65b9\u6cd5\uff0c\u8fdb\u5165\u51fd\u6570\u5c40\u90e8\u4f5c\u7528\u57df\u540e\uff0cthis\u6307\u5411\u7236\u5bf9\u8c61\uff08abc\uff09 } } const window = myProxy(globalThis,\"window\"); \u4ee3\u7406\u5668\u5931\u6548\u539f\u56e0 1.\u6ca1\u6709\u8bbf\u95ee\u5c5e\u6027\u64cd\u4f5c 2.\u6ca1\u6709\u4f7f\u7528\u4ee3\u7406\u5bf9\u8c61","title":"Proxy\u4ee3\u7406"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#proxy","text":"","title":"Proxy\u4ee3\u7406"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#node","text":"","title":"\u4e00\u3001\u6d4f\u89c8\u5668\u548cNode\u73af\u5883\u533a\u522b"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#1","text":"\u9875\u9762\u6e32\u67d3\u529f\u80fd \u52a0\u8f7d\u548c\u63a7\u5236\u9875\u9762\u5143\u7d20\u7684\u80fd\u529b ? \u5728js\u4e2d\u7531dom\u5bf9\u8c61\u6765\u5b8c\u6210. \u6e32\u67d3\u5f15\u64ce. -> \u548c\u6211\u4eec\u57fa\u672c\u4e0a\u65e0\u5173 \u6d4f\u89c8\u5668\u672c\u8eab\u7684\u4e00\u4e9b\u4e1c\u897f(\u7a97\u53e3\u5927\u5c0f, \u6d4f\u89c8\u5668\u4fe1\u606f) \u3001BOM\u5bf9\u8c61 \u80fd\u591f\u6267\u884cjs\u7684\u80fd\u529b v8\u5f15\u64ce... \u8d1f\u8d23\u6267\u884cjs\u4ee3\u7801.","title":"1\u3001\u6d4f\u89c8\u5668"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#2node","text":"\u5305\u542b\u4e86V8\u5f15\u64ce\u3001\u8fd8\u62e5\u6709\u4e00\u4e9bnode\u505a\u540e\u7aef\u72ec\u6709\u7684\u4e00\u4e9b\u529f\u80fd. node\u91cc\u9762\u662f\u6ca1\u6709\u9875\u9762\u6e32\u67d3\u7684\u90e8\u5206\u7684. documentnode\u91cc\u9762\u4e5f\u6ca1\u6709BOM\u5bf9\u8c61\u7684\u4e1c\u897f. window\u8865\u73af\u5883\u7684\u903b\u8f91: \u81ea\u5df1\u521b\u9020\u7684\u4e00\u4e2a\u5c71\u5be8\u7684\u6d4f\u89c8\u5668... \u5728node\u73af\u5883\u4e2d, \u60f3\u529e\u6cd5\u8865\u5145\u6d4f\u89c8\u5668(document, window)\u7684\u73af\u5883.\u8865\u73af\u5883\u7684\u65f6\u5019, \u8981\u6ce8\u610f, node\u73af\u5883\u4e2d\u72ec\u6709\u7684\u5185\u5bb9.\u8981\u60f3\u529e\u6cd5\u5254\u9664\u6389. \u539f\u578b\u94fe.\u7684\u5904\u7406\u7ee7\u627f\u7684\u65b9\u6848:Object.setPrototypeOf(\u5b50.prototype, \u7236.prototype); \u8865\u73af\u5883\u6700\u7ec8\u7684\u7ed3\u5c40:\u53ef\u4ee5\u76f4\u63a5\u628a\u5b83\u7684js\u4ee3\u7801\u5168\u62a0\u4e0b\u6765. \u76f4\u63a5\u80fd\u8fd0\u884c. \u76f4\u63a5\u51fa\u7ed3\u679c. \u6700\u7406\u60f3\u7684\u72b6\u6001\u662f\u4e00\u884c\u4ee3\u7801\u90fd\u4e0d\u6539","title":"2\u3001Node"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#proxy_1","text":"","title":"\u4e8c\u3001\u4e86\u89e3Proxy"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#1proxy","text":"Proxy\u662fES6\u4e2d\u65b0\u589e\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5b83\u53ef\u4ee5\u5728\u67d0\u4e2a\u5bf9\u8c61\u524d\u67b6\u8bbe\u4e00\u4e2a\u201c\u62e6\u622a\u5668\u201d\uff0c\u4ece\u800c\u53ef\u4ee5\u5bf9\u8be5\u5bf9\u8c61\u7684\u8bbf\u95ee\u8fdb\u884c\u62e6\u622a\u548c\u63a7\u5236\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u5bf9\u5bf9\u8c61\u8bbf\u95ee\u7684\u4e00\u4e2a\u4ee3\u7406\uff0c\u901a\u8fc7\u4ee3\u7406\u53ef\u4ee5\u6539\u53d8\u5bf9\u8c61\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 Proxy \u8fd9\u4e2a\u8bcd\u7684\u539f\u610f\u662f\u4ee3\u7406\uff0c\u7528\u5728\u8fd9\u91cc\u8868\u793a\u7531\u5b83\u6765\u201c\u4ee3\u7406\u201d\u67d0\u4e9b\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8bd1\u4e3a\u201c\u4ee3\u7406\u5668\u201d\u3002","title":"1\u3001Proxy\u7684\u6982\u5ff5\u548c\u4f5c\u7528"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#2proxy","text":"\u5bf9\u8c61\u7684\u62e6\u622a\u548c\u63a7\u5236\uff1a\u53ef\u4ee5\u5bf9\u5bf9\u8c61\u7684\u5c5e\u6027\u8bbf\u95ee\u3001\u8d4b\u503c\u3001\u51fd\u6570\u8c03\u7528\u7b49\u64cd\u4f5c\u8fdb\u884c\u62e6\u622a\u548c\u63a7\u5236\uff0c\u4ece\u800c\u5b9e\u73b0\u5bf9\u5bf9\u8c61\u884c\u4e3a\u7684\u5b9a\u5236\u3002 \u6570\u636e\u52ab\u6301\uff1a\u53ef\u4ee5\u901a\u8fc7Proxy\u5b9e\u73b0\u6570\u636e\u53cc\u5411\u7ed1\u5b9a\u3001\u6df1\u5ea6\u76d1\u542c\u3001\u8868\u5355\u6821\u9a8c\u7b49\u6570\u636e\u52ab\u6301\u64cd\u4f5c\u3002 \u6743\u9650\u63a7\u5236\uff1a\u53ef\u4ee5\u4f7f\u7528Proxy\u5b9e\u73b0\u5bf9\u8c61\u5c5e\u6027\u7684\u8bbf\u95ee\u6743\u9650\u63a7\u5236\uff0c\u9650\u5236\u4e00\u4e9b\u654f\u611f\u5c5e\u6027\u7684\u8bbf\u95ee\u3002 \u6027\u80fd\u4f18\u5316\uff1a\u53ef\u4ee5\u4f7f\u7528Proxy\u8fdb\u884c\u7f13\u5b58\u3001\u61d2\u52a0\u8f7d\u548c\u5355\u4f8b\u6a21\u5f0f\u7b49\u6027\u80fd\u4f18\u5316\u64cd\u4f5c\u3002","title":"2\u3001Proxy\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#3proxyobjectdefineproperty","text":"Proxy\u548cObject.defineProperty\u90fd\u53ef\u4ee5\u7528\u4e8e\u62e6\u622a\u548c\u63a7\u5236\u5bf9\u8c61\u7684\u5c5e\u6027\u8bbf\u95ee\uff0c\u4f46\u662f\u5b83\u4eec\u4e4b\u95f4\u6709\u4ee5\u4e0b\u51e0\u4e2a\u533a\u522b\uff1a Proxy\u652f\u6301\u62e6\u622a\u66f4\u591a\u7684\u64cd\u4f5c\uff1aProxy\u53ef\u4ee5\u62e6\u622a\u66f4\u591a\u7684\u5bf9\u8c61\u64cd\u4f5c\uff0c\u5305\u62ec\u5bf9\u8c61\u5c5e\u6027\u7684\u8bfb\u53d6\u548c\u8bbe\u7f6e\u3001\u51fd\u6570\u8c03\u7528\u3001in\u64cd\u4f5c\u7b26\u3001for...in\u5faa\u73af\u7b49\u7b49\uff0c\u800cObject.defineProperty\u53ea\u80fd\u62e6\u622a\u5c5e\u6027\u7684\u8bbf\u95ee\u548c\u8bbe\u7f6e\u3002 Proxy\u662f\u57fa\u4e8e\u5bf9\u8c61\u7684\u62e6\u622a\uff1aProxy\u662f\u57fa\u4e8e\u5bf9\u8c61\u7684\u62e6\u622a\uff0c\u5373\u4e00\u4e2aProxy\u5b9e\u4f8b\u5bf9\u5e94\u4e00\u4e2a\u88ab\u62e6\u622a\u7684\u5bf9\u8c61\uff0c\u901a\u8fc7\u4ee3\u7406\u53ef\u4ee5\u6539\u53d8\u6574\u4e2a\u5bf9\u8c61\u7684\u884c\u4e3a\u3002\u800cObject.defineProperty\u662f\u57fa\u4e8e\u5c5e\u6027\u7684\u62e6\u622a\uff0c\u53ef\u4ee5\u5bf9\u5355\u4e2a\u5c5e\u6027\u8fdb\u884c\u62e6\u622a\u3002 Proxy\u5177\u6709\u522b\u540d\u6548\u5e94\uff1a\u5728\u4e0d\u9700\u8981\u62e6\u622a\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u7684\u522b\u540d\u548c\u5f15\u7528\u6765\u8bbf\u95ee\u5bf9\u8c61\u3002\u800cObject.defineProperty\u4fee\u6539\u5bf9\u8c61\u884c\u4e3a\u4e4b\u540e\uff0c\u4e0d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u7684\u522b\u540d\u548c\u5f15\u7528\u6765\u8bbf\u95ee\u5c5e\u6027\u3002 Proxy\u53ef\u4ee5\u4f7f\u7528Reflect\u5bf9\u8c61\uff1aProxy\u901a\u8fc7Reflect\u5bf9\u8c61\u6765\u6267\u884c\u9ed8\u8ba4\u64cd\u4f5c\uff0c\u800cObject.defineProperty\u5219\u4e0d\u80fd\u3002","title":"3\u3001Proxy\u548cObject.defineProperty\u7684\u533a\u522b"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#4proxy","text":"Proxy\u4f5c\u4e3aES6\u4e2d\u65b0\u589e\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5177\u6709\u4ee5\u4e0b\u4f18\u52bf\u548c\u52a3\u52bf\uff1a \u4f18\u52bf\uff1a \u66f4\u52a0\u7075\u6d3b\u548c\u5f3a\u5927\uff1aProxy\u6bd4Object.defineProperty\u66f4\u52a0\u7075\u6d3b\u548c\u5f3a\u5927\uff0c\u53ef\u4ee5\u62e6\u622a\u5e76\u63a7\u5236\u66f4\u591a\u7684\u5bf9\u8c61\u64cd\u4f5c\uff0c\u5305\u62ec\u8bfb\u53d6\u548c\u8bbe\u7f6e\u5c5e\u6027\u3001\u51fd\u6570\u8c03\u7528\u7b49\u7b49\u3002 \u53ef\u4ee5\u52a8\u6001\u4fee\u6539\u5bf9\u8c61\u884c\u4e3a\uff1a\u901a\u8fc7\u4fee\u6539Proxy\u7684\u62e6\u622a\u51fd\u6570\uff0c\u53ef\u4ee5\u52a8\u6001\u5730\u6539\u53d8\u5bf9\u8c61\u7684\u884c\u4e3a\uff0c\u800cObject.defineProperty\u4e0d\u80fd\u5b9e\u73b0\u8fd9\u6837\u7684\u529f\u80fd\u3002 \u5bb9\u6613\u6269\u5c55\uff1a\u5f53\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u62e6\u622a\u51fd\u6570\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u65b0\u7684Proxy\u62e6\u622a\u5668\u6765\u5b9e\u73b0\uff0c\u800c\u4e0d\u9700\u8981\u5bf9\u4ee3\u7801\u8fdb\u884c\u5927\u89c4\u6a21\u7684\u4fee\u6539\uff0c\u5f00\u53d1\u8d77\u6765\u66f4\u52a0\u5bb9\u6613\u3002 \u52a3\u52bf\uff1a \u517c\u5bb9\u6027\u4e0d\u8db3\uff1a\u867d\u7136\u73b0\u5728\u5f88\u591a\u4e3b\u6d41\u6d4f\u89c8\u5668\u90fd\u652f\u6301Proxy\uff0c\u4f46\u662f\u4e00\u4e9b\u65e7\u7248\u7684\u6d4f\u89c8\u5668\u8fd8\u4e0d\u652f\u6301\uff0c\u56e0\u6b64\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\u8fd8\u9700\u8981\u8003\u8651\u517c\u5bb9\u6027\u7684\u95ee\u9898\u3002 \u6027\u80fd\u95ee\u9898\uff1a\u76f8\u6bd4Object.defineProperty\u7b49\u539f\u751fAPI\uff0c\u4f7f\u7528Proxy\u4f1a\u5e26\u6765\u4e00\u4e9b\u989d\u5916\u7684\u6027\u80fd\u5f00\u9500\uff0c\u5c24\u5176\u662f\u5728\u9012\u5f52\u62e6\u622a\u3001\u5927\u91cf\u62e6\u622a\u64cd\u4f5c\u7b49\u590d\u6742\u573a\u666f\u4e0b\uff0c\u4f1a\u5bf9\u7a0b\u5e8f\u7684\u6027\u80fd\u9020\u6210\u4e00\u5b9a\u5f71\u54cd\u3002\u4f46\u662f\u5728\u5927\u591a\u6570\u573a\u666f\u4e0b\uff0cProxy\u7684\u6027\u80fd\u95ee\u9898\u53ef\u4ee5\u88ab\u5ffd\u7565\u4e0d\u8ba1\u3002","title":"4\u3001Proxy\u4f18\u52bf\u548c\u52a3\u52bf"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#api","text":"Proxy\u7684\u57fa\u672c\u8bed\u6cd5\u548cAPI\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a","title":"\u4e09\u3001 \u57fa\u672c\u8bed\u6cd5\u4e0eAPI"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#1_1","text":"let target = {}; // \u88ab\u62e6\u622a\u7684\u5bf9\u8c61 let handler = {}; // \u5bf9\u8c61\u7684\u62e6\u622a\u5668 let proxy = new Proxy(target, handler); // \u521b\u5efaProxy\u5b9e\u4f8b \u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u521b\u5efaProxy\u5b9e\u4f8b\u6765\u62e6\u622atarget\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002handler\u662f\u4e00\u4e2a\u62e6\u622a\u5668\u5bf9\u8c61\uff0c\u4ee3\u8868\u5bf9target\u5bf9\u8c61\u8fdb\u884c\u62e6\u622a\u548c\u5904\u7406\u3002Proxy\u62e6\u622a\u5668\u9700\u8981\u5b9e\u73b0get\u3001set\u3001apply\u7b49\u65b9\u6cd5\u3002","title":"1\u3001\u57fa\u672c\u8bed\u6cd5\uff1a"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#2proxy_1","text":"\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61 const obj = { name:'lucky', age:18 } \u518d\u521b\u5efaProxy\u4ee3\u7406\u5bf9\u8c61 const objProxy = new Proxy(obj,{}) \u53c2\u6570\u4e00\uff1a\u9700\u8981\u4ee3\u7406\u7684\u5bf9\u8c61 \u53c2\u6570\u4e8c\uff1a\u6355\u83b7\u5668\uff0c\u5bf9\u4ee3\u7406\u5bf9\u8c61\u7684\u5c5e\u6027\u8fdb\u884c\u8bbf\u95ee\u3001\u8d4b\u503c\u7b49\u64cd\u4f5c\u7684\u65f6\u5019\u89e6\u53d1\uff0c\u4e0eObject.defineproperty\u7684\u5b58\u53d6\u63cf\u8ff0\u7b26\u7c7b\u4f3c\u3002\u5982\u679c\u4e3a\u7a7a\u5bf9\u8c61\uff0c\u5c31\u53ea\u6709set\u3001get\u8fd9\u4e24\u4e2a\u9ed8\u8ba4\u6355\u83b7\u5668\uff0c\u5e76\u4e14\u4e0d\u4f1a\u6709\u8fc7\u591a\u7684\u64cd\u4f5c\uff0cget\u6355\u83b7\u5668\u5c31\u76f4\u63a5\u8fd4\u56de\u8bbf\u95ee\u5c5e\u6027\u7684\u503c\uff0cset\u6355\u83b7\u5668\u5c31\u5c06\u65b0\u7684\u503c\u8d4b\u503c\u7ed9\u8bbf\u95ee\u5c5e\u6027\u3002 console.log(objProxy.name) //'lucky' console.log(objProxy.age) //18 objProxy.name = '\u8fea\u4e3d\u70ed\u5df4' objProxy.age = 20 //\u5bf9\u4ee3\u7406\u5bf9\u8c61\u64cd\u4f5c\u540e\uff0c\u4ee3\u7406\u5bf9\u8c61\u5c31\u4f1a\u5bf9\u539f\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c console.log(obj.name) //'\u8fea\u4e3d\u70ed\u5df4' console.log(obj.age) //20 \u6ce8\u610f\uff1aProxy\u53ea\u80fd\u4ee3\u7406\u5bf9\u8c61\uff08Object\u3001Function\u3001Array\uff09\uff0c\u975e\u5bf9\u8c61\u503c\u65e0\u6cd5\u8fdb\u884c\u4ee3\u7406\u3002","title":"2\u3001Proxy\u7684\u57fa\u672c\u4f7f\u7528"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#3proxy13","text":"handler.get()\uff1a\u5c5e\u6027\u8bfb\u53d6\u64cd\u4f5c\u7684\u6355\u6349\u5668\u3002 handler.set()\uff1a\u5c5e\u6027\u8bbe\u7f6e\u64cd\u4f5c\u7684\u6355\u6349\u5668\u3002 handler.has()\uff1ain \u64cd\u4f5c\u7b26\u7684\u6355\u6349\u5668\u3002 handler.deleteProperty()\uff1adelete \u64cd\u4f5c\u7b26\u7684\u6355\u6349\u5668\u3002 handler.getPrototypeOf()\uff1aObject.getPrototypeOf \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.setPrototypeOf()\uff1aObject.setPrototypeOf \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.isExtensible()\uff1aObject.isExtensible \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.preventExtensions()\uff1aObject.preventExtensions \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.getOwnPropertyDescriptor()\uff1aObject.getOwnPropertyDescriptor \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.defineProperty()\uff1aObject.defineProperty \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.ownKeys()\uff1aObject.getOwnPropertyNames \u65b9\u6cd5\u548cObject.getOwnPropertySymbols \u65b9\u6cd5\u7684\u6355\u6349\u5668\u3002 handler.apply()\uff1a\u51fd\u6570\u8c03\u7528\u64cd\u4f5c\u7684\u6355\u6349\u5668\u3002\uff08\u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u91cc\u5c31\u5bf9\u51fd\u6570\u8c03\u7528\u65f6\u8fdb\u884c\u76d1\u542c handler.construct()\uff1anew \u64cd\u4f5c\u7b26\u7684\u6355\u6349\u5668\u3002\uff08\u51fd\u6570\u6267\u884cnew\u64cd\u4f5c\u7b26\u7684\u65f6\u5019\u8fdb\u884c\u76d1\u542c\uff09 \u603b\u7ed3\uff1a \u5bf9\u4e8e\u6211\u4eec\u9006\u5411\u6765\u8bf4\u6700\u91cd\u8981\u7684\u5c31\u662fget\uff0c\u4e0eset\uff0c\u5f53\u9006\u5411\u7684\u65f6\u5019\u4ee3\u7801\u4e2d\u901a\u8fc7\u4f1a\u6709\u6216\u8005\u548c\u8bbe\u7f6e\u7684\u64cd\u4f5c\uff0c\u5982\u679c\u6211\u4eec\u5f53\u524dnode\u73af\u5883\u4e2d\u4e0d\u5b58\u5728\uff0c\u800c\u8c03\u7528\u7684\u4f4d\u7f6e\u53c8\u5b58\u5728\u5f02\u5e38\u5904\u7406\uff0c\u90a3\u4e48\u6700\u7ec8\u4f1a\u5bfc\u81f4\u7ed3\u679c\u4e0d\u6b63\u786e\u4ece\u800c\u5bfc\u81f4\u9006\u5411\u5931\u8d25 \u4f7f\u7528Proxy\u521b\u5efa\u7684\u4ee3\u7406\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u7684\u597d\u5904\u662f\uff0c\u53ef\u4ee5\u4e0d\u7528\u76f4\u63a5\u901a\u8fc7Object.defineproperty\u53bb\u64cd\u4f5c\u539f\u5bf9\u8c61\uff0c\u901a\u8fc7Object.defineproperty\u76f4\u63a5\u64cd\u4f5c\u539f\u5bf9\u8c61\u5c31\u4f1a\u5c06\u5bf9\u8c61\u539f\u672c\u7684\u6570\u636e\u5c5e\u6027\u63cf\u8ff0\u7b26\u53d8\u6210\u4e86\u8bbf\u95ee\u5c5e\u6027\u63cf\u8ff0\u7b26 Object.defineproperty(\u6211\u4eec\u5728hook\u90a3\u91cc\u4f7f\u7528\u8fc7)","title":"3\u3001Proxy\u768413\u79cd\u6355\u83b7\u5668\uff1a"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#4api","text":"(1) get\uff1a\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8bfb\u53d6\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { get(target, property, receiver) { console.log(`getting ${property}`); return target[property]; } }; let proxy = new Proxy(target, handler); console.log(proxy.a); // \u8f93\u51fagetting a \u548c 1 (2) set\uff1a\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8d4b\u503c\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { set(target, property, value, receiver) { console.log(`setting ${property} = ${value}`); target[property] = value; return true; } }; let proxy = new Proxy(target, handler); proxy.a = 2; // \u8f93\u51fasetting a = 2 (3) apply\uff1a\u62e6\u622a\u51fd\u6570\u7684\u8c03\u7528\u64cd\u4f5c\u3002 let target = function (a, b) { return a + b; } let handler = { apply(target, thisArg, args) { console.log(`calling ${target.name}`); return target(...args); } }; let proxy = new Proxy(target, handler); console.log(proxy(1, 2)); // \u8f93\u51facalling proxy \u548c 3 (4) has\uff1a\u62e6\u622ain\u64cd\u4f5c\u7b26\u7684\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { has(target, property) { console.log(`checking ${property} in target`); return property in target; } }; let proxy = new Proxy(target, handler); console.log('a' in proxy); // \u8f93\u51fachecking a in target \u548c true (5) ownKeys\uff1a\u62e6\u622aObject.getOwnPropertyNames\u548cObject.getOwnPropertySymbols\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { ownKeys(target) { console.log(`getting ownKeys`); return ['b', ...Object.getOwnPropertyNames(target)]; } }; let proxy = new Proxy(target, handler); console.log(Object.keys(proxy)); // \u8f93\u51fagetting ownKeys \u548c ['b', 'a'] (6) Reflect\uff1aReflect\u5bf9\u8c61\u63d0\u4f9b\u4e86Proxy\u5185\u7f6e\u62e6\u622a\u51fd\u6570\u7684\u57fa\u7840\u5b9e\u73b0\uff0c\u53ef\u4ee5\u901a\u8fc7Reflect\u5bf9\u8c61\u6267\u884c\u9ed8\u8ba4\u64cd\u4f5c\u3002 let target = {a: 1}; let handler = { ownKeys(target) { console.log(`getting ownKeys`); return ['b', ...Object.getOwnPropertyNames(target)]; // return ['b', ...Reflect.ownKeys(target)]; } }; let proxy = new Proxy(target, handler); console.log(Object.keys(proxy)); // \u8f93\u51fagetting ownKeys \u548c ['b', 'a']","title":"4\u3001\u5e38\u7528API"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#5proxy-","text":"Proxy\u6355\u83b7\u5668\u7528\u6765\u5bf9\u4ee3\u7406\u5bf9\u8c61\u5c5e\u6027\u8fdb\u884c\u8bbf\u95ee\u3001\u8d4b\u503c\u7b49\u64cd\u4f5c\u65f6\u7684\u4e00\u4e2a\u6355\u83b7\u3002\u4e0eObject.defineproperty\u7684\u5b58\u53d6\u63cf\u8ff0\u7b26\u7c7b\u4f3c\u3002\u4e0b\u9762\u6211\u4eec\u5c31\u8ba4\u8bc6\u4e00\u4e0b\u5e38\u7528\u7684\u56db\u4e2a\u6355\u83b7\u5668\u7684\u57fa\u672c\u4f7f\u7528\u3002 JavaScript\u4ee3\u7801\uff1a const objProxy = new Proxy(obj,{ //get\u64cd\u4f5c\u7b26 get:function(target,key){ console.log(`\u76d1\u542c\u5230\u8bbf\u95ee${key}\u5c5e\u6027`,target) return target[key] //\u8fd4\u56de\u8bbf\u95ee\u5c5e\u6027\u7684\u503c }, //set\u64cd\u4f5c\u7b26 set:function(target,key,newValue){ console.log(`\u76d1\u542c\u5230\u7ed9${key}\u5c5e\u6027\u8bbe\u7f6e\u503c`,target) tarset[key] = newValue //\u5c06\u5c5e\u6027\u6700\u65b0\u503c\uff0c\u8d4b\u503c\u7ed9\u4ee3\u7406\u5bf9\u8c61\u5c5e\u6027 }, //has\u64cd\u4f5c\u7b26 has:function(target,key){ console.log(`\u76d1\u542c\u5230\u4f7f\u7528in\u64cd\u4f5c\u7b26${key}`,target) return key in target }, //delete\u64cd\u4f5c\u7b26 deleteProperty:function(){ console.log(`\u76d1\u542c\u5230\u4f7f\u7528delete\u64cd\u4f5c\u7b26${key}`,target) delete target[key] } }) console.log(objProxy.name) console.log(objProxy.age) objProxy.name = 'wx' objProxy.age = 20 //in\u64cd\u4f5c\u7b26 console.log('name' in objProxy) //true //delete\u64cd\u4f5c\u7b26 delete objProxy.name","title":"5\u3001Proxy\u6355\u83b7\u5668\u7684\u4f7f\u7528-\u7ec4\u5408"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#reflect","text":"","title":"\u56db\u3001Reflect"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#1reflect","text":"Reflect\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b57\u9762\u610f\u601d\u662f\"\u53cd\u5c04\"\u3002","title":"1\u3001Reflect\u7684\u8ba4\u8bc6"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#2reflect","text":"\u5b83\u4e3b\u8981\u63d0\u4f9b\u4e86\u5f88\u591a\u64cd\u4f5cJavaScript\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u6709\u70b9\u50cfObject\u4e2d\u64cd\u4f5c\u5bf9\u8c61\u7684\u65b9\u6cd5\uff1b \u6bd4\u5982Reflect.getPrototypeOf(target)\u7c7b\u4f3c\u4e8e Object.getPrototypeOf()\uff1b \u5982\u679c\u6211\u4eec\u6709Object\u53ef\u4ee5\u505a\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u90a3\u4e48\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u6709Reflect\u8fd9\u6837\u7684\u65b0\u589e\u5bf9\u8c61\u5462\uff1f \u8fd9\u662f\u56e0\u4e3a\u5728\u65e9\u671f\u7684ECMA\u89c4\u8303\u4e2d\u6ca1\u6709\u8003\u8651\u5230\u8fd9\u79cd\u5bf9 \u5bf9\u8c61\u672c\u8eab \u7684\u64cd\u4f5c\u5982\u4f55\u8bbe\u8ba1\u4f1a\u66f4\u52a0\u89c4\u8303\uff0c\u6240\u4ee5\u5c06\u8fd9\u4e9bAPI\u653e\u5230\u4e86Object\u4e0a\u9762\uff1b\u4f46\u662fObject\u4f5c\u4e3a\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u5b9e\u9645\u4e0a\u653e\u5230\u5b83\u8eab\u4e0a\u5e76\u4e0d\u5408\u9002\uff1b\u53e6\u5916\u8fd8\u5305\u542b\u4e00\u4e9b\u7c7b\u4f3c\u4e8e in\u3001delete\u64cd\u4f5c\u7b26\uff0c\u8ba9JS\u770b\u8d77\u6765\u662f\u4f1a\u6709\u4e00\u4e9b\u5947\u602a\u7684\uff1b\u6240\u4ee5\u5728ES6\u4e2d\u65b0\u589e\u4e86Reflect\uff0c\u8ba9\u6211\u4eec\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u96c6\u4e2d\u5230\u4e86Reflect\u5bf9\u8c61\u4e0a\u3002","title":"2\u3001Reflect\u6709\u4ec0\u4e48\u7528\u5450\uff1f"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#3-reflect","text":"\u6211\u4eec\u5bf9\u4e0a\u9762\u7684\u4ee3\u7801\u505a\u4e00\u4e0b\u4fee\u6539\uff0c\u4f7f\u7528Reflect\u4ee3\u66ff\u4e00\u4e0b const objProxy = new Proxy(obj,{ get:function(target,key){ console.log(`\u76d1\u542c\u5230\u8bbf\u95ee${key}\u5c5e\u6027`,target) return Reflect.get(target,key) //\u6539\u4e3aReflect.get }, set:function(target,key,newValue){ console.log(`\u76d1\u542c\u5230\u7ed9${key}\u5c5e\u6027\u8bbe\u7f6e\u503c`,target) Reflect.set(target,key,newValue) //\u6539\u4e3aReflect.set } }) console.log(objProxy.name) objProxy.name = 'wx' \u793a\u4f8b const istrue = Reflect.set(target,key,newValue) const result = istrue?'\u8bbe\u7f6e\u6210\u529f':\"\u8bbe\u7f6e\u5931\u8d25\"","title":"3\u3001 Reflect\u57fa\u672c\u4f7f\u7528"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html#_1","text":"\u4ee3\u7801 function myProxy(obj,name){ return new Proxy(obj,{ get(target, propKey, receiver){ //\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8bfb\u53d6\uff0c\u6bd4\u5982proxy.foo\u548cproxy['foo']\u3002 let temp = Reflect.get(target,propKey,receiver); console.log(`${name} -> get ${propKey.toString()} return -> ${temp}`); if(typeof temp == 'object') { temp = myProxy(temp,name + \" => \" + propKey) } return temp; }, set(target, propKey, value, receiver){ //\u62e6\u622a\u5bf9\u8c61\u5c5e\u6027\u7684\u8bbe\u7f6e\uff0c\u6bd4\u5982proxy.foo = v\u6216proxy['foo'] = v\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.set(target,propKey,value,receiver); console.log(`${name} -> set ${propKey} value -> ${value}`); return temp; }, has(target, propKey){ //\u62e6\u622apropKey in proxy\u7684\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.has(target,propKey); console.log(`${name} -> has ${propKey}`); return temp; }, deleteProperty(target, propKey){ //\u62e6\u622adelete proxy[propKey]\u7684\u64cd\u4f5c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.deleteProperty(target,propKey); return temp; }, ownKeys(target){ //\u62e6\u622aObject.getOwnPropertyNames(proxy)\u3001Object.getOwnPropertySymbols(proxy)\u3001Object.keys(proxy)\u3001for...in\u5faa\u73af\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u76ee\u6807\u5bf9\u8c61\u6240\u6709\u81ea\u8eab\u7684\u5c5e\u6027\u7684\u5c5e\u6027\u540d\uff0c\u800cObject.keys()\u7684\u8fd4\u56de\u7ed3\u679c\u4ec5\u5305\u62ec\u76ee\u6807\u5bf9\u8c61\u81ea\u8eab\u7684\u53ef\u904d\u5386\u5c5e\u6027\u3002 const temp = Reflect.ownKeys(target); return temp; }, getOwnPropertyDescriptor(target, propKey){ //\u62e6\u622aObject.getOwnPropertyDescriptor(proxy, propKey)\uff0c\u8fd4\u56de\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u3002 const temp = Reflect.getOwnPropertyDescriptor(target,propKey); return temp; }, defineProperty(target, propKey, propDesc){ //\u62e6\u622aObject.defineProperty(proxy, propKey, propDesc\uff09\u3001Object.defineProperties(proxy, propDescs)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.defineProperty(target,propKey,propDesc); return temp; }, preventExtensions(target){ //\u62e6\u622aObject.preventExtensions(proxy)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.preventExtensions(target); return temp; }, getPrototypeOf(target){ //\u62e6\u622aObject.getPrototypeOf(proxy)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u3002 const temp = Reflect.getPrototypeOf(target); return temp; }, isExtensible(target){ //\u62e6\u622aObject.isExtensible(proxy)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 const temp = Reflect.isExtensible(target); return temp; }, setPrototypeOf(target, proto){ //\u62e6\u622aObject.setPrototypeOf(proxy, proto)\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u76ee\u6807\u5bf9\u8c61\u662f\u51fd\u6570\uff0c\u90a3\u4e48\u8fd8\u6709\u4e24\u79cd\u989d\u5916\u64cd\u4f5c\u53ef\u4ee5\u62e6\u622a\u3002 const temp = Reflect.setPrototypeOf(target,proto); return temp; }, apply(target, object, args){ //\u62e6\u622a Proxy \u5b9e\u4f8b\u4f5c\u4e3a\u51fd\u6570\u8c03\u7528\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982proxy(...args)\u3001proxy.call(object, ...args)\u3001proxy.apply(...)\u3002 const temp = Reflect.apply(target, object, args); return temp; }, construct(target, args){ //\u62e6\u622a Proxy \u5b9e\u4f8b\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u8c03\u7528\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982new proxy(...args)\u3002 const temp = Reflect.construct(target, args); return temp; } }) } window = new myProxy(global,\"window\"); //\u4ee3\u7406\u5668\u4ee3\u7406\u4e4b\u540e\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61 this == global; //global\u5c31\u662f\u5168\u5c40\u4e0a\u4e0b\u6587\u4ee3\u7406\u5bf9\u8c61\uff1b this != window; // this \u662fglobal \u4f46\u662f window\u662f\u4ee3\u7406\u5668\uff0c\u6240\u4ee5\u8fd9\u91cc\u662f !=; let myWindow = this; let abc = { ac: function(){ this == abc // \u5728\u5bf9\u8c61\u4e2d\uff0c\u8c03\u7528\u51fd\u6570\u65b9\u6cd5\uff0c\u8fdb\u5165\u51fd\u6570\u5c40\u90e8\u4f5c\u7528\u57df\u540e\uff0cthis\u6307\u5411\u7236\u5bf9\u8c61\uff08abc\uff09 } } const window = myProxy(globalThis,\"window\"); \u4ee3\u7406\u5668\u5931\u6548\u539f\u56e0 1.\u6ca1\u6709\u8bbf\u95ee\u5c5e\u6027\u64cd\u4f5c 2.\u6ca1\u6709\u4f7f\u7528\u4ee3\u7406\u5bf9\u8c61","title":"\u4e94\u3001\u9006\u5411\u5b8c\u6574\u4f7f\u7528"},{"location":"%E8%A1%A5%E7%8E%AF%E5%A2%83/3%E3%80%81vm2%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83.html","text":"vm2\u8fd0\u884c\u73af\u5883 vm2 \u662f\u4e00\u4e2a\u7528\u4e8e\u5728 Node.js\u4e2d\u521b\u5efa\u6c99\u76d2\u73af\u5883\u7684\u6a21\u5757\u3002 vm2 \u5141\u8bb8\u4f60\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u673a\u5b9e\u4f8b\uff08VM\uff09\uff0c\u5728\u8be5\u5b9e\u4f8b\u4e2d\u8fd0\u884c JavaScript \u4ee3\u7801\u3002\u8fd9\u4e2a\u865a\u62df\u673a\u5b9e\u4f8b\u662f\u4e00\u4e2a\u9694\u79bb\u7684\u73af\u5883\uff0c\u4e0e\u4e3b Node.js \u8fdb\u7a0b\u76f8\u4e92\u72ec\u7acb\uff0c\u53ef\u4ee5\u5728\u5176\u4e2d\u6267\u884c\u4ee3\u7801\u3002 \u501f\u52a9node\u73af\u5883\u4e2d\u7684v8. \u5265\u79bbnode\u73af\u5883\u672c\u8eab\u7684\u4e00\u4e9b\u4e1c\u897f.\u9632\u6b62\u88ab\u68c0\u6d4b\u5230. \u5e72\u51c0\u7684\u53ea\u6709v8\u5f15\u64ce\u7684\u4e00\u4e2ajs\u8fd0\u884c\u73af\u5883.. vm2 => \u5e72\u51c0\u7684v8(\u6700\u65b0\u7248\u672c\u91cc\u9762\u4e5f\u6709\u5751). \u9009\u62e9\u4e00\u4e2a\u76f8\u5bf9\u8f83\u4f4e\u7684\u7248\u672c 3.9.3 \u7248\u672c....(\u4e5f\u8bb8\u8981\u624b\u52a8\u53bb\u8c03\u6574\u4e00\u4e9b\u4e1c\u897f) \u5b89\u88c5 npm install vm2@3.9.3 \u8c03\u6574: node_modules => vm2 => lib => contextify.js =>\u641cglobal. \u7136\u540e\u6ce8\u91ca\u6389\u58f0\u660eglobal\u7684\u5730\u65b9 ```javascript Object.setPrototypeOf(global, Object.prototype); Object.defineProperties(global, { global: {value: global}, GLOBAL: {value: global}, root: {value: global}, isVM: {value: true} }); ``` \u56fe\u4f8b \u4ee3\u7801 ```javascript var vm = require(\"vm2\") const {VM, VMScript} = vm; // \u89e3\u5305. \u4ece\u89e3\u5305\u4e2d\u83b7\u53d6\u5230VM\u548cVMScript var myvm = new VM(); let my_script = new VMScript(\"debugger;\"); debugger; ret = myvm.run(my_script); debugger; ``` VMScript \u4f60\u53ef\u4ee5\u4f7f\u7528\u9884\u7f16\u8bd1\u7684\u811a\u672c\u6765\u63d0\u9ad8\u6027\u80fd\u3002\u9884\u7f16\u8bd1\u7684VMScript\u53ef\u4ee5\u591a\u6b21\u8fd0\u884c \u542f\u52a8 node-inspect test.js \u6253\u5f00\u6d4f\u89c8\u5668 \u5728\u8fd9\u513f\u5c31\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u4ee3\u7801\u7684\u6267\u884c","title":"3\u3001vm2\u8fd0\u884c\u73af\u5883"}]}