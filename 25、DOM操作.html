<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>二十五、DOM操作 - js node</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="generator" content="mkdocs-1.6.1, mkdocs-gitbook-1.0.7">

<link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta rel="next" href="" />
<link href="./css/style.min.css" rel="stylesheet"> 
</head>

<body>
<div class="book">
<div class="book-summary">
<div id="book-search-input" role="search">
<input type="text" placeholder="Type to search" />
</div> <!-- end of book-search-input -->

<nav role="navigation">
<ul class="summary">
<li>
<a href="index.html" target="_blank" class="custom-link">js node</a>
</li>
<li class="divider"></li>
<li class="chapter" data-path="index.html">
<a href="index.html">Welcome to MkDocs</a>
<li class="chapter" data-path="01%E3%80%81html.html">
<a href="01%E3%80%81html.html">一、HTML</a>
<li class="chapter" data-path="02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html">
<a href="02%E3%80%81CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8.html">二、CSS层叠样式表</a>
<li class="chapter" data-path="03%E3%80%81%E6%AD%A3%E5%88%99.html">
<a href="03%E3%80%81%E6%AD%A3%E5%88%99.html">三、正则</a>
<li class="chapter" data-path="04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html">
<a href="04%E3%80%81BS4%E8%A7%A3%E6%9E%90%E5%AE%8C%E6%95%B4.html">四、beautifulsoup</a>
<li class="chapter" data-path="05%E3%80%81xpath.html">
<a href="05%E3%80%81xpath.html">五、xpath</a>
<li class="chapter" data-path="06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html">
<a href="06%E3%80%81%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8%E4%B8%8Eurllib%26requests.html">六、爬虫入门</a>
<li class="chapter" data-path="07%E3%80%81urllib%E4%B8%8Erequests.html">
<a href="07%E3%80%81urllib%E4%B8%8Erequests.html">七、urllib与requests</a>
<li class="chapter" data-path="08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html">
<a href="08%E3%80%81%E5%A4%9A%E8%BF%9B%E7%A8%8B.html">八、多进程</a>
<li class="chapter" data-path="09%E3%80%81%E7%BA%BF%E7%A8%8B.html">
<a href="09%E3%80%81%E7%BA%BF%E7%A8%8B.html">九、线程</a>
<li class="chapter" data-path="10%E3%80%81%E5%8D%8F%E7%A8%8B.html">
<a href="10%E3%80%81%E5%8D%8F%E7%A8%8B.html">十、携程</a>
<li class="chapter" data-path="11%E3%80%81selenium.html">
<a href="11%E3%80%81selenium.html">十一、selenium</a>
<li class="chapter" data-path="12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html">
<a href="12%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.html">十二、MySQL数据库</a>
<li class="chapter" data-path="13%E3%80%81Mongodb.html">
<a href="13%E3%80%81Mongodb.html">十三、Mongodb</a>
<li class="chapter" data-path="14%E3%80%81redis.html">
<a href="14%E3%80%81redis.html">十四、Redis数据库</a>
<li class="chapter" data-path="15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html">
<a href="15%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html">十五、面向对象</a>
<li class="chapter" data-path="16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html">
<a href="16-Scrapy01-%E6%A1%86%E6%9E%B6%E5%88%9D%E8%AE%A4%E8%AF%86.html">十六、Scrapy框架初认识</a>
<li class="chapter" data-path="16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html">
<a href="16-Scrapy02%E6%B7%B1%E5%85%A5%E4%BD%BF%E7%94%A8-%E5%AD%98%E5%82%A8.html">十六、Scrapy深入使用-存储</a>
<li class="chapter" data-path="16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html">
<a href="16-Scrapy03-%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5.html">十六、scrapy模拟登陆&amp;分页</a>
<li class="chapter" data-path="16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html">
<a href="16-Scrapy04-%E4%B8%AD%E9%97%B4%E4%BB%B6.html">十六、Scrapy中间件</a>
<li class="chapter" data-path="16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html">
<a href="16-Scrapy05-%E5%88%86%E9%A1%B5%E6%8A%93%E5%8F%96.html">十六、scrapy的crawlspider爬虫</a>
<li class="chapter" data-path="16-Scrapy06-scrapy_redis.html">
<a href="16-Scrapy06-scrapy_redis.html">十六、scrapy_redis</a>
<li class="chapter" data-path="17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html">
<a href="17%E3%80%81js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html">十七、js数据类型</a>
<li class="chapter" data-path="18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html">
<a href="18%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html">十八、js运算符与流程控制</a>
<li class="chapter" data-path="19%E3%80%81js%E6%95%B0%E7%BB%84.html">
<a href="19%E3%80%81js%E6%95%B0%E7%BB%84.html">十九、js数组</a>
<li class="chapter" data-path="20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html">
<a href="20%E3%80%81js%E5%AD%97%E7%AC%A6%E4%B8%B2.html">二十、js字符串</a>
<li class="chapter" data-path="21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html">
<a href="21%E3%80%81js%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%97%B6%E9%97%B4.html">二十一、js对象与时间</a>
<li class="chapter" data-path="22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html">
<a href="22%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89.html">二十二、js函数</a>
<li class="chapter" data-path="23%E3%80%81js%E8%BF%9B%E9%98%B6.html">
<a href="23%E3%80%81js%E8%BF%9B%E9%98%B6.html">二十三、Javascript进阶</a>
<li class="chapter" data-path="24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html">
<a href="24%E3%80%81BOM%E6%93%8D%E4%BD%9C.html">二十四、浏览器对象模型BOM</a>
<li class="chapter active" data-path="25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html">
<a href="25%E3%80%81DOM%E6%93%8D%E4%BD%9C.html">二十五、DOM操作</a>
<li class="chapter" data-path="26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html">
<a href="26%E3%80%81jQuery%E6%93%8D%E4%BD%9C.html">二十六、jQuery</a>
<li class="chapter" data-path="27%E3%80%81%E9%80%86%E5%90%9101.html">
<a href="27%E3%80%81%E9%80%86%E5%90%9101.html">二十七、JS逆向01</a>
<li class="chapter" data-path="28%E3%80%81%E9%80%86%E5%90%9102.html">
<a href="28%E3%80%81%E9%80%86%E5%90%9102.html">二十八、逆向02</a>
<li class="chapter" data-path="29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html">
<a href="29%E3%80%81%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F.html">二十九、微信小程序逆向开发</a>
<li class="chapter" data-path="30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html">
<a href="30%E3%80%81%E7%BD%91%E6%98%93%E6%BB%91%E5%9D%97.html">三十、网易易盾</a>
<li class="chapter" data-path="31%E3%80%81rpc.html">
<a href="31%E3%80%81rpc.html">三十一、RPC</a>
<li class="chapter" data-path="32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html">
<a href="32%E3%80%81TLS%E6%8C%87%E7%BA%B9%E7%BB%95%E8%BF%87.html">三十二、TLS指纹绕过</a>
<li class="chapter" data-path="33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html">
<a href="33%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html">三十三、高级逆向</a>
<li class="chapter" data-path="34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html">
<a href="34%E3%80%81%E9%AB%98%E7%BA%A7%E9%80%86%E5%90%91.html">三十四、高级逆向</a>
<li class="chapter" data-path="%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html">
<a href="%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%E7%AC%94%E8%AE%B0.html">逆向实战案例笔记</a>
<li class="header">Pyexecjs与npm配置</li>

<li>
<a href="pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/execjs%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html" class="">Execjs介绍以及安装和使用</a>
</li>

<li>
<a href="pyexecjs%E4%B8%8Enpm%E9%85%8D%E7%BD%AE/%E4%B8%80%E6%AC%A1%E6%80%A7%E8%A7%A3%E5%86%B3%E6%8E%89npm%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98.html" class="">更换npm为国内镜像</a>
</li>

<li class="header">补环境</li>

<li>
<a href="%E8%A1%A5%E7%8E%AF%E5%A2%83/1%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E4%BA%8B%E4%BB%B6.html" class="">补环境</a>
</li>

<li>
<a href="%E8%A1%A5%E7%8E%AF%E5%A2%83/2%E3%80%81Proxy%E4%BB%A3%E7%90%86%E5%99%A8.html" class="">Proxy代理</a>
</li>

<li>
<a href="%E8%A1%A5%E7%8E%AF%E5%A2%83/3%E3%80%81vm2%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83.html" class="">3、vm2运行环境</a>
</li>

<li class="divider"></li>



<li><a href="http://www.mkdocs.org">
Published with MkDocs
</a></li>

<li><a href="https://github.com/GitbookIO/theme-default">
Theme by GitBook
</a></li>
</ul>

</nav>

</div> <!-- end of book-summary -->

<div class="book-body">
<div class="body-inner">
<div class="book-header" role="navigation">

<!-- Title -->
<h1>
<i class="fa fa-circle-o-notch fa-spin"></i>
<a href="." ></a>
</h1>

</div> <!-- end of book-header -->

<div class="page-wrapper" tabindex="-1" role="main">
<div class="page-inner">
<div id="book-search-results">
<div class="search-noresults">

<section class="normal markdown-section">



<h1 id="dom">二十五、DOM操作</h1>
<p>当网页被加载时，浏览器会创建页面的文档对象模型（Document Object Model）。 </p>
<p><strong>HTML DOM</strong> 模型被构造为<strong>对象</strong>的树</p>
<p>DOM树</p>
<p><img alt="" src="http://www.runoob.com/images/pic_htmltree.gif" /></p>
<p>通过可编程的对象模型，JavaScript 获得了足够的能力来创建动态的 HTML。 </p>
<ul>
<li>JavaScript 能够改变页面中的所有 HTML 元素</li>
<li>JavaScript 能够改变页面中的所有 HTML 属性</li>
<li>JavaScript 能够改变页面中的所有 CSS 样式</li>
<li>JavaScript 能够对页面中的所有事件做出反应</li>
</ul>
<h2 id="html">一、查找 HTML 元素</h2>
<p>通常，通过 JavaScript，您需要操作 HTML 元素。</p>
<p>为了做到这件事情，您必须首先找到该元素。有三种方法来做这件事：</p>
<ul>
<li>通过 id 找到 HTML 元素</li>
<li>通过标签名找到 HTML 元素</li>
<li>通过类名找到 HTML 元素</li>
</ul>
<h3 id="1-id-html">1、通过 id 查找 HTML 元素</h3>
<p>在 DOM 中查找 HTML 元素的最简单的方法，是通过使用元素的 id。</p>
<p>本例查找 id="intro" 元素：</p>
<p>实例</p>
<pre><code class="language-javascript">var x=document.getElementById(&quot;intro&quot;);
</code></pre>
<p>如果找到该元素，则该方法将以对象（在 x 中）的形式返回该元素。</p>
<p>如果未找到该元素，则 x 将包含 null</p>
<h3 id="2-html">2、通过标签名查找 HTML 元素</h3>
<p>本例查找 id="main" 的元素，然后查找 id="main" 元素中的所有 <p> 元素：</p>
<p>实例</p>
<pre><code class="language-javascript">var x=document.getElementById(&quot;main&quot;);

var y=x.getElementsByTagName(&quot;p&quot;);
</code></pre>
<h3 id="3-html">3、通过类名找到 HTML 元素</h3>
<p>本例通过 <strong>getElementsByClassName</strong> 函数来查找 <strong>class="intro"</strong> 的元素：</p>
<p>实例</p>
<pre><code class="language-javascript">var x=document.getElementsByClassName(&quot;intro&quot;);
</code></pre>
<h3 id="4name-html">4、通过name名找到 HTML 元素</h3>
<p>本例通过 <strong>getElementsByName</strong> 函数来查找 <strong>name="username"</strong> 的元素：</p>
<p>实例</p>
<pre><code class="language-javascript">&lt;script&gt;
  onload = function () {
    var name = document.getElementsByName('username')[0];
    name.value = 123
    console.log(name);
    }
&lt;/script&gt;
&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;

</code></pre>
<h3 id="5-css">5. 通过css选择器进行查找</h3>
<p><code>document.querySelector</code> 是 JavaScript 的一个方法，用于在文档中选择匹配特定 CSS 选择器的元素。</p>
<p>使用 <code>document.querySelector</code> 方法的语法如下：</p>
<pre><code>document.querySelector(css选择器)
</code></pre>
<p>其中，<code>css选择器</code> 是一个字符串，表示要选择的元素的CSS选择器。可以使用标签名、类名、ID、属性等来指定元素。</p>
<p>该方法返回匹配的第一个元素，如果没有匹配的元素，则返回 <code>null</code>。</p>
<p>以下是一些示例：</p>
<ol>
<li>通过标签名选择元素：</li>
</ol>
<p><code>var element = document.querySelector("div");</code></p>
<ol>
<li>通过类名选择元素：</li>
</ol>
<p><code>var element = document.querySelector(".my-class");</code></p>
<ol>
<li>通过ID选择元素：</li>
</ol>
<p><code>var element = document.querySelector("#my-id");</code></p>
<ol>
<li>通过属性选择元素：</li>
</ol>
<p><code>var element = document.querySelector("[name='my-name']");</code></p>
<p>需要注意的是，<code>document.querySelector</code> 只会返回匹配的第一个元素。如果要选择所有匹配的元素，可以使用 <code>document.querySelectorAll</code> 方法。</p>
<h2 id="html-dom-html">二、HTML DOM - 改变 HTML</h2>
<h3 id="1-html-innerhtmlinnertext">1、改变 HTML 内容（innerHTML/innerText）</h3>
<p>修改 HTML 内容的最简单的方法是使用 innerHTML 属性。</p>
<p>如需改变 HTML 元素的内容，请使用这个语法：</p>
<p>document.getElementById(id).innerHTML=<em>新的 HTML</em></p>
<p>本例改变了 \<p>元素的内容：</p>
<p>实例</p>
<pre><code class="language-javascript">&lt;html&gt;
&lt;body&gt;
    &lt;p id=&quot;p1&quot;&gt;Hello World!&lt;/p&gt;
&lt;script&gt;
    document.getElementById(&quot;p1&quot;).innerHTML=&quot;新文本!&quot;;
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>实例讲解：</p>
<ul>
<li>上面的 HTML 文档含有 id="p1" 的 \<h1> 元素</li>
<li>我们使用 HTML DOM 来获得 id="p1" 的元素</li>
<li>JavaScript 更改此元素的内容 (innerHTML)</li>
</ul>
<p>document.getElementById(<em>id</em>).innerText=新的文本内容</p>
<p><strong>注意:</strong></p>
<ol>
<li>innerHTML是可以获取节点内 标签和内容</li>
<li>innerText 只能获取节点内的文本内容</li>
<li>innerHTML可以设置html和文本一起的内容 HTML标签会被浏览器所解析</li>
<li>innerText不可以设置html和文本一起的内容 HTML标签不会被浏览器所解析</li>
</ol>
<h3 id="2-html-attribute">2、改变 HTML 属性  (attribute)</h3>
<p>如需改变 HTML 元素的属性，请使用这个语法： </p>
<p>document.getElementById(<em>id</em>).<em>attribute=新属性值</em></p>
<p>本例改变了 \<img> 元素的 src 属性：</p>
<pre><code class="language-javascript">&lt;img id=&quot;image&quot; src=&quot;smiley.gif&quot;&gt;
&lt;script&gt;
document.getElementById(&quot;image&quot;).src=&quot;landscape.jpg&quot;;
&lt;/script&gt;
&lt;img src=&quot;http://img.zcool.cn/community/01f9ea56e282836ac72531cbe0233b.jpg@2o.jpg&quot; onclick=&quot;this.src='http://pic.58pic.com/58pic/13/80/78/35V58PICrWD_1024.jpg'&quot; alt=&quot;&quot;&gt;
</code></pre>
<hr />
<p>注意：在jQuery里不能改变input的type类型 出于安全性，只能是只读  如更改input的type</p>
<ul>
<li>js设置密码的显示隐藏</li>
</ul>
<pre><code class="language-javascript">&lt;input type=&quot;text&quot; value=&quot;&quot; name=&quot;xxx&quot;&gt;
&lt;button onclick=&quot;pas();&quot;&gt;更改为密码&lt;/button&gt;
&lt;button onclick=&quot;text();&quot;&gt;更改为文本显示&lt;/button&gt;

function pas(){
  var i = document.getElementsByTagName('input')[0];
  i.type = 'password'
}
function text(){
  var i = document.getElementsByTagName('input')[0];
  i.type = 'text'
}

    &lt;script&gt;
        function change() {
            var input = document.getElementsByTagName('input')[0];
            var span = document.getElementsByTagName('span')[0];
            if(span.innerHTML == '显示'){
                input.type = 'text';
                span.innerHTML = '隐藏';
            }else{
                input.type = 'password';
                span.innerHTML = '显示';
            }
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
密码&lt;input type=&quot;password&quot;&gt;&lt;span onclick=&quot;change();&quot;&gt;显示&lt;/span&gt;
&lt;/body&gt;
</code></pre>
<h2 id="html-dom-css">三、HTML DOM - 改变CSS</h2>
<p>HTML DOM 允许 JavaScript 改变 HTML 元素的样式。</p>
<h3 id="1-html">1、改变 HTML 样式</h3>
<ul>
<li>如需改变 HTML 元素的样式，请使用这个语法：</li>
</ul>
<p>document.getElementById(<em>id</em>).style.<em>property</em>=<em>新样式</em></p>
<ul>
<li>实例</li>
</ul>
<p>```javascript
<br />
<body>
    <p id="p1">Hello World!</p>
    <p id="p2">Hello World!</p>
  </body></p>
<script>
    document.getElementById("p2").style.color="blue";
    document.getElementById("p2").style.fontFamily="Arial";
    document.getElementById("p2").style.fontSize="larger";
   document.getElementById("p2").style.backgroundImage="url(2.jpg)";
  </script>
<p>```</p>
<ul>
<li>获取生效style样式</li>
</ul>
<p>window.getComputedStyle("元素", "伪类");</p>
<p>style = window.getComputedStyle(box, null);    //支持IE9+及非IE浏览器</p>
<p><code>style = window.getComputedStyle(box, null).width;</code>获取box的width属性值</p>
<ul>
<li>
<p>与style的区别</p>
<p>box.style.xxx 只能获取内联样式</p>
</li>
</ul>
<p>getComputedStyle 获取的生效样式可以获取全局的样式</p>
<p><strong>实例</strong></p>
<pre><code class="language-javascript">    &lt;style&gt;
        #div{
            width:200px;
            height: 200px;
        }
    &lt;/style&gt;
    &lt;script&gt;
        window.onload = function (ev) {
            var div = document.getElementById('div');
            // console.log(div.style.backgroundColor)
            // console.log(div.style.width)
            var style = window.getComputedStyle(div,null);
            console.log(style.width);
            console.log(style.height);
            console.log(style.backgroundColor);
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;div&quot; style=&quot;background-color: red;&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="2css">2、设置多个css样式</h3>
<ol>
<li><strong>设置cssText</strong></li>
</ol>
<p><code>javascript
   element.style.cssText = "样式1;样式2..."
   div.style.cssText = 'width:200px;height: 200px;background-color: red';</code></p>
<ol>
<li><strong>设置style的属性</strong></li>
</ol>
<p><code>javascript
   element.setAttribute('style', 'height: 100px !important');</code></p>
<ul>
<li>设置id或者class名称</li>
</ul>
<p>设置id</p>
<p><code>javascript
  element.setAttribute('id, 'id名称');
  element.id = id名称；</code></p>
<p>设置class</p>
<p><code>javascript
  element.setAttribute('class, 'class名称');
  element.className = class名称；
  // 设置多个class
  element.className = '样式1 样式2';
  element.setAttribute('class','样式1 样式2')</code></p>
<ol>
<li>通过add方法添加多个类名</li>
</ol>
<p><code>javascript
   document.getElementById("myDIV").classList.add("mystyle", "anotherClass", "thirdClass");</code></p>
<ol>
<li>classList 属性返回元素的类名，作为 DOMTokenList 对象。</li>
</ol>
<p>该属性用于在元素中添加，移除及切换 CSS 类。 </p>
<p>classList 属性是只读的，但你可以使用 add() 和 remove() 方法修改它。</p>
<p>```javascript
 <br />
<style>
     .d1{color:red;}
     .d2{border: 1px solid red;}
   </style></p>
<script>
     onload = function () {
        document.getElementById("myDIV").classList.add('d1', 'd2');
        document.getElementById("myDIV").classList.remove('d1');
     }
   </script>
<p></head>
 <br />
<body>
   <div id="myDIV">div</div>
   </body></p>
<p>```</p>
<h3 id="3">3、使用事件</h3>
<p>HTML DOM 允许我们通过触发事件来执行代码。</p>
<p>比如以下事件：</p>
<ul>
<li>元素被点击。</li>
<li>页面加载完成。</li>
<li>输入框被修改。</li>
</ul>
<p>在接下来的章节，你会学到更多关于事件的知识。</p>
<p>本例改变了 id="id1" 的 HTML 元素的样式，当用户点击按钮时：</p>
<p>实例</p>
<pre><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;h1 id=&quot;id1&quot;&gt;我的标题 1&lt;/h1&gt;
  &lt;button type=&quot;button&quot; 
  onclick=&quot;document.getElementById('id1').style.color='red'&quot;&gt;
  点我!&lt;/button&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="html-dom">四、HTML DOM 事件</h2>
<p>对事件做出反应</p>
<p>我们可以在事件发生时执行 JavaScript，比如当用户在 HTML 元素上点击时。</p>
<p>如需在用户点击某个元素时执行代码，请向一个 HTML 事件属性添加 JavaScript 代码：</p>
<p>onclick=<em>JavaScript</em></p>
<p>HTML 事件的例子：</p>
<ul>
<li>当用户点击鼠标时</li>
<li>当网页已加载时</li>
<li>当图像已加载时</li>
<li>当鼠标移动到元素上时</li>
<li>当输入字段被改变时</li>
<li>当提交 HTML 表单时</li>
<li>当用户触发按键时</li>
</ul>
<h3 id="1onclick">1、onclick 点击事件</h3>
<p>onclick = javascript</p>
<p>实例</p>
<pre><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;h1 onclick=&quot;this.innerHTML='lucky!'&quot;&gt;点击文本!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>本例从事件处理器调用一个函数：</p>
<p>onclick="changetext(this)"</p>
<p>实例</p>
<pre><code class="language-javascript">&lt;script&gt;
  function changetext(id)
  {
      id.innerHTML=&quot;lucky!&quot;;
  }
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1 onclick=&quot;changetext(this)&quot;&gt;点击文本!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="2-html-dom">2、使用 HTML DOM 来分配事件</h3>
<p>HTML DOM 允许您使用 JavaScript 来向 HTML 元素分配事件：</p>
<ul>
<li>实例</li>
</ul>
<p>向 button 元素分配 onclick 事件：</p>
<p>```javascript
<br />
<p>点击按钮执行 <em>displayDate()</em> 函数.</p></p>
<p><button id="myBtn">点这里</button>
<br />
<script>
  document.getElementById("myBtn").onclick=function(){displayDate()};
  function displayDate(){
    document.getElementById("demo").innerHTML=Date();
  }
  </script></p>
<p id="demo"></p>
<p>```</p>
<ul>
<li>阻止右键菜单默认行为：</li>
</ul>
<p>在之前使用event对象的button属性时, 点击鼠标右键会弹出系统菜单, 如果我们想要创建自己的右键菜单, 则需要先阻止默认的右键菜单</p>
<p><code>javascript
  document.oncontextmenu = function(){
        console.log("右键被按下");
        return false;
  }</code></p>
<p>不使用监听事件的停止传播(不再派发事件)</p>
<ul>
<li>当标签进行嵌套时</li>
</ul>
<p>event.stopPropagation();[prɑpəˈɡeʃən]</p>
<p>```javascript
<br />
<script>
          onload = function(){
              var divOne = document.getElementById('divOne');
              var divTwo = document.getElementById('divTwo');
              divOne.onclick = function(){
                  alert('点击了one');
              }

              divTwo.onclick = function(e){
                  alert('点击了two');
                  e.stopPropagation();//停止时间的传播(不在派发事件)

          }
      </script></p>
<p></head>
<br />
<body>
  <div id="divOne">one
      <div id="divTwo">two</div>
  </div>
  ```

  e是事件，在firefox中只能在事件现场使用window.event，所以只有把event传给函数使用。为了兼容[FF](https://www.baidu.com/s?wd=FF&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)和其它[浏览器](https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)，一般会在函数里重新给e赋值：
  e = window.event || e;
  也就是说，如果window.event存在，则该[浏览器](https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)支持直接使用window.event，否在就是不支持，不支持就使用传进来的e。

  e是event，其中包含鼠标事件的各种信息
  event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。

  事件通常与函数结合使用，函数不会在事件发生前被执行！

### 3、onload 和 onunload 事件

onload 事件会在页面或图像加载完成后立即发生。

onload 和 onunload 事件会在用户进入或离开页面时被触发。

onload 事件可用于检测访问者的浏览器类型和浏览器版本，并基于这些信息来加载网页的正确版本。

onload 和 onunload(了解) 事件可用于处理 cookie。

onunload 关闭当前页面的操作时候的操作(了解)

onload 实例


<pre><code class="language-javascript">&lt;script&gt;
  onload = function() {
  console.log(document.getElementById('div'))
}
&lt;/script&gt;
&lt;body&gt;
&lt;div id=&quot;div&quot;&gt;one&lt;/div&gt;
&lt;/body&gt;
</code></pre>


实例:


<pre><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body onload=&quot;checkCookies()&quot;&gt;
&lt;script&gt;
function checkCookies(){
    if (navigator.cookieEnabled==true){
        alert(&quot;Cookies 可用&quot;)
    }
    else{
        alert(&quot;Cookies 不可用&quot;)
    }
}
&lt;/script&gt;
    &lt;p&gt;弹窗-提示浏览器 cookie 是否可用。&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>


### 4、onchange 当文本框(input\select或 textarea)内容改变且失去焦点后触发。 

onchange 事件常结合对输入字段的验证来使用。

下面是一个如何使用 onchange 的例子。当用户改变输入字段的内容时，会调用 upperCase() 函数。

实例


<pre><code class="language-html">&lt;script&gt;
  function upperCase(){
    var x=document.getElementById(&quot;fname&quot;);
    x.value=x.value.toUpperCase();
  }
&lt;/script&gt;
&lt;body&gt;
    &lt;input type=&quot;text&quot; id=&quot;fname&quot; onchange=&quot;upperCase()&quot;&gt;
    &lt;select onchange=&quot;alert(this.value);&quot;&gt;
      &lt;option value=&quot;1&quot;&gt;北京&lt;/option&gt;
&lt;/body&gt;    
----------------------------------------------------------------------------------------
&lt;script&gt;
  function upperCase(this){
    this.value=this.value.toUpperCase();
  }
&lt;/script&gt;
&lt;body&gt;
&lt;input type=&quot;text&quot; id=&quot;fname&quot; onchange=&quot;upperCase(this)&quot;&gt;
&lt;/body&gt;    
&lt;input type=&quot;text&quot; id=&quot;fname&quot; onchange=&quot;this.value = this.value.toUpperCase();&quot;&gt;
</code></pre>


onselect：当用户选择文本框(input 或 textarea)中的内容触发


<pre><code class="language-javascript">&lt;script&gt;
  function showMsg(){
    alert(&quot;您选中了一些文本！&quot;);
  }
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

一些文本：&lt;input type=&quot;text&quot; value=&quot;请选中我！&quot; onselect=&quot;showMsg()&quot;&gt;

&lt;p&gt;函数 showMsg() 在输入字段中的文本被选中时触发。此函数显示一段消息。&lt;/p&gt;
</code></pre>


表单验证


<pre><code class="language-javascript">&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script&gt;
        /*点击下拉框进行调用 获取当前的值*/
        function get_val(v) {
            console.log(v)
        }
        /*点击注册进行验证*/
        function check() {
            console.log(document.getElementById('address').value)
            return false;
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action=&quot;&quot; onsubmit=&quot;return check();&quot;&gt;
    &lt;select name=&quot;&quot; id=&quot;address&quot; onchange=&quot;get_val(this.value)&quot;&gt;
        &lt;option value=&quot;1001&quot;&gt;北京&lt;/option&gt;
        &lt;option value=&quot;1002&quot;&gt;上海&lt;/option&gt;
        &lt;option value=&quot;1003&quot;&gt;深圳&lt;/option&gt;
    &lt;/select&gt;
    &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>


### 5、 onfocus/onblur  获取焦点/失去焦点

输入框获取焦点 的事件

实例:


<pre><code class="language-javascript">&lt;script&gt;
function myFunction(x){
    x.style.background=&quot;yellow&quot;;
}
&lt;/script&gt;

输入你的名字: &lt;input type=&quot;text&quot; onfocus=&quot;myFunction(this)&quot; onblur=&quot;this.style.backgroundColor='red'&quot;&gt;
&lt;p&gt;当输入框获取焦点时，修改背景色（background-color属性） 将被触发。&lt;/p&gt;
</code></pre>


### 6、onmouseover 和 onmouseout 事件

onmouseover 和 onmouseout 事件可用于在用户的鼠标移至 HTML 元素上方或移出元素时触发函数。

实例:


<pre><code class="language-javascript">&lt;div onmouseover=&quot;mOver(this)&quot; onmouseout=&quot;mOut(this)&quot; style=&quot;background-color:#D94A38;width:120px;height:20px;padding:40px;&quot;&gt;Mouse Over Me&lt;/div&gt;
&lt;script&gt;
function mOver(obj){
    obj.innerHTML=&quot;Thank You&quot;
}
function mOut(obj){
    obj.innerHTML=&quot;Mouse Over Me&quot;
}
&lt;/script&gt;
</code></pre>


### 7、onmouseenter 和 onmouseleave 事件

事件可用于在用户的鼠标移至 HTML 元素上方或移出元素时触发函数。

over 和  enter的区别

1. 如果元素没有子元素的时候，效果完全一样

2. 如果元素包含子元素

   当由父元素进入子元素的时候，over会继续触发

   over实际上只要在跨越边界的时候，就会进行触发

+ onmousemove

  鼠标移动

  **实例(包含了onmousemove  onmouseenter.  onmouseover)**

  ```javascript
  <style>
  div {
      width: 100px;
      height: 100px;
      border: 1px solid black;
      margin: 10px;
      float: left;
      padding: 30px;d
      text-align: center;
      background-color: lightgray;
  }
  p {
      background-color: white;
  }
  </style>
  </head>
  <body>
  <h3>该实例演示了 onmousemove, onmouseenter 和 onmouseover 的不同。</h3>
  <p> onmousemove 事件在鼠标移动到 div 元素上时触发。</p>
  <p> mouseenter 事件中有在鼠标指针进入 div 元素时触发。 </p>
  <p> onmouseover 事件在鼠标指针进入 div 元素时触发,在子元素上也会触发(p 和 span)。</p>
  <div onmousemove="myMoveFunction()">
    <p>onmousemove: <br> <span id="demo">鼠标移动到我这!</span></p>
  </div>
  <div onmouseenter="myEnterFunction()">
    <p>onmouseenter: <br> <span id="demo2">鼠标移动到我这!</span></p>
  </div>
  <div onmouseover="myOverFunction()">
    <p>onmouseover: <br> <span id="demo3">鼠标移动到我这!</span></p>
  </div>
  <script>
  x = 0;
  y = 0;
  z = 0;
  function myMoveFunction() {
      document.getElementById("demo").innerHTML = z+=1;
  }
  function myEnterFunction() {
      document.getElementById("demo2").innerHTML = x+=1;
  }
  function myOverFunction() {
      document.getElementById("demo3").innerHTML = y+=1;
  }
  </script>
  ```

### 8、onmousedown、onmouseup 以及 onclick 事件

onmousedown, onmouseup 以及 onclick 构成了鼠标点击事件的所有部分。首先当点击鼠标按钮时，会触发 onmousedown 事件，当释放鼠标按钮时，会触发 onmouseup 事件，最后，当完成鼠标点击时，会触发 onclick 事件。

实例:


<pre><code class="language-javascript">&lt;p onmousedown=&quot;this.innerHTML='mousedown'&quot; onmouseup=&quot;this.innerHTML='out了'&quot;&gt;点击&lt;/p&gt;
</code></pre>



<pre><code class="language-javascript">&lt;h1 onclick=&quot;console.log(this)&quot; onmousedown=&quot;console.log('over')&quot; onmouseup=&quot;console.log('up')&quot;&gt;点击文本!&lt;/h1&gt;
</code></pre>


### 9、事件对象 event(隐藏参数)

鼠标事件

screenX:鼠标位置相对于用户屏幕水平偏移量

screenY也就是垂直方向的

clientX:跟screenX相比就是将参照点改成了浏览器内容区域的左上角 

clientY: 浏览器可视区域的y坐标 不会随着滚动条的滚动而滚动

pageX：参照点也是浏览器内容区域的左上角

pageY: 浏览器内容区域的y坐标  会随着滚动条的滚动而滚动

offsetX: 鼠标点击的元素位置距离元素左边界的x坐标

offsetY: 鼠标点击的元素位置距离元素上边界的y坐标

例如: 


<pre><code class="language-javascript">document.onmousedown= function(evt) {
       var e = evt ; 
       console.log(e.clientX + ',' + e.clientY); 
       console.log(e.screenX + ',' + e.screenY);
       console.log(e.pageX + “,” + e.pageY);
};
</code></pre>


### 10、键盘事件

+ onkeydown  键盘按住不放会一直触发  任意键
+ onkeypress  键盘按住不放会一直触发   字符键
+ onkeyup：当用户释放键盘上的某个键触发。

键码 : keyCode属性

​      所有按键(包括功能键control, alt,shift, tab, 方向键等, 不包括亮度,音量..的按键)在发生 keydown和keyup 事件时，event对象的 keyCode属性中会包含一个代码，与键盘上一个特定的键对应。对数字字母字符集，keyCode属性的值与 ASCII 码中对应.


<pre><code class="language-javascript">document.onkeydown = function(evt) { 
    var e = evt ;
    console.log(e.keyCode);  //按任意键，得到相应的 keyCode 
    String.fromCharCode(e.keyCode) //获对应字符
};
</code></pre>


注意: 大写字母或小写的编码相同, 都为大写字母。

字符编码: charCode属性

​      Firefox,Chrome和Safari的event对象支持charCode属性,只有按下字符键并且使用keypress事件时才会得到charCode,这个charCode的值和UniCode码对应,和keyCode也类似,但是charCode的字母区分大小写.(字符键:数字,字母(区分大小写),字符,空格,回车)

**实例**


<pre><code class="language-javascript">document.onkeypress =function(evt) { 
      var e= evt ;
      console.log(e.charCode);

}
</code></pre>


注：可以使用String.fromCharCode()将 Unicode编码转换成实际的字符

### 11、HTML DOM EventListener  事件监听

可以对一个element绑定多个同样的事件  且不会被覆盖

+ addEventListener() 方法

  语法

  ##### *element*.addEventListener(*event, function, useCapture*);

  第一个参数是事件的类型 (如 "click" 或 "mousedown"). 

  第二个参数是事件触发后调用的函数。 

  第三个参数是个布尔值用于描述事件是冒泡还是捕获。该参数是可选的。

  + 实例:

  在用户点击按钮时触发监听事件：

  ```javascript
  //使用函数名，来引用外部函数:
  <p>该实例使用 addEventListener() 方法在按钮中添加点击事件。 </p>
  <button id="myBtn">点我</button>
  <p id="demo"></p>
  <script>
    document.getElementById("myBtn").addEventListener("click", displayDate);
    function displayDate() {
        document.getElementById("demo").innerHTML = Date();
    }
  </script>
  //直接添加函数体
  element.addEventListener("click", function(){ alert("Hello World!"); });

  //不使用事件监听的情况
  window.onload = function(){ 
   var btn = document.getElementById("myBtn"); 
   btn.onclick = function(){ 
    alert("第一个事件"); 
   } 
   btn.onclick = function(){ 
    alert("第二个事件"); 
   } 
   btn.onclick = function(){ 
    alert("第三个事件"); 
   } 
  }
  最后只输出：第三个事件，因为后一个方法都把前一个方法覆盖掉了
  ```

+ 向同一个元素中添加多个事件句柄

  注意:不要使用 "on" 前缀。 例如，使用 "click" ,而不是使用 "onclick"。

  addEventListener() 方法允许向同一个元素添加多个事件，且不会覆盖已存在的事件：

  + 实例

    ```javascript
    element.addEventListener("click", myFunction);
    element.addEventListener("click", mySecondFunction);
    ```

    你可以向同个元素添加不同类型的事件：

  + 实例

    ```javascript
    element.addEventListener("mouseover", myFunction);
    element.addEventListener("click", mySecondFunction);
    element.addEventListener("mouseout", myThirdFunction);
    ```

+ 向 Window 对象添加事件句柄

  addEventListener() 方法允许你在 HTML DOM 对象添加事件监听， HTML DOM 对象如： HTML 元素, HTML 文档, window 对象。或者其他支出的事件对象如: xmlHttpRequest 对象。
  + 实例

  当用户重置窗口大小时添加事件监听：

  ```javascript
  window.addEventListener("resize", function(){
  document.getElementById("demo").innerHTML = document.body.scrollWidth+''+document.body.scrollHeight;
  });
  ```

+ 传递参数

当传递参数值时，使用"匿名函数"调用带参数的函数：


<pre><code class="language-javascript">&lt;button id=&quot;myBtn&quot;&gt;点我&lt;/button&gt;
&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;
&lt;script&gt;
var p1 = 5;
var p2 = 7;
document.getElementById(&quot;myBtn&quot;).addEventListener(&quot;click&quot;, function() {
    myFunction(p1, p2);
});
function myFunction(a, b) {
    var result = a * b;
    document.getElementById(&quot;demo&quot;).innerHTML = result;
}
&lt;/script&gt;
</code></pre>


+ 事件冒泡或事件捕获？

事件传递有两种方式：冒泡与捕获。

事件传递定义了元素事件触发的顺序。 如果你将\<p> 元素插入到 \<div> 元素中，用户点击 \<p> 元素, 哪个元素的 "click" 事件先被触发呢？

在 *冒泡*  中，内部元素的事件会先被触发，然后再触发外部元素，即：\<p> 元素的点击事件先触发，然后会触发 \<div> 元素的点击事件。

在  *捕获* 中，外部元素的事件会先被触发，然后才会触发内部元素的事件，即： \<div> 元素的点击事件先触发 ，然后再触发 \<p> 元素的点击事件。

addEventListener() 方法可以指定 "useCapture" 参数来设置传递类型：

addEventListener(*event*, *function*, *useCapture*);

默认值为 false, 即冒泡传递，当值为 true 时, 事件使用捕获传递。

实例:


<pre><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;style&gt;
div {
    background-color: coral;
    border: 1px solid;
    padding: 50px;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;实例演示了在添加不同事件监听时，冒泡与捕获的不同。&lt;/p&gt;
&lt;div id=&quot;myDiv&quot;&gt;
    &lt;p id=&quot;myP&quot;&gt;点击段落，我是冒泡。&lt;/p&gt;
&lt;/div&gt;&lt;br&gt;
&lt;div id=&quot;myDiv2&quot;&gt;
    &lt;p id=&quot;myP2&quot;&gt;点击段落，我是捕获。 &lt;/p&gt;
&lt;/div&gt;
&lt;script&gt;
  document.getElementById(&quot;myP&quot;).addEventListener(&quot;click&quot;, function() {
      alert(&quot;你点击了 P 元素!&quot;);
  }, false);
  document.getElementById(&quot;myDiv&quot;).addEventListener(&quot;click&quot;, function() {
      alert(&quot; 你点击了 DIV 元素 !&quot;);
  }, false);
  document.getElementById(&quot;myP2&quot;).addEventListener(&quot;click&quot;, function() {
      alert(&quot;你点击了 P2 元素!&quot;);
  }, true);
  document.getElementById(&quot;myDiv2&quot;).addEventListener(&quot;click&quot;, function() {
      alert(&quot;你点击了 DIV2 元素 !&quot;);
  }, true);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>


组织当标签嵌套时候的冒泡扩散


<pre><code class="language-javascript">   &lt;script&gt;
        onload = function () {
            var divOne = document.getElementById('div_one');
            var divTwo = document.getElementById('div_two');
            divOne.style.cssText = 'width:100%;height:400px;background-color:red;';
            divTwo.style.cssText = 'width:100%;height:200px;background-color:green;';
            divOne.addEventListener('click',function (evt) {
                console.log('红')
            })
            divTwo.addEventListener('click',function (evt) {
                console.log('绿')
                evt.stopPropagation();//阻止扩散
            })
        };
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;div_one&quot;&gt;
    &lt;div id=&quot;div_two&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>


+ removeEventListener() 方法

  removeEventListener() 方法移除由 addEventListener() 方法添加的事件句柄:

  *element*.removeEventListener("mousemove", myFunction);

  实例

  ```javascript
  <!DOCTYPE html>
  <html>
  <head>
  <meta charset="utf-8">
  </head>
  <head>
  <style>
  #myDIV {
      background-color: coral;
      border: 1px solid;
      padding: 50px;
      color: white;
  }
  </style>
  </head>
  <body>

  <div id="myDIV"> div 元素添加了 onmousemove 事件句柄，鼠标在桔红色的框内移动时会显示随机数。
    <p>点击按钮移除 DIV 的事件句柄。</p>
    <button onclick="removeHandler()" id="myBtn">点我</button>
  </div>
  <p id="demo"></p>
  <script>
  document.getElementById("myDIV").addEventListener("mousemove", myFunction);
  function myFunction() {
      document.getElementById("demo").innerHTML = Math.random();
        document.getElementById("demo").style.backgroundColor = 'rgb('+Math.floor(255*Math.random())+','+Math.floor(255*Math.random())+','+Math.floor(255*Math.random());
  }
  function removeHandler() {
      document.getElementById("myDIV").removeEventListener("mousemove", myFunction);
  }
  </script>
  </body>
  </html>
  ```



### 12、HTML DOM 元素(节点)

创建新的 HTML 元素

如需向 HTML DOM 添加新元素，您必须首先创建该元素（元素节点），然后向一个已存在的元素追加该元素。 

1. 创建节点

   document.createElement('标签名')

2. 创建文本节点

   document.createTextNode("文本内容")

3. 添加节点

   节点名.appendChild("node")

   或者

   节点名.innerText = '文本的内容';

4. 从父元素中删除子元素

   parent.removeChild(child);

   例如:

   var child=document.getElementById("p1");
   child.parentNode.removeChild(child);

   ul.removeChild(ul.lastElementChild);//删除节点

5. cloneNode() 方法

   定义和用法

   cloneNode() 方法创建节点的拷贝，并返回该副本。

   cloneNode(true) 方法克隆所有属性以及它们的值。

   如果您需要克隆所有后代，请把 deep 参数设置 true，否则设置为 false。

   **实例**

   ```javascript
   <ul>
       <li>1</li>
       <li>2</li>
       <li>3</li>
       <li>4</li>
   </ul>
   <hr>
   <ul>
   </ul>
   <script>
       var node = document.getElementsByTagName('ul')[0];
       var node1 = document.getElementsByTagName('ul')[1];
       var newLi = document.createElement('li')
       newLi.innerText = '新的'
       l = node.children.length;
       for(var i=0;i<l;i++){
           var x = node.children[i].cloneNode(true);
           node1.appendChild(x)
       }
   </script>
   ```



6. element.replaceChild() 替换元素中的子节点

   ```javascript
   document.getElementById("myList").replaceChild(newnode,oldnode);
   ```
   **实例**

   ```javascript
   document.getElementById("ul").replaceChild(document.getElementsByTagName('li')[1]
           ,document.getElementsByTagName('li')[0]);
   ```



7. 获取父节点

   node.parentNode

8. 获取父类的第一个节点/最后一个

   node.parentNode.firstChild      如果父类换行才是第一个子标签 那么会是空白

   node.parentNode.lastChild      获取最后一个节点

   ```javascript
   firstChild//第一个HTML存在换行则会获取空白节点
   lastChild//最后一个HTML存在换行则会获取空白节点
   firstElementChild  
   lastElementChild  
   ```

   注意:因为第一个是空白节点 原因是 代码换行 如果不换行第一个就是正常的标签

9. 前一个同胞节点

   previousSibling   如果前一个HTML存在换行则会获取空白节点

   previousElementSibling  前一个兄弟节点是否换行不会造成影响

   注释：如果没有 previousSibling 节点，则返回值是 null。

10. 后一个同胞节点

 nextElementSibling   后一个兄弟节点是否换行不会造成影响

11. 获取所有子节点

    node.children

12. 返回元素的标签名。

    element.tagName

13. 从元素中移除指定属性

    removeAttribute(name)

    ```javascript
    console.log(document.getElementById("ul").removeAttribute('id'));
    ```

14. 在指定的已有的子节点之前插入新节点。

    element.insertBefore(新的节点,插入节点的位置)

    ```javascript
    <ul id="myList"><li>Coffee</li><li>Tea</li></ul>
    <p id="demo">请点击按钮向列表插入一个项目。</p>
    <button onclick="myFunction()">试一下</button>
    <script>
      function myFunction()
      {
      var newItem=document.createElement("LI")
      var textnode=document.createTextNode("Water")
      newItem.appendChild(textnode)

      var list=document.getElementById("myList")
      list.insertBefore(newItem,list.childNodes[0]);
      }
    </script>
    ```

节点添加


实例


<pre><code class="language-javascript">&lt;div id=&quot;div1&quot;&gt;
  &lt;p id=&quot;p1&quot;&gt;这是一个段落。&lt;/p&gt;
  &lt;p id=&quot;p2&quot;&gt;这是另一个段落。&lt;/p&gt;
&lt;/div&gt;
&lt;script&gt;
  var para=document.createElement(&quot;p&quot;);
  var node=document.createTextNode(&quot;这是一个新段落。&quot;);
  para.appendChild(node);
  var element=document.getElementById(&quot;div1&quot;);
  element.appendChild(para);
&lt;/script&gt;
</code></pre>




## 五、JavaScript 表单验证(了解)

**说明：**JavaScript 可用来在数据被送往服务器前对 HTML 表单中的这些输入数据进行验证。

### (1) 必填（或必选）项目

下面的函数用来检查用户是否已填写表单中的必填（或必选）项目。假如必填或必选项为空，那么警告框会弹出，并且函数的返回值为 false，否则函数的返回值则为 true（意味着数据没有问题）：


<pre><code class="language-javascript">function validateForm()
{
  var x=document.forms[&quot;myForm&quot;][&quot;fname&quot;].value;
  或者  
  document['myForm'].fname.value
  if (x==null || x==&quot;&quot;)
  {
    alert(&quot;姓必须填写&quot;);
    return false;
  }
}
</code></pre>


以上函数在 form 表单提交时被调用:

**实例**


<pre><code class="language-html">&lt;form name=&quot;myForm&quot; action=&quot;demo-form.php&quot; onsubmit=&quot;return validateForm()&quot; method=&quot;post&quot;&gt;姓: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;&lt;/form&gt;
或者
&lt;input type=&quot;submit&quot; value=&quot;提交&quot; onclick=&quot;return 函数名();&quot;&gt;
function 函数名(){
  return false;
}
</code></pre>


### (2)E-mail 验证

下面的函数检查输入的数据是否符合电子邮件地址的基本语法。

意思就是说，输入的数据必须包含 @ 符号和点号(.)。同时，@ 不可以是邮件地址的首字符，并且 @ 之后需有至少一个点号：


<pre><code class="language-javascript">function validateForm(){
  var x=document.forms[&quot;myForm&quot;][&quot;email&quot;].value;
  var atpos=x.indexOf(&quot;@&quot;);
  var dotpos=x.lastIndexOf(&quot;.&quot;);
  if (atpos&lt;1 || dotpos&lt;atpos+2 || dotpos+2&gt;=x.length){
    alert(&quot;不是一个有效的 e-mail 地址&quot;);
    return false;
  }
}
</code></pre>


下面是连同 HTML 表单的完整代码：

实例


<pre><code class="language-html">&lt;form name=&quot;myForm&quot; action=&quot;demo-form.php&quot; onsubmit=&quot;return validateForm();&quot; method=&quot;post&quot;&gt;
    Email: &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;
    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
</code></pre>


### (3)表单常用属性

1. required="required"     规定输入元素字段是必需的

2. autofocus                       自动获取焦点

3. \<input> pattern 属性

   pattern 属性描述了一个正则表达式用于验证 <input> 元素的值。

   **注意:**pattern 属性适用于以下类型的 <input> 标签: text, search, url, tel, email, 和 password.

   **提示：** 是用来全局 [title](http://www.runoob.com/tags/tag-title.html) 属性描述了模式.

   ```html
   <input type="text" name="country_code" pattern="[A-Za-z]{3}" title="Three letter country code">
   ```

### (4)验证表单实例


<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
    &lt;script&gt;
        //return false 可以阻止表单的提交
        function myCheck() {
            //验证用户名
            var myform = document.forms['myform']['username'].value;
            var userNameBool = Boolean(myform.match(/^1[3-8][0-9]{9}$/))
            if(!userNameBool){
                var span = document.createElement('span');
                var text = document.createTextNode('请输入正确的用户名')
                span.style.color = &quot;red&quot;;
                span.appendChild(text)
                userNameP = document.forms['myform']['username'].parentNode;//获取当前用户名的父节点p标签
                if(userNameP.lastChild.tagName!='SPAN'){
                    userNameP.appendChild(span);
                }
                return false;
            }

        }
        //当鼠标获取到username文本框的时候 调用的方法 如果存在最后一个提示信息的span则进行移除
        function myUserNameFocuc(obj){
            if(obj.parentNode.lastChild.tagName=='SPAN'){
                obj.parentNode.removeChild(obj.parentNode.lastChild);
            }
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action=&quot;&quot; name=&quot;myform&quot; method=&quot;post&quot; onsubmit=&quot;return myCheck();&quot;&gt;
    &lt;p&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; onfocus=&quot;myUserNameFocuc(this)&quot; autofocus&gt;用户名&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;password&quot; name=&quot;userpassword&quot;&gt;密码&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;text&quot;  pattern=&quot;[A-Za-z]{3}&quot;&gt;&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>


### (5) 超链接提交表单


<pre><code class="language-javascript">&lt;form name='form1' action='1111.html' method='get'&gt;
    &lt;input type='hidden' name='page' value='1'/&gt;
    &lt;input type='hidden' name='hiddenA' value='A'/&gt;
    &lt;a href='javascript:document[&quot;form1&quot;].submit();'&gt;&lt;font color='#000000'&gt;首页&lt;/font&gt;&lt;/a&gt;
&lt;/form&gt;
</code></pre>


lucky出品 必属精品















</p>


</section>
</div> <!-- end of search-noresults -->
<div class="search-results">
<div class="has-results">

<h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
<ul class="search-results-list"></ul>

</div> <!-- end of has-results -->
<div class="no-results">

<h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>

</div> <!-- end of no-results -->
</div> <!-- end of search-results -->
</div> <!-- end of book-search-results -->

</div> <!-- end of page-inner -->
</div> <!-- end of page-wrapper -->

</div> <!-- end of body-inner -->

</div> <!-- end of book-body -->
<script src="./js/main.js"></script>
<script src="search/main.js"></script>
<script src="./js/gitbook.min.js"></script>
<script src="./js/theme.min.js"></script>
</body>
</html>